(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var yM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var i4={exports:{}},WS={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV;function Xhe(){if(EV)return WS;EV=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:r,type:n,key:s,ref:a!==void 0?a:null,props:i}}return WS.Fragment=e,WS.jsx=t,WS.jsxs=t,WS}var MV;function qhe(){return MV||(MV=1,i4.exports=Xhe()),i4.exports}var D=qhe(),s4={exports:{}},Xr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CV;function Zhe(){if(CV)return Xr;CV=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;function d(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(W,j,J){this.props=W,this.context=j,this.refs=m,this.updater=J||v}y.prototype.isReactComponent={},y.prototype.setState=function(W,j){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,j,"setState")},y.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function b(){}b.prototype=y.prototype;function S(W,j,J){this.props=W,this.context=j,this.refs=m,this.updater=J||v}var A=S.prototype=new b;A.constructor=S,g(A,y.prototype),A.isPureReactComponent=!0;var E=Array.isArray;function M(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function I(W,j,J){var ee=J.ref;return{$$typeof:r,type:W,key:j,ref:ee!==void 0?ee:null,props:J}}function O(W,j){return I(W.type,j,W.props)}function P(W){return typeof W=="object"&&W!==null&&W.$$typeof===r}function k(W){var j={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(J){return j[J]})}var U=/\/+/g;function F(W,j){return typeof W=="object"&&W!==null&&W.key!=null?k(""+W.key):j.toString(36)}function q(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(M,M):(W.status="pending",W.then(function(j){W.status==="pending"&&(W.status="fulfilled",W.value=j)},function(j){W.status==="pending"&&(W.status="rejected",W.reason=j)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function H(W,j,J,ee,ae){var ce=typeof W;(ce==="undefined"||ce==="boolean")&&(W=null);var me=!1;if(W===null)me=!0;else switch(ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch(W.$$typeof){case r:case e:me=!0;break;case u:return me=W._init,H(me(W._payload),j,J,ee,ae)}}if(me)return ae=ae(W),me=ee===""?"."+F(W,0):ee,E(ae)?(J="",me!=null&&(J=me.replace(U,"$&/")+"/"),H(ae,j,J,"",function(Me){return Me})):ae!=null&&(P(ae)&&(ae=O(ae,J+(ae.key==null||W&&W.key===ae.key?"":(""+ae.key).replace(U,"$&/")+"/")+me)),j.push(ae)),1;me=0;var Se=ee===""?".":ee+":";if(E(W))for(var we=0;we<W.length;we++)ee=W[we],ce=Se+F(ee,we),me+=H(ee,j,J,ce,ae);else if(we=d(W),typeof we=="function")for(W=we.call(W),we=0;!(ee=W.next()).done;)ee=ee.value,ce=Se+F(ee,we++),me+=H(ee,j,J,ce,ae);else if(ce==="object"){if(typeof W.then=="function")return H(q(W),j,J,ee,ae);throw j=String(W),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return me}function Z(W,j,J){if(W==null)return W;var ee=[],ae=0;return H(W,ee,"","",function(ce){return j.call(J,ce,ae++)}),ee}function X(W){if(W._status===-1){var j=W._result;j=j(),j.then(function(J){(W._status===0||W._status===-1)&&(W._status=1,W._result=J)},function(J){(W._status===0||W._status===-1)&&(W._status=2,W._result=J)}),W._status===-1&&(W._status=0,W._result=j)}if(W._status===1)return W._result.default;throw W._result}var Y=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},re={map:Z,forEach:function(W,j,J){Z(W,function(){j.apply(this,arguments)},J)},count:function(W){var j=0;return Z(W,function(){j++}),j},toArray:function(W){return Z(W,function(j){return j})||[]},only:function(W){if(!P(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return Xr.Activity=f,Xr.Children=re,Xr.Component=y,Xr.Fragment=t,Xr.Profiler=a,Xr.PureComponent=S,Xr.StrictMode=n,Xr.Suspense=l,Xr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Xr.__COMPILER_RUNTIME={__proto__:null,c:function(W){return R.H.useMemoCache(W)}},Xr.cache=function(W){return function(){return W.apply(null,arguments)}},Xr.cacheSignal=function(){return null},Xr.cloneElement=function(W,j,J){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ee=g({},W.props),ae=W.key;if(j!=null)for(ce in j.key!==void 0&&(ae=""+j.key),j)!L.call(j,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&j.ref===void 0||(ee[ce]=j[ce]);var ce=arguments.length-2;if(ce===1)ee.children=J;else if(1<ce){for(var me=Array(ce),Se=0;Se<ce;Se++)me[Se]=arguments[Se+2];ee.children=me}return I(W.type,ae,ee)},Xr.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:i,_context:W},W},Xr.createElement=function(W,j,J){var ee,ae={},ce=null;if(j!=null)for(ee in j.key!==void 0&&(ce=""+j.key),j)L.call(j,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ae[ee]=j[ee]);var me=arguments.length-2;if(me===1)ae.children=J;else if(1<me){for(var Se=Array(me),we=0;we<me;we++)Se[we]=arguments[we+2];ae.children=Se}if(W&&W.defaultProps)for(ee in me=W.defaultProps,me)ae[ee]===void 0&&(ae[ee]=me[ee]);return I(W,ce,ae)},Xr.createRef=function(){return{current:null}},Xr.forwardRef=function(W){return{$$typeof:o,render:W}},Xr.isValidElement=P,Xr.lazy=function(W){return{$$typeof:u,_payload:{_status:-1,_result:W},_init:X}},Xr.memo=function(W,j){return{$$typeof:c,type:W,compare:j===void 0?null:j}},Xr.startTransition=function(W){var j=R.T,J={};R.T=J;try{var ee=W(),ae=R.S;ae!==null&&ae(J,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(M,Y)}catch(ce){Y(ce)}finally{j!==null&&J.types!==null&&(j.types=J.types),R.T=j}},Xr.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Xr.use=function(W){return R.H.use(W)},Xr.useActionState=function(W,j,J){return R.H.useActionState(W,j,J)},Xr.useCallback=function(W,j){return R.H.useCallback(W,j)},Xr.useContext=function(W){return R.H.useContext(W)},Xr.useDebugValue=function(){},Xr.useDeferredValue=function(W,j){return R.H.useDeferredValue(W,j)},Xr.useEffect=function(W,j){return R.H.useEffect(W,j)},Xr.useEffectEvent=function(W){return R.H.useEffectEvent(W)},Xr.useId=function(){return R.H.useId()},Xr.useImperativeHandle=function(W,j,J){return R.H.useImperativeHandle(W,j,J)},Xr.useInsertionEffect=function(W,j){return R.H.useInsertionEffect(W,j)},Xr.useLayoutEffect=function(W,j){return R.H.useLayoutEffect(W,j)},Xr.useMemo=function(W,j){return R.H.useMemo(W,j)},Xr.useOptimistic=function(W,j){return R.H.useOptimistic(W,j)},Xr.useReducer=function(W,j,J){return R.H.useReducer(W,j,J)},Xr.useRef=function(W){return R.H.useRef(W)},Xr.useState=function(W){return R.H.useState(W)},Xr.useSyncExternalStore=function(W,j,J){return R.H.useSyncExternalStore(W,j,J)},Xr.useTransition=function(){return R.H.useTransition()},Xr.version="19.2.0",Xr}var DV;function U_(){return DV||(DV=1,s4.exports=Zhe()),s4.exports}var xe=U_();const An=F_(xe);var o4={exports:{}},YS={},l4={exports:{}},c4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RV;function Khe(){return RV||(RV=1,(function(r){function e(H,Z){var X=H.length;H.push(Z);e:for(;0<X;){var Y=X-1>>>1,re=H[Y];if(0<a(re,Z))H[Y]=Z,H[X]=re,X=Y;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Z=H[0],X=H.pop();if(X!==Z){H[0]=X;e:for(var Y=0,re=H.length,W=re>>>1;Y<W;){var j=2*(Y+1)-1,J=H[j],ee=j+1,ae=H[ee];if(0>a(J,X))ee<re&&0>a(ae,J)?(H[Y]=ae,H[ee]=X,Y=ee):(H[Y]=J,H[j]=X,Y=j);else if(ee<re&&0>a(ae,X))H[Y]=ae,H[ee]=X,Y=ee;else break e}}return Z}function a(H,Z){var X=H.sortIndex-Z.sortIndex;return X!==0?X:H.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,v=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(H){for(var Z=t(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=H)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function E(H){if(g=!1,A(H),!v)if(t(l)!==null)v=!0,M||(M=!0,k());else{var Z=t(c);Z!==null&&q(E,Z.startTime-H)}}var M=!1,R=-1,L=5,I=-1;function O(){return m?!0:!(r.unstable_now()-I<L)}function P(){if(m=!1,M){var H=r.unstable_now();I=H;var Z=!0;try{e:{v=!1,g&&(g=!1,b(R),R=-1),d=!0;var X=h;try{t:{for(A(H),f=t(l);f!==null&&!(f.expirationTime>H&&O());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var re=Y(f.expirationTime<=H);if(H=r.unstable_now(),typeof re=="function"){f.callback=re,A(H),Z=!0;break t}f===t(l)&&n(l),A(H)}else n(l);f=t(l)}if(f!==null)Z=!0;else{var W=t(c);W!==null&&q(E,W.startTime-H),Z=!1}}break e}finally{f=null,h=X,d=!1}Z=void 0}}finally{Z?k():M=!1}}}var k;if(typeof S=="function")k=function(){S(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,F=U.port2;U.port1.onmessage=P,k=function(){F.postMessage(null)}}else k=function(){y(P,0)};function q(H,Z){R=y(function(){H(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_next=function(H){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var X=h;h=Z;try{return H()}finally{h=X}},r.unstable_requestPaint=function(){m=!0},r.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=h;h=H;try{return Z()}finally{h=X}},r.unstable_scheduleCallback=function(H,Z,X){var Y=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Y+X:Y):X=Y,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=X+re,H={id:u++,callback:Z,priorityLevel:H,startTime:X,expirationTime:re,sortIndex:-1},X>Y?(H.sortIndex=X,e(c,H),t(l)===null&&H===t(c)&&(g?(b(R),R=-1):g=!0,q(E,X-Y))):(H.sortIndex=re,e(l,H),v||d||(v=!0,M||(M=!0,k()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var Z=h;return function(){var X=h;h=Z;try{return H.apply(this,arguments)}finally{h=X}}}})(c4)),c4}var NV;function $he(){return NV||(NV=1,l4.exports=Khe()),l4.exports}var u4={exports:{}},ro={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV;function Jhe(){if(IV)return ro;IV=1;var r=U_();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(l,c,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:l,containerInfo:c,implementation:u}}var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return ro.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ro.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return i(l,c,null,u)},ro.flushSync=function(l){var c=s.T,u=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=c,n.p=u,n.d.f()}},ro.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,n.d.C(l,c))},ro.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},ro.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,f=o(u,c.crossOrigin),h=typeof c.integrity=="string"?c.integrity:void 0,d=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?n.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:d}):u==="script"&&n.d.X(l,{crossOrigin:f,integrity:h,fetchPriority:d,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},ro.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=o(c.as,c.crossOrigin);n.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&n.d.M(l)},ro.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,f=o(u,c.crossOrigin);n.d.L(l,u,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},ro.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=o(c.as,c.crossOrigin);n.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else n.d.m(l)},ro.requestFormReset=function(l){n.d.r(l)},ro.unstable_batchedUpdates=function(l,c){return l(c)},ro.useFormState=function(l,c,u){return s.H.useFormState(l,c,u)},ro.useFormStatus=function(){return s.H.useHostTransitionStatus()},ro.version="19.2.0",ro}var LV;function dQ(){if(LV)return u4.exports;LV=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),u4.exports=Jhe(),u4.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OV;function Qhe(){if(OV)return YS;OV=1;var r=$he(),e=U_(),t=dQ();function n(p){var x="https://react.dev/errors/"+p;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)x+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function i(p){var x=p,T=p;if(p.alternate)for(;x.return;)x=x.return;else{p=x;do x=p,(x.flags&4098)!==0&&(T=x.return),p=x.return;while(p)}return x.tag===3?T:null}function s(p){if(p.tag===13){var x=p.memoizedState;if(x===null&&(p=p.alternate,p!==null&&(x=p.memoizedState)),x!==null)return x.dehydrated}return null}function o(p){if(p.tag===31){var x=p.memoizedState;if(x===null&&(p=p.alternate,p!==null&&(x=p.memoizedState)),x!==null)return x.dehydrated}return null}function l(p){if(i(p)!==p)throw Error(n(188))}function c(p){var x=p.alternate;if(!x){if(x=i(p),x===null)throw Error(n(188));return x!==p?null:p}for(var T=p,C=x;;){var B=T.return;if(B===null)break;var V=B.alternate;if(V===null){if(C=B.return,C!==null){T=C;continue}break}if(B.child===V.child){for(V=B.child;V;){if(V===T)return l(B),p;if(V===C)return l(B),x;V=V.sibling}throw Error(n(188))}if(T.return!==C.return)T=B,C=V;else{for(var ne=!1,pe=B.child;pe;){if(pe===T){ne=!0,T=B,C=V;break}if(pe===C){ne=!0,C=B,T=V;break}pe=pe.sibling}if(!ne){for(pe=V.child;pe;){if(pe===T){ne=!0,T=V,C=B;break}if(pe===C){ne=!0,C=V,T=B;break}pe=pe.sibling}if(!ne)throw Error(n(189))}}if(T.alternate!==C)throw Error(n(190))}if(T.tag!==3)throw Error(n(188));return T.stateNode.current===T?p:x}function u(p){var x=p.tag;if(x===5||x===26||x===27||x===6)return p;for(p=p.child;p!==null;){if(x=u(p),x!==null)return x;p=p.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function k(p){return p===null||typeof p!="object"?null:(p=P&&p[P]||p["@@iterator"],typeof p=="function"?p:null)}var U=Symbol.for("react.client.reference");function F(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===U?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case g:return"Fragment";case y:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList";case I:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case v:return"Portal";case S:return p.displayName||"Context";case b:return(p._context.displayName||"Context")+".Consumer";case A:var x=p.render;return p=p.displayName,p||(p=x.displayName||x.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case R:return x=p.displayName||null,x!==null?x:F(p.type)||"Memo";case L:x=p._payload,p=p._init;try{return F(p(x))}catch{}}return null}var q=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},Y=[],re=-1;function W(p){return{current:p}}function j(p){0>re||(p.current=Y[re],Y[re]=null,re--)}function J(p,x){re++,Y[re]=p.current,p.current=x}var ee=W(null),ae=W(null),ce=W(null),me=W(null);function Se(p,x){switch(J(ce,x),J(ae,p),J(ee,null),x.nodeType){case 9:case 11:p=(p=x.documentElement)&&(p=p.namespaceURI)?Z9(p):0;break;default:if(p=x.tagName,x=x.namespaceURI)x=Z9(x),p=K9(x,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}j(ee),J(ee,p)}function we(){j(ee),j(ae),j(ce)}function Me(p){p.memoizedState!==null&&J(me,p);var x=ee.current,T=K9(x,p.type);x!==T&&(J(ae,p),J(ee,T))}function Ve(p){ae.current===p&&(j(ee),j(ae)),me.current===p&&(j(me),VS._currentValue=X)}var de,dt;function K(p){if(de===void 0)try{throw Error()}catch(T){var x=T.stack.trim().match(/\n( *(at )?)/);de=x&&x[1]||"",dt=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+p+dt}var se=!1;function _e(p,x){if(!p||se)return"";se=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(x){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(ut){var ot=ut}Reflect.construct(p,[],Tt)}else{try{Tt.call()}catch(ut){ot=ut}p.call(Tt.prototype)}}else{try{throw Error()}catch(ut){ot=ut}(Tt=p())&&typeof Tt.catch=="function"&&Tt.catch(function(){})}}catch(ut){if(ut&&ot&&typeof ut.stack=="string")return[ut.stack,ot.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var V=C.DetermineComponentFrameRoot(),ne=V[0],pe=V[1];if(ne&&pe){var ke=ne.split(`
`),rt=pe.split(`
`);for(B=C=0;C<ke.length&&!ke[C].includes("DetermineComponentFrameRoot");)C++;for(;B<rt.length&&!rt[B].includes("DetermineComponentFrameRoot");)B++;if(C===ke.length||B===rt.length)for(C=ke.length-1,B=rt.length-1;1<=C&&0<=B&&ke[C]!==rt[B];)B--;for(;1<=C&&0<=B;C--,B--)if(ke[C]!==rt[B]){if(C!==1||B!==1)do if(C--,B--,0>B||ke[C]!==rt[B]){var mt=`
`+ke[C].replace(" at new "," at ");return p.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",p.displayName)),mt}while(1<=C&&0<=B);break}}}finally{se=!1,Error.prepareStackTrace=T}return(T=p?p.displayName||p.name:"")?K(T):""}function oe(p,x){switch(p.tag){case 26:case 27:case 5:return K(p.type);case 16:return K("Lazy");case 13:return p.child!==x&&x!==null?K("Suspense Fallback"):K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return _e(p.type,!1);case 11:return _e(p.type.render,!1);case 1:return _e(p.type,!0);case 31:return K("Activity");default:return""}}function ue(p){try{var x="",T=null;do x+=oe(p,T),T=p,p=p.return;while(p);return x}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var be=Object.prototype.hasOwnProperty,Be=r.unstable_scheduleCallback,ze=r.unstable_cancelCallback,Le=r.unstable_shouldYield,fe=r.unstable_requestPaint,ie=r.unstable_now,Re=r.unstable_getCurrentPriorityLevel,je=r.unstable_ImmediatePriority,it=r.unstable_UserBlockingPriority,Ge=r.unstable_NormalPriority,Bt=r.unstable_LowPriority,pt=r.unstable_IdlePriority,Dt=r.log,Vt=r.unstable_setDisableYieldValue,$e=null,yt=null;function jt(p){if(typeof Dt=="function"&&Vt(p),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode($e,p)}catch{}}var Ne=Math.clz32?Math.clz32:Ie,Ke=Math.log,At=Math.LN2;function Ie(p){return p>>>=0,p===0?32:31-(Ke(p)/At|0)|0}var Et=256,Ct=262144,_t=4194304;function vt(p){var x=p&42;if(x!==0)return x;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return p&261888;case 262144:case 524288:case 1048576:case 2097152:return p&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function ht(p,x,T){var C=p.pendingLanes;if(C===0)return 0;var B=0,V=p.suspendedLanes,ne=p.pingedLanes;p=p.warmLanes;var pe=C&134217727;return pe!==0?(C=pe&~V,C!==0?B=vt(C):(ne&=pe,ne!==0?B=vt(ne):T||(T=pe&~p,T!==0&&(B=vt(T))))):(pe=C&~V,pe!==0?B=vt(pe):ne!==0?B=vt(ne):T||(T=C&~p,T!==0&&(B=vt(T)))),B===0?0:x!==0&&x!==B&&(x&V)===0&&(V=B&-B,T=x&-x,V>=T||V===32&&(T&4194048)!==0)?x:B}function zt(p,x){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&x)===0}function Xt(p,x){switch(p){case 1:case 2:case 4:case 8:case 64:return x+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(){var p=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),p}function Tr(p){for(var x=[],T=0;31>T;T++)x.push(p);return x}function On(p,x){p.pendingLanes|=x,x!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function an(p,x,T,C,B,V){var ne=p.pendingLanes;p.pendingLanes=T,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=T,p.entangledLanes&=T,p.errorRecoveryDisabledLanes&=T,p.shellSuspendCounter=0;var pe=p.entanglements,ke=p.expirationTimes,rt=p.hiddenUpdates;for(T=ne&~T;0<T;){var mt=31-Ne(T),Tt=1<<mt;pe[mt]=0,ke[mt]=-1;var ot=rt[mt];if(ot!==null)for(rt[mt]=null,mt=0;mt<ot.length;mt++){var ut=ot[mt];ut!==null&&(ut.lane&=-536870913)}T&=~Tt}C!==0&&as(p,C,0),V!==0&&B===0&&p.tag!==0&&(p.suspendedLanes|=V&~(ne&~x))}function as(p,x,T){p.pendingLanes|=x,p.suspendedLanes&=~x;var C=31-Ne(x);p.entangledLanes|=x,p.entanglements[C]=p.entanglements[C]|1073741824|T&261930}function Ma(p,x){var T=p.entangledLanes|=x;for(p=p.entanglements;T;){var C=31-Ne(T),B=1<<C;B&x|p[C]&x&&(p[C]|=x),T&=~B}}function li(p,x){var T=x&-x;return T=(T&42)!==0?1:ua(T),(T&(p.suspendedLanes|x))!==0?0:T}function ua(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function is(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function he(){var p=Z.p;return p!==0?p:(p=window.event,p===void 0?32:xV(p.type))}function Te(p,x){var T=Z.p;try{return Z.p=p,x()}finally{Z.p=T}}var ye=Math.random().toString(36).slice(2),ge="__reactFiber$"+ye,Ae="__reactProps$"+ye,De="__reactContainer$"+ye,Je="__reactEvents$"+ye,gt="__reactListeners$"+ye,Qe="__reactHandles$"+ye,tt="__reactResources$"+ye,at="__reactMarker$"+ye;function Rt(p){delete p[ge],delete p[Ae],delete p[Je],delete p[gt],delete p[Qe]}function Lt(p){var x=p[ge];if(x)return x;for(var T=p.parentNode;T;){if(x=T[De]||T[ge]){if(T=x.alternate,x.child!==null||T!==null&&T.child!==null)for(p=nV(p);p!==null;){if(T=p[ge])return T;p=nV(p)}return x}p=T,T=p.parentNode}return null}function le(p){if(p=p[ge]||p[De]){var x=p.tag;if(x===5||x===6||x===13||x===31||x===26||x===27||x===3)return p}return null}function Ce(p){var x=p.tag;if(x===5||x===26||x===27||x===6)return p.stateNode;throw Error(n(33))}function Pe(p){var x=p[tt];return x||(x=p[tt]={hoistableStyles:new Map,hoistableScripts:new Map}),x}function Ue(p){p[at]=!0}var Fe=new Set,wt={};function kt(p,x){Wt(p,x),Wt(p+"Capture",x)}function Wt(p,x){for(wt[p]=x,p=0;p<x.length;p++)Fe.add(x[p])}var qt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pr={},vr={};function hr(p){return be.call(vr,p)?!0:be.call(pr,p)?!1:qt.test(p)?vr[p]=!0:(pr[p]=!0,!1)}function Cr(p,x,T){if(hr(x))if(T===null)p.removeAttribute(x);else{switch(typeof T){case"undefined":case"function":case"symbol":p.removeAttribute(x);return;case"boolean":var C=x.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){p.removeAttribute(x);return}}p.setAttribute(x,""+T)}}function _n(p,x,T){if(T===null)p.removeAttribute(x);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(x);return}p.setAttribute(x,""+T)}}function bn(p,x,T,C){if(C===null)p.removeAttribute(T);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(T);return}p.setAttributeNS(x,T,""+C)}}function hn(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function Gn(p){var x=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function Ar(p,x,T){var C=Object.getOwnPropertyDescriptor(p.constructor.prototype,x);if(!p.hasOwnProperty(x)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var B=C.get,V=C.set;return Object.defineProperty(p,x,{configurable:!0,get:function(){return B.call(this)},set:function(ne){T=""+ne,V.call(this,ne)}}),Object.defineProperty(p,x,{enumerable:C.enumerable}),{getValue:function(){return T},setValue:function(ne){T=""+ne},stopTracking:function(){p._valueTracker=null,delete p[x]}}}}function Qn(p){if(!p._valueTracker){var x=Gn(p)?"checked":"value";p._valueTracker=Ar(p,x,""+p[x])}}function dn(p){if(!p)return!1;var x=p._valueTracker;if(!x)return!0;var T=x.getValue(),C="";return p&&(C=Gn(p)?p.checked?"true":"false":p.value),p=C,p!==T?(x.setValue(p),!0):!1}function qa(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var ou=/[\n"\\]/g;function na(p){return p.replace(ou,function(x){return"\\"+x.charCodeAt(0).toString(16)+" "})}function hc(p,x,T,C,B,V,ne,pe){p.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?p.type=ne:p.removeAttribute("type"),x!=null?ne==="number"?(x===0&&p.value===""||p.value!=x)&&(p.value=""+hn(x)):p.value!==""+hn(x)&&(p.value=""+hn(x)):ne!=="submit"&&ne!=="reset"||p.removeAttribute("value"),x!=null?ci(p,ne,hn(x)):T!=null?ci(p,ne,hn(T)):C!=null&&p.removeAttribute("value"),B==null&&V!=null&&(p.defaultChecked=!!V),B!=null&&(p.checked=B&&typeof B!="function"&&typeof B!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?p.name=""+hn(pe):p.removeAttribute("name")}function aa(p,x,T,C,B,V,ne,pe){if(V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(p.type=V),x!=null||T!=null){if(!(V!=="submit"&&V!=="reset"||x!=null)){Qn(p);return}T=T!=null?""+hn(T):"",x=x!=null?""+hn(x):T,pe||x===p.value||(p.value=x),p.defaultValue=x}C=C??B,C=typeof C!="function"&&typeof C!="symbol"&&!!C,p.checked=pe?p.checked:!!C,p.defaultChecked=!!C,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(p.name=ne),Qn(p)}function ci(p,x,T){x==="number"&&qa(p.ownerDocument)===p||p.defaultValue===""+T||(p.defaultValue=""+T)}function ui(p,x,T,C){if(p=p.options,x){x={};for(var B=0;B<T.length;B++)x["$"+T[B]]=!0;for(T=0;T<p.length;T++)B=x.hasOwnProperty("$"+p[T].value),p[T].selected!==B&&(p[T].selected=B),B&&C&&(p[T].defaultSelected=!0)}else{for(T=""+hn(T),x=null,B=0;B<p.length;B++){if(p[B].value===T){p[B].selected=!0,C&&(p[B].defaultSelected=!0);return}x!==null||p[B].disabled||(x=p[B])}x!==null&&(x.selected=!0)}}function fi(p,x,T){if(x!=null&&(x=""+hn(x),x!==p.value&&(p.value=x),T==null)){p.defaultValue!==x&&(p.defaultValue=x);return}p.defaultValue=T!=null?""+hn(T):""}function Ca(p,x,T,C){if(x==null){if(C!=null){if(T!=null)throw Error(n(92));if(q(C)){if(1<C.length)throw Error(n(93));C=C[0]}T=C}T==null&&(T=""),x=T}T=hn(x),p.defaultValue=T,C=p.textContent,C===T&&C!==""&&C!==null&&(p.value=C),Qn(p)}function Dl(p,x){if(x){var T=p.firstChild;if(T&&T===p.lastChild&&T.nodeType===3){T.nodeValue=x;return}}p.textContent=x}var ol=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xv(p,x,T){var C=x.indexOf("--")===0;T==null||typeof T=="boolean"||T===""?C?p.setProperty(x,""):x==="float"?p.cssFloat="":p[x]="":C?p.setProperty(x,T):typeof T!="number"||T===0||ol.has(x)?x==="float"?p.cssFloat=T:p[x]=(""+T).trim():p[x]=T+"px"}function bb(p,x,T){if(x!=null&&typeof x!="object")throw Error(n(62));if(p=p.style,T!=null){for(var C in T)!T.hasOwnProperty(C)||x!=null&&x.hasOwnProperty(C)||(C.indexOf("--")===0?p.setProperty(C,""):C==="float"?p.cssFloat="":p[C]="");for(var B in x)C=x[B],x.hasOwnProperty(B)&&T[B]!==C&&xv(p,B,C)}else for(var V in x)x.hasOwnProperty(V)&&xv(p,V,x[V])}function _v(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var QA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bv(p){return eE.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}function dc(){}var Sv=null;function Ty(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var kh=null,ff=null;function Sb(p){var x=le(p);if(x&&(p=x.stateNode)){var T=p[Ae]||null;e:switch(p=x.stateNode,x.type){case"input":if(hc(p,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name),x=T.name,T.type==="radio"&&x!=null){for(T=p;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll('input[name="'+na(""+x)+'"][type="radio"]'),x=0;x<T.length;x++){var C=T[x];if(C!==p&&C.form===p.form){var B=C[Ae]||null;if(!B)throw Error(n(90));hc(C,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(x=0;x<T.length;x++)C=T[x],C.form===p.form&&dn(C)}break e;case"textarea":fi(p,T.value,T.defaultValue);break e;case"select":x=T.value,x!=null&&ui(p,!!T.multiple,x,!1)}}}var Ay=!1;function wb(p,x,T){if(Ay)return p(x,T);Ay=!0;try{var C=p(x);return C}finally{if(Ay=!1,(kh!==null||ff!==null)&&(ve(),kh&&(x=kh,p=ff,ff=kh=null,Sb(x),p)))for(x=0;x<p.length;x++)Sb(p[x])}}function Ph(p,x){var T=p.stateNode;if(T===null)return null;var C=T[Ae]||null;if(C===null)return null;T=C[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(p=p.type,C=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!C;break e;default:p=!1}if(p)return null;if(T&&typeof T!="function")throw Error(n(231,x,typeof T));return T}var pc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ey=!1;if(pc)try{var wv={};Object.defineProperty(wv,"passive",{get:function(){Ey=!0}}),window.addEventListener("test",wv,wv),window.removeEventListener("test",wv,wv)}catch{Ey=!1}var hf=null,My=null,df=null;function Cy(){if(df)return df;var p,x=My,T=x.length,C,B="value"in hf?hf.value:hf.textContent,V=B.length;for(p=0;p<T&&x[p]===B[p];p++);var ne=T-p;for(C=1;C<=ne&&x[T-C]===B[V-C];C++);return df=B.slice(p,1<C?1-C:void 0)}function Bh(p){var x=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&x===13&&(p=13)):p=x,p===10&&(p=13),32<=p||p===13?p:0}function Tv(){return!0}function Tb(){return!1}function ss(p){function x(T,C,B,V,ne){this._reactName=T,this._targetInst=B,this.type=C,this.nativeEvent=V,this.target=ne,this.currentTarget=null;for(var pe in p)p.hasOwnProperty(pe)&&(T=p[pe],this[pe]=T?T(V):V[pe]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?Tv:Tb,this.isPropagationStopped=Tb,this}return f(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=Tv)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=Tv)},persist:function(){},isPersistent:Tv}),x}var pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Av=ss(pf),Rl=f({},pf,{view:0,detail:0}),Dy=ss(Rl),Ry,Ev,dp,Mv=f({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dv,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==dp&&(dp&&p.type==="mousemove"?(Ry=p.screenX-dp.screenX,Ev=p.screenY-dp.screenY):Ev=Ry=0,dp=p),Ry)},movementY:function(p){return"movementY"in p?p.movementY:Ev}}),tE=ss(Mv),Bi=f({},Mv,{dataTransfer:0}),rE=ss(Bi),nE=f({},Rl,{relatedTarget:0}),Ny=ss(nE),aE=f({},pf,{animationName:0,elapsedTime:0,pseudoElement:0}),iE=ss(aE),Cv=f({},pf,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Ab=ss(Cv),sE=f({},pf,{data:0}),Eb=ss(sE),oE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lE(p){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(p):(p=Cb[p])?!!x[p]:!1}function Dv(){return lE}var Db=f({},Rl,{key:function(p){if(p.key){var x=oE[p.key]||p.key;if(x!=="Unidentified")return x}return p.type==="keypress"?(p=Bh(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Mb[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dv,charCode:function(p){return p.type==="keypress"?Bh(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Bh(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Rb=ss(Db),cE=f({},Mv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iy=ss(cE),uE=f({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dv}),lu=ss(uE),Nb=f({},pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),TL=ss(Nb),fE=f({},Mv,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),vf=ss(fE),cu=f({},pf,{newState:0,oldState:0}),Ib=ss(cu),Lb=[9,13,27,32],zh=pc&&"CompositionEvent"in window,gf=null;pc&&"documentMode"in document&&(gf=document.documentMode);var Fh=pc&&"TextEvent"in window&&!gf,zi=pc&&(!zh||gf&&8<gf&&11>=gf),Rv=" ",Ob=!1;function Ly(p,x){switch(p){case"keyup":return Lb.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var mf=!1;function Oy(p,x){switch(p){case"compositionend":return pp(x);case"keypress":return x.which!==32?null:(Ob=!0,Rv);case"textInput":return p=x.data,p===Rv&&Ob?null:p;default:return null}}function hE(p,x){if(mf)return p==="compositionend"||!zh&&Ly(p,x)?(p=Cy(),df=My=hf=null,mf=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return zi&&x.locale!=="ko"?null:x.data;default:return null}}var Ao={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kb(p){var x=p&&p.nodeName&&p.nodeName.toLowerCase();return x==="input"?!!Ao[p.type]:x==="textarea"}function ky(p,x,T,C){kh?ff?ff.push(C):ff=[C]:kh=C,x=nM(x,"onChange"),0<x.length&&(T=new Av("onChange","change",null,T,C),p.push({event:T,listeners:x}))}var vp=null,gp=null;function Pb(p){G9(p,0)}function mp(p){var x=Ce(p);if(dn(x))return p}function Bb(p,x){if(p==="change")return x}var Nv=!1;if(pc){var Uh;if(pc){var ya="oninput"in document;if(!ya){var dE=document.createElement("div");dE.setAttribute("oninput","return;"),ya=typeof dE.oninput=="function"}Uh=ya}else Uh=!1;Nv=Uh&&(!document.documentMode||9<document.documentMode)}function pE(){vp&&(vp.detachEvent("onpropertychange",zb),gp=vp=null)}function zb(p){if(p.propertyName==="value"&&mp(gp)){var x=[];ky(x,gp,p,Ty(p)),wb(Pb,x)}}function Iv(p,x,T){p==="focusin"?(pE(),vp=x,gp=T,vp.attachEvent("onpropertychange",zb)):p==="focusout"&&pE()}function yf(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return mp(gp)}function vE(p,x){if(p==="click")return mp(x)}function gE(p,x){if(p==="input"||p==="change")return mp(x)}function Vh(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var xa=typeof Object.is=="function"?Object.is:Vh;function yp(p,x){if(xa(p,x))return!0;if(typeof p!="object"||p===null||typeof x!="object"||x===null)return!1;var T=Object.keys(p),C=Object.keys(x);if(T.length!==C.length)return!1;for(C=0;C<T.length;C++){var B=T[C];if(!be.call(x,B)||!xa(p[B],x[B]))return!1}return!0}function Fb(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Ub(p,x){var T=Fb(p);p=0;for(var C;T;){if(T.nodeType===3){if(C=p+T.textContent.length,p<=x&&C>=x)return{node:T,offset:x-p};p=C}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=Fb(T)}}function Py(p,x){return p&&x?p===x?!0:p&&p.nodeType===3?!1:x&&x.nodeType===3?Py(p,x.parentNode):"contains"in p?p.contains(x):p.compareDocumentPosition?!!(p.compareDocumentPosition(x)&16):!1:!1}function By(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var x=qa(p.document);x instanceof p.HTMLIFrameElement;){try{var T=typeof x.contentWindow.location.href=="string"}catch{T=!1}if(T)p=x.contentWindow;else break;x=qa(p.document)}return x}function xp(p){var x=p&&p.nodeName&&p.nodeName.toLowerCase();return x&&(x==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||x==="textarea"||p.contentEditable==="true")}var mE=pc&&"documentMode"in document&&11>=document.documentMode,_p=null,zy=null,bp=null,Eo=!1;function Fy(p,x,T){var C=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;Eo||_p==null||_p!==qa(C)||(C=_p,"selectionStart"in C&&xp(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),bp&&yp(bp,C)||(bp=C,C=nM(zy,"onSelect"),0<C.length&&(x=new Av("onSelect","select",null,x,T),p.push({event:x,listeners:C}),x.target=_p)))}function xf(p,x){var T={};return T[p.toLowerCase()]=x.toLowerCase(),T["Webkit"+p]="webkit"+x,T["Moz"+p]="moz"+x,T}var Sp={animationend:xf("Animation","AnimationEnd"),animationiteration:xf("Animation","AnimationIteration"),animationstart:xf("Animation","AnimationStart"),transitionrun:xf("Transition","TransitionRun"),transitionstart:xf("Transition","TransitionStart"),transitioncancel:xf("Transition","TransitionCancel"),transitionend:xf("Transition","TransitionEnd")},Lv={},As={};pc&&(As=document.createElement("div").style,"AnimationEvent"in window||(delete Sp.animationend.animation,delete Sp.animationiteration.animation,delete Sp.animationstart.animation),"TransitionEvent"in window||delete Sp.transitionend.transition);function _f(p){if(Lv[p])return Lv[p];if(!Sp[p])return p;var x=Sp[p],T;for(T in x)if(x.hasOwnProperty(T)&&T in As)return Lv[p]=x[T];return p}var Ws=_f("animationend"),Vb=_f("animationiteration"),vc=_f("animationstart"),wp=_f("transitionrun"),bf=_f("transitionstart"),Hb=_f("transitioncancel"),Uy=_f("transitionend"),uu=new Map,Vy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vy.push("scrollEnd");function os(p,x){uu.set(p,x),kt(x,[p])}var Sf=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var x=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(x))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},wi=[],Hh=0,Hy=0;function wf(){for(var p=Hh,x=Hy=Hh=0;x<p;){var T=wi[x];wi[x++]=null;var C=wi[x];wi[x++]=null;var B=wi[x];wi[x++]=null;var V=wi[x];if(wi[x++]=null,C!==null&&B!==null){var ne=C.pending;ne===null?B.next=B:(B.next=ne.next,ne.next=B),C.pending=B}V!==0&&Gy(T,B,V)}}function Ov(p,x,T,C){wi[Hh++]=p,wi[Hh++]=x,wi[Hh++]=T,wi[Hh++]=C,Hy|=C,p.lanes|=C,p=p.alternate,p!==null&&(p.lanes|=C)}function Tp(p,x,T,C){return Ov(p,x,T,C),Ap(p)}function Tf(p,x){return Ov(p,null,null,x),Ap(p)}function Gy(p,x,T){p.lanes|=T;var C=p.alternate;C!==null&&(C.lanes|=T);for(var B=!1,V=p.return;V!==null;)V.childLanes|=T,C=V.alternate,C!==null&&(C.childLanes|=T),V.tag===22&&(p=V.stateNode,p===null||p._visibility&1||(B=!0)),p=V,V=V.return;return p.tag===3?(V=p.stateNode,B&&x!==null&&(B=31-Ne(T),p=V.hiddenUpdates,C=p[B],C===null?p[B]=[x]:C.push(x),x.lane=T|536870912),V):null}function Ap(p){if(50<id)throw id=0,sd=null,Error(n(185));for(var x=p.return;x!==null;)p=x,x=p.return;return p.tag===3?p.stateNode:null}var Af={};function yE(p,x,T,C){this.tag=p,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(p,x,T,C){return new yE(p,x,T,C)}function Ms(p){return p=p.prototype,!(!p||!p.isReactComponent)}function gc(p,x){var T=p.alternate;return T===null?(T=Es(p.tag,x,p.key,p.mode),T.elementType=p.elementType,T.type=p.type,T.stateNode=p.stateNode,T.alternate=p,p.alternate=T):(T.pendingProps=x,T.type=p.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=p.flags&65011712,T.childLanes=p.childLanes,T.lanes=p.lanes,T.child=p.child,T.memoizedProps=p.memoizedProps,T.memoizedState=p.memoizedState,T.updateQueue=p.updateQueue,x=p.dependencies,T.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},T.sibling=p.sibling,T.index=p.index,T.ref=p.ref,T.refCleanup=p.refCleanup,T}function ls(p,x){p.flags&=65011714;var T=p.alternate;return T===null?(p.childLanes=0,p.lanes=x,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=T.childLanes,p.lanes=T.lanes,p.child=T.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=T.memoizedProps,p.memoizedState=T.memoizedState,p.updateQueue=T.updateQueue,p.type=T.type,x=T.dependencies,p.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),p}function kv(p,x,T,C,B,V){var ne=0;if(C=p,typeof p=="function")Ms(p)&&(ne=1);else if(typeof p=="string")ne=khe(p,T,ee.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case I:return p=Es(31,T,x,B),p.elementType=I,p.lanes=V,p;case g:return fu(T.children,B,V,x);case m:ne=8,B|=24;break;case y:return p=Es(12,T,x,B|2),p.elementType=y,p.lanes=V,p;case E:return p=Es(13,T,x,B),p.elementType=E,p.lanes=V,p;case M:return p=Es(19,T,x,B),p.elementType=M,p.lanes=V,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case S:ne=10;break e;case b:ne=9;break e;case A:ne=11;break e;case R:ne=14;break e;case L:ne=16,C=null;break e}ne=29,T=Error(n(130,p===null?"null":typeof p,"")),C=null}return x=Es(ne,T,x,B),x.elementType=p,x.type=C,x.lanes=V,x}function fu(p,x,T,C){return p=Es(7,p,C,x),p.lanes=T,p}function jy(p,x,T){return p=Es(6,p,null,x),p.lanes=T,p}function xE(p){var x=Es(18,null,null,0);return x.stateNode=p,x}function Nl(p,x,T){return x=Es(4,p.children!==null?p.children:[],p.key,x),x.lanes=T,x.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},x}var Gb=new WeakMap;function Ys(p,x){if(typeof p=="object"&&p!==null){var T=Gb.get(p);return T!==void 0?T:(x={value:p,source:x,stack:ue(x)},Gb.set(p,x),x)}return{value:p,source:x,stack:ue(x)}}var Il=[],Gh=0,Pv=null,Ep=0,Mo=[],Xs=0,mc=null,yc=1,xc="";function hu(p,x){Il[Gh++]=Ep,Il[Gh++]=Pv,Pv=p,Ep=x}function jb(p,x,T){Mo[Xs++]=yc,Mo[Xs++]=xc,Mo[Xs++]=mc,mc=p;var C=yc;p=xc;var B=32-Ne(C)-1;C&=~(1<<B),T+=1;var V=32-Ne(x)+B;if(30<V){var ne=B-B%5;V=(C&(1<<ne)-1).toString(32),C>>=ne,B-=ne,yc=1<<32-Ne(x)+B|T<<B|C,xc=V+p}else yc=1<<V|T<<B|C,xc=p}function Wy(p){p.return!==null&&(hu(p,1),jb(p,1,0))}function Ef(p){for(;p===Pv;)Pv=Il[--Gh],Il[Gh]=null,Ep=Il[--Gh],Il[Gh]=null;for(;p===mc;)mc=Mo[--Xs],Mo[Xs]=null,xc=Mo[--Xs],Mo[Xs]=null,yc=Mo[--Xs],Mo[Xs]=null}function Bv(p,x){Mo[Xs++]=yc,Mo[Xs++]=xc,Mo[Xs++]=mc,yc=x.id,xc=x.overflow,mc=p}var Ti=null,fa=null,yn=!1,du=null,Ai=!1,Yy=Error(n(519));function pn(p){var x=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zv(Ys(x,p)),Yy}function Xy(p){var x=p.stateNode,T=p.type,C=p.memoizedProps;switch(x[ge]=p,x[Ae]=C,T){case"dialog":xn("cancel",x),xn("close",x);break;case"iframe":case"object":case"embed":xn("load",x);break;case"video":case"audio":for(T=0;T<PS.length;T++)xn(PS[T],x);break;case"source":xn("error",x);break;case"img":case"image":case"link":xn("error",x),xn("load",x);break;case"details":xn("toggle",x);break;case"input":xn("invalid",x),aa(x,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":xn("invalid",x);break;case"textarea":xn("invalid",x),Ca(x,C.value,C.defaultValue,C.children)}T=C.children,typeof T!="string"&&typeof T!="number"&&typeof T!="bigint"||x.textContent===""+T||C.suppressHydrationWarning===!0||X9(x.textContent,T)?(C.popover!=null&&(xn("beforetoggle",x),xn("toggle",x)),C.onScroll!=null&&xn("scroll",x),C.onScrollEnd!=null&&xn("scrollend",x),C.onClick!=null&&(x.onclick=dc),x=!0):x=!1,x||pn(p,!0)}function _E(p){for(Ti=p.return;Ti;)switch(Ti.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:Ti=Ti.return}}function jh(p){if(p!==Ti)return!1;if(!yn)return _E(p),yn=!0,!1;var x=p.tag,T;if((T=x!==3&&x!==27)&&((T=x===5)&&(T=p.type,T=!(T!=="form"&&T!=="button")||jL(p.type,p.memoizedProps)),T=!T),T&&fa&&pn(p),_E(p),x===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));fa=rV(p)}else if(x===31){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));fa=rV(p)}else x===27?(x=fa,Wp(p.type)?(p=ZL,ZL=null,fa=p):fa=x):fa=Ti?Rc(p.stateNode.nextSibling):null;return!0}function Wh(){fa=Ti=null,yn=!1}function Wb(){var p=du;return p!==null&&(ps===null?ps=p:ps.push.apply(ps,p),du=null),p}function zv(p){du===null?du=[p]:du.push(p)}var Yb=W(null),pu=null,cs=null;function vu(p,x,T){J(Yb,x._currentValue),x._currentValue=T}function ll(p){p._currentValue=Yb.current,j(Yb)}function gu(p,x,T){for(;p!==null;){var C=p.alternate;if((p.childLanes&x)!==x?(p.childLanes|=x,C!==null&&(C.childLanes|=x)):C!==null&&(C.childLanes&x)!==x&&(C.childLanes|=x),p===T)break;p=p.return}}function qy(p,x,T,C){var B=p.child;for(B!==null&&(B.return=p);B!==null;){var V=B.dependencies;if(V!==null){var ne=B.child;V=V.firstContext;e:for(;V!==null;){var pe=V;V=B;for(var ke=0;ke<x.length;ke++)if(pe.context===x[ke]){V.lanes|=T,pe=V.alternate,pe!==null&&(pe.lanes|=T),gu(V.return,T,p),C||(ne=null);break e}V=pe.next}}else if(B.tag===18){if(ne=B.return,ne===null)throw Error(n(341));ne.lanes|=T,V=ne.alternate,V!==null&&(V.lanes|=T),gu(ne,T,p),ne=null}else ne=B.child;if(ne!==null)ne.return=B;else for(ne=B;ne!==null;){if(ne===p){ne=null;break}if(B=ne.sibling,B!==null){B.return=ne.return,ne=B;break}ne=ne.return}B=ne}}function Mf(p,x,T,C){p=null;for(var B=x,V=!1;B!==null;){if(!V){if((B.flags&524288)!==0)V=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var ne=B.alternate;if(ne===null)throw Error(n(387));if(ne=ne.memoizedProps,ne!==null){var pe=B.type;xa(B.pendingProps.value,ne.value)||(p!==null?p.push(pe):p=[pe])}}else if(B===me.current){if(ne=B.alternate,ne===null)throw Error(n(387));ne.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(p!==null?p.push(VS):p=[VS])}B=B.return}p!==null&&qy(x,p,T,C),x.flags|=262144}function Mp(p){for(p=p.firstContext;p!==null;){if(!xa(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function Yh(p){pu=p,cs=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function Ei(p){return Xb(pu,p)}function Fv(p,x){return pu===null&&Yh(p),Xb(p,x)}function Xb(p,x){var T=x._currentValue;if(x={context:x,memoizedValue:T,next:null},cs===null){if(p===null)throw Error(n(308));cs=x,p.dependencies={lanes:0,firstContext:x},p.flags|=524288}else cs=cs.next=x;return T}var bE=typeof AbortController<"u"?AbortController:function(){var p=[],x=this.signal={aborted:!1,addEventListener:function(T,C){p.push(C)}};this.abort=function(){x.aborted=!0,p.forEach(function(T){return T()})}},SE=r.unstable_scheduleCallback,qb=r.unstable_NormalPriority,xr={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zb(){return{controller:new bE,data:new Map,refCount:0}}function Fi(p){p.refCount--,p.refCount===0&&SE(qb,function(){p.controller.abort()})}var Xh=null,Kb=0,mu=0,Ll=null;function Cp(p,x){if(Xh===null){var T=Xh=[];Kb=0,mu=kL(),Ll={status:"pending",value:void 0,then:function(C){T.push(C)}}}return Kb++,x.then($b,$b),x}function $b(){if(--Kb===0&&Xh!==null){Ll!==null&&(Ll.status="fulfilled");var p=Xh;Xh=null,mu=0,Ll=null;for(var x=0;x<p.length;x++)(0,p[x])()}}function Jb(p,x){var T=[],C={status:"pending",value:null,reason:null,then:function(B){T.push(B)}};return p.then(function(){C.status="fulfilled",C.value=x;for(var B=0;B<T.length;B++)(0,T[B])(x)},function(B){for(C.status="rejected",C.reason=B,B=0;B<T.length;B++)(0,T[B])(void 0)}),C}var wE=H.S;H.S=function(p,x){Hp=ie(),typeof x=="object"&&x!==null&&typeof x.then=="function"&&Cp(p,x),wE!==null&&wE(p,x)};var Cf=W(null);function _c(){var p=Cf.current;return p!==null?p:Wn.pooledCache}function Dp(p,x){x===null?J(Cf,Cf.current):J(Cf,x.pool)}function Zy(){var p=_c();return p===null?null:{parent:xr._currentValue,pool:p}}var Df=Error(n(460)),Uv=Error(n(474)),Ol=Error(n(542)),Vv={then:function(){}};function TE(p){return p=p.status,p==="fulfilled"||p==="rejected"}function Qb(p,x,T){switch(T=p[T],T===void 0?p.push(x):T!==x&&(x.then(dc,dc),x=T),x.status){case"fulfilled":return x.value;case"rejected":throw p=x.reason,eS(p),p;default:if(typeof x.status=="string")x.then(dc,dc);else{if(p=Wn,p!==null&&100<p.shellSuspendCounter)throw Error(n(482));p=x,p.status="pending",p.then(function(C){if(x.status==="pending"){var B=x;B.status="fulfilled",B.value=C}},function(C){if(x.status==="pending"){var B=x;B.status="rejected",B.reason=C}})}switch(x.status){case"fulfilled":return x.value;case"rejected":throw p=x.reason,eS(p),p}throw Dr=x,Df}}function qh(p){try{var x=p._init;return x(p._payload)}catch(T){throw T!==null&&typeof T=="object"&&typeof T.then=="function"?(Dr=T,Df):T}}var Dr=null;function Ky(){if(Dr===null)throw Error(n(459));var p=Dr;return Dr=null,p}function eS(p){if(p===Df||p===Ol)throw Error(n(483))}var Rf=null,Nf=0;function $y(p){var x=Nf;return Nf+=1,Rf===null&&(Rf=[]),Qb(Rf,p,x)}function Hv(p,x){x=x.props.ref,p.ref=x!==void 0?x:null}function Gv(p,x){throw x.$$typeof===h?Error(n(525)):(p=Object.prototype.toString.call(x),Error(n(31,p==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":p)))}function Rp(p){function x(qe,He){if(p){var et=qe.deletions;et===null?(qe.deletions=[He],qe.flags|=16):et.push(He)}}function T(qe,He){if(!p)return null;for(;He!==null;)x(qe,He),He=He.sibling;return null}function C(qe){for(var He=new Map;qe!==null;)qe.key!==null?He.set(qe.key,qe):He.set(qe.index,qe),qe=qe.sibling;return He}function B(qe,He){return qe=gc(qe,He),qe.index=0,qe.sibling=null,qe}function V(qe,He,et){return qe.index=et,p?(et=qe.alternate,et!==null?(et=et.index,et<He?(qe.flags|=67108866,He):et):(qe.flags|=67108866,He)):(qe.flags|=1048576,He)}function ne(qe){return p&&qe.alternate===null&&(qe.flags|=67108866),qe}function pe(qe,He,et,bt){return He===null||He.tag!==6?(He=jy(et,qe.mode,bt),He.return=qe,He):(He=B(He,et),He.return=qe,He)}function ke(qe,He,et,bt){var Er=et.type;return Er===g?mt(qe,He,et.props.children,bt,et.key):He!==null&&(He.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===L&&qh(Er)===He.type)?(He=B(He,et.props),Hv(He,et),He.return=qe,He):(He=kv(et.type,et.key,et.props,null,qe.mode,bt),Hv(He,et),He.return=qe,He)}function rt(qe,He,et,bt){return He===null||He.tag!==4||He.stateNode.containerInfo!==et.containerInfo||He.stateNode.implementation!==et.implementation?(He=Nl(et,qe.mode,bt),He.return=qe,He):(He=B(He,et.children||[]),He.return=qe,He)}function mt(qe,He,et,bt,Er){return He===null||He.tag!==7?(He=fu(et,qe.mode,bt,Er),He.return=qe,He):(He=B(He,et),He.return=qe,He)}function Tt(qe,He,et){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return He=jy(""+He,qe.mode,et),He.return=qe,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case d:return et=kv(He.type,He.key,He.props,null,qe.mode,et),Hv(et,He),et.return=qe,et;case v:return He=Nl(He,qe.mode,et),He.return=qe,He;case L:return He=qh(He),Tt(qe,He,et)}if(q(He)||k(He))return He=fu(He,qe.mode,et,null),He.return=qe,He;if(typeof He.then=="function")return Tt(qe,$y(He),et);if(He.$$typeof===S)return Tt(qe,Fv(qe,He),et);Gv(qe,He)}return null}function ot(qe,He,et,bt){var Er=He!==null?He.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Er!==null?null:pe(qe,He,""+et,bt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case d:return et.key===Er?ke(qe,He,et,bt):null;case v:return et.key===Er?rt(qe,He,et,bt):null;case L:return et=qh(et),ot(qe,He,et,bt)}if(q(et)||k(et))return Er!==null?null:mt(qe,He,et,bt,null);if(typeof et.then=="function")return ot(qe,He,$y(et),bt);if(et.$$typeof===S)return ot(qe,He,Fv(qe,et),bt);Gv(qe,et)}return null}function ut(qe,He,et,bt,Er){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return qe=qe.get(et)||null,pe(He,qe,""+bt,Er);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case d:return qe=qe.get(bt.key===null?et:bt.key)||null,ke(He,qe,bt,Er);case v:return qe=qe.get(bt.key===null?et:bt.key)||null,rt(He,qe,bt,Er);case L:return bt=qh(bt),ut(qe,He,et,bt,Er)}if(q(bt)||k(bt))return qe=qe.get(et)||null,mt(He,qe,bt,Er,null);if(typeof bt.then=="function")return ut(qe,He,et,$y(bt),Er);if(bt.$$typeof===S)return ut(qe,He,et,Fv(He,bt),Er);Gv(He,bt)}return null}function lr(qe,He,et,bt){for(var Er=null,Xn=null,gr=He,on=He=0,Tn=null;gr!==null&&on<et.length;on++){gr.index>on?(Tn=gr,gr=null):Tn=gr.sibling;var qn=ot(qe,gr,et[on],bt);if(qn===null){gr===null&&(gr=Tn);break}p&&gr&&qn.alternate===null&&x(qe,gr),He=V(qn,He,on),Xn===null?Er=qn:Xn.sibling=qn,Xn=qn,gr=Tn}if(on===et.length)return T(qe,gr),yn&&hu(qe,on),Er;if(gr===null){for(;on<et.length;on++)gr=Tt(qe,et[on],bt),gr!==null&&(He=V(gr,He,on),Xn===null?Er=gr:Xn.sibling=gr,Xn=gr);return yn&&hu(qe,on),Er}for(gr=C(gr);on<et.length;on++)Tn=ut(gr,qe,on,et[on],bt),Tn!==null&&(p&&Tn.alternate!==null&&gr.delete(Tn.key===null?on:Tn.key),He=V(Tn,He,on),Xn===null?Er=Tn:Xn.sibling=Tn,Xn=Tn);return p&&gr.forEach(function(Kp){return x(qe,Kp)}),yn&&hu(qe,on),Er}function Ir(qe,He,et,bt){if(et==null)throw Error(n(151));for(var Er=null,Xn=null,gr=He,on=He=0,Tn=null,qn=et.next();gr!==null&&!qn.done;on++,qn=et.next()){gr.index>on?(Tn=gr,gr=null):Tn=gr.sibling;var Kp=ot(qe,gr,qn.value,bt);if(Kp===null){gr===null&&(gr=Tn);break}p&&gr&&Kp.alternate===null&&x(qe,gr),He=V(Kp,He,on),Xn===null?Er=Kp:Xn.sibling=Kp,Xn=Kp,gr=Tn}if(qn.done)return T(qe,gr),yn&&hu(qe,on),Er;if(gr===null){for(;!qn.done;on++,qn=et.next())qn=Tt(qe,qn.value,bt),qn!==null&&(He=V(qn,He,on),Xn===null?Er=qn:Xn.sibling=qn,Xn=qn);return yn&&hu(qe,on),Er}for(gr=C(gr);!qn.done;on++,qn=et.next())qn=ut(gr,qe,on,qn.value,bt),qn!==null&&(p&&qn.alternate!==null&&gr.delete(qn.key===null?on:qn.key),He=V(qn,He,on),Xn===null?Er=qn:Xn.sibling=qn,Xn=qn);return p&&gr.forEach(function(Yhe){return x(qe,Yhe)}),yn&&hu(qe,on),Er}function pa(qe,He,et,bt){if(typeof et=="object"&&et!==null&&et.type===g&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case d:e:{for(var Er=et.key;He!==null;){if(He.key===Er){if(Er=et.type,Er===g){if(He.tag===7){T(qe,He.sibling),bt=B(He,et.props.children),bt.return=qe,qe=bt;break e}}else if(He.elementType===Er||typeof Er=="object"&&Er!==null&&Er.$$typeof===L&&qh(Er)===He.type){T(qe,He.sibling),bt=B(He,et.props),Hv(bt,et),bt.return=qe,qe=bt;break e}T(qe,He);break}else x(qe,He);He=He.sibling}et.type===g?(bt=fu(et.props.children,qe.mode,bt,et.key),bt.return=qe,qe=bt):(bt=kv(et.type,et.key,et.props,null,qe.mode,bt),Hv(bt,et),bt.return=qe,qe=bt)}return ne(qe);case v:e:{for(Er=et.key;He!==null;){if(He.key===Er)if(He.tag===4&&He.stateNode.containerInfo===et.containerInfo&&He.stateNode.implementation===et.implementation){T(qe,He.sibling),bt=B(He,et.children||[]),bt.return=qe,qe=bt;break e}else{T(qe,He);break}else x(qe,He);He=He.sibling}bt=Nl(et,qe.mode,bt),bt.return=qe,qe=bt}return ne(qe);case L:return et=qh(et),pa(qe,He,et,bt)}if(q(et))return lr(qe,He,et,bt);if(k(et)){if(Er=k(et),typeof Er!="function")throw Error(n(150));return et=Er.call(et),Ir(qe,He,et,bt)}if(typeof et.then=="function")return pa(qe,He,$y(et),bt);if(et.$$typeof===S)return pa(qe,He,Fv(qe,et),bt);Gv(qe,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,He!==null&&He.tag===6?(T(qe,He.sibling),bt=B(He,et),bt.return=qe,qe=bt):(T(qe,He),bt=jy(et,qe.mode,bt),bt.return=qe,qe=bt),ne(qe)):T(qe,He)}return function(qe,He,et,bt){try{Nf=0;var Er=pa(qe,He,et,bt);return Rf=null,Er}catch(gr){if(gr===Df||gr===Ol)throw gr;var Xn=Es(29,gr,null,qe.mode);return Xn.lanes=bt,Xn.return=qe,Xn}finally{}}}var Zh=Rp(!0),AE=Rp(!1),If=!1;function tS(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rS(p,x){p=p.updateQueue,x.updateQueue===p&&(x.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function bc(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function yu(p,x,T){var C=p.updateQueue;if(C===null)return null;if(C=C.shared,(Sn&2)!==0){var B=C.pending;return B===null?x.next=x:(x.next=B.next,B.next=x),C.pending=x,x=Ap(p),Gy(p,null,T),x}return Ov(p,C,x,T),Ap(p)}function Lf(p,x,T){if(x=x.updateQueue,x!==null&&(x=x.shared,(T&4194048)!==0)){var C=x.lanes;C&=p.pendingLanes,T|=C,x.lanes=T,Ma(p,T)}}function Jy(p,x){var T=p.updateQueue,C=p.alternate;if(C!==null&&(C=C.updateQueue,T===C)){var B=null,V=null;if(T=T.firstBaseUpdate,T!==null){do{var ne={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};V===null?B=V=ne:V=V.next=ne,T=T.next}while(T!==null);V===null?B=V=x:V=V.next=x}else B=V=x;T={baseState:C.baseState,firstBaseUpdate:B,lastBaseUpdate:V,shared:C.shared,callbacks:C.callbacks},p.updateQueue=T;return}p=T.lastBaseUpdate,p===null?T.firstBaseUpdate=x:p.next=x,T.lastBaseUpdate=x}var nS=!1;function jv(){if(nS){var p=Ll;if(p!==null)throw p}}function Kh(p,x,T,C){nS=!1;var B=p.updateQueue;If=!1;var V=B.firstBaseUpdate,ne=B.lastBaseUpdate,pe=B.shared.pending;if(pe!==null){B.shared.pending=null;var ke=pe,rt=ke.next;ke.next=null,ne===null?V=rt:ne.next=rt,ne=ke;var mt=p.alternate;mt!==null&&(mt=mt.updateQueue,pe=mt.lastBaseUpdate,pe!==ne&&(pe===null?mt.firstBaseUpdate=rt:pe.next=rt,mt.lastBaseUpdate=ke))}if(V!==null){var Tt=B.baseState;ne=0,mt=rt=ke=null,pe=V;do{var ot=pe.lane&-536870913,ut=ot!==pe.lane;if(ut?(vn&ot)===ot:(C&ot)===ot){ot!==0&&ot===mu&&(nS=!0),mt!==null&&(mt=mt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var lr=p,Ir=pe;ot=x;var pa=T;switch(Ir.tag){case 1:if(lr=Ir.payload,typeof lr=="function"){Tt=lr.call(pa,Tt,ot);break e}Tt=lr;break e;case 3:lr.flags=lr.flags&-65537|128;case 0:if(lr=Ir.payload,ot=typeof lr=="function"?lr.call(pa,Tt,ot):lr,ot==null)break e;Tt=f({},Tt,ot);break e;case 2:If=!0}}ot=pe.callback,ot!==null&&(p.flags|=64,ut&&(p.flags|=8192),ut=B.callbacks,ut===null?B.callbacks=[ot]:ut.push(ot))}else ut={lane:ot,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},mt===null?(rt=mt=ut,ke=Tt):mt=mt.next=ut,ne|=ot;if(pe=pe.next,pe===null){if(pe=B.shared.pending,pe===null)break;ut=pe,pe=ut.next,ut.next=null,B.lastBaseUpdate=ut,B.shared.pending=null}}while(!0);mt===null&&(ke=Tt),B.baseState=ke,B.firstBaseUpdate=rt,B.lastBaseUpdate=mt,V===null&&(B.shared.lanes=0),zo|=ne,p.lanes=ne,p.memoizedState=Tt}}function Sc(p,x){if(typeof p!="function")throw Error(n(191,p));p.call(x)}function Ui(p,x){var T=p.callbacks;if(T!==null)for(p.callbacks=null,p=0;p<T.length;p++)Sc(T[p],x)}var Co=W(null),Cs=W(0);function aS(p,x){p=Va,J(Cs,p),J(Co,x),Va=p|x.baseLanes}function iS(){J(Cs,Va),J(Co,Co.current)}function us(){Va=Cs.current,j(Co),j(Cs)}var hi=W(null),cl=null;function Of(p){var x=p.alternate;J(Da,Da.current&1),J(hi,p),cl===null&&(x===null||Co.current!==null||x.memoizedState!==null)&&(cl=p)}function sS(p){J(Da,Da.current),J(hi,p),cl===null&&(cl=p)}function EE(p){p.tag===22?(J(Da,Da.current),J(hi,p),cl===null&&(cl=p)):xu()}function xu(){J(Da,Da.current),J(hi,hi.current)}function Do(p){j(hi),cl===p&&(cl=null),j(Da)}var Da=W(0);function Qy(p){for(var x=p;x!==null;){if(x.tag===13){var T=x.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||XL(T)||qL(T)))return x}else if(x.tag===19&&(x.memoizedProps.revealOrder==="forwards"||x.memoizedProps.revealOrder==="backwards"||x.memoizedProps.revealOrder==="unstable_legacy-backwards"||x.memoizedProps.revealOrder==="together")){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var qs=0,Lr=null,ea=null,Za=null,ex=!1,wc=!1,$h=!1,tx=0,Wv=0,Tc=null,AL=0;function Ra(){throw Error(n(321))}function oS(p,x){if(x===null)return!1;for(var T=0;T<x.length&&T<p.length;T++)if(!xa(p[T],x[T]))return!1;return!0}function lS(p,x,T,C,B,V){return qs=V,Lr=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,H.H=p===null||p.memoizedState===null?YE:Lp,$h=!1,V=T(C,B),$h=!1,wc&&(V=CE(x,T,C,B)),ME(p),V}function ME(p){H.H=Kv;var x=ea!==null&&ea.next!==null;if(qs=0,Za=ea=Lr=null,ex=!1,Wv=0,Tc=null,x)throw Error(n(300));p===null||_a||(p=p.dependencies,p!==null&&Mp(p)&&(_a=!0))}function CE(p,x,T,C){Lr=p;var B=0;do{if(wc&&(Tc=null),Wv=0,wc=!1,25<=B)throw Error(n(301));if(B+=1,Za=ea=null,p.updateQueue!=null){var V=p.updateQueue;V.lastEffect=null,V.events=null,V.stores=null,V.memoCache!=null&&(V.memoCache.index=0)}H.H=$v,V=x(T,C)}while(wc);return V}function EL(){var p=H.H,x=p.useState()[0];return x=typeof x.then=="function"?Xv(x):x,p=p.useState()[0],(ea!==null?ea.memoizedState:null)!==p&&(Lr.flags|=1024),x}function cS(){var p=tx!==0;return tx=0,p}function uS(p,x,T){x.updateQueue=p.updateQueue,x.flags&=-2053,p.lanes&=~T}function fS(p){if(ex){for(p=p.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}ex=!1}qs=0,Za=ea=Lr=null,wc=!1,Wv=tx=0,Tc=null}function Ds(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Za===null?Lr.memoizedState=Za=p:Za=Za.next=p,Za}function Ba(){if(ea===null){var p=Lr.alternate;p=p!==null?p.memoizedState:null}else p=ea.next;var x=Za===null?Lr.memoizedState:Za.next;if(x!==null)Za=x,ea=p;else{if(p===null)throw Lr.alternate===null?Error(n(467)):Error(n(310));ea=p,p={memoizedState:ea.memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},Za===null?Lr.memoizedState=Za=p:Za=Za.next=p}return Za}function Yv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xv(p){var x=Wv;return Wv+=1,Tc===null&&(Tc=[]),p=Qb(Tc,p,x),x=Lr,(Za===null?x.memoizedState:Za.next)===null&&(x=x.alternate,H.H=x===null||x.memoizedState===null?YE:Lp),p}function rx(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Xv(p);if(p.$$typeof===S)return Ei(p)}throw Error(n(438,String(p)))}function hS(p){var x=null,T=Lr.updateQueue;if(T!==null&&(x=T.memoCache),x==null){var C=Lr.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(x={data:C.data.map(function(B){return B.slice()}),index:0})))}if(x==null&&(x={data:[],index:0}),T===null&&(T=Yv(),Lr.updateQueue=T),T.memoCache=x,T=x.data[x.index],T===void 0)for(T=x.data[x.index]=Array(p),C=0;C<p;C++)T[C]=O;return x.index++,T}function _u(p,x){return typeof x=="function"?x(p):x}function nx(p){var x=Ba();return dS(x,ea,p)}function dS(p,x,T){var C=p.queue;if(C===null)throw Error(n(311));C.lastRenderedReducer=T;var B=p.baseQueue,V=C.pending;if(V!==null){if(B!==null){var ne=B.next;B.next=V.next,V.next=ne}x.baseQueue=B=V,C.pending=null}if(V=p.baseState,B===null)p.memoizedState=V;else{x=B.next;var pe=ne=null,ke=null,rt=x,mt=!1;do{var Tt=rt.lane&-536870913;if(Tt!==rt.lane?(vn&Tt)===Tt:(qs&Tt)===Tt){var ot=rt.revertLane;if(ot===0)ke!==null&&(ke=ke.next={lane:0,revertLane:0,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),Tt===mu&&(mt=!0);else if((qs&ot)===ot){rt=rt.next,ot===mu&&(mt=!0);continue}else Tt={lane:0,revertLane:rt.revertLane,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},ke===null?(pe=ke=Tt,ne=V):ke=ke.next=Tt,Lr.lanes|=ot,zo|=ot;Tt=rt.action,$h&&T(V,Tt),V=rt.hasEagerState?rt.eagerState:T(V,Tt)}else ot={lane:Tt,revertLane:rt.revertLane,gesture:rt.gesture,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},ke===null?(pe=ke=ot,ne=V):ke=ke.next=ot,Lr.lanes|=Tt,zo|=Tt;rt=rt.next}while(rt!==null&&rt!==x);if(ke===null?ne=V:ke.next=pe,!xa(V,p.memoizedState)&&(_a=!0,mt&&(T=Ll,T!==null)))throw T;p.memoizedState=V,p.baseState=ne,p.baseQueue=ke,C.lastRenderedState=V}return B===null&&(C.lanes=0),[p.memoizedState,C.dispatch]}function ax(p){var x=Ba(),T=x.queue;if(T===null)throw Error(n(311));T.lastRenderedReducer=p;var C=T.dispatch,B=T.pending,V=x.memoizedState;if(B!==null){T.pending=null;var ne=B=B.next;do V=p(V,ne.action),ne=ne.next;while(ne!==B);xa(V,x.memoizedState)||(_a=!0),x.memoizedState=V,x.baseQueue===null&&(x.baseState=V),T.lastRenderedState=V}return[V,C]}function pS(p,x,T){var C=Lr,B=Ba(),V=yn;if(V){if(T===void 0)throw Error(n(407));T=T()}else T=x();var ne=!xa((ea||B).memoizedState,T);if(ne&&(B.memoizedState=T,_a=!0),B=B.queue,xS(gS.bind(null,C,B,p),[p]),B.getSnapshot!==x||ne||Za!==null&&Za.memoizedState.tag&1){if(C.flags|=2048,Np(9,{destroy:void 0},vS.bind(null,C,B,T,x),null),Wn===null)throw Error(n(349));V||(qs&127)!==0||DE(C,x,T)}return T}function DE(p,x,T){p.flags|=16384,p={getSnapshot:x,value:T},x=Lr.updateQueue,x===null?(x=Yv(),Lr.updateQueue=x,x.stores=[p]):(T=x.stores,T===null?x.stores=[p]:T.push(p))}function vS(p,x,T,C){x.value=T,x.getSnapshot=C,mS(x)&&ix(p)}function gS(p,x,T){return T(function(){mS(x)&&ix(p)})}function mS(p){var x=p.getSnapshot;p=p.value;try{var T=x();return!xa(p,T)}catch{return!0}}function ix(p){var x=Tf(p,2);x!==null&&w(x,p,2)}function qv(p){var x=Ds();if(typeof p=="function"){var T=p;if(p=T(),$h){jt(!0);try{T()}finally{jt(!1)}}}return x.memoizedState=x.baseState=p,x.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:p},x}function RE(p,x,T,C){return p.baseState=T,dS(p,ea,typeof C=="function"?C:_u)}function ML(p,x,T,C,B){if(bu(p))throw Error(n(485));if(p=x.action,p!==null){var V={payload:B,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){V.listeners.push(ne)}};H.T!==null?T(!0):V.isTransition=!1,C(V),T=x.pending,T===null?(V.next=x.pending=V,NE(x,V)):(V.next=T.next,x.pending=T.next=V)}}function NE(p,x){var T=x.action,C=x.payload,B=p.state;if(x.isTransition){var V=H.T,ne={};H.T=ne;try{var pe=T(B,C),ke=H.S;ke!==null&&ke(ne,pe),IE(p,x,pe)}catch(rt){sx(p,x,rt)}finally{V!==null&&ne.types!==null&&(V.types=ne.types),H.T=V}}else try{V=T(B,C),IE(p,x,V)}catch(rt){sx(p,x,rt)}}function IE(p,x,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(C){yS(p,x,C)},function(C){return sx(p,x,C)}):yS(p,x,T)}function yS(p,x,T){x.status="fulfilled",x.value=T,LE(x),p.state=T,x=p.pending,x!==null&&(T=x.next,T===x?p.pending=null:(T=T.next,x.next=T,NE(p,T)))}function sx(p,x,T){var C=p.pending;if(p.pending=null,C!==null){C=C.next;do x.status="rejected",x.reason=T,LE(x),x=x.next;while(x!==C)}p.action=null}function LE(p){p=p.listeners;for(var x=0;x<p.length;x++)(0,p[x])()}function OE(p,x){return x}function kE(p,x){if(yn){var T=Wn.formState;if(T!==null){e:{var C=Lr;if(yn){if(fa){t:{for(var B=fa,V=Ai;B.nodeType!==8;){if(!V){B=null;break t}if(B=Rc(B.nextSibling),B===null){B=null;break t}}V=B.data,B=V==="F!"||V==="F"?B:null}if(B){fa=Rc(B.nextSibling),C=B.data==="F!";break e}}pn(C)}C=!1}C&&(x=T[0])}}return T=Ds(),T.memoizedState=T.baseState=x,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OE,lastRenderedState:x},T.queue=C,T=WE.bind(null,Lr,C),C.dispatch=T,C=qv(!1),V=Zv.bind(null,Lr,!1,C.queue),C=Ds(),B={state:x,dispatch:null,action:p,pending:null},C.queue=B,T=ML.bind(null,Lr,B,V,T),B.dispatch=T,C.memoizedState=p,[x,T,!1]}function PE(p){var x=Ba();return BE(x,ea,p)}function BE(p,x,T){if(x=dS(p,x,OE)[0],p=nx(_u)[0],typeof x=="object"&&x!==null&&typeof x.then=="function")try{var C=Xv(x)}catch(ne){throw ne===Df?Ol:ne}else C=x;x=Ba();var B=x.queue,V=B.dispatch;return T!==x.memoizedState&&(Lr.flags|=2048,Np(9,{destroy:void 0},CL.bind(null,B,T),null)),[C,V,p]}function CL(p,x){p.action=x}function zE(p){var x=Ba(),T=ea;if(T!==null)return BE(x,T,p);Ba(),x=x.memoizedState,T=Ba();var C=T.queue.dispatch;return T.memoizedState=p,[x,C,!1]}function Np(p,x,T,C){return p={tag:p,create:T,deps:C,inst:x,next:null},x=Lr.updateQueue,x===null&&(x=Yv(),Lr.updateQueue=x),T=x.lastEffect,T===null?x.lastEffect=p.next=p:(C=T.next,T.next=p,p.next=C,x.lastEffect=p),p}function FE(){return Ba().memoizedState}function ox(p,x,T,C){var B=Ds();Lr.flags|=p,B.memoizedState=Np(1|x,{destroy:void 0},T,C===void 0?null:C)}function lx(p,x,T,C){var B=Ba();C=C===void 0?null:C;var V=B.memoizedState.inst;ea!==null&&C!==null&&oS(C,ea.memoizedState.deps)?B.memoizedState=Np(x,V,T,C):(Lr.flags|=p,B.memoizedState=Np(1|x,V,T,C))}function UE(p,x){ox(8390656,8,p,x)}function xS(p,x){lx(2048,8,p,x)}function VE(p){Lr.flags|=4;var x=Lr.updateQueue;if(x===null)x=Yv(),Lr.updateQueue=x,x.events=[p];else{var T=x.events;T===null?x.events=[p]:T.push(p)}}function HE(p){var x=Ba().memoizedState;return VE({ref:x,nextImpl:p}),function(){if((Sn&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}function GE(p,x){return lx(4,2,p,x)}function Ro(p,x){return lx(4,4,p,x)}function _S(p,x){if(typeof x=="function"){p=p();var T=x(p);return function(){typeof T=="function"?T():x(null)}}if(x!=null)return p=p(),x.current=p,function(){x.current=null}}function cx(p,x,T){T=T!=null?T.concat([p]):null,lx(4,4,_S.bind(null,x,p),T)}function ux(){}function bS(p,x){var T=Ba();x=x===void 0?null:x;var C=T.memoizedState;return x!==null&&oS(x,C[1])?C[0]:(T.memoizedState=[p,x],p)}function SS(p,x){var T=Ba();x=x===void 0?null:x;var C=T.memoizedState;if(x!==null&&oS(x,C[1]))return C[0];if(C=p(),$h){jt(!0);try{p()}finally{jt(!1)}}return T.memoizedState=[C,x],C}function wS(p,x,T){return T===void 0||(qs&1073741824)!==0&&(vn&261930)===0?p.memoizedState=x:(p.memoizedState=T,p=_(),Lr.lanes|=p,zo|=p,T)}function TS(p,x,T,C){return xa(T,x)?T:Co.current!==null?(p=wS(p,T,C),xa(p,x)||(_a=!0),p):(qs&42)===0||(qs&1073741824)!==0&&(vn&261930)===0?(_a=!0,p.memoizedState=T):(p=_(),Lr.lanes|=p,zo|=p,x)}function AS(p,x,T,C,B){var V=Z.p;Z.p=V!==0&&8>V?V:8;var ne=H.T,pe={};H.T=pe,Zv(p,!1,x,T);try{var ke=B(),rt=H.S;if(rt!==null&&rt(pe,ke),ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var mt=Jb(ke,C);Ip(p,x,mt,Ns(p))}else Ip(p,x,C,Ns(p))}catch(Tt){Ip(p,x,{then:function(){},status:"rejected",reason:Tt},Ns())}finally{Z.p=V,ne!==null&&pe.types!==null&&(ne.types=pe.types),H.T=ne}}function DL(){}function ES(p,x,T,C){if(p.tag!==5)throw Error(n(476));var B=jE(p).queue;AS(p,B,x,X,T===null?DL:function(){return MS(p),T(C)})}function jE(p){var x=p.memoizedState;if(x!==null)return x;x={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:X},next:null};var T={};return x.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:T},next:null},p.memoizedState=x,p=p.alternate,p!==null&&(p.memoizedState=x),x}function MS(p){var x=jE(p);x.next===null&&(x=p.alternate.memoizedState),Ip(p,x.next.queue,{},Ns())}function CS(){return Ei(VS)}function Vi(){return Ba().memoizedState}function DS(){return Ba().memoizedState}function RL(p){for(var x=p.return;x!==null;){switch(x.tag){case 24:case 3:var T=Ns();p=bc(T);var C=yu(x,p,T);C!==null&&(w(C,x,T),Lf(C,x,T)),x={cache:Zb()},p.payload=x;return}x=x.return}}function NL(p,x,T){var C=Ns();T={lane:C,revertLane:0,gesture:null,action:T,hasEagerState:!1,eagerState:null,next:null},bu(p)?Jh(x,T):(T=Tp(p,x,T,C),T!==null&&(w(T,p,C),Zs(T,x,C)))}function WE(p,x,T){var C=Ns();Ip(p,x,T,C)}function Ip(p,x,T,C){var B={lane:C,revertLane:0,gesture:null,action:T,hasEagerState:!1,eagerState:null,next:null};if(bu(p))Jh(x,B);else{var V=p.alternate;if(p.lanes===0&&(V===null||V.lanes===0)&&(V=x.lastRenderedReducer,V!==null))try{var ne=x.lastRenderedState,pe=V(ne,T);if(B.hasEagerState=!0,B.eagerState=pe,xa(pe,ne))return Ov(p,x,B,0),Wn===null&&wf(),!1}catch{}finally{}if(T=Tp(p,x,B,C),T!==null)return w(T,p,C),Zs(T,x,C),!0}return!1}function Zv(p,x,T,C){if(C={lane:2,revertLane:kL(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},bu(p)){if(x)throw Error(n(479))}else x=Tp(p,T,C,2),x!==null&&w(x,p,2)}function bu(p){var x=p.alternate;return p===Lr||x!==null&&x===Lr}function Jh(p,x){wc=ex=!0;var T=p.pending;T===null?x.next=x:(x.next=T.next,T.next=x),p.pending=x}function Zs(p,x,T){if((T&4194048)!==0){var C=x.lanes;C&=p.pendingLanes,T|=C,x.lanes=T,Ma(p,T)}}var Kv={readContext:Ei,use:rx,useCallback:Ra,useContext:Ra,useEffect:Ra,useImperativeHandle:Ra,useLayoutEffect:Ra,useInsertionEffect:Ra,useMemo:Ra,useReducer:Ra,useRef:Ra,useState:Ra,useDebugValue:Ra,useDeferredValue:Ra,useTransition:Ra,useSyncExternalStore:Ra,useId:Ra,useHostTransitionStatus:Ra,useFormState:Ra,useActionState:Ra,useOptimistic:Ra,useMemoCache:Ra,useCacheRefresh:Ra};Kv.useEffectEvent=Ra;var YE={readContext:Ei,use:rx,useCallback:function(p,x){return Ds().memoizedState=[p,x===void 0?null:x],p},useContext:Ei,useEffect:UE,useImperativeHandle:function(p,x,T){T=T!=null?T.concat([p]):null,ox(4194308,4,_S.bind(null,x,p),T)},useLayoutEffect:function(p,x){return ox(4194308,4,p,x)},useInsertionEffect:function(p,x){ox(4,2,p,x)},useMemo:function(p,x){var T=Ds();x=x===void 0?null:x;var C=p();if($h){jt(!0);try{p()}finally{jt(!1)}}return T.memoizedState=[C,x],C},useReducer:function(p,x,T){var C=Ds();if(T!==void 0){var B=T(x);if($h){jt(!0);try{T(x)}finally{jt(!1)}}}else B=x;return C.memoizedState=C.baseState=B,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:B},C.queue=p,p=p.dispatch=NL.bind(null,Lr,p),[C.memoizedState,p]},useRef:function(p){var x=Ds();return p={current:p},x.memoizedState=p},useState:function(p){p=qv(p);var x=p.queue,T=WE.bind(null,Lr,x);return x.dispatch=T,[p.memoizedState,T]},useDebugValue:ux,useDeferredValue:function(p,x){var T=Ds();return wS(T,p,x)},useTransition:function(){var p=qv(!1);return p=AS.bind(null,Lr,p.queue,!0,!1),Ds().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,x,T){var C=Lr,B=Ds();if(yn){if(T===void 0)throw Error(n(407));T=T()}else{if(T=x(),Wn===null)throw Error(n(349));(vn&127)!==0||DE(C,x,T)}B.memoizedState=T;var V={value:T,getSnapshot:x};return B.queue=V,UE(gS.bind(null,C,V,p),[p]),C.flags|=2048,Np(9,{destroy:void 0},vS.bind(null,C,V,T,x),null),T},useId:function(){var p=Ds(),x=Wn.identifierPrefix;if(yn){var T=xc,C=yc;T=(C&~(1<<32-Ne(C)-1)).toString(32)+T,x="_"+x+"R_"+T,T=tx++,0<T&&(x+="H"+T.toString(32)),x+="_"}else T=AL++,x="_"+x+"r_"+T.toString(32)+"_";return p.memoizedState=x},useHostTransitionStatus:CS,useFormState:kE,useActionState:kE,useOptimistic:function(p){var x=Ds();x.memoizedState=x.baseState=p;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return x.queue=T,x=Zv.bind(null,Lr,!0,T),T.dispatch=x,[p,x]},useMemoCache:hS,useCacheRefresh:function(){return Ds().memoizedState=RL.bind(null,Lr)},useEffectEvent:function(p){var x=Ds(),T={impl:p};return x.memoizedState=T,function(){if((Sn&2)!==0)throw Error(n(440));return T.impl.apply(void 0,arguments)}}},Lp={readContext:Ei,use:rx,useCallback:bS,useContext:Ei,useEffect:xS,useImperativeHandle:cx,useInsertionEffect:GE,useLayoutEffect:Ro,useMemo:SS,useReducer:nx,useRef:FE,useState:function(){return nx(_u)},useDebugValue:ux,useDeferredValue:function(p,x){var T=Ba();return TS(T,ea.memoizedState,p,x)},useTransition:function(){var p=nx(_u)[0],x=Ba().memoizedState;return[typeof p=="boolean"?p:Xv(p),x]},useSyncExternalStore:pS,useId:Vi,useHostTransitionStatus:CS,useFormState:PE,useActionState:PE,useOptimistic:function(p,x){var T=Ba();return RE(T,ea,p,x)},useMemoCache:hS,useCacheRefresh:DS};Lp.useEffectEvent=HE;var $v={readContext:Ei,use:rx,useCallback:bS,useContext:Ei,useEffect:xS,useImperativeHandle:cx,useInsertionEffect:GE,useLayoutEffect:Ro,useMemo:SS,useReducer:ax,useRef:FE,useState:function(){return ax(_u)},useDebugValue:ux,useDeferredValue:function(p,x){var T=Ba();return ea===null?wS(T,p,x):TS(T,ea.memoizedState,p,x)},useTransition:function(){var p=ax(_u)[0],x=Ba().memoizedState;return[typeof p=="boolean"?p:Xv(p),x]},useSyncExternalStore:pS,useId:Vi,useHostTransitionStatus:CS,useFormState:zE,useActionState:zE,useOptimistic:function(p,x){var T=Ba();return ea!==null?RE(T,ea,p,x):(T.baseState=p,[p,T.queue.dispatch])},useMemoCache:hS,useCacheRefresh:DS};$v.useEffectEvent=HE;function Op(p,x,T,C){x=p.memoizedState,T=T(C,x),T=T==null?x:f({},x,T),p.memoizedState=T,p.lanes===0&&(p.updateQueue.baseState=T)}var Jv={enqueueSetState:function(p,x,T){p=p._reactInternals;var C=Ns(),B=bc(C);B.payload=x,T!=null&&(B.callback=T),x=yu(p,B,C),x!==null&&(w(x,p,C),Lf(x,p,C))},enqueueReplaceState:function(p,x,T){p=p._reactInternals;var C=Ns(),B=bc(C);B.tag=1,B.payload=x,T!=null&&(B.callback=T),x=yu(p,B,C),x!==null&&(w(x,p,C),Lf(x,p,C))},enqueueForceUpdate:function(p,x){p=p._reactInternals;var T=Ns(),C=bc(T);C.tag=2,x!=null&&(C.callback=x),x=yu(p,C,T),x!==null&&(w(x,p,T),Lf(x,p,T))}};function XE(p,x,T,C,B,V,ne){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(C,V,ne):x.prototype&&x.prototype.isPureReactComponent?!yp(T,C)||!yp(B,V):!0}function qE(p,x,T,C){p=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(T,C),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(T,C),x.state!==p&&Jv.enqueueReplaceState(x,x.state,null)}function Hi(p,x){var T=x;if("ref"in x){T={};for(var C in x)C!=="ref"&&(T[C]=x[C])}if(p=p.defaultProps){T===x&&(T=f({},T));for(var B in p)T[B]===void 0&&(T[B]=p[B])}return T}function RS(p){Sf(p)}function ZE(p){console.error(p)}function fx(p){Sf(p)}function hx(p,x){try{var T=p.onUncaughtError;T(x.value,{componentStack:x.stack})}catch(C){setTimeout(function(){throw C})}}function KE(p,x,T){try{var C=p.onCaughtError;C(T.value,{componentStack:T.stack,errorBoundary:x.tag===1?x.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function NS(p,x,T){return T=bc(T),T.tag=3,T.payload={element:null},T.callback=function(){hx(p,x)},T}function kp(p){return p=bc(p),p.tag=3,p}function Ks(p,x,T,C){var B=T.type.getDerivedStateFromError;if(typeof B=="function"){var V=C.value;p.payload=function(){return B(V)},p.callback=function(){KE(x,T,C)}}var ne=T.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(p.callback=function(){KE(x,T,C),typeof B!="function"&&(Dc===null?Dc=new Set([this]):Dc.add(this));var pe=C.stack;this.componentDidCatch(C.value,{componentStack:pe!==null?pe:""})})}function No(p,x,T,C,B){if(T.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(x=T.alternate,x!==null&&Mf(x,T,B,!0),T=hi.current,T!==null){switch(T.tag){case 31:case 13:return cl===null?Hr():T.alternate===null&&Yn===0&&(Yn=3),T.flags&=-257,T.flags|=65536,T.lanes=B,C===Vv?T.flags|=16384:(x=T.updateQueue,x===null?T.updateQueue=new Set([C]):x.add(C),IL(p,C,B)),!1;case 22:return T.flags|=65536,C===Vv?T.flags|=16384:(x=T.updateQueue,x===null?(x={transitions:null,markerInstances:null,retryQueue:new Set([C])},T.updateQueue=x):(T=x.retryQueue,T===null?x.retryQueue=new Set([C]):T.add(C)),IL(p,C,B)),!1}throw Error(n(435,T.tag))}return IL(p,C,B),Hr(),!1}if(yn)return x=hi.current,x!==null?((x.flags&65536)===0&&(x.flags|=256),x.flags|=65536,x.lanes=B,C!==Yy&&(p=Error(n(422),{cause:C}),zv(Ys(p,T)))):(C!==Yy&&(x=Error(n(423),{cause:C}),zv(Ys(x,T))),p=p.current.alternate,p.flags|=65536,B&=-B,p.lanes|=B,C=Ys(C,T),B=NS(p.stateNode,C,B),Jy(p,B),Yn!==4&&(Yn=2)),!1;var V=Error(n(520),{cause:C});if(V=Ys(V,T),Fl===null?Fl=[V]:Fl.push(V),Yn!==4&&(Yn=2),x===null)return!0;C=Ys(C,T),T=x;do{switch(T.tag){case 3:return T.flags|=65536,p=B&-B,T.lanes|=p,p=NS(T.stateNode,C,p),Jy(T,p),!1;case 1:if(x=T.type,V=T.stateNode,(T.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Dc===null||!Dc.has(V))))return T.flags|=65536,B&=-B,T.lanes|=B,B=kp(B),Ks(B,p,T,C),Jy(T,B),!1}T=T.return}while(T!==null);return!1}var dx=Error(n(461)),_a=!1;function Na(p,x,T,C){x.child=p===null?AE(x,null,T,C):Zh(x,p.child,T,C)}function Qv(p,x,T,C,B){T=T.render;var V=x.ref;if("ref"in C){var ne={};for(var pe in C)pe!=="ref"&&(ne[pe]=C[pe])}else ne=C;return Yh(x),C=lS(p,x,T,ne,V,B),pe=cS(),p!==null&&!_a?(uS(p,x,B),Bl(p,x,B)):(yn&&pe&&Wy(x),x.flags|=1,Na(p,x,C,B),x.child)}function eg(p,x,T,C,B){if(p===null){var V=T.type;return typeof V=="function"&&!Ms(V)&&V.defaultProps===void 0&&T.compare===null?(x.tag=15,x.type=V,Io(p,x,V,C,B)):(p=kv(T.type,null,C,x,x.mode,B),p.ref=x.ref,p.return=x,x.child=p)}if(V=p.child,!Pf(p,B)){var ne=V.memoizedProps;if(T=T.compare,T=T!==null?T:yp,T(ne,C)&&p.ref===x.ref)return Bl(p,x,B)}return x.flags|=1,p=gc(V,C),p.ref=x.ref,p.return=x,x.child=p}function Io(p,x,T,C,B){if(p!==null){var V=p.memoizedProps;if(yp(V,C)&&p.ref===x.ref)if(_a=!1,x.pendingProps=C=V,Pf(p,B))(p.flags&131072)!==0&&(_a=!0);else return x.lanes=p.lanes,Bl(p,x,B)}return Pp(p,x,T,C,B)}function Lo(p,x,T,C){var B=C.children,V=p!==null?p.memoizedState:null;if(p===null&&x.stateNode===null&&(x.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((x.flags&128)!==0){if(V=V!==null?V.baseLanes|T:T,p!==null){for(C=x.child=p.child,B=0;C!==null;)B=B|C.lanes|C.childLanes,C=C.sibling;C=B&~V}else C=0,x.child=null;return Ac(p,x,V,T,C)}if((T&536870912)!==0)x.memoizedState={baseLanes:0,cachePool:null},p!==null&&Dp(x,V!==null?V.cachePool:null),V!==null?aS(x,V):iS(),EE(x);else return C=x.lanes=536870912,Ac(p,x,V!==null?V.baseLanes|T:T,T,C)}else V!==null?(Dp(x,V.cachePool),aS(x,V),xu(),x.memoizedState=null):(p!==null&&Dp(x,null),iS(),xu());return Na(p,x,B,T),x.child}function kl(p,x){return p!==null&&p.tag===22||x.stateNode!==null||(x.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.sibling}function Ac(p,x,T,C,B){var V=_c();return V=V===null?null:{parent:xr._currentValue,pool:V},x.memoizedState={baseLanes:T,cachePool:V},p!==null&&Dp(x,null),iS(),EE(x),p!==null&&Mf(p,x,C,!0),x.childLanes=B,null}function ul(p,x){return x=Bp({mode:x.mode,children:x.children},p.mode),x.ref=p.ref,p.child=x,x.return=p,x}function Mi(p,x,T){return Zh(x,p.child,null,T),p=ul(x,x.pendingProps),p.flags|=2,Do(x),x.memoizedState=null,p}function tg(p,x,T){var C=x.pendingProps,B=(x.flags&128)!==0;if(x.flags&=-129,p===null){if(yn){if(C.mode==="hidden")return p=ul(x,C),x.lanes=536870912,kl(null,p);if(sS(x),(p=fa)?(p=tV(p,Ai),p=p!==null&&p.data==="&"?p:null,p!==null&&(x.memoizedState={dehydrated:p,treeContext:mc!==null?{id:yc,overflow:xc}:null,retryLane:536870912,hydrationErrors:null},T=xE(p),T.return=x,x.child=T,Ti=x,fa=null)):p=null,p===null)throw pn(x);return x.lanes=536870912,null}return ul(x,C)}var V=p.memoizedState;if(V!==null){var ne=V.dehydrated;if(sS(x),B)if(x.flags&256)x.flags&=-257,x=Mi(p,x,T);else if(x.memoizedState!==null)x.child=p.child,x.flags|=128,x=null;else throw Error(n(558));else if(_a||Mf(p,x,T,!1),B=(T&p.childLanes)!==0,_a||B){if(C=Wn,C!==null&&(ne=li(C,T),ne!==0&&ne!==V.retryLane))throw V.retryLane=ne,Tf(p,ne),w(C,p,ne),dx;Hr(),x=Mi(p,x,T)}else p=V.treeContext,fa=Rc(ne.nextSibling),Ti=x,yn=!0,du=null,Ai=!1,p!==null&&Bv(x,p),x=ul(x,C),x.flags|=4096;return x}return p=gc(p.child,{mode:C.mode,children:C.children}),p.ref=x.ref,x.child=p,p.return=x,p}function Pl(p,x){var T=x.ref;if(T===null)p!==null&&p.ref!==null&&(x.flags|=4194816);else{if(typeof T!="function"&&typeof T!="object")throw Error(n(284));(p===null||p.ref!==T)&&(x.flags|=4194816)}}function Pp(p,x,T,C,B){return Yh(x),T=lS(p,x,T,C,void 0,B),C=cS(),p!==null&&!_a?(uS(p,x,B),Bl(p,x,B)):(yn&&C&&Wy(x),x.flags|=1,Na(p,x,T,B),x.child)}function fs(p,x,T,C,B,V){return Yh(x),x.updateQueue=null,T=CE(x,C,T,B),ME(p),C=cS(),p!==null&&!_a?(uS(p,x,V),Bl(p,x,V)):(yn&&C&&Wy(x),x.flags|=1,Na(p,x,T,V),x.child)}function Gi(p,x,T,C,B){if(Yh(x),x.stateNode===null){var V=Af,ne=T.contextType;typeof ne=="object"&&ne!==null&&(V=Ei(ne)),V=new T(C,V),x.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,V.updater=Jv,x.stateNode=V,V._reactInternals=x,V=x.stateNode,V.props=C,V.state=x.memoizedState,V.refs={},tS(x),ne=T.contextType,V.context=typeof ne=="object"&&ne!==null?Ei(ne):Af,V.state=x.memoizedState,ne=T.getDerivedStateFromProps,typeof ne=="function"&&(Op(x,T,ne,C),V.state=x.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(ne=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),ne!==V.state&&Jv.enqueueReplaceState(V,V.state,null),Kh(x,C,V,B),jv(),V.state=x.memoizedState),typeof V.componentDidMount=="function"&&(x.flags|=4194308),C=!0}else if(p===null){V=x.stateNode;var pe=x.memoizedProps,ke=Hi(T,pe);V.props=ke;var rt=V.context,mt=T.contextType;ne=Af,typeof mt=="object"&&mt!==null&&(ne=Ei(mt));var Tt=T.getDerivedStateFromProps;mt=typeof Tt=="function"||typeof V.getSnapshotBeforeUpdate=="function",pe=x.pendingProps!==pe,mt||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(pe||rt!==ne)&&qE(x,V,C,ne),If=!1;var ot=x.memoizedState;V.state=ot,Kh(x,C,V,B),jv(),rt=x.memoizedState,pe||ot!==rt||If?(typeof Tt=="function"&&(Op(x,T,Tt,C),rt=x.memoizedState),(ke=If||XE(x,T,ke,C,ot,rt,ne))?(mt||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(x.flags|=4194308)):(typeof V.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=C,x.memoizedState=rt),V.props=C,V.state=rt,V.context=ne,C=ke):(typeof V.componentDidMount=="function"&&(x.flags|=4194308),C=!1)}else{V=x.stateNode,rS(p,x),ne=x.memoizedProps,mt=Hi(T,ne),V.props=mt,Tt=x.pendingProps,ot=V.context,rt=T.contextType,ke=Af,typeof rt=="object"&&rt!==null&&(ke=Ei(rt)),pe=T.getDerivedStateFromProps,(rt=typeof pe=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ne!==Tt||ot!==ke)&&qE(x,V,C,ke),If=!1,ot=x.memoizedState,V.state=ot,Kh(x,C,V,B),jv();var ut=x.memoizedState;ne!==Tt||ot!==ut||If||p!==null&&p.dependencies!==null&&Mp(p.dependencies)?(typeof pe=="function"&&(Op(x,T,pe,C),ut=x.memoizedState),(mt=If||XE(x,T,mt,C,ot,ut,ke)||p!==null&&p.dependencies!==null&&Mp(p.dependencies))?(rt||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(C,ut,ke),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(C,ut,ke)),typeof V.componentDidUpdate=="function"&&(x.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof V.componentDidUpdate!="function"||ne===p.memoizedProps&&ot===p.memoizedState||(x.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ne===p.memoizedProps&&ot===p.memoizedState||(x.flags|=1024),x.memoizedProps=C,x.memoizedState=ut),V.props=C,V.state=ut,V.context=ke,C=mt):(typeof V.componentDidUpdate!="function"||ne===p.memoizedProps&&ot===p.memoizedState||(x.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ne===p.memoizedProps&&ot===p.memoizedState||(x.flags|=1024),C=!1)}return V=C,Pl(p,x),C=(x.flags&128)!==0,V||C?(V=x.stateNode,T=C&&typeof T.getDerivedStateFromError!="function"?null:V.render(),x.flags|=1,p!==null&&C?(x.child=Zh(x,p.child,null,B),x.child=Zh(x,null,T,B)):Na(p,x,T,B),x.memoizedState=V.state,p=x.child):p=Bl(p,x,B),p}function En(p,x,T,C){return Wh(),x.flags|=256,Na(p,x,T,C),x.child}var Oo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fl(p){return{baseLanes:p,cachePool:Zy()}}function rg(p,x,T){return p=p!==null?p.childLanes&~T:0,x&&(p|=wn),p}function ko(p,x,T){var C=x.pendingProps,B=!1,V=(x.flags&128)!==0,ne;if((ne=V)||(ne=p!==null&&p.memoizedState===null?!1:(Da.current&2)!==0),ne&&(B=!0,x.flags&=-129),ne=(x.flags&32)!==0,x.flags&=-33,p===null){if(yn){if(B?Of(x):xu(),(p=fa)?(p=tV(p,Ai),p=p!==null&&p.data!=="&"?p:null,p!==null&&(x.memoizedState={dehydrated:p,treeContext:mc!==null?{id:yc,overflow:xc}:null,retryLane:536870912,hydrationErrors:null},T=xE(p),T.return=x,x.child=T,Ti=x,fa=null)):p=null,p===null)throw pn(x);return qL(p)?x.lanes=32:x.lanes=536870912,null}var pe=C.children;return C=C.fallback,B?(xu(),B=x.mode,pe=Bp({mode:"hidden",children:pe},B),C=fu(C,B,T,null),pe.return=x,C.return=x,pe.sibling=C,x.child=pe,C=x.child,C.memoizedState=fl(T),C.childLanes=rg(p,ne,T),x.memoizedState=Oo,kl(null,C)):(Of(x),kf(x,pe))}var ke=p.memoizedState;if(ke!==null&&(pe=ke.dehydrated,pe!==null)){if(V)x.flags&256?(Of(x),x.flags&=-257,x=zp(p,x,T)):x.memoizedState!==null?(xu(),x.child=p.child,x.flags|=128,x=null):(xu(),pe=C.fallback,B=x.mode,C=Bp({mode:"visible",children:C.children},B),pe=fu(pe,B,T,null),pe.flags|=2,C.return=x,pe.return=x,C.sibling=pe,x.child=C,Zh(x,p.child,null,T),C=x.child,C.memoizedState=fl(T),C.childLanes=rg(p,ne,T),x.memoizedState=Oo,x=kl(null,C));else if(Of(x),qL(pe)){if(ne=pe.nextSibling&&pe.nextSibling.dataset,ne)var rt=ne.dgst;ne=rt,C=Error(n(419)),C.stack="",C.digest=ne,zv({value:C,source:null,stack:null}),x=zp(p,x,T)}else if(_a||Mf(p,x,T,!1),ne=(T&p.childLanes)!==0,_a||ne){if(ne=Wn,ne!==null&&(C=li(ne,T),C!==0&&C!==ke.retryLane))throw ke.retryLane=C,Tf(p,C),w(ne,p,C),dx;XL(pe)||Hr(),x=zp(p,x,T)}else XL(pe)?(x.flags|=192,x.child=p.child,x=null):(p=ke.treeContext,fa=Rc(pe.nextSibling),Ti=x,yn=!0,du=null,Ai=!1,p!==null&&Bv(x,p),x=kf(x,C.children),x.flags|=4096);return x}return B?(xu(),pe=C.fallback,B=x.mode,ke=p.child,rt=ke.sibling,C=gc(ke,{mode:"hidden",children:C.children}),C.subtreeFlags=ke.subtreeFlags&65011712,rt!==null?pe=gc(rt,pe):(pe=fu(pe,B,T,null),pe.flags|=2),pe.return=x,C.return=x,C.sibling=pe,x.child=C,kl(null,C),C=x.child,pe=p.child.memoizedState,pe===null?pe=fl(T):(B=pe.cachePool,B!==null?(ke=xr._currentValue,B=B.parent!==ke?{parent:ke,pool:ke}:B):B=Zy(),pe={baseLanes:pe.baseLanes|T,cachePool:B}),C.memoizedState=pe,C.childLanes=rg(p,ne,T),x.memoizedState=Oo,kl(p.child,C)):(Of(x),T=p.child,p=T.sibling,T=gc(T,{mode:"visible",children:C.children}),T.return=x,T.sibling=null,p!==null&&(ne=x.deletions,ne===null?(x.deletions=[p],x.flags|=16):ne.push(p)),x.child=T,x.memoizedState=null,T)}function kf(p,x){return x=Bp({mode:"visible",children:x},p.mode),x.return=p,p.child=x}function Bp(p,x){return p=Es(22,p,null,x),p.lanes=0,p}function zp(p,x,T){return Zh(x,p.child,null,T),p=kf(x,x.pendingProps.children),p.flags|=2,x.memoizedState=null,p}function Qh(p,x,T){p.lanes|=x;var C=p.alternate;C!==null&&(C.lanes|=x),gu(p.return,x,T)}function ng(p,x,T,C,B,V){var ne=p.memoizedState;ne===null?p.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:C,tail:T,tailMode:B,treeForkCount:V}:(ne.isBackwards=x,ne.rendering=null,ne.renderingStartTime=0,ne.last=C,ne.tail=T,ne.tailMode=B,ne.treeForkCount=V)}function ag(p,x,T){var C=x.pendingProps,B=C.revealOrder,V=C.tail;C=C.children;var ne=Da.current,pe=(ne&2)!==0;if(pe?(ne=ne&1|2,x.flags|=128):ne&=1,J(Da,ne),Na(p,x,C,T),C=yn?Ep:0,!pe&&p!==null&&(p.flags&128)!==0)e:for(p=x.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Qh(p,T,x);else if(p.tag===19)Qh(p,T,x);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===x)break e;for(;p.sibling===null;){if(p.return===null||p.return===x)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}switch(B){case"forwards":for(T=x.child,B=null;T!==null;)p=T.alternate,p!==null&&Qy(p)===null&&(B=T),T=T.sibling;T=B,T===null?(B=x.child,x.child=null):(B=T.sibling,T.sibling=null),ng(x,!1,B,T,V,C);break;case"backwards":case"unstable_legacy-backwards":for(T=null,B=x.child,x.child=null;B!==null;){if(p=B.alternate,p!==null&&Qy(p)===null){x.child=B;break}p=B.sibling,B.sibling=T,T=B,B=p}ng(x,!0,T,null,V,C);break;case"together":ng(x,!1,null,null,void 0,C);break;default:x.memoizedState=null}return x.child}function Bl(p,x,T){if(p!==null&&(x.dependencies=p.dependencies),zo|=x.lanes,(T&x.childLanes)===0)if(p!==null){if(Mf(p,x,T,!1),(T&x.childLanes)===0)return null}else return null;if(p!==null&&x.child!==p.child)throw Error(n(153));if(x.child!==null){for(p=x.child,T=gc(p,p.pendingProps),x.child=T,T.return=x;p.sibling!==null;)p=p.sibling,T=T.sibling=gc(p,p.pendingProps),T.return=x;T.sibling=null}return x.child}function Pf(p,x){return(p.lanes&x)!==0?!0:(p=p.dependencies,!!(p!==null&&Mp(p)))}function ig(p,x,T){switch(x.tag){case 3:Se(x,x.stateNode.containerInfo),vu(x,xr,p.memoizedState.cache),Wh();break;case 27:case 5:Me(x);break;case 4:Se(x,x.stateNode.containerInfo);break;case 10:vu(x,x.type,x.memoizedProps.value);break;case 31:if(x.memoizedState!==null)return x.flags|=128,sS(x),null;break;case 13:var C=x.memoizedState;if(C!==null)return C.dehydrated!==null?(Of(x),x.flags|=128,null):(T&x.child.childLanes)!==0?ko(p,x,T):(Of(x),p=Bl(p,x,T),p!==null?p.sibling:null);Of(x);break;case 19:var B=(p.flags&128)!==0;if(C=(T&x.childLanes)!==0,C||(Mf(p,x,T,!1),C=(T&x.childLanes)!==0),B){if(C)return ag(p,x,T);x.flags|=128}if(B=x.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),J(Da,Da.current),C)break;return null;case 22:return x.lanes=0,Lo(p,x,T,x.pendingProps);case 24:vu(x,xr,p.memoizedState.cache)}return Bl(p,x,T)}function px(p,x,T){if(p!==null)if(p.memoizedProps!==x.pendingProps)_a=!0;else{if(!Pf(p,T)&&(x.flags&128)===0)return _a=!1,ig(p,x,T);_a=(p.flags&131072)!==0}else _a=!1,yn&&(x.flags&1048576)!==0&&jb(x,Ep,x.index);switch(x.lanes=0,x.tag){case 16:e:{var C=x.pendingProps;if(p=qh(x.elementType),x.type=p,typeof p=="function")Ms(p)?(C=Hi(p,C),x.tag=1,x=Gi(null,x,p,C,T)):(x.tag=0,x=Pp(null,x,p,C,T));else{if(p!=null){var B=p.$$typeof;if(B===A){x.tag=11,x=Qv(null,x,p,C,T);break e}else if(B===R){x.tag=14,x=eg(null,x,p,C,T);break e}}throw x=F(p)||p,Error(n(306,x,""))}}return x;case 0:return Pp(p,x,x.type,x.pendingProps,T);case 1:return C=x.type,B=Hi(C,x.pendingProps),Gi(p,x,C,B,T);case 3:e:{if(Se(x,x.stateNode.containerInfo),p===null)throw Error(n(387));C=x.pendingProps;var V=x.memoizedState;B=V.element,rS(p,x),Kh(x,C,null,T);var ne=x.memoizedState;if(C=ne.cache,vu(x,xr,C),C!==V.cache&&qy(x,[xr],T,!0),jv(),C=ne.element,V.isDehydrated)if(V={element:C,isDehydrated:!1,cache:ne.cache},x.updateQueue.baseState=V,x.memoizedState=V,x.flags&256){x=En(p,x,C,T);break e}else if(C!==B){B=Ys(Error(n(424)),x),zv(B),x=En(p,x,C,T);break e}else{switch(p=x.stateNode.containerInfo,p.nodeType){case 9:p=p.body;break;default:p=p.nodeName==="HTML"?p.ownerDocument.body:p}for(fa=Rc(p.firstChild),Ti=x,yn=!0,du=null,Ai=!0,T=AE(x,null,C,T),x.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling}else{if(Wh(),C===B){x=Bl(p,x,T);break e}Na(p,x,C,T)}x=x.child}return x;case 26:return Pl(p,x),p===null?(T=oV(x.type,null,x.pendingProps,null))?x.memoizedState=T:yn||(T=x.type,p=x.pendingProps,C=aM(ce.current).createElement(T),C[ge]=x,C[Ae]=p,Is(C,T,p),Ue(C),x.stateNode=C):x.memoizedState=oV(x.type,p.memoizedProps,x.pendingProps,p.memoizedState),null;case 27:return Me(x),p===null&&yn&&(C=x.stateNode=aV(x.type,x.pendingProps,ce.current),Ti=x,Ai=!0,B=fa,Wp(x.type)?(ZL=B,fa=Rc(C.firstChild)):fa=B),Na(p,x,x.pendingProps.children,T),Pl(p,x),p===null&&(x.flags|=4194304),x.child;case 5:return p===null&&yn&&((B=C=fa)&&(C=She(C,x.type,x.pendingProps,Ai),C!==null?(x.stateNode=C,Ti=x,fa=Rc(C.firstChild),Ai=!1,B=!0):B=!1),B||pn(x)),Me(x),B=x.type,V=x.pendingProps,ne=p!==null?p.memoizedProps:null,C=V.children,jL(B,V)?C=null:ne!==null&&jL(B,ne)&&(x.flags|=32),x.memoizedState!==null&&(B=lS(p,x,EL,null,null,T),VS._currentValue=B),Pl(p,x),Na(p,x,C,T),x.child;case 6:return p===null&&yn&&((p=T=fa)&&(T=whe(T,x.pendingProps,Ai),T!==null?(x.stateNode=T,Ti=x,fa=null,p=!0):p=!1),p||pn(x)),null;case 13:return ko(p,x,T);case 4:return Se(x,x.stateNode.containerInfo),C=x.pendingProps,p===null?x.child=Zh(x,null,C,T):Na(p,x,C,T),x.child;case 11:return Qv(p,x,x.type,x.pendingProps,T);case 7:return Na(p,x,x.pendingProps,T),x.child;case 8:return Na(p,x,x.pendingProps.children,T),x.child;case 12:return Na(p,x,x.pendingProps.children,T),x.child;case 10:return C=x.pendingProps,vu(x,x.type,C.value),Na(p,x,C.children,T),x.child;case 9:return B=x.type._context,C=x.pendingProps.children,Yh(x),B=Ei(B),C=C(B),x.flags|=1,Na(p,x,C,T),x.child;case 14:return eg(p,x,x.type,x.pendingProps,T);case 15:return Io(p,x,x.type,x.pendingProps,T);case 19:return ag(p,x,T);case 31:return tg(p,x,T);case 22:return Lo(p,x,T,x.pendingProps);case 24:return Yh(x),C=Ei(xr),p===null?(B=_c(),B===null&&(B=Wn,V=Zb(),B.pooledCache=V,V.refCount++,V!==null&&(B.pooledCacheLanes|=T),B=V),x.memoizedState={parent:C,cache:B},tS(x),vu(x,xr,B)):((p.lanes&T)!==0&&(rS(p,x),Kh(x,null,null,T),jv()),B=p.memoizedState,V=x.memoizedState,B.parent!==C?(B={parent:C,cache:C},x.memoizedState=B,x.lanes===0&&(x.memoizedState=x.updateQueue.baseState=B),vu(x,xr,C)):(C=V.cache,vu(x,xr,C),C!==B.cache&&qy(x,[xr],T,!0))),Na(p,x,x.pendingProps.children,T),x.child;case 29:throw x.pendingProps}throw Error(n(156,x.tag))}function $s(p){p.flags|=4}function Bf(p,x,T,C,B){if((x=(p.mode&32)!==0)&&(x=!1),x){if(p.flags|=16777216,(B&335544128)===B)if(p.stateNode.complete)p.flags|=8192;else if(Ft())p.flags|=8192;else throw Dr=Vv,Uv}else p.flags&=-16777217}function Su(p,x){if(x.type!=="stylesheet"||(x.state.loading&4)!==0)p.flags&=-16777217;else if(p.flags|=16777216,!hV(x))if(Ft())p.flags|=8192;else throw Dr=Vv,Uv}function Fp(p,x){x!==null&&(p.flags|=4),p.flags&16384&&(x=p.tag!==22?wr():536870912,p.lanes|=x,Fo|=x)}function sg(p,x){if(!yn)switch(p.tailMode){case"hidden":x=p.tail;for(var T=null;x!==null;)x.alternate!==null&&(T=x),x=x.sibling;T===null?p.tail=null:T.sibling=null;break;case"collapsed":T=p.tail;for(var C=null;T!==null;)T.alternate!==null&&(C=T),T=T.sibling;C===null?x||p.tail===null?p.tail=null:p.tail.sibling=null:C.sibling=null}}function Zn(p){var x=p.alternate!==null&&p.alternate.child===p.child,T=0,C=0;if(x)for(var B=p.child;B!==null;)T|=B.lanes|B.childLanes,C|=B.subtreeFlags&65011712,C|=B.flags&65011712,B.return=p,B=B.sibling;else for(B=p.child;B!==null;)T|=B.lanes|B.childLanes,C|=B.subtreeFlags,C|=B.flags,B.return=p,B=B.sibling;return p.subtreeFlags|=C,p.childLanes=T,x}function IS(p,x,T){var C=x.pendingProps;switch(Ef(x),x.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(x),null;case 1:return Zn(x),null;case 3:return T=x.stateNode,C=null,p!==null&&(C=p.memoizedState.cache),x.memoizedState.cache!==C&&(x.flags|=2048),ll(xr),we(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(p===null||p.child===null)&&(jh(x)?$s(x):p===null||p.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Wb())),Zn(x),null;case 26:var B=x.type,V=x.memoizedState;return p===null?($s(x),V!==null?(Zn(x),Su(x,V)):(Zn(x),Bf(x,B,null,C,T))):V?V!==p.memoizedState?($s(x),Zn(x),Su(x,V)):(Zn(x),x.flags&=-16777217):(p=p.memoizedProps,p!==C&&$s(x),Zn(x),Bf(x,B,p,C,T)),null;case 27:if(Ve(x),T=ce.current,B=x.type,p!==null&&x.stateNode!=null)p.memoizedProps!==C&&$s(x);else{if(!C){if(x.stateNode===null)throw Error(n(166));return Zn(x),null}p=ee.current,jh(x)?Xy(x):(p=aV(B,C,T),x.stateNode=p,$s(x))}return Zn(x),null;case 5:if(Ve(x),B=x.type,p!==null&&x.stateNode!=null)p.memoizedProps!==C&&$s(x);else{if(!C){if(x.stateNode===null)throw Error(n(166));return Zn(x),null}if(V=ee.current,jh(x))Xy(x);else{var ne=aM(ce.current);switch(V){case 1:V=ne.createElementNS("http://www.w3.org/2000/svg",B);break;case 2:V=ne.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;default:switch(B){case"svg":V=ne.createElementNS("http://www.w3.org/2000/svg",B);break;case"math":V=ne.createElementNS("http://www.w3.org/1998/Math/MathML",B);break;case"script":V=ne.createElement("div"),V.innerHTML="<script><\/script>",V=V.removeChild(V.firstChild);break;case"select":V=typeof C.is=="string"?ne.createElement("select",{is:C.is}):ne.createElement("select"),C.multiple?V.multiple=!0:C.size&&(V.size=C.size);break;default:V=typeof C.is=="string"?ne.createElement(B,{is:C.is}):ne.createElement(B)}}V[ge]=x,V[Ae]=C;e:for(ne=x.child;ne!==null;){if(ne.tag===5||ne.tag===6)V.appendChild(ne.stateNode);else if(ne.tag!==4&&ne.tag!==27&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===x)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===x)break e;ne=ne.return}ne.sibling.return=ne.return,ne=ne.sibling}x.stateNode=V;e:switch(Is(V,B,C),B){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}C&&$s(x)}}return Zn(x),Bf(x,x.type,p===null?null:p.memoizedProps,x.pendingProps,T),null;case 6:if(p&&x.stateNode!=null)p.memoizedProps!==C&&$s(x);else{if(typeof C!="string"&&x.stateNode===null)throw Error(n(166));if(p=ce.current,jh(x)){if(p=x.stateNode,T=x.memoizedProps,C=null,B=Ti,B!==null)switch(B.tag){case 27:case 5:C=B.memoizedProps}p[ge]=x,p=!!(p.nodeValue===T||C!==null&&C.suppressHydrationWarning===!0||X9(p.nodeValue,T)),p||pn(x,!0)}else p=aM(p).createTextNode(C),p[ge]=x,x.stateNode=p}return Zn(x),null;case 31:if(T=x.memoizedState,p===null||p.memoizedState!==null){if(C=jh(x),T!==null){if(p===null){if(!C)throw Error(n(318));if(p=x.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(557));p[ge]=x}else Wh(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Zn(x),p=!1}else T=Wb(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=T),p=!0;if(!p)return x.flags&256?(Do(x),x):(Do(x),null);if((x.flags&128)!==0)throw Error(n(558))}return Zn(x),null;case 13:if(C=x.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(B=jh(x),C!==null&&C.dehydrated!==null){if(p===null){if(!B)throw Error(n(318));if(B=x.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(n(317));B[ge]=x}else Wh(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Zn(x),B=!1}else B=Wb(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=B),B=!0;if(!B)return x.flags&256?(Do(x),x):(Do(x),null)}return Do(x),(x.flags&128)!==0?(x.lanes=T,x):(T=C!==null,p=p!==null&&p.memoizedState!==null,T&&(C=x.child,B=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(B=C.alternate.memoizedState.cachePool.pool),V=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(V=C.memoizedState.cachePool.pool),V!==B&&(C.flags|=2048)),T!==p&&T&&(x.child.flags|=8192),Fp(x,x.updateQueue),Zn(x),null);case 4:return we(),p===null&&FL(x.stateNode.containerInfo),Zn(x),null;case 10:return ll(x.type),Zn(x),null;case 19:if(j(Da),C=x.memoizedState,C===null)return Zn(x),null;if(B=(x.flags&128)!==0,V=C.rendering,V===null)if(B)sg(C,!1);else{if(Yn!==0||p!==null&&(p.flags&128)!==0)for(p=x.child;p!==null;){if(V=Qy(p),V!==null){for(x.flags|=128,sg(C,!1),p=V.updateQueue,x.updateQueue=p,Fp(x,p),x.subtreeFlags=0,p=T,T=x.child;T!==null;)ls(T,p),T=T.sibling;return J(Da,Da.current&1|2),yn&&hu(x,C.treeForkCount),x.child}p=p.sibling}C.tail!==null&&ie()>Uo&&(x.flags|=128,B=!0,sg(C,!1),x.lanes=4194304)}else{if(!B)if(p=Qy(V),p!==null){if(x.flags|=128,B=!0,p=p.updateQueue,x.updateQueue=p,Fp(x,p),sg(C,!0),C.tail===null&&C.tailMode==="hidden"&&!V.alternate&&!yn)return Zn(x),null}else 2*ie()-C.renderingStartTime>Uo&&T!==536870912&&(x.flags|=128,B=!0,sg(C,!1),x.lanes=4194304);C.isBackwards?(V.sibling=x.child,x.child=V):(p=C.last,p!==null?p.sibling=V:x.child=V,C.last=V)}return C.tail!==null?(p=C.tail,C.rendering=p,C.tail=p.sibling,C.renderingStartTime=ie(),p.sibling=null,T=Da.current,J(Da,B?T&1|2:T&1),yn&&hu(x,C.treeForkCount),p):(Zn(x),null);case 22:case 23:return Do(x),us(),C=x.memoizedState!==null,p!==null?p.memoizedState!==null!==C&&(x.flags|=8192):C&&(x.flags|=8192),C?(T&536870912)!==0&&(x.flags&128)===0&&(Zn(x),x.subtreeFlags&6&&(x.flags|=8192)):Zn(x),T=x.updateQueue,T!==null&&Fp(x,T.retryQueue),T=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),C=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(C=x.memoizedState.cachePool.pool),C!==T&&(x.flags|=2048),p!==null&&j(Cf),null;case 24:return T=null,p!==null&&(T=p.memoizedState.cache),x.memoizedState.cache!==T&&(x.flags|=2048),ll(xr),Zn(x),null;case 25:return null;case 30:return null}throw Error(n(156,x.tag))}function vx(p,x){switch(Ef(x),x.tag){case 1:return p=x.flags,p&65536?(x.flags=p&-65537|128,x):null;case 3:return ll(xr),we(),p=x.flags,(p&65536)!==0&&(p&128)===0?(x.flags=p&-65537|128,x):null;case 26:case 27:case 5:return Ve(x),null;case 31:if(x.memoizedState!==null){if(Do(x),x.alternate===null)throw Error(n(340));Wh()}return p=x.flags,p&65536?(x.flags=p&-65537|128,x):null;case 13:if(Do(x),p=x.memoizedState,p!==null&&p.dehydrated!==null){if(x.alternate===null)throw Error(n(340));Wh()}return p=x.flags,p&65536?(x.flags=p&-65537|128,x):null;case 19:return j(Da),null;case 4:return we(),null;case 10:return ll(x.type),null;case 22:case 23:return Do(x),us(),p!==null&&j(Cf),p=x.flags,p&65536?(x.flags=p&-65537|128,x):null;case 24:return ll(xr),null;case 25:return null;default:return null}}function ed(p,x){switch(Ef(x),x.tag){case 3:ll(xr),we();break;case 26:case 27:case 5:Ve(x);break;case 4:we();break;case 31:x.memoizedState!==null&&Do(x);break;case 13:Do(x);break;case 19:j(Da);break;case 10:ll(x.type);break;case 22:case 23:Do(x),us(),p!==null&&j(Cf);break;case 24:ll(xr)}}function Ec(p,x){try{var T=x.updateQueue,C=T!==null?T.lastEffect:null;if(C!==null){var B=C.next;T=B;do{if((T.tag&p)===p){C=void 0;var V=T.create,ne=T.inst;C=V(),ne.destroy=C}T=T.next}while(T!==B)}}catch(pe){ia(x,x.return,pe)}}function hl(p,x,T){try{var C=x.updateQueue,B=C!==null?C.lastEffect:null;if(B!==null){var V=B.next;C=V;do{if((C.tag&p)===p){var ne=C.inst,pe=ne.destroy;if(pe!==void 0){ne.destroy=void 0,B=x;var ke=T,rt=pe;try{rt()}catch(mt){ia(B,ke,mt)}}}C=C.next}while(C!==V)}}catch(mt){ia(x,x.return,mt)}}function zf(p){var x=p.updateQueue;if(x!==null){var T=p.stateNode;try{Ui(x,T)}catch(C){ia(p,p.return,C)}}}function LS(p,x,T){T.props=Hi(p.type,p.memoizedProps),T.state=p.memoizedState;try{T.componentWillUnmount()}catch(C){ia(p,x,C)}}function Mc(p,x){try{var T=p.ref;if(T!==null){switch(p.tag){case 26:case 27:case 5:var C=p.stateNode;break;case 30:C=p.stateNode;break;default:C=p.stateNode}typeof T=="function"?p.refCleanup=T(C):T.current=C}}catch(B){ia(p,x,B)}}function Po(p,x){var T=p.ref,C=p.refCleanup;if(T!==null)if(typeof C=="function")try{C()}catch(B){ia(p,x,B)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(B){ia(p,x,B)}else T.current=null}function Bo(p){var x=p.type,T=p.memoizedProps,C=p.stateNode;try{e:switch(x){case"button":case"input":case"select":case"textarea":T.autoFocus&&C.focus();break e;case"img":T.src?C.src=T.src:T.srcSet&&(C.srcset=T.srcSet)}}catch(B){ia(p,p.return,B)}}function dl(p,x,T){try{var C=p.stateNode;ghe(C,p.type,T,x),C[Ae]=x}catch(B){ia(p,p.return,B)}}function Ka(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27&&Wp(p.type)||p.tag===4}function Cc(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Ka(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.tag===27&&Wp(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Jr(p,x,T){var C=p.tag;if(C===5||C===6)p=p.stateNode,x?(T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T).insertBefore(p,x):(x=T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T,x.appendChild(p),T=T._reactRootContainer,T!=null||x.onclick!==null||(x.onclick=dc));else if(C!==4&&(C===27&&Wp(p.type)&&(T=p.stateNode,x=null),p=p.child,p!==null))for(Jr(p,x,T),p=p.sibling;p!==null;)Jr(p,x,T),p=p.sibling}function zn(p,x,T){var C=p.tag;if(C===5||C===6)p=p.stateNode,x?T.insertBefore(p,x):T.appendChild(p);else if(C!==4&&(C===27&&Wp(p.type)&&(T=p.stateNode),p=p.child,p!==null))for(zn(p,x,T),p=p.sibling;p!==null;)zn(p,x,T),p=p.sibling}function za(p){var x=p.stateNode,T=p.memoizedProps;try{for(var C=p.type,B=x.attributes;B.length;)x.removeAttributeNode(B[0]);Is(x,C,T),x[ge]=p,x[Ae]=T}catch(V){ia(p,p.return,V)}}var pl=!1,ba=!1,wu=!1,og=typeof WeakSet=="function"?WeakSet:Set,Ia=null;function Up(p,x){if(p=p.containerInfo,HL=fM,p=By(p),xp(p)){if("selectionStart"in p)var T={start:p.selectionStart,end:p.selectionEnd};else e:{T=(T=p.ownerDocument)&&T.defaultView||window;var C=T.getSelection&&T.getSelection();if(C&&C.rangeCount!==0){T=C.anchorNode;var B=C.anchorOffset,V=C.focusNode;C=C.focusOffset;try{T.nodeType,V.nodeType}catch{T=null;break e}var ne=0,pe=-1,ke=-1,rt=0,mt=0,Tt=p,ot=null;t:for(;;){for(var ut;Tt!==T||B!==0&&Tt.nodeType!==3||(pe=ne+B),Tt!==V||C!==0&&Tt.nodeType!==3||(ke=ne+C),Tt.nodeType===3&&(ne+=Tt.nodeValue.length),(ut=Tt.firstChild)!==null;)ot=Tt,Tt=ut;for(;;){if(Tt===p)break t;if(ot===T&&++rt===B&&(pe=ne),ot===V&&++mt===C&&(ke=ne),(ut=Tt.nextSibling)!==null)break;Tt=ot,ot=Tt.parentNode}Tt=ut}T=pe===-1||ke===-1?null:{start:pe,end:ke}}else T=null}T=T||{start:0,end:0}}else T=null;for(GL={focusedElem:p,selectionRange:T},fM=!1,Ia=x;Ia!==null;)if(x=Ia,p=x.child,(x.subtreeFlags&1028)!==0&&p!==null)p.return=x,Ia=p;else for(;Ia!==null;){switch(x=Ia,V=x.alternate,p=x.flags,x.tag){case 0:if((p&4)!==0&&(p=x.updateQueue,p=p!==null?p.events:null,p!==null))for(T=0;T<p.length;T++)B=p[T],B.ref.impl=B.nextImpl;break;case 11:case 15:break;case 1:if((p&1024)!==0&&V!==null){p=void 0,T=x,B=V.memoizedProps,V=V.memoizedState,C=T.stateNode;try{var lr=Hi(T.type,B);p=C.getSnapshotBeforeUpdate(lr,V),C.__reactInternalSnapshotBeforeUpdate=p}catch(Ir){ia(T,T.return,Ir)}}break;case 3:if((p&1024)!==0){if(p=x.stateNode.containerInfo,T=p.nodeType,T===9)YL(p);else if(T===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":YL(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(n(163))}if(p=x.sibling,p!==null){p.return=x.return,Ia=p;break}Ia=x.return}}function $E(p,x,T){var C=T.flags;switch(T.tag){case 0:case 11:case 15:Tu(p,T),C&4&&Ec(5,T);break;case 1:if(Tu(p,T),C&4)if(p=T.stateNode,x===null)try{p.componentDidMount()}catch(ne){ia(T,T.return,ne)}else{var B=Hi(T.type,x.memoizedProps);x=x.memoizedState;try{p.componentDidUpdate(B,x,p.__reactInternalSnapshotBeforeUpdate)}catch(ne){ia(T,T.return,ne)}}C&64&&zf(T),C&512&&Mc(T,T.return);break;case 3:if(Tu(p,T),C&64&&(p=T.updateQueue,p!==null)){if(x=null,T.child!==null)switch(T.child.tag){case 27:case 5:x=T.child.stateNode;break;case 1:x=T.child.stateNode}try{Ui(p,x)}catch(ne){ia(T,T.return,ne)}}break;case 27:x===null&&C&4&&za(T);case 26:case 5:Tu(p,T),x===null&&C&4&&Bo(T),C&512&&Mc(T,T.return);break;case 12:Tu(p,T);break;case 31:Tu(p,T),C&4&&mx(p,T);break;case 13:Tu(p,T),C&4&&OS(p,T),C&64&&(p=T.memoizedState,p!==null&&(p=p.dehydrated,p!==null&&(T=ahe.bind(null,T),The(p,T))));break;case 22:if(C=T.memoizedState!==null||pl,!C){x=x!==null&&x.memoizedState!==null||ba,B=pl;var V=ba;pl=C,(ba=x)&&!V?jn(p,T,(T.subtreeFlags&8772)!==0):Tu(p,T),pl=B,ba=V}break;case 30:break;default:Tu(p,T)}}function gx(p){var x=p.alternate;x!==null&&(p.alternate=null,gx(x)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(x=p.stateNode,x!==null&&Rt(x)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var Mn=null,$a=!1;function hs(p,x,T){for(T=T.child;T!==null;)Ff(p,x,T),T=T.sibling}function Ff(p,x,T){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount($e,T)}catch{}switch(T.tag){case 26:ba||Po(T,x),hs(p,x,T),T.memoizedState?T.memoizedState.count--:T.stateNode&&(T=T.stateNode,T.parentNode.removeChild(T));break;case 27:ba||Po(T,x);var C=Mn,B=$a;Wp(T.type)&&(Mn=T.stateNode,$a=!1),hs(p,x,T),zS(T.stateNode),Mn=C,$a=B;break;case 5:ba||Po(T,x);case 6:if(C=Mn,B=$a,Mn=null,hs(p,x,T),Mn=C,$a=B,Mn!==null)if($a)try{(Mn.nodeType===9?Mn.body:Mn.nodeName==="HTML"?Mn.ownerDocument.body:Mn).removeChild(T.stateNode)}catch(V){ia(T,x,V)}else try{Mn.removeChild(T.stateNode)}catch(V){ia(T,x,V)}break;case 18:Mn!==null&&($a?(p=Mn,Q9(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,T.stateNode),Dx(p)):Q9(Mn,T.stateNode));break;case 4:C=Mn,B=$a,Mn=T.stateNode.containerInfo,$a=!0,hs(p,x,T),Mn=C,$a=B;break;case 0:case 11:case 14:case 15:hl(2,T,x),ba||hl(4,T,x),hs(p,x,T);break;case 1:ba||(Po(T,x),C=T.stateNode,typeof C.componentWillUnmount=="function"&&LS(T,x,C)),hs(p,x,T);break;case 21:hs(p,x,T);break;case 22:ba=(C=ba)||T.memoizedState!==null,hs(p,x,T),ba=C;break;default:hs(p,x,T)}}function mx(p,x){if(x.memoizedState===null&&(p=x.alternate,p!==null&&(p=p.memoizedState,p!==null))){p=p.dehydrated;try{Dx(p)}catch(T){ia(x,x.return,T)}}}function OS(p,x){if(x.memoizedState===null&&(p=x.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{Dx(p)}catch(T){ia(x,x.return,T)}}function JE(p){switch(p.tag){case 31:case 13:case 19:var x=p.stateNode;return x===null&&(x=p.stateNode=new og),x;case 22:return p=p.stateNode,x=p._retryCache,x===null&&(x=p._retryCache=new og),x;default:throw Error(n(435,p.tag))}}function Fa(p,x){var T=JE(p);x.forEach(function(C){if(!T.has(C)){T.add(C);var B=ihe.bind(null,p,C);C.then(B,B)}})}function ds(p,x){var T=x.deletions;if(T!==null)for(var C=0;C<T.length;C++){var B=T[C],V=p,ne=x,pe=ne;e:for(;pe!==null;){switch(pe.tag){case 27:if(Wp(pe.type)){Mn=pe.stateNode,$a=!1;break e}break;case 5:Mn=pe.stateNode,$a=!1;break e;case 3:case 4:Mn=pe.stateNode.containerInfo,$a=!0;break e}pe=pe.return}if(Mn===null)throw Error(n(160));Ff(V,ne,B),Mn=null,$a=!1,V=B.alternate,V!==null&&(V.return=null),B.return=null}if(x.subtreeFlags&13886)for(x=x.child;x!==null;)Uf(x,p),x=x.sibling}var Js=null;function Uf(p,x){var T=p.alternate,C=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:ds(x,p),La(p),C&4&&(hl(3,p,p.return),Ec(3,p),hl(5,p,p.return));break;case 1:ds(x,p),La(p),C&512&&(ba||T===null||Po(T,T.return)),C&64&&pl&&(p=p.updateQueue,p!==null&&(C=p.callbacks,C!==null&&(T=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=T===null?C:T.concat(C))));break;case 26:var B=Js;if(ds(x,p),La(p),C&512&&(ba||T===null||Po(T,T.return)),C&4){var V=T!==null?T.memoizedState:null;if(C=p.memoizedState,T===null)if(C===null)if(p.stateNode===null){e:{C=p.type,T=p.memoizedProps,B=B.ownerDocument||B;t:switch(C){case"title":V=B.getElementsByTagName("title")[0],(!V||V[at]||V[ge]||V.namespaceURI==="http://www.w3.org/2000/svg"||V.hasAttribute("itemprop"))&&(V=B.createElement(C),B.head.insertBefore(V,B.querySelector("head > title"))),Is(V,C,T),V[ge]=p,Ue(V),C=V;break e;case"link":var ne=uV("link","href",B).get(C+(T.href||""));if(ne){for(var pe=0;pe<ne.length;pe++)if(V=ne[pe],V.getAttribute("href")===(T.href==null||T.href===""?null:T.href)&&V.getAttribute("rel")===(T.rel==null?null:T.rel)&&V.getAttribute("title")===(T.title==null?null:T.title)&&V.getAttribute("crossorigin")===(T.crossOrigin==null?null:T.crossOrigin)){ne.splice(pe,1);break t}}V=B.createElement(C),Is(V,C,T),B.head.appendChild(V);break;case"meta":if(ne=uV("meta","content",B).get(C+(T.content||""))){for(pe=0;pe<ne.length;pe++)if(V=ne[pe],V.getAttribute("content")===(T.content==null?null:""+T.content)&&V.getAttribute("name")===(T.name==null?null:T.name)&&V.getAttribute("property")===(T.property==null?null:T.property)&&V.getAttribute("http-equiv")===(T.httpEquiv==null?null:T.httpEquiv)&&V.getAttribute("charset")===(T.charSet==null?null:T.charSet)){ne.splice(pe,1);break t}}V=B.createElement(C),Is(V,C,T),B.head.appendChild(V);break;default:throw Error(n(468,C))}V[ge]=p,Ue(V),C=V}p.stateNode=C}else fV(B,p.type,p.stateNode);else p.stateNode=cV(B,C,p.memoizedProps);else V!==C?(V===null?T.stateNode!==null&&(T=T.stateNode,T.parentNode.removeChild(T)):V.count--,C===null?fV(B,p.type,p.stateNode):cV(B,C,p.memoizedProps)):C===null&&p.stateNode!==null&&dl(p,p.memoizedProps,T.memoizedProps)}break;case 27:ds(x,p),La(p),C&512&&(ba||T===null||Po(T,T.return)),T!==null&&C&4&&dl(p,p.memoizedProps,T.memoizedProps);break;case 5:if(ds(x,p),La(p),C&512&&(ba||T===null||Po(T,T.return)),p.flags&32){B=p.stateNode;try{Dl(B,"")}catch(lr){ia(p,p.return,lr)}}C&4&&p.stateNode!=null&&(B=p.memoizedProps,dl(p,B,T!==null?T.memoizedProps:B)),C&1024&&(wu=!0);break;case 6:if(ds(x,p),La(p),C&4){if(p.stateNode===null)throw Error(n(162));C=p.memoizedProps,T=p.stateNode;try{T.nodeValue=C}catch(lr){ia(p,p.return,lr)}}break;case 3:if(oM=null,B=Js,Js=iM(x.containerInfo),ds(x,p),Js=B,La(p),C&4&&T!==null&&T.memoizedState.isDehydrated)try{Dx(x.containerInfo)}catch(lr){ia(p,p.return,lr)}wu&&(wu=!1,QE(p));break;case 4:C=Js,Js=iM(p.stateNode.containerInfo),ds(x,p),La(p),Js=C;break;case 12:ds(x,p),La(p);break;case 31:ds(x,p),La(p),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,Fa(p,C)));break;case 13:ds(x,p),La(p),p.child.flags&8192&&p.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(Mu=ie()),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,Fa(p,C)));break;case 22:B=p.memoizedState!==null;var ke=T!==null&&T.memoizedState!==null,rt=pl,mt=ba;if(pl=rt||B,ba=mt||ke,ds(x,p),ba=mt,pl=rt,La(p),C&8192)e:for(x=p.stateNode,x._visibility=B?x._visibility&-2:x._visibility|1,B&&(T===null||ke||pl||ba||td(p)),T=null,x=p;;){if(x.tag===5||x.tag===26){if(T===null){ke=T=x;try{if(V=ke.stateNode,B)ne=V.style,typeof ne.setProperty=="function"?ne.setProperty("display","none","important"):ne.display="none";else{pe=ke.stateNode;var Tt=ke.memoizedProps.style,ot=Tt!=null&&Tt.hasOwnProperty("display")?Tt.display:null;pe.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(lr){ia(ke,ke.return,lr)}}}else if(x.tag===6){if(T===null){ke=x;try{ke.stateNode.nodeValue=B?"":ke.memoizedProps}catch(lr){ia(ke,ke.return,lr)}}}else if(x.tag===18){if(T===null){ke=x;try{var ut=ke.stateNode;B?eV(ut,!0):eV(ke.stateNode,!1)}catch(lr){ia(ke,ke.return,lr)}}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===p)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===p)break e;for(;x.sibling===null;){if(x.return===null||x.return===p)break e;T===x&&(T=null),x=x.return}T===x&&(T=null),x.sibling.return=x.return,x=x.sibling}C&4&&(C=p.updateQueue,C!==null&&(T=C.retryQueue,T!==null&&(C.retryQueue=null,Fa(p,T))));break;case 19:ds(x,p),La(p),C&4&&(C=p.updateQueue,C!==null&&(p.updateQueue=null,Fa(p,C)));break;case 30:break;case 21:break;default:ds(x,p),La(p)}}function La(p){var x=p.flags;if(x&2){try{for(var T,C=p.return;C!==null;){if(Ka(C)){T=C;break}C=C.return}if(T==null)throw Error(n(160));switch(T.tag){case 27:var B=T.stateNode,V=Cc(p);zn(p,V,B);break;case 5:var ne=T.stateNode;T.flags&32&&(Dl(ne,""),T.flags&=-33);var pe=Cc(p);zn(p,pe,ne);break;case 3:case 4:var ke=T.stateNode.containerInfo,rt=Cc(p);Jr(p,rt,ke);break;default:throw Error(n(161))}}catch(mt){ia(p,p.return,mt)}p.flags&=-3}x&4096&&(p.flags&=-4097)}function QE(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var x=p;QE(x),x.tag===5&&x.flags&1024&&x.stateNode.reset(),p=p.sibling}}function Tu(p,x){if(x.subtreeFlags&8772)for(x=x.child;x!==null;)$E(p,x.alternate,x),x=x.sibling}function td(p){for(p=p.child;p!==null;){var x=p;switch(x.tag){case 0:case 11:case 14:case 15:hl(4,x,x.return),td(x);break;case 1:Po(x,x.return);var T=x.stateNode;typeof T.componentWillUnmount=="function"&&LS(x,x.return,T),td(x);break;case 27:zS(x.stateNode);case 26:case 5:Po(x,x.return),td(x);break;case 22:x.memoizedState===null&&td(x);break;case 30:td(x);break;default:td(x)}p=p.sibling}}function jn(p,x,T){for(T=T&&(x.subtreeFlags&8772)!==0,x=x.child;x!==null;){var C=x.alternate,B=p,V=x,ne=V.flags;switch(V.tag){case 0:case 11:case 15:jn(B,V,T),Ec(4,V);break;case 1:if(jn(B,V,T),C=V,B=C.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(rt){ia(C,C.return,rt)}if(C=V,B=C.updateQueue,B!==null){var pe=C.stateNode;try{var ke=B.shared.hiddenCallbacks;if(ke!==null)for(B.shared.hiddenCallbacks=null,B=0;B<ke.length;B++)Sc(ke[B],pe)}catch(rt){ia(C,C.return,rt)}}T&&ne&64&&zf(V),Mc(V,V.return);break;case 27:za(V);case 26:case 5:jn(B,V,T),T&&C===null&&ne&4&&Bo(V),Mc(V,V.return);break;case 12:jn(B,V,T);break;case 31:jn(B,V,T),T&&ne&4&&mx(B,V);break;case 13:jn(B,V,T),T&&ne&4&&OS(B,V);break;case 22:V.memoizedState===null&&jn(B,V,T),Mc(V,V.return);break;case 30:break;default:jn(B,V,T)}x=x.sibling}}function yx(p,x){var T=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),p=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(p=x.memoizedState.cachePool.pool),p!==T&&(p!=null&&p.refCount++,T!=null&&Fi(T))}function Au(p,x){p=null,x.alternate!==null&&(p=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==p&&(x.refCount++,p!=null&&Fi(p))}function di(p,x,T,C){if(x.subtreeFlags&10256)for(x=x.child;x!==null;)Aa(p,x,T,C),x=x.sibling}function Aa(p,x,T,C){var B=x.flags;switch(x.tag){case 0:case 11:case 15:di(p,x,T,C),B&2048&&Ec(9,x);break;case 1:di(p,x,T,C);break;case 3:di(p,x,T,C),B&2048&&(p=null,x.alternate!==null&&(p=x.alternate.memoizedState.cache),x=x.memoizedState.cache,x!==p&&(x.refCount++,p!=null&&Fi(p)));break;case 12:if(B&2048){di(p,x,T,C),p=x.stateNode;try{var V=x.memoizedProps,ne=V.id,pe=V.onPostCommit;typeof pe=="function"&&pe(ne,x.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(ke){ia(x,x.return,ke)}}else di(p,x,T,C);break;case 31:di(p,x,T,C);break;case 13:di(p,x,T,C);break;case 23:break;case 22:V=x.stateNode,ne=x.alternate,x.memoizedState!==null?V._visibility&2?di(p,x,T,C):Vp(p,x):V._visibility&2?di(p,x,T,C):(V._visibility|=2,Vf(p,x,T,C,(x.subtreeFlags&10256)!==0||!1)),B&2048&&yx(ne,x);break;case 24:di(p,x,T,C),B&2048&&Au(x.alternate,x);break;default:di(p,x,T,C)}}function Vf(p,x,T,C,B){for(B=B&&((x.subtreeFlags&10256)!==0||!1),x=x.child;x!==null;){var V=p,ne=x,pe=T,ke=C,rt=ne.flags;switch(ne.tag){case 0:case 11:case 15:Vf(V,ne,pe,ke,B),Ec(8,ne);break;case 23:break;case 22:var mt=ne.stateNode;ne.memoizedState!==null?mt._visibility&2?Vf(V,ne,pe,ke,B):Vp(V,ne):(mt._visibility|=2,Vf(V,ne,pe,ke,B)),B&&rt&2048&&yx(ne.alternate,ne);break;case 24:Vf(V,ne,pe,ke,B),B&&rt&2048&&Au(ne.alternate,ne);break;default:Vf(V,ne,pe,ke,B)}x=x.sibling}}function Vp(p,x){if(x.subtreeFlags&10256)for(x=x.child;x!==null;){var T=p,C=x,B=C.flags;switch(C.tag){case 22:Vp(T,C),B&2048&&yx(C.alternate,C);break;case 24:Vp(T,C),B&2048&&Au(C.alternate,C);break;default:Vp(T,C)}x=x.sibling}}var Oa=8192;function rd(p,x,T){if(p.subtreeFlags&Oa)for(p=p.child;p!==null;)Ua(p,x,T),p=p.sibling}function Ua(p,x,T){switch(p.tag){case 26:rd(p,x,T),p.flags&Oa&&p.memoizedState!==null&&Phe(T,Js,p.memoizedState,p.memoizedProps);break;case 5:rd(p,x,T);break;case 3:case 4:var C=Js;Js=iM(p.stateNode.containerInfo),rd(p,x,T),Js=C;break;case 22:p.memoizedState===null&&(C=p.alternate,C!==null&&C.memoizedState!==null?(C=Oa,Oa=16777216,rd(p,x,T),Oa=C):rd(p,x,T));break;default:rd(p,x,T)}}function Qs(p){var x=p.alternate;if(x!==null&&(p=x.child,p!==null)){x.child=null;do x=p.sibling,p.sibling=null,p=x;while(p!==null)}}function Rs(p){var x=p.deletions;if((p.flags&16)!==0){if(x!==null)for(var T=0;T<x.length;T++){var C=x[T];Ia=C,lg(C,p)}Qs(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)nd(p),p=p.sibling}function nd(p){switch(p.tag){case 0:case 11:case 15:Rs(p),p.flags&2048&&hl(9,p,p.return);break;case 3:Rs(p);break;case 12:Rs(p);break;case 22:var x=p.stateNode;p.memoizedState!==null&&x._visibility&2&&(p.return===null||p.return.tag!==13)?(x._visibility&=-3,xx(p)):Rs(p);break;default:Rs(p)}}function xx(p){var x=p.deletions;if((p.flags&16)!==0){if(x!==null)for(var T=0;T<x.length;T++){var C=x[T];Ia=C,lg(C,p)}Qs(p)}for(p=p.child;p!==null;){switch(x=p,x.tag){case 0:case 11:case 15:hl(8,x,x.return),xx(x);break;case 22:T=x.stateNode,T._visibility&2&&(T._visibility&=-3,xx(x));break;default:xx(x)}p=p.sibling}}function lg(p,x){for(;Ia!==null;){var T=Ia;switch(T.tag){case 0:case 11:case 15:hl(8,T,x);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var C=T.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Fi(T.memoizedState.cache)}if(C=T.child,C!==null)C.return=T,Ia=C;else e:for(T=p;Ia!==null;){C=Ia;var B=C.sibling,V=C.return;if(gx(C),C===T){Ia=null;break e}if(B!==null){B.return=V,Ia=B;break e}Ia=V}}}var _x={getCacheForType:function(p){var x=Ei(xr),T=x.data.get(p);return T===void 0&&(T=p(),x.data.set(p,T)),T},cacheSignal:function(){return Ei(xr).controller.signal}},bx=typeof WeakMap=="function"?WeakMap:Map,Sn=0,Wn=null,Qr=null,vn=0,_r=0,cn=null,Wr=!1,sn=!1,ta=!1,Va=0,Yn=0,zo=0,Eu=0,zl=0,wn=0,Fo=0,Fl=null,ps=null,eo=!1,Mu=0,Hp=0,Uo=1/0,Gp=null,Dc=null,Ea=0,Ul=null,Vo=null,vl=0,Cu=0,ad=null,Sx=null,id=0,sd=null;function Ns(){return(Sn&2)!==0&&vn!==0?vn&-vn:H.T!==null?kL():he()}function _(){if(wn===0)if((vn&536870912)===0||yn){var p=Ct;Ct<<=1,(Ct&3932160)===0&&(Ct=262144),wn=p}else wn=536870912;return p=hi.current,p!==null&&(p.flags|=32),wn}function w(p,x,T){(p===Wn&&(_r===2||_r===9)||p.cancelPendingCommit!==null)&&(Ze(p,0),Q(p,vn,wn,!1)),On(p,T),((Sn&2)===0||p!==Wn)&&(p===Wn&&((Sn&2)===0&&(Eu|=T),Yn===4&&Q(p,vn,wn,!1)),Hf(p))}function N(p,x,T){if((Sn&6)!==0)throw Error(n(327));var C=!T&&(x&127)===0&&(x&p.expiredLanes)===0||zt(p,x),B=C?od(p,x):to(p,x,!0),V=C;do{if(B===0){sn&&!C&&Q(p,x,0,!1);break}else{if(T=p.current.alternate,V&&!G(T)){B=to(p,x,!1),V=!1;continue}if(B===2){if(V=x,p.errorRecoveryDisabledLanes&V)var ne=0;else ne=p.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){x=ne;e:{var pe=p;B=Fl;var ke=pe.current.memoizedState.isDehydrated;if(ke&&(Ze(pe,ne).flags|=256),ne=to(pe,ne,!1),ne!==2){if(ta&&!ke){pe.errorRecoveryDisabledLanes|=V,Eu|=V,B=4;break e}V=ps,ps=B,V!==null&&(ps===null?ps=V:ps.push.apply(ps,V))}B=ne}if(V=!1,B!==2)continue}}if(B===1){Ze(p,0),Q(p,x,0,!0);break}e:{switch(C=p,V=B,V){case 0:case 1:throw Error(n(345));case 4:if((x&4194048)!==x)break;case 6:Q(C,x,wn,!Wr);break e;case 2:ps=null;break;case 3:case 5:break;default:throw Error(n(329))}if((x&62914560)===x&&(B=Mu+300-ie(),10<B)){if(Q(C,x,wn,!Wr),ht(C,0,!0)!==0)break e;vl=x,C.timeoutHandle=$9(z.bind(null,C,T,ps,Gp,eo,x,wn,Eu,Fo,Wr,V,"Throttled",-0,0),B);break e}z(C,T,ps,Gp,eo,x,wn,Eu,Fo,Wr,V,null,-0,0)}}break}while(!0);Hf(p)}function z(p,x,T,C,B,V,ne,pe,ke,rt,mt,Tt,ot,ut){if(p.timeoutHandle=-1,Tt=x.subtreeFlags,Tt&8192||(Tt&16785408)===16785408){Tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dc},Ua(x,V,Tt);var lr=(V&62914560)===V?Mu-ie():(V&4194048)===V?Hp-ie():0;if(lr=Bhe(Tt,lr),lr!==null){vl=V,p.cancelPendingCommit=lr(Or.bind(null,p,x,V,T,C,B,ne,pe,ke,mt,Tt,null,ot,ut)),Q(p,V,ne,!rt);return}}Or(p,x,V,T,C,B,ne,pe,ke)}function G(p){for(var x=p;;){var T=x.tag;if((T===0||T===11||T===15)&&x.flags&16384&&(T=x.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var C=0;C<T.length;C++){var B=T[C],V=B.getSnapshot;B=B.value;try{if(!xa(V(),B))return!1}catch{return!1}}if(T=x.child,x.subtreeFlags&16384&&T!==null)T.return=x,x=T;else{if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Q(p,x,T,C){x&=~zl,x&=~Eu,p.suspendedLanes|=x,p.pingedLanes&=~x,C&&(p.warmLanes|=x),C=p.expirationTimes;for(var B=x;0<B;){var V=31-Ne(B),ne=1<<V;C[V]=-1,B&=~ne}T!==0&&as(p,T,x)}function ve(){return(Sn&6)===0?(kS(0),!1):!0}function Oe(){if(Qr!==null){if(_r===0)var p=Qr.return;else p=Qr,cs=pu=null,fS(p),Rf=null,Nf=0,p=Qr;for(;p!==null;)ed(p.alternate,p),p=p.return;Qr=null}}function Ze(p,x){var T=p.timeoutHandle;T!==-1&&(p.timeoutHandle=-1,xhe(T)),T=p.cancelPendingCommit,T!==null&&(p.cancelPendingCommit=null,T()),vl=0,Oe(),Wn=p,Qr=T=gc(p.current,null),vn=x,_r=0,cn=null,Wr=!1,sn=zt(p,x),ta=!1,Fo=wn=zl=Eu=zo=Yn=0,ps=Fl=null,eo=!1,(x&8)!==0&&(x|=x&32);var C=p.entangledLanes;if(C!==0)for(p=p.entanglements,C&=x;0<C;){var B=31-Ne(C),V=1<<B;x|=p[B],C&=~V}return Va=x,wf(),T}function xt(p,x){Lr=null,H.H=Kv,x===Df||x===Ol?(x=Ky(),_r=3):x===Uv?(x=Ky(),_r=4):_r=x===dx?8:x!==null&&typeof x=="object"&&typeof x.then=="function"?6:1,cn=x,Qr===null&&(Yn=1,hx(p,Ys(x,p.current)))}function Ft(){var p=hi.current;return p===null?!0:(vn&4194048)===vn?cl===null:(vn&62914560)===vn||(vn&536870912)!==0?p===cl:!1}function Zt(){var p=H.H;return H.H=Kv,p===null?Kv:p}function tr(){var p=H.A;return H.A=_x,p}function Hr(){Yn=4,Wr||(vn&4194048)!==vn&&hi.current!==null||(sn=!0),(zo&134217727)===0&&(Eu&134217727)===0||Wn===null||Q(Wn,vn,wn,!1)}function to(p,x,T){var C=Sn;Sn|=2;var B=Zt(),V=tr();(Wn!==p||vn!==x)&&(Gp=null,Ze(p,x)),x=!1;var ne=Yn;e:do try{if(_r!==0&&Qr!==null){var pe=Qr,ke=cn;switch(_r){case 8:Oe(),ne=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(x=!0);var rt=_r;if(_r=0,cn=null,Pt(p,pe,ke,rt),T&&sn){ne=0;break e}break;default:rt=_r,_r=0,cn=null,Pt(p,pe,ke,rt)}}cg(),ne=Yn;break}catch(mt){xt(p,mt)}while(!0);return x&&p.shellSuspendCounter++,cs=pu=null,Sn=C,H.H=B,H.A=V,Qr===null&&(Wn=null,vn=0,wf()),ne}function cg(){for(;Qr!==null;)Xe(Qr)}function od(p,x){var T=Sn;Sn|=2;var C=Zt(),B=tr();Wn!==p||vn!==x?(Gp=null,Uo=ie()+500,Ze(p,x)):sn=zt(p,x);e:do try{if(_r!==0&&Qr!==null){x=Qr;var V=cn;t:switch(_r){case 1:_r=0,cn=null,Pt(p,x,V,1);break;case 2:case 9:if(TE(V)){_r=0,cn=null,lt(x);break}x=function(){_r!==2&&_r!==9||Wn!==p||(_r=7),Hf(p)},V.then(x,x);break e;case 3:_r=7;break e;case 4:_r=5;break e;case 7:TE(V)?(_r=0,cn=null,lt(x)):(_r=0,cn=null,Pt(p,x,V,7));break;case 5:var ne=null;switch(Qr.tag){case 26:ne=Qr.memoizedState;case 5:case 27:var pe=Qr;if(ne?hV(ne):pe.stateNode.complete){_r=0,cn=null;var ke=pe.sibling;if(ke!==null)Qr=ke;else{var rt=pe.return;rt!==null?(Qr=rt,mr(rt)):Qr=null}break t}}_r=0,cn=null,Pt(p,x,V,5);break;case 6:_r=0,cn=null,Pt(p,x,V,6);break;case 8:Oe(),Yn=6;break e;default:throw Error(n(462))}}st();break}catch(mt){xt(p,mt)}while(!0);return cs=pu=null,H.H=C,H.A=B,Sn=T,Qr!==null?0:(Wn=null,vn=0,wf(),Yn)}function st(){for(;Qr!==null&&!Le();)Xe(Qr)}function Xe(p){var x=px(p.alternate,p,Va);p.memoizedProps=p.pendingProps,x===null?mr(p):Qr=x}function lt(p){var x=p,T=x.alternate;switch(x.tag){case 15:case 0:x=fs(T,x,x.pendingProps,x.type,void 0,vn);break;case 11:x=fs(T,x,x.pendingProps,x.type.render,x.ref,vn);break;case 5:fS(x);default:ed(T,x),x=Qr=ls(x,Va),x=px(T,x,Va)}p.memoizedProps=p.pendingProps,x===null?mr(p):Qr=x}function Pt(p,x,T,C){cs=pu=null,fS(x),Rf=null,Nf=0;var B=x.return;try{if(No(p,B,x,T,vn)){Yn=1,hx(p,Ys(T,p.current)),Qr=null;return}}catch(V){if(B!==null)throw Qr=B,V;Yn=1,hx(p,Ys(T,p.current)),Qr=null;return}x.flags&32768?(yn||C===1?p=!0:sn||(vn&536870912)!==0?p=!1:(Wr=p=!0,(C===2||C===9||C===3||C===6)&&(C=hi.current,C!==null&&C.tag===13&&(C.flags|=16384))),ha(x,p)):mr(x)}function mr(p){var x=p;do{if((x.flags&32768)!==0){ha(x,Wr);return}p=x.return;var T=IS(x.alternate,x,Va);if(T!==null){Qr=T;return}if(x=x.sibling,x!==null){Qr=x;return}Qr=x=p}while(x!==null);Yn===0&&(Yn=5)}function ha(p,x){do{var T=vx(p.alternate,p);if(T!==null){T.flags&=32767,Qr=T;return}if(T=p.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!x&&(p=p.sibling,p!==null)){Qr=p;return}Qr=p=T}while(p!==null);Yn=6,Qr=null}function Or(p,x,T,C,B,V,ne,pe,ke){p.cancelPendingCommit=null;do Tx();while(Ea!==0);if((Sn&6)!==0)throw Error(n(327));if(x!==null){if(x===p.current)throw Error(n(177));if(V=x.lanes|x.childLanes,V|=Hy,an(p,T,V,ne,pe,ke),p===Wn&&(Qr=Wn=null,vn=0),Vo=x,Ul=p,vl=T,Cu=V,ad=B,Sx=C,(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?(p.callbackNode=null,p.callbackPriority=0,she(Ge,function(){return O9(),null})):(p.callbackNode=null,p.callbackPriority=0),C=(x.flags&13878)!==0,(x.subtreeFlags&13878)!==0||C){C=H.T,H.T=null,B=Z.p,Z.p=2,ne=Sn,Sn|=4;try{Up(p,x,T)}finally{Sn=ne,Z.p=B,H.T=C}}Ea=1,Cn(),pi(),Dn()}}function Cn(){if(Ea===1){Ea=0;var p=Ul,x=Vo,T=(x.flags&13878)!==0;if((x.subtreeFlags&13878)!==0||T){T=H.T,H.T=null;var C=Z.p;Z.p=2;var B=Sn;Sn|=4;try{Uf(x,p);var V=GL,ne=By(p.containerInfo),pe=V.focusedElem,ke=V.selectionRange;if(ne!==pe&&pe&&pe.ownerDocument&&Py(pe.ownerDocument.documentElement,pe)){if(ke!==null&&xp(pe)){var rt=ke.start,mt=ke.end;if(mt===void 0&&(mt=rt),"selectionStart"in pe)pe.selectionStart=rt,pe.selectionEnd=Math.min(mt,pe.value.length);else{var Tt=pe.ownerDocument||document,ot=Tt&&Tt.defaultView||window;if(ot.getSelection){var ut=ot.getSelection(),lr=pe.textContent.length,Ir=Math.min(ke.start,lr),pa=ke.end===void 0?Ir:Math.min(ke.end,lr);!ut.extend&&Ir>pa&&(ne=pa,pa=Ir,Ir=ne);var qe=Ub(pe,Ir),He=Ub(pe,pa);if(qe&&He&&(ut.rangeCount!==1||ut.anchorNode!==qe.node||ut.anchorOffset!==qe.offset||ut.focusNode!==He.node||ut.focusOffset!==He.offset)){var et=Tt.createRange();et.setStart(qe.node,qe.offset),ut.removeAllRanges(),Ir>pa?(ut.addRange(et),ut.extend(He.node,He.offset)):(et.setEnd(He.node,He.offset),ut.addRange(et))}}}}for(Tt=[],ut=pe;ut=ut.parentNode;)ut.nodeType===1&&Tt.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<Tt.length;pe++){var bt=Tt[pe];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}fM=!!HL,GL=HL=null}finally{Sn=B,Z.p=C,H.T=T}}p.current=x,Ea=2}}function pi(){if(Ea===2){Ea=0;var p=Ul,x=Vo,T=(x.flags&8772)!==0;if((x.subtreeFlags&8772)!==0||T){T=H.T,H.T=null;var C=Z.p;Z.p=2;var B=Sn;Sn|=4;try{$E(p,x.alternate,x)}finally{Sn=B,Z.p=C,H.T=T}}Ea=3}}function Dn(){if(Ea===4||Ea===3){Ea=0,fe();var p=Ul,x=Vo,T=vl,C=Sx;(x.subtreeFlags&10256)!==0||(x.flags&10256)!==0?Ea=5:(Ea=0,Vo=Ul=null,Du(p,p.pendingLanes));var B=p.pendingLanes;if(B===0&&(Dc=null),is(T),x=x.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot($e,x,void 0,(x.current.flags&128)===128)}catch{}if(C!==null){x=H.T,B=Z.p,Z.p=2,H.T=null;try{for(var V=p.onRecoverableError,ne=0;ne<C.length;ne++){var pe=C[ne];V(pe.value,{componentStack:pe.stack})}}finally{H.T=x,Z.p=B}}(vl&3)!==0&&Tx(),Hf(p),B=p.pendingLanes,(T&261930)!==0&&(B&42)!==0?p===sd?id++:(id=0,sd=p):id=0,kS(0)}}function Du(p,x){(p.pooledCacheLanes&=x)===0&&(x=p.pooledCache,x!=null&&(p.pooledCache=null,Fi(x)))}function Tx(){return Cn(),pi(),Dn(),O9()}function O9(){if(Ea!==5)return!1;var p=Ul,x=Cu;Cu=0;var T=is(vl),C=H.T,B=Z.p;try{Z.p=32>T?32:T,H.T=null,T=ad,ad=null;var V=Ul,ne=vl;if(Ea=0,Vo=Ul=null,vl=0,(Sn&6)!==0)throw Error(n(331));var pe=Sn;if(Sn|=4,nd(V.current),Aa(V,V.current,ne,T),Sn=pe,kS(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot($e,V)}catch{}return!0}finally{Z.p=B,H.T=C,Du(p,x)}}function k9(p,x,T){x=Ys(T,x),x=NS(p.stateNode,x,2),p=yu(p,x,2),p!==null&&(On(p,2),Hf(p))}function ia(p,x,T){if(p.tag===3)k9(p,p,T);else for(;x!==null;){if(x.tag===3){k9(x,p,T);break}else if(x.tag===1){var C=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Dc===null||!Dc.has(C))){p=Ys(T,p),T=kp(2),C=yu(x,T,2),C!==null&&(Ks(T,C,x,p),On(C,2),Hf(C));break}}x=x.return}}function IL(p,x,T){var C=p.pingCache;if(C===null){C=p.pingCache=new bx;var B=new Set;C.set(x,B)}else B=C.get(x),B===void 0&&(B=new Set,C.set(x,B));B.has(T)||(ta=!0,B.add(T),p=nhe.bind(null,p,x,T),x.then(p,p))}function nhe(p,x,T){var C=p.pingCache;C!==null&&C.delete(x),p.pingedLanes|=p.suspendedLanes&T,p.warmLanes&=~T,Wn===p&&(vn&T)===T&&(Yn===4||Yn===3&&(vn&62914560)===vn&&300>ie()-Mu?(Sn&2)===0&&Ze(p,0):zl|=T,Fo===vn&&(Fo=0)),Hf(p)}function P9(p,x){x===0&&(x=wr()),p=Tf(p,x),p!==null&&(On(p,x),Hf(p))}function ahe(p){var x=p.memoizedState,T=0;x!==null&&(T=x.retryLane),P9(p,T)}function ihe(p,x){var T=0;switch(p.tag){case 31:case 13:var C=p.stateNode,B=p.memoizedState;B!==null&&(T=B.retryLane);break;case 19:C=p.stateNode;break;case 22:C=p.stateNode._retryCache;break;default:throw Error(n(314))}C!==null&&C.delete(x),P9(p,T)}function she(p,x){return Be(p,x)}var eM=null,Ax=null,LL=!1,tM=!1,OL=!1,jp=0;function Hf(p){p!==Ax&&p.next===null&&(Ax===null?eM=Ax=p:Ax=Ax.next=p),tM=!0,LL||(LL=!0,lhe())}function kS(p,x){if(!OL&&tM){OL=!0;do for(var T=!1,C=eM;C!==null;){if(p!==0){var B=C.pendingLanes;if(B===0)var V=0;else{var ne=C.suspendedLanes,pe=C.pingedLanes;V=(1<<31-Ne(42|p)+1)-1,V&=B&~(ne&~pe),V=V&201326741?V&201326741|1:V?V|2:0}V!==0&&(T=!0,U9(C,V))}else V=vn,V=ht(C,C===Wn?V:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(V&3)===0||zt(C,V)||(T=!0,U9(C,V));C=C.next}while(T);OL=!1}}function ohe(){B9()}function B9(){tM=LL=!1;var p=0;jp!==0&&yhe()&&(p=jp);for(var x=ie(),T=null,C=eM;C!==null;){var B=C.next,V=z9(C,x);V===0?(C.next=null,T===null?eM=B:T.next=B,B===null&&(Ax=T)):(T=C,(p!==0||(V&3)!==0)&&(tM=!0)),C=B}Ea!==0&&Ea!==5||kS(p),jp!==0&&(jp=0)}function z9(p,x){for(var T=p.suspendedLanes,C=p.pingedLanes,B=p.expirationTimes,V=p.pendingLanes&-62914561;0<V;){var ne=31-Ne(V),pe=1<<ne,ke=B[ne];ke===-1?((pe&T)===0||(pe&C)!==0)&&(B[ne]=Xt(pe,x)):ke<=x&&(p.expiredLanes|=pe),V&=~pe}if(x=Wn,T=vn,T=ht(p,p===x?T:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),C=p.callbackNode,T===0||p===x&&(_r===2||_r===9)||p.cancelPendingCommit!==null)return C!==null&&C!==null&&ze(C),p.callbackNode=null,p.callbackPriority=0;if((T&3)===0||zt(p,T)){if(x=T&-T,x===p.callbackPriority)return x;switch(C!==null&&ze(C),is(T)){case 2:case 8:T=it;break;case 32:T=Ge;break;case 268435456:T=pt;break;default:T=Ge}return C=F9.bind(null,p),T=Be(T,C),p.callbackPriority=x,p.callbackNode=T,x}return C!==null&&C!==null&&ze(C),p.callbackPriority=2,p.callbackNode=null,2}function F9(p,x){if(Ea!==0&&Ea!==5)return p.callbackNode=null,p.callbackPriority=0,null;var T=p.callbackNode;if(Tx()&&p.callbackNode!==T)return null;var C=vn;return C=ht(p,p===Wn?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),C===0?null:(N(p,C,x),z9(p,ie()),p.callbackNode!=null&&p.callbackNode===T?F9.bind(null,p):null)}function U9(p,x){if(Tx())return null;N(p,x,!0)}function lhe(){_he(function(){(Sn&6)!==0?Be(je,ohe):B9()})}function kL(){if(jp===0){var p=mu;p===0&&(p=Et,Et<<=1,(Et&261888)===0&&(Et=256)),jp=p}return jp}function V9(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:bv(""+p)}function H9(p,x){var T=x.ownerDocument.createElement("input");return T.name=x.name,T.value=x.value,p.id&&T.setAttribute("form",p.id),x.parentNode.insertBefore(T,x),p=new FormData(p),T.parentNode.removeChild(T),p}function che(p,x,T,C,B){if(x==="submit"&&T&&T.stateNode===B){var V=V9((B[Ae]||null).action),ne=C.submitter;ne&&(x=(x=ne[Ae]||null)?V9(x.formAction):ne.getAttribute("formAction"),x!==null&&(V=x,ne=null));var pe=new Av("action","action",null,C,B);p.push({event:pe,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(jp!==0){var ke=ne?H9(B,ne):new FormData(B);ES(T,{pending:!0,data:ke,method:B.method,action:V},null,ke)}}else typeof V=="function"&&(pe.preventDefault(),ke=ne?H9(B,ne):new FormData(B),ES(T,{pending:!0,data:ke,method:B.method,action:V},V,ke))},currentTarget:B}]})}}for(var PL=0;PL<Vy.length;PL++){var BL=Vy[PL],uhe=BL.toLowerCase(),fhe=BL[0].toUpperCase()+BL.slice(1);os(uhe,"on"+fhe)}os(Ws,"onAnimationEnd"),os(Vb,"onAnimationIteration"),os(vc,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(wp,"onTransitionRun"),os(bf,"onTransitionStart"),os(Hb,"onTransitionCancel"),os(Uy,"onTransitionEnd"),Wt("onMouseEnter",["mouseout","mouseover"]),Wt("onMouseLeave",["mouseout","mouseover"]),Wt("onPointerEnter",["pointerout","pointerover"]),Wt("onPointerLeave",["pointerout","pointerover"]),kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var PS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hhe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(PS));function G9(p,x){x=(x&4)!==0;for(var T=0;T<p.length;T++){var C=p[T],B=C.event;C=C.listeners;e:{var V=void 0;if(x)for(var ne=C.length-1;0<=ne;ne--){var pe=C[ne],ke=pe.instance,rt=pe.currentTarget;if(pe=pe.listener,ke!==V&&B.isPropagationStopped())break e;V=pe,B.currentTarget=rt;try{V(B)}catch(mt){Sf(mt)}B.currentTarget=null,V=ke}else for(ne=0;ne<C.length;ne++){if(pe=C[ne],ke=pe.instance,rt=pe.currentTarget,pe=pe.listener,ke!==V&&B.isPropagationStopped())break e;V=pe,B.currentTarget=rt;try{V(B)}catch(mt){Sf(mt)}B.currentTarget=null,V=ke}}}}function xn(p,x){var T=x[Je];T===void 0&&(T=x[Je]=new Set);var C=p+"__bubble";T.has(C)||(j9(x,p,2,!1),T.add(C))}function zL(p,x,T){var C=0;x&&(C|=4),j9(T,p,C,x)}var rM="_reactListening"+Math.random().toString(36).slice(2);function FL(p){if(!p[rM]){p[rM]=!0,Fe.forEach(function(T){T!=="selectionchange"&&(hhe.has(T)||zL(T,!1,p),zL(T,!0,p))});var x=p.nodeType===9?p:p.ownerDocument;x===null||x[rM]||(x[rM]=!0,zL("selectionchange",!1,x))}}function j9(p,x,T,C){switch(xV(x)){case 2:var B=Uhe;break;case 8:B=Vhe;break;default:B=e4}T=B.bind(null,x,T,p),B=void 0,!Ey||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(B=!0),C?B!==void 0?p.addEventListener(x,T,{capture:!0,passive:B}):p.addEventListener(x,T,!0):B!==void 0?p.addEventListener(x,T,{passive:B}):p.addEventListener(x,T,!1)}function UL(p,x,T,C,B){var V=C;if((x&1)===0&&(x&2)===0&&C!==null)e:for(;;){if(C===null)return;var ne=C.tag;if(ne===3||ne===4){var pe=C.stateNode.containerInfo;if(pe===B)break;if(ne===4)for(ne=C.return;ne!==null;){var ke=ne.tag;if((ke===3||ke===4)&&ne.stateNode.containerInfo===B)return;ne=ne.return}for(;pe!==null;){if(ne=Lt(pe),ne===null)return;if(ke=ne.tag,ke===5||ke===6||ke===26||ke===27){C=V=ne;continue e}pe=pe.parentNode}}C=C.return}wb(function(){var rt=V,mt=Ty(T),Tt=[];e:{var ot=uu.get(p);if(ot!==void 0){var ut=Av,lr=p;switch(p){case"keypress":if(Bh(T)===0)break e;case"keydown":case"keyup":ut=Rb;break;case"focusin":lr="focus",ut=Ny;break;case"focusout":lr="blur",ut=Ny;break;case"beforeblur":case"afterblur":ut=Ny;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=tE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=rE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=lu;break;case Ws:case Vb:case vc:ut=iE;break;case Uy:ut=TL;break;case"scroll":case"scrollend":ut=Dy;break;case"wheel":ut=vf;break;case"copy":case"cut":case"paste":ut=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Iy;break;case"toggle":case"beforetoggle":ut=Ib}var Ir=(x&4)!==0,pa=!Ir&&(p==="scroll"||p==="scrollend"),qe=Ir?ot!==null?ot+"Capture":null:ot;Ir=[];for(var He=rt,et;He!==null;){var bt=He;if(et=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||et===null||qe===null||(bt=Ph(He,qe),bt!=null&&Ir.push(BS(He,bt,et))),pa)break;He=He.return}0<Ir.length&&(ot=new ut(ot,lr,null,T,mt),Tt.push({event:ot,listeners:Ir}))}}if((x&7)===0){e:{if(ot=p==="mouseover"||p==="pointerover",ut=p==="mouseout"||p==="pointerout",ot&&T!==Sv&&(lr=T.relatedTarget||T.fromElement)&&(Lt(lr)||lr[De]))break e;if((ut||ot)&&(ot=mt.window===mt?mt:(ot=mt.ownerDocument)?ot.defaultView||ot.parentWindow:window,ut?(lr=T.relatedTarget||T.toElement,ut=rt,lr=lr?Lt(lr):null,lr!==null&&(pa=i(lr),Ir=lr.tag,lr!==pa||Ir!==5&&Ir!==27&&Ir!==6)&&(lr=null)):(ut=null,lr=rt),ut!==lr)){if(Ir=tE,bt="onMouseLeave",qe="onMouseEnter",He="mouse",(p==="pointerout"||p==="pointerover")&&(Ir=Iy,bt="onPointerLeave",qe="onPointerEnter",He="pointer"),pa=ut==null?ot:Ce(ut),et=lr==null?ot:Ce(lr),ot=new Ir(bt,He+"leave",ut,T,mt),ot.target=pa,ot.relatedTarget=et,bt=null,Lt(mt)===rt&&(Ir=new Ir(qe,He+"enter",lr,T,mt),Ir.target=et,Ir.relatedTarget=pa,bt=Ir),pa=bt,ut&&lr)t:{for(Ir=dhe,qe=ut,He=lr,et=0,bt=qe;bt;bt=Ir(bt))et++;bt=0;for(var Er=He;Er;Er=Ir(Er))bt++;for(;0<et-bt;)qe=Ir(qe),et--;for(;0<bt-et;)He=Ir(He),bt--;for(;et--;){if(qe===He||He!==null&&qe===He.alternate){Ir=qe;break t}qe=Ir(qe),He=Ir(He)}Ir=null}else Ir=null;ut!==null&&W9(Tt,ot,ut,Ir,!1),lr!==null&&pa!==null&&W9(Tt,pa,lr,Ir,!0)}}e:{if(ot=rt?Ce(rt):window,ut=ot.nodeName&&ot.nodeName.toLowerCase(),ut==="select"||ut==="input"&&ot.type==="file")var Xn=Bb;else if(kb(ot))if(Nv)Xn=gE;else{Xn=yf;var gr=Iv}else ut=ot.nodeName,!ut||ut.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?rt&&_v(rt.elementType)&&(Xn=Bb):Xn=vE;if(Xn&&(Xn=Xn(p,rt))){ky(Tt,Xn,T,mt);break e}gr&&gr(p,ot,rt),p==="focusout"&&rt&&ot.type==="number"&&rt.memoizedProps.value!=null&&ci(ot,"number",ot.value)}switch(gr=rt?Ce(rt):window,p){case"focusin":(kb(gr)||gr.contentEditable==="true")&&(_p=gr,zy=rt,bp=null);break;case"focusout":bp=zy=_p=null;break;case"mousedown":Eo=!0;break;case"contextmenu":case"mouseup":case"dragend":Eo=!1,Fy(Tt,T,mt);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":Fy(Tt,T,mt)}var on;if(zh)e:{switch(p){case"compositionstart":var Tn="onCompositionStart";break e;case"compositionend":Tn="onCompositionEnd";break e;case"compositionupdate":Tn="onCompositionUpdate";break e}Tn=void 0}else mf?Ly(p,T)&&(Tn="onCompositionEnd"):p==="keydown"&&T.keyCode===229&&(Tn="onCompositionStart");Tn&&(zi&&T.locale!=="ko"&&(mf||Tn!=="onCompositionStart"?Tn==="onCompositionEnd"&&mf&&(on=Cy()):(hf=mt,My="value"in hf?hf.value:hf.textContent,mf=!0)),gr=nM(rt,Tn),0<gr.length&&(Tn=new Eb(Tn,p,null,T,mt),Tt.push({event:Tn,listeners:gr}),on?Tn.data=on:(on=pp(T),on!==null&&(Tn.data=on)))),(on=Fh?Oy(p,T):hE(p,T))&&(Tn=nM(rt,"onBeforeInput"),0<Tn.length&&(gr=new Eb("onBeforeInput","beforeinput",null,T,mt),Tt.push({event:gr,listeners:Tn}),gr.data=on)),che(Tt,p,rt,T,mt)}G9(Tt,x)})}function BS(p,x,T){return{instance:p,listener:x,currentTarget:T}}function nM(p,x){for(var T=x+"Capture",C=[];p!==null;){var B=p,V=B.stateNode;if(B=B.tag,B!==5&&B!==26&&B!==27||V===null||(B=Ph(p,T),B!=null&&C.unshift(BS(p,B,V)),B=Ph(p,x),B!=null&&C.push(BS(p,B,V))),p.tag===3)return C;p=p.return}return[]}function dhe(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function W9(p,x,T,C,B){for(var V=x._reactName,ne=[];T!==null&&T!==C;){var pe=T,ke=pe.alternate,rt=pe.stateNode;if(pe=pe.tag,ke!==null&&ke===C)break;pe!==5&&pe!==26&&pe!==27||rt===null||(ke=rt,B?(rt=Ph(T,V),rt!=null&&ne.unshift(BS(T,rt,ke))):B||(rt=Ph(T,V),rt!=null&&ne.push(BS(T,rt,ke)))),T=T.return}ne.length!==0&&p.push({event:x,listeners:ne})}var phe=/\r\n?/g,vhe=/\u0000|\uFFFD/g;function Y9(p){return(typeof p=="string"?p:""+p).replace(phe,`
`).replace(vhe,"")}function X9(p,x){return x=Y9(x),Y9(p)===x}function da(p,x,T,C,B,V){switch(T){case"children":typeof C=="string"?x==="body"||x==="textarea"&&C===""||Dl(p,C):(typeof C=="number"||typeof C=="bigint")&&x!=="body"&&Dl(p,""+C);break;case"className":_n(p,"class",C);break;case"tabIndex":_n(p,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(p,T,C);break;case"style":bb(p,C,V);break;case"data":if(x!=="object"){_n(p,"data",C);break}case"src":case"href":if(C===""&&(x!=="a"||T!=="href")){p.removeAttribute(T);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){p.removeAttribute(T);break}C=bv(""+C),p.setAttribute(T,C);break;case"action":case"formAction":if(typeof C=="function"){p.setAttribute(T,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof V=="function"&&(T==="formAction"?(x!=="input"&&da(p,x,"name",B.name,B,null),da(p,x,"formEncType",B.formEncType,B,null),da(p,x,"formMethod",B.formMethod,B,null),da(p,x,"formTarget",B.formTarget,B,null)):(da(p,x,"encType",B.encType,B,null),da(p,x,"method",B.method,B,null),da(p,x,"target",B.target,B,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){p.removeAttribute(T);break}C=bv(""+C),p.setAttribute(T,C);break;case"onClick":C!=null&&(p.onclick=dc);break;case"onScroll":C!=null&&xn("scroll",p);break;case"onScrollEnd":C!=null&&xn("scrollend",p);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(T=C.__html,T!=null){if(B.children!=null)throw Error(n(60));p.innerHTML=T}}break;case"multiple":p.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":p.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){p.removeAttribute("xlink:href");break}T=bv(""+C),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",T);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?p.setAttribute(T,""+C):p.removeAttribute(T);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?p.setAttribute(T,""):p.removeAttribute(T);break;case"capture":case"download":C===!0?p.setAttribute(T,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?p.setAttribute(T,C):p.removeAttribute(T);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?p.setAttribute(T,C):p.removeAttribute(T);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?p.removeAttribute(T):p.setAttribute(T,C);break;case"popover":xn("beforetoggle",p),xn("toggle",p),Cr(p,"popover",C);break;case"xlinkActuate":bn(p,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":bn(p,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":bn(p,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":bn(p,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":bn(p,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":bn(p,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":bn(p,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":bn(p,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":bn(p,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":Cr(p,"is",C);break;case"innerText":case"textContent":break;default:(!(2<T.length)||T[0]!=="o"&&T[0]!=="O"||T[1]!=="n"&&T[1]!=="N")&&(T=QA.get(T)||T,Cr(p,T,C))}}function VL(p,x,T,C,B,V){switch(T){case"style":bb(p,C,V);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(n(61));if(T=C.__html,T!=null){if(B.children!=null)throw Error(n(60));p.innerHTML=T}}break;case"children":typeof C=="string"?Dl(p,C):(typeof C=="number"||typeof C=="bigint")&&Dl(p,""+C);break;case"onScroll":C!=null&&xn("scroll",p);break;case"onScrollEnd":C!=null&&xn("scrollend",p);break;case"onClick":C!=null&&(p.onclick=dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wt.hasOwnProperty(T))e:{if(T[0]==="o"&&T[1]==="n"&&(B=T.endsWith("Capture"),x=T.slice(2,B?T.length-7:void 0),V=p[Ae]||null,V=V!=null?V[T]:null,typeof V=="function"&&p.removeEventListener(x,V,B),typeof C=="function")){typeof V!="function"&&V!==null&&(T in p?p[T]=null:p.hasAttribute(T)&&p.removeAttribute(T)),p.addEventListener(x,C,B);break e}T in p?p[T]=C:C===!0?p.setAttribute(T,""):Cr(p,T,C)}}}function Is(p,x,T){switch(x){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xn("error",p),xn("load",p);var C=!1,B=!1,V;for(V in T)if(T.hasOwnProperty(V)){var ne=T[V];if(ne!=null)switch(V){case"src":C=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,x));default:da(p,x,V,ne,T,null)}}B&&da(p,x,"srcSet",T.srcSet,T,null),C&&da(p,x,"src",T.src,T,null);return;case"input":xn("invalid",p);var pe=V=ne=B=null,ke=null,rt=null;for(C in T)if(T.hasOwnProperty(C)){var mt=T[C];if(mt!=null)switch(C){case"name":B=mt;break;case"type":ne=mt;break;case"checked":ke=mt;break;case"defaultChecked":rt=mt;break;case"value":V=mt;break;case"defaultValue":pe=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(n(137,x));break;default:da(p,x,C,mt,T,null)}}aa(p,V,pe,ke,rt,ne,B,!1);return;case"select":xn("invalid",p),C=ne=V=null;for(B in T)if(T.hasOwnProperty(B)&&(pe=T[B],pe!=null))switch(B){case"value":V=pe;break;case"defaultValue":ne=pe;break;case"multiple":C=pe;default:da(p,x,B,pe,T,null)}x=V,T=ne,p.multiple=!!C,x!=null?ui(p,!!C,x,!1):T!=null&&ui(p,!!C,T,!0);return;case"textarea":xn("invalid",p),V=B=C=null;for(ne in T)if(T.hasOwnProperty(ne)&&(pe=T[ne],pe!=null))switch(ne){case"value":C=pe;break;case"defaultValue":B=pe;break;case"children":V=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(n(91));break;default:da(p,x,ne,pe,T,null)}Ca(p,C,B,V);return;case"option":for(ke in T)if(T.hasOwnProperty(ke)&&(C=T[ke],C!=null))switch(ke){case"selected":p.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:da(p,x,ke,C,T,null)}return;case"dialog":xn("beforetoggle",p),xn("toggle",p),xn("cancel",p),xn("close",p);break;case"iframe":case"object":xn("load",p);break;case"video":case"audio":for(C=0;C<PS.length;C++)xn(PS[C],p);break;case"image":xn("error",p),xn("load",p);break;case"details":xn("toggle",p);break;case"embed":case"source":case"link":xn("error",p),xn("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in T)if(T.hasOwnProperty(rt)&&(C=T[rt],C!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,x));default:da(p,x,rt,C,T,null)}return;default:if(_v(x)){for(mt in T)T.hasOwnProperty(mt)&&(C=T[mt],C!==void 0&&VL(p,x,mt,C,T,void 0));return}}for(pe in T)T.hasOwnProperty(pe)&&(C=T[pe],C!=null&&da(p,x,pe,C,T,null))}function ghe(p,x,T,C){switch(x){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,V=null,ne=null,pe=null,ke=null,rt=null,mt=null;for(ut in T){var Tt=T[ut];if(T.hasOwnProperty(ut)&&Tt!=null)switch(ut){case"checked":break;case"value":break;case"defaultValue":ke=Tt;default:C.hasOwnProperty(ut)||da(p,x,ut,null,C,Tt)}}for(var ot in C){var ut=C[ot];if(Tt=T[ot],C.hasOwnProperty(ot)&&(ut!=null||Tt!=null))switch(ot){case"type":V=ut;break;case"name":B=ut;break;case"checked":rt=ut;break;case"defaultChecked":mt=ut;break;case"value":ne=ut;break;case"defaultValue":pe=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(n(137,x));break;default:ut!==Tt&&da(p,x,ot,ut,C,Tt)}}hc(p,ne,pe,ke,rt,mt,V,B);return;case"select":ut=ne=pe=ot=null;for(V in T)if(ke=T[V],T.hasOwnProperty(V)&&ke!=null)switch(V){case"value":break;case"multiple":ut=ke;default:C.hasOwnProperty(V)||da(p,x,V,null,C,ke)}for(B in C)if(V=C[B],ke=T[B],C.hasOwnProperty(B)&&(V!=null||ke!=null))switch(B){case"value":ot=V;break;case"defaultValue":pe=V;break;case"multiple":ne=V;default:V!==ke&&da(p,x,B,V,C,ke)}x=pe,T=ne,C=ut,ot!=null?ui(p,!!T,ot,!1):!!C!=!!T&&(x!=null?ui(p,!!T,x,!0):ui(p,!!T,T?[]:"",!1));return;case"textarea":ut=ot=null;for(pe in T)if(B=T[pe],T.hasOwnProperty(pe)&&B!=null&&!C.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:da(p,x,pe,null,C,B)}for(ne in C)if(B=C[ne],V=T[ne],C.hasOwnProperty(ne)&&(B!=null||V!=null))switch(ne){case"value":ot=B;break;case"defaultValue":ut=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:B!==V&&da(p,x,ne,B,C,V)}fi(p,ot,ut);return;case"option":for(var lr in T)if(ot=T[lr],T.hasOwnProperty(lr)&&ot!=null&&!C.hasOwnProperty(lr))switch(lr){case"selected":p.selected=!1;break;default:da(p,x,lr,null,C,ot)}for(ke in C)if(ot=C[ke],ut=T[ke],C.hasOwnProperty(ke)&&ot!==ut&&(ot!=null||ut!=null))switch(ke){case"selected":p.selected=ot&&typeof ot!="function"&&typeof ot!="symbol";break;default:da(p,x,ke,ot,C,ut)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ir in T)ot=T[Ir],T.hasOwnProperty(Ir)&&ot!=null&&!C.hasOwnProperty(Ir)&&da(p,x,Ir,null,C,ot);for(rt in C)if(ot=C[rt],ut=T[rt],C.hasOwnProperty(rt)&&ot!==ut&&(ot!=null||ut!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,x));break;default:da(p,x,rt,ot,C,ut)}return;default:if(_v(x)){for(var pa in T)ot=T[pa],T.hasOwnProperty(pa)&&ot!==void 0&&!C.hasOwnProperty(pa)&&VL(p,x,pa,void 0,C,ot);for(mt in C)ot=C[mt],ut=T[mt],!C.hasOwnProperty(mt)||ot===ut||ot===void 0&&ut===void 0||VL(p,x,mt,ot,C,ut);return}}for(var qe in T)ot=T[qe],T.hasOwnProperty(qe)&&ot!=null&&!C.hasOwnProperty(qe)&&da(p,x,qe,null,C,ot);for(Tt in C)ot=C[Tt],ut=T[Tt],!C.hasOwnProperty(Tt)||ot===ut||ot==null&&ut==null||da(p,x,Tt,ot,C,ut)}function q9(p){switch(p){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mhe(){if(typeof performance.getEntriesByType=="function"){for(var p=0,x=0,T=performance.getEntriesByType("resource"),C=0;C<T.length;C++){var B=T[C],V=B.transferSize,ne=B.initiatorType,pe=B.duration;if(V&&pe&&q9(ne)){for(ne=0,pe=B.responseEnd,C+=1;C<T.length;C++){var ke=T[C],rt=ke.startTime;if(rt>pe)break;var mt=ke.transferSize,Tt=ke.initiatorType;mt&&q9(Tt)&&(ke=ke.responseEnd,ne+=mt*(ke<pe?1:(pe-rt)/(ke-rt)))}if(--C,x+=8*(V+ne)/(B.duration/1e3),p++,10<p)break}}if(0<p)return x/p/1e6}return navigator.connection&&(p=navigator.connection.downlink,typeof p=="number")?p:5}var HL=null,GL=null;function aM(p){return p.nodeType===9?p:p.ownerDocument}function Z9(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K9(p,x){if(p===0)switch(x){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&x==="foreignObject"?0:p}function jL(p,x){return p==="textarea"||p==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.children=="bigint"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var WL=null;function yhe(){var p=window.event;return p&&p.type==="popstate"?p===WL?!1:(WL=p,!0):(WL=null,!1)}var $9=typeof setTimeout=="function"?setTimeout:void 0,xhe=typeof clearTimeout=="function"?clearTimeout:void 0,J9=typeof Promise=="function"?Promise:void 0,_he=typeof queueMicrotask=="function"?queueMicrotask:typeof J9<"u"?function(p){return J9.resolve(null).then(p).catch(bhe)}:$9;function bhe(p){setTimeout(function(){throw p})}function Wp(p){return p==="head"}function Q9(p,x){var T=x,C=0;do{var B=T.nextSibling;if(p.removeChild(T),B&&B.nodeType===8)if(T=B.data,T==="/$"||T==="/&"){if(C===0){p.removeChild(B),Dx(x);return}C--}else if(T==="$"||T==="$?"||T==="$~"||T==="$!"||T==="&")C++;else if(T==="html")zS(p.ownerDocument.documentElement);else if(T==="head"){T=p.ownerDocument.head,zS(T);for(var V=T.firstChild;V;){var ne=V.nextSibling,pe=V.nodeName;V[at]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&V.rel.toLowerCase()==="stylesheet"||T.removeChild(V),V=ne}}else T==="body"&&zS(p.ownerDocument.body);T=B}while(T);Dx(x)}function eV(p,x){var T=p;p=0;do{var C=T.nextSibling;if(T.nodeType===1?x?(T._stashedDisplay=T.style.display,T.style.display="none"):(T.style.display=T._stashedDisplay||"",T.getAttribute("style")===""&&T.removeAttribute("style")):T.nodeType===3&&(x?(T._stashedText=T.nodeValue,T.nodeValue=""):T.nodeValue=T._stashedText||""),C&&C.nodeType===8)if(T=C.data,T==="/$"){if(p===0)break;p--}else T!=="$"&&T!=="$?"&&T!=="$~"&&T!=="$!"||p++;T=C}while(T)}function YL(p){var x=p.firstChild;for(x&&x.nodeType===10&&(x=x.nextSibling);x;){var T=x;switch(x=x.nextSibling,T.nodeName){case"HTML":case"HEAD":case"BODY":YL(T),Rt(T);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(T.rel.toLowerCase()==="stylesheet")continue}p.removeChild(T)}}function She(p,x,T,C){for(;p.nodeType===1;){var B=T;if(p.nodeName.toLowerCase()!==x.toLowerCase()){if(!C&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(C){if(!p[at])switch(x){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(V=p.getAttribute("rel"),V==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(V!==B.rel||p.getAttribute("href")!==(B.href==null||B.href===""?null:B.href)||p.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||p.getAttribute("title")!==(B.title==null?null:B.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(V=p.getAttribute("src"),(V!==(B.src==null?null:B.src)||p.getAttribute("type")!==(B.type==null?null:B.type)||p.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&V&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(x==="input"&&p.type==="hidden"){var V=B.name==null?null:""+B.name;if(B.type==="hidden"&&p.getAttribute("name")===V)return p}else return p;if(p=Rc(p.nextSibling),p===null)break}return null}function whe(p,x,T){if(x==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!T||(p=Rc(p.nextSibling),p===null))return null;return p}function tV(p,x){for(;p.nodeType!==8;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!x||(p=Rc(p.nextSibling),p===null))return null;return p}function XL(p){return p.data==="$?"||p.data==="$~"}function qL(p){return p.data==="$!"||p.data==="$?"&&p.ownerDocument.readyState!=="loading"}function The(p,x){var T=p.ownerDocument;if(p.data==="$~")p._reactRetry=x;else if(p.data!=="$?"||T.readyState!=="loading")x();else{var C=function(){x(),T.removeEventListener("DOMContentLoaded",C)};T.addEventListener("DOMContentLoaded",C),p._reactRetry=C}}function Rc(p){for(;p!=null;p=p.nextSibling){var x=p.nodeType;if(x===1||x===3)break;if(x===8){if(x=p.data,x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"||x==="F!"||x==="F")break;if(x==="/$"||x==="/&")return null}}return p}var ZL=null;function rV(p){p=p.nextSibling;for(var x=0;p;){if(p.nodeType===8){var T=p.data;if(T==="/$"||T==="/&"){if(x===0)return Rc(p.nextSibling);x--}else T!=="$"&&T!=="$!"&&T!=="$?"&&T!=="$~"&&T!=="&"||x++}p=p.nextSibling}return null}function nV(p){p=p.previousSibling;for(var x=0;p;){if(p.nodeType===8){var T=p.data;if(T==="$"||T==="$!"||T==="$?"||T==="$~"||T==="&"){if(x===0)return p;x--}else T!=="/$"&&T!=="/&"||x++}p=p.previousSibling}return null}function aV(p,x,T){switch(x=aM(T),p){case"html":if(p=x.documentElement,!p)throw Error(n(452));return p;case"head":if(p=x.head,!p)throw Error(n(453));return p;case"body":if(p=x.body,!p)throw Error(n(454));return p;default:throw Error(n(451))}}function zS(p){for(var x=p.attributes;x.length;)p.removeAttributeNode(x[0]);Rt(p)}var Nc=new Map,iV=new Set;function iM(p){return typeof p.getRootNode=="function"?p.getRootNode():p.nodeType===9?p:p.ownerDocument}var ld=Z.d;Z.d={f:Ahe,r:Ehe,D:Mhe,C:Che,L:Dhe,m:Rhe,X:Ihe,S:Nhe,M:Lhe};function Ahe(){var p=ld.f(),x=ve();return p||x}function Ehe(p){var x=le(p);x!==null&&x.tag===5&&x.type==="form"?MS(x):ld.r(p)}var Ex=typeof document>"u"?null:document;function sV(p,x,T){var C=Ex;if(C&&typeof x=="string"&&x){var B=na(x);B='link[rel="'+p+'"][href="'+B+'"]',typeof T=="string"&&(B+='[crossorigin="'+T+'"]'),iV.has(B)||(iV.add(B),p={rel:p,crossOrigin:T,href:x},C.querySelector(B)===null&&(x=C.createElement("link"),Is(x,"link",p),Ue(x),C.head.appendChild(x)))}}function Mhe(p){ld.D(p),sV("dns-prefetch",p,null)}function Che(p,x){ld.C(p,x),sV("preconnect",p,x)}function Dhe(p,x,T){ld.L(p,x,T);var C=Ex;if(C&&p&&x){var B='link[rel="preload"][as="'+na(x)+'"]';x==="image"&&T&&T.imageSrcSet?(B+='[imagesrcset="'+na(T.imageSrcSet)+'"]',typeof T.imageSizes=="string"&&(B+='[imagesizes="'+na(T.imageSizes)+'"]')):B+='[href="'+na(p)+'"]';var V=B;switch(x){case"style":V=Mx(p);break;case"script":V=Cx(p)}Nc.has(V)||(p=f({rel:"preload",href:x==="image"&&T&&T.imageSrcSet?void 0:p,as:x},T),Nc.set(V,p),C.querySelector(B)!==null||x==="style"&&C.querySelector(FS(V))||x==="script"&&C.querySelector(US(V))||(x=C.createElement("link"),Is(x,"link",p),Ue(x),C.head.appendChild(x)))}}function Rhe(p,x){ld.m(p,x);var T=Ex;if(T&&p){var C=x&&typeof x.as=="string"?x.as:"script",B='link[rel="modulepreload"][as="'+na(C)+'"][href="'+na(p)+'"]',V=B;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":V=Cx(p)}if(!Nc.has(V)&&(p=f({rel:"modulepreload",href:p},x),Nc.set(V,p),T.querySelector(B)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(T.querySelector(US(V)))return}C=T.createElement("link"),Is(C,"link",p),Ue(C),T.head.appendChild(C)}}}function Nhe(p,x,T){ld.S(p,x,T);var C=Ex;if(C&&p){var B=Pe(C).hoistableStyles,V=Mx(p);x=x||"default";var ne=B.get(V);if(!ne){var pe={loading:0,preload:null};if(ne=C.querySelector(FS(V)))pe.loading=5;else{p=f({rel:"stylesheet",href:p,"data-precedence":x},T),(T=Nc.get(V))&&KL(p,T);var ke=ne=C.createElement("link");Ue(ke),Is(ke,"link",p),ke._p=new Promise(function(rt,mt){ke.onload=rt,ke.onerror=mt}),ke.addEventListener("load",function(){pe.loading|=1}),ke.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,sM(ne,x,C)}ne={type:"stylesheet",instance:ne,count:1,state:pe},B.set(V,ne)}}}function Ihe(p,x){ld.X(p,x);var T=Ex;if(T&&p){var C=Pe(T).hoistableScripts,B=Cx(p),V=C.get(B);V||(V=T.querySelector(US(B)),V||(p=f({src:p,async:!0},x),(x=Nc.get(B))&&$L(p,x),V=T.createElement("script"),Ue(V),Is(V,"link",p),T.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},C.set(B,V))}}function Lhe(p,x){ld.M(p,x);var T=Ex;if(T&&p){var C=Pe(T).hoistableScripts,B=Cx(p),V=C.get(B);V||(V=T.querySelector(US(B)),V||(p=f({src:p,async:!0,type:"module"},x),(x=Nc.get(B))&&$L(p,x),V=T.createElement("script"),Ue(V),Is(V,"link",p),T.head.appendChild(V)),V={type:"script",instance:V,count:1,state:null},C.set(B,V))}}function oV(p,x,T,C){var B=(B=ce.current)?iM(B):null;if(!B)throw Error(n(446));switch(p){case"meta":case"title":return null;case"style":return typeof T.precedence=="string"&&typeof T.href=="string"?(x=Mx(T.href),T=Pe(B).hoistableStyles,C=T.get(x),C||(C={type:"style",instance:null,count:0,state:null},T.set(x,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(T.rel==="stylesheet"&&typeof T.href=="string"&&typeof T.precedence=="string"){p=Mx(T.href);var V=Pe(B).hoistableStyles,ne=V.get(p);if(ne||(B=B.ownerDocument||B,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},V.set(p,ne),(V=B.querySelector(FS(p)))&&!V._p&&(ne.instance=V,ne.state.loading=5),Nc.has(p)||(T={rel:"preload",as:"style",href:T.href,crossOrigin:T.crossOrigin,integrity:T.integrity,media:T.media,hrefLang:T.hrefLang,referrerPolicy:T.referrerPolicy},Nc.set(p,T),V||Ohe(B,p,T,ne.state))),x&&C===null)throw Error(n(528,""));return ne}if(x&&C!==null)throw Error(n(529,""));return null;case"script":return x=T.async,T=T.src,typeof T=="string"&&x&&typeof x!="function"&&typeof x!="symbol"?(x=Cx(T),T=Pe(B).hoistableScripts,C=T.get(x),C||(C={type:"script",instance:null,count:0,state:null},T.set(x,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,p))}}function Mx(p){return'href="'+na(p)+'"'}function FS(p){return'link[rel="stylesheet"]['+p+"]"}function lV(p){return f({},p,{"data-precedence":p.precedence,precedence:null})}function Ohe(p,x,T,C){p.querySelector('link[rel="preload"][as="style"]['+x+"]")?C.loading=1:(x=p.createElement("link"),C.preload=x,x.addEventListener("load",function(){return C.loading|=1}),x.addEventListener("error",function(){return C.loading|=2}),Is(x,"link",T),Ue(x),p.head.appendChild(x))}function Cx(p){return'[src="'+na(p)+'"]'}function US(p){return"script[async]"+p}function cV(p,x,T){if(x.count++,x.instance===null)switch(x.type){case"style":var C=p.querySelector('style[data-href~="'+na(T.href)+'"]');if(C)return x.instance=C,Ue(C),C;var B=f({},T,{"data-href":T.href,"data-precedence":T.precedence,href:null,precedence:null});return C=(p.ownerDocument||p).createElement("style"),Ue(C),Is(C,"style",B),sM(C,T.precedence,p),x.instance=C;case"stylesheet":B=Mx(T.href);var V=p.querySelector(FS(B));if(V)return x.state.loading|=4,x.instance=V,Ue(V),V;C=lV(T),(B=Nc.get(B))&&KL(C,B),V=(p.ownerDocument||p).createElement("link"),Ue(V);var ne=V;return ne._p=new Promise(function(pe,ke){ne.onload=pe,ne.onerror=ke}),Is(V,"link",C),x.state.loading|=4,sM(V,T.precedence,p),x.instance=V;case"script":return V=Cx(T.src),(B=p.querySelector(US(V)))?(x.instance=B,Ue(B),B):(C=T,(B=Nc.get(V))&&(C=f({},T),$L(C,B)),p=p.ownerDocument||p,B=p.createElement("script"),Ue(B),Is(B,"link",C),p.head.appendChild(B),x.instance=B);case"void":return null;default:throw Error(n(443,x.type))}else x.type==="stylesheet"&&(x.state.loading&4)===0&&(C=x.instance,x.state.loading|=4,sM(C,T.precedence,p));return x.instance}function sM(p,x,T){for(var C=T.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=C.length?C[C.length-1]:null,V=B,ne=0;ne<C.length;ne++){var pe=C[ne];if(pe.dataset.precedence===x)V=pe;else if(V!==B)break}V?V.parentNode.insertBefore(p,V.nextSibling):(x=T.nodeType===9?T.head:T,x.insertBefore(p,x.firstChild))}function KL(p,x){p.crossOrigin==null&&(p.crossOrigin=x.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=x.referrerPolicy),p.title==null&&(p.title=x.title)}function $L(p,x){p.crossOrigin==null&&(p.crossOrigin=x.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=x.referrerPolicy),p.integrity==null&&(p.integrity=x.integrity)}var oM=null;function uV(p,x,T){if(oM===null){var C=new Map,B=oM=new Map;B.set(T,C)}else B=oM,C=B.get(T),C||(C=new Map,B.set(T,C));if(C.has(p))return C;for(C.set(p,null),T=T.getElementsByTagName(p),B=0;B<T.length;B++){var V=T[B];if(!(V[at]||V[ge]||p==="link"&&V.getAttribute("rel")==="stylesheet")&&V.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=V.getAttribute(x)||"";ne=p+ne;var pe=C.get(ne);pe?pe.push(V):C.set(ne,[V])}}return C}function fV(p,x,T){p=p.ownerDocument||p,p.head.insertBefore(T,x==="title"?p.querySelector("head > title"):null)}function khe(p,x,T){if(T===1||x.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof x.precedence!="string"||typeof x.href!="string"||x.href==="")break;return!0;case"link":if(typeof x.rel!="string"||typeof x.href!="string"||x.href===""||x.onLoad||x.onError)break;switch(x.rel){case"stylesheet":return p=x.disabled,typeof x.precedence=="string"&&p==null;default:return!0}case"script":if(x.async&&typeof x.async!="function"&&typeof x.async!="symbol"&&!x.onLoad&&!x.onError&&x.src&&typeof x.src=="string")return!0}return!1}function hV(p){return!(p.type==="stylesheet"&&(p.state.loading&3)===0)}function Phe(p,x,T,C){if(T.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(T.state.loading&4)===0){if(T.instance===null){var B=Mx(C.href),V=x.querySelector(FS(B));if(V){x=V._p,x!==null&&typeof x=="object"&&typeof x.then=="function"&&(p.count++,p=lM.bind(p),x.then(p,p)),T.state.loading|=4,T.instance=V,Ue(V);return}V=x.ownerDocument||x,C=lV(C),(B=Nc.get(B))&&KL(C,B),V=V.createElement("link"),Ue(V);var ne=V;ne._p=new Promise(function(pe,ke){ne.onload=pe,ne.onerror=ke}),Is(V,"link",C),T.instance=V}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(T,x),(x=T.state.preload)&&(T.state.loading&3)===0&&(p.count++,T=lM.bind(p),x.addEventListener("load",T),x.addEventListener("error",T))}}var JL=0;function Bhe(p,x){return p.stylesheets&&p.count===0&&uM(p,p.stylesheets),0<p.count||0<p.imgCount?function(T){var C=setTimeout(function(){if(p.stylesheets&&uM(p,p.stylesheets),p.unsuspend){var V=p.unsuspend;p.unsuspend=null,V()}},6e4+x);0<p.imgBytes&&JL===0&&(JL=62500*mhe());var B=setTimeout(function(){if(p.waitingForImages=!1,p.count===0&&(p.stylesheets&&uM(p,p.stylesheets),p.unsuspend)){var V=p.unsuspend;p.unsuspend=null,V()}},(p.imgBytes>JL?50:800)+x);return p.unsuspend=T,function(){p.unsuspend=null,clearTimeout(C),clearTimeout(B)}}:null}function lM(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uM(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var cM=null;function uM(p,x){p.stylesheets=null,p.unsuspend!==null&&(p.count++,cM=new Map,x.forEach(zhe,p),cM=null,lM.call(p))}function zhe(p,x){if(!(x.state.loading&4)){var T=cM.get(p);if(T)var C=T.get(null);else{T=new Map,cM.set(p,T);for(var B=p.querySelectorAll("link[data-precedence],style[data-precedence]"),V=0;V<B.length;V++){var ne=B[V];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(T.set(ne.dataset.precedence,ne),C=ne)}C&&T.set(null,C)}B=x.instance,ne=B.getAttribute("data-precedence"),V=T.get(ne)||C,V===C&&T.set(null,B),T.set(ne,B),this.count++,C=lM.bind(this),B.addEventListener("load",C),B.addEventListener("error",C),V?V.parentNode.insertBefore(B,V.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(B,p.firstChild)),x.state.loading|=4}}var VS={$$typeof:S,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function Fhe(p,x,T,C,B,V,ne,pe,ke){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=C,this.onUncaughtError=B,this.onCaughtError=V,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ke,this.incompleteTransitions=new Map}function dV(p,x,T,C,B,V,ne,pe,ke,rt,mt,Tt){return p=new Fhe(p,x,T,ne,ke,rt,mt,Tt,pe),x=1,V===!0&&(x|=24),V=Es(3,null,null,x),p.current=V,V.stateNode=p,x=Zb(),x.refCount++,p.pooledCache=x,x.refCount++,V.memoizedState={element:C,isDehydrated:T,cache:x},tS(V),p}function pV(p){return p?(p=Af,p):Af}function vV(p,x,T,C,B,V){B=pV(B),C.context===null?C.context=B:C.pendingContext=B,C=bc(x),C.payload={element:T},V=V===void 0?null:V,V!==null&&(C.callback=V),T=yu(p,C,x),T!==null&&(w(T,p,x),Lf(T,p,x))}function gV(p,x){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var T=p.retryLane;p.retryLane=T!==0&&T<x?T:x}}function QL(p,x){gV(p,x),(p=p.alternate)&&gV(p,x)}function mV(p){if(p.tag===13||p.tag===31){var x=Tf(p,67108864);x!==null&&w(x,p,67108864),QL(p,67108864)}}function yV(p){if(p.tag===13||p.tag===31){var x=Ns();x=ua(x);var T=Tf(p,x);T!==null&&w(T,p,x),QL(p,x)}}var fM=!0;function Uhe(p,x,T,C){var B=H.T;H.T=null;var V=Z.p;try{Z.p=2,e4(p,x,T,C)}finally{Z.p=V,H.T=B}}function Vhe(p,x,T,C){var B=H.T;H.T=null;var V=Z.p;try{Z.p=8,e4(p,x,T,C)}finally{Z.p=V,H.T=B}}function e4(p,x,T,C){if(fM){var B=t4(C);if(B===null)UL(p,x,C,hM,T),_V(p,C);else if(Ghe(B,p,x,T,C))C.stopPropagation();else if(_V(p,C),x&4&&-1<Hhe.indexOf(p)){for(;B!==null;){var V=le(B);if(V!==null)switch(V.tag){case 3:if(V=V.stateNode,V.current.memoizedState.isDehydrated){var ne=vt(V.pendingLanes);if(ne!==0){var pe=V;for(pe.pendingLanes|=2,pe.entangledLanes|=2;ne;){var ke=1<<31-Ne(ne);pe.entanglements[1]|=ke,ne&=~ke}Hf(V),(Sn&6)===0&&(Uo=ie()+500,kS(0))}}break;case 31:case 13:pe=Tf(V,2),pe!==null&&w(pe,V,2),ve(),QL(V,2)}if(V=t4(C),V===null&&UL(p,x,C,hM,T),V===B)break;B=V}B!==null&&C.stopPropagation()}else UL(p,x,C,null,T)}}function t4(p){return p=Ty(p),r4(p)}var hM=null;function r4(p){if(hM=null,p=Lt(p),p!==null){var x=i(p);if(x===null)p=null;else{var T=x.tag;if(T===13){if(p=s(x),p!==null)return p;p=null}else if(T===31){if(p=o(x),p!==null)return p;p=null}else if(T===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;p=null}else x!==p&&(p=null)}}return hM=p,null}function xV(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case je:return 2;case it:return 8;case Ge:case Bt:return 32;case pt:return 268435456;default:return 32}default:return 32}}var n4=!1,Yp=null,Xp=null,qp=null,HS=new Map,GS=new Map,Zp=[],Hhe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _V(p,x){switch(p){case"focusin":case"focusout":Yp=null;break;case"dragenter":case"dragleave":Xp=null;break;case"mouseover":case"mouseout":qp=null;break;case"pointerover":case"pointerout":HS.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":GS.delete(x.pointerId)}}function jS(p,x,T,C,B,V){return p===null||p.nativeEvent!==V?(p={blockedOn:x,domEventName:T,eventSystemFlags:C,nativeEvent:V,targetContainers:[B]},x!==null&&(x=le(x),x!==null&&mV(x)),p):(p.eventSystemFlags|=C,x=p.targetContainers,B!==null&&x.indexOf(B)===-1&&x.push(B),p)}function Ghe(p,x,T,C,B){switch(x){case"focusin":return Yp=jS(Yp,p,x,T,C,B),!0;case"dragenter":return Xp=jS(Xp,p,x,T,C,B),!0;case"mouseover":return qp=jS(qp,p,x,T,C,B),!0;case"pointerover":var V=B.pointerId;return HS.set(V,jS(HS.get(V)||null,p,x,T,C,B)),!0;case"gotpointercapture":return V=B.pointerId,GS.set(V,jS(GS.get(V)||null,p,x,T,C,B)),!0}return!1}function bV(p){var x=Lt(p.target);if(x!==null){var T=i(x);if(T!==null){if(x=T.tag,x===13){if(x=s(T),x!==null){p.blockedOn=x,Te(p.priority,function(){yV(T)});return}}else if(x===31){if(x=o(T),x!==null){p.blockedOn=x,Te(p.priority,function(){yV(T)});return}}else if(x===3&&T.stateNode.current.memoizedState.isDehydrated){p.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}p.blockedOn=null}function dM(p){if(p.blockedOn!==null)return!1;for(var x=p.targetContainers;0<x.length;){var T=t4(p.nativeEvent);if(T===null){T=p.nativeEvent;var C=new T.constructor(T.type,T);Sv=C,T.target.dispatchEvent(C),Sv=null}else return x=le(T),x!==null&&mV(x),p.blockedOn=T,!1;x.shift()}return!0}function SV(p,x,T){dM(p)&&T.delete(x)}function jhe(){n4=!1,Yp!==null&&dM(Yp)&&(Yp=null),Xp!==null&&dM(Xp)&&(Xp=null),qp!==null&&dM(qp)&&(qp=null),HS.forEach(SV),GS.forEach(SV)}function pM(p,x){p.blockedOn===x&&(p.blockedOn=null,n4||(n4=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jhe)))}var vM=null;function wV(p){vM!==p&&(vM=p,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vM===p&&(vM=null);for(var x=0;x<p.length;x+=3){var T=p[x],C=p[x+1],B=p[x+2];if(typeof C!="function"){if(r4(C||T)===null)continue;break}var V=le(T);V!==null&&(p.splice(x,3),x-=3,ES(V,{pending:!0,data:B,method:T.method,action:C},C,B))}}))}function Dx(p){function x(ke){return pM(ke,p)}Yp!==null&&pM(Yp,p),Xp!==null&&pM(Xp,p),qp!==null&&pM(qp,p),HS.forEach(x),GS.forEach(x);for(var T=0;T<Zp.length;T++){var C=Zp[T];C.blockedOn===p&&(C.blockedOn=null)}for(;0<Zp.length&&(T=Zp[0],T.blockedOn===null);)bV(T),T.blockedOn===null&&Zp.shift();if(T=(p.ownerDocument||p).$$reactFormReplay,T!=null)for(C=0;C<T.length;C+=3){var B=T[C],V=T[C+1],ne=B[Ae]||null;if(typeof V=="function")ne||wV(T);else if(ne){var pe=null;if(V&&V.hasAttribute("formAction")){if(B=V,ne=V[Ae]||null)pe=ne.formAction;else if(r4(B)!==null)continue}else pe=ne.action;typeof pe=="function"?T[C+1]=pe:(T.splice(C,3),C-=3),wV(T)}}}function TV(){function p(V){V.canIntercept&&V.info==="react-transition"&&V.intercept({handler:function(){return new Promise(function(ne){return B=ne})},focusReset:"manual",scroll:"manual"})}function x(){B!==null&&(B(),B=null),C||setTimeout(T,20)}function T(){if(!C&&!navigation.transition){var V=navigation.currentEntry;V&&V.url!=null&&navigation.navigate(V.url,{state:V.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,B=null;return navigation.addEventListener("navigate",p),navigation.addEventListener("navigatesuccess",x),navigation.addEventListener("navigateerror",x),setTimeout(T,100),function(){C=!0,navigation.removeEventListener("navigate",p),navigation.removeEventListener("navigatesuccess",x),navigation.removeEventListener("navigateerror",x),B!==null&&(B(),B=null)}}}function a4(p){this._internalRoot=p}gM.prototype.render=a4.prototype.render=function(p){var x=this._internalRoot;if(x===null)throw Error(n(409));var T=x.current,C=Ns();vV(T,C,p,x,null,null)},gM.prototype.unmount=a4.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var x=p.containerInfo;vV(p.current,2,null,p,null,null),ve(),x[De]=null}};function gM(p){this._internalRoot=p}gM.prototype.unstable_scheduleHydration=function(p){if(p){var x=he();p={blockedOn:null,target:p,priority:x};for(var T=0;T<Zp.length&&x!==0&&x<Zp[T].priority;T++);Zp.splice(T,0,p),T===0&&bV(p)}};var AV=e.version;if(AV!=="19.2.0")throw Error(n(527,AV,"19.2.0"));Z.findDOMNode=function(p){var x=p._reactInternals;if(x===void 0)throw typeof p.render=="function"?Error(n(188)):(p=Object.keys(p).join(","),Error(n(268,p)));return p=c(x),p=p!==null?u(p):null,p=p===null?null:p.stateNode,p};var Whe={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mM=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mM.isDisabled&&mM.supportsFiber)try{$e=mM.inject(Whe),yt=mM}catch{}}return YS.createRoot=function(p,x){if(!a(p))throw Error(n(299));var T=!1,C="",B=RS,V=ZE,ne=fx;return x!=null&&(x.unstable_strictMode===!0&&(T=!0),x.identifierPrefix!==void 0&&(C=x.identifierPrefix),x.onUncaughtError!==void 0&&(B=x.onUncaughtError),x.onCaughtError!==void 0&&(V=x.onCaughtError),x.onRecoverableError!==void 0&&(ne=x.onRecoverableError)),x=dV(p,1,!1,null,null,T,C,null,B,V,ne,TV),p[De]=x.current,FL(p),new a4(x)},YS.hydrateRoot=function(p,x,T){if(!a(p))throw Error(n(299));var C=!1,B="",V=RS,ne=ZE,pe=fx,ke=null;return T!=null&&(T.unstable_strictMode===!0&&(C=!0),T.identifierPrefix!==void 0&&(B=T.identifierPrefix),T.onUncaughtError!==void 0&&(V=T.onUncaughtError),T.onCaughtError!==void 0&&(ne=T.onCaughtError),T.onRecoverableError!==void 0&&(pe=T.onRecoverableError),T.formState!==void 0&&(ke=T.formState)),x=dV(p,1,!0,x,T??null,C,B,ke,V,ne,pe,TV),x.context=pV(null),T=x.current,C=Ns(),C=ua(C),B=bc(C),B.callback=null,yu(T,B,C),T=C,x.current.lanes=T,On(x,T),Hf(x),p[De]=x.current,FL(p),new gM(x)},YS.version="19.2.0",YS}var kV;function ede(){if(kV)return o4.exports;kV=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),o4.exports=Qhe(),o4.exports}var tde=ede();const rde=F_(tde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ade=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),PV=r=>{const e=ade(r);return e.charAt(0).toUpperCase()+e.slice(1)},pQ=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),ide=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=xe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>xe.createElement("svg",{ref:l,...sde,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:pQ("lucide",a),...!i&&!ide(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>xe.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(r,e)=>{const t=xe.forwardRef(({className:n,...a},i)=>xe.createElement(ode,{ref:i,iconNode:e,className:pQ(`lucide-${nde(PV(r))}`,`lucide-${r}`,n),...a}));return t.displayName=PV(r),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Tm=Mt("activity",lde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],ude=Mt("archive",cde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],hde=Mt("arrow-down-up",fde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pde=Mt("arrow-left",dde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gde=Mt("arrow-right",vde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],yde=Mt("arrow-up-right",mde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_de=Mt("bell",xde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Sde=Mt("bot",bde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],vQ=Mt("brain-circuit",wde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hP=Mt("briefcase",Tde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ede=Mt("building-2",Ade);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zd=Mt("calendar",Mde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Dde=Mt("car",Cde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],gQ=Mt("chart-no-axes-column-increasing",Rde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],BV=Mt("chart-no-axes-column",Nde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],zV=Mt("chart-pie",Ide);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wl=Mt("chevron-down",Lde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dP=Mt("chevron-left",Ode);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cd=Mt("chevron-right",kde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Bde=Mt("chevrons-left",Pde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Fde=Mt("chevrons-right",zde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ry=Mt("circle-alert",Ude);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hde=Mt("circle-check-big",Vde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ef=Mt("circle-check",Gde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wde=Mt("circle-play",jde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],mQ=Mt("circle-plus",Yde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qde=Mt("circle",Xde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],yQ=Mt("clipboard-list",Zde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],V_=Mt("clock",Kde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Jde=Mt("code",$de);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],epe=Mt("command",Qde);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],g8=Mt("credit-card",tpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],FV=Mt("database",rpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],ape=Mt("diamond",npe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Bm=Mt("dollar-sign",ipe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ope=Mt("download",spe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],cpe=Mt("ellipsis-vertical",lpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],oA=Mt("ellipsis",upe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],hpe=Mt("file-spreadsheet",fpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],m8=Mt("flag",dpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],vpe=Mt("folder",ppe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],mpe=Mt("fuel",gpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xQ=Mt("funnel",ype);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_pe=Mt("grid-3x3",xpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],_Q=Mt("grip-vertical",bpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],wpe=Mt("hash",Spe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],bQ=Mt("history",Tpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Epe=Mt("house",Ape);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Cpe=Mt("image",Mpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],y8=Mt("inbox",Dpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Npe=Mt("info",Rpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],Lpe=Mt("kanban",Ipe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kpe=Mt("layout-dashboard",Ope);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],x8=Mt("layout-grid",Ppe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],zpe=Mt("life-buoy",Bpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],SQ=Mt("list-ordered",Fpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Kw=Mt("list-todo",Upe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Hpe=Mt("list",Vpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_8=Mt("loader-circle",Gpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wQ=Mt("log-out",jpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],b8=Mt("map-pin",Wpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ype=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],UV=Mt("megaphone",Ype);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xpe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],TQ=Mt("message-square",Xpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qpe=[["path",{d:"M5 12h14",key:"1ays0h"}]],B0=Mt("minus",qpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zpe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],S8=Mt("package",Zpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],$pe=Mt("palette",Kpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jpe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],$w=Mt("panels-top-left",Jpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],e0e=Mt("pen",Qpe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ja=Mt("plus",t0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0e=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],n0e=Mt("redo",r0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],i0e=Mt("reply",a0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],o0e=Mt("rocket",s0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],w8=Mt("search",l0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0e=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AQ=Mt("send",c0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],VV=Mt("server",u0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mD=Mt("settings",f0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],d0e=Mt("share-2",h0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],v0e=Mt("shield",p0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],pP=Mt("ship",g0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],T8=Mt("shopping-bag",m0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],vP=Mt("shopping-cart",y0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],_0e=Mt("sliders-horizontal",x0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0e=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ph=Mt("sparkles",b0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],w0e=Mt("square-check-big",S0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],A0e=Mt("square-kanban",T0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],M0e=Mt("square",E0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],G3=Mt("star",C0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0e=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],R0e=Mt("sticky-note",D0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],yD=Mt("store",N0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0e=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],A8=Mt("table",I0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],EQ=Mt("target",L0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Am=Mt("trash-2",O0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],MQ=Mt("trending-down",k0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0e=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Kc=Mt("trending-up",P0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],z0e=Mt("trophy",B0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0e=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],gP=Mt("truck",F0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0e=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],CQ=Mt("type",U0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0e=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],H0e=Mt("undo",V0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],j0e=Mt("user-plus",G0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Y0e=Mt("user",W0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],q0=Mt("users",X0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0e=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],HV=Mt("video",q0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0e=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],mP=Mt("warehouse",Z0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0e=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],$0e=Mt("waves",K0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0e=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],f4=Mt("wind",J0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0e=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],eve=Mt("wrench",Q0e);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tve=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lA=Mt("x",tve);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rve=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],fw=Mt("zap",rve),DQ=xe.createContext(void 0),lc=()=>{const r=xe.useContext(DQ);return r||{showToast:e=>console.log("Toast:",e)}},nve=({id:r,message:e,type:t,onClose:n})=>{const a={info:"bg-gray-900 text-white border-gray-800",success:"bg-emerald-600 text-white border-emerald-700",error:"bg-red-600 text-white border-red-700"},i={info:D.jsx(Npe,{size:18}),success:D.jsx(Hde,{size:18}),error:D.jsx(ry,{size:18})};return D.jsxs("div",{className:`${a[t]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border`,children:[D.jsx("div",{className:"flex-shrink-0",children:i[t]}),D.jsx("span",{className:"text-sm font-medium flex-1",children:e}),D.jsx("button",{onClick:()=>n(r),className:"opacity-70 hover:opacity-100 transition-opacity",children:D.jsx(lA,{size:16})})]})},ave=({children:r})=>{const[e,t]=xe.useState([]),n=xe.useCallback((i,s="info")=>{const o=Date.now();t(l=>[...l,{id:o,message:i,type:s}]),setTimeout(()=>{t(l=>l.filter(c=>c.id!==o))},3e3)},[]),a=i=>{t(s=>s.filter(o=>o.id!==i))};return D.jsxs(DQ.Provider,{value:{showToast:n},children:[r,D.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto",children:e.map(i=>D.jsx(nve,{...i,onClose:a},i.id))})]})},xM="http://localhost:3001",_M={getSpaces:async()=>(await fetch(`${xM}/spaces`)).json(),createSpace:async r=>{const e={id:`SPACE-${Date.now()}`,name:r,color:"#"+Math.floor(Math.random()*16777215).toString(16)};return(await fetch(`${xM}/spaces`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()},updateSpace:async(r,e)=>{await fetch(`${xM}/spaces/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deleteSpace:async r=>{await fetch(`${xM}/spaces/${r}`,{method:"DELETE"})}},bM="http://localhost:3001",dm={getTasks:async()=>(await fetch(`${bM}/tasks`)).json(),updateTask:async(r,e)=>(await fetch(`${bM}/tasks/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),createTask:async r=>{const e={...r,id:`TASK-${Math.floor(1e3+Math.random()*9e3)}`};return(await fetch(`${bM}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()},deleteTask:async r=>{await fetch(`${bM}/tasks/${r}`,{method:"DELETE"})},deleteTasksBySpaceId:async r=>{const t=(await dm.getTasks()).filter(n=>n.spaceId===r);await Promise.all(t.map(n=>dm.deleteTask(n.id)))}};function SM(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var h4={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var GV;function ive(){return GV||(GV=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(n,a,i){function s(c,u){if(!a[c]){if(!n[c]){var f=typeof SM=="function"&&SM;if(!u&&f)return f(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var d=a[c]={exports:{}};n[c][0].call(d.exports,function(v){var g=n[c][1][v];return s(g||v)},d,d.exports,t,n,a,i)}return a[c].exports}for(var o=typeof SM=="function"&&SM,l=0;l<i.length;l++)s(i[l]);return s})({1:[function(t,n,a){var i=t("./utils"),s=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(l){for(var c,u,f,h,d,v,g,m=[],y=0,b=l.length,S=b,A=i.getTypeOf(l)!=="string";y<l.length;)S=b-y,f=A?(c=l[y++],u=y<b?l[y++]:0,y<b?l[y++]:0):(c=l.charCodeAt(y++),u=y<b?l.charCodeAt(y++):0,y<b?l.charCodeAt(y++):0),h=c>>2,d=(3&c)<<4|u>>4,v=1<S?(15&u)<<2|f>>6:64,g=2<S?63&f:64,m.push(o.charAt(h)+o.charAt(d)+o.charAt(v)+o.charAt(g));return m.join("")},a.decode=function(l){var c,u,f,h,d,v,g=0,m=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var b,S=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&S--,l.charAt(l.length-2)===o.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=s.uint8array?new Uint8Array(0|S):new Array(0|S);g<l.length;)c=o.indexOf(l.charAt(g++))<<2|(h=o.indexOf(l.charAt(g++)))>>4,u=(15&h)<<4|(d=o.indexOf(l.charAt(g++)))>>2,f=(3&d)<<6|(v=o.indexOf(l.charAt(g++))),b[m++]=c,d!==64&&(b[m++]=u),v!==64&&(b[m++]=f);return b}},{"./support":30,"./utils":32}],2:[function(t,n,a){var i=t("./external"),s=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(u,f,h,d,v){this.compressedSize=u,this.uncompressedSize=f,this.crc32=h,this.compression=d,this.compressedContent=v}c.prototype={getContentWorker:function(){var u=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return u.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,f,h){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,a){var i=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,a){var i=t("./utils"),s=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();n.exports=function(o,l){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?(function(c,u,f,h){var d=s,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^d[255&(c^u[g])];return-1^c})(0|l,o,o.length,0):(function(c,u,f,h){var d=s,v=h+f;c^=-1;for(var g=h;g<v;g++)c=c>>>8^d[255&(c^u.charCodeAt(g))];return-1^c})(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(t,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,n,a){var i=null;i=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:i}},{lie:37}],7:[function(t,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),o=t("./utils"),l=t("./stream/GenericWorker"),c=i?"uint8array":"array";function u(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}a.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,f.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},a.compressWorker=function(f){return new u("Deflate",f)},a.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,a){function i(d,v){var g,m="";for(g=0;g<v;g++)m+=String.fromCharCode(255&d),d>>>=8;return m}function s(d,v,g,m,y,b){var S,A,E=d.file,M=d.compression,R=b!==c.utf8encode,L=o.transformTo("string",b(E.name)),I=o.transformTo("string",c.utf8encode(E.name)),O=E.comment,P=o.transformTo("string",b(O)),k=o.transformTo("string",c.utf8encode(O)),U=I.length!==E.name.length,F=k.length!==O.length,q="",H="",Z="",X=E.dir,Y=E.date,re={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(re.crc32=d.crc32,re.compressedSize=d.compressedSize,re.uncompressedSize=d.uncompressedSize);var W=0;v&&(W|=8),R||!U&&!F||(W|=2048);var j=0,J=0;X&&(j|=16),y==="UNIX"?(J=798,j|=(function(ae,ce){var me=ae;return ae||(me=ce?16893:33204),(65535&me)<<16})(E.unixPermissions,X)):(J=20,j|=(function(ae){return 63&(ae||0)})(E.dosPermissions)),S=Y.getUTCHours(),S<<=6,S|=Y.getUTCMinutes(),S<<=5,S|=Y.getUTCSeconds()/2,A=Y.getUTCFullYear()-1980,A<<=4,A|=Y.getUTCMonth()+1,A<<=5,A|=Y.getUTCDate(),U&&(H=i(1,1)+i(u(L),4)+I,q+="up"+i(H.length,2)+H),F&&(Z=i(1,1)+i(u(P),4)+k,q+="uc"+i(Z.length,2)+Z);var ee="";return ee+=`
\0`,ee+=i(W,2),ee+=M.magic,ee+=i(S,2),ee+=i(A,2),ee+=i(re.crc32,4),ee+=i(re.compressedSize,4),ee+=i(re.uncompressedSize,4),ee+=i(L.length,2),ee+=i(q.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ee+L+q,dirRecord:f.CENTRAL_FILE_HEADER+i(J,2)+ee+i(P.length,2)+"\0\0\0\0"+i(j,4)+i(m,4)+L+q+P}}var o=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),u=t("../crc32"),f=t("../signature");function h(d,v,g,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,l),h.prototype.push=function(d){var v=d.meta.percent||0,g=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-m-1))/g:100}}))},h.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var v=this.streamFiles&&!d.file.dir;if(v){var g=s(d,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(d){this.accumulate=!1;var v=this.streamFiles&&!d.file.dir,g=s(d,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:(function(m){return f.DATA_DESCRIPTOR+i(m.crc32,4)+i(m.compressedSize,4)+i(m.uncompressedSize,4)})(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var d=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-d,m=(function(y,b,S,A,E){var M=o.transformTo("string",E(A));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(y,2)+i(y,2)+i(b,4)+i(S,4)+i(M.length,2)+M})(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(d){this._sources.push(d);var v=this;return d.on("data",function(g){v.processChunk(g)}),d.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),d.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(d){var v=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<v.length;g++)try{v[g].error(d)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,v=0;v<d.length;v++)d[v].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,a){var i=t("../compressions"),s=t("./ZipFileWorker");a.generateWorker=function(o,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),f=0;try{o.forEach(function(h,d){f++;var v=(function(b,S){var A=b||S,E=i[A];if(!E)throw new Error(A+" is not a valid compression method !");return E})(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},m=d.dir,y=d.date;d._compressWorker(v,g).withStreamInfo("file",{name:h,dir:m,date:y,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(u)}),u.entriesCount=f}catch(h){u.error(h)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(s,o){return new i().loadAsync(s,o)},i.external=t("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,a){var i=t("./utils"),s=t("./external"),o=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function f(h){return new s.Promise(function(d,v){var g=h.decompressed.getContentWorker().pipe(new c);g.on("error",function(m){v(m)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(h,d){var v=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",h,!0,d.optimizedBinaryString,d.base64).then(function(g){var m=new l(d);return m.load(g),m}).then(function(g){var m=[s.Promise.resolve(g)],y=g.files;if(d.checkCRC32)for(var b=0;b<y.length;b++)m.push(f(y[b]));return s.Promise.all(m)}).then(function(g){for(var m=g.shift(),y=m.files,b=0;b<y.length;b++){var S=y[b],A=S.fileNameStr,E=i.resolve(S.fileNameStr);v.file(E,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:d.createFolders}),S.dir||(v.file(E).unsafeOriginalName=A)}return m.zipComment.length&&(v.comment=m.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,a){var i=t("../utils"),s=t("../stream/GenericWorker");function o(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(o,s),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,a){var i=t("readable-stream").Readable;function s(o,l,c){i.call(this,l),this._helper=o;var u=this;o.on("data",function(f,h){u.push(f)||u._helper.pause(),c&&c(h)}).on("error",function(f){u.emit("error",f)}).on("end",function(){u.push(null)})}t("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,n,a){function i(E,M,R){var L,I=o.getTypeOf(M),O=o.extend(R||{},u);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(E=y(E)),O.createFolders&&(L=m(E))&&b.call(this,L,!0);var P=I==="string"&&O.binary===!1&&O.base64===!1;R&&R.binary!==void 0||(O.binary=!P),(M instanceof f&&M.uncompressedSize===0||O.dir||!M||M.length===0)&&(O.base64=!1,O.binary=!0,M="",O.compression="STORE",I="string");var k=null;k=M instanceof f||M instanceof l?M:v.isNode&&v.isStream(M)?new g(E,M):o.prepareContent(E,M,O.binary,O.optimizedBinaryString,O.base64);var U=new h(E,k,O);this.files[E]=U}var s=t("./utf8"),o=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),u=t("./defaults"),f=t("./compressedObject"),h=t("./zipObject"),d=t("./generate"),v=t("./nodejsUtils"),g=t("./nodejs/NodejsStreamInputAdapter"),m=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var M=E.lastIndexOf("/");return 0<M?E.substring(0,M):""},y=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},b=function(E,M){return M=M!==void 0?M:u.createFolders,E=y(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:M}),this.files[E]};function S(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var M,R,L;for(M in this.files)L=this.files[M],(R=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&E(R,L)},filter:function(E){var M=[];return this.forEach(function(R,L){E(R,L)&&M.push(L)}),M},file:function(E,M,R){if(arguments.length!==1)return E=this.root+E,i.call(this,E,M,R),this;if(S(E)){var L=E;return this.filter(function(O,P){return!P.dir&&L.test(O)})}var I=this.files[this.root+E];return I&&!I.dir?I:null},folder:function(E){if(!E)return this;if(S(E))return this.filter(function(I,O){return O.dir&&E.test(I)});var M=this.root+E,R=b.call(this,M),L=this.clone();return L.root=R.name,L},remove:function(E){E=this.root+E;var M=this.files[E];if(M||(E.slice(-1)!=="/"&&(E+="/"),M=this.files[E]),M&&!M.dir)delete this.files[E];else for(var R=this.filter(function(I,O){return O.name.slice(0,E.length)===E}),L=0;L<R.length;L++)delete this.files[R[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var M,R={};try{if((R=o.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var L=R.comment||this.comment||"";M=d.generateWorker(this,R,L)}catch(I){(M=new l("error")).error(I)}return new c(M,R.type||"string",R.mimeType)},generateAsync:function(E,M){return this.generateInternalStream(E).accumulate(M)},generateNodeStream:function(E,M){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(M)}};n.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,a){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,a){var i=t("./DataReader");function s(o){i.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}t("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===c&&this.data[h+2]===u&&this.data[h+3]===f)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),u=o.charCodeAt(2),f=o.charCodeAt(3),h=this.readData(4);return l===h[0]&&c===h[1]&&u===h[2]&&f===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,n,a){var i=t("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=s},{"../utils":32}],19:[function(t,n,a){var i=t("./Uint8ArrayReader");function s(o){i.call(this,o)}t("../utils").inherits(s,i),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,a){var i=t("./DataReader");function s(o){i.call(this,o)}t("../utils").inherits(s,i),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,n,a){var i=t("./ArrayReader");function s(o){i.call(this,o)}t("../utils").inherits(s,i),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,a){var i=t("../utils"),s=t("../support"),o=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");n.exports=function(f){var h=i.getTypeOf(f);return i.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new c(f):s.uint8array?new u(i.transformTo("uint8array",f)):new o(i.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,a){var i=t("./GenericWorker"),s=t("../utils");function o(l){i.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,i),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,a){var i=t("./GenericWorker"),s=t("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,i),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,a){var i=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(o,s),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,a){var i=t("../utils"),s=t("./GenericWorker");function o(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=i.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}i.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,a){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=i},{}],29:[function(t,n,a){var i=t("../utils"),s=t("./ConvertWorker"),o=t("./GenericWorker"),l=t("../base64"),c=t("../support"),u=t("../external"),f=null;if(c.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new u.Promise(function(m,y){var b=[],S=v._internalType,A=v._outputType,E=v._mimeType;v.on("data",function(M,R){b.push(M),g&&g(R)}).on("error",function(M){b=[],y(M)}).on("end",function(){try{var M=(function(R,L,I){switch(R){case"blob":return i.newBlob(i.transformTo("arraybuffer",L),I);case"base64":return l.encode(L);default:return i.transformTo(R,L)}})(A,(function(R,L){var I,O=0,P=null,k=0;for(I=0;I<L.length;I++)k+=L[I].length;switch(R){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(P=new Uint8Array(k),I=0;I<L.length;I++)P.set(L[I],O),O+=L[I].length;return P;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+R+"'")}})(S,b),E);m(M)}catch(R){y(R)}b=[]}).resume()})}function d(v,g,m){var y=g;switch(g){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=g,this._mimeType=m,i.checkSupport(y),this._worker=v.pipe(new s(y)),v.lock()}catch(b){this._worker=new o("error"),this._worker.error(b)}}d.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var m=this;return v==="data"?this._worker.on(v,function(y){g.call(m,y.data,y.meta)}):this._worker.on(v,function(){i.delay(g,arguments,m)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,a){for(var i=t("./utils"),s=t("./support"),o=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}a.utf8encode=function(d){return s.nodebuffer?o.newBufferFrom(d,"utf-8"):(function(v){var g,m,y,b,S,A=v.length,E=0;for(b=0;b<A;b++)(64512&(m=v.charCodeAt(b)))==55296&&b+1<A&&(64512&(y=v.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),b++),E+=m<128?1:m<2048?2:m<65536?3:4;for(g=s.uint8array?new Uint8Array(E):new Array(E),b=S=0;S<E;b++)(64512&(m=v.charCodeAt(b)))==55296&&b+1<A&&(64512&(y=v.charCodeAt(b+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),b++),m<128?g[S++]=m:(m<2048?g[S++]=192|m>>>6:(m<65536?g[S++]=224|m>>>12:(g[S++]=240|m>>>18,g[S++]=128|m>>>12&63),g[S++]=128|m>>>6&63),g[S++]=128|63&m);return g})(d)},a.utf8decode=function(d){return s.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):(function(v){var g,m,y,b,S=v.length,A=new Array(2*S);for(g=m=0;g<S;)if((y=v[g++])<128)A[m++]=y;else if(4<(b=c[y]))A[m++]=65533,g+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&g<S;)y=y<<6|63&v[g++],b--;1<b?A[m++]=65533:y<65536?A[m++]=y:(y-=65536,A[m++]=55296|y>>10&1023,A[m++]=56320|1023&y)}return A.length!==m&&(A.subarray?A=A.subarray(0,m):A.length=m),i.applyFromCharCode(A)})(d=i.transformTo(s.uint8array?"uint8array":"array",d))},i.inherits(f,l),f.prototype.processChunk=function(d){var v=i.transformTo(s.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var m=(function(b,S){var A;for((S=S||b.length)>b.length&&(S=b.length),A=S-1;0<=A&&(192&b[A])==128;)A--;return A<0||A===0?S:A+c[b[A]]>S?A:S})(v),y=v;m!==v.length&&(s.uint8array?(y=v.subarray(0,m),this.leftOver=v.subarray(m,v.length)):(y=v.slice(0,m),this.leftOver=v.slice(m,v.length))),this.push({data:a.utf8decode(y),meta:d.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,i.inherits(h,l),h.prototype.processChunk=function(d){this.push({data:a.utf8encode(d.data),meta:d.meta})},a.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,a){var i=t("./support"),s=t("./base64"),o=t("./nodejsUtils"),l=t("./external");function c(g){return g}function u(g,m){for(var y=0;y<g.length;++y)m[y]=255&g.charCodeAt(y);return m}t("setimmediate"),a.newBlob=function(g,m){a.checkSupport("blob");try{return new Blob([g],{type:m})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(g),y.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,m,y){var b=[],S=0,A=g.length;if(A<=y)return String.fromCharCode.apply(null,g);for(;S<A;)m==="array"||m==="nodebuffer"?b.push(String.fromCharCode.apply(null,g.slice(S,Math.min(S+y,A)))):b.push(String.fromCharCode.apply(null,g.subarray(S,Math.min(S+y,A)))),S+=y;return b.join("")},stringifyByChar:function(g){for(var m="",y=0;y<g.length;y++)m+=String.fromCharCode(g[y]);return m},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(g){var m=65536,y=a.getTypeOf(g),b=!0;if(y==="uint8array"?b=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(b=f.applyCanBeUsed.nodebuffer),b)for(;1<m;)try{return f.stringifyByChunk(g,y,m)}catch{m=Math.floor(m/2)}return f.stringifyByChar(g)}function d(g,m){for(var y=0;y<g.length;y++)m[y]=g[y];return m}a.applyFromCharCode=h;var v={};v.string={string:c,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,o.allocBuffer(g.length))}},v.array={string:h,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:c},a.transformTo=function(g,m){if(m=m||"",!g)return m;a.checkSupport(g);var y=a.getTypeOf(m);return v[y][g](m)},a.resolve=function(g){for(var m=g.split("/"),y=[],b=0;b<m.length;b++){var S=m[b];S==="."||S===""&&b!==0&&b!==m.length-1||(S===".."?y.pop():y.push(S))}return y.join("/")},a.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(g)?"nodebuffer":i.uint8array&&g instanceof Uint8Array?"uint8array":i.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(g){if(!i[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(g){var m,y,b="";for(y=0;y<(g||"").length;y++)b+="\\x"+((m=g.charCodeAt(y))<16?"0":"")+m.toString(16).toUpperCase();return b},a.delay=function(g,m,y){setImmediate(function(){g.apply(y||null,m||[])})},a.inherits=function(g,m){function y(){}y.prototype=m.prototype,g.prototype=new y},a.extend=function(){var g,m,y={};for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&y[m]===void 0&&(y[m]=arguments[g][m]);return y},a.prepareContent=function(g,m,y,b,S){return l.Promise.resolve(m).then(function(A){return i.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,M){var R=new FileReader;R.onload=function(L){E(L.target.result)},R.onerror=function(L){M(L.target.error)},R.readAsArrayBuffer(A)}):A}).then(function(A){var E=a.getTypeOf(A);return E?(E==="arraybuffer"?A=a.transformTo("uint8array",A):E==="string"&&(S?A=s.decode(A):y&&b!==!0&&(A=(function(M){return u(M,i.uint8array?new Uint8Array(M.length):new Array(M.length))})(A))),A):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,a){var i=t("./reader/readerFor"),s=t("./utils"),o=t("./signature"),l=t("./zipEntry"),c=t("./support");function u(f){this.files=[],this.loadOptions=f}u.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(f)+")")}},isSignature:function(f,h){var d=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(d),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",d=s.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,d,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),d=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var v=h-d;if(0<v)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,a){var i=t("./reader/readerFor"),s=t("./utils"),o=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),u=t("./compressions"),f=t("./support");function h(d,v){this.options=d,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var v,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(m){for(var y in u)if(Object.prototype.hasOwnProperty.call(u,y)&&u[y].magic===m)return u[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,v,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var v=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(v),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var v,g,m,y=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<y;)v=d.readInt(2),g=d.readInt(2),m=d.readData(g),this.extraFields[v]={id:v,length:g,value:m};d.setIndex(y)},handleUTF8:function(){var d=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=s.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var y=s.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var v=i(d.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:c.utf8decode(v.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var v=i(d.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:c.utf8decode(v.readData(d.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,a){function i(v,g,m){this.name=v,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=g,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var s=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),u=t("./stream/GenericWorker");i.prototype={internalStream:function(v){var g=null,m="string";try{if(!v)throw new Error("No output type specified.");var y=(m=v.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),g=this._decompressWorker();var b=!this._dataBinary;b&&!y&&(g=g.pipe(new l.Utf8EncodeWorker)),!b&&y&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(S){(g=new u("error")).error(S)}return new s(g,m,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof c&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(m,v,g)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<f.length;d++)i.prototype[f[d]]=h;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,a){(function(i){var s,o,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,u=new l(v),f=i.document.createTextNode("");u.observe(f,{characterData:!0}),s=function(){f.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var g=i.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new i.MessageChannel;h.port1.onmessage=v,s=function(){h.port2.postMessage(0)}}var d=[];function v(){var g,m;o=!0;for(var y=d.length;y;){for(m=d,d=[],g=-1;++g<y;)m[g]();y=d.length}o=!1}n.exports=function(g){d.push(g)!==1||o||s()}}).call(this,typeof yM<"u"?yM:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,a){var i=t("immediate");function s(){}var o={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,y!==s&&g(this,y)}function h(y,b,S){this.promise=y,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function d(y,b,S){i(function(){var A;try{A=b(S)}catch(E){return o.reject(y,E)}A===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,A)})}function v(y){var b=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof b=="function")return function(){b.apply(y,arguments)}}function g(y,b){var S=!1;function A(R){S||(S=!0,o.reject(y,R))}function E(R){S||(S=!0,o.resolve(y,R))}var M=m(function(){b(E,A)});M.status==="error"&&A(M.value)}function m(y,b){var S={};try{S.value=y(b),S.status="success"}catch(A){S.status="error",S.value=A}return S}(n.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var b=this.constructor;return this.then(function(S){return b.resolve(y()).then(function(){return S})},function(S){return b.resolve(y()).then(function(){throw S})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,b){if(typeof y!="function"&&this.state===c||typeof b!="function"&&this.state===l)return this;var S=new this.constructor(s);return this.state!==u?d(S,this.state===c?y:b,this.outcome):this.queue.push(new h(S,y,b)),S},h.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},h.prototype.otherCallFulfilled=function(y){d(this.promise,this.onFulfilled,y)},h.prototype.callRejected=function(y){o.reject(this.promise,y)},h.prototype.otherCallRejected=function(y){d(this.promise,this.onRejected,y)},o.resolve=function(y,b){var S=m(v,b);if(S.status==="error")return o.reject(y,S.value);var A=S.value;if(A)g(y,A);else{y.state=c,y.outcome=b;for(var E=-1,M=y.queue.length;++E<M;)y.queue[E].callFulfilled(b)}return y},o.reject=function(y,b){y.state=l,y.outcome=b;for(var S=-1,A=y.queue.length;++S<A;)y.queue[S].callRejected(b);return y},f.resolve=function(y){return y instanceof this?y:o.resolve(new this(s),y)},f.reject=function(y){var b=new this(s);return o.reject(b,y)},f.all=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,A=!1;if(!S)return this.resolve([]);for(var E=new Array(S),M=0,R=-1,L=new this(s);++R<S;)I(y[R],R);return L;function I(O,P){b.resolve(O).then(function(k){E[P]=k,++M!==S||A||(A=!0,o.resolve(L,E))},function(k){A||(A=!0,o.reject(L,k))})}},f.race=function(y){var b=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,A=!1;if(!S)return this.resolve([]);for(var E=-1,M=new this(s);++E<S;)R=y[E],b.resolve(R).then(function(L){A||(A=!0,o.resolve(M,L))},function(L){A||(A=!0,o.reject(M,L))});var R;return M}},{immediate:36}],38:[function(t,n,a){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,a){var i=t("./zlib/deflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),u=Object.prototype.toString,f=0,h=-1,d=0,v=8;function g(y){if(!(this instanceof g))return new g(y);this.options=s.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},y||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var S=i.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(S!==f)throw new Error(l[S]);if(b.header&&i.deflateSetHeader(this.strm,b.header),b.dictionary){var A;if(A=typeof b.dictionary=="string"?o.string2buf(b.dictionary):u.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(S=i.deflateSetDictionary(this.strm,A))!==f)throw new Error(l[S]);this._dict_set=!0}}function m(y,b){var S=new g(b);if(S.push(y,!0),S.err)throw S.msg||l[S.err];return S.result}g.prototype.push=function(y,b){var S,A,E=this.strm,M=this.options.chunkSize;if(this.ended)return!1;A=b===~~b?b:b===!0?4:0,typeof y=="string"?E.input=o.string2buf(y):u.call(y)==="[object ArrayBuffer]"?E.input=new Uint8Array(y):E.input=y,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(M),E.next_out=0,E.avail_out=M),(S=i.deflate(E,A))!==1&&S!==f)return this.onEnd(S),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(E.output,E.next_out))):this.onData(s.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&S!==1);return A===4?(S=i.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===f):A!==2||(this.onEnd(f),!(E.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Deflate=g,a.deflate=m,a.deflateRaw=function(y,b){return(b=b||{}).raw=!0,m(y,b)},a.gzip=function(y,b){return(b=b||{}).gzip=!0,m(y,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,a){var i=t("./zlib/inflate"),s=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),u=t("./zlib/zstream"),f=t("./zlib/gzheader"),h=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||g&&g.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&(15&m.windowBits)==0&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var y=i.inflateInit2(this.strm,m.windowBits);if(y!==l.Z_OK)throw new Error(c[y]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function v(g,m){var y=new d(m);if(y.push(g,!0),y.err)throw y.msg||c[y.err];return y.result}d.prototype.push=function(g,m){var y,b,S,A,E,M,R=this.strm,L=this.options.chunkSize,I=this.options.dictionary,O=!1;if(this.ended)return!1;b=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?R.input=o.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?R.input=new Uint8Array(g):R.input=g,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new s.Buf8(L),R.next_out=0,R.avail_out=L),(y=i.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(M=typeof I=="string"?o.string2buf(I):h.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,y=i.inflateSetDictionary(this.strm,M)),y===l.Z_BUF_ERROR&&O===!0&&(y=l.Z_OK,O=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&y!==l.Z_STREAM_END&&(R.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=o.utf8border(R.output,R.next_out),A=R.next_out-S,E=o.buf2string(R.output,S),R.next_out=A,R.avail_out=L-A,A&&s.arraySet(R.output,R.output,S,A,0),this.onData(E)):this.onData(s.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(O=!0)}while((0<R.avail_in||R.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(y=i.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},a.Inflate=d,a.inflate=v,a.inflateRaw=function(g,m){return(m=m||{}).raw=!0,v(g,m)},a.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var f in u)u.hasOwnProperty(f)&&(l[f]=u[f])}}return l},a.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,f,h){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+f),h);else for(var d=0;d<f;d++)l[h+d]=c[u+d]},flattenChunks:function(l){var c,u,f,h,d,v;for(c=f=0,u=l.length;c<u;c++)f+=l[c].length;for(v=new Uint8Array(f),c=h=0,u=l.length;c<u;c++)d=l[c],v.set(d,h),h+=d.length;return v}},o={arraySet:function(l,c,u,f,h){for(var d=0;d<f;d++)l[h+d]=c[u+d]},flattenChunks:function(l){return[].concat.apply([],l)}};a.setTyped=function(l){l?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(i)},{}],42:[function(t,n,a){var i=t("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(f,h){if(h<65537&&(f.subarray&&o||!f.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(f,h));for(var d="",v=0;v<h;v++)d+=String.fromCharCode(f[v]);return d}l[254]=l[254]=1,a.string2buf=function(f){var h,d,v,g,m,y=f.length,b=0;for(g=0;g<y;g++)(64512&(d=f.charCodeAt(g)))==55296&&g+1<y&&(64512&(v=f.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),g++),b+=d<128?1:d<2048?2:d<65536?3:4;for(h=new i.Buf8(b),g=m=0;m<b;g++)(64512&(d=f.charCodeAt(g)))==55296&&g+1<y&&(64512&(v=f.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),g++),d<128?h[m++]=d:(d<2048?h[m++]=192|d>>>6:(d<65536?h[m++]=224|d>>>12:(h[m++]=240|d>>>18,h[m++]=128|d>>>12&63),h[m++]=128|d>>>6&63),h[m++]=128|63&d);return h},a.buf2binstring=function(f){return u(f,f.length)},a.binstring2buf=function(f){for(var h=new i.Buf8(f.length),d=0,v=h.length;d<v;d++)h[d]=f.charCodeAt(d);return h},a.buf2string=function(f,h){var d,v,g,m,y=h||f.length,b=new Array(2*y);for(d=v=0;d<y;)if((g=f[d++])<128)b[v++]=g;else if(4<(m=l[g]))b[v++]=65533,d+=m-1;else{for(g&=m===2?31:m===3?15:7;1<m&&d<y;)g=g<<6|63&f[d++],m--;1<m?b[v++]=65533:g<65536?b[v++]=g:(g-=65536,b[v++]=55296|g>>10&1023,b[v++]=56320|1023&g)}return u(b,v)},a.utf8border=function(f,h){var d;for((h=h||f.length)>f.length&&(h=f.length),d=h-1;0<=d&&(192&f[d])==128;)d--;return d<0||d===0?h:d+l[f[d]]>h?d:h}},{"./common":41}],43:[function(t,n,a){n.exports=function(i,s,o,l){for(var c=65535&i|0,u=i>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;u=u+(c=c+s[l++]|0)|0,--f;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(t,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,a){var i=(function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o})();n.exports=function(s,o,l,c){var u=i,f=c+l;s^=-1;for(var h=c;h<f;h++)s=s>>>8^u[255&(s^o[h])];return-1^s}},{}],46:[function(t,n,a){var i,s=t("../utils/common"),o=t("./trees"),l=t("./adler32"),c=t("./crc32"),u=t("./messages"),f=0,h=4,d=0,v=-2,g=-1,m=4,y=2,b=8,S=9,A=286,E=30,M=19,R=2*A+1,L=15,I=3,O=258,P=O+I+1,k=42,U=113,F=1,q=2,H=3,Z=4;function X(K,se){return K.msg=u[se],se}function Y(K){return(K<<1)-(4<K?9:0)}function re(K){for(var se=K.length;0<=--se;)K[se]=0}function W(K){var se=K.state,_e=se.pending;_e>K.avail_out&&(_e=K.avail_out),_e!==0&&(s.arraySet(K.output,se.pending_buf,se.pending_out,_e,K.next_out),K.next_out+=_e,se.pending_out+=_e,K.total_out+=_e,K.avail_out-=_e,se.pending-=_e,se.pending===0&&(se.pending_out=0))}function j(K,se){o._tr_flush_block(K,0<=K.block_start?K.block_start:-1,K.strstart-K.block_start,se),K.block_start=K.strstart,W(K.strm)}function J(K,se){K.pending_buf[K.pending++]=se}function ee(K,se){K.pending_buf[K.pending++]=se>>>8&255,K.pending_buf[K.pending++]=255&se}function ae(K,se){var _e,oe,ue=K.max_chain_length,be=K.strstart,Be=K.prev_length,ze=K.nice_match,Le=K.strstart>K.w_size-P?K.strstart-(K.w_size-P):0,fe=K.window,ie=K.w_mask,Re=K.prev,je=K.strstart+O,it=fe[be+Be-1],Ge=fe[be+Be];K.prev_length>=K.good_match&&(ue>>=2),ze>K.lookahead&&(ze=K.lookahead);do if(fe[(_e=se)+Be]===Ge&&fe[_e+Be-1]===it&&fe[_e]===fe[be]&&fe[++_e]===fe[be+1]){be+=2,_e++;do;while(fe[++be]===fe[++_e]&&fe[++be]===fe[++_e]&&fe[++be]===fe[++_e]&&fe[++be]===fe[++_e]&&fe[++be]===fe[++_e]&&fe[++be]===fe[++_e]&&fe[++be]===fe[++_e]&&fe[++be]===fe[++_e]&&be<je);if(oe=O-(je-be),be=je-O,Be<oe){if(K.match_start=se,ze<=(Be=oe))break;it=fe[be+Be-1],Ge=fe[be+Be]}}while((se=Re[se&ie])>Le&&--ue!=0);return Be<=K.lookahead?Be:K.lookahead}function ce(K){var se,_e,oe,ue,be,Be,ze,Le,fe,ie,Re=K.w_size;do{if(ue=K.window_size-K.lookahead-K.strstart,K.strstart>=Re+(Re-P)){for(s.arraySet(K.window,K.window,Re,Re,0),K.match_start-=Re,K.strstart-=Re,K.block_start-=Re,se=_e=K.hash_size;oe=K.head[--se],K.head[se]=Re<=oe?oe-Re:0,--_e;);for(se=_e=Re;oe=K.prev[--se],K.prev[se]=Re<=oe?oe-Re:0,--_e;);ue+=Re}if(K.strm.avail_in===0)break;if(Be=K.strm,ze=K.window,Le=K.strstart+K.lookahead,fe=ue,ie=void 0,ie=Be.avail_in,fe<ie&&(ie=fe),_e=ie===0?0:(Be.avail_in-=ie,s.arraySet(ze,Be.input,Be.next_in,ie,Le),Be.state.wrap===1?Be.adler=l(Be.adler,ze,ie,Le):Be.state.wrap===2&&(Be.adler=c(Be.adler,ze,ie,Le)),Be.next_in+=ie,Be.total_in+=ie,ie),K.lookahead+=_e,K.lookahead+K.insert>=I)for(be=K.strstart-K.insert,K.ins_h=K.window[be],K.ins_h=(K.ins_h<<K.hash_shift^K.window[be+1])&K.hash_mask;K.insert&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[be+I-1])&K.hash_mask,K.prev[be&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=be,be++,K.insert--,!(K.lookahead+K.insert<I)););}while(K.lookahead<P&&K.strm.avail_in!==0)}function me(K,se){for(var _e,oe;;){if(K.lookahead<P){if(ce(K),K.lookahead<P&&se===f)return F;if(K.lookahead===0)break}if(_e=0,K.lookahead>=I&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+I-1])&K.hash_mask,_e=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),_e!==0&&K.strstart-_e<=K.w_size-P&&(K.match_length=ae(K,_e)),K.match_length>=I)if(oe=o._tr_tally(K,K.strstart-K.match_start,K.match_length-I),K.lookahead-=K.match_length,K.match_length<=K.max_lazy_match&&K.lookahead>=I){for(K.match_length--;K.strstart++,K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+I-1])&K.hash_mask,_e=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart,--K.match_length!=0;);K.strstart++}else K.strstart+=K.match_length,K.match_length=0,K.ins_h=K.window[K.strstart],K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+1])&K.hash_mask;else oe=o._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++;if(oe&&(j(K,!1),K.strm.avail_out===0))return F}return K.insert=K.strstart<I-1?K.strstart:I-1,se===h?(j(K,!0),K.strm.avail_out===0?H:Z):K.last_lit&&(j(K,!1),K.strm.avail_out===0)?F:q}function Se(K,se){for(var _e,oe,ue;;){if(K.lookahead<P){if(ce(K),K.lookahead<P&&se===f)return F;if(K.lookahead===0)break}if(_e=0,K.lookahead>=I&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+I-1])&K.hash_mask,_e=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),K.prev_length=K.match_length,K.prev_match=K.match_start,K.match_length=I-1,_e!==0&&K.prev_length<K.max_lazy_match&&K.strstart-_e<=K.w_size-P&&(K.match_length=ae(K,_e),K.match_length<=5&&(K.strategy===1||K.match_length===I&&4096<K.strstart-K.match_start)&&(K.match_length=I-1)),K.prev_length>=I&&K.match_length<=K.prev_length){for(ue=K.strstart+K.lookahead-I,oe=o._tr_tally(K,K.strstart-1-K.prev_match,K.prev_length-I),K.lookahead-=K.prev_length-1,K.prev_length-=2;++K.strstart<=ue&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+I-1])&K.hash_mask,_e=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),--K.prev_length!=0;);if(K.match_available=0,K.match_length=I-1,K.strstart++,oe&&(j(K,!1),K.strm.avail_out===0))return F}else if(K.match_available){if((oe=o._tr_tally(K,0,K.window[K.strstart-1]))&&j(K,!1),K.strstart++,K.lookahead--,K.strm.avail_out===0)return F}else K.match_available=1,K.strstart++,K.lookahead--}return K.match_available&&(oe=o._tr_tally(K,0,K.window[K.strstart-1]),K.match_available=0),K.insert=K.strstart<I-1?K.strstart:I-1,se===h?(j(K,!0),K.strm.avail_out===0?H:Z):K.last_lit&&(j(K,!1),K.strm.avail_out===0)?F:q}function we(K,se,_e,oe,ue){this.good_length=K,this.max_lazy=se,this.nice_length=_e,this.max_chain=oe,this.func=ue}function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*R),this.dyn_dtree=new s.Buf16(2*(2*E+1)),this.bl_tree=new s.Buf16(2*(2*M+1)),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*A+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*A+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ve(K){var se;return K&&K.state?(K.total_in=K.total_out=0,K.data_type=y,(se=K.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?k:U,K.adler=se.wrap===2?0:1,se.last_flush=f,o._tr_init(se),d):X(K,v)}function de(K){var se=Ve(K);return se===d&&(function(_e){_e.window_size=2*_e.w_size,re(_e.head),_e.max_lazy_match=i[_e.level].max_lazy,_e.good_match=i[_e.level].good_length,_e.nice_match=i[_e.level].nice_length,_e.max_chain_length=i[_e.level].max_chain,_e.strstart=0,_e.block_start=0,_e.lookahead=0,_e.insert=0,_e.match_length=_e.prev_length=I-1,_e.match_available=0,_e.ins_h=0})(K.state),se}function dt(K,se,_e,oe,ue,be){if(!K)return v;var Be=1;if(se===g&&(se=6),oe<0?(Be=0,oe=-oe):15<oe&&(Be=2,oe-=16),ue<1||S<ue||_e!==b||oe<8||15<oe||se<0||9<se||be<0||m<be)return X(K,v);oe===8&&(oe=9);var ze=new Me;return(K.state=ze).strm=K,ze.wrap=Be,ze.gzhead=null,ze.w_bits=oe,ze.w_size=1<<ze.w_bits,ze.w_mask=ze.w_size-1,ze.hash_bits=ue+7,ze.hash_size=1<<ze.hash_bits,ze.hash_mask=ze.hash_size-1,ze.hash_shift=~~((ze.hash_bits+I-1)/I),ze.window=new s.Buf8(2*ze.w_size),ze.head=new s.Buf16(ze.hash_size),ze.prev=new s.Buf16(ze.w_size),ze.lit_bufsize=1<<ue+6,ze.pending_buf_size=4*ze.lit_bufsize,ze.pending_buf=new s.Buf8(ze.pending_buf_size),ze.d_buf=1*ze.lit_bufsize,ze.l_buf=3*ze.lit_bufsize,ze.level=se,ze.strategy=be,ze.method=_e,de(K)}i=[new we(0,0,0,0,function(K,se){var _e=65535;for(_e>K.pending_buf_size-5&&(_e=K.pending_buf_size-5);;){if(K.lookahead<=1){if(ce(K),K.lookahead===0&&se===f)return F;if(K.lookahead===0)break}K.strstart+=K.lookahead,K.lookahead=0;var oe=K.block_start+_e;if((K.strstart===0||K.strstart>=oe)&&(K.lookahead=K.strstart-oe,K.strstart=oe,j(K,!1),K.strm.avail_out===0)||K.strstart-K.block_start>=K.w_size-P&&(j(K,!1),K.strm.avail_out===0))return F}return K.insert=0,se===h?(j(K,!0),K.strm.avail_out===0?H:Z):(K.strstart>K.block_start&&(j(K,!1),K.strm.avail_out),F)}),new we(4,4,8,4,me),new we(4,5,16,8,me),new we(4,6,32,32,me),new we(4,4,16,16,Se),new we(8,16,32,32,Se),new we(8,16,128,128,Se),new we(8,32,128,256,Se),new we(32,128,258,1024,Se),new we(32,258,258,4096,Se)],a.deflateInit=function(K,se){return dt(K,se,b,15,8,0)},a.deflateInit2=dt,a.deflateReset=de,a.deflateResetKeep=Ve,a.deflateSetHeader=function(K,se){return K&&K.state?K.state.wrap!==2?v:(K.state.gzhead=se,d):v},a.deflate=function(K,se){var _e,oe,ue,be;if(!K||!K.state||5<se||se<0)return K?X(K,v):v;if(oe=K.state,!K.output||!K.input&&K.avail_in!==0||oe.status===666&&se!==h)return X(K,K.avail_out===0?-5:v);if(oe.strm=K,_e=oe.last_flush,oe.last_flush=se,oe.status===k)if(oe.wrap===2)K.adler=0,J(oe,31),J(oe,139),J(oe,8),oe.gzhead?(J(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),J(oe,255&oe.gzhead.time),J(oe,oe.gzhead.time>>8&255),J(oe,oe.gzhead.time>>16&255),J(oe,oe.gzhead.time>>24&255),J(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),J(oe,255&oe.gzhead.os),oe.gzhead.extra&&oe.gzhead.extra.length&&(J(oe,255&oe.gzhead.extra.length),J(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(K.adler=c(K.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=69):(J(oe,0),J(oe,0),J(oe,0),J(oe,0),J(oe,0),J(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),J(oe,3),oe.status=U);else{var Be=b+(oe.w_bits-8<<4)<<8;Be|=(2<=oe.strategy||oe.level<2?0:oe.level<6?1:oe.level===6?2:3)<<6,oe.strstart!==0&&(Be|=32),Be+=31-Be%31,oe.status=U,ee(oe,Be),oe.strstart!==0&&(ee(oe,K.adler>>>16),ee(oe,65535&K.adler)),K.adler=1}if(oe.status===69)if(oe.gzhead.extra){for(ue=oe.pending;oe.gzindex<(65535&oe.gzhead.extra.length)&&(oe.pending!==oe.pending_buf_size||(oe.gzhead.hcrc&&oe.pending>ue&&(K.adler=c(K.adler,oe.pending_buf,oe.pending-ue,ue)),W(K),ue=oe.pending,oe.pending!==oe.pending_buf_size));)J(oe,255&oe.gzhead.extra[oe.gzindex]),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>ue&&(K.adler=c(K.adler,oe.pending_buf,oe.pending-ue,ue)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=73)}else oe.status=73;if(oe.status===73)if(oe.gzhead.name){ue=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>ue&&(K.adler=c(K.adler,oe.pending_buf,oe.pending-ue,ue)),W(K),ue=oe.pending,oe.pending===oe.pending_buf_size)){be=1;break}be=oe.gzindex<oe.gzhead.name.length?255&oe.gzhead.name.charCodeAt(oe.gzindex++):0,J(oe,be)}while(be!==0);oe.gzhead.hcrc&&oe.pending>ue&&(K.adler=c(K.adler,oe.pending_buf,oe.pending-ue,ue)),be===0&&(oe.gzindex=0,oe.status=91)}else oe.status=91;if(oe.status===91)if(oe.gzhead.comment){ue=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>ue&&(K.adler=c(K.adler,oe.pending_buf,oe.pending-ue,ue)),W(K),ue=oe.pending,oe.pending===oe.pending_buf_size)){be=1;break}be=oe.gzindex<oe.gzhead.comment.length?255&oe.gzhead.comment.charCodeAt(oe.gzindex++):0,J(oe,be)}while(be!==0);oe.gzhead.hcrc&&oe.pending>ue&&(K.adler=c(K.adler,oe.pending_buf,oe.pending-ue,ue)),be===0&&(oe.status=103)}else oe.status=103;if(oe.status===103&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&W(K),oe.pending+2<=oe.pending_buf_size&&(J(oe,255&K.adler),J(oe,K.adler>>8&255),K.adler=0,oe.status=U)):oe.status=U),oe.pending!==0){if(W(K),K.avail_out===0)return oe.last_flush=-1,d}else if(K.avail_in===0&&Y(se)<=Y(_e)&&se!==h)return X(K,-5);if(oe.status===666&&K.avail_in!==0)return X(K,-5);if(K.avail_in!==0||oe.lookahead!==0||se!==f&&oe.status!==666){var ze=oe.strategy===2?(function(Le,fe){for(var ie;;){if(Le.lookahead===0&&(ce(Le),Le.lookahead===0)){if(fe===f)return F;break}if(Le.match_length=0,ie=o._tr_tally(Le,0,Le.window[Le.strstart]),Le.lookahead--,Le.strstart++,ie&&(j(Le,!1),Le.strm.avail_out===0))return F}return Le.insert=0,fe===h?(j(Le,!0),Le.strm.avail_out===0?H:Z):Le.last_lit&&(j(Le,!1),Le.strm.avail_out===0)?F:q})(oe,se):oe.strategy===3?(function(Le,fe){for(var ie,Re,je,it,Ge=Le.window;;){if(Le.lookahead<=O){if(ce(Le),Le.lookahead<=O&&fe===f)return F;if(Le.lookahead===0)break}if(Le.match_length=0,Le.lookahead>=I&&0<Le.strstart&&(Re=Ge[je=Le.strstart-1])===Ge[++je]&&Re===Ge[++je]&&Re===Ge[++je]){it=Le.strstart+O;do;while(Re===Ge[++je]&&Re===Ge[++je]&&Re===Ge[++je]&&Re===Ge[++je]&&Re===Ge[++je]&&Re===Ge[++je]&&Re===Ge[++je]&&Re===Ge[++je]&&je<it);Le.match_length=O-(it-je),Le.match_length>Le.lookahead&&(Le.match_length=Le.lookahead)}if(Le.match_length>=I?(ie=o._tr_tally(Le,1,Le.match_length-I),Le.lookahead-=Le.match_length,Le.strstart+=Le.match_length,Le.match_length=0):(ie=o._tr_tally(Le,0,Le.window[Le.strstart]),Le.lookahead--,Le.strstart++),ie&&(j(Le,!1),Le.strm.avail_out===0))return F}return Le.insert=0,fe===h?(j(Le,!0),Le.strm.avail_out===0?H:Z):Le.last_lit&&(j(Le,!1),Le.strm.avail_out===0)?F:q})(oe,se):i[oe.level].func(oe,se);if(ze!==H&&ze!==Z||(oe.status=666),ze===F||ze===H)return K.avail_out===0&&(oe.last_flush=-1),d;if(ze===q&&(se===1?o._tr_align(oe):se!==5&&(o._tr_stored_block(oe,0,0,!1),se===3&&(re(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),W(K),K.avail_out===0))return oe.last_flush=-1,d}return se!==h?d:oe.wrap<=0?1:(oe.wrap===2?(J(oe,255&K.adler),J(oe,K.adler>>8&255),J(oe,K.adler>>16&255),J(oe,K.adler>>24&255),J(oe,255&K.total_in),J(oe,K.total_in>>8&255),J(oe,K.total_in>>16&255),J(oe,K.total_in>>24&255)):(ee(oe,K.adler>>>16),ee(oe,65535&K.adler)),W(K),0<oe.wrap&&(oe.wrap=-oe.wrap),oe.pending!==0?d:1)},a.deflateEnd=function(K){var se;return K&&K.state?(se=K.state.status)!==k&&se!==69&&se!==73&&se!==91&&se!==103&&se!==U&&se!==666?X(K,v):(K.state=null,se===U?X(K,-3):d):v},a.deflateSetDictionary=function(K,se){var _e,oe,ue,be,Be,ze,Le,fe,ie=se.length;if(!K||!K.state||(be=(_e=K.state).wrap)===2||be===1&&_e.status!==k||_e.lookahead)return v;for(be===1&&(K.adler=l(K.adler,se,ie,0)),_e.wrap=0,ie>=_e.w_size&&(be===0&&(re(_e.head),_e.strstart=0,_e.block_start=0,_e.insert=0),fe=new s.Buf8(_e.w_size),s.arraySet(fe,se,ie-_e.w_size,_e.w_size,0),se=fe,ie=_e.w_size),Be=K.avail_in,ze=K.next_in,Le=K.input,K.avail_in=ie,K.next_in=0,K.input=se,ce(_e);_e.lookahead>=I;){for(oe=_e.strstart,ue=_e.lookahead-(I-1);_e.ins_h=(_e.ins_h<<_e.hash_shift^_e.window[oe+I-1])&_e.hash_mask,_e.prev[oe&_e.w_mask]=_e.head[_e.ins_h],_e.head[_e.ins_h]=oe,oe++,--ue;);_e.strstart=oe,_e.lookahead=I-1,ce(_e)}return _e.strstart+=_e.lookahead,_e.block_start=_e.strstart,_e.insert=_e.lookahead,_e.lookahead=0,_e.match_length=_e.prev_length=I-1,_e.match_available=0,K.next_in=ze,K.input=Le,K.avail_in=Be,_e.wrap=be,d},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,a){n.exports=function(i,s){var o,l,c,u,f,h,d,v,g,m,y,b,S,A,E,M,R,L,I,O,P,k,U,F,q;o=i.state,l=i.next_in,F=i.input,c=l+(i.avail_in-5),u=i.next_out,q=i.output,f=u-(s-i.avail_out),h=u+(i.avail_out-257),d=o.dmax,v=o.wsize,g=o.whave,m=o.wnext,y=o.window,b=o.hold,S=o.bits,A=o.lencode,E=o.distcode,M=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{S<15&&(b+=F[l++]<<S,S+=8,b+=F[l++]<<S,S+=8),L=A[b&M];t:for(;;){if(b>>>=I=L>>>24,S-=I,(I=L>>>16&255)===0)q[u++]=65535&L;else{if(!(16&I)){if((64&I)==0){L=A[(65535&L)+(b&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}O=65535&L,(I&=15)&&(S<I&&(b+=F[l++]<<S,S+=8),O+=b&(1<<I)-1,b>>>=I,S-=I),S<15&&(b+=F[l++]<<S,S+=8,b+=F[l++]<<S,S+=8),L=E[b&R];r:for(;;){if(b>>>=I=L>>>24,S-=I,!(16&(I=L>>>16&255))){if((64&I)==0){L=E[(65535&L)+(b&(1<<I)-1)];continue r}i.msg="invalid distance code",o.mode=30;break e}if(P=65535&L,S<(I&=15)&&(b+=F[l++]<<S,(S+=8)<I&&(b+=F[l++]<<S,S+=8)),d<(P+=b&(1<<I)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(b>>>=I,S-=I,(I=u-f)<P){if(g<(I=P-I)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(U=y,(k=0)===m){if(k+=v-I,I<O){for(O-=I;q[u++]=y[k++],--I;);k=u-P,U=q}}else if(m<I){if(k+=v+m-I,(I-=m)<O){for(O-=I;q[u++]=y[k++],--I;);if(k=0,m<O){for(O-=I=m;q[u++]=y[k++],--I;);k=u-P,U=q}}}else if(k+=m-I,I<O){for(O-=I;q[u++]=y[k++],--I;);k=u-P,U=q}for(;2<O;)q[u++]=U[k++],q[u++]=U[k++],q[u++]=U[k++],O-=3;O&&(q[u++]=U[k++],1<O&&(q[u++]=U[k++]))}else{for(k=u-P;q[u++]=q[k++],q[u++]=q[k++],q[u++]=q[k++],2<(O-=3););O&&(q[u++]=q[k++],1<O&&(q[u++]=q[k++]))}break}}break}}while(l<c&&u<h);l-=O=S>>3,b&=(1<<(S-=O<<3))-1,i.next_in=l,i.next_out=u,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=u<h?h-u+257:257-(u-h),o.hold=b,o.bits=S}},{}],49:[function(t,n,a){var i=t("../utils/common"),s=t("./adler32"),o=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),u=1,f=2,h=0,d=-2,v=1,g=852,m=592;function y(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(k){var U;return k&&k.state?(U=k.state,k.total_in=k.total_out=U.total=0,k.msg="",U.wrap&&(k.adler=1&U.wrap),U.mode=v,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new i.Buf32(g),U.distcode=U.distdyn=new i.Buf32(m),U.sane=1,U.back=-1,h):d}function A(k){var U;return k&&k.state?((U=k.state).wsize=0,U.whave=0,U.wnext=0,S(k)):d}function E(k,U){var F,q;return k&&k.state?(q=k.state,U<0?(F=0,U=-U):(F=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?d:(q.window!==null&&q.wbits!==U&&(q.window=null),q.wrap=F,q.wbits=U,A(k))):d}function M(k,U){var F,q;return k?(q=new b,(k.state=q).window=null,(F=E(k,U))!==h&&(k.state=null),F):d}var R,L,I=!0;function O(k){if(I){var U;for(R=new i.Buf32(512),L=new i.Buf32(32),U=0;U<144;)k.lens[U++]=8;for(;U<256;)k.lens[U++]=9;for(;U<280;)k.lens[U++]=7;for(;U<288;)k.lens[U++]=8;for(c(u,k.lens,0,288,R,0,k.work,{bits:9}),U=0;U<32;)k.lens[U++]=5;c(f,k.lens,0,32,L,0,k.work,{bits:5}),I=!1}k.lencode=R,k.lenbits=9,k.distcode=L,k.distbits=5}function P(k,U,F,q){var H,Z=k.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new i.Buf8(Z.wsize)),q>=Z.wsize?(i.arraySet(Z.window,U,F-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(q<(H=Z.wsize-Z.wnext)&&(H=q),i.arraySet(Z.window,U,F-q,H,Z.wnext),(q-=H)?(i.arraySet(Z.window,U,F-q,q,0),Z.wnext=q,Z.whave=Z.wsize):(Z.wnext+=H,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=H))),0}a.inflateReset=A,a.inflateReset2=E,a.inflateResetKeep=S,a.inflateInit=function(k){return M(k,15)},a.inflateInit2=M,a.inflate=function(k,U){var F,q,H,Z,X,Y,re,W,j,J,ee,ae,ce,me,Se,we,Me,Ve,de,dt,K,se,_e,oe,ue=0,be=new i.Buf8(4),Be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return d;(F=k.state).mode===12&&(F.mode=13),X=k.next_out,H=k.output,re=k.avail_out,Z=k.next_in,q=k.input,Y=k.avail_in,W=F.hold,j=F.bits,J=Y,ee=re,se=h;e:for(;;)switch(F.mode){case v:if(F.wrap===0){F.mode=13;break}for(;j<16;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if(2&F.wrap&&W===35615){be[F.check=0]=255&W,be[1]=W>>>8&255,F.check=o(F.check,be,2,0),j=W=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&W)<<8)+(W>>8))%31){k.msg="incorrect header check",F.mode=30;break}if((15&W)!=8){k.msg="unknown compression method",F.mode=30;break}if(j-=4,K=8+(15&(W>>>=4)),F.wbits===0)F.wbits=K;else if(K>F.wbits){k.msg="invalid window size",F.mode=30;break}F.dmax=1<<K,k.adler=F.check=1,F.mode=512&W?10:12,j=W=0;break;case 2:for(;j<16;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if(F.flags=W,(255&F.flags)!=8){k.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){k.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=W>>8&1),512&F.flags&&(be[0]=255&W,be[1]=W>>>8&255,F.check=o(F.check,be,2,0)),j=W=0,F.mode=3;case 3:for(;j<32;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}F.head&&(F.head.time=W),512&F.flags&&(be[0]=255&W,be[1]=W>>>8&255,be[2]=W>>>16&255,be[3]=W>>>24&255,F.check=o(F.check,be,4,0)),j=W=0,F.mode=4;case 4:for(;j<16;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}F.head&&(F.head.xflags=255&W,F.head.os=W>>8),512&F.flags&&(be[0]=255&W,be[1]=W>>>8&255,F.check=o(F.check,be,2,0)),j=W=0,F.mode=5;case 5:if(1024&F.flags){for(;j<16;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}F.length=W,F.head&&(F.head.extra_len=W),512&F.flags&&(be[0]=255&W,be[1]=W>>>8&255,F.check=o(F.check,be,2,0)),j=W=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&(Y<(ae=F.length)&&(ae=Y),ae&&(F.head&&(K=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),i.arraySet(F.head.extra,q,Z,ae,K)),512&F.flags&&(F.check=o(F.check,q,ae,Z)),Y-=ae,Z+=ae,F.length-=ae),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(Y===0)break e;for(ae=0;K=q[Z+ae++],F.head&&K&&F.length<65536&&(F.head.name+=String.fromCharCode(K)),K&&ae<Y;);if(512&F.flags&&(F.check=o(F.check,q,ae,Z)),Y-=ae,Z+=ae,K)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(Y===0)break e;for(ae=0;K=q[Z+ae++],F.head&&K&&F.length<65536&&(F.head.comment+=String.fromCharCode(K)),K&&ae<Y;);if(512&F.flags&&(F.check=o(F.check,q,ae,Z)),Y-=ae,Z+=ae,K)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;j<16;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if(W!==(65535&F.check)){k.msg="header crc mismatch",F.mode=30;break}j=W=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),k.adler=F.check=0,F.mode=12;break;case 10:for(;j<32;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}k.adler=F.check=y(W),j=W=0,F.mode=11;case 11:if(F.havedict===0)return k.next_out=X,k.avail_out=re,k.next_in=Z,k.avail_in=Y,F.hold=W,F.bits=j,2;k.adler=F.check=1,F.mode=12;case 12:if(U===5||U===6)break e;case 13:if(F.last){W>>>=7&j,j-=7&j,F.mode=27;break}for(;j<3;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}switch(F.last=1&W,j-=1,3&(W>>>=1)){case 0:F.mode=14;break;case 1:if(O(F),F.mode=20,U!==6)break;W>>>=2,j-=2;break e;case 2:F.mode=17;break;case 3:k.msg="invalid block type",F.mode=30}W>>>=2,j-=2;break;case 14:for(W>>>=7&j,j-=7&j;j<32;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if((65535&W)!=(W>>>16^65535)){k.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&W,j=W=0,F.mode=15,U===6)break e;case 15:F.mode=16;case 16:if(ae=F.length){if(Y<ae&&(ae=Y),re<ae&&(ae=re),ae===0)break e;i.arraySet(H,q,Z,ae,X),Y-=ae,Z+=ae,re-=ae,X+=ae,F.length-=ae;break}F.mode=12;break;case 17:for(;j<14;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if(F.nlen=257+(31&W),W>>>=5,j-=5,F.ndist=1+(31&W),W>>>=5,j-=5,F.ncode=4+(15&W),W>>>=4,j-=4,286<F.nlen||30<F.ndist){k.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;j<3;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}F.lens[Be[F.have++]]=7&W,W>>>=3,j-=3}for(;F.have<19;)F.lens[Be[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,_e={bits:F.lenbits},se=c(0,F.lens,0,19,F.lencode,0,F.work,_e),F.lenbits=_e.bits,se){k.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;we=(ue=F.lencode[W&(1<<F.lenbits)-1])>>>16&255,Me=65535&ue,!((Se=ue>>>24)<=j);){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if(Me<16)W>>>=Se,j-=Se,F.lens[F.have++]=Me;else{if(Me===16){for(oe=Se+2;j<oe;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if(W>>>=Se,j-=Se,F.have===0){k.msg="invalid bit length repeat",F.mode=30;break}K=F.lens[F.have-1],ae=3+(3&W),W>>>=2,j-=2}else if(Me===17){for(oe=Se+3;j<oe;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}j-=Se,K=0,ae=3+(7&(W>>>=Se)),W>>>=3,j-=3}else{for(oe=Se+7;j<oe;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}j-=Se,K=0,ae=11+(127&(W>>>=Se)),W>>>=7,j-=7}if(F.have+ae>F.nlen+F.ndist){k.msg="invalid bit length repeat",F.mode=30;break}for(;ae--;)F.lens[F.have++]=K}}if(F.mode===30)break;if(F.lens[256]===0){k.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,_e={bits:F.lenbits},se=c(u,F.lens,0,F.nlen,F.lencode,0,F.work,_e),F.lenbits=_e.bits,se){k.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,_e={bits:F.distbits},se=c(f,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,_e),F.distbits=_e.bits,se){k.msg="invalid distances set",F.mode=30;break}if(F.mode=20,U===6)break e;case 20:F.mode=21;case 21:if(6<=Y&&258<=re){k.next_out=X,k.avail_out=re,k.next_in=Z,k.avail_in=Y,F.hold=W,F.bits=j,l(k,ee),X=k.next_out,H=k.output,re=k.avail_out,Z=k.next_in,q=k.input,Y=k.avail_in,W=F.hold,j=F.bits,F.mode===12&&(F.back=-1);break}for(F.back=0;we=(ue=F.lencode[W&(1<<F.lenbits)-1])>>>16&255,Me=65535&ue,!((Se=ue>>>24)<=j);){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if(we&&(240&we)==0){for(Ve=Se,de=we,dt=Me;we=(ue=F.lencode[dt+((W&(1<<Ve+de)-1)>>Ve)])>>>16&255,Me=65535&ue,!(Ve+(Se=ue>>>24)<=j);){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}W>>>=Ve,j-=Ve,F.back+=Ve}if(W>>>=Se,j-=Se,F.back+=Se,F.length=Me,we===0){F.mode=26;break}if(32&we){F.back=-1,F.mode=12;break}if(64&we){k.msg="invalid literal/length code",F.mode=30;break}F.extra=15&we,F.mode=22;case 22:if(F.extra){for(oe=F.extra;j<oe;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}F.length+=W&(1<<F.extra)-1,W>>>=F.extra,j-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;we=(ue=F.distcode[W&(1<<F.distbits)-1])>>>16&255,Me=65535&ue,!((Se=ue>>>24)<=j);){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if((240&we)==0){for(Ve=Se,de=we,dt=Me;we=(ue=F.distcode[dt+((W&(1<<Ve+de)-1)>>Ve)])>>>16&255,Me=65535&ue,!(Ve+(Se=ue>>>24)<=j);){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}W>>>=Ve,j-=Ve,F.back+=Ve}if(W>>>=Se,j-=Se,F.back+=Se,64&we){k.msg="invalid distance code",F.mode=30;break}F.offset=Me,F.extra=15&we,F.mode=24;case 24:if(F.extra){for(oe=F.extra;j<oe;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}F.offset+=W&(1<<F.extra)-1,W>>>=F.extra,j-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){k.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(re===0)break e;if(ae=ee-re,F.offset>ae){if((ae=F.offset-ae)>F.whave&&F.sane){k.msg="invalid distance too far back",F.mode=30;break}ce=ae>F.wnext?(ae-=F.wnext,F.wsize-ae):F.wnext-ae,ae>F.length&&(ae=F.length),me=F.window}else me=H,ce=X-F.offset,ae=F.length;for(re<ae&&(ae=re),re-=ae,F.length-=ae;H[X++]=me[ce++],--ae;);F.length===0&&(F.mode=21);break;case 26:if(re===0)break e;H[X++]=F.length,re--,F.mode=21;break;case 27:if(F.wrap){for(;j<32;){if(Y===0)break e;Y--,W|=q[Z++]<<j,j+=8}if(ee-=re,k.total_out+=ee,F.total+=ee,ee&&(k.adler=F.check=F.flags?o(F.check,H,ee,X-ee):s(F.check,H,ee,X-ee)),ee=re,(F.flags?W:y(W))!==F.check){k.msg="incorrect data check",F.mode=30;break}j=W=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;j<32;){if(Y===0)break e;Y--,W+=q[Z++]<<j,j+=8}if(W!==(4294967295&F.total)){k.msg="incorrect length check",F.mode=30;break}j=W=0}F.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return d}return k.next_out=X,k.avail_out=re,k.next_in=Z,k.avail_in=Y,F.hold=W,F.bits=j,(F.wsize||ee!==k.avail_out&&F.mode<30&&(F.mode<27||U!==4))&&P(k,k.output,k.next_out,ee-k.avail_out)?(F.mode=31,-4):(J-=k.avail_in,ee-=k.avail_out,k.total_in+=J,k.total_out+=ee,F.total+=ee,F.wrap&&ee&&(k.adler=F.check=F.flags?o(F.check,H,ee,k.next_out-ee):s(F.check,H,ee,k.next_out-ee)),k.data_type=F.bits+(F.last?64:0)+(F.mode===12?128:0)+(F.mode===20||F.mode===15?256:0),(J==0&&ee===0||U===4)&&se===h&&(se=-5),se)},a.inflateEnd=function(k){if(!k||!k.state)return d;var U=k.state;return U.window&&(U.window=null),k.state=null,h},a.inflateGetHeader=function(k,U){var F;return k&&k.state?(2&(F=k.state).wrap)==0?d:((F.head=U).done=!1,h):d},a.inflateSetDictionary=function(k,U){var F,q=U.length;return k&&k.state?(F=k.state).wrap!==0&&F.mode!==11?d:F.mode===11&&s(1,U,q,0)!==F.check?-3:P(k,U,q,q)?(F.mode=31,-4):(F.havedict=1,h):d},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,a){var i=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(u,f,h,d,v,g,m,y){var b,S,A,E,M,R,L,I,O,P=y.bits,k=0,U=0,F=0,q=0,H=0,Z=0,X=0,Y=0,re=0,W=0,j=null,J=0,ee=new i.Buf16(16),ae=new i.Buf16(16),ce=null,me=0;for(k=0;k<=15;k++)ee[k]=0;for(U=0;U<d;U++)ee[f[h+U]]++;for(H=P,q=15;1<=q&&ee[q]===0;q--);if(q<H&&(H=q),q===0)return v[g++]=20971520,v[g++]=20971520,y.bits=1,0;for(F=1;F<q&&ee[F]===0;F++);for(H<F&&(H=F),k=Y=1;k<=15;k++)if(Y<<=1,(Y-=ee[k])<0)return-1;if(0<Y&&(u===0||q!==1))return-1;for(ae[1]=0,k=1;k<15;k++)ae[k+1]=ae[k]+ee[k];for(U=0;U<d;U++)f[h+U]!==0&&(m[ae[f[h+U]]++]=U);if(R=u===0?(j=ce=m,19):u===1?(j=s,J-=257,ce=o,me-=257,256):(j=l,ce=c,-1),k=F,M=g,X=U=W=0,A=-1,E=(re=1<<(Z=H))-1,u===1&&852<re||u===2&&592<re)return 1;for(;;){for(L=k-X,O=m[U]<R?(I=0,m[U]):m[U]>R?(I=ce[me+m[U]],j[J+m[U]]):(I=96,0),b=1<<k-X,F=S=1<<Z;v[M+(W>>X)+(S-=b)]=L<<24|I<<16|O|0,S!==0;);for(b=1<<k-1;W&b;)b>>=1;if(b!==0?(W&=b-1,W+=b):W=0,U++,--ee[k]==0){if(k===q)break;k=f[h+m[U]]}if(H<k&&(W&E)!==A){for(X===0&&(X=H),M+=F,Y=1<<(Z=k-X);Z+X<q&&!((Y-=ee[Z+X])<=0);)Z++,Y<<=1;if(re+=1<<Z,u===1&&852<re||u===2&&592<re)return 1;v[A=W&E]=H<<24|Z<<16|M-g|0}}return W!==0&&(v[M+W]=k-X<<24|64<<16|0),y.bits=H,0}},{"../utils/common":41}],51:[function(t,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,a){var i=t("../utils/common"),s=0,o=1;function l(ue){for(var be=ue.length;0<=--be;)ue[be]=0}var c=0,u=29,f=256,h=f+1+u,d=30,v=19,g=2*h+1,m=15,y=16,b=7,S=256,A=16,E=17,M=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(h+2));l(P);var k=new Array(2*d);l(k);var U=new Array(512);l(U);var F=new Array(256);l(F);var q=new Array(u);l(q);var H,Z,X,Y=new Array(d);function re(ue,be,Be,ze,Le){this.static_tree=ue,this.extra_bits=be,this.extra_base=Be,this.elems=ze,this.max_length=Le,this.has_stree=ue&&ue.length}function W(ue,be){this.dyn_tree=ue,this.max_code=0,this.stat_desc=be}function j(ue){return ue<256?U[ue]:U[256+(ue>>>7)]}function J(ue,be){ue.pending_buf[ue.pending++]=255&be,ue.pending_buf[ue.pending++]=be>>>8&255}function ee(ue,be,Be){ue.bi_valid>y-Be?(ue.bi_buf|=be<<ue.bi_valid&65535,J(ue,ue.bi_buf),ue.bi_buf=be>>y-ue.bi_valid,ue.bi_valid+=Be-y):(ue.bi_buf|=be<<ue.bi_valid&65535,ue.bi_valid+=Be)}function ae(ue,be,Be){ee(ue,Be[2*be],Be[2*be+1])}function ce(ue,be){for(var Be=0;Be|=1&ue,ue>>>=1,Be<<=1,0<--be;);return Be>>>1}function me(ue,be,Be){var ze,Le,fe=new Array(m+1),ie=0;for(ze=1;ze<=m;ze++)fe[ze]=ie=ie+Be[ze-1]<<1;for(Le=0;Le<=be;Le++){var Re=ue[2*Le+1];Re!==0&&(ue[2*Le]=ce(fe[Re]++,Re))}}function Se(ue){var be;for(be=0;be<h;be++)ue.dyn_ltree[2*be]=0;for(be=0;be<d;be++)ue.dyn_dtree[2*be]=0;for(be=0;be<v;be++)ue.bl_tree[2*be]=0;ue.dyn_ltree[2*S]=1,ue.opt_len=ue.static_len=0,ue.last_lit=ue.matches=0}function we(ue){8<ue.bi_valid?J(ue,ue.bi_buf):0<ue.bi_valid&&(ue.pending_buf[ue.pending++]=ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0}function Me(ue,be,Be,ze){var Le=2*be,fe=2*Be;return ue[Le]<ue[fe]||ue[Le]===ue[fe]&&ze[be]<=ze[Be]}function Ve(ue,be,Be){for(var ze=ue.heap[Be],Le=Be<<1;Le<=ue.heap_len&&(Le<ue.heap_len&&Me(be,ue.heap[Le+1],ue.heap[Le],ue.depth)&&Le++,!Me(be,ze,ue.heap[Le],ue.depth));)ue.heap[Be]=ue.heap[Le],Be=Le,Le<<=1;ue.heap[Be]=ze}function de(ue,be,Be){var ze,Le,fe,ie,Re=0;if(ue.last_lit!==0)for(;ze=ue.pending_buf[ue.d_buf+2*Re]<<8|ue.pending_buf[ue.d_buf+2*Re+1],Le=ue.pending_buf[ue.l_buf+Re],Re++,ze===0?ae(ue,Le,be):(ae(ue,(fe=F[Le])+f+1,be),(ie=R[fe])!==0&&ee(ue,Le-=q[fe],ie),ae(ue,fe=j(--ze),Be),(ie=L[fe])!==0&&ee(ue,ze-=Y[fe],ie)),Re<ue.last_lit;);ae(ue,S,be)}function dt(ue,be){var Be,ze,Le,fe=be.dyn_tree,ie=be.stat_desc.static_tree,Re=be.stat_desc.has_stree,je=be.stat_desc.elems,it=-1;for(ue.heap_len=0,ue.heap_max=g,Be=0;Be<je;Be++)fe[2*Be]!==0?(ue.heap[++ue.heap_len]=it=Be,ue.depth[Be]=0):fe[2*Be+1]=0;for(;ue.heap_len<2;)fe[2*(Le=ue.heap[++ue.heap_len]=it<2?++it:0)]=1,ue.depth[Le]=0,ue.opt_len--,Re&&(ue.static_len-=ie[2*Le+1]);for(be.max_code=it,Be=ue.heap_len>>1;1<=Be;Be--)Ve(ue,fe,Be);for(Le=je;Be=ue.heap[1],ue.heap[1]=ue.heap[ue.heap_len--],Ve(ue,fe,1),ze=ue.heap[1],ue.heap[--ue.heap_max]=Be,ue.heap[--ue.heap_max]=ze,fe[2*Le]=fe[2*Be]+fe[2*ze],ue.depth[Le]=(ue.depth[Be]>=ue.depth[ze]?ue.depth[Be]:ue.depth[ze])+1,fe[2*Be+1]=fe[2*ze+1]=Le,ue.heap[1]=Le++,Ve(ue,fe,1),2<=ue.heap_len;);ue.heap[--ue.heap_max]=ue.heap[1],(function(Ge,Bt){var pt,Dt,Vt,$e,yt,jt,Ne=Bt.dyn_tree,Ke=Bt.max_code,At=Bt.stat_desc.static_tree,Ie=Bt.stat_desc.has_stree,Et=Bt.stat_desc.extra_bits,Ct=Bt.stat_desc.extra_base,_t=Bt.stat_desc.max_length,vt=0;for($e=0;$e<=m;$e++)Ge.bl_count[$e]=0;for(Ne[2*Ge.heap[Ge.heap_max]+1]=0,pt=Ge.heap_max+1;pt<g;pt++)_t<($e=Ne[2*Ne[2*(Dt=Ge.heap[pt])+1]+1]+1)&&($e=_t,vt++),Ne[2*Dt+1]=$e,Ke<Dt||(Ge.bl_count[$e]++,yt=0,Ct<=Dt&&(yt=Et[Dt-Ct]),jt=Ne[2*Dt],Ge.opt_len+=jt*($e+yt),Ie&&(Ge.static_len+=jt*(At[2*Dt+1]+yt)));if(vt!==0){do{for($e=_t-1;Ge.bl_count[$e]===0;)$e--;Ge.bl_count[$e]--,Ge.bl_count[$e+1]+=2,Ge.bl_count[_t]--,vt-=2}while(0<vt);for($e=_t;$e!==0;$e--)for(Dt=Ge.bl_count[$e];Dt!==0;)Ke<(Vt=Ge.heap[--pt])||(Ne[2*Vt+1]!==$e&&(Ge.opt_len+=($e-Ne[2*Vt+1])*Ne[2*Vt],Ne[2*Vt+1]=$e),Dt--)}})(ue,be),me(fe,it,ue.bl_count)}function K(ue,be,Be){var ze,Le,fe=-1,ie=be[1],Re=0,je=7,it=4;for(ie===0&&(je=138,it=3),be[2*(Be+1)+1]=65535,ze=0;ze<=Be;ze++)Le=ie,ie=be[2*(ze+1)+1],++Re<je&&Le===ie||(Re<it?ue.bl_tree[2*Le]+=Re:Le!==0?(Le!==fe&&ue.bl_tree[2*Le]++,ue.bl_tree[2*A]++):Re<=10?ue.bl_tree[2*E]++:ue.bl_tree[2*M]++,fe=Le,it=(Re=0)===ie?(je=138,3):Le===ie?(je=6,3):(je=7,4))}function se(ue,be,Be){var ze,Le,fe=-1,ie=be[1],Re=0,je=7,it=4;for(ie===0&&(je=138,it=3),ze=0;ze<=Be;ze++)if(Le=ie,ie=be[2*(ze+1)+1],!(++Re<je&&Le===ie)){if(Re<it)for(;ae(ue,Le,ue.bl_tree),--Re!=0;);else Le!==0?(Le!==fe&&(ae(ue,Le,ue.bl_tree),Re--),ae(ue,A,ue.bl_tree),ee(ue,Re-3,2)):Re<=10?(ae(ue,E,ue.bl_tree),ee(ue,Re-3,3)):(ae(ue,M,ue.bl_tree),ee(ue,Re-11,7));fe=Le,it=(Re=0)===ie?(je=138,3):Le===ie?(je=6,3):(je=7,4)}}l(Y);var _e=!1;function oe(ue,be,Be,ze){ee(ue,(c<<1)+(ze?1:0),3),(function(Le,fe,ie,Re){we(Le),J(Le,ie),J(Le,~ie),i.arraySet(Le.pending_buf,Le.window,fe,ie,Le.pending),Le.pending+=ie})(ue,be,Be)}a._tr_init=function(ue){_e||((function(){var be,Be,ze,Le,fe,ie=new Array(m+1);for(Le=ze=0;Le<u-1;Le++)for(q[Le]=ze,be=0;be<1<<R[Le];be++)F[ze++]=Le;for(F[ze-1]=Le,Le=fe=0;Le<16;Le++)for(Y[Le]=fe,be=0;be<1<<L[Le];be++)U[fe++]=Le;for(fe>>=7;Le<d;Le++)for(Y[Le]=fe<<7,be=0;be<1<<L[Le]-7;be++)U[256+fe++]=Le;for(Be=0;Be<=m;Be++)ie[Be]=0;for(be=0;be<=143;)P[2*be+1]=8,be++,ie[8]++;for(;be<=255;)P[2*be+1]=9,be++,ie[9]++;for(;be<=279;)P[2*be+1]=7,be++,ie[7]++;for(;be<=287;)P[2*be+1]=8,be++,ie[8]++;for(me(P,h+1,ie),be=0;be<d;be++)k[2*be+1]=5,k[2*be]=ce(be,5);H=new re(P,R,f+1,h,m),Z=new re(k,L,0,d,m),X=new re(new Array(0),I,0,v,b)})(),_e=!0),ue.l_desc=new W(ue.dyn_ltree,H),ue.d_desc=new W(ue.dyn_dtree,Z),ue.bl_desc=new W(ue.bl_tree,X),ue.bi_buf=0,ue.bi_valid=0,Se(ue)},a._tr_stored_block=oe,a._tr_flush_block=function(ue,be,Be,ze){var Le,fe,ie=0;0<ue.level?(ue.strm.data_type===2&&(ue.strm.data_type=(function(Re){var je,it=4093624447;for(je=0;je<=31;je++,it>>>=1)if(1&it&&Re.dyn_ltree[2*je]!==0)return s;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return o;for(je=32;je<f;je++)if(Re.dyn_ltree[2*je]!==0)return o;return s})(ue)),dt(ue,ue.l_desc),dt(ue,ue.d_desc),ie=(function(Re){var je;for(K(Re,Re.dyn_ltree,Re.l_desc.max_code),K(Re,Re.dyn_dtree,Re.d_desc.max_code),dt(Re,Re.bl_desc),je=v-1;3<=je&&Re.bl_tree[2*O[je]+1]===0;je--);return Re.opt_len+=3*(je+1)+5+5+4,je})(ue),Le=ue.opt_len+3+7>>>3,(fe=ue.static_len+3+7>>>3)<=Le&&(Le=fe)):Le=fe=Be+5,Be+4<=Le&&be!==-1?oe(ue,be,Be,ze):ue.strategy===4||fe===Le?(ee(ue,2+(ze?1:0),3),de(ue,P,k)):(ee(ue,4+(ze?1:0),3),(function(Re,je,it,Ge){var Bt;for(ee(Re,je-257,5),ee(Re,it-1,5),ee(Re,Ge-4,4),Bt=0;Bt<Ge;Bt++)ee(Re,Re.bl_tree[2*O[Bt]+1],3);se(Re,Re.dyn_ltree,je-1),se(Re,Re.dyn_dtree,it-1)})(ue,ue.l_desc.max_code+1,ue.d_desc.max_code+1,ie+1),de(ue,ue.dyn_ltree,ue.dyn_dtree)),Se(ue),ze&&we(ue)},a._tr_tally=function(ue,be,Be){return ue.pending_buf[ue.d_buf+2*ue.last_lit]=be>>>8&255,ue.pending_buf[ue.d_buf+2*ue.last_lit+1]=255&be,ue.pending_buf[ue.l_buf+ue.last_lit]=255&Be,ue.last_lit++,be===0?ue.dyn_ltree[2*Be]++:(ue.matches++,be--,ue.dyn_ltree[2*(F[Be]+f+1)]++,ue.dyn_dtree[2*j(be)]++),ue.last_lit===ue.lit_bufsize-1},a._tr_align=function(ue){ee(ue,2,3),ae(ue,S,P),(function(be){be.bi_valid===16?(J(be,be.bi_buf),be.bi_buf=0,be.bi_valid=0):8<=be.bi_valid&&(be.pending_buf[be.pending++]=255&be.bi_buf,be.bi_buf>>=8,be.bi_valid-=8)})(ue)}},{"../utils/common":41}],53:[function(t,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,a){(function(i){(function(s,o){if(!s.setImmediate){var l,c,u,f,h=1,d={},v=!1,g=s.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(s);m=m&&m.setTimeout?m:s,l={}.toString.call(s.process)==="[object process]"?function(A){process.nextTick(function(){b(A)})}:(function(){if(s.postMessage&&!s.importScripts){var A=!0,E=s.onmessage;return s.onmessage=function(){A=!1},s.postMessage("","*"),s.onmessage=E,A}})()?(f="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(A){s.postMessage(f+A,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(A){b(A.data)},function(A){u.port2.postMessage(A)}):g&&"onreadystatechange"in g.createElement("script")?(c=g.documentElement,function(A){var E=g.createElement("script");E.onreadystatechange=function(){b(A),E.onreadystatechange=null,c.removeChild(E),E=null},c.appendChild(E)}):function(A){setTimeout(b,0,A)},m.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var E=new Array(arguments.length-1),M=0;M<E.length;M++)E[M]=arguments[M+1];var R={callback:A,args:E};return d[h]=R,l(h),h++},m.clearImmediate=y}function y(A){delete d[A]}function b(A){if(v)setTimeout(b,0,A);else{var E=d[A];if(E){v=!0;try{(function(M){var R=M.callback,L=M.args;switch(L.length){case 0:R();break;case 1:R(L[0]);break;case 2:R(L[0],L[1]);break;case 3:R(L[0],L[1],L[2]);break;default:R.apply(o,L)}})(E)}finally{y(A),v=!1}}}}function S(A){A.source===s&&typeof A.data=="string"&&A.data.indexOf(f)===0&&b(+A.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof yM<"u"?yM:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(h4)),h4.exports}var sve=ive();const ove=F_(sve),lve=`{
  "name": "clickup-clone-gemini",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "license": "MIT",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "preview": "vite preview"
  },
  "dependencies": {
    "@google/genai": "^1.30.0",
    "lucide-react": "^0.344.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "jszip": "^3.10.1"
  },
  "devDependencies": {
    "@types/react": "^19.2.0",
    "@types/react-dom": "^19.2.0",
    "@vitejs/plugin-react": "^4.2.1",
    "autoprefixer": "^10.4.18",
    "postcss": "^8.4.35",
    "tailwindcss": "^3.4.1",
    "typescript": "^5.2.2",
    "vite": "^5.1.4"
  }
}`,cve=`MIT License

Copyright (c) 2024 ClickUp Clone Generator

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`,uve=`{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}`,fve=`{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}`,hve=`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})`,dve=`/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        clickup: {
          purple: '#7b68ee',
          dark: '#292d34',
          light: '#f7f8f9',
          sidebar: '#1e2126',
          hover: '#363a43',
          border: '#e9ebf0',
          text: '#292d34',
          textLight: '#87909e',
        },
        priority: {
          urgent: '#e44356',
          high: '#ffcc00',
          normal: '#6fddff',
          low: '#87909e',
        }
      },
      fontFamily: {
        sans: ['Inter', 'Segoe UI', 'Helvetica', 'Arial', 'sans-serif'],
      }
    },
  },
  plugins: [],
}`,pve=`export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}`,vve=`<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ClickUp Clone</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"><\/script>
  </body>
</html>`,gve=`# ClickUp Clone with Gemini AI

This is a high-fidelity clone of the ClickUp UI featuring List and Board views, task management, and an integrated AI Brain powered by Google Gemini.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Getting Started

1.  Install dependencies:
    \`\`\`bash
    npm install
    \`\`\`

2.  Create a \`.env.local\` file in the root directory and add your Gemini API key:
    \`\`\`
    VITE_GEMINI_API_KEY=your_api_key_here
    \`\`\`
    *(Note: You may need to update \`geminiService.ts\` to use \`import.meta.env.VITE_GEMINI_API_KEY\` instead of \`process.env.API_KEY\` for Vite compatibility).*

3.  Run the development server:
    \`\`\`bash
    npm run dev
    \`\`\`

## Features

*   **Task Management**: List and Kanban Board views.
*   **AI Brain**: Integrated Gemini AI for task summarization and Q&A.
*   **Mock Backend**: LocalStorage persistence with simulated latency.
*   **Responsive Design**: Tailwind CSS styling matching ClickUp's aesthetic.
`,mve=`@tailwind base;
@tailwind components;
@tailwind utilities;

body { font-family: 'Inter', sans-serif; }

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}`,yve=async()=>{const r=new ove;r.file("package.json",lve),r.file("LICENSE",cve),r.file("tsconfig.json",uve),r.file("tsconfig.node.json",fve),r.file("vite.config.ts",hve),r.file("tailwind.config.js",dve),r.file("postcss.config.js",pve),r.file("index.html",vve),r.file("README.md",gve);const e=r.folder("src");if(!e)return;e.file("index.css",mve),e.file("App.tsx",`import React, { useState, useEffect, useMemo } from 'react';
import Sidebar from './components/Sidebar';
import Header from './components/Header';
import TaskListView from './components/TaskListView';
import TaskBoardView from './components/TaskBoardView';
import BrainModal from './components/BrainModal';
import { ViewType, Task, Status } from './types';
import { ToastProvider, useToast } from './components/Toast';
import { api } from './services/api';
import { Target, Layout } from 'lucide-react';

const PlaceholderView: React.FC<{ icon: React.ReactNode; title: string; description: string }> = ({ icon, title, description }) => (
  <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50">
    <div className="mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple">
      {React.isValidElement(icon) ? React.cloneElement(icon as React.ReactElement<any>, { size: 64 }) : icon}
    </div>
    <h3 className="text-xl font-bold text-gray-800 mb-2">{title}</h3>
    <p className="text-gray-500 max-w-md text-center">{description}</p>
  </div>
);

const AppContent: React.FC = () => {
  const [currentView, setCurrentView] = useState<ViewType>('list');
  const [activePage, setActivePage] = useState('frontend');
  const [tasks, setTasks] = useState<Task[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isBrainOpen, setIsBrainOpen] = useState(false);
  const { showToast } = useToast();

  useEffect(() => {
    fetchTasks();
  }, []);

  const fetchTasks = async () => {
    try {
      setIsLoading(true);
      const data = await api.getTasks();
      setTasks(data);
    } catch (error) {
      showToast('Failed to load tasks from backend', 'error');
    } finally {
      setIsLoading(false);
    }
  };

  const handleStatusChange = async (taskId: string, newStatus: Status) => {
    const previousTasks = [...tasks];
    setTasks(prev => prev.map(t => 
      t.id === taskId ? { ...t, status: newStatus } : t
    ));

    try {
      await api.updateTask(taskId, { status: newStatus });
    } catch (error) {
      setTasks(previousTasks);
      showToast('Failed to update task status', 'error');
    }
  };

  const handleQuickCreate = async () => {
    const title = prompt("Enter task title:");
    if (!title) return;

    showToast('Creating task...', 'info');
    try {
      const newTask = await api.createTask({
        title,
        status: Status.Todo,
        priority: 'None' as any,
        assignees: [],
        tags: activePage === 'backend' ? ['Backend'] : [],
        description: ''
      });
      setTasks(prev => [...prev, newTask]);
      showToast('Task created successfully', 'success');
    } catch (e) {
      showToast('Failed to create task', 'error');
    }
  };

  const filteredTasks = useMemo(() => {
    switch (activePage) {
      case 'inbox':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.assignees.length === 0);
      case 'home':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.priority === 'Urgent');
      case 'backend':
        return tasks.filter(t => t.tags.includes('Backend') || t.tags.includes('API') || t.tags.includes('Auth'));
      case 'sprints':
        return tasks.filter(t => t.tags.includes('Feature') || t.tags.includes('Bug'));
      case 'frontend':
      default:
        return tasks;
    }
  }, [tasks, activePage]);

  const getPageTitle = () => {
    const map: Record<string, string> = {
      home: 'Home',
      inbox: 'Inbox',
      sprints: 'Engineering / Sprints',
      frontend: 'Engineering / Frontend App',
      backend: 'Engineering / Backend API',
      overview: 'Dashboards / Overview',
      goals: 'Dashboards / Goals'
    };
    return map[activePage] || 'Space';
  };

  return (
    <div className="flex h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900">
      <Sidebar 
        activePage={activePage} 
        onNavigate={setActivePage} 
      />
      
      <div className="flex flex-col flex-1 min-w-0 bg-white">
        <Header 
          currentView={currentView} 
          setCurrentView={setCurrentView} 
          onOpenBrain={() => setIsBrainOpen(true)}
          pageTitle={getPageTitle()}
        />

        <div className="flex-1 flex flex-col min-h-0 relative">
          {['overview'].includes(activePage) && (
             <PlaceholderView 
                icon={<Layout />} 
                title="Overview Dashboard" 
                description="Track high-level metrics and project health here. This module is currently being built." 
             />
          )}
          
          {['goals'].includes(activePage) && (
             <PlaceholderView 
                icon={<Target />} 
                title="Goals & OKRs" 
                description="Set, track, and achieve your team's goals. This feature is coming in the next release." 
             />
          )}

          {!['overview', 'goals'].includes(activePage) && (
            <>
              {currentView === 'list' && (
                <TaskListView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onStatusChange={handleStatusChange} 
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'board' && (
                <TaskBoardView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'calendar' && (
                <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500">
                    <div className="text-6xl mb-6 bg-gray-50 p-8 rounded-full"></div>
                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Calendar View</h3>
                    <p className="text-sm text-gray-500">This view is currently under construction.</p>
                    <button className="mt-6 px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors">
                      Vote for this feature
                    </button>
                </div>
              )}
            </>
          )}
        </div>
      </div>

      <BrainModal 
        isOpen={isBrainOpen} 
        onClose={() => setIsBrainOpen(false)} 
        tasks={tasks}
      />
    </div>
  );
};

const App: React.FC = () => {
  return (
    <ToastProvider>
      <AppContent />
    </ToastProvider>
  );
};

export default App;`),e.file("index.tsx",`import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);`),e.file("types.ts",`export enum Priority {
  Urgent = 'Urgent',
  High = 'High',
  Normal = 'Normal',
  Low = 'Low',
  None = 'None'
}

export enum Status {
  Todo = 'To do',
  InProgress = 'In Progress',
  Review = 'Review',
  Complete = 'Complete'
}

export interface User {
  id: string;
  name: string;
  avatar: string;
  color: string;
}

export interface Task {
  id: string;
  title: string;
  status: Status;
  priority: Priority;
  assignees: User[];
  dueDate?: string;
  tags: string[];
  description?: string;
}

export type ViewType = 'list' | 'board' | 'calendar';

export const STATUS_COLORS: Record<Status, string> = {
  [Status.Todo]: '#87909e',
  [Status.InProgress]: '#3b82f6',
  [Status.Review]: '#eab308',
  [Status.Complete]: '#22c55e',
};

export const PRIORITY_COLORS: Record<Priority, string> = {
  [Priority.Urgent]: '#e44356',
  [Priority.High]: '#ffcc00',
  [Priority.Normal]: '#6fddff',
  [Priority.Low]: '#87909e',
  [Priority.None]: '#d1d5db',
};`);const t=e.folder("services");t&&(t.file("api.ts",`import { Task, Status, Priority } from '../types';
import { MOCK_TASKS } from '../constants';

const STORAGE_KEY = 'clickup_clone_db_v1';
const DELAY_MS = 600;

const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));

const initDB = () => {
  if (typeof window === 'undefined') return;
  const existing = localStorage.getItem(STORAGE_KEY);
  if (!existing) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(MOCK_TASKS));
  }
};

initDB();

export const api = {
  getTasks: async (): Promise<Task[]> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    return data ? JSON.parse(data) : [];
  },

  updateTask: async (taskId: string, updates: Partial<Task>): Promise<Task> => {
    await delay(DELAY_MS / 2);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const index = tasks.findIndex(t => t.id === taskId);
    if (index === -1) throw new Error('Task not found');

    const updatedTask = { ...tasks[index], ...updates };
    tasks[index] = updatedTask;
    
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return updatedTask;
  },

  createTask: async (task: Omit<Task, 'id'>): Promise<Task> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const newId = \`TASK-\${Math.floor(1000 + Math.random() * 9000)}\`;
    
    const newTask: Task = {
      ...task,
      id: newId,
    };
    
    tasks.push(newTask);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return newTask;
  },

  deleteTask: async (taskId: string): Promise<void> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    let tasks: Task[] = data ? JSON.parse(data) : [];
    
    tasks = tasks.filter(t => t.id !== taskId);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
  }
};`),t.file("geminiService.ts",`import { GoogleGenAI, GenerateContentResponse } from "@google/genai";
import { Task } from "../types";

// In local dev, utilize import.meta.env for Vite
const apiKey = process.env.API_KEY || ''; 

const ai = apiKey ? new GoogleGenAI({ apiKey }) : null;

export const generateTaskSummary = async (tasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing. Please check your configuration.";

  const taskListString = tasks.map(t => 
    \`- \${t.title} (Status: \${t.status}, Priority: \${t.priority})\`
  ).join('\\n');

  const prompt = \`
    You are an AI project manager assistant called "ClickUp Brain". 
    Analyze the following tasks and provide a concise, professional summary of the current workload.
    Identify potential bottlenecks based on priority and status.
    Keep it under 100 words.

    Tasks:
    \${taskListString}
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "Could not generate summary.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "Sorry, I encountered an error while analyzing your tasks.";
  }
};

export const chatWithBrain = async (message: string, contextTasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing.";

  const context = JSON.stringify(contextTasks.map(t => ({ title: t.title, status: t.status })));
  
  const prompt = \`
    Context (Current Tasks): \${context}
    
    User Question: \${message}
    
    Answer as "ClickUp Brain", a helpful productivity assistant. Be concise and helpful.
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "No response generated.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "I'm having trouble connecting to the brain right now.";
  }
};`)),e.file("constants.ts",`import { Task, Status, Priority } from './types';

export const MOCK_TASKS: Task[] = [
  {
    id: 'TASK-1023',
    title: 'Implement authentication flow with JWT',
    status: Status.InProgress,
    priority: Priority.High,
    assignees: [
        { id: '1', name: 'Alex', avatar: 'A', color: '#ef4444' },
        { id: '2', name: 'Sam', avatar: 'S', color: '#3b82f6' }
    ],
    dueDate: '2023-11-15',
    tags: ['Backend', 'Auth'],
    description: 'Need to secure the API endpoints.'
  }
];`);const n=e.folder("components");n&&(n.file("Toast.tsx",`import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';
import { CheckCircle, Info, AlertCircle, X } from 'lucide-react';

interface ToastMessage {
  id: number;
  message: string;
  type: 'info' | 'success' | 'error';
}

interface ToastContextType {
  showToast: (message: string, type?: 'info' | 'success' | 'error') => void;
}

const ToastContext = createContext<ToastContextType | undefined>(undefined);

export const useToast = () => {
  const context = useContext(ToastContext);
  if (!context) {
    return { showToast: (msg: string) => console.log('Toast:', msg) };
  }
  return context;
};

const ToastItem: React.FC<ToastMessage & { onClose: (id: number) => void }> = ({ id, message, type, onClose }) => {
  const bgColors = {
    info: 'bg-gray-900 text-white border-gray-800',
    success: 'bg-emerald-600 text-white border-emerald-700',
    error: 'bg-red-600 text-white border-red-700'
  };
  
  const icons = {
    info: <Info size={18} />,
    success: <CheckCircle size={18} />,
    error: <AlertCircle size={18} />
  };

  return (
    <div className={\`\${bgColors[type]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border\`}>
      <div className="flex-shrink-0">{icons[type]}</div>
      <span className="text-sm font-medium flex-1">{message}</span>
      <button onClick={() => onClose(id)} className="opacity-70 hover:opacity-100 transition-opacity">
        <X size={16} />
      </button>
    </div>
  );
};

export const ToastProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [toasts, setToasts] = useState<ToastMessage[]>([]);
  
  const showToast = useCallback((message: string, type: 'info' | 'success' | 'error' = 'info') => {
    const id = Date.now();
    setToasts(prev => [...prev, { id, message, type }]);
    setTimeout(() => {
      setToasts(prev => prev.filter(t => t.id !== id));
    }, 3000);
  }, []);

  const removeToast = (id: number) => {
    setToasts(prev => prev.filter(t => t.id !== id));
  };

  return (
    <ToastContext.Provider value={{ showToast }}>
      {children}
      <div className="fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto">
        {toasts.map(t => (
          <ToastItem key={t.id} {...t} onClose={removeToast} />
        ))}
      </div>
    </ToastContext.Provider>
  );
};`),n.file("Sidebar.tsx",`import React, { useState, useRef, useEffect } from 'react';
import { 
  Search, Home, Layout, Folder, Hash, MoreHorizontal, 
  ChevronRight, ChevronDown, Plus, Settings, Users, Inbox, Target,
  Download, LogOut, CreditCard, Code
} from 'lucide-react';
import { useToast } from './Toast';
import { api } from '../services/api';
import { downloadProjectSource } from '../utils/projectDownloader';

interface SidebarProps {
  activePage: string;
  onNavigate: (page: string) => void;
}

const Sidebar: React.FC<SidebarProps> = ({ activePage, onNavigate }) => {
  const [spacesExpanded, setSpacesExpanded] = useState(true);
  const [showWorkspaceMenu, setShowWorkspaceMenu] = useState(false);
  const menuRef = useRef<HTMLDivElement>(null);
  const { showToast } = useToast();

  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {
        setShowWorkspaceMenu(false);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, []);

  const handleNavClick = (pageId: string, message: string) => {
    onNavigate(pageId);
  };

  const handleExport = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Preparing JSON export...', 'info');
    
    try {
      const tasks = await api.getTasks();
      const exportData = {
        exportedAt: new Date().toISOString(),
        appName: "ClickUp Clone",
        version: "1.0.0",
        tasks: tasks
      };
      
      const dataStr = JSON.stringify(exportData, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = \`clickup_workspace_export_\${new Date().toISOString().slice(0, 10)}.json\`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showToast('Workspace data exported successfully!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to export data', 'error');
    }
  };

  const handleDownloadSource = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Generating project ZIP...', 'info');
    try {
      await downloadProjectSource();
      showToast('Source code downloaded!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to generate ZIP', 'error');
    }
  };

  const getItemClass = (id: string) => {
    return activePage === id 
      ? 'bg-clickup-hover text-white font-medium' 
      : 'hover:bg-clickup-hover hover:text-white';
  };

  const getIconClass = (id: string, defaultColor: string = '') => {
    return activePage === id ? 'text-clickup-purple' : (defaultColor || '');
  };

  return (
    <div className="w-64 bg-clickup-sidebar text-gray-400 flex flex-col h-full border-r border-gray-800 flex-shrink-0 select-none relative">
      
      <div className="relative" ref={menuRef}>
        <div 
          className={\`p-3 border-b border-gray-800 flex items-center justify-between cursor-pointer transition-colors group \${showWorkspaceMenu ? 'bg-clickup-hover' : 'hover:bg-clickup-hover'}\`}
          onClick={() => setShowWorkspaceMenu(!showWorkspaceMenu)}
        >
          <div className="flex items-center space-x-2">
            <div className="w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-md flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:shadow-lg transition-shadow">
              G
            </div>
            <div className="flex flex-col">
              <span className="text-gray-200 text-sm font-semibold leading-tight group-hover:text-white transition-colors">Gemini Corp</span>
              <span className="text-[10px] text-gray-500 group-hover:text-gray-400">Free Plan</span>
            </div>
          </div>
          <Settings size={14} className={\`text-gray-500 group-hover:text-gray-300 transition-all duration-300 \${showWorkspaceMenu ? 'rotate-90 text-white' : ''}\`} />
        </div>

        {showWorkspaceMenu && (
          <div className="absolute top-full left-2 right-2 mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden">
            <div className="px-3 py-2 border-b border-gray-700/50 mb-1">
               <p className="text-xs font-semibold text-white">Gemini Corp</p>
               <p className="text-[10px] text-gray-500">owner@example.com</p>
            </div>
            
            <div className="px-1 space-y-0.5">
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Settings size={14} />
                    <span>Settings</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Users size={14} />
                    <span>Members</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <CreditCard size={14} />
                    <span>Billing</span>
                </button>
            </div>

            <div className="h-[1px] bg-gray-700/50 mx-2 my-1.5"></div>

            <div className="px-1 space-y-0.5">
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleExport}
                >
                    <Download size={14} />
                    <span>Export Data (JSON)</span>
                </button>
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleDownloadSource}
                >
                    <Code size={14} />
                    <span>Download Source</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left">
                    <LogOut size={14} />
                    <span>Logout</span>
                </button>
            </div>
          </div>
        )}
      </div>

      <div className="px-3 py-2 space-y-0.5">
        <div 
          className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm group transition-colors"
          onClick={() => showToast('Global Search activated', 'info')}
        >
          <Search size={16} className="group-hover:text-white transition-colors" />
          <span className="group-hover:text-white transition-colors">Search</span>
          <span className="ml-auto text-[10px] bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700 text-gray-500 group-hover:border-gray-600">Cmd K</span>
        </div>
        
        <div 
          className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('home')}\`}
          onClick={() => handleNavClick('home', 'Navigated to Home')}
        >
          <Home size={16} className={getIconClass('home')} />
          <span>Home</span>
        </div>
        
        <div 
           className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('inbox')}\`}
           onClick={() => handleNavClick('inbox', 'Navigated to Inbox')}
        >
          <Inbox size={16} className={activePage === 'inbox' ? 'text-blue-400' : ''} />
          <span>Inbox</span>
        </div>
      </div>

      <div className="h-[1px] bg-gray-800 mx-3 my-1 opacity-50"></div>

      <div className="flex-1 overflow-y-auto px-3 py-2 custom-scrollbar">
        <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6">
            <span onClick={() => setSpacesExpanded(!spacesExpanded)}>Spaces</span>
            <div className="flex items-center space-x-1">
               <Plus size={14} className="opacity-0 group-hover:opacity-100 hover:text-white transition-opacity" onClick={(e) => { e.stopPropagation(); showToast('Create new Space', 'info'); }} />
               <div onClick={() => setSpacesExpanded(!spacesExpanded)}>
                {spacesExpanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}
               </div>
            </div>
          </div>

          {spacesExpanded && (
            <div className="space-y-0.5 animate-in slide-in-from-top-2 duration-200">
              <div className="group">
                <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors">
                  <div className="w-1.5 h-1.5 rounded-full bg-blue-500"></div>
                  <span className="flex-1 truncate font-medium">Engineering</span>
                  <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
                </div>
                <div className="ml-3 pl-3 border-l border-gray-800 mt-0.5 space-y-0.5">
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('sprints')}\`}
                    onClick={() => handleNavClick('sprints', 'Viewing Sprints')}
                  >
                    <Folder size={14} className={activePage === 'sprints' ? 'text-blue-400' : 'text-gray-500'} />
                    <span>Sprints</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('frontend')}\`}
                    onClick={() => handleNavClick('frontend', 'Viewing Frontend App')}
                  >
                    <Hash size={14} className={getIconClass('frontend', 'text-gray-500')} />
                    <span className="truncate">Frontend App</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('backend')}\`}
                    onClick={() => handleNavClick('backend', 'Viewing Backend API')}
                  >
                    <Hash size={14} className={getIconClass('backend', 'text-gray-500')} />
                    <span className="truncate">Backend API</span>
                  </div>
                </div>
              </div>

              <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-green-500"></div>
                <span className="flex-1 truncate font-medium">Design</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>

               <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-orange-500"></div>
                <span className="flex-1 truncate font-medium">Marketing</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>
            </div>
          )}
        </div>

         <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group">
             <span>Dashboards</span>
             <Plus size={14} className="cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity" onClick={() => showToast('New Dashboard', 'info')} />
          </div>
          <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('overview')}\`}
            onClick={() => handleNavClick('overview', 'Dashboards Overview')}
          >
             <Layout size={14} />
             <span>Overview</span>
          </div>
           <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('goals')}\`}
            onClick={() => handleNavClick('goals', 'Goals Dashboard')}
          >
             <Target size={14} />
             <span>Goals</span>
          </div>
        </div>
      </div>

      <div className="p-3 border-t border-gray-800">
         <div 
            className="bg-gradient-to-r from-clickup-purple to-indigo-600 rounded-md p-2 text-white flex items-center justify-center space-x-2 cursor-pointer hover:brightness-110 transition-all active:scale-95"
            onClick={() => showToast('Invite dialog opened', 'info')}
         >
            <Users size={14} />
            <span className="text-sm font-medium">Invite Team</span>
         </div>
      </div>
    </div>
  );
};

export default Sidebar;`),n.file("Header.tsx",`import React from 'react';
import { 
  List, Kanban, Calendar, ChevronDown, Filter, 
  ArrowDownUp, BrainCircuit, Search, Share2
} from 'lucide-react';
import { ViewType } from '../types';
import { useToast } from './Toast';

interface HeaderProps {
  currentView: ViewType;
  setCurrentView: (view: ViewType) => void;
  onOpenBrain: () => void;
  pageTitle: string;
}

const Header: React.FC<HeaderProps> = ({ currentView, setCurrentView, onOpenBrain, pageTitle }) => {
  const { showToast } = useToast();

  return (
    <header className="h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none">
      <div className="flex items-center h-full">
        <div className="flex items-center mr-4 pr-4 border-r border-gray-200 h-6">
          <span 
            className="text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors"
            onClick={() => showToast('Breadcrumb navigation', 'info')}
          >
            {pageTitle} <ChevronDown size={12} className="ml-1 text-gray-400" />
          </span>
        </div>

        <div className="flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg">
          <button 
            onClick={() => setCurrentView('list')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'list' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <List size={14} />
            <span>List</span>
          </button>
          <button 
            onClick={() => setCurrentView('board')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'board' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Kanban size={14} />
            <span>Board</span>
          </button>
           <button 
            onClick={() => setCurrentView('calendar')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'calendar' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Calendar size={14} />
            <span>Calendar</span>
          </button>
          
          <button 
            className="flex items-center space-x-1 px-2 py-1 text-xs text-gray-400 hover:text-gray-700 hover:bg-gray-200/50 rounded transition-colors ml-1"
            onClick={() => showToast('Add View menu', 'info')}
          >
            <ChevronDown size={12} />
            <span>View</span>
          </button>
        </div>
      </div>

      <div className="flex items-center space-x-3">
        <button 
          onClick={onOpenBrain}
          className="group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95"
        >
          <BrainCircuit size={16} className="text-clickup-purple group-hover:rotate-12 transition-transform" />
          <span className="text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent">
            Ask AI
          </span>
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>
        
        <div className="flex items-center space-x-1 text-gray-500">
             <div className="relative group">
                <div 
                    className="flex -space-x-2 cursor-pointer hover:scale-105 transition-transform" 
                    onClick={() => showToast('Manage Assignees', 'info')}
                >
                    <div className="w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">A</div>
                    <div className="w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">S</div>
                    <div className="w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold">+</div>
                </div>
             </div>
        </div>
        
        <button 
            className="p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors"
            onClick={() => showToast('Share view options', 'info')}
        >
            <Share2 size={16} />
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>

        <div className="flex items-center space-x-1 text-gray-500">
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Filter menu', 'info')}
            >
                <Filter size={14} />
                <span className="hidden md:inline">Filter</span>
            </button>
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Sort menu', 'info')}
            >
                <ArrowDownUp size={14} />
                 <span className="hidden md:inline">Sort</span>
            </button>
        </div>

        <div className="flex items-center border border-gray-200 rounded-md px-2 py-1.5 bg-gray-50 focus-within:bg-white focus-within:border-clickup-purple focus-within:ring-1 focus-within:ring-purple-100 transition-all w-40 md:w-56">
             <Search size={14} className="text-gray-400" />
             <input 
                type="text" 
                placeholder="Search tasks..." 
                className="bg-transparent border-none outline-none text-xs ml-2 w-full text-gray-700 placeholder-gray-400"
                onKeyDown={(e) => e.key === 'Enter' && showToast('Searching tasks...', 'info')}
             />
        </div>
      </div>
    </header>
  );
};

export default Header;`));const a=await r.generateAsync({type:"blob"}),i=URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download="clickup-clone-source.zip",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},RQ=xe.createContext(void 0),xve=({children:r})=>{const[e,t]=xe.useState(()=>localStorage.getItem("activePage")||"home"),[n,a]=xe.useState("list");xe.useEffect(()=>{localStorage.setItem("activePage",e)},[e]);const i=["space","ocean"].includes(e),s=()=>{var l,c,u,f,h,d,v,g,m,y,b,S,A,E,M,R,L,I;const o={home:"Home",inbox:"Inbox",sprints:"Engineering / Sprints",frontend:"Engineering / Frontend App",backend:"Engineering / Backend API",overview:"Dashboards / Overview",goals:"Dashboards / Goals",space:"Space",ocean:"Deep Ocean","supply-chain/procurement":"Supply Chain / Procurement","supply-chain/warehouse":"Supply Chain / Warehouse","supply-chain/shipping":"Supply Chain / Shipping","supply-chain/planning":"Supply Chain / Planning","supply-chain/fleet":"Supply Chain / Fleet",operations:"Departments / Operations",business:"Departments / Business",support:"Departments / Business Support"};if(o[e])return o[e];if(e.startsWith("supply-chain/")){const O=e.split("/");return O.length>=3?`Supply Chain / ${((l=O[1])==null?void 0:l.charAt(0).toUpperCase())+((c=O[1])==null?void 0:c.slice(1))} / ${((u=O[2])==null?void 0:u.charAt(0).toUpperCase())+((f=O[2])==null?void 0:f.slice(1))}`:`Supply Chain / ${((h=O[1])==null?void 0:h.charAt(0).toUpperCase())+((d=O[1])==null?void 0:d.slice(1))}`}if(e.startsWith("operations/")){const O=e.split("/");return`Operations / ${((v=O[1])==null?void 0:v.charAt(0).toUpperCase())+((g=O[1])==null?void 0:g.slice(1))} / ${((m=O[2])==null?void 0:m.charAt(0).toUpperCase())+((y=O[2])==null?void 0:y.slice(1))}`}if(e.startsWith("business/")){const O=e.split("/");return`Business / ${((b=O[1])==null?void 0:b.charAt(0).toUpperCase())+((S=O[1])==null?void 0:S.slice(1))} / ${((A=O[2])==null?void 0:A.charAt(0).toUpperCase())+((E=O[2])==null?void 0:E.slice(1))}`}if(e.startsWith("support/")){const O=e.split("/");return`Business Support / ${((M=O[1])==null?void 0:M.charAt(0).toUpperCase())+((R=O[1])==null?void 0:R.slice(1))} / ${((L=O[2])==null?void 0:L.charAt(0).toUpperCase())+((I=O[2])==null?void 0:I.slice(1))}`}return"Space"};return D.jsx(RQ.Provider,{value:{activePage:e,setActivePage:t,currentView:n,setCurrentView:a,isImmersive:i,getPageTitle:s},children:r})},HN=()=>{const r=xe.useContext(RQ);if(r===void 0)throw new Error("useNavigation must be used within a NavigationProvider");return r},_ve=({onLogout:r})=>{const{activePage:e,setActivePage:t,isImmersive:n}=HN(),[a,i]=xe.useState([]),[s,o]=xe.useState(()=>{const H=localStorage.getItem("sidebar_spacesExpanded");return H!==null?JSON.parse(H):!0}),[l,c]=xe.useState(()=>{const H=localStorage.getItem("sidebar_departmentsExpanded");return H!==null?JSON.parse(H):!1}),[u,f]=xe.useState(()=>{const H=localStorage.getItem("sidebar_supplyChainExpanded");return H!==null?JSON.parse(H):!1}),[h,d]=xe.useState(()=>{const H=localStorage.getItem("sidebar_expandedItems");return H!==null?JSON.parse(H):{}}),[v,g]=xe.useState(!1),[m,y]=xe.useState(!1),[b,S]=xe.useState(!0),A=xe.useRef(null),{showToast:E}=lc();xe.useEffect(()=>{M()},[]),xe.useEffect(()=>{localStorage.setItem("sidebar_spacesExpanded",JSON.stringify(s))},[s]),xe.useEffect(()=>{localStorage.setItem("sidebar_departmentsExpanded",JSON.stringify(l))},[l]),xe.useEffect(()=>{localStorage.setItem("sidebar_supplyChainExpanded",JSON.stringify(u))},[u]),xe.useEffect(()=>{localStorage.setItem("sidebar_expandedItems",JSON.stringify(h))},[h]);const M=async()=>{try{const H=await _M.getSpaces();i(H)}catch(H){console.error("Failed to load spaces",H)}finally{S(!1)}},R=async H=>{H.stopPropagation();const Z=prompt("Enter Space Name:");if(Z)try{const X=await _M.createSpace(Z);i(Y=>[...Y,X]),E("Space created!","success"),t(X.id)}catch{E("Failed to create space","error")}},L=async(H,Z)=>{if(H.stopPropagation(),confirm("Are you sure you want to delete this space and all its tasks?"))try{await _M.deleteSpace(Z),i(X=>X.filter(Y=>Y.id!==Z)),e===Z&&t("home"),E("Space deleted","success")}catch{E("Failed to delete space","error")}},I=async(H,Z,X)=>{H.stopPropagation();const Y=prompt("Rename Space:",X);if(Y&&Y!==X)try{await _M.updateSpace(Z,{name:Y}),i(re=>re.map(W=>W.id===Z?{...W,name:Y}:W)),E("Space renamed","success")}catch{E("Failed to rename space","error")}};xe.useEffect(()=>{const H=Z=>{A.current&&!A.current.contains(Z.target)&&g(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]);const O=H=>{d(Z=>({...Z,[H]:!Z[H]}))},P=(H,Z)=>{t(H)},k=async H=>{H.stopPropagation(),g(!1),E("Preparing JSON export...","info");try{const Z=await dm.getTasks(),X={exportedAt:new Date().toISOString(),appName:"ClickUp Clone",version:"2.0.0",tasks:Z,spaces:a},Y=JSON.stringify(X,null,2),re=new Blob([Y],{type:"application/json"}),W=URL.createObjectURL(re),j=document.createElement("a");j.href=W,j.download=`clickup_workspace_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(W),E("Workspace data exported successfully!","success")}catch(Z){console.error(Z),E("Failed to export data","error")}},U=async H=>{H.stopPropagation(),g(!1),E("Generating project ZIP...","info");try{await yve(),E("Source code downloaded!","success")}catch(Z){console.error(Z),E("Failed to generate ZIP","error")}},F=H=>e===H?"bg-clickup-hover text-white font-medium":"hover:bg-clickup-hover hover:text-white",q=(H,Z="")=>e===H?"text-clickup-purple":Z||"";return D.jsxs("div",{className:`${m?"w-16":"w-64"} bg-clickup-sidebar text-gray-400 flex flex-col h-[calc(100vh-3rem)] flex-shrink-0 select-none relative transition-all duration-300 z-50`,children:[D.jsx("button",{onClick:()=>y(!m),className:"absolute -right-3 top-4 bg-clickup-sidebar border border-gray-700 rounded-full p-0.5 text-gray-400 hover:text-white hover:bg-gray-700 z-50 shadow-md transition-colors",children:m?D.jsx(Fde,{size:12}):D.jsx(Bde,{size:12})}),D.jsxs("div",{className:"relative",ref:A,children:[D.jsxs("div",{className:`p-3 flex items-center ${m?"justify-center":"justify-between"} cursor-pointer transition-colors group ${v?"bg-clickup-hover":"hover:bg-clickup-hover"}`,onClick:()=>g(!v),children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-red-500 rounded flex items-center justify-center text-white font-bold text-xs shadow-sm group-hover:shadow transition-shadow shrink-0",children:"G"}),!m&&D.jsx("div",{className:"flex flex-col min-w-0",children:D.jsx("span",{className:"text-gray-200 text-sm font-medium leading-tight group-hover:text-white transition-colors truncate",children:"Gemini Corp"})})]}),!m&&D.jsx(Wl,{size:14,className:`text-gray-500 group-hover:text-gray-300 transition-all duration-200 ${v?"rotate-180":""}`})]}),v&&D.jsxs("div",{className:`absolute top-full mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden ${m?"left-14 w-56":"left-2 right-2"}`,children:[D.jsxs("div",{className:"px-3 py-2 border-b border-gray-700/50 mb-1",children:[D.jsx("p",{className:"text-xs font-semibold text-white",children:"Gemini Corp"}),D.jsx("p",{className:"text-[10px] text-gray-500",children:"owner@example.com"})]}),D.jsxs("div",{className:"px-1 space-y-0.5",children:[D.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[D.jsx(mD,{size:14}),D.jsx("span",{children:"Settings"})]}),D.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[D.jsx(q0,{size:14}),D.jsx("span",{children:"Members"})]}),D.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[D.jsx(g8,{size:14}),D.jsx("span",{children:"Billing"})]})]}),D.jsx("div",{className:"h-[1px] bg-gray-700/50 mx-2 my-1.5"}),D.jsxs("div",{className:"px-1 space-y-0.5",children:[D.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:k,children:[D.jsx(ope,{size:14}),D.jsx("span",{children:"Export Data (JSON)"})]}),D.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:U,children:[D.jsx(Jde,{size:14}),D.jsx("span",{children:"Download Source"})]}),D.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left",onClick:()=>{r&&r()},children:[D.jsx(wQ,{size:14}),D.jsx("span",{children:"Logout"})]})]})]})]}),D.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[D.jsxs("div",{className:"px-2 py-1 space-y-0.5",children:[D.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("home")} ${m?"justify-center":""}`,onClick:()=>P("home"),title:m?"Home":"",children:[D.jsx(Epe,{size:16,className:`${q("home")} shrink-0`}),!m&&D.jsx("span",{children:"Home"})]}),D.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("inbox")} ${m?"justify-center":""}`,onClick:()=>P("inbox"),title:m?"Inbox":"",children:[D.jsx(y8,{size:16,className:`${e==="inbox"?"text-blue-400":""} shrink-0`}),!m&&D.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[D.jsx("span",{children:"Inbox"}),D.jsx("span",{className:"bg-clickup-dark text-xs px-1.5 py-0.5 rounded text-gray-400 group-hover:text-white transition-colors",children:"4"})]})]}),D.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),D.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors group ${["departments","supply-chain","operations","business","support"].some(H=>e.startsWith(H))?"bg-clickup-hover text-white":"hover:bg-clickup-hover hover:text-white"} ${m?"justify-center":""}`,onClick:()=>!m&&c(!l),title:m?"Departments":"",children:[D.jsx(Ede,{size:16,className:"shrink-0"}),!m&&D.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[D.jsx("span",{children:"Departments"}),l?D.jsx(Wl,{size:14}):D.jsx(Cd,{size:14})]})]}),!m&&l&&D.jsxs("div",{className:"ml-4 mt-1 space-y-0.5 border-l border-gray-700 pl-2",children:[D.jsxs("div",{children:[D.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith("supply-chain")?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>f(!u),children:[D.jsx(gP,{size:14,className:"shrink-0"}),D.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[D.jsx("span",{className:"text-sm",children:"Supply Chain"}),u?D.jsx(Wl,{size:12}):D.jsx(Cd,{size:12})]})]}),u&&D.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:[{id:"procurement",label:"Procurement",icon:vP},{id:"warehouse",label:"Warehouse",icon:mP},{id:"shipping",label:"Shipping",icon:pP},{id:"planning",label:"Planning",icon:Zd},{id:"fleet",label:"Fleet",icon:Dde},{id:"vendors",label:"Vendors",icon:yD}].map(H=>{const Z=`supply-chain/${H.id}`,X=e.startsWith(Z)||(h[Z]!==void 0?h[Z]:!1);return D.jsxs("div",{children:[D.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith(Z)?"text-blue-300":"text-gray-500 hover:text-gray-300"}`,onClick:()=>O(Z),children:[D.jsx(H.icon,{size:12,className:"shrink-0"}),D.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[D.jsx("span",{className:"text-xs font-medium",children:H.label}),X?D.jsx(Wl,{size:10}):D.jsx(Cd,{size:10})]})]}),X&&D.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:FV},{id:"analytics",label:"Analytics",icon:BV}].map(Y=>D.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${e===`${Z}/${Y.id}`?"text-clickup-purple bg-[#2a2e35]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>P(`${Z}/${Y.id}`,`Opening ${H.label} ${Y.label}`),children:[D.jsx(Y.icon,{size:10,className:"shrink-0"}),D.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:Y.label})]},Y.id))})]},H.id)})})]}),[{id:"operations",label:"Operations",icon:mD,children:[{id:"maintenance",label:"Maintenance"},{id:"production",label:"Production"},{id:"quality",label:"Quality"}]},{id:"business",label:"Business",icon:hP,children:[{id:"sales",label:"Sales"},{id:"finance",label:"Finance"}]},{id:"support",label:"Business Support",icon:zpe,children:[{id:"it",label:"IT"},{id:"hr",label:"HR"},{id:"marketing",label:"Marketing"}]}].map(H=>{const Z=e.startsWith(H.id)||(h[H.id]!==void 0?h[H.id]:!1);return D.jsxs("div",{children:[D.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith(H.id)?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>O(H.id),children:[D.jsx(H.icon,{size:14,className:"shrink-0"}),D.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[D.jsx("span",{className:"text-sm",children:H.label}),Z?D.jsx(Wl,{size:12}):D.jsx(Cd,{size:12})]})]}),Z&&D.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:H.children.map(X=>{const Y=`${H.id}/${X.id}`,re=e.startsWith(Y)||(h[Y]!==void 0?h[Y]:!1);return D.jsxs("div",{children:[D.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith(Y)?"text-blue-300":"text-gray-500 hover:text-gray-300"}`,onClick:()=>O(Y),children:[D.jsx(vpe,{size:12,className:"shrink-0"}),D.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[D.jsx("span",{className:"text-xs font-medium",children:X.label}),re?D.jsx(Wl,{size:10}):D.jsx(Cd,{size:10})]})]}),re&&D.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:FV},{id:"analytics",label:"Analytics",icon:BV}].map(W=>D.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${e===`${Y}/${W.id}`?"text-clickup-purple bg-[#2a2e35]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>P(`${Y}/${W.id}`,`Opening ${X.label} ${W.label}`),children:[D.jsx(W.icon,{size:10,className:"shrink-0"}),D.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:W.label})]},W.id))})]},X.id)})})]},H.id)})]})]}),D.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-1 opacity-50"}),D.jsxs("div",{className:"px-2 py-2",children:[D.jsxs("div",{className:"mb-4",children:[D.jsxs("div",{className:`flex items-center ${m?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6`,children:[!m&&D.jsx("span",{onClick:()=>o(!s),children:"Spaces"}),m&&D.jsx("span",{className:"text-[10px]",children:"SPC"}),!m&&D.jsxs("div",{className:"flex items-center space-x-1",children:[D.jsx("div",{className:"opacity-0 group-hover:opacity-100 hover:text-white transition-opacity cursor-pointer",onClick:R,title:"Create Space",children:D.jsx(ja,{size:14})}),D.jsx("div",{onClick:()=>o(!s),children:s?D.jsx(Wl,{size:14}):D.jsx(Cd,{size:14})})]})]}),s&&!b&&D.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[a.length===0&&!m&&D.jsx("div",{className:"p-3 border border-dashed border-gray-700 rounded text-center text-xs text-gray-500 hover:text-gray-400 hover:border-gray-600 cursor-pointer transition-colors",onClick:R,children:"+ Create your first Space"}),a.map(H=>D.jsx("div",{className:"group relative",children:D.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F(H.id)} ${m?"justify-center":""}`,onClick:()=>P(H.id,`Viewing ${H.name}`),children:[D.jsx("div",{className:"w-1.5 h-1.5 rounded-full shrink-0",style:{backgroundColor:H.color}}),!m&&D.jsx("span",{className:"flex-1 truncate font-medium",children:H.name}),!m&&D.jsxs("div",{className:"hidden group-hover:flex items-center space-x-1",children:[D.jsx(e0e,{size:10,className:"text-gray-500 hover:text-white",onClick:Z=>I(Z,H.id,H.name)}),D.jsx(Am,{size:10,className:"text-gray-500 hover:text-red-400",onClick:Z=>L(Z,H.id)})]})]})},H.id))]})]}),D.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),D.jsxs("div",{className:"mb-4",children:[D.jsxs("div",{className:`flex items-center ${m?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!m&&D.jsx("span",{children:"Smart Tools"}),m&&D.jsx("span",{children:"SMT"})]}),D.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("mind-map")} ${m?"justify-center":""}`,onClick:()=>P("mind-map"),title:m?"Mind Mapping":"",children:[D.jsx(vQ,{size:14,className:"shrink-0"}),!m&&D.jsx("span",{children:"Mind Mapping"})]})]}),D.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),D.jsxs("div",{className:"mb-4",children:[D.jsxs("div",{className:`flex items-center ${m?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!m&&D.jsx("span",{children:"Dashboards"}),m&&D.jsx("span",{children:"DBD"}),!m&&D.jsx(ja,{size:14,className:"cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>E("New Dashboard","info")})]}),D.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("overview")} ${m?"justify-center":""}`,onClick:()=>P("overview"),title:m?"Dashboards Overview":"",children:[D.jsx($w,{size:14,className:"shrink-0"}),!m&&D.jsx("span",{children:"Overview"})]}),D.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("goals")} ${m?"justify-center":""}`,onClick:()=>P("goals"),title:m?"Goals":"",children:[D.jsx(EQ,{size:14,className:"shrink-0"}),!m&&D.jsx("span",{children:"Goals"})]})]}),D.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),D.jsxs("div",{className:"mb-4",children:[D.jsxs("div",{className:`flex items-center ${m?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!m&&D.jsx("span",{children:"Market Place"}),m&&D.jsx("span",{children:"MKT"})]}),D.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("marketplace/local")} ${m?"justify-center":""}`,onClick:()=>P("marketplace/local"),title:m?"Local Marketplace":"",children:[D.jsx(b8,{size:14,className:"shrink-0"}),!m&&D.jsx("span",{children:"Local Marketplace"})]}),D.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${F("marketplace/foreign")} ${m?"justify-center":""}`,onClick:()=>P("marketplace/foreign"),title:m?"Foreign Marketplace":"",children:[D.jsx(yD,{size:14,className:"shrink-0"}),!m&&D.jsx("span",{children:"Forigen Marketplace"})]})]})]})]}),D.jsxs("div",{className:"p-3 border-t border-gray-800",children:[D.jsxs("div",{className:`bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center ${m?"justify-center":"justify-center space-x-2"} cursor-pointer transition-all active:scale-95 group mb-2 shadow-md`,onClick:()=>E("Invite dialog opened","info"),title:"Invite Team",children:[D.jsx(q0,{size:14,className:"shrink-0"}),!m&&D.jsx("span",{className:"text-sm font-medium",children:"Invite Team"})]}),D.jsxs("div",{className:`flex ${m?"flex-col space-y-2":"flex-row space-x-2"}`,children:[D.jsxs("div",{className:"flex-1 bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-md",onClick:()=>P("space"),title:"Space",children:[D.jsx(o0e,{size:14,className:"shrink-0"}),!m&&D.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Space"})]}),D.jsxs("div",{className:"flex-1 bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-md",onClick:()=>P("ocean"),title:"Deep Ocean",children:[D.jsx($0e,{size:14,className:"shrink-0"}),!m&&D.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Ocean"})]})]})]})]})},NQ=xe.createContext(void 0),bve=({children:r})=>{const[e,t]=xe.useState(!1),[n,a]=xe.useState(!1),[i,s]=xe.useState(!1);return D.jsx(NQ.Provider,{value:{isBrainOpen:e,setBrainOpen:t,isAddCardsOpen:n,setAddCardsOpen:a,isTableBuilderOpen:i,setTableBuilderOpen:s},children:r})},E8=()=>{const r=xe.useContext(NQ);if(r===void 0)throw new Error("useUI must be used within a UIProvider");return r},Sve=()=>{const{currentView:r,setCurrentView:e,getPageTitle:t,activePage:n}=HN(),{setBrainOpen:a,setAddCardsOpen:i}=E8(),{showToast:s}=lc(),o=t(),l=n==="home",c=()=>a(!0),u=()=>i(!0);return D.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:[D.jsxs("div",{className:"flex items-center h-full",children:[D.jsx("div",{className:`flex items-center ${l?"":"mr-4 pr-4 border-r border-gray-200"} h-6`,children:D.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors",onClick:()=>s("Breadcrumb navigation","info"),children:[o," ",!l&&D.jsx(Wl,{size:12,className:"ml-1 text-gray-400"})]})}),!l&&D.jsxs("div",{className:"flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg",children:[D.jsxs("button",{onClick:()=>e("list"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${r==="list"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[D.jsx(Hpe,{size:14}),D.jsx("span",{children:"List"})]}),D.jsxs("button",{onClick:()=>e("board"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${r==="board"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[D.jsx(Lpe,{size:14}),D.jsx("span",{children:"Board"})]}),D.jsxs("button",{onClick:()=>e("calendar"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${r==="calendar"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[D.jsx(Zd,{size:14}),D.jsx("span",{children:"Calendar"})]}),D.jsxs("button",{onClick:()=>e("dashboard"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${r==="dashboard"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[D.jsx(kpe,{size:14}),D.jsx("span",{children:"Dashboard"})]})]})]}),D.jsx("div",{className:"flex items-center space-x-3",children:l?D.jsx(D.Fragment,{children:D.jsx("button",{className:"hover:bg-gray-100 text-gray-600 hover:text-gray-900 px-3 py-1.5 rounded text-xs font-medium transition-colors border border-transparent hover:border-gray-200",onClick:u,children:"Add Cards"})}):!n.startsWith("operations")&&!n.startsWith("business")&&!n.startsWith("support")&&!n.startsWith("supply-chain")?D.jsxs(D.Fragment,{children:[D.jsxs("button",{onClick:c,className:"group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95",children:[D.jsx(vQ,{size:16,className:"text-clickup-purple group-hover:rotate-12 transition-transform"}),D.jsx("span",{className:"text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent",children:"Ask AI"})]}),D.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),D.jsx("div",{className:"flex items-center space-x-1 text-gray-500",children:D.jsx("div",{className:"relative group",children:D.jsxs("div",{className:"flex -space-x-2 cursor-pointer hover:scale-105 transition-transform",onClick:()=>s("Manage Assignees","info"),children:[D.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"A"}),D.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"S"}),D.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold",children:"+"})]})})}),D.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors",onClick:()=>s("Share view options","info"),children:D.jsx(d0e,{size:16})}),D.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),D.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[D.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>s("Filter menu","info"),children:[D.jsx(xQ,{size:14}),D.jsx("span",{className:"hidden md:inline",children:"Filter"})]}),D.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>s("Sort menu","info"),children:[D.jsx(hde,{size:14}),D.jsx("span",{className:"hidden md:inline",children:"Sort"})]})]})]}):null})]})},wve=({onInsert:r})=>{const{getPageTitle:e,activePage:t}=HN(),n=e(),{showToast:a}=lc(),[i,s]=xe.useState(null),o=["File","Edit","Insert","View","Window","Help"];return D.jsx("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:D.jsxs("div",{className:"flex items-center h-full",children:[D.jsx("div",{className:"flex items-center mr-4 pr-4 border-r border-gray-200 h-6",children:D.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors",onClick:()=>a("Breadcrumb navigation","info"),children:[n," ",D.jsx(Wl,{size:12,className:"ml-1 text-gray-400"})]})}),D.jsx("div",{className:"flex items-center space-x-6",children:o.map(l=>D.jsxs("div",{className:"relative",children:[D.jsx("button",{className:`px - 3 py - 1.5 text - sm rounded - md transition - colors ${i===l?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} `,onClick:()=>s(i===l?null:l),children:l}),i===l&&D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(null)}),D.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-200 rounded-md shadow-lg py-1 z-20",children:l==="Insert"?D.jsxs(D.Fragment,{children:[D.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between group",onClick:()=>{r&&r("custom-table"),s(null)},children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx(A8,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),D.jsx("span",{children:"Custom Table"})]}),D.jsx("span",{className:"text-xs text-gray-400",children:"T"})]}),D.jsx("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between group",onClick:()=>{r&&r("kpi-card"),s(null)},children:D.jsxs("div",{className:"flex items-center",children:[D.jsx(g8,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),D.jsx("span",{children:"KPI Card"})]})}),D.jsxs("div",{className:"relative group/chart",children:[D.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between group",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx(zV,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),D.jsx("span",{children:"Chart"})]}),D.jsx(Wl,{size:12,className:"text-gray-400 -rotate-90"})]}),D.jsxs("div",{className:"absolute left-full top-0 w-40 bg-white border border-gray-200 rounded-md shadow-lg py-1 hidden group-hover/chart:block",children:[D.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r&&r("chart-bar"),s(null)},children:[D.jsx(gQ,{size:14,className:"mr-2 text-gray-400"}),D.jsx("span",{children:"Bar Chart"})]}),D.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r&&r("chart-line"),s(null)},children:[D.jsx(Tm,{size:14,className:"mr-2 text-gray-400"}),D.jsx("span",{children:"Line Chart"})]}),D.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center",onClick:()=>{r&&r("chart-pie"),s(null)},children:[D.jsx(zV,{size:14,className:"mr-2 text-gray-400"}),D.jsx("span",{children:"Pie Chart"})]})]})]}),D.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center group",children:[D.jsx(Cpe,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),D.jsx("span",{children:"Image"})]})]}):["1","2","3","4","5","6","7","8"].map(c=>D.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>{a(`${l} Item ${c} clicked`,"success"),s(null)},children:[l," Item ",c]},c))})]})]},l))})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var IQ=1252,Tve=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],M8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},C8=function(r){Tve.indexOf(r)!=-1&&(IQ=M8[0]=r)};function Ave(){C8(1252)}var Gu=function(r){C8(r)};function LQ(){Gu(1200),Ave()}function jV(r){for(var e=[],t=0,n=r.length;t<n;++t)e[t]=r.charCodeAt(t);return e}function Eve(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t)+(r.charCodeAt(2*t+1)<<8));return e.join("")}function OQ(r){for(var e=[],t=0;t<r.length>>1;++t)e[t]=String.fromCharCode(r.charCodeAt(2*t+1)+(r.charCodeAt(2*t)<<8));return e.join("")}var W2=function(r){var e=r.charCodeAt(0),t=r.charCodeAt(1);return e==255&&t==254?Eve(r.slice(2)):e==254&&t==255?OQ(r.slice(2)):e==65279?r.slice(1):r},wM=function(e){return String.fromCharCode(e)},WV=function(e){return String.fromCharCode(e)},Jw,A0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function YV(r){for(var e="",t=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<r.length;)t=r.charCodeAt(c++),i=t>>2,n=r.charCodeAt(c++),s=(t&3)<<4|n>>4,a=r.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),e+=A0.charAt(i)+A0.charAt(s)+A0.charAt(o)+A0.charAt(l);return e}function ac(r){var e="",t=0,n=0,a=0,i=0,s=0,o=0,l=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<r.length;)i=A0.indexOf(r.charAt(c++)),s=A0.indexOf(r.charAt(c++)),t=i<<2|s>>4,e+=String.fromCharCode(t),o=A0.indexOf(r.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=A0.indexOf(r.charAt(c++)),a=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(a));return e}var In=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),ny=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Z0(r){return In?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function XV(r){return In?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Hu=function(e){return In?ny(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function ay(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function D8(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return D8(new Uint8Array(r));for(var e=new Array(r.length),t=0;t<r.length;++t)e[t]=r[t];return e}var b0=In?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:ny(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),a=0;for(e=0,t=0;e<r.length;t+=a,++e)if(a=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Mve(r){for(var e=[],t=0,n=r.length+250,a=Z0(r.length+255),i=0;i<r.length;++i){var s=r.charCodeAt(i);if(s<128)a[t++]=s;else if(s<2048)a[t++]=192|s>>6&31,a[t++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=r.charCodeAt(++i)&1023;a[t++]=240|s>>8&7,a[t++]=128|s>>2&63,a[t++]=128|o>>6&15|(s&3)<<4,a[t++]=128|o&63}else a[t++]=224|s>>12&15,a[t++]=128|s>>6&63,a[t++]=128|s&63;t>n&&(e.push(a.slice(0,t)),t=0,a=Z0(65535),n=65530)}return e.push(a.slice(0,t)),b0(e)}var Jo=/\u0000/g,Y2=/[\u0001-\u0006]/g;function q1(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function ju(r,e){var t=""+r;return t.length>=e?t:ti("0",e-t.length)+t}function R8(r,e){var t=""+r;return t.length>=e?t:ti(" ",e-t.length)+t}function xD(r,e){var t=""+r;return t.length>=e?t:t+ti(" ",e-t.length)}function Cve(r,e){var t=""+Math.round(r);return t.length>=e?t:ti("0",e-t.length)+t}function Dve(r,e){var t=""+r;return t.length>=e?t:ti("0",e-t.length)+t}var qV=Math.pow(2,32);function Rx(r,e){if(r>qV||r<-qV)return Cve(r,e);var t=Math.round(r);return Dve(t,e)}function _D(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var ZV=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],d4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Rve(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},KV={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Nve={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function bD(r,e,t){for(var n=r<0?-1:1,a=r*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<e&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=i):(u=c,o=s)),!t)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function E0(r,e,t){if(r>2958465||r<0)return null;var n=r|0,a=Math.floor(86400*(r-n)),i=0,s=[],o={D:n,T:a,u:86400*(r-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=t?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=t?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),t&&(i=Bve(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var kQ=new Date(1899,11,31,0,0,0),Ive=kQ.getTime(),Lve=new Date(1900,2,1,0,0,0);function PQ(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=Lve&&(t+=1440*60*1e3),(t-(Ive+(r.getTimezoneOffset()-kQ.getTimezoneOffset())*6e4))/(1440*60*1e3)}function N8(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Ove(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function kve(r){var e=r<0?12:11,t=N8(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function Pve(r){var e=N8(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function Qw(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=kve(r):e===10?t=r.toFixed(10).substr(0,12):t=Pve(r),N8(Ove(t.toUpperCase()))}function zm(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Qw(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return ic(14,PQ(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function Bve(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function zve(r,e,t,n){var a="",i=0,s=0,o=t.y,l,c=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,c=e.length;break;case 3:return d4[t.m-1][1];case 5:return d4[t.m-1][0];default:return d4[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,c=e.length;break;case 3:return ZV[t.q][0];default:return ZV[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?ju(t.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(t.S+t.u)),i>=60*s&&(i=0),e==="s"?i===0?"0":""+i/s:(a=ju(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ju(l,c):"";return u}function M0(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var BQ=/%/g;function Fve(r,e,t){var n=e.replace(BQ,""),a=e.length-n.length;return Fd(r,n,t*Math.pow(10,2*a))+ti("%",a)}function Uve(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Fd(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function zQ(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+zQ(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),t=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),t.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+i):t+="E+"+(s-i);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var FQ=/# (\?+)( ?)\/( ?)(\d+)/;function Vve(r,e,t){var n=parseInt(r[4],10),a=Math.round(e*n),i=Math.floor(a/n),s=a-i*n,o=n;return t+(i===0?"":""+i)+" "+(s===0?ti(" ",r[1].length+1+r[4].length):R8(s,r[1].length)+r[2]+"/"+r[3]+ju(o,r[4].length))}function Hve(r,e,t){return t+(e===0?"":""+e)+ti(" ",r[1].length+2+r[4].length)}var UQ=/^#*0*\.([0#]+)/,VQ=/\).*[0#]/,HQ=/\(###\) ###\\?-####/;function Wo(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function $V(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function JV(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function Gve(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function jve(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Bc(r,e,t){if(r.charCodeAt(0)===40&&!e.match(VQ)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Bc("n",n,t):"("+Bc("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Uve(r,e,t);if(e.indexOf("%")!==-1)return Fve(r,e,t);if(e.indexOf("E")!==-1)return zQ(e,t);if(e.charCodeAt(0)===36)return"$"+Bc(r,e.substr(e.charAt(1)==" "?2:1),t);var a,i,s,o,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+Rx(l,e.length);if(e.match(/^[#?]+$/))return a=Rx(t,0),a==="0"&&(a=""),a.length>e.length?a:Wo(e.substr(0,e.length-a.length))+a;if(i=e.match(FQ))return Vve(i,l,c);if(e.match(/^#+0+$/))return c+Rx(l,e.length-e.indexOf("0"));if(i=e.match(UQ))return a=$V(t,i[1].length).replace(/^([^\.]+)$/,"$1."+Wo(i[1])).replace(/\.$/,"."+Wo(i[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+ti("0",Wo(i[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+$V(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+M0(Rx(l,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Bc(r,e,-t):M0(""+(Math.floor(t)+Gve(t,i[1].length)))+"."+ju(JV(t,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Bc(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=q1(Bc(r,e.replace(/[\\-]/g,""),t)),s=0,q1(q1(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<a.length?a.charAt(s++):v==="0"?"0":""}));if(e.match(HQ))return a=Bc(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=bD(l,Math.pow(10,s)-1,!1),a=""+c,u=Fd("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=xD(o[2],s),u.length<i[4].length&&(u=Wo(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=bD(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?R8(o[1],s)+i[2]+"/"+i[3]+xD(o[2],s):ti(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=Rx(t,0),e.length<=a.length?a:Wo(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=e.indexOf(".")-s,h=e.length-a.length-f;return Wo(e.substr(0,f)+a+e.substr(e.length-h))}if(i=e.match(/^00,000\.([#0]*0)$/))return s=JV(t,i[1].length),t<0?"-"+Bc(r,e,-t):M0(jve(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ju(0,3-v.length):"")+v})+"."+ju(s,i[1].length);switch(e){case"###,##0.00":return Bc(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var d=M0(Rx(l,0));return d!=="0"?c+d:"";case"###,###.00":return Bc(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Bc(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Wve(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Fd(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function Yve(r,e,t){var n=e.replace(BQ,""),a=e.length-n.length;return Fd(r,n,t*Math.pow(10,2*a))+ti("%",a)}function GQ(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+GQ(r,-e);var a=r.indexOf(".");a===-1&&(a=r.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),t=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!t.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(s-t.length+i):t+="E+"+(s-i),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Qf(r,e,t){if(r.charCodeAt(0)===40&&!e.match(VQ)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Qf("n",n,t):"("+Qf("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return Wve(r,e,t);if(e.indexOf("%")!==-1)return Yve(r,e,t);if(e.indexOf("E")!==-1)return GQ(e,t);if(e.charCodeAt(0)===36)return"$"+Qf(r,e.substr(e.charAt(1)==" "?2:1),t);var a,i,s,o,l=Math.abs(t),c=t<0?"-":"";if(e.match(/^00+$/))return c+ju(l,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:Wo(e.substr(0,e.length-a.length))+a;if(i=e.match(FQ))return Hve(i,l,c);if(e.match(/^#+0+$/))return c+ju(l,e.length-e.indexOf("0"));if(i=e.match(UQ))return a=(""+t).replace(/^([^\.]+)$/,"$1."+Wo(i[1])).replace(/\.$/,"."+Wo(i[1])),a=a.replace(/\.(\d*)$/,function(v,g){return"."+g+ti("0",Wo(i[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+M0(""+l);if(i=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Qf(r,e,-t):M0(""+t)+"."+ti("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Qf(r,e.replace(/^#,#*,/,""),t);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=q1(Qf(r,e.replace(/[\\-]/g,""),t)),s=0,q1(q1(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<a.length?a.charAt(s++):v==="0"?"0":""}));if(e.match(HQ))return a=Qf(r,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=bD(l,Math.pow(10,s)-1,!1),a=""+c,u=Fd("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=xD(o[2],s),u.length<i[4].length&&(u=Wo(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=bD(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?R8(o[1],s)+i[2]+"/"+i[3]+xD(o[2],s):ti(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:Wo(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=e.indexOf(".")-s,h=e.length-a.length-f;return Wo(e.substr(0,f)+a+e.substr(e.length-h))}if(i=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Qf(r,e,-t):M0(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ju(0,3-v.length):"")+v})+"."+ju(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var d=M0(""+l);return d!=="0"?c+d:"";default:if(e.match(/\.[0#?]*$/))return Qf(r,e.slice(0,e.lastIndexOf(".")),t)+Wo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Fd(r,e,t){return(t|0)===t?Qf(r,e,t):Bc(r,e,t)}function Xve(r){for(var e=[],t=!1,n=0,a=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(a,n-a),a=n+1}if(e[e.length]=r.substr(a),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var jQ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function iy(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":_D(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(jQ))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function qve(r,e,t,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<r.length;)switch(o=r.charAt(s)){case"G":if(!_D(r,s))throw new Error("unrecognized character "+o+" in "+r);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=r.charCodeAt(++s))!==34&&s<r.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var d=r.charAt(++s),v=d==="("||d===")"?d:"t";a[a.length]={t:v,v:d},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:e},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(c==null&&(c=E0(e,t,r.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:r.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=E0(e,t),c==null))return"";for(i=o;++s<r.length&&r.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=E0(e,t)),r.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",s+=5,h="h"):r.substr(s,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",s+=5,h="h"):(g.t="t",++s),c==null&&g.t==="T")return"";a[a.length]=g,l=o;break;case"[":for(i=o;r.charAt(s++)!=="]"&&s<r.length;)i+=r.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(jQ)){if(c==null&&(c=E0(e,t),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",iy(r)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<r.length&&(o=r.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;r.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)i+=r.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);a[a.length]={t:"t",v:o},++s;break}var m=0,y=0,b;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",m<1&&(m=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),m<3&&(m=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",m<2&&(m=2));break;case"X":break;case"Z":m<1&&a[s].v.match(/[Hh]/)&&(m=1),m<2&&a[s].v.match(/[Mm]/)&&(m=2),m<3&&a[s].v.match(/[Ss]/)&&(m=3)}switch(m){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var S="",A;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=zve(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(A=s+1;a[A]!=null&&((o=a[A].t)==="?"||o==="D"||(o===" "||o==="t")&&a[A+1]!=null&&(a[A+1].t==="?"||a[A+1].t==="t"&&a[A+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[A].v==="/"||a[A].v===" "&&a[A+1]!=null&&a[A+1].t=="?"));)a[s].v+=a[A].v,a[A]={v:"",t:";"},++A;S+=a[s].v,s=A-1;break;case"G":a[s].t="t",a[s].v=zm(e,t);break}var E="",M,R;if(S.length>0){S.charCodeAt(0)==40?(M=e<0&&S.charCodeAt(0)===45?-e:e,R=Fd("n",S,M)):(M=e<0&&n>1?-e:e,R=Fd("n",S,M),M<0&&a[0]&&a[0].t=="t"&&(R=R.substr(1),a[0].v="-"+a[0].v)),A=R.length-1;var L=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){L=s;break}var I=a.length;if(L===a.length&&R.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(A>=a[s].v.length-1?(A-=a[s].v.length,a[s].v=R.substr(A+1,a[s].v.length)):A<0?a[s].v="":(a[s].v=R.substr(0,A+1),A=-1),a[s].t="t",I=s);A>=0&&I<a.length&&(a[I].v=R.substr(0,A+1)+a[I].v)}else if(L!==a.length&&R.indexOf("E")===-1){for(A=R.indexOf(".")-1,s=L;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===L?a[s].v.indexOf(".")-1:a[s].v.length-1,E=a[s].v.substr(u+1);u>=0;--u)A>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(E=R.charAt(A--)+E);a[s].v=E,a[s].t="t",I=s}for(A>=0&&I<a.length&&(a[I].v=R.substr(0,A+1)+a[I].v),A=R.indexOf(".")+1,s=L;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==L)){for(u=a[s].v.indexOf(".")>-1&&s===L?a[s].v.indexOf(".")+1:0,E=a[s].v.substr(0,u);u<a[s].v.length;++u)A<R.length&&(E+=R.charAt(A++));a[s].v=E,a[s].t="t",I=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(M=n>1&&e<0&&s>0&&a[s-1].v==="-"?-e:e,a[s].v=Fd(a[s].t,a[s].v,M),a[s].t="t");var O="";for(s=0;s!==a.length;++s)a[s]!=null&&(O+=a[s].v);return O}var QV=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function e7(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function Zve(r,e){var t=Xve(r),n=t.length,a=t[n-1].indexOf("@");if(n<4&&a>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var i=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,i];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var s=t[0].match(QV),o=t[1].match(QV);return e7(e,s)?[n,t[0]]:e7(e,o)?[n,t[1]]:[n,t[s!=null&&o!=null?2:1]]}return[n,i]}function ic(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:qr)[r],n==null&&(n=t.table&&t.table[KV[r]]||qr[KV[r]]),n==null&&(n=Nve[r]||"General");break}if(_D(n,0))return zm(e,t);e instanceof Date&&(e=PQ(e,t.date1904));var a=Zve(n,e);if(_D(a[1]))return zm(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return qve(a[1],e,t,a[0])}function Ud(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(qr[t]==null){e<0&&(e=t);continue}if(qr[t]==r){e=t;break}}e<0&&(e=391)}return qr[e]=r,e}function Kve(r){for(var e=0;e!=392;++e)r[e]!==void 0&&Ud(r[e],e)}function WQ(){qr=Rve()}var YQ={format:ic,load:Ud,_table:qr,load_table:Kve,parse_date_code:E0,is_date:iy,get_table:function(){return YQ._table=qr}},$ve={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},XQ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Jve(r){var e=typeof r=="number"?qr[r]:r;return e=e.replace(XQ,"(\\d+)"),new RegExp("^"+e+"$")}function Qve(r,e,t){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(e.match(XQ)||[]).forEach(function(f,h){var d=parseInt(t[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:a=d;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var ege=(function(){var r={};r.version="1.2.0";function e(){for(var R=0,L=new Array(256),I=0;I!=256;++I)R=I,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,L[I]=R;return typeof Int32Array<"u"?new Int32Array(L):L}var t=e();function n(R){var L=0,I=0,O=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)P[O]=R[O];for(O=0;O!=256;++O)for(I=R[O],L=256+O;L<4096;L+=256)I=P[L]=I>>>8^R[I&255];var k=[];for(O=1;O!=16;++O)k[O-1]=typeof Int32Array<"u"?P.subarray(O*256,O*256+256):P.slice(O*256,O*256+256);return k}var a=n(t),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],d=a[8],v=a[9],g=a[10],m=a[11],y=a[12],b=a[13],S=a[14];function A(R,L){for(var I=L^-1,O=0,P=R.length;O<P;)I=I>>>8^t[(I^R.charCodeAt(O++))&255];return~I}function E(R,L){for(var I=L^-1,O=R.length-15,P=0;P<O;)I=S[R[P++]^I&255]^b[R[P++]^I>>8&255]^y[R[P++]^I>>16&255]^m[R[P++]^I>>>24]^g[R[P++]]^v[R[P++]]^d[R[P++]]^h[R[P++]]^f[R[P++]]^u[R[P++]]^c[R[P++]]^l[R[P++]]^o[R[P++]]^s[R[P++]]^i[R[P++]]^t[R[P++]];for(O+=15;P<O;)I=I>>>8^t[(I^R[P++])&255];return~I}function M(R,L){for(var I=L^-1,O=0,P=R.length,k=0,U=0;O<P;)k=R.charCodeAt(O++),k<128?I=I>>>8^t[(I^k)&255]:k<2048?(I=I>>>8^t[(I^(192|k>>6&31))&255],I=I>>>8^t[(I^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,U=R.charCodeAt(O++)&1023,I=I>>>8^t[(I^(240|k>>8&7))&255],I=I>>>8^t[(I^(128|k>>2&63))&255],I=I>>>8^t[(I^(128|U>>6&15|(k&3)<<4))&255],I=I>>>8^t[(I^(128|U&63))&255]):(I=I>>>8^t[(I^(224|k>>12&15))&255],I=I>>>8^t[(I^(128|k>>6&63))&255],I=I>>>8^t[(I^(128|k&63))&255]);return~I}return r.table=t,r.bstr=A,r.buf=E,r.str=M,r})(),kn=(function(){var e={};e.version="1.2.1";function t(he,Te){for(var ye=he.split("/"),ge=Te.split("/"),Ae=0,De=0,Je=Math.min(ye.length,ge.length);Ae<Je;++Ae){if(De=ye[Ae].length-ge[Ae].length)return De;if(ye[Ae]!=ge[Ae])return ye[Ae]<ge[Ae]?-1:1}return ye.length-ge.length}function n(he){if(he.charAt(he.length-1)=="/")return he.slice(0,-1).indexOf("/")===-1?he:n(he.slice(0,-1));var Te=he.lastIndexOf("/");return Te===-1?he:he.slice(0,Te+1)}function a(he){if(he.charAt(he.length-1)=="/")return a(he.slice(0,-1));var Te=he.lastIndexOf("/");return Te===-1?he:he.slice(Te+1)}function i(he,Te){typeof Te=="string"&&(Te=new Date(Te));var ye=Te.getHours();ye=ye<<6|Te.getMinutes(),ye=ye<<5|Te.getSeconds()>>>1,he.write_shift(2,ye);var ge=Te.getFullYear()-1980;ge=ge<<4|Te.getMonth()+1,ge=ge<<5|Te.getDate(),he.write_shift(2,ge)}function s(he){var Te=he.read_shift(2)&65535,ye=he.read_shift(2)&65535,ge=new Date,Ae=ye&31;ye>>>=5;var De=ye&15;ye>>>=4,ge.setMilliseconds(0),ge.setFullYear(ye+1980),ge.setMonth(De-1),ge.setDate(Ae);var Je=Te&31;Te>>>=5;var gt=Te&63;return Te>>>=6,ge.setHours(Te),ge.setMinutes(gt),ge.setSeconds(Je<<1),ge}function o(he){ks(he,0);for(var Te={},ye=0;he.l<=he.length-4;){var ge=he.read_shift(2),Ae=he.read_shift(2),De=he.l+Ae,Je={};switch(ge){case 21589:ye=he.read_shift(1),ye&1&&(Je.mtime=he.read_shift(4)),Ae>5&&(ye&2&&(Je.atime=he.read_shift(4)),ye&4&&(Je.ctime=he.read_shift(4))),Je.mtime&&(Je.mt=new Date(Je.mtime*1e3));break}he.l=De,Te[ge]=Je}return Te}var l;function c(){return l||(l={})}function u(he,Te){if(he[0]==80&&he[1]==75)return Et(he,Te);if((he[0]|32)==109&&(he[1]|32)==105)return On(he,Te);if(he.length<512)throw new Error("CFB file size "+he.length+" < 512");var ye=3,ge=512,Ae=0,De=0,Je=0,gt=0,Qe=0,tt=[],at=he.slice(0,512);ks(at,0);var Rt=f(at);switch(ye=Rt[0],ye){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(Rt[1]==0)return Et(he,Te);default:throw new Error("Major Version: Expected 3 or 4 saw "+ye)}ge!==512&&(at=he.slice(0,ge),ks(at,28));var Lt=he.slice(0,ge);h(at,ye);var le=at.read_shift(4,"i");if(ye===3&&le!==0)throw new Error("# Directory Sectors: Expected 0 saw "+le);at.l+=4,Je=at.read_shift(4,"i"),at.l+=4,at.chk("00100000","Mini Stream Cutoff Size: "),gt=at.read_shift(4,"i"),Ae=at.read_shift(4,"i"),Qe=at.read_shift(4,"i"),De=at.read_shift(4,"i");for(var Ce=-1,Pe=0;Pe<109&&(Ce=at.read_shift(4,"i"),!(Ce<0));++Pe)tt[Pe]=Ce;var Ue=d(he,ge);m(Qe,De,Ue,ge,tt);var Fe=b(Ue,Je,tt,ge);Fe[Je].name="!Directory",Ae>0&&gt!==U&&(Fe[gt].name="!MiniFAT"),Fe[tt[0]].name="!FAT",Fe.fat_addrs=tt,Fe.ssz=ge;var wt={},kt=[],Wt=[],qt=[];S(Je,Fe,Ue,kt,Ae,wt,Wt,gt),v(Wt,qt,kt),kt.shift();var pr={FileIndex:Wt,FullPaths:qt};return Te&&Te.raw&&(pr.raw={header:Lt,sectors:Ue}),pr}function f(he){if(he[he.l]==80&&he[he.l+1]==75)return[0,0];he.chk(F,"Header Signature: "),he.l+=16;var Te=he.read_shift(2,"u");return[he.read_shift(2,"u"),Te]}function h(he,Te){var ye=9;switch(he.l+=2,ye=he.read_shift(2)){case 9:if(Te!=3)throw new Error("Sector Shift: Expected 9 saw "+ye);break;case 12:if(Te!=4)throw new Error("Sector Shift: Expected 12 saw "+ye);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ye)}he.chk("0600","Mini Sector Shift: "),he.chk("000000000000","Reserved: ")}function d(he,Te){for(var ye=Math.ceil(he.length/Te)-1,ge=[],Ae=1;Ae<ye;++Ae)ge[Ae-1]=he.slice(Ae*Te,(Ae+1)*Te);return ge[ye-1]=he.slice(ye*Te),ge}function v(he,Te,ye){for(var ge=0,Ae=0,De=0,Je=0,gt=0,Qe=ye.length,tt=[],at=[];ge<Qe;++ge)tt[ge]=at[ge]=ge,Te[ge]=ye[ge];for(;gt<at.length;++gt)ge=at[gt],Ae=he[ge].L,De=he[ge].R,Je=he[ge].C,tt[ge]===ge&&(Ae!==-1&&tt[Ae]!==Ae&&(tt[ge]=tt[Ae]),De!==-1&&tt[De]!==De&&(tt[ge]=tt[De])),Je!==-1&&(tt[Je]=ge),Ae!==-1&&ge!=tt[ge]&&(tt[Ae]=tt[ge],at.lastIndexOf(Ae)<gt&&at.push(Ae)),De!==-1&&ge!=tt[ge]&&(tt[De]=tt[ge],at.lastIndexOf(De)<gt&&at.push(De));for(ge=1;ge<Qe;++ge)tt[ge]===ge&&(De!==-1&&tt[De]!==De?tt[ge]=tt[De]:Ae!==-1&&tt[Ae]!==Ae&&(tt[ge]=tt[Ae]));for(ge=1;ge<Qe;++ge)if(he[ge].type!==0){if(gt=ge,gt!=tt[gt])do gt=tt[gt],Te[ge]=Te[gt]+"/"+Te[ge];while(gt!==0&&tt[gt]!==-1&&gt!=tt[gt]);tt[ge]=-1}for(Te[0]+="/",ge=1;ge<Qe;++ge)he[ge].type!==2&&(Te[ge]+="/")}function g(he,Te,ye){for(var ge=he.start,Ae=he.size,De=[],Je=ge;ye&&Ae>0&&Je>=0;)De.push(Te.slice(Je*k,Je*k+k)),Ae-=k,Je=om(ye,Je*4);return De.length===0?Wi(0):b0(De).slice(0,he.size)}function m(he,Te,ye,ge,Ae){var De=U;if(he===U){if(Te!==0)throw new Error("DIFAT chain shorter than expected")}else if(he!==-1){var Je=ye[he],gt=(ge>>>2)-1;if(!Je)return;for(var Qe=0;Qe<gt&&(De=om(Je,Qe*4))!==U;++Qe)Ae.push(De);m(om(Je,ge-4),Te-1,ye,ge,Ae)}}function y(he,Te,ye,ge,Ae){var De=[],Je=[];Ae||(Ae=[]);var gt=ge-1,Qe=0,tt=0;for(Qe=Te;Qe>=0;){Ae[Qe]=!0,De[De.length]=Qe,Je.push(he[Qe]);var at=ye[Math.floor(Qe*4/ge)];if(tt=Qe*4&gt,ge<4+tt)throw new Error("FAT boundary crossed: "+Qe+" 4 "+ge);if(!he[at])break;Qe=om(he[at],tt)}return{nodes:De,data:u7([Je])}}function b(he,Te,ye,ge){var Ae=he.length,De=[],Je=[],gt=[],Qe=[],tt=ge-1,at=0,Rt=0,Lt=0,le=0;for(at=0;at<Ae;++at)if(gt=[],Lt=at+Te,Lt>=Ae&&(Lt-=Ae),!Je[Lt]){Qe=[];var Ce=[];for(Rt=Lt;Rt>=0;){Ce[Rt]=!0,Je[Rt]=!0,gt[gt.length]=Rt,Qe.push(he[Rt]);var Pe=ye[Math.floor(Rt*4/ge)];if(le=Rt*4&tt,ge<4+le)throw new Error("FAT boundary crossed: "+Rt+" 4 "+ge);if(!he[Pe]||(Rt=om(he[Pe],le),Ce[Rt]))break}De[Lt]={nodes:gt,data:u7([Qe])}}return De}function S(he,Te,ye,ge,Ae,De,Je,gt){for(var Qe=0,tt=ge.length?2:0,at=Te[he].data,Rt=0,Lt=0,le;Rt<at.length;Rt+=128){var Ce=at.slice(Rt,Rt+128);ks(Ce,64),Lt=Ce.read_shift(2),le=P8(Ce,0,Lt-tt),ge.push(le);var Pe={name:le,type:Ce.read_shift(1),color:Ce.read_shift(1),L:Ce.read_shift(4,"i"),R:Ce.read_shift(4,"i"),C:Ce.read_shift(4,"i"),clsid:Ce.read_shift(16),state:Ce.read_shift(4,"i"),start:0,size:0},Ue=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);Ue!==0&&(Pe.ct=A(Ce,Ce.l-8));var Fe=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);Fe!==0&&(Pe.mt=A(Ce,Ce.l-8)),Pe.start=Ce.read_shift(4,"i"),Pe.size=Ce.read_shift(4,"i"),Pe.size<0&&Pe.start<0&&(Pe.size=Pe.type=0,Pe.start=U,Pe.name=""),Pe.type===5?(Qe=Pe.start,Ae>0&&Qe!==U&&(Te[Qe].name="!StreamData")):Pe.size>=4096?(Pe.storage="fat",Te[Pe.start]===void 0&&(Te[Pe.start]=y(ye,Pe.start,Te.fat_addrs,Te.ssz)),Te[Pe.start].name=Pe.name,Pe.content=Te[Pe.start].data.slice(0,Pe.size)):(Pe.storage="minifat",Pe.size<0?Pe.size=0:Qe!==U&&Pe.start!==U&&Te[Qe]&&(Pe.content=g(Pe,Te[Qe].data,(Te[gt]||{}).data))),Pe.content&&ks(Pe.content,0),De[le]=Pe,Je.push(Pe)}}function A(he,Te){return new Date((Xl(he,Te+4)/1e7*Math.pow(2,32)+Xl(he,Te)/1e7-11644473600)*1e3)}function E(he,Te){return c(),u(l.readFileSync(he),Te)}function M(he,Te){var ye=Te&&Te.type;switch(ye||In&&Buffer.isBuffer(he)&&(ye="buffer"),ye||"base64"){case"file":return E(he,Te);case"base64":return u(Hu(ac(he)),Te);case"binary":return u(Hu(he),Te)}return u(he,Te)}function R(he,Te){var ye=Te||{},ge=ye.root||"Root Entry";if(he.FullPaths||(he.FullPaths=[]),he.FileIndex||(he.FileIndex=[]),he.FullPaths.length!==he.FileIndex.length)throw new Error("inconsistent CFB structure");he.FullPaths.length===0&&(he.FullPaths[0]=ge+"/",he.FileIndex[0]={name:ge,type:5}),ye.CLSID&&(he.FileIndex[0].clsid=ye.CLSID),L(he)}function L(he){var Te="Sh33tJ5";if(!kn.find(he,"/"+Te)){var ye=Wi(4);ye[0]=55,ye[1]=ye[3]=50,ye[2]=54,he.FileIndex.push({name:Te,type:2,content:ye,size:4,L:69,R:69,C:69}),he.FullPaths.push(he.FullPaths[0]+Te),I(he)}}function I(he,Te){R(he);for(var ye=!1,ge=!1,Ae=he.FullPaths.length-1;Ae>=0;--Ae){var De=he.FileIndex[Ae];switch(De.type){case 0:ge?ye=!0:(he.FileIndex.pop(),he.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(De.R*De.L*De.C)&&(ye=!0),De.R>-1&&De.L>-1&&De.R==De.L&&(ye=!0);break;default:ye=!0;break}}if(!(!ye&&!Te)){var Je=new Date(1987,1,19),gt=0,Qe=Object.create?Object.create(null):{},tt=[];for(Ae=0;Ae<he.FullPaths.length;++Ae)Qe[he.FullPaths[Ae]]=!0,he.FileIndex[Ae].type!==0&&tt.push([he.FullPaths[Ae],he.FileIndex[Ae]]);for(Ae=0;Ae<tt.length;++Ae){var at=n(tt[Ae][0]);ge=Qe[at],ge||(tt.push([at,{name:a(at).replace("/",""),type:1,clsid:H,ct:Je,mt:Je,content:null}]),Qe[at]=!0)}for(tt.sort(function(le,Ce){return t(le[0],Ce[0])}),he.FullPaths=[],he.FileIndex=[],Ae=0;Ae<tt.length;++Ae)he.FullPaths[Ae]=tt[Ae][0],he.FileIndex[Ae]=tt[Ae][1];for(Ae=0;Ae<tt.length;++Ae){var Rt=he.FileIndex[Ae],Lt=he.FullPaths[Ae];if(Rt.name=a(Lt).replace("/",""),Rt.L=Rt.R=Rt.C=-(Rt.color=1),Rt.size=Rt.content?Rt.content.length:0,Rt.start=0,Rt.clsid=Rt.clsid||H,Ae===0)Rt.C=tt.length>1?1:-1,Rt.size=0,Rt.type=5;else if(Lt.slice(-1)=="/"){for(gt=Ae+1;gt<tt.length&&n(he.FullPaths[gt])!=Lt;++gt);for(Rt.C=gt>=tt.length?-1:gt,gt=Ae+1;gt<tt.length&&n(he.FullPaths[gt])!=n(Lt);++gt);Rt.R=gt>=tt.length?-1:gt,Rt.type=1}else n(he.FullPaths[Ae+1]||"")==n(Lt)&&(Rt.R=Ae+1),Rt.type=2}}}function O(he,Te){var ye=Te||{};if(ye.fileType=="mad")return an(he,ye);switch(I(he),ye.fileType){case"zip":return _t(he,ye)}var ge=(function(le){for(var Ce=0,Pe=0,Ue=0;Ue<le.FileIndex.length;++Ue){var Fe=le.FileIndex[Ue];if(Fe.content){var wt=Fe.content.length;wt>0&&(wt<4096?Ce+=wt+63>>6:Pe+=wt+511>>9)}}for(var kt=le.FullPaths.length+3>>2,Wt=Ce+7>>3,qt=Ce+127>>7,pr=Wt+Pe+kt+qt,vr=pr+127>>7,hr=vr<=109?0:Math.ceil((vr-109)/127);pr+vr+hr+127>>7>vr;)hr=++vr<=109?0:Math.ceil((vr-109)/127);var Cr=[1,hr,vr,qt,kt,Pe,Ce,0];return le.FileIndex[0].size=Ce<<6,Cr[7]=(le.FileIndex[0].start=Cr[0]+Cr[1]+Cr[2]+Cr[3]+Cr[4]+Cr[5])+(Cr[6]+7>>3),Cr})(he),Ae=Wi(ge[7]<<9),De=0,Je=0;{for(De=0;De<8;++De)Ae.write_shift(1,q[De]);for(De=0;De<8;++De)Ae.write_shift(2,0);for(Ae.write_shift(2,62),Ae.write_shift(2,3),Ae.write_shift(2,65534),Ae.write_shift(2,9),Ae.write_shift(2,6),De=0;De<3;++De)Ae.write_shift(2,0);for(Ae.write_shift(4,0),Ae.write_shift(4,ge[2]),Ae.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),Ae.write_shift(4,0),Ae.write_shift(4,4096),Ae.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:U),Ae.write_shift(4,ge[3]),Ae.write_shift(-4,ge[1]?ge[0]-1:U),Ae.write_shift(4,ge[1]),De=0;De<109;++De)Ae.write_shift(-4,De<ge[2]?ge[1]+De:-1)}if(ge[1])for(Je=0;Je<ge[1];++Je){for(;De<236+Je*127;++De)Ae.write_shift(-4,De<ge[2]?ge[1]+De:-1);Ae.write_shift(-4,Je===ge[1]-1?U:Je+1)}var gt=function(le){for(Je+=le;De<Je-1;++De)Ae.write_shift(-4,De+1);le&&(++De,Ae.write_shift(-4,U))};for(Je=De=0,Je+=ge[1];De<Je;++De)Ae.write_shift(-4,Z.DIFSECT);for(Je+=ge[2];De<Je;++De)Ae.write_shift(-4,Z.FATSECT);gt(ge[3]),gt(ge[4]);for(var Qe=0,tt=0,at=he.FileIndex[0];Qe<he.FileIndex.length;++Qe)at=he.FileIndex[Qe],at.content&&(tt=at.content.length,!(tt<4096)&&(at.start=Je,gt(tt+511>>9)));for(gt(ge[6]+7>>3);Ae.l&511;)Ae.write_shift(-4,Z.ENDOFCHAIN);for(Je=De=0,Qe=0;Qe<he.FileIndex.length;++Qe)at=he.FileIndex[Qe],at.content&&(tt=at.content.length,!(!tt||tt>=4096)&&(at.start=Je,gt(tt+63>>6)));for(;Ae.l&511;)Ae.write_shift(-4,Z.ENDOFCHAIN);for(De=0;De<ge[4]<<2;++De){var Rt=he.FullPaths[De];if(!Rt||Rt.length===0){for(Qe=0;Qe<17;++Qe)Ae.write_shift(4,0);for(Qe=0;Qe<3;++Qe)Ae.write_shift(4,-1);for(Qe=0;Qe<12;++Qe)Ae.write_shift(4,0);continue}at=he.FileIndex[De],De===0&&(at.start=at.size?at.start-1:U);var Lt=De===0&&ye.root||at.name;if(tt=2*(Lt.length+1),Ae.write_shift(64,Lt,"utf16le"),Ae.write_shift(2,tt),Ae.write_shift(1,at.type),Ae.write_shift(1,at.color),Ae.write_shift(-4,at.L),Ae.write_shift(-4,at.R),Ae.write_shift(-4,at.C),at.clsid)Ae.write_shift(16,at.clsid,"hex");else for(Qe=0;Qe<4;++Qe)Ae.write_shift(4,0);Ae.write_shift(4,at.state||0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,at.start),Ae.write_shift(4,at.size),Ae.write_shift(4,0)}for(De=1;De<he.FileIndex.length;++De)if(at=he.FileIndex[De],at.size>=4096)if(Ae.l=at.start+1<<9,In&&Buffer.isBuffer(at.content))at.content.copy(Ae,Ae.l,0,at.size),Ae.l+=at.size+511&-512;else{for(Qe=0;Qe<at.size;++Qe)Ae.write_shift(1,at.content[Qe]);for(;Qe&511;++Qe)Ae.write_shift(1,0)}for(De=1;De<he.FileIndex.length;++De)if(at=he.FileIndex[De],at.size>0&&at.size<4096)if(In&&Buffer.isBuffer(at.content))at.content.copy(Ae,Ae.l,0,at.size),Ae.l+=at.size+63&-64;else{for(Qe=0;Qe<at.size;++Qe)Ae.write_shift(1,at.content[Qe]);for(;Qe&63;++Qe)Ae.write_shift(1,0)}if(In)Ae.l=Ae.length;else for(;Ae.l<Ae.length;)Ae.write_shift(1,0);return Ae}function P(he,Te){var ye=he.FullPaths.map(function(Qe){return Qe.toUpperCase()}),ge=ye.map(function(Qe){var tt=Qe.split("/");return tt[tt.length-(Qe.slice(-1)=="/"?2:1)]}),Ae=!1;Te.charCodeAt(0)===47?(Ae=!0,Te=ye[0].slice(0,-1)+Te):Ae=Te.indexOf("/")!==-1;var De=Te.toUpperCase(),Je=Ae===!0?ye.indexOf(De):ge.indexOf(De);if(Je!==-1)return he.FileIndex[Je];var gt=!De.match(Y2);for(De=De.replace(Jo,""),gt&&(De=De.replace(Y2,"!")),Je=0;Je<ye.length;++Je)if((gt?ye[Je].replace(Y2,"!"):ye[Je]).replace(Jo,"")==De||(gt?ge[Je].replace(Y2,"!"):ge[Je]).replace(Jo,"")==De)return he.FileIndex[Je];return null}var k=64,U=-2,F="d0cf11e0a1b11ae1",q=[208,207,17,224,161,177,26,225],H="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:F,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:H,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(he,Te,ye){c();var ge=O(he,ye);l.writeFileSync(Te,ge)}function Y(he){for(var Te=new Array(he.length),ye=0;ye<he.length;++ye)Te[ye]=String.fromCharCode(he[ye]);return Te.join("")}function re(he,Te){var ye=O(he,Te);switch(Te&&Te.type||"buffer"){case"file":return c(),l.writeFileSync(Te.filename,ye),ye;case"binary":return typeof ye=="string"?ye:Y(ye);case"base64":return YV(typeof ye=="string"?ye:Y(ye));case"buffer":if(In)return Buffer.isBuffer(ye)?ye:ny(ye);case"array":return typeof ye=="string"?Hu(ye):ye}return ye}var W;function j(he){try{var Te=he.InflateRaw,ye=new Te;if(ye._processChunk(new Uint8Array([3,0]),ye._finishFlushFlag),ye.bytesRead)W=he;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function J(he,Te){if(!W)return At(he,Te);var ye=W.InflateRaw,ge=new ye,Ae=ge._processChunk(he.slice(he.l),ge._finishFlushFlag);return he.l+=ge.bytesRead,Ae}function ee(he){return W?W.deflateRawSync(he):pt(he)}var ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(he){var Te=(he<<1|he<<11)&139536|(he<<5|he<<15)&558144;return(Te>>16|Te>>8|Te)&255}for(var we=typeof Uint8Array<"u",Me=we?new Uint8Array(256):[],Ve=0;Ve<256;++Ve)Me[Ve]=Se(Ve);function de(he,Te){var ye=Me[he&255];return Te<=8?ye>>>8-Te:(ye=ye<<8|Me[he>>8&255],Te<=16?ye>>>16-Te:(ye=ye<<8|Me[he>>16&255],ye>>>24-Te))}function dt(he,Te){var ye=Te&7,ge=Te>>>3;return(he[ge]|(ye<=6?0:he[ge+1]<<8))>>>ye&3}function K(he,Te){var ye=Te&7,ge=Te>>>3;return(he[ge]|(ye<=5?0:he[ge+1]<<8))>>>ye&7}function se(he,Te){var ye=Te&7,ge=Te>>>3;return(he[ge]|(ye<=4?0:he[ge+1]<<8))>>>ye&15}function _e(he,Te){var ye=Te&7,ge=Te>>>3;return(he[ge]|(ye<=3?0:he[ge+1]<<8))>>>ye&31}function oe(he,Te){var ye=Te&7,ge=Te>>>3;return(he[ge]|(ye<=1?0:he[ge+1]<<8))>>>ye&127}function ue(he,Te,ye){var ge=Te&7,Ae=Te>>>3,De=(1<<ye)-1,Je=he[Ae]>>>ge;return ye<8-ge||(Je|=he[Ae+1]<<8-ge,ye<16-ge)||(Je|=he[Ae+2]<<16-ge,ye<24-ge)||(Je|=he[Ae+3]<<24-ge),Je&De}function be(he,Te,ye){var ge=Te&7,Ae=Te>>>3;return ge<=5?he[Ae]|=(ye&7)<<ge:(he[Ae]|=ye<<ge&255,he[Ae+1]=(ye&7)>>8-ge),Te+3}function Be(he,Te,ye){var ge=Te&7,Ae=Te>>>3;return ye=(ye&1)<<ge,he[Ae]|=ye,Te+1}function ze(he,Te,ye){var ge=Te&7,Ae=Te>>>3;return ye<<=ge,he[Ae]|=ye&255,ye>>>=8,he[Ae+1]=ye,Te+8}function Le(he,Te,ye){var ge=Te&7,Ae=Te>>>3;return ye<<=ge,he[Ae]|=ye&255,ye>>>=8,he[Ae+1]=ye&255,he[Ae+2]=ye>>>8,Te+16}function fe(he,Te){var ye=he.length,ge=2*ye>Te?2*ye:Te+5,Ae=0;if(ye>=Te)return he;if(In){var De=XV(ge);if(he.copy)he.copy(De);else for(;Ae<he.length;++Ae)De[Ae]=he[Ae];return De}else if(we){var Je=new Uint8Array(ge);if(Je.set)Je.set(he);else for(;Ae<ye;++Ae)Je[Ae]=he[Ae];return Je}return he.length=ge,he}function ie(he){for(var Te=new Array(he),ye=0;ye<he;++ye)Te[ye]=0;return Te}function Re(he,Te,ye){var ge=1,Ae=0,De=0,Je=0,gt=0,Qe=he.length,tt=we?new Uint16Array(32):ie(32);for(De=0;De<32;++De)tt[De]=0;for(De=Qe;De<ye;++De)he[De]=0;Qe=he.length;var at=we?new Uint16Array(Qe):ie(Qe);for(De=0;De<Qe;++De)tt[Ae=he[De]]++,ge<Ae&&(ge=Ae),at[De]=0;for(tt[0]=0,De=1;De<=ge;++De)tt[De+16]=gt=gt+tt[De-1]<<1;for(De=0;De<Qe;++De)gt=he[De],gt!=0&&(at[De]=tt[gt+16]++);var Rt=0;for(De=0;De<Qe;++De)if(Rt=he[De],Rt!=0)for(gt=de(at[De],ge)>>ge-Rt,Je=(1<<ge+4-Rt)-1;Je>=0;--Je)Te[gt|Je<<Rt]=Rt&15|De<<4;return ge}var je=we?new Uint16Array(512):ie(512),it=we?new Uint16Array(32):ie(32);if(!we){for(var Ge=0;Ge<512;++Ge)je[Ge]=0;for(Ge=0;Ge<32;++Ge)it[Ge]=0}(function(){for(var he=[],Te=0;Te<32;Te++)he.push(5);Re(he,it,32);var ye=[];for(Te=0;Te<=143;Te++)ye.push(8);for(;Te<=255;Te++)ye.push(9);for(;Te<=279;Te++)ye.push(7);for(;Te<=287;Te++)ye.push(8);Re(ye,je,288)})();var Bt=(function(){for(var Te=we?new Uint8Array(32768):[],ye=0,ge=0;ye<me.length-1;++ye)for(;ge<me[ye+1];++ge)Te[ge]=ye;for(;ge<32768;++ge)Te[ge]=29;var Ae=we?new Uint8Array(259):[];for(ye=0,ge=0;ye<ce.length-1;++ye)for(;ge<ce[ye+1];++ge)Ae[ge]=ye;function De(gt,Qe){for(var tt=0;tt<gt.length;){var at=Math.min(65535,gt.length-tt),Rt=tt+at==gt.length;for(Qe.write_shift(1,+Rt),Qe.write_shift(2,at),Qe.write_shift(2,~at&65535);at-- >0;)Qe[Qe.l++]=gt[tt++]}return Qe.l}function Je(gt,Qe){for(var tt=0,at=0,Rt=we?new Uint16Array(32768):[];at<gt.length;){var Lt=Math.min(65535,gt.length-at);if(Lt<10){for(tt=be(Qe,tt,+(at+Lt==gt.length)),tt&7&&(tt+=8-(tt&7)),Qe.l=tt/8|0,Qe.write_shift(2,Lt),Qe.write_shift(2,~Lt&65535);Lt-- >0;)Qe[Qe.l++]=gt[at++];tt=Qe.l*8;continue}tt=be(Qe,tt,+(at+Lt==gt.length)+2);for(var le=0;Lt-- >0;){var Ce=gt[at];le=(le<<5^Ce)&32767;var Pe=-1,Ue=0;if((Pe=Rt[le])&&(Pe|=at&-32768,Pe>at&&(Pe-=32768),Pe<at))for(;gt[Pe+Ue]==gt[at+Ue]&&Ue<250;)++Ue;if(Ue>2){Ce=Ae[Ue],Ce<=22?tt=ze(Qe,tt,Me[Ce+1]>>1)-1:(ze(Qe,tt,3),tt+=5,ze(Qe,tt,Me[Ce-23]>>5),tt+=3);var Fe=Ce<8?0:Ce-4>>2;Fe>0&&(Le(Qe,tt,Ue-ce[Ce]),tt+=Fe),Ce=Te[at-Pe],tt=ze(Qe,tt,Me[Ce]>>3),tt-=3;var wt=Ce<4?0:Ce-2>>1;wt>0&&(Le(Qe,tt,at-Pe-me[Ce]),tt+=wt);for(var kt=0;kt<Ue;++kt)Rt[le]=at&32767,le=(le<<5^gt[at])&32767,++at;Lt-=Ue-1}else Ce<=143?Ce=Ce+48:tt=Be(Qe,tt,1),tt=ze(Qe,tt,Me[Ce]),Rt[le]=at&32767,++at}tt=ze(Qe,tt,0)-1}return Qe.l=(tt+7)/8|0,Qe.l}return function(Qe,tt){return Qe.length<8?De(Qe,tt):Je(Qe,tt)}})();function pt(he){var Te=Wi(50+Math.floor(he.length*1.1)),ye=Bt(he,Te);return Te.slice(0,ye)}var Dt=we?new Uint16Array(32768):ie(32768),Vt=we?new Uint16Array(32768):ie(32768),$e=we?new Uint16Array(128):ie(128),yt=1,jt=1;function Ne(he,Te){var ye=_e(he,Te)+257;Te+=5;var ge=_e(he,Te)+1;Te+=5;var Ae=se(he,Te)+4;Te+=4;for(var De=0,Je=we?new Uint8Array(19):ie(19),gt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Qe=1,tt=we?new Uint8Array(8):ie(8),at=we?new Uint8Array(8):ie(8),Rt=Je.length,Lt=0;Lt<Ae;++Lt)Je[ae[Lt]]=De=K(he,Te),Qe<De&&(Qe=De),tt[De]++,Te+=3;var le=0;for(tt[0]=0,Lt=1;Lt<=Qe;++Lt)at[Lt]=le=le+tt[Lt-1]<<1;for(Lt=0;Lt<Rt;++Lt)(le=Je[Lt])!=0&&(gt[Lt]=at[le]++);var Ce=0;for(Lt=0;Lt<Rt;++Lt)if(Ce=Je[Lt],Ce!=0){le=Me[gt[Lt]]>>8-Ce;for(var Pe=(1<<7-Ce)-1;Pe>=0;--Pe)$e[le|Pe<<Ce]=Ce&7|Lt<<3}var Ue=[];for(Qe=1;Ue.length<ye+ge;)switch(le=$e[oe(he,Te)],Te+=le&7,le>>>=3){case 16:for(De=3+dt(he,Te),Te+=2,le=Ue[Ue.length-1];De-- >0;)Ue.push(le);break;case 17:for(De=3+K(he,Te),Te+=3;De-- >0;)Ue.push(0);break;case 18:for(De=11+oe(he,Te),Te+=7;De-- >0;)Ue.push(0);break;default:Ue.push(le),Qe<le&&(Qe=le);break}var Fe=Ue.slice(0,ye),wt=Ue.slice(ye);for(Lt=ye;Lt<286;++Lt)Fe[Lt]=0;for(Lt=ge;Lt<30;++Lt)wt[Lt]=0;return yt=Re(Fe,Dt,286),jt=Re(wt,Vt,30),Te}function Ke(he,Te){if(he[0]==3&&!(he[1]&3))return[Z0(Te),2];for(var ye=0,ge=0,Ae=XV(Te||1<<18),De=0,Je=Ae.length>>>0,gt=0,Qe=0;(ge&1)==0;){if(ge=K(he,ye),ye+=3,ge>>>1)ge>>1==1?(gt=9,Qe=5):(ye=Ne(he,ye),gt=yt,Qe=jt);else{ye&7&&(ye+=8-(ye&7));var tt=he[ye>>>3]|he[(ye>>>3)+1]<<8;if(ye+=32,tt>0)for(!Te&&Je<De+tt&&(Ae=fe(Ae,De+tt),Je=Ae.length);tt-- >0;)Ae[De++]=he[ye>>>3],ye+=8;continue}for(;;){!Te&&Je<De+32767&&(Ae=fe(Ae,De+32767),Je=Ae.length);var at=ue(he,ye,gt),Rt=ge>>>1==1?je[at]:Dt[at];if(ye+=Rt&15,Rt>>>=4,(Rt>>>8&255)===0)Ae[De++]=Rt;else{if(Rt==256)break;Rt-=257;var Lt=Rt<8?0:Rt-4>>2;Lt>5&&(Lt=0);var le=De+ce[Rt];Lt>0&&(le+=ue(he,ye,Lt),ye+=Lt),at=ue(he,ye,Qe),Rt=ge>>>1==1?it[at]:Vt[at],ye+=Rt&15,Rt>>>=4;var Ce=Rt<4?0:Rt-2>>1,Pe=me[Rt];for(Ce>0&&(Pe+=ue(he,ye,Ce),ye+=Ce),!Te&&Je<le&&(Ae=fe(Ae,le+100),Je=Ae.length);De<le;)Ae[De]=Ae[De-Pe],++De}}}return Te?[Ae,ye+7>>>3]:[Ae.slice(0,De),ye+7>>>3]}function At(he,Te){var ye=he.slice(he.l||0),ge=Ke(ye,Te);return he.l+=ge[1],ge[0]}function Ie(he,Te){if(he)typeof console<"u"&&console.error(Te);else throw new Error(Te)}function Et(he,Te){var ye=he;ks(ye,0);var ge=[],Ae=[],De={FileIndex:ge,FullPaths:Ae};R(De,{root:Te.root});for(var Je=ye.length-4;(ye[Je]!=80||ye[Je+1]!=75||ye[Je+2]!=5||ye[Je+3]!=6)&&Je>=0;)--Je;ye.l=Je+4,ye.l+=4;var gt=ye.read_shift(2);ye.l+=6;var Qe=ye.read_shift(4);for(ye.l=Qe,Je=0;Je<gt;++Je){ye.l+=20;var tt=ye.read_shift(4),at=ye.read_shift(4),Rt=ye.read_shift(2),Lt=ye.read_shift(2),le=ye.read_shift(2);ye.l+=8;var Ce=ye.read_shift(4),Pe=o(ye.slice(ye.l+Rt,ye.l+Rt+Lt));ye.l+=Rt+Lt+le;var Ue=ye.l;ye.l=Ce+4,Ct(ye,tt,at,De,Pe),ye.l=Ue}return De}function Ct(he,Te,ye,ge,Ae){he.l+=2;var De=he.read_shift(2),Je=he.read_shift(2),gt=s(he);if(De&8257)throw new Error("Unsupported ZIP encryption");for(var Qe=he.read_shift(4),tt=he.read_shift(4),at=he.read_shift(4),Rt=he.read_shift(2),Lt=he.read_shift(2),le="",Ce=0;Ce<Rt;++Ce)le+=String.fromCharCode(he[he.l++]);if(Lt){var Pe=o(he.slice(he.l,he.l+Lt));(Pe[21589]||{}).mt&&(gt=Pe[21589].mt),((Ae||{})[21589]||{}).mt&&(gt=Ae[21589].mt)}he.l+=Lt;var Ue=he.slice(he.l,he.l+tt);switch(Je){case 8:Ue=J(he,at);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Je)}var Fe=!1;De&8&&(Qe=he.read_shift(4),Qe==134695760&&(Qe=he.read_shift(4),Fe=!0),tt=he.read_shift(4),at=he.read_shift(4)),tt!=Te&&Ie(Fe,"Bad compressed size: "+Te+" != "+tt),at!=ye&&Ie(Fe,"Bad uncompressed size: "+ye+" != "+at),Ma(ge,le,Ue,{unsafe:!0,mt:gt})}function _t(he,Te){var ye=Te||{},ge=[],Ae=[],De=Wi(1),Je=ye.compression?8:0,gt=0,Qe=0,tt=0,at=0,Rt=0,Lt=he.FullPaths[0],le=Lt,Ce=he.FileIndex[0],Pe=[],Ue=0;for(Qe=1;Qe<he.FullPaths.length;++Qe)if(le=he.FullPaths[Qe].slice(Lt.length),Ce=he.FileIndex[Qe],!(!Ce.size||!Ce.content||le=="Sh33tJ5")){var Fe=at,wt=Wi(le.length);for(tt=0;tt<le.length;++tt)wt.write_shift(1,le.charCodeAt(tt)&127);wt=wt.slice(0,wt.l),Pe[Rt]=ege.buf(Ce.content,0);var kt=Ce.content;Je==8&&(kt=ee(kt)),De=Wi(30),De.write_shift(4,67324752),De.write_shift(2,20),De.write_shift(2,gt),De.write_shift(2,Je),Ce.mt?i(De,Ce.mt):De.write_shift(4,0),De.write_shift(-4,Pe[Rt]),De.write_shift(4,kt.length),De.write_shift(4,Ce.content.length),De.write_shift(2,wt.length),De.write_shift(2,0),at+=De.length,ge.push(De),at+=wt.length,ge.push(wt),at+=kt.length,ge.push(kt),De=Wi(46),De.write_shift(4,33639248),De.write_shift(2,0),De.write_shift(2,20),De.write_shift(2,gt),De.write_shift(2,Je),De.write_shift(4,0),De.write_shift(-4,Pe[Rt]),De.write_shift(4,kt.length),De.write_shift(4,Ce.content.length),De.write_shift(2,wt.length),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(4,0),De.write_shift(4,Fe),Ue+=De.l,Ae.push(De),Ue+=wt.length,Ae.push(wt),++Rt}return De=Wi(22),De.write_shift(4,101010256),De.write_shift(2,0),De.write_shift(2,0),De.write_shift(2,Rt),De.write_shift(2,Rt),De.write_shift(4,Ue),De.write_shift(4,at),De.write_shift(2,0),b0([b0(ge),b0(Ae),De])}var vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ht(he,Te){if(he.ctype)return he.ctype;var ye=he.name||"",ge=ye.match(/\.([^\.]+)$/);return ge&&vt[ge[1]]||Te&&(ge=(ye=Te).match(/[\.\\]([^\.\\])+$/),ge&&vt[ge[1]])?vt[ge[1]]:"application/octet-stream"}function zt(he){for(var Te=YV(he),ye=[],ge=0;ge<Te.length;ge+=76)ye.push(Te.slice(ge,ge+76));return ye.join(`\r
`)+`\r
`}function Xt(he){var Te=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(tt){var at=tt.charCodeAt(0).toString(16).toUpperCase();return"="+(at.length==1?"0"+at:at)});Te=Te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Te.charAt(0)==`
`&&(Te="=0D"+Te.slice(1)),Te=Te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ye=[],ge=Te.split(`\r
`),Ae=0;Ae<ge.length;++Ae){var De=ge[Ae];if(De.length==0){ye.push("");continue}for(var Je=0;Je<De.length;){var gt=76,Qe=De.slice(Je,Je+gt);Qe.charAt(gt-1)=="="?gt--:Qe.charAt(gt-2)=="="?gt-=2:Qe.charAt(gt-3)=="="&&(gt-=3),Qe=De.slice(Je,Je+gt),Je+=gt,Je<De.length&&(Qe+="="),ye.push(Qe)}}return ye.join(`\r
`)}function wr(he){for(var Te=[],ye=0;ye<he.length;++ye){for(var ge=he[ye];ye<=he.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+he[++ye];Te.push(ge)}for(var Ae=0;Ae<Te.length;++Ae)Te[Ae]=Te[Ae].replace(/[=][0-9A-Fa-f]{2}/g,function(De){return String.fromCharCode(parseInt(De.slice(1),16))});return Hu(Te.join(`\r
`))}function Tr(he,Te,ye){for(var ge="",Ae="",De="",Je,gt=0;gt<10;++gt){var Qe=Te[gt];if(!Qe||Qe.match(/^\s*$/))break;var tt=Qe.match(/^(.*?):\s*([^\s].*)$/);if(tt)switch(tt[1].toLowerCase()){case"content-location":ge=tt[2].trim();break;case"content-type":De=tt[2].trim();break;case"content-transfer-encoding":Ae=tt[2].trim();break}}switch(++gt,Ae.toLowerCase()){case"base64":Je=Hu(ac(Te.slice(gt).join("")));break;case"quoted-printable":Je=wr(Te.slice(gt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ae)}var at=Ma(he,ge.slice(ye.length),Je,{unsafe:!0});De&&(at.ctype=De)}function On(he,Te){if(Y(he.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ye=Te&&Te.root||"",ge=(In&&Buffer.isBuffer(he)?he.toString("binary"):Y(he)).split(`\r
`),Ae=0,De="";for(Ae=0;Ae<ge.length;++Ae)if(De=ge[Ae],!!/^Content-Location:/i.test(De)&&(De=De.slice(De.indexOf("file")),ye||(ye=De.slice(0,De.lastIndexOf("/")+1)),De.slice(0,ye.length)!=ye))for(;ye.length>0&&(ye=ye.slice(0,ye.length-1),ye=ye.slice(0,ye.lastIndexOf("/")+1),De.slice(0,ye.length)!=ye););var Je=(ge[1]||"").match(/boundary="(.*?)"/);if(!Je)throw new Error("MAD cannot find boundary");var gt="--"+(Je[1]||""),Qe=[],tt=[],at={FileIndex:Qe,FullPaths:tt};R(at);var Rt,Lt=0;for(Ae=0;Ae<ge.length;++Ae){var le=ge[Ae];le!==gt&&le!==gt+"--"||(Lt++&&Tr(at,ge.slice(Rt,Ae),ye),Rt=Ae)}return at}function an(he,Te){var ye=Te||{},ge=ye.boundary||"SheetJS";ge="------="+ge;for(var Ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],De=he.FullPaths[0],Je=De,gt=he.FileIndex[0],Qe=1;Qe<he.FullPaths.length;++Qe)if(Je=he.FullPaths[Qe].slice(De.length),gt=he.FileIndex[Qe],!(!gt.size||!gt.content||Je=="Sh33tJ5")){Je=Je.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ue){return"_x"+Ue.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ue){return"_u"+Ue.charCodeAt(0).toString(16)+"_"});for(var tt=gt.content,at=In&&Buffer.isBuffer(tt)?tt.toString("binary"):Y(tt),Rt=0,Lt=Math.min(1024,at.length),le=0,Ce=0;Ce<=Lt;++Ce)(le=at.charCodeAt(Ce))>=32&&le<128&&++Rt;var Pe=Rt>=Lt*4/5;Ae.push(ge),Ae.push("Content-Location: "+(ye.root||"file:///C:/SheetJS/")+Je),Ae.push("Content-Transfer-Encoding: "+(Pe?"quoted-printable":"base64")),Ae.push("Content-Type: "+ht(gt,Je)),Ae.push(""),Ae.push(Pe?Xt(at):zt(at))}return Ae.push(ge+`--\r
`),Ae.join(`\r
`)}function as(he){var Te={};return R(Te,he),Te}function Ma(he,Te,ye,ge){var Ae=ge&&ge.unsafe;Ae||R(he);var De=!Ae&&kn.find(he,Te);if(!De){var Je=he.FullPaths[0];Te.slice(0,Je.length)==Je?Je=Te:(Je.slice(-1)!="/"&&(Je+="/"),Je=(Je+Te).replace("//","/")),De={name:a(Te),type:2},he.FileIndex.push(De),he.FullPaths.push(Je),Ae||kn.utils.cfb_gc(he)}return De.content=ye,De.size=ye?ye.length:0,ge&&(ge.CLSID&&(De.clsid=ge.CLSID),ge.mt&&(De.mt=ge.mt),ge.ct&&(De.ct=ge.ct)),De}function li(he,Te){R(he);var ye=kn.find(he,Te);if(ye){for(var ge=0;ge<he.FileIndex.length;++ge)if(he.FileIndex[ge]==ye)return he.FileIndex.splice(ge,1),he.FullPaths.splice(ge,1),!0}return!1}function ua(he,Te,ye){R(he);var ge=kn.find(he,Te);if(ge){for(var Ae=0;Ae<he.FileIndex.length;++Ae)if(he.FileIndex[Ae]==ge)return he.FileIndex[Ae].name=a(ye),he.FullPaths[Ae]=ye,!0}return!1}function is(he){I(he,!0)}return e.find=P,e.read=M,e.parse=u,e.write=re,e.writeFile=X,e.utils={cfb_new:as,cfb_add:Ma,cfb_del:li,cfb_mov:ua,cfb_gc:is,ReadShift:hw,CheckField:vee,prep_blob:ks,bconcat:b0,use_zlib:j,_deflateRaw:pt,_inflateRaw:At,consts:Z},e})();function tge(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(r);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function _h(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function I8(r){for(var e=[],t=_h(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}var SD=new Date(1899,11,30,0,0,0);function tl(r,e){var t=r.getTime(),n=SD.getTime()+(r.getTimezoneOffset()-SD.getTimezoneOffset())*6e4;return(t-n)/(1440*60*1e3)}var qQ=new Date,rge=SD.getTime()+(qQ.getTimezoneOffset()-SD.getTimezoneOffset())*6e4,t7=qQ.getTimezoneOffset();function GN(r){var e=new Date;return e.setTime(r*24*60*60*1e3+rge),e.getTimezoneOffset()!==t7&&e.setTime(e.getTime()+(e.getTimezoneOffset()-t7)*6e4),e}function nge(r){var e=0,t=0,n=!1,a=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(t=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":t*=24;case"H":t*=60;case"M":if(n)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(a[i],10)}return e}var r7=new Date("2017-02-19T19:06:09.000Z"),ZQ=isNaN(r7.getFullYear())?new Date("2/19/17"):r7,age=ZQ.getFullYear()==2017;function Ss(r,e){var t=new Date(r);if(age)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(ZQ.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var a=r.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return r.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Fm(r,e){if(In&&Buffer.isBuffer(r)){if(e){if(r[0]==255&&r[1]==254)return q2(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return q2(OQ(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(r[0]==255&&r[1]==254)return q2(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return q2(new TextDecoder("utf-16be").decode(r.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(i){return t[i]||i})}catch{}for(var n=[],a=0;a!=r.length;++a)n.push(String.fromCharCode(r[a]));return n.join("")}function Ps(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=Ps(r[t]));return e}function ti(r,e){for(var t="";t.length<e;)t+=r;return t}function qu(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return t=-t,i}),!isNaN(e=Number(n)))?e/t:e}var ige=["january","february","march","april","may","june","july","august","september","october","november","december"];function s_(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return t;var s=r.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&ige.indexOf(s)==-1)return t}else if(s.match(/[a-z]/))return t;return n<0||n>8099?t:(a>0||i>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}var sge=(function(){var r="abacaba".split(/(:?b)/i).length==5;return function(t,n,a){if(r||typeof n=="string")return t.split(n);for(var i=t.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}})();function KQ(r){return r?r.content&&r.type?Fm(r.content,!0):r.data?W2(r.data):r.asNodeBuffer&&In?W2(r.asNodeBuffer().toString("binary")):r.asBinary?W2(r.asBinary()):r._data&&r._data.getContent?W2(Fm(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function $Q(r){if(!r)return null;if(r.data)return jV(r.data);if(r.asNodeBuffer&&In)return r.asNodeBuffer();if(r._data&&r._data.getContent){var e=r._data.getContent();return typeof e=="string"?jV(e):Array.prototype.slice.call(e)}return r.content&&r.type?r.content:null}function oge(r){return r&&r.name.slice(-4)===".bin"?$Q(r):KQ(r)}function Fc(r,e){for(var t=r.FullPaths||_h(r.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<t.length;++i){var s=t[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return r.files?r.files[t[i]]:r.FileIndex[i]}return null}function L8(r,e){var t=Fc(r,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Ni(r,e,t){if(!t)return oge(L8(r,e));if(!e)return null;try{return Ni(r,e)}catch{return null}}function ql(r,e,t){if(!t)return KQ(L8(r,e));if(!e)return null;try{return ql(r,e)}catch{return null}}function lge(r,e,t){return $Q(L8(r,e))}function n7(r){for(var e=r.FullPaths||_h(r.files),t=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&t.push(e[n].replace(/^Root Entry[\/]/,""));return t.sort()}function cge(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return In?n=ny(t):n=Mve(t),kn.utils.cfb_add(r,e,n)}kn.utils.cfb_add(r,e,t)}else r.file(e,t)}function JQ(r,e){switch(e.type){case"base64":return kn.read(r,{type:"base64"});case"binary":return kn.read(r,{type:"binary"});case"buffer":case"array":return kn.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function X2(r,e){if(r.charAt(0)=="/")return r.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var n=r.split("/");n.length!==0;){var a=n.shift();a===".."?t.pop():a!=="."&&t.push(a)}return t.join("/")}var QQ=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,uge=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,a7=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,fge=/<[^>]*>/g,wo=QQ.match(a7)?a7:fge,hge=/<\w*:/,dge=/<(\/?)\w+:/;function Ur(r,e,t){for(var n={},a=0,i=0;a!==r.length&&!((i=r.charCodeAt(a))===32||i===10||i===13);++a);if(e||(n[0]=r.slice(0,a)),a===r.length)return n;var s=r.match(uge),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var d=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[d]&&u.slice(o-3,o)=="ext")continue;n[d]=l,n[d.toLowerCase()]=l}}return n}function Ch(r){return r.replace(dge,"<$1")}var eee={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},pge=I8(eee),Vn=(function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(r,function(o,l){return eee[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return t(a.slice(0,i))+a.slice(i+9,s)+t(a.slice(s+3))}})(),vge=/[&<>'"]/g,gge=/[\u0000-\u001f]/g;function O8(r){var e=r+"";return e.replace(vge,function(t){return pge[t]}).replace(/\n/g,"<br/>").replace(gge,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var i7=(function(){var r=/&#(\d+);/g;function e(t,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,e)}})();function ka(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function p4(r){for(var e="",t=0,n=0,a=0,i=0,s=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(a=r.charCodeAt(t++),n>191&&n<224){s=(n&31)<<6,s|=a&63,e+=String.fromCharCode(s);continue}if(i=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=r.charCodeAt(t++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function s7(r){var e=Z0(2*r.length),t,n,a=1,i=0,s=0,o;for(n=0;n<r.length;n+=a)a=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),a=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),a=3):(a=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,s=55296+(t>>>10&1023),t=56320+(t&1023)),s!==0&&(e[i++]=s&255,e[i++]=s>>>8,s=0),e[i++]=t%256,e[i++]=t>>>8;return e.slice(0,i).toString("ucs2")}function o7(r){return ny(r,"binary").toString("utf8")}var TM="foo bar baz",Ta=In&&(o7(TM)==p4(TM)&&o7||s7(TM)==p4(TM)&&s7)||p4,q2=In?function(r){return ny(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,a=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},eT=(function(){var r={};return function(t,n){var a=t+"|"+(n||"");return r[a]?r[a]:r[a]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}})(),tee=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<r.length;++a)n=n.replace(r[a][0],r[a][1]);return n}})(),mge=(function(){var r={};return function(t){return r[t]!==void 0?r[t]:r[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}})(),yge=/<\/?(?:vt:)?variant>/g,xge=/<(?:vt:)([^>]*)>([\s\S]*)</;function l7(r,e){var t=Ur(r),n=r.match(mge(t.baseType))||[],a=[];if(n.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+t.size);return a}return n.forEach(function(i){var s=i.replace(yge,"").match(xge);s&&a.push({v:Ta(s[2]),t:s[1]})}),a}var _ge=/(^\s|\s$|\n)/;function bge(r){return _h(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function Sge(r,e,t){return"<"+r+(t!=null?bge(t):"")+(e!=null?(e.match(_ge)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function k8(r){if(In&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return Ta(ay(D8(r)));throw new Error("Bad input format: expected Buffer or string")}var tT=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,wge={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Tge=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Age(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),a=r[e+6]&15,i=5;i>=0;--i)a=a*256+r[e+i];return n==2047?a==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),t*Math.pow(2,n-52)*a)}function Ege(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,s=n?-e:e;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)r[t+o]=i&255;r[t+6]=(a&15)<<4|i&15,r[t+7]=a>>4|n}var c7=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var a=0,i=r[0][n].length;a<i;a+=t)e.push.apply(e,r[0][n].slice(a,a+t));return e},u7=In?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:ny(e)})):c7(r)}:c7,f7=function(r,e,t){for(var n=[],a=e;a<t;a+=2)n.push(String.fromCharCode(Ld(r,a)));return n.join("").replace(Jo,"")},P8=In?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(Jo,""):f7(r,e,t)}:f7,h7=function(r,e,t){for(var n=[],a=e;a<e+t;++a)n.push(("0"+r[a].toString(16)).slice(-2));return n.join("")},ree=In?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):h7(r,e,t)}:h7,d7=function(r,e,t){for(var n=[],a=e;a<t;a++)n.push(String.fromCharCode(R1(r,a)));return n.join("")},cA=In?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):d7(e,t,n)}:d7,nee=function(r,e){var t=Xl(r,e);return t>0?cA(r,e+4,e+4+t-1):""},aee=nee,iee=function(r,e){var t=Xl(r,e);return t>0?cA(r,e+4,e+4+t-1):""},see=iee,oee=function(r,e){var t=2*Xl(r,e);return t>0?cA(r,e+4,e+4+t-1):""},lee=oee,cee=function(e,t){var n=Xl(e,t);return n>0?P8(e,t+4,t+4+n):""},uee=cee,fee=function(r,e){var t=Xl(r,e);return t>0?cA(r,e+4,e+4+t):""},hee=fee,dee=function(r,e){return Age(r,e)},wD=dee,pee=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};In&&(aee=function(e,t){if(!Buffer.isBuffer(e))return nee(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},see=function(e,t){if(!Buffer.isBuffer(e))return iee(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},lee=function(e,t){if(!Buffer.isBuffer(e))return oee(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},uee=function(e,t){if(!Buffer.isBuffer(e))return cee(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},hee=function(e,t){if(!Buffer.isBuffer(e))return fee(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},wD=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):dee(e,t)},pee=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var R1=function(r,e){return r[e]},Ld=function(r,e){return r[e+1]*256+r[e]},Mge=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Xl=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},om=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},Cge=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function hw(r,e){var t="",n,a,i=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,In&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(l=0;l<r;++l)t+=String.fromCharCode(Ld(this,c)),c+=2;r*=2;break;case"utf8":t=cA(this,this.l,this.l+r);break;case"utf16le":r*=2,t=P8(this,this.l,this.l+r);break;case"wstr":return hw.call(this,r,"dbcs");case"lpstr-ansi":t=aee(this,this.l),r=4+Xl(this,this.l);break;case"lpstr-cp":t=see(this,this.l),r=4+Xl(this,this.l);break;case"lpwstr":t=lee(this,this.l),r=4+2*Xl(this,this.l);break;case"lpp4":r=4+Xl(this,this.l),t=uee(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Xl(this,this.l),t=hee(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(s=R1(this,this.l+r++))!==0;)i.push(wM(s));t=i.join("");break;case"_wstr":for(r=0,t="";(s=Ld(this,this.l+r))!==0;)i.push(wM(s)),r+=2;r+=2,t=i.join("");break;case"dbcs-cont":for(t="",c=this.l,l=0;l<r;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=R1(this,c),this.l=c+1,o=hw.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(wM(Ld(this,c))),c+=2}t=i.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",c=this.l,l=0;l!=r;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=R1(this,c),this.l=c+1,o=hw.call(this,r-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(wM(R1(this,c))),c+=1}t=i.join("");break;default:switch(r){case 1:return n=R1(this,this.l),this.l++,n;case 2:return n=(e==="i"?Mge:Ld)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(r>0?om:Cge)(this,this.l),this.l+=4,n):(a=Xl(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return r==8?a=wD(this,this.l):a=wD([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;r=8;case 16:t=ree(this,this.l,r);break}}return this.l+=r,t}var Dge=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},Rge=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},Nge=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function Ige(r,e,t){var n=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)Nge(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(t==="hex"){for(;a<r;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var i=Math.min(this.l+r,this.length);for(a=0;a<Math.min(e.length,r);++a){var s=e.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,Dge(this,e,this.l);break;case 8:if(n=8,t==="f"){Ege(this,e,this.l);break}case 16:break;case-4:n=4,Rge(this,e,this.l);break}return this.l+=n,this}function vee(r,e){var t=ree(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function ks(r,e){r.l=e,r.read_shift=hw,r.chk=vee,r.write_shift=Ige}function So(r,e){r.l+=e}function Wi(r){var e=Z0(r);return ks(e,0),e}function cp(r,e,t){if(r){var n,a,i;ks(r,r.l||0);for(var s=r.length,o=0,l=0;r.l<s;){o=r.read_shift(1),o&128&&(o=(o&127)+((r.read_shift(1)&127)<<7));var c=DD[o]||DD[65535];for(n=r.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=r.read_shift(1))&127)<<7*a;l=r.l+i;var u=c.f&&c.f(r,i,t);if(r.l=l,e(u,c,o))return}}}function yP(){var r=[],e=In?256:2048,t=function(c){var u=Wi(c);return ks(u,0),u},n=t(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=t(Math.max(c+1,e)))},s=function(){return a(),b0(r)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:o,end:s,_bufs:r}}function dw(r,e,t){var n=Ps(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function p7(r,e,t){var n=Ps(r);return n.s=dw(n.s,e.s,t),n.e=dw(n.e,e.s,t),n}function pw(r,e){if(r.cRel&&r.c<0)for(r=Ps(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=Ps(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Zr(r);return!r.cRel&&r.cRel!=null&&(t=kge(t)),!r.rRel&&r.rRel!=null&&(t=Lge(t)),t}function v4(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+qi(r.s.c)+":"+(r.e.cRel?"":"$")+qi(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+Bs(r.s.r)+":"+(r.e.rRel?"":"$")+Bs(r.e.r):pw(r.s,e.biff)+":"+pw(r.e,e.biff)}function B8(r){return parseInt(Oge(r),10)-1}function Bs(r){return""+(r+1)}function Lge(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Oge(r){return r.replace(/\$(\d+)$/,"$1")}function z8(r){for(var e=Pge(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function qi(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function kge(r){return r.replace(/^([A-Z])/,"$$$1")}function Pge(r){return r.replace(/^\$([A-Z])/,"$1")}function Bge(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $o(r){for(var e=0,t=0,n=0;n<r.length;++n){var a=r.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function Zr(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function H_(r){var e=r.indexOf(":");return e==-1?{s:$o(r),e:$o(r)}:{s:$o(r.slice(0,e)),e:$o(r.slice(e+1))}}function Pn(r,e){return typeof e>"u"||typeof e=="number"?Pn(r.s,r.e):(typeof r!="string"&&(r=Zr(r)),typeof e!="string"&&(e=Zr(e)),r==e?r:r+":"+e)}function si(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,a=0,i=r.length;for(t=0;n<i&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.s.c=--t,t=0;n<i&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;if(e.s.r=--t,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=i&&!((a=r.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(e.e.c=--t,t=0;n!=i&&!((a=r.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;return e.e.r=--t,e}function v7(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=ic(r.z,t?tl(e):e)}catch{}try{return r.w=ic((r.XF||{}).numFmtId||(t?14:0),t?tl(e):e)}catch{return""+e}}function Kd(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?ly[r.v]||r.v:e==null?v7(r,r.v):v7(r,e))}function lv(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function gee(r,e,t){var n=t||{},a=r?Array.isArray(r):n.dense,i=r||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?$o(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=si(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[f].length;++h)if(!(typeof e[f][h]>"u")){var d={v:e[f][h]},v=s+f,g=o+h;if(c.s.r>v&&(c.s.r=v),c.s.c>g&&(c.s.c=g),c.e.r<v&&(c.e.r=v),c.e.c<g&&(c.e.c=g),e[f][h]&&typeof e[f][h]=="object"&&!Array.isArray(e[f][h])&&!(e[f][h]instanceof Date))d=e[f][h];else if(Array.isArray(d.v)&&(d.f=e[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||qr[14],n.cellDates?(d.t="d",d.w=ic(d.z,tl(d.v))):(d.t="n",d.v=tl(d.v),d.w=ic(d.z,d.v))):d.t="s";if(a)i[v]||(i[v]=[]),i[v][g]&&i[v][g].z&&(d.z=i[v][g].z),i[v][g]=d;else{var m=Zr({c:g,r:v});i[m]&&i[m].z&&(d.z=i[m].z),i[m]=d}}}return c.s.c<1e7&&(i["!ref"]=Pn(c)),i}function G_(r,e){return gee(null,r,e)}function zge(r){return r.read_shift(4,"i")}function mo(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function Fge(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function F8(r,e){var t=r.l,n=r.read_shift(1),a=mo(r),i=[],s={t:a,h:a};if((n&1)!==0){for(var o=r.read_shift(4),l=0;l!=o;++l)i.push(Fge(r));s.r=i}else s.r=[{ich:0,ifnt:0}];return r.l=t+e,s}var Uge=F8;function ru(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function sy(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}var Vge=mo;function U8(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}var Hge=mo,xP=U8;function V8(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var a=n===0?wD([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):om(e,0)>>2;return t?a/100:a}function mee(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}var oy=mee;function po(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Gge(r){var e={},t=r.read_shift(1),n=t>>>1,a=r.read_shift(1),i=r.read_shift(2,"i"),s=r.read_shift(1),o=r.read_shift(1),l=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var c=Em[a];c&&(e.rgb=nT(c));break;case 2:e.rgb=nT([s,o,l]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function jge(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function yee(r,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return t[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,e==1?"lpstr":"lpwstr")}function Wge(r){return yee(r,1)}function Yge(r){return yee(r,2)}var H8=2,xl=3,AM=11,g7=12,TD=19,EM=64,Xge=65,qge=71,Zge=4108,Kge=4126,ys=80,xee=81,$ge=[ys,xee],Jge={1:{n:"CodePage",t:H8},2:{n:"Category",t:ys},3:{n:"PresentationFormat",t:ys},4:{n:"ByteCount",t:xl},5:{n:"LineCount",t:xl},6:{n:"ParagraphCount",t:xl},7:{n:"SlideCount",t:xl},8:{n:"NoteCount",t:xl},9:{n:"HiddenCount",t:xl},10:{n:"MultimediaClipCount",t:xl},11:{n:"ScaleCrop",t:AM},12:{n:"HeadingPairs",t:Zge},13:{n:"TitlesOfParts",t:Kge},14:{n:"Manager",t:ys},15:{n:"Company",t:ys},16:{n:"LinksUpToDate",t:AM},17:{n:"CharacterCount",t:xl},19:{n:"SharedDoc",t:AM},22:{n:"HyperlinksChanged",t:AM},23:{n:"AppVersion",t:xl,p:"version"},24:{n:"DigSig",t:Xge},26:{n:"ContentType",t:ys},27:{n:"ContentStatus",t:ys},28:{n:"Language",t:ys},29:{n:"Version",t:ys},255:{},2147483648:{n:"Locale",t:TD},2147483651:{n:"Behavior",t:TD},1919054434:{}},Qge={1:{n:"CodePage",t:H8},2:{n:"Title",t:ys},3:{n:"Subject",t:ys},4:{n:"Author",t:ys},5:{n:"Keywords",t:ys},6:{n:"Comments",t:ys},7:{n:"Template",t:ys},8:{n:"LastAuthor",t:ys},9:{n:"RevNumber",t:ys},10:{n:"EditTime",t:EM},11:{n:"LastPrinted",t:EM},12:{n:"CreatedDate",t:EM},13:{n:"ModifiedDate",t:EM},14:{n:"PageCount",t:xl},15:{n:"WordCount",t:xl},16:{n:"CharCount",t:xl},17:{n:"Thumbnail",t:qge},18:{n:"Application",t:ys},19:{n:"DocSecurity",t:xl},255:{},2147483648:{n:"Locale",t:TD},2147483651:{n:"Behavior",t:TD},1919054434:{}},m7={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},eme=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function tme(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var rme=tme([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Em=Ps(rme),ly={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_ee={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},y7={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function nme(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function ame(r){var e=nme();if(!r||!r.match)return e;var t={};if((r.match(wo)||[]).forEach(function(n){var a=Ur(n);switch(a[0].replace(hge,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[a.Extension]=a.ContentType;break;case"<Override":e[y7[a.ContentType]]!==void 0&&e[y7[a.ContentType]].push(a.PartName);break}}),e.xmlns!==wge.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}var P1={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _P(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function vw(r,e){var t={"!id":{}};if(!r)return t;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(r.match(wo)||[]).forEach(function(a){var i=Ur(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:X2(i.Target,e);t[o]=s,n[i.Id]=s}}),t["!id"]=n,t}var ime="application/vnd.oasis.opendocument.spreadsheet";function sme(r,e){for(var t=k8(r),n,a;n=tT.exec(t);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Ur(n[0],!1),a.path=="/"&&a.type!==ime)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var gw=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ome=(function(){for(var r=new Array(gw.length),e=0;e<gw.length;++e){var t=gw[e],n="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);r[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r})();function bee(r){var e={};r=Ta(r);for(var t=0;t<gw.length;++t){var n=gw[t],a=r.match(ome[t]);a!=null&&a.length>0&&(e[n[1]]=Vn(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ss(e[n[1]]))}return e}var lme=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function See(r,e,t,n){var a=[];if(typeof r=="string")a=l7(r,n);else for(var i=0;i<r.length;++i)a=a.concat(r[i].map(function(u){return{v:u}}));var s=typeof e=="string"?l7(e,n).map(function(u){return u.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=l,t.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=l,t.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":t.Chartsheets=l,t.ChartNames=s.slice(o,o+l);break}o+=l}}function cme(r,e,t){var n={};return e||(e={}),r=Ta(r),lme.forEach(function(a){var i=(r.match(eT(a[0]))||[])[1];switch(a[2]){case"string":i&&(e[a[1]]=Vn(i));break;case"bool":e[a[1]]=i==="true";break;case"raw":var s=r.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&See(n.HeadingPairs,n.TitlesOfParts,e,t),e}var ume=/<[^>]+>[^<]*/g;function fme(r,e){var t={},n="",a=r.match(ume);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Ur(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Vn(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":t[n]=Vn(u);break;case"bool":t[n]=ka(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":t[n]=parseFloat(u);break;case"filetime":case"date":t[n]=Ss(u);break;case"cy":case"error":t[n]=Vn(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return t}var hme={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},g4;function dme(r,e,t){g4||(g4=I8(hme)),e=g4[e]||e,r[e]=t}function G8(r){var e=r.read_shift(4),t=r.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function wee(r,e,t){var n=r.l,a=r.read_shift(0,"lpstr-cp");if(t)for(;r.l-n&3;)++r.l;return a}function Tee(r,e,t){var n=r.read_shift(0,"lpwstr");return n}function Aee(r,e,t){return e===31?Tee(r):wee(r,e,t)}function bP(r,e,t){return Aee(r,e,t===!1?0:4)}function pme(r,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Aee(r,e,0)}function vme(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n){var a=r.l;t[n]=r.read_shift(0,"lpwstr").replace(Jo,""),r.l-a&2&&(r.l+=2)}return t}function gme(r){for(var e=r.read_shift(4),t=[],n=0;n!=e;++n)t[n]=r.read_shift(0,"lpstr-cp").replace(Jo,"");return t}function mme(r){var e=r.l,t=AD(r,xee);r[r.l]==0&&r[r.l+1]==0&&r.l-e&2&&(r.l+=2);var n=AD(r,xl);return[t,n]}function yme(r){for(var e=r.read_shift(4),t=[],n=0;n<e/2;++n)t.push(mme(r));return t}function x7(r,e){for(var t=r.read_shift(4),n={},a=0;a!=t;++a){var i=r.read_shift(4),s=r.read_shift(4);n[i]=r.read_shift(s,e===1200?"utf16le":"utf8").replace(Jo,"").replace(Y2,"!"),e===1200&&s%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function Eee(r){var e=r.read_shift(4),t=r.slice(r.l,r.l+e);return r.l+=e,(e&3)>0&&(r.l+=4-(e&3)&3),t}function xme(r){var e={};return e.Size=r.read_shift(4),r.l+=e.Size+3-(e.Size-1)%4,e}function AD(r,e,t){var n=r.read_shift(2),a,i=t||{};if(r.l+=2,e!==g7&&n!==e&&$ge.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===g7?n:e){case 2:return a=r.read_shift(2,"i"),i.raw||(r.l+=2),a;case 3:return a=r.read_shift(4,"i"),a;case 11:return r.read_shift(4)!==0;case 19:return a=r.read_shift(4),a;case 30:return wee(r,n,4).replace(Jo,"");case 31:return Tee(r);case 64:return G8(r);case 65:return Eee(r);case 71:return xme(r);case 80:return bP(r,n,!i.raw).replace(Jo,"");case 81:return pme(r,n).replace(Jo,"");case 4108:return yme(r);case 4126:case 4127:return n==4127?vme(r):gme(r);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function _7(r,e){var t=r.l,n=r.read_shift(4),a=r.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=r.read_shift(4),f=r.read_shift(4);i[s]=[u,f+t]}i.sort(function(b,S){return b[1]-S[1]});var h={};for(s=0;s!=a;++s){if(r.l!==i[s][1]){var d=!0;if(s>0&&e)switch(e[i[s-1][0]].t){case 2:r.l+2===i[s][1]&&(r.l+=2,d=!1);break;case 80:r.l<=i[s][1]&&(r.l=i[s][1],d=!1);break;case 4108:r.l<=i[s][1]&&(r.l=i[s][1],d=!1);break}if((!e||s==0)&&r.l<=i[s][1]&&(d=!1,r.l=i[s][1]),d)throw new Error("Read Error: Expected address "+i[s][1]+" at "+r.l+" :"+s)}if(e){var v=e[i[s][0]];if(h[v.n]=AD(r,v.t,{raw:!0}),v.p==="version"&&(h[v.n]=String(h[v.n]>>16)+"."+("0000"+String(h[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(h[v.n]){case 0:h[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Gu(o=h[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[v.n])}}else if(i[s][0]===1){if(o=h.CodePage=AD(r,H8),Gu(o),l!==-1){var g=r.l;r.l=i[l][1],c=x7(r,o),r.l=g}}else if(i[s][0]===0){if(o===0){l=s,r.l=i[s+1][1];continue}c=x7(r,o)}else{var m=c[i[s][0]],y;switch(r[r.l]){case 65:r.l+=4,y=Eee(r);break;case 30:r.l+=4,y=bP(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,y=bP(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,y=r.read_shift(4,"i");break;case 19:r.l+=4,y=r.read_shift(4);break;case 5:r.l+=4,y=r.read_shift(8,"f");break;case 11:r.l+=4,y=gi(r,4);break;case 64:r.l+=4,y=Ss(G8(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[m]=y}}return r.l=t+n,h}function b7(r,e,t){var n=r.content;if(!n)return{};ks(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==kn.utils.consts.HEADER_CLSID&&u!==t)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=_7(n,e),h={SystemIdentifier:c};for(var d in f)h[d]=f[d];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var v;try{v=_7(n,null)}catch{}for(d in v)h[d]=v[d];return h.FMTID=[i,s],h}function $p(r,e){return r.read_shift(e),null}function _me(r,e,t){for(var n=[],a=r.l+e;r.l<a;)n.push(t(r,a-r.l));if(a!==r.l)throw new Error("Slurp error");return n}function gi(r,e){return r.read_shift(e)===1}function Ii(r){return r.read_shift(2,"u")}function Mee(r,e){return _me(r,e,Ii)}function bme(r){var e=r.read_shift(1),t=r.read_shift(1);return t===1?e:e===1}function uA(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var i=r.read_shift(1);i&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var s=n?r.read_shift(n,a):"";return s}function Sme(r){var e=r.read_shift(2),t=r.read_shift(1),n=t&4,a=t&8,i=1+(t&1),s=0,o,l={};a&&(s=r.read_shift(2)),n&&(o=r.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=e===0?"":r.read_shift(e,c);return a&&(r.l+=4*s),n&&(r.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Um(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var a=r.read_shift(1);return a===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function fA(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):Um(r,n,t)}function cy(r,e,t){if(t.biff>5)return fA(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function wme(r){var e=r.read_shift(1);r.l++;var t=r.read_shift(2);return r.l+=2,[e,t]}function Tme(r){var e=r.read_shift(4),t=r.l,n=!1;e>24&&(r.l+=e-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=t);var a=r.read_shift((n?e-24:e)>>1,"utf16le").replace(Jo,"");return n&&(r.l+=24),a}function Ame(r){for(var e=r.read_shift(2),t="";e-- >0;)t+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=r.read_shift(4);if(a===0)return t+n.replace(/\\/g,"/");var i=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=r.read_shift(i>>1,"utf16le").replace(Jo,"");return t+s}function Eme(r,e){var t=r.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return Tme(r);case"0303000000000000c000000000000046":return Ame(r);default:throw new Error("Unsupported Moniker "+t)}}function MM(r){var e=r.read_shift(4),t=e>0?r.read_shift(e,"utf16le").replace(Jo,""):"";return t}function Mme(r,e){var t=r.l+e,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=r.read_shift(2);r.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=MM(r,t-r.l)),a&128&&(s=MM(r,t-r.l)),(a&257)===257&&(o=MM(r,t-r.l)),(a&257)===1&&(l=Eme(r,t-r.l)),a&8&&(c=MM(r,t-r.l)),a&32&&(u=r.read_shift(16)),a&64&&(f=G8(r)),r.l=t;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),f&&(d.time=f),i&&(d.Tooltip=i),d}function Cee(r){var e=r.read_shift(1),t=r.read_shift(1),n=r.read_shift(1),a=r.read_shift(1);return[e,t,n,a]}function Dee(r,e){var t=Cee(r);return t[3]=0,t}function Dh(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return{r:e,c:t,ixfe:n}}function Cme(r){var e=r.read_shift(2),t=r.read_shift(2);return r.l+=8,{type:e,flags:t}}function Dme(r,e,t){return e===0?"":cy(r,e,t)}function Rme(r,e,t){var n=t.biff>8?4:2,a=r.read_shift(n),i=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[a,i,s]}function Ree(r){var e=r.read_shift(2),t=V8(r);return[e,t]}function Nme(r,e,t){r.l+=4,e-=4;var n=r.l+e,a=uA(r,e,t),i=r.read_shift(2);if(n-=r.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return r.l+=i,a}function jN(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),a=r.read_shift(2);return{s:{c:n,r:e},e:{c:a,r:t}}}function Nee(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(1),a=r.read_shift(1);return{s:{c:n,r:e},e:{c:a,r:t}}}var Ime=Nee;function Iee(r){r.l+=4;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[t,e,n]}function Lme(r){var e={};return r.l+=4,r.l+=16,e.fSharedNote=r.read_shift(2),r.l+=4,e}function Ome(r){var e={};return r.l+=4,r.cf=r.read_shift(2),e}function no(r){r.l+=2,r.l+=r.read_shift(2)}var kme={0:no,4:no,5:no,6:no,7:Ome,8:no,9:no,10:no,11:no,12:no,13:Lme,14:no,15:no,16:no,17:no,18:no,19:no,20:no,21:Iee};function Pme(r,e){for(var t=r.l+e,n=[];r.l<t;){var a=r.read_shift(2);r.l-=2;try{n.push(kme[a](r,t-r.l))}catch{return r.l=t,n}}return r.l!=t&&(r.l=t),n}function CM(r,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=r.read_shift(2),e-=2,e>=2&&(t.dt=r.read_shift(2),r.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return r.read_shift(e),t}function Bme(r,e){return e===0||r.read_shift(2),1200}function zme(r,e,t){if(t.enc)return r.l+=e,"";var n=r.l,a=cy(r,0,t);return r.read_shift(e+n-r.l),a}function Fme(r,e,t){var n=t&&t.biff==8||e==2?r.read_shift(2):(r.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Ume(r,e,t){var n=r.read_shift(4),a=r.read_shift(1)&3,i=r.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=uA(r,0,t);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Vme(r,e){for(var t=r.l+e,n=r.read_shift(4),a=r.read_shift(4),i=[],s=0;s!=a&&r.l<t;++s)i.push(Sme(r));return i.Count=n,i.Unique=a,i}function Hme(r,e){var t={};return t.dsst=r.read_shift(2),r.l+=e-2,t}function Gme(r){var e={};e.r=r.read_shift(2),e.c=r.read_shift(2),e.cnt=r.read_shift(2)-e.c;var t=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=t/20),e}function jme(r){var e=Cme(r);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=r.read_shift(4);return t!==0}function Wme(r){return r.read_shift(2),r.read_shift(4)}function S7(r,e,t){var n=0;t&&t.biff==2||(n=r.read_shift(2));var a=r.read_shift(2);t&&t.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Yme(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),a=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),o=r.read_shift(2),l=r.read_shift(2),c=r.read_shift(2);return{Pos:[e,t],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Xme(r,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function qme(){}function Zme(r,e,t){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=uA(r,0,t),n}function Kme(r){var e=Dh(r);return e.isst=r.read_shift(4),e}function $me(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=r.l+e,a=Dh(r);t.biff==2&&r.l++;var i=fA(r,n-r.l,t);return a.val=i,a}function Jme(r,e,t){var n=r.read_shift(2),a=cy(r,0,t);return[n,a]}var Qme=cy;function w7(r,e,t){var n=r.l+e,a=t.biff==8||!t.biff?4:2,i=r.read_shift(a),s=r.read_shift(a),o=r.read_shift(2),l=r.read_shift(2);return r.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function eye(r){var e=r.read_shift(2),t=r.read_shift(2),n=Ree(r);return{r:e,c:t,ixfe:n[0],rknum:n[1]}}function tye(r,e){for(var t=r.l+e-2,n=r.read_shift(2),a=r.read_shift(2),i=[];r.l<t;)i.push(Ree(r));if(r.l!==t)throw new Error("MulRK read error");var s=r.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function rye(r,e){for(var t=r.l+e-2,n=r.read_shift(2),a=r.read_shift(2),i=[];r.l<t;)i.push(r.read_shift(2));if(r.l!==t)throw new Error("MulBlank read error");var s=r.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function nye(r,e,t,n){var a={},i=r.read_shift(4),s=r.read_shift(4),o=r.read_shift(4),l=r.read_shift(2);return a.patternType=eme[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function aye(r,e,t){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=nye(r,e,n.fStyle,t),n}function iye(r){r.l+=4;var e=[r.read_shift(2),r.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function T7(r,e,t){var n=Dh(r);(t.biff==2||e==9)&&++r.l;var a=bme(r);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function sye(r,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var n=Dh(r),a=po(r);return n.val=a,n}var A7=Dme;function oye(r,e,t){var n=r.l+e,a=r.read_shift(2),i=r.read_shift(2);if(t.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Um(r,i),o=[];n>r.l;)o.push(fA(r));return[i,a,s,o]}function E7(r,e,t){var n=r.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return t.sbcch===14849&&(a=Nme(r,e-2,t)),i.body=a||r.read_shift(e-2),typeof a=="string"&&(i.Name=a),i}var lye=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function M7(r,e,t){var n=r.l+e,a=r.read_shift(2),i=r.read_shift(1),s=r.read_shift(1),o=r.read_shift(t&&t.biff==2?1:2),l=0;(!t||t.biff>=5)&&(t.biff!=5&&(r.l+=2),l=r.read_shift(2),t.biff==5&&(r.l+=2),r.l+=4);var c=Um(r,s,t);a&32&&(c=lye[c.charCodeAt(0)]);var u=n-r.l;t&&t.biff==2&&--u;var f=n==r.l||o===0||!(u>0)?[]:G_e(r,u,t,o);return{chKey:i,Name:c,itab:l,rgce:f}}function Lee(r,e,t){if(t.biff<8)return cye(r,e,t);for(var n=[],a=r.l+e,i=r.read_shift(t.biff>8?4:2);i--!==0;)n.push(Rme(r,t.biff>8?12:6,t));if(r.l!=a)throw new Error("Bad ExternSheet: "+r.l+" != "+a);return n}function cye(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=uA(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function uye(r,e,t){if(t.biff<8){r.l+=e;return}var n=r.read_shift(2),a=r.read_shift(2),i=Um(r,n,t),s=Um(r,a,t);return[i,s]}function fye(r,e,t){var n=Nee(r);r.l++;var a=r.read_shift(1);return e-=8,[j_e(r,e,t),a,n]}function C7(r,e,t){var n=Ime(r);switch(t.biff){case 2:r.l++,e-=7;break;case 3:case 4:r.l+=2,e-=8;break;default:r.l+=6,e-=12}return[n,V_e(r,e,t)]}function hye(r){var e=r.read_shift(4)!==0,t=r.read_shift(4)!==0,n=r.read_shift(4);return[e,t,n]}function dye(r,e,t){if(!(t.biff<8)){var n=r.read_shift(2),a=r.read_shift(2),i=r.read_shift(2),s=r.read_shift(2),o=cy(r,0,t);return t.biff<8&&r.read_shift(1),[{r:n,c:a},o,s,i]}}function pye(r,e,t){return dye(r,e,t)}function vye(r,e){for(var t=[],n=r.read_shift(2);n--;)t.push(jN(r));return t}function gye(r,e,t){if(t&&t.biff<8)return yye(r,e,t);var n=Iee(r),a=Pme(r,e-22,n[1]);return{cmo:n,ft:a}}var mye={8:function(r,e){var t=r.l+e;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var a=r.read_shift(1);return r.l+=a,r.l=t,{fmt:n}}};function yye(r,e,t){r.l+=4;var n=r.read_shift(2),a=r.read_shift(2),i=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,e-=36;var s=[];return s.push((mye[n]||So)(r,e,t)),{cmo:[a,n,i],ft:s}}function xye(r,e,t){var n=r.l,a="";try{r.l+=4;var i=(t.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?r.l+=6:s=wme(r,6,t);var o=r.read_shift(2);r.read_shift(2),Ii(r,2);var l=r.read_shift(2);r.l+=l;for(var c=1;c<r.lens.length-1;++c){if(r.l-n!=r.lens[c])throw new Error("TxO: bad continue record");var u=r[r.l],f=Um(r,r.lens[c+1]-r.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return r.l=n+e,{t:a}}catch{return r.l=n+e,{t:a}}}function _ye(r,e){var t=jN(r);r.l+=16;var n=Mme(r,e-24);return[t,n]}function bye(r,e){r.read_shift(2);var t=jN(r),n=r.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Jo,""),[t,n]}function Sye(r){var e=[0,0],t;return t=r.read_shift(2),e[0]=m7[t]||t,t=r.read_shift(2),e[1]=m7[t]||t,e}function wye(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(Dee(r));return t}function Tye(r){for(var e=r.read_shift(2),t=[];e-- >0;)t.push(Dee(r));return t}function Aye(r){r.l+=2;var e={cxfs:0,crc:0};return e.cxfs=r.read_shift(2),e.crc=r.read_shift(4),e}function Oee(r,e,t){if(!t.cellStyles)return So(r,e);var n=t&&t.biff>=12?4:2,a=r.read_shift(n),i=r.read_shift(n),s=r.read_shift(n),o=r.read_shift(n),l=r.read_shift(2);n==2&&(r.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(c.level=l>>8&7),c}function Eye(r,e){var t={};return e<32||(r.l+=16,t.header=po(r),t.footer=po(r),r.l+=2),t}function Mye(r,e,t){var n={area:!1};if(t.biff!=5)return r.l+=e,n;var a=r.read_shift(1);return r.l+=3,a&16&&(n.area=!0),n}var Cye=Dh,Dye=Mee,Rye=fA;function Nye(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),a={fmt:e,env:t,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,a}function Iye(r,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var n=Dh(r);++r.l;var a=cy(r,e-7,t);return n.t="str",n.val=a,n}function Lye(r){var e=Dh(r);++r.l;var t=po(r);return e.t="n",e.val=t,e}function Oye(r){var e=Dh(r);++r.l;var t=r.read_shift(2);return e.t="n",e.val=t,e}function kye(r){var e=r.read_shift(1);return e===0?(r.l++,""):r.read_shift(e,"sbcs-cont")}function Pye(r,e){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=e-13}function Bye(r,e,t){var n=r.l+e,a=Dh(r),i=r.read_shift(2),s=Um(r,i,t);return r.l=n,a.t="str",a.val=s,a}var zye=[2,3,48,49,131,139,140,245],D7=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=I8({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var c=[],u=Z0(1);switch(l.type){case"base64":u=Hu(ac(o));break;case"binary":u=Hu(o);break;case"buffer":case"array":u=o;break}ks(u,0);var f=u.read_shift(1),h=!!(f&136),d=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,m=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(m=u.read_shift(2));var y=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=r[u[u.l]]),u.l+=1,u.l+=2),v&&(u.l+=36);for(var S=[],A={},E=Math.min(u.length,f==2?521:m-10-(d?264:0)),M=v?32:11;u.l<E&&u[u.l]!=13;)switch(A={},A.name=Jw.utils.decode(b,u.slice(u.l,u.l+M)).replace(/[\u0000\r\n].*$/g,""),u.l+=M,A.type=String.fromCharCode(u.read_shift(1)),f!=2&&!v&&(A.offset=u.read_shift(4)),A.len=u.read_shift(1),f==2&&(A.offset=u.read_shift(2)),A.dec=u.read_shift(1),A.name.length&&S.push(A),f!=2&&(u.l+=v?13:14),A.type){case"B":(!d||A.len!=8)&&l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(u[u.l]!==13&&(u.l=m-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=m;var R=0,L=0;for(c[0]=[],L=0;L!=S.length;++L)c[0][L]=S[L].name;for(;g-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++R]=[],L=0,L=0;L!=S.length;++L){var I=u.slice(u.l,u.l+S[L].len);u.l+=S[L].len,ks(I,0);var O=Jw.utils.decode(b,I);switch(S[L].type){case"C":O.trim().length&&(c[R][L]=O.replace(/\s+$/,""));break;case"D":O.length===8?c[R][L]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):c[R][L]=O;break;case"F":c[R][L]=parseFloat(O.trim());break;case"+":case"I":c[R][L]=v?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":c[R][L]=!0;break;case"N":case"F":c[R][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[R][L]="##MEMO##"+(v?parseInt(O.trim(),10):I.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(c[R][L]=+O||0);break;case"@":c[R][L]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":c[R][L]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":c[R][L]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[R][L]=-I.read_shift(-8,"f");break;case"B":if(d&&S[L].len==8){c[R][L]=I.read_shift(8,"f");break}case"G":case"P":I.l+=S[L].len;break;case"0":if(S[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+S[L].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=S,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=G_(t(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return lv(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Gu(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=yP(),f=CP(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),v=o["!cols"]||[],g=0,m=0,y=0,b=1;for(g=0;g<h.length;++g){if(((v[g]||{}).DBF||{}).name){h[g]=v[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(m=0;m<1024;++m)if(h.indexOf(h[g]+"_"+m)==-1){h[g]+="_"+m;break}}}}var S=si(o["!ref"]),A=[],E=[],M=[];for(g=0;g<=S.e.c-S.s.c;++g){var R="",L="",I=0,O=[];for(m=0;m<d.length;++m)d[m][g]!=null&&O.push(d[m][g]);if(O.length==0||h[g]==null){A[g]="?";continue}for(m=0;m<O.length;++m){switch(typeof O[m]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=O[m]instanceof Date?"D":"C";break;default:L="C"}I=Math.max(I,String(O[m]).length),R=R&&R!=L?"C":L}I>250&&(I=250),L=((v[g]||{}).DBF||{}).type,L=="C"&&v[g].DBF.len>I&&(I=v[g].DBF.len),R=="B"&&L=="N"&&(R="N",M[g]=v[g].DBF.dec,I=v[g].DBF.len),E[g]=R=="C"||L=="N"?I:i[R]||0,b+=E[g],A[g]=R}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,d.length),P.write_shift(2,296+32*y),P.write_shift(2,b),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+e[IQ]||3)<<8),g=0,m=0;g<h.length;++g)if(h[g]!=null){var k=u.next(32),U=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,U,"sbcs"),k.write_shift(1,A[g]=="?"?"C":A[g],"sbcs"),k.write_shift(4,m),k.write_shift(1,E[g]||i[A[g]]||0),k.write_shift(1,M[g]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),m+=E[g]||i[A[g]]||0}var F=u.next(264);for(F.write_shift(4,13),g=0;g<65;++g)F.write_shift(4,0);for(g=0;g<d.length;++g){var q=u.next(b);for(q.write_shift(1,0),m=0;m<h.length;++m)if(h[m]!=null)switch(A[m]){case"L":q.write_shift(1,d[g][m]==null?63:d[g][m]?84:70);break;case"B":q.write_shift(8,d[g][m]||0,"f");break;case"N":var H="0";for(typeof d[g][m]=="number"&&(H=d[g][m].toFixed(M[m]||0)),y=0;y<E[m]-H.length;++y)q.write_shift(1,32);q.write_shift(1,H,"sbcs");break;case"D":d[g][m]?(q.write_shift(4,("0000"+d[g][m].getFullYear()).slice(-4),"sbcs"),q.write_shift(2,("00"+(d[g][m].getMonth()+1)).slice(-2),"sbcs"),q.write_shift(2,("00"+d[g][m].getDate()).slice(-2),"sbcs")):q.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(d[g][m]!=null?d[g][m]:"").slice(0,E[m]);for(q.write_shift(1,Z,"sbcs"),y=0;y<E[m]-Z.length;++y)q.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}})(),Fye=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+_h(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(h,d){var v=r[d];return typeof v=="number"?WV(v):v},n=function(h,d,v){var g=d.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?h:WV(g)};r["|"]=254;function a(h,d){switch(d.type){case"base64":return i(ac(h),d);case"binary":return i(h,d);case"buffer":return i(In&&Buffer.isBuffer(h)?h.toString("binary"):ay(h),d);case"array":return i(Fm(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var v=h.split(/[\n\r]+/),g=-1,m=-1,y=0,b=0,S=[],A=[],E=null,M={},R=[],L=[],I=[],O=0,P;for(+d.codepage>=0&&Gu(+d.codepage);y!==v.length;++y){O=0;var k=v[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),U=k.replace(/;;/g,"\0").split(";").map(function(ae){return ae.replace(/\u0000/g,";")}),F=U[0],q;if(k.length>0)switch(F){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&A.push(k.slice(3).replace(/;;/g,";"));break;case"C":var H=!1,Z=!1,X=!1,Y=!1,re=-1,W=-1;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"A":break;case"X":m=parseInt(U[b].slice(1))-1,Z=!0;break;case"Y":for(g=parseInt(U[b].slice(1))-1,Z||(m=0),P=S.length;P<=g;++P)S[P]=[];break;case"K":q=U[b].slice(1),q.charAt(0)==='"'?q=q.slice(1,q.length-1):q==="TRUE"?q=!0:q==="FALSE"?q=!1:isNaN(qu(q))?isNaN(s_(q).getDate())||(q=Ss(q)):(q=qu(q),E!==null&&iy(E)&&(q=GN(q))),H=!0;break;case"E":Y=!0;var j=Z1(U[b].slice(1),{r:g,c:m});S[g][m]=[S[g][m],j];break;case"S":X=!0,S[g][m]=[S[g][m],"S5S"];break;case"G":break;case"R":re=parseInt(U[b].slice(1))-1;break;case"C":W=parseInt(U[b].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+k)}if(H&&(S[g][m]&&S[g][m].length==2?S[g][m][0]=q:S[g][m]=q,E=null),X){if(Y)throw new Error("SYLK shared formula cannot have own formula");var J=re>-1&&S[re][W];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");S[g][m][1]=jee(J[1],{r:g-re,c:m-W})}break;case"F":var ee=0;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"X":m=parseInt(U[b].slice(1))-1,++ee;break;case"Y":for(g=parseInt(U[b].slice(1))-1,P=S.length;P<=g;++P)S[P]=[];break;case"M":O=parseInt(U[b].slice(1))/20;break;case"F":break;case"G":break;case"P":E=A[parseInt(U[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=U[b].slice(1).split(" "),P=parseInt(I[0],10);P<=parseInt(I[1],10);++P)O=parseInt(I[2],10),L[P-1]=O===0?{hidden:!0}:{wch:O},o_(L[P-1]);break;case"C":m=parseInt(U[b].slice(1))-1,L[m]||(L[m]={});break;case"R":g=parseInt(U[b].slice(1))-1,R[g]||(R[g]={}),O>0?(R[g].hpt=O,R[g].hpx=aT(O)):O===0&&(R[g].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+k)}ee<1&&(E=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+k)}}return R.length>0&&(M["!rows"]=R),L.length>0&&(M["!cols"]=L),d&&d.sheetRows&&(S=S.slice(0,d.sheetRows)),[S,M]}function s(h,d){var v=a(h,d),g=v[0],m=v[1],y=G_(g,d);return _h(m).forEach(function(b){y[b]=m[b]}),y}function o(h,d){return lv(s(h,d),d)}function l(h,d,v,g){var m="C;Y"+(v+1)+";X"+(g+1)+";K";switch(h.t){case"n":m+=h.v||0,h.f&&!h.F&&(m+=";E"+A1e(h.f,{r:v,c:g}));break;case"b":m+=h.v?"TRUE":"FALSE";break;case"e":m+=h.w||h.v;break;case"d":m+='"'+(h.w||h.v)+'"';break;case"s":m+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return m}function c(h,d){d.forEach(function(v,g){var m="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?m+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=MD(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=CD(v.wpx)),typeof v.wch=="number"&&(m+=Math.round(v.wch))),m.charAt(m.length-1)!=" "&&h.push(m)})}function u(h,d){d.forEach(function(v,g){var m="F;";v.hidden?m+="M0;":v.hpt?m+="M"+20*v.hpt+";":v.hpx&&(m+="M"+20*Vee(v.hpx)+";"),m.length>2&&h.push(m+"R"+(g+1))})}function f(h,d){var v=["ID;PWXL;N;E"],g=[],m=si(h["!ref"]),y,b=Array.isArray(h),S=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&c(v,h["!cols"]),h["!rows"]&&u(v,h["!rows"]),v.push("B;Y"+(m.e.r-m.s.r+1)+";X"+(m.e.c-m.s.c+1)+";D"+[m.s.c,m.s.r,m.e.c,m.e.r].join(" "));for(var A=m.s.r;A<=m.e.r;++A)for(var E=m.s.c;E<=m.e.c;++E){var M=Zr({r:A,c:E});y=b?(h[A]||[])[E]:h[M],!(!y||y.v==null&&(!y.f||y.F))&&g.push(l(y,h,A,E))}return v.join(S)+S+g.join(S)+S+"E"+S}return{to_workbook:o,to_sheet:s,from_sheet:f}})(),Uye=(function(){function r(i,s){switch(s.type){case"base64":return e(ac(i),s);case"binary":return e(i,s);case"buffer":return e(In&&Buffer.isBuffer(i)?i.toString("binary"):ay(i),s);case"array":return e(Fm(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),d=h[0],v=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+d){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(qu(v))?isNaN(s_(v).getDate())?f[l][c]=v:f[l][c]=Ss(v):f[l][c]=qu(v),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function t(i,s){return G_(r(i,s),s)}function n(i,s){return lv(t(i,s),s)}var a=(function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=si(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){s(c,-1,0,"BOT");for(var v=u.s.c;v<=u.e.c;++v){var g=Zr({r:d,c:v});if(f=h?(l[d]||[])[v]:l[g],!f){s(c,1,0,"");continue}switch(f.t){case"n":var m=f.w;!m&&f.v!=null&&(m=f.v),m==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,m,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ic(f.z||qr[14],tl(Ss(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}})();return{to_workbook:n,to_sheet:t,from_sheet:a}})(),Vye=(function(){function r(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(f,h){for(var d=f.split(`
`),v=-1,g=-1,m=0,y=[];m!==d.length;++m){var b=d[m].trim().split(":");if(b[0]==="cell"){var S=$o(b[1]);if(y.length<=S.r)for(v=y.length;v<=S.r;++v)y[v]||(y[v]=[]);switch(v=S.r,g=S.c,b[2]){case"t":y[v][g]=r(b[3]);break;case"v":y[v][g]=+b[3];break;case"vtf":var A=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[v][g]=!!+b[4];break;default:y[v][g]=+b[4];break}b[2]=="vtf"&&(y[v][g]=[y[v][g],A])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return G_(t(f,h),h)}function a(f,h){return lv(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],v,g="",m=H_(f["!ref"]),y=Array.isArray(f),b=m.s.r;b<=m.e.r;++b)for(var S=m.s.c;S<=m.e.c;++S)if(g=Zr({r:b,c:S}),v=y?(f[b]||[])[S]:f[g],!(!v||v.v==null||v.t==="z")){switch(d=["cell",g,"t"],v.t){case"s":case"str":d.push(e(v.v));break;case"n":v.f?(d[2]="vtf",d[3]="n",d[4]=v.v,d[5]=e(v.f)):(d[2]="v",d[3]=v.v);break;case"b":d[2]="vt"+(v.f?"f":"c"),d[3]="nl",d[4]=v.v?"1":"0",d[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var A=tl(Ss(v.v));d[2]="vtc",d[3]="nd",d[4]=""+A,d[5]=v.w||ic(v.z||qr[14],A);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(m.e.c-m.s.c+1)+":r:"+(m.e.r-m.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}})(),rT=(function(){function r(u,f,h,d,v){v.raw?f[h][d]=u:u===""||(u==="TRUE"?f[h][d]=!0:u==="FALSE"?f[h][d]=!1:isNaN(qu(u))?isNaN(s_(u).getDate())?f[h][d]=u:f[h][d]=Ss(u):f[h][d]=qu(u))}function e(u,f){var h=f||{},d=[];if(!u||u.length===0)return d;for(var v=u.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var m=10,y=0,b=0;b<=g;++b)y=v[b].indexOf(" "),y==-1?y=v[b].length:y++,m=Math.max(m,y);for(b=0;b<=g;++b){d[b]=[];var S=0;for(r(v[b].slice(0,m).trim(),d,b,S,h),S=1;S<=(v[b].length-m)/10+1;++S)r(v[b].slice(m+(S-1)*10,m+S*10).trim(),d,b,S,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,d=0,v=0;d<u.length;++d)(v=u.charCodeAt(d))==34?h=!h:!h&&v in t&&(f[v]=(f[v]||0)+1);v=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&v.push([f[d],d]);if(!v.length){f=n;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&v.push([f[d],d])}return v.sort(function(g,m){return g[0]-m[0]||n[g[1]]-n[m[1]]}),t[v.pop()[1]]||44}function i(u,f){var h=f||{},d="",v=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=a(u.slice(0,1024)):h&&h.FS?d=h.FS:d=a(u.slice(0,1024));var m=0,y=0,b=0,S=0,A=0,E=d.charCodeAt(0),M=!1,R=0,L=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var I=h.dateNF!=null?Jve(h.dateNF):null;function O(){var P=u.slice(S,A),k={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)k.t="z";else if(h.raw)k.t="s",k.v=P;else if(P.trim().length===0)k.t="s",k.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(k.t="s",k.v=P.slice(2,-1).replace(/""/g,'"')):M1e(P)?(k.t="n",k.f=P.slice(1)):(k.t="s",k.v=P);else if(P=="TRUE")k.t="b",k.v=!0;else if(P=="FALSE")k.t="b",k.v=!1;else if(!isNaN(b=qu(P)))k.t="n",h.cellText!==!1&&(k.w=P),k.v=b;else if(!isNaN(s_(P).getDate())||I&&P.match(I)){k.z=h.dateNF||qr[14];var U=0;I&&P.match(I)&&(P=Qve(P,h.dateNF,P.match(I)||[]),U=1),h.cellDates?(k.t="d",k.v=Ss(P,U)):(k.t="n",k.v=tl(Ss(P,U))),h.cellText!==!1&&(k.w=ic(k.z,k.v instanceof Date?tl(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=P;if(k.t=="z"||(h.dense?(v[m]||(v[m]=[]),v[m][y]=k):v[Zr({c:y,r:m})]=k),S=A+1,L=u.charCodeAt(S),g.e.c<y&&(g.e.c=y),g.e.r<m&&(g.e.r=m),R==E)++y;else if(y=0,++m,h.sheetRows&&h.sheetRows<=m)return!0}e:for(;A<u.length;++A)switch(R=u.charCodeAt(A)){case 34:L===34&&(M=!M);break;case E:case 10:case 13:if(!M&&O())break e;break}return A-S>0&&O(),v["!ref"]=Pn(g),v}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):G_(e(u,f),f)}function o(u,f){var h="",d=f.type=="string"?[0,0,0,0]:$8(u,f);switch(f.type){case"base64":h=ac(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Jw<"u"||(h=In&&Buffer.isBuffer(u)?u.toString("binary"):ay(u));break;case"array":h=Fm(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=Ta(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Ta(h):f.type=="binary"&&typeof Jw<"u",h.slice(0,19)=="socialcalc:version:"?Vye.to_sheet(f.type=="string"?h:Ta(h),f):s(h,f)}function l(u,f){return lv(o(u,f),f)}function c(u){for(var f=[],h=si(u["!ref"]),d,v=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var m=[],y=h.s.c;y<=h.e.c;++y){var b=Zr({r:g,c:y});if(d=v?(u[g]||[])[y]:u[b],!d||d.v==null){m.push("          ");continue}for(var S=(d.w||(Kd(d),d.w)||"").slice(0,10);S.length<10;)S+=" ";m.push(S+(y===0?" ":""))}f.push(m.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function Hye(r,e){var t=e||{},n=!!t.WTF;t.WTF=!0;try{var a=Fye.to_workbook(r,t);return t.WTF=n,a}catch(i){if(t.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return rT.to_workbook(r,e)}}var mw=(function(){function r(j,J,ee){if(j){ks(j,j.l||0);for(var ae=ee.Enum||re;j.l<j.length;){var ce=j.read_shift(2),me=ae[ce]||ae[65535],Se=j.read_shift(2),we=j.l+Se,Me=me.f&&me.f(j,Se,ee);if(j.l=we,J(Me,me,ce))return}}}function e(j,J){switch(J.type){case"base64":return t(Hu(ac(j)),J);case"binary":return t(Hu(j),J);case"buffer":case"array":return t(j,J)}throw"Unsupported type "+J.type}function t(j,J){if(!j)return j;var ee=J||{},ae=ee.dense?[]:{},ce="Sheet1",me="",Se=0,we={},Me=[],Ve=[],de={s:{r:0,c:0},e:{r:0,c:0}},dt=ee.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)ee.Enum=re,r(j,function(oe,ue,be){switch(be){case 0:ee.vers=oe,oe>=4096&&(ee.qpro=!0);break;case 6:de=oe;break;case 204:oe&&(me=oe);break;case 222:me=oe;break;case 15:case 51:ee.qpro||(oe[1].v=oe[1].v.slice(1));case 13:case 14:case 16:be==14&&(oe[2]&112)==112&&(oe[2]&15)>1&&(oe[2]&15)<15&&(oe[1].z=ee.dateNF||qr[14],ee.cellDates&&(oe[1].t="d",oe[1].v=GN(oe[1].v))),ee.qpro&&oe[3]>Se&&(ae["!ref"]=Pn(de),we[ce]=ae,Me.push(ce),ae=ee.dense?[]:{},de={s:{r:0,c:0},e:{r:0,c:0}},Se=oe[3],ce=me||"Sheet"+(Se+1),me="");var Be=ee.dense?(ae[oe[0].r]||[])[oe[0].c]:ae[Zr(oe[0])];if(Be){Be.t=oe[1].t,Be.v=oe[1].v,oe[1].z!=null&&(Be.z=oe[1].z),oe[1].f!=null&&(Be.f=oe[1].f);break}ee.dense?(ae[oe[0].r]||(ae[oe[0].r]=[]),ae[oe[0].r][oe[0].c]=oe[1]):ae[Zr(oe[0])]=oe[1];break}},ee);else if(j[2]==26||j[2]==14)ee.Enum=W,j[2]==14&&(ee.qpro=!0,j.l=0),r(j,function(oe,ue,be){switch(be){case 204:ce=oe;break;case 22:oe[1].v=oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(oe[3]>Se&&(ae["!ref"]=Pn(de),we[ce]=ae,Me.push(ce),ae=ee.dense?[]:{},de={s:{r:0,c:0},e:{r:0,c:0}},Se=oe[3],ce="Sheet"+(Se+1)),dt>0&&oe[0].r>=dt)break;ee.dense?(ae[oe[0].r]||(ae[oe[0].r]=[]),ae[oe[0].r][oe[0].c]=oe[1]):ae[Zr(oe[0])]=oe[1],de.e.c<oe[0].c&&(de.e.c=oe[0].c),de.e.r<oe[0].r&&(de.e.r=oe[0].r);break;case 27:oe[14e3]&&(Ve[oe[14e3][0]]=oe[14e3][1]);break;case 1537:Ve[oe[0]]=oe[1],oe[0]==Se&&(ce=oe[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(ae["!ref"]=Pn(de),we[me||ce]=ae,Me.push(me||ce),!Ve.length)return{SheetNames:Me,Sheets:we};for(var K={},se=[],_e=0;_e<Ve.length;++_e)we[Me[_e]]?(se.push(Ve[_e]||Me[_e]),K[Ve[_e]]=we[Ve[_e]]||we[Me[_e]]):(se.push(Ve[_e]),K[Ve[_e]]={"!ref":"A1"});return{SheetNames:se,Sheets:K}}function n(j,J){var ee=J||{};if(+ee.codepage>=0&&Gu(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var ae=yP(),ce=si(j["!ref"]),me=Array.isArray(j),Se=[];Nu(ae,0,i(1030)),Nu(ae,6,l(ce));for(var we=Math.min(ce.e.r,8191),Me=ce.s.r;Me<=we;++Me)for(var Ve=Bs(Me),de=ce.s.c;de<=ce.e.c;++de){Me===ce.s.r&&(Se[de]=qi(de));var dt=Se[de]+Ve,K=me?(j[Me]||[])[de]:j[dt];if(!(!K||K.t=="z"))if(K.t=="n")(K.v|0)==K.v&&K.v>=-32768&&K.v<=32767?Nu(ae,13,d(Me,de,K.v)):Nu(ae,14,g(Me,de,K.v));else{var se=Kd(K);Nu(ae,15,f(Me,de,se.slice(0,239)))}}return Nu(ae,1),ae.end()}function a(j,J){var ee=J||{};if(+ee.codepage>=0&&Gu(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var ae=yP();Nu(ae,0,s(j));for(var ce=0,me=0;ce<j.SheetNames.length;++ce)(j.Sheets[j.SheetNames[ce]]||{})["!ref"]&&Nu(ae,27,Y(j.SheetNames[ce],me++));var Se=0;for(ce=0;ce<j.SheetNames.length;++ce){var we=j.Sheets[j.SheetNames[ce]];if(!(!we||!we["!ref"])){for(var Me=si(we["!ref"]),Ve=Array.isArray(we),de=[],dt=Math.min(Me.e.r,8191),K=Me.s.r;K<=dt;++K)for(var se=Bs(K),_e=Me.s.c;_e<=Me.e.c;++_e){K===Me.s.r&&(de[_e]=qi(_e));var oe=de[_e]+se,ue=Ve?(we[K]||[])[_e]:we[oe];if(!(!ue||ue.t=="z"))if(ue.t=="n")Nu(ae,23,O(K,_e,Se,ue.v));else{var be=Kd(ue);Nu(ae,22,R(K,_e,Se,be.slice(0,239)))}}++Se}}return Nu(ae,1),ae.end()}function i(j){var J=Wi(2);return J.write_shift(2,j),J}function s(j){var J=Wi(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var ee=0,ae=0,ce=0,me=0;me<j.SheetNames.length;++me){var Se=j.SheetNames[me],we=j.Sheets[Se];if(!(!we||!we["!ref"])){++ce;var Me=H_(we["!ref"]);ee<Me.e.r&&(ee=Me.e.r),ae<Me.e.c&&(ae=Me.e.c)}}return ee>8191&&(ee=8191),J.write_shift(2,ee),J.write_shift(1,ce),J.write_shift(1,ae),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function o(j,J,ee){var ae={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&ee.qpro?(ae.s.c=j.read_shift(1),j.l++,ae.s.r=j.read_shift(2),ae.e.c=j.read_shift(1),j.l++,ae.e.r=j.read_shift(2),ae):(ae.s.c=j.read_shift(2),ae.s.r=j.read_shift(2),J==12&&ee.qpro&&(j.l+=2),ae.e.c=j.read_shift(2),ae.e.r=j.read_shift(2),J==12&&ee.qpro&&(j.l+=2),ae.s.c==65535&&(ae.s.c=ae.e.c=ae.s.r=ae.e.r=0),ae)}function l(j){var J=Wi(8);return J.write_shift(2,j.s.c),J.write_shift(2,j.s.r),J.write_shift(2,j.e.c),J.write_shift(2,j.e.r),J}function c(j,J,ee){var ae=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(ae[0].c=j.read_shift(1),ae[3]=j.read_shift(1),ae[0].r=j.read_shift(2),j.l+=2):(ae[2]=j.read_shift(1),ae[0].c=j.read_shift(2),ae[0].r=j.read_shift(2)),ae}function u(j,J,ee){var ae=j.l+J,ce=c(j,J,ee);if(ce[1].t="s",ee.vers==20768){j.l++;var me=j.read_shift(1);return ce[1].v=j.read_shift(me,"utf8"),ce}return ee.qpro&&j.l++,ce[1].v=j.read_shift(ae-j.l,"cstr"),ce}function f(j,J,ee){var ae=Wi(7+ee.length);ae.write_shift(1,255),ae.write_shift(2,J),ae.write_shift(2,j),ae.write_shift(1,39);for(var ce=0;ce<ae.length;++ce){var me=ee.charCodeAt(ce);ae.write_shift(1,me>=128?95:me)}return ae.write_shift(1,0),ae}function h(j,J,ee){var ae=c(j,J,ee);return ae[1].v=j.read_shift(2,"i"),ae}function d(j,J,ee){var ae=Wi(7);return ae.write_shift(1,255),ae.write_shift(2,J),ae.write_shift(2,j),ae.write_shift(2,ee,"i"),ae}function v(j,J,ee){var ae=c(j,J,ee);return ae[1].v=j.read_shift(8,"f"),ae}function g(j,J,ee){var ae=Wi(13);return ae.write_shift(1,255),ae.write_shift(2,J),ae.write_shift(2,j),ae.write_shift(8,ee,"f"),ae}function m(j,J,ee){var ae=j.l+J,ce=c(j,J,ee);if(ce[1].v=j.read_shift(8,"f"),ee.qpro)j.l=ae;else{var me=j.read_shift(2);A(j.slice(j.l,j.l+me),ce),j.l+=me}return ce}function y(j,J,ee){var ae=J&32768;return J&=-32769,J=(ae?j:0)+(J>=8192?J-16384:J),(ae?"":"$")+(ee?qi(J):Bs(J))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},S=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(j,J){ks(j,0);for(var ee=[],ae=0,ce="",me="",Se="",we="";j.l<j.length;){var Me=j[j.l++];switch(Me){case 0:ee.push(j.read_shift(8,"f"));break;case 1:me=y(J[0].c,j.read_shift(2),!0),ce=y(J[0].r,j.read_shift(2),!1),ee.push(me+ce);break;case 2:{var Ve=y(J[0].c,j.read_shift(2),!0),de=y(J[0].r,j.read_shift(2),!1);me=y(J[0].c,j.read_shift(2),!0),ce=y(J[0].r,j.read_shift(2),!1),ee.push(Ve+de+":"+me+ce)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(j.read_shift(2));break;case 6:{for(var dt="";Me=j[j.l++];)dt+=String.fromCharCode(Me);ee.push('"'+dt.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:we=ee.pop(),Se=ee.pop(),ee.push(["AND","OR"][Me-20]+"("+Se+","+we+")");break;default:if(Me<32&&S[Me])we=ee.pop(),Se=ee.pop(),ee.push(Se+S[Me]+we);else if(b[Me]){if(ae=b[Me][1],ae==69&&(ae=j[j.l++]),ae>ee.length){console.error("WK1 bad formula parse 0x"+Me.toString(16)+":|"+ee.join("|")+"|");return}var K=ee.slice(-ae);ee.length-=ae,ee.push(b[Me][0]+"("+K.join(",")+")")}else return Me<=7?console.error("WK1 invalid opcode "+Me.toString(16)):Me<=24?console.error("WK1 unsupported op "+Me.toString(16)):Me<=30?console.error("WK1 invalid opcode "+Me.toString(16)):Me<=115?console.error("WK1 unsupported function opcode "+Me.toString(16)):console.error("WK1 unrecognized opcode "+Me.toString(16))}}ee.length==1?J[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function E(j){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=j.read_shift(2),J[3]=j[j.l++],J[0].c=j[j.l++],J}function M(j,J){var ee=E(j);return ee[1].t="s",ee[1].v=j.read_shift(J-4,"cstr"),ee}function R(j,J,ee,ae){var ce=Wi(6+ae.length);ce.write_shift(2,j),ce.write_shift(1,ee),ce.write_shift(1,J),ce.write_shift(1,39);for(var me=0;me<ae.length;++me){var Se=ae.charCodeAt(me);ce.write_shift(1,Se>=128?95:Se)}return ce.write_shift(1,0),ce}function L(j,J){var ee=E(j);ee[1].v=j.read_shift(2);var ae=ee[1].v>>1;if(ee[1].v&1)switch(ae&7){case 0:ae=(ae>>3)*5e3;break;case 1:ae=(ae>>3)*500;break;case 2:ae=(ae>>3)/20;break;case 3:ae=(ae>>3)/200;break;case 4:ae=(ae>>3)/2e3;break;case 5:ae=(ae>>3)/2e4;break;case 6:ae=(ae>>3)/16;break;case 7:ae=(ae>>3)/64;break}return ee[1].v=ae,ee}function I(j,J){var ee=E(j),ae=j.read_shift(4),ce=j.read_shift(4),me=j.read_shift(2);if(me==65535)return ae===0&&ce===3221225472?(ee[1].t="e",ee[1].v=15):ae===0&&ce===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var Se=me&32768;return me=(me&32767)-16446,ee[1].v=(1-Se*2)*(ce*Math.pow(2,me+32)+ae*Math.pow(2,me)),ee}function O(j,J,ee,ae){var ce=Wi(14);if(ce.write_shift(2,j),ce.write_shift(1,ee),ce.write_shift(1,J),ae==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var me=0,Se=0,we=0,Me=0;return ae<0&&(me=1,ae=-ae),Se=Math.log2(ae)|0,ae/=Math.pow(2,Se-31),Me=ae>>>0,(Me&2147483648)==0&&(ae/=2,++Se,Me=ae>>>0),ae-=Me,Me|=2147483648,Me>>>=0,ae*=Math.pow(2,32),we=ae>>>0,ce.write_shift(4,we),ce.write_shift(4,Me),Se+=16383+(me?32768:0),ce.write_shift(2,Se),ce}function P(j,J){var ee=I(j);return j.l+=J-14,ee}function k(j,J){var ee=E(j),ae=j.read_shift(4);return ee[1].v=ae>>6,ee}function U(j,J){var ee=E(j),ae=j.read_shift(8,"f");return ee[1].v=ae,ee}function F(j,J){var ee=U(j);return j.l+=J-10,ee}function q(j,J){return j[j.l+J-1]==0?j.read_shift(J,"cstr"):""}function H(j,J){var ee=j[j.l++];ee>J-1&&(ee=J-1);for(var ae="";ae.length<ee;)ae+=String.fromCharCode(j[j.l++]);return ae}function Z(j,J,ee){if(!(!ee.qpro||J<21)){var ae=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var ce=j.read_shift(J-21,"cstr");return[ae,ce]}}function X(j,J){for(var ee={},ae=j.l+J;j.l<ae;){var ce=j.read_shift(2);if(ce==14e3){for(ee[ce]=[0,""],ee[ce][0]=j.read_shift(2);j[j.l];)ee[ce][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return ee}function Y(j,J){var ee=Wi(5+j.length);ee.write_shift(2,14e3),ee.write_shift(2,J);for(var ae=0;ae<j.length;++ae){var ce=j.charCodeAt(ae);ee[ee.l++]=ce>127?95:ce}return ee[ee.l++]=0,ee}var re={0:{n:"BOF",f:Ii},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:m},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:q},222:{n:"SHEETNAMELP",f:H},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:F},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})();function Gye(r){var e={},t=r.match(wo),n=0,a=!1;if(t)for(;n!=t.length;++n){var i=Ur(t[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=M8[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return e}var jye=(function(){var r=eT("t"),e=eT("rPr");function t(i){var s=i.match(r);if(!s)return{t:"s",v:""};var o={t:"s",v:Vn(s[1])},l=i.match(e);return l&&(o.s=Gye(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(t).filter(function(o){return o.v})}})(),Wye=(function(){var e=/(\r\n|\n)/g;function t(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&t(a.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),Yye=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Xye=/<(?:\w+:)?r>/,qye=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function j8(r,e){var t=e?e.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Vn(Ta(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Ta(r),t&&(n.h=O8(n.t))):r.match(Xye)&&(n.r=Ta(r),n.t=Vn(Ta((r.replace(qye,"").match(Yye)||[]).join("").replace(wo,""))),t&&(n.h=Wye(jye(n.r)))),n):{t:""}}var Zye=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Kye=/<(?:\w+:)?(?:si|sstItem)>/g,$ye=/<\/(?:\w+:)?(?:si|sstItem)>/;function Jye(r,e){var t=[],n="";if(!r)return t;var a=r.match(Zye);if(a){n=a[2].replace(Kye,"").split($ye);for(var i=0;i!=n.length;++i){var s=j8(n[i].trim(),e);s!=null&&(t[t.length]=s)}a=Ur(a[1]),t.Count=a.count,t.Unique=a.uniqueCount}return t}function Qye(r){return[r.read_shift(4),r.read_shift(4)]}function exe(r,e){var t=[],n=!1;return cp(r,function(i,s,o){switch(o){case 159:t.Count=i[0],t.Unique=i[1];break;case 19:t.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function kee(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function Vd(r,e){var t={};return t.Major=r.read_shift(2),t.Minor=r.read_shift(2),e>=4&&(r.l+=e-4),t}function txe(r){var e={};return e.id=r.read_shift(0,"lpp4"),e.R=Vd(r,4),e.U=Vd(r,4),e.W=Vd(r,4),e}function rxe(r){for(var e=r.read_shift(4),t=r.l+e-4,n={},a=r.read_shift(4),i=[];a-- >0;)i.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=i,r.l!=t)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+t);return n}function nxe(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(rxe(r));return e}function axe(r){var e=[];r.l+=4;for(var t=r.read_shift(4);t-- >0;)e.push(r.read_shift(0,"lpp4"));return e}function ixe(r){var e={};return r.read_shift(4),r.l+=4,e.id=r.read_shift(0,"lpp4"),e.name=r.read_shift(0,"lpp4"),e.R=Vd(r,4),e.U=Vd(r,4),e.W=Vd(r,4),e}function sxe(r){var e=ixe(r);if(e.ename=r.read_shift(0,"8lpp4"),e.blksz=r.read_shift(4),e.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function Pee(r,e){var t=r.l+e,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(t-r.l>>1,"utf16le"),r.l=t,n}function Bee(r,e){var t={},n=r.l+e;return r.l+=4,t.Salt=r.slice(r.l,r.l+16),r.l+=16,t.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),t.VerifierHash=r.slice(r.l,n),r.l=n,t}function oxe(r){var e=Vd(r);switch(e.Minor){case 2:return[e.Minor,lxe(r)];case 3:return[e.Minor,cxe()];case 4:return[e.Minor,uxe(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function lxe(r){var e=r.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=r.read_shift(4),n=Pee(r,t),a=Bee(r,r.length-r.l);return{t:"Std",h:n,v:a}}function cxe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function uxe(r){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var t=r.read_shift(r.length-r.l,"utf8"),n={};return t.replace(wo,function(i){var s=Ur(i);switch(Ch(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function fxe(r,e){var t={},n=t.EncryptionVersionInfo=Vd(r,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);t.Flags=r.read_shift(4),e-=4;var a=r.read_shift(4);return e-=4,t.EncryptionHeader=Pee(r,a),e-=a,t.EncryptionVerifier=Bee(r,e),t}function hxe(r){var e={},t=e.EncryptionVersionInfo=Vd(r,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=r.read_shift(16),e.EncryptedVerifier=r.read_shift(16),e.EncryptedVerifierHash=r.read_shift(16),e}function dxe(r){var e=0,t,n=kee(r),a=n.length+1,i,s,o,l,c;for(t=Z0(a),t[0]=n.length,i=1;i!=a;++i)t[i]=n[i-1];for(i=a-1;i>=0;--i)s=t[i],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var zee=(function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=t[l]),u*=2,--l;return o};return function(s){for(var o=kee(s),l=i(o),c=o.length,u=Z0(16),f=0;f!=16;++f)u[f]=0;var h,d,v;for((c&1)===1&&(h=l>>8,u[c]=a(r[0],h),--c,h=l&255,d=o[o.length-1],u[c]=a(d,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,v=15-o.length;v>0;)h=l>>8,u[c]=a(r[v],h),--c,--v,h=l&255,u[c]=a(o[c],h),--c,--v;return u}})(),pxe=function(r,e,t,n,a){a||(a=e),n||(n=zee(r));var i,s;for(i=0;i!=e.length;++i)s=e[i],s^=n[t],s=(s>>5|s<<3)&255,a[i]=s,++t;return[a,t,n]},vxe=function(r){var e=0,t=zee(r);return function(n){var a=pxe("",n,e,t);return e=a[1],a[0]}};function gxe(r,e,t,n){var a={key:Ii(r),verificationBytes:Ii(r)};return t.password&&(a.verifier=dxe(t.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=vxe(t.password)),a}function mxe(r,e,t){var n=t||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=hxe(r):n.Data=fxe(r,e),n}function yxe(r,e,t){var n={Type:t.biff>=8?r.read_shift(2):0};return n.Type?mxe(r,e-2,n):gxe(r,t.biff>=8?e:e-2,t,n),n}var xxe=(function(){function r(a,i){switch(i.type){case"base64":return e(ac(a),i);case"binary":return e(a,i);case"buffer":return e(In&&Buffer.isBuffer(a)?a.toString("binary"):ay(a),i);case"array":return e(Fm(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,v,g=-1;v=h.exec(u);){switch(v[0]){case"\\cell":var m=u.slice(d,h.lastIndex-v[0].length);if(m[0]==" "&&(m=m.slice(1)),++g,m.length){var y={v:m,t:"s"};Array.isArray(o)?o[f][g]=y:o[Zr({r:f,c:g})]=y}break}d=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=Pn(c),o}function t(a,i){return lv(r(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=si(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=Zr({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Kd(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}})();function _xe(r){var e=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function nT(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}function bxe(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,a=Math.max(e,t,n),i=Math.min(e,t,n),s=a-i;if(s===0)return[0,0,e];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case e:o=((t-n)/s+6)%6;break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4;break}return[o/6,l,c/2]}function Sxe(r){var e=r[0],t=r[1],n=r[2],a=t*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*e,l;if(t!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function ED(r,e){if(e===0)return r;var t=bxe(_xe(r));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),nT(Sxe(t))}var Fee=6,wxe=15,Txe=1,Zo=Fee;function MD(r){return Math.floor((r+Math.round(128/Zo)/256)*Zo)}function CD(r){return Math.floor((r-5)/Zo*100+.5)/100}function SP(r){return Math.round((r*Zo+5)/Zo*256)/256}function m4(r){return SP(CD(MD(r)))}function W8(r){var e=Math.abs(r-m4(r)),t=Zo;if(e>.005)for(Zo=Txe;Zo<wxe;++Zo)Math.abs(r-m4(r))<=e&&(e=Math.abs(r-m4(r)),t=Zo);Zo=t}function o_(r){r.width?(r.wpx=MD(r.width),r.wch=CD(r.wpx),r.MDW=Zo):r.wpx?(r.wch=CD(r.wpx),r.width=SP(r.wch),r.MDW=Zo):typeof r.wch=="number"&&(r.width=SP(r.wch),r.wpx=MD(r.width),r.MDW=Zo),r.customWidth&&delete r.customWidth}var Axe=96,Uee=Axe;function Vee(r){return r*96/Uee}function aT(r){return r*Uee/96}var Exe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Mxe(r,e,t,n){e.Borders=[];var a={},i=!1;(r[0].match(wo)||[]).forEach(function(s){var o=Ur(s);switch(Ch(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=ka(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=ka(o.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Cxe(r,e,t,n){e.Fills=[];var a={},i=!1;(r[0].match(wo)||[]).forEach(function(s){var o=Ur(s);switch(Ch(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Dxe(r,e,t,n){e.Fonts=[];var a={},i=!1;(r[0].match(wo)||[]).forEach(function(s){var o=Ur(s);switch(Ch(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Ta(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?ka(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?ka(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?ka(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?ka(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?ka(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?ka(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?ka(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=M8[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=ka(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Em[a.color.index];a.color.index==81&&(l=Em[1]),l||(l=Em[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(a.color.rgb=ED(t.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Rxe(r,e,t){e.NumberFmt=[];for(var n=_h(qr),a=0;a<n.length;++a)e.NumberFmt[n[a]]=qr[n[a]];var i=r[0].match(wo);if(i)for(a=0;a<i.length;++a){var s=Ur(i[a]);switch(Ch(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Vn(Ta(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Ud(o,l)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var DM=["numFmtId","fillId","fontId","borderId","xfId"],RM=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Nxe(r,e,t){e.CellXf=[];var n,a=!1;(r[0].match(wo)||[]).forEach(function(i){var s=Ur(i),o=0;switch(Ch(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<DM.length;++o)n[DM[o]]&&(n[DM[o]]=parseInt(n[DM[o]],10));for(o=0;o<RM.length;++o)n[RM[o]]&&(n[RM[o]]=ka(n[RM[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=ka(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(t&&t.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var Ixe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&Rxe(f,u,c),(f=o.match(a))&&Dxe(f,u,l,c),(f=o.match(n))&&Cxe(f,u,l,c),(f=o.match(i))&&Mxe(f,u,l,c),(f=o.match(t))&&Nxe(f,u,c),u}})();function Lxe(r,e){var t=r.read_shift(2),n=mo(r);return[t,n]}function Oxe(r,e,t){var n={};n.sz=r.read_shift(2)/20;var a=jge(r);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=r.read_shift(2);switch(i===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var o=r.read_shift(1);o>0&&(n.family=o);var l=r.read_shift(1);switch(l>0&&(n.charset=l),r.l++,n.color=Gge(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=mo(r),n}var kxe=So;function Pxe(r,e){var t=r.l+e,n=r.read_shift(2),a=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:a}}var Bxe=So;function zxe(r,e,t){var n={};n.NumberFmt=[];for(var a in qr)n.NumberFmt[a]=qr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return cp(r,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Ud(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=ED(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||t.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var Fxe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Uxe(r,e,t){e.themeElements.clrScheme=[];var n={};(r[0].match(wo)||[]).forEach(function(a){var i=Ur(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[Fxe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Vxe(){}function Hxe(){}var Gxe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,jxe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Wxe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Yxe(r,e,t){e.themeElements={};var n;[["clrScheme",Gxe,Uxe],["fontScheme",jxe,Vxe],["fmtScheme",Wxe,Hxe]].forEach(function(a){if(!(n=r.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,t)})}var Xxe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Hee(r,e){(!r||r.length===0)&&(r=qxe());var t,n={};if(!(t=r.match(Xxe)))throw new Error("themeElements not found in theme");return Yxe(t[0],n,e),n.raw=r,n}function qxe(r,e){var t=[QQ];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Zxe(r,e,t){var n=r.l+e,a=r.read_shift(4);if(a!==124226){if(!t.cellStyles){r.l=n;return}var i=r.slice(r.l);r.l=n;var s;try{s=JQ(i,{type:"array"})}catch{return}var o=ql(s,"theme/theme/theme1.xml",!0);if(o)return Hee(o,t)}}function Kxe(r){return r.read_shift(4)}function $xe(r){var e={};switch(e.xclrType=r.read_shift(2),e.nTintShade=r.read_shift(2),e.xclrType){case 0:r.l+=4;break;case 1:e.xclrValue=Jxe(r,4);break;case 2:e.xclrValue=Cee(r);break;case 3:e.xclrValue=Kxe(r);break;case 4:r.l+=4;break}return r.l+=8,e}function Jxe(r,e){return So(r,e)}function Qxe(r,e){return So(r,e)}function e1e(r){var e=r.read_shift(2),t=r.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=$xe(r);break;case 6:n[1]=Qxe(r,t);break;case 14:case 15:n[1]=r.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return n}function t1e(r,e){var t=r.l+e;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var a=r.read_shift(2),i=[];a-- >0;)i.push(e1e(r,t-r.l));return{ixfe:n,ext:i}}function r1e(r,e){e.forEach(function(t){t[0]})}function n1e(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:mo(r)}}function a1e(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function i1e(r){return r.l+=4,r.read_shift(4)!=0}function s1e(r,e,t){var n={Types:[],Cell:[],Value:[]},a=t||{},i=[],s=!1,o=2;return cp(r,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function o1e(r,e,t){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var a=!1,i=2,s;return r.replace(wo,function(o){var l=Ur(o);switch(Ch(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&t.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function l1e(r){var e=[];if(!r)return e;var t=1;return(r.match(wo)||[]).forEach(function(n){var a=Ur(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?t=a.i:a.i=t,e.push(a);break}}),e}function c1e(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Zr(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function u1e(r,e,t){var n=[];return cp(r,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function f1e(r,e,t,n){if(!r)return r;var a=n||{},i=!1;cp(r,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function h1e(r,e){if(!r)return"??";var t=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}function R7(r,e,t,n){var a=Array.isArray(r),i;e.forEach(function(s){var o=$o(s.ref);if(a?(r[o.r]||(r[o.r]=[]),i=r[o.r][o.c]):i=r[s.ref],!i){i={t:"z"},a?r[o.r][o.c]=i:r[s.ref]=i;var l=si(r["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Pn(l);c!==r["!ref"]&&(r["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:t};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!t&&i.c[f].T)return;t&&!i.c[f].T&&i.c.splice(f,1)}if(t&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function d1e(r,e){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],n=[],a=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var i=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Ur(o[0]),c={author:l.authorId&&t[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=$o(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&j8(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function p1e(r,e){var t=[],n=!1,a={},i=0;return r.replace(wo,function(o,l){var c=Ur(o);switch(Ch(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&t.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=r.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),t}function v1e(r,e){var t=[],n=!1;return r.replace(wo,function(i){var s=Ur(i);switch(Ch(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),t}function g1e(r){var e={};e.iauthor=r.read_shift(4);var t=oy(r);return e.rfx=t.s,e.ref=Zr(t.s),r.l+=16,e}var m1e=mo;function y1e(r,e){var t=[],n=[],a={},i=!1;return cp(r,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,t.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),t}var x1e="application/vnd.ms-office.vbaProject";function _1e(r){var e=kn.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(t,n){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var a=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");kn.utils.cfb_add(e,a,r.FileIndex[n].content)}}),kn.write(e)}function b1e(){return{"!type":"dialog"}}function S1e(){return{"!type":"dialog"}}function w1e(){return{"!type":"macro"}}function T1e(){return{"!type":"macro"}}var Z1=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,a+(o?"":"$")+qi(u)+(l?"":"$")+Bs(c)}return function(a,i){return e=i,a.replace(r,t)}})(),Gee=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,A1e=(function(){return function(e,t){return e.replace(Gee,function(n,a,i,s,o,l){var c=z8(s)-(i?0:t.c),u=B8(l)-(o?0:t.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}})();function jee(r,e){return r.replace(Gee,function(t,n,a,i,s,o){return n+(a=="$"?a+i:qi(z8(i)+e.c))+(s=="$"?s+o:Bs(B8(o)+e.r))})}function E1e(r,e,t){var n=H_(e),a=n.s,i=$o(t),s={r:i.r-a.r,c:i.c-a.c};return jee(r,s)}function M1e(r){return r.length!=1}function N7(r){return r.replace(/_xlfn\./g,"")}function Ci(r){r.l+=1}function K0(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function Wee(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return Yee(r);t.biff==12&&(n=4)}var a=r.read_shift(n),i=r.read_shift(n),s=K0(r),o=K0(r);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Yee(r){var e=K0(r),t=K0(r),n=r.read_shift(1),a=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function C1e(r,e,t){if(t.biff<8)return Yee(r);var n=r.read_shift(t.biff==12?4:2),a=r.read_shift(t.biff==12?4:2),i=K0(r),s=K0(r);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Xee(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return D1e(r);var n=r.read_shift(t&&t.biff==12?4:2),a=K0(r);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function D1e(r){var e=K0(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function R1e(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function N1e(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return I1e(r);var a=r.read_shift(n>=12?4:2),i=r.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function I1e(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:n}}function L1e(r,e,t){var n=(r[r.l++]&96)>>5,a=Wee(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,a]}function O1e(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2,"i"),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}var s=Wee(r,i,t);return[n,a,s]}function k1e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function P1e(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),i=8;if(t)switch(t.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}return r.l+=i,[n,a]}function B1e(r,e,t){var n=(r[r.l++]&96)>>5,a=C1e(r,e-1,t);return[n,a]}function z1e(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function I7(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function F1e(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(r.read_shift(t&&t.biff==2?1:2));return a}function U1e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function V1e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function H1e(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function G1e(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function qee(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function j1e(r){return r.read_shift(2),qee(r)}function W1e(r){return r.read_shift(2),qee(r)}function Y1e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=Xee(r,0,t);return[n,a]}function X1e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=N1e(r,0,t);return[n,a]}function q1e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var i=Xee(r,0,t);return[n,a,i]}function Z1e(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var a=r.read_shift(t&&t.biff<=3?1:2);return[K_e[a],$ee[a],n]}function K1e(r,e,t){var n=r[r.l++],a=r.read_shift(1),i=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:$1e(r);return[a,(i[0]===0?$ee:Z_e)[i[1]]]}function $1e(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function J1e(r,e,t){r.l+=t&&t.biff==2?3:4}function Q1e(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function e_e(r){return r.l++,ly[r.read_shift(1)]}function t_e(r){return r.l++,r.read_shift(2)}function r_e(r){return r.l++,r.read_shift(1)!==0}function n_e(r){return r.l++,po(r)}function a_e(r,e,t){return r.l++,uA(r,e-1,t)}function i_e(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=gi(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=ly[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=po(r);break;case 2:t[1]=cy(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function s_e(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((t.biff==12?oy:jN)(r));return a}function o_e(r,e,t){var n=0,a=0;t.biff==12?(n=r.read_shift(4),a=r.read_shift(4)):(a=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=i_e(r,t.biff);return s}function l_e(r,e,t){var n=r.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,i=r.read_shift(a);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,i]}function c_e(r,e,t){if(t.biff==5)return u_e(r);var n=r.read_shift(1)>>>5&3,a=r.read_shift(2),i=r.read_shift(4);return[n,a,i]}function u_e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function f_e(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function h_e(r,e,t){var n=r.read_shift(1)>>>5&3,a=r.read_shift(t&&t.biff==2?1:2);return[n,a]}function d_e(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function p_e(r,e,t){var n=(r[r.l++]&96)>>5,a=r.read_shift(2),i=4;if(t)switch(t.biff){case 5:i=15;break;case 12:i=6;break}return r.l+=i,[n,a]}var v_e=So,g_e=So,m_e=So;function hA(r,e,t){return r.l+=2,[R1e(r)]}function Y8(r){return r.l+=6,[]}var y_e=hA,x_e=Y8,__e=Y8,b_e=hA;function Zee(r){return r.l+=2,[Ii(r),r.read_shift(2)&1]}var S_e=hA,w_e=Zee,T_e=Y8,A_e=hA,E_e=hA,M_e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function C_e(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),a=r.read_shift(2),i=r.read_shift(2),s=M_e[t>>2&31];return{ixti:e,coltype:t&3,rt:s,idx:n,c:a,C:i}}function D_e(r){return r.l+=2,[r.read_shift(4)]}function R_e(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function N_e(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function I_e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function L_e(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function O_e(r){return r.l+=4,[0,0]}var L7={1:{n:"PtgExp",f:Q1e},2:{n:"PtgTbl",f:m_e},3:{n:"PtgAdd",f:Ci},4:{n:"PtgSub",f:Ci},5:{n:"PtgMul",f:Ci},6:{n:"PtgDiv",f:Ci},7:{n:"PtgPower",f:Ci},8:{n:"PtgConcat",f:Ci},9:{n:"PtgLt",f:Ci},10:{n:"PtgLe",f:Ci},11:{n:"PtgEq",f:Ci},12:{n:"PtgGe",f:Ci},13:{n:"PtgGt",f:Ci},14:{n:"PtgNe",f:Ci},15:{n:"PtgIsect",f:Ci},16:{n:"PtgUnion",f:Ci},17:{n:"PtgRange",f:Ci},18:{n:"PtgUplus",f:Ci},19:{n:"PtgUminus",f:Ci},20:{n:"PtgPercent",f:Ci},21:{n:"PtgParen",f:Ci},22:{n:"PtgMissArg",f:Ci},23:{n:"PtgStr",f:a_e},26:{n:"PtgSheet",f:R_e},27:{n:"PtgEndSheet",f:N_e},28:{n:"PtgErr",f:e_e},29:{n:"PtgBool",f:r_e},30:{n:"PtgInt",f:t_e},31:{n:"PtgNum",f:n_e},32:{n:"PtgArray",f:z1e},33:{n:"PtgFunc",f:Z1e},34:{n:"PtgFuncVar",f:K1e},35:{n:"PtgName",f:l_e},36:{n:"PtgRef",f:Y1e},37:{n:"PtgArea",f:L1e},38:{n:"PtgMemArea",f:f_e},39:{n:"PtgMemErr",f:v_e},40:{n:"PtgMemNoMem",f:g_e},41:{n:"PtgMemFunc",f:h_e},42:{n:"PtgRefErr",f:d_e},43:{n:"PtgAreaErr",f:k1e},44:{n:"PtgRefN",f:X1e},45:{n:"PtgAreaN",f:B1e},46:{n:"PtgMemAreaN",f:I_e},47:{n:"PtgMemNoMemN",f:L_e},57:{n:"PtgNameX",f:c_e},58:{n:"PtgRef3d",f:q1e},59:{n:"PtgArea3d",f:O1e},60:{n:"PtgRefErr3d",f:p_e},61:{n:"PtgAreaErr3d",f:P1e},255:{}},k_e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},P_e={1:{n:"PtgElfLel",f:Zee},2:{n:"PtgElfRw",f:A_e},3:{n:"PtgElfCol",f:y_e},6:{n:"PtgElfRwV",f:E_e},7:{n:"PtgElfColV",f:b_e},10:{n:"PtgElfRadical",f:S_e},11:{n:"PtgElfRadicalS",f:T_e},13:{n:"PtgElfColS",f:x_e},15:{n:"PtgElfColSV",f:__e},16:{n:"PtgElfRadicalLel",f:w_e},25:{n:"PtgList",f:C_e},29:{n:"PtgSxName",f:D_e},255:{}},B_e={0:{n:"PtgAttrNoop",f:O_e},1:{n:"PtgAttrSemi",f:G1e},2:{n:"PtgAttrIf",f:V1e},4:{n:"PtgAttrChoose",f:F1e},8:{n:"PtgAttrGoto",f:U1e},16:{n:"PtgAttrSum",f:J1e},32:{n:"PtgAttrBaxcel",f:I7},33:{n:"PtgAttrBaxcel",f:I7},64:{n:"PtgAttrSpace",f:j1e},65:{n:"PtgAttrSpaceSemi",f:W1e},128:{n:"PtgAttrIfError",f:H1e},255:{}};function dA(r,e,t,n){if(n.biff<8)return So(r,e);for(var a=r.l+e,i=[],s=0;s!==t.length;++s)switch(t[s][0]){case"PtgArray":t[s][1]=o_e(r,0,n),i.push(t[s][1]);break;case"PtgMemArea":t[s][2]=s_e(r,t[s][1],n),i.push(t[s][2]);break;case"PtgExp":n&&n.biff==12&&(t[s][1][1]=r.read_shift(4),i.push(t[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[s][0]}return e=a-r.l,e!==0&&i.push(So(r,e)),i}function pA(r,e,t){for(var n=r.l+e,a,i,s=[];n!=r.l;)e=n-r.l,i=r[r.l],a=L7[i]||L7[k_e[i]],(i===24||i===25)&&(a=(i===24?P_e:B_e)[r[r.l+1]]),!a||!a.f?So(r,e):s.push([a.n,a.f(r,e,t)]);return s}function z_e(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var F_e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function U_e(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function Kee(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(t.biff>8)switch(r[n[0]][0]){case 357:return a=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return r[n[0]][0][3]?(a=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function O7(r,e,t){var n=Kee(r,e,t);return n=="#REF"?n:U_e(n,t)}function uo(r,e,t,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,d,v="";if(!r[0]||!r[0][0])return"";for(var g=-1,m="",y=0,b=r[0].length;y<b;++y){var S=r[0][y];switch(S[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(r[0][g][1][0]){case 0:m=ti(" ",r[0][g][1][1]);break;case 1:m=ti("\r",r[0][g][1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}c=c+m,g=-1}o.push(c+F_e[S[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=dw(S[1][1],s,a),o.push(pw(u,i));break;case"PtgRefN":u=t?dw(S[1][1],t,a):S[1][1],o.push(pw(u,i));break;case"PtgRef3d":f=S[1][1],u=dw(S[1][2],s,a),v=O7(n,f,a),o.push(v+"!"+pw(u,i));break;case"PtgFunc":case"PtgFuncVar":var A=S[1][0],E=S[1][1];A||(A=0),A&=127;var M=A==0?[]:o.slice(-A);o.length-=A,E==="User"&&(E=M.shift()),o.push(E+"("+M.join(",")+")");break;case"PtgBool":o.push(S[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(S[1]);break;case"PtgNum":o.push(String(S[1]));break;case"PtgStr":o.push('"'+S[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(S[1]);break;case"PtgAreaN":d=p7(S[1][1],t?{s:t}:s,a),o.push(v4(d,a));break;case"PtgArea":d=p7(S[1][1],s,a),o.push(v4(d,a));break;case"PtgArea3d":f=S[1][1],d=S[1][2],v=O7(n,f,a),o.push(v+"!"+v4(d,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=S[1][2];var R=(n.names||[])[h-1]||(n[0]||[])[h],L=R?R.Name:"SH33TJSNAME"+String(h);L&&L.slice(0,6)=="_xlfn."&&!a.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var I=S[1][1];h=S[1][2];var O;if(a.biff<=5)I<0&&(I=-I),n[I]&&(O=n[I][h]);else{var P="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][h]&&n[I][h].itab>0&&(P=n.SheetNames[n[I][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[I]&&n[I][h])P+=n[I][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var k=(Kee(n,I,a)||"").split(";;");k[h-1]?P=k[h-1]:P+="SH33TJSERRX"}o.push(P);break}O||(O={Name:"SH33TJSERRY"}),o.push(O.Name);break;case"PtgParen":var U="(",F=")";if(g>=0){switch(m="",r[0][g][1][0]){case 2:U=ti(" ",r[0][g][1][1])+U;break;case 3:U=ti("\r",r[0][g][1][1])+U;break;case 4:F=ti(" ",r[0][g][1][1])+F;break;case 5:F=ti("\r",r[0][g][1][1])+F;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][g][1][0])}g=-1}o.push(U+o.pop()+F);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:S[1][1],r:S[1][0]};var q={c:t.c,r:t.r};if(n.sharedf[Zr(u)]){var H=n.sharedf[Zr(u)];o.push(uo(H,s,q,n,a))}else{var Z=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(uo(c[1],s,q,n,a)),Z=!0;break}Z||o.push(S[1])}break;case"PtgArray":o.push("{"+z_e(S[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+S[1].idx+"[#"+S[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(S));default:throw new Error("Unrecognized Formula Token: "+String(S))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&X.indexOf(r[0][y][0])==-1){S=r[0][g];var Y=!0;switch(S[1][0]){case 4:Y=!1;case 0:m=ti(" ",S[1][1]);break;case 5:Y=!1;case 1:m=ti("\r",S[1][1]);break;default:if(m="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+S[1][0])}o.push((Y?m:"")+o.pop()+(Y?"":m)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function V_e(r,e,t){var n=r.l+e,a=t.biff==2?1:2,i,s=r.read_shift(a);if(s==65535)return[[],So(r,e-2)];var o=pA(r,s,t);return e!==s+a&&(i=dA(r,e-s-a,o,t)),r.l=n,[o,i]}function H_e(r,e,t){var n=r.l+e,a=t.biff==2?1:2,i,s=r.read_shift(a);if(s==65535)return[[],So(r,e-2)];var o=pA(r,s,t);return e!==s+a&&(i=dA(r,e-s-a,o,t)),r.l=n,[o,i]}function G_e(r,e,t,n){var a=r.l+e,i=pA(r,n,t),s;return a!==r.l&&(s=dA(r,a-r.l,i,t)),[i,s]}function j_e(r,e,t){var n=r.l+e,a,i=r.read_shift(2),s=pA(r,i,t);return i==65535?[[],So(r,e-2)]:(e!==i+2&&(a=dA(r,n-i-2,s,t)),[s,a])}function W_e(r){var e;if(Ld(r,r.l+6)!==65535)return[po(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return e=r[r.l+2]===1,r.l+=8,[e,"b"];case 2:return e=r[r.l+2],r.l+=8,[e,"e"];case 3:return r.l+=8,["","s"]}return[]}function y4(r,e,t){var n=r.l+e,a=Dh(r);t.biff==2&&++r.l;var i=W_e(r),s=r.read_shift(1);t.biff!=2&&(r.read_shift(1),t.biff>=5&&r.read_shift(4));var o=H_e(r,n-r.l,t);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function WN(r,e,t){var n=r.read_shift(4),a=pA(r,n,t),i=r.read_shift(4),s=i>0?dA(r,i,a,t):null;return[a,s]}var Y_e=WN,YN=WN,X_e=WN,q_e=WN,Z_e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},$ee={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},K_e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function k7(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function x4(r){var e=r.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var yw={},K1={};function xw(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Jee(r,e,t,n,a,i){try{n.cellNF&&(r.z=qr[e])}catch(o){if(n.WTF)throw o}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=Ss(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(qr[e]==null&&Ud($ve[e]||"General",e),r.t==="e")r.w=r.w||ly[r.v];else if(e===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Qw(r.v);else if(r.t==="d"){var s=tl(r.v);(s|0)===s?r.w=s.toString(10):r.w=Qw(s)}else{if(r.v===void 0)return"";r.w=zm(r.v,K1)}else r.t==="d"?r.w=ic(e,tl(r.v),K1):r.w=ic(e,r.v,K1)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&t!=null)try{r.s=i.Fills[t],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=ED(a.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=a.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=ED(a.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=a.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function $_e(r,e){var t=si(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(r["!ref"]=Pn(t))}var J_e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Q_e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ebe=/<(?:\w:)?hyperlink [^>]*>/mg,tbe=/"(\w*:\w*)"/,rbe=/<(?:\w:)?col\b[^>]*[\/]?>/g,nbe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,abe=/<(?:\w:)?pageMargins[^>]*\/>/g,Qee=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,ibe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,sbe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function obe(r,e,t,n,a,i,s){if(!r)return r;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=r.match(Q_e);f?(c=r.slice(0,f.index),u=r.slice(f.index+f[0].length)):c=u=r;var h=c.match(Qee);h?X8(h[0],o,a,t):(h=c.match(ibe))&&lbe(h[0],h[1]||"",o,a,t);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var v=c.slice(d,d+50).match(tbe);v&&$_e(o,v[1])}var g=c.match(sbe);g&&g[1]&&pbe(g[1],a);var m=[];if(e.cellStyles){var y=c.match(rbe);y&&fbe(m,y)}f&&vbe(f[1],o,e,l,i,s);var b=u.match(nbe);b&&(o["!autofilter"]=hbe(b[0]));var S=[],A=u.match(J_e);if(A)for(d=0;d!=A.length;++d)S[d]=si(A[d].slice(A[d].indexOf('"')+1));var E=u.match(ebe);E&&cbe(o,E,n);var M=u.match(abe);if(M&&(o["!margins"]=ube(Ur(M[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Pn(l)),e.sheetRows>0&&o["!ref"]){var R=si(o["!ref"]);e.sheetRows<=+R.e.r&&(R.e.r=e.sheetRows-1,R.e.r>l.e.r&&(R.e.r=l.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>l.e.c&&(R.e.c=l.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Pn(R))}return m.length>0&&(o["!cols"]=m),S.length>0&&(o["!merges"]=S),o}function X8(r,e,t,n){var a=Ur(r);t.Sheets[n]||(t.Sheets[n]={}),a.codeName&&(t.Sheets[n].CodeName=Vn(Ta(a.codeName)))}function lbe(r,e,t,n,a){X8(r.slice(0,r.indexOf(">")),t,n,a)}function cbe(r,e,t){for(var n=Array.isArray(r),a=0;a!=e.length;++a){var i=Ur(Ta(e[a]),!0);if(!i.ref)return;var s=((t||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Vn(i.location))):(i.Target="#"+Vn(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=si(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Zr({c,r:l});n?(r[l]||(r[l]=[]),r[l][c]||(r[l][c]={t:"z",v:void 0}),r[l][c].l=i):(r[u]||(r[u]={t:"z",v:void 0}),r[u].l=i)}}}function ube(r){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){r[t]&&(e[t]=parseFloat(r[t]))}),e}function fbe(r,e){for(var t=!1,n=0;n!=e.length;++n){var a=Ur(e[n],!0);a.hidden&&(a.hidden=ka(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!t&&a.width&&(t=!0,W8(a.width)),o_(a);i<=s;)r[i++]=Ps(a)}}function hbe(r){var e={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return e}var dbe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function pbe(r,e){e.Views||(e.Views=[{}]),(r.match(dbe)||[]).forEach(function(t,n){var a=Ur(t);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),ka(a.rightToLeft)&&(e.Views[n].RTL=!0)})}var vbe=(function(){var r=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=eT("v"),s=eT("f");return function(l,c,u,f,h,d){for(var v=0,g="",m=[],y=[],b=0,S=0,A=0,E="",M,R,L=0,I=0,O,P,k=0,U=0,F=Array.isArray(d.CellXf),q,H=[],Z=[],X=Array.isArray(c),Y=[],re={},W=!1,j=!!u.sheetStubs,J=l.split(e),ee=0,ae=J.length;ee!=ae;++ee){g=J[ee].trim();var ce=g.length;if(ce!==0){var me=0;e:for(v=0;v<ce;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(u&&u.cellStyles){if(R=Ur(g.slice(me,v),!0),L=R.r!=null?parseInt(R.r,10):L+1,I=-1,u.sheetRows&&u.sheetRows<L)continue;re={},W=!1,R.ht&&(W=!0,re.hpt=parseFloat(R.ht),re.hpx=aT(re.hpt)),R.hidden=="1"&&(W=!0,re.hidden=!0),R.outlineLevel!=null&&(W=!0,re.level=+R.outlineLevel),W&&(Y[L-1]=re)}break;case"<":me=v;break}if(me>=v)break;if(R=Ur(g.slice(me,v),!0),L=R.r!=null?parseInt(R.r,10):L+1,I=-1,!(u.sheetRows&&u.sheetRows<L)){f.s.r>L-1&&(f.s.r=L-1),f.e.r<L-1&&(f.e.r=L-1),u&&u.cellStyles&&(re={},W=!1,R.ht&&(W=!0,re.hpt=parseFloat(R.ht),re.hpx=aT(re.hpt)),R.hidden=="1"&&(W=!0,re.hidden=!0),R.outlineLevel!=null&&(W=!0,re.level=+R.outlineLevel),W&&(Y[L-1]=re)),m=g.slice(v).split(r);for(var Se=0;Se!=m.length&&m[Se].trim().charAt(0)=="<";++Se);for(m=m.slice(Se),v=0;v!=m.length;++v)if(g=m[v].trim(),g.length!==0){if(y=g.match(t),b=v,S=0,A=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(b=0,E=y[1],S=0;S!=E.length&&!((A=E.charCodeAt(S)-64)<1||A>26);++S)b=26*b+A;--b,I=b}else++I;for(S=0;S!=g.length&&g.charCodeAt(S)!==62;++S);if(++S,R=Ur(g.slice(0,S),!0),R.r||(R.r=Zr({r:L-1,c:I})),E=g.slice(S),M={t:""},(y=E.match(i))!=null&&y[1]!==""&&(M.v=Vn(y[1])),u.cellFormula){if((y=E.match(s))!=null&&y[1]!==""){if(M.f=Vn(Ta(y[1])).replace(/\r\n/g,`
`),u.xlfn||(M.f=N7(M.f)),y[0].indexOf('t="array"')>-1)M.F=(E.match(a)||[])[1],M.F.indexOf(":")>-1&&H.push([si(M.F),M.F]);else if(y[0].indexOf('t="shared"')>-1){P=Ur(y[0]);var we=Vn(Ta(y[1]));u.xlfn||(we=N7(we)),Z[parseInt(P.si,10)]=[P,we,R.r]}}else(y=E.match(/<f[^>]*\/>/))&&(P=Ur(y[0]),Z[P.si]&&(M.f=E1e(Z[P.si][1],Z[P.si][2],R.r)));var Me=$o(R.r);for(S=0;S<H.length;++S)Me.r>=H[S][0].s.r&&Me.r<=H[S][0].e.r&&Me.c>=H[S][0].s.c&&Me.c<=H[S][0].e.c&&(M.F=H[S][1])}if(R.t==null&&M.v===void 0)if(M.f||M.F)M.v=0,M.t="n";else if(j)M.t="z";else continue;else M.t=R.t||"n";switch(f.s.c>I&&(f.s.c=I),f.e.c<I&&(f.e.c=I),M.t){case"n":if(M.v==""||M.v==null){if(!j)continue;M.t="z"}else M.v=parseFloat(M.v);break;case"s":if(typeof M.v>"u"){if(!j)continue;M.t="z"}else O=yw[parseInt(M.v,10)],M.v=O.t,M.r=O.r,u.cellHTML&&(M.h=O.h);break;case"str":M.t="s",M.v=M.v!=null?Ta(M.v):"",u.cellHTML&&(M.h=O8(M.v));break;case"inlineStr":y=E.match(n),M.t="s",y!=null&&(O=j8(y[1]))?(M.v=O.t,u.cellHTML&&(M.h=O.h)):M.v="";break;case"b":M.v=ka(M.v);break;case"d":u.cellDates?M.v=Ss(M.v,1):(M.v=tl(Ss(M.v,1)),M.t="n");break;case"e":(!u||u.cellText!==!1)&&(M.w=M.v),M.v=_ee[M.v];break}if(k=U=0,q=null,F&&R.s!==void 0&&(q=d.CellXf[R.s],q!=null&&(q.numFmtId!=null&&(k=q.numFmtId),u.cellStyles&&q.fillId!=null&&(U=q.fillId))),Jee(M,k,U,u,h,d),u.cellDates&&F&&M.t=="n"&&iy(qr[k])&&(M.t="d",M.v=GN(M.v)),R.cm&&u.xlmeta){var Ve=(u.xlmeta.Cell||[])[+R.cm-1];Ve&&Ve.type=="XLDAPR"&&(M.D=!0)}if(X){var de=$o(R.r);c[de.r]||(c[de.r]=[]),c[de.r][de.c]=M}else c[R.r]=M}}}}Y.length>0&&(c["!rows"]=Y)}})();function gbe(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var a=r.read_shift(2);r.l+=1;var i=r.read_shift(1);return r.l=n,i&7&&(t.level=i&7),i&16&&(t.hidden=!0),i&32&&(t.hpt=a/20),t}var mbe=oy;function ybe(){}function xbe(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=Vge(r),t}function _be(r){var e=ru(r);return[e]}function bbe(r){var e=sy(r);return[e]}function Sbe(r){var e=ru(r),t=r.read_shift(1);return[e,t,"b"]}function wbe(r){var e=sy(r),t=r.read_shift(1);return[e,t,"b"]}function Tbe(r){var e=ru(r),t=r.read_shift(1);return[e,t,"e"]}function Abe(r){var e=sy(r),t=r.read_shift(1);return[e,t,"e"]}function Ebe(r){var e=ru(r),t=r.read_shift(4);return[e,t,"s"]}function Mbe(r){var e=sy(r),t=r.read_shift(4);return[e,t,"s"]}function Cbe(r){var e=ru(r),t=po(r);return[e,t,"n"]}function ete(r){var e=sy(r),t=po(r);return[e,t,"n"]}function Dbe(r){var e=ru(r),t=V8(r);return[e,t,"n"]}function Rbe(r){var e=sy(r),t=V8(r);return[e,t,"n"]}function Nbe(r){var e=ru(r),t=F8(r);return[e,t,"is"]}function Ibe(r){var e=ru(r),t=mo(r);return[e,t,"str"]}function Lbe(r){var e=sy(r),t=mo(r);return[e,t,"str"]}function Obe(r,e,t){var n=r.l+e,a=ru(r);a.r=t["!row"];var i=r.read_shift(1),s=[a,i,"b"];if(t.cellFormula){r.l+=2;var o=YN(r,n-r.l,t);s[3]=uo(o,null,a,t.supbooks,t)}else r.l=n;return s}function kbe(r,e,t){var n=r.l+e,a=ru(r);a.r=t["!row"];var i=r.read_shift(1),s=[a,i,"e"];if(t.cellFormula){r.l+=2;var o=YN(r,n-r.l,t);s[3]=uo(o,null,a,t.supbooks,t)}else r.l=n;return s}function Pbe(r,e,t){var n=r.l+e,a=ru(r);a.r=t["!row"];var i=po(r),s=[a,i,"n"];if(t.cellFormula){r.l+=2;var o=YN(r,n-r.l,t);s[3]=uo(o,null,a,t.supbooks,t)}else r.l=n;return s}function Bbe(r,e,t){var n=r.l+e,a=ru(r);a.r=t["!row"];var i=mo(r),s=[a,i,"str"];if(t.cellFormula){r.l+=2;var o=YN(r,n-r.l,t);s[3]=uo(o,null,a,t.supbooks,t)}else r.l=n;return s}var zbe=oy;function Fbe(r,e){var t=r.l+e,n=oy(r),a=U8(r),i=mo(r),s=mo(r),o=mo(r);r.l=t;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Ube(){}function Vbe(r,e,t){var n=r.l+e,a=mee(r),i=r.read_shift(1),s=[a];if(s[2]=i,t.cellFormula){var o=Y_e(r,n-r.l,t);s[1]=o}else r.l=n;return s}function Hbe(r,e,t){var n=r.l+e,a=oy(r),i=[a];if(t.cellFormula){var s=q_e(r,n-r.l,t);i[1]=s,r.l=n}else r.l=n;return i}var Gbe=["left","right","top","bottom","header","footer"];function jbe(r){var e={};return Gbe.forEach(function(t){e[t]=po(r)}),e}function Wbe(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function Ybe(){}function Xbe(){}function qbe(r,e,t,n,a,i,s){if(!r)return r;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,v,g,m,y,b,S,A,E,M=[];o.biff=12,o["!row"]=0;var R=0,L=!1,I=[],O={},P=o.supbooks||a.supbooks||[[]];if(P.sharedf=O,P.arrayf=I,P.SheetNames=a.SheetNames||a.Sheets.map(function(X){return X.name}),!o.supbooks&&(o.supbooks=P,a.Names))for(var k=0;k<a.Names.length;++k)P[0][k+1]=a.Names[k];var U=[],F=[],q=!1;DD[16]={n:"BrtShortReal",f:ete};var H;if(cp(r,function(Y,re,W){if(!h)switch(W){case 148:c=Y;break;case 0:d=Y,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),A=Bs(m=d.r),o["!row"]=d.r,(Y.hidden||Y.hpt||Y.level!=null)&&(Y.hpt&&(Y.hpx=aT(Y.hpt)),F[Y.r]=Y);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:Y[2]},Y[2]){case"n":v.v=Y[1];break;case"s":S=yw[Y[1]],v.v=S.t,v.r=S.r;break;case"b":v.v=!!Y[1];break;case"e":v.v=Y[1],o.cellText!==!1&&(v.w=ly[v.v]);break;case"str":v.t="s",v.v=Y[1];break;case"is":v.t="s",v.v=Y[1].t;break}if((g=s.CellXf[Y[0].iStyleRef])&&Jee(v,g.numFmtId,null,o,i,s),y=Y[0].c==-1?y+1:Y[0].c,o.dense?(l[m]||(l[m]=[]),l[m][y]=v):l[qi(y)+A]=v,o.cellFormula){for(L=!1,R=0;R<I.length;++R){var j=I[R];d.r>=j[0].s.r&&d.r<=j[0].e.r&&y>=j[0].s.c&&y<=j[0].e.c&&(v.F=Pn(j[0]),L=!0)}!L&&Y.length>3&&(v.f=Y[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),o.cellDates&&g&&v.t=="n"&&iy(qr[g.numFmtId])){var J=E0(v.v);J&&(v.t="d",v.v=new Date(J.y,J.m-1,J.d,J.H,J.M,J.S,J.u))}H&&(H.type=="XLDAPR"&&(v.D=!0),H=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;v={t:"z",v:void 0},y=Y[0].c==-1?y+1:Y[0].c,o.dense?(l[m]||(l[m]=[]),l[m][y]=v):l[qi(y)+A]=v,u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),H&&(H.type=="XLDAPR"&&(v.D=!0),H=void 0);break;case 176:M.push(Y);break;case 49:H=((o.xlmeta||{}).Cell||[])[Y-1];break;case 494:var ee=n["!id"][Y.relId];for(ee?(Y.Target=ee.Target,Y.loc&&(Y.Target+="#"+Y.loc),Y.Rel=ee):Y.relId==""&&(Y.Target="#"+Y.loc),m=Y.rfx.s.r;m<=Y.rfx.e.r;++m)for(y=Y.rfx.s.c;y<=Y.rfx.e.c;++y)o.dense?(l[m]||(l[m]=[]),l[m][y]||(l[m][y]={t:"z",v:void 0}),l[m][y].l=Y):(b=Zr({c:y,r:m}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=Y);break;case 426:if(!o.cellFormula)break;I.push(Y),E=o.dense?l[m][y]:l[qi(y)+A],E.f=uo(Y[1],u,{r:d.r,c:y},P,o),E.F=Pn(Y[0]);break;case 427:if(!o.cellFormula)break;O[Zr(Y[0].s)]=Y[1],E=o.dense?l[m][y]:l[qi(y)+A],E.f=uo(Y[1],u,{r:d.r,c:y},P,o);break;case 60:if(!o.cellStyles)break;for(;Y.e>=Y.s;)U[Y.e--]={width:Y.w/256,hidden:!!(Y.flags&1),level:Y.level},q||(q=!0,W8(Y.w/256)),o_(U[Y.e+1]);break;case 161:l["!autofilter"]={ref:Pn(Y)};break;case 476:l["!margins"]=Y;break;case 147:a.Sheets[t]||(a.Sheets[t]={}),Y.name&&(a.Sheets[t].CodeName=Y.name),(Y.above||Y.left)&&(l["!outline"]={above:Y.above,left:Y.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),Y.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!re.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Pn(c||u)),o.sheetRows&&l["!ref"]){var Z=si(l["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>u.e.r&&(Z.e.r=u.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>u.e.c&&(Z.e.c=u.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Pn(Z))}return M.length>0&&(l["!merges"]=M),U.length>0&&(l["!cols"]=U),F.length>0&&(l["!rows"]=F),l}function Zbe(r){var e=[],t=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=t?+s[2]:s[2])});var a=Vn((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,a,n]}function Kbe(r,e,t,n,a,i){var s=i||{"!type":"chart"};if(!r)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Zbe(f);u.s.r=u.s.c=0,u.e.c=o,c=qi(o),h[0].forEach(function(d,v){s[c+Bs(v)]={t:"n",v:d,z:h[1]},l=v}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=Pn(u)),s}function $be(r,e,t,n,a){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=r.match(Qee);return o&&X8(o[0],i,a,t),(s=r.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Jbe(r,e){r.l+=10;var t=mo(r);return{name:t}}function Qbe(r,e,t,n,a){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return cp(r,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[t]||(a.Sheets[t]={}),l.name&&(a.Sheets[t].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var tte=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],eSe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],tSe=[],rSe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function P7(r,e){for(var t=0;t!=r.length;++t)for(var n=r[t],a=0;a!=e.length;++a){var i=e[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=ka(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function B7(r,e){for(var t=0;t!=e.length;++t){var n=e[t];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=ka(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function rte(r){B7(r.WBProps,tte),B7(r.CalcPr,rSe),P7(r.WBView,eSe),P7(r.Sheets,tSe),K1.date1904=ka(r.WBProps.date1904)}var nSe="][*?/\\".split("");function aSe(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return nSe.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var iSe=/<\w+:workbook/;function sSe(r,e){if(!r)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(r.replace(wo,function(l,c){var u=Ur(l);switch(Ch(u[0])){case"<?xml":break;case"<workbook":l.match(iSe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),t.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],t.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":tte.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":t.WBProps[f[0]]=ka(u[f[0]]);break;case"int":t.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:t.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(t.WBProps.CodeName=Ta(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],t.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Vn(Ta(u.name)),delete u[0],t.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Ta(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),ka(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Vn(Ta(r.slice(s,c))),t.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],t.CalcPr=u;break;case"<calcPr/>":delete u[0],t.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Tge.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return rte(t),t}function oSe(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=xP(r),t.name=mo(r),t}function lSe(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var a=e>8?mo(r):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function cSe(r,e){var t={};return r.read_shift(4),t.ArchID=r.read_shift(4),r.l+=e-8,t}function uSe(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var a=r.read_shift(4),i=Hge(r),s=X_e(r,0,t),o=U8(r);r.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function fSe(r,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],DD[16]={n:"BrtFRTArchID$",f:cSe},cp(r,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),t.Sheets.push(l);break;case 153:t.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=uo(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),rte(t),t.Names=i,t.supbooks=s,t}function hSe(r,e,t){return e.slice(-4)===".bin"?fSe(r,t):sSe(r,t)}function dSe(r,e,t,n,a,i,s,o){return e.slice(-4)===".bin"?qbe(r,n,t,a,i,s,o):obe(r,n,t,a,i,s,o)}function pSe(r,e,t,n,a,i,s,o){return e.slice(-4)===".bin"?Qbe(r,n,t,a,i):$be(r,n,t,a,i)}function vSe(r,e,t,n,a,i,s,o){return e.slice(-4)===".bin"?w1e():T1e()}function gSe(r,e,t,n,a,i,s,o){return e.slice(-4)===".bin"?b1e():S1e()}function mSe(r,e,t,n){return e.slice(-4)===".bin"?zxe(r,t,n):Ixe(r,t,n)}function ySe(r,e,t){return Hee(r,t)}function xSe(r,e,t){return e.slice(-4)===".bin"?exe(r,t):Jye(r,t)}function _Se(r,e,t){return e.slice(-4)===".bin"?y1e(r,t):d1e(r,t)}function bSe(r,e,t){return e.slice(-4)===".bin"?u1e(r):l1e(r)}function SSe(r,e,t,n){return t.slice(-4)===".bin"?f1e(r,e,t,n):void 0}function wSe(r,e,t){return e.slice(-4)===".bin"?s1e(r,e,t):o1e(r,e,t)}var nte=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,ate=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ru(r,e){var t=r.split(/\s+/),n=[];if(n[0]=t[0],t.length===1)return n;var a=r.match(nte),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(ate),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function TSe(r){var e=r.split(/\s+/),t={};if(e.length===1)return t;var n=r.match(nte),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(ate),(i=a[1].indexOf(":"))===-1?t[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),t[s]=a[2].slice(1,a[2].length-1));return t}var _w;function ASe(r,e){var t=_w[r]||Vn(r);return t==="General"?zm(e):ic(t,e)}function ESe(r,e,t,n){var a=n;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=ka(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ss(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}r[Vn(e)]=a}function MSe(r,e,t){if(r.t!=="z"){if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||ly[r.v]:e==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Qw(r.v):r.w=zm(r.v):r.w=ASe(e||"General",r.v)}catch(i){if(t.WTF)throw i}try{var n=_w[e]||e||"General";if(t.cellNF&&(r.z=n),t.cellDates&&r.t=="n"&&iy(n)){var a=E0(r.v);a&&(r.t="d",r.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(t.WTF)throw i}}}function CSe(r,e,t){if(t.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=Exe[n.Pattern]||n.Pattern)}r[e.ID]=e}function DSe(r,e,t,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var d=[],v=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&d.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(t.Type){case"Boolean":n.t="b",n.v=ka(r);break;case"String":n.t="s",n.r=i7(Vn(r)),n.v=r.indexOf("<")>-1?Vn(e||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(Ss(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Vn(r):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=_ee[r],c.cellText!==!1&&(n.w=r);break;default:r==""&&e==""?n.t="z":(n.t="s",n.v=i7(e||r));break}if(MSe(n,u,c),c.cellFormula!==!1)if(n.Formula){var g=Vn(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=Z1(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Z1("RC:RC",a):n.ArrayRange&&(n.F=Z1(n.ArrayRange,a),l.push([si(n.F),n.F]))}else for(v=0;v<l.length;++v)a.r>=l[v][0].s.r&&a.r<=l[v][0].e.r&&a.c>=l[v][0].s.c&&a.c<=l[v][0].e.c&&(n.F=l[v][1]);c.cellStyles&&(d.forEach(function(m){!h.patternType&&m.patternType&&(h.patternType=m.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function RSe(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function _4(r,e){var t=e||{};WQ();var n=W2(k8(r));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(n=Ta(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Ps(t);return s.type="string",rT.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ue){a.indexOf("<"+ue)>=0&&(i=!0)}),i)return FSe(n,t);_w={"General Number":"General","General Date":qr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":qr[15],"Short Date":qr[14],"Long Time":qr[19],"Medium Time":qr[18],"Short Time":qr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:qr[2],Standard:qr[4],Percent:qr[10],Scientific:qr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=t.dense?[]:{},d="",v={},g={},m=Ru('<Data ss:Type="String">'),y=0,b=0,S=0,A={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},M={},R="",L=0,I=[],O={},P={},k=0,U=[],F=[],q={},H=[],Z,X=!1,Y=[],re=[],W={},j=0,J=0,ee={Sheets:[],WBProps:{date1904:!1}},ae={};tT.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";o=tT.exec(n);)switch(o[3]=(ce=o[3]).toLowerCase()){case"data":if(ce=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?DSe(n.slice(y,o.index),R,m,l[l.length-1][0]=="comment"?q:v,{c:b,r:S},E,H[b],g,Y,t):(R="",m=Ru(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(F.length>0&&(v.c=F),(!t.sheetRows||t.sheetRows>S)&&v.v!==void 0&&(t.dense?(h[S]||(h[S]=[]),h[S][b]=v):h[qi(b)+Bs(S)]=v),v.HRef&&(v.l={Target:Vn(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(j=b+(parseInt(v.MergeAcross,10)|0),J=S+(parseInt(v.MergeDown,10)|0),I.push({s:{c:b,r:S},e:{c:j,r:J}})),!t.sheetStubs)v.MergeAcross?b=j+1:++b;else if(v.MergeAcross||v.MergeDown){for(var me=b;me<=j;++me)for(var Se=S;Se<=J;++Se)(me>b||Se>S)&&(t.dense?(h[Se]||(h[Se]=[]),h[Se][me]={t:"z"}):h[qi(me)+Bs(Se)]={t:"z"});b=j+1}else++b;else v=TSe(o[0]),v.Index&&(b=+v.Index-1),b<A.s.c&&(A.s.c=b),b>A.e.c&&(A.e.c=b),o[0].slice(-2)==="/>"&&++b,F=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(S<A.s.r&&(A.s.r=S),S>A.e.r&&(A.e.r=S),o[0].slice(-2)==="/>"&&(g=Ru(o[0]),g.Index&&(S=+g.Index-1)),b=0,++S):(g=Ru(o[0]),g.Index&&(S=+g.Index-1),W={},(g.AutoFitHeight=="0"||g.Height)&&(W.hpx=parseInt(g.Height,10),W.hpt=Vee(W.hpx),re[S]=W),g.Hidden=="1"&&(W.hidden=!0,re[S]=W));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(d),A.s.r<=A.e.r&&A.s.c<=A.e.c&&(h["!ref"]=Pn(A),t.sheetRows&&t.sheetRows<=A.e.r&&(h["!fullref"]=h["!ref"],A.e.r=t.sheetRows-1,h["!ref"]=Pn(A))),I.length&&(h["!merges"]=I),H.length>0&&(h["!cols"]=H),re.length>0&&(h["!rows"]=re),u[d]=h}else A={s:{r:2e6,c:2e6},e:{r:0,c:0}},S=b=0,l.push([o[3],!1]),c=Ru(o[0]),d=Vn(c.Name),h=t.dense?[]:{},I=[],Y=[],re=[],ae={name:d,Hidden:0},ee.Sheets.push(ae);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),H=[],X=!1}break;case"style":o[1]==="/"?CSe(E,M,t):M=Ru(o[0]);break;case"numberformat":M.nf=Vn(Ru(o[0]).Format||"General"),_w[M.nf]&&(M.nf=_w[M.nf]);for(var we=0;we!=392&&qr[we]!=M.nf;++we);if(we==392){for(we=57;we!=392;++we)if(qr[we]==null){Ud(M.nf,we);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Z=Ru(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!X&&Z.wpx>10){X=!0,Zo=Fee;for(var Me=0;Me<H.length;++Me)H[Me]&&o_(H[Me])}X&&o_(Z),H[Z.Index-1||H.length]=Z;for(var Ve=0;Ve<+Z.Span;++Ve)H[H.length]=Ps(Z);break;case"namedrange":if(o[1]==="/")break;ee.Names||(ee.Names=[]);var de=Ur(o[0]),dt={Name:de.Name,Ref:Z1(de.RefersTo.slice(1),{r:0,c:0})};ee.Sheets.length>0&&(dt.Sheet=ee.Sheets.length-1),ee.Names.push(dt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?R+=n.slice(L,o.index):L=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;M.Interior=Ru(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?dme(O,ce,n.slice(k,o.index)):k=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));RSe(q),F.push(q)}else l.push([o[3],!1]),c=Ru(o[0]),q={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var K=Ru(o[0]);h["!autofilter"]={ref:Z1(K.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return G7(n,t);var se=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:se=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:se=!1}break;case"excelworkbook":switch(o[3]){case"date1904":ee.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:se=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:se=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(k,o.index)){case"SheetHidden":ae.Hidden=1;break;case"SheetVeryHidden":ae.Hidden=2;break}else k=o.index+o[0].length;break;case"header":h["!margins"]||xw(h["!margins"]={},"xlml"),isNaN(+Ur(o[0]).Margin)||(h["!margins"].header=+Ur(o[0]).Margin);break;case"footer":h["!margins"]||xw(h["!margins"]={},"xlml"),isNaN(+Ur(o[0]).Margin)||(h["!margins"].footer=+Ur(o[0]).Margin);break;case"pagemargins":var _e=Ur(o[0]);h["!margins"]||xw(h["!margins"]={},"xlml"),isNaN(+_e.Top)||(h["!margins"].top=+_e.Top),isNaN(+_e.Left)||(h["!margins"].left=+_e.Left),isNaN(+_e.Right)||(h["!margins"].right=+_e.Right),isNaN(+_e.Bottom)||(h["!margins"].bottom=+_e.Bottom);break;case"displayrighttoleft":ee.Views||(ee.Views=[]),ee.Views[0]||(ee.Views[0]={}),ee.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:se=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:se=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:se=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:se=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:se=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:se=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:se=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:se=!1}break;case"smarttags":break;default:se=!1;break}if(se||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?ESe(P,ce,U,n.slice(k,o.index)):(U=o,k=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var oe={};return!t.bookSheets&&!t.bookProps&&(oe.Sheets=u),oe.SheetNames=f,oe.Workbook=ee,oe.SSF=Ps(qr),oe.Props=O,oe.Custprops=P,oe}function wP(r,e){switch(K8(e=e||{}),e.type||"base64"){case"base64":return _4(ac(r),e);case"binary":case"buffer":case"file":return _4(r,e);case"array":return _4(ay(r),e)}}function NSe(r){var e={},t=r.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Wge(t),t.length-t.l<=4)return e;var n=t.read_shift(4);if(n==0||n>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(n=t.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=Yge(t),n=t.read_shift(4),n==0||n>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var ISe=[60,1084,2066,2165,2175];function LSe(r,e,t,n,a){var i=n,s=[],o=t.slice(t.l,t.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),t.l+=i;for(var l=Ld(t,t.l),c=TP[l],u=0;c!=null&&ISe.indexOf(l)>-1;)i=Ld(t,t.l+2),u=t.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=t.slice(u,t.l+4+i),s.push(o),t.l+=4+i,c=TP[l=Ld(t,t.l)];var f=b0(s);ks(f,0);var h=0;f.lens=[];for(var d=0;d<s.length;++d)f.lens.push(h),h+=s[d].length;if(f.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,a)}function Gf(r,e,t){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,e.cellNF&&(r.z=qr[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||ly[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Qw(r.v):r.w=zm(r.v):r.w=ic(n,r.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&r.t=="n"&&iy(qr[n]||String(n))){var a=E0(r.v);a&&(r.t="d",r.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function NM(r,e,t){return{v:r,ixfe:e,t}}function OSe(r,e){var t={opts:{}},n={},a=e.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",d,v,g,m,y={},b=[],S,A,E=[],M=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},I=function(pt){return pt<8?Em[pt]:pt<64&&M[pt-8]||Em[pt]},O=function(pt,Dt,Vt){var $e=Dt.XF.data;if(!(!$e||!$e.patternType||!Vt||!Vt.cellStyles)){Dt.s={},Dt.s.patternType=$e.patternType;var yt;(yt=nT(I($e.icvFore)))&&(Dt.s.fgColor={rgb:yt}),(yt=nT(I($e.icvBack)))&&(Dt.s.bgColor={rgb:yt})}},P=function(pt,Dt,Vt){if(!(W>1)&&!(Vt.sheetRows&&pt.r>=Vt.sheetRows)){if(Vt.cellStyles&&Dt.XF&&Dt.XF.data&&O(pt,Dt,Vt),delete Dt.ixfe,delete Dt.XF,f=pt,h=Zr(pt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),pt.r<s.s.r&&(s.s.r=pt.r),pt.c<s.s.c&&(s.s.c=pt.c),pt.r+1>s.e.r&&(s.e.r=pt.r+1),pt.c+1>s.e.c&&(s.e.c=pt.c+1),Vt.cellFormula&&Dt.f){for(var $e=0;$e<b.length;++$e)if(!(b[$e][0].s.c>pt.c||b[$e][0].s.r>pt.r)&&!(b[$e][0].e.c<pt.c||b[$e][0].e.r<pt.r)){Dt.F=Pn(b[$e][0]),(b[$e][0].s.c!=pt.c||b[$e][0].s.r!=pt.r)&&delete Dt.f,Dt.f&&(Dt.f=""+uo(b[$e][1],s,pt,Y,k));break}}Vt.dense?(a[pt.r]||(a[pt.r]=[]),a[pt.r][pt.c]=Dt):a[h]=Dt}},k={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(k.password=e.password);var U,F=[],q=[],H=[],Z=[],X=!1,Y=[];Y.SheetNames=k.snames,Y.sharedf=k.sharedf,Y.arrayf=k.arrayf,Y.names=[],Y.XTI=[];var re=0,W=0,j=0,J=[],ee=[],ae;k.codepage=1200,Gu(1200);for(var ce=!1;r.l<r.length-1;){var me=r.l,Se=r.read_shift(2);if(Se===0&&re===10)break;var we=r.l===r.length?0:r.read_shift(2),Me=TP[Se];if(Me&&Me.f){if(e.bookSheets&&re===133&&Se!==133)break;if(re=Se,Me.r===2||Me.r==12){var Ve=r.read_shift(2);if(we-=2,!k.enc&&Ve!==Se&&((Ve&255)<<8|Ve>>8)!==Se)throw new Error("rt mismatch: "+Ve+"!="+Se);Me.r==12&&(r.l+=10,we-=10)}var de={};if(Se===10?de=Me.f(r,we,k):de=LSe(Se,Me,r,we,k),W==0&&[9,521,1033,2057].indexOf(re)===-1)continue;switch(Se){case 34:t.opts.Date1904=R.WBProps.date1904=de;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(k.enc||(r.l=0),k.enc=de,!e.password)throw new Error("File is password-protected");if(de.valid==null)throw new Error("Encryption scheme unsupported");if(!de.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=de;break;case 66:var dt=Number(de);switch(dt){case 21010:dt=1200;break;case 32768:dt=1e4;break;case 32769:dt=1252;break}Gu(k.codepage=dt),ce=!0;break;case 317:k.rrtabid=de;break;case 25:k.winlocked=de;break;case 439:t.opts.RefreshAll=de;break;case 12:t.opts.CalcCount=de;break;case 16:t.opts.CalcDelta=de;break;case 17:t.opts.CalcIter=de;break;case 13:t.opts.CalcMode=de;break;case 14:t.opts.CalcPrecision=de;break;case 95:t.opts.CalcSaveRecalc=de;break;case 15:k.CalcRefMode=de;break;case 2211:t.opts.FullCalc=de;break;case 129:de.fDialog&&(a["!type"]="dialog"),de.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),de.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:E.push(de);break;case 430:Y.push([de]),Y[Y.length-1].XTI=[];break;case 35:case 547:Y[Y.length-1].push(de);break;case 24:case 536:ae={Name:de.Name,Ref:uo(de.rgce,s,null,Y,k)},de.itab>0&&(ae.Sheet=de.itab-1),Y.names.push(ae),Y[0]||(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].push(de),de.Name=="_xlnm._FilterDatabase"&&de.itab>0&&de.rgce&&de.rgce[0]&&de.rgce[0][0]&&de.rgce[0][0][0]=="PtgArea3d"&&(ee[de.itab-1]={ref:Pn(de.rgce[0][0][1][2])});break;case 22:k.ExternCount=de;break;case 23:Y.length==0&&(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].XTI=Y[Y.length-1].XTI.concat(de),Y.XTI=Y.XTI.concat(de);break;case 2196:if(k.biff<8)break;ae!=null&&(ae.Comment=de[1]);break;case 18:a["!protect"]=de;break;case 19:de!==0&&k.WTF&&console.error("Password verifier: "+de);break;case 133:i[de.pos]=de,k.snames.push(de.name);break;case 10:{if(--W)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Pn(s),e.sheetRows&&e.sheetRows<=s.e.r){var K=s.e.r;s.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Pn(s),s.e.r=K}s.e.r++,s.e.c++}F.length>0&&(a["!merges"]=F),q.length>0&&(a["!objects"]=q),H.length>0&&(a["!cols"]=H),Z.length>0&&(a["!rows"]=Z),R.Sheets.push(L)}c===""?u=a:n[c]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[Se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[de.BIFFVer]||8),k.biffguess=de.BIFFVer==0,de.BIFFVer==0&&de.dt==4096&&(k.biff=5,ce=!0,Gu(k.codepage=28591)),k.biff==8&&de.BIFFVer==0&&de.dt==16&&(k.biff=2),W++)break;if(a=e.dense?[]:{},k.biff<8&&!ce&&(ce=!0,Gu(k.codepage=e.codepage||1252)),k.biff<5||de.BIFFVer==0&&de.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var se={pos:r.l-we,name:c};i[se.pos]=se,k.snames.push(c)}else c=(i[me]||{name:""}).name;de.dt==32&&(a["!type"]="chart"),de.dt==64&&(a["!type"]="macro"),F=[],q=[],k.arrayf=b=[],H=[],Z=[],X=!1,L={Hidden:(i[me]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[de.r]||[])[de.c]:a[Zr({c:de.c,r:de.r})])&&++de.c,S={ixfe:de.ixfe,XF:E[de.ixfe]||{},v:de.val,t:"n"},j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P({c:de.c,r:de.r},S,e);break;case 5:case 517:S={ixfe:de.ixfe,XF:E[de.ixfe],v:de.val,t:de.t},j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P({c:de.c,r:de.r},S,e);break;case 638:S={ixfe:de.ixfe,XF:E[de.ixfe],v:de.rknum,t:"n"},j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P({c:de.c,r:de.r},S,e);break;case 189:for(var _e=de.c;_e<=de.C;++_e){var oe=de.rkrec[_e-de.c][0];S={ixfe:oe,XF:E[oe],v:de.rkrec[_e-de.c][1],t:"n"},j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P({c:_e,r:de.r},S,e)}break;case 6:case 518:case 1030:{if(de.val=="String"){o=de;break}if(S=NM(de.val,de.cell.ixfe,de.tt),S.XF=E[S.ixfe],e.cellFormula){var ue=de.formula;if(ue&&ue[0]&&ue[0][0]&&ue[0][0][0]=="PtgExp"){var be=ue[0][0][1][0],Be=ue[0][0][1][1],ze=Zr({r:be,c:Be});y[ze]?S.f=""+uo(de.formula,s,de.cell,Y,k):S.F=((e.dense?(a[be]||[])[Be]:a[ze])||{}).F}else S.f=""+uo(de.formula,s,de.cell,Y,k)}j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P(de.cell,S,e),o=de}break;case 7:case 519:if(o)o.val=de,S=NM(de,o.cell.ixfe,"s"),S.XF=E[S.ixfe],e.cellFormula&&(S.f=""+uo(o.formula,s,o.cell,Y,k)),j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P(o.cell,S,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(de);var Le=Zr(de[0].s);if(d=e.dense?(a[de[0].s.r]||[])[de[0].s.c]:a[Le],e.cellFormula&&d){if(!o||!Le||!d)break;d.f=""+uo(de[1],s,de[0],Y,k),d.F=Pn(de[0])}}break;case 1212:{if(!e.cellFormula)break;if(h){if(!o)break;y[Zr(o.cell)]=de[0],d=e.dense?(a[o.cell.r]||[])[o.cell.c]:a[Zr(o.cell)],(d||{}).f=""+uo(de[0],s,f,Y,k)}}break;case 253:S=NM(l[de.isst].t,de.ixfe,"s"),l[de.isst].h&&(S.h=l[de.isst].h),S.XF=E[S.ixfe],j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P({c:de.c,r:de.r},S,e);break;case 513:e.sheetStubs&&(S={ixfe:de.ixfe,XF:E[de.ixfe],t:"z"},j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P({c:de.c,r:de.r},S,e));break;case 190:if(e.sheetStubs)for(var fe=de.c;fe<=de.C;++fe){var ie=de.ixfe[fe-de.c];S={ixfe:ie,XF:E[ie],t:"z"},j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P({c:fe,r:de.r},S,e)}break;case 214:case 516:case 4:S=NM(de.val,de.ixfe,"s"),S.XF=E[S.ixfe],j>0&&(S.z=J[S.ixfe>>8&63]),Gf(S,e,t.opts.Date1904),P({c:de.c,r:de.r},S,e);break;case 0:case 512:W===1&&(s=de);break;case 252:l=de;break;case 1054:if(k.biff==4){J[j++]=de[1];for(var Re=0;Re<j+163&&qr[Re]!=de[1];++Re);Re>=163&&Ud(de[1],j+163)}else Ud(de[1],de[0]);break;case 30:{J[j++]=de;for(var je=0;je<j+163&&qr[je]!=de;++je);je>=163&&Ud(de,j+163)}break;case 229:F=F.concat(de);break;case 93:q[de.cmo[0]]=k.lastobj=de;break;case 438:k.lastobj.TxO=de;break;case 127:k.lastobj.ImData=de;break;case 440:for(m=de[0].s.r;m<=de[0].e.r;++m)for(g=de[0].s.c;g<=de[0].e.c;++g)d=e.dense?(a[m]||[])[g]:a[Zr({c:g,r:m})],d&&(d.l=de[1]);break;case 2048:for(m=de[0].s.r;m<=de[0].e.r;++m)for(g=de[0].s.c;g<=de[0].e.c;++g)d=e.dense?(a[m]||[])[g]:a[Zr({c:g,r:m})],d&&d.l&&(d.l.Tooltip=de[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;d=e.dense?(a[de[0].r]||[])[de[0].c]:a[Zr(de[0])];var it=q[de[2]];d||(e.dense?(a[de[0].r]||(a[de[0].r]=[]),d=a[de[0].r][de[0].c]={t:"z"}):d=a[Zr(de[0])]={t:"z"},s.e.r=Math.max(s.e.r,de[0].r),s.s.r=Math.min(s.s.r,de[0].r),s.e.c=Math.max(s.e.c,de[0].c),s.s.c=Math.min(s.s.c,de[0].c)),d.c||(d.c=[]),v={a:de[1],t:it.TxO.t},d.c.push(v)}break;case 2173:r1e(E[de.ixfe],de.ext);break;case 125:{if(!k.cellStyles)break;for(;de.e>=de.s;)H[de.e--]={width:de.w/256,level:de.level||0,hidden:!!(de.flags&1)},X||(X=!0,W8(de.w/256)),o_(H[de.e+1])}break;case 520:{var Ge={};de.level!=null&&(Z[de.r]=Ge,Ge.level=de.level),de.hidden&&(Z[de.r]=Ge,Ge.hidden=!0),de.hpt&&(Z[de.r]=Ge,Ge.hpt=de.hpt,Ge.hpx=aT(de.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||xw(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Se]]=de;break;case 161:a["!margins"]||xw(a["!margins"]={}),a["!margins"].header=de.header,a["!margins"].footer=de.footer;break;case 574:de.RTL&&(R.Views[0].RTL=!0);break;case 146:M=de;break;case 2198:U=de;break;case 140:A=de;break;case 442:c?L.CodeName=de||L.name:R.WBProps.CodeName=de||"ThisWorkbook";break}}else Me||console.error("Missing Info for XLS Record 0x"+Se.toString(16)),r.l+=we}return t.SheetNames=_h(i).sort(function(Bt,pt){return Number(Bt)-Number(pt)}).map(function(Bt){return i[Bt].name}),e.bookSheets||(t.Sheets=n),!t.SheetNames.length&&u["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=u)):t.Preamble=u,t.Sheets&&ee.forEach(function(Bt,pt){t.Sheets[t.SheetNames[pt]]["!autofilter"]=Bt}),t.Strings=l,t.SSF=Ps(qr),k.enc&&(t.Encryption=k.enc),U&&(t.Themes=U),t.Metadata={},A!==void 0&&(t.Metadata.Country=A),Y.names.length>0&&(R.Names=Y.names),t.Workbook=R,t}var z7={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function kSe(r,e,t){var n=kn.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=b7(n,Jge,z7.DSI);for(var i in a)e[i]=a[i]}catch(c){if(t.WTF)throw c}var s=kn.find(r,"/!SummaryInformation");if(s&&s.size>0)try{var o=b7(s,Qge,z7.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(t.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(See(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function ite(r,e){e||(e={}),K8(e),LQ(),e.codepage&&C8(e.codepage);var t,n;if(r.FullPaths){if(kn.find(r,"/encryption"))throw new Error("File is password-protected");t=kn.find(r,"!CompObj"),n=kn.find(r,"/Workbook")||kn.find(r,"/Book")}else{switch(e.type){case"base64":r=Hu(ac(r));break;case"binary":r=Hu(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}ks(r,0),n={content:r}}var a,i;if(t&&NSe(t),e.bookProps&&!e.bookSheets)a={};else{var s=In?"buffer":"array";if(n&&n.content)a=OSe(n.content,e);else if((i=kn.find(r,"PerfectOffice_MAIN"))&&i.content)a=mw.to_workbook(i.content,(e.type=s,e));else if((i=kn.find(r,"NativeContent_MAIN"))&&i.content)a=mw.to_workbook(i.content,(e.type=s,e));else throw(i=kn.find(r,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&r.FullPaths&&kn.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=_1e(r))}var o={};return r.FullPaths&&kSe(r,o,e),a.Props=a.Custprops=o,e.bookFiles&&(a.cfb=r),a}var DD={0:{f:gbe},1:{f:_be},2:{f:Dbe},3:{f:Tbe},4:{f:Sbe},5:{f:Cbe},6:{f:Ibe},7:{f:Ebe},8:{f:Bbe},9:{f:Pbe},10:{f:Obe},11:{f:kbe},12:{f:bbe},13:{f:Rbe},14:{f:Abe},15:{f:wbe},16:{f:ete},17:{f:Lbe},18:{f:Mbe},19:{f:F8},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:uSe},40:{},42:{},43:{f:Oxe},44:{f:Lxe},45:{f:kxe},46:{f:Bxe},47:{f:Pxe},48:{},49:{f:zge},50:{},51:{f:a1e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Oee},62:{f:Nbe},63:{f:c1e},64:{f:Ybe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:So,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Wbe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:xbe},148:{f:mbe,p:16},151:{f:Ube},152:{},153:{f:lSe},154:{},155:{},156:{f:oSe},157:{},158:{},159:{T:1,f:Qye},160:{T:-1},161:{T:1,f:oy},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:zbe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:n1e},336:{T:-1},337:{f:i1e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:xP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Lee},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Vbe},427:{f:Hbe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:jbe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ybe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Fbe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:xP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:m1e},633:{T:1},634:{T:-1},635:{T:1,f:g1e},636:{T:-1},637:{f:Uge},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Jbe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Xbe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},TP={6:{f:y4},10:{f:$p},12:{f:Ii},13:{f:Ii},14:{f:gi},15:{f:gi},16:{f:po},17:{f:gi},18:{f:gi},19:{f:Ii},20:{f:A7},21:{f:A7},23:{f:Lee},24:{f:M7},25:{f:gi},26:{},27:{},28:{f:pye},29:{},34:{f:gi},35:{f:E7},38:{f:po},39:{f:po},40:{f:po},41:{f:po},42:{f:gi},43:{f:gi},47:{f:yxe},49:{f:Zme},51:{f:Ii},60:{},61:{f:Yme},64:{f:gi},65:{f:qme},66:{f:Ii},77:{},80:{},81:{},82:{},85:{f:Ii},89:{},90:{},91:{},92:{f:zme},93:{f:gye},94:{},95:{f:gi},96:{},97:{},99:{f:gi},125:{f:Oee},128:{f:iye},129:{f:Fme},130:{f:Ii},131:{f:gi},132:{f:gi},133:{f:Ume},134:{},140:{f:Sye},141:{f:Ii},144:{},146:{f:Tye},151:{},152:{},153:{},154:{},155:{},156:{f:Ii},157:{},158:{},160:{f:Dye},161:{f:Eye},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:tye},190:{f:rye},193:{f:$p},197:{},198:{},199:{},200:{},201:{},202:{f:gi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ii},220:{},221:{f:gi},222:{},224:{f:aye},225:{f:Bme},226:{f:$p},227:{},229:{f:vye},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Vme},253:{f:Kme},255:{f:Hme},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Mee},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:gi},353:{f:$p},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:oye},431:{f:gi},432:{},433:{},434:{},437:{},438:{f:xye},439:{f:gi},440:{f:_ye},441:{},442:{f:fA},443:{},444:{f:Ii},445:{},446:{},448:{f:$p},449:{f:Wme,r:2},450:{f:$p},512:{f:w7},513:{f:Cye},515:{f:sye},516:{f:$me},517:{f:T7},519:{f:Rye},520:{f:Gme},523:{},545:{f:C7},549:{f:S7},566:{},574:{f:Xme},638:{f:eye},659:{},1048:{},1054:{f:Jme},1084:{},1212:{f:fye},2048:{f:bye},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:CM},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:$p},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Aye,r:12},2173:{f:t1e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:gi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:uye,r:12},2197:{},2198:{f:Zxe,r:12},2199:{},2200:{},2201:{},2202:{f:hye,r:12},2203:{f:$p},2204:{},2205:{},2206:{},2207:{},2211:{f:jme},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ii},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Mye},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:wye},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:w7},1:{},2:{f:Oye},3:{f:Lye},4:{f:Iye},5:{f:T7},7:{f:kye},8:{},9:{f:CM},11:{},22:{f:Ii},30:{f:Qme},31:{},32:{},33:{f:C7},36:{},37:{f:S7},50:{f:Pye},62:{},52:{},67:{},68:{f:Ii},69:{},86:{},126:{},127:{f:Nye},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Bye},223:{},234:{},354:{},421:{},518:{f:y4},521:{f:CM},536:{f:M7},547:{f:E7},561:{},579:{},1030:{f:y4},1033:{f:CM},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Nu(r,e,t,n){var a=e;if(!isNaN(a)){var i=(t||[]).length||0,s=r.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&pee(t)&&r.push(t)}}function F7(r,e){var t=e||{},n=t.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var a=r.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=r.match(/<\/table/i),s=a.index,o=i&&i.index||r.length,l=sge(r.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(s=0;s<l.length;++s){var g=l[s].trim(),m=g.slice(0,3).toLowerCase();if(m=="<tr"){if(++c,t.sheetRows&&t.sheetRows<=c){--c;break}u=0;continue}if(!(m!="<td"&&m!="<th")){var y=g.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var S=b,A=0;S.charAt(0)=="<"&&(A=S.indexOf(">"))>-1;)S=S.slice(A+1);for(var E=0;E<v.length;++E){var M=v[E];M.s.c==u&&M.s.r<c&&c<=M.e.r&&(u=M.e.c+1,E=-1)}var R=Ur(b.slice(0,b.indexOf(">")));h=R.colspan?+R.colspan:1,((f=+R.rowspan)>1||h>1)&&v.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var L=R.t||R["data-t"]||"";if(!S.length){u+=h;continue}if(S=tee(S),d.s.r>c&&(d.s.r=c),d.e.r<c&&(d.e.r=c),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!S.length){u+=h;continue}var I={t:"s",v:S};t.raw||!S.trim().length||L=="s"||(S==="TRUE"?I={t:"b",v:!0}:S==="FALSE"?I={t:"b",v:!1}:isNaN(qu(S))?isNaN(s_(S).getDate())||(I={t:"d",v:Ss(S)},t.cellDates||(I={t:"n",v:tl(I.v)}),I.z=t.dateNF||qr[14]):I={t:"n",v:qu(S)}),t.dense?(n[c]||(n[c]=[]),n[c][u]=I):n[Zr({r:c,c:u})]=I,u+=h}}}}return n["!ref"]=Pn(d),v.length&&(n["!merges"]=v),n}function PSe(r,e,t,n){for(var a=r["!merges"]||[],i=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>t||a[c].s.c>s)&&!(a[c].e.r<t||a[c].e.c<s)){if(a[c].s.r<t||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Zr({r:t,c:s}),f=n.dense?(r[t]||[])[s]:r[u],h=f&&f.v!=null&&(f.h||O8(f.w||(Kd(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(Sge("td",h,d))}}var v="<tr>";return v+i.join("")+"</tr>"}var BSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zSe="</body></html>";function FSe(r,e){var t=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return lv(F7(t[0],e),e);var n=J8();return t.forEach(function(a,i){Q8(n,F7(a,e),"Sheet"+(i+1))}),n}function USe(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function VSe(r,e){var t=e||{},n=t.header!=null?t.header:BSe,a=t.footer!=null?t.footer:zSe,i=[n],s=H_(r["!ref"]);t.dense=Array.isArray(r),i.push(USe(r,s,t));for(var o=s.s.r;o<=s.e.r;++o)i.push(PSe(r,s,o,t));return i.push("</table>"+a),i.join("")}function ste(r,e,t){var n=t||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?$o(n.origin):n.origin;a=s.r,i=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(r["!ref"]){var u=H_(r["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,d=r["!rows"]||(r["!rows"]=[]),v=0,g=0,m=0,y=0,b=0,S=0;for(r["!cols"]||(r["!cols"]=[]);v<o.length&&g<l;++v){var A=o[v];if(U7(A)){if(n.display)continue;d[g]={hidden:!0}}var E=A.children;for(m=y=0;m<E.length;++m){var M=E[m];if(!(n.display&&U7(M))){var R=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):tee(M.innerHTML),L=M.getAttribute("data-z")||M.getAttribute("z");for(h=0;h<f.length;++h){var I=f[h];I.s.c==y+i&&I.s.r<g+a&&g+a<=I.e.r&&(y=I.e.c+1-i,h=-1)}S=+M.getAttribute("colspan")||1,((b=+M.getAttribute("rowspan")||1)>1||S>1)&&f.push({s:{r:g+a,c:y+i},e:{r:g+a+(b||1)-1,c:y+i+(S||1)-1}});var O={t:"s",v:R},P=M.getAttribute("data-t")||M.getAttribute("t")||"";R!=null&&(R.length==0?O.t=P||"z":n.raw||R.trim().length==0||P=="s"||(R==="TRUE"?O={t:"b",v:!0}:R==="FALSE"?O={t:"b",v:!1}:isNaN(qu(R))?isNaN(s_(R).getDate())||(O={t:"d",v:Ss(R)},n.cellDates||(O={t:"n",v:tl(O.v)}),O.z=n.dateNF||qr[14]):O={t:"n",v:qu(R)})),O.z===void 0&&L!=null&&(O.z=L);var k="",U=M.getElementsByTagName("A");if(U&&U.length)for(var F=0;F<U.length&&!(U[F].hasAttribute("href")&&(k=U[F].getAttribute("href"),k.charAt(0)!="#"));++F);k&&k.charAt(0)!="#"&&(O.l={Target:k}),n.dense?(r[g+a]||(r[g+a]=[]),r[g+a][y+i]=O):r[Zr({c:y+i,r:g+a})]=O,c.e.c<y+i&&(c.e.c=y+i),y+=S}}++g}return f.length&&(r["!merges"]=(r["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+a),r["!ref"]=Pn(c),g>=l&&(r["!fullref"]=Pn((c.e.r=o.length-v+g-1+a,c))),r}function ote(r,e){var t=e||{},n=t.dense?[]:{};return ste(n,r,e)}function HSe(r,e){return lv(ote(r,e),e)}function U7(r){var e="",t=GSe(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function GSe(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function jSe(r){var e=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Vn(e.replace(/<[^>]*>/g,""));return[t]}var V7={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function lte(r,e){var t=e||{},n=k8(r),a=[],i,s,o={name:""},l="",c=0,u,f,h={},d=[],v=t.dense?[]:{},g,m,y={value:""},b="",S=0,A=[],E=-1,M=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,I={},O=[],P={},k=0,U=0,F=[],q=1,H=1,Z=[],X={Names:[]},Y={},re=["",""],W=[],j={},J="",ee=0,ae=!1,ce=!1,me=0;for(tT.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=tT.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?v["!ref"]=Pn(R):v["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=R.e.r&&(v["!fullref"]=v["!ref"],R.e.r=t.sheetRows-1,v["!ref"]=Pn(R)),O.length&&(v["!merges"]=O),F.length&&(v["!rows"]=F),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=v,ce=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=Ur(g[0],!1),E=M=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,v=t.dense?[]:{},O=[],F=[],ce=!0);break;case"table-row-group":g[1]==="/"?--L:++L;break;case"table-row":case"":if(g[1]==="/"){E+=q,q=1;break}if(f=Ur(g[0],!1),f.?E=f.-1:E==-1&&(E=0),q=+f["number-rows-repeated"]||1,q<10)for(me=0;me<q;++me)L>0&&(F[E+me]={level:L});M=-1;break;case"covered-table-cell":g[1]!=="/"&&++M,t.sheetStubs&&(t.dense?(v[E]||(v[E]=[]),v[E][M]={t:"z"}):v[Zr({r:E,c:M})]={t:"z"}),b="",A=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++M,y=Ur(g[0],!1),H=parseInt(y["number-columns-repeated"]||"1",10),m={t:"z",v:null},y.formula&&t.cellFormula!=!1&&(m.f=k7(Vn(y.formula))),(y.||y["value-type"])=="string"&&(m.t="s",m.v=Vn(y["string-value"]||""),t.dense?(v[E]||(v[E]=[]),v[E][M]=m):v[Zr({r:E,c:M})]=m),M+=H-1;else if(g[1]!=="/"){++M,b="",S=0,A=[],H=1;var Se=q?E+q-1:E;if(M>R.e.c&&(R.e.c=M),M<R.s.c&&(R.s.c=M),E<R.s.r&&(R.s.r=E),Se>R.e.r&&(R.e.r=Se),y=Ur(g[0],!1),W=[],j={},m={t:y.||y["value-type"],v:null},t.cellFormula)if(y.formula&&(y.formula=Vn(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(k=parseInt(y["number-matrix-rows-spanned"],10)||0,U=parseInt(y["number-matrix-columns-spanned"],10)||0,P={s:{r:E,c:M},e:{r:E+k-1,c:M+U-1}},m.F=Pn(P),Z.push([P,m.F])),y.formula)m.f=k7(y.formula);else for(me=0;me<Z.length;++me)E>=Z[me][0].s.r&&E<=Z[me][0].e.r&&M>=Z[me][0].s.c&&M<=Z[me][0].e.c&&(m.F=Z[me][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(k=parseInt(y["number-rows-spanned"],10)||0,U=parseInt(y["number-columns-spanned"],10)||0,P={s:{r:E,c:M},e:{r:E+k-1,c:M+U-1}},O.push(P)),y["number-columns-repeated"]&&(H=parseInt(y["number-columns-repeated"],10)),m.t){case"boolean":m.t="b",m.v=ka(y["boolean-value"]);break;case"float":m.t="n",m.v=parseFloat(y.value);break;case"percentage":m.t="n",m.v=parseFloat(y.value);break;case"currency":m.t="n",m.v=parseFloat(y.value);break;case"date":m.t="d",m.v=Ss(y["date-value"]),t.cellDates||(m.t="n",m.v=tl(m.v)),m.z="m/d/yy";break;case"time":m.t="n",m.v=nge(y["time-value"])/86400,t.cellDates&&(m.t="d",m.v=GN(m.v)),m.z="HH:MM:SS";break;case"number":m.t="n",m.v=parseFloat(y.);break;default:if(m.t==="string"||m.t==="text"||!m.t)m.t="s",y["string-value"]!=null&&(b=Vn(y["string-value"]),A=[]);else throw new Error("Unsupported value type "+m.t)}}else{if(ae=!1,m.t==="s"&&(m.v=b||"",A.length&&(m.R=A),ae=S==0),Y.Target&&(m.l=Y),W.length>0&&(m.c=W,W=[]),b&&t.cellText!==!1&&(m.w=b),ae&&(m.t="z",delete m.v),(!ae||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=E))for(var we=0;we<q;++we){if(H=parseInt(y["number-columns-repeated"]||"1",10),t.dense)for(v[E+we]||(v[E+we]=[]),v[E+we][M]=we==0?m:Ps(m);--H>0;)v[E+we][M+H]=Ps(m);else for(v[Zr({r:E+we,c:M})]=m;--H>0;)v[Zr({r:E+we,c:M+H})]=Ps(m);R.e.c<=M&&(R.e.c=M)}H=parseInt(y["number-columns-repeated"]||"1",10),M+=H-1,H=0,m={},b="",A=[]}Y={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;j.t=b,A.length&&(j.R=A),j.a=J,W.push(j)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);J="",ee=0,b="",S=0,A=[];break;case"creator":g[1]==="/"?J=n.slice(ee,g.index):ee=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",S=0,A=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(I[o.name]=l,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=Ur(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Ur(g[0],!1),l+=V7[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Ur(g[0],!1),l+=V7[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":s=Ur(g[0],!1),re=x4(s["cell-range-address"]);var Me={Name:s.name,Ref:re[0]+"!"+re[1]};ce&&(Me.Sheet=d.length),X.Names.push(Me);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var Ve=jSe(n.slice(S,g.index));b=(b.length>0?b+`
`:"")+Ve[0]}else Ur(g[0],!1),S=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{re=x4(Ur(g[0])["target-range-address"]),h[re[0]]["!autofilter"]={ref:re[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(Y=Ur(g[0],!1),!Y.href)break;Y.Target=Vn(Y.href),delete Y.href,Y.Target.charAt(0)=="#"&&Y.Target.indexOf(".")>-1?(re=x4(Y.Target.slice(1)),Y.Target="#"+re[0]+"!"+re[1]):Y.Target.match(/^\.\.[\\\/]/)&&(Y.Target=Y.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(g)}}var de={Sheets:h,SheetNames:d,Workbook:X};return t.bookSheets&&delete de.Sheets,de}function H7(r,e){e=e||{},Fc(r,"META-INF/manifest.xml")&&sme(Ni(r,"META-INF/manifest.xml"),e);var t=ql(r,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var n=lte(Ta(t),e);return Fc(r,"meta.xml")&&(n.Props=bee(Ni(r,"meta.xml"))),n}function G7(r,e){return lte(r,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function q8(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function AP(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):Ta(ay(r))}function EP(r){var e=r.reduce(function(a,i){return a+i.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(a){t.set(a,n),n+=a.length}),t}function j7(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function WSe(r,e){for(var t=(r[e+15]&127)<<7|r[e+14]>>1,n=r[e+14]&1,a=e+13;a>=e;--a)n=n*256+r[a];return(r[e+15]&128?-n:n)*Math.pow(10,t-6176)}function iT(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function Ki(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function vo(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],a=iT(r,t),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=t[0];r[t[0]++]>=128;);o=r.slice(l,t[0])}break;case 5:s=4,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 1:s=8,o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 2:s=iT(r,t),o=r.slice(t[0],t[0]+s),t[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};e[a]==null?e[a]=[c]:e[a].push(c)}return e}function Z8(r,e){return(r==null?void 0:r.map(function(t){return e(t.data)}))||[]}function YSe(r){for(var e,t=[],n=[0];n[0]<r.length;){var a=iT(r,n),i=vo(r.slice(n[0],n[0]+a));n[0]+=a;var s={id:Ki(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=vo(o.data),c=Ki(l[3][0].data);s.messages.push({meta:l,data:r.slice(n[0],n[0]+c)}),n[0]+=c}),(e=i[3])!=null&&e[0]&&(s.merge=Ki(i[3][0].data)>>>0>0),t.push(s)}return t}function XSe(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=iT(e,t),a=[];t[0]<e.length;){var i=e[t[0]]&3;if(i==0){var s=e[t[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[t[0]],o>1&&(s|=e[t[0]+1]<<8),o>2&&(s|=e[t[0]+2]<<16),o>3&&(s|=e[t[0]+3]<<24),s>>>=0,s++,t[0]+=o}a.push(e.slice(t[0],t[0]+s)),t[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(c=(e[t[0]++]>>2)+1,i==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[EP(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=EP(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function qSe(r){for(var e=[],t=0;t<r.length;){var n=r[t++],a=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(XSe(n,r.slice(t,t+a))),t+=a}if(t!==r.length)throw new Error("data is not a valid framed stream!");return EP(e)}function ZSe(r,e,t,n){var a=q8(r),i=a.getUint32(4,!0),s=(n>1?12:8)+j7(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=j7(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(r[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:t[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return f}function KSe(r,e,t){var n=q8(r),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=WSe(r,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(r[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:t[s]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(a&31," : ").concat(r.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(a&31," : ").concat(r.slice(0,4)))}return f}function $Se(r,e,t){switch(r[0]){case 0:case 1:case 2:case 3:return ZSe(r,e,t,r[0]);case 5:return KSe(r,e,t);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function z0(r){var e=vo(r);return iT(e[1][0].data)}function W7(r,e){var t=vo(e.data),n=Ki(t[1][0].data),a=t[3],i=[];return(a||[]).forEach(function(s){var o=vo(s.data),l=Ki(o[1][0].data)>>>0;switch(n){case 1:i[l]=AP(o[3][0].data);break;case 8:{var c=r[z0(o[9][0].data)][0],u=vo(c.data),f=r[z0(u[1][0].data)][0],h=Ki(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=vo(f.data);i[l]=d[3].map(function(v){return AP(v.data)}).join("")}break}}),i}function JSe(r,e){var t,n,a,i,s,o,l,c,u,f,h,d,v,g,m=vo(r),y=Ki(m[1][0].data)>>>0,b=Ki(m[2][0].data)>>>0,S=((n=(t=m[8])==null?void 0:t[0])==null?void 0:n.data)&&Ki(m[8][0].data)>0||!1,A,E;if((i=(a=m[7])==null?void 0:a[0])!=null&&i.data&&e!=0)A=(o=(s=m[7])==null?void 0:s[0])==null?void 0:o.data,E=(c=(l=m[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=m[4])==null?void 0:u[0])!=null&&f.data&&e!=1)A=(d=(h=m[4])==null?void 0:h[0])==null?void 0:d.data,E=(g=(v=m[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var M=S?4:1,R=q8(A),L=[],I=0;I<A.length/2;++I){var O=R.getUint16(I*2,!0);O<65535&&L.push([I,O])}if(L.length!=b)throw"Expected ".concat(b," cells, found ").concat(L.length);var P=[];for(I=0;I<L.length-1;++I)P[L[I][0]]=E.subarray(L[I][1]*M,L[I+1][1]*M);return L.length>=1&&(P[L[L.length-1][0]]=E.subarray(L[L.length-1][1]*M)),{R:y,cells:P}}function QSe(r,e){var t,n=vo(e.data),a=(t=n==null?void 0:n[7])!=null&&t[0]?Ki(n[7][0].data)>>>0>0?1:0:-1,i=Z8(n[5],function(s){return JSe(s,a)});return{nrows:Ki(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function e2e(r,e,t){var n,a=vo(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ki(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ki(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));t["!ref"]=Pn(i);var s=vo(a[4][0].data),o=W7(r,r[z0(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?W7(r,r[z0(s[17][0].data)][0]):[],c=vo(s[3][0].data),u=0;c[1].forEach(function(f){var h=vo(f.data),d=r[z0(h[2][0].data)][0],v=Ki(d.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=QSe(r,d);g.data.forEach(function(m,y){m.forEach(function(b,S){var A=Zr({r:u+y,c:S}),E=$Se(b,o,l);E&&(t[A]=E)})}),u+=g.nrows})}function t2e(r,e){var t=vo(e.data),n={"!ref":"A1"},a=r[z0(t[2][0].data)],i=Ki(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return e2e(r,a[0],n),n}function r2e(r,e){var t,n=vo(e.data),a={name:(t=n[1])!=null&&t[0]?AP(n[1][0].data):"",sheets:[]},i=Z8(n[2],z0);return i.forEach(function(s){r[s].forEach(function(o){var l=Ki(o.meta[1][0].data);l==6e3&&a.sheets.push(t2e(r,o))})}),a}function n2e(r,e){var t=J8(),n=vo(e.data),a=Z8(n[1],z0);if(a.forEach(function(i){r[i].forEach(function(s){var o=Ki(s.meta[1][0].data);if(o==2){var l=r2e(r,s);l.sheets.forEach(function(c,u){Q8(t,c,u==0?l.name:l.name+"_"+u,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function b4(r){var e,t,n,a,i={},s=[];if(r.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=qSe(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=YSe(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(t=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ki(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Ki(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return n2e(i,o)}function a2e(r){return function(t){for(var n=0;n!=r.length;++n){var a=r[n];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function K8(r){a2e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function i2e(r){return P1.WS.indexOf(r)>-1?"sheet":r==P1.CS?"chart":r==P1.DS?"dialog":r==P1.MS?"macro":r&&r.length?r:"sheet"}function s2e(r,e){if(!r)return 0;try{r=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,i2e(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function o2e(r,e,t,n,a,i,s,o,l,c,u,f){try{i[n]=vw(ql(r,t,!0),e);var h=Ni(r,e),d;switch(o){case"sheet":d=dSe(h,e,a,l,i[n],c,u,f);break;case"chart":if(d=pSe(h,e,a,l,i[n],c,u,f),!d||!d["!drawel"])break;var v=X2(d["!drawel"].Target,e),g=_P(v),m=h1e(ql(r,v,!0),vw(ql(r,g,!0),v)),y=X2(m,v),b=_P(y);d=Kbe(ql(r,y,!0),y,l,vw(ql(r,b,!0),y),c,d);break;case"macro":d=vSe(h,e,a,l,i[n],c,u,f);break;case"dialog":d=gSe(h,e,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var S=[];i&&i[n]&&_h(i[n]).forEach(function(A){var E="";if(i[n][A].Type==P1.CMNT){E=X2(i[n][A].Target,e);var M=_Se(Ni(r,E,!0),E,l);if(!M||!M.length)return;R7(d,M,!1)}i[n][A].Type==P1.TCMNT&&(E=X2(i[n][A].Target,e),S=S.concat(p1e(Ni(r,E,!0),l)))}),S&&S.length&&R7(d,S,!0,l.people||[])}catch(A){if(l.WTF)throw A}}function Ic(r){return r.charAt(0)=="/"?r.slice(1):r}function l2e(r,e){if(WQ(),e=e||{},K8(e),Fc(r,"META-INF/manifest.xml")||Fc(r,"objectdata.xml"))return H7(r,e);if(Fc(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof b4<"u"){if(r.FileIndex)return b4(r);var t=kn.utils.cfb_new();return n7(r).forEach(function(F){cge(t,F,lge(r,F))}),b4(t)}throw new Error("Unsupported NUMBERS file")}if(!Fc(r,"[Content_Types].xml"))throw Fc(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Fc(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=n7(r),a=ame(ql(r,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Ni(r,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Ni(r,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(yw=[],a.sst)try{yw=xSe(Ni(r,Ic(a.sst)),a.sst,e)}catch(F){if(e.WTF)throw F}e.cellStyles&&a.themes.length&&(l=ySe(ql(r,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(c=mSe(Ni(r,Ic(a.style)),a.style,l,e))}a.links.map(function(F){try{var q=vw(ql(r,_P(Ic(F))),F);return SSe(Ni(r,Ic(F)),q,F,e)}catch{}});var u=hSe(Ni(r,Ic(a.workbooks[0])),a.workbooks[0],e),f={},h="";a.coreprops.length&&(h=Ni(r,Ic(a.coreprops[0]),!0),h&&(f=bee(h)),a.extprops.length!==0&&(h=Ni(r,Ic(a.extprops[0]),!0),h&&cme(h,f,e)));var d={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(h=ql(r,Ic(a.custprops[0]),!0),h&&(d=fme(h,e)));var v={};if((e.bookSheets||e.bookProps)&&(u.Sheets?s=u.Sheets.map(function(q){return q.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),e.bookProps&&(v.Props=f,v.Custprops=d),e.bookSheets&&typeof s<"u"&&(v.SheetNames=s),e.bookSheets?v.SheetNames:e.bookProps))return v;s={};var g={};e.bookDeps&&a.calcchain&&(g=bSe(Ni(r,Ic(a.calcchain)),a.calcchain));var m=0,y={},b,S;{var A=u.Sheets;f.Worksheets=A.length,f.SheetNames=[];for(var E=0;E!=A.length;++E)f.SheetNames[E]=A[E].name}var M=i?"bin":"xml",R=a.workbooks[0].lastIndexOf("/"),L=(a.workbooks[0].slice(0,R+1)+"_rels/"+a.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");Fc(r,L)||(L="xl/_rels/workbook."+M+".rels");var I=vw(ql(r,L,!0),L.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=wSe(Ni(r,Ic(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=v1e(Ni(r,Ic(a.people[0])),e)),I&&(I=s2e(I,u.Sheets));var O=Ni(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(m=0;m!=f.Worksheets;++m){var P="sheet";if(I&&I[m]?(b="xl/"+I[m][1].replace(/[\/]?xl\//,""),Fc(r,b)||(b=I[m][1]),Fc(r,b)||(b=L.replace(/_rels\/.*$/,"")+I[m][1]),P=I[m][2]):(b="xl/worksheets/sheet"+(m+1-O)+"."+M,b=b.replace(/sheet0\./,"sheet.")),S=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(m!=e.sheets)continue e;break;case"string":if(f.SheetNames[m].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var k=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==m&&(k=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==f.SheetNames[m].toLowerCase()&&(k=1);if(!k)continue e}}o2e(r,b,S,f.SheetNames[m],m,y,s,P,e,u,l,c)}return v={Directory:a,Workbook:u,Props:f,Custprops:d,Deps:g,Sheets:s,SheetNames:f.SheetNames,Strings:yw,Styles:c,Themes:l,SSF:Ps(qr)},e&&e.bookFiles&&(r.files?(v.keys=n,v.files=r.files):(v.keys=[],v.files={},r.FullPaths.forEach(function(F,q){F=F.replace(/^Root Entry[\/]/,""),v.keys.push(F),v.files[F]=r.FileIndex[q]}))),e&&e.bookVBA&&(a.vba.length>0?v.vbaraw=Ni(r,Ic(a.vba[0]),!0):a.defaults&&a.defaults.bin===x1e&&(v.vbaraw=Ni(r,"xl/vbaProject.bin",!0))),v}function c2e(r,e){var t=e||{},n="Workbook",a=kn.find(r,n);try{if(n="/!DataSpaces/Version",a=kn.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(txe(a.content),n="/!DataSpaces/DataSpaceMap",a=kn.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=nxe(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=kn.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=axe(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=kn.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);sxe(a.content)}catch{}if(n="/EncryptionInfo",a=kn.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=oxe(a.content);if(n="/EncryptedPackage",a=kn.find(r,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,t.password||"",t);throw new Error("File is password-protected")}function $8(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=ac(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function u2e(r,e){return kn.find(r,"EncryptedPackage")?c2e(r,e):ite(r,e)}function f2e(r,e){var t,n=r,a=e||{};return a.type||(a.type=In&&Buffer.isBuffer(r)?"buffer":"base64"),t=JQ(n,a),l2e(t,a)}function cte(r,e){var t=0;e:for(;t<r.length;)switch(r.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return wP(r.slice(t),e);default:break e}return rT.to_workbook(r,e)}function h2e(r,e){var t="",n=$8(r,e);switch(e.type){case"base64":t=ac(r);break;case"binary":t=r;break;case"buffer":t=r.toString("binary");break;case"array":t=Fm(r);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(t=Ta(t)),e.type="binary",cte(t,e)}function d2e(r,e){var t=r;return e.type=="base64"&&(t=ac(t)),t=Jw.utils.decode(1200,t.slice(2),"str"),e.type="binary",cte(t,e)}function p2e(r){return r.match(/[^\x00-\x7F]/)?q2(r):r}function S4(r,e,t,n){return n?(t.type="string",rT.to_workbook(r,t)):rT.to_workbook(e,t)}function MP(r,e){LQ();var t=e||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return MP(new Uint8Array(r),(t=Ps(t),t.type="array",t));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var n=r,a=[0,0,0,0],i=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),K1={},t.dateNF&&(K1.dateNF=t.dateNF),t.type||(t.type=In&&Buffer.isBuffer(r)?"buffer":"base64"),t.type=="file"&&(t.type=In?"buffer":"binary",n=tge(r),typeof Uint8Array<"u"&&!In&&(t.type="array")),t.type=="string"&&(i=!0,t.type="binary",t.codepage=65001,n=p2e(r)),t.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return t=Ps(t),t.type="array",MP(D8(n),t)}switch((a=$8(n,t))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return u2e(kn.read(n,t),t);break;case 9:if(a[1]<=8)return ite(n,t);break;case 60:return wP(n,t);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Hye(n,t);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Uye.to_workbook(n,t);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?f2e(n,t):S4(r,n,t,i);case 239:return a[3]===60?wP(n,t):S4(r,n,t,i);case 255:if(a[1]===254)return d2e(n,t);if(a[1]===0&&a[2]===2&&a[3]===0)return mw.to_workbook(n,t);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return mw.to_workbook(n,t);break;case 3:case 131:case 139:case 140:return D7.to_workbook(n,t);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return xxe.to_workbook(n,t);break;case 10:case 13:case 32:return h2e(n,t);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return zye.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?D7.to_workbook(n,t):S4(r,n,t,i)}function v2e(r,e,t,n,a,i,s,o){var l=Bs(t),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:t,enumerable:!1})}catch{h.__rowNum__=t}else h.__rowNum__=t;if(!s||r[t])for(var d=e.s.c;d<=e.e.c;++d){var v=s?r[t][d]:r[n[d]+l];if(v===void 0||v.t===void 0){if(c===void 0)continue;i[d]!=null&&(h[i[d]]=c);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[d]!=null){if(g==null)if(v.t=="e"&&g===null)h[i[d]]=null;else if(c!==void 0)h[i[d]]=c;else if(u&&g===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:Kd(v,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function CP(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:r["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=si(u);break;case"number":l=si(r["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=Bs(l.s.r),h=[],d=[],v=0,g=0,m=Array.isArray(r),y=l.s.r,b=0,S={};m&&!r[y]&&(r[y]=[]);var A=c.skipHidden&&r["!cols"]||[],E=c.skipHidden&&r["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(A[b]||{}).hidden)switch(h[b]=qi(b),t=m?r[y][b]:r[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=s=Kd(t,null,c),g=S[s]||0,!g)S[s]=1;else{do o=s+"_"+g++;while(S[o]);S[s]=g,S[o]=1}i[b]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(E[y]||{}).hidden){var M=v2e(r,l,y,h,n,i,m,c);(M.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(d[v++]=M.row)}return d.length=v,d}var Y7=/"/g;function g2e(r,e,t,n,a,i,s,o){for(var l=!0,c=[],u="",f=Bs(t),h=e.s.c;h<=e.e.c;++h)if(n[h]){var d=o.dense?(r[t]||[])[h]:r[n[h]+f];if(d==null)u="";else if(d.v!=null){l=!1,u=""+(o.rawNumbers&&d.t=="n"?d.v:Kd(d,null,o));for(var v=0,g=0;v!==u.length;++v)if((g=u.charCodeAt(v))===a||g===i||g===34||o.forceQuotes){u='"'+u.replace(Y7,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(l=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(Y7,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function ute(r,e){var t=[],n=e??{};if(r==null||r["!ref"]==null)return"";var a=si(r["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],d=n.skipHidden&&r["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(h[v]||{}).hidden||(f[v]=qi(v));for(var g=0,m=a.s.r;m<=a.e.r;++m)(d[m]||{}).hidden||(u=g2e(r,a,m,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&t.push((g++?o:"")+u)));return delete n.dense,t.join("")}function m2e(r,e){e||(e={}),e.FS="	",e.RS=`
`;var t=ute(r,e);return t}function y2e(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var a=si(r["!ref"]),i="",s=[],o,l=[],c=Array.isArray(r);for(o=a.s.c;o<=a.e.c;++o)s[o]=qi(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=Bs(u),o=a.s.c;o<=a.e.c;++o)if(e=s[o]+i,t=c?(r[u]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}l[l.length]=e+"="+n}return l}function fte(r,e,t){var n=t||{},a=+!n.skipHeader,i=r||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?$o(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+a}};if(i["!ref"]){var f=si(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+e.length-1+a)}else s==-1&&(s=0,u.e.r=e.length-1+a);var h=n.header||[],d=0;e.forEach(function(g,m){_h(g).forEach(function(y){(d=h.indexOf(y))==-1&&(h[d=h.length]=y);var b=g[y],S="z",A="",E=Zr({c:o+d,r:s+m+a});c=sT(i,E),b&&typeof b=="object"&&!(b instanceof Date)?i[E]=b:(typeof b=="number"?S="n":typeof b=="boolean"?S="b":typeof b=="string"?S="s":b instanceof Date?(S="d",n.cellDates||(S="n",b=tl(b)),A=n.dateNF||qr[14]):b===null&&n.nullError&&(S="e",b=0),c?(c.t=S,c.v=b,delete c.w,delete c.R,A&&(c.z=A)):i[E]=c={t:S,v:b},A&&(c.z=A))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var v=Bs(s);if(a)for(d=0;d<h.length;++d)i[qi(d+o)+v]={t:"s",v:h[d]};return i["!ref"]=Pn(u),i}function x2e(r,e){return fte(null,r,e)}function sT(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=$o(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?sT(r,Zr(e)):sT(r,Zr({r:e,c:t||0}))}function _2e(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function J8(){return{SheetNames:[],Sheets:{}}}function Q8(r,e,t,n){var a=1;if(!t)for(;a<=65535&&r.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var i=t.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||t;for(++a;a<=65535&&r.SheetNames.indexOf(t=s+a)!=-1;++a);}if(aSe(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function b2e(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=_2e(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function S2e(r,e){return r.z=e,r}function hte(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function w2e(r,e,t){return hte(r,"#"+e,t)}function T2e(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function A2e(r,e,t,n){for(var a=typeof e!="string"?e:si(e),i=typeof e=="string"?e:Pn(e),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=sT(r,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=t,n&&(l.D=!0))}return r}var E2e={encode_col:qi,encode_row:Bs,encode_cell:Zr,encode_range:Pn,decode_col:z8,decode_row:B8,split_cell:Bge,decode_cell:$o,decode_range:H_,format_cell:Kd,sheet_add_aoa:gee,sheet_add_json:fte,sheet_add_dom:ste,aoa_to_sheet:G_,json_to_sheet:x2e,table_to_sheet:ote,table_to_book:HSe,sheet_to_csv:ute,sheet_to_txt:m2e,sheet_to_json:CP,sheet_to_html:VSe,sheet_to_formulae:y2e,sheet_to_row_object_array:CP,sheet_get_cell:sT,book_new:J8,book_append_sheet:Q8,book_set_sheet_visibility:b2e,cell_set_number_format:S2e,cell_set_hyperlink:hte,cell_set_internal_link:w2e,cell_add_comment:T2e,sheet_set_array_formula:A2e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const M2e=({isOpen:r,onClose:e,onAdd:t})=>{const[n,a]=xe.useState("New Table"),[i,s]=xe.useState([{id:"1",name:"Column 1",type:"text",width:150},{id:"2",name:"Column 2",type:"text",width:150}]),[o,l]=xe.useState(!0),[c,u]=xe.useState("#f3f4f6"),[f,h]=xe.useState([]),d=xe.useRef(null);if(!r)return null;const v=async S=>{var M;const A=(M=S.target.files)==null?void 0:M[0];if(!A)return;const E=new FileReader;E.onload=R=>{var L;try{const I=(L=R.target)==null?void 0:L.result,O=MP(I,{type:"binary"}),P=O.SheetNames[0],k=O.Sheets[P],U=E2e.sheet_to_json(k,{header:1});if(U.length===0){alert("Excel file is empty!");return}const F=U[0],q=U.slice(1).filter(Y=>Y&&Y.some(re=>re!=null&&re!==""));if(q.length===0){alert("No data rows found in Excel file!");return}const H=A.name.replace(/\.(xlsx|xls)$/i,"");a(H);const Z=F.map((Y,re)=>{var J;const W=(J=q[0])==null?void 0:J[re];let j="text";return typeof W=="number"?j="number":W instanceof Date||typeof W=="number"&&W>4e4&&W<5e4?j="date":(W===!0||W===!1||W==="true"||W==="false")&&(j="checkbox"),{id:Math.random().toString(36).substr(2,9),name:(Y==null?void 0:Y.toString())||`Column ${re+1}`,type:j,width:150}});s(Z);const X=q.map((Y,re)=>{const W=`imported-${Date.now()}-${re}`,j={};return Y.forEach((J,ee)=>{const ae=Z[ee];if(ae)if(ae.type==="checkbox")j[ae.id]=J===!0||J==="true"||J==="TRUE"||J===1||J==="1";else if(ae.type==="number"){const ce=Number(J);j[ae.id]=isNaN(ce)?J:ce}else if(ae.type==="date")if(typeof J=="number"){const ce=YQ.parse_date_code(J),me=new Date(ce.y,ce.m-1,ce.d);j[ae.id]=me.toISOString().split("T")[0]}else{const ce=new Date(J);j[ae.id]=isNaN(ce.getTime())?(J==null?void 0:J.toString())||"":ce.toISOString().split("T")[0]}else j[ae.id]=J!=null?J.toString():""}),{id:W,data:j}});h(X),alert(` Imported ${X.length} rows from Excel!`)}catch(I){alert(`Failed to import Excel file: ${I instanceof Error?I.message:"Unknown error"}`)}},E.readAsBinaryString(A),d.current&&(d.current.value="")},g=()=>{const S=Math.random().toString(36).substr(2,9);s([...i,{id:S,name:`Column ${i.length+1}`,type:"text",width:150}])},m=S=>{s(i.filter(A=>A.id!==S))},y=(S,A,E)=>{s(i.map(M=>M.id===S?{...M,[A]:E}:M))},b=()=>{const S={title:n,columns:i,showBorder:o,headerColor:c,...f.length>0&&{rows:f}};t(S),e(),a("New Table"),s([{id:"1",name:"Column 1",type:"text",width:150},{id:"2",name:"Column 2",type:"text",width:150}]),h([])};return D.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-[800px] max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[D.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[D.jsxs("div",{className:"flex items-center space-x-4",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx(_pe,{className:"text-indigo-600",size:20}),D.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Custom Table Builder"})]}),D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("input",{ref:d,type:"file",accept:".xlsx, .xls",onChange:v,className:"hidden"}),D.jsxs("button",{onClick:()=>{var S;return(S=d.current)==null?void 0:S.click()},className:"flex items-center space-x-2 px-3 py-1.5 bg-green-50 hover:bg-green-100 text-green-700 rounded-lg transition-colors border border-green-200 text-sm font-medium",title:"Import from Excel",children:[D.jsx(hpe,{size:16}),D.jsx("span",{children:"Import from Excel"})]}),f.length>0&&D.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[" ",f.length," rows imported"]})]})]}),D.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:D.jsx(lA,{size:20})})]}),D.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-8",children:[D.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Table Title"}),D.jsx("input",{type:"text",value:n,onChange:S=>a(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"Enter table name..."})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Header Style"}),D.jsxs("div",{className:"flex items-center space-x-4",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("input",{type:"color",value:c,onChange:S=>u(S.target.value),className:"h-9 w-16 rounded cursor-pointer border border-gray-300 p-1"}),D.jsx("span",{className:"text-xs text-gray-500",children:"Color"})]}),D.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[D.jsx("input",{type:"checkbox",checked:o,onChange:S=>l(S.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),D.jsx("span",{className:"text-sm text-gray-700",children:"Show Borders"})]})]})]})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Columns Configuration"}),D.jsxs("button",{onClick:g,className:"text-sm flex items-center space-x-1 text-indigo-600 hover:text-indigo-700 font-medium",children:[D.jsx(ja,{size:16}),D.jsx("span",{children:"Add Column"})]})]}),D.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[D.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-2 bg-gray-100 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[D.jsx("div",{className:"col-span-5",children:"Name"}),D.jsx("div",{className:"col-span-3",children:"Type"}),D.jsx("div",{className:"col-span-3",children:"Width (px)"}),D.jsx("div",{className:"col-span-1"})]}),D.jsx("div",{className:"divide-y divide-gray-200",children:i.map(S=>D.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-3 items-center hover:bg-white transition-colors",children:[D.jsx("div",{className:"col-span-5",children:D.jsx("input",{type:"text",value:S.name,onChange:A=>y(S.id,"name",A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none"})}),D.jsx("div",{className:"col-span-3",children:D.jsxs("select",{value:S.type,onChange:A=>y(S.id,"type",A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none bg-white",children:[D.jsx("option",{value:"text",children:"Text"}),D.jsx("option",{value:"number",children:"Number"}),D.jsx("option",{value:"date",children:"Date"}),D.jsx("option",{value:"checkbox",children:"Checkbox"})]})}),D.jsx("div",{className:"col-span-3",children:D.jsx("input",{type:"number",value:S.width,onChange:A=>y(S.id,"width",parseInt(A.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none"})}),D.jsx("div",{className:"col-span-1 flex justify-end",children:D.jsx("button",{onClick:()=>m(S.id),className:"text-gray-400 hover:text-red-500 transition-colors",disabled:i.length<=1,children:D.jsx(Am,{size:16})})})]},S.id))})]})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Live Preview"}),D.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:o?"#e5e7eb":"transparent"},children:[D.jsx("div",{className:"flex",style:{backgroundColor:c},children:i.map(S=>D.jsx("div",{className:`px-4 py-2 text-sm font-semibold text-gray-700 ${o?"border-r border-gray-200 last:border-r-0":""}`,style:{width:S.width},children:D.jsxs("div",{className:"flex items-center space-x-2",children:[S.type==="text"&&D.jsx(CQ,{size:12,className:"text-gray-400"}),S.type==="number"&&D.jsx(wpe,{size:12,className:"text-gray-400"}),S.type==="date"&&D.jsx(Zd,{size:12,className:"text-gray-400"}),S.type==="checkbox"&&D.jsx(w0e,{size:12,className:"text-gray-400"}),D.jsx("span",{children:S.name})]})},S.id))}),D.jsx("div",{className:"bg-white",children:D.jsx("div",{className:"flex border-t border-gray-100",children:i.map(S=>D.jsx("div",{className:`px-4 py-3 text-sm text-gray-400 italic ${o?"border-r border-gray-100 last:border-r-0":""}`,style:{width:S.width},children:"Sample Data"},S.id))})})]})]})]}),D.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3",children:[D.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),D.jsxs("button",{onClick:b,className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-colors flex items-center space-x-2",children:[D.jsx(ja,{size:16}),D.jsx("span",{children:"Add Table"})]})]})]})})},C2e=({user:r,onLogout:e,onActivate:t})=>{const{setBrainOpen:n}=E8(),a=()=>n(!0),{showToast:i}=lc(),[s,o]=xe.useState(!1),l=xe.useRef(null);return xe.useEffect(()=>{const c=u=>{l.current&&!l.current.contains(u.target)&&o(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),D.jsxs("div",{className:"h-12 bg-clickup-sidebar flex items-center justify-between px-4 flex-shrink-0 z-40 text-gray-300 shadow-md select-none",children:[D.jsx("div",{className:"flex items-center w-[280px] shrink-0",children:D.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:opacity-90 transition-opacity group",children:[D.jsx("img",{src:"/nabd_logo_icon.png",alt:"Icon",className:"w-8 h-8 rounded-lg shadow-lg shadow-brand-primary/20 group-hover:shadow-brand-primary/40 transition-all"}),D.jsx("span",{className:"font-bold text-white tracking-tight hidden md:block group-hover:text-brand-accent transition-colors",children:"NABD Chain System"})]})}),D.jsx("div",{className:"flex-1 flex justify-center px-4 min-w-0",children:D.jsx("div",{className:"w-full max-w-xl relative group",children:D.jsxs("div",{className:"flex items-center bg-[#3E4147] hover:bg-[#4B4E55] transition-colors rounded-lg px-3 py-1.5 cursor-text border border-transparent group-focus-within:border-brand-primary/50 group-focus-within:bg-[#2B2D31] h-8 shadow-inner",children:[D.jsx(w8,{size:14,className:"text-gray-400 group-focus-within:text-brand-primary mr-2 transition-colors"}),D.jsx("input",{type:"text",placeholder:"Search",className:"bg-transparent border-none outline-none text-sm text-gray-200 placeholder-gray-400 w-full group-focus-within:text-white",onKeyDown:c=>c.key==="Enter"&&i("Global Search...","info")}),D.jsx("div",{className:"flex items-center space-x-1 ml-2",children:D.jsxs("div",{className:"hidden md:flex items-center space-x-1 bg-gray-600/50 px-1.5 py-0.5 rounded text-[10px] text-gray-300 border border-gray-500/30 shadow-sm",children:[D.jsx(epe,{size:10}),D.jsx("span",{children:"K"})]})})]})})}),D.jsxs("div",{className:"flex items-center justify-end w-[280px] shrink-0 space-x-1 md:space-x-3",children:[D.jsxs("button",{onClick:a,className:"flex items-center justify-center w-8 h-8 rounded-lg text-white bg-gradient-to-r from-purple-500/20 to-fuchsia-500/20 border border-white/10 hover:border-purple-400/50 hover:bg-purple-500/30 transition-all duration-300 shadow-[0_0_10px_rgba(168,85,247,0.15)] hover:shadow-[0_0_15px_rgba(168,85,247,0.4)] group backdrop-blur-md mr-2 relative overflow-hidden",title:"Ask AI",children:[D.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/30 to-transparent z-0"}),D.jsx(ph,{size:16,className:"text-fuchsia-400 group-hover:text-white transition-colors z-10"})]}),D.jsxs("button",{className:"flex items-center space-x-1.5 bg-gray-900 hover:bg-black text-white px-3 py-1.5 rounded-md transition-all shadow-md active:scale-95 group",onClick:()=>i("Create New Item","info"),children:[D.jsx(mQ,{size:16,className:"group-hover:rotate-90 transition-transform duration-300"}),D.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"New"})]}),D.jsx("div",{className:"h-5 w-[1px] bg-gray-600/50 mx-2 hidden xl:block"}),D.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[D.jsx("button",{className:"p-2 hover:bg-[#3E4147] rounded-md hover:text-white transition-colors hidden lg:block group relative",title:"My Tasks",children:D.jsx(ef,{size:18})}),D.jsx("button",{className:"p-2 hover:bg-[#3E4147] rounded-md hover:text-white transition-colors hidden xl:block group relative",title:"Track Time",children:D.jsx(V_,{size:18})})]}),D.jsx("div",{className:"h-5 w-[1px] bg-gray-600/50 mx-2 hidden md:block"}),D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsxs("button",{className:"p-2 hover:bg-[#3E4147] rounded-md hover:text-white transition-colors relative",children:[D.jsx(_de,{size:18}),D.jsx("span",{className:"absolute top-1.5 right-2 w-2 h-2 bg-brand-primary rounded-full border border-[#2B2D31]"})]}),D.jsxs("div",{className:"relative",ref:l,children:[r?D.jsx("div",{className:"ml-2 w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white cursor-pointer hover:border-white transition-all shadow-md ring-2 ring-transparent hover:ring-gray-500/50 bg-gray-900 hover:bg-black border border-gray-700",title:r.name,onClick:()=>o(!s),children:r.avatar}):D.jsx("div",{className:"ml-2 w-8 h-8 rounded-full bg-gray-600 animate-pulse"}),s&&D.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-xl z-50 py-1 animate-in fade-in slide-in-from-top-2",children:[D.jsxs("div",{className:"px-4 py-2 border-b border-gray-700/50",children:[D.jsx("p",{className:"text-sm font-medium text-white",children:r==null?void 0:r.name}),D.jsx("p",{className:"text-xs text-gray-500 truncate",children:(r==null?void 0:r.email)||"user@example.com"})]}),D.jsxs("div",{className:"py-1",children:[D.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white flex items-center space-x-2 transition-colors",onClick:()=>{o(!1),t&&t()},children:[D.jsx(fw,{size:14,className:"text-yellow-400"}),D.jsx("span",{children:"Activate"})]}),D.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 flex items-center space-x-2 transition-colors",onClick:()=>{o(!1),e&&e()},children:[D.jsx(wQ,{size:14}),D.jsx("span",{children:"Sign Out"})]})]})]})]})]})]})]})};var $1=(r=>(r.Urgent="Urgent",r.High="High",r.Normal="Normal",r.Low="Low",r.None="None",r))($1||{}),vA=(r=>(r.Todo="To do",r.InProgress="In Progress",r.Review="Review",r.Complete="Complete",r))(vA||{});const XN={"To do":"#87909e","In Progress":"#3b82f6",Review:"#eab308",Complete:"#22c55e"},l_={Urgent:"#e44356",High:"#ffcc00",Normal:"#6fddff",Low:"#87909e",None:"#d1d5db"};var B1=dQ();function D2e(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return xe.useMemo(()=>n=>{e.forEach(a=>a(n))},e)}const qN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function j_(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function ez(r){return"nodeType"in r}function al(r){var e,t;return r?j_(r)?r:ez(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function tz(r){const{Document:e}=al(r);return r instanceof e}function gA(r){return j_(r)?!1:r instanceof al(r).HTMLElement}function dte(r){return r instanceof al(r).SVGElement}function W_(r){return r?j_(r)?r.document:ez(r)?tz(r)?r:gA(r)||dte(r)?r.ownerDocument:document:document:document}const tf=qN?xe.useLayoutEffect:xe.useEffect;function ZN(r){const e=xe.useRef(r);return tf(()=>{e.current=r}),xe.useCallback(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}function R2e(){const r=xe.useRef(null),e=xe.useCallback((n,a)=>{r.current=setInterval(n,a)},[]),t=xe.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function oT(r,e){e===void 0&&(e=[r]);const t=xe.useRef(r);return tf(()=>{t.current!==r&&(t.current=r)},e),t}function mA(r,e){const t=xe.useRef();return xe.useMemo(()=>{const n=r(t.current);return t.current=n,n},[...e])}function RD(r){const e=ZN(r),t=xe.useRef(null),n=xe.useCallback(a=>{a!==t.current&&(e==null||e(a,t.current)),t.current=a},[]);return[t,n]}function ND(r){const e=xe.useRef();return xe.useEffect(()=>{e.current=r},[r]),e.current}let w4={};function yA(r,e){return xe.useMemo(()=>{if(e)return e;const t=w4[r]==null?0:w4[r]+1;return w4[r]=t,r+"-"+t},[r,e])}function pte(r){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((i,s)=>{const o=Object.entries(s);for(const[l,c]of o){const u=i[l];u!=null&&(i[l]=u+r*c)}return i},{...e})}}const J1=pte(1),lT=pte(-1);function N2e(r){return"clientX"in r&&"clientY"in r}function KN(r){if(!r)return!1;const{KeyboardEvent:e}=al(r.target);return e&&r instanceof e}function I2e(r){if(!r)return!1;const{TouchEvent:e}=al(r.target);return e&&r instanceof e}function ID(r){if(I2e(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return N2e(r)?{x:r.clientX,y:r.clientY}:null}const $0=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[$0.Translate.toString(r),$0.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:n}=r;return e+" "+t+"ms "+n}}}),X7="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function L2e(r){return r.matches(X7)?r:r.querySelector(X7)}const O2e={display:"none"};function k2e(r){let{id:e,value:t}=r;return An.createElement("div",{id:e,style:O2e},t)}function P2e(r){let{id:e,announcement:t,ariaLiveType:n="assertive"}=r;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return An.createElement("div",{id:e,style:a,role:"status","aria-live":n,"aria-atomic":!0},t)}function B2e(){const[r,e]=xe.useState("");return{announce:xe.useCallback(n=>{n!=null&&e(n)},[]),announcement:r}}const vte=xe.createContext(null);function z2e(r){const e=xe.useContext(vte);xe.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function F2e(){const[r]=xe.useState(()=>new Set),e=xe.useCallback(n=>(r.add(n),()=>r.delete(n)),[r]);return[xe.useCallback(n=>{let{type:a,event:i}=n;r.forEach(s=>{var o;return(o=s[a])==null?void 0:o.call(s,i)})},[r]),e]}const U2e={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},V2e={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function H2e(r){let{announcements:e=V2e,container:t,hiddenTextDescribedById:n,screenReaderInstructions:a=U2e}=r;const{announce:i,announcement:s}=B2e(),o=yA("DndLiveRegion"),[l,c]=xe.useState(!1);if(xe.useEffect(()=>{c(!0)},[]),z2e(xe.useMemo(()=>({onDragStart(f){let{active:h}=f;i(e.onDragStart({active:h}))},onDragMove(f){let{active:h,over:d}=f;e.onDragMove&&i(e.onDragMove({active:h,over:d}))},onDragOver(f){let{active:h,over:d}=f;i(e.onDragOver({active:h,over:d}))},onDragEnd(f){let{active:h,over:d}=f;i(e.onDragEnd({active:h,over:d}))},onDragCancel(f){let{active:h,over:d}=f;i(e.onDragCancel({active:h,over:d}))}}),[i,e])),!l)return null;const u=An.createElement(An.Fragment,null,An.createElement(k2e,{id:n,value:a.draggable}),An.createElement(P2e,{id:o,announcement:s}));return t?B1.createPortal(u,t):u}var Xi;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Xi||(Xi={}));function LD(){}function DP(r,e){return xe.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function gte(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return xe.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const rf=Object.freeze({x:0,y:0});function G2e(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function j2e(r,e){const t=ID(r);if(!t)return"0 0";const n={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function W2e(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return t-n}function Y2e(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return n-t}function q7(r){let{left:e,top:t,height:n,width:a}=r;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+n},{x:e+a,y:t+n}]}function mte(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}const yte=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const a=q7(e),i=[];for(const s of n){const{id:o}=s,l=t.get(o);if(l){const c=q7(l),u=a.reduce((h,d,v)=>h+G2e(c[v],d),0),f=Number((u/4).toFixed(4));i.push({id:o,data:{droppableContainer:s,value:f}})}}return i.sort(W2e)};function X2e(r,e){const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),a=Math.min(e.left+e.width,r.left+r.width),i=Math.min(e.top+e.height,r.top+r.height),s=a-n,o=i-t;if(n<a&&t<i){const l=e.width*e.height,c=r.width*r.height,u=s*o,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const q2e=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const a=[];for(const i of n){const{id:s}=i,o=t.get(s);if(o){const l=X2e(o,e);l>0&&a.push({id:s,data:{droppableContainer:i,value:l}})}}return a.sort(Y2e)};function Z2e(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function xte(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:rf}function K2e(r){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((s,o)=>({...s,top:s.top+r*o.y,bottom:s.bottom+r*o.y,left:s.left+r*o.x,right:s.right+r*o.x}),{...t})}}const $2e=K2e(1);function _te(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function J2e(r,e,t){const n=_te(e);if(!n)return r;const{scaleX:a,scaleY:i,x:s,y:o}=n,l=r.left-s-(1-a)*parseFloat(t),c=r.top-o-(1-i)*parseFloat(t.slice(t.indexOf(" ")+1)),u=a?r.width/a:r.width,f=i?r.height/i:r.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const Q2e={ignoreTransform:!1};function Y_(r,e){e===void 0&&(e=Q2e);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=al(r).getComputedStyle(r);c&&(t=J2e(t,c,u))}const{top:n,left:a,width:i,height:s,bottom:o,right:l}=t;return{top:n,left:a,width:i,height:s,bottom:o,right:l}}function Z7(r){return Y_(r,{ignoreTransform:!0})}function ewe(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function twe(r,e){return e===void 0&&(e=al(r).getComputedStyle(r)),e.position==="fixed"}function rwe(r,e){e===void 0&&(e=al(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=e[a];return typeof i=="string"?t.test(i):!1})}function $N(r,e){const t=[];function n(a){if(e!=null&&t.length>=e||!a)return t;if(tz(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!gA(a)||dte(a)||t.includes(a))return t;const i=al(r).getComputedStyle(a);return a!==r&&rwe(a,i)&&t.push(a),twe(a,i)?t:n(a.parentNode)}return r?n(r):t}function bte(r){const[e]=$N(r,1);return e??null}function T4(r){return!qN||!r?null:j_(r)?r:ez(r)?tz(r)||r===W_(r).scrollingElement?window:gA(r)?r:null:null}function Ste(r){return j_(r)?r.scrollX:r.scrollLeft}function wte(r){return j_(r)?r.scrollY:r.scrollTop}function RP(r){return{x:Ste(r),y:wte(r)}}var xs;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(xs||(xs={}));function Tte(r){return!qN||!r?!1:r===document.scrollingElement}function Ate(r){const e={x:0,y:0},t=Tte(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},n={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},a=r.scrollTop<=e.y,i=r.scrollLeft<=e.x,s=r.scrollTop>=n.y,o=r.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:s,isRight:o,maxScroll:n,minScroll:e}}const nwe={x:.2,y:.2};function awe(r,e,t,n,a){let{top:i,left:s,right:o,bottom:l}=t;n===void 0&&(n=10),a===void 0&&(a=nwe);const{isTop:c,isBottom:u,isLeft:f,isRight:h}=Ate(r),d={x:0,y:0},v={x:0,y:0},g={height:e.height*a.y,width:e.width*a.x};return!c&&i<=e.top+g.height?(d.y=xs.Backward,v.y=n*Math.abs((e.top+g.height-i)/g.height)):!u&&l>=e.bottom-g.height&&(d.y=xs.Forward,v.y=n*Math.abs((e.bottom-g.height-l)/g.height)),!h&&o>=e.right-g.width?(d.x=xs.Forward,v.x=n*Math.abs((e.right-g.width-o)/g.width)):!f&&s<=e.left+g.width&&(d.x=xs.Backward,v.x=n*Math.abs((e.left+g.width-s)/g.width)),{direction:d,speed:v}}function iwe(r){if(r===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:e,left:t,right:n,bottom:a}=r.getBoundingClientRect();return{top:e,left:t,right:n,bottom:a,width:r.clientWidth,height:r.clientHeight}}function Ete(r){return r.reduce((e,t)=>J1(e,RP(t)),rf)}function swe(r){return r.reduce((e,t)=>e+Ste(t),0)}function owe(r){return r.reduce((e,t)=>e+wte(t),0)}function Mte(r,e){if(e===void 0&&(e=Y_),!r)return;const{top:t,left:n,bottom:a,right:i}=e(r);bte(r)&&(a<=0||i<=0||t>=window.innerHeight||n>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const lwe=[["x",["left","right"],swe],["y",["top","bottom"],owe]];let rz=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=$N(t),a=Ete(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,s,o]of lwe)for(const l of s)Object.defineProperty(this,l,{get:()=>{const c=o(n),u=a[i]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class bw{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var a;(a=this.target)==null||a.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function cwe(r){const{EventTarget:e}=al(r);return r instanceof e?r:W_(r)}function A4(r,e){const t=Math.abs(r.x),n=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var jc;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(jc||(jc={}));function K7(r){r.preventDefault()}function uwe(r){r.stopPropagation()}var Rn;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Rn||(Rn={}));const Cte={start:[Rn.Space,Rn.Enter],cancel:[Rn.Esc],end:[Rn.Space,Rn.Enter,Rn.Tab]},fwe=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case Rn.Right:return{...t,x:t.x+25};case Rn.Left:return{...t,x:t.x-25};case Rn.Down:return{...t,y:t.y+25};case Rn.Up:return{...t,y:t.y-25}}};class nz{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new bw(W_(t)),this.windowListeners=new bw(al(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jc.Resize,this.handleCancel),this.windowListeners.add(jc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&Mte(n),t(rf)}handleKeyDown(e){if(KN(e)){const{active:t,context:n,options:a}=this.props,{keyboardCodes:i=Cte,coordinateGetter:s=fwe,scrollBehavior:o="smooth"}=a,{code:l}=e;if(i.end.includes(l)){this.handleEnd(e);return}if(i.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=n.current,u=c?{x:c.left,y:c.top}:rf;this.referenceCoordinates||(this.referenceCoordinates=u);const f=s(e,{active:t,context:n.current,currentCoordinates:u});if(f){const h=lT(f,u),d={x:0,y:0},{scrollableAncestors:v}=n.current;for(const g of v){const m=e.code,{isTop:y,isRight:b,isLeft:S,isBottom:A,maxScroll:E,minScroll:M}=Ate(g),R=iwe(g),L={x:Math.min(m===Rn.Right?R.right-R.width/2:R.right,Math.max(m===Rn.Right?R.left:R.left+R.width/2,f.x)),y:Math.min(m===Rn.Down?R.bottom-R.height/2:R.bottom,Math.max(m===Rn.Down?R.top:R.top+R.height/2,f.y))},I=m===Rn.Right&&!b||m===Rn.Left&&!S,O=m===Rn.Down&&!A||m===Rn.Up&&!y;if(I&&L.x!==f.x){const P=g.scrollLeft+h.x,k=m===Rn.Right&&P<=E.x||m===Rn.Left&&P>=M.x;if(k&&!h.y){g.scrollTo({left:P,behavior:o});return}k?d.x=g.scrollLeft-P:d.x=m===Rn.Right?g.scrollLeft-E.x:g.scrollLeft-M.x,d.x&&g.scrollBy({left:-d.x,behavior:o});break}else if(O&&L.y!==f.y){const P=g.scrollTop+h.y,k=m===Rn.Down&&P<=E.y||m===Rn.Up&&P>=M.y;if(k&&!h.x){g.scrollTo({top:P,behavior:o});return}k?d.y=g.scrollTop-P:d.y=m===Rn.Down?g.scrollTop-E.y:g.scrollTop-M.y,d.y&&g.scrollBy({top:-d.y,behavior:o});break}}this.handleMove(e,J1(lT(f,this.referenceCoordinates),d))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nz.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:n=Cte,onActivation:a}=e,{active:i}=t;const{code:s}=r.nativeEvent;if(n.start.includes(s)){const o=i.activatorNode.current;return o&&r.target!==o?!1:(r.preventDefault(),a==null||a({event:r.nativeEvent}),!0)}return!1}}];function $7(r){return!!(r&&"distance"in r)}function J7(r){return!!(r&&"delay"in r)}class az{constructor(e,t,n){var a;n===void 0&&(n=cwe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:s}=i;this.props=e,this.events=t,this.document=W_(s),this.documentListeners=new bw(this.document),this.listeners=new bw(n),this.windowListeners=new bw(al(s)),this.initialCoordinates=(a=ID(i))!=null?a:rf,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(jc.Resize,this.handleCancel),this.windowListeners.add(jc.DragStart,K7),this.windowListeners.add(jc.VisibilityChange,this.handleCancel),this.windowListeners.add(jc.ContextMenu,K7),this.documentListeners.add(jc.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(J7(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if($7(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:a}=this.props;a(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(jc.Click,uwe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jc.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:s,options:{activationConstraint:o}}=i;if(!a)return;const l=(t=ID(e))!=null?t:rf,c=lT(a,l);if(!n&&o){if($7(o)){if(o.tolerance!=null&&A4(c,o.tolerance))return this.handleCancel();if(A4(c,o.distance))return this.handleStart()}if(J7(o)&&A4(c,o.tolerance))return this.handleCancel();this.handlePending(o,c);return}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Rn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const hwe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class JN extends az{constructor(e){const{event:t}=e,n=W_(t.target);super(e,hwe,n)}}JN.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n==null||n({event:t}),!0)}}];const dwe={move:{name:"mousemove"},end:{name:"mouseup"}};var NP;(function(r){r[r.RightClick=2]="RightClick"})(NP||(NP={}));class pwe extends az{constructor(e){super(e,dwe,W_(e.event.target))}}pwe.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return t.button===NP.RightClick?!1:(n==null||n({event:t}),!0)}}];const E4={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class vwe extends az{constructor(e){super(e,E4)}static setup(){return window.addEventListener(E4.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(E4.move.name,e)};function e(){}}}vwe.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;const{touches:a}=t;return a.length>1?!1:(n==null||n({event:t}),!0)}}];var Sw;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Sw||(Sw={}));var OD;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(OD||(OD={}));function gwe(r){let{acceleration:e,activator:t=Sw.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:s=5,order:o=OD.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:h}=r;const d=ywe({delta:f,disabled:!i}),[v,g]=R2e(),m=xe.useRef({x:0,y:0}),y=xe.useRef({x:0,y:0}),b=xe.useMemo(()=>{switch(t){case Sw.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Sw.DraggableRect:return a}},[t,a,l]),S=xe.useRef(null),A=xe.useCallback(()=>{const M=S.current;if(!M)return;const R=m.current.x*y.current.x,L=m.current.y*y.current.y;M.scrollBy(R,L)},[]),E=xe.useMemo(()=>o===OD.TreeOrder?[...c].reverse():c,[o,c]);xe.useEffect(()=>{if(!i||!c.length||!b){g();return}for(const M of E){if((n==null?void 0:n(M))===!1)continue;const R=c.indexOf(M),L=u[R];if(!L)continue;const{direction:I,speed:O}=awe(M,L,b,e,h);for(const P of["x","y"])d[P][I[P]]||(O[P]=0,I[P]=0);if(O.x>0||O.y>0){g(),S.current=M,v(A,s),m.current=O,y.current=I;return}}m.current={x:0,y:0},y.current={x:0,y:0},g()},[e,A,n,g,i,s,JSON.stringify(b),JSON.stringify(d),v,c,E,u,JSON.stringify(h)])}const mwe={x:{[xs.Backward]:!1,[xs.Forward]:!1},y:{[xs.Backward]:!1,[xs.Forward]:!1}};function ywe(r){let{delta:e,disabled:t}=r;const n=ND(e);return mA(a=>{if(t||!n||!a)return mwe;const i={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[xs.Backward]:a.x[xs.Backward]||i.x===-1,[xs.Forward]:a.x[xs.Forward]||i.x===1},y:{[xs.Backward]:a.y[xs.Backward]||i.y===-1,[xs.Forward]:a.y[xs.Forward]||i.y===1}}},[t,e,n])}function xwe(r,e){const t=e!=null?r.get(e):void 0,n=t?t.node.current:null;return mA(a=>{var i;return e==null?null:(i=n??a)!=null?i:null},[n,e])}function _we(r,e){return xe.useMemo(()=>r.reduce((t,n)=>{const{sensor:a}=n,i=a.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,n)}));return[...t,...i]},[]),[r,e])}var cT;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(cT||(cT={}));var IP;(function(r){r.Optimized="optimized"})(IP||(IP={}));const Q7=new Map;function bwe(r,e){let{dragging:t,dependencies:n,config:a}=e;const[i,s]=xe.useState(null),{frequency:o,measure:l,strategy:c}=a,u=xe.useRef(r),f=m(),h=oT(f),d=xe.useCallback(function(y){y===void 0&&(y=[]),!h.current&&s(b=>b===null?y:b.concat(y.filter(S=>!b.includes(S))))},[h]),v=xe.useRef(null),g=mA(y=>{if(f&&!t)return Q7;if(!y||y===Q7||u.current!==r||i!=null){const b=new Map;for(let S of r){if(!S)continue;if(i&&i.length>0&&!i.includes(S.id)&&S.rect.current){b.set(S.id,S.rect.current);continue}const A=S.node.current,E=A?new rz(l(A),A):null;S.rect.current=E,E&&b.set(S.id,E)}return b}return y},[r,i,t,f,l]);return xe.useEffect(()=>{u.current=r},[r]),xe.useEffect(()=>{f||d()},[t,f]),xe.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),xe.useEffect(()=>{f||typeof o!="number"||v.current!==null||(v.current=setTimeout(()=>{d(),v.current=null},o))},[o,f,d,...n]),{droppableRects:g,measureDroppableContainers:d,measuringScheduled:i!=null};function m(){switch(c){case cT.Always:return!1;case cT.BeforeDragging:return t;default:return!t}}}function iz(r,e){return mA(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function Swe(r,e){return iz(r,e)}function wwe(r){let{callback:e,disabled:t}=r;const n=ZN(e),a=xe.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,t]);return xe.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function QN(r){let{callback:e,disabled:t}=r;const n=ZN(e),a=xe.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[t]);return xe.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Twe(r){return new rz(Y_(r),r)}function eH(r,e,t){e===void 0&&(e=Twe);const[n,a]=xe.useState(null);function i(){a(l=>{if(!r)return null;if(r.isConnected===!1){var c;return(c=l??t)!=null?c:null}const u=e(r);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const s=wwe({callback(l){if(r)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(r)){i();break}}}}),o=QN({callback:i});return tf(()=>{i(),r?(o==null||o.observe(r),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[r]),n}function Awe(r){const e=iz(r);return xte(r,e)}const tH=[];function Ewe(r){const e=xe.useRef(r),t=mA(n=>r?n&&n!==tH&&r&&e.current&&r.parentNode===e.current.parentNode?n:$N(r):tH,[r]);return xe.useEffect(()=>{e.current=r},[r]),t}function Mwe(r){const[e,t]=xe.useState(null),n=xe.useRef(r),a=xe.useCallback(i=>{const s=T4(i.target);s&&t(o=>o?(o.set(s,RP(s)),new Map(o)):null)},[]);return xe.useEffect(()=>{const i=n.current;if(r!==i){s(i);const o=r.map(l=>{const c=T4(l);return c?(c.addEventListener("scroll",a,{passive:!0}),[c,RP(c)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),n.current=r}return()=>{s(r),s(i)};function s(o){o.forEach(l=>{const c=T4(l);c==null||c.removeEventListener("scroll",a)})}},[a,r]),xe.useMemo(()=>r.length?e?Array.from(e.values()).reduce((i,s)=>J1(i,s),rf):Ete(r):rf,[r,e])}function rH(r,e){e===void 0&&(e=[]);const t=xe.useRef(null);return xe.useEffect(()=>{t.current=null},e),xe.useEffect(()=>{const n=r!==rf;n&&!t.current&&(t.current=r),!n&&t.current&&(t.current=null)},[r]),t.current?lT(r,t.current):rf}function Cwe(r){xe.useEffect(()=>{if(!qN)return;const e=r.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t==null||t()}},r.map(e=>{let{sensor:t}=e;return t}))}function Dwe(r,e){return xe.useMemo(()=>r.reduce((t,n)=>{let{eventName:a,handler:i}=n;return t[a]=s=>{i(s,e)},t},{}),[r,e])}function Dte(r){return xe.useMemo(()=>r?ewe(r):null,[r])}const nH=[];function Rwe(r,e){e===void 0&&(e=Y_);const[t]=r,n=Dte(t?al(t):null),[a,i]=xe.useState(nH);function s(){i(()=>r.length?r.map(l=>Tte(l)?n:new rz(e(l),l)):nH)}const o=QN({callback:s});return tf(()=>{o==null||o.disconnect(),s(),r.forEach(l=>o==null?void 0:o.observe(l))},[r]),a}function Rte(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return gA(e)?e:r}function Nwe(r){let{measure:e}=r;const[t,n]=xe.useState(null),a=xe.useCallback(c=>{for(const{target:u}of c)if(gA(u)){n(f=>{const h=e(u);return f?{...f,width:h.width,height:h.height}:h});break}},[e]),i=QN({callback:a}),s=xe.useCallback(c=>{const u=Rte(c);i==null||i.disconnect(),u&&(i==null||i.observe(u)),n(u?e(u):null)},[e,i]),[o,l]=RD(s);return xe.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const Iwe=[{sensor:JN,options:{}},{sensor:nz,options:{}}],Lwe={current:{}},j3={draggable:{measure:Z7},droppable:{measure:Z7,strategy:cT.WhileDragging,frequency:IP.Optimized},dragOverlay:{measure:Y_}};class ww extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const Owe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ww,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:LD},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:j3,measureDroppableContainers:LD,windowRect:null,measuringScheduled:!1},Nte={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:LD,draggableNodes:new Map,over:null,measureDroppableContainers:LD},xA=xe.createContext(Nte),Ite=xe.createContext(Owe);function kwe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ww}}}function Pwe(r,e){switch(e.type){case Xi.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Xi.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case Xi.DragEnd:case Xi.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xi.RegisterDroppable:{const{element:t}=e,{id:n}=t,a=new ww(r.droppable.containers);return a.set(n,t),{...r,droppable:{...r.droppable,containers:a}}}case Xi.SetDroppableDisabled:{const{id:t,key:n,disabled:a}=e,i=r.droppable.containers.get(t);if(!i||n!==i.key)return r;const s=new ww(r.droppable.containers);return s.set(t,{...i,disabled:a}),{...r,droppable:{...r.droppable,containers:s}}}case Xi.UnregisterDroppable:{const{id:t,key:n}=e,a=r.droppable.containers.get(t);if(!a||n!==a.key)return r;const i=new ww(r.droppable.containers);return i.delete(t),{...r,droppable:{...r.droppable,containers:i}}}default:return r}}function Bwe(r){let{disabled:e}=r;const{active:t,activatorEvent:n,draggableNodes:a}=xe.useContext(xA),i=ND(n),s=ND(t==null?void 0:t.id);return xe.useEffect(()=>{if(!e&&!n&&i&&s!=null){if(!KN(i)||document.activeElement===i.target)return;const o=a.get(s);if(!o)return;const{activatorNode:l,node:c}=o;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=L2e(u);if(f){f.focus();break}}})}},[n,e,a,s,i]),null}function Lte(r,e){let{transform:t,...n}=e;return r!=null&&r.length?r.reduce((a,i)=>i({transform:a,...n}),t):t}function zwe(r){return xe.useMemo(()=>({draggable:{...j3.draggable,...r==null?void 0:r.draggable},droppable:{...j3.droppable,...r==null?void 0:r.droppable},dragOverlay:{...j3.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function Fwe(r){let{activeNode:e,measure:t,initialRect:n,config:a=!0}=r;const i=xe.useRef(!1),{x:s,y:o}=typeof a=="boolean"?{x:a,y:a}:a;tf(()=>{if(!s&&!o||!e){i.current=!1;return}if(i.current||!n)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=t(c),f=xte(u,n);if(s||(f.x=0),o||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=bte(c);h&&h.scrollBy({top:f.y,left:f.x})}},[e,s,o,n,t])}const eI=xe.createContext({...rf,scaleX:1,scaleY:1});var y0;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(y0||(y0={}));const Ote=xe.memo(function(e){var t,n,a,i;let{id:s,accessibility:o,autoScroll:l=!0,children:c,sensors:u=Iwe,collisionDetection:f=q2e,measuring:h,modifiers:d,...v}=e;const g=xe.useReducer(Pwe,void 0,kwe),[m,y]=g,[b,S]=F2e(),[A,E]=xe.useState(y0.Uninitialized),M=A===y0.Initialized,{draggable:{active:R,nodes:L,translate:I},droppable:{containers:O}}=m,P=R!=null?L.get(R):null,k=xe.useRef({initial:null,translated:null}),U=xe.useMemo(()=>{var _t;return R!=null?{id:R,data:(_t=P==null?void 0:P.data)!=null?_t:Lwe,rect:k}:null},[R,P]),F=xe.useRef(null),[q,H]=xe.useState(null),[Z,X]=xe.useState(null),Y=oT(v,Object.values(v)),re=yA("DndDescribedBy",s),W=xe.useMemo(()=>O.getEnabled(),[O]),j=zwe(h),{droppableRects:J,measureDroppableContainers:ee,measuringScheduled:ae}=bwe(W,{dragging:M,dependencies:[I.x,I.y],config:j.droppable}),ce=xwe(L,R),me=xe.useMemo(()=>Z?ID(Z):null,[Z]),Se=Ct(),we=Swe(ce,j.draggable.measure);Fwe({activeNode:R!=null?L.get(R):null,config:Se.layoutShiftCompensation,initialRect:we,measure:j.draggable.measure});const Me=eH(ce,j.draggable.measure,we),Ve=eH(ce?ce.parentElement:null),de=xe.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),dt=O.getNodeFor((t=de.current.over)==null?void 0:t.id),K=Nwe({measure:j.dragOverlay.measure}),se=(n=K.nodeRef.current)!=null?n:ce,_e=M?(a=K.rect)!=null?a:Me:null,oe=!!(K.nodeRef.current&&K.rect),ue=Awe(oe?null:Me),be=Dte(se?al(se):null),Be=Ewe(M?dt??ce:null),ze=Rwe(Be),Le=Lte(d,{transform:{x:I.x-ue.x,y:I.y-ue.y,scaleX:1,scaleY:1},activatorEvent:Z,active:U,activeNodeRect:Me,containerNodeRect:Ve,draggingNodeRect:_e,over:de.current.over,overlayNodeRect:K.rect,scrollableAncestors:Be,scrollableAncestorRects:ze,windowRect:be}),fe=me?J1(me,I):null,ie=Mwe(Be),Re=rH(ie),je=rH(ie,[Me]),it=J1(Le,Re),Ge=_e?$2e(_e,Le):null,Bt=U&&Ge?f({active:U,collisionRect:Ge,droppableRects:J,droppableContainers:W,pointerCoordinates:fe}):null,pt=mte(Bt,"id"),[Dt,Vt]=xe.useState(null),$e=oe?Le:J1(Le,je),yt=Z2e($e,(i=Dt==null?void 0:Dt.rect)!=null?i:null,Me),jt=xe.useRef(null),Ne=xe.useCallback((_t,vt)=>{let{sensor:ht,options:zt}=vt;if(F.current==null)return;const Xt=L.get(F.current);if(!Xt)return;const wr=_t.nativeEvent,Tr=new ht({active:F.current,activeNode:Xt,event:wr,options:zt,context:de,onAbort(an){if(!L.get(an))return;const{onDragAbort:Ma}=Y.current,li={id:an};Ma==null||Ma(li),b({type:"onDragAbort",event:li})},onPending(an,as,Ma,li){if(!L.get(an))return;const{onDragPending:is}=Y.current,he={id:an,constraint:as,initialCoordinates:Ma,offset:li};is==null||is(he),b({type:"onDragPending",event:he})},onStart(an){const as=F.current;if(as==null)return;const Ma=L.get(as);if(!Ma)return;const{onDragStart:li}=Y.current,ua={activatorEvent:wr,active:{id:as,data:Ma.data,rect:k}};B1.unstable_batchedUpdates(()=>{li==null||li(ua),E(y0.Initializing),y({type:Xi.DragStart,initialCoordinates:an,active:as}),b({type:"onDragStart",event:ua}),H(jt.current),X(wr)})},onMove(an){y({type:Xi.DragMove,coordinates:an})},onEnd:On(Xi.DragEnd),onCancel:On(Xi.DragCancel)});jt.current=Tr;function On(an){return async function(){const{active:Ma,collisions:li,over:ua,scrollAdjustedTranslate:is}=de.current;let he=null;if(Ma&&is){const{cancelDrop:Te}=Y.current;he={activatorEvent:wr,active:Ma,collisions:li,delta:is,over:ua},an===Xi.DragEnd&&typeof Te=="function"&&await Promise.resolve(Te(he))&&(an=Xi.DragCancel)}F.current=null,B1.unstable_batchedUpdates(()=>{y({type:an}),E(y0.Uninitialized),Vt(null),H(null),X(null),jt.current=null;const Te=an===Xi.DragEnd?"onDragEnd":"onDragCancel";if(he){const ye=Y.current[Te];ye==null||ye(he),b({type:Te,event:he})}})}}},[L]),Ke=xe.useCallback((_t,vt)=>(ht,zt)=>{const Xt=ht.nativeEvent,wr=L.get(zt);if(F.current!==null||!wr||Xt.dndKit||Xt.defaultPrevented)return;const Tr={active:wr};_t(ht,vt.options,Tr)===!0&&(Xt.dndKit={capturedBy:vt.sensor},F.current=zt,Ne(ht,vt))},[L,Ne]),At=_we(u,Ke);Cwe(u),tf(()=>{Me&&A===y0.Initializing&&E(y0.Initialized)},[Me,A]),xe.useEffect(()=>{const{onDragMove:_t}=Y.current,{active:vt,activatorEvent:ht,collisions:zt,over:Xt}=de.current;if(!vt||!ht)return;const wr={active:vt,activatorEvent:ht,collisions:zt,delta:{x:it.x,y:it.y},over:Xt};B1.unstable_batchedUpdates(()=>{_t==null||_t(wr),b({type:"onDragMove",event:wr})})},[it.x,it.y]),xe.useEffect(()=>{const{active:_t,activatorEvent:vt,collisions:ht,droppableContainers:zt,scrollAdjustedTranslate:Xt}=de.current;if(!_t||F.current==null||!vt||!Xt)return;const{onDragOver:wr}=Y.current,Tr=zt.get(pt),On=Tr&&Tr.rect.current?{id:Tr.id,rect:Tr.rect.current,data:Tr.data,disabled:Tr.disabled}:null,an={active:_t,activatorEvent:vt,collisions:ht,delta:{x:Xt.x,y:Xt.y},over:On};B1.unstable_batchedUpdates(()=>{Vt(On),wr==null||wr(an),b({type:"onDragOver",event:an})})},[pt]),tf(()=>{de.current={activatorEvent:Z,active:U,activeNode:ce,collisionRect:Ge,collisions:Bt,droppableRects:J,draggableNodes:L,draggingNode:se,draggingNodeRect:_e,droppableContainers:O,over:Dt,scrollableAncestors:Be,scrollAdjustedTranslate:it},k.current={initial:_e,translated:Ge}},[U,ce,Bt,Ge,L,se,_e,J,O,Dt,Be,it]),gwe({...Se,delta:I,draggingRect:Ge,pointerCoordinates:fe,scrollableAncestors:Be,scrollableAncestorRects:ze});const Ie=xe.useMemo(()=>({active:U,activeNode:ce,activeNodeRect:Me,activatorEvent:Z,collisions:Bt,containerNodeRect:Ve,dragOverlay:K,draggableNodes:L,droppableContainers:O,droppableRects:J,over:Dt,measureDroppableContainers:ee,scrollableAncestors:Be,scrollableAncestorRects:ze,measuringConfiguration:j,measuringScheduled:ae,windowRect:be}),[U,ce,Me,Z,Bt,Ve,K,L,O,J,Dt,ee,Be,ze,j,ae,be]),Et=xe.useMemo(()=>({activatorEvent:Z,activators:At,active:U,activeNodeRect:Me,ariaDescribedById:{draggable:re},dispatch:y,draggableNodes:L,over:Dt,measureDroppableContainers:ee}),[Z,At,U,Me,y,re,L,Dt,ee]);return An.createElement(vte.Provider,{value:S},An.createElement(xA.Provider,{value:Et},An.createElement(Ite.Provider,{value:Ie},An.createElement(eI.Provider,{value:yt},c)),An.createElement(Bwe,{disabled:(o==null?void 0:o.restoreFocus)===!1})),An.createElement(H2e,{...o,hiddenTextDescribedById:re}));function Ct(){const _t=(q==null?void 0:q.autoScrollEnabled)===!1,vt=typeof l=="object"?l.enabled===!1:l===!1,ht=M&&!_t&&!vt;return typeof l=="object"?{...l,enabled:ht}:{enabled:ht}}}),Uwe=xe.createContext(null),aH="button",Vwe="Draggable";function kte(r){let{id:e,data:t,disabled:n=!1,attributes:a}=r;const i=yA(Vwe),{activators:s,activatorEvent:o,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:h}=xe.useContext(xA),{role:d=aH,roleDescription:v="draggable",tabIndex:g=0}=a??{},m=(l==null?void 0:l.id)===e,y=xe.useContext(m?eI:Uwe),[b,S]=RD(),[A,E]=RD(),M=Dwe(s,e),R=oT(t);tf(()=>(f.set(e,{id:e,key:i,node:b,activatorNode:A,data:R}),()=>{const I=f.get(e);I&&I.key===i&&f.delete(e)}),[f,e]);const L=xe.useMemo(()=>({role:d,tabIndex:g,"aria-disabled":n,"aria-pressed":m&&d===aH?!0:void 0,"aria-roledescription":v,"aria-describedby":u.draggable}),[n,d,g,m,v,u.draggable]);return{active:l,activatorEvent:o,activeNodeRect:c,attributes:L,isDragging:m,listeners:n?void 0:M,node:b,over:h,setNodeRef:S,setActivatorNodeRef:E,transform:y}}function Pte(){return xe.useContext(Ite)}const Hwe="Droppable",Gwe={timeout:25};function Bte(r){let{data:e,disabled:t=!1,id:n,resizeObserverConfig:a}=r;const i=yA(Hwe),{active:s,dispatch:o,over:l,measureDroppableContainers:c}=xe.useContext(xA),u=xe.useRef({disabled:t}),f=xe.useRef(!1),h=xe.useRef(null),d=xe.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:m}={...Gwe,...a},y=oT(g??n),b=xe.useCallback(()=>{if(!f.current){f.current=!0;return}d.current!=null&&clearTimeout(d.current),d.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),d.current=null},m)},[m]),S=QN({callback:b,disabled:v||!s}),A=xe.useCallback((L,I)=>{S&&(I&&(S.unobserve(I),f.current=!1),L&&S.observe(L))},[S]),[E,M]=RD(A),R=oT(e);return xe.useEffect(()=>{!S||!E.current||(S.disconnect(),f.current=!1,S.observe(E.current))},[E,S]),xe.useEffect(()=>(o({type:Xi.RegisterDroppable,element:{id:n,key:i,disabled:t,node:E,rect:h,data:R}}),()=>o({type:Xi.UnregisterDroppable,key:i,id:n})),[n]),xe.useEffect(()=>{t!==u.current.disabled&&(o({type:Xi.SetDroppableDisabled,id:n,key:i,disabled:t}),u.current.disabled=t)},[n,i,t,o]),{active:s,rect:h,isOver:(l==null?void 0:l.id)===n,node:E,over:l,setNodeRef:M}}function jwe(r){let{animation:e,children:t}=r;const[n,a]=xe.useState(null),[i,s]=xe.useState(null),o=ND(t);return!t&&!n&&o&&a(o),tf(()=>{if(!i)return;const l=n==null?void 0:n.key,c=n==null?void 0:n.props.id;if(l==null||c==null){a(null);return}Promise.resolve(e(c,i)).then(()=>{a(null)})},[e,n,i]),An.createElement(An.Fragment,null,t,n?xe.cloneElement(n,{ref:s}):null)}const Wwe={x:0,y:0,scaleX:1,scaleY:1};function Ywe(r){let{children:e}=r;return An.createElement(xA.Provider,{value:Nte},An.createElement(eI.Provider,{value:Wwe},e))}const Xwe={position:"fixed",touchAction:"none"},qwe=r=>KN(r)?"transform 250ms ease":void 0,Zwe=xe.forwardRef((r,e)=>{let{as:t,activatorEvent:n,adjustScale:a,children:i,className:s,rect:o,style:l,transform:c,transition:u=qwe}=r;if(!o)return null;const f=a?c:{...c,scaleX:1,scaleY:1},h={...Xwe,width:o.width,height:o.height,top:o.top,left:o.left,transform:$0.Transform.toString(f),transformOrigin:a&&n?j2e(n,o):void 0,transition:typeof u=="function"?u(n):u,...l};return An.createElement(t,{className:s,style:h,ref:e},i)}),sz=r=>e=>{let{active:t,dragOverlay:n}=e;const a={},{styles:i,className:s}=r;if(i!=null&&i.active)for(const[o,l]of Object.entries(i.active))l!==void 0&&(a[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(i!=null&&i.dragOverlay)for(const[o,l]of Object.entries(i.dragOverlay))l!==void 0&&n.node.style.setProperty(o,l);return s!=null&&s.active&&t.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(const[l,c]of Object.entries(a))t.node.style.setProperty(l,c);s!=null&&s.active&&t.node.classList.remove(s.active)}},Kwe=r=>{let{transform:{initial:e,final:t}}=r;return[{transform:$0.Transform.toString(e)},{transform:$0.Transform.toString(t)}]},$we={duration:250,easing:"ease",keyframes:Kwe,sideEffects:sz({styles:{active:{opacity:"0"}}})};function Jwe(r){let{config:e,draggableNodes:t,droppableContainers:n,measuringConfiguration:a}=r;return ZN((i,s)=>{if(e===null)return;const o=t.get(i);if(!o)return;const l=o.node.current;if(!l)return;const c=Rte(s);if(!c)return;const{transform:u}=al(s).getComputedStyle(s),f=_te(u);if(!f)return;const h=typeof e=="function"?e:Qwe(e);return Mte(l,a.draggable.measure),h({active:{id:i,data:o.data,node:l,rect:a.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:s,rect:a.dragOverlay.measure(c)},droppableContainers:n,measuringConfiguration:a,transform:f})})}function Qwe(r){const{duration:e,easing:t,sideEffects:n,keyframes:a}={...$we,...r};return i=>{let{active:s,dragOverlay:o,transform:l,...c}=i;if(!e)return;const u={x:o.rect.left-s.rect.left,y:o.rect.top-s.rect.top},f={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/o.rect.height:1},h={x:l.x-u.x,y:l.y-u.y,...f},d=a({...c,active:s,dragOverlay:o,transform:{initial:l,final:h}}),[v]=d,g=d[d.length-1];if(JSON.stringify(v)===JSON.stringify(g))return;const m=n==null?void 0:n({active:s,dragOverlay:o,...c}),y=o.node.animate(d,{duration:e,easing:t,fill:"forwards"});return new Promise(b=>{y.onfinish=()=>{m==null||m(),b()}})}}let iH=0;function eTe(r){return xe.useMemo(()=>{if(r!=null)return iH++,iH},[r])}const zte=An.memo(r=>{let{adjustScale:e=!1,children:t,dropAnimation:n,style:a,transition:i,modifiers:s,wrapperElement:o="div",className:l,zIndex:c=999}=r;const{activatorEvent:u,active:f,activeNodeRect:h,containerNodeRect:d,draggableNodes:v,droppableContainers:g,dragOverlay:m,over:y,measuringConfiguration:b,scrollableAncestors:S,scrollableAncestorRects:A,windowRect:E}=Pte(),M=xe.useContext(eI),R=eTe(f==null?void 0:f.id),L=Lte(s,{activatorEvent:u,active:f,activeNodeRect:h,containerNodeRect:d,draggingNodeRect:m.rect,over:y,overlayNodeRect:m.rect,scrollableAncestors:S,scrollableAncestorRects:A,transform:M,windowRect:E}),I=iz(h),O=Jwe({config:n,draggableNodes:v,droppableContainers:g,measuringConfiguration:b}),P=I?m.setRef:void 0;return An.createElement(Ywe,null,An.createElement(jwe,{animation:O},f&&R?An.createElement(Zwe,{key:R,id:f.id,ref:P,as:o,activatorEvent:u,adjustScale:e,className:l,transition:i,rect:I,style:{zIndex:c,...a},transform:L},t):null))});function Fte(r,e,t){const n=r.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function tTe(r,e){return r.reduce((t,n,a)=>{const i=e.get(n);return i&&(t[a]=i),t},Array(r.length))}function IM(r){return r!==null&&r>=0}function rTe(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function nTe(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const Ute=r=>{let{rects:e,activeIndex:t,overIndex:n,index:a}=r;const i=Fte(e,n,t),s=e[a],o=i[a];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},LM={scaleX:1,scaleY:1},aTe=r=>{var e;let{activeIndex:t,activeNodeRect:n,index:a,rects:i,overIndex:s}=r;const o=(e=i[t])!=null?e:n;if(!o)return null;if(a===t){const c=i[s];return c?{x:0,y:t<s?c.top+c.height-(o.top+o.height):c.top-o.top,...LM}:null}const l=iTe(i,a,t);return a>t&&a<=s?{x:0,y:-o.height-l,...LM}:a<t&&a>=s?{x:0,y:o.height+l,...LM}:{x:0,y:0,...LM}};function iTe(r,e,t){const n=r[e],a=r[e-1],i=r[e+1];return n?t<e?a?n.top-(a.top+a.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const Vte="Sortable",Hte=An.createContext({activeIndex:-1,containerId:Vte,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Ute,disabled:{draggable:!1,droppable:!1}});function sTe(r){let{children:e,id:t,items:n,strategy:a=Ute,disabled:i=!1}=r;const{active:s,dragOverlay:o,droppableRects:l,over:c,measureDroppableContainers:u}=Pte(),f=yA(Vte,t),h=o.rect!==null,d=xe.useMemo(()=>n.map(M=>typeof M=="object"&&"id"in M?M.id:M),[n]),v=s!=null,g=s?d.indexOf(s.id):-1,m=c?d.indexOf(c.id):-1,y=xe.useRef(d),b=!rTe(d,y.current),S=m!==-1&&g===-1||b,A=nTe(i);tf(()=>{b&&v&&u(d)},[b,d,v,u]),xe.useEffect(()=>{y.current=d},[d]);const E=xe.useMemo(()=>({activeIndex:g,containerId:f,disabled:A,disableTransforms:S,items:d,overIndex:m,useDragOverlay:h,sortedRects:tTe(d,l),strategy:a}),[g,f,A.draggable,A.droppable,S,d,m,l,h,a]);return An.createElement(Hte.Provider,{value:E},e)}const oTe=r=>{let{id:e,items:t,activeIndex:n,overIndex:a}=r;return Fte(t,n,a).indexOf(e)},lTe=r=>{let{containerId:e,isSorting:t,wasDragging:n,index:a,items:i,newIndex:s,previousItems:o,previousContainerId:l,transition:c}=r;return!c||!n||o!==i&&a===s?!1:t?!0:s!==a&&e===l},cTe={duration:200,easing:"ease"},Gte="transform",uTe=$0.Transition.toString({property:Gte,duration:0,easing:"linear"}),fTe={roleDescription:"sortable"};function hTe(r){let{disabled:e,index:t,node:n,rect:a}=r;const[i,s]=xe.useState(null),o=xe.useRef(t);return tf(()=>{if(!e&&t!==o.current&&n.current){const l=a.current;if(l){const c=Y_(n.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&s(u)}}t!==o.current&&(o.current=t)},[e,t,n,a]),xe.useEffect(()=>{i&&s(null)},[i]),i}function dTe(r){let{animateLayoutChanges:e=lTe,attributes:t,disabled:n,data:a,getNewIndex:i=oTe,id:s,strategy:o,resizeObserverConfig:l,transition:c=cTe}=r;const{items:u,containerId:f,activeIndex:h,disabled:d,disableTransforms:v,sortedRects:g,overIndex:m,useDragOverlay:y,strategy:b}=xe.useContext(Hte),S=pTe(n,d),A=u.indexOf(s),E=xe.useMemo(()=>({sortable:{containerId:f,index:A,items:u},...a}),[f,a,A,u]),M=xe.useMemo(()=>u.slice(u.indexOf(s)),[u,s]),{rect:R,node:L,isOver:I,setNodeRef:O}=Bte({id:s,data:E,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...l}}),{active:P,activatorEvent:k,activeNodeRect:U,attributes:F,setNodeRef:q,listeners:H,isDragging:Z,over:X,setActivatorNodeRef:Y,transform:re}=kte({id:s,data:E,attributes:{...fTe,...t},disabled:S.draggable}),W=D2e(O,q),j=!!P,J=j&&!v&&IM(h)&&IM(m),ee=!y&&Z,ae=ee&&J?re:null,me=J?ae??(o??b)({rects:g,activeNodeRect:U,activeIndex:h,overIndex:m,index:A}):null,Se=IM(h)&&IM(m)?i({id:s,items:u,activeIndex:h,overIndex:m}):A,we=P==null?void 0:P.id,Me=xe.useRef({activeId:we,items:u,newIndex:Se,containerId:f}),Ve=u!==Me.current.items,de=e({active:P,containerId:f,isDragging:Z,isSorting:j,id:s,index:A,items:u,newIndex:Me.current.newIndex,previousItems:Me.current.items,previousContainerId:Me.current.containerId,transition:c,wasDragging:Me.current.activeId!=null}),dt=hTe({disabled:!de,index:A,node:L,rect:R});return xe.useEffect(()=>{j&&Me.current.newIndex!==Se&&(Me.current.newIndex=Se),f!==Me.current.containerId&&(Me.current.containerId=f),u!==Me.current.items&&(Me.current.items=u)},[j,Se,f,u]),xe.useEffect(()=>{if(we===Me.current.activeId)return;if(we!=null&&Me.current.activeId==null){Me.current.activeId=we;return}const se=setTimeout(()=>{Me.current.activeId=we},50);return()=>clearTimeout(se)},[we]),{active:P,activeIndex:h,attributes:F,data:E,rect:R,index:A,newIndex:Se,items:u,isOver:I,isSorting:j,isDragging:Z,listeners:H,node:L,overIndex:m,over:X,setNodeRef:W,setActivatorNodeRef:Y,setDroppableNodeRef:O,setDraggableNodeRef:q,transform:dt??me,transition:K()};function K(){if(dt||Ve&&Me.current.newIndex===A)return uTe;if(!(ee&&!KN(k)||!c)&&(j||de))return $0.Transition.toString({...c,property:Gte})}}function pTe(r,e){var t,n;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r==null?void 0:r.draggable)!=null?t:e.draggable,droppable:(n=r==null?void 0:r.droppable)!=null?n:e.droppable}}function kD(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const vTe=[Rn.Down,Rn.Right,Rn.Up,Rn.Left],gTe=(r,e)=>{let{context:{active:t,collisionRect:n,droppableRects:a,droppableContainers:i,over:s,scrollableAncestors:o}}=e;if(vTe.includes(r.code)){if(r.preventDefault(),!t||!n)return;const l=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=a.get(f.id);if(h)switch(r.code){case Rn.Down:n.top<h.top&&l.push(f);break;case Rn.Up:n.top>h.top&&l.push(f);break;case Rn.Left:n.left>h.left&&l.push(f);break;case Rn.Right:n.left<h.left&&l.push(f);break}});const c=yte({collisionRect:n,droppableRects:a,droppableContainers:l});let u=mte(c,"id");if(u===(s==null?void 0:s.id)&&c.length>1&&(u=c[1].id),u!=null){const f=i.get(t.id),h=i.get(u),d=h?a.get(h.id):null,v=h==null?void 0:h.node.current;if(v&&d&&f&&h){const m=$N(v).some((M,R)=>o[R]!==M),y=jte(f,h),b=mTe(f,h),S=m||!y?{x:0,y:0}:{x:b?n.width-d.width:0,y:b?n.height-d.height:0},A={x:d.left,y:d.top};return S.x&&S.y?A:lT(A,S)}}}};function jte(r,e){return!kD(r)||!kD(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function mTe(r,e){return!kD(r)||!kD(e)||!jte(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const yTe=(r,e)=>{const t=new Array(r.length+e.length);for(let n=0;n<r.length;n++)t[n]=r[n];for(let n=0;n<e.length;n++)t[r.length+n]=e[n];return t},xTe=(r,e)=>({classGroupId:r,validator:e}),Wte=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),PD="-",sH=[],_Te="arbitrary..",bTe=r=>{const e=wTe(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return STe(s);const o=s.split(PD),l=o[0]===""&&o.length>1?1:0;return Yte(o,l,e)},getConflictingClassGroupIds:(s,o)=>{if(o){const l=n[s],c=t[s];return l?c?yTe(c,l):l:c||sH}return t[s]||sH}}},Yte=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const a=r[e],i=t.nextPart.get(a);if(i){const c=Yte(r,e+1,i);if(c)return c}const s=t.validators;if(s===null)return;const o=e===0?r.join(PD):r.slice(e).join(PD),l=s.length;for(let c=0;c<l;c++){const u=s[c];if(u.validator(o))return u.classGroupId}},STe=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),n=e.slice(0,t);return n?_Te+n:void 0})(),wTe=r=>{const{theme:e,classGroups:t}=r;return TTe(t,e)},TTe=(r,e)=>{const t=Wte();for(const n in r){const a=r[n];oz(a,t,n,e)}return t},oz=(r,e,t,n)=>{const a=r.length;for(let i=0;i<a;i++){const s=r[i];ATe(s,e,t,n)}},ATe=(r,e,t,n)=>{if(typeof r=="string"){ETe(r,e,t);return}if(typeof r=="function"){MTe(r,e,t,n);return}CTe(r,e,t,n)},ETe=(r,e,t)=>{const n=r===""?e:Xte(e,r);n.classGroupId=t},MTe=(r,e,t,n)=>{if(DTe(r)){oz(r(n),e,t,n);return}e.validators===null&&(e.validators=[]),e.validators.push(xTe(t,r))},CTe=(r,e,t,n)=>{const a=Object.entries(r),i=a.length;for(let s=0;s<i;s++){const[o,l]=a[s];oz(l,Xte(e,o),t,n)}},Xte=(r,e)=>{let t=r;const n=e.split(PD),a=n.length;for(let i=0;i<a;i++){const s=n[i];let o=t.nextPart.get(s);o||(o=Wte(),t.nextPart.set(s,o)),t=o}return t},DTe=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,RTe=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),n=Object.create(null);const a=(i,s)=>{t[i]=s,e++,e>r&&(e=0,n=t,t=Object.create(null))};return{get(i){let s=t[i];if(s!==void 0)return s;if((s=n[i])!==void 0)return a(i,s),s},set(i,s){i in t?t[i]=s:a(i,s)}}},LP="!",oH=":",NTe=[],lH=(r,e,t,n,a)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:n,isExternal:a}),ITe=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=a=>{const i=[];let s=0,o=0,l=0,c;const u=a.length;for(let g=0;g<u;g++){const m=a[g];if(s===0&&o===0){if(m===oH){i.push(a.slice(l,g)),l=g+1;continue}if(m==="/"){c=g;continue}}m==="["?s++:m==="]"?s--:m==="("?o++:m===")"&&o--}const f=i.length===0?a:a.slice(l);let h=f,d=!1;f.endsWith(LP)?(h=f.slice(0,-1),d=!0):f.startsWith(LP)&&(h=f.slice(1),d=!0);const v=c&&c>l?c-l:void 0;return lH(i,d,h,v)};if(e){const a=e+oH,i=n;n=s=>s.startsWith(a)?i(s.slice(a.length)):lH(NTe,!1,s,void 0,!0)}if(t){const a=n;n=i=>t({className:i,parseClassName:a})}return n},LTe=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{const n=[];let a=[];for(let i=0;i<t.length;i++){const s=t[i],o=s[0]==="[",l=e.has(s);o||l?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(s)):a.push(s)}return a.length>0&&(a.sort(),n.push(...a)),n}},OTe=r=>({cache:RTe(r.cacheSize),parseClassName:ITe(r),sortModifiers:LTe(r),...bTe(r)}),kTe=/\s+/,PTe=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,s=[],o=r.trim().split(kTe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:f,modifiers:h,hasImportantModifier:d,baseClassName:v,maybePostfixModifierPosition:g}=t(u);if(f){l=u+(l.length>0?" "+l:l);continue}let m=!!g,y=n(m?v.substring(0,g):v);if(!y){if(!m){l=u+(l.length>0?" "+l:l);continue}if(y=n(v),!y){l=u+(l.length>0?" "+l:l);continue}m=!1}const b=h.length===0?"":h.length===1?h[0]:i(h).join(":"),S=d?b+LP:b,A=S+y;if(s.indexOf(A)>-1)continue;s.push(A);const E=a(y,m);for(let M=0;M<E.length;++M){const R=E[M];s.push(S+R)}l=u+(l.length>0?" "+l:l)}return l},BTe=(...r)=>{let e=0,t,n,a="";for(;e<r.length;)(t=r[e++])&&(n=qte(t))&&(a&&(a+=" "),a+=n);return a},qte=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=qte(r[n]))&&(t&&(t+=" "),t+=e);return t},zTe=(r,...e)=>{let t,n,a,i;const s=l=>{const c=e.reduce((u,f)=>f(u),r());return t=OTe(c),n=t.cache.get,a=t.cache.set,i=o,o(l)},o=l=>{const c=n(l);if(c)return c;const u=PTe(l,t);return a(l,u),u};return i=s,(...l)=>i(BTe(...l))},FTe=[],ji=r=>{const e=t=>t[r]||FTe;return e.isThemeGetter=!0,e},Zte=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Kte=/^\((?:(\w[\w-]*):)?(.+)\)$/i,UTe=/^\d+\/\d+$/,VTe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HTe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GTe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jTe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WTe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nx=r=>UTe.test(r),un=r=>!!r&&!Number.isNaN(Number(r)),Jp=r=>!!r&&Number.isInteger(Number(r)),M4=r=>r.endsWith("%")&&un(r.slice(0,-1)),cd=r=>VTe.test(r),YTe=()=>!0,XTe=r=>HTe.test(r)&&!GTe.test(r),$te=()=>!1,qTe=r=>jTe.test(r),ZTe=r=>WTe.test(r),KTe=r=>!cr(r)&&!ur(r),$Te=r=>X_(r,ere,$te),cr=r=>Zte.test(r),ug=r=>X_(r,tre,XTe),C4=r=>X_(r,rAe,un),cH=r=>X_(r,Jte,$te),JTe=r=>X_(r,Qte,ZTe),OM=r=>X_(r,rre,qTe),ur=r=>Kte.test(r),XS=r=>q_(r,tre),QTe=r=>q_(r,nAe),uH=r=>q_(r,Jte),eAe=r=>q_(r,ere),tAe=r=>q_(r,Qte),kM=r=>q_(r,rre,!0),X_=(r,e,t)=>{const n=Zte.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},q_=(r,e,t=!1)=>{const n=Kte.exec(r);return n?n[1]?e(n[1]):t:!1},Jte=r=>r==="position"||r==="percentage",Qte=r=>r==="image"||r==="url",ere=r=>r==="length"||r==="size"||r==="bg-size",tre=r=>r==="length",rAe=r=>r==="number",nAe=r=>r==="family-name",rre=r=>r==="shadow",aAe=()=>{const r=ji("color"),e=ji("font"),t=ji("text"),n=ji("font-weight"),a=ji("tracking"),i=ji("leading"),s=ji("breakpoint"),o=ji("container"),l=ji("spacing"),c=ji("radius"),u=ji("shadow"),f=ji("inset-shadow"),h=ji("text-shadow"),d=ji("drop-shadow"),v=ji("blur"),g=ji("perspective"),m=ji("aspect"),y=ji("ease"),b=ji("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...A(),ur,cr],M=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],L=()=>[ur,cr,l],I=()=>[Nx,"full","auto",...L()],O=()=>[Jp,"none","subgrid",ur,cr],P=()=>["auto",{span:["full",Jp,ur,cr]},Jp,ur,cr],k=()=>[Jp,"auto",ur,cr],U=()=>["auto","min","max","fr",ur,cr],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...L()],Z=()=>[Nx,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],X=()=>[r,ur,cr],Y=()=>[...A(),uH,cH,{position:[ur,cr]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",eAe,$Te,{size:[ur,cr]}],j=()=>[M4,XS,ug],J=()=>["","none","full",c,ur,cr],ee=()=>["",un,XS,ug],ae=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[un,M4,uH,cH],Se=()=>["","none",v,ur,cr],we=()=>["none",un,ur,cr],Me=()=>["none",un,ur,cr],Ve=()=>[un,ur,cr],de=()=>[Nx,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[cd],breakpoint:[cd],color:[YTe],container:[cd],"drop-shadow":[cd],ease:["in","out","in-out"],font:[KTe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[cd],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[cd],shadow:[cd],spacing:["px",un],text:[cd],"text-shadow":[cd],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nx,cr,ur,m]}],container:["container"],columns:[{columns:[un,cr,ur,o]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Jp,"auto",ur,cr]}],basis:[{basis:[Nx,"full","auto",o,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[un,Nx,"auto","initial","none",cr]}],grow:[{grow:["",un,ur,cr]}],shrink:[{shrink:["",un,ur,cr]}],order:[{order:[Jp,"first","last","none",ur,cr]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[o,"screen",...Z()]}],"min-w":[{"min-w":[o,"screen","none",...Z()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",t,XS,ug]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ur,C4]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",M4,cr]}],"font-family":[{font:[QTe,cr,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ur,cr]}],"line-clamp":[{"line-clamp":[un,"none",ur,C4]}],leading:[{leading:[i,...L()]}],"list-image":[{"list-image":["none",ur,cr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ur,cr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[un,"from-font","auto",ur,ug]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[un,"auto",ur,cr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ur,cr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ur,cr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jp,ur,cr],radial:["",ur,cr],conic:[Jp,ur,cr]},tAe,JTe]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:j()}],"gradient-via-pos":[{via:j()}],"gradient-to-pos":[{to:j()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[un,ur,cr]}],"outline-w":[{outline:["",un,XS,ug]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",u,kM,OM]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",f,kM,OM]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[un,ug]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",h,kM,OM]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[un,ur,cr]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[un]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[ur,cr]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[un]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ur,cr]}],filter:[{filter:["","none",ur,cr]}],blur:[{blur:Se()}],brightness:[{brightness:[un,ur,cr]}],contrast:[{contrast:[un,ur,cr]}],"drop-shadow":[{"drop-shadow":["","none",d,kM,OM]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",un,ur,cr]}],"hue-rotate":[{"hue-rotate":[un,ur,cr]}],invert:[{invert:["",un,ur,cr]}],saturate:[{saturate:[un,ur,cr]}],sepia:[{sepia:["",un,ur,cr]}],"backdrop-filter":[{"backdrop-filter":["","none",ur,cr]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[un,ur,cr]}],"backdrop-contrast":[{"backdrop-contrast":[un,ur,cr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",un,ur,cr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[un,ur,cr]}],"backdrop-invert":[{"backdrop-invert":["",un,ur,cr]}],"backdrop-opacity":[{"backdrop-opacity":[un,ur,cr]}],"backdrop-saturate":[{"backdrop-saturate":[un,ur,cr]}],"backdrop-sepia":[{"backdrop-sepia":["",un,ur,cr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ur,cr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[un,"initial",ur,cr]}],ease:[{ease:["linear","initial",y,ur,cr]}],delay:[{delay:[un,ur,cr]}],animate:[{animate:["none",b,ur,cr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ur,cr]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[ur,cr,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ur,cr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ur,cr]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[un,XS,ug,C4]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iAe=zTe(aAe),sAe=()=>D.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-gray-100 animate-pulse",children:[D.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-sm mr-3"}),D.jsx("div",{className:"flex-1 h-4 bg-gray-200 rounded mr-4"}),D.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),D.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),D.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded ml-2"}),D.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded ml-2"})]}),oAe=({task:r,onStatusChange:e,onUpdateTask:t,showToast:n})=>{const{attributes:a,listeners:i,setNodeRef:s,transform:o,transition:l,isDragging:c}=dTe({id:r.id,data:{type:"Task",task:r}}),u={transform:$0.Translate.toString(o),transition:l},[f,h]=xe.useState(!1),[d,v]=xe.useState(r.title),g=()=>{d.trim()!==r.title&&(t==null||t(r.id,{title:d})),h(!1)},m=b=>{b.key==="Enter"?g():b.key==="Escape"&&(v(r.title),h(!1))},y=b=>{b.stopPropagation();const S=Object.values(vA),A=S.indexOf(r.status),E=S[(A+1)%S.length];e(r.id,E),n(`Status changed to ${E}`,"success")};return c?D.jsx("div",{ref:s,style:u,className:"opacity-30 bg-gray-50 border border-dashed border-gray-300 h-10 rounded my-1"}):D.jsxs("div",{ref:s,style:u,className:iAe("group flex items-center px-4 py-1.5 border-b border-gray-100 hover:bg-gray-50 transition-colors text-sm bg-white",c&&"z-50 shadow-xl"),children:[D.jsx("div",{...a,...i,className:"mr-2 cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:D.jsx(_Q,{size:14})}),D.jsxs("div",{className:"flex-1 flex items-center min-w-0 pr-4",children:[D.jsx("div",{className:"mr-3 relative flex-shrink-0",children:D.jsx("div",{className:"w-4 h-4 rounded-sm border border-gray-300 group-hover:border-clickup-purple transition-colors flex items-center justify-center cursor-pointer hover:bg-clickup-purple/10",onClick:b=>{b.stopPropagation(),n(`Marked ${r.id} complete`,"success")},children:D.jsx(ef,{size:12,className:"opacity-0 group-hover:opacity-100 text-clickup-purple"})})}),f?D.jsx("input",{autoFocus:!0,value:d,onChange:b=>v(b.target.value),onBlur:g,onKeyDown:m,className:"flex-1 bg-white border border-clickup-purple rounded px-1 py-0.5 outline-none text-sm text-gray-900",onClick:b=>b.stopPropagation()}):D.jsx("span",{className:"truncate text-gray-700 cursor-text hover:text-clickup-purple font-medium",onClick:b=>{b.stopPropagation(),h(!0)},children:r.title}),D.jsx("div",{className:"ml-2 opacity-0 group-hover:opacity-100 flex items-center space-x-1 transition-opacity",children:D.jsx("button",{className:"p-1 hover:bg-gray-200 rounded text-gray-400 hover:text-green-600 transition-colors",onClick:b=>{b.stopPropagation(),n("Timer started","success")},children:D.jsx(Wde,{size:12})})})]}),D.jsx("div",{className:"w-32 flex items-center pl-2 cursor-pointer min-h-[24px]",onClick:()=>n("Assign People","info"),children:r.assignees.length>0?D.jsx("div",{className:"flex -space-x-1 hover:space-x-0.5 transition-all",children:r.assignees.map(b=>D.jsx("div",{className:"w-6 h-6 rounded-full border border-white flex items-center justify-center text-[10px] text-white font-bold shadow-sm",style:{backgroundColor:b.color},title:b.name,children:b.avatar},b.id))}):D.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 border-dashed flex items-center justify-center text-gray-300 opacity-0 group-hover:opacity-100 hover:border-clickup-purple hover:text-clickup-purple transition-all",children:D.jsx(Y0e,{size:12})})}),D.jsx("div",{className:"w-32 pl-2 text-xs text-gray-400 flex items-center group-hover:text-gray-600 cursor-pointer min-h-[24px]",onClick:()=>n("Open Date Picker","info"),children:r.dueDate?D.jsx("span",{className:new Date(r.dueDate)<new Date?"text-red-500":"",children:new Date(r.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}):D.jsx(Zd,{size:14,className:"opacity-0 group-hover:opacity-100 text-gray-300 hover:text-clickup-purple transition-colors"})}),D.jsx("div",{className:"w-24 pl-2 cursor-pointer min-h-[24px] flex items-center",onClick:()=>n("Change Priority","info"),children:D.jsxs("div",{className:"flex items-center group/priority",children:[D.jsx(m8,{size:14,fill:r.priority===$1.None?"none":l_[r.priority],color:r.priority===$1.None?"#d1d5db":l_[r.priority],className:"transition-colors"}),D.jsx("span",{className:`ml-1.5 text-xs ${r.priority===$1.None?"text-gray-400 opacity-0 group-hover:opacity-100":"text-gray-500"} transition-opacity`,children:r.priority})]})}),D.jsx("div",{className:"w-32 pl-2",children:D.jsx("button",{className:"px-2 py-0.5 text-[10px] uppercase font-bold text-white rounded-sm truncate max-w-full transition-all hover:scale-105 hover:opacity-90 shadow-sm",style:{backgroundColor:XN[r.status]},onClick:y,children:r.status})})]})},lAe=({tasks:r,isLoading:e,onStatusChange:t,onAddTask:n,onReorder:a,onUpdateTask:i})=>{var g;const{showToast:s}=lc(),[o,l]=xe.useState(null),c=gte(DP(JN,{activationConstraint:{distance:8}}),DP(nz,{coordinateGetter:gTe})),u=xe.useMemo(()=>Object.values(vA).reduce((y,b)=>(y[b]=r.filter(S=>S.status===b).sort((S,A)=>(S.order||0)-(A.order||0)),y),{}),[r]),f=m=>{l(m.active.id)},h=m=>{const{active:y,over:b}=m;if(!b)return;const S=r.find(E=>E.id===y.id),A=r.find(E=>E.id===b.id);S&&A&&(S.status,A.status)},d=m=>{const{active:y,over:b}=m;if(l(null),!b)return;const S=r.find(E=>E.id===y.id),A=r.find(E=>E.id===b.id);if(S&&A){if(S.status!==A.status)t(S.id,A.status);else if(y.id!==b.id){const E=r.findIndex(I=>I.id===y.id),M=r.findIndex(I=>I.id===b.id),R=[...r],[L]=R.splice(E,1);R.splice(M,0,L),a==null||a(R)}}},v={sideEffects:sz({styles:{active:{opacity:"0.5"}}})};return e?D.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar p-4",children:[1,2,3,4,5].map(m=>D.jsx(sAe,{},m))}):r.length===0?D.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white text-center p-8 animate-in fade-in duration-500",children:[D.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-200",children:D.jsx(ja,{size:40,className:"text-gray-300"})}),D.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No tasks found"}),D.jsxs("button",{onClick:n,className:"px-6 py-2 bg-gray-900 hover:bg-black text-white rounded-lg font-medium transition-colors shadow-md flex items-center",children:[D.jsx(ja,{size:18,className:"mr-2"})," Create Task"]})]}):D.jsxs(Ote,{sensors:c,collisionDetection:yte,onDragStart:f,onDragOver:h,onDragEnd:d,children:[D.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar h-full",children:D.jsxs("div",{className:"min-w-[800px] pb-10",children:[D.jsxs("div",{className:"flex items-center px-8 py-2 border-b border-gray-200 text-xs font-semibold text-gray-400 sticky top-0 bg-white z-20 select-none shadow-sm",children:[D.jsx("div",{className:"w-6 mr-2"})," ",D.jsx("div",{className:"flex-1",children:"NAME"}),D.jsx("div",{className:"w-32 pl-2",children:"ASSIGNEE"}),D.jsx("div",{className:"w-32 pl-2",children:"DUE DATE"}),D.jsx("div",{className:"w-24 pl-2",children:"PRIORITY"}),D.jsx("div",{className:"w-32 pl-2",children:"STATUS"})]}),Object.entries(u).map(([m,y])=>D.jsxs("div",{className:"mb-2",children:[D.jsxs("div",{className:"group sticky top-[33px] z-10 bg-white/95 backdrop-blur-sm flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",children:[D.jsx(Wl,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),D.jsx("span",{className:"px-2 py-0.5 rounded text-white text-xs uppercase font-bold mr-2 shadow-sm",style:{backgroundColor:XN[m]},children:m}),D.jsxs("span",{className:"text-gray-400 text-xs font-normal ml-1",children:[y.length," tasks"]}),D.jsxs("div",{className:"ml-auto opacity-0 group-hover:opacity-100 flex items-center space-x-2 transition-opacity",children:[D.jsx(ja,{size:14,className:"text-gray-400 hover:text-clickup-purple",onClick:b=>{b.stopPropagation(),n()}}),D.jsx(oA,{size:14,className:"text-gray-400 hover:text-gray-600",onClick:b=>{b.stopPropagation(),s("Group Settings","info")}})]})]}),D.jsx(sTe,{items:y.map(b=>b.id),strategy:aTe,children:D.jsx("div",{className:"flex flex-col",children:y.map(b=>D.jsx(oAe,{task:b,onStatusChange:t,onUpdateTask:i,showToast:s},b.id))})}),D.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-transparent hover:bg-gray-50 group cursor-pointer transition-colors ml-8",onClick:n,children:[D.jsx("div",{className:"mr-3 w-4 h-4 flex items-center justify-center",children:D.jsx(ja,{size:14,className:"text-gray-300 group-hover:text-clickup-purple transition-colors"})}),D.jsx("span",{className:"text-sm text-gray-400 group-hover:text-gray-600 italic",children:"+ New Task..."})]})]},m))]})}),D.jsx(zte,{dropAnimation:v,children:o?D.jsx("div",{className:"bg-white shadow-2xl border border-clickup-purple/20 rounded p-2 opacity-90",children:D.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700",children:[D.jsx(_Q,{size:14,className:"mr-2 text-clickup-purple"}),(g=r.find(m=>m.id===o))==null?void 0:g.title]})}):null})]})},cAe=({task:r,onClick:e})=>{const{attributes:t,listeners:n,setNodeRef:a,isDragging:i}=kte({id:r.id,data:{task:r}});return i?D.jsx("div",{ref:a,className:"bg-gray-50 p-3 rounded-lg border-2 border-dashed border-gray-200 h-24 opacity-50"}):D.jsxs("div",{ref:a,...n,...t,className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm hover:shadow-md hover:border-gray-300 transition-all cursor-grab active:cursor-grabbing group relative select-none touch-none",onClick:e,children:[D.jsxs("div",{className:"flex justify-between items-start mb-2",children:[D.jsxs("div",{className:"text-xs font-medium text-gray-400 hover:underline",children:["#",r.id.substring(5)]}),D.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",children:D.jsx(oA,{size:14,className:"text-gray-400"})})]}),D.jsx("h3",{className:"text-sm text-gray-800 font-medium mb-3 leading-snug group-hover:text-clickup-purple transition-colors",children:r.title}),D.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[r.priority!==$1.None&&D.jsx("div",{className:"p-0.5 rounded hover:bg-gray-100 transition-colors",title:`Priority: ${r.priority}`,children:D.jsx(m8,{size:12,fill:l_[r.priority],color:l_[r.priority]})}),r.dueDate&&D.jsxs("div",{className:`flex items-center text-[10px] px-1.5 py-0.5 bg-gray-50 rounded border border-gray-100 ${new Date(r.dueDate)<new Date?"text-red-500 border-red-100 bg-red-50":"text-gray-400"}`,children:[D.jsx(Zd,{size:10,className:"mr-1"}),new Date(r.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]}),D.jsx("div",{className:"flex -space-x-1",children:r.assignees.map(s=>D.jsx("div",{className:"w-5 h-5 rounded-full border border-white flex items-center justify-center text-[9px] text-white font-bold shadow-sm",style:{backgroundColor:s.color},title:s.name,children:s.avatar},s.id))})]})]})},uAe=({status:r,tasks:e,isLoading:t,onAddTask:n,showToast:a})=>{const{setNodeRef:i,isOver:s}=Bte({id:r});return D.jsxs("div",{ref:i,className:`flex-shrink-0 w-72 flex flex-col h-full animate-in fade-in duration-500 rounded-xl transition-colors ${s?"bg-indigo-50/50 ring-2 ring-indigo-100":""}`,children:[D.jsxs("div",{className:"flex items-center justify-between mb-3 px-1 group",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("span",{className:"text-[10px] uppercase font-bold px-1.5 py-0.5 rounded text-white shadow-sm cursor-pointer hover:opacity-90",style:{backgroundColor:XN[r]},onClick:()=>a(`Status: ${r}`,"info"),children:r}),D.jsx("span",{className:"text-xs text-gray-500 font-medium",children:t?"...":e.length})]}),D.jsxs("div",{className:"flex space-x-1 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:[D.jsx(ja,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:n}),D.jsx(oA,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:()=>a("Column Settings","info")})]})]}),D.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2.5 pb-10 custom-scrollbar",children:t?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-28 animate-pulse"}),D.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-28 animate-pulse"})]}):D.jsxs(D.Fragment,{children:[e.map(o=>D.jsx(cAe,{task:o,onClick:()=>a(`Opening ${o.title}`,"info")},o.id)),D.jsxs("button",{className:"w-full py-2 rounded-md border border-transparent hover:bg-gray-200/50 hover:border-gray-300 text-gray-400 text-sm flex items-center justify-center transition-all group",onClick:n,children:[D.jsx(ja,{size:14,className:"mr-1 group-hover:text-clickup-purple transition-colors"}),D.jsx("span",{className:"group-hover:text-clickup-purple transition-colors",children:"New Task"})]})]})})]})},fAe=({tasks:r,isLoading:e,onAddTask:t,onStatusChange:n})=>{const{showToast:a}=lc(),[i,s]=xe.useState(null),o=gte(DP(JN,{activationConstraint:{distance:5}})),l=Object.values(vA).reduce((h,d)=>(h[d]=r.filter(v=>v.status===d),h),{}),c=h=>{const{active:d}=h,v=r.find(g=>g.id===d.id);v&&s(v)},u=h=>{const{active:d,over:v}=h;if(s(null),!v)return;const g=d.id,m=v.id,y=r.find(b=>b.id===g);y&&y.status!==m&&n(g,m)},f={sideEffects:sz({styles:{active:{opacity:"0.5"}}})};return!e&&r.length===0?D.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-clickup-light p-8 animate-in fade-in duration-500",children:[D.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-300 shadow-sm",children:D.jsx(A0e,{size:40,className:"text-gray-300"})}),D.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Board is empty"}),D.jsx("p",{className:"text-gray-500 max-w-sm mb-8 text-center",children:"Visualise your workflow here. Start by creating a new task."}),D.jsxs("button",{onClick:t,className:"px-6 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[D.jsx(ja,{size:18,className:"mr-2"}),"Create Task"]})]}):D.jsxs(Ote,{sensors:o,onDragStart:c,onDragEnd:u,children:[D.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden bg-clickup-light p-6 custom-scrollbar h-full",children:D.jsxs("div",{className:"flex h-full space-x-4",children:[Object.entries(l).map(([h,d])=>D.jsx(uAe,{status:h,tasks:d,isLoading:e,onAddTask:t,showToast:a},h)),D.jsx("div",{className:"w-8 flex-shrink-0"})]})}),B1.createPortal(D.jsx(zte,{dropAnimation:f,children:i?D.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-xl w-72 cursor-grabbing rotate-2 opacity-90",children:[D.jsx("div",{className:"flex justify-between items-start mb-2",children:D.jsxs("div",{className:"text-xs font-medium text-gray-400",children:["#",i.id.substring(5)]})}),D.jsx("h3",{className:"text-sm text-gray-800 font-medium mb-3 leading-snug",children:i.title}),D.jsx("div",{className:"flex items-center justify-between mt-auto",children:D.jsx("div",{className:"flex items-center space-x-2",children:i.priority!==$1.None&&D.jsx("div",{className:"p-0.5 rounded",title:`Priority: ${i.priority}`,children:D.jsx(m8,{size:12,fill:l_[i.priority],color:l_[i.priority]})})})})]}):null}),document.body)]})},nre=6048e5,hAe=864e5,fH=Symbol.for("constructDateFrom");function nf(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&fH in r?r[fH](e):r instanceof Date?new r.constructor(e):new Date(e)}function il(r,e){return nf(e||r,r)}function are(r,e,t){const n=il(r,t==null?void 0:t.in);if(isNaN(e))return nf(r,NaN);if(!e)return n;const a=n.getDate(),i=nf(r,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return a>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let dAe={};function _A(){return dAe}function c_(r,e){var o,l,c,u;const t=_A(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=il(r,e==null?void 0:e.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function BD(r,e){return c_(r,{...e,weekStartsOn:1})}function ire(r,e){const t=il(r,e==null?void 0:e.in),n=t.getFullYear(),a=nf(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=BD(a),s=nf(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=BD(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function hH(r){const e=il(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function tI(r,...e){const t=nf.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function zD(r,e){const t=il(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function pAe(r,e,t){const[n,a]=tI(t==null?void 0:t.in,r,e),i=zD(n),s=zD(a),o=+i-hH(i),l=+s-hH(s);return Math.round((o-l)/hAe)}function vAe(r,e){const t=ire(r,e),n=nf(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),BD(n)}function dH(r,e,t){const[n,a]=tI(t==null?void 0:t.in,r,e);return+zD(n)==+zD(a)}function gAe(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function mAe(r){return!(!gAe(r)&&typeof r!="number"||isNaN(+il(r)))}function yAe(r,e){const t=il(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function xAe(r,e){const[t,n]=tI(r,e.start,e.end);return{start:t,end:n}}function _Ae(r,e){const{start:t,end:n}=xAe(e==null?void 0:e.in,r);let a=+t>+n;const i=a?+t:+n,s=a?n:t;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=i;)l.push(nf(t,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return a?l.reverse():l}function bAe(r,e){const t=il(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function SAe(r,e){const t=il(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function wAe(r,e){var o,l;const t=_A(),n=t.weekStartsOn??((l=(o=t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,a=il(r,e==null?void 0:e.in),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const TAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AAe=(r,e,t)=>{let n;const a=TAe[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function D4(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const EAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DAe={date:D4({formats:EAe,defaultWidth:"full"}),time:D4({formats:MAe,defaultWidth:"full"}),dateTime:D4({formats:CAe,defaultWidth:"full"})},RAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NAe=(r,e,t,n)=>RAe[r];function qS(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const s=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):s;a=r.formattingValues[o]||r.formattingValues[s]}else{const s=r.defaultWidth,o=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[o]||r.values[s]}const i=r.argumentCallback?r.argumentCallback(e):e;return a[i]}}const IAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zAe=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},FAe={ordinalNumber:zAe,era:qS({values:IAe,defaultWidth:"wide"}),quarter:qS({values:LAe,defaultWidth:"wide",argumentCallback:r=>r-1}),month:qS({values:OAe,defaultWidth:"wide"}),day:qS({values:kAe,defaultWidth:"wide"}),dayPeriod:qS({values:PAe,defaultWidth:"wide",formattingValues:BAe,defaultFormattingWidth:"wide"})};function ZS(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(o)?VAe(o,f=>f.test(s)):UAe(o,f=>f.test(s));let c;c=r.valueCallback?r.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function UAe(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function VAe(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function HAe(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],i=e.match(r.parsePattern);if(!i)return null;let s=r.valueCallback?r.valueCallback(i[0]):i[0];s=t.valueCallback?t.valueCallback(s):s;const o=e.slice(a.length);return{value:s,rest:o}}}const GAe=/^(\d+)(th|st|nd|rd)?/i,jAe=/\d+/i,WAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},YAe={any:[/^b/i,/^(a|c)/i]},XAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qAe={any:[/1/i,/2/i,/3/i,/4/i]},ZAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$Ae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},eEe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},tEe={ordinalNumber:HAe({matchPattern:GAe,parsePattern:jAe,valueCallback:r=>parseInt(r,10)}),era:ZS({matchPatterns:WAe,defaultMatchWidth:"wide",parsePatterns:YAe,defaultParseWidth:"any"}),quarter:ZS({matchPatterns:XAe,defaultMatchWidth:"wide",parsePatterns:qAe,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ZS({matchPatterns:ZAe,defaultMatchWidth:"wide",parsePatterns:KAe,defaultParseWidth:"any"}),day:ZS({matchPatterns:$Ae,defaultMatchWidth:"wide",parsePatterns:JAe,defaultParseWidth:"any"}),dayPeriod:ZS({matchPatterns:QAe,defaultMatchWidth:"any",parsePatterns:eEe,defaultParseWidth:"any"})},rEe={code:"en-US",formatDistance:AAe,formatLong:DAe,formatRelative:NAe,localize:FAe,match:tEe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nEe(r,e){const t=il(r,e==null?void 0:e.in);return pAe(t,SAe(t))+1}function aEe(r,e){const t=il(r,e==null?void 0:e.in),n=+BD(t)-+vAe(t);return Math.round(n/nre)+1}function sre(r,e){var u,f,h,d;const t=il(r,e==null?void 0:e.in),n=t.getFullYear(),a=_A(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((d=(h=a.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,s=nf((e==null?void 0:e.in)||r,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=c_(s,e),l=nf((e==null?void 0:e.in)||r,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=c_(l,e);return+t>=+o?n+1:+t>=+c?n:n-1}function iEe(r,e){var o,l,c,u;const t=_A(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=sre(r,e),i=nf((e==null?void 0:e.in)||r,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),c_(i,e)}function sEe(r,e){const t=il(r,e==null?void 0:e.in),n=+c_(t,e)-+iEe(t,e);return Math.round(n/nre)+1}function oa(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const Qp={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return oa(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):oa(t+1,2)},d(r,e){return oa(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return oa(r.getHours()%12||12,e.length)},H(r,e){return oa(r.getHours(),e.length)},m(r,e){return oa(r.getMinutes(),e.length)},s(r,e){return oa(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return oa(a,e.length)}},Ix={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pH={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return Qp.y(r,e)},Y:function(r,e,t,n){const a=sre(r,n),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return oa(s,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):oa(i,e.length)},R:function(r,e){const t=ire(r);return oa(t,e.length)},u:function(r,e){const t=r.getFullYear();return oa(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return oa(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return oa(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return Qp.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return oa(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=sEe(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):oa(a,e.length)},I:function(r,e,t){const n=aEe(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):oa(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):Qp.d(r,e)},D:function(r,e,t){const n=nEe(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):oa(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return oa(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return oa(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return oa(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=Ix.noon:n===0?a=Ix.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=Ix.evening:n>=12?a=Ix.afternoon:n>=4?a=Ix.morning:a=Ix.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Qp.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):Qp.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):oa(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):oa(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):Qp.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):Qp.s(r,e)},S:function(r,e){return Qp.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return gH(n);case"XXXX":case"XX":return $g(n);case"XXXXX":case"XXX":default:return $g(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return gH(n);case"xxxx":case"xx":return $g(n);case"xxxxx":case"xxx":default:return $g(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vH(n,":");case"OOOO":default:return"GMT"+$g(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vH(n,":");case"zzzz":default:return"GMT"+$g(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return oa(n,e.length)},T:function(r,e,t){return oa(+r,e.length)}};function vH(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),i=n%60;return i===0?t+String(a):t+String(a)+e+oa(i,2)}function gH(r,e){return r%60===0?(r>0?"-":"+")+oa(Math.abs(r)/60,2):$g(r,e)}function $g(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=oa(Math.trunc(n/60),2),i=oa(n%60,2);return t+a+e+i}const mH=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ore=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},oEe=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return mH(r,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",mH(n,e)).replace("{{time}}",ore(a,e))},lEe={p:ore,P:oEe},cEe=/^D+$/,uEe=/^Y+$/,fEe=["D","DD","YY","YYYY"];function hEe(r){return cEe.test(r)}function dEe(r){return uEe.test(r)}function pEe(r,e,t){const n=vEe(r,e,t);if(console.warn(n),fEe.includes(r))throw new RangeError(n)}function vEe(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gEe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mEe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yEe=/^'([^]*?)'?$/,xEe=/''/g,_Ee=/[a-zA-Z]/;function yH(r,e,t){var u,f,h,d;const n=_A(),a=n.locale??rEe,i=n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((d=(h=n.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??0,o=il(r,t==null?void 0:t.in);if(!mAe(o))throw new RangeError("Invalid time value");let l=e.match(mEe).map(v=>{const g=v[0];if(g==="p"||g==="P"){const m=lEe[g];return m(v,a.formatLong)}return v}).join("").match(gEe).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:bEe(v)};if(pH[g])return{isToken:!0,value:v};if(g.match(_Ee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(v=>{if(!v.isToken)return v.value;const g=v.value;(dEe(g)||hEe(g))&&pEe(g,e,String(r));const m=pH[g[0]];return m(o,g,a.localize,c)}).join("")}function bEe(r){const e=r.match(yEe);return e?e[1].replace(xEe,"'"):r}function SEe(r,e,t){const[n,a]=tI(t==null?void 0:t.in,r,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function wEe(r,e,t){return are(r,-1,t)}const TEe=({tasks:r,isLoading:e,onAddTask:t})=>{const[n,a]=xe.useState(new Date),i=()=>a(are(n,1)),s=()=>a(wEe(n)),o=()=>a(new Date),l=bAe(n),c=yAe(l),u=c_(l),f=wAe(c),h=_Ae({start:u,end:f}),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=g=>r.filter(m=>m.dueDate?dH(new Date(m.dueDate),g):!1);return e?D.jsx("div",{className:"flex-1 flex items-center justify-center",children:"Loading calendar..."}):D.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden h-full",children:[D.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[D.jsxs("div",{className:"flex items-center space-x-4",children:[D.jsx("h2",{className:"text-xl font-bold text-gray-800",children:yH(n,"MMMM yyyy")}),D.jsxs("div",{className:"flex items-center bg-gray-100 rounded-md p-0.5",children:[D.jsx("button",{onClick:s,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:D.jsx(dP,{size:16,className:"text-gray-600"})}),D.jsx("button",{onClick:o,className:"px-3 py-1 text-xs font-medium text-gray-600 hover:bg-white rounded shadow-sm transition-all mx-1",children:"Today"}),D.jsx("button",{onClick:i,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:D.jsx(Cd,{size:16,className:"text-gray-600"})})]})]}),D.jsxs("button",{onClick:t,className:"px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors flex items-center",children:[D.jsx(ja,{size:16,className:"mr-2"})," Add Task"]})]}),D.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto",children:[D.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:d.map(g=>D.jsx("div",{className:"py-2 text-center text-xs font-semibold text-gray-400 uppercase",children:g},g))}),D.jsx("div",{className:"grid grid-cols-7 flex-1 auto-rows-fr bg-gray-200 gap-px border-b border-gray-200",children:h.map((g,m)=>{const y=v(g),b=SEe(g,l),S=dH(g,new Date);return D.jsxs("div",{className:`bg-white min-h-[100px] p-2 flex flex-col group relative hover:bg-gray-50 transition-colors ${b?"":"bg-gray-50/50 text-gray-400"}`,onClick:()=>{},children:[D.jsxs("div",{className:"flex items-center justify-between mb-1",children:[D.jsx("span",{className:`text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full ${S?"bg-clickup-purple text-white shadow-md":"text-gray-700"}`,children:yH(g,"d")}),D.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 rounded text-gray-400 transition-opacity",children:D.jsx(ja,{size:12})})]}),D.jsx("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto custom-scrollbar",children:y.map(A=>D.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium truncate border-l-2 shadow-sm cursor-pointer hover:opacity-80 transition-opacity bg-white border-gray-200",style:{borderLeftColor:XN[A.status]},children:A.title},A.id))})]},g.toString())})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xH;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(xH||(xH={}));var _H;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(_H||(_H={}));var bH;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(bH||(bH={}));var SH;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(SH||(SH={}));var wH;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(wH||(wH={}));var TH;(function(r){r.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",r.SIMPLE_SEARCH="SIMPLE_SEARCH",r.ELASTIC_SEARCH="ELASTIC_SEARCH"})(TH||(TH={}));var AH;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(AH||(AH={}));var EH;(function(r){r.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",r.HTTP_IN_QUERY="HTTP_IN_QUERY",r.HTTP_IN_HEADER="HTTP_IN_HEADER",r.HTTP_IN_PATH="HTTP_IN_PATH",r.HTTP_IN_BODY="HTTP_IN_BODY",r.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(EH||(EH={}));var MH;(function(r){r.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",r.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",r.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",r.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(MH||(MH={}));var CH;(function(r){r.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",r.LOW="LOW",r.HIGH="HIGH"})(CH||(CH={}));var DH;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",r.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",r.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",r.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",r.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(DH||(DH={}));var RH;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(RH||(RH={}));var NH;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(NH||(NH={}));var IH;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY",r.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",r.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",r.NO_IMAGE="NO_IMAGE"})(IH||(IH={}));var LH;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(LH||(LH={}));var OH;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(OH||(OH={}));var kH;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",r.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",r.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(kH||(kH={}));var PH;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.IMAGE_SAFETY="IMAGE_SAFETY",r.MODEL_ARMOR="MODEL_ARMOR",r.JAILBREAK="JAILBREAK"})(PH||(PH={}));var BH;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(BH||(BH={}));var zH;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(zH||(zH={}));var FH;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(FH||(FH={}));var UH;(function(r){r.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",r.TUNING_MODE_FULL="TUNING_MODE_FULL",r.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(UH||(UH={}));var VH;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(VH||(VH={}));var HH;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(HH||(HH={}));var GH;(function(r){r.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",r.TUNING_TASK_I2V="TUNING_TASK_I2V",r.TUNING_TASK_T2V="TUNING_TASK_T2V",r.TUNING_TASK_R2V="TUNING_TASK_R2V"})(GH||(GH={}));var jH;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jH||(jH={}));var WH;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(WH||(WH={}));var YH;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(YH||(YH={}));var XH;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(XH||(XH={}));var qH;(function(r){r.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",r.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qH||(qH={}));var ZH;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE",r.VALIDATED="VALIDATED"})(ZH||(ZH={}));var KH;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(KH||(KH={}));var $H;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})($H||($H={}));var JH;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi",r.zh="zh",r.pt="pt",r.es="es"})(JH||(JH={}));var QH;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(QH||(QH={}));var eG;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(eG||(eG={}));var tG;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(tG||(tG={}));var rG;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rG||(rG={}));var nG;(function(r){r.FOREGROUND="FOREGROUND",r.BACKGROUND="BACKGROUND",r.PROMPT="PROMPT",r.SEMANTIC="SEMANTIC",r.INTERACTIVE="INTERACTIVE"})(nG||(nG={}));var aG;(function(r){r.ASSET="ASSET",r.STYLE="STYLE"})(aG||(aG={}));var iG;(function(r){r.INSERT="INSERT",r.REMOVE="REMOVE",r.REMOVE_STATIC="REMOVE_STATIC",r.OUTPAINT="OUTPAINT"})(iG||(iG={}));var sG;(function(r){r.OPTIMIZED="OPTIMIZED",r.LOSSLESS="LOSSLESS"})(sG||(sG={}));var oG;(function(r){r.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",r.PREFERENCE_TUNING="PREFERENCE_TUNING"})(oG||(oG={}));var lG;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.STATE_PENDING="STATE_PENDING",r.STATE_ACTIVE="STATE_ACTIVE",r.STATE_FAILED="STATE_FAILED"})(lG||(lG={}));var cG;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(cG||(cG={}));var uG;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"})(uG||(uG={}));var fG;(function(r){r.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.RESPONSE_REJECTED="RESPONSE_REJECTED",r.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fG||(fG={}));var hG;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(hG||(hG={}));var dG;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dG||(dG={}));var pG;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pG||(pG={}));var vG;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(vG||(vG={}));var gG;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gG||(gG={}));var mG;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mG||(mG={}));var yG;(function(r){r.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",r.QUALITY="QUALITY",r.DIVERSITY="DIVERSITY",r.VOCALIZATION="VOCALIZATION"})(yG||(yG={}));var xG;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(xG||(xG={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _G;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents",r.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",r.PAGED_ITEM_DOCUMENTS="documents"})(_G||(_G={}));const AEe=async r=>"API Key is missing. Please check your configuration.",EEe=async(r,e)=>"API Key is missing.",MEe=({isOpen:r,onClose:e,tasks:t})=>{const[n,a]=xe.useState(""),[i,s]=xe.useState([{role:"ai",text:"Hi! I'm ClickUp Brain. I can help you summarize tasks, suggest priorities, or answer questions about your workspace."}]),[o,l]=xe.useState(!1),c=xe.useRef(null);xe.useEffect(()=>{c.current&&c.current.scrollIntoView({behavior:"smooth"})},[i]);const u=async()=>{if(!n.trim())return;const h=n;a(""),s(v=>[...v,{role:"user",text:h}]),l(!0);const d=await EEe();s(v=>[...v,{role:"ai",text:d}]),l(!1)},f=async h=>{l(!0),s(d=>[...d,{role:"user",text:"Generate a summary of my tasks."}]);{const d=await AEe();s(v=>[...v,{role:"ai",text:d}])}l(!1)};return r?D.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[1px] z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl h-[600px] flex flex-col border border-gray-200 overflow-hidden",children:[D.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gradient-to-r from-white to-purple-50/30",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("div",{className:"bg-clickup-purple/10 p-1.5 rounded-lg",children:D.jsx(Sde,{className:"text-clickup-purple",size:20})}),D.jsxs("div",{children:[D.jsx("h3",{className:"font-bold text-gray-800",children:"ClickUp Brain"}),D.jsx("p",{className:"text-xs text-gray-500",children:"Powered by Gemini 2.5 Flash"})]})]}),D.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-full transition-colors",children:D.jsx(lA,{size:20})})]}),D.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#fdfdfd]",children:[i.map((h,d)=>D.jsx("div",{className:`flex ${h.role==="user"?"justify-end":"justify-start"}`,children:D.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 text-sm leading-relaxed shadow-sm ${h.role==="user"?"bg-clickup-purple text-white rounded-br-none":"bg-white border border-gray-200 text-gray-700 rounded-bl-none"}`,children:h.text})},d)),o&&D.jsx("div",{className:"flex justify-start",children:D.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl rounded-bl-none px-4 py-3 flex items-center space-x-2 shadow-sm",children:[D.jsx(_8,{size:16,className:"animate-spin text-clickup-purple"}),D.jsx("span",{className:"text-xs text-gray-500",children:"Brain is thinking..."})]})}),D.jsx("div",{ref:c})]}),i.length===1&&D.jsxs("div",{className:"px-4 pb-2 flex gap-2 overflow-x-auto",children:[D.jsxs("button",{onClick:()=>f(),className:"flex items-center space-x-1.5 px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg text-xs font-medium transition-colors border border-purple-200/50",children:[D.jsx(ph,{size:14}),D.jsx("span",{children:"Summarize Tasks"})]}),D.jsx("button",{onClick:()=>{a("What tasks are high priority?"),u()},className:"flex items-center space-x-1.5 px-3 py-2 bg-gray-50 hover:bg-gray-100 text-gray-600 rounded-lg text-xs font-medium transition-colors border border-gray-200/50",children:D.jsx("span",{children:"High Priority Items?"})})]}),D.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[D.jsxs("div",{className:"relative flex items-center",children:[D.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value),onKeyDown:h=>h.key==="Enter"&&u(),placeholder:"Ask AI anything about your tasks...",className:"w-full pl-4 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple transition-all text-sm"}),D.jsx("button",{onClick:u,disabled:!n.trim()||o,className:"absolute right-2 p-1.5 bg-clickup-purple text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:D.jsx(AQ,{size:16})})]}),D.jsx("div",{className:"mt-2 text-center",children:D.jsx("p",{className:"text-[10px] text-gray-400",children:"AI can make mistakes. Please review generated responses."})})]})]})}):null},CEe=[{id:"standup",title:"AI StandUp",desc:"AI generated standup.",icon:ph,color:"bg-gradient-to-br from-indigo-500 to-purple-600",isNew:!0},{id:"recents",title:"Recents",desc:"A list of all the ClickUp objects and locations you've recently viewed.",icon:bQ,color:"bg-sky-500"},{id:"agenda",title:"Agenda",desc:"Visualize tasks and events on your different calendars in one place.",icon:Zd,color:"bg-pink-500"},{id:"mywork",title:"My Work",desc:"A list for all of your assigned tasks and reminders.",icon:Kw,color:"bg-blue-500"},{id:"assigned",title:"Assigned to me",desc:"Consolidate your tasks across different lists that you have as an assignee.",icon:Kw,color:"bg-blue-400"},{id:"personal",title:"Personal List",desc:"Keep track of your personal tasks in a list that is only visible to you.",icon:yQ,color:"bg-purple-500"},{id:"comments",title:"Assigned Comments",desc:"Resolve and view any comment that has been assigned to you.",icon:TQ,color:"bg-teal-500"},{id:"lineup",title:"Priorities (LineUp)",desc:"Prioritize your most important tasks into one concise list.",icon:SQ,color:"bg-indigo-500"},{id:"reminders",title:"Reminders",desc:"Organize and keep on top of all your reminders.",icon:V_,color:"bg-orange-500"}],DEe=({isOpen:r,onClose:e,onAddCard:t,onRemoveCard:n,addedCardTypes:a})=>{const{showToast:i}=lc();return r?D.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-96 bg-white border-l border-gray-200 shadow-2xl z-[2147483647] flex flex-col animate-in slide-in-from-right duration-300",children:[D.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[D.jsx("h2",{className:"text-base font-bold text-gray-800",children:"Add Cards"}),D.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:D.jsx(lA,{size:18})})]}),D.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-4 bg-gray-50/50 custom-scrollbar",children:CEe.map(s=>{const o=a.includes(s.id);return D.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all group",children:[D.jsxs("div",{className:"flex justify-between items-start mb-3",children:[D.jsx("div",{className:`w-10 h-10 rounded-lg ${s.color} flex items-center justify-center text-white shadow-md`,children:D.jsx(s.icon,{size:20})}),D.jsx("button",{className:`flex items-center space-x-1.5 border text-[10px] font-bold px-3 py-1.5 rounded-md transition-all active:scale-95 ${o?"bg-green-50 border-green-200 text-green-600 hover:bg-red-50 hover:border-red-200 hover:text-red-600":"bg-white hover:bg-gray-50 border-gray-200 text-gray-600 hover:text-brand-primary hover:border-brand-primary"}`,onClick:()=>{o?(n(s.id),i(`Removed ${s.title} from Home`,"info")):(t({id:s.id,title:s.title,color:s.color}),i(`Added ${s.title} to Home`,"success"))},children:o?D.jsxs(D.Fragment,{children:[D.jsx("span",{className:"group-hover:hidden flex items-center space-x-1",children:D.jsx("span",{children:"ADDED"})}),D.jsx("span",{className:"hidden group-hover:flex items-center space-x-1",children:D.jsx("span",{children:"REMOVE"})})]}):D.jsxs(D.Fragment,{children:[D.jsx(ja,{size:12}),D.jsx("span",{children:"ADD"})]})})]}),D.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[D.jsx("h3",{className:"text-sm font-bold text-gray-800 group-hover:text-brand-primary transition-colors",children:s.title}),s.isNew&&D.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white text-[9px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide shadow-sm",children:"New"})]}),D.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:s.desc})]},s.id)})})]}):null},REe=({onLoginClick:r})=>D.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white font-sans selection:bg-brand-primary selection:text-white overflow-x-hidden",children:[D.jsxs("nav",{className:"flex items-center justify-between px-6 py-6 max-w-7xl mx-auto relative z-20",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-brand-primary to-indigo-500 rounded-lg flex items-center justify-center shadow-lg shadow-brand-primary/20",children:D.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[D.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),D.jsx("path",{d:"M2 17L12 22L22 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),D.jsx("path",{d:"M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),D.jsx("span",{className:"text-xl font-bold tracking-tight",children:"ClickUp Clone"})]}),D.jsxs("div",{className:"flex items-center space-x-6",children:[D.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Product"}),D.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Solutions"}),D.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Pricing"}),D.jsx("button",{onClick:r,className:"bg-white text-black px-5 py-2 rounded-full text-sm font-bold hover:bg-gray-200 transition-colors",children:"Log in"}),D.jsx("button",{className:"bg-gray-900 hover:bg-black px-5 py-2 rounded-full text-sm font-bold transition-all shadow-md text-white",children:"Sign Up"})]})]}),D.jsxs("div",{className:"relative pt-20 pb-32 px-6",children:[D.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[600px] bg-brand-primary/20 blur-[120px] rounded-full pointer-events-none z-0"}),D.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[D.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/5 border border-white/10 rounded-full px-3 py-1 mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[D.jsx(ph,{size:14,className:"text-brand-accent"}),D.jsx("span",{className:"text-xs font-medium text-brand-accent tracking-wide uppercase",children:"ClickUp Brain 3.0 is here"})]}),D.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight mb-6 leading-tight animate-in fade-in slide-in-from-bottom-6 duration-1000 delay-100",children:["One app to ",D.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary via-purple-400 to-brand-accent",children:"replace them all."})]}),D.jsx("p",{className:"text-lg md:text-xl text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200",children:"All your work in one place: Tasks, Docs, Chat, Goals, & more. Boost productivity with the power of Gemini AI integrated directly into your workflow."}),D.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4 animate-in fade-in slide-in-from-bottom-10 duration-1000 delay-300",children:[D.jsxs("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-gray-900 hover:bg-black text-white font-bold text-lg hover:shadow-lg transition-all hover:-translate-y-1 flex items-center justify-center",children:["Get Started",D.jsx(gde,{size:18,className:"ml-2"})]}),D.jsx("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-white/5 border border-white/10 text-white font-bold text-lg hover:bg-white/10 transition-all",children:"See Demo"})]})]}),D.jsxs("div",{className:"mt-20 max-w-6xl mx-auto relative z-10 animate-in fade-in zoom-in duration-1000 delay-500",children:[D.jsxs("div",{className:"rounded-xl border border-white/10 bg-[#1a1b21]/80 backdrop-blur-xl shadow-2xl overflow-hidden",children:[D.jsxs("div",{className:"h-10 border-b border-white/5 flex items-center space-x-2 px-4",children:[D.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20"}),D.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20"}),D.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20"})]}),D.jsxs("div",{className:"aspect-[16/9] relative bg-[#0a0a0a] flex items-center justify-center group",children:[D.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1a1b21] to-[#0a0a0a] opacity-50"}),D.jsxs("div",{className:"text-center z-10",children:[D.jsx($w,{size:64,className:"mx-auto text-brand-primary mb-4 opacity-50"}),D.jsx("p",{className:"text-gray-500 font-medium",children:"Interactive Dashboard Experience"})]}),D.jsx("div",{className:"absolute bottom-0 w-full h-1/2 bg-gradient-to-t from-[#0a0a0a] to-transparent"})]})]}),D.jsx("div",{className:"absolute -right-12 top-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-bounce duration-[3000ms]",children:D.jsxs("div",{className:"flex items-center space-x-3",children:[D.jsx("div",{className:"p-2 bg-green-500/20 rounded text-green-400",children:D.jsx(ef,{size:20})}),D.jsxs("div",{children:[D.jsx("div",{className:"text-sm font-bold text-white",children:"Task Complete"}),D.jsx("div",{className:"text-xs text-gray-400",children:"Launch Website"})]})]})}),D.jsx("div",{className:"absolute -left-8 bottom-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-pulse duration-[4000ms]",children:D.jsxs("div",{className:"flex items-center space-x-3",children:[D.jsx("div",{className:"p-2 bg-purple-500/20 rounded text-purple-400",children:D.jsx(ph,{size:20})}),D.jsxs("div",{children:[D.jsx("div",{className:"text-sm font-bold text-white",children:"AI Summary"}),D.jsx("div",{className:"text-xs text-gray-400",children:"Generated 3 subtasks"})]})]})})]})]}),D.jsx("div",{className:"py-24 bg-[#0f1014] border-t border-white/5",children:D.jsx("div",{className:"max-w-7xl mx-auto px-6",children:D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[D.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[D.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:D.jsx($w,{className:"text-blue-400",size:24})}),D.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Everything View"}),D.jsx("p",{className:"text-gray-400 leading-relaxed",children:"See the big picture. View tasks across all your projects in a single customizable list."})]}),D.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[D.jsx("div",{className:"w-12 h-12 rounded-lg bg-brand-primary/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:D.jsx(fw,{className:"text-brand-primary",size:24})}),D.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Automation & AI"}),D.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Save time with custom automations and ClickUp Brain's generative capabilities."})]}),D.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[D.jsx("div",{className:"w-12 h-12 rounded-lg bg-emerald-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:D.jsx(v0e,{className:"text-emerald-400",size:24})}),D.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Enterprise Security"}),D.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Bank-grade security with 2FA, SSO, and strict permission controls for your team."})]})]})})}),D.jsx("footer",{className:"py-12 border-t border-white/10 text-center text-gray-500 text-sm",children:D.jsx("p",{children:" 2024 ClickUp Clone by Gemini. All rights reserved."})})]}),NEe=[{email:"max@nabdchain.com",password:"1",user:{id:"u1",name:"Max Nabd",avatar:"MN",color:"#7B61FF"}},{email:"hasan@nabdchain.com",password:"1",user:{id:"u2",name:"Hasan Nabd",avatar:"HN",color:"#00E1D4"}}],OP={login:async(r,e)=>{await new Promise(n=>setTimeout(n,800));const t=NEe.find(n=>n.email.toLowerCase()===r.toLowerCase()&&n.password===e);return t?(localStorage.setItem("clickup_user",JSON.stringify(t.user)),t.user):null},logout:()=>{localStorage.removeItem("clickup_user")},getCurrentUser:()=>{const r=localStorage.getItem("clickup_user");return r?JSON.parse(r):null}},IEe=({onLoginSuccess:r,onBack:e})=>{const[t,n]=xe.useState(""),[a,i]=xe.useState(""),[s,o]=xe.useState(!1),[l,c]=xe.useState(""),u=async f=>{f.preventDefault(),c(""),o(!0);try{const h=await OP.login(t,a);h?r(h):c("Invalid email or password. Try max@nabdchain.com / 1")}catch{c("Something went wrong. Please try again.")}finally{o(!1)}};return D.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f7f8f9] px-4 relative overflow-hidden",children:[D.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-brand-primary skew-y-3 origin-top-left transform -translate-y-20 z-0"}),D.jsxs("button",{onClick:e,className:"absolute top-6 left-6 flex items-center text-white z-10 hover:opacity-80 transition-opacity font-medium",children:[D.jsx(pde,{size:18,className:"mr-2"}),"Back to Home"]}),D.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md z-10 animate-in fade-in zoom-in duration-300",children:[D.jsxs("div",{className:"text-center mb-8",children:[D.jsx("div",{className:"w-12 h-12 bg-brand-primary rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-brand-primary/30",children:D.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:D.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),D.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome back!"}),D.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Enter your credentials to access your workspace."})]}),D.jsxs("form",{onSubmit:u,className:"space-y-5",children:[l&&D.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-600 p-3 rounded-lg text-sm flex items-start",children:[D.jsx(ry,{size:16,className:"mr-2 mt-0.5 shrink-0"}),l]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Email"}),D.jsx("input",{type:"email",value:t,onChange:f=>n(f.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"name@work-email.com",required:!0})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Password"}),D.jsx("input",{type:"password",value:a,onChange:f=>i(f.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"Enter your password",required:!0})]}),D.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gray-900 hover:bg-black text-white font-bold py-3.5 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center",children:s?D.jsx(_8,{className:"animate-spin"}):"Login"})]}),D.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:D.jsxs("p",{children:["Use ",D.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"max@nabdchain.com"})," and password ",D.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"1"})]})})]}),D.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 z-10",children:" 2024 ClickUp Clone. Secure Login."})]})},LEe=(r,e)=>{const[t,n]=xe.useState([]),[a,i]=xe.useState(!0),{showToast:s}=lc(),o=xe.useCallback(async()=>{try{i(!0);const d=(await dm.getTasks()).sort((v,g)=>(v.order||0)-(g.order||0));n(d)}catch{s("Failed to load tasks from backend","error")}finally{i(!1)}},[s]);return xe.useEffect(()=>{r==="app"&&o()},[r,o]),{tasks:t,isLoading:a,handleStatusChange:async(h,d)=>{const v=[...t];n(g=>g.map(m=>m.id===h?{...m,status:d}:m));try{await dm.updateTask(h,{status:d})}catch{n(v),s("Failed to update task status","error")}},handleUpdateTask:async(h,d)=>{const v=[...t];n(g=>g.map(m=>m.id===h?{...m,...d}:m));try{await dm.updateTask(h,d),s("Task updated","success")}catch{n(v),s("Failed to update task","error")}},handleReorder:h=>{n(h)},handleQuickCreate:async()=>{const h=prompt("Enter task title:");if(h){s("Creating task...","info");try{const d=await dm.createTask({title:h,status:vA.Todo,priority:"None",assignees:[],tags:e==="backend"?["Backend"]:[],description:"",order:t.length,spaceId:"default"});n(v=>[...v,d]),s("Task created successfully","success")}catch{s("Failed to create task","error")}}},fetchTasks:o}},OEe=()=>{const[r,e]=xe.useState([]);return{homeCards:r,handleAddHomeCard:s=>{let o=600,l=400;s.id==="agenda"?l=500:s.id==="lineup"&&(l=400);const c=30,u=32,h=r.reduce((y,b)=>Math.max(y,b.y+b.h),20-c),d=u,v=h+c,g=r.reduce((y,b)=>Math.max(y,b.zIndex||0),0),m={instanceId:Date.now().toString(),typeId:s.id,title:s.title,color:s.color,x:d,y:v,w:o,h:l,zIndex:g+1};e(y=>[...y,m])},handleUpdateHomeCard:s=>{e(o=>o.map(l=>l.instanceId===s.instanceId?s:l))},handleRemoveHomeCard:s=>{e(o=>o.filter(l=>l.instanceId!==s))},handleRemoveHomeCardByType:s=>{e(o=>o.filter(l=>l.typeId!==s))}}},bG="http://localhost:3001",SG={getWidgets:async()=>(await fetch(`${bG}/widgets`)).json(),updateWidgets:async r=>{await fetch(`${bG}/widgets`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}},kEe=r=>{const[e,t]=xe.useState({}),n=xe.useCallback(async()=>{try{const i=await SG.getWidgets();i&&t(i)}catch(i){console.error("Failed to fetch widgets:",i)}},[]);return xe.useEffect(()=>{r==="app"&&n()},[r,n]),{pageWidgets:e,setPageWidgets:t,onUpdateWidget:(i,s)=>{const o={...e,[i]:s};t(o),SG.updateWidgets(o).catch(l=>console.error("Failed to save widgets:",l))}}},PEe=[],lre={1:{id:"1",name:"Alex",avatar:"A",color:"#ef4444"},2:{id:"2",name:"Sam",avatar:"S",color:"#3b82f6"},3:{id:"3",name:"Jordan",avatar:"J",color:"#10b981"},me:{id:"me",name:"Me",avatar:"ME",color:"#7b68ee"}},BEe=()=>D.jsx("div",{className:"space-y-2 text-sm",children:["Q4 Strategy Doc","Backend Sprint List","Design System Board","Marketing Campaign","User Research 2024","Deployment Scripts"].map((r,e)=>D.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer transition-colors group border border-transparent hover:border-gray-100",children:[D.jsx("div",{className:"w-8 h-8 bg-blue-50/50 rounded-md text-blue-500 flex items-center justify-center text-[10px] font-bold border border-blue-100 group-hover:bg-blue-100 group-hover:border-blue-200 transition-all",children:r[0]}),D.jsxs("div",{className:"flex-1 min-w-0",children:[D.jsx("p",{className:"text-gray-700 font-medium truncate group-hover:text-brand-primary transition-colors",children:r}),D.jsxs("p",{className:"text-xs text-gray-400",children:["Accessed ",e+1," hour",e!==0?"s":""," ago"]})]})]},e))}),zEe=()=>D.jsxs("div",{className:"space-y-3",children:[PEe.filter(r=>r.priority==="Urgent"||r.priority==="High").slice(0,5).map((r,e)=>D.jsxs("div",{className:"flex items-start space-x-3 group cursor-pointer",children:[D.jsx("div",{className:"mt-1 text-xs font-bold text-gray-300 w-4 text-right",children:e+1}),D.jsxs("div",{className:"flex-1 bg-white border border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md hover:border-brand-primary/30 transition-all",children:[D.jsxs("div",{className:"flex justify-between items-start mb-1",children:[D.jsx("span",{className:"text-xs font-semibold px-1.5 py-0.5 rounded bg-red-50 text-red-500 border border-red-100",children:r.priority}),D.jsx("span",{className:"text-[10px] text-gray-400",children:r.dueDate?new Date(r.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"No Date"})]}),D.jsx("p",{className:"text-sm font-medium text-gray-800 leading-tight group-hover:text-brand-primary transition-colors",children:r.title})]})]},r.id)),D.jsxs("button",{className:"w-full py-2.5 text-xs font-medium text-gray-400 border border-dashed border-gray-200 rounded-lg hover:bg-gray-50 hover:text-brand-primary hover:border-brand-primary/30 transition-colors flex items-center justify-center space-x-1",children:[D.jsx(ja,{size:12}),D.jsx("span",{children:"Add Task to LineUp"})]})]}),FEe=()=>D.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 p-4",children:[D.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-full flex items-center justify-center shadow-inner border border-white",children:D.jsx(ph,{className:"text-brand-primary",size:28})}),D.jsxs("div",{children:[D.jsx("h3",{className:"font-bold text-gray-800",children:"Daily Standup"}),D.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-[200px] mx-auto leading-relaxed",children:"Brain analyzes your activity to generate a smart status report."})]}),D.jsx("button",{className:"bg-gray-900 hover:bg-black text-white px-5 py-2 rounded-lg text-sm font-bold transition-all shadow-md hover:shadow-lg active:scale-95",children:"Generate with AI"})]}),UEe=()=>{const e=[{time:"09:30",end:"10:00",title:"Daily Standup",type:"meeting",color:"bg-blue-50 border-blue-100 text-blue-700",icon:HV},{time:"11:00",end:"12:30",title:"Design Review: Mobile App",type:"work",color:"bg-purple-50 border-purple-100 text-purple-700",icon:b8},{time:"14:00",end:"15:00",title:"Customer Sync",type:"meeting",color:"bg-green-50 border-green-100 text-green-700",icon:HV},{time:"16:30",end:"17:00",title:"Wrap up & Planning",type:"task",color:"bg-gray-50 border-gray-100 text-gray-600",icon:Kw}];return D.jsxs("div",{className:"relative h-full flex flex-col",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-100",children:[D.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Today, Oct 24"}),D.jsx("button",{className:"text-[10px] bg-gray-50 border border-gray-200 px-2 py-1 rounded hover:bg-gray-100 text-gray-600 transition-colors",children:"Sync Calendar"})]}),D.jsxs("div",{className:"flex-1 relative overflow-y-auto scrollbar-hide pl-2 pr-2 space-y-4",children:[D.jsx("div",{className:"absolute left-[48px] top-0 bottom-0 w-[1px] bg-gray-200 z-0"}),D.jsxs("div",{className:"absolute left-[42px] w-full flex items-center z-10",style:{top:"45%"},children:[D.jsx("div",{className:"w-3 h-3 bg-brand-urgent rounded-full border-2 border-white shadow-sm"}),D.jsx("div",{className:"flex-1 h-[1px] bg-brand-urgent ml-1 opacity-50"}),D.jsx("span",{className:"text-[10px] text-brand-urgent font-bold bg-white px-1 ml-auto mr-2 shadow-sm rounded border border-red-100",children:"12:45 PM"})]}),e.map((t,n)=>D.jsxs("div",{className:"relative flex z-20 group",children:[D.jsxs("div",{className:"w-12 text-[10px] text-gray-400 text-right pr-3 pt-1 font-mono",children:[D.jsx("div",{children:t.time}),D.jsx("div",{className:"text-gray-300",children:t.end})]}),D.jsxs("div",{className:`flex-1 p-3 rounded-lg border ${t.color} shadow-sm hover:shadow-md transition-all cursor-pointer relative overflow-hidden hover:-translate-y-0.5`,children:[D.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${t.color.replace("bg-","bg-opacity-100 bg-").split(" ")[0].replace("50","500")}`}),D.jsxs("div",{className:"flex justify-between items-start",children:[D.jsx("div",{className:"font-semibold text-sm mb-1",children:t.title}),D.jsx(t.icon,{size:14,className:"opacity-70"})]}),D.jsx("div",{className:"text-xs opacity-80",children:"Zoom  3 participants"})]})]},n)),D.jsxs("div",{className:"relative flex z-20 opacity-50 hover:opacity-100 transition-opacity cursor-pointer group",children:[D.jsx("div",{className:"w-12 text-[10px] text-gray-300 text-right pr-3 pt-2",children:"13:00"}),D.jsx("div",{className:"flex-1 p-3 rounded-lg border border-dashed border-gray-300 flex items-center justify-center text-xs text-gray-400 group-hover:bg-gray-50 h-16 transition-colors",children:"+ Schedule block"})]})]})]})},VEe=({title:r})=>D.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-300 space-y-3",children:[D.jsx("div",{className:"p-4 rounded-full bg-gray-50 border border-gray-100",children:D.jsx(x8,{size:24,className:"opacity-30 text-gray-400"})}),D.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["No items in ",r]}),D.jsx("button",{className:"text-xs text-brand-primary font-semibold hover:underline",children:"Connect Source"})]}),HEe=({card:r,allCards:e,onUpdate:t,onRemove:n,containerWidth:a})=>{const[i,s]=xe.useState(!1),[o,l]=xe.useState(!1),c=xe.useRef(null),u=24,f=50,h=xe.useRef({x:0,y:0,initialX:0,initialY:0,initialW:0,initialH:0}),d=(y,b)=>{y.stopPropagation();const S=Math.max(...e.map(E=>E.zIndex||0),0);t({...r,zIndex:S+1}),h.current={x:y.clientX,y:y.clientY,initialX:r.x,initialY:r.y,initialW:r.w,initialH:r.h};const A=c.current;A&&A.setPointerCapture(y.pointerId),b==="drag"&&s(!0),b==="resize"&&l(!0)},v=y=>{if(!i&&!o)return;y.stopPropagation();const b=y.clientX-h.current.x,S=y.clientY-h.current.y;if(i&&c.current){let A=h.current.initialX+b,E=h.current.initialY+S;const M=a;A=Math.max(32,A),E=Math.max(0,E);const R=20;Math.abs(A%R)<f&&(A=Math.round(A/R)*R),Math.abs(E%R)<f&&(E=Math.round(E/R)*R),A=Math.max(32,Math.min(A,M-h.current.initialW-32)),E=Math.max(0,E),c.current.style.transform=`translate(${A-h.current.initialX}px, ${E-h.current.initialY}px)`,c.current.style.zIndex="100",c.current.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)";const L=c.current.getBoundingClientRect(),I=c.current.offsetParent;if(!I)return;const O=I.getBoundingClientRect(),P=L.left-O.left,k=L.top-O.left,U=L.width,F=L.height;e.forEach(q=>{if(q.instanceId!==r.instanceId)if(P<q.x+q.w&&P+U>q.x&&k<q.y+q.h&&k+F>q.y){const H=document.getElementById(`card-${q.instanceId}`);H&&(H.style.transform=`translateY(${F+u}px)`,H.style.transition="transform 0.2s cubic-bezier(0.2, 0, 0, 1)")}else{const H=document.getElementById(`card-${q.instanceId}`);H&&(H.style.transform="")}})}if(o&&c.current){let A=Math.max(300,h.current.initialW+b);const E=Math.max(200,h.current.initialH+S),M=a-r.x-32;A=Math.min(A,M),c.current.style.width=`${A}px`,c.current.style.height=`${E}px`}},g=y=>{if(!i&&!o)return;y.stopPropagation();const b=c.current;if(b){b.releasePointerCapture(y.pointerId);const S=b.getBoundingClientRect(),A=b.offsetParent;if(A){const E=A.getBoundingClientRect();let M=S.left-E.left,R=S.top-E.top,L=S.width,I=S.height;if(i){M=Math.round(M/20)*20,R=Math.round(R/20)*20,M=Math.max(32,Math.min(M,a-L-32)),R=Math.max(0,R);const P=[],k={x:M,y:R,w:L,h:I};e.filter(F=>F.instanceId!==r.instanceId).sort((F,q)=>F.y-q.y).forEach(F=>{if(k.x<F.x+F.w&&k.x+k.w>F.x&&k.y<F.y+F.h&&k.y+k.h>F.y){const H=k.y+k.h+u;P.push({...F,y:H}),F.y=H}const q=document.getElementById(`card-${F.instanceId}`);q&&(q.style.transform="")}),t({...r,x:M,y:R,w:L,h:I},P)}else if(o){const O=a-M-32;L=Math.min(L,O),t({...r,x:M,y:R,w:L,h:I})}}}s(!1),l(!1)},m={standup:ph,recents:bQ,agenda:Zd,mywork:Kw,assigned:Kw,personal:yQ,comments:TQ,lineup:SQ,reminders:V_}[r.typeId]||x8;return D.jsxs("div",{id:`card-${r.instanceId}`,ref:c,className:`absolute bg-white rounded-xl flex flex-col overflow-hidden group transition-shadow duration-200 ${i?"shadow-2xl cursor-grabbing z-50 scale-[1.02] ring-2 ring-brand-primary ring-opacity-50":"shadow-card hover:shadow-card-hover z-10 border border-gray-200/60"}`,style:{left:r.x,top:r.y,width:r.w,height:r.h,zIndex:i?9999:r.zIndex,transition:i||o?"none":"box-shadow 0.2s, transform 0.3s ease-out, left 0.3s cubic-bezier(0.2, 0, 0, 1), top 0.3s cubic-bezier(0.2, 0, 0, 1)"},onPointerMove:v,onPointerUp:g,children:[D.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-50/80 cursor-grab active:cursor-grabbing bg-gradient-to-b from-white to-gray-50/50 select-none h-12",onPointerDown:y=>d(y,"drag"),children:[D.jsxs("div",{className:"flex items-center space-x-2.5 pointer-events-none",children:[D.jsx("div",{className:`w-7 h-7 rounded-lg ${r.color} flex items-center justify-center text-white shadow-md shadow-gray-200`,children:D.jsx(m,{size:14})}),D.jsx("span",{className:"text-sm font-bold text-gray-800 tracking-tight",children:r.title})]}),D.jsx("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:D.jsx("button",{onClick:y=>{y.stopPropagation(),n(r.instanceId)},className:"p-1.5 hover:bg-red-50 rounded-md text-gray-400 hover:text-red-500 transition-colors",children:D.jsx(lA,{size:14})})})]}),D.jsxs("div",{className:"flex-1 p-4 overflow-y-auto scrollbar-hide bg-white select-text cursor-auto",onPointerDown:y=>y.stopPropagation(),children:[r.typeId==="recents"&&D.jsx(BEe,{}),r.typeId==="lineup"&&D.jsx(zEe,{}),r.typeId==="standup"&&D.jsx(FEe,{}),r.typeId==="agenda"&&D.jsx(UEe,{}),!["recents","lineup","standup","agenda"].includes(r.typeId)&&D.jsx(VEe,{title:r.title})]}),D.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-nwse-resize flex items-end justify-end p-1 opacity-0 group-hover:opacity-100 transition-opacity",onPointerDown:y=>d(y,"resize"),children:D.jsx("div",{className:"w-2.5 h-2.5 border-r-2 border-b-2 border-gray-300 rounded-br-[2px] hover:border-brand-primary transition-colors"})})]})},GEe=({cards:r=[],onUpdateCard:e=a=>{},onRemoveCard:t=a=>{},onOpenCustomize:n=()=>{}})=>{const{showToast:a}=lc(),i=new Date().getHours(),s=xe.useRef(null),[o,l]=xe.useState(1600);xe.useEffect(()=>{s.current&&l(s.current.clientWidth);const f=()=>{s.current&&l(s.current.clientWidth)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);let c="Good morning";i>=12&&i<17?c="Good afternoon":i>=17&&(c="Good evening");const u=(f,h=[])=>{e(f),h.forEach(d=>e(d))};return r.length>0?D.jsx("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-hidden relative",children:D.jsxs("div",{className:"flex-1 relative overflow-auto scrollbar-hide w-full h-full",style:{backgroundImage:"radial-gradient(#E5E7EB 1.5px, transparent 1.5px)",backgroundSize:"32px 32px"},children:[D.jsx("div",{className:"px-8 py-6 mb-4",children:D.jsxs("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:[c,", Mohamed"]})}),D.jsxs("div",{ref:s,className:"w-full h-full min-h-[1000px] relative",children:[r.map(f=>D.jsx(HEe,{card:f,allCards:r,onUpdate:u,onRemove:t,containerWidth:o},f.instanceId)),D.jsx("div",{className:"absolute inset-0 z-0",onDoubleClick:n,title:"Double click to add card"})]})]})}):D.jsx("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-y-auto scrollbar-hide animate-in fade-in duration-500",children:D.jsxs("div",{className:"w-full mx-auto p-8 md:p-12 flex flex-col h-full",children:[D.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-8 tracking-tight",children:[c,", Gemini User"]}),D.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[400px]",children:[D.jsxs("div",{className:"relative w-80 h-64 mb-12 opacity-90 hover:opacity-100 transition-all duration-500 cursor-pointer group",onClick:n,children:[D.jsxs("div",{className:"absolute top-0 left-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform -rotate-6 z-10 flex flex-col p-4 space-y-3 transition-transform group-hover:-translate-y-3 group-hover:-rotate-12",children:[D.jsxs("div",{className:"flex items-center space-x-3",children:[D.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full"}),D.jsx("div",{className:"w-24 h-2.5 bg-gray-100 rounded-full"})]}),D.jsxs("div",{className:"space-y-2 mt-2",children:[D.jsx("div",{className:"w-full h-2 bg-gray-50 rounded-full"}),D.jsx("div",{className:"w-3/4 h-2 bg-gray-50 rounded-full"})]})]}),D.jsxs("div",{className:"absolute top-8 right-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform rotate-6 z-0 flex flex-col p-4 items-end justify-between transition-transform group-hover:translate-x-3 group-hover:rotate-12",children:[D.jsx("div",{className:"w-10 h-2.5 bg-gray-100 rounded-full mb-2"}),D.jsx("div",{className:"w-full h-14 bg-gray-50 rounded-xl border border-gray-100 border-dashed flex items-center justify-center",children:D.jsx(x8,{size:20,className:"text-gray-200"})})]}),D.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-64 h-36 bg-white border border-gray-200 rounded-2xl shadow-2xl shadow-indigo-100 z-20 flex flex-col p-5 transition-transform group-hover:scale-105 ring-1 ring-black/5",children:[D.jsx("div",{className:"flex items-center justify-between mb-4",children:D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-primary"}),D.jsx("div",{className:"w-28 h-2.5 bg-gray-100 rounded-full"})]})}),D.jsx("div",{className:"flex-1 space-y-3",children:D.jsxs("div",{className:"flex items-center justify-between px-2",children:[D.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),D.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),D.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"})]})})]}),D.jsx("div",{className:"absolute -top-4 right-10 w-12 h-12 bg-white border border-gray-100 rounded-2xl shadow-lg flex items-center justify-center z-30 animate-bounce duration-[2000ms]",children:D.jsx(ja,{className:"text-brand-primary",size:24})})]}),D.jsxs("h2",{className:"text-gray-500 text-center max-w-md mb-8 leading-relaxed text-lg font-medium",children:["Customize your workspace with drag-and-drop cards. ",D.jsx("br",{}),D.jsx("span",{className:"text-sm text-gray-400",children:"Build your perfect dashboard in seconds."})]}),D.jsx("button",{className:"bg-gray-900 hover:bg-black text-white px-8 py-3.5 rounded-xl font-bold text-sm transition-all shadow-md hover:shadow-lg active:scale-95 tracking-wide",onClick:n,children:"Customize Home"})]})]})})},R4="http://localhost:3001",N4={getMessages:async()=>(await fetch(`${R4}/messages`)).json(),markMessageRead:async r=>{await fetch(`${R4}/messages/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isRead:!0})})},sendMessage:async(r,e)=>{const t={id:`MSG-${Date.now()}`,senderId:"me",subject:r,preview:e.substring(0,50)+"...",content:e,timestamp:new Date().toISOString(),isRead:!0,tags:["sent"]};return(await fetch(`${R4}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}},jEe=({isLoading:r,messages:e,selectedId:t,filter:n,onLoadMessages:a,onSetFilter:i,onSelectMessage:s})=>{const o=e,l=u=>lre[u]||{name:"Unknown",color:"#999",avatar:"?"},c=u=>{const f=new Date(u),h=new Date;return f.toDateString()===h.toDateString()?f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):f.toLocaleDateString([],{month:"short",day:"numeric"})};return D.jsxs("div",{className:"w-96 border-r border-gray-200 flex flex-col bg-gray-50/50",children:[D.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between bg-white",children:[D.jsxs("h2",{className:"font-bold text-lg flex items-center text-gray-700",children:[D.jsx(y8,{className:"mr-2 text-clickup-purple",size:20}),"Inbox"]}),D.jsxs("div",{className:"flex space-x-1",children:[D.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",onClick:a,children:D.jsx(_8,{size:16,className:r?"animate-spin":""})}),D.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",children:D.jsx(cpe,{size:16})})]})]}),D.jsx("div",{className:"p-3",children:D.jsxs("div",{className:"relative",children:[D.jsx(w8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),D.jsx("input",{type:"text",placeholder:"Search messages...",className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple"})]})}),D.jsxs("div",{className:"flex px-3 border-b border-gray-200 bg-white",children:[D.jsx("button",{onClick:()=>i("inbox"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${n==="inbox"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Primary"}),D.jsx("button",{onClick:()=>i("sent"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${n==="sent"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Updates"})]}),D.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:r&&e.length===0?D.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"Loading..."}):o.length===0?D.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No messages here."}):o.map(u=>{const f=l(u.senderId);return D.jsxs("div",{onClick:()=>s(u.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors group relative ${t===u.id?"bg-purple-50 border-purple-100":"bg-white hover:bg-gray-50"} ${u.isRead?"":"bg-gray-50"}`,children:[!u.isRead&&D.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-clickup-purple rounded-full"}),D.jsxs("div",{className:"flex justify-between items-start mb-1",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white",style:{backgroundColor:f.color},children:f.avatar}),D.jsx("span",{className:`text-sm truncate max-w-[120px] ${u.isRead?"text-gray-600":"font-bold text-gray-900"}`,children:f.name})]}),D.jsx("span",{className:"text-[10px] text-gray-400",children:c(u.timestamp)})]}),D.jsx("div",{className:`text-sm mb-1 truncate ${u.isRead?"text-gray-700":"font-semibold text-gray-800"}`,children:u.subject}),D.jsx("div",{className:"text-xs text-gray-400 truncate",children:u.preview})]},u.id)})})]})},WEe=({selectedMessage:r,replyText:e,onReplyChange:t,onSendReply:n,onOpenCompose:a})=>{const i=s=>lre[s]||{name:"Unknown",color:"#999",avatar:"?"};return D.jsx("div",{className:"flex-1 flex flex-col bg-white h-full min-w-0",children:r?D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"p-6 border-b border-gray-200",children:[D.jsxs("div",{className:"flex items-start justify-between mb-4",children:[D.jsx("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:r.subject}),D.jsxs("div",{className:"flex space-x-2 text-gray-400",children:[D.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",title:"Archive",children:D.jsx(ude,{size:18})}),D.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full hover:text-red-500",title:"Delete",children:D.jsx(Am,{size:18})})]})]}),D.jsxs("div",{className:"flex items-center space-x-3",children:[D.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm",style:{backgroundColor:i(r.senderId).color},children:i(r.senderId).avatar}),D.jsxs("div",{children:[D.jsxs("div",{className:"flex items-baseline space-x-2",children:[D.jsx("span",{className:"font-bold text-gray-900",children:i(r.senderId).name}),D.jsxs("span",{className:"text-xs text-gray-500",children:["<user@",r.senderId,".com>"]})]}),D.jsxs("div",{className:"text-xs text-gray-400",children:["To: Me  ",new Date(r.timestamp).toLocaleString()]})]})]})]}),D.jsx("div",{className:"flex-1 p-8 overflow-y-auto text-gray-800 leading-relaxed whitespace-pre-wrap font-sans text-sm",children:r.content}),D.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:D.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm focus-within:ring-2 focus-within:ring-purple-100 focus-within:border-clickup-purple transition-all",children:[D.jsxs("div",{className:"p-2 border-b border-gray-100 bg-gray-50/50 flex items-center space-x-2 text-gray-400",children:[D.jsx(i0e,{size:14}),D.jsxs("span",{className:"text-xs font-medium",children:["Replying to ",i(r.senderId).name,"..."]})]}),D.jsx("textarea",{className:"w-full p-3 min-h-[80px] focus:outline-none text-sm resize-none",placeholder:"Write your reply...",value:e,onChange:s=>t(s.target.value)}),D.jsxs("div",{className:"flex items-center justify-between p-2",children:[D.jsx("div",{className:"flex space-x-2"}),D.jsxs("button",{onClick:n,disabled:!e.trim(),className:"bg-clickup-purple text-white px-4 py-1.5 rounded text-sm font-medium flex items-center space-x-2 disabled:opacity-50 hover:brightness-110 transition-all",children:[D.jsx("span",{children:"Send"}),D.jsx(AQ,{size:14})]})]})]})})]}):D.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300 bg-gray-50/30",children:[D.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:D.jsx(y8,{size:48,className:"text-gray-300"})}),D.jsx("p",{className:"text-lg font-medium text-gray-400",children:"Select a message to read"}),D.jsx("p",{className:"text-sm max-w-xs text-center mt-2",children:"Stay on top of your communications directly within your workspace."}),D.jsxs("button",{onClick:a,className:"mt-6 px-6 py-2 bg-clickup-purple text-white rounded-full font-medium shadow-lg shadow-purple-200 hover:shadow-xl hover:scale-105 transition-all flex items-center",children:[D.jsx(ja,{size:16,className:"mr-2"}),"New Message"]})]})})},YEe=()=>{const[r,e]=xe.useState([]),[t,n]=xe.useState(null),[a,i]=xe.useState(!0),[s,o]=xe.useState(""),[l,c]=xe.useState("inbox"),{showToast:u}=lc();xe.useEffect(()=>{f()},[]);const f=async()=>{i(!0);try{const g=await N4.getMessages();e(g.sort((m,y)=>new Date(y.timestamp).getTime()-new Date(m.timestamp).getTime()))}catch(g){console.error(g)}finally{i(!1)}},h=async g=>{n(g);const m=r.find(y=>y.id===g);m&&!m.isRead&&(e(y=>y.map(b=>b.id===g?{...b,isRead:!0}:b)),await N4.markMessageRead(g))},d=async()=>{if(!s.trim())return;const g=r.find(y=>y.id===t),m=g?`Re: ${g.subject}`:"New Message";u("Sending...","info");try{await N4.sendMessage(m,s),o(""),u("Reply sent!","success"),f()}catch{u("Failed to send","error")}},v=r.find(g=>g.id===t);return D.jsxs("div",{className:"flex h-full bg-white overflow-hidden animate-in fade-in duration-300",children:[D.jsx(jEe,{isLoading:a,messages:r,selectedId:t,filter:l,onLoadMessages:f,onSetFilter:c,onSelectMessage:h}),D.jsx(WEe,{selectedMessage:v,replyText:s,onReplyChange:o,onSendReply:d,onOpenCompose:()=>u("Compose Window Opened","info")})]})};var I4={exports:{}},ud={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wG;function XEe(){return wG||(wG=1,ud.ConcurrentRoot=1,ud.ContinuousEventPriority=8,ud.DefaultEventPriority=32,ud.DiscreteEventPriority=2,ud.IdleEventPriority=268435456,ud.LegacyRoot=0,ud.NoEventPriority=0),ud}var TG;function qEe(){return TG||(TG=1,I4.exports=XEe()),I4.exports}var W3=qEe();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const bA="181",Jg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Qg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},cre=0,kP=1,ure=2,ZEe=3,fre=0,rI=1,Tw=2,Fu=3,$d=0,Qo=1,nh=2,vh=0,Mm=1,uT=2,PP=3,BP=4,hre=5,S0=100,dre=101,pre=102,vre=103,gre=104,mre=200,yre=201,xre=202,_re=203,FD=204,UD=205,bre=206,Sre=207,wre=208,Tre=209,Are=210,Ere=211,Mre=212,Cre=213,Dre=214,VD=0,HD=1,GD=2,Vm=3,jD=4,WD=5,YD=6,XD=7,SA=0,Rre=1,Nre=2,gh=0,Ire=1,Lre=2,Ore=3,lz=4,kre=5,Pre=6,Bre=7,zP="attached",zre="detached",nI=300,Jd=301,J0=302,fT=303,hT=304,Z_=306,dT=1e3,Tl=1001,pT=1002,zs=1003,cz=1004,KEe=1004,z1=1005,$Ee=1005,xi=1006,Aw=1007,JEe=1007,oh=1008,QEe=1008,$c=1009,uz=1010,fz=1011,u_=1012,aI=1013,Qd=1014,Al=1015,uy=1016,iI=1017,sI=1018,f_=1020,hz=35902,dz=35899,pz=1021,vz=1022,go=1023,h_=1026,d_=1027,oI=1028,wA=1029,lI=1030,cI=1031,eMe=1032,uI=1033,Ew=33776,Mw=33777,Cw=33778,Dw=33779,qD=35840,ZD=35841,KD=35842,$D=35843,JD=36196,QD=37492,eR=37496,tR=37808,rR=37809,nR=37810,aR=37811,iR=37812,sR=37813,oR=37814,lR=37815,cR=37816,uR=37817,fR=37818,hR=37819,dR=37820,pR=37821,vR=36492,gR=36494,mR=36495,yR=36283,xR=36284,_R=36285,bR=36286,Fre=2200,Ure=2201,Vre=2202,vT=2300,SR=2301,Y3=2302,pm=2400,vm=2401,gT=2402,fI=2500,gz=2501,tMe=0,rMe=1,nMe=2,Hre=3200,Gre=3201,aMe=3202,iMe=3203,cv=0,jre=1,Rd="",fo="srgb",Q0="srgb-linear",mT="linear",sa="srgb",sMe=0,em=7680,oMe=7681,lMe=7682,cMe=7683,uMe=34055,fMe=34056,hMe=5386,dMe=512,pMe=513,vMe=514,gMe=515,mMe=516,yMe=517,xMe=518,FP=519,Wre=512,Yre=513,Xre=514,mz=515,qre=516,Zre=517,Kre=518,$re=519,yT=35044,_Me=35048,bMe=35040,SMe=35045,wMe=35049,TMe=35041,AMe=35046,EMe=35050,MMe=35042,CMe="100",UP="300 es",$l=2e3,p_=2001,DMe={COMPUTE:"compute",RENDER:"render"},RMe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},NMe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function Jre(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const IMe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function F1(r,e){return new IMe[r](e)}function xT(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function Qre(){const r=xT("canvas");return r.style.display="block",r}const AG={};let ev=null;function LMe(r){ev=r}function OMe(){return ev}function _T(...r){const e="THREE."+r.shift();ev?ev("log",e,...r):console.log(e,...r)}function $t(...r){const e="THREE."+r.shift();ev?ev("warn",e,...r):console.warn(e,...r)}function Gr(...r){const e="THREE."+r.shift();ev?ev("error",e,...r):console.error(e,...r)}function v_(...r){const e=r.join(" ");e in AG||(AG[e]=!0,$t(...r))}function kMe(r,e,t){return new Promise(function(n,a){function i(){switch(r.clientWaitSync(e,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:a();break;case r.TIMEOUT_EXPIRED:setTimeout(i,t);break;default:n()}}setTimeout(i,t)})}let Rh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const a=n[e];if(a!==void 0){const i=a.indexOf(t);i!==-1&&a.splice(i,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const a=n.slice(0);for(let i=0,s=a.length;i<s;i++)a[i].call(this,e);e.target=null}}};const ao=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let EG=1234567;const Cm=Math.PI/180,g_=180/Math.PI;function rc(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(ao[r&255]+ao[r>>8&255]+ao[r>>16&255]+ao[r>>24&255]+"-"+ao[e&255]+ao[e>>8&255]+"-"+ao[e>>16&15|64]+ao[e>>24&255]+"-"+ao[t&63|128]+ao[t>>8&255]+"-"+ao[t>>16&255]+ao[t>>24&255]+ao[n&255]+ao[n>>8&255]+ao[n>>16&255]+ao[n>>24&255]).toLowerCase()}function Br(r,e,t){return Math.max(e,Math.min(t,r))}function yz(r,e){return(r%e+e)%e}function PMe(r,e,t,n,a){return n+(r-e)*(a-n)/(t-e)}function BMe(r,e,t){return r!==e?(t-r)/(e-r):0}function Rw(r,e,t){return(1-t)*r+t*e}function zMe(r,e,t,n){return Rw(r,e,1-Math.exp(-t*n))}function FMe(r,e=1){return e-Math.abs(yz(r,e*2)-e)}function UMe(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function VMe(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function HMe(r,e){return r+Math.floor(Math.random()*(e-r+1))}function GMe(r,e){return r+Math.random()*(e-r)}function jMe(r){return r*(.5-Math.random())}function WMe(r){r!==void 0&&(EG=r);let e=EG+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function YMe(r){return r*Cm}function XMe(r){return r*g_}function qMe(r){return(r&r-1)===0&&r!==0}function ZMe(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function KMe(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function $Me(r,e,t,n,a){const i=Math.cos,s=Math.sin,o=i(t/2),l=s(t/2),c=i((e+n)/2),u=s((e+n)/2),f=i((e-n)/2),h=s((e-n)/2),d=i((n-e)/2),v=s((n-e)/2);switch(a){case"XYX":r.set(o*u,l*f,l*h,o*c);break;case"YZY":r.set(l*h,o*u,l*f,o*c);break;case"ZXZ":r.set(l*f,l*h,o*u,o*c);break;case"XZX":r.set(o*u,l*v,l*d,o*c);break;case"YXY":r.set(l*d,o*u,l*v,o*c);break;case"ZYZ":r.set(l*v,l*d,o*u,o*c);break;default:$t("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function Ko(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function rn(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const JMe={DEG2RAD:Cm,RAD2DEG:g_,generateUUID:rc,clamp:Br,euclideanModulo:yz,mapLinear:PMe,inverseLerp:BMe,lerp:Rw,damp:zMe,pingpong:FMe,smoothstep:UMe,smootherstep:VMe,randInt:HMe,randFloat:GMe,randFloatSpread:jMe,seededRandom:WMe,degToRad:YMe,radToDeg:XMe,isPowerOfTwo:qMe,ceilPowerOfTwo:ZMe,floorPowerOfTwo:KMe,setQuaternionFromProperEuler:$Me,normalize:rn,denormalize:Ko};class St{constructor(e=0,t=0){St.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6],this.y=a[1]*t+a[4]*n+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Br(this.x,e.x,t.x),this.y=Br(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Br(this.x,e,t),this.y=Br(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Br(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Br(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),a=Math.sin(t),i=this.x-e.x,s=this.y-e.y;return this.x=i*n-s*a+e.x,this.y=i*a+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class yo{constructor(e=0,t=0,n=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=a}static slerpFlat(e,t,n,a,i,s,o){let l=n[a+0],c=n[a+1],u=n[a+2],f=n[a+3],h=i[s+0],d=i[s+1],v=i[s+2],g=i[s+3];if(o<=0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(o>=1){e[t+0]=h,e[t+1]=d,e[t+2]=v,e[t+3]=g;return}if(f!==g||l!==h||c!==d||u!==v){let m=l*h+c*d+u*v+f*g;m<0&&(h=-h,d=-d,v=-v,g=-g,m=-m);let y=1-o;if(m<.9995){const b=Math.acos(m),S=Math.sin(b);y=Math.sin(y*b)/S,o=Math.sin(o*b)/S,l=l*y+h*o,c=c*y+d*o,u=u*y+v*o,f=f*y+g*o}else{l=l*y+h*o,c=c*y+d*o,u=u*y+v*o,f=f*y+g*o;const b=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=b,c*=b,u*=b,f*=b}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,n,a,i,s){const o=n[a],l=n[a+1],c=n[a+2],u=n[a+3],f=i[s],h=i[s+1],d=i[s+2],v=i[s+3];return e[t]=o*v+u*f+l*d-c*h,e[t+1]=l*v+u*h+c*f-o*d,e[t+2]=c*v+u*d+o*h-l*f,e[t+3]=u*v-o*f-l*h-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,a){return this._x=e,this._y=t,this._z=n,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,a=e._y,i=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(n/2),u=o(a/2),f=o(i/2),h=l(n/2),d=l(a/2),v=l(i/2);switch(s){case"XYZ":this._x=h*u*f+c*d*v,this._y=c*d*f-h*u*v,this._z=c*u*v+h*d*f,this._w=c*u*f-h*d*v;break;case"YXZ":this._x=h*u*f+c*d*v,this._y=c*d*f-h*u*v,this._z=c*u*v-h*d*f,this._w=c*u*f+h*d*v;break;case"ZXY":this._x=h*u*f-c*d*v,this._y=c*d*f+h*u*v,this._z=c*u*v+h*d*f,this._w=c*u*f-h*d*v;break;case"ZYX":this._x=h*u*f-c*d*v,this._y=c*d*f+h*u*v,this._z=c*u*v-h*d*f,this._w=c*u*f+h*d*v;break;case"YZX":this._x=h*u*f+c*d*v,this._y=c*d*f+h*u*v,this._z=c*u*v-h*d*f,this._w=c*u*f-h*d*v;break;case"XZY":this._x=h*u*f-c*d*v,this._y=c*d*f-h*u*v,this._z=c*u*v+h*d*f,this._w=c*u*f+h*d*v;break;default:$t("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,a=Math.sin(n);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],a=t[4],i=t[8],s=t[1],o=t[5],l=t[9],c=t[2],u=t[6],f=t[10],h=n+o+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-l)*d,this._y=(i-c)*d,this._z=(s-a)*d}else if(n>o&&n>f){const d=2*Math.sqrt(1+n-o-f);this._w=(u-l)/d,this._x=.25*d,this._y=(a+s)/d,this._z=(i+c)/d}else if(o>f){const d=2*Math.sqrt(1+o-n-f);this._w=(i-c)/d,this._x=(a+s)/d,this._y=.25*d,this._z=(l+u)/d}else{const d=2*Math.sqrt(1+f-n-o);this._w=(s-a)/d,this._x=(i+c)/d,this._y=(l+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Br(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const a=Math.min(1,t/n);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,a=e._y,i=e._z,s=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=n*u+s*o+a*c-i*l,this._y=a*u+s*l+i*o-n*c,this._z=i*u+s*c+n*l-a*o,this._w=s*u-n*o-a*l-i*c,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,a=e._y,i=e._z,s=e._w,o=this.dot(e);o<0&&(n=-n,a=-a,i=-i,s=-s,o=-o);let l=1-t;if(o<.9995){const c=Math.acos(o),u=Math.sin(c);l=Math.sin(l*c)/u,t=Math.sin(t*c)/u,this._x=this._x*l+n*t,this._y=this._y*l+a*t,this._z=this._z*l+i*t,this._w=this._w*l+s*t,this._onChangeCallback()}else this._x=this._x*l+n*t,this._y=this._y*l+a*t,this._z=this._z*l+i*t,this._w=this._w*l+s*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),a=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(a*Math.sin(e),a*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ee{constructor(e=0,t=0,n=0){Ee.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(MG.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(MG.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,a=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*a,this.y=i[1]*t+i[4]*n+i[7]*a,this.z=i[2]*t+i[5]*n+i[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,a=this.z,i=e.elements,s=1/(i[3]*t+i[7]*n+i[11]*a+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*a+i[12])*s,this.y=(i[1]*t+i[5]*n+i[9]*a+i[13])*s,this.z=(i[2]*t+i[6]*n+i[10]*a+i[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,a=this.z,i=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*a-o*n),u=2*(o*t-i*a),f=2*(i*n-s*t);return this.x=t+l*c+s*f-o*u,this.y=n+l*u+o*c-i*f,this.z=a+l*f+i*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,a=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*a,this.y=i[1]*t+i[5]*n+i[9]*a,this.z=i[2]*t+i[6]*n+i[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Br(this.x,e.x,t.x),this.y=Br(this.y,e.y,t.y),this.z=Br(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Br(this.x,e,t),this.y=Br(this.y,e,t),this.z=Br(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Br(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,a=e.y,i=e.z,s=t.x,o=t.y,l=t.z;return this.x=a*l-i*o,this.y=i*s-n*l,this.z=n*o-a*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return L4.copy(this).projectOnVector(e),this.sub(L4)}reflect(e){return this.sub(L4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Br(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,a=this.z-e.z;return t*t+n*n+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const a=Math.sin(t)*e;return this.x=a*Math.sin(n),this.y=Math.cos(t)*e,this.z=a*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const L4=new Ee,MG=new yo;class en{constructor(e,t,n,a,i,s,o,l,c){en.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,a,i,s,o,l,c)}set(e,t,n,a,i,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=a,u[2]=o,u[3]=t,u[4]=i,u[5]=l,u[6]=n,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,a=t.elements,i=this.elements,s=n[0],o=n[3],l=n[6],c=n[1],u=n[4],f=n[7],h=n[2],d=n[5],v=n[8],g=a[0],m=a[3],y=a[6],b=a[1],S=a[4],A=a[7],E=a[2],M=a[5],R=a[8];return i[0]=s*g+o*b+l*E,i[3]=s*m+o*S+l*M,i[6]=s*y+o*A+l*R,i[1]=c*g+u*b+f*E,i[4]=c*m+u*S+f*M,i[7]=c*y+u*A+f*R,i[2]=h*g+d*b+v*E,i[5]=h*m+d*S+v*M,i[8]=h*y+d*A+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*o*c-n*i*u+n*o*l+a*i*c-a*s*l}invert(){const e=this.elements,t=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=u*s-o*c,h=o*l-u*i,d=c*i-s*l,v=t*f+n*h+a*d;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/v;return e[0]=f*g,e[1]=(a*c-u*n)*g,e[2]=(o*n-a*s)*g,e[3]=h*g,e[4]=(u*t-a*l)*g,e[5]=(a*i-o*t)*g,e[6]=d*g,e[7]=(n*l-c*t)*g,e[8]=(s*t-n*i)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,a,i,s,o){const l=Math.cos(i),c=Math.sin(i);return this.set(n*l,n*c,-n*(l*s+c*o)+s+e,-a*c,a*l,-a*(-c*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(O4.makeScale(e,t)),this}rotate(e){return this.premultiply(O4.makeRotation(-e)),this}translate(e,t){return this.premultiply(O4.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let a=0;a<9;a++)if(t[a]!==n[a])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const O4=new en,CG=new en().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),DG=new en().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function QMe(){const r={enabled:!0,workingColorSpace:Q0,spaces:{},convert:function(a,i,s){return this.enabled===!1||i===s||!i||!s||(this.spaces[i].transfer===sa&&(a.r=Hd(a.r),a.g=Hd(a.g),a.b=Hd(a.b)),this.spaces[i].primaries!==this.spaces[s].primaries&&(a.applyMatrix3(this.spaces[i].toXYZ),a.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===sa&&(a.r=Q1(a.r),a.g=Q1(a.g),a.b=Q1(a.b))),a},workingToColorSpace:function(a,i){return this.convert(a,this.workingColorSpace,i)},colorSpaceToWorking:function(a,i){return this.convert(a,i,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Rd?mT:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,i=this.workingColorSpace){return a.fromArray(this.spaces[i].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,i,s){return a.copy(this.spaces[i].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,i){return v_("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),r.workingToColorSpace(a,i)},toWorkingColorSpace:function(a,i){return v_("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),r.colorSpaceToWorking(a,i)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return r.define({[Q0]:{primaries:e,whitePoint:n,transfer:mT,toXYZ:CG,fromXYZ:DG,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:fo},outputColorSpaceConfig:{drawingBufferColorSpace:fo}},[fo]:{primaries:e,whitePoint:n,transfer:sa,toXYZ:CG,fromXYZ:DG,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:fo}}}),r}const Nn=QMe();function Hd(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function Q1(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let Lx;class ene{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Lx===void 0&&(Lx=xT("canvas")),Lx.width=e.width,Lx.height=e.height;const a=Lx.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),n=Lx}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=xT("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const a=n.getImageData(0,0,e.width,e.height),i=a.data;for(let s=0;s<i.length;s++)i[s]=Hd(i[s]/255)*255;return n.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Hd(t[n]/255)*255):t[n]=Hd(t[n]);return{data:t,width:e.width,height:e.height}}else return $t("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let eCe=0;class C0{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:eCe++}),this.uuid=rc(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},a=this.data;if(a!==null){let i;if(Array.isArray(a)){i=[];for(let s=0,o=a.length;s<o;s++)a[s].isDataTexture?i.push(k4(a[s].image)):i.push(k4(a[s]))}else i=k4(a);n.url=i}return t||(e.images[this.uuid]=n),n}}function k4(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?ene.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:($t("Texture: Unable to serialize Texture."),{})}let tCe=0;const P4=new Ee;class ii extends Rh{constructor(e=ii.DEFAULT_IMAGE,t=ii.DEFAULT_MAPPING,n=Tl,a=Tl,i=xi,s=oh,o=go,l=$c,c=ii.DEFAULT_ANISOTROPY,u=Rd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:tCe++}),this.uuid=rc(),this.name="",this.source=new C0(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=a,this.magFilter=i,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new St(0,0),this.repeat=new St(1,1),this.center=new St(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new en,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(P4).x}get height(){return this.source.getSize(P4).y}get depth(){return this.source.getSize(P4).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){$t(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){$t(`Texture.setValues(): property '${t}' does not exist.`);continue}a&&n&&a.isVector2&&n.isVector2||a&&n&&a.isVector3&&n.isVector3||a&&n&&a.isMatrix3&&n.isMatrix3?a.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==nI)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case dT:e.x=e.x-Math.floor(e.x);break;case Tl:e.x=e.x<0?0:1;break;case pT:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case dT:e.y=e.y-Math.floor(e.y);break;case Tl:e.y=e.y<0?0:1;break;case pT:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ii.DEFAULT_IMAGE=null;ii.DEFAULT_MAPPING=nI;ii.DEFAULT_ANISOTROPY=1;class Un{constructor(e=0,t=0,n=0,a=1){Un.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,a){return this.x=e,this.y=t,this.z=n,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,a=this.z,i=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*a+s[12]*i,this.y=s[1]*t+s[5]*n+s[9]*a+s[13]*i,this.z=s[2]*t+s[6]*n+s[10]*a+s[14]*i,this.w=s[3]*t+s[7]*n+s[11]*a+s[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,a,i;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],d=l[5],v=l[9],g=l[2],m=l[6],y=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-g)<.01&&Math.abs(v-m)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+g)<.1&&Math.abs(v+m)<.1&&Math.abs(c+d+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,A=(d+1)/2,E=(y+1)/2,M=(u+h)/4,R=(f+g)/4,L=(v+m)/4;return S>A&&S>E?S<.01?(n=0,a=.707106781,i=.707106781):(n=Math.sqrt(S),a=M/n,i=R/n):A>E?A<.01?(n=.707106781,a=0,i=.707106781):(a=Math.sqrt(A),n=M/a,i=L/a):E<.01?(n=.707106781,a=.707106781,i=0):(i=Math.sqrt(E),n=R/i,a=L/i),this.set(n,a,i,t),this}let b=Math.sqrt((m-v)*(m-v)+(f-g)*(f-g)+(h-u)*(h-u));return Math.abs(b)<.001&&(b=1),this.x=(m-v)/b,this.y=(f-g)/b,this.z=(h-u)/b,this.w=Math.acos((c+d+y-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Br(this.x,e.x,t.x),this.y=Br(this.y,e.y,t.y),this.z=Br(this.z,e.z,t.z),this.w=Br(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Br(this.x,e,t),this.y=Br(this.y,e,t),this.z=Br(this.z,e,t),this.w=Br(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Br(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class xz extends Rh{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:xi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Un(0,0,e,t),this.scissorTest=!1,this.viewport=new Un(0,0,e,t);const a={width:e,height:t,depth:n.depth},i=new ii(a);this.textures=[];const s=n.count;for(let o=0;o<s;o++)this.textures[o]=i.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:xi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let a=0,i=this.textures.length;a<i;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=n,this.textures[a].isData3DTexture!==!0&&(this.textures[a].isArrayTexture=this.textures[a].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new C0(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bh extends xz{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class hI extends ii{constructor(e=null,t=1,n=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:a},this.magFilter=zs,this.minFilter=zs,this.wrapR=Tl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class rCe extends bh{constructor(e=1,t=1,n=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new hI(null,e,t,n),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class dI extends ii{constructor(e=null,t=1,n=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:a},this.magFilter=zs,this.minFilter=zs,this.wrapR=Tl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nCe extends bh{constructor(e=1,t=1,n=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new dI(null,e,t,n),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class xo{constructor(e=new Ee(1/0,1/0,1/0),t=new Ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Iu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Iu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Iu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const i=n.getAttribute("position");if(t===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=i.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Iu):Iu.fromBufferAttribute(i,s),Iu.applyMatrix4(e.matrixWorld),this.expandByPoint(Iu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),PM.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),PM.copy(n.boundingBox)),PM.applyMatrix4(e.matrixWorld),this.union(PM)}const a=e.children;for(let i=0,s=a.length;i<s;i++)this.expandByObject(a[i],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Iu),Iu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(KS),BM.subVectors(this.max,KS),Ox.subVectors(e.a,KS),kx.subVectors(e.b,KS),Px.subVectors(e.c,KS),e0.subVectors(kx,Ox),t0.subVectors(Px,kx),fg.subVectors(Ox,Px);let t=[0,-e0.z,e0.y,0,-t0.z,t0.y,0,-fg.z,fg.y,e0.z,0,-e0.x,t0.z,0,-t0.x,fg.z,0,-fg.x,-e0.y,e0.x,0,-t0.y,t0.x,0,-fg.y,fg.x,0];return!B4(t,Ox,kx,Px,BM)||(t=[1,0,0,0,1,0,0,0,1],!B4(t,Ox,kx,Px,BM))?!1:(zM.crossVectors(e0,t0),t=[zM.x,zM.y,zM.z],B4(t,Ox,kx,Px,BM))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Iu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Iu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const fd=[new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee],Iu=new Ee,PM=new xo,Ox=new Ee,kx=new Ee,Px=new Ee,e0=new Ee,t0=new Ee,fg=new Ee,KS=new Ee,BM=new Ee,zM=new Ee,hg=new Ee;function B4(r,e,t,n,a){for(let i=0,s=r.length-3;i<=s;i+=3){hg.fromArray(r,i);const o=a.x*Math.abs(hg.x)+a.y*Math.abs(hg.y)+a.z*Math.abs(hg.z),l=e.dot(hg),c=t.dot(hg),u=n.dot(hg);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const aCe=new xo,$S=new Ee,z4=new Ee;class Fs{constructor(e=new Ee,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):aCe.setFromPoints(e).getCenter(n);let a=0;for(let i=0,s=e.length;i<s;i++)a=Math.max(a,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;$S.subVectors(e,this.center);const t=$S.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),a=(n-this.radius)*.5;this.center.addScaledVector($S,a/n),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(z4.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint($S.copy(e.center).add(z4)),this.expandByPoint($S.copy(e.center).sub(z4))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const hd=new Ee,F4=new Ee,FM=new Ee,r0=new Ee,U4=new Ee,UM=new Ee,V4=new Ee;class fy{constructor(e=new Ee,t=new Ee(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,hd)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=hd.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(hd.copy(this.origin).addScaledVector(this.direction,t),hd.distanceToSquared(e))}distanceSqToSegment(e,t,n,a){F4.copy(e).add(t).multiplyScalar(.5),FM.copy(t).sub(e).normalize(),r0.copy(this.origin).sub(F4);const i=e.distanceTo(t)*.5,s=-this.direction.dot(FM),o=r0.dot(this.direction),l=-r0.dot(FM),c=r0.lengthSq(),u=Math.abs(1-s*s);let f,h,d,v;if(u>0)if(f=s*l-o,h=s*o-l,v=i*u,f>=0)if(h>=-v)if(h<=v){const g=1/u;f*=g,h*=g,d=f*(f+s*h+2*o)+h*(s*f+h+2*l)+c}else h=i,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+c;else h=-i,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+c;else h<=-v?(f=Math.max(0,-(-s*i+o)),h=f>0?-i:Math.min(Math.max(-i,-l),i),d=-f*f+h*(h+2*l)+c):h<=v?(f=0,h=Math.min(Math.max(-i,-l),i),d=h*(h+2*l)+c):(f=Math.max(0,-(s*i+o)),h=f>0?i:Math.min(Math.max(-i,-l),i),d=-f*f+h*(h+2*l)+c);else h=s>0?-i:i,f=Math.max(0,-(s*h+o)),d=-f*f+h*(h+2*l)+c;return n&&n.copy(this.origin).addScaledVector(this.direction,f),a&&a.copy(F4).addScaledVector(FM,h),d}intersectSphere(e,t){hd.subVectors(e.center,this.origin);const n=hd.dot(this.direction),a=hd.dot(hd)-n*n,i=e.radius*e.radius;if(a>i)return null;const s=Math.sqrt(i-a),o=n-s,l=n+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,a,i,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,a=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,a=(e.min.x-h.x)*c),u>=0?(i=(e.min.y-h.y)*u,s=(e.max.y-h.y)*u):(i=(e.max.y-h.y)*u,s=(e.min.y-h.y)*u),n>s||i>a||((i>n||isNaN(n))&&(n=i),(s<a||isNaN(a))&&(a=s),f>=0?(o=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(o=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),n>l||o>a)||((o>n||n!==n)&&(n=o),(l<a||a!==a)&&(a=l),a<0)?null:this.at(n>=0?n:a,t)}intersectsBox(e){return this.intersectBox(e,hd)!==null}intersectTriangle(e,t,n,a,i){U4.subVectors(t,e),UM.subVectors(n,e),V4.crossVectors(U4,UM);let s=this.direction.dot(V4),o;if(s>0){if(a)return null;o=1}else if(s<0)o=-1,s=-s;else return null;r0.subVectors(this.origin,e);const l=o*this.direction.dot(UM.crossVectors(r0,UM));if(l<0)return null;const c=o*this.direction.dot(U4.cross(r0));if(c<0||l+c>s)return null;const u=-o*r0.dot(V4);return u<0?null:this.at(u/s,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Vr{constructor(e,t,n,a,i,s,o,l,c,u,f,h,d,v,g,m){Vr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,a,i,s,o,l,c,u,f,h,d,v,g,m)}set(e,t,n,a,i,s,o,l,c,u,f,h,d,v,g,m){const y=this.elements;return y[0]=e,y[4]=t,y[8]=n,y[12]=a,y[1]=i,y[5]=s,y[9]=o,y[13]=l,y[2]=c,y[6]=u,y[10]=f,y[14]=h,y[3]=d,y[7]=v,y[11]=g,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Vr().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,a=1/Bx.setFromMatrixColumn(e,0).length(),i=1/Bx.setFromMatrixColumn(e,1).length(),s=1/Bx.setFromMatrixColumn(e,2).length();return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,a=e.y,i=e.z,s=Math.cos(n),o=Math.sin(n),l=Math.cos(a),c=Math.sin(a),u=Math.cos(i),f=Math.sin(i);if(e.order==="XYZ"){const h=s*u,d=s*f,v=o*u,g=o*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=d+v*c,t[5]=h-g*c,t[9]=-o*l,t[2]=g-h*c,t[6]=v+d*c,t[10]=s*l}else if(e.order==="YXZ"){const h=l*u,d=l*f,v=c*u,g=c*f;t[0]=h+g*o,t[4]=v*o-d,t[8]=s*c,t[1]=s*f,t[5]=s*u,t[9]=-o,t[2]=d*o-v,t[6]=g+h*o,t[10]=s*l}else if(e.order==="ZXY"){const h=l*u,d=l*f,v=c*u,g=c*f;t[0]=h-g*o,t[4]=-s*f,t[8]=v+d*o,t[1]=d+v*o,t[5]=s*u,t[9]=g-h*o,t[2]=-s*c,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const h=s*u,d=s*f,v=o*u,g=o*f;t[0]=l*u,t[4]=v*c-d,t[8]=h*c+g,t[1]=l*f,t[5]=g*c+h,t[9]=d*c-v,t[2]=-c,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const h=s*l,d=s*c,v=o*l,g=o*c;t[0]=l*u,t[4]=g-h*f,t[8]=v*f+d,t[1]=f,t[5]=s*u,t[9]=-o*u,t[2]=-c*u,t[6]=d*f+v,t[10]=h-g*f}else if(e.order==="XZY"){const h=s*l,d=s*c,v=o*l,g=o*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=h*f+g,t[5]=s*u,t[9]=d*f-v,t[2]=v*f-d,t[6]=o*u,t[10]=g*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(iCe,e,sCe)}lookAt(e,t,n){const a=this.elements;return Vl.subVectors(e,t),Vl.lengthSq()===0&&(Vl.z=1),Vl.normalize(),n0.crossVectors(n,Vl),n0.lengthSq()===0&&(Math.abs(n.z)===1?Vl.x+=1e-4:Vl.z+=1e-4,Vl.normalize(),n0.crossVectors(n,Vl)),n0.normalize(),VM.crossVectors(Vl,n0),a[0]=n0.x,a[4]=VM.x,a[8]=Vl.x,a[1]=n0.y,a[5]=VM.y,a[9]=Vl.y,a[2]=n0.z,a[6]=VM.z,a[10]=Vl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,a=t.elements,i=this.elements,s=n[0],o=n[4],l=n[8],c=n[12],u=n[1],f=n[5],h=n[9],d=n[13],v=n[2],g=n[6],m=n[10],y=n[14],b=n[3],S=n[7],A=n[11],E=n[15],M=a[0],R=a[4],L=a[8],I=a[12],O=a[1],P=a[5],k=a[9],U=a[13],F=a[2],q=a[6],H=a[10],Z=a[14],X=a[3],Y=a[7],re=a[11],W=a[15];return i[0]=s*M+o*O+l*F+c*X,i[4]=s*R+o*P+l*q+c*Y,i[8]=s*L+o*k+l*H+c*re,i[12]=s*I+o*U+l*Z+c*W,i[1]=u*M+f*O+h*F+d*X,i[5]=u*R+f*P+h*q+d*Y,i[9]=u*L+f*k+h*H+d*re,i[13]=u*I+f*U+h*Z+d*W,i[2]=v*M+g*O+m*F+y*X,i[6]=v*R+g*P+m*q+y*Y,i[10]=v*L+g*k+m*H+y*re,i[14]=v*I+g*U+m*Z+y*W,i[3]=b*M+S*O+A*F+E*X,i[7]=b*R+S*P+A*q+E*Y,i[11]=b*L+S*k+A*H+E*re,i[15]=b*I+S*U+A*Z+E*W,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],a=e[8],i=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],d=e[14],v=e[3],g=e[7],m=e[11],y=e[15];return v*(+i*l*f-a*c*f-i*o*h+n*c*h+a*o*d-n*l*d)+g*(+t*l*d-t*c*h+i*s*h-a*s*d+a*c*u-i*l*u)+m*(+t*c*f-t*o*d-i*s*f+n*s*d+i*o*u-n*c*u)+y*(-a*o*u-t*l*f+t*o*h+a*s*f-n*s*h+n*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],a=e[2],i=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],v=e[12],g=e[13],m=e[14],y=e[15],b=f*m*c-g*h*c+g*l*d-o*m*d-f*l*y+o*h*y,S=v*h*c-u*m*c-v*l*d+s*m*d+u*l*y-s*h*y,A=u*g*c-v*f*c+v*o*d-s*g*d-u*o*y+s*f*y,E=v*f*l-u*g*l-v*o*h+s*g*h+u*o*m-s*f*m,M=t*b+n*S+a*A+i*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/M;return e[0]=b*R,e[1]=(g*h*i-f*m*i-g*a*d+n*m*d+f*a*y-n*h*y)*R,e[2]=(o*m*i-g*l*i+g*a*c-n*m*c-o*a*y+n*l*y)*R,e[3]=(f*l*i-o*h*i-f*a*c+n*h*c+o*a*d-n*l*d)*R,e[4]=S*R,e[5]=(u*m*i-v*h*i+v*a*d-t*m*d-u*a*y+t*h*y)*R,e[6]=(v*l*i-s*m*i-v*a*c+t*m*c+s*a*y-t*l*y)*R,e[7]=(s*h*i-u*l*i+u*a*c-t*h*c-s*a*d+t*l*d)*R,e[8]=A*R,e[9]=(v*f*i-u*g*i-v*n*d+t*g*d+u*n*y-t*f*y)*R,e[10]=(s*g*i-v*o*i+v*n*c-t*g*c-s*n*y+t*o*y)*R,e[11]=(u*o*i-s*f*i-u*n*c+t*f*c+s*n*d-t*o*d)*R,e[12]=E*R,e[13]=(u*g*a-v*f*a+v*n*h-t*g*h-u*n*m+t*f*m)*R,e[14]=(v*o*a-s*g*a-v*n*l+t*g*l+s*n*m-t*o*m)*R,e[15]=(s*f*a-u*o*a+u*n*l-t*f*l-s*n*h+t*o*h)*R,this}scale(e){const t=this.elements,n=e.x,a=e.y,i=e.z;return t[0]*=n,t[4]*=a,t[8]*=i,t[1]*=n,t[5]*=a,t[9]*=i,t[2]*=n,t[6]*=a,t[10]*=i,t[3]*=n,t[7]*=a,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,a))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),a=Math.sin(t),i=1-n,s=e.x,o=e.y,l=e.z,c=i*s,u=i*o;return this.set(c*s+n,c*o-a*l,c*l+a*o,0,c*o+a*l,u*o+n,u*l-a*s,0,c*l-a*o,u*l+a*s,i*l*l+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,a,i,s){return this.set(1,n,i,0,e,1,s,0,t,a,1,0,0,0,0,1),this}compose(e,t,n){const a=this.elements,i=t._x,s=t._y,o=t._z,l=t._w,c=i+i,u=s+s,f=o+o,h=i*c,d=i*u,v=i*f,g=s*u,m=s*f,y=o*f,b=l*c,S=l*u,A=l*f,E=n.x,M=n.y,R=n.z;return a[0]=(1-(g+y))*E,a[1]=(d+A)*E,a[2]=(v-S)*E,a[3]=0,a[4]=(d-A)*M,a[5]=(1-(h+y))*M,a[6]=(m+b)*M,a[7]=0,a[8]=(v+S)*R,a[9]=(m-b)*R,a[10]=(1-(h+g))*R,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,n){const a=this.elements;let i=Bx.set(a[0],a[1],a[2]).length();const s=Bx.set(a[4],a[5],a[6]).length(),o=Bx.set(a[8],a[9],a[10]).length();this.determinant()<0&&(i=-i),e.x=a[12],e.y=a[13],e.z=a[14],Lu.copy(this);const c=1/i,u=1/s,f=1/o;return Lu.elements[0]*=c,Lu.elements[1]*=c,Lu.elements[2]*=c,Lu.elements[4]*=u,Lu.elements[5]*=u,Lu.elements[6]*=u,Lu.elements[8]*=f,Lu.elements[9]*=f,Lu.elements[10]*=f,t.setFromRotationMatrix(Lu),n.x=i,n.y=s,n.z=o,this}makePerspective(e,t,n,a,i,s,o=$l,l=!1){const c=this.elements,u=2*i/(t-e),f=2*i/(n-a),h=(t+e)/(t-e),d=(n+a)/(n-a);let v,g;if(l)v=i/(s-i),g=s*i/(s-i);else if(o===$l)v=-(s+i)/(s-i),g=-2*s*i/(s-i);else if(o===p_)v=-s/(s-i),g=-s*i/(s-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=f,c[9]=d,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=g,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,a,i,s,o=$l,l=!1){const c=this.elements,u=2/(t-e),f=2/(n-a),h=-(t+e)/(t-e),d=-(n+a)/(n-a);let v,g;if(l)v=1/(s-i),g=s/(s-i);else if(o===$l)v=-2/(s-i),g=-(s+i)/(s-i);else if(o===p_)v=-1/(s-i),g=-i/(s-i);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=0,c[12]=h,c[1]=0,c[5]=f,c[9]=0,c[13]=d,c[2]=0,c[6]=0,c[10]=v,c[14]=g,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let a=0;a<16;a++)if(t[a]!==n[a])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Bx=new Ee,Lu=new Vr,iCe=new Ee(0,0,0),sCe=new Ee(1,1,1),n0=new Ee,VM=new Ee,Vl=new Ee,RG=new Vr,NG=new yo;class sc{constructor(e=0,t=0,n=0,a=sc.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,a=this._order){return this._x=e,this._y=t,this._z=n,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const a=e.elements,i=a[0],s=a[4],o=a[8],l=a[1],c=a[5],u=a[9],f=a[2],h=a[6],d=a[10];switch(t){case"XYZ":this._y=Math.asin(Br(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-s,i)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Br(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,i),this._z=0);break;case"ZXY":this._x=Math.asin(Br(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,i));break;case"ZYX":this._y=Math.asin(-Br(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,i)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Br(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Br(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,d),this._y=0);break;default:$t("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return RG.makeRotationFromQuaternion(e),this.setFromRotationMatrix(RG,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return NG.setFromEuler(this),this.setFromQuaternion(NG,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}sc.DEFAULT_ORDER="XYZ";class m_{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let oCe=0;const IG=new Ee,zx=new yo,dd=new Vr,HM=new Ee,JS=new Ee,lCe=new Ee,cCe=new yo,LG=new Ee(1,0,0),OG=new Ee(0,1,0),kG=new Ee(0,0,1),PG={type:"added"},uCe={type:"removed"},Fx={type:"childadded",child:null},H4={type:"childremoved",child:null};class Bn extends Rh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:oCe++}),this.uuid=rc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bn.DEFAULT_UP.clone();const e=new Ee,t=new sc,n=new yo,a=new Ee(1,1,1);function i(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(i),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Vr},normalMatrix:{value:new en}}),this.matrix=new Vr,this.matrixWorld=new Vr,this.matrixAutoUpdate=Bn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new m_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return zx.setFromAxisAngle(e,t),this.quaternion.multiply(zx),this}rotateOnWorldAxis(e,t){return zx.setFromAxisAngle(e,t),this.quaternion.premultiply(zx),this}rotateX(e){return this.rotateOnAxis(LG,e)}rotateY(e){return this.rotateOnAxis(OG,e)}rotateZ(e){return this.rotateOnAxis(kG,e)}translateOnAxis(e,t){return IG.copy(e).applyQuaternion(this.quaternion),this.position.add(IG.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(LG,e)}translateY(e){return this.translateOnAxis(OG,e)}translateZ(e){return this.translateOnAxis(kG,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(dd.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?HM.copy(e):HM.set(e,t,n);const a=this.parent;this.updateWorldMatrix(!0,!1),JS.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dd.lookAt(JS,HM,this.up):dd.lookAt(HM,JS,this.up),this.quaternion.setFromRotationMatrix(dd),a&&(dd.extractRotation(a.matrixWorld),zx.setFromRotationMatrix(dd),this.quaternion.premultiply(zx.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Gr("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(PG),Fx.child=e,this.dispatchEvent(Fx),Fx.child=null):Gr("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(uCe),H4.child=e,this.dispatchEvent(H4),H4.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),dd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),dd.multiply(e.parent.matrixWorld)),e.applyMatrix4(dd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(PG),Fx.child=e,this.dispatchEvent(Fx),Fx.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,a=this.children.length;n<a;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const a=this.children;for(let i=0,s=a.length;i<s;i++)a[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(JS,e,lCe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(JS,cCe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,a=t.length;n<a;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,a=t.length;n<a;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,a=t.length;n<a;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let i=0,s=a.length;i<s;i++)a[i].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(o=>({...o})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function i(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=i(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];i(e.shapes,f)}else i(e.shapes,l)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(i(e.materials,this.material[l]));a.material=o}else a.material=i(e.materials,this.material);if(this.children.length>0){a.children=[];for(let o=0;o<this.children.length;o++)a.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];a.animations.push(i(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),f=s(e.shapes),h=s(e.skeletons),d=s(e.animations),v=s(e.nodes);o.length>0&&(n.geometries=o),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),f.length>0&&(n.shapes=f),h.length>0&&(n.skeletons=h),d.length>0&&(n.animations=d),v.length>0&&(n.nodes=v)}return n.object=a,n;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const a=e.children[n];this.add(a.clone())}return this}}Bn.DEFAULT_UP=new Ee(0,1,0);Bn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ou=new Ee,pd=new Ee,G4=new Ee,vd=new Ee,Ux=new Ee,Vx=new Ee,BG=new Ee,j4=new Ee,W4=new Ee,Y4=new Ee,X4=new Un,q4=new Un,Z4=new Un;let w0=class N1{constructor(e=new Ee,t=new Ee,n=new Ee){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,a){a.subVectors(n,t),Ou.subVectors(e,t),a.cross(Ou);const i=a.lengthSq();return i>0?a.multiplyScalar(1/Math.sqrt(i)):a.set(0,0,0)}static getBarycoord(e,t,n,a,i){Ou.subVectors(a,t),pd.subVectors(n,t),G4.subVectors(e,t);const s=Ou.dot(Ou),o=Ou.dot(pd),l=Ou.dot(G4),c=pd.dot(pd),u=pd.dot(G4),f=s*c-o*o;if(f===0)return i.set(0,0,0),null;const h=1/f,d=(c*l-o*u)*h,v=(s*u-o*l)*h;return i.set(1-d-v,v,d)}static containsPoint(e,t,n,a){return this.getBarycoord(e,t,n,a,vd)===null?!1:vd.x>=0&&vd.y>=0&&vd.x+vd.y<=1}static getInterpolation(e,t,n,a,i,s,o,l){return this.getBarycoord(e,t,n,a,vd)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(i,vd.x),l.addScaledVector(s,vd.y),l.addScaledVector(o,vd.z),l)}static getInterpolatedAttribute(e,t,n,a,i,s){return X4.setScalar(0),q4.setScalar(0),Z4.setScalar(0),X4.fromBufferAttribute(e,t),q4.fromBufferAttribute(e,n),Z4.fromBufferAttribute(e,a),s.setScalar(0),s.addScaledVector(X4,i.x),s.addScaledVector(q4,i.y),s.addScaledVector(Z4,i.z),s}static isFrontFacing(e,t,n,a){return Ou.subVectors(n,t),pd.subVectors(e,t),Ou.cross(pd).dot(a)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,a){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,n,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ou.subVectors(this.c,this.b),pd.subVectors(this.a,this.b),Ou.cross(pd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return N1.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return N1.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,a,i){return N1.getInterpolation(e,this.a,this.b,this.c,t,n,a,i)}containsPoint(e){return N1.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return N1.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,a=this.b,i=this.c;let s,o;Ux.subVectors(a,n),Vx.subVectors(i,n),j4.subVectors(e,n);const l=Ux.dot(j4),c=Vx.dot(j4);if(l<=0&&c<=0)return t.copy(n);W4.subVectors(e,a);const u=Ux.dot(W4),f=Vx.dot(W4);if(u>=0&&f<=u)return t.copy(a);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(n).addScaledVector(Ux,s);Y4.subVectors(e,i);const d=Ux.dot(Y4),v=Vx.dot(Y4);if(v>=0&&d<=v)return t.copy(i);const g=d*c-l*v;if(g<=0&&c>=0&&v<=0)return o=c/(c-v),t.copy(n).addScaledVector(Vx,o);const m=u*v-d*f;if(m<=0&&f-u>=0&&d-v>=0)return BG.subVectors(i,a),o=(f-u)/(f-u+(d-v)),t.copy(a).addScaledVector(BG,o);const y=1/(m+g+h);return s=g*y,o=h*y,t.copy(n).addScaledVector(Ux,s).addScaledVector(Vx,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}};const tne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},a0={h:0,s:0,l:0},GM={h:0,s:0,l:0};function K4(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class Jt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=fo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Nn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,a=Nn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Nn.colorSpaceToWorking(this,a),this}setHSL(e,t,n,a=Nn.workingColorSpace){if(e=yz(e,1),t=Br(t,0,1),n=Br(n,0,1),t===0)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,s=2*n-i;this.r=K4(s,i,e+1/3),this.g=K4(s,i,e),this.b=K4(s,i,e-1/3)}return Nn.colorSpaceToWorking(this,a),this}setStyle(e,t=fo){function n(i){i!==void 0&&parseFloat(i)<1&&$t("Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const s=a[1],o=a[2];switch(s){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,t);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,t);break;default:$t("Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=a[1],s=i.length;if(s===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(i,16),t);$t("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=fo){const n=tne[e.toLowerCase()];return n!==void 0?this.setHex(n,t):$t("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Hd(e.r),this.g=Hd(e.g),this.b=Hd(e.b),this}copyLinearToSRGB(e){return this.r=Q1(e.r),this.g=Q1(e.g),this.b=Q1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fo){return Nn.workingToColorSpace(io.copy(this),e),Math.round(Br(io.r*255,0,255))*65536+Math.round(Br(io.g*255,0,255))*256+Math.round(Br(io.b*255,0,255))}getHexString(e=fo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Nn.workingColorSpace){Nn.workingToColorSpace(io.copy(this),t);const n=io.r,a=io.g,i=io.b,s=Math.max(n,a,i),o=Math.min(n,a,i);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const f=s-o;switch(c=u<=.5?f/(s+o):f/(2-s-o),s){case n:l=(a-i)/f+(a<i?6:0);break;case a:l=(i-n)/f+2;break;case i:l=(n-a)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Nn.workingColorSpace){return Nn.workingToColorSpace(io.copy(this),t),e.r=io.r,e.g=io.g,e.b=io.b,e}getStyle(e=fo){Nn.workingToColorSpace(io.copy(this),e);const t=io.r,n=io.g,a=io.b;return e!==fo?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(a*255)})`}offsetHSL(e,t,n){return this.getHSL(a0),this.setHSL(a0.h+e,a0.s+t,a0.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(a0),e.getHSL(GM);const n=Rw(a0.h,GM.h,t),a=Rw(a0.s,GM.s,t),i=Rw(a0.l,GM.l,t);return this.setHSL(n,a,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,a=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*a,this.g=i[1]*t+i[4]*n+i[7]*a,this.b=i[2]*t+i[5]*n+i[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const io=new Jt;Jt.NAMES=tne;let fCe=0;class To extends Rh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:fCe++}),this.uuid=rc(),this.name="",this.type="Material",this.blending=Mm,this.side=$d,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=FD,this.blendDst=UD,this.blendEquation=S0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Jt(0,0,0),this.blendAlpha=0,this.depthFunc=Vm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=FP,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=em,this.stencilZFail=em,this.stencilZPass=em,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){$t(`Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){$t(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(n):a&&a.isVector3&&n&&n.isVector3?a.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Mm&&(n.blending=this.blending),this.side!==$d&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==FD&&(n.blendSrc=this.blendSrc),this.blendDst!==UD&&(n.blendDst=this.blendDst),this.blendEquation!==S0&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Vm&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==FP&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==em&&(n.stencilFail=this.stencilFail),this.stencilZFail!==em&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==em&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function a(i){const s=[];for(const o in i){const l=i[o];delete l.metadata,s.push(l)}return s}if(t){const i=a(e.textures),s=a(e.images);i.length>0&&(n.textures=i),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const a=t.length;n=new Array(a);for(let i=0;i!==a;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class uv extends To{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sc,this.combine=SA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Nd=hCe();function hCe(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),a=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(n[l]=0,n[l|256]=32768,a[l]=24,a[l|256]=24):c<-14?(n[l]=1024>>-c-14,n[l|256]=1024>>-c-14|32768,a[l]=-c-1,a[l|256]=-c-1):c<=15?(n[l]=c+15<<10,n[l|256]=c+15<<10|32768,a[l]=13,a[l|256]=13):c<128?(n[l]=31744,n[l|256]=64512,a[l]=24,a[l|256]=24):(n[l]=31744,n[l|256]=64512,a[l]=13,a[l|256]=13)}const i=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;(c&8388608)===0;)c<<=1,u-=8388608;c&=-8388609,u+=947912704,i[l]=c|u}for(let l=1024;l<2048;++l)i[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:a,mantissaTable:i,exponentTable:s,offsetTable:o}}function yl(r){Math.abs(r)>65504&&$t("DataUtils.toHalfFloat(): Value out of range."),r=Br(r,-65504,65504),Nd.floatView[0]=r;const e=Nd.uint32View[0],t=e>>23&511;return Nd.baseTable[t]+((e&8388607)>>Nd.shiftTable[t])}function Z2(r){const e=r>>10;return Nd.uint32View[0]=Nd.mantissaTable[Nd.offsetTable[e]+(r&1023)]+Nd.exponentTable[e],Nd.floatView[0]}class dCe{static toHalfFloat(e){return yl(e)}static fromHalfFloat(e){return Z2(e)}}const Di=new Ee,jM=new St;let pCe=0;class va{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:pCe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=yT,this.updateRanges=[],this.gpuType=Al,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let a=0,i=this.itemSize;a<i;a++)this.array[e+a]=t.array[n+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)jM.fromBufferAttribute(this,t),jM.applyMatrix3(e),this.setXY(t,jM.x,jM.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Di.fromBufferAttribute(this,t),Di.applyMatrix3(e),this.setXYZ(t,Di.x,Di.y,Di.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Di.fromBufferAttribute(this,t),Di.applyMatrix4(e),this.setXYZ(t,Di.x,Di.y,Di.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Di.fromBufferAttribute(this,t),Di.applyNormalMatrix(e),this.setXYZ(t,Di.x,Di.y,Di.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Di.fromBufferAttribute(this,t),Di.transformDirection(e),this.setXYZ(t,Di.x,Di.y,Di.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Ko(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=rn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ko(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ko(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ko(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ko(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,a){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),a=rn(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=a,this}setXYZW(e,t,n,a,i){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),a=rn(a,this.array),i=rn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=a,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==yT&&(e.usage=this.usage),e}}class vCe extends va{constructor(e,t,n){super(new Int8Array(e),t,n)}}class gCe extends va{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class mCe extends va{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class yCe extends va{constructor(e,t,n){super(new Int16Array(e),t,n)}}class _z extends va{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class xCe extends va{constructor(e,t,n){super(new Int32Array(e),t,n)}}class bz extends va{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class _Ce extends va{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Z2(this.array[e*this.itemSize]);return this.normalized&&(t=Ko(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=yl(t),this}getY(e){let t=Z2(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ko(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=yl(t),this}getZ(e){let t=Z2(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ko(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=yl(t),this}getW(e){let t=Z2(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ko(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=yl(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array)),this.array[e+0]=yl(t),this.array[e+1]=yl(n),this}setXYZ(e,t,n,a){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),a=rn(a,this.array)),this.array[e+0]=yl(t),this.array[e+1]=yl(n),this.array[e+2]=yl(a),this}setXYZW(e,t,n,a,i){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),a=rn(a,this.array),i=rn(i,this.array)),this.array[e+0]=yl(t),this.array[e+1]=yl(n),this.array[e+2]=yl(a),this.array[e+3]=yl(i),this}}class fr extends va{constructor(e,t,n){super(new Float32Array(e),t,n)}}let bCe=0;const Lc=new Vr,$4=new Bn,Hx=new Ee,Hl=new xo,QS=new xo,vs=new Ee;class tn extends Rh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:bCe++}),this.uuid=rc(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Jre(e)?bz:_z)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const i=new en().getNormalMatrix(e);n.applyNormalMatrix(i),n.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Lc.makeRotationFromQuaternion(e),this.applyMatrix4(Lc),this}rotateX(e){return Lc.makeRotationX(e),this.applyMatrix4(Lc),this}rotateY(e){return Lc.makeRotationY(e),this.applyMatrix4(Lc),this}rotateZ(e){return Lc.makeRotationZ(e),this.applyMatrix4(Lc),this}translate(e,t,n){return Lc.makeTranslation(e,t,n),this.applyMatrix4(Lc),this}scale(e,t,n){return Lc.makeScale(e,t,n),this.applyMatrix4(Lc),this}lookAt(e){return $4.lookAt(e),$4.updateMatrix(),this.applyMatrix4($4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hx).negate(),this.translate(Hx.x,Hx.y,Hx.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let a=0,i=e.length;a<i;a++){const s=e[a];n.push(s.x,s.y,s.z||0)}this.setAttribute("position",new fr(n,3))}else{const n=Math.min(e.length,t.count);for(let a=0;a<n;a++){const i=e[a];t.setXYZ(a,i.x,i.y,i.z||0)}e.length>t.count&&$t("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Gr("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Ee(-1/0,-1/0,-1/0),new Ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,a=t.length;n<a;n++){const i=t[n];Hl.setFromBufferAttribute(i),this.morphTargetsRelative?(vs.addVectors(this.boundingBox.min,Hl.min),this.boundingBox.expandByPoint(vs),vs.addVectors(this.boundingBox.max,Hl.max),this.boundingBox.expandByPoint(vs)):(this.boundingBox.expandByPoint(Hl.min),this.boundingBox.expandByPoint(Hl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Gr('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Gr("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Ee,1/0);return}if(e){const n=this.boundingSphere.center;if(Hl.setFromBufferAttribute(e),t)for(let i=0,s=t.length;i<s;i++){const o=t[i];QS.setFromBufferAttribute(o),this.morphTargetsRelative?(vs.addVectors(Hl.min,QS.min),Hl.expandByPoint(vs),vs.addVectors(Hl.max,QS.max),Hl.expandByPoint(vs)):(Hl.expandByPoint(QS.min),Hl.expandByPoint(QS.max))}Hl.getCenter(n);let a=0;for(let i=0,s=e.count;i<s;i++)vs.fromBufferAttribute(e,i),a=Math.max(a,n.distanceToSquared(vs));if(t)for(let i=0,s=t.length;i<s;i++){const o=t[i],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)vs.fromBufferAttribute(o,c),l&&(Hx.fromBufferAttribute(e,c),vs.add(Hx)),a=Math.max(a,n.distanceToSquared(vs))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&Gr('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Gr("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,a=t.normal,i=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new va(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let L=0;L<n.count;L++)o[L]=new Ee,l[L]=new Ee;const c=new Ee,u=new Ee,f=new Ee,h=new St,d=new St,v=new St,g=new Ee,m=new Ee;function y(L,I,O){c.fromBufferAttribute(n,L),u.fromBufferAttribute(n,I),f.fromBufferAttribute(n,O),h.fromBufferAttribute(i,L),d.fromBufferAttribute(i,I),v.fromBufferAttribute(i,O),u.sub(c),f.sub(c),d.sub(h),v.sub(h);const P=1/(d.x*v.y-v.x*d.y);isFinite(P)&&(g.copy(u).multiplyScalar(v.y).addScaledVector(f,-d.y).multiplyScalar(P),m.copy(f).multiplyScalar(d.x).addScaledVector(u,-v.x).multiplyScalar(P),o[L].add(g),o[I].add(g),o[O].add(g),l[L].add(m),l[I].add(m),l[O].add(m))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let L=0,I=b.length;L<I;++L){const O=b[L],P=O.start,k=O.count;for(let U=P,F=P+k;U<F;U+=3)y(e.getX(U+0),e.getX(U+1),e.getX(U+2))}const S=new Ee,A=new Ee,E=new Ee,M=new Ee;function R(L){E.fromBufferAttribute(a,L),M.copy(E);const I=o[L];S.copy(I),S.sub(E.multiplyScalar(E.dot(I))).normalize(),A.crossVectors(M,I);const P=A.dot(l[L])<0?-1:1;s.setXYZW(L,S.x,S.y,S.z,P)}for(let L=0,I=b.length;L<I;++L){const O=b[L],P=O.start,k=O.count;for(let U=P,F=P+k;U<F;U+=3)R(e.getX(U+0)),R(e.getX(U+1)),R(e.getX(U+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new va(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let h=0,d=n.count;h<d;h++)n.setXYZ(h,0,0,0);const a=new Ee,i=new Ee,s=new Ee,o=new Ee,l=new Ee,c=new Ee,u=new Ee,f=new Ee;if(e)for(let h=0,d=e.count;h<d;h+=3){const v=e.getX(h+0),g=e.getX(h+1),m=e.getX(h+2);a.fromBufferAttribute(t,v),i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,m),u.subVectors(s,i),f.subVectors(a,i),u.cross(f),o.fromBufferAttribute(n,v),l.fromBufferAttribute(n,g),c.fromBufferAttribute(n,m),o.add(u),l.add(u),c.add(u),n.setXYZ(v,o.x,o.y,o.z),n.setXYZ(g,l.x,l.y,l.z),n.setXYZ(m,c.x,c.y,c.z)}else for(let h=0,d=t.count;h<d;h+=3)a.fromBufferAttribute(t,h+0),i.fromBufferAttribute(t,h+1),s.fromBufferAttribute(t,h+2),u.subVectors(s,i),f.subVectors(a,i),u.cross(f),n.setXYZ(h+0,u.x,u.y,u.z),n.setXYZ(h+1,u.x,u.y,u.z),n.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)vs.fromBufferAttribute(e,t),vs.normalize(),e.setXYZ(t,vs.x,vs.y,vs.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,f=o.normalized,h=new c.constructor(l.length*u);let d=0,v=0;for(let g=0,m=l.length;g<m;g++){o.isInterleavedBufferAttribute?d=l[g]*o.data.stride+o.offset:d=l[g]*u;for(let y=0;y<u;y++)h[v++]=c[d++]}return new va(h,u,f)}if(this.index===null)return $t("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new tn,n=this.index.array,a=this.attributes;for(const o in a){const l=a[o],c=e(l,n);t.setAttribute(o,c)}const i=this.morphAttributes;for(const o in i){const l=[],c=i[o];for(let u=0,f=c.length;u<f;u++){const h=c[u],d=e(h,n);l.push(d)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const a={};let i=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f];u.push(d.toJSON(e.data))}u.length>0&&(a[l]=u,i=!0)}i&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const a=e.attributes;for(const c in a){const u=a[c];this.setAttribute(c,u.clone(t))}const i=e.morphAttributes;for(const c in i){const u=[],f=i[c];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const f=s[c];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const zG=new Vr,dg=new fy,WM=new Fs,FG=new Ee,YM=new Ee,XM=new Ee,qM=new Ee,J4=new Ee,ZM=new Ee,UG=new Ee,KM=new Ee;class Qi extends Bn{constructor(e=new tn,t=new uv){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const a=t[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=a.length;i<s;i++){const o=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}getVertexPosition(e,t){const n=this.geometry,a=n.attributes.position,i=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(a,e);const o=this.morphTargetInfluences;if(i&&o){ZM.set(0,0,0);for(let l=0,c=i.length;l<c;l++){const u=o[l],f=i[l];u!==0&&(J4.fromBufferAttribute(f,e),s?ZM.addScaledVector(J4,u):ZM.addScaledVector(J4.sub(t),u))}t.add(ZM)}return t}raycast(e,t){const n=this.geometry,a=this.material,i=this.matrixWorld;a!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),WM.copy(n.boundingSphere),WM.applyMatrix4(i),dg.copy(e.ray).recast(e.near),!(WM.containsPoint(dg.origin)===!1&&(dg.intersectSphere(WM,FG)===null||dg.origin.distanceToSquared(FG)>(e.far-e.near)**2))&&(zG.copy(i).invert(),dg.copy(e.ray).applyMatrix4(zG),!(n.boundingBox!==null&&dg.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,dg)))}_computeIntersections(e,t,n){let a;const i=this.geometry,s=this.material,o=i.index,l=i.attributes.position,c=i.attributes.uv,u=i.attributes.uv1,f=i.attributes.normal,h=i.groups,d=i.drawRange;if(o!==null)if(Array.isArray(s))for(let v=0,g=h.length;v<g;v++){const m=h[v],y=s[m.materialIndex],b=Math.max(m.start,d.start),S=Math.min(o.count,Math.min(m.start+m.count,d.start+d.count));for(let A=b,E=S;A<E;A+=3){const M=o.getX(A),R=o.getX(A+1),L=o.getX(A+2);a=$M(this,y,e,n,c,u,f,M,R,L),a&&(a.faceIndex=Math.floor(A/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{const v=Math.max(0,d.start),g=Math.min(o.count,d.start+d.count);for(let m=v,y=g;m<y;m+=3){const b=o.getX(m),S=o.getX(m+1),A=o.getX(m+2);a=$M(this,s,e,n,c,u,f,b,S,A),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}else if(l!==void 0)if(Array.isArray(s))for(let v=0,g=h.length;v<g;v++){const m=h[v],y=s[m.materialIndex],b=Math.max(m.start,d.start),S=Math.min(l.count,Math.min(m.start+m.count,d.start+d.count));for(let A=b,E=S;A<E;A+=3){const M=A,R=A+1,L=A+2;a=$M(this,y,e,n,c,u,f,M,R,L),a&&(a.faceIndex=Math.floor(A/3),a.face.materialIndex=m.materialIndex,t.push(a))}}else{const v=Math.max(0,d.start),g=Math.min(l.count,d.start+d.count);for(let m=v,y=g;m<y;m+=3){const b=m,S=m+1,A=m+2;a=$M(this,s,e,n,c,u,f,b,S,A),a&&(a.faceIndex=Math.floor(m/3),t.push(a))}}}}function SCe(r,e,t,n,a,i,s,o){let l;if(e.side===Qo?l=n.intersectTriangle(s,i,a,!0,o):l=n.intersectTriangle(a,i,s,e.side===$d,o),l===null)return null;KM.copy(o),KM.applyMatrix4(r.matrixWorld);const c=t.ray.origin.distanceTo(KM);return c<t.near||c>t.far?null:{distance:c,point:KM.clone(),object:r}}function $M(r,e,t,n,a,i,s,o,l,c){r.getVertexPosition(o,YM),r.getVertexPosition(l,XM),r.getVertexPosition(c,qM);const u=SCe(r,e,t,n,YM,XM,qM,UG);if(u){const f=new Ee;w0.getBarycoord(UG,YM,XM,qM,f),a&&(u.uv=w0.getInterpolatedAttribute(a,o,l,c,f,new St)),i&&(u.uv1=w0.getInterpolatedAttribute(i,o,l,c,f,new St)),s&&(u.normal=w0.getInterpolatedAttribute(s,o,l,c,f,new Ee),u.normal.dot(n.direction)>0&&u.normal.multiplyScalar(-1));const h={a:o,b:l,c,normal:new Ee,materialIndex:0};w0.getNormal(YM,XM,qM,h.normal),u.face=h,u.barycoord=f}return u}class hy extends tn{constructor(e=1,t=1,n=1,a=1,i=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:a,heightSegments:i,depthSegments:s};const o=this;a=Math.floor(a),i=Math.floor(i),s=Math.floor(s);const l=[],c=[],u=[],f=[];let h=0,d=0;v("z","y","x",-1,-1,n,t,e,s,i,0),v("z","y","x",1,-1,n,t,-e,s,i,1),v("x","z","y",1,1,e,n,t,a,s,2),v("x","z","y",1,-1,e,n,-t,a,s,3),v("x","y","z",1,-1,e,t,n,a,i,4),v("x","y","z",-1,-1,e,t,-n,a,i,5),this.setIndex(l),this.setAttribute("position",new fr(c,3)),this.setAttribute("normal",new fr(u,3)),this.setAttribute("uv",new fr(f,2));function v(g,m,y,b,S,A,E,M,R,L,I){const O=A/R,P=E/L,k=A/2,U=E/2,F=M/2,q=R+1,H=L+1;let Z=0,X=0;const Y=new Ee;for(let re=0;re<H;re++){const W=re*P-U;for(let j=0;j<q;j++){const J=j*O-k;Y[g]=J*b,Y[m]=W*S,Y[y]=F,c.push(Y.x,Y.y,Y.z),Y[g]=0,Y[m]=0,Y[y]=M>0?1:-1,u.push(Y.x,Y.y,Y.z),f.push(j/R),f.push(1-re/L),Z+=1}}for(let re=0;re<L;re++)for(let W=0;W<R;W++){const j=h+W+q*re,J=h+W+q*(re+1),ee=h+(W+1)+q*(re+1),ae=h+(W+1)+q*re;l.push(j,J,ae),l.push(J,ee,ae),X+=6}o.addGroup(d,X,I),d+=X,h+=Z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hy(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function y_(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const a=r[t][n];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?($t("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=a.clone():Array.isArray(a)?e[t][n]=a.slice():e[t][n]=a}}return e}function jo(r){const e={};for(let t=0;t<r.length;t++){const n=y_(r[t]);for(const a in n)e[a]=n[a]}return e}function wCe(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function rne(r){const e=r.getRenderTarget();return e===null?r.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Nn.workingColorSpace}const nne={clone:y_,merge:jo};var TCe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ACe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class oc extends To{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=TCe,this.fragmentShader=ACe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=y_(e.uniforms),this.uniformsGroups=wCe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const s=this.uniforms[a].value;s&&s.isTexture?t.uniforms[a]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[a]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[a]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[a]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[a]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[a]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[a]={type:"m4",value:s.toArray()}:t.uniforms[a]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const a in this.extensions)this.extensions[a]===!0&&(n[a]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class pI extends Bn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Vr,this.projectionMatrix=new Vr,this.projectionMatrixInverse=new Vr,this.coordinateSystem=$l,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const i0=new Ee,VG=new St,HG=new St;class yi extends pI{constructor(e=50,t=1,n=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=g_*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Cm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return g_*2*Math.atan(Math.tan(Cm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){i0.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(i0.x,i0.y).multiplyScalar(-e/i0.z),i0.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(i0.x,i0.y).multiplyScalar(-e/i0.z)}getViewSize(e,t){return this.getViewBounds(e,VG,HG),t.subVectors(HG,VG)}setViewOffset(e,t,n,a,i,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=a,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Cm*.5*this.fov)/this.zoom,n=2*t,a=this.aspect*n,i=-.5*a;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;i+=s.offsetX*a/l,t-=s.offsetY*n/c,a*=s.width/l,n*=s.height/c}const o=this.filmOffset;o!==0&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+a,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Gx=-90,jx=1;class ane extends Bn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new yi(Gx,jx,e,t);a.layers=this.layers,this.add(a);const i=new yi(Gx,jx,e,t);i.layers=this.layers,this.add(i);const s=new yi(Gx,jx,e,t);s.layers=this.layers,this.add(s);const o=new yi(Gx,jx,e,t);o.layers=this.layers,this.add(o);const l=new yi(Gx,jx,e,t);l.layers=this.layers,this.add(l);const c=new yi(Gx,jx,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,a,i,s,o,l]=t;for(const c of t)this.remove(c);if(e===$l)n.up.set(0,1,0),n.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===p_)n.up.set(0,-1,0),n.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,l,c,u]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const g=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,a),e.render(t,i),e.setRenderTarget(n,1,a),e.render(t,s),e.setRenderTarget(n,2,a),e.render(t,o),e.setRenderTarget(n,3,a),e.render(t,l),e.setRenderTarget(n,4,a),e.render(t,c),n.texture.generateMipmaps=g,e.setRenderTarget(n,5,a),e.render(t,u),e.setRenderTarget(f,h,d),e.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class TA extends ii{constructor(e=[],t=Jd,n,a,i,s,o,l,c,u){super(e,t,n,a,i,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ine extends bh{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},a=[n,n,n,n,n,n];this.texture=new TA(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new hy(5,5,5),i=new oc({name:"CubemapFromEquirect",uniforms:y_(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Qo,blending:vh});i.uniforms.tEquirect.value=t;const s=new Qi(a,i),o=t.minFilter;return t.minFilter===oh&&(t.minFilter=xi),new ane(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,n=!0,a=!0){const i=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,a);e.setRenderTarget(i)}}let U1=class extends Bn{constructor(){super(),this.isGroup=!0,this.type="Group"}};const ECe={type:"move"};class X3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new U1,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new U1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new U1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let a=null,i=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const g of e.hand.values()){const m=t.getJointPose(g,n),y=this._getHandJoint(c,g);m!==null&&(y.matrix.fromArray(m.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=m.radius),y.visible=m!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),d=.02,v=.005;c.inputState.pinching&&h>d+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=d-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(a=t.getPose(e.targetRaySpace,n),a===null&&i!==null&&(a=i),a!==null&&(o.matrix.fromArray(a.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,a.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(a.linearVelocity)):o.hasLinearVelocity=!1,a.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(a.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(ECe)))}return o!==null&&(o.visible=a!==null),l!==null&&(l.visible=i!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new U1;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class vI{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Jt(e),this.density=t}clone(){return new vI(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class gI{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Jt(e),this.near=t,this.far=n}clone(){return new gI(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Sz extends Bn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new sc,this.environmentIntensity=1,this.environmentRotation=new sc,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class mI{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=yT,this.updateRanges=[],this.version=0,this.uuid=rc()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let a=0,i=this.stride;a<i;a++)this.array[e+a]=t.array[n+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ho=new Ee;class Hm{constructor(e,t,n,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Ho.fromBufferAttribute(this,t),Ho.applyMatrix4(e),this.setXYZ(t,Ho.x,Ho.y,Ho.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ho.fromBufferAttribute(this,t),Ho.applyNormalMatrix(e),this.setXYZ(t,Ho.x,Ho.y,Ho.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ho.fromBufferAttribute(this,t),Ho.transformDirection(e),this.setXYZ(t,Ho.x,Ho.y,Ho.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Ko(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ko(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ko(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ko(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ko(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),a=rn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=a,this}setXYZW(e,t,n,a,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),a=rn(a,this.array),i=rn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=a,this.data.array[e+3]=i,this}clone(e){if(e===void 0){_T("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)t.push(this.data.array[a+i])}return new va(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Hm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){_T("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)t.push(this.data.array[a+i])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class wz extends To{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Jt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Wx;const e2=new Ee,Yx=new Ee,Xx=new Ee,qx=new St,t2=new St,sne=new Vr,JM=new Ee,r2=new Ee,QM=new Ee,GG=new St,Q4=new St,jG=new St;class one extends Bn{constructor(e=new wz){if(super(),this.isSprite=!0,this.type="Sprite",Wx===void 0){Wx=new tn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new mI(t,5);Wx.setIndex([0,1,2,0,2,3]),Wx.setAttribute("position",new Hm(n,3,0,!1)),Wx.setAttribute("uv",new Hm(n,2,3,!1))}this.geometry=Wx,this.material=e,this.center=new St(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Gr('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Yx.setFromMatrixScale(this.matrixWorld),sne.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Xx.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Yx.multiplyScalar(-Xx.z);const n=this.material.rotation;let a,i;n!==0&&(i=Math.cos(n),a=Math.sin(n));const s=this.center;eC(JM.set(-.5,-.5,0),Xx,s,Yx,a,i),eC(r2.set(.5,-.5,0),Xx,s,Yx,a,i),eC(QM.set(.5,.5,0),Xx,s,Yx,a,i),GG.set(0,0),Q4.set(1,0),jG.set(1,1);let o=e.ray.intersectTriangle(JM,r2,QM,!1,e2);if(o===null&&(eC(r2.set(-.5,.5,0),Xx,s,Yx,a,i),Q4.set(0,1),o=e.ray.intersectTriangle(JM,QM,r2,!1,e2),o===null))return;const l=e.ray.origin.distanceTo(e2);l<e.near||l>e.far||t.push({distance:l,point:e2.clone(),uv:w0.getInterpolation(e2,JM,r2,QM,GG,Q4,jG,new St),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function eC(r,e,t,n,a,i){qx.subVectors(r,t).addScalar(.5).multiply(n),a!==void 0?(t2.x=i*qx.x-a*qx.y,t2.y=a*qx.x+i*qx.y):t2.copy(qx),r.copy(e),r.x+=t2.x,r.y+=t2.y,r.applyMatrix4(sne)}const tC=new Ee,WG=new Ee;class lne extends Bn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,a=t.length;n<a;n++){const i=t[n];this.addLevel(i.object.clone(),i.distance,i.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const a=this.levels;let i;for(i=0;i<a.length&&!(t<a[i].distance);i++);return a.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const a=t.splice(n,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,a;for(n=1,a=t.length;n<a;n++){let i=t[n].distance;if(t[n].object.visible&&(i-=i*t[n].hysteresis),e<i)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){tC.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(tC);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){tC.setFromMatrixPosition(e.matrixWorld),WG.setFromMatrixPosition(this.matrixWorld);const n=tC.distanceTo(WG)/e.zoom;t[0].object.visible=!0;let a,i;for(a=1,i=t.length;a<i;a++){let s=t[a].distance;if(t[a].object.visible&&(s-=s*t[a].hysteresis),n>=s)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<i;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let a=0,i=n.length;a<i;a++){const s=n[a];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const YG=new Ee,XG=new Un,qG=new Un,MCe=new Ee,ZG=new Vr,rC=new Ee,eO=new Fs,KG=new Vr,tO=new fy;class cne extends Qi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=zP,this.bindMatrix=new Vr,this.bindMatrixInverse=new Vr,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new xo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,rC),this.boundingBox.expandByPoint(rC)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,rC),this.boundingSphere.expandByPoint(rC)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,a=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),eO.copy(this.boundingSphere),eO.applyMatrix4(a),e.ray.intersectsSphere(eO)!==!1&&(KG.copy(a).invert(),tO.copy(e.ray).applyMatrix4(KG),!(this.boundingBox!==null&&tO.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,tO)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Un,t=this.geometry.attributes.skinWeight;for(let n=0,a=t.count;n<a;n++){e.fromBufferAttribute(t,n);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===zP?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===zre?this.bindMatrixInverse.copy(this.bindMatrix).invert():$t("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,a=this.geometry;XG.fromBufferAttribute(a.attributes.skinIndex,e),qG.fromBufferAttribute(a.attributes.skinWeight,e),YG.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const s=qG.getComponent(i);if(s!==0){const o=XG.getComponent(i);ZG.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(MCe.copy(YG).applyMatrix4(ZG),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Tz extends Bn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Zu extends ii{constructor(e=null,t=1,n=1,a,i,s,o,l,c=zs,u=zs,f,h){super(null,s,o,l,c,u,a,i,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const $G=new Vr,CCe=new Vr;class yI{constructor(e=[],t=[]){this.uuid=rc(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){$t("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,a=this.bones.length;n<a;n++)this.boneInverses.push(new Vr)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Vr;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,a=this.boneTexture;for(let i=0,s=e.length;i<s;i++){const o=e[i]?e[i].matrixWorld:CCe;$G.multiplyMatrices(o,t[i]),$G.toArray(n,i*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new yI(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Zu(t,e,e,go,Al);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,a=e.bones.length;n<a;n++){const i=e.bones[n];let s=t[i];s===void 0&&($t("Skeleton: No bone found with UUID:",i),s=new Tz),this.bones.push(s),this.boneInverses.push(new Vr().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let a=0,i=t.length;a<i;a++){const s=t[a];e.bones.push(s.uuid);const o=n[a];e.boneInverses.push(o.toArray())}return e}}class x_ extends va{constructor(e,t,n,a=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Zx=new Vr,JG=new Vr,nC=[],QG=new xo,DCe=new Vr,n2=new Qi,a2=new Fs;class une extends Qi{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new x_(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<n;a++)this.setMatrixAt(a,DCe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new xo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Zx),QG.copy(e.boundingBox).applyMatrix4(Zx),this.boundingBox.union(QG)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Zx),a2.copy(e.boundingSphere).applyMatrix4(Zx),this.boundingSphere.union(a2)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,a=this.morphTexture.source.data.data,i=n.length+1,s=e*i+1;for(let o=0;o<n.length;o++)n[o]=a[s+o]}raycast(e,t){const n=this.matrixWorld,a=this.count;if(n2.geometry=this.geometry,n2.material=this.material,n2.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),a2.copy(this.boundingSphere),a2.applyMatrix4(n),e.ray.intersectsSphere(a2)!==!1))for(let i=0;i<a;i++){this.getMatrixAt(i,Zx),JG.multiplyMatrices(n,Zx),n2.matrixWorld=JG,n2.raycast(e,nC);for(let s=0,o=nC.length;s<o;s++){const l=nC[s];l.instanceId=i,l.object=this,t.push(l)}nC.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new x_(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,a=n.length+1;this.morphTexture===null&&(this.morphTexture=new Zu(new Float32Array(a*this.count),a,this.count,oI,Al));const i=this.morphTexture.source.data.data;let s=0;for(let c=0;c<n.length;c++)s+=n[c];const o=this.geometry.morphTargetsRelative?1:1-s,l=a*e;i[l]=o,i.set(n,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const rO=new Ee,RCe=new Ee,NCe=new en;class Dd{constructor(e=new Ee(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,a){return this.normal.set(e,t,n),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const a=rO.subVectors(n,t).cross(RCe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(rO),a=this.normal.dot(n);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/a;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||NCe.getNormalMatrix(e),a=this.coplanarPoint(rO).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const pg=new Fs,ICe=new St(.5,.5),aC=new Ee;class K_{constructor(e=new Dd,t=new Dd,n=new Dd,a=new Dd,i=new Dd,s=new Dd){this.planes=[e,t,n,a,i,s]}set(e,t,n,a,i,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(a),o[4].copy(i),o[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=$l,n=!1){const a=this.planes,i=e.elements,s=i[0],o=i[1],l=i[2],c=i[3],u=i[4],f=i[5],h=i[6],d=i[7],v=i[8],g=i[9],m=i[10],y=i[11],b=i[12],S=i[13],A=i[14],E=i[15];if(a[0].setComponents(c-s,d-u,y-v,E-b).normalize(),a[1].setComponents(c+s,d+u,y+v,E+b).normalize(),a[2].setComponents(c+o,d+f,y+g,E+S).normalize(),a[3].setComponents(c-o,d-f,y-g,E-S).normalize(),n)a[4].setComponents(l,h,m,A).normalize(),a[5].setComponents(c-l,d-h,y-m,E-A).normalize();else if(a[4].setComponents(c-l,d-h,y-m,E-A).normalize(),t===$l)a[5].setComponents(c+l,d+h,y+m,E+A).normalize();else if(t===p_)a[5].setComponents(l,h,m,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),pg.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),pg.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pg)}intersectsSprite(e){pg.center.set(0,0,0);const t=ICe.distanceTo(e.center);return pg.radius=.7071067811865476+t,pg.applyMatrix4(e.matrixWorld),this.intersectsSphere(pg)}intersectsSphere(e){const t=this.planes,n=e.center,a=-e.radius;for(let i=0;i<6;i++)if(t[i].distanceToPoint(n)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const a=t[n];if(aC.x=a.normal.x>0?e.max.x:e.min.x,aC.y=a.normal.y>0?e.max.y:e.min.y,aC.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(aC)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const jf=new Vr,Wf=new K_;class xI{constructor(){this.coordinateSystem=$l}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(jf.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Wf.setFromProjectionMatrix(jf,a.coordinateSystem,a.reversedDepth),Wf.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(jf.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Wf.setFromProjectionMatrix(jf,a.coordinateSystem,a.reversedDepth),Wf.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(jf.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Wf.setFromProjectionMatrix(jf,a.coordinateSystem,a.reversedDepth),Wf.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(jf.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Wf.setFromProjectionMatrix(jf,a.coordinateSystem,a.reversedDepth),Wf.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const a=t.cameras[n];if(jf.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Wf.setFromProjectionMatrix(jf,a.coordinateSystem,a.reversedDepth),Wf.containsPoint(e))return!0}return!1}clone(){return new xI}}function nO(r,e){return r-e}function LCe(r,e){return r.z-e.z}function OCe(r,e){return e.z-r.z}class kCe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,a){const i=this.pool,s=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const o=i[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=a}reset(){this.list.length=0,this.index=0}}const gl=new Vr,PCe=new Jt(1,1,1),ej=new K_,BCe=new xI,iC=new xo,vg=new Fs,i2=new Ee,tj=new Ee,zCe=new Ee,aO=new kCe,so=new Qi,sC=[];function FCe(r,e,t=0){const n=e.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==e.array.constructor){const a=r.count;for(let i=0;i<a;i++)for(let s=0;s<n;s++)e.setComponent(i+t,s,r.getComponent(i,s))}else e.array.set(r.array,t*n);e.needsUpdate=!0}function gg(r,e){if(r.constructor!==e.constructor){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)e[n]=r[n]}else{const t=Math.min(r.length,e.length);e.set(new r.constructor(r.buffer,0,t))}}class fne extends Qi{constructor(e,t,n=t*2,a){super(new tn,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Zu(t,e,e,go,Al);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Zu(t,e,e,wA,Qd);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Zu(t,e,e,go,Al);n.colorSpace=Nn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const i in e.attributes){const s=e.getAttribute(i),{array:o,itemSize:l,normalized:c}=s,u=new o.constructor(n*l),f=new va(u,l,c);t.setAttribute(i,f)}if(e.getIndex()!==null){const i=n>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new va(i,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const a=e.getAttribute(n),i=t.getAttribute(n);if(a.itemSize!==i.itemSize||a.normalized!==i.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xo);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,a=t.length;n<a;n++){if(t[n].active===!1)continue;const i=t[n].geometryIndex;this.getMatrixAt(n,gl),this.getBoundingBoxAt(i,iC).applyMatrix4(gl),e.union(iC)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,a=t.length;n<a;n++){if(t[n].active===!1)continue;const i=t[n].geometryIndex;this.getMatrixAt(n,gl),this.getBoundingSphereAt(i,vg).applyMatrix4(gl),e.union(vg)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(nO),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=n):(a=this._instanceInfo.length,this._instanceInfo.push(n));const i=this._matricesTexture;gl.identity().toArray(i.image.data,a*16),i.needsUpdate=!0;const s=this._colorsTexture;return s&&(PCe.toArray(s.image.data,a*4),s.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},i=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=n===-1?s.count:n),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(nO),l=this._availableGeometryIds.shift(),i[l]=a):(l=this._geometryCount,this._geometryCount++,i.push(a)),this.setGeometryAt(l,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,a=n.getIndex()!==null,i=n.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(a&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const u in n.attributes){const f=t.getAttribute(u),h=n.getAttribute(u);FCe(f,h,l);const d=f.itemSize;for(let v=f.count,g=c;v<g;v++){const m=l+v;for(let y=0;y<d;y++)h.setComponent(m,y,0)}h.needsUpdate=!0,h.addUpdateRange(l*d,c*d)}if(a){const u=o.indexStart,f=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let h=0;h<s.count;h++)i.setX(u+h,l+s.getX(h));for(let h=s.count,d=f;h<d;h++)i.setX(u+h,l);i.needsUpdate=!0,i.addUpdateRange(u,o.reservedIndexCount)}return o.start=a?o.indexStart:o.vertexStart,o.count=a?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let a=0,i=n.length;a<i;a++)n[a].active&&n[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,a=n.map((s,o)=>o).sort((s,o)=>n[s].vertexStart-n[o].vertexStart),i=this.geometry;for(let s=0,o=n.length;s<o;s++){const l=a[s],c=n[l];if(c.active!==!1){if(i.index!==null){if(c.indexStart!==t){const{indexStart:u,vertexStart:f,reservedIndexCount:h}=c,d=i.index,v=d.array,g=e-f;for(let m=u;m<u+h;m++)v[m]=v[m]+g;d.array.copyWithin(t,u,u+h),d.addUpdateRange(t,h),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:f}=c,h=i.attributes;for(const d in h){const v=h[d],{array:g,itemSize:m}=v;g.copyWithin(e*m,u*m,(u+f)*m),v.addUpdateRange(e*m,f*m)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=i.index?c.indexStart:c.vertexStart,this._nextIndexStart=i.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const i=new xo,s=n.index,o=n.attributes.position;for(let l=a.start,c=a.start+a.count;l<c;l++){let u=l;s&&(u=s.getX(u)),i.expandByPoint(i2.fromBufferAttribute(o,u))}a.boundingBox=i}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const i=new Fs;this.getBoundingBoxAt(e,iC),iC.getCenter(i.center);const s=n.index,o=n.attributes.position;let l=0;for(let c=a.start,u=a.start+a.count;c<u;c++){let f=c;s&&(f=s.getX(f)),i2.fromBufferAttribute(o,f),l=Math.max(l,i.center.distanceToSquared(i2))}i.radius=Math.sqrt(l),a.boundingSphere=i}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(nO);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),i=new Int32Array(e);gg(this._multiDrawCounts,a),gg(this._multiDrawStarts,i),this._multiDrawCounts=a,this._multiDrawStarts=i,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;s.dispose(),this._initIndirectTexture(),gg(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),gg(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),gg(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...n.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const i=this.geometry;i.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tn,this._initializeGeometry(i));const s=this.geometry;i.index&&gg(i.index.array,s.index.array);for(const o in i.attributes)gg(i.attributes[o].array,s.attributes[o].array)}raycast(e,t){const n=this._instanceInfo,a=this._geometryInfo,i=this.matrixWorld,s=this.geometry;so.material=this.material,so.geometry.index=s.index,so.geometry.attributes=s.attributes,so.geometry.boundingBox===null&&(so.geometry.boundingBox=new xo),so.geometry.boundingSphere===null&&(so.geometry.boundingSphere=new Fs);for(let o=0,l=n.length;o<l;o++){if(!n[o].visible||!n[o].active)continue;const c=n[o].geometryIndex,u=a[c];so.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,so.matrixWorld).premultiply(i),this.getBoundingBoxAt(c,so.geometry.boundingBox),this.getBoundingSphereAt(c,so.geometry.boundingSphere),so.raycast(e,sC);for(let f=0,h=sC.length;f<h;f++){const d=sC[f];d.object=this,d.batchId=o,t.push(d)}sC.length=0}so.material=null,so.geometry.index=null,so.geometry.attributes={},so.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,a,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=a.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,d=this._indirectTexture,v=d.image.data,g=n.isArrayCamera?BCe:ej;h&&!n.isArrayCamera&&(gl.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),ej.setFromProjectionMatrix(gl,n.coordinateSystem,n.reversedDepth));let m=0;if(this.sortObjects){gl.copy(this.matrixWorld).invert(),i2.setFromMatrixPosition(n.matrixWorld).applyMatrix4(gl),tj.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(gl);for(let S=0,A=l.length;S<A;S++)if(l[S].visible&&l[S].active){const E=l[S].geometryIndex;this.getMatrixAt(S,gl),this.getBoundingSphereAt(E,vg).applyMatrix4(gl);let M=!1;if(h&&(M=!g.intersectsSphere(vg,n)),!M){const R=f[E],L=zCe.subVectors(vg.center,i2).dot(tj);aO.push(R.start,R.count,L,S)}}const y=aO.list,b=this.customSort;b===null?y.sort(i.transparent?OCe:LCe):b.call(this,y,n);for(let S=0,A=y.length;S<A;S++){const E=y[S];c[m]=E.start*o,u[m]=E.count,v[m]=E.index,m++}aO.reset()}else for(let y=0,b=l.length;y<b;y++)if(l[y].visible&&l[y].active){const S=l[y].geometryIndex;let A=!1;if(h&&(this.getMatrixAt(y,gl),this.getBoundingSphereAt(S,vg).applyMatrix4(gl),A=!g.intersectsSphere(vg,n)),!A){const E=f[S];c[m]=E.start*o,u[m]=E.count,v[m]=y,m++}}d.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,n,a,i,s){this.onBeforeRender(e,null,a,i,s)}}class sl extends To{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Jt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const wR=new Ee,TR=new Ee,rj=new Vr,s2=new fy,oC=new Fs,iO=new Ee,nj=new Ee;let tv=class extends Bn{constructor(e=new tn,t=new sl){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let a=1,i=t.count;a<i;a++)wR.fromBufferAttribute(t,a-1),TR.fromBufferAttribute(t,a),n[a]=n[a-1],n[a]+=wR.distanceTo(TR);e.setAttribute("lineDistance",new fr(n,1))}else $t("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,a=this.matrixWorld,i=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),oC.copy(n.boundingSphere),oC.applyMatrix4(a),oC.radius+=i,e.ray.intersectsSphere(oC)===!1)return;rj.copy(a).invert(),s2.copy(e.ray).applyMatrix4(rj);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=n.index,h=n.attributes.position;if(u!==null){const d=Math.max(0,s.start),v=Math.min(u.count,s.start+s.count);for(let g=d,m=v-1;g<m;g+=c){const y=u.getX(g),b=u.getX(g+1),S=lC(this,e,s2,l,y,b,g);S&&t.push(S)}if(this.isLineLoop){const g=u.getX(v-1),m=u.getX(d),y=lC(this,e,s2,l,g,m,v-1);y&&t.push(y)}}else{const d=Math.max(0,s.start),v=Math.min(h.count,s.start+s.count);for(let g=d,m=v-1;g<m;g+=c){const y=lC(this,e,s2,l,g,g+1,g);y&&t.push(y)}if(this.isLineLoop){const g=lC(this,e,s2,l,v-1,d,v-1);g&&t.push(g)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const a=t[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=a.length;i<s;i++){const o=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}};function lC(r,e,t,n,a,i,s){const o=r.geometry.attributes.position;if(wR.fromBufferAttribute(o,a),TR.fromBufferAttribute(o,i),t.distanceSqToSegment(wR,TR,iO,nj)>n)return;iO.applyMatrix4(r.matrixWorld);const c=e.ray.origin.distanceTo(iO);if(!(c<e.near||c>e.far))return{distance:c,point:nj.clone().applyMatrix4(r.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:r}}const aj=new Ee,ij=new Ee;class Nh extends tv{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let a=0,i=t.count;a<i;a+=2)aj.fromBufferAttribute(t,a),ij.fromBufferAttribute(t,a+1),n[a]=a===0?0:n[a-1],n[a+1]=n[a]+aj.distanceTo(ij);e.setAttribute("lineDistance",new fr(n,1))}else $t("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class hne extends tv{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Az extends To{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Jt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const sj=new Vr,VP=new fy,cC=new Fs,uC=new Ee;class dne extends Bn{constructor(e=new tn,t=new Az){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,a=this.matrixWorld,i=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),cC.copy(n.boundingSphere),cC.applyMatrix4(a),cC.radius+=i,e.ray.intersectsSphere(cC)===!1)return;sj.copy(a).invert(),VP.copy(e.ray).applyMatrix4(sj);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=n.index,f=n.attributes.position;if(c!==null){const h=Math.max(0,s.start),d=Math.min(c.count,s.start+s.count);for(let v=h,g=d;v<g;v++){const m=c.getX(v);uC.fromBufferAttribute(f,m),oj(uC,m,l,a,e,t,this)}}else{const h=Math.max(0,s.start),d=Math.min(f.count,s.start+s.count);for(let v=h,g=d;v<g;v++)uC.fromBufferAttribute(f,v),oj(uC,v,l,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const a=t[n[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,s=a.length;i<s;i++){const o=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}}function oj(r,e,t,n,a,i,s){const o=VP.distanceSqToPoint(r);if(o<t){const l=new Ee;VP.closestPointToPoint(r,l),l.applyMatrix4(n);const c=a.ray.origin.distanceTo(l);if(c<a.near||c>a.far)return;i.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class pne extends ii{constructor(e,t,n,a,i=xi,s=xi,o,l,c){super(e,t,n,a,i,s,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;function f(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class UCe extends pne{constructor(e,t,n,a,i,s,o,l){super({},e,t,n,a,i,s,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class VCe extends ii{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=zs,this.minFilter=zs,this.generateMipmaps=!1,this.needsUpdate=!0}}class _I extends ii{constructor(e,t,n,a,i,s,o,l,c,u,f,h){super(null,s,o,l,c,u,a,i,f,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class HCe extends _I{constructor(e,t,n,a,i,s){super(e,t,n,i,s),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Tl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class GCe extends _I{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Jd),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class jCe extends ii{constructor(e,t,n,a,i,s,o,l,c){super(e,t,n,a,i,s,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ez extends ii{constructor(e,t,n=Qd,a,i,s,o=zs,l=zs,c,u=h_,f=1){if(u!==h_&&u!==d_)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:t,depth:f};super(h,a,i,s,o,l,u,n,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new C0(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Mz extends ii{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class bI extends tn{constructor(e=1,t=1,n=4,a=8,i=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:a,heightSegments:i},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),a=Math.max(3,Math.floor(a)),i=Math.max(1,Math.floor(i));const s=[],o=[],l=[],c=[],u=t/2,f=Math.PI/2*e,h=t,d=2*f+h,v=n*2+i,g=a+1,m=new Ee,y=new Ee;for(let b=0;b<=v;b++){let S=0,A=0,E=0,M=0;if(b<=n){const I=b/n,O=I*Math.PI/2;A=-u-e*Math.cos(O),E=e*Math.sin(O),M=-e*Math.cos(O),S=I*f}else if(b<=n+i){const I=(b-n)/i;A=-u+I*t,E=e,M=0,S=f+I*h}else{const I=(b-n-i)/n,O=I*Math.PI/2;A=u+e*Math.sin(O),E=e*Math.cos(O),M=e*Math.sin(O),S=f+h+I*f}const R=Math.max(0,Math.min(1,S/d));let L=0;b===0?L=.5/a:b===v&&(L=-.5/a);for(let I=0;I<=a;I++){const O=I/a,P=O*Math.PI*2,k=Math.sin(P),U=Math.cos(P);y.x=-E*U,y.y=A,y.z=E*k,o.push(y.x,y.y,y.z),m.set(-E*U,M,E*k),m.normalize(),l.push(m.x,m.y,m.z),c.push(O+L,R)}if(b>0){const I=(b-1)*g;for(let O=0;O<a;O++){const P=I+O,k=I+O+1,U=b*g+O,F=b*g+O+1;s.push(P,k,U),s.push(k,F,U)}}}this.setIndex(s),this.setAttribute("position",new fr(o,3)),this.setAttribute("normal",new fr(l,3)),this.setAttribute("uv",new fr(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bI(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class SI extends tn{constructor(e=1,t=32,n=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:a},t=Math.max(3,t);const i=[],s=[],o=[],l=[],c=new Ee,u=new St;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const d=n+f/t*a;c.x=e*Math.cos(d),c.y=e*Math.sin(d),s.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(s[h]/e+1)/2,u.y=(s[h+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)i.push(f,f+1,0);this.setIndex(i),this.setAttribute("position",new fr(s,3)),this.setAttribute("normal",new fr(o,3)),this.setAttribute("uv",new fr(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SI(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class AA extends tn{constructor(e=1,t=1,n=1,a=32,i=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:a,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:l};const c=this;a=Math.floor(a),i=Math.floor(i);const u=[],f=[],h=[],d=[];let v=0;const g=[],m=n/2;let y=0;b(),s===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new fr(f,3)),this.setAttribute("normal",new fr(h,3)),this.setAttribute("uv",new fr(d,2));function b(){const A=new Ee,E=new Ee;let M=0;const R=(t-e)/n;for(let L=0;L<=i;L++){const I=[],O=L/i,P=O*(t-e)+e;for(let k=0;k<=a;k++){const U=k/a,F=U*l+o,q=Math.sin(F),H=Math.cos(F);E.x=P*q,E.y=-O*n+m,E.z=P*H,f.push(E.x,E.y,E.z),A.set(q,R,H).normalize(),h.push(A.x,A.y,A.z),d.push(U,1-O),I.push(v++)}g.push(I)}for(let L=0;L<a;L++)for(let I=0;I<i;I++){const O=g[I][L],P=g[I+1][L],k=g[I+1][L+1],U=g[I][L+1];(e>0||I!==0)&&(u.push(O,P,U),M+=3),(t>0||I!==i-1)&&(u.push(P,k,U),M+=3)}c.addGroup(y,M,0),y+=M}function S(A){const E=v,M=new St,R=new Ee;let L=0;const I=A===!0?e:t,O=A===!0?1:-1;for(let k=1;k<=a;k++)f.push(0,m*O,0),h.push(0,O,0),d.push(.5,.5),v++;const P=v;for(let k=0;k<=a;k++){const F=k/a*l+o,q=Math.cos(F),H=Math.sin(F);R.x=I*H,R.y=m*O,R.z=I*q,f.push(R.x,R.y,R.z),h.push(0,O,0),M.x=q*.5+.5,M.y=H*.5*O+.5,d.push(M.x,M.y),v++}for(let k=0;k<a;k++){const U=E+k,F=P+k;A===!0?u.push(F,F+1,U):u.push(F+1,F,U),L+=3}c.addGroup(y,L,A===!0?1:2),y+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AA(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class EA extends AA{constructor(e=1,t=1,n=32,a=1,i=!1,s=0,o=Math.PI*2){super(0,e,t,n,a,i,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:a,openEnded:i,thetaStart:s,thetaLength:o}}static fromJSON(e){return new EA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fv extends tn{constructor(e=[],t=[],n=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:a};const i=[],s=[];o(a),c(n),u(),this.setAttribute("position",new fr(i,3)),this.setAttribute("normal",new fr(i.slice(),3)),this.setAttribute("uv",new fr(s,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function o(b){const S=new Ee,A=new Ee,E=new Ee;for(let M=0;M<t.length;M+=3)d(t[M+0],S),d(t[M+1],A),d(t[M+2],E),l(S,A,E,b)}function l(b,S,A,E){const M=E+1,R=[];for(let L=0;L<=M;L++){R[L]=[];const I=b.clone().lerp(A,L/M),O=S.clone().lerp(A,L/M),P=M-L;for(let k=0;k<=P;k++)k===0&&L===M?R[L][k]=I:R[L][k]=I.clone().lerp(O,k/P)}for(let L=0;L<M;L++)for(let I=0;I<2*(M-L)-1;I++){const O=Math.floor(I/2);I%2===0?(h(R[L][O+1]),h(R[L+1][O]),h(R[L][O])):(h(R[L][O+1]),h(R[L+1][O+1]),h(R[L+1][O]))}}function c(b){const S=new Ee;for(let A=0;A<i.length;A+=3)S.x=i[A+0],S.y=i[A+1],S.z=i[A+2],S.normalize().multiplyScalar(b),i[A+0]=S.x,i[A+1]=S.y,i[A+2]=S.z}function u(){const b=new Ee;for(let S=0;S<i.length;S+=3){b.x=i[S+0],b.y=i[S+1],b.z=i[S+2];const A=m(b)/2/Math.PI+.5,E=y(b)/Math.PI+.5;s.push(A,1-E)}v(),f()}function f(){for(let b=0;b<s.length;b+=6){const S=s[b+0],A=s[b+2],E=s[b+4],M=Math.max(S,A,E),R=Math.min(S,A,E);M>.9&&R<.1&&(S<.2&&(s[b+0]+=1),A<.2&&(s[b+2]+=1),E<.2&&(s[b+4]+=1))}}function h(b){i.push(b.x,b.y,b.z)}function d(b,S){const A=b*3;S.x=e[A+0],S.y=e[A+1],S.z=e[A+2]}function v(){const b=new Ee,S=new Ee,A=new Ee,E=new Ee,M=new St,R=new St,L=new St;for(let I=0,O=0;I<i.length;I+=9,O+=6){b.set(i[I+0],i[I+1],i[I+2]),S.set(i[I+3],i[I+4],i[I+5]),A.set(i[I+6],i[I+7],i[I+8]),M.set(s[O+0],s[O+1]),R.set(s[O+2],s[O+3]),L.set(s[O+4],s[O+5]),E.copy(b).add(S).add(A).divideScalar(3);const P=m(E);g(M,O+0,b,P),g(R,O+2,S,P),g(L,O+4,A,P)}}function g(b,S,A,E){E<0&&b.x===1&&(s[S]=b.x-1),A.x===0&&A.z===0&&(s[S]=E/2/Math.PI+.5)}function m(b){return Math.atan2(b.z,-b.x)}function y(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fv(e.vertices,e.indices,e.radius,e.details)}}class wI extends fv{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,a=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-n,0,-a,n,0,a,-n,0,a,n,-a,-n,0,-a,n,0,a,-n,0,a,n,0,-n,0,-a,n,0,-a,-n,0,a,n,0,a],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(i,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wI(e.radius,e.detail)}}const fC=new Ee,hC=new Ee,sO=new Ee,dC=new w0;class vne extends tn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),i=Math.cos(Cm*t),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),h={},d=[];for(let v=0;v<l;v+=3){s?(c[0]=s.getX(v),c[1]=s.getX(v+1),c[2]=s.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:g,b:m,c:y}=dC;if(g.fromBufferAttribute(o,c[0]),m.fromBufferAttribute(o,c[1]),y.fromBufferAttribute(o,c[2]),dC.getNormal(sO),f[0]=`${Math.round(g.x*a)},${Math.round(g.y*a)},${Math.round(g.z*a)}`,f[1]=`${Math.round(m.x*a)},${Math.round(m.y*a)},${Math.round(m.z*a)}`,f[2]=`${Math.round(y.x*a)},${Math.round(y.y*a)},${Math.round(y.z*a)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let b=0;b<3;b++){const S=(b+1)%3,A=f[b],E=f[S],M=dC[u[b]],R=dC[u[S]],L=`${A}_${E}`,I=`${E}_${A}`;I in h&&h[I]?(sO.dot(h[I].normal)<=i&&(d.push(M.x,M.y,M.z),d.push(R.x,R.y,R.z)),h[I]=null):L in h||(h[L]={index0:c[b],index1:c[S],normal:sO.clone()})}}for(const v in h)if(h[v]){const{index0:g,index1:m}=h[v];fC.fromBufferAttribute(o,g),hC.fromBufferAttribute(o,m),d.push(fC.x,fC.y,fC.z),d.push(hC.x,hC.y,hC.z)}this.setAttribute("position",new fr(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class lf{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){$t("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,a=this.getPoint(0),i=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),i+=n.distanceTo(a),t.push(i),a=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let a=0;const i=n.length;let s;t?s=t:s=e*n[i-1];let o=0,l=i-1,c;for(;o<=l;)if(a=Math.floor(o+(l-o)/2),c=n[a]-s,c<0)o=a+1;else if(c>0)l=a-1;else{l=a;break}if(a=l,n[a]===s)return a/(i-1);const u=n[a],h=n[a+1]-u,d=(s-u)/h;return(a+d)/(i-1)}getTangent(e,t){let a=e-1e-4,i=e+1e-4;a<0&&(a=0),i>1&&(i=1);const s=this.getPoint(a),o=this.getPoint(i),l=t||(s.isVector2?new St:new Ee);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new Ee,a=[],i=[],s=[],o=new Ee,l=new Vr;for(let d=0;d<=e;d++){const v=d/e;a[d]=this.getTangentAt(v,new Ee)}i[0]=new Ee,s[0]=new Ee;let c=Number.MAX_VALUE;const u=Math.abs(a[0].x),f=Math.abs(a[0].y),h=Math.abs(a[0].z);u<=c&&(c=u,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),h<=c&&n.set(0,0,1),o.crossVectors(a[0],n).normalize(),i[0].crossVectors(a[0],o),s[0].crossVectors(a[0],i[0]);for(let d=1;d<=e;d++){if(i[d]=i[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(a[d-1],a[d]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(Br(a[d-1].dot(a[d]),-1,1));i[d].applyMatrix4(l.makeRotationAxis(o,v))}s[d].crossVectors(a[d],i[d])}if(t===!0){let d=Math.acos(Br(i[0].dot(i[e]),-1,1));d/=e,a[0].dot(o.crossVectors(i[0],i[e]))>0&&(d=-d);for(let v=1;v<=e;v++)i[v].applyMatrix4(l.makeRotationAxis(a[v],d*v)),s[v].crossVectors(a[v],i[v])}return{tangents:a,normals:i,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class TI extends lf{constructor(e=0,t=0,n=1,a=1,i=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=a,this.aStartAngle=i,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new St){const n=t,a=Math.PI*2;let i=this.aEndAngle-this.aStartAngle;const s=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=a;for(;i>a;)i-=a;i<Number.EPSILON&&(s?i=0:i=a),this.aClockwise===!0&&!s&&(i===a?i=-a:i=i-a);const o=this.aStartAngle+e*i;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=c-this.aY;l=h*u-d*f+this.aX,c=h*f+d*u+this.aY}return n.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class gne extends TI{constructor(e,t,n,a,i,s){super(e,t,n,n,a,i,s),this.isArcCurve=!0,this.type="ArcCurve"}}function Cz(){let r=0,e=0,t=0,n=0;function a(i,s,o,l){r=i,e=o,t=-3*i+3*s-2*o-l,n=2*i-2*s+o+l}return{initCatmullRom:function(i,s,o,l,c){a(s,o,c*(o-i),c*(l-s))},initNonuniformCatmullRom:function(i,s,o,l,c,u,f){let h=(s-i)/c-(o-i)/(c+u)+(o-s)/u,d=(o-s)/u-(l-s)/(u+f)+(l-o)/f;h*=u,d*=u,a(s,o,h,d)},calc:function(i){const s=i*i,o=s*i;return r+e*i+t*s+n*o}}}const pC=new Ee,oO=new Cz,lO=new Cz,cO=new Cz;class mne extends lf{constructor(e=[],t=!1,n="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=a}getPoint(e,t=new Ee){const n=t,a=this.points,i=a.length,s=(i-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/i)+1)*i:l===0&&o===i-1&&(o=i-2,l=1);let c,u;this.closed||o>0?c=a[(o-1)%i]:(pC.subVectors(a[0],a[1]).add(a[0]),c=pC);const f=a[o%i],h=a[(o+1)%i];if(this.closed||o+2<i?u=a[(o+2)%i]:(pC.subVectors(a[i-1],a[i-2]).add(a[i-1]),u=pC),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(f),d),g=Math.pow(f.distanceToSquared(h),d),m=Math.pow(h.distanceToSquared(u),d);g<1e-4&&(g=1),v<1e-4&&(v=g),m<1e-4&&(m=g),oO.initNonuniformCatmullRom(c.x,f.x,h.x,u.x,v,g,m),lO.initNonuniformCatmullRom(c.y,f.y,h.y,u.y,v,g,m),cO.initNonuniformCatmullRom(c.z,f.z,h.z,u.z,v,g,m)}else this.curveType==="catmullrom"&&(oO.initCatmullRom(c.x,f.x,h.x,u.x,this.tension),lO.initCatmullRom(c.y,f.y,h.y,u.y,this.tension),cO.initCatmullRom(c.z,f.z,h.z,u.z,this.tension));return n.set(oO.calc(l),lO.calc(l),cO.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const a=e.points[t];this.points.push(new Ee().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function lj(r,e,t,n,a){const i=(n-e)*.5,s=(a-t)*.5,o=r*r,l=r*o;return(2*t-2*n+i+s)*l+(-3*t+3*n-2*i-s)*o+i*r+t}function WCe(r,e){const t=1-r;return t*t*e}function YCe(r,e){return 2*(1-r)*r*e}function XCe(r,e){return r*r*e}function Nw(r,e,t,n){return WCe(r,e)+YCe(r,t)+XCe(r,n)}function qCe(r,e){const t=1-r;return t*t*t*e}function ZCe(r,e){const t=1-r;return 3*t*t*r*e}function KCe(r,e){return 3*(1-r)*r*r*e}function $Ce(r,e){return r*r*r*e}function Iw(r,e,t,n,a){return qCe(r,e)+ZCe(r,t)+KCe(r,n)+$Ce(r,a)}class Dz extends lf{constructor(e=new St,t=new St,n=new St,a=new St){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=a}getPoint(e,t=new St){const n=t,a=this.v0,i=this.v1,s=this.v2,o=this.v3;return n.set(Iw(e,a.x,i.x,s.x,o.x),Iw(e,a.y,i.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yne extends lf{constructor(e=new Ee,t=new Ee,n=new Ee,a=new Ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=a}getPoint(e,t=new Ee){const n=t,a=this.v0,i=this.v1,s=this.v2,o=this.v3;return n.set(Iw(e,a.x,i.x,s.x,o.x),Iw(e,a.y,i.y,s.y,o.y),Iw(e,a.z,i.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Rz extends lf{constructor(e=new St,t=new St){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new St){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new St){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xne extends lf{constructor(e=new Ee,t=new Ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Ee){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ee){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Nz extends lf{constructor(e=new St,t=new St,n=new St){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new St){const n=t,a=this.v0,i=this.v1,s=this.v2;return n.set(Nw(e,a.x,i.x,s.x),Nw(e,a.y,i.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Iz extends lf{constructor(e=new Ee,t=new Ee,n=new Ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ee){const n=t,a=this.v0,i=this.v1,s=this.v2;return n.set(Nw(e,a.x,i.x,s.x),Nw(e,a.y,i.y,s.y),Nw(e,a.z,i.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Lz extends lf{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new St){const n=t,a=this.points,i=(a.length-1)*e,s=Math.floor(i),o=i-s,l=a[s===0?s:s-1],c=a[s],u=a[s>a.length-2?a.length-1:s+1],f=a[s>a.length-3?a.length-1:s+2];return n.set(lj(o,l.x,c.x,u.x,f.x),lj(o,l.y,c.y,u.y,f.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const a=e.points[t];this.points.push(new St().fromArray(a))}return this}}var AR=Object.freeze({__proto__:null,ArcCurve:gne,CatmullRomCurve3:mne,CubicBezierCurve:Dz,CubicBezierCurve3:yne,EllipseCurve:TI,LineCurve:Rz,LineCurve3:xne,QuadraticBezierCurve:Nz,QuadraticBezierCurve3:Iz,SplineCurve:Lz});class _ne extends lf{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new AR[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),a=this.getCurveLengths();let i=0;for(;i<a.length;){if(a[i]>=n){const s=a[i]-n,o=this.curves[i],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,a=this.curves.length;n<a;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let a=0,i=this.curves;a<i.length;a++){const s=i[a],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];n&&n.equals(u)||(t.push(u),n=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const a=e.curves[t];this.curves.push(new AR[a.type]().fromJSON(a))}return this}}let ER=class extends _ne{constructor(e){super(),this.type="Path",this.currentPoint=new St,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Rz(this.currentPoint.clone(),new St(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,a){const i=new Nz(this.currentPoint.clone(),new St(e,t),new St(n,a));return this.curves.push(i),this.currentPoint.set(n,a),this}bezierCurveTo(e,t,n,a,i,s){const o=new Dz(this.currentPoint.clone(),new St(e,t),new St(n,a),new St(i,s));return this.curves.push(o),this.currentPoint.set(i,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Lz(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,a,i,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,n,a,i,s),this}absarc(e,t,n,a,i,s){return this.absellipse(e,t,n,n,a,i,s),this}ellipse(e,t,n,a,i,s,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,n,a,i,s,o,l),this}absellipse(e,t,n,a,i,s,o,l){const c=new TI(e,t,n,a,i,s,o,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Dm extends ER{constructor(e){super(e),this.uuid=rc(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,a=this.holes.length;n<a;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const a=e.holes[t];this.holes.push(new ER().fromJSON(a))}return this}}function JCe(r,e,t=2){const n=e&&e.length,a=n?e[0]*t:r.length;let i=bne(r,0,a,t,!0);const s=[];if(!i||i.next===i.prev)return s;let o,l,c;if(n&&(i=n3e(r,e,i,t)),r.length>80*t){o=r[0],l=r[1];let u=o,f=l;for(let h=t;h<a;h+=t){const d=r[h],v=r[h+1];d<o&&(o=d),v<l&&(l=v),d>u&&(u=d),v>f&&(f=v)}c=Math.max(u-o,f-l),c=c!==0?32767/c:0}return bT(i,s,t,o,l,c,0),s}function bne(r,e,t,n,a){let i;if(a===p3e(r,e,t,n)>0)for(let s=e;s<t;s+=n)i=cj(s/n|0,r[s],r[s+1],i);else for(let s=t-n;s>=e;s-=n)i=cj(s/n|0,r[s],r[s+1],i);return i&&__(i,i.next)&&(wT(i),i=i.next),i}function Gm(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(__(t,t.next)||Ga(t.prev,t,t.next)===0)){if(wT(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function bT(r,e,t,n,a,i,s){if(!r)return;!s&&i&&l3e(r,n,a,i);let o=r;for(;r.prev!==r.next;){const l=r.prev,c=r.next;if(i?e3e(r,n,a,i):QCe(r)){e.push(l.i,r.i,c.i),wT(r),r=c.next,o=c.next;continue}if(r=c,r===o){s?s===1?(r=t3e(Gm(r),e),bT(r,e,t,n,a,i,2)):s===2&&r3e(r,e,t,n,a,i):bT(Gm(r),e,t,n,a,i,1);break}}}function QCe(r){const e=r.prev,t=r,n=r.next;if(Ga(e,t,n)>=0)return!1;const a=e.x,i=t.x,s=n.x,o=e.y,l=t.y,c=n.y,u=Math.min(a,i,s),f=Math.min(o,l,c),h=Math.max(a,i,s),d=Math.max(o,l,c);let v=n.next;for(;v!==e;){if(v.x>=u&&v.x<=h&&v.y>=f&&v.y<=d&&K2(a,o,i,l,s,c,v.x,v.y)&&Ga(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function e3e(r,e,t,n){const a=r.prev,i=r,s=r.next;if(Ga(a,i,s)>=0)return!1;const o=a.x,l=i.x,c=s.x,u=a.y,f=i.y,h=s.y,d=Math.min(o,l,c),v=Math.min(u,f,h),g=Math.max(o,l,c),m=Math.max(u,f,h),y=HP(d,v,e,t,n),b=HP(g,m,e,t,n);let S=r.prevZ,A=r.nextZ;for(;S&&S.z>=y&&A&&A.z<=b;){if(S.x>=d&&S.x<=g&&S.y>=v&&S.y<=m&&S!==a&&S!==s&&K2(o,u,l,f,c,h,S.x,S.y)&&Ga(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=d&&A.x<=g&&A.y>=v&&A.y<=m&&A!==a&&A!==s&&K2(o,u,l,f,c,h,A.x,A.y)&&Ga(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=y;){if(S.x>=d&&S.x<=g&&S.y>=v&&S.y<=m&&S!==a&&S!==s&&K2(o,u,l,f,c,h,S.x,S.y)&&Ga(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=b;){if(A.x>=d&&A.x<=g&&A.y>=v&&A.y<=m&&A!==a&&A!==s&&K2(o,u,l,f,c,h,A.x,A.y)&&Ga(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function t3e(r,e){let t=r;do{const n=t.prev,a=t.next.next;!__(n,a)&&wne(n,t,t.next,a)&&ST(n,a)&&ST(a,n)&&(e.push(n.i,t.i,a.i),wT(t),wT(t.next),t=r=a),t=t.next}while(t!==r);return Gm(t)}function r3e(r,e,t,n,a,i){let s=r;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&f3e(s,o)){let l=Tne(s,o);s=Gm(s,s.next),l=Gm(l,l.next),bT(s,e,t,n,a,i,0),bT(l,e,t,n,a,i,0);return}o=o.next}s=s.next}while(s!==r)}function n3e(r,e,t,n){const a=[];for(let i=0,s=e.length;i<s;i++){const o=e[i]*n,l=i<s-1?e[i+1]*n:r.length,c=bne(r,o,l,n,!1);c===c.next&&(c.steiner=!0),a.push(u3e(c))}a.sort(a3e);for(let i=0;i<a.length;i++)t=i3e(a[i],t);return t}function a3e(r,e){let t=r.x-e.x;if(t===0&&(t=r.y-e.y,t===0)){const n=(r.next.y-r.y)/(r.next.x-r.x),a=(e.next.y-e.y)/(e.next.x-e.x);t=n-a}return t}function i3e(r,e){const t=s3e(r,e);if(!t)return e;const n=Tne(t,r);return Gm(n,n.next),Gm(t,t.next)}function s3e(r,e){let t=e;const n=r.x,a=r.y;let i=-1/0,s;if(__(r,t))return t;do{if(__(r,t.next))return t.next;if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const f=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=n&&f>i&&(i=f,s=t.x<t.next.x?t:t.next,f===n))return s}t=t.next}while(t!==e);if(!s)return null;const o=s,l=s.x,c=s.y;let u=1/0;t=s;do{if(n>=t.x&&t.x>=l&&n!==t.x&&Sne(a<c?n:i,a,l,c,a<c?i:n,a,t.x,t.y)){const f=Math.abs(a-t.y)/(n-t.x);ST(t,r)&&(f<u||f===u&&(t.x>s.x||t.x===s.x&&o3e(s,t)))&&(s=t,u=f)}t=t.next}while(t!==o);return s}function o3e(r,e){return Ga(r.prev,r,e.prev)<0&&Ga(e.next,r,r.next)<0}function l3e(r,e,t,n){let a=r;do a.z===0&&(a.z=HP(a.x,a.y,e,t,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==r);a.prevZ.nextZ=null,a.prevZ=null,c3e(a)}function c3e(r){let e,t=1;do{let n=r,a;r=null;let i=null;for(e=0;n;){e++;let s=n,o=0;for(let c=0;c<t&&(o++,s=s.nextZ,!!s);c++);let l=t;for(;o>0||l>0&&s;)o!==0&&(l===0||!s||n.z<=s.z)?(a=n,n=n.nextZ,o--):(a=s,s=s.nextZ,l--),i?i.nextZ=a:r=a,a.prevZ=i,i=a;n=s}i.nextZ=null,t*=2}while(e>1);return r}function HP(r,e,t,n,a){return r=(r-t)*a|0,e=(e-n)*a|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function u3e(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function Sne(r,e,t,n,a,i,s,o){return(a-s)*(e-o)>=(r-s)*(i-o)&&(r-s)*(n-o)>=(t-s)*(e-o)&&(t-s)*(i-o)>=(a-s)*(n-o)}function K2(r,e,t,n,a,i,s,o){return!(r===s&&e===o)&&Sne(r,e,t,n,a,i,s,o)}function f3e(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!h3e(r,e)&&(ST(r,e)&&ST(e,r)&&d3e(r,e)&&(Ga(r.prev,r,e.prev)||Ga(r,e.prev,e))||__(r,e)&&Ga(r.prev,r,r.next)>0&&Ga(e.prev,e,e.next)>0)}function Ga(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function __(r,e){return r.x===e.x&&r.y===e.y}function wne(r,e,t,n){const a=gC(Ga(r,e,t)),i=gC(Ga(r,e,n)),s=gC(Ga(t,n,r)),o=gC(Ga(t,n,e));return!!(a!==i&&s!==o||a===0&&vC(r,t,e)||i===0&&vC(r,n,e)||s===0&&vC(t,r,n)||o===0&&vC(t,e,n))}function vC(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function gC(r){return r>0?1:r<0?-1:0}function h3e(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&wne(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function ST(r,e){return Ga(r.prev,r,r.next)<0?Ga(r,e,r.next)>=0&&Ga(r,r.prev,e)>=0:Ga(r,e,r.prev)<0||Ga(r,r.next,e)<0}function d3e(r,e){let t=r,n=!1;const a=(r.x+e.x)/2,i=(r.y+e.y)/2;do t.y>i!=t.next.y>i&&t.next.y!==t.y&&a<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function Tne(r,e){const t=GP(r.i,r.x,r.y),n=GP(e.i,e.x,e.y),a=r.next,i=e.prev;return r.next=e,e.prev=r,t.next=a,a.prev=t,n.next=t,t.prev=n,i.next=n,n.prev=i,n}function cj(r,e,t,n){const a=GP(r,e,t);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function wT(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function GP(r,e,t){return{i:r,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function p3e(r,e,t,n){let a=0;for(let i=e,s=t-n;i<t;i+=n)a+=(r[s]-r[i])*(r[i+1]+r[s+1]),s=i;return a}class v3e{static triangulate(e,t,n=2){return JCe(e,t,n)}}class Wu{static area(e){const t=e.length;let n=0;for(let a=t-1,i=0;i<t;a=i++)n+=e[a].x*e[i].y-e[i].x*e[a].y;return n*.5}static isClockWise(e){return Wu.area(e)<0}static triangulateShape(e,t){const n=[],a=[],i=[];uj(e),fj(n,e);let s=e.length;t.forEach(uj);for(let l=0;l<t.length;l++)a.push(s),s+=t[l].length,fj(n,t[l]);const o=v3e.triangulate(n,a);for(let l=0;l<o.length;l+=3)i.push(o.slice(l,l+3));return i}}function uj(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function fj(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class AI extends tn{constructor(e=new Dm([new St(.5,.5),new St(-.5,.5),new St(-.5,-.5),new St(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,a=[],i=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new fr(a,3)),this.setAttribute("uv",new fr(i,2)),this.computeVertexNormals();function s(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:d-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,m=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:g3e;let S,A=!1,E,M,R,L;y&&(S=y.getSpacedPoints(u),A=!0,h=!1,E=y.computeFrenetFrames(u,!1),M=new Ee,R=new Ee,L=new Ee),h||(m=0,d=0,v=0,g=0);const I=o.extractPoints(c);let O=I.shape;const P=I.holes;if(!Wu.isClockWise(O)){O=O.reverse();for(let K=0,se=P.length;K<se;K++){const _e=P[K];Wu.isClockWise(_e)&&(P[K]=_e.reverse())}}function U(K){const _e=10000000000000001e-36;let oe=K[0];for(let ue=1;ue<=K.length;ue++){const be=ue%K.length,Be=K[be],ze=Be.x-oe.x,Le=Be.y-oe.y,fe=ze*ze+Le*Le,ie=Math.max(Math.abs(Be.x),Math.abs(Be.y),Math.abs(oe.x),Math.abs(oe.y)),Re=_e*ie*ie;if(fe<=Re){K.splice(be,1),ue--;continue}oe=Be}}U(O),P.forEach(U);const F=P.length,q=O;for(let K=0;K<F;K++){const se=P[K];O=O.concat(se)}function H(K,se,_e){return se||Gr("ExtrudeGeometry: vec does not exist"),K.clone().addScaledVector(se,_e)}const Z=O.length;function X(K,se,_e){let oe,ue,be;const Be=K.x-se.x,ze=K.y-se.y,Le=_e.x-K.x,fe=_e.y-K.y,ie=Be*Be+ze*ze,Re=Be*fe-ze*Le;if(Math.abs(Re)>Number.EPSILON){const je=Math.sqrt(ie),it=Math.sqrt(Le*Le+fe*fe),Ge=se.x-ze/je,Bt=se.y+Be/je,pt=_e.x-fe/it,Dt=_e.y+Le/it,Vt=((pt-Ge)*fe-(Dt-Bt)*Le)/(Be*fe-ze*Le);oe=Ge+Be*Vt-K.x,ue=Bt+ze*Vt-K.y;const $e=oe*oe+ue*ue;if($e<=2)return new St(oe,ue);be=Math.sqrt($e/2)}else{let je=!1;Be>Number.EPSILON?Le>Number.EPSILON&&(je=!0):Be<-Number.EPSILON?Le<-Number.EPSILON&&(je=!0):Math.sign(ze)===Math.sign(fe)&&(je=!0),je?(oe=-ze,ue=Be,be=Math.sqrt(ie)):(oe=Be,ue=ze,be=Math.sqrt(ie/2))}return new St(oe/be,ue/be)}const Y=[];for(let K=0,se=q.length,_e=se-1,oe=K+1;K<se;K++,_e++,oe++)_e===se&&(_e=0),oe===se&&(oe=0),Y[K]=X(q[K],q[_e],q[oe]);const re=[];let W,j=Y.concat();for(let K=0,se=F;K<se;K++){const _e=P[K];W=[];for(let oe=0,ue=_e.length,be=ue-1,Be=oe+1;oe<ue;oe++,be++,Be++)be===ue&&(be=0),Be===ue&&(Be=0),W[oe]=X(_e[oe],_e[be],_e[Be]);re.push(W),j=j.concat(W)}let J;if(m===0)J=Wu.triangulateShape(q,P);else{const K=[],se=[];for(let _e=0;_e<m;_e++){const oe=_e/m,ue=d*Math.cos(oe*Math.PI/2),be=v*Math.sin(oe*Math.PI/2)+g;for(let Be=0,ze=q.length;Be<ze;Be++){const Le=H(q[Be],Y[Be],be);we(Le.x,Le.y,-ue),oe===0&&K.push(Le)}for(let Be=0,ze=F;Be<ze;Be++){const Le=P[Be];W=re[Be];const fe=[];for(let ie=0,Re=Le.length;ie<Re;ie++){const je=H(Le[ie],W[ie],be);we(je.x,je.y,-ue),oe===0&&fe.push(je)}oe===0&&se.push(fe)}}J=Wu.triangulateShape(K,se)}const ee=J.length,ae=v+g;for(let K=0;K<Z;K++){const se=h?H(O[K],j[K],ae):O[K];A?(R.copy(E.normals[0]).multiplyScalar(se.x),M.copy(E.binormals[0]).multiplyScalar(se.y),L.copy(S[0]).add(R).add(M),we(L.x,L.y,L.z)):we(se.x,se.y,0)}for(let K=1;K<=u;K++)for(let se=0;se<Z;se++){const _e=h?H(O[se],j[se],ae):O[se];A?(R.copy(E.normals[K]).multiplyScalar(_e.x),M.copy(E.binormals[K]).multiplyScalar(_e.y),L.copy(S[K]).add(R).add(M),we(L.x,L.y,L.z)):we(_e.x,_e.y,f/u*K)}for(let K=m-1;K>=0;K--){const se=K/m,_e=d*Math.cos(se*Math.PI/2),oe=v*Math.sin(se*Math.PI/2)+g;for(let ue=0,be=q.length;ue<be;ue++){const Be=H(q[ue],Y[ue],oe);we(Be.x,Be.y,f+_e)}for(let ue=0,be=P.length;ue<be;ue++){const Be=P[ue];W=re[ue];for(let ze=0,Le=Be.length;ze<Le;ze++){const fe=H(Be[ze],W[ze],oe);A?we(fe.x,fe.y+S[u-1].y,S[u-1].x+_e):we(fe.x,fe.y,f+_e)}}}ce(),me();function ce(){const K=a.length/3;if(h){let se=0,_e=Z*se;for(let oe=0;oe<ee;oe++){const ue=J[oe];Me(ue[2]+_e,ue[1]+_e,ue[0]+_e)}se=u+m*2,_e=Z*se;for(let oe=0;oe<ee;oe++){const ue=J[oe];Me(ue[0]+_e,ue[1]+_e,ue[2]+_e)}}else{for(let se=0;se<ee;se++){const _e=J[se];Me(_e[2],_e[1],_e[0])}for(let se=0;se<ee;se++){const _e=J[se];Me(_e[0]+Z*u,_e[1]+Z*u,_e[2]+Z*u)}}n.addGroup(K,a.length/3-K,0)}function me(){const K=a.length/3;let se=0;Se(q,se),se+=q.length;for(let _e=0,oe=P.length;_e<oe;_e++){const ue=P[_e];Se(ue,se),se+=ue.length}n.addGroup(K,a.length/3-K,1)}function Se(K,se){let _e=K.length;for(;--_e>=0;){const oe=_e;let ue=_e-1;ue<0&&(ue=K.length-1);for(let be=0,Be=u+m*2;be<Be;be++){const ze=Z*be,Le=Z*(be+1),fe=se+oe+ze,ie=se+ue+ze,Re=se+ue+Le,je=se+oe+Le;Ve(fe,ie,Re,je)}}}function we(K,se,_e){l.push(K),l.push(se),l.push(_e)}function Me(K,se,_e){de(K),de(se),de(_e);const oe=a.length/3,ue=b.generateTopUV(n,a,oe-3,oe-2,oe-1);dt(ue[0]),dt(ue[1]),dt(ue[2])}function Ve(K,se,_e,oe){de(K),de(se),de(oe),de(se),de(_e),de(oe);const ue=a.length/3,be=b.generateSideWallUV(n,a,ue-6,ue-3,ue-2,ue-1);dt(be[0]),dt(be[1]),dt(be[3]),dt(be[1]),dt(be[2]),dt(be[3])}function de(K){a.push(l[K*3+0]),a.push(l[K*3+1]),a.push(l[K*3+2])}function dt(K){i.push(K.x),i.push(K.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return m3e(t,n,e)}static fromJSON(e,t){const n=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];n.push(o)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new AR[a.type]().fromJSON(a)),new AI(n,e.options)}}const g3e={generateTopUV:function(r,e,t,n,a){const i=e[t*3],s=e[t*3+1],o=e[n*3],l=e[n*3+1],c=e[a*3],u=e[a*3+1];return[new St(i,s),new St(o,l),new St(c,u)]},generateSideWallUV:function(r,e,t,n,a,i){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[n*3],u=e[n*3+1],f=e[n*3+2],h=e[a*3],d=e[a*3+1],v=e[a*3+2],g=e[i*3],m=e[i*3+1],y=e[i*3+2];return Math.abs(o-u)<Math.abs(s-c)?[new St(s,1-l),new St(c,1-f),new St(h,1-v),new St(g,1-y)]:[new St(o,1-l),new St(u,1-f),new St(d,1-v),new St(m,1-y)]}};function m3e(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,a=r.length;n<a;n++){const i=r[n];t.shapes.push(i.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class EI extends fv{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,a=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,i,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new EI(e.radius,e.detail)}}class MI extends tn{constructor(e=[new St(0,-.5),new St(.5,0),new St(0,.5)],t=12,n=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:a},t=Math.floor(t),a=Br(a,0,Math.PI*2);const i=[],s=[],o=[],l=[],c=[],u=1/t,f=new Ee,h=new St,d=new Ee,v=new Ee,g=new Ee;let m=0,y=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:m=e[b+1].x-e[b].x,y=e[b+1].y-e[b].y,d.x=y*1,d.y=-m,d.z=y*0,g.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:m=e[b+1].x-e[b].x,y=e[b+1].y-e[b].y,d.x=y*1,d.y=-m,d.z=y*0,v.copy(d),d.x+=g.x,d.y+=g.y,d.z+=g.z,d.normalize(),l.push(d.x,d.y,d.z),g.copy(v)}for(let b=0;b<=t;b++){const S=n+b*u*a,A=Math.sin(S),E=Math.cos(S);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*A,f.y=e[M].y,f.z=e[M].x*E,s.push(f.x,f.y,f.z),h.x=b/t,h.y=M/(e.length-1),o.push(h.x,h.y);const R=l[3*M+0]*A,L=l[3*M+1],I=l[3*M+0]*E;c.push(R,L,I)}}for(let b=0;b<t;b++)for(let S=0;S<e.length-1;S++){const A=S+b*e.length,E=A,M=A+e.length,R=A+e.length+1,L=A+1;i.push(E,M,L),i.push(R,L,M)}this.setIndex(i),this.setAttribute("position",new fr(s,3)),this.setAttribute("uv",new fr(o,2)),this.setAttribute("normal",new fr(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MI(e.points,e.segments,e.phiStart,e.phiLength)}}class MA extends fv{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new MA(e.radius,e.detail)}}class $_ extends tn{constructor(e=1,t=1,n=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:a};const i=e/2,s=t/2,o=Math.floor(n),l=Math.floor(a),c=o+1,u=l+1,f=e/o,h=t/l,d=[],v=[],g=[],m=[];for(let y=0;y<u;y++){const b=y*h-s;for(let S=0;S<c;S++){const A=S*f-i;v.push(A,-b,0),g.push(0,0,1),m.push(S/o),m.push(1-y/l)}}for(let y=0;y<l;y++)for(let b=0;b<o;b++){const S=b+c*y,A=b+c*(y+1),E=b+1+c*(y+1),M=b+1+c*y;d.push(S,A,M),d.push(A,E,M)}this.setIndex(d),this.setAttribute("position",new fr(v,3)),this.setAttribute("normal",new fr(g,3)),this.setAttribute("uv",new fr(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $_(e.width,e.height,e.widthSegments,e.heightSegments)}}class CI extends tn{constructor(e=.5,t=1,n=32,a=1,i=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:a,thetaStart:i,thetaLength:s},n=Math.max(3,n),a=Math.max(1,a);const o=[],l=[],c=[],u=[];let f=e;const h=(t-e)/a,d=new Ee,v=new St;for(let g=0;g<=a;g++){for(let m=0;m<=n;m++){const y=i+m/n*s;d.x=f*Math.cos(y),d.y=f*Math.sin(y),l.push(d.x,d.y,d.z),c.push(0,0,1),v.x=(d.x/t+1)/2,v.y=(d.y/t+1)/2,u.push(v.x,v.y)}f+=h}for(let g=0;g<a;g++){const m=g*(n+1);for(let y=0;y<n;y++){const b=y+m,S=b,A=b+n+1,E=b+n+2,M=b+1;o.push(S,A,M),o.push(A,E,M)}}this.setIndex(o),this.setAttribute("position",new fr(l,3)),this.setAttribute("normal",new fr(c,3)),this.setAttribute("uv",new fr(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CI(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class DI extends tn{constructor(e=new Dm([new St(0,.5),new St(-.5,-.5),new St(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],a=[],i=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(n),this.setAttribute("position",new fr(a,3)),this.setAttribute("normal",new fr(i,3)),this.setAttribute("uv",new fr(s,2));function c(u){const f=a.length/3,h=u.extractPoints(t);let d=h.shape;const v=h.holes;Wu.isClockWise(d)===!1&&(d=d.reverse());for(let m=0,y=v.length;m<y;m++){const b=v[m];Wu.isClockWise(b)===!0&&(v[m]=b.reverse())}const g=Wu.triangulateShape(d,v);for(let m=0,y=v.length;m<y;m++){const b=v[m];d=d.concat(b)}for(let m=0,y=d.length;m<y;m++){const b=d[m];a.push(b.x,b.y,0),i.push(0,0,1),s.push(b.x,b.y)}for(let m=0,y=g.length;m<y;m++){const b=g[m],S=b[0]+f,A=b[1]+f,E=b[2]+f;n.push(S,A,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return y3e(t,e)}static fromJSON(e,t){const n=[];for(let a=0,i=e.shapes.length;a<i;a++){const s=t[e.shapes[a]];n.push(s)}return new DI(n,e.curveSegments)}}function y3e(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const a=r[t];e.shapes.push(a.uuid)}else e.shapes.push(r.uuid);return e}class CA extends tn{constructor(e=1,t=32,n=16,a=0,i=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:a,phiLength:i,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const l=Math.min(s+o,Math.PI);let c=0;const u=[],f=new Ee,h=new Ee,d=[],v=[],g=[],m=[];for(let y=0;y<=n;y++){const b=[],S=y/n;let A=0;y===0&&s===0?A=.5/t:y===n&&l===Math.PI&&(A=-.5/t);for(let E=0;E<=t;E++){const M=E/t;f.x=-e*Math.cos(a+M*i)*Math.sin(s+S*o),f.y=e*Math.cos(s+S*o),f.z=e*Math.sin(a+M*i)*Math.sin(s+S*o),v.push(f.x,f.y,f.z),h.copy(f).normalize(),g.push(h.x,h.y,h.z),m.push(M+A,1-S),b.push(c++)}u.push(b)}for(let y=0;y<n;y++)for(let b=0;b<t;b++){const S=u[y][b+1],A=u[y][b],E=u[y+1][b],M=u[y+1][b+1];(y!==0||s>0)&&d.push(S,A,M),(y!==n-1||l<Math.PI)&&d.push(A,E,M)}this.setIndex(d),this.setAttribute("position",new fr(v,3)),this.setAttribute("normal",new fr(g,3)),this.setAttribute("uv",new fr(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CA(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class RI extends fv{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new RI(e.radius,e.detail)}}class NI extends tn{constructor(e=1,t=.4,n=12,a=48,i=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:a,arc:i},n=Math.floor(n),a=Math.floor(a);const s=[],o=[],l=[],c=[],u=new Ee,f=new Ee,h=new Ee;for(let d=0;d<=n;d++)for(let v=0;v<=a;v++){const g=v/a*i,m=d/n*Math.PI*2;f.x=(e+t*Math.cos(m))*Math.cos(g),f.y=(e+t*Math.cos(m))*Math.sin(g),f.z=t*Math.sin(m),o.push(f.x,f.y,f.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(v/a),c.push(d/n)}for(let d=1;d<=n;d++)for(let v=1;v<=a;v++){const g=(a+1)*d+v-1,m=(a+1)*(d-1)+v-1,y=(a+1)*(d-1)+v,b=(a+1)*d+v;s.push(g,m,b),s.push(m,y,b)}this.setIndex(s),this.setAttribute("position",new fr(o,3)),this.setAttribute("normal",new fr(l,3)),this.setAttribute("uv",new fr(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new NI(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class II extends tn{constructor(e=1,t=.4,n=64,a=8,i=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:a,p:i,q:s},n=Math.floor(n),a=Math.floor(a);const o=[],l=[],c=[],u=[],f=new Ee,h=new Ee,d=new Ee,v=new Ee,g=new Ee,m=new Ee,y=new Ee;for(let S=0;S<=n;++S){const A=S/n*i*Math.PI*2;b(A,i,s,e,d),b(A+.01,i,s,e,v),m.subVectors(v,d),y.addVectors(v,d),g.crossVectors(m,y),y.crossVectors(g,m),g.normalize(),y.normalize();for(let E=0;E<=a;++E){const M=E/a*Math.PI*2,R=-t*Math.cos(M),L=t*Math.sin(M);f.x=d.x+(R*y.x+L*g.x),f.y=d.y+(R*y.y+L*g.y),f.z=d.z+(R*y.z+L*g.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),c.push(h.x,h.y,h.z),u.push(S/n),u.push(E/a)}}for(let S=1;S<=n;S++)for(let A=1;A<=a;A++){const E=(a+1)*(S-1)+(A-1),M=(a+1)*S+(A-1),R=(a+1)*S+A,L=(a+1)*(S-1)+A;o.push(E,M,L),o.push(M,R,L)}this.setIndex(o),this.setAttribute("position",new fr(l,3)),this.setAttribute("normal",new fr(c,3)),this.setAttribute("uv",new fr(u,2));function b(S,A,E,M,R){const L=Math.cos(S),I=Math.sin(S),O=E/A*S,P=Math.cos(O);R.x=M*(2+P)*.5*L,R.y=M*(2+P)*I*.5,R.z=M*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new II(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class LI extends tn{constructor(e=new Iz(new Ee(-1,-1,0),new Ee(-1,1,0),new Ee(1,1,0)),t=64,n=1,a=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:a,closed:i};const s=e.computeFrenetFrames(t,i);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new Ee,l=new Ee,c=new St;let u=new Ee;const f=[],h=[],d=[],v=[];g(),this.setIndex(v),this.setAttribute("position",new fr(f,3)),this.setAttribute("normal",new fr(h,3)),this.setAttribute("uv",new fr(d,2));function g(){for(let S=0;S<t;S++)m(S);m(i===!1?t:0),b(),y()}function m(S){u=e.getPointAt(S/t,u);const A=s.normals[S],E=s.binormals[S];for(let M=0;M<=a;M++){const R=M/a*Math.PI*2,L=Math.sin(R),I=-Math.cos(R);l.x=I*A.x+L*E.x,l.y=I*A.y+L*E.y,l.z=I*A.z+L*E.z,l.normalize(),h.push(l.x,l.y,l.z),o.x=u.x+n*l.x,o.y=u.y+n*l.y,o.z=u.z+n*l.z,f.push(o.x,o.y,o.z)}}function y(){for(let S=1;S<=t;S++)for(let A=1;A<=a;A++){const E=(a+1)*(S-1)+(A-1),M=(a+1)*S+(A-1),R=(a+1)*S+A,L=(a+1)*(S-1)+A;v.push(E,M,L),v.push(M,R,L)}}function b(){for(let S=0;S<=t;S++)for(let A=0;A<=a;A++)c.x=S/t,c.y=A/a,d.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new LI(new AR[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ane extends tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,a=new Ee,i=new Ee;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],h=f.start,d=f.count;for(let v=h,g=h+d;v<g;v+=3)for(let m=0;m<3;m++){const y=o.getX(v+m),b=o.getX(v+(m+1)%3);a.fromBufferAttribute(s,y),i.fromBufferAttribute(s,b),hj(a,i,n)===!0&&(t.push(a.x,a.y,a.z),t.push(i.x,i.y,i.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,f=3*o+(c+1)%3;a.fromBufferAttribute(s,u),i.fromBufferAttribute(s,f),hj(a,i,n)===!0&&(t.push(a.x,a.y,a.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new fr(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function hj(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(a)===!0?!1:(t.add(n),t.add(a),!0)}var dj=Object.freeze({__proto__:null,BoxGeometry:hy,CapsuleGeometry:bI,CircleGeometry:SI,ConeGeometry:EA,CylinderGeometry:AA,DodecahedronGeometry:wI,EdgesGeometry:vne,ExtrudeGeometry:AI,IcosahedronGeometry:EI,LatheGeometry:MI,OctahedronGeometry:MA,PlaneGeometry:$_,PolyhedronGeometry:fv,RingGeometry:CI,ShapeGeometry:DI,SphereGeometry:CA,TetrahedronGeometry:RI,TorusGeometry:NI,TorusKnotGeometry:II,TubeGeometry:LI,WireframeGeometry:Ane});class Ene extends To{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Jt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Mne extends oc{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Oz extends To{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Jt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cv,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sc,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Cne extends Oz{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new St(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Br(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Jt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Jt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Jt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Dne extends To{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Jt(16777215),this.specular=new Jt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cv,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sc,this.combine=SA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Rne extends To{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Jt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cv,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Nne extends To{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cv,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Ine extends To{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Jt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Jt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cv,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new sc,this.combine=SA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kz extends To{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Hre,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Pz extends To{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Lne extends To{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Jt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cv,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class One extends sl{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function gm(r,e){return!r||r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function kne(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Pne(r){function e(a,i){return r[a]-r[i]}const t=r.length,n=new Array(t);for(let a=0;a!==t;++a)n[a]=a;return n.sort(e),n}function jP(r,e,t){const n=r.length,a=new r.constructor(n);for(let i=0,s=0;s!==n;++i){const o=t[i]*e;for(let l=0;l!==e;++l)a[s++]=r[o+l]}return a}function Bz(r,e,t,n){let a=1,i=r[0];for(;i!==void 0&&i[n]===void 0;)i=r[a++];if(i===void 0)return;let s=i[n];if(s!==void 0)if(Array.isArray(s))do s=i[n],s!==void 0&&(e.push(i.time),t.push(...s)),i=r[a++];while(i!==void 0);else if(s.toArray!==void 0)do s=i[n],s!==void 0&&(e.push(i.time),s.toArray(t,t.length)),i=r[a++];while(i!==void 0);else do s=i[n],s!==void 0&&(e.push(i.time),t.push(s)),i=r[a++];while(i!==void 0)}function x3e(r,e,t,n,a=30){const i=r.clone();i.name=e;const s=[];for(let l=0;l<i.tracks.length;++l){const c=i.tracks[l],u=c.getValueSize(),f=[],h=[];for(let d=0;d<c.times.length;++d){const v=c.times[d]*a;if(!(v<t||v>=n)){f.push(c.times[d]);for(let g=0;g<u;++g)h.push(c.values[d*u+g])}}f.length!==0&&(c.times=gm(f,c.times.constructor),c.values=gm(h,c.values.constructor),s.push(c))}i.tracks=s;let o=1/0;for(let l=0;l<i.tracks.length;++l)o>i.tracks[l].times[0]&&(o=i.tracks[l].times[0]);for(let l=0;l<i.tracks.length;++l)i.tracks[l].shift(-1*o);return i.resetDuration(),i}function _3e(r,e=0,t=r,n=30){n<=0&&(n=30);const a=t.tracks.length,i=e/n;for(let s=0;s<a;++s){const o=t.tracks[s],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=r.tracks.find(function(y){return y.name===o.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let h=0;const d=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const v=o.times.length-1;let g;if(i<=o.times[0]){const y=u,b=f-u;g=o.values.slice(y,b)}else if(i>=o.times[v]){const y=v*f+u,b=y+f-u;g=o.values.slice(y,b)}else{const y=o.createInterpolant(),b=u,S=f-u;y.evaluate(i),g=y.resultBuffer.slice(b,S)}l==="quaternion"&&new yo().fromArray(g).normalize().conjugate().toArray(g);const m=c.times.length;for(let y=0;y<m;++y){const b=y*d+h;if(l==="quaternion")yo.multiplyQuaternionsFlat(c.values,b,g,0,c.values,b);else{const S=d-h*2;for(let A=0;A<S;++A)c.values[b+A]-=g[A]}}}return r.blendMode=gz,r}class b3e{static convertArray(e,t){return gm(e,t)}static isTypedArray(e){return kne(e)}static getKeyframeOrder(e){return Pne(e)}static sortedArray(e,t,n){return jP(e,t,n)}static flattenJSON(e,t,n,a){Bz(e,t,n,a)}static subclip(e,t,n,a,i=30){return x3e(e,t,n,a,i)}static makeClipAdditive(e,t=0,n=e,a=30){return _3e(e,t,n,a)}}class DA{constructor(e,t,n,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,a=t[n],i=t[n-1];e:{t:{let s;r:{n:if(!(e<a)){for(let o=n+2;;){if(a===void 0){if(e<i)break n;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=a,a=t[++n],e<a)break t}s=t.length;break r}if(!(e>=i)){const o=t[1];e<o&&(n=2,i=o);for(let l=n-2;;){if(i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(a=i,i=t[--n-1],e>=i)break t}s=n,n=0;break r}break e}for(;n<s;){const o=n+s>>>1;e<t[o]?s=o:n=o+1}if(a=t[n],i=t[n-1],i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,a)}return this.interpolate_(n,i,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,a=this.valueSize,i=e*a;for(let s=0;s!==a;++s)t[s]=n[i+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Bne extends DA{constructor(e,t,n,a){super(e,t,n,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:pm,endingEnd:pm}}intervalChanged_(e,t,n){const a=this.parameterPositions;let i=e-2,s=e+1,o=a[i],l=a[s];if(o===void 0)switch(this.getSettings_().endingStart){case vm:i=e,o=2*t-n;break;case gT:i=a.length-2,o=t+a[i]-a[i+1];break;default:i=e,o=n}if(l===void 0)switch(this.getSettings_().endingEnd){case vm:s=e,l=2*n-t;break;case gT:s=1,l=n+a[1]-a[0];break;default:s=e-1,l=t}const c=(n-t)*.5,u=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-n),this._offsetPrev=i*u,this._offsetNext=s*u}interpolate_(e,t,n,a){const i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,v=(n-t)/(a-t),g=v*v,m=g*v,y=-h*m+2*h*g-h*v,b=(1+h)*m+(-1.5-2*h)*g+(-.5+h)*v+1,S=(-1-d)*m+(1.5+d)*g+.5*v,A=d*m-d*g;for(let E=0;E!==o;++E)i[E]=y*s[u+E]+b*s[c+E]+S*s[l+E]+A*s[f+E];return i}}class zz extends DA{constructor(e,t,n,a){super(e,t,n,a)}interpolate_(e,t,n,a){const i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(n-t)/(a-t),f=1-u;for(let h=0;h!==o;++h)i[h]=s[c+h]*f+s[l+h]*u;return i}}class zne extends DA{constructor(e,t,n,a){super(e,t,n,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class nu{constructor(e,t,n,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gm(t,this.TimeBufferType),this.values=gm(n,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:gm(e.times,Array),values:gm(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(n.interpolation=a)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new zne(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Bne(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case vT:t=this.InterpolantFactoryMethodDiscrete;break;case SR:t=this.InterpolantFactoryMethodLinear;break;case Y3:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return $t("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return vT;case this.InterpolantFactoryMethodLinear:return SR;case this.InterpolantFactoryMethodSmooth:return Y3}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,a=t.length;n!==a;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,a=t.length;n!==a;++n)t[n]*=e}return this}trim(e,t){const n=this.times,a=n.length;let i=0,s=a-1;for(;i!==a&&n[i]<e;)++i;for(;s!==-1&&n[s]>t;)--s;if(++s,i!==0||s!==a){i>=s&&(s=Math.max(s,1),i=s-1);const o=this.getValueSize();this.times=n.slice(i,s),this.values=this.values.slice(i*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Gr("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,a=this.values,i=n.length;i===0&&(Gr("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==i;o++){const l=n[o];if(typeof l=="number"&&isNaN(l)){Gr("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){Gr("KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(a!==void 0&&kne(a))for(let o=0,l=a.length;o!==l;++o){const c=a[o];if(isNaN(c)){Gr("KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),a=this.getInterpolation()===Y3,i=e.length-1;let s=1;for(let o=1;o<i;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(a)l=!0;else{const f=o*n,h=f-n,d=f+n;for(let v=0;v!==n;++v){const g=t[f+v];if(g!==t[h+v]||g!==t[d+v]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const f=o*n,h=s*n;for(let d=0;d!==n;++d)t[h+d]=t[f+d]}++s}}if(i>0){e[s]=e[i];for(let o=i*n,l=s*n,c=0;c!==n;++c)t[l+c]=t[o+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,a=new n(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}nu.prototype.ValueTypeName="";nu.prototype.TimeBufferType=Float32Array;nu.prototype.ValueBufferType=Float32Array;nu.prototype.DefaultInterpolation=SR;class dy extends nu{constructor(e,t,n){super(e,t,n)}}dy.prototype.ValueTypeName="bool";dy.prototype.ValueBufferType=Array;dy.prototype.DefaultInterpolation=vT;dy.prototype.InterpolantFactoryMethodLinear=void 0;dy.prototype.InterpolantFactoryMethodSmooth=void 0;class Fz extends nu{constructor(e,t,n,a){super(e,t,n,a)}}Fz.prototype.ValueTypeName="color";class TT extends nu{constructor(e,t,n,a){super(e,t,n,a)}}TT.prototype.ValueTypeName="number";class Fne extends DA{constructor(e,t,n,a){super(e,t,n,a)}interpolate_(e,t,n,a){const i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(n-t)/(a-t);let c=e*o;for(let u=c+o;c!==u;c+=4)yo.slerpFlat(i,0,s,c-o,s,c,l);return i}}class RA extends nu{constructor(e,t,n,a){super(e,t,n,a)}InterpolantFactoryMethodLinear(e){return new Fne(this.times,this.values,this.getValueSize(),e)}}RA.prototype.ValueTypeName="quaternion";RA.prototype.InterpolantFactoryMethodSmooth=void 0;class py extends nu{constructor(e,t,n){super(e,t,n)}}py.prototype.ValueTypeName="string";py.prototype.ValueBufferType=Array;py.prototype.DefaultInterpolation=vT;py.prototype.InterpolantFactoryMethodLinear=void 0;py.prototype.InterpolantFactoryMethodSmooth=void 0;class AT extends nu{constructor(e,t,n,a){super(e,t,n,a)}}AT.prototype.ValueTypeName="vector";class ET{constructor(e="",t=-1,n=[],a=fI){this.name=e,this.tracks=n,this.duration=t,this.blendMode=a,this.uuid=rc(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,a=1/(e.fps||1);for(let s=0,o=n.length;s!==o;++s)t.push(w3e(n[s]).scale(a));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i.userData=JSON.parse(e.userData||"{}"),i}static toJSON(e){const t=[],n=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let i=0,s=n.length;i!==s;++i)t.push(nu.toJSON(n[i]));return a}static CreateFromMorphTargetSequence(e,t,n,a){const i=t.length,s=[];for(let o=0;o<i;o++){let l=[],c=[];l.push((o+i-1)%i,o,(o+1)%i),c.push(0,1,0);const u=Pne(l);l=jP(l,1,u),c=jP(c,1,u),!a&&l[0]===0&&(l.push(i),c.push(c[0])),s.push(new TT(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const a=e;n=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<n.length;a++)if(n[a].name===t)return n[a];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const a={},i=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(i);if(u&&u.length>1){const f=u[1];let h=a[f];h||(a[f]=h=[]),h.push(c)}}const s=[];for(const o in a)s.push(this.CreateFromMorphTargetSequence(o,a[o],t,n));return s}static parseAnimation(e,t){if($t("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Gr("AnimationClip: No animation in JSONLoader data."),null;const n=function(f,h,d,v,g){if(d.length!==0){const m=[],y=[];Bz(d,m,y,v),m.length!==0&&g.push(new f(h,m,y))}},a=[],i=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let v;for(v=0;v<h.length;v++)if(h[v].morphTargets)for(let g=0;g<h[v].morphTargets.length;g++)d[h[v].morphTargets[g]]=-1;for(const g in d){const m=[],y=[];for(let b=0;b!==h[v].morphTargets.length;++b){const S=h[v];m.push(S.time),y.push(S.morphTarget===g?1:0)}a.push(new TT(".morphTargetInfluence["+g+"]",m,y))}l=d.length*s}else{const d=".bones["+t[f].name+"]";n(AT,d+".position",h,"pos",a),n(RA,d+".quaternion",h,"rot",a),n(AT,d+".scale",h,"scl",a)}}return a.length===0?null:new this(i,l,a,o)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,a=e.length;n!==a;++n){const i=this.tracks[n];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function S3e(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return TT;case"vector":case"vector2":case"vector3":case"vector4":return AT;case"color":return Fz;case"quaternion":return RA;case"bool":case"boolean":return dy;case"string":return py}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function w3e(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=S3e(r.type);if(r.times===void 0){const t=[],n=[];Bz(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const lh={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class Uz{constructor(e,t,n){const a=this;let i=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(u){o++,i===!1&&a.onStart!==void 0&&a.onStart(u,s,o),i=!0},this.itemEnd=function(u){s++,a.onProgress!==void 0&&a.onProgress(u,s,o),s===o&&(i=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(u){a.onError!==void 0&&a.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const d=c[f],v=c[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return v}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Une=new Uz;class Cl{constructor(e){this.manager=e!==void 0?e:Une,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(a,i){n.load(e,a,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Cl.DEFAULT_MATERIAL_NAME="__DEFAULT";const gd={};class T3e extends Error{constructor(e,t){super(e),this.response=t}}class ep extends Cl{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const i=lh.get(`file:${e}`);if(i!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(gd[e]!==void 0){gd[e].push({onLoad:t,onProgress:n,onError:a});return}gd[e]=[],gd[e].push({onLoad:t,onProgress:n,onError:a});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&$t("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=gd[e],f=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),d=h?parseInt(h):0,v=d!==0;let g=0;const m=new ReadableStream({start(y){b();function b(){f.read().then(({done:S,value:A})=>{if(S)y.close();else{g+=A.byteLength;const E=new ProgressEvent("progress",{lengthComputable:v,loaded:g,total:d});for(let M=0,R=u.length;M<R;M++){const L=u[M];L.onProgress&&L.onProgress(E)}y.enqueue(A),b()}},S=>{y.error(S)})}}});return new Response(m)}else throw new T3e(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o==="")return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return c.arrayBuffer().then(v=>d.decode(v))}}}).then(c=>{lh.add(`file:${e}`,c);const u=gd[e];delete gd[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onLoad&&d.onLoad(c)}}).catch(c=>{const u=gd[e];if(u===void 0)throw this.manager.itemError(e),c;delete gd[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class A3e extends Cl{constructor(e){super(e)}load(e,t,n,a){const i=this,s=new ep(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(i.parse(JSON.parse(o)))}catch(l){a?a(l):Gr(l),i.manager.itemError(e)}},n,a)}parse(e){const t=[];for(let n=0;n<e.length;n++){const a=ET.parse(e[n]);t.push(a)}return t}}class E3e extends Cl{constructor(e){super(e)}load(e,t,n,a){const i=this,s=[],o=new _I,l=new ep(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(i.withCredentials);let c=0;function u(f){l.load(e[f],function(h){const d=i.parse(h,!0);s[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},c+=1,c===6&&(d.mipmapCount===1&&(o.minFilter=xi),o.image=s,o.format=d.format,o.needsUpdate=!0,t&&t(o))},n,a)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)u(f);else l.load(e,function(f){const h=i.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let v=0;v<d;v++){s[v]={mipmaps:[]};for(let g=0;g<h.mipmapCount;g++)s[v].mipmaps.push(h.mipmaps[v*h.mipmapCount+g]),s[v].format=h.format,s[v].width=h.width,s[v].height=h.height}o.image=s}else o.image.width=h.width,o.image.height=h.height,o.mipmaps=h.mipmaps;h.mipmapCount===1&&(o.minFilter=xi),o.format=h.format,o.needsUpdate=!0,t&&t(o)},n,a);return o}}const Kx=new WeakMap;class MT extends Cl{constructor(e){super(e)}load(e,t,n,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,s=lh.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)i.manager.itemStart(e),setTimeout(function(){t&&t(s),i.manager.itemEnd(e)},0);else{let f=Kx.get(s);f===void 0&&(f=[],Kx.set(s,f)),f.push({onLoad:t,onError:a})}return s}const o=xT("img");function l(){u(),t&&t(this);const f=Kx.get(this)||[];for(let h=0;h<f.length;h++){const d=f[h];d.onLoad&&d.onLoad(this)}Kx.delete(this),i.manager.itemEnd(e)}function c(f){u(),a&&a(f),lh.remove(`image:${e}`);const h=Kx.get(this)||[];for(let d=0;d<h.length;d++){const v=h[d];v.onError&&v.onError(f)}Kx.delete(this),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),lh.add(`image:${e}`,o),i.manager.itemStart(e),o.src=e,o}}class M3e extends Cl{constructor(e){super(e)}load(e,t,n,a){const i=new TA;i.colorSpace=fo;const s=new MT(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function l(c){s.load(e[c],function(u){i.images[c]=u,o++,o===6&&(i.needsUpdate=!0,t&&t(i))},void 0,a)}for(let c=0;c<e.length;++c)l(c);return i}}class C3e extends Cl{constructor(e){super(e)}load(e,t,n,a){const i=this,s=new Zu,o=new ep(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,function(l){let c;try{c=i.parse(l)}catch(u){if(a!==void 0)a(u);else{u(u);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:Tl,s.wrapT=c.wrapT!==void 0?c.wrapT:Tl,s.magFilter=c.magFilter!==void 0?c.magFilter:xi,s.minFilter=c.minFilter!==void 0?c.minFilter:xi,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=oh),c.mipmapCount===1&&(s.minFilter=xi),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c)},n,a),s}}class D3e extends Cl{constructor(e){super(e)}load(e,t,n,a){const i=new ii,s=new MT(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){i.image=o,i.needsUpdate=!0,t!==void 0&&t(i)},n,a),i}}class hv extends Bn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Jt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class Vne extends hv{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Jt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const uO=new Vr,pj=new Ee,vj=new Ee;class Vz{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new St(512,512),this.mapType=$c,this.map=null,this.mapPass=null,this.matrix=new Vr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new K_,this._frameExtents=new St(1,1),this._viewportCount=1,this._viewports=[new Un(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;pj.setFromMatrixPosition(e.matrixWorld),t.position.copy(pj),vj.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(vj),t.updateMatrixWorld(),uO.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uO,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(uO)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class R3e extends Vz{constructor(){super(new yi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=g_*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,i=e.distance||t.far;(n!==t.fov||a!==t.aspect||i!==t.far)&&(t.fov=n,t.aspect=a,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Hne extends hv{constructor(e,t,n=0,a=Math.PI/3,i=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.distance=n,this.angle=a,this.penumbra=i,this.decay=s,this.map=null,this.shadow=new R3e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const gj=new Vr,o2=new Ee,fO=new Ee;class N3e extends Vz{constructor(){super(new yi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new St(4,2),this._viewportCount=6,this._viewports=[new Un(2,1,1,1),new Un(0,1,1,1),new Un(3,1,1,1),new Un(1,1,1,1),new Un(3,0,1,1),new Un(1,0,1,1)],this._cubeDirections=[new Ee(1,0,0),new Ee(-1,0,0),new Ee(0,0,1),new Ee(0,0,-1),new Ee(0,1,0),new Ee(0,-1,0)],this._cubeUps=[new Ee(0,1,0),new Ee(0,1,0),new Ee(0,1,0),new Ee(0,1,0),new Ee(0,0,1),new Ee(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,a=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),o2.setFromMatrixPosition(e.matrixWorld),n.position.copy(o2),fO.copy(n.position),fO.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(fO),n.updateMatrixWorld(),a.makeTranslation(-o2.x,-o2.y,-o2.z),gj.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gj,n.coordinateSystem,n.reversedDepth)}}class Gne extends hv{constructor(e,t,n=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=a,this.shadow=new N3e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class F0 extends pI{constructor(e=-1,t=1,n=1,a=-1,i=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=a,this.near=i,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,a,i,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=a,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let i=n-e,s=n+e,o=a+t,l=a-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=c*this.view.offsetX,s=i+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(i,s,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class I3e extends Vz{constructor(){super(new F0(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class jne extends hv{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.shadow=new I3e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Wne extends hv{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Yne extends hv{constructor(e,t,n=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Xne{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ee)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,a=e.y,i=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*a),t.addScaledVector(s[2],.488603*i),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*a)),t.addScaledVector(s[5],1.092548*(a*i)),t.addScaledVector(s[6],.315392*(3*i*i-1)),t.addScaledVector(s[7],1.092548*(n*i)),t.addScaledVector(s[8],.546274*(n*n-a*a)),t}getIrradianceAt(e,t){const n=e.x,a=e.y,i=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*a),t.addScaledVector(s[2],2*.511664*i),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*a),t.addScaledVector(s[5],2*.429043*a*i),t.addScaledVector(s[6],.743125*i*i-.247708),t.addScaledVector(s[7],2*.429043*n*i),t.addScaledVector(s[8],.429043*(n*n-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let a=0;a<9;a++)n[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let a=0;a<9;a++)n[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const n=e.x,a=e.y,i=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*a,t[5]=1.092548*a*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-a*a)}}class qne extends hv{constructor(e=new Xne,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class OI extends Cl{constructor(e){super(e),this.textures={}}load(e,t,n,a){const i=this,s=new ep(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,function(o){try{t(i.parse(JSON.parse(o)))}catch(l){a?a(l):Gr(l),i.manager.itemError(e)}},n,a)}parse(e){const t=this.textures;function n(i){return t[i]===void 0&&$t("MaterialLoader: Undefined texture",i),t[i]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new Jt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const i in e.uniforms){const s=e.uniforms[i];switch(a.uniforms[i]={},s.type){case"t":a.uniforms[i].value=n(s.value);break;case"c":a.uniforms[i].value=new Jt().setHex(s.value);break;case"v2":a.uniforms[i].value=new St().fromArray(s.value);break;case"v3":a.uniforms[i].value=new Ee().fromArray(s.value);break;case"v4":a.uniforms[i].value=new Un().fromArray(s.value);break;case"m3":a.uniforms[i].value=new en().fromArray(s.value);break;case"m4":a.uniforms[i].value=new Vr().fromArray(s.value);break;default:a.uniforms[i].value=s.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const i in e.extensions)a.extensions[i]=e.extensions[i];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=n(e.map)),e.matcap!==void 0&&(a.matcap=n(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let i=e.normalScale;Array.isArray(i)===!1&&(i=[i,i]),a.normalScale=new St().fromArray(i)}return e.displacementMap!==void 0&&(a.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=n(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new St().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=n(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return OI.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:Ene,SpriteMaterial:wz,RawShaderMaterial:Mne,ShaderMaterial:oc,PointsMaterial:Az,MeshPhysicalMaterial:Cne,MeshStandardMaterial:Oz,MeshPhongMaterial:Dne,MeshToonMaterial:Rne,MeshNormalMaterial:Nne,MeshLambertMaterial:Ine,MeshDepthMaterial:kz,MeshDistanceMaterial:Pz,MeshBasicMaterial:uv,MeshMatcapMaterial:Lne,LineDashedMaterial:One,LineBasicMaterial:sl,Material:To};return new t[e]}}class WP{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Zne extends tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Kne extends Cl{constructor(e){super(e)}load(e,t,n,a){const i=this,s=new ep(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,function(o){try{t(i.parse(JSON.parse(o)))}catch(l){a?a(l):Gr(l),i.manager.itemError(e)}},n,a)}parse(e){const t={},n={};function a(d,v){if(t[v]!==void 0)return t[v];const m=d.interleavedBuffers[v],y=i(d,m.buffer),b=F1(m.type,y),S=new mI(b,m.stride);return S.uuid=m.uuid,t[v]=S,S}function i(d,v){if(n[v]!==void 0)return n[v];const m=d.arrayBuffers[v],y=new Uint32Array(m).buffer;return n[v]=y,y}const s=e.isInstancedBufferGeometry?new Zne:new tn,o=e.data.index;if(o!==void 0){const d=F1(o.type,o.array);s.setIndex(new va(d,1))}const l=e.data.attributes;for(const d in l){const v=l[d];let g;if(v.isInterleavedBufferAttribute){const m=a(e.data,v.data);g=new Hm(m,v.itemSize,v.offset,v.normalized)}else{const m=F1(v.type,v.array),y=v.isInstancedBufferAttribute?x_:va;g=new y(m,v.itemSize,v.normalized)}v.name!==void 0&&(g.name=v.name),v.usage!==void 0&&g.setUsage(v.usage),s.setAttribute(d,g)}const c=e.data.morphAttributes;if(c)for(const d in c){const v=c[d],g=[];for(let m=0,y=v.length;m<y;m++){const b=v[m];let S;if(b.isInterleavedBufferAttribute){const A=a(e.data,b.data);S=new Hm(A,b.itemSize,b.offset,b.normalized)}else{const A=F1(b.type,b.array);S=new va(A,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),g.push(S)}s.morphAttributes[d]=g}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,v=f.length;d!==v;++d){const g=f[d];s.addGroup(g.start,g.count,g.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(s.boundingSphere=new Fs().fromJSON(h)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class L3e extends Cl{constructor(e){super(e)}load(e,t,n,a){const i=this,s=this.path===""?WP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new ep(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){a!==void 0&&a(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),Gr("ObjectLoader: Can't load "+e);return}i.parse(c,t)},n,a)}async loadAsync(e,t){const n=this,a=this.path===""?WP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const i=new ep(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const s=await i.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,a),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,i,l,o,n),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),t!==void 0){let f=!1;for(const h in s)if(s[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,a,o,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let n=0,a=e.length;n<a;n++){const i=new Dm().fromJSON(e[n]);t[i.uuid]=i}return t}parseSkeletons(e,t){const n={},a={};if(t.traverse(function(i){i.isBone&&(a[i.uuid]=i)}),e!==void 0)for(let i=0,s=e.length;i<s;i++){const o=new yI().fromJSON(e[i],a);n[o.uuid]=o}return n}parseGeometries(e,t){const n={};if(e!==void 0){const a=new Kne;for(let i=0,s=e.length;i<s;i++){let o;const l=e[i];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=a.parse(l);break;default:l.type in dj?o=dj[l.type].fromJSON(l,t):$t(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),n[l.uuid]=o}}return n}parseMaterials(e,t){const n={},a={};if(e!==void 0){const i=new OI;i.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];n[l.uuid]===void 0&&(n[l.uuid]=i.parse(l)),a[l.uuid]=n[l.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const a=e[n],i=ET.parse(a);t[i.uuid]=i}return t}parseImages(e,t){const n=this,a={};let i;function s(l){return n.manager.itemStart(l),i.load(l,function(){n.manager.itemEnd(l)},void 0,function(){n.manager.itemError(l),n.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:n.resourcePath+c;return s(u)}else return l.data?{data:F1(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Uz(t);i=new MT(l),i.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],h=f.url;if(Array.isArray(h)){const d=[];for(let v=0,g=h.length;v<g;v++){const m=h[v],y=o(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Zu(y.data,y.width,y.height)))}a[f.uuid]=new C0(d)}else{const d=o(f.url);a[f.uuid]=new C0(d)}}}return a}async parseImagesAsync(e){const t=this,n={};let a;async function i(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await a.loadAsync(l)}else return s.data?{data:F1(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){a=new MT(this.manager),a.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f],v=await i(d);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new Zu(v.data,v.width,v.height)))}n[l.uuid]=new C0(u)}else{const u=await i(l.url);n[l.uuid]=new C0(u)}}}return n}parseTextures(e,t){function n(i,s){return typeof i=="number"?i:($t("ObjectLoader.parseTexture: Constant should be in numeric form.",i),s[i])}const a={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const o=e[i];o.image===void 0&&$t('ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&$t("ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let u;Array.isArray(c)?(u=new TA,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Zu:u=new ii,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=n(o.mapping,O3e)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=n(o.wrap[0],mj),u.wrapT=n(o.wrap[1],mj)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=n(o.minFilter,yj)),o.magFilter!==void 0&&(u.magFilter=n(o.magFilter,yj)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),a[o.uuid]=u}return a}parseObject(e,t,n,a,i){let s;function o(h){return t[h]===void 0&&$t("ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let v=0,g=h.length;v<g;v++){const m=h[v];n[m]===void 0&&$t("ObjectLoader: Undefined material",m),d.push(n[m])}return d}return n[h]===void 0&&$t("ObjectLoader: Undefined material",h),n[h]}}function c(h){return a[h]===void 0&&$t("ObjectLoader: Undefined texture",h),a[h]}let u,f;switch(e.type){case"Scene":s=new Sz,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Jt(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new gI(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new vI(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new yi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new F0(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Wne(e.color,e.intensity);break;case"DirectionalLight":s=new jne(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new Gne(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Yne(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Hne(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new Vne(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new qne().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),f=l(e.material),s=new cne(u,f),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),f=l(e.material),s=new Qi(u,f);break;case"InstancedMesh":u=o(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,v=e.instanceColor;s=new une(u,f,h),s.instanceMatrix=new x_(new Float32Array(d.array),16),v!==void 0&&(s.instanceColor=new x_(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":u=o(e.geometry),f=l(e.material),s=new fne(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),s.geometry=u,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(g=>{let m=null,y=null;return g.boundingBox!==void 0&&(m=new xo().fromJSON(g.boundingBox)),g.boundingSphere!==void 0&&(y=new Fs().fromJSON(g.boundingSphere)),{...g,boundingBox:m,boundingSphere:y}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=c(e.matricesTexture.uuid),s._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new Fs().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new xo().fromJSON(e.boundingBox));break;case"LOD":s=new lne;break;case"Line":s=new tv(o(e.geometry),l(e.material));break;case"LineLoop":s=new hne(o(e.geometry),l(e.material));break;case"LineSegments":s=new Nh(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new dne(o(e.geometry),l(e.material));break;case"Sprite":s=new one(l(e.material));break;case"Group":s=new U1;break;case"Bone":s=new Tz;break;default:s=new Bn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)s.add(this.parseObject(h[d],t,n,a,i))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const v=h[d];s.animations.push(i[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const v=h[d],g=s.getObjectByProperty("uuid",v.object);g!==void 0&&s.addLevel(g,v.distance,v.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const a=t[n.skeleton];a===void 0?$t("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(a,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,a=e.getObjectByProperty("uuid",n);a!==void 0?t.target=a:t.target=new Bn}})}}const O3e={UVMapping:nI,CubeReflectionMapping:Jd,CubeRefractionMapping:J0,EquirectangularReflectionMapping:fT,EquirectangularRefractionMapping:hT,CubeUVReflectionMapping:Z_},mj={RepeatWrapping:dT,ClampToEdgeWrapping:Tl,MirroredRepeatWrapping:pT},yj={NearestFilter:zs,NearestMipmapNearestFilter:cz,NearestMipmapLinearFilter:z1,LinearFilter:xi,LinearMipmapNearestFilter:Aw,LinearMipmapLinearFilter:oh},hO=new WeakMap;class k3e extends Cl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&$t("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&$t("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,s=lh.get(`image-bitmap:${e}`);if(s!==void 0){if(i.manager.itemStart(e),s.then){s.then(c=>{if(hO.has(s)===!0)a&&a(hO.get(s)),i.manager.itemError(e),i.manager.itemEnd(e);else return t&&t(c),i.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(s),i.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(c){return lh.add(`image-bitmap:${e}`,c),t&&t(c),i.manager.itemEnd(e),c}).catch(function(c){a&&a(c),hO.set(l,c),lh.remove(`image-bitmap:${e}`),i.manager.itemError(e),i.manager.itemEnd(e)});lh.add(`image-bitmap:${e}`,l),i.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let mC;class Hz{static getContext(){return mC===void 0&&(mC=new(window.AudioContext||window.webkitAudioContext)),mC}static setContext(e){mC=e}}class P3e extends Cl{constructor(e){super(e)}load(e,t,n,a){const i=this,s=new ep(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);Hz.getContext().decodeAudioData(c,function(f){t(f)}).catch(o)}catch(c){o(c)}},n,a);function o(l){a?a(l):Gr(l),i.manager.itemError(e)}}}const xj=new Vr,_j=new Vr,mg=new Vr;class B3e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new yi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,mg.copy(e.projectionMatrix);const a=t.eyeSep/2,i=a*t.near/t.focus,s=t.near*Math.tan(Cm*t.fov*.5)/t.zoom;let o,l;_j.elements[12]=-a,xj.elements[12]=a,o=-s*t.aspect+i,l=s*t.aspect+i,mg.elements[0]=2*t.near/(l-o),mg.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(mg),o=-s*t.aspect-i,l=s*t.aspect-i,mg.elements[0]=2*t.near/(l-o),mg.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(mg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_j),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(xj)}}class $ne extends yi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Gz{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const yg=new Ee,dO=new yo,z3e=new Ee,xg=new Ee,_g=new Ee;class F3e extends Bn{constructor(){super(),this.type="AudioListener",this.context=Hz.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Gz}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yg,dO,z3e),xg.set(0,0,-1).applyQuaternion(dO),_g.set(0,1,0).applyQuaternion(dO),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(yg.x,n),t.positionY.linearRampToValueAtTime(yg.y,n),t.positionZ.linearRampToValueAtTime(yg.z,n),t.forwardX.linearRampToValueAtTime(xg.x,n),t.forwardY.linearRampToValueAtTime(xg.y,n),t.forwardZ.linearRampToValueAtTime(xg.z,n),t.upX.linearRampToValueAtTime(_g.x,n),t.upY.linearRampToValueAtTime(_g.y,n),t.upZ.linearRampToValueAtTime(_g.z,n)}else t.setPosition(yg.x,yg.y,yg.z),t.setOrientation(xg.x,xg.y,xg.z,_g.x,_g.y,_g.z)}}class Jne extends Bn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){$t("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){$t("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){$t("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){$t("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){$t("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?($t("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){$t("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?($t("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const bg=new Ee,bj=new yo,U3e=new Ee,Sg=new Ee;class V3e extends Jne{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bg,bj,U3e),Sg.set(0,0,1).applyQuaternion(bj);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(bg.x,n),t.positionY.linearRampToValueAtTime(bg.y,n),t.positionZ.linearRampToValueAtTime(bg.z,n),t.orientationX.linearRampToValueAtTime(Sg.x,n),t.orientationY.linearRampToValueAtTime(Sg.y,n),t.orientationZ.linearRampToValueAtTime(Sg.z,n)}else t.setPosition(bg.x,bg.y,bg.z),t.setOrientation(Sg.x,Sg.y,Sg.z)}}class H3e{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Qne{constructor(e,t,n){this.binding=e,this.valueSize=n;let a,i,s;switch(t){case"quaternion":a=this._slerp,i=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":a=this._select,i=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:a=this._lerp,i=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=i,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,a=this.valueSize,i=e*a+a;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==a;++o)n[i+o]=n[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(n,i,0,o,a)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,a=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,a=e*t+t,i=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const l=t*this._origIndex;this._mixBufferRegion(n,a,l,1-i,t)}s>0&&this._mixBufferRegionAdditive(n,a,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(n[l]!==n[l+t]){o.setValue(n,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,a=n*this._origIndex;e.getValue(t,a);for(let i=n,s=a;i!==s;++i)t[i]=t[a+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,a,i){if(a>=.5)for(let s=0;s!==i;++s)e[t+s]=e[n+s]}_slerp(e,t,n,a){yo.slerpFlat(e,t,e,t,e,n,a)}_slerpAdditive(e,t,n,a,i){const s=this._workIndex*i;yo.multiplyQuaternionsFlat(e,s,e,t,e,n),yo.slerpFlat(e,t,e,t,e,s,a)}_lerp(e,t,n,a,i){const s=1-a;for(let o=0;o!==i;++o){const l=t+o;e[l]=e[l]*s+e[n+o]*a}}_lerpAdditive(e,t,n,a,i){for(let s=0;s!==i;++s){const o=t+s;e[o]=e[o]+e[n+s]*a}}}const jz="\\[\\]\\.:\\/",G3e=new RegExp("["+jz+"]","g"),Wz="[^"+jz+"]",j3e="[^"+jz.replace("\\.","")+"]",W3e=/((?:WC+[\/:])*)/.source.replace("WC",Wz),Y3e=/(WCOD+)?/.source.replace("WCOD",j3e),X3e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Wz),q3e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Wz),Z3e=new RegExp("^"+W3e+Y3e+X3e+q3e+"$"),K3e=["material","materials","bones","map"];class $3e{constructor(e,t,n){const a=n||Fn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,a=this._bindings[n];a!==void 0&&a.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let a=this._targetGroup.nCachedObjects_,i=n.length;a!==i;++a)n[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Fn{constructor(e,t,n){this.path=t,this.parsedPath=n||Fn.parseTrackName(t),this.node=Fn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Fn.Composite(e,t,n):new Fn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(G3e,"")}static parseTrackName(e){const t=Z3e.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=n.nodeName&&n.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const i=n.nodeName.substring(a+1);K3e.indexOf(i)!==-1&&(n.nodeName=n.nodeName.substring(0,a),n.objectName=i)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(i){for(let s=0;s<i.length;s++){const o=i[s];if(o.name===t||o.uuid===t)return o;const l=n(o.children);if(l)return l}return null},a=n(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let a=0,i=n.length;a!==i;++a)e[t++]=n[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let a=0,i=n.length;a!==i;++a)n[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let a=0,i=n.length;a!==i;++a)n[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let a=0,i=n.length;a!==i;++a)n[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,a=t.propertyName;let i=t.propertyIndex;if(e||(e=Fn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){$t("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let c=t.objectIndex;switch(n){case"materials":if(!e.material){Gr("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Gr("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Gr("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Gr("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Gr("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){Gr("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(c!==void 0){if(e[c]===void 0){Gr("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[a];if(s===void 0){const c=t.nodeName;Gr("PropertyBinding: Trying to update property for track: "+c+"."+a+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(i!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){Gr("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Gr("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[i]!==void 0&&(i=e.morphTargetDictionary[i])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=a;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Fn.Composite=$3e;Fn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Fn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Fn.prototype.GetterByBindingType=[Fn.prototype._getValue_direct,Fn.prototype._getValue_array,Fn.prototype._getValue_arrayElement,Fn.prototype._getValue_toArray];Fn.prototype.SetterByBindingTypeAndVersioning=[[Fn.prototype._setValue_direct,Fn.prototype._setValue_direct_setNeedsUpdate,Fn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fn.prototype._setValue_array,Fn.prototype._setValue_array_setNeedsUpdate,Fn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fn.prototype._setValue_arrayElement,Fn.prototype._setValue_arrayElement_setNeedsUpdate,Fn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fn.prototype._setValue_fromArray,Fn.prototype._setValue_fromArray_setNeedsUpdate,Fn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class J3e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=rc(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,a=arguments.length;n!==a;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,a=this._parsedPaths,i=this._bindings,s=i.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const h=arguments[u],d=h.uuid;let v=t[d];if(v===void 0){v=l++,t[d]=v,e.push(h);for(let g=0,m=s;g!==m;++g)i[g].push(new Fn(h,n[g],a[g]))}else if(v<c){o=e[v];const g=--c,m=e[g];t[m.uuid]=v,e[v]=m,t[d]=g,e[g]=h;for(let y=0,b=s;y!==b;++y){const S=i[y],A=S[g];let E=S[v];S[v]=A,E===void 0&&(E=new Fn(h,n[y],a[y])),S[g]=E}}else e[v]!==o&&Gr("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,a=n.length;let i=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const l=arguments[s],c=l.uuid,u=t[c];if(u!==void 0&&u>=i){const f=i++,h=e[f];t[h.uuid]=u,e[u]=h,t[c]=f,e[f]=l;for(let d=0,v=a;d!==v;++d){const g=n[d],m=g[f],y=g[u];g[u]=m,g[f]=y}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,a=n.length;let i=this.nCachedObjects_,s=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<i){const h=--i,d=e[h],v=--s,g=e[v];t[d.uuid]=f,e[f]=d,t[g.uuid]=h,e[h]=g,e.pop();for(let m=0,y=a;m!==y;++m){const b=n[m],S=b[h],A=b[v];b[f]=S,b[h]=A,b.pop()}}else{const h=--s,d=e[h];h>0&&(t[d.uuid]=f),e[f]=d,e.pop();for(let v=0,g=a;v!==g;++v){const m=n[v];m[f]=m[h],m.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let a=n[e];const i=this._bindings;if(a!==void 0)return i[a];const s=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);a=i.length,n[e]=a,s.push(e),o.push(t),i.push(f);for(let h=u,d=l.length;h!==d;++h){const v=l[h];f[h]=new Fn(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const a=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length-1,l=s[o],c=e[o];t[c]=n,s[n]=l,s.pop(),i[n]=i[o],i.pop(),a[n]=a[o],a.pop()}}}class eae{constructor(e,t,n=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=a;const i=t.tracks,s=i.length,o=new Array(s),l={endingStart:pm,endingEnd:pm};for(let c=0;c!==s;++c){const u=i[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ure,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const a=this._clip.duration,i=e._clip.duration,s=i/a,o=a/i;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const a=this._mixer,i=a.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=a._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=i,l[1]=i+n,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,a){if(!this.enabled){this._updateWeight(e);return}const i=this._startTime;if(i!==null){const l=(e-i)*n;l<0||n===0?t=0:(this._startTime=null,t=n*l)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case gz:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(s),c[u].accumulateAdditive(o);break;case fI:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(s),c[u].accumulate(a,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const a=n.evaluate(e)[0];t*=a,e>n.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const a=n.evaluate(e)[0];t*=a,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let a=this.time+e,i=this._loopCount;const s=n===Vre;if(e===0)return i===-1?a:s&&(i&1)===1?t-a:a;if(n===Fre){i===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(i===-1&&(e>=0?(i=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),a>=t||a<0){const o=Math.floor(a/t);a-=t*o,i+=Math.abs(o);const l=this.repetitions-i;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=i,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=a;if(s&&(i&1)===1)return t-a}return a}_setEndings(e,t,n){const a=this._interpolantSettings;n?(a.endingStart=vm,a.endingEnd=vm):(e?a.endingStart=this.zeroSlopeAtStart?vm:pm:a.endingStart=gT,t?a.endingEnd=this.zeroSlopeAtEnd?vm:pm:a.endingEnd=gT)}_scheduleFading(e,t,n){const a=this._mixer,i=a.time;let s=this._weightInterpolant;s===null&&(s=a._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=i,l[0]=t,o[1]=i+e,l[1]=n,this}}const Q3e=new Float32Array(1);class eDe extends Rh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,a=e._clip.tracks,i=a.length,s=e._propertyBindings,o=e._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==i;++f){const h=a[f],d=h.name;let v=u[d];if(v!==void 0)++v.referenceCount,s[f]=v;else{if(v=s[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,d));continue}const g=t&&t._propertyBindings[f].binding.parsedPath;v=new Qne(Fn.create(n,d,g),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,d),s[f]=v}o[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,a=e._clip.uuid,i=this._actionsByClip[a];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,a,n)}const t=e._propertyBindings;for(let n=0,a=t.length;n!==a;++n){const i=t[n];i.useCount++===0&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,a=t.length;n!==a;++n){const i=t[n];--i.useCount===0&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const a=this._actions,i=this._actionsByClip;let s=i[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=a.length,a.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],a=e._cacheIndex;n._cacheIndex=a,t[a]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,s=this._actionsByClip,o=s[i],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete s[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,a=t.length;n!==a;++n){const i=t[n];--i.referenceCount===0&&this._removeInactiveBinding(i)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,a=this._nActiveActions++,i=t[a];e._cacheIndex=a,t[a]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,a=--this._nActiveActions,i=t[a];e._cacheIndex=a,t[a]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const a=this._bindingsByRootAndName,i=this._bindings;let s=a[t];s===void 0&&(s={},a[t]=s),s[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,a=n.rootNode.uuid,i=n.path,s=this._bindingsByRootAndName,o=s[a],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[i],Object.keys(o).length===0&&delete s[a]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,a=this._nActiveBindings++,i=t[a];e._cacheIndex=a,t[a]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,a=--this._nActiveBindings,i=t[a];e._cacheIndex=a,t[a]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new zz(new Float32Array(2),new Float32Array(2),1,Q3e),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,a=--this._nActiveControlInterpolants,i=t[a];e.__cacheIndex=a,t[a]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const a=t||this._root,i=a.uuid;let s=typeof e=="string"?ET.findByName(a,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(n===void 0&&(s!==null?n=s.blendMode:n=fI),l!==void 0){const f=l.actionByRoot[i];if(f!==void 0&&f.blendMode===n)return f;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new eae(this,s,t,n);return this._bindAction(u,c),this._addInactiveAction(u,o,i),u}existingAction(e,t){const n=t||this._root,a=n.uuid,i=typeof e=="string"?ET.findByName(n,e):e,s=i?i.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,a=this.time+=e,i=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==n;++c)t[c]._update(a,e,i,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,a=this._actionsByClip,i=a[n];if(i!==void 0){const s=i.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete a[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const o=n[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const a=this._bindingsByRootAndName,i=a[t];if(i!==void 0)for(const s in i){const o=i[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class tDe extends xz{constructor(e=1,t=1,n=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=n,this.texture=new dI(null,e,t,n),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class Yz{constructor(e){this.value=e}clone(){return new Yz(this.value.clone===void 0?this.value:this.value.clone())}}let rDe=0;class nDe extends Rh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:rDe++}),this.name="",this.usage=yT,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,a=t.length;n<a;n++){const i=Array.isArray(t[n])?t[n]:[t[n]];for(let s=0;s<i.length;s++)this.uniforms.push(i[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class aDe extends mI{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class iDe{constructor(e,t,n,a,i,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=a,this.count=i,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Sj=new Vr;class tae{constructor(e,t,n=0,a=1/0){this.ray=new fy(e,t),this.near=n,this.far=a,this.camera=null,this.layers=new m_,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Gr("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Sj.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Sj),this}intersectObject(e,t=!0,n=[]){return YP(e,this,n,t),n.sort(wj),n}intersectObjects(e,t=!0,n=[]){for(let a=0,i=e.length;a<i;a++)YP(e[a],this,n,t);return n.sort(wj),n}}function wj(r,e){return r.distance-e.distance}function YP(r,e,t,n){let a=!0;if(r.layers.test(e.layers)&&r.raycast(e,t)===!1&&(a=!1),a===!0&&n===!0){const i=r.children;for(let s=0,o=i.length;s<o;s++)YP(i[s],e,t,!0)}}class sDe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=oDe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function oDe(){this._document.hidden===!1&&this.reset()}class MR{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Br(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Br(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class lDe{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class Xz{constructor(e,t,n,a){Xz.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,a){const i=this.elements;return i[0]=e,i[2]=t,i[1]=n,i[3]=a,this}}const Tj=new St;class cDe{constructor(e=new St(1/0,1/0),t=new St(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Tj.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Tj).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Aj=new Ee,yC=new Ee,$x=new Ee,Jx=new Ee,pO=new Ee,uDe=new Ee,fDe=new Ee;class hDe{constructor(e=new Ee,t=new Ee){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Aj.subVectors(e,this.start),yC.subVectors(this.end,this.start);const n=yC.dot(yC);let i=yC.dot(Aj)/n;return t&&(i=Br(i,0,1)),i}closestPointToPoint(e,t,n){const a=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,t=uDe,n=fDe){const a=10000000000000001e-32;let i,s;const o=this.start,l=e.start,c=this.end,u=e.end;$x.subVectors(c,o),Jx.subVectors(u,l),pO.subVectors(o,l);const f=$x.dot($x),h=Jx.dot(Jx),d=Jx.dot(pO);if(f<=a&&h<=a)return t.copy(o),n.copy(l),t.sub(n),t.dot(t);if(f<=a)i=0,s=d/h,s=Br(s,0,1);else{const v=$x.dot(pO);if(h<=a)s=0,i=Br(-v/f,0,1);else{const g=$x.dot(Jx),m=f*h-g*g;m!==0?i=Br((g*d-v*h)/m,0,1):i=0,s=(g*i+d)/h,s<0?(s=0,i=Br(-v/f,0,1)):s>1&&(s=1,i=Br((g-v)/f,0,1))}}return t.copy(o).add($x.multiplyScalar(i)),n.copy(l).add(Jx.multiplyScalar(s)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Ej=new Ee;class dDe extends Bn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new tn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,l=32;s<l;s++,o++){const c=s/l*Math.PI*2,u=o/l*Math.PI*2;a.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}n.setAttribute("position",new fr(a,3));const i=new sl({fog:!1,toneMapped:!1});this.cone=new Nh(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Ej.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ej),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const s0=new Ee,xC=new Vr,vO=new Vr;class pDe extends Nh{constructor(e){const t=rae(e),n=new tn,a=[],i=[];for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),i.push(0,0,0),i.push(0,0,0))}n.setAttribute("position",new fr(a,3)),n.setAttribute("color",new fr(i,3));const s=new sl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Jt(255),l=new Jt(65280);this.setColors(o,l)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,a=n.getAttribute("position");vO.copy(this.root.matrixWorld).invert();for(let i=0,s=0;i<t.length;i++){const o=t[i];o.parent&&o.parent.isBone&&(xC.multiplyMatrices(vO,o.matrixWorld),s0.setFromMatrixPosition(xC),a.setXYZ(s,s0.x,s0.y,s0.z),xC.multiplyMatrices(vO,o.parent.matrixWorld),s0.setFromMatrixPosition(xC),a.setXYZ(s+1,s0.x,s0.y,s0.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const a=this.geometry.getAttribute("color");for(let i=0;i<a.count;i+=2)a.setXYZ(i,e.r,e.g,e.b),a.setXYZ(i+1,t.r,t.g,t.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function rae(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push(...rae(r.children[t]));return e}class vDe extends Qi{constructor(e,t,n){const a=new CA(t,4,2),i=new uv({wireframe:!0,fog:!1,toneMapped:!1});super(a,i),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const gDe=new Ee,Mj=new Jt,Cj=new Jt;class mDe extends Bn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const a=new MA(t);a.rotateY(Math.PI*.5),this.material=new uv({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const i=a.getAttribute("position"),s=new Float32Array(i.count*3);a.setAttribute("color",new va(s,3)),this.add(new Qi(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Mj.copy(this.light.color),Cj.copy(this.light.groundColor);for(let n=0,a=t.count;n<a;n++){const i=n<a/2?Mj:Cj;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(gDe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class yDe extends Nh{constructor(e=10,t=10,n=4473924,a=8947848){n=new Jt(n),a=new Jt(a);const i=t/2,s=e/t,o=e/2,l=[],c=[];for(let h=0,d=0,v=-o;h<=t;h++,v+=s){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const g=h===i?n:a;g.toArray(c,d),d+=3,g.toArray(c,d),d+=3,g.toArray(c,d),d+=3,g.toArray(c,d),d+=3}const u=new tn;u.setAttribute("position",new fr(l,3)),u.setAttribute("color",new fr(c,3));const f=new sl({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class xDe extends Nh{constructor(e=10,t=16,n=8,a=64,i=4473924,s=8947848){i=new Jt(i),s=new Jt(s);const o=[],l=[];if(t>1)for(let f=0;f<t;f++){const h=f/t*(Math.PI*2),d=Math.sin(h)*e,v=Math.cos(h)*e;o.push(0,0,0),o.push(d,0,v);const g=f&1?i:s;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let f=0;f<n;f++){const h=f&1?i:s,d=e-e/n*f;for(let v=0;v<a;v++){let g=v/a*(Math.PI*2),m=Math.sin(g)*d,y=Math.cos(g)*d;o.push(m,0,y),l.push(h.r,h.g,h.b),g=(v+1)/a*(Math.PI*2),m=Math.sin(g)*d,y=Math.cos(g)*d,o.push(m,0,y),l.push(h.r,h.g,h.b)}}const c=new tn;c.setAttribute("position",new fr(o,3)),c.setAttribute("color",new fr(l,3));const u=new sl({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Dj=new Ee,_C=new Ee,Rj=new Ee;class _De extends Bn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new tn;a.setAttribute("position",new fr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new sl({fog:!1,toneMapped:!1});this.lightPlane=new tv(a,i),this.add(this.lightPlane),a=new tn,a.setAttribute("position",new fr([0,0,0,0,0,1],3)),this.targetLine=new tv(a,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Dj.setFromMatrixPosition(this.light.matrixWorld),_C.setFromMatrixPosition(this.light.target.matrixWorld),Rj.subVectors(_C,Dj),this.lightPlane.lookAt(_C),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_C),this.targetLine.scale.z=Rj.length()}}const bC=new Ee,Ja=new pI;class bDe extends Nh{constructor(e){const t=new tn,n=new sl({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],i=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(v,g){l(v),l(g)}function l(v){a.push(0,0,0),i.push(0,0,0),s[v]===void 0&&(s[v]=[]),s[v].push(a.length/3-1)}t.setAttribute("position",new fr(a,3)),t.setAttribute("color",new fr(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Jt(16755200),u=new Jt(16711680),f=new Jt(43775),h=new Jt(16777215),d=new Jt(3355443);this.setColors(c,u,f,h,d)}setColors(e,t,n,a,i){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,a.r,a.g,a.b),o.setXYZ(39,a.r,a.g,a.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,a=1;let i,s;if(Ja.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)i=1,s=0;else if(this.camera.coordinateSystem===$l)i=-1,s=1;else if(this.camera.coordinateSystem===p_)i=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);vi("c",t,e,Ja,0,0,i),vi("t",t,e,Ja,0,0,s),vi("n1",t,e,Ja,-n,-a,i),vi("n2",t,e,Ja,n,-a,i),vi("n3",t,e,Ja,-n,a,i),vi("n4",t,e,Ja,n,a,i),vi("f1",t,e,Ja,-n,-a,s),vi("f2",t,e,Ja,n,-a,s),vi("f3",t,e,Ja,-n,a,s),vi("f4",t,e,Ja,n,a,s),vi("u1",t,e,Ja,n*.7,a*1.1,i),vi("u2",t,e,Ja,-n*.7,a*1.1,i),vi("u3",t,e,Ja,0,a*2,i),vi("cf1",t,e,Ja,-n,0,s),vi("cf2",t,e,Ja,n,0,s),vi("cf3",t,e,Ja,0,-a,s),vi("cf4",t,e,Ja,0,a,s),vi("cn1",t,e,Ja,-n,0,i),vi("cn2",t,e,Ja,n,0,i),vi("cn3",t,e,Ja,0,-a,i),vi("cn4",t,e,Ja,0,a,i),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function vi(r,e,t,n,a,i,s){bC.set(a,i,s).unproject(n);const o=e[r];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],bC.x,bC.y,bC.z)}}const SC=new xo;class SDe extends Nh{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),i=new tn;i.setIndex(new va(n,1)),i.setAttribute("position",new va(a,3)),super(i,new sl({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&SC.setFromObject(this.object),SC.isEmpty())return;const e=SC.min,t=SC.max,n=this.geometry.attributes.position,a=n.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wDe extends Nh{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],i=new tn;i.setIndex(new va(n,1)),i.setAttribute("position",new fr(a,3)),super(i,new sl({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class TDe extends tv{constructor(e,t=1,n=16776960){const a=n,i=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new tn;s.setAttribute("position",new fr(i,3)),s.computeBoundingSphere(),super(s,new sl({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new tn;l.setAttribute("position",new fr(o,3)),l.computeBoundingSphere(),this.add(new Qi(l,new uv({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Nj=new Ee;let wC,gO;class ADe extends Bn{constructor(e=new Ee(0,0,1),t=new Ee(0,0,0),n=1,a=16776960,i=n*.2,s=i*.2){super(),this.type="ArrowHelper",wC===void 0&&(wC=new tn,wC.setAttribute("position",new fr([0,0,0,0,1,0],3)),gO=new EA(.5,1,5,1),gO.translate(0,-.5,0)),this.position.copy(t),this.line=new tv(wC,new sl({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qi(gO,new uv({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Nj.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Nj,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class EDe extends Nh{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new tn;a.setAttribute("position",new fr(t,3)),a.setAttribute("color",new fr(n,3));const i=new sl({vertexColors:!0,toneMapped:!1});super(a,i),this.type="AxesHelper"}setColors(e,t,n){const a=new Jt,i=this.geometry.attributes.color.array;return a.set(e),a.toArray(i,0),a.toArray(i,3),a.set(t),a.toArray(i,6),a.toArray(i,9),a.set(n),a.toArray(i,12),a.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class MDe{constructor(){this.type="ShapePath",this.color=new Jt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ER,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,a){return this.currentPath.quadraticCurveTo(e,t,n,a),this}bezierCurveTo(e,t,n,a,i,s){return this.currentPath.bezierCurveTo(e,t,n,a,i,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(y){const b=[];for(let S=0,A=y.length;S<A;S++){const E=y[S],M=new Dm;M.curves=E.curves,b.push(M)}return b}function n(y,b){const S=b.length;let A=!1;for(let E=S-1,M=0;M<S;E=M++){let R=b[E],L=b[M],I=L.x-R.x,O=L.y-R.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(R=b[M],I=-I,L=b[E],O=-O),y.y<R.y||y.y>L.y)continue;if(y.y===R.y){if(y.x===R.x)return!0}else{const P=O*(y.x-R.x)-I*(y.y-R.y);if(P===0)return!0;if(P<0)continue;A=!A}}else{if(y.y!==R.y)continue;if(L.x<=y.x&&y.x<=R.x||R.x<=y.x&&y.x<=L.x)return!0}}return A}const a=Wu.isClockWise,i=this.subPaths;if(i.length===0)return[];let s,o,l;const c=[];if(i.length===1)return o=i[0],l=new Dm,l.curves=o.curves,c.push(l),c;let u=!a(i[0].getPoints());u=e?!u:u;const f=[],h=[];let d=[],v=0,g;h[v]=void 0,d[v]=[];for(let y=0,b=i.length;y<b;y++)o=i[y],g=o.getPoints(),s=a(g),s=e?!s:s,s?(!u&&h[v]&&v++,h[v]={s:new Dm,p:g},h[v].s.curves=o.curves,u&&v++,d[v]=[]):d[v].push({h:o,p:g[0]});if(!h[0])return t(i);if(h.length>1){let y=!1,b=0;for(let S=0,A=h.length;S<A;S++)f[S]=[];for(let S=0,A=h.length;S<A;S++){const E=d[S];for(let M=0;M<E.length;M++){const R=E[M];let L=!0;for(let I=0;I<h.length;I++)n(R.p,h[I].p)&&(S!==I&&b++,L?(L=!1,f[I].push(R)):y=!0);L&&f[S].push(R)}}b>0&&y===!1&&(d=f)}let m;for(let y=0,b=h.length;y<b;y++){l=h[y].s,c.push(l),m=d[y];for(let S=0,A=m.length;S<A;S++)l.holes.push(m[S].h)}return c}}class CDe extends Rh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){$t("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function DDe(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2):(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0),r}function RDe(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0):(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2),r}function NDe(r){return r.repeat.x=1,r.repeat.y=1,r.offset.x=0,r.offset.y=0,r}function XP(r,e,t,n){const a=IDe(n);switch(t){case pz:return r*e;case oI:return r*e/a.components*a.byteLength;case wA:return r*e/a.components*a.byteLength;case lI:return r*e*2/a.components*a.byteLength;case cI:return r*e*2/a.components*a.byteLength;case vz:return r*e*3/a.components*a.byteLength;case go:return r*e*4/a.components*a.byteLength;case uI:return r*e*4/a.components*a.byteLength;case Ew:case Mw:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case Cw:case Dw:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case ZD:case $D:return Math.max(r,16)*Math.max(e,8)/4;case qD:case KD:return Math.max(r,8)*Math.max(e,8)/2;case JD:case QD:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case eR:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case tR:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case rR:return Math.floor((r+4)/5)*Math.floor((e+3)/4)*16;case nR:return Math.floor((r+4)/5)*Math.floor((e+4)/5)*16;case aR:return Math.floor((r+5)/6)*Math.floor((e+4)/5)*16;case iR:return Math.floor((r+5)/6)*Math.floor((e+5)/6)*16;case sR:return Math.floor((r+7)/8)*Math.floor((e+4)/5)*16;case oR:return Math.floor((r+7)/8)*Math.floor((e+5)/6)*16;case lR:return Math.floor((r+7)/8)*Math.floor((e+7)/8)*16;case cR:return Math.floor((r+9)/10)*Math.floor((e+4)/5)*16;case uR:return Math.floor((r+9)/10)*Math.floor((e+5)/6)*16;case fR:return Math.floor((r+9)/10)*Math.floor((e+7)/8)*16;case hR:return Math.floor((r+9)/10)*Math.floor((e+9)/10)*16;case dR:return Math.floor((r+11)/12)*Math.floor((e+9)/10)*16;case pR:return Math.floor((r+11)/12)*Math.floor((e+11)/12)*16;case vR:case gR:case mR:return Math.ceil(r/4)*Math.ceil(e/4)*16;case yR:case xR:return Math.ceil(r/4)*Math.ceil(e/4)*8;case _R:case bR:return Math.ceil(r/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function IDe(r){switch(r){case $c:case uz:return{byteLength:1,components:1};case u_:case fz:case uy:return{byteLength:2,components:1};case iI:case sI:return{byteLength:2,components:4};case Qd:case aI:case Al:return{byteLength:4,components:1};case hz:case dz:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}class LDe{static contain(e,t){return DDe(e,t)}static cover(e,t){return RDe(e,t)}static fill(e){return NDe(e)}static getByteLength(e,t,n,a){return XP(e,t,n,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bA}}));typeof window<"u"&&(window.__THREE__?$t("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bA);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function nae(){let r=null,e=!1,t=null,n=null;function a(i,s){t(i,s),n=r.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(a),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(i){t=i},setContext:function(i){r=i}}}function ODe(r){const e=new WeakMap;function t(o,l){const c=o.array,u=o.usage,f=c.byteLength,h=r.createBuffer();r.bindBuffer(l,h),r.bufferData(l,c,u),o.onUploadCallback();let d;if(c instanceof Float32Array)d=r.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)d=r.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?d=r.HALF_FLOAT:d=r.UNSIGNED_SHORT;else if(c instanceof Int16Array)d=r.SHORT;else if(c instanceof Uint32Array)d=r.UNSIGNED_INT;else if(c instanceof Int32Array)d=r.INT;else if(c instanceof Int8Array)d=r.BYTE;else if(c instanceof Uint8Array)d=r.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)d=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:d,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:f}}function n(o,l,c){const u=l.array,f=l.updateRanges;if(r.bindBuffer(c,o),f.length===0)r.bufferSubData(c,0,u);else{f.sort((d,v)=>d.start-v.start);let h=0;for(let d=1;d<f.length;d++){const v=f[h],g=f[d];g.start<=v.start+v.count+1?v.count=Math.max(v.count,g.start+g.count-v.start):(++h,f[h]=g)}f.length=h+1;for(let d=0,v=f.length;d<v;d++){const g=f[d];r.bufferSubData(c,g.start*u.BYTES_PER_ELEMENT,u,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function a(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function i(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(r.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(c.buffer,o,l),c.version=o.version}}return{get:a,remove:i,update:s}}var kDe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,PDe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,BDe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,zDe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,FDe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,UDe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,VDe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,HDe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,GDe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,jDe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,WDe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,YDe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,XDe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,qDe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ZDe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,KDe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,$De=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,JDe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,QDe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,eRe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,tRe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,rRe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,nRe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,aRe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,iRe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sRe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oRe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,lRe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,cRe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,uRe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,fRe="gl_FragColor = linearToOutputTexel( gl_FragColor );",hRe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dRe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,pRe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,vRe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,gRe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,mRe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,yRe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,xRe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,_Re=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,bRe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,SRe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,wRe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,TRe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,ARe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,ERe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,MRe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,CRe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,DRe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,RRe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,NRe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,IRe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,LRe=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ORe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,kRe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,PRe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,BRe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,zRe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,FRe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,URe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,VRe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,HRe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,GRe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jRe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,WRe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,YRe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,XRe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,qRe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ZRe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,KRe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,$Re=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,JRe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,QRe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,eNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rNe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,nNe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,aNe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,iNe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,sNe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,oNe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,lNe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,cNe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,uNe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,fNe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,hNe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dNe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,pNe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vNe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,gNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,mNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,yNe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,xNe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,_Ne=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,bNe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,SNe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,wNe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,TNe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ANe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ENe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,MNe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,CNe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,DNe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,RNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,NNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,INe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,LNe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ONe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,kNe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,PNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,BNe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,FNe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,UNe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,VNe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,HNe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,GNe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,WNe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,YNe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XNe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qNe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ZNe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,KNe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$Ne=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JNe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,QNe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eIe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,tIe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,rIe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nIe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aIe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,iIe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sIe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oIe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lIe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,cIe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uIe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fIe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,hIe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dIe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ln={alphahash_fragment:kDe,alphahash_pars_fragment:PDe,alphamap_fragment:BDe,alphamap_pars_fragment:zDe,alphatest_fragment:FDe,alphatest_pars_fragment:UDe,aomap_fragment:VDe,aomap_pars_fragment:HDe,batching_pars_vertex:GDe,batching_vertex:jDe,begin_vertex:WDe,beginnormal_vertex:YDe,bsdfs:XDe,iridescence_fragment:qDe,bumpmap_pars_fragment:ZDe,clipping_planes_fragment:KDe,clipping_planes_pars_fragment:$De,clipping_planes_pars_vertex:JDe,clipping_planes_vertex:QDe,color_fragment:eRe,color_pars_fragment:tRe,color_pars_vertex:rRe,color_vertex:nRe,common:aRe,cube_uv_reflection_fragment:iRe,defaultnormal_vertex:sRe,displacementmap_pars_vertex:oRe,displacementmap_vertex:lRe,emissivemap_fragment:cRe,emissivemap_pars_fragment:uRe,colorspace_fragment:fRe,colorspace_pars_fragment:hRe,envmap_fragment:dRe,envmap_common_pars_fragment:pRe,envmap_pars_fragment:vRe,envmap_pars_vertex:gRe,envmap_physical_pars_fragment:MRe,envmap_vertex:mRe,fog_vertex:yRe,fog_pars_vertex:xRe,fog_fragment:_Re,fog_pars_fragment:bRe,gradientmap_pars_fragment:SRe,lightmap_pars_fragment:wRe,lights_lambert_fragment:TRe,lights_lambert_pars_fragment:ARe,lights_pars_begin:ERe,lights_toon_fragment:CRe,lights_toon_pars_fragment:DRe,lights_phong_fragment:RRe,lights_phong_pars_fragment:NRe,lights_physical_fragment:IRe,lights_physical_pars_fragment:LRe,lights_fragment_begin:ORe,lights_fragment_maps:kRe,lights_fragment_end:PRe,logdepthbuf_fragment:BRe,logdepthbuf_pars_fragment:zRe,logdepthbuf_pars_vertex:FRe,logdepthbuf_vertex:URe,map_fragment:VRe,map_pars_fragment:HRe,map_particle_fragment:GRe,map_particle_pars_fragment:jRe,metalnessmap_fragment:WRe,metalnessmap_pars_fragment:YRe,morphinstance_vertex:XRe,morphcolor_vertex:qRe,morphnormal_vertex:ZRe,morphtarget_pars_vertex:KRe,morphtarget_vertex:$Re,normal_fragment_begin:JRe,normal_fragment_maps:QRe,normal_pars_fragment:eNe,normal_pars_vertex:tNe,normal_vertex:rNe,normalmap_pars_fragment:nNe,clearcoat_normal_fragment_begin:aNe,clearcoat_normal_fragment_maps:iNe,clearcoat_pars_fragment:sNe,iridescence_pars_fragment:oNe,opaque_fragment:lNe,packing:cNe,premultiplied_alpha_fragment:uNe,project_vertex:fNe,dithering_fragment:hNe,dithering_pars_fragment:dNe,roughnessmap_fragment:pNe,roughnessmap_pars_fragment:vNe,shadowmap_pars_fragment:gNe,shadowmap_pars_vertex:mNe,shadowmap_vertex:yNe,shadowmask_pars_fragment:xNe,skinbase_vertex:_Ne,skinning_pars_vertex:bNe,skinning_vertex:SNe,skinnormal_vertex:wNe,specularmap_fragment:TNe,specularmap_pars_fragment:ANe,tonemapping_fragment:ENe,tonemapping_pars_fragment:MNe,transmission_fragment:CNe,transmission_pars_fragment:DNe,uv_pars_fragment:RNe,uv_pars_vertex:NNe,uv_vertex:INe,worldpos_vertex:LNe,background_vert:ONe,background_frag:kNe,backgroundCube_vert:PNe,backgroundCube_frag:BNe,cube_vert:zNe,cube_frag:FNe,depth_vert:UNe,depth_frag:VNe,distanceRGBA_vert:HNe,distanceRGBA_frag:GNe,equirect_vert:jNe,equirect_frag:WNe,linedashed_vert:YNe,linedashed_frag:XNe,meshbasic_vert:qNe,meshbasic_frag:ZNe,meshlambert_vert:KNe,meshlambert_frag:$Ne,meshmatcap_vert:JNe,meshmatcap_frag:QNe,meshnormal_vert:eIe,meshnormal_frag:tIe,meshphong_vert:rIe,meshphong_frag:nIe,meshphysical_vert:aIe,meshphysical_frag:iIe,meshtoon_vert:sIe,meshtoon_frag:oIe,points_vert:lIe,points_frag:cIe,shadow_vert:uIe,shadow_frag:fIe,sprite_vert:hIe,sprite_frag:dIe},Kt={common:{diffuse:{value:new Jt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new en}},envmap:{envMap:{value:null},envMapRotation:{value:new en},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new en}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new en}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new en},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new en},normalScale:{value:new St(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new en},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new en}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new en}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new en}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Jt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Jt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0},uvTransform:{value:new en}},sprite:{diffuse:{value:new Jt(16777215)},opacity:{value:1},center:{value:new St(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}}},Vu={basic:{uniforms:jo([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.fog]),vertexShader:ln.meshbasic_vert,fragmentShader:ln.meshbasic_frag},lambert:{uniforms:jo([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,Kt.lights,{emissive:{value:new Jt(0)}}]),vertexShader:ln.meshlambert_vert,fragmentShader:ln.meshlambert_frag},phong:{uniforms:jo([Kt.common,Kt.specularmap,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,Kt.lights,{emissive:{value:new Jt(0)},specular:{value:new Jt(1118481)},shininess:{value:30}}]),vertexShader:ln.meshphong_vert,fragmentShader:ln.meshphong_frag},standard:{uniforms:jo([Kt.common,Kt.envmap,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.roughnessmap,Kt.metalnessmap,Kt.fog,Kt.lights,{emissive:{value:new Jt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag},toon:{uniforms:jo([Kt.common,Kt.aomap,Kt.lightmap,Kt.emissivemap,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.gradientmap,Kt.fog,Kt.lights,{emissive:{value:new Jt(0)}}]),vertexShader:ln.meshtoon_vert,fragmentShader:ln.meshtoon_frag},matcap:{uniforms:jo([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,Kt.fog,{matcap:{value:null}}]),vertexShader:ln.meshmatcap_vert,fragmentShader:ln.meshmatcap_frag},points:{uniforms:jo([Kt.points,Kt.fog]),vertexShader:ln.points_vert,fragmentShader:ln.points_frag},dashed:{uniforms:jo([Kt.common,Kt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ln.linedashed_vert,fragmentShader:ln.linedashed_frag},depth:{uniforms:jo([Kt.common,Kt.displacementmap]),vertexShader:ln.depth_vert,fragmentShader:ln.depth_frag},normal:{uniforms:jo([Kt.common,Kt.bumpmap,Kt.normalmap,Kt.displacementmap,{opacity:{value:1}}]),vertexShader:ln.meshnormal_vert,fragmentShader:ln.meshnormal_frag},sprite:{uniforms:jo([Kt.sprite,Kt.fog]),vertexShader:ln.sprite_vert,fragmentShader:ln.sprite_frag},background:{uniforms:{uvTransform:{value:new en},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ln.background_vert,fragmentShader:ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new en}},vertexShader:ln.backgroundCube_vert,fragmentShader:ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ln.cube_vert,fragmentShader:ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ln.equirect_vert,fragmentShader:ln.equirect_frag},distanceRGBA:{uniforms:jo([Kt.common,Kt.displacementmap,{referencePosition:{value:new Ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ln.distanceRGBA_vert,fragmentShader:ln.distanceRGBA_frag},shadow:{uniforms:jo([Kt.lights,Kt.fog,{color:{value:new Jt(0)},opacity:{value:1}}]),vertexShader:ln.shadow_vert,fragmentShader:ln.shadow_frag}};Vu.physical={uniforms:jo([Vu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new en},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new en},clearcoatNormalScale:{value:new St(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new en},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new en},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new en},sheen:{value:0},sheenColor:{value:new Jt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new en},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new en},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new en},transmissionSamplerSize:{value:new St},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new en},attenuationDistance:{value:0},attenuationColor:{value:new Jt(0)},specularColor:{value:new Jt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new en},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new en},anisotropyVector:{value:new St},anisotropyMap:{value:null},anisotropyMapTransform:{value:new en}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag};const TC={r:0,b:0,g:0},wg=new sc,pIe=new Vr;function vIe(r,e,t,n,a,i,s){const o=new Jt(0);let l=i===!0?0:1,c,u,f=null,h=0,d=null;function v(S){let A=S.isScene===!0?S.background:null;return A&&A.isTexture&&(A=(S.backgroundBlurriness>0?t:e).get(A)),A}function g(S){let A=!1;const E=v(S);E===null?y(o,l):E&&E.isColor&&(y(E,1),A=!0);const M=r.xr.getEnvironmentBlendMode();M==="additive"?n.buffers.color.setClear(0,0,0,1,s):M==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(r.autoClear||A)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function m(S,A){const E=v(A);E&&(E.isCubeTexture||E.mapping===Z_)?(u===void 0&&(u=new Qi(new hy(1,1,1),new oc({name:"BackgroundCubeMaterial",uniforms:y_(Vu.backgroundCube.uniforms),vertexShader:Vu.backgroundCube.vertexShader,fragmentShader:Vu.backgroundCube.fragmentShader,side:Qo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,R,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(u)),wg.copy(A.backgroundRotation),wg.x*=-1,wg.y*=-1,wg.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(wg.y*=-1,wg.z*=-1),u.material.uniforms.envMap.value=E,u.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(pIe.makeRotationFromEuler(wg)),u.material.toneMapped=Nn.getTransfer(E.colorSpace)!==sa,(f!==E||h!==E.version||d!==r.toneMapping)&&(u.material.needsUpdate=!0,f=E,h=E.version,d=r.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null)):E&&E.isTexture&&(c===void 0&&(c=new Qi(new $_(2,2),new oc({name:"BackgroundMaterial",uniforms:y_(Vu.background.uniforms),vertexShader:Vu.background.vertexShader,fragmentShader:Vu.background.fragmentShader,side:$d,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(c)),c.material.uniforms.t2D.value=E,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.toneMapped=Nn.getTransfer(E.colorSpace)!==sa,E.matrixAutoUpdate===!0&&E.updateMatrix(),c.material.uniforms.uvTransform.value.copy(E.matrix),(f!==E||h!==E.version||d!==r.toneMapping)&&(c.material.needsUpdate=!0,f=E,h=E.version,d=r.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null))}function y(S,A){S.getRGB(TC,rne(r)),n.buffers.color.setClear(TC.r,TC.g,TC.b,A,s)}function b(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(S,A=1){o.set(S),l=A,y(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,y(o,l)},render:g,addToRenderList:m,dispose:b}}function gIe(r,e){const t=r.getParameter(r.MAX_VERTEX_ATTRIBS),n={},a=h(null);let i=a,s=!1;function o(O,P,k,U,F){let q=!1;const H=f(U,k,P);i!==H&&(i=H,c(i.object)),q=d(O,U,k,F),q&&v(O,U,k,F),F!==null&&e.update(F,r.ELEMENT_ARRAY_BUFFER),(q||s)&&(s=!1,A(O,P,k,U),F!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.get(F).buffer))}function l(){return r.createVertexArray()}function c(O){return r.bindVertexArray(O)}function u(O){return r.deleteVertexArray(O)}function f(O,P,k){const U=k.wireframe===!0;let F=n[O.id];F===void 0&&(F={},n[O.id]=F);let q=F[P.id];q===void 0&&(q={},F[P.id]=q);let H=q[U];return H===void 0&&(H=h(l()),q[U]=H),H}function h(O){const P=[],k=[],U=[];for(let F=0;F<t;F++)P[F]=0,k[F]=0,U[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:k,attributeDivisors:U,object:O,attributes:{},index:null}}function d(O,P,k,U){const F=i.attributes,q=P.attributes;let H=0;const Z=k.getAttributes();for(const X in Z)if(Z[X].location>=0){const re=F[X];let W=q[X];if(W===void 0&&(X==="instanceMatrix"&&O.instanceMatrix&&(W=O.instanceMatrix),X==="instanceColor"&&O.instanceColor&&(W=O.instanceColor)),re===void 0||re.attribute!==W||W&&re.data!==W.data)return!0;H++}return i.attributesNum!==H||i.index!==U}function v(O,P,k,U){const F={},q=P.attributes;let H=0;const Z=k.getAttributes();for(const X in Z)if(Z[X].location>=0){let re=q[X];re===void 0&&(X==="instanceMatrix"&&O.instanceMatrix&&(re=O.instanceMatrix),X==="instanceColor"&&O.instanceColor&&(re=O.instanceColor));const W={};W.attribute=re,re&&re.data&&(W.data=re.data),F[X]=W,H++}i.attributes=F,i.attributesNum=H,i.index=U}function g(){const O=i.newAttributes;for(let P=0,k=O.length;P<k;P++)O[P]=0}function m(O){y(O,0)}function y(O,P){const k=i.newAttributes,U=i.enabledAttributes,F=i.attributeDivisors;k[O]=1,U[O]===0&&(r.enableVertexAttribArray(O),U[O]=1),F[O]!==P&&(r.vertexAttribDivisor(O,P),F[O]=P)}function b(){const O=i.newAttributes,P=i.enabledAttributes;for(let k=0,U=P.length;k<U;k++)P[k]!==O[k]&&(r.disableVertexAttribArray(k),P[k]=0)}function S(O,P,k,U,F,q,H){H===!0?r.vertexAttribIPointer(O,P,k,F,q):r.vertexAttribPointer(O,P,k,U,F,q)}function A(O,P,k,U){g();const F=U.attributes,q=k.getAttributes(),H=P.defaultAttributeValues;for(const Z in q){const X=q[Z];if(X.location>=0){let Y=F[Z];if(Y===void 0&&(Z==="instanceMatrix"&&O.instanceMatrix&&(Y=O.instanceMatrix),Z==="instanceColor"&&O.instanceColor&&(Y=O.instanceColor)),Y!==void 0){const re=Y.normalized,W=Y.itemSize,j=e.get(Y);if(j===void 0)continue;const J=j.buffer,ee=j.type,ae=j.bytesPerElement,ce=ee===r.INT||ee===r.UNSIGNED_INT||Y.gpuType===aI;if(Y.isInterleavedBufferAttribute){const me=Y.data,Se=me.stride,we=Y.offset;if(me.isInstancedInterleavedBuffer){for(let Me=0;Me<X.locationSize;Me++)y(X.location+Me,me.meshPerAttribute);O.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let Me=0;Me<X.locationSize;Me++)m(X.location+Me);r.bindBuffer(r.ARRAY_BUFFER,J);for(let Me=0;Me<X.locationSize;Me++)S(X.location+Me,W/X.locationSize,ee,re,Se*ae,(we+W/X.locationSize*Me)*ae,ce)}else{if(Y.isInstancedBufferAttribute){for(let me=0;me<X.locationSize;me++)y(X.location+me,Y.meshPerAttribute);O.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let me=0;me<X.locationSize;me++)m(X.location+me);r.bindBuffer(r.ARRAY_BUFFER,J);for(let me=0;me<X.locationSize;me++)S(X.location+me,W/X.locationSize,ee,re,W*ae,W/X.locationSize*me*ae,ce)}}else if(H!==void 0){const re=H[Z];if(re!==void 0)switch(re.length){case 2:r.vertexAttrib2fv(X.location,re);break;case 3:r.vertexAttrib3fv(X.location,re);break;case 4:r.vertexAttrib4fv(X.location,re);break;default:r.vertexAttrib1fv(X.location,re)}}}}b()}function E(){L();for(const O in n){const P=n[O];for(const k in P){const U=P[k];for(const F in U)u(U[F].object),delete U[F];delete P[k]}delete n[O]}}function M(O){if(n[O.id]===void 0)return;const P=n[O.id];for(const k in P){const U=P[k];for(const F in U)u(U[F].object),delete U[F];delete P[k]}delete n[O.id]}function R(O){for(const P in n){const k=n[P];if(k[O.id]===void 0)continue;const U=k[O.id];for(const F in U)u(U[F].object),delete U[F];delete k[O.id]}}function L(){I(),s=!0,i!==a&&(i=a,c(i.object))}function I(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:o,reset:L,resetDefaultState:I,dispose:E,releaseStatesOfGeometry:M,releaseStatesOfProgram:R,initAttributes:g,enableAttribute:m,disableUnusedAttributes:b}}function mIe(r,e,t){let n;function a(c){n=c}function i(c,u){r.drawArrays(n,c,u),t.update(u,n,1)}function s(c,u,f){f!==0&&(r.drawArraysInstanced(n,c,u,f),t.update(u,n,f))}function o(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,c,0,u,0,f);let d=0;for(let v=0;v<f;v++)d+=u[v];t.update(d,n,1)}function l(c,u,f,h){if(f===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let v=0;v<c.length;v++)s(c[v],u[v],h[v]);else{d.multiDrawArraysInstancedWEBGL(n,c,0,u,0,h,0,f);let v=0;for(let g=0;g<f;g++)v+=u[g]*h[g];t.update(v,n,1)}}this.setMode=a,this.render=i,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function yIe(r,e,t,n){let a;function i(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");a=r.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function s(R){return!(R!==go&&n.convert(R)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(R){const L=R===uy&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(R!==$c&&n.convert(R)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&R!==Al&&!L)}function l(R){if(R==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&($t("WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=t.logarithmicDepthBuffer===!0,h=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),d=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),v=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=r.getParameter(r.MAX_TEXTURE_SIZE),m=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),y=r.getParameter(r.MAX_VERTEX_ATTRIBS),b=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),S=r.getParameter(r.MAX_VARYING_VECTORS),A=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),E=v>0,M=r.getParameter(r.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:f,reversedDepthBuffer:h,maxTextures:d,maxVertexTextures:v,maxTextureSize:g,maxCubemapSize:m,maxAttributes:y,maxVertexUniforms:b,maxVaryings:S,maxFragmentUniforms:A,vertexTextures:E,maxSamples:M}}function xIe(r){const e=this;let t=null,n=0,a=!1,i=!1;const s=new Dd,o=new en,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||n!==0||a;return a=h,n=f.length,d},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(f,h){t=u(f,h,0)},this.setState=function(f,h,d){const v=f.clippingPlanes,g=f.clipIntersection,m=f.clipShadows,y=r.get(f);if(!a||v===null||v.length===0||i&&!m)i?u(null):c();else{const b=i?0:n,S=b*4;let A=y.clippingState||null;l.value=A,A=u(v,h,S,d);for(let E=0;E!==S;++E)A[E]=t[E];y.clippingState=A,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=b}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(f,h,d,v){const g=f!==null?f.length:0;let m=null;if(g!==0){if(m=l.value,v!==!0||m===null){const y=d+g*4,b=h.matrixWorldInverse;o.getNormalMatrix(b),(m===null||m.length<y)&&(m=new Float32Array(y));for(let S=0,A=d;S!==g;++S,A+=4)s.copy(f[S]).applyMatrix4(b,o),s.normal.toArray(m,A),m[A+3]=s.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,m}}function _Ie(r){let e=new WeakMap;function t(s,o){return o===fT?s.mapping=Jd:o===hT&&(s.mapping=J0),s}function n(s){if(s&&s.isTexture){const o=s.mapping;if(o===fT||o===hT)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new ine(l.height);return c.fromEquirectangularTexture(r,s),e.set(s,c),s.addEventListener("dispose",a),t(c.texture,s.mapping)}else return null}}return s}function a(s){const o=s.target;o.removeEventListener("dispose",a);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function i(){e=new WeakMap}return{get:n,dispose:i}}const D0=4,Ij=[.125,.215,.35,.446,.526,.582],lm=20,bIe=256,l2=new F0,Lj=new Jt;let mO=null,yO=0,xO=0,_O=!1;const SIe=new Ee;class qP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,a=100,i={}){const{size:s=256,position:o=SIe}=i;mO=this._renderer.getRenderTarget(),yO=this._renderer.getActiveCubeFace(),xO=this._renderer.getActiveMipmapLevel(),_O=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,n,a,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Pj(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=kj(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(mO,yO,xO),this._renderer.xr.enabled=_O,e.scissorTest=!1,Qx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Jd||e.mapping===J0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),mO=this._renderer.getRenderTarget(),yO=this._renderer.getActiveCubeFace(),xO=this._renderer.getActiveMipmapLevel(),_O=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:xi,minFilter:xi,generateMipmaps:!1,type:uy,format:go,colorSpace:Q0,depthBuffer:!1},a=Oj(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Oj(e,t,n);const{_lodMax:i}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=wIe(i)),this._blurMaterial=AIe(i,e,t),this._ggxMaterial=TIe(i,e,t)}return a}_compileMaterial(e){const t=new Qi(new tn,e);this._renderer.compile(t,l2)}_sceneToCubeUV(e,t,n,a,i){const l=new yi(90,1,t,n),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,d=f.toneMapping;f.getClearColor(Lj),f.toneMapping=gh,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(a),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Qi(new hy,new uv({name:"PMREM.Background",side:Qo,depthWrite:!1,depthTest:!1})));const g=this._backgroundBox,m=g.material;let y=!1;const b=e.background;b?b.isColor&&(m.color.copy(b),e.background=null,y=!0):(m.color.copy(Lj),y=!0);for(let S=0;S<6;S++){const A=S%3;A===0?(l.up.set(0,c[S],0),l.position.set(i.x,i.y,i.z),l.lookAt(i.x+u[S],i.y,i.z)):A===1?(l.up.set(0,0,c[S]),l.position.set(i.x,i.y,i.z),l.lookAt(i.x,i.y+u[S],i.z)):(l.up.set(0,c[S],0),l.position.set(i.x,i.y,i.z),l.lookAt(i.x,i.y,i.z+u[S]));const E=this._cubeSize;Qx(a,A*E,S>2?E:0,E,E),f.setRenderTarget(a),y&&f.render(g,l),f.render(e,l)}f.toneMapping=d,f.autoClear=h,e.background=b}_textureToCubeUV(e,t){const n=this._renderer,a=e.mapping===Jd||e.mapping===J0;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=Pj()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=kj());const i=a?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=i;const o=i.uniforms;o.envMap.value=e;const l=this._cubeSize;Qx(t,0,0,3*l,2*l),n.setRenderTarget(t),n.render(s,l2)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const a=this._lodMeshes.length;for(let i=1;i<a;i++)this._applyGGXFilter(e,i-1,i);t.autoClear=n}_applyGGXFilter(e,t,n){const a=this._renderer,i=this._pingPongRenderTarget,s=this._ggxMaterial,o=this._lodMeshes[n];o.material=s;const l=s.uniforms,c=n/(this._lodMeshes.length-1),u=t/(this._lodMeshes.length-1),f=Math.sqrt(c*c-u*u),h=.05+c*.95,d=f*h,{_lodMax:v}=this,g=this._sizeLods[n],m=3*g*(n>v-D0?n-v+D0:0),y=4*(this._cubeSize-g);l.envMap.value=e.texture,l.roughness.value=d,l.mipInt.value=v-t,Qx(i,m,y,3*g,2*g),a.setRenderTarget(i),a.render(o,l2),l.envMap.value=i.texture,l.roughness.value=0,l.mipInt.value=v-n,Qx(e,m,y,3*g,2*g),a.setRenderTarget(e),a.render(o,l2)}_blur(e,t,n,a,i){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,a,"latitudinal",i),this._halfBlur(s,e,n,n,a,"longitudinal",i)}_halfBlur(e,t,n,a,i,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&Gr("blur direction must be either latitudinal or longitudinal!");const u=3,f=this._lodMeshes[a];f.material=c;const h=c.uniforms,d=this._sizeLods[n]-1,v=isFinite(i)?Math.PI/(2*d):2*Math.PI/(2*lm-1),g=i/v,m=isFinite(i)?1+Math.floor(u*g):lm;m>lm&&$t(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${lm}`);const y=[];let b=0;for(let R=0;R<lm;++R){const L=R/g,I=Math.exp(-L*L/2);y.push(I),R===0?b+=I:R<m&&(b+=2*I)}for(let R=0;R<y.length;R++)y[R]=y[R]/b;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=y,h.latitudinal.value=s==="latitudinal",o&&(h.poleAxis.value=o);const{_lodMax:S}=this;h.dTheta.value=v,h.mipInt.value=S-n;const A=this._sizeLods[a],E=3*A*(a>S-D0?a-S+D0:0),M=4*(this._cubeSize-A);Qx(t,E,M,3*A,2*A),l.setRenderTarget(t),l.render(f,l2)}}function wIe(r){const e=[],t=[],n=[];let a=r;const i=r-D0+1+Ij.length;for(let s=0;s<i;s++){const o=Math.pow(2,a);e.push(o);let l=1/o;s>r-D0?l=Ij[s-r+D0-1]:s===0&&(l=0),t.push(l);const c=1/(o-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],d=6,v=6,g=3,m=2,y=1,b=new Float32Array(g*v*d),S=new Float32Array(m*v*d),A=new Float32Array(y*v*d);for(let M=0;M<d;M++){const R=M%3*2/3-1,L=M>2?0:-1,I=[R,L,0,R+2/3,L,0,R+2/3,L+1,0,R,L,0,R+2/3,L+1,0,R,L+1,0];b.set(I,g*v*M),S.set(h,m*v*M);const O=[M,M,M,M,M,M];A.set(O,y*v*M)}const E=new tn;E.setAttribute("position",new va(b,g)),E.setAttribute("uv",new va(S,m)),E.setAttribute("faceIndex",new va(A,y)),n.push(new Qi(E,null)),a>D0&&a--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function Oj(r,e,t){const n=new bh(r,e,t);return n.texture.mapping=Z_,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Qx(r,e,t,n,a){r.viewport.set(e,t,n,a),r.scissor.set(e,t,n,a)}function TIe(r,e,t){return new oc({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:bIe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:kI(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:vh,depthTest:!1,depthWrite:!1})}function AIe(r,e,t){const n=new Float32Array(lm),a=new Ee(0,1,0);return new oc({name:"SphericalGaussianBlur",defines:{n:lm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:kI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:vh,depthTest:!1,depthWrite:!1})}function kj(){return new oc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:kI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:vh,depthTest:!1,depthWrite:!1})}function Pj(){return new oc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:kI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:vh,depthTest:!1,depthWrite:!1})}function kI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function EIe(r){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){const l=o.mapping,c=l===fT||l===hT,u=l===Jd||l===J0;if(c||u){let f=e.get(o);const h=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==h)return t===null&&(t=new qP(r)),f=c?t.fromEquirectangular(o,f):t.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const d=o.image;return c&&d&&d.height>0||u&&d&&a(d)?(t===null&&(t=new qP(r)),f=c?t.fromEquirectangular(o):t.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",i),f.texture):null}}}return o}function a(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function i(o){const l=o.target;l.removeEventListener("dispose",i);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:s}}function MIe(r){const e={};function t(n){if(e[n]!==void 0)return e[n];const a=r.getExtension(n);return e[n]=a,a}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const a=t(n);return a===null&&v_("WebGLRenderer: "+n+" extension not supported."),a}}}function CIe(r,e,t,n){const a={},i=new WeakMap;function s(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",s),delete a[h.id];const d=i.get(h);d&&(e.remove(d),i.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function o(f,h){return a[h.id]===!0||(h.addEventListener("dispose",s),a[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const d in h)e.update(h[d],r.ARRAY_BUFFER)}function c(f){const h=[],d=f.index,v=f.attributes.position;let g=0;if(d!==null){const b=d.array;g=d.version;for(let S=0,A=b.length;S<A;S+=3){const E=b[S+0],M=b[S+1],R=b[S+2];h.push(E,M,M,R,R,E)}}else if(v!==void 0){const b=v.array;g=v.version;for(let S=0,A=b.length/3-1;S<A;S+=3){const E=S+0,M=S+1,R=S+2;h.push(E,M,M,R,R,E)}}else return;const m=new(Jre(h)?bz:_z)(h,1);m.version=g;const y=i.get(f);y&&e.remove(y),i.set(f,m)}function u(f){const h=i.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&c(f)}else c(f);return i.get(f)}return{get:o,update:l,getWireframeAttribute:u}}function DIe(r,e,t){let n;function a(h){n=h}let i,s;function o(h){i=h.type,s=h.bytesPerElement}function l(h,d){r.drawElements(n,d,i,h*s),t.update(d,n,1)}function c(h,d,v){v!==0&&(r.drawElementsInstanced(n,d,i,h*s,v),t.update(d,n,v))}function u(h,d,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,d,0,i,h,0,v);let m=0;for(let y=0;y<v;y++)m+=d[y];t.update(m,n,1)}function f(h,d,v,g){if(v===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let y=0;y<h.length;y++)c(h[y]/s,d[y],g[y]);else{m.multiDrawElementsInstancedWEBGL(n,d,0,i,h,0,g,0,v);let y=0;for(let b=0;b<v;b++)y+=d[b]*g[b];t.update(y,n,1)}}this.setMode=a,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function RIe(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(i,s,o){switch(t.calls++,s){case r.TRIANGLES:t.triangles+=o*(i/3);break;case r.LINES:t.lines+=o*(i/2);break;case r.LINE_STRIP:t.lines+=o*(i-1);break;case r.LINE_LOOP:t.lines+=o*i;break;case r.POINTS:t.points+=o*i;break;default:Gr("WebGLInfo: Unknown draw mode:",s);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:n}}function NIe(r,e,t){const n=new WeakMap,a=new Un;function i(s,o,l){const c=s.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=u!==void 0?u.length:0;let h=n.get(o);if(h===void 0||h.count!==f){let O=function(){L.dispose(),n.delete(o),o.removeEventListener("dispose",O)};var d=O;h!==void 0&&h.texture.dispose();const v=o.morphAttributes.position!==void 0,g=o.morphAttributes.normal!==void 0,m=o.morphAttributes.color!==void 0,y=o.morphAttributes.position||[],b=o.morphAttributes.normal||[],S=o.morphAttributes.color||[];let A=0;v===!0&&(A=1),g===!0&&(A=2),m===!0&&(A=3);let E=o.attributes.position.count*A,M=1;E>e.maxTextureSize&&(M=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const R=new Float32Array(E*M*4*f),L=new hI(R,E,M,f);L.type=Al,L.needsUpdate=!0;const I=A*4;for(let P=0;P<f;P++){const k=y[P],U=b[P],F=S[P],q=E*M*4*P;for(let H=0;H<k.count;H++){const Z=H*I;v===!0&&(a.fromBufferAttribute(k,H),R[q+Z+0]=a.x,R[q+Z+1]=a.y,R[q+Z+2]=a.z,R[q+Z+3]=0),g===!0&&(a.fromBufferAttribute(U,H),R[q+Z+4]=a.x,R[q+Z+5]=a.y,R[q+Z+6]=a.z,R[q+Z+7]=0),m===!0&&(a.fromBufferAttribute(F,H),R[q+Z+8]=a.x,R[q+Z+9]=a.y,R[q+Z+10]=a.z,R[q+Z+11]=F.itemSize===4?a.w:1)}}h={count:f,texture:L,size:new St(E,M)},n.set(o,h),o.addEventListener("dispose",O)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(r,"morphTexture",s.morphTexture,t);else{let v=0;for(let m=0;m<c.length;m++)v+=c[m];const g=o.morphTargetsRelative?1:1-v;l.getUniforms().setValue(r,"morphTargetBaseInfluence",g),l.getUniforms().setValue(r,"morphTargetInfluences",c)}l.getUniforms().setValue(r,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(r,"morphTargetsTextureSize",h.size)}return{update:i}}function IIe(r,e,t,n){let a=new WeakMap;function i(l){const c=n.render.frame,u=l.geometry,f=e.get(l,u);if(a.get(f)!==c&&(e.update(f),a.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),a.get(l)!==c&&(t.update(l.instanceMatrix,r.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,r.ARRAY_BUFFER),a.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;a.get(h)!==c&&(h.update(),a.set(h,c))}return f}function s(){a=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:i,dispose:s}}const aae=new ii,Bj=new Ez(1,1),iae=new hI,sae=new dI,oae=new TA,zj=[],Fj=[],Uj=new Float32Array(16),Vj=new Float32Array(9),Hj=new Float32Array(4);function J_(r,e,t){const n=r[0];if(n<=0||n>0)return r;const a=e*t;let i=zj[a];if(i===void 0&&(i=new Float32Array(a),zj[a]=i),e!==0){n.toArray(i,0);for(let s=1,o=0;s!==e;++s)o+=t,r[s].toArray(i,o)}return i}function es(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function ts(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function PI(r,e){let t=Fj[e];t===void 0&&(t=new Int32Array(e),Fj[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function LIe(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function OIe(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(es(t,e))return;r.uniform2fv(this.addr,e),ts(t,e)}}function kIe(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(es(t,e))return;r.uniform3fv(this.addr,e),ts(t,e)}}function PIe(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(es(t,e))return;r.uniform4fv(this.addr,e),ts(t,e)}}function BIe(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(es(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),ts(t,e)}else{if(es(t,n))return;Hj.set(n),r.uniformMatrix2fv(this.addr,!1,Hj),ts(t,n)}}function zIe(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(es(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),ts(t,e)}else{if(es(t,n))return;Vj.set(n),r.uniformMatrix3fv(this.addr,!1,Vj),ts(t,n)}}function FIe(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(es(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),ts(t,e)}else{if(es(t,n))return;Uj.set(n),r.uniformMatrix4fv(this.addr,!1,Uj),ts(t,n)}}function UIe(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function VIe(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(es(t,e))return;r.uniform2iv(this.addr,e),ts(t,e)}}function HIe(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(es(t,e))return;r.uniform3iv(this.addr,e),ts(t,e)}}function GIe(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(es(t,e))return;r.uniform4iv(this.addr,e),ts(t,e)}}function jIe(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function WIe(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(es(t,e))return;r.uniform2uiv(this.addr,e),ts(t,e)}}function YIe(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(es(t,e))return;r.uniform3uiv(this.addr,e),ts(t,e)}}function XIe(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(es(t,e))return;r.uniform4uiv(this.addr,e),ts(t,e)}}function qIe(r,e,t){const n=this.cache,a=t.allocateTextureUnit();n[0]!==a&&(r.uniform1i(this.addr,a),n[0]=a);let i;this.type===r.SAMPLER_2D_SHADOW?(Bj.compareFunction=mz,i=Bj):i=aae,t.setTexture2D(e||i,a)}function ZIe(r,e,t){const n=this.cache,a=t.allocateTextureUnit();n[0]!==a&&(r.uniform1i(this.addr,a),n[0]=a),t.setTexture3D(e||sae,a)}function KIe(r,e,t){const n=this.cache,a=t.allocateTextureUnit();n[0]!==a&&(r.uniform1i(this.addr,a),n[0]=a),t.setTextureCube(e||oae,a)}function $Ie(r,e,t){const n=this.cache,a=t.allocateTextureUnit();n[0]!==a&&(r.uniform1i(this.addr,a),n[0]=a),t.setTexture2DArray(e||iae,a)}function JIe(r){switch(r){case 5126:return LIe;case 35664:return OIe;case 35665:return kIe;case 35666:return PIe;case 35674:return BIe;case 35675:return zIe;case 35676:return FIe;case 5124:case 35670:return UIe;case 35667:case 35671:return VIe;case 35668:case 35672:return HIe;case 35669:case 35673:return GIe;case 5125:return jIe;case 36294:return WIe;case 36295:return YIe;case 36296:return XIe;case 35678:case 36198:case 36298:case 36306:case 35682:return qIe;case 35679:case 36299:case 36307:return ZIe;case 35680:case 36300:case 36308:case 36293:return KIe;case 36289:case 36303:case 36311:case 36292:return $Ie}}function QIe(r,e){r.uniform1fv(this.addr,e)}function eLe(r,e){const t=J_(e,this.size,2);r.uniform2fv(this.addr,t)}function tLe(r,e){const t=J_(e,this.size,3);r.uniform3fv(this.addr,t)}function rLe(r,e){const t=J_(e,this.size,4);r.uniform4fv(this.addr,t)}function nLe(r,e){const t=J_(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function aLe(r,e){const t=J_(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function iLe(r,e){const t=J_(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function sLe(r,e){r.uniform1iv(this.addr,e)}function oLe(r,e){r.uniform2iv(this.addr,e)}function lLe(r,e){r.uniform3iv(this.addr,e)}function cLe(r,e){r.uniform4iv(this.addr,e)}function uLe(r,e){r.uniform1uiv(this.addr,e)}function fLe(r,e){r.uniform2uiv(this.addr,e)}function hLe(r,e){r.uniform3uiv(this.addr,e)}function dLe(r,e){r.uniform4uiv(this.addr,e)}function pLe(r,e,t){const n=this.cache,a=e.length,i=PI(t,a);es(n,i)||(r.uniform1iv(this.addr,i),ts(n,i));for(let s=0;s!==a;++s)t.setTexture2D(e[s]||aae,i[s])}function vLe(r,e,t){const n=this.cache,a=e.length,i=PI(t,a);es(n,i)||(r.uniform1iv(this.addr,i),ts(n,i));for(let s=0;s!==a;++s)t.setTexture3D(e[s]||sae,i[s])}function gLe(r,e,t){const n=this.cache,a=e.length,i=PI(t,a);es(n,i)||(r.uniform1iv(this.addr,i),ts(n,i));for(let s=0;s!==a;++s)t.setTextureCube(e[s]||oae,i[s])}function mLe(r,e,t){const n=this.cache,a=e.length,i=PI(t,a);es(n,i)||(r.uniform1iv(this.addr,i),ts(n,i));for(let s=0;s!==a;++s)t.setTexture2DArray(e[s]||iae,i[s])}function yLe(r){switch(r){case 5126:return QIe;case 35664:return eLe;case 35665:return tLe;case 35666:return rLe;case 35674:return nLe;case 35675:return aLe;case 35676:return iLe;case 5124:case 35670:return sLe;case 35667:case 35671:return oLe;case 35668:case 35672:return lLe;case 35669:case 35673:return cLe;case 5125:return uLe;case 36294:return fLe;case 36295:return hLe;case 36296:return dLe;case 35678:case 36198:case 36298:case 36306:case 35682:return pLe;case 35679:case 36299:case 36307:return vLe;case 35680:case 36300:case 36308:case 36293:return gLe;case 36289:case 36303:case 36311:case 36292:return mLe}}class xLe{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=JIe(t.type)}}class _Le{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=yLe(t.type)}}class bLe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const a=this.seq;for(let i=0,s=a.length;i!==s;++i){const o=a[i];o.setValue(e,t[o.id],n)}}}const bO=/(\w+)(\])?(\[|\.)?/g;function Gj(r,e){r.seq.push(e),r.map[e.id]=e}function SLe(r,e,t){const n=r.name,a=n.length;for(bO.lastIndex=0;;){const i=bO.exec(n),s=bO.lastIndex;let o=i[1];const l=i[2]==="]",c=i[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===a){Gj(t,c===void 0?new xLe(o,r,e):new _Le(o,r,e));break}else{let f=t.map[o];f===void 0&&(f=new bLe(o),Gj(t,f)),t=f}}}class q3{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<n;++a){const i=e.getActiveUniform(t,a),s=e.getUniformLocation(t,i.name);SLe(i,s,this)}}setValue(e,t,n,a){const i=this.map[t];i!==void 0&&i.setValue(e,n,a)}setOptional(e,t,n){const a=t[n];a!==void 0&&this.setValue(e,n,a)}static upload(e,t,n,a){for(let i=0,s=t.length;i!==s;++i){const o=t[i],l=n[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,a)}}static seqWithValue(e,t){const n=[];for(let a=0,i=e.length;a!==i;++a){const s=e[a];s.id in t&&n.push(s)}return n}}function jj(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const wLe=37297;let TLe=0;function ALe(r,e){const t=r.split(`
`),n=[],a=Math.max(e-6,0),i=Math.min(e+6,t.length);for(let s=a;s<i;s++){const o=s+1;n.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return n.join(`
`)}const Wj=new en;function ELe(r){Nn._getMatrix(Wj,Nn.workingColorSpace,r);const e=`mat3( ${Wj.elements.map(t=>t.toFixed(4))} )`;switch(Nn.getTransfer(r)){case mT:return[e,"LinearTransferOETF"];case sa:return[e,"sRGBTransferOETF"];default:return $t("WebGLProgram: Unsupported color space: ",r),[e,"LinearTransferOETF"]}}function Yj(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),i=(r.getShaderInfoLog(e)||"").trim();if(n&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+ALe(r.getShaderSource(e),o)}else return i}function MLe(r,e){const t=ELe(e);return[`vec4 ${r}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function CLe(r,e){let t;switch(e){case Ire:t="Linear";break;case Lre:t="Reinhard";break;case Ore:t="Cineon";break;case lz:t="ACESFilmic";break;case Pre:t="AgX";break;case Bre:t="Neutral";break;case kre:t="Custom";break;default:$t("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const AC=new Ee;function DLe(){Nn.getLuminanceCoefficients(AC);const r=AC.x.toFixed(4),e=AC.y.toFixed(4),t=AC.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${r}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function RLe(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($2).join(`
`)}function NLe(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function ILe(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let a=0;a<n;a++){const i=r.getActiveAttrib(e,a),s=i.name;let o=1;i.type===r.FLOAT_MAT2&&(o=2),i.type===r.FLOAT_MAT3&&(o=3),i.type===r.FLOAT_MAT4&&(o=4),t[s]={type:i.type,location:r.getAttribLocation(e,s),locationSize:o}}return t}function $2(r){return r!==""}function Xj(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function qj(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const LLe=/^[ \t]*#include +<([\w\d./]+)>/gm;function ZP(r){return r.replace(LLe,kLe)}const OLe=new Map;function kLe(r,e){let t=ln[e];if(t===void 0){const n=OLe.get(e);if(n!==void 0)t=ln[n],$t('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return ZP(t)}const PLe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Zj(r){return r.replace(PLe,BLe)}function BLe(r,e,t,n){let a="";for(let i=parseInt(e);i<parseInt(t);i++)a+=n.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function Kj(r){let e=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function zLe(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===rI?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===Tw?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Fu&&(e="SHADOWMAP_TYPE_VSM"),e}function FLe(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Jd:case J0:e="ENVMAP_TYPE_CUBE";break;case Z_:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ULe(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case J0:e="ENVMAP_MODE_REFRACTION";break}return e}function VLe(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case SA:e="ENVMAP_BLENDING_MULTIPLY";break;case Rre:e="ENVMAP_BLENDING_MIX";break;case Nre:e="ENVMAP_BLENDING_ADD";break}return e}function HLe(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function GLe(r,e,t,n){const a=r.getContext(),i=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=zLe(t),c=FLe(t),u=ULe(t),f=VLe(t),h=HLe(t),d=RLe(t),v=NLe(i),g=a.createProgram();let m,y,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(m=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter($2).join(`
`),m.length>0&&(m+=`
`),y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter($2).join(`
`),y.length>0&&(y+=`
`)):(m=[Kj(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($2).join(`
`),y=[Kj(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==gh?"#define TONE_MAPPING":"",t.toneMapping!==gh?ln.tonemapping_pars_fragment:"",t.toneMapping!==gh?CLe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ln.colorspace_pars_fragment,MLe("linearToOutputTexel",t.outputColorSpace),DLe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter($2).join(`
`)),s=ZP(s),s=Xj(s,t),s=qj(s,t),o=ZP(o),o=Xj(o,t),o=qj(o,t),s=Zj(s),o=Zj(o),t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,m=[d,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,y=["#define varying in",t.glslVersion===UP?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===UP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const S=b+m+s,A=b+y+o,E=jj(a,a.VERTEX_SHADER,S),M=jj(a,a.FRAGMENT_SHADER,A);a.attachShader(g,E),a.attachShader(g,M),t.index0AttributeName!==void 0?a.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(g,0,"position"),a.linkProgram(g);function R(P){if(r.debug.checkShaderErrors){const k=a.getProgramInfoLog(g)||"",U=a.getShaderInfoLog(E)||"",F=a.getShaderInfoLog(M)||"",q=k.trim(),H=U.trim(),Z=F.trim();let X=!0,Y=!0;if(a.getProgramParameter(g,a.LINK_STATUS)===!1)if(X=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(a,g,E,M);else{const re=Yj(a,E,"vertex"),W=Yj(a,M,"fragment");Gr("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(g,a.VALIDATE_STATUS)+`

Material Name: `+P.name+`
Material Type: `+P.type+`

Program Info Log: `+q+`
`+re+`
`+W)}else q!==""?$t("WebGLProgram: Program Info Log:",q):(H===""||Z==="")&&(Y=!1);Y&&(P.diagnostics={runnable:X,programLog:q,vertexShader:{log:H,prefix:m},fragmentShader:{log:Z,prefix:y}})}a.deleteShader(E),a.deleteShader(M),L=new q3(a,g),I=ILe(a,g)}let L;this.getUniforms=function(){return L===void 0&&R(this),L};let I;this.getAttributes=function(){return I===void 0&&R(this),I};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=a.getProgramParameter(g,wLe)),O},this.destroy=function(){n.releaseStatesOfProgram(this),a.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=TLe++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=E,this.fragmentShader=M,this}let jLe=0;class WLe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,a=this._getShaderStage(t),i=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(a)===!1&&(s.add(a),a.usedTimes++),s.has(i)===!1&&(s.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new YLe(e),t.set(e,n)),n}}class YLe{constructor(e){this.id=jLe++,this.code=e,this.usedTimes=0}}function XLe(r,e,t,n,a,i,s){const o=new m_,l=new WLe,c=new Set,u=[],f=a.logarithmicDepthBuffer,h=a.vertexTextures;let d=a.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(I){return c.add(I),I===0?"uv":`uv${I}`}function m(I,O,P,k,U){const F=k.fog,q=U.geometry,H=I.isMeshStandardMaterial?k.environment:null,Z=(I.isMeshStandardMaterial?t:e).get(I.envMap||H),X=Z&&Z.mapping===Z_?Z.image.height:null,Y=v[I.type];I.precision!==null&&(d=a.getMaxPrecision(I.precision),d!==I.precision&&$t("WebGLProgram.getParameters:",I.precision,"not supported, using",d,"instead."));const re=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,W=re!==void 0?re.length:0;let j=0;q.morphAttributes.position!==void 0&&(j=1),q.morphAttributes.normal!==void 0&&(j=2),q.morphAttributes.color!==void 0&&(j=3);let J,ee,ae,ce;if(Y){const Tr=Vu[Y];J=Tr.vertexShader,ee=Tr.fragmentShader}else J=I.vertexShader,ee=I.fragmentShader,l.update(I),ae=l.getVertexShaderID(I),ce=l.getFragmentShaderID(I);const me=r.getRenderTarget(),Se=r.state.buffers.depth.getReversed(),we=U.isInstancedMesh===!0,Me=U.isBatchedMesh===!0,Ve=!!I.map,de=!!I.matcap,dt=!!Z,K=!!I.aoMap,se=!!I.lightMap,_e=!!I.bumpMap,oe=!!I.normalMap,ue=!!I.displacementMap,be=!!I.emissiveMap,Be=!!I.metalnessMap,ze=!!I.roughnessMap,Le=I.anisotropy>0,fe=I.clearcoat>0,ie=I.dispersion>0,Re=I.iridescence>0,je=I.sheen>0,it=I.transmission>0,Ge=Le&&!!I.anisotropyMap,Bt=fe&&!!I.clearcoatMap,pt=fe&&!!I.clearcoatNormalMap,Dt=fe&&!!I.clearcoatRoughnessMap,Vt=Re&&!!I.iridescenceMap,$e=Re&&!!I.iridescenceThicknessMap,yt=je&&!!I.sheenColorMap,jt=je&&!!I.sheenRoughnessMap,Ne=!!I.specularMap,Ke=!!I.specularColorMap,At=!!I.specularIntensityMap,Ie=it&&!!I.transmissionMap,Et=it&&!!I.thicknessMap,Ct=!!I.gradientMap,_t=!!I.alphaMap,vt=I.alphaTest>0,ht=!!I.alphaHash,zt=!!I.extensions;let Xt=gh;I.toneMapped&&(me===null||me.isXRRenderTarget===!0)&&(Xt=r.toneMapping);const wr={shaderID:Y,shaderType:I.type,shaderName:I.name,vertexShader:J,fragmentShader:ee,defines:I.defines,customVertexShaderID:ae,customFragmentShaderID:ce,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:d,batching:Me,batchingColor:Me&&U._colorsTexture!==null,instancing:we,instancingColor:we&&U.instanceColor!==null,instancingMorph:we&&U.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:me===null?r.outputColorSpace:me.isXRRenderTarget===!0?me.texture.colorSpace:Q0,alphaToCoverage:!!I.alphaToCoverage,map:Ve,matcap:de,envMap:dt,envMapMode:dt&&Z.mapping,envMapCubeUVHeight:X,aoMap:K,lightMap:se,bumpMap:_e,normalMap:oe,displacementMap:h&&ue,emissiveMap:be,normalMapObjectSpace:oe&&I.normalMapType===jre,normalMapTangentSpace:oe&&I.normalMapType===cv,metalnessMap:Be,roughnessMap:ze,anisotropy:Le,anisotropyMap:Ge,clearcoat:fe,clearcoatMap:Bt,clearcoatNormalMap:pt,clearcoatRoughnessMap:Dt,dispersion:ie,iridescence:Re,iridescenceMap:Vt,iridescenceThicknessMap:$e,sheen:je,sheenColorMap:yt,sheenRoughnessMap:jt,specularMap:Ne,specularColorMap:Ke,specularIntensityMap:At,transmission:it,transmissionMap:Ie,thicknessMap:Et,gradientMap:Ct,opaque:I.transparent===!1&&I.blending===Mm&&I.alphaToCoverage===!1,alphaMap:_t,alphaTest:vt,alphaHash:ht,combine:I.combine,mapUv:Ve&&g(I.map.channel),aoMapUv:K&&g(I.aoMap.channel),lightMapUv:se&&g(I.lightMap.channel),bumpMapUv:_e&&g(I.bumpMap.channel),normalMapUv:oe&&g(I.normalMap.channel),displacementMapUv:ue&&g(I.displacementMap.channel),emissiveMapUv:be&&g(I.emissiveMap.channel),metalnessMapUv:Be&&g(I.metalnessMap.channel),roughnessMapUv:ze&&g(I.roughnessMap.channel),anisotropyMapUv:Ge&&g(I.anisotropyMap.channel),clearcoatMapUv:Bt&&g(I.clearcoatMap.channel),clearcoatNormalMapUv:pt&&g(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Dt&&g(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Vt&&g(I.iridescenceMap.channel),iridescenceThicknessMapUv:$e&&g(I.iridescenceThicknessMap.channel),sheenColorMapUv:yt&&g(I.sheenColorMap.channel),sheenRoughnessMapUv:jt&&g(I.sheenRoughnessMap.channel),specularMapUv:Ne&&g(I.specularMap.channel),specularColorMapUv:Ke&&g(I.specularColorMap.channel),specularIntensityMapUv:At&&g(I.specularIntensityMap.channel),transmissionMapUv:Ie&&g(I.transmissionMap.channel),thicknessMapUv:Et&&g(I.thicknessMap.channel),alphaMapUv:_t&&g(I.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(oe||Le),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,pointsUvs:U.isPoints===!0&&!!q.attributes.uv&&(Ve||_t),fog:!!F,useFog:I.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:Se,skinning:U.isSkinnedMesh===!0,morphTargets:q.morphAttributes.position!==void 0,morphNormals:q.morphAttributes.normal!==void 0,morphColors:q.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:j,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:I.dithering,shadowMapEnabled:r.shadowMap.enabled&&P.length>0,shadowMapType:r.shadowMap.type,toneMapping:Xt,decodeVideoTexture:Ve&&I.map.isVideoTexture===!0&&Nn.getTransfer(I.map.colorSpace)===sa,decodeVideoTextureEmissive:be&&I.emissiveMap.isVideoTexture===!0&&Nn.getTransfer(I.emissiveMap.colorSpace)===sa,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===nh,flipSided:I.side===Qo,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:zt&&I.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(zt&&I.extensions.multiDraw===!0||Me)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return wr.vertexUv1s=c.has(1),wr.vertexUv2s=c.has(2),wr.vertexUv3s=c.has(3),c.clear(),wr}function y(I){const O=[];if(I.shaderID?O.push(I.shaderID):(O.push(I.customVertexShaderID),O.push(I.customFragmentShaderID)),I.defines!==void 0)for(const P in I.defines)O.push(P),O.push(I.defines[P]);return I.isRawShaderMaterial===!1&&(b(O,I),S(O,I),O.push(r.outputColorSpace)),O.push(I.customProgramCacheKey),O.join()}function b(I,O){I.push(O.precision),I.push(O.outputColorSpace),I.push(O.envMapMode),I.push(O.envMapCubeUVHeight),I.push(O.mapUv),I.push(O.alphaMapUv),I.push(O.lightMapUv),I.push(O.aoMapUv),I.push(O.bumpMapUv),I.push(O.normalMapUv),I.push(O.displacementMapUv),I.push(O.emissiveMapUv),I.push(O.metalnessMapUv),I.push(O.roughnessMapUv),I.push(O.anisotropyMapUv),I.push(O.clearcoatMapUv),I.push(O.clearcoatNormalMapUv),I.push(O.clearcoatRoughnessMapUv),I.push(O.iridescenceMapUv),I.push(O.iridescenceThicknessMapUv),I.push(O.sheenColorMapUv),I.push(O.sheenRoughnessMapUv),I.push(O.specularMapUv),I.push(O.specularColorMapUv),I.push(O.specularIntensityMapUv),I.push(O.transmissionMapUv),I.push(O.thicknessMapUv),I.push(O.combine),I.push(O.fogExp2),I.push(O.sizeAttenuation),I.push(O.morphTargetsCount),I.push(O.morphAttributeCount),I.push(O.numDirLights),I.push(O.numPointLights),I.push(O.numSpotLights),I.push(O.numSpotLightMaps),I.push(O.numHemiLights),I.push(O.numRectAreaLights),I.push(O.numDirLightShadows),I.push(O.numPointLightShadows),I.push(O.numSpotLightShadows),I.push(O.numSpotLightShadowsWithMaps),I.push(O.numLightProbes),I.push(O.shadowMapType),I.push(O.toneMapping),I.push(O.numClippingPlanes),I.push(O.numClipIntersection),I.push(O.depthPacking)}function S(I,O){o.disableAll(),O.supportsVertexTextures&&o.enable(0),O.instancing&&o.enable(1),O.instancingColor&&o.enable(2),O.instancingMorph&&o.enable(3),O.matcap&&o.enable(4),O.envMap&&o.enable(5),O.normalMapObjectSpace&&o.enable(6),O.normalMapTangentSpace&&o.enable(7),O.clearcoat&&o.enable(8),O.iridescence&&o.enable(9),O.alphaTest&&o.enable(10),O.vertexColors&&o.enable(11),O.vertexAlphas&&o.enable(12),O.vertexUv1s&&o.enable(13),O.vertexUv2s&&o.enable(14),O.vertexUv3s&&o.enable(15),O.vertexTangents&&o.enable(16),O.anisotropy&&o.enable(17),O.alphaHash&&o.enable(18),O.batching&&o.enable(19),O.dispersion&&o.enable(20),O.batchingColor&&o.enable(21),O.gradientMap&&o.enable(22),I.push(o.mask),o.disableAll(),O.fog&&o.enable(0),O.useFog&&o.enable(1),O.flatShading&&o.enable(2),O.logarithmicDepthBuffer&&o.enable(3),O.reversedDepthBuffer&&o.enable(4),O.skinning&&o.enable(5),O.morphTargets&&o.enable(6),O.morphNormals&&o.enable(7),O.morphColors&&o.enable(8),O.premultipliedAlpha&&o.enable(9),O.shadowMapEnabled&&o.enable(10),O.doubleSided&&o.enable(11),O.flipSided&&o.enable(12),O.useDepthPacking&&o.enable(13),O.dithering&&o.enable(14),O.transmission&&o.enable(15),O.sheen&&o.enable(16),O.opaque&&o.enable(17),O.pointsUvs&&o.enable(18),O.decodeVideoTexture&&o.enable(19),O.decodeVideoTextureEmissive&&o.enable(20),O.alphaToCoverage&&o.enable(21),I.push(o.mask)}function A(I){const O=v[I.type];let P;if(O){const k=Vu[O];P=nne.clone(k.uniforms)}else P=I.uniforms;return P}function E(I,O){let P;for(let k=0,U=u.length;k<U;k++){const F=u[k];if(F.cacheKey===O){P=F,++P.usedTimes;break}}return P===void 0&&(P=new GLe(r,O,I,i),u.push(P)),P}function M(I){if(--I.usedTimes===0){const O=u.indexOf(I);u[O]=u[u.length-1],u.pop(),I.destroy()}}function R(I){l.remove(I)}function L(){l.dispose()}return{getParameters:m,getProgramCacheKey:y,getUniforms:A,acquireProgram:E,releaseProgram:M,releaseShaderCache:R,programs:u,dispose:L}}function qLe(){let r=new WeakMap;function e(s){return r.has(s)}function t(s){let o=r.get(s);return o===void 0&&(o={},r.set(s,o)),o}function n(s){r.delete(s)}function a(s,o,l){r.get(s)[o]=l}function i(){r=new WeakMap}return{has:e,get:t,remove:n,update:a,dispose:i}}function ZLe(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function $j(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function Jj(){const r=[];let e=0;const t=[],n=[],a=[];function i(){e=0,t.length=0,n.length=0,a.length=0}function s(f,h,d,v,g,m){let y=r[e];return y===void 0?(y={id:f.id,object:f,geometry:h,material:d,groupOrder:v,renderOrder:f.renderOrder,z:g,group:m},r[e]=y):(y.id=f.id,y.object=f,y.geometry=h,y.material=d,y.groupOrder=v,y.renderOrder=f.renderOrder,y.z=g,y.group=m),e++,y}function o(f,h,d,v,g,m){const y=s(f,h,d,v,g,m);d.transmission>0?n.push(y):d.transparent===!0?a.push(y):t.push(y)}function l(f,h,d,v,g,m){const y=s(f,h,d,v,g,m);d.transmission>0?n.unshift(y):d.transparent===!0?a.unshift(y):t.unshift(y)}function c(f,h){t.length>1&&t.sort(f||ZLe),n.length>1&&n.sort(h||$j),a.length>1&&a.sort(h||$j)}function u(){for(let f=e,h=r.length;f<h;f++){const d=r[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:t,transmissive:n,transparent:a,init:i,push:o,unshift:l,finish:u,sort:c}}function KLe(){let r=new WeakMap;function e(n,a){const i=r.get(n);let s;return i===void 0?(s=new Jj,r.set(n,[s])):a>=i.length?(s=new Jj,i.push(s)):s=i[a],s}function t(){r=new WeakMap}return{get:e,dispose:t}}function $Le(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ee,color:new Jt};break;case"SpotLight":t={position:new Ee,direction:new Ee,color:new Jt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ee,color:new Jt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ee,skyColor:new Jt,groundColor:new Jt};break;case"RectAreaLight":t={color:new Jt,position:new Ee,halfWidth:new Ee,halfHeight:new Ee};break}return r[e.id]=t,t}}}function JLe(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let QLe=0;function e4e(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function t4e(r){const e=new $Le,t=JLe(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)n.probe.push(new Ee);const a=new Ee,i=new Vr,s=new Vr;function o(c){let u=0,f=0,h=0;for(let I=0;I<9;I++)n.probe[I].set(0,0,0);let d=0,v=0,g=0,m=0,y=0,b=0,S=0,A=0,E=0,M=0,R=0;c.sort(e4e);for(let I=0,O=c.length;I<O;I++){const P=c[I],k=P.color,U=P.intensity,F=P.distance,q=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)u+=k.r*U,f+=k.g*U,h+=k.b*U;else if(P.isLightProbe){for(let H=0;H<9;H++)n.probe[H].addScaledVector(P.sh.coefficients[H],U);R++}else if(P.isDirectionalLight){const H=e.get(P);if(H.color.copy(P.color).multiplyScalar(P.intensity),P.castShadow){const Z=P.shadow,X=t.get(P);X.shadowIntensity=Z.intensity,X.shadowBias=Z.bias,X.shadowNormalBias=Z.normalBias,X.shadowRadius=Z.radius,X.shadowMapSize=Z.mapSize,n.directionalShadow[d]=X,n.directionalShadowMap[d]=q,n.directionalShadowMatrix[d]=P.shadow.matrix,b++}n.directional[d]=H,d++}else if(P.isSpotLight){const H=e.get(P);H.position.setFromMatrixPosition(P.matrixWorld),H.color.copy(k).multiplyScalar(U),H.distance=F,H.coneCos=Math.cos(P.angle),H.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),H.decay=P.decay,n.spot[g]=H;const Z=P.shadow;if(P.map&&(n.spotLightMap[E]=P.map,E++,Z.updateMatrices(P),P.castShadow&&M++),n.spotLightMatrix[g]=Z.matrix,P.castShadow){const X=t.get(P);X.shadowIntensity=Z.intensity,X.shadowBias=Z.bias,X.shadowNormalBias=Z.normalBias,X.shadowRadius=Z.radius,X.shadowMapSize=Z.mapSize,n.spotShadow[g]=X,n.spotShadowMap[g]=q,A++}g++}else if(P.isRectAreaLight){const H=e.get(P);H.color.copy(k).multiplyScalar(U),H.halfWidth.set(P.width*.5,0,0),H.halfHeight.set(0,P.height*.5,0),n.rectArea[m]=H,m++}else if(P.isPointLight){const H=e.get(P);if(H.color.copy(P.color).multiplyScalar(P.intensity),H.distance=P.distance,H.decay=P.decay,P.castShadow){const Z=P.shadow,X=t.get(P);X.shadowIntensity=Z.intensity,X.shadowBias=Z.bias,X.shadowNormalBias=Z.normalBias,X.shadowRadius=Z.radius,X.shadowMapSize=Z.mapSize,X.shadowCameraNear=Z.camera.near,X.shadowCameraFar=Z.camera.far,n.pointShadow[v]=X,n.pointShadowMap[v]=q,n.pointShadowMatrix[v]=P.shadow.matrix,S++}n.point[v]=H,v++}else if(P.isHemisphereLight){const H=e.get(P);H.skyColor.copy(P.color).multiplyScalar(U),H.groundColor.copy(P.groundColor).multiplyScalar(U),n.hemi[y]=H,y++}}m>0&&(r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Kt.LTC_FLOAT_1,n.rectAreaLTC2=Kt.LTC_FLOAT_2):(n.rectAreaLTC1=Kt.LTC_HALF_1,n.rectAreaLTC2=Kt.LTC_HALF_2)),n.ambient[0]=u,n.ambient[1]=f,n.ambient[2]=h;const L=n.hash;(L.directionalLength!==d||L.pointLength!==v||L.spotLength!==g||L.rectAreaLength!==m||L.hemiLength!==y||L.numDirectionalShadows!==b||L.numPointShadows!==S||L.numSpotShadows!==A||L.numSpotMaps!==E||L.numLightProbes!==R)&&(n.directional.length=d,n.spot.length=g,n.rectArea.length=m,n.point.length=v,n.hemi.length=y,n.directionalShadow.length=b,n.directionalShadowMap.length=b,n.pointShadow.length=S,n.pointShadowMap.length=S,n.spotShadow.length=A,n.spotShadowMap.length=A,n.directionalShadowMatrix.length=b,n.pointShadowMatrix.length=S,n.spotLightMatrix.length=A+E-M,n.spotLightMap.length=E,n.numSpotLightShadowsWithMaps=M,n.numLightProbes=R,L.directionalLength=d,L.pointLength=v,L.spotLength=g,L.rectAreaLength=m,L.hemiLength=y,L.numDirectionalShadows=b,L.numPointShadows=S,L.numSpotShadows=A,L.numSpotMaps=E,L.numLightProbes=R,n.version=QLe++)}function l(c,u){let f=0,h=0,d=0,v=0,g=0;const m=u.matrixWorldInverse;for(let y=0,b=c.length;y<b;y++){const S=c[y];if(S.isDirectionalLight){const A=n.directional[f];A.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(a),A.direction.transformDirection(m),f++}else if(S.isSpotLight){const A=n.spot[d];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(m),A.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),A.direction.sub(a),A.direction.transformDirection(m),d++}else if(S.isRectAreaLight){const A=n.rectArea[v];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(m),s.identity(),i.copy(S.matrixWorld),i.premultiply(m),s.extractRotation(i),A.halfWidth.set(S.width*.5,0,0),A.halfHeight.set(0,S.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),v++}else if(S.isPointLight){const A=n.point[h];A.position.setFromMatrixPosition(S.matrixWorld),A.position.applyMatrix4(m),h++}else if(S.isHemisphereLight){const A=n.hemi[g];A.direction.setFromMatrixPosition(S.matrixWorld),A.direction.transformDirection(m),g++}}}return{setup:o,setupView:l,state:n}}function Qj(r){const e=new t4e(r),t=[],n=[];function a(u){c.camera=u,t.length=0,n.length=0}function i(u){t.push(u)}function s(u){n.push(u)}function o(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:c,setupLights:o,setupLightsView:l,pushLight:i,pushShadow:s}}function r4e(r){let e=new WeakMap;function t(a,i=0){const s=e.get(a);let o;return s===void 0?(o=new Qj(r),e.set(a,[o])):i>=s.length?(o=new Qj(r),s.push(o)):o=s[i],o}function n(){e=new WeakMap}return{get:t,dispose:n}}const n4e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,a4e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function i4e(r,e,t){let n=new K_;const a=new St,i=new St,s=new Un,o=new kz({depthPacking:Gre}),l=new Pz,c={},u=t.maxTextureSize,f={[$d]:Qo,[Qo]:$d,[nh]:nh},h=new oc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new St},radius:{value:4}},vertexShader:n4e,fragmentShader:a4e}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const v=new tn;v.setAttribute("position",new va(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Qi(v,h),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rI;let y=this.type;this.render=function(M,R,L){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||M.length===0)return;const I=r.getRenderTarget(),O=r.getActiveCubeFace(),P=r.getActiveMipmapLevel(),k=r.state;k.setBlending(vh),k.buffers.depth.getReversed()===!0?k.buffers.color.setClear(0,0,0,0):k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const U=y!==Fu&&this.type===Fu,F=y===Fu&&this.type!==Fu;for(let q=0,H=M.length;q<H;q++){const Z=M[q],X=Z.shadow;if(X===void 0){$t("WebGLShadowMap:",Z,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;a.copy(X.mapSize);const Y=X.getFrameExtents();if(a.multiply(Y),i.copy(X.mapSize),(a.x>u||a.y>u)&&(a.x>u&&(i.x=Math.floor(u/Y.x),a.x=i.x*Y.x,X.mapSize.x=i.x),a.y>u&&(i.y=Math.floor(u/Y.y),a.y=i.y*Y.y,X.mapSize.y=i.y)),X.map===null||U===!0||F===!0){const W=this.type!==Fu?{minFilter:zs,magFilter:zs}:{};X.map!==null&&X.map.dispose(),X.map=new bh(a.x,a.y,W),X.map.texture.name=Z.name+".shadowMap",X.camera.updateProjectionMatrix()}r.setRenderTarget(X.map),r.clear();const re=X.getViewportCount();for(let W=0;W<re;W++){const j=X.getViewport(W);s.set(i.x*j.x,i.y*j.y,i.x*j.z,i.y*j.w),k.viewport(s),X.updateMatrices(Z,W),n=X.getFrustum(),A(R,L,X.camera,Z,this.type)}X.isPointLightShadow!==!0&&this.type===Fu&&b(X,L),X.needsUpdate=!1}y=this.type,m.needsUpdate=!1,r.setRenderTarget(I,O,P)};function b(M,R){const L=e.update(g);h.defines.VSM_SAMPLES!==M.blurSamples&&(h.defines.VSM_SAMPLES=M.blurSamples,d.defines.VSM_SAMPLES=M.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new bh(a.x,a.y)),h.uniforms.shadow_pass.value=M.map.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,r.setRenderTarget(M.mapPass),r.clear(),r.renderBufferDirect(R,null,L,h,g,null),d.uniforms.shadow_pass.value=M.mapPass.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,r.setRenderTarget(M.map),r.clear(),r.renderBufferDirect(R,null,L,d,g,null)}function S(M,R,L,I){let O=null;const P=L.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(P!==void 0)O=P;else if(O=L.isPointLight===!0?l:o,r.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0||R.alphaToCoverage===!0){const k=O.uuid,U=R.uuid;let F=c[k];F===void 0&&(F={},c[k]=F);let q=F[U];q===void 0&&(q=O.clone(),F[U]=q,R.addEventListener("dispose",E)),O=q}if(O.visible=R.visible,O.wireframe=R.wireframe,I===Fu?O.side=R.shadowSide!==null?R.shadowSide:R.side:O.side=R.shadowSide!==null?R.shadowSide:f[R.side],O.alphaMap=R.alphaMap,O.alphaTest=R.alphaToCoverage===!0?.5:R.alphaTest,O.map=R.map,O.clipShadows=R.clipShadows,O.clippingPlanes=R.clippingPlanes,O.clipIntersection=R.clipIntersection,O.displacementMap=R.displacementMap,O.displacementScale=R.displacementScale,O.displacementBias=R.displacementBias,O.wireframeLinewidth=R.wireframeLinewidth,O.linewidth=R.linewidth,L.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const k=r.properties.get(O);k.light=L}return O}function A(M,R,L,I,O){if(M.visible===!1)return;if(M.layers.test(R.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&O===Fu)&&(!M.frustumCulled||n.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,M.matrixWorld);const U=e.update(M),F=M.material;if(Array.isArray(F)){const q=U.groups;for(let H=0,Z=q.length;H<Z;H++){const X=q[H],Y=F[X.materialIndex];if(Y&&Y.visible){const re=S(M,Y,I,O);M.onBeforeShadow(r,M,R,L,U,re,X),r.renderBufferDirect(L,null,U,re,M,X),M.onAfterShadow(r,M,R,L,U,re,X)}}}else if(F.visible){const q=S(M,F,I,O);M.onBeforeShadow(r,M,R,L,U,q,null),r.renderBufferDirect(L,null,U,q,M,null),M.onAfterShadow(r,M,R,L,U,q,null)}}const k=M.children;for(let U=0,F=k.length;U<F;U++)A(k[U],R,L,I,O)}function E(M){M.target.removeEventListener("dispose",E);for(const L in c){const I=c[L],O=M.target.uuid;O in I&&(I[O].dispose(),delete I[O])}}}const s4e={[VD]:HD,[GD]:YD,[jD]:XD,[Vm]:WD,[HD]:VD,[YD]:GD,[XD]:jD,[WD]:Vm};function o4e(r,e){function t(){let Ie=!1;const Et=new Un;let Ct=null;const _t=new Un(0,0,0,0);return{setMask:function(vt){Ct!==vt&&!Ie&&(r.colorMask(vt,vt,vt,vt),Ct=vt)},setLocked:function(vt){Ie=vt},setClear:function(vt,ht,zt,Xt,wr){wr===!0&&(vt*=Xt,ht*=Xt,zt*=Xt),Et.set(vt,ht,zt,Xt),_t.equals(Et)===!1&&(r.clearColor(vt,ht,zt,Xt),_t.copy(Et))},reset:function(){Ie=!1,Ct=null,_t.set(-1,0,0,0)}}}function n(){let Ie=!1,Et=!1,Ct=null,_t=null,vt=null;return{setReversed:function(ht){if(Et!==ht){const zt=e.get("EXT_clip_control");ht?zt.clipControlEXT(zt.LOWER_LEFT_EXT,zt.ZERO_TO_ONE_EXT):zt.clipControlEXT(zt.LOWER_LEFT_EXT,zt.NEGATIVE_ONE_TO_ONE_EXT),Et=ht;const Xt=vt;vt=null,this.setClear(Xt)}},getReversed:function(){return Et},setTest:function(ht){ht?me(r.DEPTH_TEST):Se(r.DEPTH_TEST)},setMask:function(ht){Ct!==ht&&!Ie&&(r.depthMask(ht),Ct=ht)},setFunc:function(ht){if(Et&&(ht=s4e[ht]),_t!==ht){switch(ht){case VD:r.depthFunc(r.NEVER);break;case HD:r.depthFunc(r.ALWAYS);break;case GD:r.depthFunc(r.LESS);break;case Vm:r.depthFunc(r.LEQUAL);break;case jD:r.depthFunc(r.EQUAL);break;case WD:r.depthFunc(r.GEQUAL);break;case YD:r.depthFunc(r.GREATER);break;case XD:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}_t=ht}},setLocked:function(ht){Ie=ht},setClear:function(ht){vt!==ht&&(Et&&(ht=1-ht),r.clearDepth(ht),vt=ht)},reset:function(){Ie=!1,Ct=null,_t=null,vt=null,Et=!1}}}function a(){let Ie=!1,Et=null,Ct=null,_t=null,vt=null,ht=null,zt=null,Xt=null,wr=null;return{setTest:function(Tr){Ie||(Tr?me(r.STENCIL_TEST):Se(r.STENCIL_TEST))},setMask:function(Tr){Et!==Tr&&!Ie&&(r.stencilMask(Tr),Et=Tr)},setFunc:function(Tr,On,an){(Ct!==Tr||_t!==On||vt!==an)&&(r.stencilFunc(Tr,On,an),Ct=Tr,_t=On,vt=an)},setOp:function(Tr,On,an){(ht!==Tr||zt!==On||Xt!==an)&&(r.stencilOp(Tr,On,an),ht=Tr,zt=On,Xt=an)},setLocked:function(Tr){Ie=Tr},setClear:function(Tr){wr!==Tr&&(r.clearStencil(Tr),wr=Tr)},reset:function(){Ie=!1,Et=null,Ct=null,_t=null,vt=null,ht=null,zt=null,Xt=null,wr=null}}}const i=new t,s=new n,o=new a,l=new WeakMap,c=new WeakMap;let u={},f={},h=new WeakMap,d=[],v=null,g=!1,m=null,y=null,b=null,S=null,A=null,E=null,M=null,R=new Jt(0,0,0),L=0,I=!1,O=null,P=null,k=null,U=null,F=null;const q=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,Z=0;const X=r.getParameter(r.VERSION);X.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(X)[1]),H=Z>=1):X.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),H=Z>=2);let Y=null,re={};const W=r.getParameter(r.SCISSOR_BOX),j=r.getParameter(r.VIEWPORT),J=new Un().fromArray(W),ee=new Un().fromArray(j);function ae(Ie,Et,Ct,_t){const vt=new Uint8Array(4),ht=r.createTexture();r.bindTexture(Ie,ht),r.texParameteri(Ie,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(Ie,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let zt=0;zt<Ct;zt++)Ie===r.TEXTURE_3D||Ie===r.TEXTURE_2D_ARRAY?r.texImage3D(Et,0,r.RGBA,1,1,_t,0,r.RGBA,r.UNSIGNED_BYTE,vt):r.texImage2D(Et+zt,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,vt);return ht}const ce={};ce[r.TEXTURE_2D]=ae(r.TEXTURE_2D,r.TEXTURE_2D,1),ce[r.TEXTURE_CUBE_MAP]=ae(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),ce[r.TEXTURE_2D_ARRAY]=ae(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),ce[r.TEXTURE_3D]=ae(r.TEXTURE_3D,r.TEXTURE_3D,1,1),i.setClear(0,0,0,1),s.setClear(1),o.setClear(0),me(r.DEPTH_TEST),s.setFunc(Vm),_e(!1),oe(kP),me(r.CULL_FACE),K(vh);function me(Ie){u[Ie]!==!0&&(r.enable(Ie),u[Ie]=!0)}function Se(Ie){u[Ie]!==!1&&(r.disable(Ie),u[Ie]=!1)}function we(Ie,Et){return f[Ie]!==Et?(r.bindFramebuffer(Ie,Et),f[Ie]=Et,Ie===r.DRAW_FRAMEBUFFER&&(f[r.FRAMEBUFFER]=Et),Ie===r.FRAMEBUFFER&&(f[r.DRAW_FRAMEBUFFER]=Et),!0):!1}function Me(Ie,Et){let Ct=d,_t=!1;if(Ie){Ct=h.get(Et),Ct===void 0&&(Ct=[],h.set(Et,Ct));const vt=Ie.textures;if(Ct.length!==vt.length||Ct[0]!==r.COLOR_ATTACHMENT0){for(let ht=0,zt=vt.length;ht<zt;ht++)Ct[ht]=r.COLOR_ATTACHMENT0+ht;Ct.length=vt.length,_t=!0}}else Ct[0]!==r.BACK&&(Ct[0]=r.BACK,_t=!0);_t&&r.drawBuffers(Ct)}function Ve(Ie){return v!==Ie?(r.useProgram(Ie),v=Ie,!0):!1}const de={[S0]:r.FUNC_ADD,[dre]:r.FUNC_SUBTRACT,[pre]:r.FUNC_REVERSE_SUBTRACT};de[vre]=r.MIN,de[gre]=r.MAX;const dt={[mre]:r.ZERO,[yre]:r.ONE,[xre]:r.SRC_COLOR,[FD]:r.SRC_ALPHA,[Are]:r.SRC_ALPHA_SATURATE,[wre]:r.DST_COLOR,[bre]:r.DST_ALPHA,[_re]:r.ONE_MINUS_SRC_COLOR,[UD]:r.ONE_MINUS_SRC_ALPHA,[Tre]:r.ONE_MINUS_DST_COLOR,[Sre]:r.ONE_MINUS_DST_ALPHA,[Ere]:r.CONSTANT_COLOR,[Mre]:r.ONE_MINUS_CONSTANT_COLOR,[Cre]:r.CONSTANT_ALPHA,[Dre]:r.ONE_MINUS_CONSTANT_ALPHA};function K(Ie,Et,Ct,_t,vt,ht,zt,Xt,wr,Tr){if(Ie===vh){g===!0&&(Se(r.BLEND),g=!1);return}if(g===!1&&(me(r.BLEND),g=!0),Ie!==hre){if(Ie!==m||Tr!==I){if((y!==S0||A!==S0)&&(r.blendEquation(r.FUNC_ADD),y=S0,A=S0),Tr)switch(Ie){case Mm:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case uT:r.blendFunc(r.ONE,r.ONE);break;case PP:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case BP:r.blendFuncSeparate(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE);break;default:Gr("WebGLState: Invalid blending: ",Ie);break}else switch(Ie){case Mm:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case uT:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE,r.ONE,r.ONE);break;case PP:Gr("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case BP:Gr("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Gr("WebGLState: Invalid blending: ",Ie);break}b=null,S=null,E=null,M=null,R.set(0,0,0),L=0,m=Ie,I=Tr}return}vt=vt||Et,ht=ht||Ct,zt=zt||_t,(Et!==y||vt!==A)&&(r.blendEquationSeparate(de[Et],de[vt]),y=Et,A=vt),(Ct!==b||_t!==S||ht!==E||zt!==M)&&(r.blendFuncSeparate(dt[Ct],dt[_t],dt[ht],dt[zt]),b=Ct,S=_t,E=ht,M=zt),(Xt.equals(R)===!1||wr!==L)&&(r.blendColor(Xt.r,Xt.g,Xt.b,wr),R.copy(Xt),L=wr),m=Ie,I=!1}function se(Ie,Et){Ie.side===nh?Se(r.CULL_FACE):me(r.CULL_FACE);let Ct=Ie.side===Qo;Et&&(Ct=!Ct),_e(Ct),Ie.blending===Mm&&Ie.transparent===!1?K(vh):K(Ie.blending,Ie.blendEquation,Ie.blendSrc,Ie.blendDst,Ie.blendEquationAlpha,Ie.blendSrcAlpha,Ie.blendDstAlpha,Ie.blendColor,Ie.blendAlpha,Ie.premultipliedAlpha),s.setFunc(Ie.depthFunc),s.setTest(Ie.depthTest),s.setMask(Ie.depthWrite),i.setMask(Ie.colorWrite);const _t=Ie.stencilWrite;o.setTest(_t),_t&&(o.setMask(Ie.stencilWriteMask),o.setFunc(Ie.stencilFunc,Ie.stencilRef,Ie.stencilFuncMask),o.setOp(Ie.stencilFail,Ie.stencilZFail,Ie.stencilZPass)),be(Ie.polygonOffset,Ie.polygonOffsetFactor,Ie.polygonOffsetUnits),Ie.alphaToCoverage===!0?me(r.SAMPLE_ALPHA_TO_COVERAGE):Se(r.SAMPLE_ALPHA_TO_COVERAGE)}function _e(Ie){O!==Ie&&(Ie?r.frontFace(r.CW):r.frontFace(r.CCW),O=Ie)}function oe(Ie){Ie!==cre?(me(r.CULL_FACE),Ie!==P&&(Ie===kP?r.cullFace(r.BACK):Ie===ure?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):Se(r.CULL_FACE),P=Ie}function ue(Ie){Ie!==k&&(H&&r.lineWidth(Ie),k=Ie)}function be(Ie,Et,Ct){Ie?(me(r.POLYGON_OFFSET_FILL),(U!==Et||F!==Ct)&&(r.polygonOffset(Et,Ct),U=Et,F=Ct)):Se(r.POLYGON_OFFSET_FILL)}function Be(Ie){Ie?me(r.SCISSOR_TEST):Se(r.SCISSOR_TEST)}function ze(Ie){Ie===void 0&&(Ie=r.TEXTURE0+q-1),Y!==Ie&&(r.activeTexture(Ie),Y=Ie)}function Le(Ie,Et,Ct){Ct===void 0&&(Y===null?Ct=r.TEXTURE0+q-1:Ct=Y);let _t=re[Ct];_t===void 0&&(_t={type:void 0,texture:void 0},re[Ct]=_t),(_t.type!==Ie||_t.texture!==Et)&&(Y!==Ct&&(r.activeTexture(Ct),Y=Ct),r.bindTexture(Ie,Et||ce[Ie]),_t.type=Ie,_t.texture=Et)}function fe(){const Ie=re[Y];Ie!==void 0&&Ie.type!==void 0&&(r.bindTexture(Ie.type,null),Ie.type=void 0,Ie.texture=void 0)}function ie(){try{r.compressedTexImage2D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function Re(){try{r.compressedTexImage3D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function je(){try{r.texSubImage2D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function it(){try{r.texSubImage3D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function Ge(){try{r.compressedTexSubImage2D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function Bt(){try{r.compressedTexSubImage3D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function pt(){try{r.texStorage2D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function Dt(){try{r.texStorage3D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function Vt(){try{r.texImage2D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function $e(){try{r.texImage3D(...arguments)}catch(Ie){Ie("WebGLState:",Ie)}}function yt(Ie){J.equals(Ie)===!1&&(r.scissor(Ie.x,Ie.y,Ie.z,Ie.w),J.copy(Ie))}function jt(Ie){ee.equals(Ie)===!1&&(r.viewport(Ie.x,Ie.y,Ie.z,Ie.w),ee.copy(Ie))}function Ne(Ie,Et){let Ct=c.get(Et);Ct===void 0&&(Ct=new WeakMap,c.set(Et,Ct));let _t=Ct.get(Ie);_t===void 0&&(_t=r.getUniformBlockIndex(Et,Ie.name),Ct.set(Ie,_t))}function Ke(Ie,Et){const _t=c.get(Et).get(Ie);l.get(Et)!==_t&&(r.uniformBlockBinding(Et,_t,Ie.__bindingPointIndex),l.set(Et,_t))}function At(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),s.setReversed(!1),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),u={},Y=null,re={},f={},h=new WeakMap,d=[],v=null,g=!1,m=null,y=null,b=null,S=null,A=null,E=null,M=null,R=new Jt(0,0,0),L=0,I=!1,O=null,P=null,k=null,U=null,F=null,J.set(0,0,r.canvas.width,r.canvas.height),ee.set(0,0,r.canvas.width,r.canvas.height),i.reset(),s.reset(),o.reset()}return{buffers:{color:i,depth:s,stencil:o},enable:me,disable:Se,bindFramebuffer:we,drawBuffers:Me,useProgram:Ve,setBlending:K,setMaterial:se,setFlipSided:_e,setCullFace:oe,setLineWidth:ue,setPolygonOffset:be,setScissorTest:Be,activeTexture:ze,bindTexture:Le,unbindTexture:fe,compressedTexImage2D:ie,compressedTexImage3D:Re,texImage2D:Vt,texImage3D:$e,updateUBOMapping:Ne,uniformBlockBinding:Ke,texStorage2D:pt,texStorage3D:Dt,texSubImage2D:je,texSubImage3D:it,compressedTexSubImage2D:Ge,compressedTexSubImage3D:Bt,scissor:yt,viewport:jt,reset:At}}function l4e(r,e,t,n,a,i,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new St,u=new WeakMap;let f;const h=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(fe,ie){return d?new OffscreenCanvas(fe,ie):xT("canvas")}function g(fe,ie,Re){let je=1;const it=Le(fe);if((it.width>Re||it.height>Re)&&(je=Re/Math.max(it.width,it.height)),je<1)if(typeof HTMLImageElement<"u"&&fe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&fe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&fe instanceof ImageBitmap||typeof VideoFrame<"u"&&fe instanceof VideoFrame){const Ge=Math.floor(je*it.width),Bt=Math.floor(je*it.height);f===void 0&&(f=v(Ge,Bt));const pt=ie?v(Ge,Bt):f;return pt.width=Ge,pt.height=Bt,pt.getContext("2d").drawImage(fe,0,0,Ge,Bt),$t("WebGLRenderer: Texture has been resized from ("+it.width+"x"+it.height+") to ("+Ge+"x"+Bt+")."),pt}else return"data"in fe&&$t("WebGLRenderer: Image in DataTexture is too big ("+it.width+"x"+it.height+")."),fe;return fe}function m(fe){return fe.generateMipmaps}function y(fe){r.generateMipmap(fe)}function b(fe){return fe.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:fe.isWebGL3DRenderTarget?r.TEXTURE_3D:fe.isWebGLArrayRenderTarget||fe.isCompressedArrayTexture?r.TEXTURE_2D_ARRAY:r.TEXTURE_2D}function S(fe,ie,Re,je,it=!1){if(fe!==null){if(r[fe]!==void 0)return r[fe];$t("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+fe+"'")}let Ge=ie;if(ie===r.RED&&(Re===r.FLOAT&&(Ge=r.R32F),Re===r.HALF_FLOAT&&(Ge=r.R16F),Re===r.UNSIGNED_BYTE&&(Ge=r.R8)),ie===r.RED_INTEGER&&(Re===r.UNSIGNED_BYTE&&(Ge=r.R8UI),Re===r.UNSIGNED_SHORT&&(Ge=r.R16UI),Re===r.UNSIGNED_INT&&(Ge=r.R32UI),Re===r.BYTE&&(Ge=r.R8I),Re===r.SHORT&&(Ge=r.R16I),Re===r.INT&&(Ge=r.R32I)),ie===r.RG&&(Re===r.FLOAT&&(Ge=r.RG32F),Re===r.HALF_FLOAT&&(Ge=r.RG16F),Re===r.UNSIGNED_BYTE&&(Ge=r.RG8)),ie===r.RG_INTEGER&&(Re===r.UNSIGNED_BYTE&&(Ge=r.RG8UI),Re===r.UNSIGNED_SHORT&&(Ge=r.RG16UI),Re===r.UNSIGNED_INT&&(Ge=r.RG32UI),Re===r.BYTE&&(Ge=r.RG8I),Re===r.SHORT&&(Ge=r.RG16I),Re===r.INT&&(Ge=r.RG32I)),ie===r.RGB_INTEGER&&(Re===r.UNSIGNED_BYTE&&(Ge=r.RGB8UI),Re===r.UNSIGNED_SHORT&&(Ge=r.RGB16UI),Re===r.UNSIGNED_INT&&(Ge=r.RGB32UI),Re===r.BYTE&&(Ge=r.RGB8I),Re===r.SHORT&&(Ge=r.RGB16I),Re===r.INT&&(Ge=r.RGB32I)),ie===r.RGBA_INTEGER&&(Re===r.UNSIGNED_BYTE&&(Ge=r.RGBA8UI),Re===r.UNSIGNED_SHORT&&(Ge=r.RGBA16UI),Re===r.UNSIGNED_INT&&(Ge=r.RGBA32UI),Re===r.BYTE&&(Ge=r.RGBA8I),Re===r.SHORT&&(Ge=r.RGBA16I),Re===r.INT&&(Ge=r.RGBA32I)),ie===r.RGB&&(Re===r.UNSIGNED_INT_5_9_9_9_REV&&(Ge=r.RGB9_E5),Re===r.UNSIGNED_INT_10F_11F_11F_REV&&(Ge=r.R11F_G11F_B10F)),ie===r.RGBA){const Bt=it?mT:Nn.getTransfer(je);Re===r.FLOAT&&(Ge=r.RGBA32F),Re===r.HALF_FLOAT&&(Ge=r.RGBA16F),Re===r.UNSIGNED_BYTE&&(Ge=Bt===sa?r.SRGB8_ALPHA8:r.RGBA8),Re===r.UNSIGNED_SHORT_4_4_4_4&&(Ge=r.RGBA4),Re===r.UNSIGNED_SHORT_5_5_5_1&&(Ge=r.RGB5_A1)}return(Ge===r.R16F||Ge===r.R32F||Ge===r.RG16F||Ge===r.RG32F||Ge===r.RGBA16F||Ge===r.RGBA32F)&&e.get("EXT_color_buffer_float"),Ge}function A(fe,ie){let Re;return fe?ie===null||ie===Qd||ie===f_?Re=r.DEPTH24_STENCIL8:ie===Al?Re=r.DEPTH32F_STENCIL8:ie===u_&&(Re=r.DEPTH24_STENCIL8,$t("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ie===null||ie===Qd||ie===f_?Re=r.DEPTH_COMPONENT24:ie===Al?Re=r.DEPTH_COMPONENT32F:ie===u_&&(Re=r.DEPTH_COMPONENT16),Re}function E(fe,ie){return m(fe)===!0||fe.isFramebufferTexture&&fe.minFilter!==zs&&fe.minFilter!==xi?Math.log2(Math.max(ie.width,ie.height))+1:fe.mipmaps!==void 0&&fe.mipmaps.length>0?fe.mipmaps.length:fe.isCompressedTexture&&Array.isArray(fe.image)?ie.mipmaps.length:1}function M(fe){const ie=fe.target;ie.removeEventListener("dispose",M),L(ie),ie.isVideoTexture&&u.delete(ie)}function R(fe){const ie=fe.target;ie.removeEventListener("dispose",R),O(ie)}function L(fe){const ie=n.get(fe);if(ie.__webglInit===void 0)return;const Re=fe.source,je=h.get(Re);if(je){const it=je[ie.__cacheKey];it.usedTimes--,it.usedTimes===0&&I(fe),Object.keys(je).length===0&&h.delete(Re)}n.remove(fe)}function I(fe){const ie=n.get(fe);r.deleteTexture(ie.__webglTexture);const Re=fe.source,je=h.get(Re);delete je[ie.__cacheKey],s.memory.textures--}function O(fe){const ie=n.get(fe);if(fe.depthTexture&&(fe.depthTexture.dispose(),n.remove(fe.depthTexture)),fe.isWebGLCubeRenderTarget)for(let je=0;je<6;je++){if(Array.isArray(ie.__webglFramebuffer[je]))for(let it=0;it<ie.__webglFramebuffer[je].length;it++)r.deleteFramebuffer(ie.__webglFramebuffer[je][it]);else r.deleteFramebuffer(ie.__webglFramebuffer[je]);ie.__webglDepthbuffer&&r.deleteRenderbuffer(ie.__webglDepthbuffer[je])}else{if(Array.isArray(ie.__webglFramebuffer))for(let je=0;je<ie.__webglFramebuffer.length;je++)r.deleteFramebuffer(ie.__webglFramebuffer[je]);else r.deleteFramebuffer(ie.__webglFramebuffer);if(ie.__webglDepthbuffer&&r.deleteRenderbuffer(ie.__webglDepthbuffer),ie.__webglMultisampledFramebuffer&&r.deleteFramebuffer(ie.__webglMultisampledFramebuffer),ie.__webglColorRenderbuffer)for(let je=0;je<ie.__webglColorRenderbuffer.length;je++)ie.__webglColorRenderbuffer[je]&&r.deleteRenderbuffer(ie.__webglColorRenderbuffer[je]);ie.__webglDepthRenderbuffer&&r.deleteRenderbuffer(ie.__webglDepthRenderbuffer)}const Re=fe.textures;for(let je=0,it=Re.length;je<it;je++){const Ge=n.get(Re[je]);Ge.__webglTexture&&(r.deleteTexture(Ge.__webglTexture),s.memory.textures--),n.remove(Re[je])}n.remove(fe)}let P=0;function k(){P=0}function U(){const fe=P;return fe>=a.maxTextures&&$t("WebGLTextures: Trying to use "+fe+" texture units while this GPU supports only "+a.maxTextures),P+=1,fe}function F(fe){const ie=[];return ie.push(fe.wrapS),ie.push(fe.wrapT),ie.push(fe.wrapR||0),ie.push(fe.magFilter),ie.push(fe.minFilter),ie.push(fe.anisotropy),ie.push(fe.internalFormat),ie.push(fe.format),ie.push(fe.type),ie.push(fe.generateMipmaps),ie.push(fe.premultiplyAlpha),ie.push(fe.flipY),ie.push(fe.unpackAlignment),ie.push(fe.colorSpace),ie.join()}function q(fe,ie){const Re=n.get(fe);if(fe.isVideoTexture&&Be(fe),fe.isRenderTargetTexture===!1&&fe.isExternalTexture!==!0&&fe.version>0&&Re.__version!==fe.version){const je=fe.image;if(je===null)$t("WebGLRenderer: Texture marked for update but no image data found.");else if(je.complete===!1)$t("WebGLRenderer: Texture marked for update but image is incomplete");else{ce(Re,fe,ie);return}}else fe.isExternalTexture&&(Re.__webglTexture=fe.sourceTexture?fe.sourceTexture:null);t.bindTexture(r.TEXTURE_2D,Re.__webglTexture,r.TEXTURE0+ie)}function H(fe,ie){const Re=n.get(fe);if(fe.isRenderTargetTexture===!1&&fe.version>0&&Re.__version!==fe.version){ce(Re,fe,ie);return}else fe.isExternalTexture&&(Re.__webglTexture=fe.sourceTexture?fe.sourceTexture:null);t.bindTexture(r.TEXTURE_2D_ARRAY,Re.__webglTexture,r.TEXTURE0+ie)}function Z(fe,ie){const Re=n.get(fe);if(fe.isRenderTargetTexture===!1&&fe.version>0&&Re.__version!==fe.version){ce(Re,fe,ie);return}t.bindTexture(r.TEXTURE_3D,Re.__webglTexture,r.TEXTURE0+ie)}function X(fe,ie){const Re=n.get(fe);if(fe.version>0&&Re.__version!==fe.version){me(Re,fe,ie);return}t.bindTexture(r.TEXTURE_CUBE_MAP,Re.__webglTexture,r.TEXTURE0+ie)}const Y={[dT]:r.REPEAT,[Tl]:r.CLAMP_TO_EDGE,[pT]:r.MIRRORED_REPEAT},re={[zs]:r.NEAREST,[cz]:r.NEAREST_MIPMAP_NEAREST,[z1]:r.NEAREST_MIPMAP_LINEAR,[xi]:r.LINEAR,[Aw]:r.LINEAR_MIPMAP_NEAREST,[oh]:r.LINEAR_MIPMAP_LINEAR},W={[Wre]:r.NEVER,[$re]:r.ALWAYS,[Yre]:r.LESS,[mz]:r.LEQUAL,[Xre]:r.EQUAL,[Kre]:r.GEQUAL,[qre]:r.GREATER,[Zre]:r.NOTEQUAL};function j(fe,ie){if(ie.type===Al&&e.has("OES_texture_float_linear")===!1&&(ie.magFilter===xi||ie.magFilter===Aw||ie.magFilter===z1||ie.magFilter===oh||ie.minFilter===xi||ie.minFilter===Aw||ie.minFilter===z1||ie.minFilter===oh)&&$t("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(fe,r.TEXTURE_WRAP_S,Y[ie.wrapS]),r.texParameteri(fe,r.TEXTURE_WRAP_T,Y[ie.wrapT]),(fe===r.TEXTURE_3D||fe===r.TEXTURE_2D_ARRAY)&&r.texParameteri(fe,r.TEXTURE_WRAP_R,Y[ie.wrapR]),r.texParameteri(fe,r.TEXTURE_MAG_FILTER,re[ie.magFilter]),r.texParameteri(fe,r.TEXTURE_MIN_FILTER,re[ie.minFilter]),ie.compareFunction&&(r.texParameteri(fe,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(fe,r.TEXTURE_COMPARE_FUNC,W[ie.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ie.magFilter===zs||ie.minFilter!==z1&&ie.minFilter!==oh||ie.type===Al&&e.has("OES_texture_float_linear")===!1)return;if(ie.anisotropy>1||n.get(ie).__currentAnisotropy){const Re=e.get("EXT_texture_filter_anisotropic");r.texParameterf(fe,Re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ie.anisotropy,a.getMaxAnisotropy())),n.get(ie).__currentAnisotropy=ie.anisotropy}}}function J(fe,ie){let Re=!1;fe.__webglInit===void 0&&(fe.__webglInit=!0,ie.addEventListener("dispose",M));const je=ie.source;let it=h.get(je);it===void 0&&(it={},h.set(je,it));const Ge=F(ie);if(Ge!==fe.__cacheKey){it[Ge]===void 0&&(it[Ge]={texture:r.createTexture(),usedTimes:0},s.memory.textures++,Re=!0),it[Ge].usedTimes++;const Bt=it[fe.__cacheKey];Bt!==void 0&&(it[fe.__cacheKey].usedTimes--,Bt.usedTimes===0&&I(ie)),fe.__cacheKey=Ge,fe.__webglTexture=it[Ge].texture}return Re}function ee(fe,ie,Re){return Math.floor(Math.floor(fe/Re)/ie)}function ae(fe,ie,Re,je){const Ge=fe.updateRanges;if(Ge.length===0)t.texSubImage2D(r.TEXTURE_2D,0,0,0,ie.width,ie.height,Re,je,ie.data);else{Ge.sort(($e,yt)=>$e.start-yt.start);let Bt=0;for(let $e=1;$e<Ge.length;$e++){const yt=Ge[Bt],jt=Ge[$e],Ne=yt.start+yt.count,Ke=ee(jt.start,ie.width,4),At=ee(yt.start,ie.width,4);jt.start<=Ne+1&&Ke===At&&ee(jt.start+jt.count-1,ie.width,4)===Ke?yt.count=Math.max(yt.count,jt.start+jt.count-yt.start):(++Bt,Ge[Bt]=jt)}Ge.length=Bt+1;const pt=r.getParameter(r.UNPACK_ROW_LENGTH),Dt=r.getParameter(r.UNPACK_SKIP_PIXELS),Vt=r.getParameter(r.UNPACK_SKIP_ROWS);r.pixelStorei(r.UNPACK_ROW_LENGTH,ie.width);for(let $e=0,yt=Ge.length;$e<yt;$e++){const jt=Ge[$e],Ne=Math.floor(jt.start/4),Ke=Math.ceil(jt.count/4),At=Ne%ie.width,Ie=Math.floor(Ne/ie.width),Et=Ke,Ct=1;r.pixelStorei(r.UNPACK_SKIP_PIXELS,At),r.pixelStorei(r.UNPACK_SKIP_ROWS,Ie),t.texSubImage2D(r.TEXTURE_2D,0,At,Ie,Et,Ct,Re,je,ie.data)}fe.clearUpdateRanges(),r.pixelStorei(r.UNPACK_ROW_LENGTH,pt),r.pixelStorei(r.UNPACK_SKIP_PIXELS,Dt),r.pixelStorei(r.UNPACK_SKIP_ROWS,Vt)}}function ce(fe,ie,Re){let je=r.TEXTURE_2D;(ie.isDataArrayTexture||ie.isCompressedArrayTexture)&&(je=r.TEXTURE_2D_ARRAY),ie.isData3DTexture&&(je=r.TEXTURE_3D);const it=J(fe,ie),Ge=ie.source;t.bindTexture(je,fe.__webglTexture,r.TEXTURE0+Re);const Bt=n.get(Ge);if(Ge.version!==Bt.__version||it===!0){t.activeTexture(r.TEXTURE0+Re);const pt=Nn.getPrimaries(Nn.workingColorSpace),Dt=ie.colorSpace===Rd?null:Nn.getPrimaries(ie.colorSpace),Vt=ie.colorSpace===Rd||pt===Dt?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,ie.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,ie.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,Vt);let $e=g(ie.image,!1,a.maxTextureSize);$e=ze(ie,$e);const yt=i.convert(ie.format,ie.colorSpace),jt=i.convert(ie.type);let Ne=S(ie.internalFormat,yt,jt,ie.colorSpace,ie.isVideoTexture);j(je,ie);let Ke;const At=ie.mipmaps,Ie=ie.isVideoTexture!==!0,Et=Bt.__version===void 0||it===!0,Ct=Ge.dataReady,_t=E(ie,$e);if(ie.isDepthTexture)Ne=A(ie.format===d_,ie.type),Et&&(Ie?t.texStorage2D(r.TEXTURE_2D,1,Ne,$e.width,$e.height):t.texImage2D(r.TEXTURE_2D,0,Ne,$e.width,$e.height,0,yt,jt,null));else if(ie.isDataTexture)if(At.length>0){Ie&&Et&&t.texStorage2D(r.TEXTURE_2D,_t,Ne,At[0].width,At[0].height);for(let vt=0,ht=At.length;vt<ht;vt++)Ke=At[vt],Ie?Ct&&t.texSubImage2D(r.TEXTURE_2D,vt,0,0,Ke.width,Ke.height,yt,jt,Ke.data):t.texImage2D(r.TEXTURE_2D,vt,Ne,Ke.width,Ke.height,0,yt,jt,Ke.data);ie.generateMipmaps=!1}else Ie?(Et&&t.texStorage2D(r.TEXTURE_2D,_t,Ne,$e.width,$e.height),Ct&&ae(ie,$e,yt,jt)):t.texImage2D(r.TEXTURE_2D,0,Ne,$e.width,$e.height,0,yt,jt,$e.data);else if(ie.isCompressedTexture)if(ie.isCompressedArrayTexture){Ie&&Et&&t.texStorage3D(r.TEXTURE_2D_ARRAY,_t,Ne,At[0].width,At[0].height,$e.depth);for(let vt=0,ht=At.length;vt<ht;vt++)if(Ke=At[vt],ie.format!==go)if(yt!==null)if(Ie){if(Ct)if(ie.layerUpdates.size>0){const zt=XP(Ke.width,Ke.height,ie.format,ie.type);for(const Xt of ie.layerUpdates){const wr=Ke.data.subarray(Xt*zt/Ke.data.BYTES_PER_ELEMENT,(Xt+1)*zt/Ke.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,vt,0,0,Xt,Ke.width,Ke.height,1,yt,wr)}ie.clearLayerUpdates()}else t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,vt,0,0,0,Ke.width,Ke.height,$e.depth,yt,Ke.data)}else t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,vt,Ne,Ke.width,Ke.height,$e.depth,0,Ke.data,0,0);else $t("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ie?Ct&&t.texSubImage3D(r.TEXTURE_2D_ARRAY,vt,0,0,0,Ke.width,Ke.height,$e.depth,yt,jt,Ke.data):t.texImage3D(r.TEXTURE_2D_ARRAY,vt,Ne,Ke.width,Ke.height,$e.depth,0,yt,jt,Ke.data)}else{Ie&&Et&&t.texStorage2D(r.TEXTURE_2D,_t,Ne,At[0].width,At[0].height);for(let vt=0,ht=At.length;vt<ht;vt++)Ke=At[vt],ie.format!==go?yt!==null?Ie?Ct&&t.compressedTexSubImage2D(r.TEXTURE_2D,vt,0,0,Ke.width,Ke.height,yt,Ke.data):t.compressedTexImage2D(r.TEXTURE_2D,vt,Ne,Ke.width,Ke.height,0,Ke.data):$t("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ie?Ct&&t.texSubImage2D(r.TEXTURE_2D,vt,0,0,Ke.width,Ke.height,yt,jt,Ke.data):t.texImage2D(r.TEXTURE_2D,vt,Ne,Ke.width,Ke.height,0,yt,jt,Ke.data)}else if(ie.isDataArrayTexture)if(Ie){if(Et&&t.texStorage3D(r.TEXTURE_2D_ARRAY,_t,Ne,$e.width,$e.height,$e.depth),Ct)if(ie.layerUpdates.size>0){const vt=XP($e.width,$e.height,ie.format,ie.type);for(const ht of ie.layerUpdates){const zt=$e.data.subarray(ht*vt/$e.data.BYTES_PER_ELEMENT,(ht+1)*vt/$e.data.BYTES_PER_ELEMENT);t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,ht,$e.width,$e.height,1,yt,jt,zt)}ie.clearLayerUpdates()}else t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,yt,jt,$e.data)}else t.texImage3D(r.TEXTURE_2D_ARRAY,0,Ne,$e.width,$e.height,$e.depth,0,yt,jt,$e.data);else if(ie.isData3DTexture)Ie?(Et&&t.texStorage3D(r.TEXTURE_3D,_t,Ne,$e.width,$e.height,$e.depth),Ct&&t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,yt,jt,$e.data)):t.texImage3D(r.TEXTURE_3D,0,Ne,$e.width,$e.height,$e.depth,0,yt,jt,$e.data);else if(ie.isFramebufferTexture){if(Et)if(Ie)t.texStorage2D(r.TEXTURE_2D,_t,Ne,$e.width,$e.height);else{let vt=$e.width,ht=$e.height;for(let zt=0;zt<_t;zt++)t.texImage2D(r.TEXTURE_2D,zt,Ne,vt,ht,0,yt,jt,null),vt>>=1,ht>>=1}}else if(At.length>0){if(Ie&&Et){const vt=Le(At[0]);t.texStorage2D(r.TEXTURE_2D,_t,Ne,vt.width,vt.height)}for(let vt=0,ht=At.length;vt<ht;vt++)Ke=At[vt],Ie?Ct&&t.texSubImage2D(r.TEXTURE_2D,vt,0,0,yt,jt,Ke):t.texImage2D(r.TEXTURE_2D,vt,Ne,yt,jt,Ke);ie.generateMipmaps=!1}else if(Ie){if(Et){const vt=Le($e);t.texStorage2D(r.TEXTURE_2D,_t,Ne,vt.width,vt.height)}Ct&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,yt,jt,$e)}else t.texImage2D(r.TEXTURE_2D,0,Ne,yt,jt,$e);m(ie)&&y(je),Bt.__version=Ge.version,ie.onUpdate&&ie.onUpdate(ie)}fe.__version=ie.version}function me(fe,ie,Re){if(ie.image.length!==6)return;const je=J(fe,ie),it=ie.source;t.bindTexture(r.TEXTURE_CUBE_MAP,fe.__webglTexture,r.TEXTURE0+Re);const Ge=n.get(it);if(it.version!==Ge.__version||je===!0){t.activeTexture(r.TEXTURE0+Re);const Bt=Nn.getPrimaries(Nn.workingColorSpace),pt=ie.colorSpace===Rd?null:Nn.getPrimaries(ie.colorSpace),Dt=ie.colorSpace===Rd||Bt===pt?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,ie.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,ie.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);const Vt=ie.isCompressedTexture||ie.image[0].isCompressedTexture,$e=ie.image[0]&&ie.image[0].isDataTexture,yt=[];for(let ht=0;ht<6;ht++)!Vt&&!$e?yt[ht]=g(ie.image[ht],!0,a.maxCubemapSize):yt[ht]=$e?ie.image[ht].image:ie.image[ht],yt[ht]=ze(ie,yt[ht]);const jt=yt[0],Ne=i.convert(ie.format,ie.colorSpace),Ke=i.convert(ie.type),At=S(ie.internalFormat,Ne,Ke,ie.colorSpace),Ie=ie.isVideoTexture!==!0,Et=Ge.__version===void 0||je===!0,Ct=it.dataReady;let _t=E(ie,jt);j(r.TEXTURE_CUBE_MAP,ie);let vt;if(Vt){Ie&&Et&&t.texStorage2D(r.TEXTURE_CUBE_MAP,_t,At,jt.width,jt.height);for(let ht=0;ht<6;ht++){vt=yt[ht].mipmaps;for(let zt=0;zt<vt.length;zt++){const Xt=vt[zt];ie.format!==go?Ne!==null?Ie?Ct&&t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,zt,0,0,Xt.width,Xt.height,Ne,Xt.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,zt,At,Xt.width,Xt.height,0,Xt.data):$t("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ie?Ct&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,zt,0,0,Xt.width,Xt.height,Ne,Ke,Xt.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,zt,At,Xt.width,Xt.height,0,Ne,Ke,Xt.data)}}}else{if(vt=ie.mipmaps,Ie&&Et){vt.length>0&&_t++;const ht=Le(yt[0]);t.texStorage2D(r.TEXTURE_CUBE_MAP,_t,At,ht.width,ht.height)}for(let ht=0;ht<6;ht++)if($e){Ie?Ct&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,0,0,yt[ht].width,yt[ht].height,Ne,Ke,yt[ht].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,At,yt[ht].width,yt[ht].height,0,Ne,Ke,yt[ht].data);for(let zt=0;zt<vt.length;zt++){const wr=vt[zt].image[ht].image;Ie?Ct&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,zt+1,0,0,wr.width,wr.height,Ne,Ke,wr.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,zt+1,At,wr.width,wr.height,0,Ne,Ke,wr.data)}}else{Ie?Ct&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,0,0,Ne,Ke,yt[ht]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,At,Ne,Ke,yt[ht]);for(let zt=0;zt<vt.length;zt++){const Xt=vt[zt];Ie?Ct&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,zt+1,0,0,Ne,Ke,Xt.image[ht]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ht,zt+1,At,Ne,Ke,Xt.image[ht])}}}m(ie)&&y(r.TEXTURE_CUBE_MAP),Ge.__version=it.version,ie.onUpdate&&ie.onUpdate(ie)}fe.__version=ie.version}function Se(fe,ie,Re,je,it,Ge){const Bt=i.convert(Re.format,Re.colorSpace),pt=i.convert(Re.type),Dt=S(Re.internalFormat,Bt,pt,Re.colorSpace),Vt=n.get(ie),$e=n.get(Re);if($e.__renderTarget=ie,!Vt.__hasExternalTextures){const yt=Math.max(1,ie.width>>Ge),jt=Math.max(1,ie.height>>Ge);it===r.TEXTURE_3D||it===r.TEXTURE_2D_ARRAY?t.texImage3D(it,Ge,Dt,yt,jt,ie.depth,0,Bt,pt,null):t.texImage2D(it,Ge,Dt,yt,jt,0,Bt,pt,null)}t.bindFramebuffer(r.FRAMEBUFFER,fe),be(ie)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,je,it,$e.__webglTexture,0,ue(ie)):(it===r.TEXTURE_2D||it>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&it<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,je,it,$e.__webglTexture,Ge),t.bindFramebuffer(r.FRAMEBUFFER,null)}function we(fe,ie,Re){if(r.bindRenderbuffer(r.RENDERBUFFER,fe),ie.depthBuffer){const je=ie.depthTexture,it=je&&je.isDepthTexture?je.type:null,Ge=A(ie.stencilBuffer,it),Bt=ie.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,pt=ue(ie);be(ie)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,pt,Ge,ie.width,ie.height):Re?r.renderbufferStorageMultisample(r.RENDERBUFFER,pt,Ge,ie.width,ie.height):r.renderbufferStorage(r.RENDERBUFFER,Ge,ie.width,ie.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,Bt,r.RENDERBUFFER,fe)}else{const je=ie.textures;for(let it=0;it<je.length;it++){const Ge=je[it],Bt=i.convert(Ge.format,Ge.colorSpace),pt=i.convert(Ge.type),Dt=S(Ge.internalFormat,Bt,pt,Ge.colorSpace),Vt=ue(ie);Re&&be(ie)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,Vt,Dt,ie.width,ie.height):be(ie)?o.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Vt,Dt,ie.width,ie.height):r.renderbufferStorage(r.RENDERBUFFER,Dt,ie.width,ie.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function Me(fe,ie){if(ie&&ie.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,fe),!(ie.depthTexture&&ie.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const je=n.get(ie.depthTexture);je.__renderTarget=ie,(!je.__webglTexture||ie.depthTexture.image.width!==ie.width||ie.depthTexture.image.height!==ie.height)&&(ie.depthTexture.image.width=ie.width,ie.depthTexture.image.height=ie.height,ie.depthTexture.needsUpdate=!0),q(ie.depthTexture,0);const it=je.__webglTexture,Ge=ue(ie);if(ie.depthTexture.format===h_)be(ie)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,it,0,Ge):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,it,0);else if(ie.depthTexture.format===d_)be(ie)?o.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,it,0,Ge):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,it,0);else throw new Error("Unknown depthTexture format")}function Ve(fe){const ie=n.get(fe),Re=fe.isWebGLCubeRenderTarget===!0;if(ie.__boundDepthTexture!==fe.depthTexture){const je=fe.depthTexture;if(ie.__depthDisposeCallback&&ie.__depthDisposeCallback(),je){const it=()=>{delete ie.__boundDepthTexture,delete ie.__depthDisposeCallback,je.removeEventListener("dispose",it)};je.addEventListener("dispose",it),ie.__depthDisposeCallback=it}ie.__boundDepthTexture=je}if(fe.depthTexture&&!ie.__autoAllocateDepthBuffer){if(Re)throw new Error("target.depthTexture not supported in Cube render targets");const je=fe.texture.mipmaps;je&&je.length>0?Me(ie.__webglFramebuffer[0],fe):Me(ie.__webglFramebuffer,fe)}else if(Re){ie.__webglDepthbuffer=[];for(let je=0;je<6;je++)if(t.bindFramebuffer(r.FRAMEBUFFER,ie.__webglFramebuffer[je]),ie.__webglDepthbuffer[je]===void 0)ie.__webglDepthbuffer[je]=r.createRenderbuffer(),we(ie.__webglDepthbuffer[je],fe,!1);else{const it=fe.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ge=ie.__webglDepthbuffer[je];r.bindRenderbuffer(r.RENDERBUFFER,Ge),r.framebufferRenderbuffer(r.FRAMEBUFFER,it,r.RENDERBUFFER,Ge)}}else{const je=fe.texture.mipmaps;if(je&&je.length>0?t.bindFramebuffer(r.FRAMEBUFFER,ie.__webglFramebuffer[0]):t.bindFramebuffer(r.FRAMEBUFFER,ie.__webglFramebuffer),ie.__webglDepthbuffer===void 0)ie.__webglDepthbuffer=r.createRenderbuffer(),we(ie.__webglDepthbuffer,fe,!1);else{const it=fe.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ge=ie.__webglDepthbuffer;r.bindRenderbuffer(r.RENDERBUFFER,Ge),r.framebufferRenderbuffer(r.FRAMEBUFFER,it,r.RENDERBUFFER,Ge)}}t.bindFramebuffer(r.FRAMEBUFFER,null)}function de(fe,ie,Re){const je=n.get(fe);ie!==void 0&&Se(je.__webglFramebuffer,fe,fe.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),Re!==void 0&&Ve(fe)}function dt(fe){const ie=fe.texture,Re=n.get(fe),je=n.get(ie);fe.addEventListener("dispose",R);const it=fe.textures,Ge=fe.isWebGLCubeRenderTarget===!0,Bt=it.length>1;if(Bt||(je.__webglTexture===void 0&&(je.__webglTexture=r.createTexture()),je.__version=ie.version,s.memory.textures++),Ge){Re.__webglFramebuffer=[];for(let pt=0;pt<6;pt++)if(ie.mipmaps&&ie.mipmaps.length>0){Re.__webglFramebuffer[pt]=[];for(let Dt=0;Dt<ie.mipmaps.length;Dt++)Re.__webglFramebuffer[pt][Dt]=r.createFramebuffer()}else Re.__webglFramebuffer[pt]=r.createFramebuffer()}else{if(ie.mipmaps&&ie.mipmaps.length>0){Re.__webglFramebuffer=[];for(let pt=0;pt<ie.mipmaps.length;pt++)Re.__webglFramebuffer[pt]=r.createFramebuffer()}else Re.__webglFramebuffer=r.createFramebuffer();if(Bt)for(let pt=0,Dt=it.length;pt<Dt;pt++){const Vt=n.get(it[pt]);Vt.__webglTexture===void 0&&(Vt.__webglTexture=r.createTexture(),s.memory.textures++)}if(fe.samples>0&&be(fe)===!1){Re.__webglMultisampledFramebuffer=r.createFramebuffer(),Re.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,Re.__webglMultisampledFramebuffer);for(let pt=0;pt<it.length;pt++){const Dt=it[pt];Re.__webglColorRenderbuffer[pt]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,Re.__webglColorRenderbuffer[pt]);const Vt=i.convert(Dt.format,Dt.colorSpace),$e=i.convert(Dt.type),yt=S(Dt.internalFormat,Vt,$e,Dt.colorSpace,fe.isXRRenderTarget===!0),jt=ue(fe);r.renderbufferStorageMultisample(r.RENDERBUFFER,jt,yt,fe.width,fe.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+pt,r.RENDERBUFFER,Re.__webglColorRenderbuffer[pt])}r.bindRenderbuffer(r.RENDERBUFFER,null),fe.depthBuffer&&(Re.__webglDepthRenderbuffer=r.createRenderbuffer(),we(Re.__webglDepthRenderbuffer,fe,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(Ge){t.bindTexture(r.TEXTURE_CUBE_MAP,je.__webglTexture),j(r.TEXTURE_CUBE_MAP,ie);for(let pt=0;pt<6;pt++)if(ie.mipmaps&&ie.mipmaps.length>0)for(let Dt=0;Dt<ie.mipmaps.length;Dt++)Se(Re.__webglFramebuffer[pt][Dt],fe,ie,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Dt);else Se(Re.__webglFramebuffer[pt],fe,ie,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0);m(ie)&&y(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Bt){for(let pt=0,Dt=it.length;pt<Dt;pt++){const Vt=it[pt],$e=n.get(Vt);let yt=r.TEXTURE_2D;(fe.isWebGL3DRenderTarget||fe.isWebGLArrayRenderTarget)&&(yt=fe.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(yt,$e.__webglTexture),j(yt,Vt),Se(Re.__webglFramebuffer,fe,Vt,r.COLOR_ATTACHMENT0+pt,yt,0),m(Vt)&&y(yt)}t.unbindTexture()}else{let pt=r.TEXTURE_2D;if((fe.isWebGL3DRenderTarget||fe.isWebGLArrayRenderTarget)&&(pt=fe.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(pt,je.__webglTexture),j(pt,ie),ie.mipmaps&&ie.mipmaps.length>0)for(let Dt=0;Dt<ie.mipmaps.length;Dt++)Se(Re.__webglFramebuffer[Dt],fe,ie,r.COLOR_ATTACHMENT0,pt,Dt);else Se(Re.__webglFramebuffer,fe,ie,r.COLOR_ATTACHMENT0,pt,0);m(ie)&&y(pt),t.unbindTexture()}fe.depthBuffer&&Ve(fe)}function K(fe){const ie=fe.textures;for(let Re=0,je=ie.length;Re<je;Re++){const it=ie[Re];if(m(it)){const Ge=b(fe),Bt=n.get(it).__webglTexture;t.bindTexture(Ge,Bt),y(Ge),t.unbindTexture()}}}const se=[],_e=[];function oe(fe){if(fe.samples>0){if(be(fe)===!1){const ie=fe.textures,Re=fe.width,je=fe.height;let it=r.COLOR_BUFFER_BIT;const Ge=fe.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Bt=n.get(fe),pt=ie.length>1;if(pt)for(let Vt=0;Vt<ie.length;Vt++)t.bindFramebuffer(r.FRAMEBUFFER,Bt.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Vt,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Bt.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+Vt,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Bt.__webglMultisampledFramebuffer);const Dt=fe.texture.mipmaps;Dt&&Dt.length>0?t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Bt.__webglFramebuffer[0]):t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Bt.__webglFramebuffer);for(let Vt=0;Vt<ie.length;Vt++){if(fe.resolveDepthBuffer&&(fe.depthBuffer&&(it|=r.DEPTH_BUFFER_BIT),fe.stencilBuffer&&fe.resolveStencilBuffer&&(it|=r.STENCIL_BUFFER_BIT)),pt){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Bt.__webglColorRenderbuffer[Vt]);const $e=n.get(ie[Vt]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,$e,0)}r.blitFramebuffer(0,0,Re,je,0,0,Re,je,it,r.NEAREST),l===!0&&(se.length=0,_e.length=0,se.push(r.COLOR_ATTACHMENT0+Vt),fe.depthBuffer&&fe.resolveDepthBuffer===!1&&(se.push(Ge),_e.push(Ge),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,_e)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,se))}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),pt)for(let Vt=0;Vt<ie.length;Vt++){t.bindFramebuffer(r.FRAMEBUFFER,Bt.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Vt,r.RENDERBUFFER,Bt.__webglColorRenderbuffer[Vt]);const $e=n.get(ie[Vt]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Bt.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+Vt,r.TEXTURE_2D,$e,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Bt.__webglMultisampledFramebuffer)}else if(fe.depthBuffer&&fe.resolveDepthBuffer===!1&&l){const ie=fe.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[ie])}}}function ue(fe){return Math.min(a.maxSamples,fe.samples)}function be(fe){const ie=n.get(fe);return fe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ie.__useRenderToTexture!==!1}function Be(fe){const ie=s.render.frame;u.get(fe)!==ie&&(u.set(fe,ie),fe.update())}function ze(fe,ie){const Re=fe.colorSpace,je=fe.format,it=fe.type;return fe.isCompressedTexture===!0||fe.isVideoTexture===!0||Re!==Q0&&Re!==Rd&&(Nn.getTransfer(Re)===sa?(je!==go||it!==$c)&&$t("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Gr("WebGLTextures: Unsupported texture color space:",Re)),ie}function Le(fe){return typeof HTMLImageElement<"u"&&fe instanceof HTMLImageElement?(c.width=fe.naturalWidth||fe.width,c.height=fe.naturalHeight||fe.height):typeof VideoFrame<"u"&&fe instanceof VideoFrame?(c.width=fe.displayWidth,c.height=fe.displayHeight):(c.width=fe.width,c.height=fe.height),c}this.allocateTextureUnit=U,this.resetTextureUnits=k,this.setTexture2D=q,this.setTexture2DArray=H,this.setTexture3D=Z,this.setTextureCube=X,this.rebindTextures=de,this.setupRenderTarget=dt,this.updateRenderTargetMipmap=K,this.updateMultisampleRenderTarget=oe,this.setupDepthRenderbuffer=Ve,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=be}function lae(r,e){function t(n,a=Rd){let i;const s=Nn.getTransfer(a);if(n===$c)return r.UNSIGNED_BYTE;if(n===iI)return r.UNSIGNED_SHORT_4_4_4_4;if(n===sI)return r.UNSIGNED_SHORT_5_5_5_1;if(n===hz)return r.UNSIGNED_INT_5_9_9_9_REV;if(n===dz)return r.UNSIGNED_INT_10F_11F_11F_REV;if(n===uz)return r.BYTE;if(n===fz)return r.SHORT;if(n===u_)return r.UNSIGNED_SHORT;if(n===aI)return r.INT;if(n===Qd)return r.UNSIGNED_INT;if(n===Al)return r.FLOAT;if(n===uy)return r.HALF_FLOAT;if(n===pz)return r.ALPHA;if(n===vz)return r.RGB;if(n===go)return r.RGBA;if(n===h_)return r.DEPTH_COMPONENT;if(n===d_)return r.DEPTH_STENCIL;if(n===oI)return r.RED;if(n===wA)return r.RED_INTEGER;if(n===lI)return r.RG;if(n===cI)return r.RG_INTEGER;if(n===uI)return r.RGBA_INTEGER;if(n===Ew||n===Mw||n===Cw||n===Dw)if(s===sa)if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),i!==null){if(n===Ew)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Mw)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Cw)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Dw)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=e.get("WEBGL_compressed_texture_s3tc"),i!==null){if(n===Ew)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Mw)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Cw)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Dw)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===qD||n===ZD||n===KD||n===$D)if(i=e.get("WEBGL_compressed_texture_pvrtc"),i!==null){if(n===qD)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ZD)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===KD)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===$D)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===JD||n===QD||n===eR)if(i=e.get("WEBGL_compressed_texture_etc"),i!==null){if(n===JD||n===QD)return s===sa?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===eR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===tR||n===rR||n===nR||n===aR||n===iR||n===sR||n===oR||n===lR||n===cR||n===uR||n===fR||n===hR||n===dR||n===pR)if(i=e.get("WEBGL_compressed_texture_astc"),i!==null){if(n===tR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===rR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===nR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===aR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===iR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===sR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===oR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===lR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===cR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===uR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===fR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===hR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===dR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===pR)return s===sa?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===vR||n===gR||n===mR)if(i=e.get("EXT_texture_compression_bptc"),i!==null){if(n===vR)return s===sa?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===gR)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===mR)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===yR||n===xR||n===_R||n===bR)if(i=e.get("EXT_texture_compression_rgtc"),i!==null){if(n===yR)return i.COMPRESSED_RED_RGTC1_EXT;if(n===xR)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===_R)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===bR)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===f_?r.UNSIGNED_INT_24_8:r[n]!==void 0?r[n]:null}return{convert:t}}const c4e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,u4e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class f4e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new Mz(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new oc({vertexShader:c4e,fragmentShader:u4e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Qi(new $_(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class h4e extends Rh{constructor(e,t){super();const n=this;let a=null,i=1,s=null,o="local-floor",l=1,c=null,u=null,f=null,h=null,d=null,v=null;const g=typeof XRWebGLBinding<"u",m=new f4e,y={},b=t.getContextAttributes();let S=null,A=null;const E=[],M=[],R=new St;let L=null;const I=new yi;I.viewport=new Un;const O=new yi;O.viewport=new Un;const P=[I,O],k=new $ne;let U=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let me=E[ce];return me===void 0&&(me=new X3,E[ce]=me),me.getTargetRaySpace()},this.getControllerGrip=function(ce){let me=E[ce];return me===void 0&&(me=new X3,E[ce]=me),me.getGripSpace()},this.getHand=function(ce){let me=E[ce];return me===void 0&&(me=new X3,E[ce]=me),me.getHandSpace()};function q(ce){const me=M.indexOf(ce.inputSource);if(me===-1)return;const Se=E[me];Se!==void 0&&(Se.update(ce.inputSource,ce.frame,c||s),Se.dispatchEvent({type:ce.type,data:ce.inputSource}))}function H(){a.removeEventListener("select",q),a.removeEventListener("selectstart",q),a.removeEventListener("selectend",q),a.removeEventListener("squeeze",q),a.removeEventListener("squeezestart",q),a.removeEventListener("squeezeend",q),a.removeEventListener("end",H),a.removeEventListener("inputsourceschange",Z);for(let ce=0;ce<E.length;ce++){const me=M[ce];me!==null&&(M[ce]=null,E[ce].disconnect(me))}U=null,F=null,m.reset();for(const ce in y)delete y[ce];e.setRenderTarget(S),d=null,h=null,f=null,a=null,A=null,ae.stop(),n.isPresenting=!1,e.setPixelRatio(L),e.setSize(R.width,R.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){i=ce,n.isPresenting===!0&&$t("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){o=ce,n.isPresenting===!0&&$t("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(ce){c=ce},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f===null&&g&&(f=new XRWebGLBinding(a,t)),f},this.getFrame=function(){return v},this.getSession=function(){return a},this.setSession=async function(ce){if(a=ce,a!==null){if(S=e.getRenderTarget(),a.addEventListener("select",q),a.addEventListener("selectstart",q),a.addEventListener("selectend",q),a.addEventListener("squeeze",q),a.addEventListener("squeezestart",q),a.addEventListener("squeezeend",q),a.addEventListener("end",H),a.addEventListener("inputsourceschange",Z),b.xrCompatible!==!0&&await t.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(R),g&&"createProjectionLayer"in XRWebGLBinding.prototype){let Se=null,we=null,Me=null;b.depth&&(Me=b.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Se=b.stencil?d_:h_,we=b.stencil?f_:Qd);const Ve={colorFormat:t.RGBA8,depthFormat:Me,scaleFactor:i};f=this.getBinding(),h=f.createProjectionLayer(Ve),a.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),A=new bh(h.textureWidth,h.textureHeight,{format:go,type:$c,depthTexture:new Ez(h.textureWidth,h.textureHeight,we,void 0,void 0,void 0,void 0,void 0,void 0,Se),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const Se={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:i};d=new XRWebGLLayer(a,t,Se),a.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),A=new bh(d.framebufferWidth,d.framebufferHeight,{format:go,type:$c,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await a.requestReferenceSpace(o),ae.setContext(a),ae.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function Z(ce){for(let me=0;me<ce.removed.length;me++){const Se=ce.removed[me],we=M.indexOf(Se);we>=0&&(M[we]=null,E[we].disconnect(Se))}for(let me=0;me<ce.added.length;me++){const Se=ce.added[me];let we=M.indexOf(Se);if(we===-1){for(let Ve=0;Ve<E.length;Ve++)if(Ve>=M.length){M.push(Se),we=Ve;break}else if(M[Ve]===null){M[Ve]=Se,we=Ve;break}if(we===-1)break}const Me=E[we];Me&&Me.connect(Se)}}const X=new Ee,Y=new Ee;function re(ce,me,Se){X.setFromMatrixPosition(me.matrixWorld),Y.setFromMatrixPosition(Se.matrixWorld);const we=X.distanceTo(Y),Me=me.projectionMatrix.elements,Ve=Se.projectionMatrix.elements,de=Me[14]/(Me[10]-1),dt=Me[14]/(Me[10]+1),K=(Me[9]+1)/Me[5],se=(Me[9]-1)/Me[5],_e=(Me[8]-1)/Me[0],oe=(Ve[8]+1)/Ve[0],ue=de*_e,be=de*oe,Be=we/(-_e+oe),ze=Be*-_e;if(me.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX(ze),ce.translateZ(Be),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert(),Me[10]===-1)ce.projectionMatrix.copy(me.projectionMatrix),ce.projectionMatrixInverse.copy(me.projectionMatrixInverse);else{const Le=de+Be,fe=dt+Be,ie=ue-ze,Re=be+(we-ze),je=K*dt/fe*Le,it=se*dt/fe*Le;ce.projectionMatrix.makePerspective(ie,Re,je,it,Le,fe),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}}function W(ce,me){me===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(me.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(a===null)return;let me=ce.near,Se=ce.far;m.texture!==null&&(m.depthNear>0&&(me=m.depthNear),m.depthFar>0&&(Se=m.depthFar)),k.near=O.near=I.near=me,k.far=O.far=I.far=Se,(U!==k.near||F!==k.far)&&(a.updateRenderState({depthNear:k.near,depthFar:k.far}),U=k.near,F=k.far),k.layers.mask=ce.layers.mask|6,I.layers.mask=k.layers.mask&3,O.layers.mask=k.layers.mask&5;const we=ce.parent,Me=k.cameras;W(k,we);for(let Ve=0;Ve<Me.length;Ve++)W(Me[Ve],we);Me.length===2?re(k,I,O):k.projectionMatrix.copy(I.projectionMatrix),j(ce,k,we)};function j(ce,me,Se){Se===null?ce.matrix.copy(me.matrixWorld):(ce.matrix.copy(Se.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(me.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(me.projectionMatrix),ce.projectionMatrixInverse.copy(me.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=g_*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(ce){l=ce,h!==null&&(h.fixedFoveation=ce),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=ce)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(k)},this.getCameraTexture=function(ce){return y[ce]};let J=null;function ee(ce,me){if(u=me.getViewerPose(c||s),v=me,u!==null){const Se=u.views;d!==null&&(e.setRenderTargetFramebuffer(A,d.framebuffer),e.setRenderTarget(A));let we=!1;Se.length!==k.cameras.length&&(k.cameras.length=0,we=!0);for(let dt=0;dt<Se.length;dt++){const K=Se[dt];let se=null;if(d!==null)se=d.getViewport(K);else{const oe=f.getViewSubImage(h,K);se=oe.viewport,dt===0&&(e.setRenderTargetTextures(A,oe.colorTexture,oe.depthStencilTexture),e.setRenderTarget(A))}let _e=P[dt];_e===void 0&&(_e=new yi,_e.layers.enable(dt),_e.viewport=new Un,P[dt]=_e),_e.matrix.fromArray(K.transform.matrix),_e.matrix.decompose(_e.position,_e.quaternion,_e.scale),_e.projectionMatrix.fromArray(K.projectionMatrix),_e.projectionMatrixInverse.copy(_e.projectionMatrix).invert(),_e.viewport.set(se.x,se.y,se.width,se.height),dt===0&&(k.matrix.copy(_e.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),we===!0&&k.cameras.push(_e)}const Me=a.enabledFeatures;if(Me&&Me.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&g){f=n.getBinding();const dt=f.getDepthInformation(Se[0]);dt&&dt.isValid&&dt.texture&&m.init(dt,a.renderState)}if(Me&&Me.includes("camera-access")&&g){e.state.unbindTexture(),f=n.getBinding();for(let dt=0;dt<Se.length;dt++){const K=Se[dt].camera;if(K){let se=y[K];se||(se=new Mz,y[K]=se);const _e=f.getCameraImage(K);se.sourceTexture=_e}}}}for(let Se=0;Se<E.length;Se++){const we=M[Se],Me=E[Se];we!==null&&Me!==void 0&&Me.update(we,me,c||s)}J&&J(ce,me),me.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:me}),v=null}const ae=new nae;ae.setAnimationLoop(ee),this.setAnimationLoop=function(ce){J=ce},this.dispose=function(){}}}const Tg=new sc,d4e=new Vr;function p4e(r,e){function t(m,y){m.matrixAutoUpdate===!0&&m.updateMatrix(),y.value.copy(m.matrix)}function n(m,y){y.color.getRGB(m.fogColor.value,rne(r)),y.isFog?(m.fogNear.value=y.near,m.fogFar.value=y.far):y.isFogExp2&&(m.fogDensity.value=y.density)}function a(m,y,b,S,A){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(m,y):y.isMeshToonMaterial?(i(m,y),f(m,y)):y.isMeshPhongMaterial?(i(m,y),u(m,y)):y.isMeshStandardMaterial?(i(m,y),h(m,y),y.isMeshPhysicalMaterial&&d(m,y,A)):y.isMeshMatcapMaterial?(i(m,y),v(m,y)):y.isMeshDepthMaterial?i(m,y):y.isMeshDistanceMaterial?(i(m,y),g(m,y)):y.isMeshNormalMaterial?i(m,y):y.isLineBasicMaterial?(s(m,y),y.isLineDashedMaterial&&o(m,y)):y.isPointsMaterial?l(m,y,b,S):y.isSpriteMaterial?c(m,y):y.isShadowMaterial?(m.color.value.copy(y.color),m.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(m,y){m.opacity.value=y.opacity,y.color&&m.diffuse.value.copy(y.color),y.emissive&&m.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(m.map.value=y.map,t(y.map,m.mapTransform)),y.alphaMap&&(m.alphaMap.value=y.alphaMap,t(y.alphaMap,m.alphaMapTransform)),y.bumpMap&&(m.bumpMap.value=y.bumpMap,t(y.bumpMap,m.bumpMapTransform),m.bumpScale.value=y.bumpScale,y.side===Qo&&(m.bumpScale.value*=-1)),y.normalMap&&(m.normalMap.value=y.normalMap,t(y.normalMap,m.normalMapTransform),m.normalScale.value.copy(y.normalScale),y.side===Qo&&m.normalScale.value.negate()),y.displacementMap&&(m.displacementMap.value=y.displacementMap,t(y.displacementMap,m.displacementMapTransform),m.displacementScale.value=y.displacementScale,m.displacementBias.value=y.displacementBias),y.emissiveMap&&(m.emissiveMap.value=y.emissiveMap,t(y.emissiveMap,m.emissiveMapTransform)),y.specularMap&&(m.specularMap.value=y.specularMap,t(y.specularMap,m.specularMapTransform)),y.alphaTest>0&&(m.alphaTest.value=y.alphaTest);const b=e.get(y),S=b.envMap,A=b.envMapRotation;S&&(m.envMap.value=S,Tg.copy(A),Tg.x*=-1,Tg.y*=-1,Tg.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(Tg.y*=-1,Tg.z*=-1),m.envMapRotation.value.setFromMatrix4(d4e.makeRotationFromEuler(Tg)),m.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=y.reflectivity,m.ior.value=y.ior,m.refractionRatio.value=y.refractionRatio),y.lightMap&&(m.lightMap.value=y.lightMap,m.lightMapIntensity.value=y.lightMapIntensity,t(y.lightMap,m.lightMapTransform)),y.aoMap&&(m.aoMap.value=y.aoMap,m.aoMapIntensity.value=y.aoMapIntensity,t(y.aoMap,m.aoMapTransform))}function s(m,y){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,y.map&&(m.map.value=y.map,t(y.map,m.mapTransform))}function o(m,y){m.dashSize.value=y.dashSize,m.totalSize.value=y.dashSize+y.gapSize,m.scale.value=y.scale}function l(m,y,b,S){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,m.size.value=y.size*b,m.scale.value=S*.5,y.map&&(m.map.value=y.map,t(y.map,m.uvTransform)),y.alphaMap&&(m.alphaMap.value=y.alphaMap,t(y.alphaMap,m.alphaMapTransform)),y.alphaTest>0&&(m.alphaTest.value=y.alphaTest)}function c(m,y){m.diffuse.value.copy(y.color),m.opacity.value=y.opacity,m.rotation.value=y.rotation,y.map&&(m.map.value=y.map,t(y.map,m.mapTransform)),y.alphaMap&&(m.alphaMap.value=y.alphaMap,t(y.alphaMap,m.alphaMapTransform)),y.alphaTest>0&&(m.alphaTest.value=y.alphaTest)}function u(m,y){m.specular.value.copy(y.specular),m.shininess.value=Math.max(y.shininess,1e-4)}function f(m,y){y.gradientMap&&(m.gradientMap.value=y.gradientMap)}function h(m,y){m.metalness.value=y.metalness,y.metalnessMap&&(m.metalnessMap.value=y.metalnessMap,t(y.metalnessMap,m.metalnessMapTransform)),m.roughness.value=y.roughness,y.roughnessMap&&(m.roughnessMap.value=y.roughnessMap,t(y.roughnessMap,m.roughnessMapTransform)),y.envMap&&(m.envMapIntensity.value=y.envMapIntensity)}function d(m,y,b){m.ior.value=y.ior,y.sheen>0&&(m.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),m.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(m.sheenColorMap.value=y.sheenColorMap,t(y.sheenColorMap,m.sheenColorMapTransform)),y.sheenRoughnessMap&&(m.sheenRoughnessMap.value=y.sheenRoughnessMap,t(y.sheenRoughnessMap,m.sheenRoughnessMapTransform))),y.clearcoat>0&&(m.clearcoat.value=y.clearcoat,m.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(m.clearcoatMap.value=y.clearcoatMap,t(y.clearcoatMap,m.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,t(y.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(m.clearcoatNormalMap.value=y.clearcoatNormalMap,t(y.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===Qo&&m.clearcoatNormalScale.value.negate())),y.dispersion>0&&(m.dispersion.value=y.dispersion),y.iridescence>0&&(m.iridescence.value=y.iridescence,m.iridescenceIOR.value=y.iridescenceIOR,m.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(m.iridescenceMap.value=y.iridescenceMap,t(y.iridescenceMap,m.iridescenceMapTransform)),y.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=y.iridescenceThicknessMap,t(y.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),y.transmission>0&&(m.transmission.value=y.transmission,m.transmissionSamplerMap.value=b.texture,m.transmissionSamplerSize.value.set(b.width,b.height),y.transmissionMap&&(m.transmissionMap.value=y.transmissionMap,t(y.transmissionMap,m.transmissionMapTransform)),m.thickness.value=y.thickness,y.thicknessMap&&(m.thicknessMap.value=y.thicknessMap,t(y.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=y.attenuationDistance,m.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(m.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(m.anisotropyMap.value=y.anisotropyMap,t(y.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=y.specularIntensity,m.specularColor.value.copy(y.specularColor),y.specularColorMap&&(m.specularColorMap.value=y.specularColorMap,t(y.specularColorMap,m.specularColorMapTransform)),y.specularIntensityMap&&(m.specularIntensityMap.value=y.specularIntensityMap,t(y.specularIntensityMap,m.specularIntensityMapTransform))}function v(m,y){y.matcap&&(m.matcap.value=y.matcap)}function g(m,y){const b=e.get(y).light;m.referencePosition.value.setFromMatrixPosition(b.matrixWorld),m.nearDistance.value=b.shadow.camera.near,m.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:a}}function v4e(r,e,t,n){let a={},i={},s=[];const o=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,S){const A=S.program;n.uniformBlockBinding(b,A)}function c(b,S){let A=a[b.id];A===void 0&&(v(b),A=u(b),a[b.id]=A,b.addEventListener("dispose",m));const E=S.program;n.updateUBOMapping(b,E);const M=e.render.frame;i[b.id]!==M&&(h(b),i[b.id]=M)}function u(b){const S=f();b.__bindingPointIndex=S;const A=r.createBuffer(),E=b.__size,M=b.usage;return r.bindBuffer(r.UNIFORM_BUFFER,A),r.bufferData(r.UNIFORM_BUFFER,E,M),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,S,A),A}function f(){for(let b=0;b<o;b++)if(s.indexOf(b)===-1)return s.push(b),b;return Gr("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(b){const S=a[b.id],A=b.uniforms,E=b.__cache;r.bindBuffer(r.UNIFORM_BUFFER,S);for(let M=0,R=A.length;M<R;M++){const L=Array.isArray(A[M])?A[M]:[A[M]];for(let I=0,O=L.length;I<O;I++){const P=L[I];if(d(P,M,I,E)===!0){const k=P.__offset,U=Array.isArray(P.value)?P.value:[P.value];let F=0;for(let q=0;q<U.length;q++){const H=U[q],Z=g(H);typeof H=="number"||typeof H=="boolean"?(P.__data[0]=H,r.bufferSubData(r.UNIFORM_BUFFER,k+F,P.__data)):H.isMatrix3?(P.__data[0]=H.elements[0],P.__data[1]=H.elements[1],P.__data[2]=H.elements[2],P.__data[3]=0,P.__data[4]=H.elements[3],P.__data[5]=H.elements[4],P.__data[6]=H.elements[5],P.__data[7]=0,P.__data[8]=H.elements[6],P.__data[9]=H.elements[7],P.__data[10]=H.elements[8],P.__data[11]=0):(H.toArray(P.__data,F),F+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,k,P.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function d(b,S,A,E){const M=b.value,R=S+"_"+A;if(E[R]===void 0)return typeof M=="number"||typeof M=="boolean"?E[R]=M:E[R]=M.clone(),!0;{const L=E[R];if(typeof M=="number"||typeof M=="boolean"){if(L!==M)return E[R]=M,!0}else if(L.equals(M)===!1)return L.copy(M),!0}return!1}function v(b){const S=b.uniforms;let A=0;const E=16;for(let R=0,L=S.length;R<L;R++){const I=Array.isArray(S[R])?S[R]:[S[R]];for(let O=0,P=I.length;O<P;O++){const k=I[O],U=Array.isArray(k.value)?k.value:[k.value];for(let F=0,q=U.length;F<q;F++){const H=U[F],Z=g(H),X=A%E,Y=X%Z.boundary,re=X+Y;A+=Y,re!==0&&E-re<Z.storage&&(A+=E-re),k.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=A,A+=Z.storage}}}const M=A%E;return M>0&&(A+=E-M),b.__size=A,b.__cache={},this}function g(b){const S={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(S.boundary=4,S.storage=4):b.isVector2?(S.boundary=8,S.storage=8):b.isVector3||b.isColor?(S.boundary=16,S.storage=12):b.isVector4?(S.boundary=16,S.storage=16):b.isMatrix3?(S.boundary=48,S.storage=48):b.isMatrix4?(S.boundary=64,S.storage=64):b.isTexture?$t("WebGLRenderer: Texture samplers can not be part of an uniforms group."):$t("WebGLRenderer: Unsupported uniform value type.",b),S}function m(b){const S=b.target;S.removeEventListener("dispose",m);const A=s.indexOf(S.__bindingPointIndex);s.splice(A,1),r.deleteBuffer(a[S.id]),delete a[S.id],delete i[S.id]}function y(){for(const b in a)r.deleteBuffer(a[b]);s=[],a={},i={}}return{bind:l,update:c,dispose:y}}const g4e=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let md=null;function m4e(){return md===null&&(md=new Zu(g4e,32,32,lI,uy),md.minFilter=xi,md.magFilter=xi,md.wrapS=Tl,md.wrapT=Tl,md.generateMipmaps=!1,md.needsUpdate=!0),md}class cae{constructor(e={}){const{canvas:t=Qre(),context:n=null,depth:a=!0,stencil:i=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let d;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=n.getContextAttributes().alpha}else d=s;const v=new Set([uI,cI,wA]),g=new Set([$c,Qd,u_,f_,iI,sI]),m=new Uint32Array(4),y=new Int32Array(4);let b=null,S=null;const A=[],E=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=gh,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const M=this;let R=!1;this._outputColorSpace=fo;let L=0,I=0,O=null,P=-1,k=null;const U=new Un,F=new Un;let q=null;const H=new Jt(0);let Z=0,X=t.width,Y=t.height,re=1,W=null,j=null;const J=new Un(0,0,X,Y),ee=new Un(0,0,X,Y);let ae=!1;const ce=new K_;let me=!1,Se=!1;const we=new Vr,Me=new Ee,Ve=new Un,de={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let dt=!1;function K(){return O===null?re:1}let se=n;function _e(le,Ce){return t.getContext(le,Ce)}try{const le={alpha:!0,depth:a,stencil:i,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${bA}`),t.addEventListener("webglcontextlost",vt,!1),t.addEventListener("webglcontextrestored",ht,!1),t.addEventListener("webglcontextcreationerror",zt,!1),se===null){const Ce="webgl2";if(se=_e(Ce,le),se===null)throw _e(Ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(le){throw le("WebGLRenderer: "+le.message),le}let oe,ue,be,Be,ze,Le,fe,ie,Re,je,it,Ge,Bt,pt,Dt,Vt,$e,yt,jt,Ne,Ke,At,Ie,Et;function Ct(){oe=new MIe(se),oe.init(),At=new lae(se,oe),ue=new yIe(se,oe,e,At),be=new o4e(se,oe),ue.reversedDepthBuffer&&h&&be.buffers.depth.setReversed(!0),Be=new RIe(se),ze=new qLe,Le=new l4e(se,oe,be,ze,ue,At,Be),fe=new _Ie(M),ie=new EIe(M),Re=new ODe(se),Ie=new gIe(se,Re),je=new CIe(se,Re,Be,Ie),it=new IIe(se,je,Re,Be),jt=new NIe(se,ue,Le),Vt=new xIe(ze),Ge=new XLe(M,fe,ie,oe,ue,Ie,Vt),Bt=new p4e(M,ze),pt=new KLe,Dt=new r4e(oe),yt=new vIe(M,fe,ie,be,it,d,l),$e=new i4e(M,it,ue),Et=new v4e(se,Be,ue,be),Ne=new mIe(se,oe,Be),Ke=new DIe(se,oe,Be),Be.programs=Ge.programs,M.capabilities=ue,M.extensions=oe,M.properties=ze,M.renderLists=pt,M.shadowMap=$e,M.state=be,M.info=Be}Ct();const _t=new h4e(M,se);this.xr=_t,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const le=oe.get("WEBGL_lose_context");le&&le.loseContext()},this.forceContextRestore=function(){const le=oe.get("WEBGL_lose_context");le&&le.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function(le){le!==void 0&&(re=le,this.setSize(X,Y,!1))},this.getSize=function(le){return le.set(X,Y)},this.setSize=function(le,Ce,Pe=!0){if(_t.isPresenting){$t("WebGLRenderer: Can't change size while VR device is presenting.");return}X=le,Y=Ce,t.width=Math.floor(le*re),t.height=Math.floor(Ce*re),Pe===!0&&(t.style.width=le+"px",t.style.height=Ce+"px"),this.setViewport(0,0,le,Ce)},this.getDrawingBufferSize=function(le){return le.set(X*re,Y*re).floor()},this.setDrawingBufferSize=function(le,Ce,Pe){X=le,Y=Ce,re=Pe,t.width=Math.floor(le*Pe),t.height=Math.floor(Ce*Pe),this.setViewport(0,0,le,Ce)},this.getCurrentViewport=function(le){return le.copy(U)},this.getViewport=function(le){return le.copy(J)},this.setViewport=function(le,Ce,Pe,Ue){le.isVector4?J.set(le.x,le.y,le.z,le.w):J.set(le,Ce,Pe,Ue),be.viewport(U.copy(J).multiplyScalar(re).round())},this.getScissor=function(le){return le.copy(ee)},this.setScissor=function(le,Ce,Pe,Ue){le.isVector4?ee.set(le.x,le.y,le.z,le.w):ee.set(le,Ce,Pe,Ue),be.scissor(F.copy(ee).multiplyScalar(re).round())},this.getScissorTest=function(){return ae},this.setScissorTest=function(le){be.setScissorTest(ae=le)},this.setOpaqueSort=function(le){W=le},this.setTransparentSort=function(le){j=le},this.getClearColor=function(le){return le.copy(yt.getClearColor())},this.setClearColor=function(){yt.setClearColor(...arguments)},this.getClearAlpha=function(){return yt.getClearAlpha()},this.setClearAlpha=function(){yt.setClearAlpha(...arguments)},this.clear=function(le=!0,Ce=!0,Pe=!0){let Ue=0;if(le){let Fe=!1;if(O!==null){const wt=O.texture.format;Fe=v.has(wt)}if(Fe){const wt=O.texture.type,kt=g.has(wt),Wt=yt.getClearColor(),qt=yt.getClearAlpha(),pr=Wt.r,vr=Wt.g,hr=Wt.b;kt?(m[0]=pr,m[1]=vr,m[2]=hr,m[3]=qt,se.clearBufferuiv(se.COLOR,0,m)):(y[0]=pr,y[1]=vr,y[2]=hr,y[3]=qt,se.clearBufferiv(se.COLOR,0,y))}else Ue|=se.COLOR_BUFFER_BIT}Ce&&(Ue|=se.DEPTH_BUFFER_BIT),Pe&&(Ue|=se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),se.clear(Ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",vt,!1),t.removeEventListener("webglcontextrestored",ht,!1),t.removeEventListener("webglcontextcreationerror",zt,!1),yt.dispose(),pt.dispose(),Dt.dispose(),ze.dispose(),fe.dispose(),ie.dispose(),it.dispose(),Ie.dispose(),Et.dispose(),Ge.dispose(),_t.dispose(),_t.removeEventListener("sessionstart",Ma),_t.removeEventListener("sessionend",li),ua.stop()};function vt(le){le.preventDefault(),_T("WebGLRenderer: Context Lost."),R=!0}function ht(){_T("WebGLRenderer: Context Restored."),R=!1;const le=Be.autoReset,Ce=$e.enabled,Pe=$e.autoUpdate,Ue=$e.needsUpdate,Fe=$e.type;Ct(),Be.autoReset=le,$e.enabled=Ce,$e.autoUpdate=Pe,$e.needsUpdate=Ue,$e.type=Fe}function zt(le){Gr("WebGLRenderer: A WebGL context could not be created. Reason: ",le.statusMessage)}function Xt(le){const Ce=le.target;Ce.removeEventListener("dispose",Xt),wr(Ce)}function wr(le){Tr(le),ze.remove(le)}function Tr(le){const Ce=ze.get(le).programs;Ce!==void 0&&(Ce.forEach(function(Pe){Ge.releaseProgram(Pe)}),le.isShaderMaterial&&Ge.releaseShaderCache(le))}this.renderBufferDirect=function(le,Ce,Pe,Ue,Fe,wt){Ce===null&&(Ce=de);const kt=Fe.isMesh&&Fe.matrixWorld.determinant()<0,Wt=gt(le,Ce,Pe,Ue,Fe);be.setMaterial(Ue,kt);let qt=Pe.index,pr=1;if(Ue.wireframe===!0){if(qt=je.getWireframeAttribute(Pe),qt===void 0)return;pr=2}const vr=Pe.drawRange,hr=Pe.attributes.position;let Cr=vr.start*pr,_n=(vr.start+vr.count)*pr;wt!==null&&(Cr=Math.max(Cr,wt.start*pr),_n=Math.min(_n,(wt.start+wt.count)*pr)),qt!==null?(Cr=Math.max(Cr,0),_n=Math.min(_n,qt.count)):hr!=null&&(Cr=Math.max(Cr,0),_n=Math.min(_n,hr.count));const bn=_n-Cr;if(bn<0||bn===1/0)return;Ie.setup(Fe,Ue,Wt,Pe,qt);let hn,Gn=Ne;if(qt!==null&&(hn=Re.get(qt),Gn=Ke,Gn.setIndex(hn)),Fe.isMesh)Ue.wireframe===!0?(be.setLineWidth(Ue.wireframeLinewidth*K()),Gn.setMode(se.LINES)):Gn.setMode(se.TRIANGLES);else if(Fe.isLine){let Ar=Ue.linewidth;Ar===void 0&&(Ar=1),be.setLineWidth(Ar*K()),Fe.isLineSegments?Gn.setMode(se.LINES):Fe.isLineLoop?Gn.setMode(se.LINE_LOOP):Gn.setMode(se.LINE_STRIP)}else Fe.isPoints?Gn.setMode(se.POINTS):Fe.isSprite&&Gn.setMode(se.TRIANGLES);if(Fe.isBatchedMesh)if(Fe._multiDrawInstances!==null)v_("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Gn.renderMultiDrawInstances(Fe._multiDrawStarts,Fe._multiDrawCounts,Fe._multiDrawCount,Fe._multiDrawInstances);else if(oe.get("WEBGL_multi_draw"))Gn.renderMultiDraw(Fe._multiDrawStarts,Fe._multiDrawCounts,Fe._multiDrawCount);else{const Ar=Fe._multiDrawStarts,Qn=Fe._multiDrawCounts,dn=Fe._multiDrawCount,qa=qt?Re.get(qt).bytesPerElement:1,ou=ze.get(Ue).currentProgram.getUniforms();for(let na=0;na<dn;na++)ou.setValue(se,"_gl_DrawID",na),Gn.render(Ar[na]/qa,Qn[na])}else if(Fe.isInstancedMesh)Gn.renderInstances(Cr,bn,Fe.count);else if(Pe.isInstancedBufferGeometry){const Ar=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,Qn=Math.min(Pe.instanceCount,Ar);Gn.renderInstances(Cr,bn,Qn)}else Gn.render(Cr,bn)};function On(le,Ce,Pe){le.transparent===!0&&le.side===nh&&le.forceSinglePass===!1?(le.side=Qo,le.needsUpdate=!0,Ae(le,Ce,Pe),le.side=$d,le.needsUpdate=!0,Ae(le,Ce,Pe),le.side=nh):Ae(le,Ce,Pe)}this.compile=function(le,Ce,Pe=null){Pe===null&&(Pe=le),S=Dt.get(Pe),S.init(Ce),E.push(S),Pe.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Ce.layers)&&(S.pushLight(Fe),Fe.castShadow&&S.pushShadow(Fe))}),le!==Pe&&le.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Ce.layers)&&(S.pushLight(Fe),Fe.castShadow&&S.pushShadow(Fe))}),S.setupLights();const Ue=new Set;return le.traverse(function(Fe){if(!(Fe.isMesh||Fe.isPoints||Fe.isLine||Fe.isSprite))return;const wt=Fe.material;if(wt)if(Array.isArray(wt))for(let kt=0;kt<wt.length;kt++){const Wt=wt[kt];On(Wt,Pe,Fe),Ue.add(Wt)}else On(wt,Pe,Fe),Ue.add(wt)}),S=E.pop(),Ue},this.compileAsync=function(le,Ce,Pe=null){const Ue=this.compile(le,Ce,Pe);return new Promise(Fe=>{function wt(){if(Ue.forEach(function(kt){ze.get(kt).currentProgram.isReady()&&Ue.delete(kt)}),Ue.size===0){Fe(le);return}setTimeout(wt,10)}oe.get("KHR_parallel_shader_compile")!==null?wt():setTimeout(wt,10)})};let an=null;function as(le){an&&an(le)}function Ma(){ua.stop()}function li(){ua.start()}const ua=new nae;ua.setAnimationLoop(as),typeof self<"u"&&ua.setContext(self),this.setAnimationLoop=function(le){an=le,_t.setAnimationLoop(le),le===null?ua.stop():ua.start()},_t.addEventListener("sessionstart",Ma),_t.addEventListener("sessionend",li),this.render=function(le,Ce){if(Ce!==void 0&&Ce.isCamera!==!0){Gr("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;if(le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Ce.parent===null&&Ce.matrixWorldAutoUpdate===!0&&Ce.updateMatrixWorld(),_t.enabled===!0&&_t.isPresenting===!0&&(_t.cameraAutoUpdate===!0&&_t.updateCamera(Ce),Ce=_t.getCamera()),le.isScene===!0&&le.onBeforeRender(M,le,Ce,O),S=Dt.get(le,E.length),S.init(Ce),E.push(S),we.multiplyMatrices(Ce.projectionMatrix,Ce.matrixWorldInverse),ce.setFromProjectionMatrix(we,$l,Ce.reversedDepth),Se=this.localClippingEnabled,me=Vt.init(this.clippingPlanes,Se),b=pt.get(le,A.length),b.init(),A.push(b),_t.enabled===!0&&_t.isPresenting===!0){const wt=M.xr.getDepthSensingMesh();wt!==null&&is(wt,Ce,-1/0,M.sortObjects)}is(le,Ce,0,M.sortObjects),b.finish(),M.sortObjects===!0&&b.sort(W,j),dt=_t.enabled===!1||_t.isPresenting===!1||_t.hasDepthSensing()===!1,dt&&yt.addToRenderList(b,le),this.info.render.frame++,me===!0&&Vt.beginShadows();const Pe=S.state.shadowsArray;$e.render(Pe,le,Ce),me===!0&&Vt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ue=b.opaque,Fe=b.transmissive;if(S.setupLights(),Ce.isArrayCamera){const wt=Ce.cameras;if(Fe.length>0)for(let kt=0,Wt=wt.length;kt<Wt;kt++){const qt=wt[kt];Te(Ue,Fe,le,qt)}dt&&yt.render(le);for(let kt=0,Wt=wt.length;kt<Wt;kt++){const qt=wt[kt];he(b,le,qt,qt.viewport)}}else Fe.length>0&&Te(Ue,Fe,le,Ce),dt&&yt.render(le),he(b,le,Ce);O!==null&&I===0&&(Le.updateMultisampleRenderTarget(O),Le.updateRenderTargetMipmap(O)),le.isScene===!0&&le.onAfterRender(M,le,Ce),Ie.resetDefaultState(),P=-1,k=null,E.pop(),E.length>0?(S=E[E.length-1],me===!0&&Vt.setGlobalState(M.clippingPlanes,S.state.camera)):S=null,A.pop(),A.length>0?b=A[A.length-1]:b=null};function is(le,Ce,Pe,Ue){if(le.visible===!1)return;if(le.layers.test(Ce.layers)){if(le.isGroup)Pe=le.renderOrder;else if(le.isLOD)le.autoUpdate===!0&&le.update(Ce);else if(le.isLight)S.pushLight(le),le.castShadow&&S.pushShadow(le);else if(le.isSprite){if(!le.frustumCulled||ce.intersectsSprite(le)){Ue&&Ve.setFromMatrixPosition(le.matrixWorld).applyMatrix4(we);const kt=it.update(le),Wt=le.material;Wt.visible&&b.push(le,kt,Wt,Pe,Ve.z,null)}}else if((le.isMesh||le.isLine||le.isPoints)&&(!le.frustumCulled||ce.intersectsObject(le))){const kt=it.update(le),Wt=le.material;if(Ue&&(le.boundingSphere!==void 0?(le.boundingSphere===null&&le.computeBoundingSphere(),Ve.copy(le.boundingSphere.center)):(kt.boundingSphere===null&&kt.computeBoundingSphere(),Ve.copy(kt.boundingSphere.center)),Ve.applyMatrix4(le.matrixWorld).applyMatrix4(we)),Array.isArray(Wt)){const qt=kt.groups;for(let pr=0,vr=qt.length;pr<vr;pr++){const hr=qt[pr],Cr=Wt[hr.materialIndex];Cr&&Cr.visible&&b.push(le,kt,Cr,Pe,Ve.z,hr)}}else Wt.visible&&b.push(le,kt,Wt,Pe,Ve.z,null)}}const wt=le.children;for(let kt=0,Wt=wt.length;kt<Wt;kt++)is(wt[kt],Ce,Pe,Ue)}function he(le,Ce,Pe,Ue){const{opaque:Fe,transmissive:wt,transparent:kt}=le;S.setupLightsView(Pe),me===!0&&Vt.setGlobalState(M.clippingPlanes,Pe),Ue&&be.viewport(U.copy(Ue)),Fe.length>0&&ye(Fe,Ce,Pe),wt.length>0&&ye(wt,Ce,Pe),kt.length>0&&ye(kt,Ce,Pe),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1)}function Te(le,Ce,Pe,Ue){if((Pe.isScene===!0?Pe.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[Ue.id]===void 0&&(S.state.transmissionRenderTarget[Ue.id]=new bh(1,1,{generateMipmaps:!0,type:oe.has("EXT_color_buffer_half_float")||oe.has("EXT_color_buffer_float")?uy:$c,minFilter:oh,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Nn.workingColorSpace}));const wt=S.state.transmissionRenderTarget[Ue.id],kt=Ue.viewport||U;wt.setSize(kt.z*M.transmissionResolutionScale,kt.w*M.transmissionResolutionScale);const Wt=M.getRenderTarget(),qt=M.getActiveCubeFace(),pr=M.getActiveMipmapLevel();M.setRenderTarget(wt),M.getClearColor(H),Z=M.getClearAlpha(),Z<1&&M.setClearColor(16777215,.5),M.clear(),dt&&yt.render(Pe);const vr=M.toneMapping;M.toneMapping=gh;const hr=Ue.viewport;if(Ue.viewport!==void 0&&(Ue.viewport=void 0),S.setupLightsView(Ue),me===!0&&Vt.setGlobalState(M.clippingPlanes,Ue),ye(le,Pe,Ue),Le.updateMultisampleRenderTarget(wt),Le.updateRenderTargetMipmap(wt),oe.has("WEBGL_multisampled_render_to_texture")===!1){let Cr=!1;for(let _n=0,bn=Ce.length;_n<bn;_n++){const hn=Ce[_n],{object:Gn,geometry:Ar,material:Qn,group:dn}=hn;if(Qn.side===nh&&Gn.layers.test(Ue.layers)){const qa=Qn.side;Qn.side=Qo,Qn.needsUpdate=!0,ge(Gn,Pe,Ue,Ar,Qn,dn),Qn.side=qa,Qn.needsUpdate=!0,Cr=!0}}Cr===!0&&(Le.updateMultisampleRenderTarget(wt),Le.updateRenderTargetMipmap(wt))}M.setRenderTarget(Wt,qt,pr),M.setClearColor(H,Z),hr!==void 0&&(Ue.viewport=hr),M.toneMapping=vr}function ye(le,Ce,Pe){const Ue=Ce.isScene===!0?Ce.overrideMaterial:null;for(let Fe=0,wt=le.length;Fe<wt;Fe++){const kt=le[Fe],{object:Wt,geometry:qt,group:pr}=kt;let vr=kt.material;vr.allowOverride===!0&&Ue!==null&&(vr=Ue),Wt.layers.test(Pe.layers)&&ge(Wt,Ce,Pe,qt,vr,pr)}}function ge(le,Ce,Pe,Ue,Fe,wt){le.onBeforeRender(M,Ce,Pe,Ue,Fe,wt),le.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,le.matrixWorld),le.normalMatrix.getNormalMatrix(le.modelViewMatrix),Fe.onBeforeRender(M,Ce,Pe,Ue,le,wt),Fe.transparent===!0&&Fe.side===nh&&Fe.forceSinglePass===!1?(Fe.side=Qo,Fe.needsUpdate=!0,M.renderBufferDirect(Pe,Ce,Ue,Fe,le,wt),Fe.side=$d,Fe.needsUpdate=!0,M.renderBufferDirect(Pe,Ce,Ue,Fe,le,wt),Fe.side=nh):M.renderBufferDirect(Pe,Ce,Ue,Fe,le,wt),le.onAfterRender(M,Ce,Pe,Ue,Fe,wt)}function Ae(le,Ce,Pe){Ce.isScene!==!0&&(Ce=de);const Ue=ze.get(le),Fe=S.state.lights,wt=S.state.shadowsArray,kt=Fe.state.version,Wt=Ge.getParameters(le,Fe.state,wt,Ce,Pe),qt=Ge.getProgramCacheKey(Wt);let pr=Ue.programs;Ue.environment=le.isMeshStandardMaterial?Ce.environment:null,Ue.fog=Ce.fog,Ue.envMap=(le.isMeshStandardMaterial?ie:fe).get(le.envMap||Ue.environment),Ue.envMapRotation=Ue.environment!==null&&le.envMap===null?Ce.environmentRotation:le.envMapRotation,pr===void 0&&(le.addEventListener("dispose",Xt),pr=new Map,Ue.programs=pr);let vr=pr.get(qt);if(vr!==void 0){if(Ue.currentProgram===vr&&Ue.lightsStateVersion===kt)return Je(le,Wt),vr}else Wt.uniforms=Ge.getUniforms(le),le.onBeforeCompile(Wt,M),vr=Ge.acquireProgram(Wt,qt),pr.set(qt,vr),Ue.uniforms=Wt.uniforms;const hr=Ue.uniforms;return(!le.isShaderMaterial&&!le.isRawShaderMaterial||le.clipping===!0)&&(hr.clippingPlanes=Vt.uniform),Je(le,Wt),Ue.needsLights=tt(le),Ue.lightsStateVersion=kt,Ue.needsLights&&(hr.ambientLightColor.value=Fe.state.ambient,hr.lightProbe.value=Fe.state.probe,hr.directionalLights.value=Fe.state.directional,hr.directionalLightShadows.value=Fe.state.directionalShadow,hr.spotLights.value=Fe.state.spot,hr.spotLightShadows.value=Fe.state.spotShadow,hr.rectAreaLights.value=Fe.state.rectArea,hr.ltc_1.value=Fe.state.rectAreaLTC1,hr.ltc_2.value=Fe.state.rectAreaLTC2,hr.pointLights.value=Fe.state.point,hr.pointLightShadows.value=Fe.state.pointShadow,hr.hemisphereLights.value=Fe.state.hemi,hr.directionalShadowMap.value=Fe.state.directionalShadowMap,hr.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,hr.spotShadowMap.value=Fe.state.spotShadowMap,hr.spotLightMatrix.value=Fe.state.spotLightMatrix,hr.spotLightMap.value=Fe.state.spotLightMap,hr.pointShadowMap.value=Fe.state.pointShadowMap,hr.pointShadowMatrix.value=Fe.state.pointShadowMatrix),Ue.currentProgram=vr,Ue.uniformsList=null,vr}function De(le){if(le.uniformsList===null){const Ce=le.currentProgram.getUniforms();le.uniformsList=q3.seqWithValue(Ce.seq,le.uniforms)}return le.uniformsList}function Je(le,Ce){const Pe=ze.get(le);Pe.outputColorSpace=Ce.outputColorSpace,Pe.batching=Ce.batching,Pe.batchingColor=Ce.batchingColor,Pe.instancing=Ce.instancing,Pe.instancingColor=Ce.instancingColor,Pe.instancingMorph=Ce.instancingMorph,Pe.skinning=Ce.skinning,Pe.morphTargets=Ce.morphTargets,Pe.morphNormals=Ce.morphNormals,Pe.morphColors=Ce.morphColors,Pe.morphTargetsCount=Ce.morphTargetsCount,Pe.numClippingPlanes=Ce.numClippingPlanes,Pe.numIntersection=Ce.numClipIntersection,Pe.vertexAlphas=Ce.vertexAlphas,Pe.vertexTangents=Ce.vertexTangents,Pe.toneMapping=Ce.toneMapping}function gt(le,Ce,Pe,Ue,Fe){Ce.isScene!==!0&&(Ce=de),Le.resetTextureUnits();const wt=Ce.fog,kt=Ue.isMeshStandardMaterial?Ce.environment:null,Wt=O===null?M.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:Q0,qt=(Ue.isMeshStandardMaterial?ie:fe).get(Ue.envMap||kt),pr=Ue.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,vr=!!Pe.attributes.tangent&&(!!Ue.normalMap||Ue.anisotropy>0),hr=!!Pe.morphAttributes.position,Cr=!!Pe.morphAttributes.normal,_n=!!Pe.morphAttributes.color;let bn=gh;Ue.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&(bn=M.toneMapping);const hn=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,Gn=hn!==void 0?hn.length:0,Ar=ze.get(Ue),Qn=S.state.lights;if(me===!0&&(Se===!0||le!==k)){const fi=le===k&&Ue.id===P;Vt.setState(Ue,le,fi)}let dn=!1;Ue.version===Ar.__version?(Ar.needsLights&&Ar.lightsStateVersion!==Qn.state.version||Ar.outputColorSpace!==Wt||Fe.isBatchedMesh&&Ar.batching===!1||!Fe.isBatchedMesh&&Ar.batching===!0||Fe.isBatchedMesh&&Ar.batchingColor===!0&&Fe.colorTexture===null||Fe.isBatchedMesh&&Ar.batchingColor===!1&&Fe.colorTexture!==null||Fe.isInstancedMesh&&Ar.instancing===!1||!Fe.isInstancedMesh&&Ar.instancing===!0||Fe.isSkinnedMesh&&Ar.skinning===!1||!Fe.isSkinnedMesh&&Ar.skinning===!0||Fe.isInstancedMesh&&Ar.instancingColor===!0&&Fe.instanceColor===null||Fe.isInstancedMesh&&Ar.instancingColor===!1&&Fe.instanceColor!==null||Fe.isInstancedMesh&&Ar.instancingMorph===!0&&Fe.morphTexture===null||Fe.isInstancedMesh&&Ar.instancingMorph===!1&&Fe.morphTexture!==null||Ar.envMap!==qt||Ue.fog===!0&&Ar.fog!==wt||Ar.numClippingPlanes!==void 0&&(Ar.numClippingPlanes!==Vt.numPlanes||Ar.numIntersection!==Vt.numIntersection)||Ar.vertexAlphas!==pr||Ar.vertexTangents!==vr||Ar.morphTargets!==hr||Ar.morphNormals!==Cr||Ar.morphColors!==_n||Ar.toneMapping!==bn||Ar.morphTargetsCount!==Gn)&&(dn=!0):(dn=!0,Ar.__version=Ue.version);let qa=Ar.currentProgram;dn===!0&&(qa=Ae(Ue,Ce,Fe));let ou=!1,na=!1,hc=!1;const aa=qa.getUniforms(),ci=Ar.uniforms;if(be.useProgram(qa.program)&&(ou=!0,na=!0,hc=!0),Ue.id!==P&&(P=Ue.id,na=!0),ou||k!==le){be.buffers.depth.getReversed()&&le.reversedDepth!==!0&&(le._reversedDepth=!0,le.updateProjectionMatrix()),aa.setValue(se,"projectionMatrix",le.projectionMatrix),aa.setValue(se,"viewMatrix",le.matrixWorldInverse);const Ca=aa.map.cameraPosition;Ca!==void 0&&Ca.setValue(se,Me.setFromMatrixPosition(le.matrixWorld)),ue.logarithmicDepthBuffer&&aa.setValue(se,"logDepthBufFC",2/(Math.log(le.far+1)/Math.LN2)),(Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshLambertMaterial||Ue.isMeshBasicMaterial||Ue.isMeshStandardMaterial||Ue.isShaderMaterial)&&aa.setValue(se,"isOrthographic",le.isOrthographicCamera===!0),k!==le&&(k=le,na=!0,hc=!0)}if(Fe.isSkinnedMesh){aa.setOptional(se,Fe,"bindMatrix"),aa.setOptional(se,Fe,"bindMatrixInverse");const fi=Fe.skeleton;fi&&(fi.boneTexture===null&&fi.computeBoneTexture(),aa.setValue(se,"boneTexture",fi.boneTexture,Le))}Fe.isBatchedMesh&&(aa.setOptional(se,Fe,"batchingTexture"),aa.setValue(se,"batchingTexture",Fe._matricesTexture,Le),aa.setOptional(se,Fe,"batchingIdTexture"),aa.setValue(se,"batchingIdTexture",Fe._indirectTexture,Le),aa.setOptional(se,Fe,"batchingColorTexture"),Fe._colorsTexture!==null&&aa.setValue(se,"batchingColorTexture",Fe._colorsTexture,Le));const ui=Pe.morphAttributes;if((ui.position!==void 0||ui.normal!==void 0||ui.color!==void 0)&&jt.update(Fe,Pe,qa),(na||Ar.receiveShadow!==Fe.receiveShadow)&&(Ar.receiveShadow=Fe.receiveShadow,aa.setValue(se,"receiveShadow",Fe.receiveShadow)),Ue.isMeshGouraudMaterial&&Ue.envMap!==null&&(ci.envMap.value=qt,ci.flipEnvMap.value=qt.isCubeTexture&&qt.isRenderTargetTexture===!1?-1:1),Ue.isMeshStandardMaterial&&Ue.envMap===null&&Ce.environment!==null&&(ci.envMapIntensity.value=Ce.environmentIntensity),ci.dfgLUT!==void 0&&(ci.dfgLUT.value=m4e()),na&&(aa.setValue(se,"toneMappingExposure",M.toneMappingExposure),Ar.needsLights&&Qe(ci,hc),wt&&Ue.fog===!0&&Bt.refreshFogUniforms(ci,wt),Bt.refreshMaterialUniforms(ci,Ue,re,Y,S.state.transmissionRenderTarget[le.id]),q3.upload(se,De(Ar),ci,Le)),Ue.isShaderMaterial&&Ue.uniformsNeedUpdate===!0&&(q3.upload(se,De(Ar),ci,Le),Ue.uniformsNeedUpdate=!1),Ue.isSpriteMaterial&&aa.setValue(se,"center",Fe.center),aa.setValue(se,"modelViewMatrix",Fe.modelViewMatrix),aa.setValue(se,"normalMatrix",Fe.normalMatrix),aa.setValue(se,"modelMatrix",Fe.matrixWorld),Ue.isShaderMaterial||Ue.isRawShaderMaterial){const fi=Ue.uniformsGroups;for(let Ca=0,Dl=fi.length;Ca<Dl;Ca++){const ol=fi[Ca];Et.update(ol,qa),Et.bind(ol,qa)}}return qa}function Qe(le,Ce){le.ambientLightColor.needsUpdate=Ce,le.lightProbe.needsUpdate=Ce,le.directionalLights.needsUpdate=Ce,le.directionalLightShadows.needsUpdate=Ce,le.pointLights.needsUpdate=Ce,le.pointLightShadows.needsUpdate=Ce,le.spotLights.needsUpdate=Ce,le.spotLightShadows.needsUpdate=Ce,le.rectAreaLights.needsUpdate=Ce,le.hemisphereLights.needsUpdate=Ce}function tt(le){return le.isMeshLambertMaterial||le.isMeshToonMaterial||le.isMeshPhongMaterial||le.isMeshStandardMaterial||le.isShadowMaterial||le.isShaderMaterial&&le.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(le,Ce,Pe){const Ue=ze.get(le);Ue.__autoAllocateDepthBuffer=le.resolveDepthBuffer===!1,Ue.__autoAllocateDepthBuffer===!1&&(Ue.__useRenderToTexture=!1),ze.get(le.texture).__webglTexture=Ce,ze.get(le.depthTexture).__webglTexture=Ue.__autoAllocateDepthBuffer?void 0:Pe,Ue.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(le,Ce){const Pe=ze.get(le);Pe.__webglFramebuffer=Ce,Pe.__useDefaultFramebuffer=Ce===void 0};const at=se.createFramebuffer();this.setRenderTarget=function(le,Ce=0,Pe=0){O=le,L=Ce,I=Pe;let Ue=!0,Fe=null,wt=!1,kt=!1;if(le){const qt=ze.get(le);if(qt.__useDefaultFramebuffer!==void 0)be.bindFramebuffer(se.FRAMEBUFFER,null),Ue=!1;else if(qt.__webglFramebuffer===void 0)Le.setupRenderTarget(le);else if(qt.__hasExternalTextures)Le.rebindTextures(le,ze.get(le.texture).__webglTexture,ze.get(le.depthTexture).__webglTexture);else if(le.depthBuffer){const hr=le.depthTexture;if(qt.__boundDepthTexture!==hr){if(hr!==null&&ze.has(hr)&&(le.width!==hr.image.width||le.height!==hr.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Le.setupDepthRenderbuffer(le)}}const pr=le.texture;(pr.isData3DTexture||pr.isDataArrayTexture||pr.isCompressedArrayTexture)&&(kt=!0);const vr=ze.get(le).__webglFramebuffer;le.isWebGLCubeRenderTarget?(Array.isArray(vr[Ce])?Fe=vr[Ce][Pe]:Fe=vr[Ce],wt=!0):le.samples>0&&Le.useMultisampledRTT(le)===!1?Fe=ze.get(le).__webglMultisampledFramebuffer:Array.isArray(vr)?Fe=vr[Pe]:Fe=vr,U.copy(le.viewport),F.copy(le.scissor),q=le.scissorTest}else U.copy(J).multiplyScalar(re).floor(),F.copy(ee).multiplyScalar(re).floor(),q=ae;if(Pe!==0&&(Fe=at),be.bindFramebuffer(se.FRAMEBUFFER,Fe)&&Ue&&be.drawBuffers(le,Fe),be.viewport(U),be.scissor(F),be.setScissorTest(q),wt){const qt=ze.get(le.texture);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,qt.__webglTexture,Pe)}else if(kt){const qt=Ce;for(let pr=0;pr<le.textures.length;pr++){const vr=ze.get(le.textures[pr]);se.framebufferTextureLayer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0+pr,vr.__webglTexture,Pe,qt)}}else if(le!==null&&Pe!==0){const qt=ze.get(le.texture);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,qt.__webglTexture,Pe)}P=-1},this.readRenderTargetPixels=function(le,Ce,Pe,Ue,Fe,wt,kt,Wt=0){if(!(le&&le.isWebGLRenderTarget)){Gr("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let qt=ze.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&kt!==void 0&&(qt=qt[kt]),qt){be.bindFramebuffer(se.FRAMEBUFFER,qt);try{const pr=le.textures[Wt],vr=pr.format,hr=pr.type;if(!ue.textureFormatReadable(vr)){Gr("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ue.textureTypeReadable(hr)){Gr("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ce>=0&&Ce<=le.width-Ue&&Pe>=0&&Pe<=le.height-Fe&&(le.textures.length>1&&se.readBuffer(se.COLOR_ATTACHMENT0+Wt),se.readPixels(Ce,Pe,Ue,Fe,At.convert(vr),At.convert(hr),wt))}finally{const pr=O!==null?ze.get(O).__webglFramebuffer:null;be.bindFramebuffer(se.FRAMEBUFFER,pr)}}},this.readRenderTargetPixelsAsync=async function(le,Ce,Pe,Ue,Fe,wt,kt,Wt=0){if(!(le&&le.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let qt=ze.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&kt!==void 0&&(qt=qt[kt]),qt)if(Ce>=0&&Ce<=le.width-Ue&&Pe>=0&&Pe<=le.height-Fe){be.bindFramebuffer(se.FRAMEBUFFER,qt);const pr=le.textures[Wt],vr=pr.format,hr=pr.type;if(!ue.textureFormatReadable(vr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ue.textureTypeReadable(hr))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Cr=se.createBuffer();se.bindBuffer(se.PIXEL_PACK_BUFFER,Cr),se.bufferData(se.PIXEL_PACK_BUFFER,wt.byteLength,se.STREAM_READ),le.textures.length>1&&se.readBuffer(se.COLOR_ATTACHMENT0+Wt),se.readPixels(Ce,Pe,Ue,Fe,At.convert(vr),At.convert(hr),0);const _n=O!==null?ze.get(O).__webglFramebuffer:null;be.bindFramebuffer(se.FRAMEBUFFER,_n);const bn=se.fenceSync(se.SYNC_GPU_COMMANDS_COMPLETE,0);return se.flush(),await kMe(se,bn,4),se.bindBuffer(se.PIXEL_PACK_BUFFER,Cr),se.getBufferSubData(se.PIXEL_PACK_BUFFER,0,wt),se.deleteBuffer(Cr),se.deleteSync(bn),wt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(le,Ce=null,Pe=0){const Ue=Math.pow(2,-Pe),Fe=Math.floor(le.image.width*Ue),wt=Math.floor(le.image.height*Ue),kt=Ce!==null?Ce.x:0,Wt=Ce!==null?Ce.y:0;Le.setTexture2D(le,0),se.copyTexSubImage2D(se.TEXTURE_2D,Pe,0,0,kt,Wt,Fe,wt),be.unbindTexture()};const Rt=se.createFramebuffer(),Lt=se.createFramebuffer();this.copyTextureToTexture=function(le,Ce,Pe=null,Ue=null,Fe=0,wt=null){wt===null&&(Fe!==0?(v_("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),wt=Fe,Fe=0):wt=0);let kt,Wt,qt,pr,vr,hr,Cr,_n,bn;const hn=le.isCompressedTexture?le.mipmaps[wt]:le.image;if(Pe!==null)kt=Pe.max.x-Pe.min.x,Wt=Pe.max.y-Pe.min.y,qt=Pe.isBox3?Pe.max.z-Pe.min.z:1,pr=Pe.min.x,vr=Pe.min.y,hr=Pe.isBox3?Pe.min.z:0;else{const ui=Math.pow(2,-Fe);kt=Math.floor(hn.width*ui),Wt=Math.floor(hn.height*ui),le.isDataArrayTexture?qt=hn.depth:le.isData3DTexture?qt=Math.floor(hn.depth*ui):qt=1,pr=0,vr=0,hr=0}Ue!==null?(Cr=Ue.x,_n=Ue.y,bn=Ue.z):(Cr=0,_n=0,bn=0);const Gn=At.convert(Ce.format),Ar=At.convert(Ce.type);let Qn;Ce.isData3DTexture?(Le.setTexture3D(Ce,0),Qn=se.TEXTURE_3D):Ce.isDataArrayTexture||Ce.isCompressedArrayTexture?(Le.setTexture2DArray(Ce,0),Qn=se.TEXTURE_2D_ARRAY):(Le.setTexture2D(Ce,0),Qn=se.TEXTURE_2D),se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,Ce.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ce.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,Ce.unpackAlignment);const dn=se.getParameter(se.UNPACK_ROW_LENGTH),qa=se.getParameter(se.UNPACK_IMAGE_HEIGHT),ou=se.getParameter(se.UNPACK_SKIP_PIXELS),na=se.getParameter(se.UNPACK_SKIP_ROWS),hc=se.getParameter(se.UNPACK_SKIP_IMAGES);se.pixelStorei(se.UNPACK_ROW_LENGTH,hn.width),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,hn.height),se.pixelStorei(se.UNPACK_SKIP_PIXELS,pr),se.pixelStorei(se.UNPACK_SKIP_ROWS,vr),se.pixelStorei(se.UNPACK_SKIP_IMAGES,hr);const aa=le.isDataArrayTexture||le.isData3DTexture,ci=Ce.isDataArrayTexture||Ce.isData3DTexture;if(le.isDepthTexture){const ui=ze.get(le),fi=ze.get(Ce),Ca=ze.get(ui.__renderTarget),Dl=ze.get(fi.__renderTarget);be.bindFramebuffer(se.READ_FRAMEBUFFER,Ca.__webglFramebuffer),be.bindFramebuffer(se.DRAW_FRAMEBUFFER,Dl.__webglFramebuffer);for(let ol=0;ol<qt;ol++)aa&&(se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,ze.get(le).__webglTexture,Fe,hr+ol),se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,ze.get(Ce).__webglTexture,wt,bn+ol)),se.blitFramebuffer(pr,vr,kt,Wt,Cr,_n,kt,Wt,se.DEPTH_BUFFER_BIT,se.NEAREST);be.bindFramebuffer(se.READ_FRAMEBUFFER,null),be.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else if(Fe!==0||le.isRenderTargetTexture||ze.has(le)){const ui=ze.get(le),fi=ze.get(Ce);be.bindFramebuffer(se.READ_FRAMEBUFFER,Rt),be.bindFramebuffer(se.DRAW_FRAMEBUFFER,Lt);for(let Ca=0;Ca<qt;Ca++)aa?se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,ui.__webglTexture,Fe,hr+Ca):se.framebufferTexture2D(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,ui.__webglTexture,Fe),ci?se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,fi.__webglTexture,wt,bn+Ca):se.framebufferTexture2D(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,fi.__webglTexture,wt),Fe!==0?se.blitFramebuffer(pr,vr,kt,Wt,Cr,_n,kt,Wt,se.COLOR_BUFFER_BIT,se.NEAREST):ci?se.copyTexSubImage3D(Qn,wt,Cr,_n,bn+Ca,pr,vr,kt,Wt):se.copyTexSubImage2D(Qn,wt,Cr,_n,pr,vr,kt,Wt);be.bindFramebuffer(se.READ_FRAMEBUFFER,null),be.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else ci?le.isDataTexture||le.isData3DTexture?se.texSubImage3D(Qn,wt,Cr,_n,bn,kt,Wt,qt,Gn,Ar,hn.data):Ce.isCompressedArrayTexture?se.compressedTexSubImage3D(Qn,wt,Cr,_n,bn,kt,Wt,qt,Gn,hn.data):se.texSubImage3D(Qn,wt,Cr,_n,bn,kt,Wt,qt,Gn,Ar,hn):le.isDataTexture?se.texSubImage2D(se.TEXTURE_2D,wt,Cr,_n,kt,Wt,Gn,Ar,hn.data):le.isCompressedTexture?se.compressedTexSubImage2D(se.TEXTURE_2D,wt,Cr,_n,hn.width,hn.height,Gn,hn.data):se.texSubImage2D(se.TEXTURE_2D,wt,Cr,_n,kt,Wt,Gn,Ar,hn);se.pixelStorei(se.UNPACK_ROW_LENGTH,dn),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,qa),se.pixelStorei(se.UNPACK_SKIP_PIXELS,ou),se.pixelStorei(se.UNPACK_SKIP_ROWS,na),se.pixelStorei(se.UNPACK_SKIP_IMAGES,hc),wt===0&&Ce.generateMipmaps&&se.generateMipmap(Qn),be.unbindTexture()},this.initRenderTarget=function(le){ze.get(le).__webglFramebuffer===void 0&&Le.setupRenderTarget(le)},this.initTexture=function(le){le.isCubeTexture?Le.setTextureCube(le,0):le.isData3DTexture?Le.setTexture3D(le,0):le.isDataArrayTexture||le.isCompressedArrayTexture?Le.setTexture2DArray(le,0):Le.setTexture2D(le,0),be.unbindTexture()},this.resetState=function(){L=0,I=0,O=null,be.reset(),Ie.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return $l}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Nn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Nn._getUnpackColorSpace()}}const y4e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:lz,AddEquation:S0,AddOperation:Nre,AdditiveAnimationBlendMode:gz,AdditiveBlending:uT,AgXToneMapping:Pre,AlphaFormat:pz,AlwaysCompare:$re,AlwaysDepth:HD,AlwaysStencilFunc:FP,AmbientLight:Wne,AnimationAction:eae,AnimationClip:ET,AnimationLoader:A3e,AnimationMixer:eDe,AnimationObjectGroup:J3e,AnimationUtils:b3e,ArcCurve:gne,ArrayCamera:$ne,ArrowHelper:ADe,AttachedBindMode:zP,Audio:Jne,AudioAnalyser:H3e,AudioContext:Hz,AudioListener:F3e,AudioLoader:P3e,AxesHelper:EDe,BackSide:Qo,BasicDepthPacking:Hre,BasicShadowMap:fre,BatchedMesh:fne,Bone:Tz,BooleanKeyframeTrack:dy,Box2:cDe,Box3:xo,Box3Helper:wDe,BoxGeometry:hy,BoxHelper:SDe,BufferAttribute:va,BufferGeometry:tn,BufferGeometryLoader:Kne,ByteType:uz,Cache:lh,Camera:pI,CameraHelper:bDe,CanvasTexture:jCe,CapsuleGeometry:bI,CatmullRomCurve3:mne,CineonToneMapping:Ore,CircleGeometry:SI,ClampToEdgeWrapping:Tl,Clock:Gz,Color:Jt,ColorKeyframeTrack:Fz,ColorManagement:Nn,CompressedArrayTexture:HCe,CompressedCubeTexture:GCe,CompressedTexture:_I,CompressedTextureLoader:E3e,ConeGeometry:EA,ConstantAlphaFactor:Cre,ConstantColorFactor:Ere,Controls:CDe,CubeCamera:ane,CubeReflectionMapping:Jd,CubeRefractionMapping:J0,CubeTexture:TA,CubeTextureLoader:M3e,CubeUVReflectionMapping:Z_,CubicBezierCurve:Dz,CubicBezierCurve3:yne,CubicInterpolant:Bne,CullFaceBack:kP,CullFaceFront:ure,CullFaceFrontBack:ZEe,CullFaceNone:cre,Curve:lf,CurvePath:_ne,CustomBlending:hre,CustomToneMapping:kre,CylinderGeometry:AA,Cylindrical:lDe,Data3DTexture:dI,DataArrayTexture:hI,DataTexture:Zu,DataTextureLoader:C3e,DataUtils:dCe,DecrementStencilOp:cMe,DecrementWrapStencilOp:fMe,DefaultLoadingManager:Une,DepthFormat:h_,DepthStencilFormat:d_,DepthTexture:Ez,DetachedBindMode:zre,DirectionalLight:jne,DirectionalLightHelper:_De,DiscreteInterpolant:zne,DodecahedronGeometry:wI,DoubleSide:nh,DstAlphaFactor:bre,DstColorFactor:wre,DynamicCopyUsage:EMe,DynamicDrawUsage:_Me,DynamicReadUsage:wMe,EdgesGeometry:vne,EllipseCurve:TI,EqualCompare:Xre,EqualDepth:jD,EqualStencilFunc:vMe,EquirectangularReflectionMapping:fT,EquirectangularRefractionMapping:hT,Euler:sc,EventDispatcher:Rh,ExternalTexture:Mz,ExtrudeGeometry:AI,FileLoader:ep,Float16BufferAttribute:_Ce,Float32BufferAttribute:fr,FloatType:Al,Fog:gI,FogExp2:vI,FramebufferTexture:VCe,FrontSide:$d,Frustum:K_,FrustumArray:xI,GLBufferAttribute:iDe,GLSL1:CMe,GLSL3:UP,GreaterCompare:qre,GreaterDepth:YD,GreaterEqualCompare:Kre,GreaterEqualDepth:WD,GreaterEqualStencilFunc:xMe,GreaterStencilFunc:mMe,GridHelper:yDe,Group:U1,HalfFloatType:uy,HemisphereLight:Vne,HemisphereLightHelper:mDe,IcosahedronGeometry:EI,ImageBitmapLoader:k3e,ImageLoader:MT,ImageUtils:ene,IncrementStencilOp:lMe,IncrementWrapStencilOp:uMe,InstancedBufferAttribute:x_,InstancedBufferGeometry:Zne,InstancedInterleavedBuffer:aDe,InstancedMesh:une,Int16BufferAttribute:yCe,Int32BufferAttribute:xCe,Int8BufferAttribute:vCe,IntType:aI,InterleavedBuffer:mI,InterleavedBufferAttribute:Hm,Interpolant:DA,InterpolateDiscrete:vT,InterpolateLinear:SR,InterpolateSmooth:Y3,InterpolationSamplingMode:NMe,InterpolationSamplingType:RMe,InvertStencilOp:hMe,KeepStencilOp:em,KeyframeTrack:nu,LOD:lne,LatheGeometry:MI,Layers:m_,LessCompare:Yre,LessDepth:GD,LessEqualCompare:mz,LessEqualDepth:Vm,LessEqualStencilFunc:gMe,LessStencilFunc:pMe,Light:hv,LightProbe:qne,Line:tv,Line3:hDe,LineBasicMaterial:sl,LineCurve:Rz,LineCurve3:xne,LineDashedMaterial:One,LineLoop:hne,LineSegments:Nh,LinearFilter:xi,LinearInterpolant:zz,LinearMipMapLinearFilter:QEe,LinearMipMapNearestFilter:JEe,LinearMipmapLinearFilter:oh,LinearMipmapNearestFilter:Aw,LinearSRGBColorSpace:Q0,LinearToneMapping:Ire,LinearTransfer:mT,Loader:Cl,LoaderUtils:WP,LoadingManager:Uz,LoopOnce:Fre,LoopPingPong:Vre,LoopRepeat:Ure,MOUSE:Jg,Material:To,MaterialLoader:OI,MathUtils:JMe,Matrix2:Xz,Matrix3:en,Matrix4:Vr,MaxEquation:gre,Mesh:Qi,MeshBasicMaterial:uv,MeshDepthMaterial:kz,MeshDistanceMaterial:Pz,MeshLambertMaterial:Ine,MeshMatcapMaterial:Lne,MeshNormalMaterial:Nne,MeshPhongMaterial:Dne,MeshPhysicalMaterial:Cne,MeshStandardMaterial:Oz,MeshToonMaterial:Rne,MinEquation:vre,MirroredRepeatWrapping:pT,MixOperation:Rre,MultiplyBlending:BP,MultiplyOperation:SA,NearestFilter:zs,NearestMipMapLinearFilter:$Ee,NearestMipMapNearestFilter:KEe,NearestMipmapLinearFilter:z1,NearestMipmapNearestFilter:cz,NeutralToneMapping:Bre,NeverCompare:Wre,NeverDepth:VD,NeverStencilFunc:dMe,NoBlending:vh,NoColorSpace:Rd,NoToneMapping:gh,NormalAnimationBlendMode:fI,NormalBlending:Mm,NotEqualCompare:Zre,NotEqualDepth:XD,NotEqualStencilFunc:yMe,NumberKeyframeTrack:TT,Object3D:Bn,ObjectLoader:L3e,ObjectSpaceNormalMap:jre,OctahedronGeometry:MA,OneFactor:yre,OneMinusConstantAlphaFactor:Dre,OneMinusConstantColorFactor:Mre,OneMinusDstAlphaFactor:Sre,OneMinusDstColorFactor:Tre,OneMinusSrcAlphaFactor:UD,OneMinusSrcColorFactor:_re,OrthographicCamera:F0,PCFShadowMap:rI,PCFSoftShadowMap:Tw,PMREMGenerator:qP,Path:ER,PerspectiveCamera:yi,Plane:Dd,PlaneGeometry:$_,PlaneHelper:TDe,PointLight:Gne,PointLightHelper:vDe,Points:dne,PointsMaterial:Az,PolarGridHelper:xDe,PolyhedronGeometry:fv,PositionalAudio:V3e,PropertyBinding:Fn,PropertyMixer:Qne,QuadraticBezierCurve:Nz,QuadraticBezierCurve3:Iz,Quaternion:yo,QuaternionKeyframeTrack:RA,QuaternionLinearInterpolant:Fne,RED_GREEN_RGTC2_Format:_R,RED_RGTC1_Format:yR,REVISION:bA,RGBADepthPacking:Gre,RGBAFormat:go,RGBAIntegerFormat:uI,RGBA_ASTC_10x10_Format:hR,RGBA_ASTC_10x5_Format:cR,RGBA_ASTC_10x6_Format:uR,RGBA_ASTC_10x8_Format:fR,RGBA_ASTC_12x10_Format:dR,RGBA_ASTC_12x12_Format:pR,RGBA_ASTC_4x4_Format:tR,RGBA_ASTC_5x4_Format:rR,RGBA_ASTC_5x5_Format:nR,RGBA_ASTC_6x5_Format:aR,RGBA_ASTC_6x6_Format:iR,RGBA_ASTC_8x5_Format:sR,RGBA_ASTC_8x6_Format:oR,RGBA_ASTC_8x8_Format:lR,RGBA_BPTC_Format:vR,RGBA_ETC2_EAC_Format:eR,RGBA_PVRTC_2BPPV1_Format:$D,RGBA_PVRTC_4BPPV1_Format:KD,RGBA_S3TC_DXT1_Format:Mw,RGBA_S3TC_DXT3_Format:Cw,RGBA_S3TC_DXT5_Format:Dw,RGBDepthPacking:aMe,RGBFormat:vz,RGBIntegerFormat:eMe,RGB_BPTC_SIGNED_Format:gR,RGB_BPTC_UNSIGNED_Format:mR,RGB_ETC1_Format:JD,RGB_ETC2_Format:QD,RGB_PVRTC_2BPPV1_Format:ZD,RGB_PVRTC_4BPPV1_Format:qD,RGB_S3TC_DXT1_Format:Ew,RGDepthPacking:iMe,RGFormat:lI,RGIntegerFormat:cI,RawShaderMaterial:Mne,Ray:fy,Raycaster:tae,RectAreaLight:Yne,RedFormat:oI,RedIntegerFormat:wA,ReinhardToneMapping:Lre,RenderTarget:xz,RenderTarget3D:tDe,RepeatWrapping:dT,ReplaceStencilOp:oMe,ReverseSubtractEquation:pre,RingGeometry:CI,SIGNED_RED_GREEN_RGTC2_Format:bR,SIGNED_RED_RGTC1_Format:xR,SRGBColorSpace:fo,SRGBTransfer:sa,Scene:Sz,ShaderChunk:ln,ShaderLib:Vu,ShaderMaterial:oc,ShadowMaterial:Ene,Shape:Dm,ShapeGeometry:DI,ShapePath:MDe,ShapeUtils:Wu,ShortType:fz,Skeleton:yI,SkeletonHelper:pDe,SkinnedMesh:cne,Source:C0,Sphere:Fs,SphereGeometry:CA,Spherical:MR,SphericalHarmonics3:Xne,SplineCurve:Lz,SpotLight:Hne,SpotLightHelper:dDe,Sprite:one,SpriteMaterial:wz,SrcAlphaFactor:FD,SrcAlphaSaturateFactor:Are,SrcColorFactor:xre,StaticCopyUsage:AMe,StaticDrawUsage:yT,StaticReadUsage:SMe,StereoCamera:B3e,StreamCopyUsage:MMe,StreamDrawUsage:bMe,StreamReadUsage:TMe,StringKeyframeTrack:py,SubtractEquation:dre,SubtractiveBlending:PP,TOUCH:Qg,TangentSpaceNormalMap:cv,TetrahedronGeometry:RI,Texture:ii,TextureLoader:D3e,TextureUtils:LDe,Timer:sDe,TimestampQuery:DMe,TorusGeometry:NI,TorusKnotGeometry:II,Triangle:w0,TriangleFanDrawMode:nMe,TriangleStripDrawMode:rMe,TrianglesDrawMode:tMe,TubeGeometry:LI,UVMapping:nI,Uint16BufferAttribute:_z,Uint32BufferAttribute:bz,Uint8BufferAttribute:gCe,Uint8ClampedBufferAttribute:mCe,Uniform:Yz,UniformsGroup:nDe,UniformsLib:Kt,UniformsUtils:nne,UnsignedByteType:$c,UnsignedInt101111Type:dz,UnsignedInt248Type:f_,UnsignedInt5999Type:hz,UnsignedIntType:Qd,UnsignedShort4444Type:iI,UnsignedShort5551Type:sI,UnsignedShortType:u_,VSMShadowMap:Fu,Vector2:St,Vector3:Ee,Vector4:Un,VectorKeyframeTrack:AT,VideoFrameTexture:UCe,VideoTexture:pne,WebGL3DRenderTarget:nCe,WebGLArrayRenderTarget:rCe,WebGLCoordinateSystem:$l,WebGLCubeRenderTarget:ine,WebGLRenderTarget:bh,WebGLRenderer:cae,WebGLUtils:lae,WebGPUCoordinateSystem:p_,WebXRController:X3,WireframeGeometry:Ane,WrapAroundEnding:gT,ZeroCurvatureEnding:pm,ZeroFactor:mre,ZeroSlopeEnding:vm,ZeroStencilOp:sMe,createCanvasElement:Qre,error:Gr,getConsoleFunction:OMe,log:_T,setConsoleFunction:LMe,warn:$t,warnOnce:v_},Symbol.toStringTag,{value:"Module"}));var SO={exports:{}},wO={},TO={exports:{}},AO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eW;function x4e(){if(eW)return AO;eW=1;var r=U_();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,a=r.useEffect,i=r.useLayoutEffect,s=r.useDebugValue;function o(f,h){var d=h(),v=n({inst:{value:d,getSnapshot:h}}),g=v[0].inst,m=v[1];return i(function(){g.value=d,g.getSnapshot=h,l(g)&&m({inst:g})},[f,d,h]),a(function(){return l(g)&&m({inst:g}),f(function(){l(g)&&m({inst:g})})},[f]),s(d),d}function l(f){var h=f.getSnapshot;f=f.value;try{var d=h();return!t(f,d)}catch{return!0}}function c(f,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return AO.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:u,AO}var tW;function _4e(){return tW||(tW=1,TO.exports=x4e()),TO.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rW;function b4e(){if(rW)return wO;rW=1;var r=U_(),e=_4e();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,i=r.useRef,s=r.useEffect,o=r.useMemo,l=r.useDebugValue;return wO.useSyncExternalStoreWithSelector=function(c,u,f,h,d){var v=i(null);if(v.current===null){var g={hasValue:!1,value:null};v.current=g}else g=v.current;v=o(function(){function y(M){if(!b){if(b=!0,S=M,M=h(M),d!==void 0&&g.hasValue){var R=g.value;if(d(R,M))return A=R}return A=M}if(R=A,n(S,M))return R;var L=h(M);return d!==void 0&&d(R,L)?(S=M,R):(S=M,A=L)}var b=!1,S,A,E=f===void 0?null:f;return[function(){return y(u())},E===null?void 0:function(){return y(E())}]},[u,f,h,d]);var m=a(c,v[0],v[1]);return s(function(){g.hasValue=!0,g.value=m},[m]),l(m),m},wO}var nW;function S4e(){return nW||(nW=1,SO.exports=b4e()),SO.exports}var w4e=S4e();const T4e=F_(w4e),aW=r=>{let e;const t=new Set,n=(c,u)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const h=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(d=>d(e,h))}},a=()=>e,o={setState:n,getState:a,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=r(n,a,o);return o},A4e=(r=>r?aW(r):aW),{useSyncExternalStoreWithSelector:E4e}=T4e,M4e=r=>r;function C4e(r,e=M4e,t){const n=E4e(r.subscribe,r.getState,r.getInitialState,e,t);return An.useDebugValue(n),n}const iW=(r,e)=>{const t=A4e(r),n=(a,i=e)=>C4e(t,a,i);return Object.assign(n,t),n},D4e=((r,e)=>r?iW(r,e):iW);var EO={exports:{}},MO={exports:{}},CO={exports:{}},DO={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sW;function R4e(){return sW||(sW=1,(function(r){function e(H,Z){var X=H.length;H.push(Z);e:for(;0<X;){var Y=X-1>>>1,re=H[Y];if(0<a(re,Z))H[Y]=Z,H[X]=re,X=Y;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Z=H[0],X=H.pop();if(X!==Z){H[0]=X;e:for(var Y=0,re=H.length,W=re>>>1;Y<W;){var j=2*(Y+1)-1,J=H[j],ee=j+1,ae=H[ee];if(0>a(J,X))ee<re&&0>a(ae,J)?(H[Y]=ae,H[ee]=X,Y=ee):(H[Y]=J,H[j]=X,Y=j);else if(ee<re&&0>a(ae,X))H[Y]=ae,H[ee]=X,Y=ee;else break e}}return Z}function a(H,Z){var X=H.sortIndex-Z.sortIndex;return X!==0?X:H.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();r.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,v=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(H){for(var Z=t(c);Z!==null;){if(Z.callback===null)n(c);else if(Z.startTime<=H)n(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function A(H){if(g=!1,S(H),!v)if(t(l)!==null)v=!0,F();else{var Z=t(c);Z!==null&&q(A,Z.startTime-H)}}var E=!1,M=-1,R=5,L=-1;function I(){return!(r.unstable_now()-L<R)}function O(){if(E){var H=r.unstable_now();L=H;var Z=!0;try{e:{v=!1,g&&(g=!1,y(M),M=-1),d=!0;var X=h;try{t:{for(S(H),f=t(l);f!==null&&!(f.expirationTime>H&&I());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var re=Y(f.expirationTime<=H);if(H=r.unstable_now(),typeof re=="function"){f.callback=re,S(H),Z=!0;break t}f===t(l)&&n(l),S(H)}else n(l);f=t(l)}if(f!==null)Z=!0;else{var W=t(c);W!==null&&q(A,W.startTime-H),Z=!1}}break e}finally{f=null,h=X,d=!1}Z=void 0}}finally{Z?P():E=!1}}}var P;if(typeof b=="function")P=function(){b(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,U=k.port2;k.port1.onmessage=O,P=function(){U.postMessage(null)}}else P=function(){m(O,0)};function F(){E||(E=!0,P())}function q(H,Z){M=m(function(){H(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_continueExecution=function(){v||d||(v=!0,F())},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(H){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var X=h;h=Z;try{return H()}finally{h=X}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=h;h=H;try{return Z()}finally{h=X}},r.unstable_scheduleCallback=function(H,Z,X){var Y=r.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Y+X:Y):X=Y,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=X+re,H={id:u++,callback:Z,priorityLevel:H,startTime:X,expirationTime:re,sortIndex:-1},X>Y?(H.sortIndex=X,e(c,H),t(l)===null&&H===t(c)&&(g?(y(M),M=-1):g=!0,q(A,X-Y))):(H.sortIndex=re,e(l,H),v||d||(v=!0,F())),H},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(H){var Z=h;return function(){var X=h;h=Z;try{return H.apply(this,arguments)}finally{h=X}}}})(DO)),DO}var oW;function uae(){return oW||(oW=1,CO.exports=R4e()),CO.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lW;function N4e(){return lW||(lW=1,(function(r){r.exports=function(e){function t(_,w,N,z){return new Yb(_,w,N,z)}function n(){}function a(_){var w="https://react.dev/errors/"+_;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)w+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+_+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(_){return _===null||typeof _!="object"?null:(_=Qb&&_[Qb]||_["@@iterator"],typeof _=="function"?_:null)}function s(_){if(_==null)return null;if(typeof _=="function")return _.$$typeof===qh?null:_.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case Cp:return"Fragment";case Ll:return"Portal";case Jb:return"Profiler";case $b:return"StrictMode";case Zy:return"Suspense";case Df:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case _c:return(_.displayName||"Context")+".Provider";case Cf:return(_._context.displayName||"Context")+".Consumer";case Dp:var w=_.render;return _=_.displayName,_||(_=w.displayName||w.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case Uv:return w=_.displayName||null,w!==null?w:s(_.type)||"Memo";case Ol:w=_._payload,_=_._init;try{return s(_(w))}catch{}}return null}function o(_){if(Ky===void 0)try{throw Error()}catch(N){var w=N.stack.trim().match(/\n( *(at )?)/);Ky=w&&w[1]||"",eS=-1<N.stack.indexOf(`
    at`)?" (<anonymous>)":-1<N.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ky+_+eS}function l(_,w){if(!_||Rf)return"";Rf=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var z={DetermineComponentFrameRoot:function(){try{if(w){var Zt=function(){throw Error()};if(Object.defineProperty(Zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Zt,[])}catch(Hr){var tr=Hr}Reflect.construct(_,[],Zt)}else{try{Zt.call()}catch(Hr){tr=Hr}_.call(Zt.prototype)}}else{try{throw Error()}catch(Hr){tr=Hr}(Zt=_())&&typeof Zt.catch=="function"&&Zt.catch(function(){})}}catch(Hr){if(Hr&&tr&&typeof Hr.stack=="string")return[Hr.stack,tr.stack]}return[null,null]}};z.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var G=Object.getOwnPropertyDescriptor(z.DetermineComponentFrameRoot,"name");G&&G.configurable&&Object.defineProperty(z.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Q=z.DetermineComponentFrameRoot(),ve=Q[0],Oe=Q[1];if(ve&&Oe){var Ze=ve.split(`
`),xt=Oe.split(`
`);for(G=z=0;z<Ze.length&&!Ze[z].includes("DetermineComponentFrameRoot");)z++;for(;G<xt.length&&!xt[G].includes("DetermineComponentFrameRoot");)G++;if(z===Ze.length||G===xt.length)for(z=Ze.length-1,G=xt.length-1;1<=z&&0<=G&&Ze[z]!==xt[G];)G--;for(;1<=z&&0<=G;z--,G--)if(Ze[z]!==xt[G]){if(z!==1||G!==1)do if(z--,G--,0>G||Ze[z]!==xt[G]){var Ft=`
`+Ze[z].replace(" at new "," at ");return _.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",_.displayName)),Ft}while(1<=z&&0<=G);break}}}finally{Rf=!1,Error.prepareStackTrace=N}return(N=_?_.displayName||_.name:"")?o(N):""}function c(_){switch(_.tag){case 26:case 27:case 5:return o(_.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return _=l(_.type,!1),_;case 11:return _=l(_.type.render,!1),_;case 1:return _=l(_.type,!0),_;default:return""}}function u(_){try{var w="";do w+=c(_),_=_.return;while(_);return w}catch(N){return`
Error generating stack: `+N.message+`
`+N.stack}}function f(_){var w=_,N=_;if(_.alternate)for(;w.return;)w=w.return;else{_=w;do w=_,(w.flags&4098)!==0&&(N=w.return),_=w.return;while(_)}return w.tag===3?N:null}function h(_){if(f(_)!==_)throw Error(a(188))}function d(_){var w=_.alternate;if(!w){if(w=f(_),w===null)throw Error(a(188));return w!==_?null:_}for(var N=_,z=w;;){var G=N.return;if(G===null)break;var Q=G.alternate;if(Q===null){if(z=G.return,z!==null){N=z;continue}break}if(G.child===Q.child){for(Q=G.child;Q;){if(Q===N)return h(G),_;if(Q===z)return h(G),w;Q=Q.sibling}throw Error(a(188))}if(N.return!==z.return)N=G,z=Q;else{for(var ve=!1,Oe=G.child;Oe;){if(Oe===N){ve=!0,N=G,z=Q;break}if(Oe===z){ve=!0,z=G,N=Q;break}Oe=Oe.sibling}if(!ve){for(Oe=Q.child;Oe;){if(Oe===N){ve=!0,N=Q,z=G;break}if(Oe===z){ve=!0,z=Q,N=G;break}Oe=Oe.sibling}if(!ve)throw Error(a(189))}}if(N.alternate!==z)throw Error(a(190))}if(N.tag!==3)throw Error(a(188));return N.stateNode.current===N?_:w}function v(_){var w=_.tag;if(w===5||w===26||w===27||w===6)return _;for(_=_.child;_!==null;){if(w=v(_),w!==null)return w;_=_.sibling}return null}function g(_){var w=_.tag;if(w===5||w===26||w===27||w===6)return _;for(_=_.child;_!==null;){if(_.tag!==4&&(w=g(_),w!==null))return w;_=_.sibling}return null}function m(_){return{current:_}}function y(_){0>bu||(_.current=Zv[bu],Zv[bu]=null,bu--)}function b(_,w){bu++,Zv[bu]=_.current,_.current=w}function S(_){return _>>>=0,_===0?32:31-(Kv(_)/YE|0)|0}function A(_){var w=_&42;if(w!==0)return w;switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return _&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return _}}function E(_,w){var N=_.pendingLanes;if(N===0)return 0;var z=0,G=_.suspendedLanes,Q=_.pingedLanes,ve=_.warmLanes;_=_.finishedLanes!==0;var Oe=N&134217727;return Oe!==0?(N=Oe&~G,N!==0?z=A(N):(Q&=Oe,Q!==0?z=A(Q):_||(ve=Oe&~ve,ve!==0&&(z=A(ve))))):(Oe=N&~G,Oe!==0?z=A(Oe):Q!==0?z=A(Q):_||(ve=N&~ve,ve!==0&&(z=A(ve)))),z===0?0:w!==0&&w!==z&&(w&G)===0&&(G=z&-z,ve=w&-w,G>=ve||G===32&&(ve&4194176)!==0)?w:z}function M(_,w){return(_.pendingLanes&~(_.suspendedLanes&~_.pingedLanes)&w)===0}function R(_,w){switch(_){case 1:case 2:case 4:case 8:return w+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var _=Lp;return Lp<<=1,(Lp&4194176)===0&&(Lp=128),_}function I(){var _=$v;return $v<<=1,($v&62914560)===0&&($v=4194304),_}function O(_){for(var w=[],N=0;31>N;N++)w.push(_);return w}function P(_,w){_.pendingLanes|=w,w!==268435456&&(_.suspendedLanes=0,_.pingedLanes=0,_.warmLanes=0)}function k(_,w,N,z,G,Q){var ve=_.pendingLanes;_.pendingLanes=N,_.suspendedLanes=0,_.pingedLanes=0,_.warmLanes=0,_.expiredLanes&=N,_.entangledLanes&=N,_.errorRecoveryDisabledLanes&=N,_.shellSuspendCounter=0;var Oe=_.entanglements,Ze=_.expirationTimes,xt=_.hiddenUpdates;for(N=ve&~N;0<N;){var Ft=31-Zs(N),Zt=1<<Ft;Oe[Ft]=0,Ze[Ft]=-1;var tr=xt[Ft];if(tr!==null)for(xt[Ft]=null,Ft=0;Ft<tr.length;Ft++){var Hr=tr[Ft];Hr!==null&&(Hr.lane&=-536870913)}N&=~Zt}z!==0&&U(_,z,0),Q!==0&&G===0&&_.tag!==0&&(_.suspendedLanes|=Q&~(ve&~w))}function U(_,w,N){_.pendingLanes|=w,_.suspendedLanes&=~w;var z=31-Zs(w);_.entangledLanes|=w,_.entanglements[z]=_.entanglements[z]|1073741824|N&4194218}function F(_,w){var N=_.entangledLanes|=w;for(_=_.entanglements;N;){var z=31-Zs(N),G=1<<z;G&w|_[z]&w&&(_[z]|=w),N&=~G}}function q(_){return _&=-_,2<_?8<_?(_&134217727)!==0?32:268435456:8:2}function H(_){if(Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(kp,_,void 0,(_.current.flags&128)===128)}catch{}}function Z(_){if(typeof KE=="function"&&NS(_),Ks&&typeof Ks.setStrictMode=="function")try{Ks.setStrictMode(kp,_)}catch{}}function X(_,w){return _===w&&(_!==0||1/_===1/w)||_!==_&&w!==w}function Y(_,w){if(typeof _=="object"&&_!==null){var N=dx.get(_);return N!==void 0?N:(w={value:_,source:w,stack:u(w)},dx.set(_,w),w)}return{value:_,source:w,stack:u(w)}}function re(_,w){_a[Na++]=eg,_a[Na++]=Qv,Qv=_,eg=w}function W(_,w,N){Io[Lo++]=Ac,Io[Lo++]=ul,Io[Lo++]=kl,kl=_;var z=Ac;_=ul;var G=32-Zs(z)-1;z&=~(1<<G),N+=1;var Q=32-Zs(w)+G;if(30<Q){var ve=G-G%5;Q=(z&(1<<ve)-1).toString(32),z>>=ve,G-=ve,Ac=1<<32-Zs(w)+G|N<<G|z,ul=Q+_}else Ac=1<<Q|N<<G|z,ul=_}function j(_){_.return!==null&&(re(_,1),W(_,1,0))}function J(_){for(;_===Qv;)Qv=_a[--Na],_a[Na]=null,eg=_a[--Na],_a[Na]=null;for(;_===kl;)kl=Io[--Lo],Io[Lo]=null,ul=Io[--Lo],Io[Lo]=null,Ac=Io[--Lo],Io[Lo]=null}function ee(_,w){b(Pl,w),b(tg,_),b(Mi,null),_=Zh(w),y(Mi),b(Mi,_)}function ae(){y(Mi),y(tg),y(Pl)}function ce(_){_.memoizedState!==null&&b(Pp,_);var w=Mi.current,N=AE(w,_.type);w!==N&&(b(tg,_),b(Mi,N))}function me(_){tg.current===_&&(y(Mi),y(tg)),Pp.current===_&&(y(Pp),Sc?Lr._currentValue=qs:Lr._currentValue2=qs)}function Se(_){var w=Error(a(418,""));throw dt(Y(w,_)),rg}function we(_,w){if(!Cs)throw Error(a(175));CL(_.stateNode,_.type,_.memoizedProps,w,_)||Se(_)}function Me(_){for(fs=_.return;fs;)switch(fs.tag){case 3:case 27:fl=!0;return;case 5:case 13:fl=!1;return;default:fs=fs.return}}function Ve(_){if(!Cs||_!==fs)return!1;if(!En)return Me(_),En=!0,!1;var w=!1;if(Vi?_.tag!==3&&_.tag!==27&&(_.tag!==5||VE(_.type)&&!Lf(_.type,_.memoizedProps))&&(w=!0):_.tag!==3&&(_.tag!==5||VE(_.type)&&!Lf(_.type,_.memoizedProps))&&(w=!0),w&&Gi&&Se(_),Me(_),_.tag===13){if(!Cs)throw Error(a(316));if(_=_.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(a(317));Gi=FE(_)}else Gi=fs?yS(_.stateNode):null;return!0}function de(){Cs&&(Gi=fs=null,En=!1)}function dt(_){Oo===null?Oo=[_]:Oo.push(_)}function K(){for(var _=kf,w=Bp=kf=0;w<_;){var N=ko[w];ko[w++]=null;var z=ko[w];ko[w++]=null;var G=ko[w];ko[w++]=null;var Q=ko[w];if(ko[w++]=null,z!==null&&G!==null){var ve=z.pending;ve===null?G.next=G:(G.next=ve.next,ve.next=G),z.pending=G}Q!==0&&ue(N,G,Q)}}function se(_,w,N,z){ko[kf++]=_,ko[kf++]=w,ko[kf++]=N,ko[kf++]=z,Bp|=z,_.lanes|=z,_=_.alternate,_!==null&&(_.lanes|=z)}function _e(_,w,N,z){return se(_,w,N,z),be(_)}function oe(_,w){return se(_,null,null,w),be(_)}function ue(_,w,N){_.lanes|=N;var z=_.alternate;z!==null&&(z.lanes|=N);for(var G=!1,Q=_.return;Q!==null;)Q.childLanes|=N,z=Q.alternate,z!==null&&(z.childLanes|=N),Q.tag===22&&(_=Q.stateNode,_===null||_._visibility&1||(G=!0)),_=Q,Q=Q.return;G&&w!==null&&_.tag===3&&(Q=_.stateNode,G=31-Zs(N),Q=Q.hiddenUpdates,_=Q[G],_===null?Q[G]=[w]:_.push(w),w.lane=N|536870912)}function be(_){if(50<sd)throw sd=0,Ns=null,Error(a(185));for(var w=_.return;w!==null;)_=w,w=_.return;return _.tag===3?_.stateNode:null}function Be(_){_!==Qh&&_.next===null&&(Qh===null?zp=Qh=_:Qh=Qh.next=_),ag=!0,ng||(ng=!0,je(Le))}function ze(_,w){if(!Bl&&ag){Bl=!0;do for(var N=!1,z=zp;z!==null;){if(_!==0){var G=z.pendingLanes;if(G===0)var Q=0;else{var ve=z.suspendedLanes,Oe=z.pingedLanes;Q=(1<<31-Zs(42|_)+1)-1,Q&=G&~(ve&~Oe),Q=Q&201326677?Q&201326677|1:Q?Q|2:0}Q!==0&&(N=!0,Re(z,Q))}else Q=sn,Q=E(z,z===cn?Q:0),(Q&3)===0||M(z,Q)||(N=!0,Re(z,Q));z=z.next}while(N);Bl=!1}}function Le(){ag=ng=!1;var _=0;Pf!==0&&(Of()&&(_=Pf),Pf=0);for(var w=Hi(),N=null,z=zp;z!==null;){var G=z.next,Q=fe(z,w);Q===0?(z.next=null,N===null?zp=G:N.next=G,G===null&&(Qh=N)):(N=z,(_!==0||(Q&3)!==0)&&(ag=!0)),z=G}ze(_)}function fe(_,w){for(var N=_.suspendedLanes,z=_.pingedLanes,G=_.expirationTimes,Q=_.pendingLanes&-62914561;0<Q;){var ve=31-Zs(Q),Oe=1<<ve,Ze=G[ve];Ze===-1?((Oe&N)===0||(Oe&z)!==0)&&(G[ve]=R(Oe,w)):Ze<=w&&(_.expiredLanes|=Oe),Q&=~Oe}if(w=cn,N=sn,N=E(_,_===w?N:0),z=_.callbackNode,N===0||_===w&&ta===2||_.cancelPendingCommit!==null)return z!==null&&z!==null&&Jv(z),_.callbackNode=null,_.callbackPriority=0;if((N&3)===0||M(_,N)){if(w=N&-N,w===_.callbackPriority)return w;switch(z!==null&&Jv(z),q(N)){case 2:case 8:N=ZE;break;case 32:N=fx;break;case 268435456:N=hx;break;default:N=fx}return z=ie.bind(null,_),N=Op(N,z),_.callbackPriority=w,_.callbackNode=N,w}return z!==null&&z!==null&&Jv(z),_.callbackPriority=2,_.callbackNode=null,2}function ie(_,w){var N=_.callbackNode;if(Ai()&&_.callbackNode!==N)return null;var z=sn;return z=E(_,_===cn?z:0),z===0?null:(kv(_,z,w),fe(_,Hi()),_.callbackNode!=null&&_.callbackNode===N?ie.bind(null,_):null)}function Re(_,w){if(Ai())return null;kv(_,w,!0)}function je(_){Za?ex(function(){(_r&6)!==0?Op(RS,_):_()}):Op(RS,_)}function it(){return Pf===0&&(Pf=L()),Pf}function Ge(_,w){if(ig===null){var N=ig=[];px=0,$s=it(),Bf={status:"pending",value:void 0,then:function(z){N.push(z)}}}return px++,w.then(Bt,Bt),w}function Bt(){if(--px===0&&ig!==null){Bf!==null&&(Bf.status="fulfilled");var _=ig;ig=null,$s=0,Bf=null;for(var w=0;w<_.length;w++)(0,_[w])()}}function pt(_,w){var N=[],z={status:"pending",value:null,reason:null,then:function(G){N.push(G)}};return _.then(function(){z.status="fulfilled",z.value=w;for(var G=0;G<N.length;G++)(0,N[G])(w)},function(G){for(z.status="rejected",z.reason=G,G=0;G<N.length;G++)(0,N[G])(void 0)}),z}function Dt(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vt(_,w){_=_.updateQueue,w.updateQueue===_&&(w.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,callbacks:null})}function $e(_){return{lane:_,tag:0,payload:null,callback:null,next:null}}function yt(_,w,N){var z=_.updateQueue;if(z===null)return null;if(z=z.shared,(_r&2)!==0){var G=z.pending;return G===null?w.next=w:(w.next=G.next,G.next=w),z.pending=w,w=be(_),ue(_,null,N),w}return se(_,z,w,N),be(_)}function jt(_,w,N){if(w=w.updateQueue,w!==null&&(w=w.shared,(N&4194176)!==0)){var z=w.lanes;z&=_.pendingLanes,N|=z,w.lanes=N,F(_,N)}}function Ne(_,w){var N=_.updateQueue,z=_.alternate;if(z!==null&&(z=z.updateQueue,N===z)){var G=null,Q=null;if(N=N.firstBaseUpdate,N!==null){do{var ve={lane:N.lane,tag:N.tag,payload:N.payload,callback:null,next:null};Q===null?G=Q=ve:Q=Q.next=ve,N=N.next}while(N!==null);Q===null?G=Q=w:Q=Q.next=w}else G=Q=w;N={baseState:z.baseState,firstBaseUpdate:G,lastBaseUpdate:Q,shared:z.shared,callbacks:z.callbacks},_.updateQueue=N;return}_=N.lastBaseUpdate,_===null?N.firstBaseUpdate=w:_.next=w,N.lastBaseUpdate=w}function Ke(){if(Fp){var _=Bf;if(_!==null)throw _}}function At(_,w,N,z){Fp=!1;var G=_.updateQueue;Su=!1;var Q=G.firstBaseUpdate,ve=G.lastBaseUpdate,Oe=G.shared.pending;if(Oe!==null){G.shared.pending=null;var Ze=Oe,xt=Ze.next;Ze.next=null,ve===null?Q=xt:ve.next=xt,ve=Ze;var Ft=_.alternate;Ft!==null&&(Ft=Ft.updateQueue,Oe=Ft.lastBaseUpdate,Oe!==ve&&(Oe===null?Ft.firstBaseUpdate=xt:Oe.next=xt,Ft.lastBaseUpdate=Ze))}if(Q!==null){var Zt=G.baseState;ve=0,Ft=xt=Ze=null,Oe=Q;do{var tr=Oe.lane&-536870913,Hr=tr!==Oe.lane;if(Hr?(sn&tr)===tr:(z&tr)===tr){tr!==0&&tr===$s&&(Fp=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:Oe.tag,payload:Oe.payload,callback:null,next:null});e:{var to=_,cg=Oe;tr=w;var od=N;switch(cg.tag){case 1:if(to=cg.payload,typeof to=="function"){Zt=to.call(od,Zt,tr);break e}Zt=to;break e;case 3:to.flags=to.flags&-65537|128;case 0:if(to=cg.payload,tr=typeof to=="function"?to.call(od,Zt,tr):to,tr==null)break e;Zt=Xh({},Zt,tr);break e;case 2:Su=!0}}tr=Oe.callback,tr!==null&&(_.flags|=64,Hr&&(_.flags|=8192),Hr=G.callbacks,Hr===null?G.callbacks=[tr]:Hr.push(tr))}else Hr={lane:tr,tag:Oe.tag,payload:Oe.payload,callback:Oe.callback,next:null},Ft===null?(xt=Ft=Hr,Ze=Zt):Ft=Ft.next=Hr,ve|=tr;if(Oe=Oe.next,Oe===null){if(Oe=G.shared.pending,Oe===null)break;Hr=Oe,Oe=Hr.next,Hr.next=null,G.lastBaseUpdate=Hr,G.shared.pending=null}}while(!0);Ft===null&&(Ze=Zt),G.baseState=Ze,G.firstBaseUpdate=xt,G.lastBaseUpdate=Ft,Q===null&&(G.shared.lanes=0),Fo|=ve,_.lanes=ve,_.memoizedState=Zt}}function Ie(_,w){if(typeof _!="function")throw Error(a(191,_));_.call(w)}function Et(_,w){var N=_.callbacks;if(N!==null)for(_.callbacks=null,_=0;_<N.length;_++)Ie(N[_],w)}function Ct(_,w){if(No(_,w))return!0;if(typeof _!="object"||_===null||typeof w!="object"||w===null)return!1;var N=Object.keys(_),z=Object.keys(w);if(N.length!==z.length)return!1;for(z=0;z<N.length;z++){var G=N[z];if(!sg.call(w,G)||!No(_[G],w[G]))return!1}return!0}function _t(_){return _=_.status,_==="fulfilled"||_==="rejected"}function vt(){}function ht(_,w,N){switch(N=_[N],N===void 0?_.push(w):N!==w&&(w.then(vt,vt),w=N),w.status){case"fulfilled":return w.value;case"rejected":throw _=w.reason,_===Zn?Error(a(483)):_;default:if(typeof w.status=="string")w.then(vt,vt);else{if(_=cn,_!==null&&100<_.shellSuspendCounter)throw Error(a(482));_=w,_.status="pending",_.then(function(z){if(w.status==="pending"){var G=w;G.status="fulfilled",G.value=z}},function(z){if(w.status==="pending"){var G=w;G.status="rejected",G.reason=z}})}switch(w.status){case"fulfilled":return w.value;case"rejected":throw _=w.reason,_===Zn?Error(a(483)):_}throw ed=w,Zn}}function zt(){if(ed===null)throw Error(a(459));var _=ed;return ed=null,_}function Xt(_){var w=hl;return hl+=1,Ec===null&&(Ec=[]),ht(Ec,_,w)}function wr(_,w){w=w.props.ref,_.ref=w!==void 0?w:null}function Tr(_,w){throw w.$$typeof===Kb?Error(a(525)):(_=Object.prototype.toString.call(w),Error(a(31,_==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":_)))}function On(_){var w=_._init;return w(_._payload)}function an(_){function w(st,Xe){if(_){var lt=st.deletions;lt===null?(st.deletions=[Xe],st.flags|=16):lt.push(Xe)}}function N(st,Xe){if(!_)return null;for(;Xe!==null;)w(st,Xe),Xe=Xe.sibling;return null}function z(st){for(var Xe=new Map;st!==null;)st.key!==null?Xe.set(st.key,st):Xe.set(st.index,st),st=st.sibling;return Xe}function G(st,Xe){return st=cs(st,Xe),st.index=0,st.sibling=null,st}function Q(st,Xe,lt){return st.index=lt,_?(lt=st.alternate,lt!==null?(lt=lt.index,lt<Xe?(st.flags|=33554434,Xe):lt):(st.flags|=33554434,Xe)):(st.flags|=1048576,Xe)}function ve(st){return _&&st.alternate===null&&(st.flags|=33554434),st}function Oe(st,Xe,lt,Pt){return Xe===null||Xe.tag!==6?(Xe=Mf(lt,st.mode,Pt),Xe.return=st,Xe):(Xe=G(Xe,lt),Xe.return=st,Xe)}function Ze(st,Xe,lt,Pt){var mr=lt.type;return mr===Cp?Ft(st,Xe,lt.props.children,Pt,lt.key):Xe!==null&&(Xe.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===Ol&&On(mr)===Xe.type)?(Xe=G(Xe,lt.props),wr(Xe,lt),Xe.return=st,Xe):(Xe=ll(lt.type,lt.key,lt.props,null,st.mode,Pt),wr(Xe,lt),Xe.return=st,Xe)}function xt(st,Xe,lt,Pt){return Xe===null||Xe.tag!==4||Xe.stateNode.containerInfo!==lt.containerInfo||Xe.stateNode.implementation!==lt.implementation?(Xe=Mp(lt,st.mode,Pt),Xe.return=st,Xe):(Xe=G(Xe,lt.children||[]),Xe.return=st,Xe)}function Ft(st,Xe,lt,Pt,mr){return Xe===null||Xe.tag!==7?(Xe=gu(lt,st.mode,Pt,mr),Xe.return=st,Xe):(Xe=G(Xe,lt),Xe.return=st,Xe)}function Zt(st,Xe,lt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Xe=Mf(""+Xe,st.mode,lt),Xe.return=st,Xe;if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case mu:return lt=ll(Xe.type,Xe.key,Xe.props,null,st.mode,lt),wr(lt,Xe),lt.return=st,lt;case Ll:return Xe=Mp(Xe,st.mode,lt),Xe.return=st,Xe;case Ol:var Pt=Xe._init;return Xe=Pt(Xe._payload),Zt(st,Xe,lt)}if(Nf(Xe)||i(Xe))return Xe=gu(Xe,st.mode,lt,null),Xe.return=st,Xe;if(typeof Xe.then=="function")return Zt(st,Xt(Xe),lt);if(Xe.$$typeof===_c)return Zt(st,Rv(st,Xe),lt);Tr(st,Xe)}return null}function tr(st,Xe,lt,Pt){var mr=Xe!==null?Xe.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return mr!==null?null:Oe(st,Xe,""+lt,Pt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case mu:return lt.key===mr?Ze(st,Xe,lt,Pt):null;case Ll:return lt.key===mr?xt(st,Xe,lt,Pt):null;case Ol:return mr=lt._init,lt=mr(lt._payload),tr(st,Xe,lt,Pt)}if(Nf(lt)||i(lt))return mr!==null?null:Ft(st,Xe,lt,Pt,null);if(typeof lt.then=="function")return tr(st,Xe,Xt(lt),Pt);if(lt.$$typeof===_c)return tr(st,Xe,Rv(st,lt),Pt);Tr(st,lt)}return null}function Hr(st,Xe,lt,Pt,mr){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return st=st.get(lt)||null,Oe(Xe,st,""+Pt,mr);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case mu:return st=st.get(Pt.key===null?lt:Pt.key)||null,Ze(Xe,st,Pt,mr);case Ll:return st=st.get(Pt.key===null?lt:Pt.key)||null,xt(Xe,st,Pt,mr);case Ol:var ha=Pt._init;return Pt=ha(Pt._payload),Hr(st,Xe,lt,Pt,mr)}if(Nf(Pt)||i(Pt))return st=st.get(lt)||null,Ft(Xe,st,Pt,mr,null);if(typeof Pt.then=="function")return Hr(st,Xe,lt,Xt(Pt),mr);if(Pt.$$typeof===_c)return Hr(st,Xe,lt,Rv(Xe,Pt),mr);Tr(Xe,Pt)}return null}function to(st,Xe,lt,Pt){for(var mr=null,ha=null,Or=Xe,Cn=Xe=0,pi=null;Or!==null&&Cn<lt.length;Cn++){Or.index>Cn?(pi=Or,Or=null):pi=Or.sibling;var Dn=tr(st,Or,lt[Cn],Pt);if(Dn===null){Or===null&&(Or=pi);break}_&&Or&&Dn.alternate===null&&w(st,Or),Xe=Q(Dn,Xe,Cn),ha===null?mr=Dn:ha.sibling=Dn,ha=Dn,Or=pi}if(Cn===lt.length)return N(st,Or),En&&re(st,Cn),mr;if(Or===null){for(;Cn<lt.length;Cn++)Or=Zt(st,lt[Cn],Pt),Or!==null&&(Xe=Q(Or,Xe,Cn),ha===null?mr=Or:ha.sibling=Or,ha=Or);return En&&re(st,Cn),mr}for(Or=z(Or);Cn<lt.length;Cn++)pi=Hr(Or,st,Cn,lt[Cn],Pt),pi!==null&&(_&&pi.alternate!==null&&Or.delete(pi.key===null?Cn:pi.key),Xe=Q(pi,Xe,Cn),ha===null?mr=pi:ha.sibling=pi,ha=pi);return _&&Or.forEach(function(Du){return w(st,Du)}),En&&re(st,Cn),mr}function cg(st,Xe,lt,Pt){if(lt==null)throw Error(a(151));for(var mr=null,ha=null,Or=Xe,Cn=Xe=0,pi=null,Dn=lt.next();Or!==null&&!Dn.done;Cn++,Dn=lt.next()){Or.index>Cn?(pi=Or,Or=null):pi=Or.sibling;var Du=tr(st,Or,Dn.value,Pt);if(Du===null){Or===null&&(Or=pi);break}_&&Or&&Du.alternate===null&&w(st,Or),Xe=Q(Du,Xe,Cn),ha===null?mr=Du:ha.sibling=Du,ha=Du,Or=pi}if(Dn.done)return N(st,Or),En&&re(st,Cn),mr;if(Or===null){for(;!Dn.done;Cn++,Dn=lt.next())Dn=Zt(st,Dn.value,Pt),Dn!==null&&(Xe=Q(Dn,Xe,Cn),ha===null?mr=Dn:ha.sibling=Dn,ha=Dn);return En&&re(st,Cn),mr}for(Or=z(Or);!Dn.done;Cn++,Dn=lt.next())Dn=Hr(Or,st,Cn,Dn.value,Pt),Dn!==null&&(_&&Dn.alternate!==null&&Or.delete(Dn.key===null?Cn:Dn.key),Xe=Q(Dn,Xe,Cn),ha===null?mr=Dn:ha.sibling=Dn,ha=Dn);return _&&Or.forEach(function(Tx){return w(st,Tx)}),En&&re(st,Cn),mr}function od(st,Xe,lt,Pt){if(typeof lt=="object"&&lt!==null&&lt.type===Cp&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case mu:e:{for(var mr=lt.key;Xe!==null;){if(Xe.key===mr){if(mr=lt.type,mr===Cp){if(Xe.tag===7){N(st,Xe.sibling),Pt=G(Xe,lt.props.children),Pt.return=st,st=Pt;break e}}else if(Xe.elementType===mr||typeof mr=="object"&&mr!==null&&mr.$$typeof===Ol&&On(mr)===Xe.type){N(st,Xe.sibling),Pt=G(Xe,lt.props),wr(Pt,lt),Pt.return=st,st=Pt;break e}N(st,Xe);break}else w(st,Xe);Xe=Xe.sibling}lt.type===Cp?(Pt=gu(lt.props.children,st.mode,Pt,lt.key),Pt.return=st,st=Pt):(Pt=ll(lt.type,lt.key,lt.props,null,st.mode,Pt),wr(Pt,lt),Pt.return=st,st=Pt)}return ve(st);case Ll:e:{for(mr=lt.key;Xe!==null;){if(Xe.key===mr)if(Xe.tag===4&&Xe.stateNode.containerInfo===lt.containerInfo&&Xe.stateNode.implementation===lt.implementation){N(st,Xe.sibling),Pt=G(Xe,lt.children||[]),Pt.return=st,st=Pt;break e}else{N(st,Xe);break}else w(st,Xe);Xe=Xe.sibling}Pt=Mp(lt,st.mode,Pt),Pt.return=st,st=Pt}return ve(st);case Ol:return mr=lt._init,lt=mr(lt._payload),od(st,Xe,lt,Pt)}if(Nf(lt))return to(st,Xe,lt,Pt);if(i(lt)){if(mr=i(lt),typeof mr!="function")throw Error(a(150));return lt=mr.call(lt),cg(st,Xe,lt,Pt)}if(typeof lt.then=="function")return od(st,Xe,Xt(lt),Pt);if(lt.$$typeof===_c)return od(st,Xe,Rv(st,lt),Pt);Tr(st,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,Xe!==null&&Xe.tag===6?(N(st,Xe.sibling),Pt=G(Xe,lt),Pt.return=st,st=Pt):(N(st,Xe),Pt=Mf(lt,st.mode,Pt),Pt.return=st,st=Pt),ve(st)):N(st,Xe)}return function(st,Xe,lt,Pt){try{hl=0;var mr=od(st,Xe,lt,Pt);return Ec=null,mr}catch(Or){if(Or===Zn)throw Or;var ha=t(29,Or,null,st.mode);return ha.lanes=Pt,ha.return=st,ha}finally{}}}function as(_,w){_=zl,b(Po,_),b(Mc,w),zl=_|w.baseLanes}function Ma(){b(Po,zl),b(Mc,Mc.current)}function li(){zl=Po.current,y(Mc),y(Po)}function ua(_){var w=_.alternate;b(Ka,Ka.current&1),b(Bo,_),dl===null&&(w===null||Mc.current!==null||w.memoizedState!==null)&&(dl=_)}function is(_){if(_.tag===22){if(b(Ka,Ka.current),b(Bo,_),dl===null){var w=_.alternate;w!==null&&w.memoizedState!==null&&(dl=_)}}else he()}function he(){b(Ka,Ka.current),b(Bo,Bo.current)}function Te(_){y(Bo),dl===_&&(dl=null),y(Ka)}function ye(_){for(var w=_;w!==null;){if(w.tag===13){var N=w.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||ix(N)||qv(N)))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===_)break;for(;w.sibling===null;){if(w.return===null||w.return===_)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}function ge(){throw Error(a(321))}function Ae(_,w){if(w===null)return!1;for(var N=0;N<w.length&&N<_.length;N++)if(!No(_[N],w[N]))return!1;return!0}function De(_,w,N,z,G,Q){return Cc=Q,Jr=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,Dr.H=_===null||_.memoizedState===null?$a:hs,wu=!1,Q=N(z,G),wu=!1,ba&&(Q=gt(w,N,z,G)),Je(_),Q}function Je(_){Dr.H=Mn;var w=zn!==null&&zn.next!==null;if(Cc=0,za=zn=Jr=null,pl=!1,Ia=0,Up=null,w)throw Error(a(300));_===null||Fa||(_=_.dependencies,_!==null&&gf(_)&&(Fa=!0))}function gt(_,w,N,z){Jr=_;var G=0;do{if(ba&&(Up=null),Ia=0,ba=!1,25<=G)throw Error(a(301));if(G+=1,za=zn=null,_.updateQueue!=null){var Q=_.updateQueue;Q.lastEffect=null,Q.events=null,Q.stores=null,Q.memoCache!=null&&(Q.memoCache.index=0)}Dr.H=Ff,Q=w(N,z)}while(ba);return Q}function Qe(){var _=Dr.H,w=_.useState()[0];return w=typeof w.then=="function"?Ce(w):w,_=_.useState()[0],(zn!==null?zn.memoizedState:null)!==_&&(Jr.flags|=1024),w}function tt(){var _=og!==0;return og=0,_}function at(_,w,N){w.updateQueue=_.updateQueue,w.flags&=-2053,_.lanes&=~N}function Rt(_){if(pl){for(_=_.memoizedState;_!==null;){var w=_.queue;w!==null&&(w.pending=null),_=_.next}pl=!1}Cc=0,za=zn=Jr=null,ba=!1,Ia=og=0,Up=null}function Lt(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return za===null?Jr.memoizedState=za=_:za=za.next=_,za}function le(){if(zn===null){var _=Jr.alternate;_=_!==null?_.memoizedState:null}else _=zn.next;var w=za===null?Jr.memoizedState:za.next;if(w!==null)za=w,zn=_;else{if(_===null)throw Jr.alternate===null?Error(a(467)):Error(a(310));zn=_,_={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},za===null?Jr.memoizedState=za=_:za=za.next=_}return za}function Ce(_){var w=Ia;return Ia+=1,Up===null&&(Up=[]),_=ht(Up,_,w),w=Jr,(za===null?w.memoizedState:za.next)===null&&(w=w.alternate,Dr.H=w===null||w.memoizedState===null?$a:hs),_}function Pe(_){if(_!==null&&typeof _=="object"){if(typeof _.then=="function")return Ce(_);if(_.$$typeof===_c)return zi(_)}throw Error(a(438,String(_)))}function Ue(_){var w=null,N=Jr.updateQueue;if(N!==null&&(w=N.memoCache),w==null){var z=Jr.alternate;z!==null&&(z=z.updateQueue,z!==null&&(z=z.memoCache,z!=null&&(w={data:z.data.map(function(G){return G.slice()}),index:0})))}if(w==null&&(w={data:[],index:0}),N===null&&(N=gx(),Jr.updateQueue=N),N.memoCache=w,N=w.data[w.index],N===void 0)for(N=w.data[w.index]=Array(_),z=0;z<_;z++)N[z]=TE;return w.index++,N}function Fe(_,w){return typeof w=="function"?w(_):w}function wt(_){var w=le();return kt(w,zn,_)}function kt(_,w,N){var z=_.queue;if(z===null)throw Error(a(311));z.lastRenderedReducer=N;var G=_.baseQueue,Q=z.pending;if(Q!==null){if(G!==null){var ve=G.next;G.next=Q.next,Q.next=ve}w.baseQueue=G=Q,z.pending=null}if(Q=_.baseState,G===null)_.memoizedState=Q;else{w=G.next;var Oe=ve=null,Ze=null,xt=w,Ft=!1;do{var Zt=xt.lane&-536870913;if(Zt!==xt.lane?(sn&Zt)===Zt:(Cc&Zt)===Zt){var tr=xt.revertLane;if(tr===0)Ze!==null&&(Ze=Ze.next={lane:0,revertLane:0,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null}),Zt===$s&&(Ft=!0);else if((Cc&tr)===tr){xt=xt.next,tr===$s&&(Ft=!0);continue}else Zt={lane:0,revertLane:xt.revertLane,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},Ze===null?(Oe=Ze=Zt,ve=Q):Ze=Ze.next=Zt,Jr.lanes|=tr,Fo|=tr;Zt=xt.action,wu&&N(Q,Zt),Q=xt.hasEagerState?xt.eagerState:N(Q,Zt)}else tr={lane:Zt,revertLane:xt.revertLane,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null},Ze===null?(Oe=Ze=tr,ve=Q):Ze=Ze.next=tr,Jr.lanes|=Zt,Fo|=Zt;xt=xt.next}while(xt!==null&&xt!==w);if(Ze===null?ve=Q:Ze.next=Oe,!No(Q,_.memoizedState)&&(Fa=!0,Ft&&(N=Bf,N!==null)))throw N;_.memoizedState=Q,_.baseState=ve,_.baseQueue=Ze,z.lastRenderedState=Q}return G===null&&(z.lanes=0),[_.memoizedState,z.dispatch]}function Wt(_){var w=le(),N=w.queue;if(N===null)throw Error(a(311));N.lastRenderedReducer=_;var z=N.dispatch,G=N.pending,Q=w.memoizedState;if(G!==null){N.pending=null;var ve=G=G.next;do Q=_(Q,ve.action),ve=ve.next;while(ve!==G);No(Q,w.memoizedState)||(Fa=!0),w.memoizedState=Q,w.baseQueue===null&&(w.baseState=Q),N.lastRenderedState=Q}return[Q,z]}function qt(_,w,N){var z=Jr,G=le(),Q=En;if(Q){if(N===void 0)throw Error(a(407));N=N()}else N=w();var ve=!No((zn||G).memoizedState,N);if(ve&&(G.memoizedState=N,Fa=!0),G=G.queue,_v(hr.bind(null,z,G,_),[_]),G.getSnapshot!==w||ve||za!==null&&za.memoizedState.tag&1){if(z.flags|=2048,Ca(9,vr.bind(null,z,G,N,w),{destroy:void 0},null),cn===null)throw Error(a(349));Q||(Cc&60)!==0||pr(z,w,N)}return N}function pr(_,w,N){_.flags|=16384,_={getSnapshot:w,value:N},w=Jr.updateQueue,w===null?(w=gx(),Jr.updateQueue=w,w.stores=[_]):(N=w.stores,N===null?w.stores=[_]:N.push(_))}function vr(_,w,N,z){w.value=N,w.getSnapshot=z,Cr(w)&&_n(_)}function hr(_,w,N){return N(function(){Cr(w)&&_n(_)})}function Cr(_){var w=_.getSnapshot;_=_.value;try{var N=w();return!No(_,N)}catch{return!0}}function _n(_){var w=oe(_,2);w!==null&&ls(w,_,2)}function bn(_){var w=Lt();if(typeof _=="function"){var N=_;if(_=N(),wu){Z(!0);try{N()}finally{Z(!1)}}}return w.memoizedState=w.baseState=_,w.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fe,lastRenderedState:_},w}function hn(_,w,N,z){return _.baseState=N,kt(_,zn,typeof z=="function"?z:Fe)}function Gn(_,w,N,z,G){if(Bh(_))throw Error(a(485));if(_=w.action,_!==null){var Q={payload:G,action:_,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ve){Q.listeners.push(ve)}};Dr.T!==null?N(!0):Q.isTransition=!1,z(Q),N=w.pending,N===null?(Q.next=w.pending=Q,Ar(w,Q)):(Q.next=N.next,w.pending=N.next=Q)}}function Ar(_,w){var N=w.action,z=w.payload,G=_.state;if(w.isTransition){var Q=Dr.T,ve={};Dr.T=ve;try{var Oe=N(G,z),Ze=Dr.S;Ze!==null&&Ze(ve,Oe),Qn(_,w,Oe)}catch(xt){qa(_,w,xt)}finally{Dr.T=Q}}else try{Q=N(G,z),Qn(_,w,Q)}catch(xt){qa(_,w,xt)}}function Qn(_,w,N){N!==null&&typeof N=="object"&&typeof N.then=="function"?N.then(function(z){dn(_,w,z)},function(z){return qa(_,w,z)}):dn(_,w,N)}function dn(_,w,N){w.status="fulfilled",w.value=N,ou(w),_.state=N,w=_.pending,w!==null&&(N=w.next,N===w?_.pending=null:(N=N.next,w.next=N,Ar(_,N)))}function qa(_,w,N){var z=_.pending;if(_.pending=null,z!==null){z=z.next;do w.status="rejected",w.reason=N,ou(w),w=w.next;while(w!==z)}_.action=null}function ou(_){_=_.listeners;for(var w=0;w<_.length;w++)(0,_[w])()}function na(_,w){return w}function hc(_,w){if(En){var N=cn.formState;if(N!==null){e:{var z=Jr;if(En){if(Gi){var G=NE(Gi,fl);if(G){Gi=yS(G),z=IE(G);break e}}Se(z)}z=!1}z&&(w=N[0])}}N=Lt(),N.memoizedState=N.baseState=w,z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:w},N.queue=z,N=My.bind(null,Jr,z),z.dispatch=N,z=bn(!1);var Q=Cy.bind(null,Jr,!1,z.queue);return z=Lt(),G={state:w,dispatch:null,action:_,pending:null},z.queue=G,N=Gn.bind(null,Jr,G,Q,N),G.dispatch=N,z.memoizedState=_,[w,N,!1]}function aa(_){var w=le();return ci(w,zn,_)}function ci(_,w,N){w=kt(_,w,na)[0],_=wt(Fe)[0],w=typeof w=="object"&&w!==null&&typeof w.then=="function"?Ce(w):w;var z=le(),G=z.queue,Q=G.dispatch;return N!==z.memoizedState&&(Jr.flags|=2048,Ca(9,ui.bind(null,G,N),{destroy:void 0},null)),[w,Q,_]}function ui(_,w){_.action=w}function fi(_){var w=le(),N=zn;if(N!==null)return ci(w,N,_);le(),w=w.memoizedState,N=le();var z=N.queue.dispatch;return N.memoizedState=_,[w,z,!1]}function Ca(_,w,N,z){return _={tag:_,create:w,inst:N,deps:z,next:null},w=Jr.updateQueue,w===null&&(w=gx(),Jr.updateQueue=w),N=w.lastEffect,N===null?w.lastEffect=_.next=_:(z=N.next,N.next=_,_.next=z,w.lastEffect=_),_}function Dl(){return le().memoizedState}function ol(_,w,N,z){var G=Lt();Jr.flags|=_,G.memoizedState=Ca(1|w,N,{destroy:void 0},z===void 0?null:z)}function xv(_,w,N,z){var G=le();z=z===void 0?null:z;var Q=G.memoizedState.inst;zn!==null&&z!==null&&Ae(z,zn.memoizedState.deps)?G.memoizedState=Ca(w,N,Q,z):(Jr.flags|=_,G.memoizedState=Ca(1|w,N,Q,z))}function bb(_,w){ol(8390656,8,_,w)}function _v(_,w){xv(2048,8,_,w)}function QA(_,w){return xv(4,2,_,w)}function eE(_,w){return xv(4,4,_,w)}function bv(_,w){if(typeof w=="function"){_=_();var N=w(_);return function(){typeof N=="function"?N():w(null)}}if(w!=null)return _=_(),w.current=_,function(){w.current=null}}function dc(_,w,N){N=N!=null?N.concat([_]):null,xv(4,4,bv.bind(null,w,_),N)}function Sv(){}function Ty(_,w){var N=le();w=w===void 0?null:w;var z=N.memoizedState;return w!==null&&Ae(w,z[1])?z[0]:(N.memoizedState=[_,w],_)}function kh(_,w){var N=le();w=w===void 0?null:w;var z=N.memoizedState;if(w!==null&&Ae(w,z[1]))return z[0];if(z=_(),wu){Z(!0);try{_()}finally{Z(!1)}}return N.memoizedState=[z,w],z}function ff(_,w,N){return N===void 0||(Cc&1073741824)!==0?_.memoizedState=w:(_.memoizedState=N,_=gc(),Jr.lanes|=_,Fo|=_,N)}function Sb(_,w,N,z){return No(N,w)?N:Mc.current!==null?(_=ff(_,N,z),No(_,w)||(Fa=!0),_):(Cc&42)===0?(Fa=!0,_.memoizedState=N):(_=gc(),Jr.lanes|=_,Fo|=_,w)}function Ay(_,w,N,z,G){var Q=hi();us(Q!==0&&8>Q?Q:8);var ve=Dr.T,Oe={};Dr.T=Oe,Cy(_,!1,w,N);try{var Ze=G(),xt=Dr.S;if(xt!==null&&xt(Oe,Ze),Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"){var Ft=pt(Ze,z);df(_,w,Ft,Ms(_))}else df(_,w,z,Ms(_))}catch(Zt){df(_,w,{then:function(){},status:"rejected",reason:Zt},Ms())}finally{us(Q),Dr.T=ve}}function wb(_){var w=_.memoizedState;if(w!==null)return w;w={memoizedState:qs,baseState:qs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fe,lastRenderedState:qs},next:null};var N={};return w.next={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fe,lastRenderedState:N},next:null},_.memoizedState=w,_=_.alternate,_!==null&&(_.memoizedState=w),w}function Ph(){return zi(Lr)}function pc(){return le().memoizedState}function Ey(){return le().memoizedState}function wv(_){for(var w=_.return;w!==null;){switch(w.tag){case 24:case 3:var N=Ms();_=$e(N);var z=yt(w,_,N);z!==null&&(ls(z,w,N),jt(z,w,N)),w={cache:Ly()},_.payload=w;return}w=w.return}}function hf(_,w,N){var z=Ms();N={lane:z,revertLane:0,action:N,hasEagerState:!1,eagerState:null,next:null},Bh(_)?Tv(w,N):(N=_e(_,w,N,z),N!==null&&(ls(N,_,z),Tb(N,w,z)))}function My(_,w,N){var z=Ms();df(_,w,N,z)}function df(_,w,N,z){var G={lane:z,revertLane:0,action:N,hasEagerState:!1,eagerState:null,next:null};if(Bh(_))Tv(w,G);else{var Q=_.alternate;if(_.lanes===0&&(Q===null||Q.lanes===0)&&(Q=w.lastRenderedReducer,Q!==null))try{var ve=w.lastRenderedState,Oe=Q(ve,N);if(G.hasEagerState=!0,G.eagerState=Oe,No(Oe,ve))return se(_,w,G,0),cn===null&&K(),!1}catch{}finally{}if(N=_e(_,w,G,z),N!==null)return ls(N,_,z),Tb(N,w,z),!0}return!1}function Cy(_,w,N,z){if(z={lane:2,revertLane:it(),action:z,hasEagerState:!1,eagerState:null,next:null},Bh(_)){if(w)throw Error(a(479))}else w=_e(_,N,z,2),w!==null&&ls(w,_,2)}function Bh(_){var w=_.alternate;return _===Jr||w!==null&&w===Jr}function Tv(_,w){ba=pl=!0;var N=_.pending;N===null?w.next=w:(w.next=N.next,N.next=w),_.pending=w}function Tb(_,w,N){if((N&4194176)!==0){var z=w.lanes;z&=_.pendingLanes,N|=z,w.lanes=N,F(_,N)}}function ss(_,w,N,z){w=_.memoizedState,N=N(z,w),N=N==null?w:Xh({},w,N),_.memoizedState=N,_.lanes===0&&(_.updateQueue.baseState=N)}function pf(_,w,N,z,G,Q,ve){return _=_.stateNode,typeof _.shouldComponentUpdate=="function"?_.shouldComponentUpdate(z,Q,ve):w.prototype&&w.prototype.isPureReactComponent?!Ct(N,z)||!Ct(G,Q):!0}function Av(_,w,N,z){_=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(N,z),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(N,z),w.state!==_&&mx.enqueueReplaceState(w,w.state,null)}function Rl(_,w){var N=w;if("ref"in w){N={};for(var z in w)z!=="ref"&&(N[z]=w[z])}if(_=_.defaultProps){N===w&&(N=Xh({},N));for(var G in _)N[G]===void 0&&(N[G]=_[G])}return N}function Dy(_,w){try{var N=_.onUncaughtError;N(w.value,{componentStack:w.stack})}catch(z){setTimeout(function(){throw z})}}function Ry(_,w,N){try{var z=_.onCaughtError;z(N.value,{componentStack:N.stack,errorBoundary:w.tag===1?w.stateNode:null})}catch(G){setTimeout(function(){throw G})}}function Ev(_,w,N){return N=$e(N),N.tag=3,N.payload={element:null},N.callback=function(){Dy(_,w)},N}function dp(_){return _=$e(_),_.tag=3,_}function Mv(_,w,N,z){var G=N.type.getDerivedStateFromError;if(typeof G=="function"){var Q=z.value;_.payload=function(){return G(Q)},_.callback=function(){Ry(w,N,z)}}var ve=N.stateNode;ve!==null&&typeof ve.componentDidCatch=="function"&&(_.callback=function(){Ry(w,N,z),typeof G!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var Oe=z.stack;this.componentDidCatch(z.value,{componentStack:Oe!==null?Oe:""})})}function tE(_,w,N,z,G){if(N.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){if(w=N.alternate,w!==null&&zh(w,N,G,!0),N=Bo.current,N!==null){switch(N.tag){case 13:return dl===null?Xs():N.alternate===null&&wn===0&&(wn=3),N.flags&=-257,N.flags|=65536,N.lanes=G,z===vx?N.flags|=16384:(w=N.updateQueue,w===null?N.updateQueue=new Set([z]):w.add(z),Xy(_,z,G)),!1;case 22:return N.flags|=65536,z===vx?N.flags|=16384:(w=N.updateQueue,w===null?(w={transitions:null,markerInstances:null,retryQueue:new Set([z])},N.updateQueue=w):(N=w.retryQueue,N===null?w.retryQueue=new Set([z]):N.add(z)),Xy(_,z,G)),!1}throw Error(a(435,N.tag))}return Xy(_,z,G),Xs(),!1}if(En)return w=Bo.current,w!==null?((w.flags&65536)===0&&(w.flags|=256),w.flags|=65536,w.lanes=G,z!==rg&&(_=Error(a(422),{cause:z}),dt(Y(_,N)))):(z!==rg&&(w=Error(a(423),{cause:z}),dt(Y(w,N))),_=_.current.alternate,_.flags|=65536,G&=-G,_.lanes|=G,z=Y(z,N),G=Ev(_.stateNode,z,G),Ne(_,G),wn!==4&&(wn=2)),!1;var Q=Error(a(520),{cause:z});if(Q=Y(Q,N),Hp===null?Hp=[Q]:Hp.push(Q),wn!==4&&(wn=2),w===null)return!0;z=Y(z,N),N=w;do{switch(N.tag){case 3:return N.flags|=65536,_=G&-G,N.lanes|=_,_=Ev(N.stateNode,z,_),Ne(N,_),!1;case 1:if(w=N.type,Q=N.stateNode,(N.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Vo===null||!Vo.has(Q))))return N.flags|=65536,G&=-G,N.lanes|=G,G=dp(G),Mv(G,_,N,z),Ne(N,G),!1}N=N.return}while(N!==null);return!1}function Bi(_,w,N,z){w.child=_===null?LS(w,null,N,z):zf(w,_.child,N,z)}function rE(_,w,N,z,G){N=N.render;var Q=w.ref;if("ref"in z){var ve={};for(var Oe in z)Oe!=="ref"&&(ve[Oe]=z[Oe])}else ve=z;return Fh(w),z=De(_,w,N,ve,Q,G),Oe=tt(),_!==null&&!Fa?(at(_,w,G),lu(_,w,G)):(En&&Oe&&j(w),w.flags|=1,Bi(_,w,z,G),w.child)}function nE(_,w,N,z,G){if(_===null){var Q=N.type;return typeof Q=="function"&&!pu(Q)&&Q.defaultProps===void 0&&N.compare===null?(w.tag=15,w.type=Q,Ny(_,w,Q,z,G)):(_=ll(N.type,null,z,w,w.mode,G),_.ref=w.ref,_.return=w,w.child=_)}if(Q=_.child,!Nb(_,G)){var ve=Q.memoizedProps;if(N=N.compare,N=N!==null?N:Ct,N(ve,z)&&_.ref===w.ref)return lu(_,w,G)}return w.flags|=1,_=cs(Q,z),_.ref=w.ref,_.return=w,w.child=_}function Ny(_,w,N,z,G){if(_!==null){var Q=_.memoizedProps;if(Ct(Q,z)&&_.ref===w.ref)if(Fa=!1,w.pendingProps=z=Q,Nb(_,G))(_.flags&131072)!==0&&(Fa=!0);else return w.lanes=_.lanes,lu(_,w,G)}return Ab(_,w,N,z,G)}function aE(_,w,N){var z=w.pendingProps,G=z.children,Q=(w.stateNode._pendingVisibility&2)!==0,ve=_!==null?_.memoizedState:null;if(Cv(_,w),z.mode==="hidden"||Q){if((w.flags&128)!==0){if(z=ve!==null?ve.baseLanes|N:N,_!==null){for(G=w.child=_.child,Q=0;G!==null;)Q=Q|G.lanes|G.childLanes,G=G.sibling;w.childLanes=Q&~z}else w.childLanes=0,w.child=null;return iE(_,w,z,N)}if((N&536870912)!==0)w.memoizedState={baseLanes:0,cachePool:null},_!==null&&Oy(w,ve!==null?ve.cachePool:null),ve!==null?as(w,ve):Ma(),is(w);else return w.lanes=w.childLanes=536870912,iE(_,w,ve!==null?ve.baseLanes|N:N,N)}else ve!==null?(Oy(w,ve.cachePool),as(w,ve),he(),w.memoizedState=null):(_!==null&&Oy(w,null),Ma(),he());return Bi(_,w,G,N),w.child}function iE(_,w,N,z){var G=mf();return G=G===null?null:{parent:Sc?jn._currentValue:jn._currentValue2,pool:G},w.memoizedState={baseLanes:N,cachePool:G},_!==null&&Oy(w,null),Ma(),is(w),_!==null&&zh(_,w,z,!0),null}function Cv(_,w){var N=w.ref;if(N===null)_!==null&&_.ref!==null&&(w.flags|=2097664);else{if(typeof N!="function"&&typeof N!="object")throw Error(a(284));(_===null||_.ref!==N)&&(w.flags|=2097664)}}function Ab(_,w,N,z,G){return Fh(w),N=De(_,w,N,z,void 0,G),z=tt(),_!==null&&!Fa?(at(_,w,G),lu(_,w,G)):(En&&z&&j(w),w.flags|=1,Bi(_,w,N,G),w.child)}function sE(_,w,N,z,G,Q){return Fh(w),w.updateQueue=null,N=gt(w,z,N,G),Je(_),z=tt(),_!==null&&!Fa?(at(_,w,Q),lu(_,w,Q)):(En&&z&&j(w),w.flags|=1,Bi(_,w,N,Q),w.child)}function Eb(_,w,N,z,G){if(Fh(w),w.stateNode===null){var Q=Jh,ve=N.contextType;typeof ve=="object"&&ve!==null&&(Q=zi(ve)),Q=new N(z,Q),w.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Q.updater=mx,w.stateNode=Q,Q._reactInternals=w,Q=w.stateNode,Q.props=z,Q.state=w.memoizedState,Q.refs={},Dt(w),ve=N.contextType,Q.context=typeof ve=="object"&&ve!==null?zi(ve):Jh,Q.state=w.memoizedState,ve=N.getDerivedStateFromProps,typeof ve=="function"&&(ss(w,N,ve,z),Q.state=w.memoizedState),typeof N.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(ve=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),ve!==Q.state&&mx.enqueueReplaceState(Q,Q.state,null),At(w,z,Q,G),Ke(),Q.state=w.memoizedState),typeof Q.componentDidMount=="function"&&(w.flags|=4194308),z=!0}else if(_===null){Q=w.stateNode;var Oe=w.memoizedProps,Ze=Rl(N,Oe);Q.props=Ze;var xt=Q.context,Ft=N.contextType;ve=Jh,typeof Ft=="object"&&Ft!==null&&(ve=zi(Ft));var Zt=N.getDerivedStateFromProps;Ft=typeof Zt=="function"||typeof Q.getSnapshotBeforeUpdate=="function",Oe=w.pendingProps!==Oe,Ft||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(Oe||xt!==ve)&&Av(w,Q,z,ve),Su=!1;var tr=w.memoizedState;Q.state=tr,At(w,z,Q,G),Ke(),xt=w.memoizedState,Oe||tr!==xt||Su?(typeof Zt=="function"&&(ss(w,N,Zt,z),xt=w.memoizedState),(Ze=Su||pf(w,N,Ze,z,tr,xt,ve))?(Ft||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(w.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=z,w.memoizedState=xt),Q.props=z,Q.state=xt,Q.context=ve,z=Ze):(typeof Q.componentDidMount=="function"&&(w.flags|=4194308),z=!1)}else{Q=w.stateNode,Vt(_,w),ve=w.memoizedProps,Ft=Rl(N,ve),Q.props=Ft,Zt=w.pendingProps,tr=Q.context,xt=N.contextType,Ze=Jh,typeof xt=="object"&&xt!==null&&(Ze=zi(xt)),Oe=N.getDerivedStateFromProps,(xt=typeof Oe=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ve!==Zt||tr!==Ze)&&Av(w,Q,z,Ze),Su=!1,tr=w.memoizedState,Q.state=tr,At(w,z,Q,G),Ke();var Hr=w.memoizedState;ve!==Zt||tr!==Hr||Su||_!==null&&_.dependencies!==null&&gf(_.dependencies)?(typeof Oe=="function"&&(ss(w,N,Oe,z),Hr=w.memoizedState),(Ft=Su||pf(w,N,Ft,z,tr,Hr,Ze)||_!==null&&_.dependencies!==null&&gf(_.dependencies))?(xt||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(z,Hr,Ze),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(z,Hr,Ze)),typeof Q.componentDidUpdate=="function"&&(w.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ve===_.memoizedProps&&tr===_.memoizedState||(w.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ve===_.memoizedProps&&tr===_.memoizedState||(w.flags|=1024),w.memoizedProps=z,w.memoizedState=Hr),Q.props=z,Q.state=Hr,Q.context=Ze,z=Ft):(typeof Q.componentDidUpdate!="function"||ve===_.memoizedProps&&tr===_.memoizedState||(w.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ve===_.memoizedProps&&tr===_.memoizedState||(w.flags|=1024),z=!1)}return Q=z,Cv(_,w),z=(w.flags&128)!==0,Q||z?(Q=w.stateNode,N=z&&typeof N.getDerivedStateFromError!="function"?null:Q.render(),w.flags|=1,_!==null&&z?(w.child=zf(w,_.child,null,G),w.child=zf(w,null,N,G)):Bi(_,w,N,G),w.memoizedState=Q.state,_=w.child):_=lu(_,w,G),_}function oE(_,w,N,z){return de(),w.flags|=256,Bi(_,w,N,z),w.child}function Mb(_){return{baseLanes:_,cachePool:hE()}}function Cb(_,w,N){return _=_!==null?_.childLanes&~N:0,w&&(_|=eo),_}function lE(_,w,N){var z=w.pendingProps,G=!1,Q=(w.flags&128)!==0,ve;if((ve=Q)||(ve=_!==null&&_.memoizedState===null?!1:(Ka.current&2)!==0),ve&&(G=!0,w.flags&=-129),ve=(w.flags&32)!==0,w.flags&=-33,_===null){if(En){if(G?ua(w):he(),En){var Oe=Gi,Ze;(Ze=Oe)&&(Oe=BE(Oe,fl),Oe!==null?(w.memoizedState={dehydrated:Oe,treeContext:kl!==null?{id:Ac,overflow:ul}:null,retryLane:536870912},Ze=t(18,null,null,0),Ze.stateNode=Oe,Ze.return=w,w.child=Ze,fs=w,Gi=null,Ze=!0):Ze=!1),Ze||Se(w)}if(Oe=w.memoizedState,Oe!==null&&(Oe=Oe.dehydrated,Oe!==null))return qv(Oe)?w.lanes=16:w.lanes=536870912,null;Te(w)}return Oe=z.children,z=z.fallback,G?(he(),G=w.mode,Oe=Db({mode:"hidden",children:Oe},G),z=gu(z,G,N,null),Oe.return=w,z.return=w,Oe.sibling=z,w.child=Oe,G=w.child,G.memoizedState=Mb(N),G.childLanes=Cb(_,ve,N),w.memoizedState=ds,z):(ua(w),Dv(w,Oe))}if(Ze=_.memoizedState,Ze!==null&&(Oe=Ze.dehydrated,Oe!==null)){if(Q)w.flags&256?(ua(w),w.flags&=-257,w=Rb(_,w,N)):w.memoizedState!==null?(he(),w.child=_.child,w.flags|=128,w=null):(he(),G=z.fallback,Oe=w.mode,z=Db({mode:"visible",children:z.children},Oe),G=gu(G,Oe,N,null),G.flags|=2,z.return=w,G.return=w,z.sibling=G,w.child=z,zf(w,_.child,null,N),z=w.child,z.memoizedState=Mb(N),z.childLanes=Cb(_,ve,N),w.memoizedState=ds,w=G);else if(ua(w),qv(Oe))ve=RE(Oe).digest,z=Error(a(419)),z.stack="",z.digest=ve,dt({value:z,source:null,stack:null}),w=Rb(_,w,N);else if(Fa||zh(_,w,N,!1),ve=(N&_.childLanes)!==0,Fa||ve){if(ve=cn,ve!==null){if(z=N&-N,(z&42)!==0)z=1;else switch(z){case 2:z=1;break;case 8:z=4;break;case 32:z=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:z=64;break;case 268435456:z=134217728;break;default:z=0}if(z=(z&(ve.suspendedLanes|N))!==0?0:z,z!==0&&z!==Ze.retryLane)throw Ze.retryLane=z,oe(_,z),ls(ve,_,z),JE}ix(Oe)||Xs(),w=Rb(_,w,N)}else ix(Oe)?(w.flags|=128,w.child=_.child,w=Wh.bind(null,_),ML(Oe,w),w=null):(_=Ze.treeContext,Cs&&(Gi=OE(Oe),fs=w,En=!0,Oo=null,fl=!1,_!==null&&(Io[Lo++]=Ac,Io[Lo++]=ul,Io[Lo++]=kl,Ac=_.id,ul=_.overflow,kl=w)),w=Dv(w,z.children),w.flags|=4096);return w}return G?(he(),G=z.fallback,Oe=w.mode,Ze=_.child,Q=Ze.sibling,z=cs(Ze,{mode:"hidden",children:z.children}),z.subtreeFlags=Ze.subtreeFlags&31457280,Q!==null?G=cs(Q,G):(G=gu(G,Oe,N,null),G.flags|=2),G.return=w,z.return=w,z.sibling=G,w.child=z,z=G,G=w.child,Oe=_.child.memoizedState,Oe===null?Oe=Mb(N):(Ze=Oe.cachePool,Ze!==null?(Q=Sc?jn._currentValue:jn._currentValue2,Ze=Ze.parent!==Q?{parent:Q,pool:Q}:Ze):Ze=hE(),Oe={baseLanes:Oe.baseLanes|N,cachePool:Ze}),G.memoizedState=Oe,G.childLanes=Cb(_,ve,N),w.memoizedState=ds,z):(ua(w),N=_.child,_=N.sibling,N=cs(N,{mode:"visible",children:z.children}),N.return=w,N.sibling=null,_!==null&&(ve=w.deletions,ve===null?(w.deletions=[_],w.flags|=16):ve.push(_)),w.child=N,w.memoizedState=null,N)}function Dv(_,w){return w=Db({mode:"visible",children:w},_.mode),w.return=_,_.child=w}function Db(_,w){return qy(_,w,0,null)}function Rb(_,w,N){return zf(w,_.child,null,N),_=Dv(w,w.pendingProps.children),_.flags|=2,w.memoizedState=null,_}function cE(_,w,N){_.lanes|=w;var z=_.alternate;z!==null&&(z.lanes|=w),Ib(_.return,w,N)}function Iy(_,w,N,z,G){var Q=_.memoizedState;Q===null?_.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:z,tail:N,tailMode:G}:(Q.isBackwards=w,Q.rendering=null,Q.renderingStartTime=0,Q.last=z,Q.tail=N,Q.tailMode=G)}function uE(_,w,N){var z=w.pendingProps,G=z.revealOrder,Q=z.tail;if(Bi(_,w,z.children,N),z=Ka.current,(z&2)!==0)z=z&1|2,w.flags|=128;else{if(_!==null&&(_.flags&128)!==0)e:for(_=w.child;_!==null;){if(_.tag===13)_.memoizedState!==null&&cE(_,N,w);else if(_.tag===19)cE(_,N,w);else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===w)break e;for(;_.sibling===null;){if(_.return===null||_.return===w)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}z&=1}switch(b(Ka,z),G){case"forwards":for(N=w.child,G=null;N!==null;)_=N.alternate,_!==null&&ye(_)===null&&(G=N),N=N.sibling;N=G,N===null?(G=w.child,w.child=null):(G=N.sibling,N.sibling=null),Iy(w,!1,G,N,Q);break;case"backwards":for(N=null,G=w.child,w.child=null;G!==null;){if(_=G.alternate,_!==null&&ye(_)===null){w.child=G;break}_=G.sibling,G.sibling=N,N=G,G=_}Iy(w,!0,N,null,Q);break;case"together":Iy(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function lu(_,w,N){if(_!==null&&(w.dependencies=_.dependencies),Fo|=w.lanes,(N&w.childLanes)===0)if(_!==null){if(zh(_,w,N,!1),(N&w.childLanes)===0)return null}else return null;if(_!==null&&w.child!==_.child)throw Error(a(153));if(w.child!==null){for(_=w.child,N=cs(_,_.pendingProps),w.child=N,N.return=w;_.sibling!==null;)_=_.sibling,N=N.sibling=cs(_,_.pendingProps),N.return=w;N.sibling=null}return w.child}function Nb(_,w){return(_.lanes&w)!==0?!0:(_=_.dependencies,!!(_!==null&&gf(_)))}function TL(_,w,N){switch(w.tag){case 3:ee(w,w.stateNode.containerInfo),vf(w,jn,_.memoizedState.cache),de();break;case 27:case 5:ce(w);break;case 4:ee(w,w.stateNode.containerInfo);break;case 10:vf(w,w.type,w.memoizedProps.value);break;case 13:var z=w.memoizedState;if(z!==null)return z.dehydrated!==null?(ua(w),w.flags|=128,null):(N&w.child.childLanes)!==0?lE(_,w,N):(ua(w),_=lu(_,w,N),_!==null?_.sibling:null);ua(w);break;case 19:var G=(_.flags&128)!==0;if(z=(N&w.childLanes)!==0,z||(zh(_,w,N,!1),z=(N&w.childLanes)!==0),G){if(z)return uE(_,w,N);w.flags|=128}if(G=w.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),b(Ka,Ka.current),z)break;return null;case 22:case 23:return w.lanes=0,aE(_,w,N);case 24:vf(w,jn,_.memoizedState.cache)}return lu(_,w,N)}function fE(_,w,N){if(_!==null)if(_.memoizedProps!==w.pendingProps)Fa=!0;else{if(!Nb(_,N)&&(w.flags&128)===0)return Fa=!1,TL(_,w,N);Fa=(_.flags&131072)!==0}else Fa=!1,En&&(w.flags&1048576)!==0&&W(w,eg,w.index);switch(w.lanes=0,w.tag){case 16:e:{_=w.pendingProps;var z=w.elementType,G=z._init;if(z=G(z._payload),w.type=z,typeof z=="function")pu(z)?(_=Rl(z,_),w.tag=1,w=Eb(null,w,z,_,N)):(w.tag=0,w=Ab(null,w,z,_,N));else{if(z!=null){if(G=z.$$typeof,G===Dp){w.tag=11,w=rE(null,w,z,_,N);break e}else if(G===Uv){w.tag=14,w=nE(null,w,z,_,N);break e}}throw w=s(z)||z,Error(a(306,w,""))}}return w;case 0:return Ab(_,w,w.type,w.pendingProps,N);case 1:return z=w.type,G=Rl(z,w.pendingProps),Eb(_,w,z,G,N);case 3:e:{if(ee(w,w.stateNode.containerInfo),_===null)throw Error(a(387));var Q=w.pendingProps;G=w.memoizedState,z=G.element,Vt(_,w),At(w,Q,null,N);var ve=w.memoizedState;if(Q=ve.cache,vf(w,jn,Q),Q!==G.cache&&Lb(w,[jn],N,!0),Ke(),Q=ve.element,Cs&&G.isDehydrated)if(G={element:Q,isDehydrated:!1,cache:ve.cache},w.updateQueue.baseState=G,w.memoizedState=G,w.flags&256){w=oE(_,w,Q,N);break e}else if(Q!==z){z=Y(Error(a(424)),w),dt(z),w=oE(_,w,Q,N);break e}else for(Cs&&(Gi=LE(w.stateNode.containerInfo),fs=w,En=!0,Oo=null,fl=!0),N=LS(w,null,Q,N),w.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(de(),Q===z){w=lu(_,w,N);break e}Bi(_,w,Q,N)}w=w.child}return w;case 26:if(Ro)return Cv(_,w),_===null?(N=ux(w.type,null,w.pendingProps,null))?w.memoizedState=N:En||(w.stateNode=DL(w.type,w.pendingProps,Pl.current,w)):w.memoizedState=ux(w.type,_.memoizedProps,w.pendingProps,_.memoizedState),null;case 27:if(Vi)return ce(w),_===null&&Vi&&En&&(z=w.stateNode=DS(w.type,w.pendingProps,Pl.current,Mi.current,!1),fs=w,fl=!0,Gi=sx(z)),z=w.pendingProps.children,_!==null||En?Bi(_,w,z,N):w.child=zf(w,null,z,N),Cv(_,w),w.child;case 5:return _===null&&En&&(HE(w.type,w.pendingProps,Mi.current),(G=z=Gi)&&(z=kE(z,w.type,w.pendingProps,fl),z!==null?(w.stateNode=z,fs=w,Gi=sx(z),fl=!1,G=!0):G=!1),G||Se(w)),ce(w),G=w.type,Q=w.pendingProps,ve=_!==null?_.memoizedProps:null,z=Q.children,Lf(G,Q)?z=null:ve!==null&&Lf(G,ve)&&(w.flags|=32),w.memoizedState!==null&&(G=De(_,w,Qe,null,null,N),Sc?Lr._currentValue=G:Lr._currentValue2=G),Cv(_,w),Bi(_,w,z,N),w.child;case 6:return _===null&&En&&(GE(w.pendingProps,Mi.current),(_=N=Gi)&&(N=PE(N,w.pendingProps,fl),N!==null?(w.stateNode=N,fs=w,Gi=null,_=!0):_=!1),_||Se(w)),null;case 13:return lE(_,w,N);case 4:return ee(w,w.stateNode.containerInfo),z=w.pendingProps,_===null?w.child=zf(w,null,z,N):Bi(_,w,z,N),w.child;case 11:return rE(_,w,w.type,w.pendingProps,N);case 7:return Bi(_,w,w.pendingProps,N),w.child;case 8:return Bi(_,w,w.pendingProps.children,N),w.child;case 12:return Bi(_,w,w.pendingProps.children,N),w.child;case 10:return z=w.pendingProps,vf(w,w.type,z.value),Bi(_,w,z.children,N),w.child;case 9:return G=w.type._context,z=w.pendingProps.children,Fh(w),G=zi(G),z=z(G),w.flags|=1,Bi(_,w,z,N),w.child;case 14:return nE(_,w,w.type,w.pendingProps,N);case 15:return Ny(_,w,w.type,w.pendingProps,N);case 19:return uE(_,w,N);case 22:return aE(_,w,N);case 24:return Fh(w),z=zi(jn),_===null?(G=mf(),G===null&&(G=cn,Q=Ly(),G.pooledCache=Q,Q.refCount++,Q!==null&&(G.pooledCacheLanes|=N),G=Q),w.memoizedState={parent:z,cache:G},Dt(w),vf(w,jn,G)):((_.lanes&N)!==0&&(Vt(_,w),At(w,null,null,N),Ke()),G=_.memoizedState,Q=w.memoizedState,G.parent!==z?(G={parent:z,cache:z},w.memoizedState=G,w.lanes===0&&(w.memoizedState=w.updateQueue.baseState=G),vf(w,jn,z)):(z=Q.cache,vf(w,jn,z),z!==G.cache&&Lb(w,[jn],N,!0))),Bi(_,w,w.pendingProps.children,N),w.child;case 29:throw w.pendingProps}throw Error(a(156,w.tag))}function vf(_,w,N){Sc?(b(Js,w._currentValue),w._currentValue=N):(b(Js,w._currentValue2),w._currentValue2=N)}function cu(_){var w=Js.current;Sc?_._currentValue=w:_._currentValue2=w,y(Js)}function Ib(_,w,N){for(;_!==null;){var z=_.alternate;if((_.childLanes&w)!==w?(_.childLanes|=w,z!==null&&(z.childLanes|=w)):z!==null&&(z.childLanes&w)!==w&&(z.childLanes|=w),_===N)break;_=_.return}}function Lb(_,w,N,z){var G=_.child;for(G!==null&&(G.return=_);G!==null;){var Q=G.dependencies;if(Q!==null){var ve=G.child;Q=Q.firstContext;e:for(;Q!==null;){var Oe=Q;Q=G;for(var Ze=0;Ze<w.length;Ze++)if(Oe.context===w[Ze]){Q.lanes|=N,Oe=Q.alternate,Oe!==null&&(Oe.lanes|=N),Ib(Q.return,N,_),z||(ve=null);break e}Q=Oe.next}}else if(G.tag===18){if(ve=G.return,ve===null)throw Error(a(341));ve.lanes|=N,Q=ve.alternate,Q!==null&&(Q.lanes|=N),Ib(ve,N,_),ve=null}else ve=G.child;if(ve!==null)ve.return=G;else for(ve=G;ve!==null;){if(ve===_){ve=null;break}if(G=ve.sibling,G!==null){G.return=ve.return,ve=G;break}ve=ve.return}G=ve}}function zh(_,w,N,z){_=null;for(var G=w,Q=!1;G!==null;){if(!Q){if((G.flags&524288)!==0)Q=!0;else if((G.flags&262144)!==0)break}if(G.tag===10){var ve=G.alternate;if(ve===null)throw Error(a(387));if(ve=ve.memoizedProps,ve!==null){var Oe=G.type;No(G.pendingProps.value,ve.value)||(_!==null?_.push(Oe):_=[Oe])}}else if(G===Pp.current){if(ve=G.alternate,ve===null)throw Error(a(387));ve.memoizedState.memoizedState!==G.memoizedState.memoizedState&&(_!==null?_.push(Lr):_=[Lr])}G=G.return}_!==null&&Lb(w,_,N,z),w.flags|=262144}function gf(_){for(_=_.firstContext;_!==null;){var w=_.context;if(!No(Sc?w._currentValue:w._currentValue2,_.memoizedValue))return!0;_=_.next}return!1}function Fh(_){Uf=_,La=null,_=_.dependencies,_!==null&&(_.firstContext=null)}function zi(_){return Ob(Uf,_)}function Rv(_,w){return Uf===null&&Fh(_),Ob(_,w)}function Ob(_,w){var N=Sc?w._currentValue:w._currentValue2;if(w={context:w,memoizedValue:N,next:null},La===null){if(_===null)throw Error(a(308));La=w,_.dependencies={lanes:0,firstContext:w},_.flags|=524288}else La=La.next=w;return N}function Ly(){return{controller:new QE,data:new Map,refCount:0}}function pp(_){_.refCount--,_.refCount===0&&Tu(td,function(){_.controller.abort()})}function mf(){var _=Au.current;return _!==null?_:cn.pooledCache}function Oy(_,w){w===null?b(Au,Au.current):b(Au,w.pool)}function hE(){var _=mf();return _===null?null:{parent:Sc?jn._currentValue:jn._currentValue2,pool:_}}function Ao(_){_.flags|=4}function kb(_,w){if(_!==null&&_.child===w.child)return!1;if((w.flags&16)!==0)return!0;for(_=w.child;_!==null;){if((_.flags&13878)!==0||(_.subtreeFlags&13878)!==0)return!0;_=_.sibling}return!1}function ky(_,w,N,z){if(Ui)for(N=w.child;N!==null;){if(N.tag===5||N.tag===6)bc(_,N.stateNode);else if(!(N.tag===4||Vi&&N.tag===27)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===w)break;for(;N.sibling===null;){if(N.return===null||N.return===w)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else if(Co)for(var G=w.child;G!==null;){if(G.tag===5){var Q=G.stateNode;N&&z&&(Q=gS(Q,G.type,G.memoizedProps)),bc(_,Q)}else if(G.tag===6)Q=G.stateNode,N&&z&&(Q=mS(Q,G.memoizedProps)),bc(_,Q);else if(G.tag!==4){if(G.tag===22&&G.memoizedState!==null)Q=G.child,Q!==null&&(Q.return=G),ky(_,G,!0,!0);else if(G.child!==null){G.child.return=G,G=G.child;continue}}if(G===w)break;for(;G.sibling===null;){if(G.return===null||G.return===w)return;G=G.return}G.sibling.return=G.return,G=G.sibling}}function vp(_,w,N,z){if(Co)for(var G=w.child;G!==null;){if(G.tag===5){var Q=G.stateNode;N&&z&&(Q=gS(Q,G.type,G.memoizedProps)),pS(_,Q)}else if(G.tag===6)Q=G.stateNode,N&&z&&(Q=mS(Q,G.memoizedProps)),pS(_,Q);else if(G.tag!==4){if(G.tag===22&&G.memoizedState!==null)Q=G.child,Q!==null&&(Q.return=G),vp(_,G,!(G.memoizedProps!==null&&G.memoizedProps.mode==="manual"),!0);else if(G.child!==null){G.child.return=G,G=G.child;continue}}if(G===w)break;for(;G.sibling===null;){if(G.return===null||G.return===w)return;G=G.return}G.sibling.return=G.return,G=G.sibling}}function gp(_,w){if(Co&&kb(_,w)){_=w.stateNode;var N=_.containerInfo,z=ax();vp(z,w,!1,!1),_.pendingChildren=z,Ao(w),DE(N,z)}}function Pb(_,w,N,z){if(Ui)_.memoizedProps!==z&&Ao(w);else if(Co){var G=_.stateNode,Q=_.memoizedProps;if((_=kb(_,w))||Q!==z){var ve=Mi.current;Q=dS(G,N,Q,z,!_,null),Q===G?w.stateNode=G:(yu(Q,N,z,ve)&&Ao(w),w.stateNode=Q,_?ky(Q,w,!1,!1):Ao(w))}else w.stateNode=G}}function mp(_,w,N){if(EE(w,N)){if(_.flags|=16777216,!xu(w,N))if(Pv())_.flags|=8192;else throw ed=vx,IS}else _.flags&=-16777217}function Bb(_,w){if(jE(w)){if(_.flags|=16777216,!MS(w))if(Pv())_.flags|=8192;else throw ed=vx,IS}else _.flags&=-16777217}function Nv(_,w){w!==null&&(_.flags|=4),_.flags&16384&&(w=_.tag!==22?I():536870912,_.lanes|=w,Mu|=w)}function Uh(_,w){if(!En)switch(_.tailMode){case"hidden":w=_.tail;for(var N=null;w!==null;)w.alternate!==null&&(N=w),w=w.sibling;N===null?_.tail=null:N.sibling=null;break;case"collapsed":N=_.tail;for(var z=null;N!==null;)N.alternate!==null&&(z=N),N=N.sibling;z===null?w||_.tail===null?_.tail=null:_.tail.sibling=null:z.sibling=null}}function ya(_){var w=_.alternate!==null&&_.alternate.child===_.child,N=0,z=0;if(w)for(var G=_.child;G!==null;)N|=G.lanes|G.childLanes,z|=G.subtreeFlags&31457280,z|=G.flags&31457280,G.return=_,G=G.sibling;else for(G=_.child;G!==null;)N|=G.lanes|G.childLanes,z|=G.subtreeFlags,z|=G.flags,G.return=_,G=G.sibling;return _.subtreeFlags|=z,_.childLanes=N,w}function dE(_,w,N){var z=w.pendingProps;switch(J(w),w.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ya(w),null;case 1:return ya(w),null;case 3:return N=w.stateNode,z=null,_!==null&&(z=_.memoizedState.cache),w.memoizedState.cache!==z&&(w.flags|=2048),cu(jn),ae(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(_===null||_.child===null)&&(Ve(w)?Ao(w):_===null||_.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,Oo!==null&&(fu(Oo),Oo=null))),gp(_,w),ya(w),null;case 26:if(Ro){N=w.type;var G=w.memoizedState;return _===null?(Ao(w),G!==null?(ya(w),Bb(w,G)):(ya(w),mp(w,N,z))):G?G!==_.memoizedState?(Ao(w),ya(w),Bb(w,G)):(ya(w),w.flags&=-16777217):(Ui?_.memoizedProps!==z&&Ao(w):Pb(_,w,N,z),ya(w),mp(w,N,z)),null}case 27:if(Vi){if(me(w),N=Pl.current,G=w.type,_!==null&&w.stateNode!=null)Ui?_.memoizedProps!==z&&Ao(w):Pb(_,w,G,z);else{if(!z){if(w.stateNode===null)throw Error(a(166));return ya(w),null}_=Mi.current,Ve(w)?we(w,_):(_=DS(G,z,N,_,!0),w.stateNode=_,Ao(w))}return ya(w),null}case 5:if(me(w),N=w.type,_!==null&&w.stateNode!=null)Pb(_,w,N,z);else{if(!z){if(w.stateNode===null)throw Error(a(166));return ya(w),null}_=Mi.current,Ve(w)?we(w,_):(G=rS(N,z,Pl.current,_,w),ky(G,w,!1,!1),w.stateNode=G,yu(G,N,z,_)&&Ao(w))}return ya(w),mp(w,w.type,w.pendingProps),null;case 6:if(_&&w.stateNode!=null)N=_.memoizedProps,Ui?N!==z&&Ao(w):Co&&(N!==z?(w.stateNode=Jy(z,Pl.current,Mi.current,w),Ao(w)):w.stateNode=_.stateNode);else{if(typeof z!="string"&&w.stateNode===null)throw Error(a(166));if(_=Pl.current,N=Mi.current,Ve(w)){if(!Cs)throw Error(a(176));if(_=w.stateNode,N=w.memoizedProps,z=null,G=fs,G!==null)switch(G.tag){case 27:case 5:z=G.memoizedProps}zE(_,N,w,z)||Se(w)}else w.stateNode=Jy(z,_,N,w)}return ya(w),null;case 13:if(z=w.memoizedState,_===null||_.memoizedState!==null&&_.memoizedState.dehydrated!==null){if(G=Ve(w),z!==null&&z.dehydrated!==null){if(_===null){if(!G)throw Error(a(318));if(!Cs)throw Error(a(344));if(G=w.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(a(317));Np(G,w)}else de(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;ya(w),G=!1}else Oo!==null&&(fu(Oo),Oo=null),G=!0;if(!G)return w.flags&256?(Te(w),w):(Te(w),null)}if(Te(w),(w.flags&128)!==0)return w.lanes=N,w;if(N=z!==null,_=_!==null&&_.memoizedState!==null,N){z=w.child,G=null,z.alternate!==null&&z.alternate.memoizedState!==null&&z.alternate.memoizedState.cachePool!==null&&(G=z.alternate.memoizedState.cachePool.pool);var Q=null;z.memoizedState!==null&&z.memoizedState.cachePool!==null&&(Q=z.memoizedState.cachePool.pool),Q!==G&&(z.flags|=2048)}return N!==_&&N&&(w.child.flags|=8192),Nv(w,w.updateQueue),ya(w),null;case 4:return ae(),gp(_,w),_===null&&iS(w.stateNode.containerInfo),ya(w),null;case 10:return cu(w.type),ya(w),null;case 19:if(y(Ka),G=w.memoizedState,G===null)return ya(w),null;if(z=(w.flags&128)!==0,Q=G.rendering,Q===null)if(z)Uh(G,!1);else{if(wn!==0||_!==null&&(_.flags&128)!==0)for(_=w.child;_!==null;){if(Q=ye(_),Q!==null){for(w.flags|=128,Uh(G,!1),_=Q.updateQueue,w.updateQueue=_,Nv(w,_),w.subtreeFlags=0,_=N,N=w.child;N!==null;)vu(N,_),N=N.sibling;return b(Ka,Ka.current&1|2),w.child}_=_.sibling}G.tail!==null&&Hi()>Ea&&(w.flags|=128,z=!0,Uh(G,!1),w.lanes=4194304)}else{if(!z)if(_=ye(Q),_!==null){if(w.flags|=128,z=!0,_=_.updateQueue,w.updateQueue=_,Nv(w,_),Uh(G,!0),G.tail===null&&G.tailMode==="hidden"&&!Q.alternate&&!En)return ya(w),null}else 2*Hi()-G.renderingStartTime>Ea&&N!==536870912&&(w.flags|=128,z=!0,Uh(G,!1),w.lanes=4194304);G.isBackwards?(Q.sibling=w.child,w.child=Q):(_=G.last,_!==null?_.sibling=Q:w.child=Q,G.last=Q)}return G.tail!==null?(w=G.tail,G.rendering=w,G.tail=w.sibling,G.renderingStartTime=Hi(),w.sibling=null,_=Ka.current,b(Ka,z?_&1|2:_&1),w):(ya(w),null);case 22:case 23:return Te(w),li(),z=w.memoizedState!==null,_!==null?_.memoizedState!==null!==z&&(w.flags|=8192):z&&(w.flags|=8192),z?(N&536870912)!==0&&(w.flags&128)===0&&(ya(w),w.subtreeFlags&6&&(w.flags|=8192)):ya(w),N=w.updateQueue,N!==null&&Nv(w,N.retryQueue),N=null,_!==null&&_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(N=_.memoizedState.cachePool.pool),z=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(z=w.memoizedState.cachePool.pool),z!==N&&(w.flags|=2048),_!==null&&y(Au),null;case 24:return N=null,_!==null&&(N=_.memoizedState.cache),w.memoizedState.cache!==N&&(w.flags|=2048),cu(jn),ya(w),null;case 25:return null}throw Error(a(156,w.tag))}function pE(_,w){switch(J(w),w.tag){case 1:return _=w.flags,_&65536?(w.flags=_&-65537|128,w):null;case 3:return cu(jn),ae(),_=w.flags,(_&65536)!==0&&(_&128)===0?(w.flags=_&-65537|128,w):null;case 26:case 27:case 5:return me(w),null;case 13:if(Te(w),_=w.memoizedState,_!==null&&_.dehydrated!==null){if(w.alternate===null)throw Error(a(340));de()}return _=w.flags,_&65536?(w.flags=_&-65537|128,w):null;case 19:return y(Ka),null;case 4:return ae(),null;case 10:return cu(w.type),null;case 22:case 23:return Te(w),li(),_!==null&&y(Au),_=w.flags,_&65536?(w.flags=_&-65537|128,w):null;case 24:return cu(jn),null;case 25:return null;default:return null}}function zb(_,w){switch(J(w),w.tag){case 3:cu(jn),ae();break;case 26:case 27:case 5:me(w);break;case 4:ae();break;case 13:Te(w);break;case 19:y(Ka);break;case 10:cu(w.type);break;case 22:case 23:Te(w),li(),_!==null&&y(Au);break;case 24:cu(jn)}}function Iv(_,w){try{var N=w.updateQueue,z=N!==null?N.lastEffect:null;if(z!==null){var G=z.next;N=G;do{if((N.tag&_)===_){z=void 0;var Q=N.create,ve=N.inst;z=Q(),ve.destroy=z}N=N.next}while(N!==G)}}catch(Oe){pn(w,w.return,Oe)}}function yf(_,w,N){try{var z=w.updateQueue,G=z!==null?z.lastEffect:null;if(G!==null){var Q=G.next;z=Q;do{if((z.tag&_)===_){var ve=z.inst,Oe=ve.destroy;if(Oe!==void 0){ve.destroy=void 0,G=w;var Ze=N;try{Oe()}catch(xt){pn(G,Ze,xt)}}}z=z.next}while(z!==Q)}}catch(xt){pn(w,w.return,xt)}}function vE(_){var w=_.updateQueue;if(w!==null){var N=_.stateNode;try{Et(w,N)}catch(z){pn(_,_.return,z)}}}function gE(_,w,N){N.props=Rl(_.type,_.memoizedProps),N.state=_.memoizedState;try{N.componentWillUnmount()}catch(z){pn(_,w,z)}}function Vh(_,w){try{var N=_.ref;if(N!==null){var z=_.stateNode;switch(_.tag){case 26:case 27:case 5:var G=Rp(z);break;default:G=z}typeof N=="function"?_.refCleanup=N(G):N.current=G}}catch(Q){pn(_,w,Q)}}function xa(_,w){var N=_.ref,z=_.refCleanup;if(N!==null)if(typeof z=="function")try{z()}catch(G){pn(_,w,G)}finally{_.refCleanup=null,_=_.alternate,_!=null&&(_.refCleanup=null)}else if(typeof N=="function")try{N(null)}catch(G){pn(_,w,G)}else N.current=null}function yp(_){var w=_.type,N=_.memoizedProps,z=_.stateNode;try{EL(z,w,N,_)}catch(G){pn(_,_.return,G)}}function Fb(_,w,N){try{cS(_.stateNode,_.type,N,w,_)}catch(z){pn(_,_.return,z)}}function Ub(_){return _.tag===5||_.tag===3||(Ro?_.tag===26:!1)||(Vi?_.tag===27:!1)||_.tag===4}function Py(_){e:for(;;){for(;_.sibling===null;){if(_.return===null||Ub(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&(!Vi||_.tag!==27)&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue e;_.child.return=_,_=_.child}if(!(_.flags&2))return _.stateNode}}function By(_,w,N){var z=_.tag;if(z===5||z===6)_=_.stateNode,w?fS(N,_,w):ME(N,_);else if(!(z===4||Vi&&z===27)&&(_=_.child,_!==null))for(By(_,w,N),_=_.sibling;_!==null;)By(_,w,N),_=_.sibling}function xp(_,w,N){var z=_.tag;if(z===5||z===6)_=_.stateNode,w?uS(N,_,w):lS(N,_);else if(!(z===4||Vi&&z===27)&&(_=_.child,_!==null))for(xp(_,w,N),_=_.sibling;_!==null;)xp(_,w,N),_=_.sibling}function mE(_,w,N){_=_.containerInfo;try{vS(_,N)}catch(z){pn(w,w.return,z)}}function _p(_,w){for(If(_.containerInfo),Oa=w;Oa!==null;)if(_=Oa,w=_.child,(_.subtreeFlags&1028)!==0&&w!==null)w.return=_,Oa=w;else for(;Oa!==null;){_=Oa;var N=_.alternate;switch(w=_.flags,_.tag){case 0:break;case 11:case 15:break;case 1:if((w&1024)!==0&&N!==null){w=void 0;var z=_,G=N.memoizedProps;N=N.memoizedState;var Q=z.stateNode;try{var ve=Rl(z.type,G,z.elementType===z.type);w=Q.getSnapshotBeforeUpdate(ve,N),Q.__reactInternalSnapshotBeforeUpdate=w}catch(Oe){pn(z,z.return,Oe)}}break;case 3:(w&1024)!==0&&Ui&&nx(_.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((w&1024)!==0)throw Error(a(163))}if(w=_.sibling,w!==null){w.return=_.return,Oa=w;break}Oa=_.return}return ve=rd,rd=!1,ve}function zy(_,w,N){var z=N.flags;switch(N.tag){case 0:case 11:case 15:vc(_,N),z&4&&Iv(5,N);break;case 1:if(vc(_,N),z&4)if(_=N.stateNode,w===null)try{_.componentDidMount()}catch(Oe){pn(N,N.return,Oe)}else{var G=Rl(N.type,w.memoizedProps);w=w.memoizedState;try{_.componentDidUpdate(G,w,_.__reactInternalSnapshotBeforeUpdate)}catch(Oe){pn(N,N.return,Oe)}}z&64&&vE(N),z&512&&Vh(N,N.return);break;case 3:if(vc(_,N),z&64&&(z=N.updateQueue,z!==null)){if(_=null,N.child!==null)switch(N.child.tag){case 27:case 5:_=Rp(N.child.stateNode);break;case 1:_=N.child.stateNode}try{Et(z,_)}catch(Oe){pn(N,N.return,Oe)}}break;case 26:if(Ro){vc(_,N),z&512&&Vh(N,N.return);break}case 27:case 5:vc(_,N),w===null&&z&4&&yp(N),z&512&&Vh(N,N.return);break;case 12:vc(_,N);break;case 13:vc(_,N),z&4&&xf(_,N);break;case 22:if(G=N.memoizedState!==null||di,!G){w=w!==null&&w.memoizedState!==null||Aa;var Q=di,ve=Aa;di=G,(Aa=w)&&!ve?bf(_,N,(N.subtreeFlags&8772)!==0):vc(_,N),di=Q,Aa=ve}z&512&&(N.memoizedProps.mode==="manual"?Vh(N,N.return):xa(N,N.return));break;default:vc(_,N)}}function bp(_){var w=_.alternate;w!==null&&(_.alternate=null,bp(w)),_.child=null,_.deletions=null,_.sibling=null,_.tag===5&&(w=_.stateNode,w!==null&&sS(w)),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function Eo(_,w,N){for(N=N.child;N!==null;)Fy(_,w,N),N=N.sibling}function Fy(_,w,N){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(kp,N)}catch{}switch(N.tag){case 26:if(Ro){Aa||xa(N,w),Eo(_,w,N),N.memoizedState?SS(N.memoizedState):N.stateNode&&AS(N.stateNode);break}case 27:if(Vi){Aa||xa(N,w);var z=Ua,G=Qs;Ua=N.stateNode,Eo(_,w,N),WE(N.stateNode),Ua=z,Qs=G;break}case 5:Aa||xa(N,w);case 6:if(Ui){if(z=Ua,G=Qs,Ua=null,Eo(_,w,N),Ua=z,Qs=G,Ua!==null)if(Qs)try{Ba(Ua,N.stateNode)}catch(Q){pn(N,w,Q)}else try{Ds(Ua,N.stateNode)}catch(Q){pn(N,w,Q)}}else Eo(_,w,N);break;case 18:Ui&&Ua!==null&&(Qs?xS(Ua,N.stateNode):UE(Ua,N.stateNode));break;case 4:Ui?(z=Ua,G=Qs,Ua=N.stateNode.containerInfo,Qs=!0,Eo(_,w,N),Ua=z,Qs=G):(Co&&mE(N.stateNode,N,ax()),Eo(_,w,N));break;case 0:case 11:case 14:case 15:Aa||yf(2,N,w),Aa||yf(4,N,w),Eo(_,w,N);break;case 1:Aa||(xa(N,w),z=N.stateNode,typeof z.componentWillUnmount=="function"&&gE(N,w,z)),Eo(_,w,N);break;case 21:Eo(_,w,N);break;case 22:Aa||xa(N,w),Aa=(z=Aa)||N.memoizedState!==null,Eo(_,w,N),Aa=z;break;default:Eo(_,w,N)}}function xf(_,w){if(Cs&&w.memoizedState===null&&(_=w.alternate,_!==null&&(_=_.memoizedState,_!==null&&(_=_.dehydrated,_!==null))))try{lx(_)}catch(N){pn(w,w.return,N)}}function Sp(_){switch(_.tag){case 13:case 19:var w=_.stateNode;return w===null&&(w=_.stateNode=new Vp),w;case 22:return _=_.stateNode,w=_._retryCache,w===null&&(w=_._retryCache=new Vp),w;default:throw Error(a(435,_.tag))}}function Lv(_,w){var N=Sp(_);w.forEach(function(z){var G=Wb.bind(null,_,z);N.has(z)||(N.add(z),z.then(G,G))})}function As(_,w){var N=w.deletions;if(N!==null)for(var z=0;z<N.length;z++){var G=N[z],Q=_,ve=w;if(Ui){var Oe=ve;e:for(;Oe!==null;){switch(Oe.tag){case 27:case 5:Ua=Oe.stateNode,Qs=!1;break e;case 3:Ua=Oe.stateNode.containerInfo,Qs=!0;break e;case 4:Ua=Oe.stateNode.containerInfo,Qs=!0;break e}Oe=Oe.return}if(Ua===null)throw Error(a(160));Fy(Q,ve,G),Ua=null,Qs=!1}else Fy(Q,ve,G);Q=G.alternate,Q!==null&&(Q.return=null),G.return=null}if(w.subtreeFlags&13878)for(w=w.child;w!==null;)_f(w,_),w=w.sibling}function _f(_,w){var N=_.alternate,z=_.flags;switch(_.tag){case 0:case 11:case 14:case 15:As(w,_),Ws(_),z&4&&(yf(3,_,_.return),Iv(3,_),yf(5,_,_.return));break;case 1:As(w,_),Ws(_),z&512&&(Aa||N===null||xa(N,N.return)),z&64&&di&&(_=_.updateQueue,_!==null&&(z=_.callbacks,z!==null&&(N=_.shared.hiddenCallbacks,_.shared.hiddenCallbacks=N===null?z:N.concat(z))));break;case 26:if(Ro){var G=Rs;As(w,_),Ws(_),z&512&&(Aa||N===null||xa(N,N.return)),z&4&&(z=N!==null?N.memoizedState:null,w=_.memoizedState,N===null?w===null?_.stateNode===null?_.stateNode=wS(G,_.type,_.memoizedProps,_):TS(G,_.type,_.stateNode):_.stateNode=bS(G,w,_.memoizedProps):z!==w?(z===null?N.stateNode!==null&&AS(N.stateNode):SS(z),w===null?TS(G,_.type,_.stateNode):bS(G,w,_.memoizedProps)):w===null&&_.stateNode!==null&&Fb(_,_.memoizedProps,N.memoizedProps));break}case 27:if(Vi&&z&4&&_.alternate===null){G=_.stateNode;var Q=_.memoizedProps;try{RL(G),NL(_.type,Q,G,_)}catch(Ft){pn(_,_.return,Ft)}}case 5:if(As(w,_),Ws(_),z&512&&(Aa||N===null||xa(N,N.return)),Ui){if(_.flags&32){w=_.stateNode;try{Yv(w)}catch(Ft){pn(_,_.return,Ft)}}z&4&&_.stateNode!=null&&(w=_.memoizedProps,Fb(_,w,N!==null?N.memoizedProps:w)),z&1024&&(Vf=!0)}break;case 6:if(As(w,_),Ws(_),z&4&&Ui){if(_.stateNode===null)throw Error(a(162));z=_.memoizedProps,N=N!==null?N.memoizedProps:z,w=_.stateNode;try{CE(w,N,z)}catch(Ft){pn(_,_.return,Ft)}}break;case 3:if(Ro?(ES(),G=Rs,Rs=cx(w.containerInfo),As(w,_),Rs=G):As(w,_),Ws(_),z&4){if(Ui&&Cs&&N!==null&&N.memoizedState.isDehydrated)try{ox(w.containerInfo)}catch(Ft){pn(_,_.return,Ft)}if(Co){z=w.containerInfo,N=w.pendingChildren;try{vS(z,N)}catch(Ft){pn(_,_.return,Ft)}}}Vf&&(Vf=!1,Vb(_));break;case 4:Ro?(N=Rs,Rs=cx(_.stateNode.containerInfo),As(w,_),Ws(_),Rs=N):(As(w,_),Ws(_)),z&4&&Co&&mE(_.stateNode,_,_.stateNode.pendingChildren);break;case 12:As(w,_),Ws(_);break;case 13:As(w,_),Ws(_),_.child.flags&8192&&_.memoizedState!==null!=(N!==null&&N.memoizedState!==null)&&(Dc=Hi()),z&4&&(z=_.updateQueue,z!==null&&(_.updateQueue=null,Lv(_,z)));break;case 22:z&512&&(Aa||N===null||xa(N,N.return)),G=_.memoizedState!==null;var ve=N!==null&&N.memoizedState!==null,Oe=di,Ze=Aa;if(di=Oe||G,Aa=Ze||ve,As(w,_),Aa=Ze,di=Oe,Ws(_),w=_.stateNode,w._current=_,w._visibility&=-3,w._visibility|=w._pendingVisibility&2,z&8192&&(w._visibility=G?w._visibility&-2:w._visibility|1,G&&(w=di||Aa,N===null||ve||w||wp(_)),Ui&&(_.memoizedProps===null||_.memoizedProps.mode!=="manual"))){e:if(N=null,Ui)for(w=_;;){if(w.tag===5||Ro&&w.tag===26||Vi&&w.tag===27){if(N===null){ve=N=w;try{Q=ve.stateNode,G?Xv(Q):hS(ve.stateNode,ve.memoizedProps)}catch(Ft){pn(ve,ve.return,Ft)}}}else if(w.tag===6){if(N===null){ve=w;try{var xt=ve.stateNode;G?rx(xt):_u(xt,ve.memoizedProps)}catch(Ft){pn(ve,ve.return,Ft)}}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===_)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===_)break e;for(;w.sibling===null;){if(w.return===null||w.return===_)break e;N===w&&(N=null),w=w.return}N===w&&(N=null),w.sibling.return=w.return,w=w.sibling}}z&4&&(z=_.updateQueue,z!==null&&(N=z.retryQueue,N!==null&&(z.retryQueue=null,Lv(_,N))));break;case 19:As(w,_),Ws(_),z&4&&(z=_.updateQueue,z!==null&&(_.updateQueue=null,Lv(_,z)));break;case 21:break;default:As(w,_),Ws(_)}}function Ws(_){var w=_.flags;if(w&2){try{if(Ui&&(!Vi||_.tag!==27)){e:{for(var N=_.return;N!==null;){if(Ub(N)){var z=N;break e}N=N.return}throw Error(a(160))}switch(z.tag){case 27:if(Vi){var G=z.stateNode,Q=Py(_);xp(_,Q,G);break}case 5:var ve=z.stateNode;z.flags&32&&(Yv(ve),z.flags&=-33);var Oe=Py(_);xp(_,Oe,ve);break;case 3:case 4:var Ze=z.stateNode.containerInfo,xt=Py(_);By(_,xt,Ze);break;default:throw Error(a(161))}}}catch(Ft){pn(_,_.return,Ft)}_.flags&=-3}w&4096&&(_.flags&=-4097)}function Vb(_){if(_.subtreeFlags&1024)for(_=_.child;_!==null;){var w=_;Vb(w),w.tag===5&&w.flags&1024&&ea(w.stateNode),_=_.sibling}}function vc(_,w){if(w.subtreeFlags&8772)for(w=w.child;w!==null;)zy(_,w.alternate,w),w=w.sibling}function wp(_){for(_=_.child;_!==null;){var w=_;switch(w.tag){case 0:case 11:case 14:case 15:yf(4,w,w.return),wp(w);break;case 1:xa(w,w.return);var N=w.stateNode;typeof N.componentWillUnmount=="function"&&gE(w,w.return,N),wp(w);break;case 26:case 27:case 5:xa(w,w.return),wp(w);break;case 22:xa(w,w.return),w.memoizedState===null&&wp(w);break;default:wp(w)}_=_.sibling}}function bf(_,w,N){for(N=N&&(w.subtreeFlags&8772)!==0,w=w.child;w!==null;){var z=w.alternate,G=_,Q=w,ve=Q.flags;switch(Q.tag){case 0:case 11:case 15:bf(G,Q,N),Iv(4,Q);break;case 1:if(bf(G,Q,N),z=Q,G=z.stateNode,typeof G.componentDidMount=="function")try{G.componentDidMount()}catch(xt){pn(z,z.return,xt)}if(z=Q,G=z.updateQueue,G!==null){var Oe=z.stateNode;try{var Ze=G.shared.hiddenCallbacks;if(Ze!==null)for(G.shared.hiddenCallbacks=null,G=0;G<Ze.length;G++)Ie(Ze[G],Oe)}catch(xt){pn(z,z.return,xt)}}N&&ve&64&&vE(Q),Vh(Q,Q.return);break;case 26:case 27:case 5:bf(G,Q,N),N&&z===null&&ve&4&&yp(Q),Vh(Q,Q.return);break;case 12:bf(G,Q,N);break;case 13:bf(G,Q,N),N&&ve&4&&xf(G,Q);break;case 22:Q.memoizedState===null&&bf(G,Q,N),Vh(Q,Q.return);break;default:bf(G,Q,N)}w=w.sibling}}function Hb(_,w){var N=null;_!==null&&_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(N=_.memoizedState.cachePool.pool),_=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(_=w.memoizedState.cachePool.pool),_!==N&&(_!=null&&_.refCount++,N!=null&&pp(N))}function Uy(_,w){_=null,w.alternate!==null&&(_=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==_&&(w.refCount++,_!=null&&pp(_))}function uu(_,w,N,z){if(w.subtreeFlags&10256)for(w=w.child;w!==null;)Vy(_,w,N,z),w=w.sibling}function Vy(_,w,N,z){var G=w.flags;switch(w.tag){case 0:case 11:case 15:uu(_,w,N,z),G&2048&&Iv(9,w);break;case 3:uu(_,w,N,z),G&2048&&(_=null,w.alternate!==null&&(_=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==_&&(w.refCount++,_!=null&&pp(_)));break;case 12:if(G&2048){uu(_,w,N,z),_=w.stateNode;try{var Q=w.memoizedProps,ve=Q.id,Oe=Q.onPostCommit;typeof Oe=="function"&&Oe(ve,w.alternate===null?"mount":"update",_.passiveEffectDuration,-0)}catch(Ze){pn(w,w.return,Ze)}}else uu(_,w,N,z);break;case 23:break;case 22:Q=w.stateNode,w.memoizedState!==null?Q._visibility&4?uu(_,w,N,z):Sf(_,w):Q._visibility&4?uu(_,w,N,z):(Q._visibility|=4,os(_,w,N,z,(w.subtreeFlags&10256)!==0)),G&2048&&Hb(w.alternate,w);break;case 24:uu(_,w,N,z),G&2048&&Uy(w.alternate,w);break;default:uu(_,w,N,z)}}function os(_,w,N,z,G){for(G=G&&(w.subtreeFlags&10256)!==0,w=w.child;w!==null;){var Q=_,ve=w,Oe=N,Ze=z,xt=ve.flags;switch(ve.tag){case 0:case 11:case 15:os(Q,ve,Oe,Ze,G),Iv(8,ve);break;case 23:break;case 22:var Ft=ve.stateNode;ve.memoizedState!==null?Ft._visibility&4?os(Q,ve,Oe,Ze,G):Sf(Q,ve):(Ft._visibility|=4,os(Q,ve,Oe,Ze,G)),G&&xt&2048&&Hb(ve.alternate,ve);break;case 24:os(Q,ve,Oe,Ze,G),G&&xt&2048&&Uy(ve.alternate,ve);break;default:os(Q,ve,Oe,Ze,G)}w=w.sibling}}function Sf(_,w){if(w.subtreeFlags&10256)for(w=w.child;w!==null;){var N=_,z=w,G=z.flags;switch(z.tag){case 22:Sf(N,z),G&2048&&Hb(z.alternate,z);break;case 24:Sf(N,z),G&2048&&Uy(z.alternate,z);break;default:Sf(N,z)}w=w.sibling}}function wi(_){if(_.subtreeFlags&nd)for(_=_.child;_!==null;)Hh(_),_=_.sibling}function Hh(_){switch(_.tag){case 26:wi(_),_.flags&nd&&(_.memoizedState!==null?CS(Rs,_.memoizedState,_.memoizedProps):Da(_.type,_.memoizedProps));break;case 5:wi(_),_.flags&nd&&Da(_.type,_.memoizedProps);break;case 3:case 4:if(Ro){var w=Rs;Rs=cx(_.stateNode.containerInfo),wi(_),Rs=w}else wi(_);break;case 22:_.memoizedState===null&&(w=_.alternate,w!==null&&w.memoizedState!==null?(w=nd,nd=16777216,wi(_),nd=w):wi(_));break;default:wi(_)}}function Hy(_){var w=_.alternate;if(w!==null&&(_=w.child,_!==null)){w.child=null;do w=_.sibling,_.sibling=null,_=w;while(_!==null)}}function wf(_){var w=_.deletions;if((_.flags&16)!==0){if(w!==null)for(var N=0;N<w.length;N++){var z=w[N];Oa=z,Tf(z,_)}Hy(_)}if(_.subtreeFlags&10256)for(_=_.child;_!==null;)Ov(_),_=_.sibling}function Ov(_){switch(_.tag){case 0:case 11:case 15:wf(_),_.flags&2048&&yf(9,_,_.return);break;case 3:wf(_);break;case 12:wf(_);break;case 22:var w=_.stateNode;_.memoizedState!==null&&w._visibility&4&&(_.return===null||_.return.tag!==13)?(w._visibility&=-5,Tp(_)):wf(_);break;default:wf(_)}}function Tp(_){var w=_.deletions;if((_.flags&16)!==0){if(w!==null)for(var N=0;N<w.length;N++){var z=w[N];Oa=z,Tf(z,_)}Hy(_)}for(_=_.child;_!==null;){switch(w=_,w.tag){case 0:case 11:case 15:yf(8,w,w.return),Tp(w);break;case 22:N=w.stateNode,N._visibility&4&&(N._visibility&=-5,Tp(w));break;default:Tp(w)}_=_.sibling}}function Tf(_,w){for(;Oa!==null;){var N=Oa;switch(N.tag){case 0:case 11:case 15:yf(8,N,w);break;case 23:case 22:if(N.memoizedState!==null&&N.memoizedState.cachePool!==null){var z=N.memoizedState.cachePool.pool;z!=null&&z.refCount++}break;case 24:pp(N.memoizedState.cache)}if(z=N.child,z!==null)z.return=N,Oa=z;else e:for(N=_;Oa!==null;){z=Oa;var G=z.sibling,Q=z.return;if(bp(z),z===N){Oa=null;break e}if(G!==null){G.return=Q,Oa=G;break e}Oa=Q}}}function Gy(_){var w=aS(_);if(w!=null){if(typeof w.memoizedProps["data-testname"]!="string")throw Error(a(364));return w}if(_=$h(_),_===null)throw Error(a(362));return _.stateNode.current}function Ap(_,w){var N=_.tag;switch(w.$$typeof){case lg:if(_.type===w.value)return!0;break;case _x:e:{for(w=w.value,_=[_,0],N=0;N<_.length;){var z=_[N++],G=z.tag,Q=_[N++],ve=w[Q];if(G!==5&&G!==26&&G!==27||!Tc(z)){for(;ve!=null&&Ap(z,ve);)Q++,ve=w[Q];if(Q===w.length){w=!0;break e}else for(z=z.child;z!==null;)_.push(z,Q),z=z.sibling}}w=!1}return w;case bx:if((N===5||N===26||N===27)&&AL(_.stateNode,w.value))return!0;break;case Wn:if((N===5||N===6||N===26||N===27)&&(_=Wv(_),_!==null&&0<=_.indexOf(w.value)))return!0;break;case Sn:if((N===5||N===26||N===27)&&(_=_.memoizedProps["data-testname"],typeof _=="string"&&_.toLowerCase()===w.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Af(_){switch(_.$$typeof){case lg:return"<"+(s(_.value)||"Unknown")+">";case _x:return":has("+(Af(_)||"")+")";case bx:return'[role="'+_.value+'"]';case Wn:return'"'+_.value+'"';case Sn:return'[data-testname="'+_.value+'"]';default:throw Error(a(365))}}function yE(_,w){var N=[];_=[_,0];for(var z=0;z<_.length;){var G=_[z++],Q=G.tag,ve=_[z++],Oe=w[ve];if(Q!==5&&Q!==26&&Q!==27||!Tc(G)){for(;Oe!=null&&Ap(G,Oe);)ve++,Oe=w[ve];if(ve===w.length)N.push(G);else for(G=G.child;G!==null;)_.push(G,ve),G=G.sibling}}return N}function Es(_,w){if(!wc)throw Error(a(363));_=Gy(_),_=yE(_,w),w=[],_=Array.from(_);for(var N=0;N<_.length;){var z=_[N++],G=z.tag;if(G===5||G===26||G===27)Tc(z)||w.push(z.stateNode);else for(z=z.child;z!==null;)_.push(z),z=z.sibling}return w}function Ms(){if((_r&2)!==0&&sn!==0)return sn&-sn;if(Dr.T!==null){var _=$s;return _!==0?_:it()}return cl()}function gc(){eo===0&&(eo=(sn&536870912)===0||En?L():536870912);var _=Bo.current;return _!==null&&(_.flags|=32),eo}function ls(_,w,N){(_===cn&&ta===2||_.cancelPendingCommit!==null)&&(Il(_,0),Nl(_,sn,eo,!1)),P(_,N),((_r&2)===0||_!==cn)&&(_===cn&&((_r&2)===0&&(Fl|=N),wn===4&&Nl(_,sn,eo,!1)),Be(_))}function kv(_,w,N){if((_r&6)!==0)throw Error(a(327));var z=!N&&(w&60)===0&&(w&_.expiredLanes)===0||M(_,w),G=z?xc(_,w):mc(_,w,!0),Q=z;do{if(G===0){zo&&!z&&Nl(_,w,0,!1);break}else if(G===6)Nl(_,w,0,!Yn);else{if(N=_.current.alternate,Q&&!xE(N)){G=mc(_,w,!1),Q=!1;continue}if(G===2){if(Q=w,_.errorRecoveryDisabledLanes&Q)var ve=0;else ve=_.pendingLanes&-536870913,ve=ve!==0?ve:ve&536870912?536870912:0;if(ve!==0){w=ve;e:{var Oe=_;G=Hp;var Ze=Cs&&Oe.current.memoizedState.isDehydrated;if(Ze&&(Il(Oe,ve).flags|=256),ve=mc(Oe,ve,!1),ve!==2){if(Eu&&!Ze){Oe.errorRecoveryDisabledLanes|=Q,Fl|=Q,G=4;break e}Q=Uo,Uo=G,Q!==null&&fu(Q)}G=ve}if(Q=!1,G!==2)continue}}if(G===1){Il(_,0),Nl(_,w,0,!0);break}e:{switch(z=_,G){case 0:case 1:throw Error(a(345));case 4:if((w&4194176)===w){Nl(z,w,eo,!Yn);break e}break;case 2:Uo=null;break;case 3:case 5:break;default:throw Error(a(329))}if(z.finishedWork=N,z.finishedLanes=w,(w&62914560)===w&&(Q=Dc+300-Hi(),10<Q)){if(Nl(z,w,eo,!Yn),E(z,0)!==0)break e;z.timeoutHandle=nS(jy.bind(null,z,N,Uo,Ul,Gp,w,eo,Fl,Mu,Yn,2,-0,0),Q);break e}jy(z,N,Uo,Ul,Gp,w,eo,Fl,Mu,Yn,0,-0,0)}}break}while(!0);Be(_)}function fu(_){Uo===null?Uo=_:Uo.push.apply(Uo,_)}function jy(_,w,N,z,G,Q,ve,Oe,Ze,xt,Ft,Zt,tr){var Hr=w.subtreeFlags;if((Hr&8192||(Hr&16785408)===16785408)&&(Do(),Hh(w),w=Qy(),w!==null)){_.cancelPendingCommit=w(fa.bind(null,_,N,z,G,ve,Oe,Ze,1,Zt,tr)),Nl(_,Q,ve,!xt);return}fa(_,N,z,G,ve,Oe,Ze,Ft,Zt,tr)}function xE(_){for(var w=_;;){var N=w.tag;if((N===0||N===11||N===15)&&w.flags&16384&&(N=w.updateQueue,N!==null&&(N=N.stores,N!==null)))for(var z=0;z<N.length;z++){var G=N[z],Q=G.getSnapshot;G=G.value;try{if(!No(Q(),G))return!1}catch{return!1}}if(N=w.child,w.subtreeFlags&16384&&N!==null)N.return=w,w=N;else{if(w===_)break;for(;w.sibling===null;){if(w.return===null||w.return===_)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function Nl(_,w,N,z){w&=~ps,w&=~Fl,_.suspendedLanes|=w,_.pingedLanes&=~w,z&&(_.warmLanes|=w),z=_.expirationTimes;for(var G=w;0<G;){var Q=31-Zs(G),ve=1<<Q;z[Q]=-1,G&=~ve}N!==0&&U(_,N,w)}function Gb(){return(_r&6)===0?(ze(0),!1):!0}function Ys(){if(Wr!==null){if(ta===0)var _=Wr.return;else _=Wr,La=Uf=null,Rt(_),Ec=null,hl=0,_=Wr;for(;_!==null;)zb(_.alternate,_),_=_.return;Wr=null}}function Il(_,w){_.finishedWork=null,_.finishedLanes=0;var N=_.timeoutHandle;N!==Kh&&(_.timeoutHandle=Kh,jv(N)),N=_.cancelPendingCommit,N!==null&&(_.cancelPendingCommit=null,N()),Ys(),cn=_,Wr=N=cs(_.current,null),sn=w,ta=0,Va=null,Yn=!1,zo=M(_,w),Eu=!1,Mu=eo=ps=Fl=Fo=wn=0,Uo=Hp=null,Gp=!1,(w&8)!==0&&(w|=w&32);var z=_.entangledLanes;if(z!==0)for(_=_.entanglements,z&=w;0<z;){var G=31-Zs(z),Q=1<<G;w|=_[G],z&=~Q}return zl=w,K(),N}function Gh(_,w){Jr=null,Dr.H=Mn,w===Zn?(w=zt(),ta=3):w===IS?(w=zt(),ta=4):ta=w===JE?8:w!==null&&typeof w=="object"&&typeof w.then=="function"?6:1,Va=w,Wr===null&&(wn=1,Dy(_,Y(w,_.current)))}function Pv(){var _=Bo.current;return _===null?!0:(sn&4194176)===sn?dl===null:(sn&62914560)===sn||(sn&536870912)!==0?_===dl:!1}function Ep(){var _=Dr.H;return Dr.H=Mn,_===null?Mn:_}function Mo(){var _=Dr.A;return Dr.A=xx,_}function Xs(){wn=4,Yn||(sn&4194176)!==sn&&Bo.current!==null||(zo=!0),(Fo&134217727)===0&&(Fl&134217727)===0||cn===null||Nl(cn,sn,eo,!1)}function mc(_,w,N){var z=_r;_r|=2;var G=Ep(),Q=Mo();(cn!==_||sn!==w)&&(Ul=null,Il(_,w)),w=!1;var ve=wn;e:do try{if(ta!==0&&Wr!==null){var Oe=Wr,Ze=Va;switch(ta){case 8:Ys(),ve=6;break e;case 3:case 2:case 6:Bo.current===null&&(w=!0);var xt=ta;if(ta=0,Va=null,Ef(_,Oe,Ze,xt),N&&zo){ve=0;break e}break;default:xt=ta,ta=0,Va=null,Ef(_,Oe,Ze,xt)}}yc(),ve=wn;break}catch(Ft){Gh(_,Ft)}while(!0);return w&&_.shellSuspendCounter++,La=Uf=null,_r=z,Dr.H=G,Dr.A=Q,Wr===null&&(cn=null,sn=0,K()),ve}function yc(){for(;Wr!==null;)jb(Wr)}function xc(_,w){var N=_r;_r|=2;var z=Ep(),G=Mo();cn!==_||sn!==w?(Ul=null,Ea=Hi()+500,Il(_,w)):zo=M(_,w);e:do try{if(ta!==0&&Wr!==null){w=Wr;var Q=Va;t:switch(ta){case 1:ta=0,Va=null,Ef(_,w,Q,1);break;case 2:if(_t(Q)){ta=0,Va=null,Wy(w);break}w=function(){ta===2&&cn===_&&(ta=7),Be(_)},Q.then(w,w);break e;case 3:ta=7;break e;case 4:ta=5;break e;case 7:_t(Q)?(ta=0,Va=null,Wy(w)):(ta=0,Va=null,Ef(_,w,Q,7));break;case 5:var ve=null;switch(Wr.tag){case 26:ve=Wr.memoizedState;case 5:case 27:var Oe=Wr,Ze=Oe.type,xt=Oe.pendingProps;if(ve?MS(ve):xu(Ze,xt)){ta=0,Va=null;var Ft=Oe.sibling;if(Ft!==null)Wr=Ft;else{var Zt=Oe.return;Zt!==null?(Wr=Zt,Bv(Zt)):Wr=null}break t}}ta=0,Va=null,Ef(_,w,Q,5);break;case 6:ta=0,Va=null,Ef(_,w,Q,6);break;case 8:Ys(),wn=6;break e;default:throw Error(a(462))}}hu();break}catch(tr){Gh(_,tr)}while(!0);return La=Uf=null,Dr.H=z,Dr.A=G,_r=N,Wr!==null?0:(cn=null,sn=0,K(),wn)}function hu(){for(;Wr!==null&&!XE();)jb(Wr)}function jb(_){var w=fE(_.alternate,_,zl);_.memoizedProps=_.pendingProps,w===null?Bv(_):Wr=w}function Wy(_){var w=_,N=w.alternate;switch(w.tag){case 15:case 0:w=sE(N,w,w.pendingProps,w.type,void 0,sn);break;case 11:w=sE(N,w,w.pendingProps,w.type.render,w.ref,sn);break;case 5:Rt(w);default:zb(N,w),w=Wr=vu(w,zl),w=fE(N,w,zl)}_.memoizedProps=_.pendingProps,w===null?Bv(_):Wr=w}function Ef(_,w,N,z){La=Uf=null,Rt(w),Ec=null,hl=0;var G=w.return;try{if(tE(_,G,w,N,sn)){wn=1,Dy(_,Y(N,_.current)),Wr=null;return}}catch(Q){if(G!==null)throw Wr=G,Q;wn=1,Dy(_,Y(N,_.current)),Wr=null;return}w.flags&32768?(En||z===1?_=!0:zo||(sn&536870912)!==0?_=!1:(Yn=_=!0,(z===2||z===3||z===6)&&(z=Bo.current,z!==null&&z.tag===13&&(z.flags|=16384))),Ti(w,_)):Bv(w)}function Bv(_){var w=_;do{if((w.flags&32768)!==0){Ti(w,Yn);return}_=w.return;var N=dE(w.alternate,w,zl);if(N!==null){Wr=N;return}if(w=w.sibling,w!==null){Wr=w;return}Wr=w=_}while(w!==null);wn===0&&(wn=5)}function Ti(_,w){do{var N=pE(_.alternate,_);if(N!==null){N.flags&=32767,Wr=N;return}if(N=_.return,N!==null&&(N.flags|=32768,N.subtreeFlags=0,N.deletions=null),!w&&(_=_.sibling,_!==null)){Wr=_;return}Wr=_=N}while(_!==null);wn=6,Wr=null}function fa(_,w,N,z,G,Q,ve,Oe,Ze,xt){var Ft=Dr.T,Zt=hi();try{us(2),Dr.T=null,yn(_,w,N,z,Zt,G,Q,ve,Oe,Ze,xt)}finally{Dr.T=Ft,us(Zt)}}function yn(_,w,N,z,G,Q,ve,Oe){do Ai();while(Cu!==null);if((_r&6)!==0)throw Error(a(327));var Ze=_.finishedWork;if(z=_.finishedLanes,Ze===null)return null;if(_.finishedWork=null,_.finishedLanes=0,Ze===_.current)throw Error(a(177));_.callbackNode=null,_.callbackPriority=0,_.cancelPendingCommit=null;var xt=Ze.lanes|Ze.childLanes;if(xt|=Bp,k(_,z,xt,Q,ve,Oe),_===cn&&(Wr=cn=null,sn=0),(Ze.subtreeFlags&10256)===0&&(Ze.flags&10256)===0||vl||(vl=!0,Sx=xt,id=N,zv(fx,function(){return Ai(),null})),N=(Ze.flags&15990)!==0,(Ze.subtreeFlags&15990)!==0||N?(N=Dr.T,Dr.T=null,Q=hi(),us(2),ve=_r,_r|=4,_p(_,Ze),_f(Ze,_),tS(_.containerInfo),_.current=Ze,zy(_,Ze.alternate,Ze),qE(),_r=ve,us(Q),Dr.T=N):_.current=Ze,vl?(vl=!1,Cu=_,ad=z):du(_,xt),xt=_.pendingLanes,xt===0&&(Vo=null),H(Ze.stateNode),Be(_),w!==null)for(G=_.onRecoverableError,Ze=0;Ze<w.length;Ze++)xt=w[Ze],G(xt.value,{componentStack:xt.stack});return(ad&3)!==0&&Ai(),xt=_.pendingLanes,(z&4194218)!==0&&(xt&42)!==0?_===Ns?sd++:(sd=0,Ns=_):sd=0,ze(0),null}function du(_,w){(_.pooledCacheLanes&=w)===0&&(w=_.pooledCache,w!=null&&(_.pooledCache=null,pp(w)))}function Ai(){if(Cu!==null){var _=Cu,w=Sx;Sx=0;var N=q(ad),z=32>N?32:N;N=Dr.T;var G=hi();try{if(us(z),Dr.T=null,Cu===null)var Q=!1;else{z=id,id=null;var ve=Cu,Oe=ad;if(Cu=null,ad=0,(_r&6)!==0)throw Error(a(331));var Ze=_r;if(_r|=4,Ov(ve.current),Vy(ve,ve.current,Oe,z),_r=Ze,ze(0,!1),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(kp,ve)}catch{}Q=!0}return Q}finally{us(G),Dr.T=N,du(_,w)}}return!1}function Yy(_,w,N){w=Y(N,w),w=Ev(_.stateNode,w,2),_=yt(_,w,2),_!==null&&(P(_,2),Be(_))}function pn(_,w,N){if(_.tag===3)Yy(_,_,N);else for(;w!==null;){if(w.tag===3){Yy(w,_,N);break}else if(w.tag===1){var z=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof z.componentDidCatch=="function"&&(Vo===null||!Vo.has(z))){_=Y(N,_),N=dp(2),z=yt(w,N,2),z!==null&&(Mv(N,z,w,_),P(z,2),Be(z));break}}w=w.return}}function Xy(_,w,N){var z=_.pingCache;if(z===null){z=_.pingCache=new vn;var G=new Set;z.set(w,G)}else G=z.get(w),G===void 0&&(G=new Set,z.set(w,G));G.has(N)||(Eu=!0,G.add(N),_=_E.bind(null,_,w,N),w.then(_,_))}function _E(_,w,N){var z=_.pingCache;z!==null&&z.delete(w),_.pingedLanes|=_.suspendedLanes&N,_.warmLanes&=~N,cn===_&&(sn&N)===N&&(wn===4||wn===3&&(sn&62914560)===sn&&300>Hi()-Dc?(_r&2)===0&&Il(_,0):ps|=N,Mu===sn&&(Mu=0)),Be(_)}function jh(_,w){w===0&&(w=I()),_=oe(_,w),_!==null&&(P(_,w),Be(_))}function Wh(_){var w=_.memoizedState,N=0;w!==null&&(N=w.retryLane),jh(_,N)}function Wb(_,w){var N=0;switch(_.tag){case 13:var z=_.stateNode,G=_.memoizedState;G!==null&&(N=G.retryLane);break;case 19:z=_.stateNode;break;case 22:z=_.stateNode._retryCache;break;default:throw Error(a(314))}z!==null&&z.delete(w),jh(_,N)}function zv(_,w){return Op(_,w)}function Yb(_,w,N,z){this.tag=_,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=z,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pu(_){return _=_.prototype,!(!_||!_.isReactComponent)}function cs(_,w){var N=_.alternate;return N===null?(N=t(_.tag,w,_.key,_.mode),N.elementType=_.elementType,N.type=_.type,N.stateNode=_.stateNode,N.alternate=_,_.alternate=N):(N.pendingProps=w,N.type=_.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=_.flags&31457280,N.childLanes=_.childLanes,N.lanes=_.lanes,N.child=_.child,N.memoizedProps=_.memoizedProps,N.memoizedState=_.memoizedState,N.updateQueue=_.updateQueue,w=_.dependencies,N.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},N.sibling=_.sibling,N.index=_.index,N.ref=_.ref,N.refCleanup=_.refCleanup,N}function vu(_,w){_.flags&=31457282;var N=_.alternate;return N===null?(_.childLanes=0,_.lanes=w,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=N.childLanes,_.lanes=N.lanes,_.child=N.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=N.memoizedProps,_.memoizedState=N.memoizedState,_.updateQueue=N.updateQueue,_.type=N.type,w=N.dependencies,_.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),_}function ll(_,w,N,z,G,Q){var ve=0;if(z=_,typeof _=="function")pu(_)&&(ve=1);else if(typeof _=="string")ve=Ro&&Vi?_S(_,N,Mi.current)?26:Ip(_)?27:5:Ro?_S(_,N,Mi.current)?26:5:Vi&&Ip(_)?27:5;else e:switch(_){case Cp:return gu(N.children,G,Q,w);case $b:ve=8,G|=24;break;case Jb:return _=t(12,N,w,G|2),_.elementType=Jb,_.lanes=Q,_;case Zy:return _=t(13,N,w,G),_.elementType=Zy,_.lanes=Q,_;case Df:return _=t(19,N,w,G),_.elementType=Df,_.lanes=Q,_;case Vv:return qy(N,G,Q,w);default:if(typeof _=="object"&&_!==null)switch(_.$$typeof){case wE:case _c:ve=10;break e;case Cf:ve=9;break e;case Dp:ve=11;break e;case Uv:ve=14;break e;case Ol:ve=16,z=null;break e}ve=29,N=Error(a(130,_===null?"null":typeof _,"")),z=null}return w=t(ve,N,w,G),w.elementType=_,w.type=z,w.lanes=Q,w}function gu(_,w,N,z){return _=t(7,_,z,w),_.lanes=N,_}function qy(_,w,N,z){_=t(22,_,z,w),_.elementType=Vv,_.lanes=N;var G={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var Q=G._current;if(Q===null)throw Error(a(456));if((G._pendingVisibility&2)===0){var ve=oe(Q,2);ve!==null&&(G._pendingVisibility|=2,ls(ve,Q,2))}},attach:function(){var Q=G._current;if(Q===null)throw Error(a(456));if((G._pendingVisibility&2)!==0){var ve=oe(Q,2);ve!==null&&(G._pendingVisibility&=-3,ls(ve,Q,2))}}};return _.stateNode=G,_}function Mf(_,w,N){return _=t(6,_,null,w),_.lanes=N,_}function Mp(_,w,N){return w=t(4,_.children!==null?_.children:[],_.key,w),w.lanes=N,w.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},w}function Yh(_,w,N,z,G,Q,ve,Oe){this.tag=1,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Kh,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=z,this.onUncaughtError=G,this.onCaughtError=Q,this.onRecoverableError=ve,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Oe,this.incompleteTransitions=new Map}function Ei(_,w,N,z,G,Q,ve,Oe,Ze,xt,Ft,Zt){return _=new Yh(_,w,N,ve,Oe,Ze,xt,Zt),w=1,Q===!0&&(w|=24),Q=t(3,null,null,w),_.current=Q,Q.stateNode=_,w=Ly(),w.refCount++,_.pooledCache=w,w.refCount++,Q.memoizedState={element:z,isDehydrated:N,cache:w},Dt(Q),_}function Fv(_){return _?(_=Jh,_):Jh}function Xb(_){var w=_._reactInternals;if(w===void 0)throw typeof _.render=="function"?Error(a(188)):(_=Object.keys(_).join(","),Error(a(268,_)));return _=d(w),_=_!==null?v(_):null,_===null?null:Rp(_.stateNode)}function bE(_,w,N,z,G,Q){G=Fv(G),z.context===null?z.context=G:z.pendingContext=G,z=$e(w),z.payload={element:N},Q=Q===void 0?null:Q,Q!==null&&(z.callback=Q),N=yt(_,z,w),N!==null&&(ls(N,_,w),jt(N,_,w))}function SE(_,w){if(_=_.memoizedState,_!==null&&_.dehydrated!==null){var N=_.retryLane;_.retryLane=N!==0&&N<w?N:w}}function qb(_,w){SE(_,w),(_=_.alternate)&&SE(_,w)}var xr={},Zb=U_(),Fi=uae(),Xh=Object.assign,Kb=Symbol.for("react.element"),mu=Symbol.for("react.transitional.element"),Ll=Symbol.for("react.portal"),Cp=Symbol.for("react.fragment"),$b=Symbol.for("react.strict_mode"),Jb=Symbol.for("react.profiler"),wE=Symbol.for("react.provider"),Cf=Symbol.for("react.consumer"),_c=Symbol.for("react.context"),Dp=Symbol.for("react.forward_ref"),Zy=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),Uv=Symbol.for("react.memo"),Ol=Symbol.for("react.lazy"),Vv=Symbol.for("react.offscreen"),TE=Symbol.for("react.memo_cache_sentinel"),Qb=Symbol.iterator,qh=Symbol.for("react.client.reference"),Dr=Zb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ky,eS,Rf=!1,Nf=Array.isArray,$y=e.rendererVersion,Hv=e.rendererPackageName,Gv=e.extraDevToolsConfig,Rp=e.getPublicInstance,Zh=e.getRootHostContext,AE=e.getChildHostContext,If=e.prepareForCommit,tS=e.resetAfterCommit,rS=e.createInstance,bc=e.appendInitialChild,yu=e.finalizeInitialChildren,Lf=e.shouldSetTextContent,Jy=e.createTextInstance,nS=e.scheduleTimeout,jv=e.cancelTimeout,Kh=e.noTimeout,Sc=e.isPrimaryRenderer;e.warnsIfNotActing;var Ui=e.supportsMutation,Co=e.supportsPersistence,Cs=e.supportsHydration,aS=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var iS=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var us=e.setCurrentUpdatePriority,hi=e.getCurrentUpdatePriority,cl=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Of=e.shouldAttemptEagerTransition,sS=e.detachDeletedInstance;e.requestPostPaintCallback;var EE=e.maySuspendCommit,xu=e.preloadInstance,Do=e.startSuspendingCommit,Da=e.suspendInstance,Qy=e.waitForCommitToBeReady,qs=e.NotPendingTransition,Lr=e.HostTransitionContext,ea=e.resetFormInstance;e.bindToConsole;var Za=e.supportsMicrotasks,ex=e.scheduleMicrotask,wc=e.supportsTestSelectors,$h=e.findFiberRoot,tx=e.getBoundingRect,Wv=e.getTextContent,Tc=e.isHiddenSubtree,AL=e.matchAccessibilityRole,Ra=e.setFocusIfFocusable,oS=e.setupIntersectionObserver,lS=e.appendChild,ME=e.appendChildToContainer,CE=e.commitTextUpdate,EL=e.commitMount,cS=e.commitUpdate,uS=e.insertBefore,fS=e.insertInContainerBefore,Ds=e.removeChild,Ba=e.removeChildFromContainer,Yv=e.resetTextContent,Xv=e.hideInstance,rx=e.hideTextInstance,hS=e.unhideInstance,_u=e.unhideTextInstance,nx=e.clearContainer,dS=e.cloneInstance,ax=e.createContainerChildSet,pS=e.appendChildToContainerChildSet,DE=e.finalizeContainerChildren,vS=e.replaceContainerChildren,gS=e.cloneHiddenInstance,mS=e.cloneHiddenTextInstance,ix=e.isSuspenseInstancePending,qv=e.isSuspenseInstanceFallback,RE=e.getSuspenseInstanceFallbackErrorDetails,ML=e.registerSuspenseInstanceRetry,NE=e.canHydrateFormStateMarker,IE=e.isFormStateMarkerMatching,yS=e.getNextHydratableSibling,sx=e.getFirstHydratableChild,LE=e.getFirstHydratableChildWithinContainer,OE=e.getFirstHydratableChildWithinSuspenseInstance,kE=e.canHydrateInstance,PE=e.canHydrateTextInstance,BE=e.canHydrateSuspenseInstance,CL=e.hydrateInstance,zE=e.hydrateTextInstance,Np=e.hydrateSuspenseInstance,FE=e.getNextHydratableInstanceAfterSuspenseInstance,ox=e.commitHydratedContainer,lx=e.commitHydratedSuspenseInstance,UE=e.clearSuspenseBoundary,xS=e.clearSuspenseBoundaryFromContainer,VE=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var HE=e.validateHydratableInstance,GE=e.validateHydratableTextInstance,Ro=e.supportsResources,_S=e.isHostHoistableType,cx=e.getHoistableRoot,ux=e.getResource,bS=e.acquireResource,SS=e.releaseResource,wS=e.hydrateHoistable,TS=e.mountHoistable,AS=e.unmountHoistable,DL=e.createHoistableInstance,ES=e.prepareToCommitHoistables,jE=e.mayResourceSuspendCommit,MS=e.preloadResource,CS=e.suspendResource,Vi=e.supportsSingletons,DS=e.resolveSingletonInstance,RL=e.clearSingleton,NL=e.acquireSingletonInstance,WE=e.releaseSingletonInstance,Ip=e.isHostSingletonType,Zv=[],bu=-1,Jh={},Zs=Math.clz32?Math.clz32:S,Kv=Math.log,YE=Math.LN2,Lp=128,$v=4194304,Op=Fi.unstable_scheduleCallback,Jv=Fi.unstable_cancelCallback,XE=Fi.unstable_shouldYield,qE=Fi.unstable_requestPaint,Hi=Fi.unstable_now,RS=Fi.unstable_ImmediatePriority,ZE=Fi.unstable_UserBlockingPriority,fx=Fi.unstable_NormalPriority,hx=Fi.unstable_IdlePriority,KE=Fi.log,NS=Fi.unstable_setDisableYieldValue,kp=null,Ks=null,No=typeof Object.is=="function"?Object.is:X,dx=new WeakMap,_a=[],Na=0,Qv=null,eg=0,Io=[],Lo=0,kl=null,Ac=1,ul="",Mi=m(null),tg=m(null),Pl=m(null),Pp=m(null),fs=null,Gi=null,En=!1,Oo=null,fl=!1,rg=Error(a(519)),ko=[],kf=0,Bp=0,zp=null,Qh=null,ng=!1,ag=!1,Bl=!1,Pf=0,ig=null,px=0,$s=0,Bf=null,Su=!1,Fp=!1,sg=Object.prototype.hasOwnProperty,Zn=Error(a(460)),IS=Error(a(474)),vx={then:function(){}},ed=null,Ec=null,hl=0,zf=an(!0),LS=an(!1),Mc=m(null),Po=m(0),Bo=m(null),dl=null,Ka=m(0),Cc=0,Jr=null,zn=null,za=null,pl=!1,ba=!1,wu=!1,og=0,Ia=0,Up=null,$E=0,gx=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Mn={readContext:zi,use:Pe,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge};Mn.useCacheRefresh=ge,Mn.useMemoCache=ge,Mn.useHostTransitionStatus=ge,Mn.useFormState=ge,Mn.useActionState=ge,Mn.useOptimistic=ge;var $a={readContext:zi,use:Pe,useCallback:function(_,w){return Lt().memoizedState=[_,w===void 0?null:w],_},useContext:zi,useEffect:bb,useImperativeHandle:function(_,w,N){N=N!=null?N.concat([_]):null,ol(4194308,4,bv.bind(null,w,_),N)},useLayoutEffect:function(_,w){return ol(4194308,4,_,w)},useInsertionEffect:function(_,w){ol(4,2,_,w)},useMemo:function(_,w){var N=Lt();w=w===void 0?null:w;var z=_();if(wu){Z(!0);try{_()}finally{Z(!1)}}return N.memoizedState=[z,w],z},useReducer:function(_,w,N){var z=Lt();if(N!==void 0){var G=N(w);if(wu){Z(!0);try{N(w)}finally{Z(!1)}}}else G=w;return z.memoizedState=z.baseState=G,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:G},z.queue=_,_=_.dispatch=hf.bind(null,Jr,_),[z.memoizedState,_]},useRef:function(_){var w=Lt();return _={current:_},w.memoizedState=_},useState:function(_){_=bn(_);var w=_.queue,N=My.bind(null,Jr,w);return w.dispatch=N,[_.memoizedState,N]},useDebugValue:Sv,useDeferredValue:function(_,w){var N=Lt();return ff(N,_,w)},useTransition:function(){var _=bn(!1);return _=Ay.bind(null,Jr,_.queue,!0,!1),Lt().memoizedState=_,[!1,_]},useSyncExternalStore:function(_,w,N){var z=Jr,G=Lt();if(En){if(N===void 0)throw Error(a(407));N=N()}else{if(N=w(),cn===null)throw Error(a(349));(sn&60)!==0||pr(z,w,N)}G.memoizedState=N;var Q={value:N,getSnapshot:w};return G.queue=Q,bb(hr.bind(null,z,Q,_),[_]),z.flags|=2048,Ca(9,vr.bind(null,z,Q,N,w),{destroy:void 0},null),N},useId:function(){var _=Lt(),w=cn.identifierPrefix;if(En){var N=ul,z=Ac;N=(z&~(1<<32-Zs(z)-1)).toString(32)+N,w=":"+w+"R"+N,N=og++,0<N&&(w+="H"+N.toString(32)),w+=":"}else N=$E++,w=":"+w+"r"+N.toString(32)+":";return _.memoizedState=w},useCacheRefresh:function(){return Lt().memoizedState=wv.bind(null,Jr)}};$a.useMemoCache=Ue,$a.useHostTransitionStatus=Ph,$a.useFormState=hc,$a.useActionState=hc,$a.useOptimistic=function(_){var w=Lt();w.memoizedState=w.baseState=_;var N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return w.queue=N,w=Cy.bind(null,Jr,!0,N),N.dispatch=w,[_,w]};var hs={readContext:zi,use:Pe,useCallback:Ty,useContext:zi,useEffect:_v,useImperativeHandle:dc,useInsertionEffect:QA,useLayoutEffect:eE,useMemo:kh,useReducer:wt,useRef:Dl,useState:function(){return wt(Fe)},useDebugValue:Sv,useDeferredValue:function(_,w){var N=le();return Sb(N,zn.memoizedState,_,w)},useTransition:function(){var _=wt(Fe)[0],w=le().memoizedState;return[typeof _=="boolean"?_:Ce(_),w]},useSyncExternalStore:qt,useId:pc};hs.useCacheRefresh=Ey,hs.useMemoCache=Ue,hs.useHostTransitionStatus=Ph,hs.useFormState=aa,hs.useActionState=aa,hs.useOptimistic=function(_,w){var N=le();return hn(N,zn,_,w)};var Ff={readContext:zi,use:Pe,useCallback:Ty,useContext:zi,useEffect:_v,useImperativeHandle:dc,useInsertionEffect:QA,useLayoutEffect:eE,useMemo:kh,useReducer:Wt,useRef:Dl,useState:function(){return Wt(Fe)},useDebugValue:Sv,useDeferredValue:function(_,w){var N=le();return zn===null?ff(N,_,w):Sb(N,zn.memoizedState,_,w)},useTransition:function(){var _=Wt(Fe)[0],w=le().memoizedState;return[typeof _=="boolean"?_:Ce(_),w]},useSyncExternalStore:qt,useId:pc};Ff.useCacheRefresh=Ey,Ff.useMemoCache=Ue,Ff.useHostTransitionStatus=Ph,Ff.useFormState=fi,Ff.useActionState=fi,Ff.useOptimistic=function(_,w){var N=le();return zn!==null?hn(N,zn,_,w):(N.baseState=_,[_,N.queue.dispatch])};var mx={isMounted:function(_){return(_=_._reactInternals)?f(_)===_:!1},enqueueSetState:function(_,w,N){_=_._reactInternals;var z=Ms(),G=$e(z);G.payload=w,N!=null&&(G.callback=N),w=yt(_,G,z),w!==null&&(ls(w,_,z),jt(w,_,z))},enqueueReplaceState:function(_,w,N){_=_._reactInternals;var z=Ms(),G=$e(z);G.tag=1,G.payload=w,N!=null&&(G.callback=N),w=yt(_,G,z),w!==null&&(ls(w,_,z),jt(w,_,z))},enqueueForceUpdate:function(_,w){_=_._reactInternals;var N=Ms(),z=$e(N);z.tag=2,w!=null&&(z.callback=w),w=yt(_,z,N),w!==null&&(ls(w,_,N),jt(w,_,N))}},OS=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},JE=Error(a(461)),Fa=!1,ds={dehydrated:null,treeContext:null,retryLane:0},Js=m(null),Uf=null,La=null,QE=typeof AbortController<"u"?AbortController:function(){var _=[],w=this.signal={aborted:!1,addEventListener:function(N,z){_.push(z)}};this.abort=function(){w.aborted=!0,_.forEach(function(N){return N()})}},Tu=Fi.unstable_scheduleCallback,td=Fi.unstable_NormalPriority,jn={$$typeof:_c,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},yx=Dr.S;Dr.S=function(_,w){typeof w=="object"&&w!==null&&typeof w.then=="function"&&Ge(_,w),yx!==null&&yx(_,w)};var Au=m(null),di=!1,Aa=!1,Vf=!1,Vp=typeof WeakSet=="function"?WeakSet:Set,Oa=null,rd=!1,Ua=null,Qs=!1,Rs=null,nd=8192,xx={getCacheForType:function(_){var w=zi(jn),N=w.data.get(_);return N===void 0&&(N=_(),w.data.set(_,N)),N}},lg=0,_x=1,bx=2,Sn=3,Wn=4;if(typeof Symbol=="function"&&Symbol.for){var Qr=Symbol.for;lg=Qr("selector.component"),_x=Qr("selector.has_pseudo_class"),bx=Qr("selector.role"),Sn=Qr("selector.test_id"),Wn=Qr("selector.text")}var vn=typeof WeakMap=="function"?WeakMap:Map,_r=0,cn=null,Wr=null,sn=0,ta=0,Va=null,Yn=!1,zo=!1,Eu=!1,zl=0,wn=0,Fo=0,Fl=0,ps=0,eo=0,Mu=0,Hp=null,Uo=null,Gp=!1,Dc=0,Ea=1/0,Ul=null,Vo=null,vl=!1,Cu=null,ad=0,Sx=0,id=null,sd=0,Ns=null;return xr.attemptContinuousHydration=function(_){if(_.tag===13){var w=oe(_,67108864);w!==null&&ls(w,_,67108864),qb(_,67108864)}},xr.attemptHydrationAtCurrentPriority=function(_){if(_.tag===13){var w=Ms(),N=oe(_,w);N!==null&&ls(N,_,w),qb(_,w)}},xr.attemptSynchronousHydration=function(_){switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var w=A(_.pendingLanes);if(w!==0){for(_.pendingLanes|=2,_.entangledLanes|=2;w;){var N=1<<31-Zs(w);_.entanglements[1]|=N,w&=~N}Be(_),(_r&6)===0&&(Ea=Hi()+500,ze(0))}}break;case 13:w=oe(_,2),w!==null&&ls(w,_,2),Gb(),qb(_,2)}},xr.batchedUpdates=function(_,w){return _(w)},xr.createComponentSelector=function(_){return{$$typeof:lg,value:_}},xr.createContainer=function(_,w,N,z,G,Q,ve,Oe,Ze,xt){return Ei(_,w,!1,null,N,z,Q,ve,Oe,Ze,xt,null)},xr.createHasPseudoClassSelector=function(_){return{$$typeof:_x,value:_}},xr.createHydrationContainer=function(_,w,N,z,G,Q,ve,Oe,Ze,xt,Ft,Zt,tr){return _=Ei(N,z,!0,_,G,Q,Oe,Ze,xt,Ft,Zt,tr),_.context=Fv(null),N=_.current,z=Ms(),G=$e(z),G.callback=w??null,yt(N,G,z),_.current.lanes=z,P(_,z),Be(_),_},xr.createPortal=function(_,w,N){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ll,key:z==null?null:""+z,children:_,containerInfo:w,implementation:N}},xr.createRoleSelector=function(_){return{$$typeof:bx,value:_}},xr.createTestNameSelector=function(_){return{$$typeof:Sn,value:_}},xr.createTextSelector=function(_){return{$$typeof:Wn,value:_}},xr.defaultOnCaughtError=function(_){console.error(_)},xr.defaultOnRecoverableError=function(_){OS(_)},xr.defaultOnUncaughtError=function(_){OS(_)},xr.deferredUpdates=function(_){var w=Dr.T,N=hi();try{return us(32),Dr.T=null,_()}finally{us(N),Dr.T=w}},xr.discreteUpdates=function(_,w,N,z,G){var Q=Dr.T,ve=hi();try{return us(2),Dr.T=null,_(w,N,z,G)}finally{us(ve),Dr.T=Q,_r===0&&(Ea=Hi()+500)}},xr.findAllNodes=Es,xr.findBoundingRects=function(_,w){if(!wc)throw Error(a(363));w=Es(_,w),_=[];for(var N=0;N<w.length;N++)_.push(tx(w[N]));for(w=_.length-1;0<w;w--){N=_[w];for(var z=N.x,G=z+N.width,Q=N.y,ve=Q+N.height,Oe=w-1;0<=Oe;Oe--)if(w!==Oe){var Ze=_[Oe],xt=Ze.x,Ft=xt+Ze.width,Zt=Ze.y,tr=Zt+Ze.height;if(z>=xt&&Q>=Zt&&G<=Ft&&ve<=tr){_.splice(w,1);break}else if(z!==xt||N.width!==Ze.width||tr<Q||Zt>ve){if(!(Q!==Zt||N.height!==Ze.height||Ft<z||xt>G)){xt>z&&(Ze.width+=xt-z,Ze.x=z),Ft<G&&(Ze.width=G-xt),_.splice(w,1);break}}else{Zt>Q&&(Ze.height+=Zt-Q,Ze.y=Q),tr<ve&&(Ze.height=ve-Zt),_.splice(w,1);break}}}return _},xr.findHostInstance=Xb,xr.findHostInstanceWithNoPortals=function(_){return _=d(_),_=_!==null?g(_):null,_===null?null:Rp(_.stateNode)},xr.findHostInstanceWithWarning=function(_){return Xb(_)},xr.flushPassiveEffects=Ai,xr.flushSyncFromReconciler=function(_){var w=_r;_r|=1;var N=Dr.T,z=hi();try{if(us(2),Dr.T=null,_)return _()}finally{us(z),Dr.T=N,_r=w,(_r&6)===0&&ze(0)}},xr.flushSyncWork=Gb,xr.focusWithin=function(_,w){if(!wc)throw Error(a(363));for(_=Gy(_),w=yE(_,w),w=Array.from(w),_=0;_<w.length;){var N=w[_++],z=N.tag;if(!Tc(N)){if((z===5||z===26||z===27)&&Ra(N.stateNode))return!0;for(N=N.child;N!==null;)w.push(N),N=N.sibling}}return!1},xr.getFindAllNodesFailureDescription=function(_,w){if(!wc)throw Error(a(363));var N=0,z=[];_=[Gy(_),0];for(var G=0;G<_.length;){var Q=_[G++],ve=Q.tag,Oe=_[G++],Ze=w[Oe];if((ve!==5&&ve!==26&&ve!==27||!Tc(Q))&&(Ap(Q,Ze)&&(z.push(Af(Ze)),Oe++,Oe>N&&(N=Oe)),Oe<w.length))for(Q=Q.child;Q!==null;)_.push(Q,Oe),Q=Q.sibling}if(N<w.length){for(_=[];N<w.length;N++)_.push(Af(w[N]));return`findAllNodes was able to match part of the selector:
  `+(z.join(" > ")+`

No matching component was found for:
  `)+_.join(" > ")}return null},xr.getPublicRootInstance=function(_){if(_=_.current,!_.child)return null;switch(_.child.tag){case 27:case 5:return Rp(_.child.stateNode);default:return _.child.stateNode}},xr.injectIntoDevTools=function(){var _={bundleType:0,version:$y,rendererPackageName:Hv,currentDispatcherRef:Dr,findFiberByHostInstance:aS,reconcilerVersion:"19.0.0"};if(Gv!==null&&(_.rendererConfig=Gv),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")_=!1;else{var w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(w.isDisabled||!w.supportsFiber)_=!0;else{try{kp=w.inject(_),Ks=w}catch{}_=!!w.checkDCE}}return _},xr.isAlreadyRendering=function(){return!1},xr.observeVisibleRects=function(_,w,N,z){if(!wc)throw Error(a(363));_=Es(_,w);var G=oS(_,N,z).disconnect;return{disconnect:function(){G()}}},xr.shouldError=function(){return null},xr.shouldSuspend=function(){return!1},xr.startHostTransition=function(_,w,N,z){if(_.tag!==5)throw Error(a(476));var G=wb(_).queue;Ay(_,G,w,qs,N===null?n:function(){var Q=wb(_).next.queue;return df(_,Q,{},Ms()),N(z)})},xr.updateContainer=function(_,w,N,z){var G=w.current,Q=Ms();return bE(G,Q,_,w,N,z),Q},xr.updateContainerSync=function(_,w,N,z){return w.tag===0&&Ai(),bE(w.current,2,_,w,N,z),2},xr},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})})(MO)),MO.exports}var cW;function I4e(){return cW||(cW=1,EO.exports=N4e()),EO.exports}var L4e=I4e();const O4e=F_(L4e);var uW=uae();function qz(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=e?r.return:r.child;for(;n;){const a=qz(n,e,t);if(a)return a;n=e?null:n.sibling}}function fae(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const Zz=fae(xe.createContext(null));let hae=class extends xe.Component{render(){return xe.createElement(Zz.Provider,{value:this._reactInternals},this.props.children)}};function dae(){const r=xe.useContext(Zz);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=xe.useId();return xe.useMemo(()=>{for(const t of[r,r==null?void 0:r.alternate]){if(!t)continue;const n=qz(t,!1,a=>{let i=a.memoizedState;for(;i;){if(i.memoizedState===e)return!0;i=i.next}});if(n)return n}},[r,e])}const k4e=Symbol.for("react.context"),P4e=r=>r!==null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===k4e;function B4e(){const r=dae(),[e]=xe.useState(()=>new Map);e.clear();let t=r;for(;t;){const n=t.type;P4e(n)&&n!==Zz&&!e.has(n)&&e.set(n,xe.use(fae(n))),t=t.return}return e}function z4e(){const r=B4e();return xe.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>xe.createElement(e,null,xe.createElement(t.Provider,{...n,value:r.get(t)})),e=>xe.createElement(hae,{...e})),[r])}function pae(r){let e=r.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const vae=r=>r&&r.isOrthographicCamera,F4e=r=>r&&r.hasOwnProperty("current"),U4e=r=>r!=null&&(typeof r=="string"||typeof r=="number"||r.isColor),NA=((r,e)=>typeof window<"u"&&(((r=window.document)==null?void 0:r.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?xe.useLayoutEffect:xe.useEffect;function gae(r){const e=xe.useRef(r);return NA(()=>void(e.current=r),[r]),e}function V4e(){const r=dae(),e=z4e();return xe.useMemo(()=>({children:t})=>{const a=!!qz(r,!0,i=>i.type===xe.StrictMode)?xe.StrictMode:xe.Fragment;return D.jsx(a,{children:D.jsx(e,{children:t})})},[r,e])}function H4e({set:r}){return NA(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}const G4e=(r=>(r=class extends xe.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},r.getDerivedStateFromError=()=>({error:!0}),r))();function mae(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}function e1(r){var e;return(e=r.__r3f)==null?void 0:e.root.getState()}const Ha={obj:r=>r===Object(r)&&!Ha.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,nul:r=>r===null,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:a=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(Ha.str(r)||Ha.num(r)||Ha.boo(r))return r===e;const i=Ha.obj(r);if(i&&n==="reference")return r===e;const s=Ha.arr(r);if(s&&t==="reference")return r===e;if((s||i)&&r===e)return!0;let o;for(o in r)if(!(o in e))return!1;if(i&&t==="shallow"&&n==="shallow"){for(o in a?e:r)if(!Ha.equ(r[o],e[o],{strict:a,objects:"reference"}))return!1}else for(o in a?e:r)if(r[o]!==e[o])return!1;if(Ha.und(o)){if(s&&r.length===0&&e.length===0||i&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function j4e(r){r.type!=="Scene"&&(r.dispose==null||r.dispose());for(const e in r){const t=r[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const yae=["children","key","ref"];function W4e(r){const e={};for(const t in r)yae.includes(t)||(e[t]=r[t]);return e}function CR(r,e,t,n){const a=r;let i=a==null?void 0:a.__r3f;return i||(i={root:e,type:t,parent:null,children:[],props:W4e(n),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=i)),i}function CT(r,e){if(!e.includes("-"))return{root:r,key:e,target:r[e]};if(e in r)return{root:r,key:e,target:r[e]};let t=r;const n=e.split("-");for(const a of n){if(typeof t!="object"||t===null){if(t!==void 0){const i=n.slice(n.indexOf(a)).join("-");return{root:t,key:i,target:void 0}}return{root:r,key:e,target:void 0}}e=a,r=t,t=t[e]}return{root:r,key:e,target:t}}const fW=/-\d+$/;function DR(r,e){if(Ha.str(e.props.attach)){if(fW.test(e.props.attach)){const a=e.props.attach.replace(fW,""),{root:i,key:s}=CT(r.object,a);Array.isArray(i[s])||(i[s]=[])}const{root:t,key:n}=CT(r.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Ha.fun(e.props.attach)&&(e.previousAttach=e.props.attach(r.object,e.object))}function RR(r,e){if(Ha.str(e.props.attach)){const{root:t,key:n}=CT(r.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[n]:t[n]=a}else e.previousAttach==null||e.previousAttach(r.object,e.object);delete e.previousAttach}const KP=[...yae,"args","dispose","attach","object","onUpdate","dispose"],hW=new Map;function Y4e(r){let e=hW.get(r.constructor);try{e||(e=new r.constructor,hW.set(r.constructor,e))}catch{}return e}function X4e(r,e){const t={};for(const n in e)if(!KP.includes(n)&&!Ha.equ(e[n],r.props[n])){t[n]=e[n];for(const a in e)a.startsWith(`${n}-`)&&(t[a]=e[a])}for(const n in r.props){if(KP.includes(n)||e.hasOwnProperty(n))continue;const{root:a,key:i}=CT(r.object,n);if(a.constructor&&a.constructor.length===0){const s=Y4e(a);Ha.und(s)||(t[i]=s[i])}else t[i]=0}return t}const q4e=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Z4e=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function T0(r,e){var t;const n=r.__r3f,a=n&&pae(n).getState(),i=n==null?void 0:n.eventCount;for(const o in e){let l=e[o];if(KP.includes(o))continue;if(n&&Z4e.test(o)){typeof l=="function"?n.handlers[o]=l:delete n.handlers[o],n.eventCount=Object.keys(n.handlers).length;continue}if(l===void 0)continue;let{root:c,key:u,target:f}=CT(r,o);if(f===void 0&&(typeof c!="object"||c===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${u}".`);if(f instanceof m_&&l instanceof m_)f.mask=l.mask;else if(f instanceof Jt&&U4e(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var s;c[u]=l,a&&!a.linear&&q4e.includes(u)&&(s=c[u])!=null&&s.isTexture&&c[u].format===go&&c[u].type===$c&&(c[u].colorSpace=fo)}}if(n!=null&&n.parent&&a!=null&&a.internal&&(t=n.object)!=null&&t.isObject3D&&i!==n.eventCount){const o=n.object,l=a.internal.interaction.indexOf(o);l>-1&&a.internal.interaction.splice(l,1),n.eventCount&&o.raycast!==null&&a.internal.interaction.push(o)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Q_(n),r}function Q_(r){var e;if(!r.parent)return;r.props.onUpdate==null||r.props.onUpdate(r.object);const t=(e=r.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function K4e(r,e){r.manual||(vae(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix())}const _l=r=>r==null?void 0:r.isObject3D;function EC(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function xae(r,e,t,n){const a=t.get(e);a&&(t.delete(e),t.size===0&&(r.delete(n),a.target.releasePointerCapture(n)))}function $4e(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,a)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((n,a)=>{xae(t.capturedMap,e,n,a)})}function J4e(r){function e(l){const{internal:c}=r.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function n(l,c){const u=r.getState(),f=new Set,h=[],d=c?c(u.internal.interaction):u.internal.interaction;for(let y=0;y<d.length;y++){const b=e1(d[y]);b&&(b.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(y){const b=e1(y);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var S;b.events.compute==null||b.events.compute(l,b,(S=b.previousRoot)==null?void 0:S.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(y,!0):[]}let g=d.flatMap(v).sort((y,b)=>{const S=e1(y.object),A=e1(b.object);return!S||!A?y.distance-b.distance:A.events.priority-S.events.priority||y.distance-b.distance}).filter(y=>{const b=EC(y);return f.has(b)?!1:(f.add(b),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const y of g){let b=y.object;for(;b;){var m;(m=b.__r3f)!=null&&m.eventCount&&h.push({...y,eventObject:b}),b=b.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let y of u.internal.capturedMap.get(l.pointerId).values())f.has(EC(y.intersection))||h.push(y.intersection);return h}function a(l,c,u,f){if(l.length){const h={stopped:!1};for(const d of l){let v=e1(d.object);if(v||d.object.traverseAncestors(g=>{const m=e1(g);if(m)return v=m,!1}),v){const{raycaster:g,pointer:m,camera:y,internal:b}=v,S=new Ee(m.x,m.y,0).unproject(y),A=I=>{var O,P;return(O=(P=b.capturedMap.get(I))==null?void 0:P.has(d.eventObject))!=null?O:!1},E=I=>{const O={intersection:d,target:c.target};b.capturedMap.has(I)?b.capturedMap.get(I).set(d.eventObject,O):b.capturedMap.set(I,new Map([[d.eventObject,O]])),c.target.setPointerCapture(I)},M=I=>{const O=b.capturedMap.get(I);O&&xae(b.capturedMap,d.eventObject,O,I)};let R={};for(let I in c){let O=c[I];typeof O!="function"&&(R[I]=O)}let L={...d,...R,pointer:m,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:S,ray:g.ray,camera:y,stopPropagation(){const I="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!I||I.has(d.eventObject))&&(L.stopped=h.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(O=>O.eventObject===d.eventObject))){const O=l.slice(0,l.indexOf(d));i([...O,d])}},target:{hasPointerCapture:A,setPointerCapture:E,releasePointerCapture:M},currentTarget:{hasPointerCapture:A,setPointerCapture:E,releasePointerCapture:M},nativeEvent:c};if(f(L),h.stopped===!0)break}}}return l}function i(l){const{internal:c}=r.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const h=u.eventObject.__r3f;if(c.hovered.delete(EC(u)),h!=null&&h.eventCount){const d=h.handlers,v={...u,intersections:l};d.onPointerOut==null||d.onPointerOut(v),d.onPointerLeave==null||d.onPointerLeave(v)}}}function s(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>i([]);case"onLostPointerCapture":return c=>{const{internal:u}=r.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),i([]))})}}return function(u){const{onPointerMissed:f,internal:h}=r.getState();h.lastEvent.current=u;const d=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",m=n(u,d?t:void 0),y=v?e(u):0;l==="onPointerDown"&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=m.map(S=>S.eventObject)),v&&!m.length&&y<=2&&(s(u,h.interaction),f&&f(u)),d&&i(m);function b(S){const A=S.eventObject,E=A.__r3f;if(!(E!=null&&E.eventCount))return;const M=E.handlers;if(d){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const R=EC(S),L=h.hovered.get(R);L?L.stopped&&S.stopPropagation():(h.hovered.set(R,S),M.onPointerOver==null||M.onPointerOver(S),M.onPointerEnter==null||M.onPointerEnter(S))}M.onPointerMove==null||M.onPointerMove(S)}else{const R=M[l];R?(!v||h.initialHits.includes(A))&&(s(u,h.interaction.filter(L=>!h.initialHits.includes(L))),R(S)):v&&h.initialHits.includes(A)&&s(u,h.interaction.filter(L=>!h.initialHits.includes(L)))}}a(m,u,y,b)}}return{handlePointer:o}}const dW=r=>!!(r!=null&&r.render),_ae=xe.createContext(null),Q4e=(r,e)=>{const t=D4e((o,l)=>{const c=new Ee,u=new Ee,f=new Ee;function h(y=l().camera,b=u,S=l().size){const{width:A,height:E,top:M,left:R}=S,L=A/E;b.isVector3?f.copy(b):f.set(...b);const I=y.getWorldPosition(c).distanceTo(f);if(vae(y))return{width:A/y.zoom,height:E/y.zoom,top:M,left:R,factor:1,distance:I,aspect:L};{const O=y.fov*Math.PI/180,P=2*Math.tan(O/2)*I,k=P*(A/E);return{width:k,height:P,top:M,left:R,factor:A/k,distance:I,aspect:L}}}let d;const v=y=>o(b=>({performance:{...b.performance,current:y}})),g=new St;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(y=1)=>r(l(),y),advance:(y,b)=>e(y,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Gz,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();d&&clearTimeout(d),y.performance.current!==y.performance.min&&v(y.performance.min),d=setTimeout(()=>v(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:y=>o(b=>({...b,events:{...b.events,...y}})),setSize:(y,b,S=0,A=0)=>{const E=l().camera,M={width:y,height:b,top:S,left:A};o(R=>({size:M,viewport:{...R.viewport,...h(E,u,M)}}))},setDpr:y=>o(b=>{const S=mae(y);return{viewport:{...b.viewport,dpr:S,initialDpr:b.viewport.initialDpr||S}}}),setFrameloop:(y="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,y!=="never"&&(b.start(),b.elapsedTime=0),o(()=>({frameloop:y}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:xe.createRef(),active:!1,frames:0,priority:0,subscribe:(y,b,S)=>{const A=l().internal;return A.priority=A.priority+(b>0?1:0),A.subscribers.push({ref:y,priority:b,store:S}),A.subscribers=A.subscribers.sort((E,M)=>E.priority-M.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(b>0?1:0),E.subscribers=E.subscribers.filter(M=>M.ref!==y))}}}}}),n=t.getState();let a=n.size,i=n.viewport.dpr,s=n.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:u,set:f}=t.getState();if(l.width!==a.width||l.height!==a.height||c.dpr!==i){a=l,i=c.dpr,K4e(o,l),c.dpr>0&&u.setPixelRatio(c.dpr);const h=typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}o!==s&&(s=o,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>r(o)),t};function bae(){const r=xe.useContext(_ae);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function o0(r=t=>t,e){return bae()(r,e)}function BI(r,e=0){const t=bae(),n=t.getState().internal.subscribe,a=gae(r);return NA(()=>n(a,e,t),[e,n,t]),null}function eOe(r){const e=O4e(r);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:xe.version}),e}const Sae=0,b_={},tOe=/^three(?=[A-Z])/,zI=r=>`${r[0].toUpperCase()}${r.slice(1)}`;let rOe=0;const nOe=r=>typeof r=="function";function aOe(r){if(nOe(r)){const e=`${rOe++}`;return b_[e]=r,e}else Object.assign(b_,r)}function wae(r,e){const t=zI(r),n=b_[t];if(r!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(r==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function iOe(r,e,t){var n;return r=zI(r)in b_?r:r.replace(tOe,""),wae(r,e),r==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,CR(e.object,t,r,e)}function sOe(r){if(!r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?RR(r.parent,r):_l(r.object)&&(r.object.visible=!1),r.isHidden=!0,Q_(r)}}function Tae(r){if(r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?DR(r.parent,r):_l(r.object)&&r.props.visible!==!1&&(r.object.visible=!0),r.isHidden=!1,Q_(r)}}function Kz(r,e,t){const n=e.root.getState();if(!(!r.parent&&r.object!==n.scene)){if(!e.object){var a,i;const s=b_[zI(e.type)];e.object=(a=e.props.object)!=null?a:new s(...(i=e.props.args)!=null?i:[]),e.object.__r3f=e}if(T0(e.object,e.props),e.props.attach)DR(r,e);else if(_l(e.object)&&_l(r.object)){const s=r.object.children.indexOf(t==null?void 0:t.object);if(t&&s!==-1){const o=r.object.children.indexOf(e.object);if(o!==-1){r.object.children.splice(o,1);const l=o<s?s-1:s;r.object.children.splice(l,0,e.object)}else e.object.parent=r.object,r.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),r.object.dispatchEvent({type:"childadded",child:e.object})}else r.object.add(e.object)}for(const s of e.children)Kz(e,s);Q_(e)}}function RO(r,e){e&&(e.parent=r,r.children.push(e),Kz(r,e))}function pW(r,e,t){if(!e||!t)return;e.parent=r;const n=r.children.indexOf(t);n!==-1?r.children.splice(n,0,e):r.children.push(e),Kz(r,e,t)}function Aae(r){if(typeof r.dispose=="function"){const e=()=>{try{r.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():uW.unstable_scheduleCallback(uW.unstable_IdlePriority,e)}}function $P(r,e,t){if(!e)return;e.parent=null;const n=r.children.indexOf(e);n!==-1&&r.children.splice(n,1),e.props.attach?RR(r,e):_l(e.object)&&_l(r.object)&&(r.object.remove(e.object),$4e(pae(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let i=e.children.length-1;i>=0;i--){const s=e.children[i];$P(e,s,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&Aae(e.object),t===void 0&&Q_(e)}function oOe(r,e){for(const t of[r,r.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const Z3=[];function lOe(){for(const[t]of Z3){const n=t.parent;if(n){t.props.attach?RR(n,t):_l(t.object)&&_l(n.object)&&n.object.remove(t.object);for(const a of t.children)a.props.attach?RR(t,a):_l(a.object)&&_l(t.object)&&t.object.remove(a.object)}t.isHidden&&Tae(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&Aae(t.object)}for(const[t,n,a]of Z3){t.props=n;const i=t.parent;if(i){var r,e;const s=b_[zI(t.type)];t.object=(r=t.props.object)!=null?r:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,oOe(a,t.object),T0(t.object,t.props),t.props.attach?DR(i,t):_l(t.object)&&_l(i.object)&&i.object.add(t.object);for(const o of t.children)o.props.attach?DR(t,o):_l(o.object)&&_l(t.object)&&t.object.add(o.object);Q_(t)}}Z3.length=0}const NO=()=>{},vW={};let MC=Sae;const cOe=0,uOe=4,JP=eOe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:iOe,removeChild:$P,appendChild:RO,appendInitialChild:RO,insertBefore:pW,appendChildToContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||RO(t,e)},removeChildFromContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||$P(t,e)},insertInContainerBefore(r,e,t){const n=r.getState().scene.__r3f;!e||!t||!n||pW(n,e,t)},getRootHostContext:()=>vW,getChildHostContext:()=>vW,commitUpdate(r,e,t,n,a){var i,s,o;wae(e,n);let l=!1;if((r.type==="primitive"&&t.object!==n.object||((i=n.args)==null?void 0:i.length)!==((s=t.args)==null?void 0:s.length)||(o=n.args)!=null&&o.some((u,f)=>{var h;return u!==((h=t.args)==null?void 0:h[f])}))&&(l=!0),l)Z3.push([r,{...n},a]);else{const u=X4e(r,n);Object.keys(u).length&&(Object.assign(r.props,u),T0(r.object,u))}(a.sibling===null||(a.flags&uOe)===cOe)&&lOe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:r=>r==null?void 0:r.object,prepareForCommit:()=>null,preparePortalMount:r=>CR(r.getState().scene,r,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:sOe,unhideInstance:Tae,createTextInstance:NO,hideTextInstance:NO,unhideTextInstance:NO,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:xe.createContext(null),setCurrentUpdatePriority(r){MC=r},getCurrentUpdatePriority(){return MC},resolveUpdatePriority(){var r;if(MC!==Sae)return MC;switch(typeof window<"u"&&((r=window.event)==null?void 0:r.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return W3.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return W3.ContinuousEventPriority;default:return W3.DefaultEventPriority}},resetFormInstance(){}}),jm=new Map,t1={objects:"shallow",strict:!1};function fOe(r,e){if(!e&&typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:t,height:n,top:a,left:i}=r.parentElement.getBoundingClientRect();return{width:t,height:n,top:a,left:i}}else if(!e&&typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function hOe(r){const e=jm.get(r),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,i=n||Q4e(t6,mW),s=t||JP.createContainer(i,W3.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||jm.set(r,{fiber:s,store:i});let o,l,c=!1,u=null;return{async configure(f={}){let h;u=new Promise(W=>h=W);let{gl:d,size:v,scene:g,events:m,onCreated:y,shadows:b=!1,linear:S=!1,flat:A=!1,legacy:E=!1,orthographic:M=!1,frameloop:R="always",dpr:L=[1,2],performance:I,raycaster:O,camera:P,onPointerMissed:k}=f,U=i.getState(),F=U.gl;if(!U.gl){const W={canvas:r,powerPreference:"high-performance",antialias:!0,alpha:!0},j=typeof d=="function"?await d(W):d;dW(j)?F=j:F=new cae({...W,...d}),U.set({gl:F})}let q=U.raycaster;q||U.set({raycaster:q=new tae});const{params:H,...Z}=O||{};if(Ha.equ(Z,q,t1)||T0(q,{...Z}),Ha.equ(H,q.params,t1)||T0(q,{params:{...q.params,...H}}),!U.camera||U.camera===l&&!Ha.equ(l,P,t1)){l=P;const W=P==null?void 0:P.isCamera,j=W?P:M?new F0(0,0,0,0,.1,1e3):new yi(75,0,.1,1e3);W||(j.position.z=5,P&&(T0(j,P),j.manual||("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(j.manual=!0,j.updateProjectionMatrix())),!U.camera&&!(P!=null&&P.rotation)&&j.lookAt(0,0,0)),U.set({camera:j}),q.camera=j}if(!U.scene){let W;g!=null&&g.isScene?(W=g,CR(W,i,"",{})):(W=new Sz,CR(W,i,"",{}),g&&T0(W,g)),U.set({scene:W})}m&&!U.events.handlers&&U.set({events:m(i)});const X=fOe(r,v);if(Ha.equ(X,U.size,t1)||U.setSize(X.width,X.height,X.top,X.left),L&&U.viewport.dpr!==mae(L)&&U.setDpr(L),U.frameloop!==R&&U.setFrameloop(R),U.onPointerMissed||U.set({onPointerMissed:k}),I&&!Ha.equ(I,U.performance,t1)&&U.set(W=>({performance:{...W.performance,...I}})),!U.xr){var Y;const W=(ee,ae)=>{const ce=i.getState();ce.frameloop!=="never"&&mW(ee,!0,ce,ae)},j=()=>{const ee=i.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?W:null),ee.gl.xr.isPresenting||t6(ee)},J={connect(){const ee=i.getState().gl;ee.xr.addEventListener("sessionstart",j),ee.xr.addEventListener("sessionend",j)},disconnect(){const ee=i.getState().gl;ee.xr.removeEventListener("sessionstart",j),ee.xr.removeEventListener("sessionend",j)}};typeof((Y=F.xr)==null?void 0:Y.addEventListener)=="function"&&J.connect(),U.set({xr:J})}if(F.shadowMap){const W=F.shadowMap.enabled,j=F.shadowMap.type;if(F.shadowMap.enabled=!!b,Ha.boo(b))F.shadowMap.type=Tw;else if(Ha.str(b)){var re;const J={basic:fre,percentage:rI,soft:Tw,variance:Fu};F.shadowMap.type=(re=J[b])!=null?re:Tw}else Ha.obj(b)&&Object.assign(F.shadowMap,b);(W!==F.shadowMap.enabled||j!==F.shadowMap.type)&&(F.shadowMap.needsUpdate=!0)}return Nn.enabled=!E,c||(F.outputColorSpace=S?Q0:fo,F.toneMapping=A?gh:lz),U.legacy!==E&&U.set(()=>({legacy:E})),U.linear!==S&&U.set(()=>({linear:S})),U.flat!==A&&U.set(()=>({flat:A})),d&&!Ha.fun(d)&&!dW(d)&&!Ha.equ(d,F,t1)&&T0(F,d),o=y,c=!0,h(),this},render(f){return!c&&!u&&this.configure(),u.then(()=>{JP.updateContainer(D.jsx(dOe,{store:i,children:f,onCreated:o,rootElement:r}),s,null,()=>{})}),i},unmount(){Eae(r)}}}function dOe({store:r,children:e,onCreated:t,rootElement:n}){return NA(()=>{const a=r.getState();a.set(i=>({internal:{...i.internal,active:!0}})),t&&t(a),r.getState().events.connected||a.events.connect==null||a.events.connect(n)},[]),D.jsx(_ae.Provider,{value:r,children:e})}function Eae(r,e){const t=jm.get(r),n=t==null?void 0:t.fiber;if(n){const a=t==null?void 0:t.store.getState();a&&(a.internal.active=!1),JP.updateContainer(null,n,null,()=>{a&&setTimeout(()=>{try{var i,s,o,l;a.events.disconnect==null||a.events.disconnect(),(i=a.gl)==null||(s=i.renderLists)==null||s.dispose==null||s.dispose(),(o=a.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=a.gl)!=null&&l.xr&&a.xr.disconnect(),j4e(a.scene),jm.delete(r)}catch{}},500)})}}const pOe=new Set,vOe=new Set,gOe=new Set;function IO(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function Lw(r,e){switch(r){case"before":return IO(pOe,e);case"after":return IO(vOe,e);case"tail":return IO(gOe,e)}}let LO,OO;function QP(r,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),LO=e.internal.subscribers;for(let a=0;a<LO.length;a++)OO=LO[a],OO.ref.current(OO.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let NR=!1,e6=!1,kO,gW,r1;function Mae(r){gW=requestAnimationFrame(Mae),NR=!0,kO=0,Lw("before",r),e6=!0;for(const t of jm.values()){var e;r1=t.store.getState(),r1.internal.active&&(r1.frameloop==="always"||r1.internal.frames>0)&&!((e=r1.gl.xr)!=null&&e.isPresenting)&&(kO+=QP(r,r1))}if(e6=!1,Lw("after",r),kO===0)return Lw("tail",r),NR=!1,cancelAnimationFrame(gW)}function t6(r,e=1){var t;if(!r)return jm.forEach(n=>t6(n.store.getState(),e));(t=r.gl.xr)!=null&&t.isPresenting||!r.internal.active||r.frameloop==="never"||(e>1?r.internal.frames=Math.min(60,r.internal.frames+e):e6?r.internal.frames=2:r.internal.frames=1,NR||(NR=!0,requestAnimationFrame(Mae)))}function mW(r,e=!0,t,n){if(e&&Lw("before",r),t)QP(r,t,n);else for(const a of jm.values())QP(r,a.store.getState());e&&Lw("after",r)}const PO={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function mOe(r){const{handlePointer:e}=J4e(r);return{priority:1,enabled:!0,compute(t,n,a){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(PO).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:a}=r.getState();(t=a.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:n,events:a}=r.getState();if(a.disconnect==null||a.disconnect(),n(i=>({events:{...i.events,connected:t}})),a.handlers)for(const i in a.handlers){const s=a.handlers[i],[o,l]=PO[i];t.addEventListener(o,s,{passive:l})}},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){if(n.handlers)for(const a in n.handlers){const i=n.handlers[a],[s]=PO[a];n.connected.removeEventListener(s,i)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function yW(r,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>r(...n),e)}}function yOe({debounce:r,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,s]=xe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=xe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i,orientationHandler:null}),l=r?typeof r=="number"?r:r.scroll:null,c=r?typeof r=="number"?r:r.resize:null,u=xe.useRef(!1);xe.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,h,d]=xe.useMemo(()=>{const y=()=>{if(!o.current.element)return;const{left:b,top:S,width:A,height:E,bottom:M,right:R,x:L,y:I}=o.current.element.getBoundingClientRect(),O={left:b,top:S,width:A,height:E,bottom:M,right:R,x:L,y:I};o.current.element instanceof HTMLElement&&n&&(O.height=o.current.element.offsetHeight,O.width=o.current.element.offsetWidth),Object.freeze(O),u.current&&!SOe(o.current.lastBounds,O)&&s(o.current.lastBounds=O)};return[y,c?yW(y,c):y,l?yW(y,l):y]},[s,n,l,c]);function v(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",d,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function g(){o.current.element&&(o.current.resizeObserver=new a(d),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(y=>y.addEventListener("scroll",d,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const m=y=>{!y||y===o.current.element||(v(),o.current.element=y,o.current.scrollContainers=Cae(y),g())};return _Oe(d,!!e),xOe(h),xe.useEffect(()=>{v(),g()},[e,d,h]),xe.useEffect(()=>v,[]),[m,i,f]}function xOe(r){xe.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function _Oe(r,e){xe.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function Cae(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:a}=window.getComputedStyle(r);return[t,n,a].some(i=>i==="auto"||i==="scroll")&&e.push(r),[...e,...Cae(r.parentElement)]}const bOe=["x","y","top","bottom","left","right","width","height"],SOe=(r,e)=>bOe.every(t=>r[t]===e[t]);function wOe({ref:r,children:e,fallback:t,resize:n,style:a,gl:i,events:s=mOe,eventSource:o,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:h,orthographic:d,frameloop:v,dpr:g,performance:m,raycaster:y,camera:b,scene:S,onPointerMissed:A,onCreated:E,...M}){xe.useMemo(()=>aOe(y4e),[]);const R=V4e(),[L,I]=yOe({scroll:!0,debounce:{scroll:50,resize:0},...n}),O=xe.useRef(null),P=xe.useRef(null);xe.useImperativeHandle(r,()=>O.current);const k=gae(A),[U,F]=xe.useState(!1),[q,H]=xe.useState(!1);if(U)throw U;if(q)throw q;const Z=xe.useRef(null);NA(()=>{const Y=O.current;if(I.width>0&&I.height>0&&Y){Z.current||(Z.current=hOe(Y));async function re(){await Z.current.configure({gl:i,scene:S,events:s,shadows:c,linear:u,flat:f,legacy:h,orthographic:d,frameloop:v,dpr:g,performance:m,raycaster:y,camera:b,size:I,onPointerMissed:(...W)=>k.current==null?void 0:k.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(o?F4e(o)?o.current:o:P.current),l&&W.setEvents({compute:(j,J)=>{const ee=j[l+"X"],ae=j[l+"Y"];J.pointer.set(ee/J.size.width*2-1,-(ae/J.size.height)*2+1),J.raycaster.setFromCamera(J.pointer,J.camera)}}),E==null||E(W)}}),Z.current.render(D.jsx(R,{children:D.jsx(G4e,{set:H,children:D.jsx(xe.Suspense,{fallback:D.jsx(H4e,{set:F}),children:e??null})})}))}re()}}),xe.useEffect(()=>{const Y=O.current;if(Y)return()=>Eae(Y)},[]);const X=o?"none":"auto";return D.jsx("div",{ref:P,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...a},...M,children:D.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:D.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}function Dae(r){return D.jsx(hae,{children:D.jsx(wOe,{...r})})}function r6(){return r6=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},r6.apply(null,arguments)}var TOe=Object.defineProperty,AOe=(r,e,t)=>e in r?TOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,EOe=(r,e,t)=>(AOe(r,e+"",t),t);class MOe{constructor(){EOe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const i=a.indexOf(t);i!==-1&&a.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const a=n.slice(0);for(let i=0,s=a.length;i<s;i++)a[i].call(this,e);e.target=null}}}var COe=Object.defineProperty,DOe=(r,e,t)=>e in r?COe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Rr=(r,e,t)=>(DOe(r,typeof e!="symbol"?e+"":e,t),t);const CC=new fy,xW=new Dd,ROe=Math.cos(70*(Math.PI/180)),_W=(r,e)=>(r%e+e)%e;let NOe=class extends MOe{constructor(e,t){super(),Rr(this,"object"),Rr(this,"domElement"),Rr(this,"enabled",!0),Rr(this,"target",new Ee),Rr(this,"minDistance",0),Rr(this,"maxDistance",1/0),Rr(this,"minZoom",0),Rr(this,"maxZoom",1/0),Rr(this,"minPolarAngle",0),Rr(this,"maxPolarAngle",Math.PI),Rr(this,"minAzimuthAngle",-1/0),Rr(this,"maxAzimuthAngle",1/0),Rr(this,"enableDamping",!1),Rr(this,"dampingFactor",.05),Rr(this,"enableZoom",!0),Rr(this,"zoomSpeed",1),Rr(this,"enableRotate",!0),Rr(this,"rotateSpeed",1),Rr(this,"enablePan",!0),Rr(this,"panSpeed",1),Rr(this,"screenSpacePanning",!0),Rr(this,"keyPanSpeed",7),Rr(this,"zoomToCursor",!1),Rr(this,"autoRotate",!1),Rr(this,"autoRotateSpeed",2),Rr(this,"reverseOrbit",!1),Rr(this,"reverseHorizontalOrbit",!1),Rr(this,"reverseVerticalOrbit",!1),Rr(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Rr(this,"mouseButtons",{LEFT:Jg.ROTATE,MIDDLE:Jg.DOLLY,RIGHT:Jg.PAN}),Rr(this,"touches",{ONE:Qg.ROTATE,TWO:Qg.DOLLY_PAN}),Rr(this,"target0"),Rr(this,"position0"),Rr(this,"zoom0"),Rr(this,"_domElementKeyEvents",null),Rr(this,"getPolarAngle"),Rr(this,"getAzimuthalAngle"),Rr(this,"setPolarAngle"),Rr(this,"setAzimuthalAngle"),Rr(this,"getDistance"),Rr(this,"getZoomScale"),Rr(this,"listenToKeyEvents"),Rr(this,"stopListenToKeyEvents"),Rr(this,"saveState"),Rr(this,"reset"),Rr(this,"update"),Rr(this,"connect"),Rr(this,"dispose"),Rr(this,"dollyIn"),Rr(this,"dollyOut"),Rr(this,"getScale"),Rr(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Ne=>{let Ke=_W(Ne,2*Math.PI),At=u.phi;At<0&&(At+=2*Math.PI),Ke<0&&(Ke+=2*Math.PI);let Ie=Math.abs(Ke-At);2*Math.PI-Ie<Ie&&(Ke<At?Ke+=2*Math.PI:At+=2*Math.PI),f.phi=Ke-At,n.update()},this.setAzimuthalAngle=Ne=>{let Ke=_W(Ne,2*Math.PI),At=u.theta;At<0&&(At+=2*Math.PI),Ke<0&&(Ke+=2*Math.PI);let Ie=Math.abs(Ke-At);2*Math.PI-Ie<Ie&&(Ke<At?Ke+=2*Math.PI:At+=2*Math.PI),f.theta=Ke-At,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=Ne=>{Ne.addEventListener("keydown",Ge),this._domElementKeyEvents=Ne},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ge),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(a),n.update(),l=o.NONE},this.update=(()=>{const Ne=new Ee,Ke=new Ee(0,1,0),At=new yo().setFromUnitVectors(e.up,Ke),Ie=At.clone().invert(),Et=new Ee,Ct=new yo,_t=2*Math.PI;return function(){const ht=n.object.position;At.setFromUnitVectors(e.up,Ke),Ie.copy(At).invert(),Ne.copy(ht).sub(n.target),Ne.applyQuaternion(At),u.setFromVector3(Ne),n.autoRotate&&l===o.NONE&&F(k()),n.enableDamping?(u.theta+=f.theta*n.dampingFactor,u.phi+=f.phi*n.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let zt=n.minAzimuthAngle,Xt=n.maxAzimuthAngle;isFinite(zt)&&isFinite(Xt)&&(zt<-Math.PI?zt+=_t:zt>Math.PI&&(zt-=_t),Xt<-Math.PI?Xt+=_t:Xt>Math.PI&&(Xt-=_t),zt<=Xt?u.theta=Math.max(zt,Math.min(Xt,u.theta)):u.theta=u.theta>(zt+Xt)/2?Math.max(zt,u.theta):Math.min(Xt,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(d,n.dampingFactor):n.target.add(d),n.zoomToCursor&&I||n.object.isOrthographicCamera?u.radius=J(u.radius):u.radius=J(u.radius*h),Ne.setFromSpherical(u),Ne.applyQuaternion(Ie),ht.copy(n.target).add(Ne),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),d.set(0,0,0));let wr=!1;if(n.zoomToCursor&&I){let Tr=null;if(n.object instanceof yi&&n.object.isPerspectiveCamera){const On=Ne.length();Tr=J(On*h);const an=On-Tr;n.object.position.addScaledVector(R,an),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const On=new Ee(L.x,L.y,0);On.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix(),wr=!0;const an=new Ee(L.x,L.y,0);an.unproject(n.object),n.object.position.sub(an).add(On),n.object.updateMatrixWorld(),Tr=Ne.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Tr!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Tr).add(n.object.position):(CC.origin.copy(n.object.position),CC.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(CC.direction))<ROe?e.lookAt(n.target):(xW.setFromNormalAndCoplanarPoint(n.object.up,n.target),CC.intersectPlane(xW,n.target))))}else n.object instanceof F0&&n.object.isOrthographicCamera&&(wr=h!==1,wr&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/h)),n.object.updateProjectionMatrix()));return h=1,I=!1,wr||Et.distanceToSquared(n.object.position)>c||8*(1-Ct.dot(n.object.quaternion))>c?(n.dispatchEvent(a),Et.copy(n.object.position),Ct.copy(n.object.quaternion),wr=!1,!0):!1}})(),this.connect=Ne=>{n.domElement=Ne,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Dt),n.domElement.addEventListener("pointerdown",Le),n.domElement.addEventListener("pointercancel",ie),n.domElement.addEventListener("wheel",it)},this.dispose=()=>{var Ne,Ke,At,Ie,Et,Ct;n.domElement&&(n.domElement.style.touchAction="auto"),(Ne=n.domElement)==null||Ne.removeEventListener("contextmenu",Dt),(Ke=n.domElement)==null||Ke.removeEventListener("pointerdown",Le),(At=n.domElement)==null||At.removeEventListener("pointercancel",ie),(Ie=n.domElement)==null||Ie.removeEventListener("wheel",it),(Et=n.domElement)==null||Et.ownerDocument.removeEventListener("pointermove",fe),(Ct=n.domElement)==null||Ct.ownerDocument.removeEventListener("pointerup",ie),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Ge)};const n=this,a={type:"change"},i={type:"start"},s={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,u=new MR,f=new MR;let h=1;const d=new Ee,v=new St,g=new St,m=new St,y=new St,b=new St,S=new St,A=new St,E=new St,M=new St,R=new Ee,L=new St;let I=!1;const O=[],P={};function k(){return 2*Math.PI/60/60*n.autoRotateSpeed}function U(){return Math.pow(.95,n.zoomSpeed)}function F(Ne){n.reverseOrbit||n.reverseHorizontalOrbit?f.theta+=Ne:f.theta-=Ne}function q(Ne){n.reverseOrbit||n.reverseVerticalOrbit?f.phi+=Ne:f.phi-=Ne}const H=(()=>{const Ne=new Ee;return function(At,Ie){Ne.setFromMatrixColumn(Ie,0),Ne.multiplyScalar(-At),d.add(Ne)}})(),Z=(()=>{const Ne=new Ee;return function(At,Ie){n.screenSpacePanning===!0?Ne.setFromMatrixColumn(Ie,1):(Ne.setFromMatrixColumn(Ie,0),Ne.crossVectors(n.object.up,Ne)),Ne.multiplyScalar(At),d.add(Ne)}})(),X=(()=>{const Ne=new Ee;return function(At,Ie){const Et=n.domElement;if(Et&&n.object instanceof yi&&n.object.isPerspectiveCamera){const Ct=n.object.position;Ne.copy(Ct).sub(n.target);let _t=Ne.length();_t*=Math.tan(n.object.fov/2*Math.PI/180),H(2*At*_t/Et.clientHeight,n.object.matrix),Z(2*Ie*_t/Et.clientHeight,n.object.matrix)}else Et&&n.object instanceof F0&&n.object.isOrthographicCamera?(H(At*(n.object.right-n.object.left)/n.object.zoom/Et.clientWidth,n.object.matrix),Z(Ie*(n.object.top-n.object.bottom)/n.object.zoom/Et.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Y(Ne){n.object instanceof yi&&n.object.isPerspectiveCamera||n.object instanceof F0&&n.object.isOrthographicCamera?h=Ne:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function re(Ne){Y(h/Ne)}function W(Ne){Y(h*Ne)}function j(Ne){if(!n.zoomToCursor||!n.domElement)return;I=!0;const Ke=n.domElement.getBoundingClientRect(),At=Ne.clientX-Ke.left,Ie=Ne.clientY-Ke.top,Et=Ke.width,Ct=Ke.height;L.x=At/Et*2-1,L.y=-(Ie/Ct)*2+1,R.set(L.x,L.y,1).unproject(n.object).sub(n.object.position).normalize()}function J(Ne){return Math.max(n.minDistance,Math.min(n.maxDistance,Ne))}function ee(Ne){v.set(Ne.clientX,Ne.clientY)}function ae(Ne){j(Ne),A.set(Ne.clientX,Ne.clientY)}function ce(Ne){y.set(Ne.clientX,Ne.clientY)}function me(Ne){g.set(Ne.clientX,Ne.clientY),m.subVectors(g,v).multiplyScalar(n.rotateSpeed);const Ke=n.domElement;Ke&&(F(2*Math.PI*m.x/Ke.clientHeight),q(2*Math.PI*m.y/Ke.clientHeight)),v.copy(g),n.update()}function Se(Ne){E.set(Ne.clientX,Ne.clientY),M.subVectors(E,A),M.y>0?re(U()):M.y<0&&W(U()),A.copy(E),n.update()}function we(Ne){b.set(Ne.clientX,Ne.clientY),S.subVectors(b,y).multiplyScalar(n.panSpeed),X(S.x,S.y),y.copy(b),n.update()}function Me(Ne){j(Ne),Ne.deltaY<0?W(U()):Ne.deltaY>0&&re(U()),n.update()}function Ve(Ne){let Ke=!1;switch(Ne.code){case n.keys.UP:X(0,n.keyPanSpeed),Ke=!0;break;case n.keys.BOTTOM:X(0,-n.keyPanSpeed),Ke=!0;break;case n.keys.LEFT:X(n.keyPanSpeed,0),Ke=!0;break;case n.keys.RIGHT:X(-n.keyPanSpeed,0),Ke=!0;break}Ke&&(Ne.preventDefault(),n.update())}function de(){if(O.length==1)v.set(O[0].pageX,O[0].pageY);else{const Ne=.5*(O[0].pageX+O[1].pageX),Ke=.5*(O[0].pageY+O[1].pageY);v.set(Ne,Ke)}}function dt(){if(O.length==1)y.set(O[0].pageX,O[0].pageY);else{const Ne=.5*(O[0].pageX+O[1].pageX),Ke=.5*(O[0].pageY+O[1].pageY);y.set(Ne,Ke)}}function K(){const Ne=O[0].pageX-O[1].pageX,Ke=O[0].pageY-O[1].pageY,At=Math.sqrt(Ne*Ne+Ke*Ke);A.set(0,At)}function se(){n.enableZoom&&K(),n.enablePan&&dt()}function _e(){n.enableZoom&&K(),n.enableRotate&&de()}function oe(Ne){if(O.length==1)g.set(Ne.pageX,Ne.pageY);else{const At=jt(Ne),Ie=.5*(Ne.pageX+At.x),Et=.5*(Ne.pageY+At.y);g.set(Ie,Et)}m.subVectors(g,v).multiplyScalar(n.rotateSpeed);const Ke=n.domElement;Ke&&(F(2*Math.PI*m.x/Ke.clientHeight),q(2*Math.PI*m.y/Ke.clientHeight)),v.copy(g)}function ue(Ne){if(O.length==1)b.set(Ne.pageX,Ne.pageY);else{const Ke=jt(Ne),At=.5*(Ne.pageX+Ke.x),Ie=.5*(Ne.pageY+Ke.y);b.set(At,Ie)}S.subVectors(b,y).multiplyScalar(n.panSpeed),X(S.x,S.y),y.copy(b)}function be(Ne){const Ke=jt(Ne),At=Ne.pageX-Ke.x,Ie=Ne.pageY-Ke.y,Et=Math.sqrt(At*At+Ie*Ie);E.set(0,Et),M.set(0,Math.pow(E.y/A.y,n.zoomSpeed)),re(M.y),A.copy(E)}function Be(Ne){n.enableZoom&&be(Ne),n.enablePan&&ue(Ne)}function ze(Ne){n.enableZoom&&be(Ne),n.enableRotate&&oe(Ne)}function Le(Ne){var Ke,At;n.enabled!==!1&&(O.length===0&&((Ke=n.domElement)==null||Ke.ownerDocument.addEventListener("pointermove",fe),(At=n.domElement)==null||At.ownerDocument.addEventListener("pointerup",ie)),Vt(Ne),Ne.pointerType==="touch"?Bt(Ne):Re(Ne))}function fe(Ne){n.enabled!==!1&&(Ne.pointerType==="touch"?pt(Ne):je(Ne))}function ie(Ne){var Ke,At,Ie;$e(Ne),O.length===0&&((Ke=n.domElement)==null||Ke.releasePointerCapture(Ne.pointerId),(At=n.domElement)==null||At.ownerDocument.removeEventListener("pointermove",fe),(Ie=n.domElement)==null||Ie.ownerDocument.removeEventListener("pointerup",ie)),n.dispatchEvent(s),l=o.NONE}function Re(Ne){let Ke;switch(Ne.button){case 0:Ke=n.mouseButtons.LEFT;break;case 1:Ke=n.mouseButtons.MIDDLE;break;case 2:Ke=n.mouseButtons.RIGHT;break;default:Ke=-1}switch(Ke){case Jg.DOLLY:if(n.enableZoom===!1)return;ae(Ne),l=o.DOLLY;break;case Jg.ROTATE:if(Ne.ctrlKey||Ne.metaKey||Ne.shiftKey){if(n.enablePan===!1)return;ce(Ne),l=o.PAN}else{if(n.enableRotate===!1)return;ee(Ne),l=o.ROTATE}break;case Jg.PAN:if(Ne.ctrlKey||Ne.metaKey||Ne.shiftKey){if(n.enableRotate===!1)return;ee(Ne),l=o.ROTATE}else{if(n.enablePan===!1)return;ce(Ne),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&n.dispatchEvent(i)}function je(Ne){if(n.enabled!==!1)switch(l){case o.ROTATE:if(n.enableRotate===!1)return;me(Ne);break;case o.DOLLY:if(n.enableZoom===!1)return;Se(Ne);break;case o.PAN:if(n.enablePan===!1)return;we(Ne);break}}function it(Ne){n.enabled===!1||n.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(Ne.preventDefault(),n.dispatchEvent(i),Me(Ne),n.dispatchEvent(s))}function Ge(Ne){n.enabled===!1||n.enablePan===!1||Ve(Ne)}function Bt(Ne){switch(yt(Ne),O.length){case 1:switch(n.touches.ONE){case Qg.ROTATE:if(n.enableRotate===!1)return;de(),l=o.TOUCH_ROTATE;break;case Qg.PAN:if(n.enablePan===!1)return;dt(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(n.touches.TWO){case Qg.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;se(),l=o.TOUCH_DOLLY_PAN;break;case Qg.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;_e(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&n.dispatchEvent(i)}function pt(Ne){switch(yt(Ne),l){case o.TOUCH_ROTATE:if(n.enableRotate===!1)return;oe(Ne),n.update();break;case o.TOUCH_PAN:if(n.enablePan===!1)return;ue(Ne),n.update();break;case o.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Be(Ne),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;ze(Ne),n.update();break;default:l=o.NONE}}function Dt(Ne){n.enabled!==!1&&Ne.preventDefault()}function Vt(Ne){O.push(Ne)}function $e(Ne){delete P[Ne.pointerId];for(let Ke=0;Ke<O.length;Ke++)if(O[Ke].pointerId==Ne.pointerId){O.splice(Ke,1);return}}function yt(Ne){let Ke=P[Ne.pointerId];Ke===void 0&&(Ke=new St,P[Ne.pointerId]=Ke),Ke.set(Ne.pageX,Ne.pageY)}function jt(Ne){const Ke=Ne.pointerId===O[0].pointerId?O[1]:O[0];return P[Ke.pointerId]}this.dollyIn=(Ne=U())=>{W(Ne),n.update()},this.dollyOut=(Ne=U())=>{re(Ne),n.update()},this.getScale=()=>h,this.setScale=Ne=>{Y(Ne),n.update()},this.getZoomScale=()=>U(),t!==void 0&&this.connect(t),this.update()}};const IOe=()=>parseInt(bA.replace(/\D+/g,"")),LOe=IOe(),Rae=xe.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:n,enableDamping:a=!0,keyEvents:i=!1,onChange:s,onStart:o,onEnd:l,...c},u)=>{const f=o0(M=>M.invalidate),h=o0(M=>M.camera),d=o0(M=>M.gl),v=o0(M=>M.events),g=o0(M=>M.setEvents),m=o0(M=>M.set),y=o0(M=>M.get),b=o0(M=>M.performance),S=e||h,A=n||v.connected||d.domElement,E=xe.useMemo(()=>new NOe(S),[S]);return BI(()=>{E.enabled&&E.update()},-1),xe.useEffect(()=>(i&&E.connect(i===!0?A:i),E.connect(A),()=>void E.dispose()),[i,A,t,E,f]),xe.useEffect(()=>{const M=I=>{f(),t&&b.regress(),s&&s(I)},R=I=>{o&&o(I)},L=I=>{l&&l(I)};return E.addEventListener("change",M),E.addEventListener("start",R),E.addEventListener("end",L),()=>{E.removeEventListener("start",R),E.removeEventListener("end",L),E.removeEventListener("change",M)}},[s,o,l,E,f,g]),xe.useEffect(()=>{if(r){const M=y().controls;return m({controls:E}),()=>m({controls:M})}},[r,E]),xe.createElement("primitive",r6({ref:u,object:E,enableDamping:a},c))});class OOe extends oc{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${LOe>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const kOe=r=>new Ee().setFromSpherical(new MR(r,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Nae=xe.forwardRef(({radius:r=100,depth:e=50,count:t=5e3,saturation:n=0,factor:a=4,fade:i=!1,speed:s=1},o)=>{const l=xe.useRef(null),[c,u,f]=xe.useMemo(()=>{const d=[],v=[],g=Array.from({length:t},()=>(.5+.5*Math.random())*a),m=new Jt;let y=r+e;const b=e/t;for(let S=0;S<t;S++)y-=b*Math.random(),d.push(...kOe(y).toArray()),m.setHSL(S/t,n,.9),v.push(m.r,m.g,m.b);return[new Float32Array(d),new Float32Array(v),new Float32Array(g)]},[t,e,a,r,n]);BI(d=>l.current&&(l.current.uniforms.time.value=d.clock.elapsedTime*s));const[h]=xe.useState(()=>new OOe);return xe.createElement("points",{ref:o},xe.createElement("bufferGeometry",null,xe.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),xe.createElement("bufferAttribute",{attach:"attributes-color",args:[u,3]}),xe.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),xe.createElement("primitive",{ref:l,object:h,attach:"material",blending:uT,"uniforms-fade-value":i,depthWrite:!1,transparent:!0,vertexColors:!0}))}),POe=`
  attribute float scale;
  attribute vec3 customColor;
  varying vec3 vColor;
  varying float vDistance;
  
  void main() {
    vColor = customColor;
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    
    // Distance from center for some shader tricks
    vDistance = length(position);
    
    gl_PointSize = scale * (600.0 / -mvPosition.z);
    gl_Position = projectionMatrix * mvPosition;
  }
`,BOe=`
  varying vec3 vColor;
  varying float vDistance;
  
  void main() {
    // Circular particle
    float r = distance(gl_PointCoord, vec2(0.5));
    if (r > 0.5) discard;
    
    // Glow calculation - sharper core, softer glow
    float strength = 1.0 - (r * 2.0);
    strength = pow(strength, 4.0); // Sharper falloff for less "bloom"
    
    // Add "sparkle" variation
    float sparkle = 1.0;
    
    vec3 finalColor = vColor;
    
    // Boost brightness at the center of the particle
    finalColor += vec3(0.2) * strength;
    
    gl_FragColor = vec4(finalColor, strength * 0.5); // More transparent for darker look
  }
`,zOe=()=>{const r=xe.useRef(null),e=xe.useMemo(()=>{const n=new Float32Array(36e4),a=new Float32Array(12e4*3),i=new Float32Array(12e4),s=new Jt("#ffffff"),o=new Jt("#cccccc"),l=new Jt("#666666"),c=new Jt("#1a1a1a"),u=new Jt("#000000");for(let f=0;f<12e4;f++){const h=f*3,d=Math.random()*30,v=3,g=2.5,m=f%v*(Math.PI*2/v),y=d*g*.2,b=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(d*.3+1),S=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(d*.2+.5),A=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(d*.3+1);n[h]=Math.cos(m+y)*d+b,n[h+1]=S,n[h+2]=Math.sin(m+y)*d+A;const E=s.clone();d<5?E.lerp(o,d/5):d<12?E.copy(o).lerp(l,(d-5)/7):d<20?E.copy(l).lerp(c,(d-12)/8):E.copy(c).lerp(u,(d-20)/10),E.r+=(Math.random()-.5)*.15,E.g+=(Math.random()-.5)*.15,E.b+=(Math.random()-.5)*.15,a[h]=E.r,a[h+1]=E.g,a[h+2]=E.b,i[f]=Math.random()*2,Math.random()<.005&&(i[f]*=4,a[h]+=.5,a[h+1]+=.5,a[h+2]+=.5)}return{positions:n,colors:a,scales:i,count:12e4}},[]);return BI(t=>{r.current&&(r.current.rotation.y=t.clock.getElapsedTime()*.03)}),D.jsxs("points",{ref:r,children:[D.jsxs("bufferGeometry",{children:[D.jsx("bufferAttribute",{attach:"attributes-position",count:e.count,array:e.positions,itemSize:3}),D.jsx("bufferAttribute",{attach:"attributes-customColor",count:e.count,array:e.colors,itemSize:3}),D.jsx("bufferAttribute",{attach:"attributes-scale",count:e.count,array:e.scales,itemSize:1})]}),D.jsx("shaderMaterial",{vertexShader:POe,fragmentShader:BOe,transparent:!0,depthWrite:!1,blending:uT})]})},FOe=()=>{const[r,e]=xe.useState(0),[t,n]=xe.useState(!1),a=[{title:"Andromeda-X",description:"A rare barred spiral galaxy located in the Deep Field. Known for its vibrant high-energy core and extensive star-forming regions composed of exotic matter.",stats:[{label:"Star Count",value:"~400 Billion",icon:ph,color:"text-purple-300",bg:"bg-purple-500/20"},{label:"Energy Output",value:"Type III Civilization",icon:fw,color:"text-blue-300",bg:"bg-blue-500/20"},{label:"Rotation Speed",value:"220 km/s",icon:f4,color:"text-pink-300",bg:"bg-pink-500/20"}]},{title:"Milky Way Core",description:"The supermassive black hole Sagittarius A* resides here, surrounded by a dense cluster of ancient stars and high-velocity gas clouds orbiting at relativistic speeds.",stats:[{label:"Mass",value:"4.1 Million Suns",icon:fw,color:"text-yellow-300",bg:"bg-yellow-500/20"},{label:"Diameter",value:"100,000 Light Years",icon:f4,color:"text-green-300",bg:"bg-green-500/20"},{label:"Age",value:"13.6 Billion Years",icon:ph,color:"text-orange-300",bg:"bg-orange-500/20"}]},{title:"Nebula Cluster",description:"A stellar nursery where new stars are born from collapsing clouds of dust and hydrogen gas. The vibrant colors indicate different ionized elements like oxygen and sulfur.",stats:[{label:"Temperature",value:"10,000 K",icon:fw,color:"text-red-300",bg:"bg-red-500/20"},{label:"Span",value:"50 Light Years",icon:f4,color:"text-cyan-300",bg:"bg-cyan-500/20"},{label:"Composition",value:"Hydrogen / Helium",icon:ph,color:"text-indigo-300",bg:"bg-indigo-500/20"}]}];xe.useEffect(()=>{const s=setInterval(()=>{n(!0),setTimeout(()=>{e(o=>(o+1)%a.length),n(!1)},500)},8e3);return()=>clearInterval(s)},[]);const i=a[r];return D.jsxs("div",{className:"absolute bottom-0 left-0 w-full pointer-events-none flex justify-center pb-6",children:[D.jsx("div",{className:"w-full max-w-7xl mx-6 pointer-events-auto",children:D.jsxs("div",{className:"bg-black/80 backdrop-blur-2xl border border-white/10 rounded-xl p-4 text-white shadow-2xl relative overflow-hidden group transition-all duration-500 hover:bg-black/90",children:[D.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-30"}),D.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-white/5 rounded-full blur-3xl group-hover:bg-white/10 transition-colors duration-1000"}),D.jsxs("div",{className:`relative z-10 transition-opacity duration-500 ${t?"opacity-0 translate-y-2":"opacity-100 translate-y-0"}`,children:[D.jsxs("div",{className:"flex flex-row items-center justify-between gap-8",children:[D.jsxs("div",{className:"flex-1 text-left flex items-center gap-6",children:[D.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight shrink-0 min-w-[200px]",children:i.title}),D.jsx("div",{className:"h-8 w-[1px] bg-white/10"}),D.jsx("p",{className:"text-xs text-gray-400 leading-relaxed font-light max-w-2xl line-clamp-2",children:i.description})]}),D.jsx("div",{className:"flex flex-row gap-4 shrink-0",children:i.stats.map((s,o)=>D.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 transition-colors",children:[D.jsx("div",{className:`p-1.5 rounded-md ${s.bg} ${s.color} shadow-inner`,children:D.jsx(s.icon,{size:14,className:"animate-pulse"})}),D.jsxs("div",{children:[D.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider font-bold",children:s.label}),D.jsx("p",{className:"text-xs font-bold text-gray-200",children:s.value})]})]},o))})]}),D.jsx("div",{className:"absolute bottom-0 left-0 h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent w-full opacity-20",children:D.jsx("div",{className:"h-full bg-white/40 w-full origin-left animate-[progress_8s_linear]"},r)})]})]})}),D.jsx("style",{children:`
                @keyframes progress {
                    from { transform: scaleX(0); }
                    to { transform: scaleX(1); }
                }
            `})]})},UOe=()=>D.jsxs("div",{className:"w-full h-full bg-[#050508] relative overflow-hidden",children:[D.jsxs(Dae,{camera:{position:[0,25,45],fov:40},children:[D.jsx("color",{attach:"background",args:["#020203"]}),D.jsx(Rae,{enableDamping:!0,dampingFactor:.05,minDistance:10,maxDistance:100,autoRotate:!1,autoRotateSpeed:.5}),D.jsx(Nae,{radius:200,depth:50,count:5e3,factor:4,saturation:.8,fade:!0,speed:.5}),D.jsx(zOe,{}),D.jsx("ambientLight",{intensity:.1}),D.jsx("pointLight",{position:[0,0,0],intensity:2,distance:30,color:"#ffccaa"})]}),D.jsx(FOe,{}),D.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:D.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-white/10 uppercase",children:"Galaxy"})})]}),VOe=()=>{const e=xe.useRef(null),t=xe.useMemo(()=>new Bn,[]),n=xe.useMemo(()=>{const a=[];for(let i=0;i<1e3;i++){const s=Math.random()*100,o=20+Math.random()*100,l=.01+Math.random()/200,c=-50+Math.random()*100,u=-50+Math.random()*100,f=-50+Math.random()*100;a.push({t:s,factor:o,speed:l,xFactor:c,yFactor:u,zFactor:f,mx:0,my:0})}return a},[1e3]);return BI(a=>{e.current&&(n.forEach((i,s)=>{let{t:o,factor:l,speed:c,xFactor:u,yFactor:f,zFactor:h}=i;o=i.t+=c/2;const d=Math.cos(o)+Math.sin(o*1)/10,v=Math.sin(o)+Math.cos(o*2)/10,g=Math.cos(o);i.mx+=(a.mouse.x*100-i.mx)*.01,i.my+=(a.mouse.y*100-i.my)*.01,t.position.set(i.mx/10*d+u+Math.cos(o/10*l)+Math.sin(o*1)*l/10,i.my/10*v+f+Math.sin(o/10*l)+Math.cos(o*2)*l/10,i.my/10*v+h+Math.cos(o/10*l)+Math.sin(o*3)*l/10),t.scale.set(g,g,g),t.rotation.set(g*5,g*5,g*5),t.updateMatrix(),e.current.setMatrixAt(s,t.matrix)}),e.current.instanceMatrix.needsUpdate=!0)}),D.jsxs("instancedMesh",{ref:e,args:[void 0,void 0,1e3],children:[D.jsx("sphereGeometry",{args:[.05,8,8]}),D.jsx("meshStandardMaterial",{color:"#88ccff",transparent:!0,opacity:.6,roughness:0,metalness:.1})]})},bW=()=>D.jsxs("div",{className:"w-full h-full bg-[#001e36] relative overflow-hidden",children:[D.jsxs(Dae,{camera:{position:[0,0,20],fov:50},children:[D.jsx("color",{attach:"background",args:["#001e36"]}),D.jsx("fog",{attach:"fog",args:["#001e36",5,40]}),D.jsx(Rae,{enableDamping:!0,dampingFactor:.05,minDistance:5,maxDistance:30,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3}),D.jsx("ambientLight",{intensity:.4,color:"#004466"}),D.jsx("directionalLight",{position:[0,50,0],intensity:1.5,color:"#ccffff"}),D.jsx("pointLight",{position:[0,10,0],intensity:1,color:"#00ffff",distance:20}),D.jsx(VOe,{}),D.jsx(Nae,{radius:50,depth:50,count:2e3,factor:2,saturation:0,fade:!0,speed:.5})]}),D.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:D.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-cyan-100/20 uppercase drop-shadow-lg",children:"Deep Ocean"})})]}),HOe=[{name:"White",bg:"bg-white",border:"border-gray-200"},{name:"Blue",bg:"bg-blue-50",border:"border-blue-200"},{name:"Green",bg:"bg-green-50",border:"border-green-200"},{name:"Yellow",bg:"bg-yellow-50",border:"border-yellow-200"},{name:"Purple",bg:"bg-purple-50",border:"border-purple-200"},{name:"Red",bg:"bg-red-50",border:"border-red-200"}],SW=[{name:"Yellow",bg:"bg-yellow-100",border:"border-yellow-200"},{name:"Blue",bg:"bg-blue-100",border:"border-blue-200"},{name:"Green",bg:"bg-green-100",border:"border-green-200"},{name:"Pink",bg:"bg-pink-100",border:"border-pink-200"}],wW=[{id:"1",x:0,y:0,text:"Central Idea",color:"bg-white border-gray-200",width:180,height:60,type:"default"}],GOe=()=>{const[r,e]=xe.useState(wW),[t,n]=xe.useState([]),[a,i]=xe.useState(1),[s,o]=xe.useState({x:0,y:0}),[l,c]=xe.useState([{nodes:wW,edges:[]}]),[u,f]=xe.useState(0),h=xe.useRef(r),d=xe.useRef(t);xe.useEffect(()=>{h.current=r},[r]),xe.useEffect(()=>{d.current=t},[t]);const v=xe.useRef({isDraggingCanvas:!1,dragStart:{x:0,y:0},draggingNodeId:null,nodeDragOffset:{x:0,y:0},connectingNodeId:null}),[g,m]=xe.useState(null),[y,b]=xe.useState(null),[S,A]=xe.useState({x:0,y:0}),E=xe.useRef(null),M=xe.useRef(null),R=xe.useRef(!1);xe.useEffect(()=>{if(!R.current&&E.current){const J=E.current.getBoundingClientRect();o({x:J.width/2-90,y:J.height/2-30}),R.current=!0}},[]);const L=xe.useCallback(()=>{const J=h.current,ee=d.current,ae={nodes:JSON.parse(JSON.stringify(J)),edges:JSON.parse(JSON.stringify(ee))};c(ce=>{const me=ce.slice(0,u+1);return me.push(ae),me}),f(ce=>ce+1)},[u]),I=xe.useRef(L);xe.useEffect(()=>{I.current=L},[L]);const O=()=>{if(u>0){const J=l[u-1];e(J.nodes),n(J.edges),f(u-1)}},P=()=>{if(u<l.length-1){const J=l[u+1];e(J.nodes),n(J.edges),f(u+1)}},k=xe.useRef({offset:s,scale:a});xe.useEffect(()=>{k.current={offset:s,scale:a}},[s,a]);const U=xe.useCallback((J,ee)=>{var Se;const ae=M.current||((Se=E.current)==null?void 0:Se.getBoundingClientRect());if(!ae)return{x:0,y:0};const{offset:ce,scale:me}=k.current;return{x:(J-ae.left-ce.x)/me,y:(ee-ae.top-ce.y)/me}},[]);xe.useEffect(()=>{const J=ae=>{const ce=v.current;if(!ce.isDraggingCanvas&&!ce.draggingNodeId&&!ce.connectingNodeId)return;ae.preventDefault();const me=U(ae.clientX,ae.clientY);ce.connectingNodeId&&A(me),ce.isDraggingCanvas?o({x:ae.clientX-ce.dragStart.x,y:ae.clientY-ce.dragStart.y}):ce.draggingNodeId&&e(Se=>Se.map(we=>we.id===ce.draggingNodeId?{...we,x:me.x-ce.nodeDragOffset.x,y:me.y-ce.nodeDragOffset.y}:we))},ee=()=>{const ae=v.current;ae.draggingNodeId&&setTimeout(()=>{I.current()},0),ae.isDraggingCanvas=!1,ae.draggingNodeId=null,ae.connectingNodeId=null,b(null),M.current=null};return window.addEventListener("mousemove",J),window.addEventListener("mouseup",ee),()=>{window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",ee)}},[U]);const F=J=>{if(E.current&&(M.current=E.current.getBoundingClientRect()),J.button===1||J.button===0&&J.altKey||J.button===0&&J.shiftKey){v.current.isDraggingCanvas=!0,v.current.dragStart={x:J.clientX-s.x,y:J.clientY-s.y};return}m(null)},q=J=>{if(J.ctrlKey||J.metaKey){J.preventDefault();const ee=Math.exp(-J.deltaY*.001),ae=Math.min(Math.max(.1,a*ee),5),ce=E.current.getBoundingClientRect(),me=(J.clientX-ce.left-s.x)/a,Se=(J.clientY-ce.top-s.y)/a,we=J.clientX-ce.left-me*ae,Me=J.clientY-ce.top-Se*ae;i(ae),o({x:we,y:Me})}else o(ee=>({x:ee.x-J.deltaX,y:ee.y-J.deltaY}))},H=(J="default")=>{const ee=Date.now().toString();if(!E.current)return;const ae=E.current.getBoundingClientRect(),ce={x:(ae.left+ae.width/2-ae.left-s.x)/a,y:(ae.top+ae.height/2-ae.top-s.y)/a};let me=180,Se=60,we="bg-white border-gray-200",Me="New Node";if(J==="circle"&&(me=120,Se=120),J==="diamond"&&(me=140,Se=140),J==="sticky"){me=200,Se=200;const de=SW[Math.floor(Math.random()*SW.length)];we=`${de.bg} ${de.border}`,Me=""}J==="text"&&(me=200,Se=40,we="bg-transparent border-transparent",Me="Type something...");const Ve={id:ee,x:ce.x-me/2,y:ce.y-Se/2,text:Me,color:we,width:me,height:Se,type:J};e(de=>[...de,Ve]),setTimeout(()=>I.current(),0)},Z=()=>{g&&(e(J=>J.filter(ee=>ee.id!==g)),n(J=>J.filter(ee=>ee.from!==g&&ee.to!==g)),m(null),setTimeout(()=>I.current(),0))},X=J=>{g&&(e(ee=>ee.map(ae=>ae.id===g?{...ae,color:J}:ae)),setTimeout(()=>I.current(),0))},Y=(J,ee)=>{J.stopPropagation(),J.preventDefault(),E.current&&(M.current=E.current.getBoundingClientRect()),m(ee.id),v.current.draggingNodeId=ee.id;const ae=U(J.clientX,J.clientY);v.current.nodeDragOffset={x:ae.x-ee.x,y:ae.y-ee.y}},re=(J,ee)=>{J.stopPropagation(),v.current.connectingNodeId=ee,b(ee)},W=(J,ee)=>{J.stopPropagation();const ae=v.current.connectingNodeId;ae&&ae!==ee&&(t.some(me=>me.from===ae&&me.to===ee||me.from===ee&&me.to===ae)||(n(me=>[...me,{id:`${ae}-${ee}`,from:ae,to:ee}]),setTimeout(()=>I.current(),0))),v.current.connectingNodeId=null,b(null)},j=J=>{const ee=`absolute flex items-center justify-center group cursor-grab active:cursor-grabbing ${J.color} `,ae=g===J.id?"ring-2 ring-brand-primary ring-offset-2 shadow-xl z-30":"shadow-sm hover:shadow-md z-10",ce=J.type==="text"?"":"border";return J.type==="circle"?`${ee} ${ce} rounded-full aspect-square ${ae}`:J.type==="diamond"?`${ee} ${ce} rotate-45 rounded-xl aspect-square ${ae}`:J.type==="sticky"?`${ee} ${ce} shadow-md rounded-sm ${ae} items-start p-4`:J.type==="text"?`${ee} ${ae} justify-start px-2`:`${ee} ${ce} rounded-xl ${ae}`};return D.jsxs("div",{className:"flex-1 h-full bg-[#f8fafc] relative overflow-hidden flex flex-col font-sans",children:[D.jsxs("div",{ref:E,className:"flex-1 relative overflow-hidden bg-[#f8fafc]",onMouseDown:F,onWheel:q,style:{cursor:v.current.isDraggingCanvas?"grabbing":"default"},children:[D.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-40",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${24*a}px ${24*a}px`,backgroundPosition:`${s.x}px ${s.y}px`}}),D.jsxs("div",{style:{transform:`translate(${s.x}px, ${s.y}px) scale(${a})`,transformOrigin:"0 0",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:[D.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full overflow-visible pointer-events-none z-0",children:[Array.isArray(t)&&t.map(J=>{const ee=r.find(Se=>Se.id===J.from),ae=r.find(Se=>Se.id===J.to);if(!ee||!ae)return null;const ce={x:ee.x+ee.width/2,y:ee.y+ee.height/2},me={x:ae.x+ae.width/2,y:ae.y+ae.height/2};return D.jsx("path",{d:`M ${ce.x} ${ce.y} C ${ce.x} ${ce.y+50}, ${me.x} ${me.y-50}, ${me.x} ${me.y}`,stroke:"#94a3b8",strokeWidth:"2",fill:"none"},J.id)}),y&&(()=>{const J=r.find(ee=>ee.id===y);return J?D.jsx("path",{d:`M ${J.x+J.width/2} ${J.y+J.height/2} L ${S.x} ${S.y}`,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"5,5",fill:"none"}):null})()]}),Array.isArray(r)&&r.map(J=>D.jsxs("div",{className:j(J),style:{left:J.x,top:J.y,width:J.width,height:J.height},onMouseDown:ee=>Y(ee,J),onMouseUp:ee=>W(ee,J.id),children:[D.jsx("div",{className:J.type==="diamond"?"-rotate-45 flex items-center justify-center w-full h-full":"w-full h-full",children:D.jsx("textarea",{value:J.text,onChange:ee=>e(ae=>ae.map(ce=>ce.id===J.id?{...ce,text:ee.target.value}:ce)),onBlur:()=>I.current(),className:`bg-transparent w-full h-full outline-none resize-none cursor-text text-gray-800 font-medium placeholder-gray-400 ${J.type==="sticky"?"text-left text-lg p-2 leading-relaxed":J.type==="text"?"text-left text-xl":"text-center flex items-center justify-center"}`,style:{border:"none",padding:J.type==="default"?"0 10px":void 0},onClick:ee=>ee.stopPropagation(),placeholder:J.type==="sticky"?"Type your note...":J.type==="text"?"Type text...":"Label"})}),J.type!=="text"&&D.jsx("div",{className:`absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-crosshair hover:bg-brand-primary hover:text-white hover:border-brand-primary transition-all z-30 transform hover:scale-110 ${J.type==="diamond"?"translate-x-4":""}`,onMouseDown:ee=>re(ee,J.id),children:D.jsx(ja,{size:12})})]},J.id))]})]}),D.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex items-center space-x-4 z-50 pointer-events-none",children:[D.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto",children:[D.jsx("button",{onClick:O,disabled:u<=0,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:D.jsx(H0e,{size:18})}),D.jsx("button",{onClick:P,disabled:u>=l.length-1,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:D.jsx(n0e,{size:18})})]}),g&&D.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto animate-in fade-in zoom-in duration-200",children:HOe.map(J=>D.jsx("button",{onClick:()=>X(`${J.bg} ${J.border}`),className:`w-6 h-6 rounded-full border border-gray-200 ${J.bg.replace("bg-","bg-")} hover:scale-110 transition-transform`,title:J.name},J.name))})]}),D.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center space-x-2 z-50 animate-in slide-in-from-bottom-4 duration-300",children:[D.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[D.jsx("button",{onClick:()=>i(J=>Math.max(.1,J-.1)),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:D.jsx(B0,{size:18})}),D.jsxs("span",{className:"text-xs font-bold w-12 text-center text-gray-700",children:[Math.round(a*100),"%"]}),D.jsx("button",{onClick:()=>i(J=>J+.1),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:D.jsx(ja,{size:18})})]}),D.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),D.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[D.jsx("button",{onClick:()=>H("default"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Rectangle",children:D.jsx(M0e,{size:20})}),D.jsx("button",{onClick:()=>H("circle"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Circle",children:D.jsx(qde,{size:20})}),D.jsx("button",{onClick:()=>H("diamond"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Diamond",children:D.jsx(ape,{size:20})}),D.jsx("button",{onClick:()=>H("sticky"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Sticky Note",children:D.jsx(R0e,{size:20})}),D.jsx("button",{onClick:()=>H("text"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Text",children:D.jsx(CQ,{size:20})})]}),D.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),D.jsx("div",{className:"flex items-center space-x-1 px-2",children:D.jsx("button",{onClick:Z,disabled:!g,className:`p-2.5 rounded-xl transition-all group relative ${g?"hover:bg-red-50 text-gray-600 hover:text-red-500":"text-gray-300 cursor-not-allowed"}`,children:D.jsx(Am,{size:20})})})]}),D.jsx("div",{className:"absolute top-4 right-4 bg-white/80 backdrop-blur px-3 py-1.5 rounded-full text-[10px] font-medium text-gray-400 border border-gray-100 shadow-sm pointer-events-none select-none",children:"Hold Shift + Drag to pan"})]})},jOe=[{id:"1",title:"Q4 Revenue Targets",progress:65,owner:"Max",color:"#7b68ee",dueDate:"2025-12-31"},{id:"2",title:"Launch Mobile App",progress:30,owner:"Team",color:"#e44356",dueDate:"2025-11-30"},{id:"3",title:"Hire 5 Engineers",progress:80,owner:"HR",color:"#22c55e",dueDate:"2025-10-15"}],WOe=()=>{const{showToast:r}=lc(),[e,t]=xe.useState(jOe),n=()=>{const a=prompt("Goal Name:");if(!a)return;const i={id:Date.now().toString(),title:a,progress:0,owner:"Me",color:"#3b82f6",dueDate:new Date().toISOString()};t([...e,i]),r("Goal created!","success")};return D.jsx("div",{className:"flex-1 flex flex-col bg-gray-50/50 p-8 overflow-y-auto h-full",children:D.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[D.jsxs("div",{className:"flex items-center justify-between mb-8",children:[D.jsxs("div",{children:[D.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[D.jsx(EQ,{className:"mr-3 text-clickup-purple"})," Goals"]}),D.jsx("p",{className:"text-gray-500 mt-1",children:"Track your OKRs and high-level objectives."})]}),D.jsxs("button",{onClick:n,className:"px-4 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[D.jsx(ja,{size:18,className:"mr-2"})," New Goal"]})]}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(a=>D.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow group cursor-pointer",children:[D.jsxs("div",{className:"flex items-start justify-between mb-4",children:[D.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:text-clickup-purple group-hover:bg-purple-50 transition-colors",children:D.jsx(z0e,{size:20})}),D.jsx("button",{className:"text-gray-300 hover:text-gray-600",children:D.jsx(oA,{size:16})})]}),D.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 group-hover:text-clickup-purple transition-colors",children:a.title}),D.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-6",children:[D.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600 font-medium mr-2",children:a.owner}),D.jsxs("span",{children:["Due ",new Date(a.dueDate).toLocaleDateString()]})]}),D.jsxs("div",{className:"relative pt-1",children:[D.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[D.jsx("div",{children:D.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-purple-600 bg-purple-200",children:"Progress"})}),D.jsx("div",{className:"text-right",children:D.jsxs("span",{className:"text-xs font-semibold inline-block text-purple-600",children:[a.progress,"%"]})})]}),D.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-purple-100",children:D.jsx("div",{style:{width:`${a.progress}%`,backgroundColor:a.color},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transition-all duration-1000 ease-out"})})]}),D.jsxs("div",{className:"flex items-center text-xs text-gray-400 mt-2",children:[D.jsx(Kc,{size:12,className:"mr-1 text-green-500"})," On Track"]})]},a.id)),D.jsxs("button",{onClick:n,className:"border-2 border-dashed border-gray-200 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 hover:border-clickup-purple hover:text-clickup-purple hover:bg-purple-50/50 transition-all min-h-[200px]",children:[D.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-50 flex items-center justify-center mb-3 group-hover:bg-white",children:D.jsx(ja,{size:24})}),D.jsx("span",{className:"font-medium",children:"Create New Goal"})]})]})]})})},YOe=()=>D.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[D.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:D.jsx($w,{size:64})}),D.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Overview Dashboard"}),D.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"Track high-level metrics and project health here. This module is currently being built."})]}),XOe=[{id:"1",name:"TechSolutions Inc.",category:"Electronics",rating:4.8,reviews:1240,description:"Premium supplier of office electronics, monitors, and peripherals.",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$500"},{id:"2",name:"GreenLeaf Office Supplies",category:"Office Supplies",rating:4.5,reviews:856,description:"Eco-friendly paper, pens, and general office consumables.",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$100"},{id:"3",name:"BuildRight Construction",category:"Construction",rating:4.9,reviews:2100,description:"Heavy machinery rentals and construction material supply.",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"3-5 days",minOrder:"$5000"},{id:"4",name:"CleanMaster Services",category:"Services",rating:4.2,reviews:430,description:"Professional cleaning services for corporate offices.",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Scheduled",minOrder:"Contract"},{id:"5",name:"Global Logistics Co.",category:"Logistics",rating:4.6,reviews:920,description:"International shipping and freight forwarding solutions.",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Varies",minOrder:"$1000"},{id:"6",name:"SecureGuard Systems",category:"Security",rating:4.7,reviews:650,description:"Security cameras, access control systems, and monitoring.",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$2000"},{id:"7",name:"FreshFoods Catering",category:"Food & Beverage",rating:4.4,reviews:320,description:"Corporate catering and pantry stocking services.",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Daily",minOrder:"$200"},{id:"8",name:"PrintPro Solutions",category:"Printing",rating:4.3,reviews:510,description:"High-volume printing, marketing materials, and signage.",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$50"},{id:"9",name:"RapidCourier",category:"Logistics",rating:4.1,reviews:215,description:"Local courier services for documents and small packages.",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-4 hours",minOrder:"$20"},{id:"10",name:"OfficeComfort Furniture",category:"Office Supplies",rating:4.7,reviews:1100,description:"Ergonomic chairs, desks, and office furniture solutions.",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$500"},{id:"11",name:"SparkleClean Janitorial",category:"Services",rating:4,reviews:150,description:"Daily janitorial services for small to medium businesses.",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Daily",minOrder:"$100"},{id:"12",name:"EventMasters",category:"Services",rating:4.9,reviews:890,description:"Full-service corporate event planning and management.",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Scheduled",minOrder:"$5000"},{id:"13",name:"SafeHands Security",category:"Security",rating:4.5,reviews:420,description:"Manned guarding and security patrol services.",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"Contract"},{id:"14",name:"GourmetDelights",category:"Food & Beverage",rating:4.8,reviews:560,description:"Premium snacks, coffee, and beverages for office pantries.",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Weekly",minOrder:"$150"},{id:"15",name:"ConstructCo Materials",category:"Construction",rating:4.3,reviews:780,description:"Bulk supply of cement, steel, and other raw materials.",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"2-3 days",minOrder:"$2000"}],c2=[{id:1,title:"Summer Construction Sale",subtitle:"Up to 30% off on raw materials",image:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&w=1200&q=80",color:"from-orange-500 to-red-500"},{id:2,title:"Premium Office Furniture",subtitle:"Transform your workspace today",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=1200&q=80",color:"from-blue-500 to-indigo-500"},{id:3,title:"Eco-Friendly Supplies",subtitle:"Sustainable solutions for your business",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&w=1200&q=80",color:"from-green-500 to-emerald-500"}],qOe=[{id:1,name:"Portland Cement",price:"$12/bag",supplier:"ConstructCo",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80"},{id:2,name:"Steel Rebar",price:"$450/ton",supplier:"MetalWorks",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80"},{id:3,name:"Office Paper A4",price:"$45/box",supplier:"GreenLeaf",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80"},{id:4,name:"Ergonomic Chair",price:"$250/unit",supplier:"OfficeComfort",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80"},{id:5,name:"Safety Helmets",price:"$25/unit",supplier:"SafeGear",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80"},{id:6,name:"Copper Wire",price:"$8/m",supplier:"TechSolutions",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80"}],ZOe=["All","Electronics","Office Supplies","Construction","Services","Logistics","Security","Food & Beverage","Printing"],KOe=()=>{const{showToast:r}=lc(),[e,t]=xe.useState("All"),[n,a]=xe.useState(""),[i,s]=xe.useState(XOe),[o,l]=xe.useState(0),[c,u]=xe.useState(1),f=12,h=()=>l(g=>(g+1)%c2.length),d=()=>l(g=>(g-1+c2.length)%c2.length),v=i.filter(g=>{const m=e==="All"||g.category===e,y=g.name.toLowerCase().includes(n.toLowerCase())||g.description.toLowerCase().includes(n.toLowerCase());return m&&y});return D.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 overflow-hidden font-sans text-gray-800",children:[D.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shrink-0 z-20 shadow-sm",children:[D.jsxs("div",{className:"flex items-center space-x-4",children:[D.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Local Marketplace"}),D.jsx("div",{className:"h-6 w-[1px] bg-gray-200 hidden md:block"}),D.jsxs("div",{className:"hidden md:flex items-center text-gray-500 text-sm hover:text-gray-900 cursor-pointer transition-colors bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-100 hover:border-gray-300",children:[D.jsx(b8,{size:16,className:"mr-2 text-clickup-purple"}),D.jsx("span",{className:"font-medium",children:"Riyadh, SA"}),D.jsx(Wl,{size:14,className:"ml-2 opacity-50"})]})]}),D.jsx("div",{className:"flex items-center space-x-4 flex-1 max-w-xl mx-4 md:mx-8",children:D.jsxs("div",{className:"relative flex-1 group",children:[D.jsx(w8,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-clickup-purple transition-colors"}),D.jsx("input",{type:"text",placeholder:"Search for suppliers, services, or products...",className:"w-full bg-gray-100 border border-transparent focus:bg-white focus:border-clickup-purple/50 focus:ring-4 focus:ring-clickup-purple/10 rounded-xl pl-10 pr-4 py-2.5 text-sm transition-all outline-none placeholder:text-gray-400",value:n,onChange:g=>a(g.target.value)})]})}),D.jsx("div",{className:"flex items-center space-x-3",children:D.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 rounded-lg text-sm font-medium text-gray-700 transition-all active:scale-95",children:[D.jsx(xQ,{size:16}),D.jsx("span",{className:"hidden md:inline",children:"Filters"})]})})]}),D.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[D.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-6 overflow-y-auto hidden lg:block shrink-0",children:[D.jsxs("div",{className:"mb-8",children:[D.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Categories"}),D.jsx("ul",{className:"space-y-1",children:ZOe.map(g=>D.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-lg cursor-pointer text-sm transition-all ${e===g?"bg-purple-50 text-clickup-purple font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>t(g),children:[D.jsx("span",{children:g}),e===g&&D.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-clickup-purple"})]},g))})]}),D.jsxs("div",{className:"mb-8",children:[D.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Rating"}),D.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(g=>D.jsxs("div",{className:"flex items-center group cursor-pointer px-2 py-1 rounded hover:bg-gray-50",children:[D.jsx("div",{className:"flex text-yellow-400 mr-2",children:[...Array(5)].map((m,y)=>D.jsx(G3,{size:14,fill:y<g?"currentColor":"none",className:y<g?"":"text-gray-200"},y))}),D.jsx("span",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"& Up"})]},g))})]}),D.jsxs("div",{children:[D.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Price Range"}),D.jsx("div",{className:"flex gap-2",children:["$","$$","$$$"].map(g=>D.jsx("button",{className:"flex-1 px-3 py-1.5 border border-gray-200 rounded-md text-sm text-gray-600 hover:border-clickup-purple hover:text-clickup-purple transition-colors",children:g},g))})]})]}),D.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-gray-50/50",children:[D.jsxs("div",{className:"mb-8 space-y-6",children:[D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[D.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Spend"}),D.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"$124.5k"}),D.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded-full w-fit",children:[D.jsx(Kc,{size:12,className:"mr-1"}),"+12.5%"]})]}),D.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:D.jsx(Bm,{size:24})})]}),D.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Active Suppliers"}),D.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"48"}),D.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded-full w-fit",children:[D.jsx(Kc,{size:12,className:"mr-1"}),"+4 new"]})]}),D.jsx("div",{className:"p-3 bg-purple-50 rounded-xl text-purple-600",children:D.jsx(q0,{size:24})})]}),D.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Open Orders"}),D.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"15"}),D.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-yellow-600 bg-yellow-50 px-2 py-0.5 rounded-full w-fit",children:[D.jsx(ry,{size:12,className:"mr-1"}),"3 pending"]})]}),D.jsx("div",{className:"p-3 bg-orange-50 rounded-xl text-orange-600",children:D.jsx(T8,{size:24})})]}),D.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Avg Rating"}),D.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"4.8"}),D.jsx("div",{className:"flex items-center mt-2 text-xs font-medium text-gray-500",children:"Based on 1.2k reviews"})]}),D.jsx("div",{className:"p-3 bg-yellow-50 rounded-xl text-yellow-600",children:D.jsx(G3,{size:24,fill:"currentColor"})})]})]}),D.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[D.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm lg:col-span-1",children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h3",{className:"font-bold text-gray-800",children:"Spend by Category"}),D.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:D.jsx(_0e,{size:16})})]}),D.jsxs("div",{className:"flex items-center justify-center relative h-48",children:[D.jsx("div",{className:"w-40 h-40 rounded-full",style:{background:"conic-gradient(#7B68EE 0% 35%, #3B82F6 35% 60%, #10B981 60% 80%, #F59E0B 80% 100%)"}}),D.jsxs("div",{className:"absolute w-28 h-28 bg-white rounded-full flex items-center justify-center flex-col",children:[D.jsx("span",{className:"text-xs text-gray-400",children:"Total"}),D.jsx("span",{className:"font-bold text-gray-800",children:"$124k"})]})]}),D.jsxs("div",{className:"mt-6 space-y-3",children:[D.jsxs("div",{className:"flex items-center justify-between text-sm",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx("div",{className:"w-3 h-3 rounded-full bg-clickup-purple mr-2"}),"Electronics"]}),D.jsx("span",{className:"font-medium text-gray-700",children:"35%"})]}),D.jsxs("div",{className:"flex items-center justify-between text-sm",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),"Services"]}),D.jsx("span",{className:"font-medium text-gray-700",children:"25%"})]}),D.jsxs("div",{className:"flex items-center justify-between text-sm",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),"Supplies"]}),D.jsx("span",{className:"font-medium text-gray-700",children:"20%"})]}),D.jsxs("div",{className:"flex items-center justify-between text-sm",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),"Other"]}),D.jsx("span",{className:"font-medium text-gray-700",children:"20%"})]})]})]}),D.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm lg:col-span-2",children:[D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsx("h3",{className:"font-bold text-gray-800",children:"Monthly Procurement Activity"}),D.jsx("div",{className:"flex items-center space-x-2",children:D.jsx("span",{className:"text-xs text-gray-400",children:"Last 6 Months"})})]}),D.jsx("div",{className:"h-64 flex items-end justify-between space-x-4 px-2",children:["May","Jun","Jul","Aug","Sep","Oct"].map((g,m)=>{const y=[40,65,45,80,55,90][m];return D.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[D.jsx("div",{className:"w-full relative flex items-end h-52 bg-gray-50 rounded-t-lg overflow-hidden",children:D.jsx("div",{className:"w-full bg-clickup-purple/80 group-hover:bg-clickup-purple transition-all duration-500 rounded-t-lg relative",style:{height:`${y}%`},children:D.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:["$",y*1.5,"k"]})})}),D.jsx("span",{className:"text-xs text-gray-400 mt-3 font-medium",children:g})]},g)})})]})]})]}),D.jsxs("div",{className:"mb-8 relative rounded-2xl overflow-hidden h-40 shadow-sm",children:[D.jsx("img",{src:"https://images.unsplash.com/photo-1586864387967-d02ef85d93e8?auto=format&fit=crop&w=1200&q=80",alt:"Marketplace Banner",className:"w-full h-full object-cover"}),D.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-transparent flex flex-col justify-center px-8 text-white",children:[D.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Find Trusted Local Suppliers"}),D.jsx("p",{className:"text-sm opacity-90 max-w-md",children:"Connect with top-rated vendors in your area for all your business needs."})]})]}),D.jsxs("div",{className:"flex items-center justify-between mb-6",children:[D.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:[e==="All"?"All Suppliers":e,D.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-400",children:["(",v.length," results)"]})]}),D.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[D.jsx("span",{children:"Sort by:"}),D.jsxs("button",{className:"font-medium text-gray-800 flex items-center hover:text-clickup-purple",children:["Recommended ",D.jsx(Wl,{size:14,className:"ml-1"})]})]})]}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6 mb-8",children:v.slice((c-1)*f,c*f).map(g=>D.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg hover:border-purple-100 transition-all duration-300 group flex flex-col",children:[D.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[D.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),D.jsx("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-2.5 py-1 text-[10px] font-bold rounded-full text-gray-700 shadow-sm border border-white/50",children:g.deliveryTime}),D.jsx("div",{className:"absolute top-3 left-3 bg-black/50 backdrop-blur-md px-2.5 py-1 text-[10px] font-bold rounded-full text-white shadow-sm",children:g.category})]}),D.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[D.jsxs("div",{className:"flex justify-between items-start mb-2",children:[D.jsx("h3",{className:"text-base font-bold text-gray-900 group-hover:text-clickup-purple transition-colors line-clamp-1",children:g.name}),D.jsxs("div",{className:"flex items-center bg-yellow-50 px-1.5 py-0.5 rounded text-yellow-700 border border-yellow-100",children:[D.jsx(G3,{size:10,fill:"currentColor",className:"mr-1"}),D.jsx("span",{className:"text-xs font-bold",children:g.rating})]})]}),D.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2 flex-1 leading-relaxed",children:g.description}),D.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4 pt-4 border-t border-gray-50",children:[D.jsxs("div",{className:"flex flex-col",children:[D.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Min Order"}),D.jsx("span",{className:"font-medium text-gray-700",children:g.minOrder})]}),D.jsxs("div",{className:"flex flex-col items-end",children:[D.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Reviews"}),D.jsx("span",{className:"font-medium text-gray-700",children:g.reviews})]})]}),D.jsxs("button",{className:"w-full bg-gray-900 hover:bg-clickup-purple text-white py-2.5 rounded-xl text-sm font-medium shadow-sm hover:shadow-md active:scale-[0.98] transition-all flex items-center justify-center group-hover:bg-clickup-purple",onClick:()=>r(`Request sent to ${g.name}`,"success"),children:[D.jsx("span",{children:"Connect Supplier"}),D.jsx(yde,{size:14,className:"ml-2 opacity-70"})]})]})]},g.id))}),v.length>f&&D.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-12",children:[D.jsx("button",{className:`p-2 rounded-lg border ${c===1?"bg-gray-50 text-gray-300 border-gray-100 cursor-not-allowed":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>u(g=>Math.max(g-1,1)),disabled:c===1,children:D.jsx(dP,{size:18})}),[...Array(Math.ceil(v.length/f))].map((g,m)=>D.jsx("button",{className:`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${c===m+1?"bg-clickup-purple text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>u(m+1),children:m+1},m)),D.jsx("button",{className:`p-2 rounded-lg border ${c===Math.ceil(v.length/f)?"bg-gray-50 text-gray-300 border-gray-100 cursor-not-allowed":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>u(g=>Math.min(g+1,Math.ceil(v.length/f))),disabled:c===Math.ceil(v.length/f),children:D.jsx(Cd,{size:18})})]}),D.jsxs("div",{className:"mb-8 relative group rounded-2xl overflow-hidden h-48 md:h-64 shadow-md",children:[D.jsx("div",{className:"absolute inset-0 flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${o*100}%)`},children:c2.map(g=>D.jsxs("div",{className:"w-full h-full flex-shrink-0 relative",children:[D.jsx("img",{src:g.image,alt:g.title,className:"w-full h-full object-cover"}),D.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${g.color} opacity-80 mix-blend-multiply`}),D.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-8 md:px-16 text-white",children:[D.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2",children:g.title}),D.jsx("p",{className:"text-lg md:text-xl opacity-90",children:g.subtitle}),D.jsx("button",{className:"mt-6 bg-white text-gray-900 px-6 py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors w-fit",children:"Explore Now"})]})]},g.id))}),D.jsx("button",{onClick:d,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 backdrop-blur-sm p-2 rounded-full text-white transition-all opacity-0 group-hover:opacity-100",children:D.jsx(dP,{size:24})}),D.jsx("button",{onClick:h,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 backdrop-blur-sm p-2 rounded-full text-white transition-all opacity-0 group-hover:opacity-100",children:D.jsx(Cd,{size:24})}),D.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:c2.map((g,m)=>D.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${o===m?"bg-white w-6":"bg-white/50"}`},m))})]}),D.jsxs("div",{className:"mb-8",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:[D.jsx(S8,{size:20,className:"mr-2 text-clickup-purple"}),"Featured Materials"]}),D.jsx("button",{className:"text-sm text-clickup-purple hover:underline font-medium",children:"View All"})]}),D.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:qOe.map(g=>D.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all group cursor-pointer",children:[D.jsx("div",{className:"h-24 bg-gray-100 relative overflow-hidden",children:D.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),D.jsxs("div",{className:"p-3",children:[D.jsx("h3",{className:"text-sm font-bold text-gray-800 truncate",title:g.name,children:g.name}),D.jsx("p",{className:"text-xs text-gray-500 truncate",children:g.supplier}),D.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[D.jsx("span",{className:"text-xs font-bold text-clickup-purple bg-purple-50 px-1.5 py-0.5 rounded",children:g.price}),D.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 hover:bg-clickup-purple hover:text-white transition-colors",children:D.jsx(mQ,{size:12})})]})]})]},g.id))})]})]})]})]})},$Oe=[{name:"Default",value:"transparent"},{name:"Red",value:"#fee2e2"},{name:"Green",value:"#dcfce7"},{name:"Blue",value:"#dbeafe"},{name:"Yellow",value:"#fef9c3"},{name:"Purple",value:"#f3e8ff"},{name:"Orange",value:"#ffedd5"}],Iae=({id:r,title:e,columns:t,showBorder:n,headerColor:a,onDelete:i,onRenameTable:s,onRenameColumn:o,onAddColumn:l,onUpdateColumnType:c,onDeleteColumn:u,onUpdateColumnColor:f,onUpdateRow:h,rows:d})=>{const[v,g]=xe.useState(d||[{id:"1",data:{}},{id:"2",data:{}},{id:"3",data:{}}]);xe.useEffect(()=>{d&&g(d)},[d]);const m=()=>{g([...v,{id:Math.random().toString(36).substr(2,9),data:{}}])},y=(A,E,M)=>{const R=v.map(L=>{if(L.id===A){const I={...L.data,[E]:M};return h&&h(A,I),{...L,data:I}}return L});g(R)},b=A=>{g(v.filter(E=>E.id!==A))},S=(A,E)=>{g(v.map(M=>M.id===A?{...M,color:E}:M))};return D.jsxs("div",{className:"mb-8 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[D.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-white",children:[D.jsx("input",{type:"text",value:e,onChange:A=>s&&s(A.target.value),className:"text-lg font-semibold text-gray-800 bg-transparent border-none focus:ring-0 p-0 w-full mr-4",placeholder:"Table Name"}),D.jsxs("div",{className:"flex items-center space-x-2",children:[i&&D.jsx("button",{onClick:i,className:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded hover:bg-red-50",title:"Delete Table",children:D.jsx(Am,{size:18})}),D.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100",children:D.jsx(oA,{size:20})})]})]}),D.jsx("div",{className:"overflow-x-auto",children:D.jsx("div",{className:"min-w-full inline-block align-middle",children:D.jsxs("div",{className:`border-b border-gray-200 ${n?"border-l border-r":""}`,children:[D.jsxs("div",{className:"flex",style:{backgroundColor:a},children:[t.map(A=>D.jsx("div",{className:`px-4 py-3 relative group/header ${n?"border-r border-gray-200 last:border-r-0":""}`,style:{width:A.width,minWidth:A.width},children:D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[D.jsx("div",{className:"text-gray-400"}),D.jsx("input",{type:"text",value:A.name,onChange:E=>o&&o(A.id,E.target.value),className:"bg-transparent border-none focus:ring-0 p-0 w-full text-xs font-bold text-gray-600 uppercase tracking-wider"})]}),D.jsx("button",{onClick:()=>u&&u(A.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1 opacity-0 group-hover/header:opacity-100",title:"Delete Column",children:D.jsx(Am,{size:12})})]})},A.id)),D.jsx("div",{className:"px-2 py-2 flex items-center justify-center border-l border-transparent hover:border-gray-200 w-10",children:D.jsx("button",{onClick:l,className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Add Column",children:D.jsx(ja,{size:16})})})]}),D.jsx("div",{className:"bg-white divide-y divide-gray-200",children:v.map(A=>D.jsxs("div",{className:"flex hover:bg-gray-50 transition-colors group",style:{backgroundColor:A.color||"transparent"},children:[t.map(E=>D.jsx("div",{className:`p-0 ${n?"border-r border-gray-200 last:border-r-0":""}`,style:{width:E.width,minWidth:E.width,backgroundColor:E.color||"transparent"},children:E.type==="checkbox"?D.jsx("div",{className:"w-full h-full flex items-center justify-center py-2",children:D.jsx("input",{type:"checkbox",checked:A.data[E.id]||!1,onChange:M=>y(A.id,E.id,M.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}):D.jsx("input",{type:E.type==="number"?"number":E.type==="date"?"date":"text",value:A.data[E.id]||"",onChange:M=>y(A.id,E.id,M.target.value),className:"w-full h-full px-4 py-3 bg-transparent border-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 text-sm text-gray-900",placeholder:"..."})},E.id)),D.jsxs("div",{className:"w-16 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity space-x-1",children:[D.jsxs("div",{className:"relative group/color",children:[D.jsx("button",{className:"text-gray-400 hover:text-indigo-600 p-1 rounded hover:bg-indigo-50",children:D.jsx($pe,{size:14})}),D.jsx("div",{className:"absolute bottom-full right-0 mb-1 bg-white rounded-lg shadow-xl border border-gray-100 p-2 hidden group-hover/color:grid grid-cols-4 gap-1 w-32 z-50",children:$Oe.map(E=>D.jsx("button",{onClick:()=>S(A.id,E.value),className:`w-5 h-5 rounded-full border border-gray-200 ${A.color===E.value?"ring-2 ring-indigo-500":""}`,style:{backgroundColor:E.value},title:E.name},E.value))})]}),D.jsx("button",{onClick:()=>b(A.id),className:"text-gray-400 hover:text-red-500 p-1 rounded hover:bg-red-50",title:"Delete Row",children:D.jsx(Am,{size:14})})]})]},A.id))})]})})}),D.jsx("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50",children:D.jsx("button",{onClick:m,className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Add Row",children:D.jsx(ja,{size:16})})})]})},Lae=({title:r,value:e,icon:t,trend:n,subtext:a,iconColorClass:i="text-blue-600",iconBgClass:s="bg-blue-50",isEmpty:o,onConnect:l,onTitleChange:c})=>{const[u,f]=An.useState(!1),[h,d]=An.useState(r);An.useEffect(()=>{d(r)},[r]);const v=()=>{f(!1),h.trim()!==r&&c?c(h.trim()):d(r)};if(o)return D.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-dashed border-gray-300 shadow-sm flex flex-col items-center justify-center h-full min-h-[140px] hover:bg-gray-50 transition-colors cursor-pointer group",onClick:l,children:[D.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-100 transition-colors",children:D.jsx(t,{size:20,className:"text-gray-400 group-hover:text-blue-500"})}),D.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600",children:"Connect Data"})]});const g=()=>{if(!n)return"text-gray-500 bg-gray-50";switch(n.direction){case"up":return"text-green-600 bg-green-50";case"down":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},m=()=>{if(!n)return null;switch(n.direction){case"up":return D.jsx(Kc,{size:12,className:"mr-1"});case"down":return D.jsx(MQ,{size:12,className:"mr-1"});default:return D.jsx(B0,{size:12,className:"mr-1"})}};return D.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[D.jsxs("div",{children:[u?D.jsx("input",{type:"text",value:h,onChange:y=>d(y.target.value),onBlur:v,onKeyDown:y=>y.key==="Enter"&&v(),className:"text-xs font-medium text-gray-900 uppercase tracking-wide border-b border-blue-500 outline-none w-full bg-transparent",autoFocus:!0}):D.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide cursor-text hover:text-blue-600 transition-colors",onClick:()=>{c&&f(!0)},children:r}),D.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:e}),n&&D.jsxs("div",{className:`flex items-center mt-2 text-xs font-medium px-2 py-0.5 rounded-full w-fit ${g()}`,children:[m(),n.label||n.value]}),a&&D.jsx("div",{className:"flex items-center mt-2 text-xs font-medium text-gray-500",children:a})]}),D.jsx("div",{className:`p-3 rounded-xl ${s} ${i}`,children:D.jsx(t,{size:24})})]})};var n6=function(r,e){return n6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},n6(r,e)};function Oae(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n6(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ow=function(){return Ow=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ow.apply(this,arguments)};function JOe(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function TW(r,e,t,n){function a(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(r,e||[])).next())})}function AW(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(t=0)),t;)try{if(n=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,a=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(r,t)}catch(u){c=[6,u],a=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var a6=function(r,e){return a6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},a6(r,e)};function Ye(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a6(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var QOe=(function(){function r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return r})(),eke=(function(){function r(){this.browser=new QOe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return r})(),jr=new eke;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(jr.wxa=!0,jr.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?jr.worker=!0:!jr.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(jr.node=!0,jr.svgSupported=!0):tke(navigator.userAgent,jr);function tke(r,e){var t=e.browser,n=r.match(/Firefox\/([\d.]+)/),a=r.match(/MSIE\s([\d.]+)/)||r.match(/Trident\/.+?rv:(([\d.]+))/),i=r.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(r);n&&(t.firefox=!0,t.version=n[1]),a&&(t.ie=!0,t.version=a[1]),i&&(t.edge=!0,t.version=i[1],t.newEdge=+i[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11);var o=e.domSupported=typeof document<"u";if(o){var l=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in l||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}}var $z=12,kae="sans-serif",tp=$z+"px "+kae,rke=20,nke=100,ake="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function ike(r){var e={};if(typeof JSON>"u")return e;for(var t=0;t<r.length;t++){var n=String.fromCharCode(t+32),a=(r.charCodeAt(t)-rke)/nke;e[n]=a}return e}var ske=ike(ake),Ml={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var r,e;return function(t,n){if(!r){var a=Ml.createCanvas();r=a&&a.getContext("2d")}if(r)return e!==n&&(e=r.font=n||tp),r.measureText(t);t=t||"",n=n||tp;var i=/((?:\d+)?\.?\d*)px/.exec(n),s=i&&+i[1]||$z,o=0;if(n.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var c=ske[t[l]];o+=c==null?s:c*s}return{width:o}}})(),loadImage:function(r,e,t){var n=new Image;return n.onload=e,n.onerror=t,n.src=r,n}};function Pae(r){for(var e in Ml)r[e]&&(Ml[e]=r[e])}var Bae=Jc(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(r,e){return r["[object "+e+"]"]=!0,r},{}),zae=Jc(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(r,e){return r["[object "+e+"Array]"]=!0,r},{}),eb=Object.prototype.toString,FI=Array.prototype,oke=FI.forEach,lke=FI.filter,Jz=FI.slice,cke=FI.map,EW=(function(){}).constructor,DC=EW?EW.prototype:null,Qz="__proto__",uke=2311;function eF(){return uke++}function UI(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];typeof console<"u"&&console.error.apply(console,r)}function Qt(r){if(r==null||typeof r!="object")return r;var e=r,t=eb.call(r);if(t==="[object Array]"){if(!e_(r)){e=[];for(var n=0,a=r.length;n<a;n++)e[n]=Qt(r[n])}}else if(zae[t]){if(!e_(r)){var i=r.constructor;if(i.from)e=i.from(r);else{e=new i(r.length);for(var n=0,a=r.length;n<a;n++)e[n]=r[n]}}}else if(!Bae[t]&&!e_(r)&&!Wm(r)){e={};for(var s in r)r.hasOwnProperty(s)&&s!==Qz&&(e[s]=Qt(r[s]))}return e}function Sr(r,e,t){if(!nr(e)||!nr(r))return t?Qt(e):r;for(var n in e)if(e.hasOwnProperty(n)&&n!==Qz){var a=r[n],i=e[n];nr(i)&&nr(a)&&!ct(i)&&!ct(a)&&!Wm(i)&&!Wm(a)&&!i6(i)&&!i6(a)&&!e_(i)&&!e_(a)?Sr(a,i,t):(t||!(n in r))&&(r[n]=Qt(e[n]))}return r}function VI(r,e){for(var t=r[0],n=1,a=r.length;n<a;n++)t=Sr(t,r[n],e);return t}function nt(r,e){if(Object.assign)Object.assign(r,e);else for(var t in e)e.hasOwnProperty(t)&&t!==Qz&&(r[t]=e[t]);return r}function rr(r,e,t){for(var n=Yr(e),a=0,i=n.length;a<i;a++){var s=n[a];(t?e[s]!=null:r[s]==null)&&(r[s]=e[s])}return r}var fke=Ml.createCanvas;function br(r,e){if(r){if(r.indexOf)return r.indexOf(e);for(var t=0,n=r.length;t<n;t++)if(r[t]===e)return t}return-1}function tF(r,e){var t=r.prototype;function n(){}n.prototype=e.prototype,r.prototype=new n;for(var a in t)t.hasOwnProperty(a)&&(r.prototype[a]=t[a]);r.prototype.constructor=r,r.superClass=e}function Xa(r,e,t){if(r="prototype"in r?r.prototype:r,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),a=0;a<n.length;a++){var i=n[a];i!=="constructor"&&(t?e[i]!=null:r[i]==null)&&(r[i]=e[i])}else rr(r,e,t)}function Vs(r){return!r||typeof r=="string"?!1:typeof r.length=="number"}function te(r,e,t){if(r&&e)if(r.forEach&&r.forEach===oke)r.forEach(e,t);else if(r.length===+r.length)for(var n=0,a=r.length;n<a;n++)e.call(t,r[n],n,r);else for(var i in r)r.hasOwnProperty(i)&&e.call(t,r[i],i,r)}function ft(r,e,t){if(!r)return[];if(!e)return HI(r);if(r.map&&r.map===cke)return r.map(e,t);for(var n=[],a=0,i=r.length;a<i;a++)n.push(e.call(t,r[a],a,r));return n}function Jc(r,e,t,n){if(r&&e){for(var a=0,i=r.length;a<i;a++)t=e.call(n,t,r[a],a,r);return t}}function fn(r,e,t){if(!r)return[];if(!e)return HI(r);if(r.filter&&r.filter===lke)return r.filter(e,t);for(var n=[],a=0,i=r.length;a<i;a++)e.call(t,r[a],a,r)&&n.push(r[a]);return n}function dv(r,e,t){if(r&&e){for(var n=0,a=r.length;n<a;n++)if(e.call(t,r[n],n,r))return r[n]}}function Yr(r){if(!r)return[];if(Object.keys)return Object.keys(r);var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e}function hke(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return function(){return r.apply(e,t.concat(Jz.call(arguments)))}}var Ot=DC&&Yt(DC.bind)?DC.call.bind(DC.bind):hke;function yr(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return r.apply(this,e.concat(Jz.call(arguments)))}}function ct(r){return Array.isArray?Array.isArray(r):eb.call(r)==="[object Array]"}function Yt(r){return typeof r=="function"}function It(r){return typeof r=="string"}function IR(r){return eb.call(r)==="[object String]"}function $r(r){return typeof r=="number"}function nr(r){var e=typeof r;return e==="function"||!!r&&e==="object"}function i6(r){return!!Bae[eb.call(r)]}function rl(r){return!!zae[eb.call(r)]}function Wm(r){return typeof r=="object"&&typeof r.nodeType=="number"&&typeof r.ownerDocument=="object"}function IA(r){return r.colorStops!=null}function Fae(r){return r.image!=null}function Uae(r){return eb.call(r)==="[object RegExp]"}function Us(r){return r!==r}function bs(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0,n=r.length;t<n;t++)if(r[t]!=null)return r[t]}function Gt(r,e){return r??e}function El(r,e,t){return r??e??t}function HI(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Jz.apply(r,e)}function LA(r){if(typeof r=="number")return[r,r,r,r];var e=r.length;return e===2?[r[0],r[1],r[0],r[1]]:e===3?[r[0],r[1],r[2],r[1]]:r}function Hs(r,e){if(!r)throw new Error(e)}function Jl(r){return r==null?null:typeof r.trim=="function"?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Vae="__ec_primitive__";function DT(r){r[Vae]=!0}function e_(r){return r[Vae]}var dke=(function(){function r(){this.data={}}return r.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},r.prototype.has=function(e){return this.data.hasOwnProperty(e)},r.prototype.get=function(e){return this.data[e]},r.prototype.set=function(e,t){return this.data[e]=t,this},r.prototype.keys=function(){return Yr(this.data)},r.prototype.forEach=function(e){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},r})(),Hae=typeof Map=="function";function pke(){return Hae?new Map:new dke}var Gae=(function(){function r(e){var t=ct(e);this.data=pke();var n=this;e instanceof r?e.each(a):e&&te(e,a);function a(i,s){t?n.set(i,s):n.set(s,i)}}return r.prototype.hasKey=function(e){return this.data.has(e)},r.prototype.get=function(e){return this.data.get(e)},r.prototype.set=function(e,t){return this.data.set(e,t),t},r.prototype.each=function(e,t){this.data.forEach(function(n,a){e.call(t,n,a)})},r.prototype.keys=function(){var e=this.data.keys();return Hae?Array.from(e):e},r.prototype.removeKey=function(e){this.data.delete(e)},r})();function Ht(r){return new Gae(r)}function S_(r,e){for(var t=new r.constructor(r.length+e.length),n=0;n<r.length;n++)t[n]=r[n];for(var a=r.length,n=0;n<e.length;n++)t[n+a]=e[n];return t}function OA(r,e){var t;if(Object.create)t=Object.create(r);else{var n=function(){};n.prototype=r,t=new n}return e&&nt(t,e),t}function rF(r){var e=r.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Ut(r,e){return r.hasOwnProperty(e)}function Wa(){}var kw=180/Math.PI,vke=Number.EPSILON||Math.pow(2,-52);const gke=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:vke,HashMap:Gae,RADIAN_TO_DEGREE:kw,assert:Hs,bind:Ot,clone:Qt,concatArray:S_,createCanvas:fke,createHashMap:Ht,createObject:OA,curry:yr,defaults:rr,disableUserSelect:rF,each:te,eqNaN:Us,extend:nt,filter:fn,find:dv,guid:eF,hasOwn:Ut,indexOf:br,inherits:tF,isArray:ct,isArrayLike:Vs,isBuiltInObject:i6,isDom:Wm,isFunction:Yt,isGradientObject:IA,isImagePatternObject:Fae,isNumber:$r,isObject:nr,isPrimitive:e_,isRegExp:Uae,isString:It,isStringSafe:IR,isTypedArray:rl,keys:Yr,logError:UI,map:ft,merge:Sr,mergeAll:VI,mixin:Xa,noop:Wa,normalizeCssArray:LA,reduce:Jc,retrieve:bs,retrieve2:Gt,retrieve3:El,setAsPrimitive:DT,slice:HI,trim:Jl},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s6=function(r,e){return s6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},s6(r,e)};function ga(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");s6(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function pv(r,e){return r==null&&(r=0),e==null&&(e=0),[r,e]}function lo(r,e){return r[0]=e[0],r[1]=e[1],r}function mh(r){return[r[0],r[1]]}function GI(r,e,t){return r[0]=e,r[1]=t,r}function o6(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function LR(r,e,t,n){return r[0]=e[0]+t[0]*n,r[1]=e[1]+t[1]*n,r}function R0(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function RT(r){return Math.sqrt(nF(r))}var mke=RT;function nF(r){return r[0]*r[0]+r[1]*r[1]}var yke=nF;function xke(r,e,t){return r[0]=e[0]*t[0],r[1]=e[1]*t[1],r}function _ke(r,e,t){return r[0]=e[0]/t[0],r[1]=e[1]/t[1],r}function bke(r,e){return r[0]*e[0]+r[1]*e[1]}function Pw(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r}function vy(r,e){var t=RT(e);return t===0?(r[0]=0,r[1]=0):(r[0]=e[0]/t,r[1]=e[1]/t),r}function OR(r,e){return Math.sqrt((r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1]))}var Od=OR;function jae(r,e){return(r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1])}var U0=jae;function Ske(r,e){return r[0]=-e[0],r[1]=-e[1],r}function Bw(r,e,t,n){return r[0]=e[0]+n*(t[0]-e[0]),r[1]=e[1]+n*(t[1]-e[1]),r}function Ya(r,e,t){var n=e[0],a=e[1];return r[0]=t[0]*n+t[2]*a+t[4],r[1]=t[1]*n+t[3]*a+t[5],r}function kd(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r}function Pd(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r}const wke=Object.freeze(Object.defineProperty({__proto__:null,add:o6,applyTransform:Ya,clone:mh,copy:lo,create:pv,dist:Od,distSquare:U0,distance:OR,distanceSquare:jae,div:_ke,dot:bke,len:RT,lenSquare:nF,length:mke,lengthSquare:yke,lerp:Bw,max:Pd,min:kd,mul:xke,negate:Ske,normalize:vy,scale:Pw,scaleAndAdd:LR,set:GI,sub:R0},Symbol.toStringTag,{value:"Module"}));var n1=(function(){function r(e,t){this.target=e,this.topTarget=t&&t.topTarget}return r})(),Tke=(function(){function r(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return r.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new n1(t,e),"dragstart",e.event))},r.prototype._drag=function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,a=e.offsetY,i=n-this._x,s=a-this._y;this._x=n,this._y=a,t.drift(i,s,e),this.handler.dispatchToElement(new n1(t,e),"drag",e.event);var o=this.handler.findHover(n,a,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new n1(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new n1(o,e),"dragenter",e.event))}},r.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new n1(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new n1(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},r})(),au=(function(){function r(e){e&&(this._$eventProcessor=e)}return r.prototype.on=function(e,t,n,a){this._$handlers||(this._$handlers={});var i=this._$handlers;if(typeof t=="function"&&(a=n,n=t,t=null),!n||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),i[e]||(i[e]=[]);for(var o=0;o<i[e].length;o++)if(i[e][o].h===n)return this;var l={h:n,query:t,ctx:a||this,callAtLast:n.zrEventfulCallAtLast},c=i[e].length-1,u=i[e][c];return u&&u.callAtLast?i[e].splice(c,0,l):i[e].push(l),this},r.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},r.prototype.off=function(e,t){var n=this._$handlers;if(!n)return this;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var a=[],i=0,s=n[e].length;i<s;i++)n[e][i].h!==t&&a.push(n[e][i]);n[e]=a}n[e]&&n[e].length===0&&delete n[e]}else delete n[e];return this},r.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[e],i=this._$eventProcessor;if(a)for(var s=t.length,o=a.length,l=0;l<o;l++){var c=a[l];if(!(i&&i.filter&&c.query!=null&&!i.filter(e,c.query)))switch(s){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t);break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},r.prototype.triggerWithContext=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var a=this._$handlers[e],i=this._$eventProcessor;if(a)for(var s=t.length,o=t[s-1],l=a.length,c=0;c<l;c++){var u=a[c];if(!(i&&i.filter&&u.query!=null&&!i.filter(e,u.query)))switch(s){case 0:u.h.call(o);break;case 1:u.h.call(o,t[0]);break;case 2:u.h.call(o,t[0],t[1]);break;default:u.h.apply(o,t.slice(1,s-1));break}}return i&&i.afterTrigger&&i.afterTrigger(e),this},r})(),Ake=Math.log(2);function l6(r,e,t,n,a,i){var s=n+"-"+a,o=r.length;if(i.hasOwnProperty(s))return i[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~a)/Ake);return r[t][l]}for(var c=n|1<<t,u=t+1;n&1<<u;)u++;for(var f=0,h=0,d=0;h<o;h++){var v=1<<h;v&a||(f+=(d%2?-1:1)*r[t][h]*l6(r,e-1,u,c,a|v,i),d++)}return i[s]=f,f}function MW(r,e){var t=[[r[0],r[1],1,0,0,0,-e[0]*r[0],-e[0]*r[1]],[0,0,0,r[0],r[1],1,-e[1]*r[0],-e[1]*r[1]],[r[2],r[3],1,0,0,0,-e[2]*r[2],-e[2]*r[3]],[0,0,0,r[2],r[3],1,-e[3]*r[2],-e[3]*r[3]],[r[4],r[5],1,0,0,0,-e[4]*r[4],-e[4]*r[5]],[0,0,0,r[4],r[5],1,-e[5]*r[4],-e[5]*r[5]],[r[6],r[7],1,0,0,0,-e[6]*r[6],-e[6]*r[7]],[0,0,0,r[6],r[7],1,-e[7]*r[6],-e[7]*r[7]]],n={},a=l6(t,8,0,0,0,n);if(a!==0){for(var i=[],s=0;s<8;s++)for(var o=0;o<8;o++)i[o]==null&&(i[o]=0),i[o]+=((s+o)%2?-1:1)*l6(t,7,s===0?1:0,1<<s,1<<o,n)/a*e[s];return function(l,c,u){var f=c*i[6]+u*i[7]+1;l[0]=(c*i[0]+u*i[1]+i[2])/f,l[1]=(c*i[3]+u*i[4]+i[5])/f}}}var kR="___zrEVENTSAVED",BO=[];function Eke(r,e,t,n,a){return c6(BO,e,n,a,!0)&&c6(r,t,BO[0],BO[1])}function Mke(r,e){r&&t(r),e&&t(e);function t(n){var a=n[kR];a&&(a.clearMarkers&&a.clearMarkers(),delete n[kR])}}function c6(r,e,t,n,a){if(e.getBoundingClientRect&&jr.domSupported&&!Wae(e)){var i=e[kR]||(e[kR]={}),s=Cke(e,i),o=Dke(s,i,a);if(o)return o(r,t,n),!0}return!1}function Cke(r,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var n=["left","right"],a=["top","bottom"],i=0;i<4;i++){var s=document.createElement("div"),o=s.style,l=i%2,c=(i>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",a[c]+":0",n[1-l]+":auto",a[1-c]+":auto",""].join("!important;"),r.appendChild(s),t.push(s)}return e.clearMarkers=function(){te(t,function(u){u.parentNode&&u.parentNode.removeChild(u)})},t}function Dke(r,e,t){for(var n=t?"invTrans":"trans",a=e[n],i=e.srcCoords,s=[],o=[],l=!0,c=0;c<4;c++){var u=r[c].getBoundingClientRect(),f=2*c,h=u.left,d=u.top;s.push(h,d),l=l&&i&&h===i[f]&&d===i[f+1],o.push(r[c].offsetLeft,r[c].offsetTop)}return l&&a?a:(e.srcCoords=s,e[n]=t?MW(o,s):MW(s,o))}function Wae(r){return r.nodeName.toUpperCase()==="CANVAS"}var Rke=/([&<>"'])/g,Nke={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ho(r){return r==null?"":(r+"").replace(Rke,function(e,t){return Nke[t]})}var Ike=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,zO=[],Lke=jr.browser.firefox&&+jr.browser.version.split(".")[0]<39;function u6(r,e,t,n){return t=t||{},n?CW(r,e,t):Lke&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):CW(r,e,t),t}function CW(r,e,t){if(jr.domSupported&&r.getBoundingClientRect){var n=e.clientX,a=e.clientY;if(Wae(r)){var i=r.getBoundingClientRect();t.zrX=n-i.left,t.zrY=a-i.top;return}else if(c6(zO,r,n,a)){t.zrX=zO[0],t.zrY=zO[1];return}}t.zrX=t.zrY=0}function aF(r){return r||window.event}function Uc(r,e,t){if(e=aF(e),e.zrX!=null)return e;var n=e.type,a=n&&n.indexOf("touch")>=0;if(a){var s=n!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&u6(r,s,e,t)}else{u6(r,e,e,t);var i=Oke(e);e.zrDelta=i?i/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&Ike.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function Oke(r){var e=r.wheelDelta;if(e)return e;var t=r.deltaX,n=r.deltaY;if(t==null||n==null)return e;var a=Math.abs(n!==0?n:t),i=n>0?-1:n<0?1:t>0?-1:1;return 3*a*i}function f6(r,e,t,n){r.addEventListener(e,t,n)}function kke(r,e,t,n){r.removeEventListener(e,t,n)}var rp=function(r){r.preventDefault(),r.stopPropagation(),r.cancelBubble=!0};function DW(r){return r.which===2||r.which===3}var Pke=(function(){function r(){this._track=[]}return r.prototype.recognize=function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},r.prototype.clear=function(){return this._track.length=0,this},r.prototype._doTrack=function(e,t,n){var a=e.touches;if(a){for(var i={points:[],touches:[],target:t,event:e},s=0,o=a.length;s<o;s++){var l=a[s],c=u6(n,l,{});i.points.push([c.zrX,c.zrY]),i.touches.push(l)}this._track.push(i)}},r.prototype._recognize=function(e){for(var t in FO)if(FO.hasOwnProperty(t)){var n=FO[t](this._track,e);if(n)return n}},r})();function RW(r){var e=r[1][0]-r[0][0],t=r[1][1]-r[0][1];return Math.sqrt(e*e+t*t)}function Bke(r){return[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]}var FO={pinch:function(r,e){var t=r.length;if(t){var n=(r[t-1]||{}).points,a=(r[t-2]||{}).points||n;if(a&&a.length>1&&n&&n.length>1){var i=RW(n)/RW(a);!isFinite(i)&&(i=1),e.pinchScale=i;var s=Bke(n);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:r[0].target,event:e}}}}};function $i(){return[1,0,0,1,0,0]}function kA(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function PA(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Ku(r,e,t){var n=e[0]*t[0]+e[2]*t[1],a=e[1]*t[0]+e[3]*t[1],i=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return r[0]=n,r[1]=a,r[2]=i,r[3]=s,r[4]=o,r[5]=l,r}function af(r,e,t){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4]+t[0],r[5]=e[5]+t[1],r}function up(r,e,t,n){n===void 0&&(n=[0,0]);var a=e[0],i=e[2],s=e[4],o=e[1],l=e[3],c=e[5],u=Math.sin(t),f=Math.cos(t);return r[0]=a*f+o*u,r[1]=-a*u+o*f,r[2]=i*f+l*u,r[3]=-i*u+f*l,r[4]=f*(s-n[0])+u*(c-n[1])+n[0],r[5]=f*(c-n[1])-u*(s-n[0])+n[1],r}function jI(r,e,t){var n=t[0],a=t[1];return r[0]=e[0]*n,r[1]=e[1]*a,r[2]=e[2]*n,r[3]=e[3]*a,r[4]=e[4]*n,r[5]=e[5]*a,r}function Qc(r,e){var t=e[0],n=e[2],a=e[4],i=e[1],s=e[3],o=e[5],l=t*s-i*n;return l?(l=1/l,r[0]=s*l,r[1]=-i*l,r[2]=-n*l,r[3]=t*l,r[4]=(n*o-s*a)*l,r[5]=(i*a-t*o)*l,r):null}function Yae(r){var e=$i();return PA(e,r),e}const zke=Object.freeze(Object.defineProperty({__proto__:null,clone:Yae,copy:PA,create:$i,identity:kA,invert:Qc,mul:Ku,rotate:up,scale:jI,translate:af},Symbol.toStringTag,{value:"Module"}));var ir=(function(){function r(e,t){this.x=e||0,this.y=t||0}return r.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.set=function(e,t){return this.x=e,this.y=t,this},r.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},r.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},r.prototype.scale=function(e){this.x*=e,this.y*=e},r.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},r.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},r.prototype.dot=function(e){return this.x*e.x+this.y*e.y},r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},r.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},r.prototype.distanceSquare=function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},r.prototype.transform=function(e){if(e){var t=this.x,n=this.y;return this.x=e[0]*t+e[2]*n+e[4],this.y=e[1]*t+e[3]*n+e[5],this}},r.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},r.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},r.set=function(e,t,n){e.x=t,e.y=n},r.copy=function(e,t){e.x=t.x,e.y=t.y},r.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.lenSquare=function(e){return e.x*e.x+e.y*e.y},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.add=function(e,t,n){e.x=t.x+n.x,e.y=t.y+n.y},r.sub=function(e,t,n){e.x=t.x-n.x,e.y=t.y-n.y},r.scale=function(e,t,n){e.x=t.x*n,e.y=t.y*n},r.scaleAndAdd=function(e,t,n,a){e.x=t.x+n.x*a,e.y=t.y+n.y*a},r.lerp=function(e,t,n,a){var i=1-a;e.x=i*t.x+a*n.x,e.y=i*t.y+a*n.y},r})(),mm=Math.min,V1=Math.max,h6=Math.abs,NW=["x","y"],Fke=["width","height"],Ag=new ir,Eg=new ir,Mg=new ir,Cg=new ir,Yl=Xae(),J2=Yl.minTv,d6=Yl.maxTv,zw=[0,0],sr=(function(){function r(e,t,n,a){r.set(this,e,t,n,a)}return r.set=function(e,t,n,a,i){return a<0&&(t=t+a,a=-a),i<0&&(n=n+i,i=-i),e.x=t,e.y=n,e.width=a,e.height=i,e},r.prototype.union=function(e){var t=mm(e.x,this.x),n=mm(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=V1(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=V1(e.y+e.height,this.y+this.height)-n:this.height=e.height,this.x=t,this.y=n},r.prototype.applyTransform=function(e){r.applyTransform(this,this,e)},r.prototype.calculateTransform=function(e){var t=this,n=e.width/t.width,a=e.height/t.height,i=$i();return af(i,i,[-t.x,-t.y]),jI(i,i,[n,a]),af(i,i,[e.x,e.y]),i},r.prototype.intersect=function(e,t,n){return r.intersect(this,e,t,n)},r.intersect=function(e,t,n,a){n&&ir.set(n,0,0);var i=a&&a.outIntersectRect||null,s=a&&a.clamp;if(i&&(i.x=i.y=i.width=i.height=NaN),!e||!t)return!1;e instanceof r||(e=r.set(Uke,e.x,e.y,e.width,e.height)),t instanceof r||(t=r.set(Vke,t.x,t.y,t.width,t.height));var o=!!n;Yl.reset(a,o);var l=Yl.touchThreshold,c=e.x+l,u=e.x+e.width-l,f=e.y+l,h=e.y+e.height-l,d=t.x+l,v=t.x+t.width-l,g=t.y+l,m=t.y+t.height-l;if(c>u||f>h||d>v||g>m)return!1;var y=!(u<d||v<c||h<g||m<f);return(o||i)&&(zw[0]=1/0,zw[1]=0,IW(c,u,d,v,0,o,i,s),IW(f,h,g,m,1,o,i,s),o&&ir.copy(n,y?Yl.useDir?Yl.dirMinTv:J2:d6)),y},r.contain=function(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height},r.prototype.contain=function(e,t){return r.contain(this,e,t)},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.copy=function(e){r.copy(this,e)},r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},r.prototype.isZero=function(){return this.width===0||this.height===0},r.create=function(e){return new r(e.x,e.y,e.width,e.height)},r.copy=function(e,t){return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e},r.applyTransform=function(e,t,n){if(!n){e!==t&&r.copy(e,t);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var a=n[0],i=n[3],s=n[4],o=n[5];e.x=t.x*a+s,e.y=t.y*i+o,e.width=t.width*a,e.height=t.height*i,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Ag.x=Mg.x=t.x,Ag.y=Cg.y=t.y,Eg.x=Cg.x=t.x+t.width,Eg.y=Mg.y=t.y+t.height,Ag.transform(n),Cg.transform(n),Eg.transform(n),Mg.transform(n),e.x=mm(Ag.x,Eg.x,Mg.x,Cg.x),e.y=mm(Ag.y,Eg.y,Mg.y,Cg.y);var l=V1(Ag.x,Eg.x,Mg.x,Cg.x),c=V1(Ag.y,Eg.y,Mg.y,Cg.y);e.width=l-e.x,e.height=c-e.y},r})(),Uke=new sr(0,0,0,0),Vke=new sr(0,0,0,0);function IW(r,e,t,n,a,i,s,o){var l=h6(e-t),c=h6(n-r),u=mm(l,c),f=NW[a],h=NW[1-a],d=Fke[a];e<t||n<r?l<c?(i&&(d6[f]=-l),o&&(s[f]=e,s[d]=0)):(i&&(d6[f]=c),o&&(s[f]=r,s[d]=0)):(s&&(s[f]=V1(r,t),s[d]=mm(e,n)-s[f]),i&&(u<zw[0]||Yl.useDir)&&(zw[0]=mm(u,zw[0]),(l<c||!Yl.bidirectional)&&(J2[f]=l,J2[h]=0,Yl.useDir&&Yl.calcDirMTV()),(l>=c||!Yl.bidirectional)&&(J2[f]=-c,J2[h]=0,Yl.useDir&&Yl.calcDirMTV())))}function Xae(){var r=0,e=new ir,t=new ir,n={minTv:new ir,maxTv:new ir,useDir:!1,dirMinTv:new ir,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(i,s){n.touchThreshold=0,i&&i.touchThreshold!=null&&(n.touchThreshold=V1(0,i.touchThreshold)),n.negativeSize=!1,s&&(n.minTv.set(1/0,1/0),n.maxTv.set(0,0),n.useDir=!1,i&&i.direction!=null&&(n.useDir=!0,n.dirMinTv.copy(n.minTv),t.copy(n.minTv),r=i.direction,n.bidirectional=i.bidirectional==null||!!i.bidirectional,n.bidirectional||e.set(Math.cos(r),Math.sin(r))))},calcDirMTV:function(){var i=n.minTv,s=n.dirMinTv,o=i.y*i.y+i.x*i.x,l=Math.sin(r),c=Math.cos(r),u=l*i.y+c*i.x;if(a(u)){a(i.x)&&a(i.y)&&s.set(0,0);return}if(t.x=o*c/u,t.y=o*l/u,a(t.x)&&a(t.y)){s.set(0,0);return}(n.bidirectional||e.dot(t)>0)&&t.len()<s.len()&&s.copy(t)}};function a(i){return h6(i)<1e-10}return n}var qae="silent";function Hke(r,e,t){return{type:r,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:Gke}}function Gke(){rp(this.event)}var jke=(function(r){ga(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(au),u2=(function(){function r(e,t){this.x=e,this.y=t}return r})(),Wke=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],UO=new sr(0,0,0,0),Zae=(function(r){ga(e,r);function e(t,n,a,i,s){var o=r.call(this)||this;return o._hovered=new u2(0,0),o.storage=t,o.painter=n,o.painterRoot=i,o._pointerSize=s,a=a||new jke,o.proxy=null,o.setHandlerProxy(a),o._draggingMgr=new Tke(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(te(Wke,function(n){t.on&&t.on(n,this[n],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var n=t.zrX,a=t.zrY,i=Kae(this,n,a),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=i?new u2(n,a):this.findHover(n,a),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var n=t.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new u2(0,0)},e.prototype.dispatch=function(t,n){var a=this[t];a&&a.call(this,n)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var n=this.proxy;n.setCursor&&n.setCursor(t)},e.prototype.dispatchToElement=function(t,n,a){t=t||{};var i=t.target;if(!(i&&i.silent)){for(var s="on"+n,o=Hke(n,t,a);i&&(i[s]&&(o.cancelBubble=!!i[s].call(i,o)),i.trigger(n,o),i=i.__hostTarget?i.__hostTarget:i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},e.prototype.findHover=function(t,n,a){var i=this.storage.getDisplayList(),s=new u2(t,n);if(LW(i,s,t,n,a),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,c=l/2,u=new sr(t-c,n-c,l,l),f=i.length-1;f>=0;f--){var h=i[f];h!==a&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(UO.copy(h.getBoundingRect()),h.transform&&UO.applyTransform(h.transform),UO.intersect(u)&&o.push(h))}if(o.length)for(var d=4,v=Math.PI/12,g=Math.PI*2,m=0;m<c;m+=d)for(var y=0;y<g;y+=v){var b=t+m*Math.cos(y),S=n+m*Math.sin(y);if(LW(o,s,b,S,a),s.target)return s}}return s},e.prototype.processGesture=function(t,n){this._gestureMgr||(this._gestureMgr=new Pke);var a=this._gestureMgr;n==="start"&&a.clear();var i=a.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(n==="end"&&a.clear(),i){var s=i.type;t.gestureEvent=s;var o=new u2;o.target=i.target,this.dispatchToElement(o,s,i.event)}},e})(au);te(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){Zae.prototype[r]=function(e){var t=e.zrX,n=e.zrY,a=Kae(this,t,n),i,s;if((r!=="mouseup"||!a)&&(i=this.findHover(t,n),s=i.target),r==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(r==="mouseup")this._upEl=s;else if(r==="click"){if(this._downEl!==this._upEl||!this._downPoint||Od(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,r,e)}});function Yke(r,e,t){if(r[r.rectHover?"rectContain":"contain"](e,t)){for(var n=r,a=void 0,i=!1;n;){if(n.ignoreClip&&(i=!0),!i){var s=n.getClipPath();if(s&&!s.contain(e,t))return!1}n.silent&&(a=!0);var o=n.__hostTarget;n=o?n.ignoreHostSilent?null:o:n.parent}return a?qae:!0}return!1}function LW(r,e,t,n,a){for(var i=r.length-1;i>=0;i--){var s=r[i],o=void 0;if(s!==a&&!s.ignore&&(o=Yke(s,t,n))&&(!e.topTarget&&(e.topTarget=s),o!==qae)){e.target=s;break}}}function Kae(r,e,t){var n=r.painter;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var $ae=32,f2=7;function Xke(r){for(var e=0;r>=$ae;)e|=r&1,r>>=1;return r+e}function OW(r,e,t,n){var a=e+1;if(a===t)return 1;if(n(r[a++],r[e])<0){for(;a<t&&n(r[a],r[a-1])<0;)a++;qke(r,e,a)}else for(;a<t&&n(r[a],r[a-1])>=0;)a++;return a-e}function qke(r,e,t){for(t--;e<t;){var n=r[e];r[e++]=r[t],r[t--]=n}}function kW(r,e,t,n,a){for(n===e&&n++;n<t;n++){for(var i=r[n],s=e,o=n,l;s<o;)l=s+o>>>1,a(i,r[l])<0?o=l:s=l+1;var c=n-s;switch(c){case 3:r[s+3]=r[s+2];case 2:r[s+2]=r[s+1];case 1:r[s+1]=r[s];break;default:for(;c>0;)r[s+c]=r[s+c-1],c--}r[s]=i}}function VO(r,e,t,n,a,i){var s=0,o=0,l=1;if(i(r,e[t+a])>0){for(o=n-a;l<o&&i(r,e[t+a+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=a,l+=a}else{for(o=a+1;l<o&&i(r,e[t+a-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=a-l,l=a-c}for(s++;s<l;){var u=s+(l-s>>>1);i(r,e[t+u])>0?s=u+1:l=u}return l}function HO(r,e,t,n,a,i){var s=0,o=0,l=1;if(i(r,e[t+a])<0){for(o=a+1;l<o&&i(r,e[t+a-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=a-l,l=a-c}else{for(o=n-a;l<o&&i(r,e[t+a+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=a,l+=a}for(s++;s<l;){var u=s+(l-s>>>1);i(r,e[t+u])<0?l=u:s=u+1}return l}function Zke(r,e){var t=f2,n,a,i=0,s=[];n=[],a=[];function o(d,v){n[i]=d,a[i]=v,i+=1}function l(){for(;i>1;){var d=i-2;if(d>=1&&a[d-1]<=a[d]+a[d+1]||d>=2&&a[d-2]<=a[d]+a[d-1])a[d-1]<a[d+1]&&d--;else if(a[d]>a[d+1])break;u(d)}}function c(){for(;i>1;){var d=i-2;d>0&&a[d-1]<a[d+1]&&d--,u(d)}}function u(d){var v=n[d],g=a[d],m=n[d+1],y=a[d+1];a[d]=g+y,d===i-3&&(n[d+1]=n[d+2],a[d+1]=a[d+2]),i--;var b=HO(r[m],r,v,g,0,e);v+=b,g-=b,g!==0&&(y=VO(r[v+g-1],r,m,y,y-1,e),y!==0&&(g<=y?f(v,g,m,y):h(v,g,m,y)))}function f(d,v,g,m){var y=0;for(y=0;y<v;y++)s[y]=r[d+y];var b=0,S=g,A=d;if(r[A++]=r[S++],--m===0){for(y=0;y<v;y++)r[A+y]=s[b+y];return}if(v===1){for(y=0;y<m;y++)r[A+y]=r[S+y];r[A+m]=s[b];return}for(var E=t,M,R,L;;){M=0,R=0,L=!1;do if(e(r[S],s[b])<0){if(r[A++]=r[S++],R++,M=0,--m===0){L=!0;break}}else if(r[A++]=s[b++],M++,R=0,--v===1){L=!0;break}while((M|R)<E);if(L)break;do{if(M=HO(r[S],s,b,v,0,e),M!==0){for(y=0;y<M;y++)r[A+y]=s[b+y];if(A+=M,b+=M,v-=M,v<=1){L=!0;break}}if(r[A++]=r[S++],--m===0){L=!0;break}if(R=VO(s[b],r,S,m,0,e),R!==0){for(y=0;y<R;y++)r[A+y]=r[S+y];if(A+=R,S+=R,m-=R,m===0){L=!0;break}}if(r[A++]=s[b++],--v===1){L=!0;break}E--}while(M>=f2||R>=f2);if(L)break;E<0&&(E=0),E+=2}if(t=E,t<1&&(t=1),v===1){for(y=0;y<m;y++)r[A+y]=r[S+y];r[A+m]=s[b]}else{if(v===0)throw new Error;for(y=0;y<v;y++)r[A+y]=s[b+y]}}function h(d,v,g,m){var y=0;for(y=0;y<m;y++)s[y]=r[g+y];var b=d+v-1,S=m-1,A=g+m-1,E=0,M=0;if(r[A--]=r[b--],--v===0){for(E=A-(m-1),y=0;y<m;y++)r[E+y]=s[y];return}if(m===1){for(A-=v,b-=v,M=A+1,E=b+1,y=v-1;y>=0;y--)r[M+y]=r[E+y];r[A]=s[S];return}for(var R=t;;){var L=0,I=0,O=!1;do if(e(s[S],r[b])<0){if(r[A--]=r[b--],L++,I=0,--v===0){O=!0;break}}else if(r[A--]=s[S--],I++,L=0,--m===1){O=!0;break}while((L|I)<R);if(O)break;do{if(L=v-HO(s[S],r,d,v,v-1,e),L!==0){for(A-=L,b-=L,v-=L,M=A+1,E=b+1,y=L-1;y>=0;y--)r[M+y]=r[E+y];if(v===0){O=!0;break}}if(r[A--]=s[S--],--m===1){O=!0;break}if(I=m-VO(r[b],s,0,m,m-1,e),I!==0){for(A-=I,S-=I,m-=I,M=A+1,E=S+1,y=0;y<I;y++)r[M+y]=s[E+y];if(m<=1){O=!0;break}}if(r[A--]=r[b--],--v===0){O=!0;break}R--}while(L>=f2||I>=f2);if(O)break;R<0&&(R=0),R+=2}if(t=R,t<1&&(t=1),m===1){for(A-=v,b-=v,M=A+1,E=b+1,y=v-1;y>=0;y--)r[M+y]=r[E+y];r[A]=s[S]}else{if(m===0)throw new Error;for(E=A-(m-1),y=0;y<m;y++)r[E+y]=s[y]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:o}}function K3(r,e,t,n){t||(t=0),n||(n=r.length);var a=n-t;if(!(a<2)){var i=0;if(a<$ae){i=OW(r,t,n,e),kW(r,t,n,t+i,e);return}var s=Zke(r,e),o=Xke(a);do{if(i=OW(r,t,n,e),i<o){var l=a;l>o&&(l=o),kW(r,t,t+l,t+i,e),i=l}s.pushRun(t,i),s.mergeRuns(),a-=i,t+=i}while(a!==0);s.forceMergeRuns()}}var Zl=1,Q2=2,I1=4,PW=!1;function GO(){PW||(PW=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function BW(r,e){return r.zlevel===e.zlevel?r.z===e.z?r.z2-e.z2:r.z-e.z:r.zlevel-e.zlevel}var Kke=(function(){function r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=BW}return r.prototype.traverse=function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},r.prototype.getDisplayList=function(e,t){t=t||!1;var n=this._displayList;return(e||!n.length)&&this.updateDisplayList(t),n},r.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,n=this._displayList,a=0,i=t.length;a<i;a++)this._updateAndAddDisplayable(t[a],null,e);n.length=this._displayListLen,K3(n,BW)},r.prototype._updateAndAddDisplayable=function(e,t,n){if(!(e.ignore&&!n)){e.beforeUpdate(),e.update(),e.afterUpdate();var a=e.getClipPath(),i=t&&t.length,s=0,o=e.__clipPaths;if(!e.ignoreClip&&(i||a)){if(o||(o=e.__clipPaths=[]),i)for(var l=0;l<t.length;l++)o[s++]=t[l];for(var c=a,u=e;c;)c.parent=u,c.updateTransform(),o[s++]=c,u=c,c=c.getClipPath()}if(o&&(o.length=s),e.childrenRef){for(var f=e.childrenRef(),h=0;h<f.length;h++){var d=f[h];e.__dirty&&(d.__dirty|=Zl),this._updateAndAddDisplayable(d,o,n)}e.__dirty=0}else{var v=e;isNaN(v.z)&&(GO(),v.z=0),isNaN(v.z2)&&(GO(),v.z2=0),isNaN(v.zlevel)&&(GO(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var g=e.getDecalElement&&e.getDecalElement();g&&this._updateAndAddDisplayable(g,o,n);var m=e.getTextGuideLine();m&&this._updateAndAddDisplayable(m,o,n);var y=e.getTextContent();y&&this._updateAndAddDisplayable(y,o,n)}},r.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},r.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,n=e.length;t<n;t++)this.delRoot(e[t]);return}var a=br(this._roots,e);a>=0&&this._roots.splice(a,1)},r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},r.prototype.getRoots=function(){return this._roots},r.prototype.dispose=function(){this._displayList=null,this._roots=null},r})(),PR;PR=jr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(r){return setTimeout(r,16)};var Fw={linear:function(r){return r},quadraticIn:function(r){return r*r},quadraticOut:function(r){return r*(2-r)},quadraticInOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)},cubicIn:function(r){return r*r*r},cubicOut:function(r){return--r*r*r+1},cubicInOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},quarticIn:function(r){return r*r*r*r},quarticOut:function(r){return 1- --r*r*r*r},quarticInOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},quinticIn:function(r){return r*r*r*r*r},quinticOut:function(r){return--r*r*r*r*r+1},quinticInOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},sinusoidalIn:function(r){return 1-Math.cos(r*Math.PI/2)},sinusoidalOut:function(r){return Math.sin(r*Math.PI/2)},sinusoidalInOut:function(r){return .5*(1-Math.cos(Math.PI*r))},exponentialIn:function(r){return r===0?0:Math.pow(1024,r-1)},exponentialOut:function(r){return r===1?1:1-Math.pow(2,-10*r)},exponentialInOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)},circularIn:function(r){return 1-Math.sqrt(1-r*r)},circularOut:function(r){return Math.sqrt(1- --r*r)},circularInOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},elasticIn:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)))},elasticOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*r)*Math.sin((r-e)*(2*Math.PI)/n)+1)},elasticInOut:function(r){var e,t=.1,n=.4;return r===0?0:r===1?1:(!t||t<1?(t=1,e=n/4):e=n*Math.asin(1/t)/(2*Math.PI),(r*=2)<1?-.5*(t*Math.pow(2,10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)):t*Math.pow(2,-10*(r-=1))*Math.sin((r-e)*(2*Math.PI)/n)*.5+1)},backIn:function(r){var e=1.70158;return r*r*((e+1)*r-e)},backOut:function(r){var e=1.70158;return--r*r*((e+1)*r+e)+1},backInOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)},bounceIn:function(r){return 1-Fw.bounceOut(1-r)},bounceOut:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},bounceInOut:function(r){return r<.5?Fw.bounceIn(r*2)*.5:Fw.bounceOut(r*2-1)*.5+.5}},RC=Math.pow,V0=Math.sqrt,BR=1e-8,Jae=1e-4,zW=V0(3),NC=1/3,ah=pv(),Wc=pv(),t_=pv();function N0(r){return r>-BR&&r<BR}function Qae(r){return r>BR||r<-BR}function Yi(r,e,t,n,a){var i=1-a;return i*i*(i*r+3*a*e)+a*a*(a*n+3*i*t)}function FW(r,e,t,n,a){var i=1-a;return 3*(((e-r)*i+2*(t-e)*a)*i+(n-t)*a*a)}function zR(r,e,t,n,a,i){var s=n+3*(e-t)-r,o=3*(t-e*2+r),l=3*(e-r),c=r-a,u=o*o-3*s*l,f=o*l-9*s*c,h=l*l-3*o*c,d=0;if(N0(u)&&N0(f))if(N0(o))i[0]=0;else{var v=-l/o;v>=0&&v<=1&&(i[d++]=v)}else{var g=f*f-4*u*h;if(N0(g)){var m=f/u,v=-o/s+m,y=-m/2;v>=0&&v<=1&&(i[d++]=v),y>=0&&y<=1&&(i[d++]=y)}else if(g>0){var b=V0(g),S=u*o+1.5*s*(-f+b),A=u*o+1.5*s*(-f-b);S<0?S=-RC(-S,NC):S=RC(S,NC),A<0?A=-RC(-A,NC):A=RC(A,NC);var v=(-o-(S+A))/(3*s);v>=0&&v<=1&&(i[d++]=v)}else{var E=(2*u*o-3*s*f)/(2*V0(u*u*u)),M=Math.acos(E)/3,R=V0(u),L=Math.cos(M),v=(-o-2*R*L)/(3*s),y=(-o+R*(L+zW*Math.sin(M)))/(3*s),I=(-o+R*(L-zW*Math.sin(M)))/(3*s);v>=0&&v<=1&&(i[d++]=v),y>=0&&y<=1&&(i[d++]=y),I>=0&&I<=1&&(i[d++]=I)}}return d}function eie(r,e,t,n,a){var i=6*t-12*e+6*r,s=9*e+3*n-3*r-9*t,o=3*e-3*r,l=0;if(N0(s)){if(Qae(i)){var c=-o/i;c>=0&&c<=1&&(a[l++]=c)}}else{var u=i*i-4*s*o;if(N0(u))a[0]=-i/(2*s);else if(u>0){var f=V0(u),c=(-i+f)/(2*s),h=(-i-f)/(2*s);c>=0&&c<=1&&(a[l++]=c),h>=0&&h<=1&&(a[l++]=h)}}return l}function rv(r,e,t,n,a,i){var s=(e-r)*a+r,o=(t-e)*a+e,l=(n-t)*a+t,c=(o-s)*a+s,u=(l-o)*a+o,f=(u-c)*a+c;i[0]=r,i[1]=s,i[2]=c,i[3]=f,i[4]=f,i[5]=u,i[6]=l,i[7]=n}function tie(r,e,t,n,a,i,s,o,l,c,u){var f,h=.005,d=1/0,v,g,m,y;ah[0]=l,ah[1]=c;for(var b=0;b<1;b+=.05)Wc[0]=Yi(r,t,a,s,b),Wc[1]=Yi(e,n,i,o,b),m=U0(ah,Wc),m<d&&(f=b,d=m);d=1/0;for(var S=0;S<32&&!(h<Jae);S++)v=f-h,g=f+h,Wc[0]=Yi(r,t,a,s,v),Wc[1]=Yi(e,n,i,o,v),m=U0(Wc,ah),v>=0&&m<d?(f=v,d=m):(t_[0]=Yi(r,t,a,s,g),t_[1]=Yi(e,n,i,o,g),y=U0(t_,ah),g<=1&&y<d?(f=g,d=y):h*=.5);return u&&(u[0]=Yi(r,t,a,s,f),u[1]=Yi(e,n,i,o,f)),V0(d)}function $ke(r,e,t,n,a,i,s,o,l){for(var c=r,u=e,f=0,h=1/l,d=1;d<=l;d++){var v=d*h,g=Yi(r,t,a,s,v),m=Yi(e,n,i,o,v),y=g-c,b=m-u;f+=Math.sqrt(y*y+b*b),c=g,u=m}return f}function _s(r,e,t,n){var a=1-n;return a*(a*r+2*n*e)+n*n*t}function p6(r,e,t,n){return 2*((1-n)*(e-r)+n*(t-e))}function Jke(r,e,t,n,a){var i=r-2*e+t,s=2*(e-r),o=r-n,l=0;if(N0(i)){if(Qae(s)){var c=-o/s;c>=0&&c<=1&&(a[l++]=c)}}else{var u=s*s-4*i*o;if(N0(u)){var c=-s/(2*i);c>=0&&c<=1&&(a[l++]=c)}else if(u>0){var f=V0(u),c=(-s+f)/(2*i),h=(-s-f)/(2*i);c>=0&&c<=1&&(a[l++]=c),h>=0&&h<=1&&(a[l++]=h)}}return l}function rie(r,e,t){var n=r+t-2*e;return n===0?.5:(r-e)/n}function NT(r,e,t,n,a){var i=(e-r)*n+r,s=(t-e)*n+e,o=(s-i)*n+i;a[0]=r,a[1]=i,a[2]=o,a[3]=o,a[4]=s,a[5]=t}function nie(r,e,t,n,a,i,s,o,l){var c,u=.005,f=1/0;ah[0]=s,ah[1]=o;for(var h=0;h<1;h+=.05){Wc[0]=_s(r,t,a,h),Wc[1]=_s(e,n,i,h);var d=U0(ah,Wc);d<f&&(c=h,f=d)}f=1/0;for(var v=0;v<32&&!(u<Jae);v++){var g=c-u,m=c+u;Wc[0]=_s(r,t,a,g),Wc[1]=_s(e,n,i,g);var d=U0(Wc,ah);if(g>=0&&d<f)c=g,f=d;else{t_[0]=_s(r,t,a,m),t_[1]=_s(e,n,i,m);var y=U0(t_,ah);m<=1&&y<f?(c=m,f=y):u*=.5}}return l&&(l[0]=_s(r,t,a,c),l[1]=_s(e,n,i,c)),V0(f)}function Qke(r,e,t,n,a,i,s){for(var o=r,l=e,c=0,u=1/s,f=1;f<=s;f++){var h=f*u,d=_s(r,t,a,h),v=_s(e,n,i,h),g=d-o,m=v-l;c+=Math.sqrt(g*g+m*m),o=d,l=v}return c}var e5e=/cubic-bezier\(([0-9,\.e ]+)\)/;function iF(r){var e=r&&e5e.exec(r);if(e){var t=e[1].split(","),n=+Jl(t[0]),a=+Jl(t[1]),i=+Jl(t[2]),s=+Jl(t[3]);if(isNaN(n+a+i+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:zR(0,n,i,1,l,o)&&Yi(0,a,s,1,o[0])}}}var t5e=(function(){function r(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Wa,this.ondestroy=e.ondestroy||Wa,this.onrestart=e.onrestart||Wa,e.easing&&this.setEasing(e.easing)}return r.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var n=this._life,a=e-this._startTime-this._pausedTime,i=a/n;i<0&&(i=0),i=Math.min(i,1);var s=this.easingFunc,o=s?s(i):i;if(this.onframe(o),i===1)if(this.loop){var l=a%n;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){this._paused=!1},r.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Yt(e)?e:Fw[e]||iF(e)},r})(),aie=(function(){function r(e){this.value=e}return r})(),r5e=(function(){function r(){this._len=0}return r.prototype.insert=function(e){var t=new aie(e);return this.insertEntry(t),t},r.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},r.prototype.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},r.prototype.len=function(){return this._len},r.prototype.clear=function(){this.head=this.tail=null,this._len=0},r})(),w_=(function(){function r(e){this._list=new r5e,this._maxSize=10,this._map={},this._maxSize=e}return r.prototype.put=function(e,t){var n=this._list,a=this._map,i=null;if(a[e]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete a[l.key],i=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new aie(t),o.key=e,n.insertEntry(o),a[e]=o}return i},r.prototype.get=function(e){var t=this._map[e],n=this._list;if(t!=null)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},r.prototype.clear=function(){this._list.clear(),this._map={}},r.prototype.len=function(){return this._list.len()},r})(),UW={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function $u(r){return r=Math.round(r),r<0?0:r>255?255:r}function n5e(r){return r=Math.round(r),r<0?0:r>360?360:r}function IT(r){return r<0?0:r>1?1:r}function $3(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?$u(parseFloat(e)/100*255):$u(parseInt(e,10))}function Gd(r){var e=r;return e.length&&e.charAt(e.length-1)==="%"?IT(parseFloat(e)/100):IT(parseFloat(e))}function jO(r,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?r+(e-r)*t*6:t*2<1?e:t*3<2?r+(e-r)*(2/3-t)*6:r}function I0(r,e,t){return r+(e-r)*t}function zc(r,e,t,n,a){return r[0]=e,r[1]=t,r[2]=n,r[3]=a,r}function v6(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}var iie=new w_(20),IC=null;function a1(r,e){IC&&v6(IC,e),IC=iie.put(r,IC||e.slice())}function _o(r,e){if(r){e=e||[];var t=iie.get(r);if(t)return v6(e,t);r=r+"";var n=r.replace(/ /g,"").toLowerCase();if(n in UW)return v6(e,UW[n]),a1(r,e),e;var a=n.length;if(n.charAt(0)==="#"){if(a===4||a===5){var i=parseInt(n.slice(1,4),16);if(!(i>=0&&i<=4095)){zc(e,0,0,0,1);return}return zc(e,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,a===5?parseInt(n.slice(4),16)/15:1),a1(r,e),e}else if(a===7||a===9){var i=parseInt(n.slice(1,7),16);if(!(i>=0&&i<=16777215)){zc(e,0,0,0,1);return}return zc(e,(i&16711680)>>16,(i&65280)>>8,i&255,a===9?parseInt(n.slice(7),16)/255:1),a1(r,e),e}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===a){var l=n.substr(0,s),c=n.substr(s+1,o-(s+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?zc(e,+c[0],+c[1],+c[2],1):zc(e,0,0,0,1);u=Gd(c.pop());case"rgb":if(c.length>=3)return zc(e,$3(c[0]),$3(c[1]),$3(c[2]),c.length===3?u:Gd(c[3])),a1(r,e),e;zc(e,0,0,0,1);return;case"hsla":if(c.length!==4){zc(e,0,0,0,1);return}return c[3]=Gd(c[3]),g6(c,e),a1(r,e),e;case"hsl":if(c.length!==3){zc(e,0,0,0,1);return}return g6(c,e),a1(r,e),e;default:return}}zc(e,0,0,0,1)}}function g6(r,e){var t=(parseFloat(r[0])%360+360)%360/360,n=Gd(r[1]),a=Gd(r[2]),i=a<=.5?a*(n+1):a+n-a*n,s=a*2-i;return e=e||[],zc(e,$u(jO(s,i,t+1/3)*255),$u(jO(s,i,t)*255),$u(jO(s,i,t-1/3)*255),1),r.length===4&&(e[3]=r[3]),e}function a5e(r){if(r){var e=r[0]/255,t=r[1]/255,n=r[2]/255,a=Math.min(e,t,n),i=Math.max(e,t,n),s=i-a,o=(i+a)/2,l,c;if(s===0)l=0,c=0;else{o<.5?c=s/(i+a):c=s/(2-i-a);var u=((i-e)/6+s/2)/s,f=((i-t)/6+s/2)/s,h=((i-n)/6+s/2)/s;e===i?l=h-f:t===i?l=1/3+u-h:n===i&&(l=2/3+f-u),l<0&&(l+=1),l>1&&(l-=1)}var d=[l*360,c,o];return r[3]!=null&&d.push(r[3]),d}}function FR(r,e){var t=_o(r);if(t){for(var n=0;n<3;n++)e<0?t[n]=t[n]*(1-e)|0:t[n]=(255-t[n])*e+t[n]|0,t[n]>255?t[n]=255:t[n]<0&&(t[n]=0);return qc(t,t.length===4?"rgba":"rgb")}}function i5e(r){var e=_o(r);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Uw(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){t=t||[];var n=r*(e.length-1),a=Math.floor(n),i=Math.ceil(n),s=e[a],o=e[i],l=n-a;return t[0]=$u(I0(s[0],o[0],l)),t[1]=$u(I0(s[1],o[1],l)),t[2]=$u(I0(s[2],o[2],l)),t[3]=IT(I0(s[3],o[3],l)),t}}var s5e=Uw;function sF(r,e,t){if(!(!(e&&e.length)||!(r>=0&&r<=1))){var n=r*(e.length-1),a=Math.floor(n),i=Math.ceil(n),s=_o(e[a]),o=_o(e[i]),l=n-a,c=qc([$u(I0(s[0],o[0],l)),$u(I0(s[1],o[1],l)),$u(I0(s[2],o[2],l)),IT(I0(s[3],o[3],l))],"rgba");return t?{color:c,leftIndex:a,rightIndex:i,value:n}:c}}var o5e=sF;function jd(r,e,t,n){var a=_o(r);if(r)return a=a5e(a),e!=null&&(a[0]=n5e(Yt(e)?e(a[0]):e)),t!=null&&(a[1]=Gd(Yt(t)?t(a[1]):t)),n!=null&&(a[2]=Gd(Yt(n)?n(a[2]):n)),qc(g6(a),"rgba")}function LT(r,e){var t=_o(r);if(t&&e!=null)return t[3]=IT(e),qc(t,"rgba")}function qc(r,e){if(!(!r||!r.length)){var t=r[0]+","+r[1]+","+r[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+r[3]),e+"("+t+")"}}function OT(r,e){var t=_o(r);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function l5e(){return qc([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var VW=new w_(100);function UR(r){if(It(r)){var e=VW.get(r);return e||(e=FR(r,-.1),VW.put(r,e)),e}else if(IA(r)){var t=nt({},r);return t.colorStops=ft(r.colorStops,function(n){return{offset:n.offset,color:FR(n.color,-.1)}}),t}return r}const c5e=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:Uw,fastMapToColor:s5e,lerp:sF,lift:FR,liftColor:UR,lum:OT,mapToColor:o5e,modifyAlpha:LT,modifyHSL:jd,parse:_o,parseCssFloat:Gd,parseCssInt:$3,random:l5e,stringify:qc,toHex:i5e},Symbol.toStringTag,{value:"Module"}));var VR=Math.round;function kT(r){var e;if(!r||r==="transparent")r="none";else if(typeof r=="string"&&r.indexOf("rgba")>-1){var t=_o(r);t&&(r="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:r,opacity:e??1}}var HW=1e-4;function L0(r){return r<HW&&r>-HW}function LC(r){return VR(r*1e3)/1e3}function m6(r){return VR(r*1e4)/1e4}function u5e(r){return"matrix("+LC(r[0])+","+LC(r[1])+","+LC(r[2])+","+LC(r[3])+","+m6(r[4])+","+m6(r[5])+")"}var f5e={left:"start",right:"end",center:"middle",middle:"middle"};function h5e(r,e,t){return t==="top"?r+=e/2:t==="bottom"&&(r-=e/2),r}function d5e(r){return r&&(r.shadowBlur||r.shadowOffsetX||r.shadowOffsetY)}function p5e(r){var e=r.style,t=r.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function sie(r){return r&&!!r.image}function v5e(r){return r&&!!r.svgElement}function oF(r){return sie(r)||v5e(r)}function oie(r){return r.type==="linear"}function lie(r){return r.type==="radial"}function cie(r){return r&&(r.type==="linear"||r.type==="radial")}function WI(r){return"url(#"+r+")"}function uie(r){var e=r.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function fie(r){var e=r.x||0,t=r.y||0,n=(r.rotation||0)*kw,a=Gt(r.scaleX,1),i=Gt(r.scaleY,1),s=r.skewX||0,o=r.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),n&&l.push("rotate("+n+")"),(a!==1||i!==1)&&l.push("scale("+a+","+i+")"),(s||o)&&l.push("skew("+VR(s*kw)+"deg, "+VR(o*kw)+"deg)"),l.join(" ")}var g5e=(function(){return jr.hasGlobalWindow&&Yt(window.btoa)?function(r){return window.btoa(unescape(encodeURIComponent(r)))}:typeof Buffer<"u"?function(r){return Buffer.from(r).toString("base64")}:function(r){return null}})(),y6=Array.prototype.slice;function Ed(r,e,t){return(e-r)*t+r}function WO(r,e,t,n){for(var a=e.length,i=0;i<a;i++)r[i]=Ed(e[i],t[i],n);return r}function m5e(r,e,t,n){for(var a=e.length,i=a&&e[0].length,s=0;s<a;s++){r[s]||(r[s]=[]);for(var o=0;o<i;o++)r[s][o]=Ed(e[s][o],t[s][o],n)}return r}function OC(r,e,t,n){for(var a=e.length,i=0;i<a;i++)r[i]=e[i]+t[i]*n;return r}function GW(r,e,t,n){for(var a=e.length,i=a&&e[0].length,s=0;s<a;s++){r[s]||(r[s]=[]);for(var o=0;o<i;o++)r[s][o]=e[s][o]+t[s][o]*n}return r}function y5e(r,e){for(var t=r.length,n=e.length,a=t>n?e:r,i=Math.min(t,n),s=a[i-1]||{color:[0,0,0,0],offset:0},o=i;o<Math.max(t,n);o++)a.push({offset:s.offset,color:s.color.slice()})}function x5e(r,e,t){var n=r,a=e;if(!(!n.push||!a.push)){var i=n.length,s=a.length;if(i!==s){var o=i>s;if(o)n.length=s;else for(var l=i;l<s;l++)n.push(t===1?a[l]:y6.call(a[l]))}for(var c=n[0]&&n[0].length,l=0;l<n.length;l++)if(t===1)isNaN(n[l])&&(n[l]=a[l]);else for(var u=0;u<c;u++)isNaN(n[l][u])&&(n[l][u]=a[l][u])}}function Vw(r){if(Vs(r)){var e=r.length;if(Vs(r[0])){for(var t=[],n=0;n<e;n++)t.push(y6.call(r[n]));return t}return y6.call(r)}return r}function J3(r){return r[0]=Math.floor(r[0])||0,r[1]=Math.floor(r[1])||0,r[2]=Math.floor(r[2])||0,r[3]=r[3]==null?1:r[3],"rgba("+r.join(",")+")"}function _5e(r){return Vs(r&&r[0])?2:1}var kC=0,Q3=1,hie=2,ew=3,x6=4,_6=5,jW=6;function WW(r){return r===x6||r===_6}function PC(r){return r===Q3||r===hie}var h2=[0,0,0,0],b5e=(function(){function r(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return r.prototype.isFinished=function(){return this._finished},r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},r.prototype.needsAnimate=function(){return this.keyframes.length>=1},r.prototype.getAdditiveTrack=function(){return this._additiveTrack},r.prototype.addKeyframe=function(e,t,n){this._needsSort=!0;var a=this.keyframes,i=a.length,s=!1,o=jW,l=t;if(Vs(t)){var c=_5e(t);o=c,(c===1&&!$r(t[0])||c===2&&!$r(t[0][0]))&&(s=!0)}else if($r(t)&&!Us(t))o=kC;else if(It(t))if(!isNaN(+t))o=kC;else{var u=_o(t);u&&(l=u,o=ew)}else if(IA(t)){var f=nt({},l);f.colorStops=ft(t.colorStops,function(d){return{offset:d.offset,color:_o(d.color)}}),oie(t)?o=x6:lie(t)&&(o=_6),l=f}i===0?this.valType=o:(o!==this.valType||o===jW)&&(s=!0),this.discrete=this.discrete||s;var h={time:e,value:l,rawValue:t,percent:0};return n&&(h.easing=n,h.easingFunc=Yt(n)?n:Fw[n]||iF(n)),a.push(h),h},r.prototype.prepare=function(e,t){var n=this.keyframes;this._needsSort&&n.sort(function(g,m){return g.time-m.time});for(var a=this.valType,i=n.length,s=n[i-1],o=this.discrete,l=PC(a),c=WW(a),u=0;u<i;u++){var f=n[u],h=f.value,d=s.value;f.percent=f.time/e,o||(l&&u!==i-1?x5e(h,d,a):c&&y5e(h.colorStops,d.colorStops))}if(!o&&a!==_6&&t&&this.needsAnimate()&&t.needsAnimate()&&a===t.valType&&!t._finished){this._additiveTrack=t;for(var v=n[0].value,u=0;u<i;u++)a===kC?n[u].additiveValue=n[u].value-v:a===ew?n[u].additiveValue=OC([],n[u].value,v,-1):PC(a)&&(n[u].additiveValue=a===Q3?OC([],n[u].value,v,-1):GW([],n[u].value,v,-1))}},r.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,a=n?"additiveValue":"value",i=this.valType,s=this.keyframes,o=s.length,l=this.propName,c=i===ew,u,f=this._lastFr,h=Math.min,d,v;if(o===1)d=v=s[0];else{if(t<0)u=0;else if(t<this._lastFrP){var g=h(f+1,o-1);for(u=g;u>=0&&!(s[u].percent<=t);u--);u=h(u,o-2)}else{for(u=f;u<o&&!(s[u].percent>t);u++);u=h(u-1,o-2)}v=s[u+1],d=s[u]}if(d&&v){this._lastFr=u,this._lastFrP=t;var m=v.percent-d.percent,y=m===0?1:h((t-d.percent)/m,1);v.easingFunc&&(y=v.easingFunc(y));var b=n?this._additiveValue:c?h2:e[l];if((PC(i)||c)&&!b&&(b=this._additiveValue=[]),this.discrete)e[l]=y<1?d.rawValue:v.rawValue;else if(PC(i))i===Q3?WO(b,d[a],v[a],y):m5e(b,d[a],v[a],y);else if(WW(i)){var S=d[a],A=v[a],E=i===x6;e[l]={type:E?"linear":"radial",x:Ed(S.x,A.x,y),y:Ed(S.y,A.y,y),colorStops:ft(S.colorStops,function(R,L){var I=A.colorStops[L];return{offset:Ed(R.offset,I.offset,y),color:J3(WO([],R.color,I.color,y))}}),global:A.global},E?(e[l].x2=Ed(S.x2,A.x2,y),e[l].y2=Ed(S.y2,A.y2,y)):e[l].r=Ed(S.r,A.r,y)}else if(c)WO(b,d[a],v[a],y),n||(e[l]=J3(b));else{var M=Ed(d[a],v[a],y);n?this._additiveValue=M:e[l]=M}n&&this._addToTarget(e)}}},r.prototype._addToTarget=function(e){var t=this.valType,n=this.propName,a=this._additiveValue;t===kC?e[n]=e[n]+a:t===ew?(_o(e[n],h2),OC(h2,h2,a,1),e[n]=J3(h2)):t===Q3?OC(e[n],e[n],a,1):t===hie&&GW(e[n],e[n],a,1)},r})(),lF=(function(){function r(e,t,n,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&a){UI("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=n}return r.prototype.getMaxTime=function(){return this._maxTime},r.prototype.getDelay=function(){return this._delay},r.prototype.getLoop=function(){return this._loop},r.prototype.getTarget=function(){return this._target},r.prototype.changeTarget=function(e){this._target=e},r.prototype.when=function(e,t,n){return this.whenWithKeys(e,t,Yr(t),n)},r.prototype.whenWithKeys=function(e,t,n,a){for(var i=this._tracks,s=0;s<n.length;s++){var o=n[s],l=i[o];if(!l){l=i[o]=new b5e(o);var c=void 0,u=this._getAdditiveTrack(o);if(u){var f=u.keyframes,h=f[f.length-1];c=h&&h.value,u.valType===ew&&c&&(c=J3(c))}else c=this._target[o];if(c==null)continue;e>0&&l.addKeyframe(0,Vw(c),a),this._trackKeys.push(o)}l.addKeyframe(e,Vw(t[o]),a)}return this._maxTime=Math.max(this._maxTime,e),this},r.prototype.pause=function(){this._clip.pause(),this._paused=!0},r.prototype.resume=function(){this._clip.resume(),this._paused=!1},r.prototype.isPaused=function(){return!!this._paused},r.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,n=0;n<t;n++)e[n].call(this)},r.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},r.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)e[t[n]].setFinished()},r.prototype._getAdditiveTrack=function(e){var t,n=this._additiveAnimators;if(n)for(var a=0;a<n.length;a++){var i=n[a].getTrack(e);i&&(t=i)}return t},r.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,n=[],a=this._maxTime||0,i=0;i<this._trackKeys.length;i++){var s=this._trackKeys[i],o=this._tracks[s],l=this._getAdditiveTrack(s),c=o.keyframes,u=c.length;if(o.prepare(a,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var f=c[u-1];f&&(t._target[o.propName]=f.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var h=new t5e({life:a,loop:this._loop,delay:this._delay||0,onframe:function(d){t._started=2;var v=t._additiveAnimators;if(v){for(var g=!1,m=0;m<v.length;m++)if(v[m]._clip){g=!0;break}g||(t._additiveAnimators=null)}for(var m=0;m<n.length;m++)n[m].step(t._target,d);var y=t._onframeCbs;if(y)for(var m=0;m<y.length;m++)y[m](t._target,d)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},r.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},r.prototype.delay=function(e){return this._delay=e,this},r.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},r.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},r.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},r.prototype.getClip=function(){return this._clip},r.prototype.getTrack=function(e){return this._tracks[e]},r.prototype.getTracks=function(){var e=this;return ft(this._trackKeys,function(t){return e._tracks[t]})},r.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var n=this._tracks,a=this._trackKeys,i=0;i<e.length;i++){var s=n[e[i]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,i=0;i<a.length;i++)if(!n[a[i]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},r.prototype.saveTo=function(e,t,n){if(e){t=t||this._trackKeys;for(var a=0;a<t.length;a++){var i=t[a],s=this._tracks[i];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(e[i]=Vw(l.rawValue))}}}},r.prototype.__changeFinalValue=function(e,t){t=t||Yr(e);for(var n=0;n<t.length;n++){var a=t[n],i=this._tracks[a];if(i){var s=i.keyframes;if(s.length>1){var o=s.pop();i.addKeyframe(o.time,e[a]),i.prepare(this._maxTime,i.getAdditiveTrack())}}}},r})();function H1(){return new Date().getTime()}var S5e=(function(r){ga(e,r);function e(t){var n=r.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,t=t||{},n.stage=t.stage||{},n}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var n=t.getClip();n&&this.addClip(n)},e.prototype.removeClip=function(t){if(t.animation){var n=t.prev,a=t.next;n?n.next=a:this._head=a,a?a.prev=n:this._tail=n,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var n=t.getClip();n&&this.removeClip(n),t.animation=null},e.prototype.update=function(t){for(var n=H1()-this._pausedTime,a=n-this._time,i=this._head;i;){var s=i.next,o=i.step(n,a);o&&(i.ondestroy(),this.removeClip(i)),i=s}this._time=n,t||(this.trigger("frame",a),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function n(){t._running&&(PR(n),!t._paused&&t.update())}PR(n)},e.prototype.start=function(){this._running||(this._time=H1(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=H1(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=H1()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var n=t.next;t.prev=t.next=t.animation=null,t=n}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,n){n=n||{},this.start();var a=new lF(t,n.loop);return this.addAnimator(a),a},e})(au),w5e=300,YO=jr.domSupported,XO=(function(){var r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=ft(r,function(a){var i=a.replace("mouse","pointer");return t.hasOwnProperty(i)?i:a});return{mouse:r,touch:e,pointer:n}})(),YW={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},XW=!1;function b6(r){var e=r.pointerType;return e==="pen"||e==="touch"}function T5e(r){r.touching=!0,r.touchTimer!=null&&(clearTimeout(r.touchTimer),r.touchTimer=null),r.touchTimer=setTimeout(function(){r.touching=!1,r.touchTimer=null},700)}function qO(r){r&&(r.zrByTouch=!0)}function A5e(r,e){return Uc(r.dom,new E5e(r,e),!0)}function die(r,e){for(var t=e,n=!1;t&&t.nodeType!==9&&!(n=t.domBelongToZr||t!==e&&t===r.painterRoot);)t=t.parentNode;return n}var E5e=(function(){function r(e,t){this.stopPropagation=Wa,this.stopImmediatePropagation=Wa,this.preventDefault=Wa,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return r})(),Bu={mousedown:function(r){r=Uc(this.dom,r),this.__mayPointerCapture=[r.zrX,r.zrY],this.trigger("mousedown",r)},mousemove:function(r){r=Uc(this.dom,r);var e=this.__mayPointerCapture;e&&(r.zrX!==e[0]||r.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",r)},mouseup:function(r){r=Uc(this.dom,r),this.__togglePointerCapture(!1),this.trigger("mouseup",r)},mouseout:function(r){r=Uc(this.dom,r);var e=r.toElement||r.relatedTarget;die(this,e)||(this.__pointerCapturing&&(r.zrEventControl="no_globalout"),this.trigger("mouseout",r))},wheel:function(r){XW=!0,r=Uc(this.dom,r),this.trigger("mousewheel",r)},mousewheel:function(r){XW||(r=Uc(this.dom,r),this.trigger("mousewheel",r))},touchstart:function(r){r=Uc(this.dom,r),qO(r),this.__lastTouchMoment=new Date,this.handler.processGesture(r,"start"),Bu.mousemove.call(this,r),Bu.mousedown.call(this,r)},touchmove:function(r){r=Uc(this.dom,r),qO(r),this.handler.processGesture(r,"change"),Bu.mousemove.call(this,r)},touchend:function(r){r=Uc(this.dom,r),qO(r),this.handler.processGesture(r,"end"),Bu.mouseup.call(this,r),+new Date-+this.__lastTouchMoment<w5e&&Bu.click.call(this,r)},pointerdown:function(r){Bu.mousedown.call(this,r)},pointermove:function(r){b6(r)||Bu.mousemove.call(this,r)},pointerup:function(r){Bu.mouseup.call(this,r)},pointerout:function(r){b6(r)||Bu.mouseout.call(this,r)}};te(["click","dblclick","contextmenu"],function(r){Bu[r]=function(e){e=Uc(this.dom,e),this.trigger(r,e)}});var S6={pointermove:function(r){b6(r)||S6.mousemove.call(this,r)},pointerup:function(r){S6.mouseup.call(this,r)},mousemove:function(r){this.trigger("mousemove",r)},mouseup:function(r){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",r),e&&(r.zrEventControl="only_globalout",this.trigger("mouseout",r))}};function M5e(r,e){var t=e.domHandlers;jr.pointerEventsSupported?te(XO.pointer,function(n){eD(e,n,function(a){t[n].call(r,a)})}):(jr.touchEventsSupported&&te(XO.touch,function(n){eD(e,n,function(a){t[n].call(r,a),T5e(e)})}),te(XO.mouse,function(n){eD(e,n,function(a){a=aF(a),e.touching||t[n].call(r,a)})}))}function C5e(r,e){jr.pointerEventsSupported?te(YW.pointer,t):jr.touchEventsSupported||te(YW.mouse,t);function t(n){function a(i){i=aF(i),die(r,i.target)||(i=A5e(r,i),e.domHandlers[n].call(r,i))}eD(e,n,a,{capture:!0})}}function eD(r,e,t,n){r.mounted[e]=t,r.listenerOpts[e]=n,f6(r.domTarget,e,t,n)}function ZO(r){var e=r.mounted;for(var t in e)e.hasOwnProperty(t)&&kke(r.domTarget,t,e[t],r.listenerOpts[t]);r.mounted={}}var qW=(function(){function r(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return r})(),D5e=(function(r){ga(e,r);function e(t,n){var a=r.call(this)||this;return a.__pointerCapturing=!1,a.dom=t,a.painterRoot=n,a._localHandlerScope=new qW(t,Bu),YO&&(a._globalHandlerScope=new qW(document,S6)),M5e(a,a._localHandlerScope),a}return e.prototype.dispose=function(){ZO(this._localHandlerScope),YO&&ZO(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,YO&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var n=this._globalHandlerScope;t?C5e(this,n):ZO(n)}},e})(au),pie=1;jr.hasGlobalWindow&&(pie=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var HR=pie,w6=.4,T6="#333",A6="#ccc",R5e="#eee",ZW=kA,KW=5e-5;function Dg(r){return r>KW||r<-KW}var Rg=[],i1=[],KO=$i(),$O=Math.abs,Bd=(function(){function r(){}return r.prototype.getLocalTransform=function(e){return r.getLocalTransform(this,e)},r.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},r.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},r.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},r.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},r.prototype.needLocalTransform=function(){return Dg(this.rotation)||Dg(this.x)||Dg(this.y)||Dg(this.scaleX-1)||Dg(this.scaleY-1)||Dg(this.skewX)||Dg(this.skewY)},r.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;if(!(t||e)){n&&(ZW(n),this.invTransform=null);return}n=n||$i(),t?this.getLocalTransform(n):ZW(n),e&&(t?Ku(n,e,n):PA(n,e)),this.transform=n,this._resolveGlobalScaleRatio(n)},r.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(Rg);var n=Rg[0]<0?-1:1,a=Rg[1]<0?-1:1,i=((Rg[0]-n)*t+n)/Rg[0]||0,s=((Rg[1]-a)*t+a)/Rg[1]||0;e[0]*=i,e[1]*=i,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||$i(),Qc(this.invTransform,e)},r.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},r.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],a=Math.atan2(e[1],e[0]),i=Math.PI/2+a-Math.atan2(e[3],e[2]);n=Math.sqrt(n)*Math.cos(i),t=Math.sqrt(t),this.skewX=i,this.skewY=0,this.rotation=-a,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},r.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||$i(),Ku(i1,e.invTransform,t),t=i1);var n=this.originX,a=this.originY;(n||a)&&(KO[4]=n,KO[5]=a,Ku(i1,t,KO),i1[4]-=n,i1[5]-=a,t=i1),this.setLocalTransform(t)}},r.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},r.prototype.transformCoordToLocal=function(e,t){var n=[e,t],a=this.invTransform;return a&&Ya(n,n,a),n},r.prototype.transformCoordToGlobal=function(e,t){var n=[e,t],a=this.transform;return a&&Ya(n,n,a),n},r.prototype.getLineScale=function(){var e=this.transform;return e&&$O(e[0]-1)>1e-10&&$O(e[3]-1)>1e-10?Math.sqrt($O(e[0]*e[3]-e[2]*e[1])):1},r.prototype.copyTransform=function(e){GR(this,e)},r.getLocalTransform=function(e,t){t=t||[];var n=e.originX||0,a=e.originY||0,i=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(n||a||o||l){var v=n+o,g=a+l;t[4]=-v*i-h*g*s,t[5]=-g*s-d*v*i}else t[4]=t[5]=0;return t[0]=i,t[3]=s,t[1]=d*i,t[2]=h*s,c&&up(t,t,c),t[4]+=n+u,t[5]+=a+f,t},r.initDefaultProps=(function(){var e=r.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),r})(),Sh=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function GR(r,e){for(var t=0;t<Sh.length;t++){var n=Sh[t];r[n]=e[n]}}function yh(r){BC||(BC=new w_(100)),r=r||tp;var e=BC.get(r);return e||(e={font:r,strWidthCache:new w_(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:Ml.measureText("",r).width,asciiCharWidth:Ml.measureText("a",r).width},BC.put(r,e)),e}var BC;function N5e(r){if(!(JO>=$W)){r=r||tp;for(var e=[],t=+new Date,n=0;n<=127;n++)e[n]=Ml.measureText(String.fromCharCode(n),r).width;var a=+new Date-t;return a>16?JO=$W:a>2&&JO++,e}}var JO=0,$W=5;function vie(r,e){return r.asciiWidthMapTried||(r.asciiWidthMap=N5e(r.font),r.asciiWidthMapTried=!0),0<=e&&e<=127?r.asciiWidthMap!=null?r.asciiWidthMap[e]:r.asciiCharWidth:r.stWideCharWidth}function xh(r,e){var t=r.strWidthCache,n=t.get(e);return n==null&&(n=Ml.measureText(e,r.font).width,t.put(e,n)),n}function JW(r,e,t,n){var a=xh(yh(e),r),i=BA(e),s=T_(0,a,t),o=Rm(0,i,n),l=new sr(s,o,a,i);return l}function YI(r,e,t,n){var a=((r||"")+"").split(`
`),i=a.length;if(i===1)return JW(a[0],e,t,n);for(var s=new sr(0,0,0,0),o=0;o<a.length;o++){var l=JW(a[o],e,t,n);o===0?s.copy(l):s.union(l)}return s}function T_(r,e,t,n){return t==="right"?n?r+=e:r-=e:t==="center"&&(n?r+=e/2:r-=e/2),r}function Rm(r,e,t,n){return t==="middle"?n?r+=e/2:r-=e/2:t==="bottom"&&(n?r+=e:r-=e),r}function BA(r){return yh(r).stWideCharWidth}function sf(r,e){return typeof r=="string"?r.lastIndexOf("%")>=0?parseFloat(r)/100*e:parseFloat(r):r}function jR(r,e,t){var n=e.position||"inside",a=e.distance!=null?e.distance:5,i=t.height,s=t.width,o=i/2,l=t.x,c=t.y,u="left",f="top";if(n instanceof Array)l+=sf(n[0],t.width),c+=sf(n[1],t.height),u=null,f=null;else switch(n){case"left":l-=a,c+=o,u="right",f="middle";break;case"right":l+=a+s,c+=o,f="middle";break;case"top":l+=s/2,c-=a,u="center",f="bottom";break;case"bottom":l+=s/2,c+=i+a,u="center";break;case"inside":l+=s/2,c+=o,u="center",f="middle";break;case"insideLeft":l+=a,c+=o,f="middle";break;case"insideRight":l+=s-a,c+=o,u="right",f="middle";break;case"insideTop":l+=s/2,c+=a,u="center";break;case"insideBottom":l+=s/2,c+=i-a,u="center",f="bottom";break;case"insideTopLeft":l+=a,c+=a;break;case"insideTopRight":l+=s-a,c+=a,u="right";break;case"insideBottomLeft":l+=a,c+=i-a,f="bottom";break;case"insideBottomRight":l+=s-a,c+=i-a,u="right",f="bottom";break}return r=r||{},r.x=l,r.y=c,r.align=u,r.verticalAlign=f,r}var QO="__zr_normal__",ek=Sh.concat(["ignore"]),I5e=Jc(Sh,function(r,e){return r[e]=!0,r},{ignore:!1}),s1={},L5e=new sr(0,0,0,0),zC=[],XI=(function(){function r(e){this.id=eF(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return r.prototype._init=function(e){this.attr(e)},r.prototype.drift=function(e,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=e,a[5]+=t,this.decomposeTransform(),this.markRedraw()},r.prototype.beforeUpdate=function(){},r.prototype.afterUpdate=function(){},r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},r.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var n=this.textConfig,a=n.local,i=t.innerTransformable,s=void 0,o=void 0,l=!1;i.parent=a?this:null;var c=!1;i.copyTransform(t);var u=n.position!=null,f=n.autoOverflowArea,h=void 0;if((f||u)&&(h=L5e,n.layoutRect?h.copy(n.layoutRect):h.copy(this.getBoundingRect()),a||h.applyTransform(this.transform)),u){this.calculateTextPosition?this.calculateTextPosition(s1,n,h):jR(s1,n,h),i.x=s1.x,i.y=s1.y,s=s1.align,o=s1.verticalAlign;var d=n.origin;if(d&&n.rotation!=null){var v=void 0,g=void 0;d==="center"?(v=h.width*.5,g=h.height*.5):(v=sf(d[0],h.width),g=sf(d[1],h.height)),c=!0,i.originX=-i.x+v+(a?0:h.x),i.originY=-i.y+g+(a?0:h.y)}}n.rotation!=null&&(i.rotation=n.rotation);var m=n.offset;m&&(i.x+=m[0],i.y+=m[1],c||(i.originX=-m[0],i.originY=-m[1]));var y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var b=y.overflowRect=y.overflowRect||new sr(0,0,0,0);i.getLocalTransform(zC),Qc(zC,zC),sr.copy(b,h),b.applyTransform(zC)}else y.overflowRect=null;var S=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,A=void 0,E=void 0,M=void 0;S&&this.canBeInsideText()?(A=n.insideFill,E=n.insideStroke,(A==null||A==="auto")&&(A=this.getInsideTextFill()),(E==null||E==="auto")&&(E=this.getInsideTextStroke(A),M=!0)):(A=n.outsideFill,E=n.outsideStroke,(A==null||A==="auto")&&(A=this.getOutsideFill()),(E==null||E==="auto")&&(E=this.getOutsideStroke(A),M=!0)),A=A||"#000",(A!==y.fill||E!==y.stroke||M!==y.autoStroke||s!==y.align||o!==y.verticalAlign)&&(l=!0,y.fill=A,y.stroke=E,y.autoStroke=M,y.align=s,y.verticalAlign=o,t.setDefaultTextStyle(y)),t.__dirty|=Zl,l&&t.dirtyStyle(!0)}},r.prototype.canBeInsideText=function(){return!0},r.prototype.getInsideTextFill=function(){return"#fff"},r.prototype.getInsideTextStroke=function(e){return"#000"},r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?A6:T6},r.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),n=typeof t=="string"&&_o(t);n||(n=[255,255,255,1]);for(var a=n[3],i=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*a+(i?0:255)*(1-a);return n[3]=1,qc(n,"rgba")},r.prototype.traverse=function(e,t){},r.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},nt(this.extra,t)):this[e]=t},r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},r.prototype.show=function(){this.ignore=!1,this.markRedraw()},r.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(nr(e))for(var n=e,a=Yr(n),i=0;i<a.length;i++){var s=a[i];this.attrKV(s,e[s])}return this.markRedraw(),this},r.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,n=0;n<this.animators.length;n++){var a=this.animators[n],i=a.__fromStateTransition;if(!(a.getLoop()||i&&i!==QO)){var s=a.targetName,o=s?t[s]:t;a.saveTo(o)}}},r.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,ek)},r.prototype._savePrimaryToNormal=function(e,t,n){for(var a=0;a<n.length;a++){var i=n[a];e[i]!=null&&!(i in t)&&(t[i]=this[i])}},r.prototype.hasState=function(){return this.currentStates.length>0},r.prototype.getState=function(e){return this.states[e]},r.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},r.prototype.clearStates=function(e){this.useState(QO,!1,e)},r.prototype.useState=function(e,t,n,a){var i=e===QO,s=this.hasState();if(!(!s&&i)){var o=this.currentStates,l=this.stateTransition;if(!(br(o,e)>=0&&(t||o.length===1))){var c;if(this.stateProxy&&!i&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!i){UI("State "+e+" not exists.");return}i||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||a);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,t,!n&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,t,n,u),h&&h.useState(e,t,n,u),i?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Zl),c}}},r.prototype.useStates=function(e,t,n){if(!e.length)this.clearStates();else{var a=[],i=this.currentStates,s=e.length,o=s===i.length;if(o){for(var l=0;l<s;l++)if(e[l]!==i[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&a.push(u)}var f=a[s-1],h=!!(f&&f.hoverLayer||n);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(a),v=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!t&&!this.__inHover&&v&&v.duration>0,v);var g=this._textContent,m=this._textGuide;g&&g.useStates(e,t,h),m&&m.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Zl)}},r.prototype.isSilent=function(){for(var e=this;e;){if(e.silent)return!0;var t=e.__hostTarget;e=t?e.ignoreHostSilent?null:t:e.parent}return!1},r.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},r.prototype.removeState=function(e){var t=br(this.currentStates,e);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},r.prototype.replaceState=function(e,t,n){var a=this.currentStates.slice(),i=br(a,e),s=br(a,t)>=0;i>=0?s?a.splice(i,1):a[i]=t:n&&!s&&a.push(t),this.useStates(a)},r.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},r.prototype._mergeStates=function(e){for(var t={},n,a=0;a<e.length;a++){var i=e[a];nt(t,i),i.textConfig&&(n=n||{},nt(n,i.textConfig))}return n&&(t.textConfig=n),t},r.prototype._applyStateObj=function(e,t,n,a,i,s){var o=!(t&&a);t&&t.textConfig?(this.textConfig=nt({},a?this.textConfig:n.textConfig),nt(this.textConfig,t.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},c=!1,u=0;u<ek.length;u++){var f=ek[u],h=i&&I5e[f];t&&t[f]!=null?h?(c=!0,l[f]=t[f]):this[f]=t[f]:o&&n[f]!=null&&(h?(c=!0,l[f]=n[f]):this[f]=n[f])}if(!i)for(var u=0;u<this.animators.length;u++){var d=this.animators[u],v=d.targetName;d.getLoop()||d.__changeFinalValue(v?(t||n)[v]:t||n)}c&&this._transitionState(e,l,s)},r.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},r.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},r.prototype.getClipPath=function(){return this._clipPath},r.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},r.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},r.prototype.getTextContent=function(){return this._textContent},r.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Bd,this._attachComponent(e),this._textContent=e,this.markRedraw())},r.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),nt(this.textConfig,e),this.markRedraw()},r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},r.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},r.prototype.getTextGuideLine=function(){return this._textGuide},r.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},r.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},r.prototype.markRedraw=function(){this.__dirty|=Zl;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},r.prototype.dirty=function(){this.markRedraw()},r.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=e),n&&(n.__inHover=e)},r.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},r.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},r.prototype.animate=function(e,t,n){var a=e?this[e]:this,i=new lF(a,t,n);return e&&(i.targetName=e),this.addAnimator(i,e),i},r.prototype.addAnimator=function(e,t){var n=this.__zr,a=this;e.during(function(){a.updateDuringAnimation(t)}).done(function(){var i=a.animators,s=br(i,e);s>=0&&i.splice(s,1)}),this.animators.push(e),n&&n.animation.addAnimator(e),n&&n.wakeUp()},r.prototype.updateDuringAnimation=function(e){this.markRedraw()},r.prototype.stopAnimation=function(e,t){for(var n=this.animators,a=n.length,i=[],s=0;s<a;s++){var o=n[s];!e||e===o.scope?o.stop(t):i.push(o)}return this.animators=i,this},r.prototype.animateTo=function(e,t,n){tk(this,e,t,n)},r.prototype.animateFrom=function(e,t,n){tk(this,e,t,n,!0)},r.prototype._transitionState=function(e,t,n,a){for(var i=tk(this,t,n,a),s=0;s<i.length;s++)i[s].__fromStateTransition=e},r.prototype.getBoundingRect=function(){return null},r.prototype.getPaintRect=function(){return null},r.initDefaultProps=(function(){var e=r.prototype;e.type="element",e.name="",e.ignore=e.silent=e.ignoreHostSilent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Zl;function t(n,a,i,s){Object.defineProperty(e,n,{get:function(){if(!this[a]){var l=this[a]=[];o(this,l)}return this[a]},set:function(l){this[i]=l[0],this[s]=l[1],this[a]=l,o(this,l)}});function o(l,c){Object.defineProperty(c,0,{get:function(){return l[i]},set:function(u){l[i]=u}}),Object.defineProperty(c,1,{get:function(){return l[s]},set:function(u){l[s]=u}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))})(),r})();Xa(XI,au);Xa(XI,Bd);function tk(r,e,t,n,a){t=t||{};var i=[];gie(r,"",r,e,t,n,i,a);var s=i.length,o=!1,l=t.done,c=t.aborted,u=function(){o=!0,s--,s<=0&&(o?l&&l():c&&c())},f=function(){s--,s<=0&&(o?l&&l():c&&c())};s||l&&l(),i.length>0&&t.during&&i[0].during(function(v,g){t.during(g)});for(var h=0;h<i.length;h++){var d=i[h];u&&d.done(u),f&&d.aborted(f),t.force&&d.duration(t.duration),d.start(t.easing)}return i}function rk(r,e,t){for(var n=0;n<t;n++)r[n]=e[n]}function O5e(r){return Vs(r[0])}function k5e(r,e,t){if(Vs(e[t]))if(Vs(r[t])||(r[t]=[]),rl(e[t])){var n=e[t].length;r[t].length!==n&&(r[t]=new e[t].constructor(n),rk(r[t],e[t],n))}else{var a=e[t],i=r[t],s=a.length;if(O5e(a))for(var o=a[0].length,l=0;l<s;l++)i[l]?rk(i[l],a[l],o):i[l]=Array.prototype.slice.call(a[l]);else rk(i,a,s);i.length=a.length}else r[t]=e[t]}function P5e(r,e){return r===e||Vs(r)&&Vs(e)&&B5e(r,e)}function B5e(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++)if(r[n]!==e[n])return!1;return!0}function gie(r,e,t,n,a,i,s,o){for(var l=Yr(n),c=a.duration,u=a.delay,f=a.additive,h=a.setToFinal,d=!nr(i),v=r.animators,g=[],m=0;m<l.length;m++){var y=l[m],b=n[y];if(b!=null&&t[y]!=null&&(d||i[y]))if(nr(b)&&!Vs(b)&&!IA(b)){if(e){o||(t[y]=b,r.updateDuringAnimation(e));continue}gie(r,y,t[y],b,a,i&&i[y],s,o)}else g.push(y);else o||(t[y]=b,r.updateDuringAnimation(e),g.push(y))}var S=g.length;if(!f&&S)for(var A=0;A<v.length;A++){var E=v[A];if(E.targetName===e){var M=E.stopTracks(g);if(M){var R=br(v,E);v.splice(R,1)}}}if(a.force||(g=fn(g,function(P){return!P5e(n[P],t[P])}),S=g.length),S>0||a.force&&!s.length){var L=void 0,I=void 0,O=void 0;if(o){I={},h&&(L={});for(var A=0;A<S;A++){var y=g[A];I[y]=t[y],h?L[y]=n[y]:t[y]=n[y]}}else if(h){O={};for(var A=0;A<S;A++){var y=g[A];O[y]=Vw(t[y]),k5e(t,n,y)}}var E=new lF(t,!1,!1,f?fn(v,function(k){return k.targetName===e}):null);E.targetName=e,a.scope&&(E.scope=a.scope),h&&L&&E.whenWithKeys(0,L,g),O&&E.whenWithKeys(0,O,g),E.whenWithKeys(c??500,o?I:n,g).delay(u||0),r.addAnimator(E,e),s.push(E)}}var er=(function(r){ga(e,r);function e(t){var n=r.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var n=this._children,a=0;a<n.length;a++)if(n[a].name===t)return n[a]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,n){if(t&&t!==this&&t.parent!==this&&n&&n.parent===this){var a=this._children,i=a.indexOf(n);i>=0&&(a.splice(i,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,n){var a=br(this._children,t);return a>=0&&this.replaceAt(n,a),this},e.prototype.replaceAt=function(t,n){var a=this._children,i=a[n];if(t&&t!==this&&t.parent!==this&&t!==i){a[n]=t,i.parent=null;var s=this.__zr;s&&i.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var n=this.__zr;n&&n!==t.__zr&&t.addSelfToZr(n),n&&n.refresh()},e.prototype.remove=function(t){var n=this.__zr,a=this._children,i=br(a,t);return i<0?this:(a.splice(i,1),t.parent=null,n&&t.removeSelfFromZr(n),n&&n.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,n=this.__zr,a=0;a<t.length;a++){var i=t[a];n&&i.removeSelfFromZr(n),i.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,n){for(var a=this._children,i=0;i<a.length;i++){var s=a[i];t.call(n,s,i)}return this},e.prototype.traverse=function(t,n){for(var a=0;a<this._children.length;a++){var i=this._children[a],s=t.call(n,i);i.isGroup&&!s&&i.traverse(t,n)}return this},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++){var a=this._children[n];a.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var n=new sr(0,0,0,0),a=t||this._children,i=[],s=null,o=0;o<a.length;o++){var l=a[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(i);u?(sr.applyTransform(n,c,u),s=s||n.clone(),s.union(n)):(s=s||c.clone(),s.union(c))}}return s||n},e})(XI);er.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var tD={},ym={};function z5e(r){delete ym[r]}function F5e(r){if(!r)return!1;if(typeof r=="string")return OT(r,1)<w6;if(r.colorStops){for(var e=r.colorStops,t=0,n=e.length,a=0;a<n;a++)t+=OT(e[a].color,1);return t/=n,t<w6}return!1}var U5e=(function(){function r(e,t,n){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=e;var i=new Kke,s=n.renderer||"canvas";tD[s]||(s=Yr(tD)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new tD[s](t,i,n,e),l=n.ssr||o.ssrOnly;this.storage=i,this.painter=o;var c=!jr.node&&!jr.worker&&!l?new D5e(o.getViewportRoot(),o.root):null,u=n.useCoarsePointer,f=u==null||u==="auto"?jr.touchEventsSupported:!!u,h=44,d;f&&(d=Gt(n.pointerSize,h)),this.handler=new Zae(i,o,c,o.root,d),this.animation=new S5e({stage:{update:l?null:function(){return a._flush(!0)}}}),l||this.animation.start()}return r.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},r.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},r.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},r.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=F5e(e))},r.prototype.getBackgroundColor=function(){return this._backgroundColor},r.prototype.setDarkMode=function(e){this._darkMode=e},r.prototype.isDarkMode=function(){return this._darkMode},r.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},r.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},r.prototype.flush=function(){this._disposed||this._flush(!1)},r.prototype._flush=function(e){var t,n=H1();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var a=H1();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},r.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},r.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},r.prototype.refreshHover=function(){this._needsRefreshHover=!0},r.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},r.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},r.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},r.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},r.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},r.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},r.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},r.prototype.on=function(e,t,n){return this._disposed||this.handler.on(e,t,n),this},r.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},r.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},r.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof er&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},r.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,z5e(this.id))},r})();function E6(r,e){var t=new U5e(eF(),r,e);return ym[t.id]=t,t}function V5e(r){r.dispose()}function H5e(){for(var r in ym)ym.hasOwnProperty(r)&&ym[r].dispose();ym={}}function G5e(r){return ym[r]}function mie(r,e){tD[r]=e}var M6;function yie(r){if(typeof M6=="function")return M6(r)}function xie(r){M6=r}var j5e="6.0.0";const W5e=Object.freeze(Object.defineProperty({__proto__:null,dispose:V5e,disposeAll:H5e,getElementSSRData:yie,getInstance:G5e,init:E6,registerPainter:mie,registerSSRDataGetter:xie,version:j5e},Symbol.toStringTag,{value:"Module"}));var QW=1e-4,_ie=20;function Y5e(r){return r.replace(/^\s+|\s+$/g,"")}var nc=Math.min,ri=Math.max,ch=Math.abs;function gn(r,e,t,n){var a=e[0],i=e[1],s=t[0],o=t[1],l=i-a,c=o-s;if(l===0)return c===0?s:(s+o)/2;if(n)if(l>0){if(r<=a)return s;if(r>=i)return o}else{if(r>=a)return s;if(r<=i)return o}else{if(r===a)return s;if(r===i)return o}return(r-a)/l*c+s}var Nt=X5e;function X5e(r,e,t){switch(r){case"center":case"middle":r="50%";break;case"left":case"top":r="0%";break;case"right":case"bottom":r="100%";break}return WR(r,e,t)}function WR(r,e,t){return It(r)?Y5e(r).match(/%$/)?parseFloat(r)/100*e+(t||0):parseFloat(r):r==null?NaN:+r}function ni(r,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),_ie),r=(+r).toFixed(e),t?r:+r}function Ql(r){return r.sort(function(e,t){return e-t}),r}function Yu(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(r*e)/e===r)return t}return bie(r)}function bie(r){var e=r.toString().toLowerCase(),t=e.indexOf("e"),n=t>0?+e.slice(t+1):0,a=t>0?t:e.length,i=e.indexOf("."),s=i<0?0:a-1-i;return Math.max(0,s-n)}function cF(r,e){var t=Math.log,n=Math.LN10,a=Math.floor(t(r[1]-r[0])/n),i=Math.round(t(ch(e[1]-e[0]))/n),s=Math.min(Math.max(-a+i,0),20);return isFinite(s)?s:20}function q5e(r,e,t){if(!r[e])return 0;var n=Sie(r,t);return n[e]||0}function Sie(r,e){var t=Jc(r,function(d,v){return d+(isNaN(v)?0:v)},0);if(t===0)return[];for(var n=Math.pow(10,e),a=ft(r,function(d){return(isNaN(d)?0:d)/t*n*100}),i=n*100,s=ft(a,function(d){return Math.floor(d)}),o=Jc(s,function(d,v){return d+v},0),l=ft(a,function(d,v){return d-s[v]});o<i;){for(var c=Number.NEGATIVE_INFINITY,u=null,f=0,h=l.length;f<h;++f)l[f]>c&&(c=l[f],u=f);++s[u],l[u]=0,++o}return ft(s,function(d){return d/n})}function Z5e(r,e){var t=Math.max(Yu(r),Yu(e)),n=r+e;return t>_ie?n:ni(n,t)}var C6=9007199254740991;function uF(r){var e=Math.PI*2;return(r%e+e)%e}function A_(r){return r>-QW&&r<QW}var K5e=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ih(r){if(r instanceof Date)return r;if(It(r)){var e=K5e.exec(r);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function wie(r){return Math.pow(10,qI(r))}function qI(r){if(r===0)return 0;var e=Math.floor(Math.log(r)/Math.LN10);return r/Math.pow(10,e)>=10&&e++,e}function fF(r,e){var t=qI(r),n=Math.pow(10,t),a=r/n,i;return e?a<1.5?i=1:a<2.5?i=2:a<4?i=3:a<7?i=5:i=10:a<1?i=1:a<2?i=2:a<3?i=3:a<5?i=5:i=10,r=i*n,t>=-20?+r.toFixed(t<0?-t:0):r}function rD(r,e){var t=(r.length-1)*e+1,n=Math.floor(t),a=+r[n-1],i=t-n;return i?a+i*(r[n]-a):a}function D6(r){r.sort(function(l,c){return o(l,c,0)?-1:1});for(var e=-1/0,t=1,n=0;n<r.length;){for(var a=r[n].interval,i=r[n].close,s=0;s<2;s++)a[s]<=e&&(a[s]=e,i[s]=s?1:1-t),e=a[s],t=i[s];a[0]===a[1]&&i[0]*i[1]!==1?r.splice(n,1):n++}return r;function o(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]===(u?-1:1)||!u&&o(l,c,1))}}function wh(r){var e=parseFloat(r);return e==r&&(e!==0||!It(r)||r.indexOf("x")<=0)?e:NaN}function hF(r){return!isNaN(wh(r))}function Tie(){return Math.round(Math.random()*9)}function Aie(r,e){return e===0?r:Aie(e,r%e)}function eY(r,e){return r==null?e:e==null?r:r*e/Aie(r,e)}var $5e="[ECharts] ",J5e=typeof console<"u"&&console.warn&&console.log;function Q5e(r,e,t){J5e&&console[r]($5e+e)}function Eie(r,e){Q5e("error",r)}function mn(r){throw new Error(r)}function tY(r,e,t){return(e-r)*t+r}var Mie="series\0",Cie="\0_ec_\0";function $n(r){return r instanceof Array?r:r==null?[]:[r]}function Ym(r,e,t){if(r){r[e]=r[e]||{},r.emphasis=r.emphasis||{},r.emphasis[e]=r.emphasis[e]||{};for(var n=0,a=t.length;n<a;n++){var i=t[n];!r.emphasis[e].hasOwnProperty(i)&&r[e].hasOwnProperty(i)&&(r.emphasis[e][i]=r[e][i])}}}var rY=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function tb(r){return nr(r)&&!ct(r)&&!(r instanceof Date)?r.value:r}function ePe(r){return nr(r)&&!(r instanceof Array)}function Die(r,e,t){var n=t==="normalMerge",a=t==="replaceMerge",i=t==="replaceAll";r=r||[],e=(e||[]).slice();var s=Ht();te(e,function(l,c){if(!nr(l)){e[c]=null;return}});var o=tPe(r,s,t);return(n||a)&&rPe(o,r,s,e),n&&nPe(o,e),n||a?aPe(o,e,a):i&&iPe(o,e),sPe(o),o}function tPe(r,e,t){var n=[];if(t==="replaceAll")return n;for(var a=0;a<r.length;a++){var i=r[a];i&&i.id!=null&&e.set(i.id,a),n.push({existing:t==="replaceMerge"||PT(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return n}function rPe(r,e,t,n){te(n,function(a,i){if(!(!a||a.id==null)){var s=Hw(a.id),o=t.get(s);if(o!=null){var l=r[o];Hs(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=a,l.existing=e[o],n[i]=null}}})}function nPe(r,e){te(e,function(t,n){if(!(!t||t.name==null))for(var a=0;a<r.length;a++){var i=r[a].existing;if(!r[a].newOption&&i&&(i.id==null||t.id==null)&&!PT(t)&&!PT(i)&&Rie("name",i,t)){r[a].newOption=t,e[n]=null;return}}})}function aPe(r,e,t){te(e,function(n){if(n){for(var a,i=0;(a=r[i])&&(a.newOption||PT(a.existing)||a.existing&&n.id!=null&&!Rie("id",n,a.existing));)i++;a?(a.newOption=n,a.brandNew=t):r.push({newOption:n,brandNew:t,existing:null,keyInfo:null}),i++}})}function iPe(r,e){te(e,function(t){r.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function sPe(r){var e=Ht();te(r,function(t){var n=t.existing;n&&e.set(n.id,t)}),te(r,function(t){var n=t.newOption;Hs(!n||n.id==null||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),te(r,function(t,n){var a=t.existing,i=t.newOption,s=t.keyInfo;if(nr(i)){if(s.name=i.name!=null?Hw(i.name):a?a.name:Mie+n,a)s.id=Hw(a.id);else if(i.id!=null)s.id=Hw(i.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function Rie(r,e,t){var n=Li(e[r],null),a=Li(t[r],null);return n!=null&&a!=null&&n===a}function Hw(r){return Li(r,"")}function Li(r,e){return r==null?e:It(r)?r:$r(r)||IR(r)?r+"":e}function dF(r){var e=r.name;return!!(e&&e.indexOf(Mie))}function PT(r){return r&&r.id!=null&&Hw(r.id).indexOf(Cie)===0}function oPe(r){return Cie+r}function lPe(r,e,t){te(r,function(n){var a=n.newOption;nr(a)&&(n.keyInfo.mainType=e,n.keyInfo.subType=cPe(e,a,n.existing,t))})}function cPe(r,e,t,n){var a=e.type?e.type:t?t.subType:n.determineSubType(r,e);return a}function uPe(r,e){var t={},n={};return a(r||[],t),a(e||[],n,t),[i(t),i(n)];function a(s,o,l){for(var c=0,u=s.length;c<u;c++){var f=Li(s[c].seriesId,null);if(f==null)return;for(var h=$n(s[c].dataIndex),d=l&&l[f],v=0,g=h.length;v<g;v++){var m=h[v];d&&d[m]?d[m]=null:(o[f]||(o[f]={}))[m]=1}}}function i(s,o){var l=[];for(var c in s)if(s.hasOwnProperty(c)&&s[c]!=null)if(o)l.push(+c);else{var u=i(s[c],!0);u.length&&l.push({seriesId:c,dataIndex:u})}return l}}function Xm(r,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return ct(e.dataIndex)?ft(e.dataIndex,function(t){return r.indexOfRawIndex(t)}):r.indexOfRawIndex(e.dataIndex);if(e.name!=null)return ct(e.name)?ft(e.name,function(t){return r.indexOfName(t)}):r.indexOfName(e.name)}function Pr(){var r="__ec_inner_"+fPe++;return function(e){return e[r]||(e[r]={})}}var fPe=Tie();function r_(r,e,t){var n=pF(e,t),a=n.mainTypeSpecified,i=n.queryOptionMap,s=n.others,o=s,l=t?t.defaultMainType:null;return!a&&l&&i.set(l,{}),i.each(function(c,u){var f=rb(r,u,c,{useDefault:l===u,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[u+"Models"]=f.models,o[u+"Model"]=f.models[0]}),o}function pF(r,e){var t;if(It(r)){var n={};n[r+"Index"]=0,t=n}else t=r;var a=Ht(),i={},s=!1;return te(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){i[l]=o;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],f=(c[2]||"").toLowerCase();if(!(!u||!f||e&&e.includeMainTypes&&br(e.includeMainTypes,u)<0)){s=s||!!u;var h=a.get(u)||a.set(u,{});h[f]=o}}),{mainTypeSpecified:s,queryOptionMap:a,others:i}}var Pa={useDefault:!0,enableAll:!1,enableNone:!1},hPe={useDefault:!1,enableAll:!0,enableNone:!0};function rb(r,e,t,n){n=n||Pa;var a=t.index,i=t.id,s=t.name,o={models:null,specified:a!=null||i!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=r.getComponent(e))?[l]:[],o}if(a==="none"||a===!1){if(n.enableNone)return o.models=[],o;a=-1}return a==="all"&&(n.enableAll?a=i=s=null:a=-1),o.models=r.queryComponents({mainType:e,index:a,id:i,name:s}),o}function Nie(r,e,t){r.setAttribute?r.setAttribute(e,t):r[e]=t}function dPe(r,e){return r.getAttribute?r.getAttribute(e):r[e]}function pPe(r){return r==="auto"?jr.domSupported?"html":"richText":r||"html"}function R6(r,e){var t=Ht(),n=[];return te(r,function(a){var i=e(a);(t.get(i)||(n.push(i),t.set(i,[]))).push(a)}),{keys:n,buckets:t}}function Iie(r,e,t,n,a){var i=e==null||e==="auto";if(n==null)return n;if($r(n)){var s=tY(t||0,n,a);return ni(s,i?Math.max(Yu(t||0),Yu(n)):e)}else{if(It(n))return a<1?t:n;for(var o=[],l=t,c=n,u=Math.max(l?l.length:0,c.length),f=0;f<u;++f){var h=r.getDimensionInfo(f);if(h&&h.type==="ordinal")o[f]=(a<1&&l?l:c)[f];else{var d=l&&l[f]?l[f]:0,v=c[f],s=tY(d,v,a);o[f]=ni(s,i?Math.max(Yu(d),Yu(v)):e)}}return o}}var H0=(function(){function r(){}return r.prototype.reset=function(e,t,n,a){return this._list=e,this._step=a=a||1,this._idx=t,this._end=n??(a>0?e.length:0),this.item=null,this.key=NaN,this},r.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},r})();function nk(r){r.option=r.parentModel=r.ecModel=null}var vPe=".",Ng="___EC__COMPONENT__CONTAINER___",Lie="___EC__EXTENDED_CLASS___";function uh(r){var e={main:"",sub:""};if(r){var t=r.split(vPe);e.main=t[0]||"",e.sub=t[1]||""}return e}function gPe(r){Hs(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function mPe(r){return!!(r&&r[Lie])}function vF(r,e){r.$constructor=r,r.extend=function(t){var n=this,a;return yPe(n)?a=(function(i){Ye(s,i);function s(){return i.apply(this,arguments)||this}return s})(n):(a=function(){(t.$constructor||n).apply(this,arguments)},tF(a,this)),nt(a.prototype,t),a[Lie]=!0,a.extend=this.extend,a.superCall=bPe,a.superApply=SPe,a.superClass=n,a}}function yPe(r){return Yt(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function Oie(r,e){r.extend=e.extend}var xPe=Math.round(Math.random()*10);function _Pe(r){var e=["__\0is_clz",xPe++].join("_");r.prototype[e]=!0,r.isInstance=function(t){return!!(t&&t[e])}}function bPe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return this.superClass.prototype[e].apply(r,t)}function SPe(r,e,t){return this.superClass.prototype[e].apply(r,t)}function ZI(r){var e={};r.registerClass=function(n){var a=n.type||n.prototype.type;if(a){gPe(a),n.prototype.type=a;var i=uh(a);if(!i.sub)e[i.main]=n;else if(i.sub!==Ng){var s=t(i);s[i.sub]=n}}return n},r.getClass=function(n,a,i){var s=e[n];if(s&&s[Ng]&&(s=a?s[a]:null),i&&!s)throw new Error(a?"Component "+n+"."+(a||"")+" is used but not imported.":n+".type should be specified.");return s},r.getClassesByMainType=function(n){var a=uh(n),i=[],s=e[a.main];return s&&s[Ng]?te(s,function(o,l){l!==Ng&&i.push(o)}):i.push(s),i},r.hasClass=function(n){var a=uh(n);return!!e[a.main]},r.getAllClassMainTypes=function(){var n=[];return te(e,function(a,i){n.push(i)}),n},r.hasSubTypes=function(n){var a=uh(n),i=e[a.main];return i&&i[Ng]};function t(n){var a=e[n.main];return(!a||!a[Ng])&&(a=e[n.main]={},a[Ng]=!0),a}}function qm(r,e){for(var t=0;t<r.length;t++)r[t][1]||(r[t][1]=r[t][0]);return e=e||!1,function(n,a,i){for(var s={},o=0;o<r.length;o++){var l=r[o][1];if(!(a&&br(a,l)>=0||i&&br(i,l)<0)){var c=n.getShallow(l,e);c!=null&&(s[r[o][0]]=c)}}return s}}var wPe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],TPe=qm(wPe),APe=(function(){function r(){}return r.prototype.getAreaStyle=function(e,t){return TPe(this,e,t)},r})(),N6=new w_(50);function EPe(r){if(typeof r=="string"){var e=N6.get(r);return e&&e.image}else return r}function gF(r,e,t,n,a){if(r)if(typeof r=="string"){if(e&&e.__zrImageSrc===r||!t)return e;var i=N6.get(r),s={hostEl:t,cb:n,cbPayload:a};return i?(e=i.image,!KI(e)&&i.pending.push(s)):(e=Ml.loadImage(r,nY,nY),e.__zrImageSrc=r,N6.put(r,e.__cachedImgObj={image:e,pending:[s]})),e}else return r;else return e}function nY(){var r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<r.pending.length;e++){var t=r.pending[e],n=t.cb;n&&n(this,t.cbPayload),t.hostEl.dirty()}r.pending.length=0}function KI(r){return r&&r.width&&r.height}var ak=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function MPe(r,e,t,n,a){var i={};return kie(i,r,e,t,n,a),i.text}function kie(r,e,t,n,a,i){if(!t){r.text="",r.isTruncated=!1;return}var s=(e+"").split(`
`);i=Pie(t,n,a,i);for(var o=!1,l={},c=0,u=s.length;c<u;c++)Bie(l,s[c],i),s[c]=l.textLine,o=o||l.isTruncated;r.text=s.join(`
`),r.isTruncated=o}function Pie(r,e,t,n){n=n||{};var a=nt({},n);t=Gt(t,"..."),a.maxIterations=Gt(n.maxIterations,2);var i=a.minChar=Gt(n.minChar,0),s=a.fontMeasureInfo=yh(e),o=s.asciiCharWidth;a.placeholder=Gt(n.placeholder,"");for(var l=r=Math.max(0,r-1),c=0;c<i&&l>=o;c++)l-=o;var u=xh(s,t);return u>l&&(t="",u=0),l=r-u,a.ellipsis=t,a.ellipsisWidth=u,a.contentWidth=l,a.containerWidth=r,a}function Bie(r,e,t){var n=t.containerWidth,a=t.contentWidth,i=t.fontMeasureInfo;if(!n){r.textLine="",r.isTruncated=!1;return}var s=xh(i,e);if(s<=n){r.textLine=e,r.isTruncated=!1;return}for(var o=0;;o++){if(s<=a||o>=t.maxIterations){e+=t.ellipsis;break}var l=o===0?CPe(e,a,i):s>0?Math.floor(e.length*a/s):0;e=e.substr(0,l),s=xh(i,e)}e===""&&(e=t.placeholder),r.textLine=e,r.isTruncated=!0}function CPe(r,e,t){for(var n=0,a=0,i=r.length;a<i&&n<e;a++)n+=vie(t,r.charCodeAt(a));return a}function DPe(r,e,t,n){var a=mF(r),i=e.overflow,s=e.padding,o=s?s[1]+s[3]:0,l=s?s[0]+s[2]:0,c=e.font,u=i==="truncate",f=BA(c),h=Gt(e.lineHeight,f),d=e.lineOverflow==="truncate",v=!1,g=e.width;g==null&&t!=null&&(g=t-o);var m=e.height;m==null&&n!=null&&(m=n-l);var y;g!=null&&(i==="break"||i==="breakAll")?y=a?zie(a,e.font,g,i==="breakAll",0).lines:[]:y=a?a.split(`
`):[];var b=y.length*h;if(m==null&&(m=b),b>m&&d){var S=Math.floor(m/h);v=v||y.length>S,y=y.slice(0,S),b=y.length*h}if(a&&u&&g!=null)for(var A=Pie(g,c,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),E={},M=0;M<y.length;M++)Bie(E,y[M],A),y[M]=E.textLine,v=v||E.isTruncated;for(var R=m,L=0,I=yh(c),M=0;M<y.length;M++)L=Math.max(xh(I,y[M]),L);g==null&&(g=L);var O=g;return R+=l,O+=o,{lines:y,height:m,outerWidth:O,outerHeight:R,lineHeight:h,calculatedLineHeight:f,contentWidth:L,contentHeight:b,width:g,isTruncated:v}}var RPe=(function(){function r(){}return r})(),aY=(function(){function r(e){this.tokens=[],e&&(this.tokens=e)}return r})(),NPe=(function(){function r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return r})();function IPe(r,e,t,n,a){var i=new NPe,s=mF(r);if(!s)return i;var o=e.padding,l=o?o[1]+o[3]:0,c=o?o[0]+o[2]:0,u=e.width;u==null&&t!=null&&(u=t-l);var f=e.height;f==null&&n!=null&&(f=n-c);for(var h=e.overflow,d=(h==="break"||h==="breakAll")&&u!=null?{width:u,accumWidth:0,breakAll:h==="breakAll"}:null,v=ak.lastIndex=0,g;(g=ak.exec(s))!=null;){var m=g.index;m>v&&ik(i,s.substring(v,m),e,d),ik(i,g[2],e,d,g[1]),v=ak.lastIndex}v<s.length&&ik(i,s.substring(v,s.length),e,d);var y=[],b=0,S=0,A=h==="truncate",E=e.lineOverflow==="truncate",M={};function R(ce,me,Se){ce.width=me,ce.lineHeight=Se,b+=Se,S=Math.max(S,me)}e:for(var L=0;L<i.lines.length;L++){for(var I=i.lines[L],O=0,P=0,k=0;k<I.tokens.length;k++){var U=I.tokens[k],F=U.styleName&&e.rich[U.styleName]||{},q=U.textPadding=F.padding,H=q?q[1]+q[3]:0,Z=U.font=F.font||e.font;U.contentHeight=BA(Z);var X=Gt(F.height,U.contentHeight);if(U.innerHeight=X,q&&(X+=q[0]+q[2]),U.height=X,U.lineHeight=El(F.lineHeight,e.lineHeight,X),U.align=F&&F.align||a,U.verticalAlign=F&&F.verticalAlign||"middle",E&&f!=null&&b+U.lineHeight>f){var Y=i.lines.length;k>0?(I.tokens=I.tokens.slice(0,k),R(I,P,O),i.lines=i.lines.slice(0,L+1)):i.lines=i.lines.slice(0,L),i.isTruncated=i.isTruncated||i.lines.length<Y;break e}var re=F.width,W=re==null||re==="auto";if(typeof re=="string"&&re.charAt(re.length-1)==="%")U.percentWidth=re,y.push(U),U.contentWidth=xh(yh(Z),U.text);else{if(W){var j=F.backgroundColor,J=j&&j.image;J&&(J=EPe(J),KI(J)&&(U.width=Math.max(U.width,J.width*X/J.height)))}var ee=A&&u!=null?u-P:null;ee!=null&&ee<U.width?!W||ee<H?(U.text="",U.width=U.contentWidth=0):(kie(M,U.text,ee-H,Z,e.ellipsis,{minChar:e.truncateMinChar}),U.text=M.text,i.isTruncated=i.isTruncated||M.isTruncated,U.width=U.contentWidth=xh(yh(Z),U.text)):U.contentWidth=xh(yh(Z),U.text)}U.width+=H,P+=U.width,F&&(O=Math.max(O,U.lineHeight))}R(I,P,O)}i.outerWidth=i.width=Gt(u,S),i.outerHeight=i.height=Gt(f,b),i.contentHeight=b,i.contentWidth=S,i.outerWidth+=l,i.outerHeight+=c;for(var L=0;L<y.length;L++){var U=y[L],ae=U.percentWidth;U.width=parseInt(ae,10)/100*i.width}return i}function ik(r,e,t,n,a){var i=e==="",s=a&&t.rich[a]||{},o=r.lines,l=s.font||t.font,c=!1,u,f;if(n){var h=s.padding,d=h?h[1]+h[3]:0;if(s.width!=null&&s.width!=="auto"){var v=sf(s.width,n.width)+d;o.length>0&&v+n.accumWidth>n.width&&(u=e.split(`
`),c=!0),n.accumWidth=v}else{var g=zie(e,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+d,f=g.linesWidths,u=g.lines}}u||(u=e.split(`
`));for(var m=yh(l),y=0;y<u.length;y++){var b=u[y],S=new RPe;if(S.styleName=a,S.text=b,S.isLineHolder=!b&&!i,typeof s.width=="number"?S.width=s.width:S.width=f?f[y]:xh(m,b),!y&&!c){var A=(o[o.length-1]||(o[0]=new aY)).tokens,E=A.length;E===1&&A[0].isLineHolder?A[0]=S:(b||!E||i)&&A.push(S)}else o.push(new aY([S]))}}function LPe(r){var e=r.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var OPe=Jc(",&?/;] ".split(""),function(r,e){return r[e]=!0,r},{});function kPe(r){return LPe(r)?!!OPe[r]:!0}function zie(r,e,t,n,a){for(var i=[],s=[],o="",l="",c=0,u=0,f=yh(e),h=0;h<r.length;h++){var d=r.charAt(h);if(d===`
`){l&&(o+=l,u+=c),i.push(o),s.push(u),o="",l="",c=0,u=0;continue}var v=vie(f,d.charCodeAt(0)),g=n?!1:!kPe(d);if(i.length?u+v>t:a+u+v>t){u?(o||l)&&(g?(o||(o=l,l="",c=0,u=c),i.push(o),s.push(u-c),l+=d,c+=v,o="",u=c):(l&&(o+=l,l="",c=0),i.push(o),s.push(u),o=d,u=v)):g?(i.push(l),s.push(c),l=d,c=v):(i.push(d),s.push(v));continue}u+=v,g?(l+=d,c+=v):(l&&(o+=l,l="",c=0),o+=d)}return l&&(o+=l),o&&(i.push(o),s.push(u)),i.length===1&&(u+=a),{accumWidth:u,lines:i,linesWidths:s}}function iY(r,e,t,n,a,i){if(r.baseX=t,r.baseY=n,r.outerWidth=r.outerHeight=null,!!e){var s=e.width*2,o=e.height*2;sr.set(sY,T_(t,s,a),Rm(n,o,i),s,o),sr.intersect(e,sY,null,oY);var l=oY.outIntersectRect;r.outerWidth=l.width,r.outerHeight=l.height,r.baseX=T_(l.x,l.width,a,!0),r.baseY=Rm(l.y,l.height,i,!0)}}var sY=new sr(0,0,0,0),oY={outIntersectRect:{},clamp:!0};function mF(r){return r!=null?r+="":r=""}function PPe(r){var e=mF(r.text),t=r.font,n=xh(yh(t),e),a=BA(t);return I6(r,n,a,null)}function I6(r,e,t,n){var a=new sr(T_(r.x||0,e,r.textAlign),Rm(r.y||0,t,r.textBaseline),e,t),i=n??(Fie(r)?r.lineWidth:0);return i>0&&(a.x-=i/2,a.y-=i/2,a.width+=i,a.height+=i),a}function Fie(r){var e=r.stroke;return e!=null&&e!=="none"&&r.lineWidth>0}var L6="__zr_style_"+Math.round(Math.random()*10),Nm={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},$I={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Nm[L6]=!0;var lY=["z","z2","invisible"],BPe=["invisible"],eu=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype._init=function(t){for(var n=Yr(t),a=0;a<n.length;a++){var i=n[a];i==="style"?this.useStyle(t[i]):r.prototype.attrKV.call(this,i,t[i])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,n,a,i){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&zPe(this,t,n)||s&&!s[0]&&!s[3])return!1;if(a&&this.__clipPaths&&this.__clipPaths.length){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(i&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,n){return this.rectContain(t,n)},e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.rectContain=function(t,n){var a=this.transformCoordToLocal(t,n),i=this.getBoundingRect();return i.contain(a[0],a[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,a=this.getBoundingRect(),i=this.style,s=i.shadowBlur||0,o=i.shadowOffsetX||0,l=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new sr(0,0,0,0)),n?sr.applyTransform(t,a,n):t.copy(a),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+c*2),t.height=Math.ceil(t.height+1+c*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new sr(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,n){t!=="style"?r.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,n){return typeof t=="string"?this.style[t]=n:nt(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=Q2,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&Q2)},e.prototype.styleUpdated=function(){this.__dirty&=~Q2},e.prototype.createStyle=function(t){return OA(Nm,t)},e.prototype.useStyle=function(t){t[L6]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[L6]},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,lY)},e.prototype._applyStateObj=function(t,n,a,i,s,o){r.prototype._applyStateObj.call(this,t,n,a,i,s,o);var l=!(n&&i),c;if(n&&n.style?s?i?c=n.style:(c=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(c,n.style)):(c=this._mergeStyle(this.createStyle(),i?this.style:a.style),this._mergeStyle(c,n.style)):l&&(c=a.style),c)if(s){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var f=Yr(u),h=0;h<f.length;h++){var d=f[h];d in c&&(c[d]=c[d],this.style[d]=u[d])}for(var v=Yr(c),h=0;h<v.length;h++){var d=v[h];this.style[d]=this.style[d]}this._transitionState(t,{style:c},o,this.getAnimationStyleProps())}else this.useStyle(c);for(var g=this.__inHover?BPe:lY,h=0;h<g.length;h++){var d=g[h];n&&n[d]!=null?this[d]=n[d]:l&&a[d]!=null&&(this[d]=a[d])}},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),a,i=0;i<t.length;i++){var s=t[i];s.style&&(a=a||{},this._mergeStyle(a,s.style))}return a&&(n.style=a),n},e.prototype._mergeStyle=function(t,n){return nt(t,n),t},e.prototype.getAnimationStyleProps=function(){return $I},e.initDefaultProps=(function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=Zl|Q2})(),e})(XI),sk=new sr(0,0,0,0),ok=new sr(0,0,0,0);function zPe(r,e,t){return sk.copy(r.getBoundingRect()),r.transform&&sk.applyTransform(r.transform),ok.width=e,ok.height=t,!sk.intersect(ok)}var bl=Math.min,Sl=Math.max,lk=Math.sin,ck=Math.cos,Ig=Math.PI*2,FC=pv(),UC=pv(),VC=pv();function JI(r,e,t){if(r.length!==0){for(var n=r[0],a=n[0],i=n[0],s=n[1],o=n[1],l=1;l<r.length;l++)n=r[l],a=bl(a,n[0]),i=Sl(i,n[0]),s=bl(s,n[1]),o=Sl(o,n[1]);e[0]=a,e[1]=s,t[0]=i,t[1]=o}}function cY(r,e,t,n,a,i){a[0]=bl(r,t),a[1]=bl(e,n),i[0]=Sl(r,t),i[1]=Sl(e,n)}var uY=[],fY=[];function FPe(r,e,t,n,a,i,s,o,l,c){var u=eie,f=Yi,h=u(r,t,a,s,uY);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var d=0;d<h;d++){var v=f(r,t,a,s,uY[d]);l[0]=bl(v,l[0]),c[0]=Sl(v,c[0])}h=u(e,n,i,o,fY);for(var d=0;d<h;d++){var g=f(e,n,i,o,fY[d]);l[1]=bl(g,l[1]),c[1]=Sl(g,c[1])}l[0]=bl(r,l[0]),c[0]=Sl(r,c[0]),l[0]=bl(s,l[0]),c[0]=Sl(s,c[0]),l[1]=bl(e,l[1]),c[1]=Sl(e,c[1]),l[1]=bl(o,l[1]),c[1]=Sl(o,c[1])}function UPe(r,e,t,n,a,i,s,o){var l=rie,c=_s,u=Sl(bl(l(r,t,a),1),0),f=Sl(bl(l(e,n,i),1),0),h=c(r,t,a,u),d=c(e,n,i,f);s[0]=bl(r,a,h),s[1]=bl(e,i,d),o[0]=Sl(r,a,h),o[1]=Sl(e,i,d)}function VPe(r,e,t,n,a,i,s,o,l){var c=kd,u=Pd,f=Math.abs(a-i);if(f%Ig<1e-4&&f>1e-4){o[0]=r-t,o[1]=e-n,l[0]=r+t,l[1]=e+n;return}if(FC[0]=ck(a)*t+r,FC[1]=lk(a)*n+e,UC[0]=ck(i)*t+r,UC[1]=lk(i)*n+e,c(o,FC,UC),u(l,FC,UC),a=a%Ig,a<0&&(a=a+Ig),i=i%Ig,i<0&&(i=i+Ig),a>i&&!s?i+=Ig:a<i&&s&&(a+=Ig),s){var h=i;i=a,a=h}for(var d=0;d<i;d+=Math.PI/2)d>a&&(VC[0]=ck(d)*t+r,VC[1]=lk(d)*n+e,c(o,VC,o),u(l,VC,l))}var ra={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Lg=[],Og=[],Yf=[],l0=[],Xf=[],qf=[],uk=Math.min,fk=Math.max,kg=Math.cos,Pg=Math.sin,yd=Math.abs,O6=Math.PI,g0=O6*2,hk=typeof Float32Array<"u",d2=[];function dk(r){var e=Math.round(r/O6*1e8)/1e8;return e%2*O6}function QI(r,e){var t=dk(r[0]);t<0&&(t+=g0);var n=t-r[0],a=r[1];a+=n,!e&&a-t>=g0?a=t+g0:e&&t-a>=g0?a=t-g0:!e&&t>a?a=t+(g0-dk(t-a)):e&&t<a&&(a=t-(g0-dk(a-t))),r[0]=t,r[1]=a}var Th=(function(){function r(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return r.prototype.increaseVersion=function(){this._version++},r.prototype.getVersion=function(){return this._version},r.prototype.setScale=function(e,t,n){n=n||0,n>0&&(this._ux=yd(n/HR/e)||0,this._uy=yd(n/HR/t)||0)},r.prototype.setDPR=function(e){this.dpr=e},r.prototype.setContext=function(e){this._ctx=e},r.prototype.getContext=function(){return this._ctx},r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},r.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(ra.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},r.prototype.lineTo=function(e,t){var n=yd(e-this._xi),a=yd(t-this._yi),i=n>this._ux||a>this._uy;if(this.addData(ra.L,e,t),this._ctx&&i&&this._ctx.lineTo(e,t),i)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=n*n+a*a;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},r.prototype.bezierCurveTo=function(e,t,n,a,i,s){return this._drawPendingPt(),this.addData(ra.C,e,t,n,a,i,s),this._ctx&&this._ctx.bezierCurveTo(e,t,n,a,i,s),this._xi=i,this._yi=s,this},r.prototype.quadraticCurveTo=function(e,t,n,a){return this._drawPendingPt(),this.addData(ra.Q,e,t,n,a),this._ctx&&this._ctx.quadraticCurveTo(e,t,n,a),this._xi=n,this._yi=a,this},r.prototype.arc=function(e,t,n,a,i,s){this._drawPendingPt(),d2[0]=a,d2[1]=i,QI(d2,s),a=d2[0],i=d2[1];var o=i-a;return this.addData(ra.A,e,t,n,n,a,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,n,a,i,s),this._xi=kg(i)*n+e,this._yi=Pg(i)*n+t,this},r.prototype.arcTo=function(e,t,n,a,i){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,n,a,i),this},r.prototype.rect=function(e,t,n,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,n,a),this.addData(ra.R,e,t,n,a),this},r.prototype.closePath=function(){this._drawPendingPt(),this.addData(ra.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&e.closePath(),this._xi=t,this._yi=n,this},r.prototype.fill=function(e){e&&e.fill(),this.toStatic()},r.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},r.prototype.len=function(){return this._len},r.prototype.setData=function(e){if(this._saveData){var t=e.length;!(this.data&&this.data.length===t)&&hk&&(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t}},r.prototype.appendPath=function(e){if(this._saveData){e instanceof Array||(e=[e]);for(var t=e.length,n=0,a=this._len,i=0;i<t;i++)n+=e[i].len();var s=this.data;if(hk&&(s instanceof Float32Array||!s)&&(this.data=new Float32Array(a+n),a>0&&s))for(var o=0;o<a;o++)this.data[o]=s[o];for(var i=0;i<t;i++)for(var l=e[i].data,o=0;o<l.length;o++)this.data[a++]=l[o];this._len=a}},r.prototype.addData=function(e,t,n,a,i,s,o,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var f=0;f<arguments.length;f++)u[this._len++]=arguments[f]}},r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,hk&&this._len>11&&(this.data=new Float32Array(e)))}},r.prototype.getBoundingRect=function(){Yf[0]=Yf[1]=Xf[0]=Xf[1]=Number.MAX_VALUE,l0[0]=l0[1]=qf[0]=qf[1]=-Number.MAX_VALUE;var e=this.data,t=0,n=0,a=0,i=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],n=e[s+1],a=t,i=n),o){case ra.M:t=a=e[s++],n=i=e[s++],Xf[0]=a,Xf[1]=i,qf[0]=a,qf[1]=i;break;case ra.L:cY(t,n,e[s],e[s+1],Xf,qf),t=e[s++],n=e[s++];break;case ra.C:FPe(t,n,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],Xf,qf),t=e[s++],n=e[s++];break;case ra.Q:UPe(t,n,e[s++],e[s++],e[s],e[s+1],Xf,qf),t=e[s++],n=e[s++];break;case ra.A:var c=e[s++],u=e[s++],f=e[s++],h=e[s++],d=e[s++],v=e[s++]+d;s+=1;var g=!e[s++];l&&(a=kg(d)*f+c,i=Pg(d)*h+u),VPe(c,u,f,h,d,v,g,Xf,qf),t=kg(v)*f+c,n=Pg(v)*h+u;break;case ra.R:a=t=e[s++],i=n=e[s++];var m=e[s++],y=e[s++];cY(a,i,a+m,i+y,Xf,qf);break;case ra.Z:t=a,n=i;break}kd(Yf,Yf,Xf),Pd(l0,l0,qf)}return s===0&&(Yf[0]=Yf[1]=l0[0]=l0[1]=0),new sr(Yf[0],Yf[1],l0[0]-Yf[0],l0[1]-Yf[1])},r.prototype._calculateLength=function(){var e=this.data,t=this._len,n=this._ux,a=this._uy,i=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,f=0,h=0;h<t;){var d=e[h++],v=h===1;v&&(i=e[h],s=e[h+1],o=i,l=s);var g=-1;switch(d){case ra.M:i=o=e[h++],s=l=e[h++];break;case ra.L:{var m=e[h++],y=e[h++],b=m-i,S=y-s;(yd(b)>n||yd(S)>a||h===t-1)&&(g=Math.sqrt(b*b+S*S),i=m,s=y);break}case ra.C:{var A=e[h++],E=e[h++],m=e[h++],y=e[h++],M=e[h++],R=e[h++];g=$ke(i,s,A,E,m,y,M,R,10),i=M,s=R;break}case ra.Q:{var A=e[h++],E=e[h++],m=e[h++],y=e[h++];g=Qke(i,s,A,E,m,y,10),i=m,s=y;break}case ra.A:var L=e[h++],I=e[h++],O=e[h++],P=e[h++],k=e[h++],U=e[h++],F=U+k;h+=1,v&&(o=kg(k)*O+L,l=Pg(k)*P+I),g=fk(O,P)*uk(g0,Math.abs(U)),i=kg(F)*O+L,s=Pg(F)*P+I;break;case ra.R:{o=i=e[h++],l=s=e[h++];var q=e[h++],H=e[h++];g=q*2+H*2;break}case ra.Z:{var b=o-i,S=l-s;g=Math.sqrt(b*b+S*S),i=o,s=l;break}}g>=0&&(c[f++]=g,u+=g)}return this._pathLen=u,u},r.prototype.rebuildPath=function(e,t){var n=this.data,a=this._ux,i=this._uy,s=this._len,o,l,c,u,f,h,d=t<1,v,g,m=0,y=0,b,S=0,A,E;if(!(d&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,g=this._pathLen,b=t*g,!b)))e:for(var M=0;M<s;){var R=n[M++],L=M===1;switch(L&&(c=n[M],u=n[M+1],o=c,l=u),R!==ra.L&&S>0&&(e.lineTo(A,E),S=0),R){case ra.M:o=c=n[M++],l=u=n[M++],e.moveTo(c,u);break;case ra.L:{f=n[M++],h=n[M++];var I=yd(f-c),O=yd(h-u);if(I>a||O>i){if(d){var P=v[y++];if(m+P>b){var k=(b-m)/P;e.lineTo(c*(1-k)+f*k,u*(1-k)+h*k);break e}m+=P}e.lineTo(f,h),c=f,u=h,S=0}else{var U=I*I+O*O;U>S&&(A=f,E=h,S=U)}break}case ra.C:{var F=n[M++],q=n[M++],H=n[M++],Z=n[M++],X=n[M++],Y=n[M++];if(d){var P=v[y++];if(m+P>b){var k=(b-m)/P;rv(c,F,H,X,k,Lg),rv(u,q,Z,Y,k,Og),e.bezierCurveTo(Lg[1],Og[1],Lg[2],Og[2],Lg[3],Og[3]);break e}m+=P}e.bezierCurveTo(F,q,H,Z,X,Y),c=X,u=Y;break}case ra.Q:{var F=n[M++],q=n[M++],H=n[M++],Z=n[M++];if(d){var P=v[y++];if(m+P>b){var k=(b-m)/P;NT(c,F,H,k,Lg),NT(u,q,Z,k,Og),e.quadraticCurveTo(Lg[1],Og[1],Lg[2],Og[2]);break e}m+=P}e.quadraticCurveTo(F,q,H,Z),c=H,u=Z;break}case ra.A:var re=n[M++],W=n[M++],j=n[M++],J=n[M++],ee=n[M++],ae=n[M++],ce=n[M++],me=!n[M++],Se=j>J?j:J,we=yd(j-J)>.001,Me=ee+ae,Ve=!1;if(d){var P=v[y++];m+P>b&&(Me=ee+ae*(b-m)/P,Ve=!0),m+=P}if(we&&e.ellipse?e.ellipse(re,W,j,J,ce,ee,Me,me):e.arc(re,W,Se,ee,Me,me),Ve)break e;L&&(o=kg(ee)*j+re,l=Pg(ee)*J+W),c=kg(Me)*j+re,u=Pg(Me)*J+W;break;case ra.R:o=c=n[M],l=u=n[M+1],f=n[M++],h=n[M++];var de=n[M++],dt=n[M++];if(d){var P=v[y++];if(m+P>b){var K=b-m;e.moveTo(f,h),e.lineTo(f+uk(K,de),h),K-=de,K>0&&e.lineTo(f+de,h+uk(K,dt)),K-=dt,K>0&&e.lineTo(f+fk(de-K,0),h+dt),K-=de,K>0&&e.lineTo(f,h+fk(dt-K,0));break e}m+=P}e.rect(f,h,de,dt);break;case ra.Z:if(d){var P=v[y++];if(m+P>b){var k=(b-m)/P;e.lineTo(c*(1-k)+o*k,u*(1-k)+l*k);break e}m+=P}e.closePath(),c=o,u=l}}},r.prototype.clone=function(){var e=new r,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},r.prototype.canSave=function(){return!!this._saveData},r.CMD=ra,r.initDefaultProps=(function(){var e=r.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),r})();function x0(r,e,t,n,a,i,s){if(a===0)return!1;var o=a,l=0,c=r;if(s>e+o&&s>n+o||s<e-o&&s<n-o||i>r+o&&i>t+o||i<r-o&&i<t-o)return!1;if(r!==t)l=(e-n)/(r-t),c=(r*n-t*e)/(r-t);else return Math.abs(i-r)<=o/2;var u=l*i-s+c,f=u*u/(l*l+1);return f<=o/2*o/2}function HPe(r,e,t,n,a,i,s,o,l,c,u){if(l===0)return!1;var f=l;if(u>e+f&&u>n+f&&u>i+f&&u>o+f||u<e-f&&u<n-f&&u<i-f&&u<o-f||c>r+f&&c>t+f&&c>a+f&&c>s+f||c<r-f&&c<t-f&&c<a-f&&c<s-f)return!1;var h=tie(r,e,t,n,a,i,s,o,c,u,null);return h<=f/2}function Uie(r,e,t,n,a,i,s,o,l){if(s===0)return!1;var c=s;if(l>e+c&&l>n+c&&l>i+c||l<e-c&&l<n-c&&l<i-c||o>r+c&&o>t+c&&o>a+c||o<r-c&&o<t-c&&o<a-c)return!1;var u=nie(r,e,t,n,a,i,o,l,null);return u<=c/2}var hY=Math.PI*2;function ec(r){return r%=hY,r<0&&(r+=hY),r}var p2=Math.PI*2;function GPe(r,e,t,n,a,i,s,o,l){if(s===0)return!1;var c=s;o-=r,l-=e;var u=Math.sqrt(o*o+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(n-a)%p2<1e-4)return!0;if(i){var f=n;n=ec(a),a=ec(f)}else n=ec(n),a=ec(a);n>a&&(a+=p2);var h=Math.atan2(l,o);return h<0&&(h+=p2),h>=n&&h<=a||h+p2>=n&&h+p2<=a}function Md(r,e,t,n,a,i){if(i>e&&i>n||i<e&&i<n||n===e)return 0;var s=(i-e)/(n-e),o=n<e?1:-1;(s===1||s===0)&&(o=n<e?.5:-.5);var l=s*(t-r)+r;return l===a?1/0:l>a?o:0}var c0=Th.CMD,Bg=Math.PI*2,jPe=1e-4;function WPe(r,e){return Math.abs(r-e)<jPe}var Yo=[-1,-1,-1],Hc=[-1,-1];function YPe(){var r=Hc[0];Hc[0]=Hc[1],Hc[1]=r}function XPe(r,e,t,n,a,i,s,o,l,c){if(c>e&&c>n&&c>i&&c>o||c<e&&c<n&&c<i&&c<o)return 0;var u=zR(e,n,i,o,c,Yo);if(u===0)return 0;for(var f=0,h=-1,d=void 0,v=void 0,g=0;g<u;g++){var m=Yo[g],y=m===0||m===1?.5:1,b=Yi(r,t,a,s,m);b<l||(h<0&&(h=eie(e,n,i,o,Hc),Hc[1]<Hc[0]&&h>1&&YPe(),d=Yi(e,n,i,o,Hc[0]),h>1&&(v=Yi(e,n,i,o,Hc[1]))),h===2?m<Hc[0]?f+=d<e?y:-y:m<Hc[1]?f+=v<d?y:-y:f+=o<v?y:-y:m<Hc[0]?f+=d<e?y:-y:f+=o<d?y:-y)}return f}function qPe(r,e,t,n,a,i,s,o){if(o>e&&o>n&&o>i||o<e&&o<n&&o<i)return 0;var l=Jke(e,n,i,o,Yo);if(l===0)return 0;var c=rie(e,n,i);if(c>=0&&c<=1){for(var u=0,f=_s(e,n,i,c),h=0;h<l;h++){var d=Yo[h]===0||Yo[h]===1?.5:1,v=_s(r,t,a,Yo[h]);v<s||(Yo[h]<c?u+=f<e?d:-d:u+=i<f?d:-d)}return u}else{var d=Yo[0]===0||Yo[0]===1?.5:1,v=_s(r,t,a,Yo[0]);return v<s?0:i<e?d:-d}}function ZPe(r,e,t,n,a,i,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);Yo[0]=-l,Yo[1]=l;var c=Math.abs(n-a);if(c<1e-4)return 0;if(c>=Bg-1e-4){n=0,a=Bg;var u=i?1:-1;return s>=Yo[0]+r&&s<=Yo[1]+r?u:0}if(n>a){var f=n;n=a,a=f}n<0&&(n+=Bg,a+=Bg);for(var h=0,d=0;d<2;d++){var v=Yo[d];if(v+r>s){var g=Math.atan2(o,v),u=i?1:-1;g<0&&(g=Bg+g),(g>=n&&g<=a||g+Bg>=n&&g+Bg<=a)&&(g>Math.PI/2&&g<Math.PI*1.5&&(u=-u),h+=u)}}return h}function Vie(r,e,t,n,a){for(var i=r.data,s=r.len(),o=0,l=0,c=0,u=0,f=0,h,d,v=0;v<s;){var g=i[v++],m=v===1;switch(g===c0.M&&v>1&&(t||(o+=Md(l,c,u,f,n,a))),m&&(l=i[v],c=i[v+1],u=l,f=c),g){case c0.M:u=i[v++],f=i[v++],l=u,c=f;break;case c0.L:if(t){if(x0(l,c,i[v],i[v+1],e,n,a))return!0}else o+=Md(l,c,i[v],i[v+1],n,a)||0;l=i[v++],c=i[v++];break;case c0.C:if(t){if(HPe(l,c,i[v++],i[v++],i[v++],i[v++],i[v],i[v+1],e,n,a))return!0}else o+=XPe(l,c,i[v++],i[v++],i[v++],i[v++],i[v],i[v+1],n,a)||0;l=i[v++],c=i[v++];break;case c0.Q:if(t){if(Uie(l,c,i[v++],i[v++],i[v],i[v+1],e,n,a))return!0}else o+=qPe(l,c,i[v++],i[v++],i[v],i[v+1],n,a)||0;l=i[v++],c=i[v++];break;case c0.A:var y=i[v++],b=i[v++],S=i[v++],A=i[v++],E=i[v++],M=i[v++];v+=1;var R=!!(1-i[v++]);h=Math.cos(E)*S+y,d=Math.sin(E)*A+b,m?(u=h,f=d):o+=Md(l,c,h,d,n,a);var L=(n-y)*A/S+y;if(t){if(GPe(y,b,A,E,E+M,R,e,L,a))return!0}else o+=ZPe(y,b,A,E,E+M,R,L,a);l=Math.cos(E+M)*S+y,c=Math.sin(E+M)*A+b;break;case c0.R:u=l=i[v++],f=c=i[v++];var I=i[v++],O=i[v++];if(h=u+I,d=f+O,t){if(x0(u,f,h,f,e,n,a)||x0(h,f,h,d,e,n,a)||x0(h,d,u,d,e,n,a)||x0(u,d,u,f,e,n,a))return!0}else o+=Md(h,f,h,d,n,a),o+=Md(u,d,u,f,n,a);break;case c0.Z:if(t){if(x0(l,c,u,f,e,n,a))return!0}else o+=Md(l,c,u,f,n,a);l=u,c=f;break}}return!t&&!WPe(c,f)&&(o+=Md(l,c,u,f,n,a)||0),o!==0}function KPe(r,e,t){return Vie(r,0,!1,e,t)}function $Pe(r,e,t,n){return Vie(r,e,!0,t,n)}var YR=rr({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Nm),JPe={style:rr({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},$I.style)},pk=Sh.concat(["invisible","culling","z","z2","zlevel","parent"]),Fr=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.update=function(){var t=this;r.prototype.update.call(this);var n=this.style;if(n.decal){var a=this._decalEl=this._decalEl||new e;a.buildPath===e.prototype.buildPath&&(a.buildPath=function(l){t.buildPath(l,t.shape)}),a.silent=!0;var i=a.style;for(var s in n)i[s]!==n[s]&&(i[s]=n[s]);i.fill=n.fill?n.decal:null,i.decal=null,i.shadowColor=null,n.strokeFirst&&(i.stroke=null);for(var o=0;o<pk.length;++o)a[pk[o]]=this[pk[o]];a.__dirty|=Zl}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var n=Yr(t);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var i=0;i<n.length;i++){var s=n[i],o=t[s];s==="style"?this.style?nt(this.style,o):this.useStyle(o):s==="shape"?nt(this.shape,o):r.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(It(t)){var n=OT(t,0);return n>.5?T6:n>.2?R5e:A6}else if(t)return A6}return T6},e.prototype.getInsideTextStroke=function(t){var n=this.style.fill;if(It(n)){var a=this.__zr,i=!!(a&&a.isDarkMode()),s=OT(t,0)<w6;if(i===s)return n}},e.prototype.buildPath=function(t,n,a){},e.prototype.pathUpdated=function(){this.__dirty&=~I1},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new Th(!1)},e.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return!(n==null||n==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,a=!t;if(a){var i=!1;this.path||(i=!0,this.createPathProxy());var s=this.path;(i||this.__dirty&I1)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||a){o.copy(t);var l=n.strokeNoScale?this.getLineScale():1,c=n.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(o.width+=c/l,o.height+=c/l,o.x-=c/l/2,o.y-=c/l/2)}return o}return t},e.prototype.contain=function(t,n){var a=this.transformCoordToLocal(t,n),i=this.getBoundingRect(),s=this.style;if(t=a[0],n=a[1],i.contain(t,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,c=s.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),$Pe(o,l/c,t,n)))return!0}if(this.hasFill())return KPe(o,t,n)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=I1,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,n){t==="shape"?this.setShape(n):r.prototype.attrKV.call(this,t,n)},e.prototype.setShape=function(t,n){var a=this.shape;return a||(a=this.shape={}),typeof t=="string"?a[t]=n:nt(a,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&I1)},e.prototype.createStyle=function(t){return OA(YR,t)},e.prototype._innerSaveToNormal=function(t){r.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=nt({},this.shape))},e.prototype._applyStateObj=function(t,n,a,i,s,o){r.prototype._applyStateObj.call(this,t,n,a,i,s,o);var l=!(n&&i),c;if(n&&n.shape?s?i?c=n.shape:(c=nt({},a.shape),nt(c,n.shape)):(c=nt({},i?this.shape:a.shape),nt(c,n.shape)):l&&(c=a.shape),c)if(s){this.shape=nt({},this.shape);for(var u={},f=Yr(c),h=0;h<f.length;h++){var d=f[h];typeof c[d]=="object"?this.shape[d]=c[d]:u[d]=c[d]}this._transitionState(t,{shape:u},o)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var n=r.prototype._mergeStates.call(this,t),a,i=0;i<t.length;i++){var s=t[i];s.shape&&(a=a||{},this._mergeStyle(a,s.shape))}return a&&(n.shape=a),n},e.prototype.getAnimationStyleProps=function(){return JPe},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=(function(i){ga(s,i);function s(o){var l=i.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return Qt(t.style)},s.prototype.getDefaultShape=function(){return Qt(t.shape)},s})(e);for(var a in t)typeof t[a]=="function"&&(n.prototype[a]=t[a]);return n},e.initDefaultProps=(function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=Zl|Q2|I1})(),e})(eu),QPe=rr({strokeFirst:!0,font:tp,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},YR),E_=(function(r){ga(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.hasStroke=function(){return Fie(this.style)},e.prototype.hasFill=function(){var t=this.style,n=t.fill;return n!=null&&n!=="none"},e.prototype.createStyle=function(t){return OA(QPe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){return this._rect||(this._rect=PPe(this.style)),this._rect},e.initDefaultProps=(function(){var t=e.prototype;t.dirtyRectTolerance=10})(),e})(eu);E_.prototype.type="tspan";var e6e=rr({x:0,y:0},Nm),t6e={style:rr({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},$I.style)};function r6e(r){return!!(r&&typeof r!="string"&&r.width&&r.height)}var ns=(function(r){ga(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return OA(e6e,t)},e.prototype._getSize=function(t){var n=this.style,a=n[t];if(a!=null)return a;var i=r6e(n.image)?n.image:this.__image;if(!i)return 0;var s=t==="width"?"height":"width",o=n[s];return o==null?i[t]:i[t]/i[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return t6e},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new sr(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e})(eu);ns.prototype.type="image";function n6e(r,e){var t=e.x,n=e.y,a=e.width,i=e.height,s=e.r,o,l,c,u;a<0&&(t=t+a,a=-a),i<0&&(n=n+i,i=-i),typeof s=="number"?o=l=c=u=s:s instanceof Array?s.length===1?o=l=c=u=s[0]:s.length===2?(o=c=s[0],l=u=s[1]):s.length===3?(o=s[0],l=u=s[1],c=s[2]):(o=s[0],l=s[1],c=s[2],u=s[3]):o=l=c=u=0;var f;o+l>a&&(f=o+l,o*=a/f,l*=a/f),c+u>a&&(f=c+u,c*=a/f,u*=a/f),l+c>i&&(f=l+c,l*=i/f,c*=i/f),o+u>i&&(f=o+u,o*=i/f,u*=i/f),r.moveTo(t+o,n),r.lineTo(t+a-l,n),l!==0&&r.arc(t+a-l,n+l,l,-Math.PI/2,0),r.lineTo(t+a,n+i-c),c!==0&&r.arc(t+a-c,n+i-c,c,0,Math.PI/2),r.lineTo(t+u,n+i),u!==0&&r.arc(t+u,n+i-u,u,Math.PI/2,Math.PI),r.lineTo(t,n+o),o!==0&&r.arc(t+o,n+o,o,Math.PI,Math.PI*1.5)}var G1=Math.round;function eL(r,e,t){if(e){var n=e.x1,a=e.x2,i=e.y1,s=e.y2;r.x1=n,r.x2=a,r.y1=i,r.y2=s;var o=t&&t.lineWidth;return o&&(G1(n*2)===G1(a*2)&&(r.x1=r.x2=tc(n,o,!0)),G1(i*2)===G1(s*2)&&(r.y1=r.y2=tc(i,o,!0))),r}}function Hie(r,e,t){if(e){var n=e.x,a=e.y,i=e.width,s=e.height;r.x=n,r.y=a,r.width=i,r.height=s;var o=t&&t.lineWidth;return o&&(r.x=tc(n,o,!0),r.y=tc(a,o,!0),r.width=Math.max(tc(n+i,o,!1)-r.x,i===0?0:1),r.height=Math.max(tc(a+s,o,!1)-r.y,s===0?0:1)),r}}function tc(r,e,t){if(!e)return r;var n=G1(r*2);return(n+G1(e))%2===0?n/2:(n+(t?1:-1))/2}var a6e=(function(){function r(){this.x=0,this.y=0,this.width=0,this.height=0}return r})(),i6e={},Nr=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new a6e},e.prototype.buildPath=function(t,n){var a,i,s,o;if(this.subPixelOptimize){var l=Hie(i6e,n,this.style);a=l.x,i=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else a=n.x,i=n.y,s=n.width,o=n.height;n.r?n6e(t,n):t.rect(a,i,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})(Fr);Nr.prototype.type="rect";var dY={fill:"#000"},pY=2,Zf={},s6e={style:rr({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},$I.style)},Kr=(function(r){ga(e,r);function e(t){var n=r.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=dY,n.attr(t),n}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):r.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):r.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),r.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,c6e(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){r.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},e.prototype.removeSelfFromZr=function(t){r.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new sr(0,0,0,0),n=this._children,a=[],i=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),c=o.getLocalTransform(a);c?(t.copy(l),t.applyTransform(c),i=i||t.clone(),i.union(t)):(i=i||l.clone(),i.union(l))}this._rect=i||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||dY},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,n){if(!n)return t;var a=n.rich,i=t.rich||a&&{};return nt(t,n),a&&i?(this._mergeRich(i,a),t.rich=i):i&&(t.rich=i),t},e.prototype._mergeRich=function(t,n){for(var a=Yr(n),i=0;i<a.length;i++){var s=a[i];t[s]=t[s]||{},nt(t[s],n[s])}},e.prototype.getAnimationStyleProps=function(){return s6e},e.prototype._getOrCreateChild=function(t){var n=this._children[this._childCursor];return(!n||!(n instanceof t))&&(n=new t),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},e.prototype._updatePlainTexts=function(){var t=this.style,n=t.font||tp,a=t.padding,i=this._defaultStyle,s=t.x||0,o=t.y||0,l=t.align||i.align||"left",c=t.verticalAlign||i.verticalAlign||"top";iY(Zf,i.overflowRect,s,o,l,c),s=Zf.baseX,o=Zf.baseY;var u=bY(t),f=DPe(u,t,Zf.outerWidth,Zf.outerHeight),h=vk(t),d=!!t.backgroundColor,v=f.outerHeight,g=f.outerWidth,m=f.lines,y=f.lineHeight;this.isTruncated=!!f.isTruncated;var b=s,S=Rm(o,f.contentHeight,c);if(h||a){var A=T_(s,g,l),E=Rm(o,v,c);h&&this._renderBackground(t,t,A,E,g,v)}S+=y/2,a&&(b=_Y(s,l,a),c==="top"?S+=a[0]:c==="bottom"&&(S-=a[2]));for(var M=0,R=!1,L=!1,I=xY("fill"in t?t.fill:(L=!0,i.fill)),O=yY("stroke"in t?t.stroke:!d&&(!i.autoStroke||L)?(M=pY,R=!0,i.stroke):null),P=t.textShadowBlur>0,k=0;k<m.length;k++){var U=this._getOrCreateChild(E_),F=U.createStyle();U.useStyle(F),F.text=m[k],F.x=b,F.y=S,F.textAlign=l,F.textBaseline="middle",F.opacity=t.opacity,F.strokeFirst=!0,P&&(F.shadowBlur=t.textShadowBlur||0,F.shadowColor=t.textShadowColor||"transparent",F.shadowOffsetX=t.textShadowOffsetX||0,F.shadowOffsetY=t.textShadowOffsetY||0),F.stroke=O,F.fill=I,O&&(F.lineWidth=t.lineWidth||M,F.lineDash=t.lineDash,F.lineDashOffset=t.lineDashOffset||0),F.font=n,gY(F,t),S+=y,U.setBoundingRect(I6(F,f.contentWidth,f.calculatedLineHeight,R?0:null))}},e.prototype._updateRichTexts=function(){var t=this.style,n=this._defaultStyle,a=t.align||n.align,i=t.verticalAlign||n.verticalAlign,s=t.x||0,o=t.y||0;iY(Zf,n.overflowRect,s,o,a,i),s=Zf.baseX,o=Zf.baseY;var l=bY(t),c=IPe(l,t,Zf.outerWidth,Zf.outerHeight,a),u=c.width,f=c.outerWidth,h=c.outerHeight,d=t.padding;this.isTruncated=!!c.isTruncated;var v=T_(s,f,a),g=Rm(o,h,i),m=v,y=g;d&&(m+=d[3],y+=d[0]);var b=m+u;vk(t)&&this._renderBackground(t,t,v,g,f,h);for(var S=!!t.backgroundColor,A=0;A<c.lines.length;A++){for(var E=c.lines[A],M=E.tokens,R=M.length,L=E.lineHeight,I=E.width,O=0,P=m,k=b,U=R-1,F=void 0;O<R&&(F=M[O],!F.align||F.align==="left");)this._placeToken(F,t,L,y,P,"left",S),I-=F.width,P+=F.width,O++;for(;U>=0&&(F=M[U],F.align==="right");)this._placeToken(F,t,L,y,k,"right",S),I-=F.width,k-=F.width,U--;for(P+=(u-(P-m)-(b-k)-I)/2;O<=U;)F=M[O],this._placeToken(F,t,L,y,P+F.width/2,"center",S),P+=F.width,O++;y+=L}},e.prototype._placeToken=function(t,n,a,i,s,o,l){var c=n.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,f=i+a/2;u==="top"?f=i+t.height/2:u==="bottom"&&(f=i+a-t.height/2);var h=!t.isLineHolder&&vk(c);h&&this._renderBackground(c,n,o==="right"?s-t.width:o==="center"?s-t.width/2:s,f-t.height/2,t.width,t.height);var d=!!c.backgroundColor,v=t.textPadding;v&&(s=_Y(s,o,v),f-=t.height/2-v[0]-t.innerHeight/2);var g=this._getOrCreateChild(E_),m=g.createStyle();g.useStyle(m);var y=this._defaultStyle,b=!1,S=0,A=!1,E=xY("fill"in c?c.fill:"fill"in n?n.fill:(b=!0,y.fill)),M=yY("stroke"in c?c.stroke:"stroke"in n?n.stroke:!d&&!l&&(!y.autoStroke||b)?(S=pY,A=!0,y.stroke):null),R=c.textShadowBlur>0||n.textShadowBlur>0;m.text=t.text,m.x=s,m.y=f,R&&(m.shadowBlur=c.textShadowBlur||n.textShadowBlur||0,m.shadowColor=c.textShadowColor||n.textShadowColor||"transparent",m.shadowOffsetX=c.textShadowOffsetX||n.textShadowOffsetX||0,m.shadowOffsetY=c.textShadowOffsetY||n.textShadowOffsetY||0),m.textAlign=o,m.textBaseline="middle",m.font=t.font||tp,m.opacity=El(c.opacity,n.opacity,1),gY(m,c),M&&(m.lineWidth=El(c.lineWidth,n.lineWidth,S),m.lineDash=Gt(c.lineDash,n.lineDash),m.lineDashOffset=n.lineDashOffset||0,m.stroke=M),E&&(m.fill=E),g.setBoundingRect(I6(m,t.contentWidth,t.contentHeight,A?0:null))},e.prototype._renderBackground=function(t,n,a,i,s,o){var l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,f=l&&l.image,h=l&&!f,d=t.borderRadius,v=this,g,m;if(h||t.lineHeight||c&&u){g=this._getOrCreateChild(Nr),g.useStyle(g.createStyle()),g.style.fill=null;var y=g.shape;y.x=a,y.y=i,y.width=s,y.height=o,y.r=d,g.dirtyShape()}if(h){var b=g.style;b.fill=l||null,b.fillOpacity=Gt(t.fillOpacity,1)}else if(f){m=this._getOrCreateChild(ns),m.onload=function(){v.dirtyStyle()};var S=m.style;S.image=l.image,S.x=a,S.y=i,S.width=s,S.height=o}if(c&&u){var b=g.style;b.lineWidth=c,b.stroke=u,b.strokeOpacity=Gt(t.strokeOpacity,1),b.lineDash=t.borderDash,b.lineDashOffset=t.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var A=(g||m).style;A.shadowBlur=t.shadowBlur||0,A.shadowColor=t.shadowColor||"transparent",A.shadowOffsetX=t.shadowOffsetX||0,A.shadowOffsetY=t.shadowOffsetY||0,A.opacity=El(t.opacity,n.opacity,1)},e.makeFont=function(t){var n="";return jie(t)&&(n=[t.fontStyle,t.fontWeight,Gie(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),n&&Jl(n)||t.textFont||t.font},e})(eu),o6e={left:!0,right:1,center:1},l6e={top:1,bottom:1,middle:1},vY=["fontStyle","fontWeight","fontSize","fontFamily"];function Gie(r){return typeof r=="string"&&(r.indexOf("px")!==-1||r.indexOf("rem")!==-1||r.indexOf("em")!==-1)?r:isNaN(+r)?$z+"px":r+"px"}function gY(r,e){for(var t=0;t<vY.length;t++){var n=vY[t],a=e[n];a!=null&&(r[n]=a)}}function jie(r){return r.fontSize!=null||r.fontFamily||r.fontWeight}function c6e(r){return mY(r),te(r.rich,mY),r}function mY(r){if(r){r.font=Kr.makeFont(r);var e=r.align;e==="middle"&&(e="center"),r.align=e==null||o6e[e]?e:"left";var t=r.verticalAlign;t==="center"&&(t="middle"),r.verticalAlign=t==null||l6e[t]?t:"top";var n=r.padding;n&&(r.padding=LA(r.padding))}}function yY(r,e){return r==null||e<=0||r==="transparent"||r==="none"?null:r.image||r.colorStops?"#000":r}function xY(r){return r==null||r==="none"?null:r.image||r.colorStops?"#000":r}function _Y(r,e,t){return e==="right"?r-t[1]:e==="center"?r+t[3]/2-t[1]/2:r+t[3]}function bY(r){var e=r.text;return e!=null&&(e+=""),e}function vk(r){return!!(r.backgroundColor||r.lineHeight||r.borderWidth&&r.borderColor)}var or=Pr(),k6=function(r,e,t,n){if(n){var a=or(n);a.dataIndex=t,a.dataType=e,a.seriesIndex=r,a.ssrType="chart",n.type==="group"&&n.traverse(function(i){var s=or(i);s.seriesIndex=r,s.dataIndex=t,s.dataType=e,s.ssrType="chart"})}},SY=1,wY={},Wie=Pr(),yF=Pr(),xF=0,zA=1,tL=2,nl=["emphasis","blur","select"],BT=["normal","emphasis","blur","select"],nb=10,u6e=9,Im="highlight",nD="downplay",XR="select",P6="unselect",qR="toggleSelect",_F="selectchanged";function o1(r){return r!=null&&r!=="none"}function rL(r,e,t){r.onHoverStateChange&&(r.hoverState||0)!==t&&r.onHoverStateChange(e),r.hoverState=t}function Yie(r){rL(r,"emphasis",tL)}function Xie(r){r.hoverState===tL&&rL(r,"normal",xF)}function bF(r){rL(r,"blur",zA)}function qie(r){r.hoverState===zA&&rL(r,"normal",xF)}function f6e(r){r.selected=!0}function h6e(r){r.selected=!1}function TY(r,e,t){e(r,t)}function fp(r,e,t){TY(r,e,t),r.isGroup&&r.traverse(function(n){TY(n,e,t)})}function ZR(r,e){switch(e){case"emphasis":r.hoverState=tL;break;case"normal":r.hoverState=xF;break;case"blur":r.hoverState=zA;break;case"select":r.selected=!0}}function d6e(r,e,t,n){for(var a=r.style,i={},s=0;s<e.length;s++){var o=e[s],l=a[o];i[o]=l??(n&&n[o])}for(var s=0;s<r.animators.length;s++){var c=r.animators[s];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&c.targetName==="style"&&c.saveTo(i,e)}return i}function p6e(r,e,t,n){var a=t&&br(t,"select")>=0,i=!1;if(r instanceof Fr){var s=Wie(r),o=a&&s.selectFill||s.normalFill,l=a&&s.selectStroke||s.normalStroke;if(o1(o)||o1(l)){n=n||{};var c=n.style||{};c.fill==="inherit"?(i=!0,n=nt({},n),c=nt({},c),c.fill=o):!o1(c.fill)&&o1(o)?(i=!0,n=nt({},n),c=nt({},c),c.fill=UR(o)):!o1(c.stroke)&&o1(l)&&(i||(n=nt({},n),c=nt({},c)),c.stroke=UR(l)),n.style=c}}if(n&&n.z2==null){i||(n=nt({},n));var u=r.z2EmphasisLift;n.z2=r.z2+(u??nb)}return n}function v6e(r,e,t){if(t&&t.z2==null){t=nt({},t);var n=r.z2SelectLift;t.z2=r.z2+(n??u6e)}return t}function g6e(r,e,t){var n=br(r.currentStates,e)>=0,a=r.style.opacity,i=n?null:d6e(r,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=nt({},t),s=nt({opacity:n?a:i.opacity*.1},s),t.style=s),t}function gk(r,e){var t=this.states[r];if(this.style){if(r==="emphasis")return p6e(this,r,e,t);if(r==="blur")return g6e(this,r,t);if(r==="select")return v6e(this,r,t)}return t}function Zm(r){r.stateProxy=gk;var e=r.getTextContent(),t=r.getTextGuideLine();e&&(e.stateProxy=gk),t&&(t.stateProxy=gk)}function AY(r,e){!Jie(r,e)&&!r.__highByOuter&&fp(r,Yie)}function EY(r,e){!Jie(r,e)&&!r.__highByOuter&&fp(r,Xie)}function np(r,e){r.__highByOuter|=1<<(e||0),fp(r,Yie)}function ap(r,e){!(r.__highByOuter&=~(1<<(e||0)))&&fp(r,Xie)}function Zie(r){fp(r,bF)}function SF(r){fp(r,qie)}function Kie(r){fp(r,f6e)}function $ie(r){fp(r,h6e)}function Jie(r,e){return r.__highDownSilentOnTouch&&e.zrByTouch}function Qie(r){var e=r.getModel(),t=[],n=[];e.eachComponent(function(a,i){var s=yF(i),o=a==="series",l=o?r.getViewOfSeriesModel(i):r.getViewOfComponentModel(i);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(c){qie(c)}),o&&t.push(i)),s.isBlured=!1}),te(n,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(t,!1,e)})}function B6(r,e,t,n){var a=n.getModel();t=t||"coordinateSystem";function i(c,u){for(var f=0;f<u.length;f++){var h=c.getItemGraphicEl(u[f]);h&&SF(h)}}if(r!=null&&!(!e||e==="none")){var s=a.getSeriesByIndex(r),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];a.eachSeries(function(c){var u=s===c,f=c.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&o?f===o:u;if(!(t==="series"&&!u||t==="coordinateSystem"&&!h||e==="series"&&u)){var d=n.getViewOfSeriesModel(c);if(d.group.traverse(function(m){m.__highByOuter&&u&&e==="self"||bF(m)}),Vs(e))i(c.getData(),e);else if(nr(e))for(var v=Yr(e),g=0;g<v.length;g++)i(c.getData(v[g]),e[v[g]]);l.push(c),yF(c).isBlured=!0}}),a.eachComponent(function(c,u){if(c!=="series"){var f=n.getViewOfComponentModel(u);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,a)}})}}function z6(r,e,t){if(!(r==null||e==null)){var n=t.getModel().getComponent(r,e);if(n){yF(n).isBlured=!0;var a=t.getViewOfComponentModel(n);!a||!a.focusBlurEnabled||a.group.traverse(function(i){bF(i)})}}}function m6e(r,e,t){var n=r.seriesIndex,a=r.getData(e.dataType);if(a){var i=Xm(a,e);i=(ct(i)?i[0]:i)||0;var s=a.getItemGraphicEl(i);if(!s)for(var o=a.count(),l=0;!s&&l<o;)s=a.getItemGraphicEl(l++);if(s){var c=or(s);B6(n,c.focus,c.blurScope,t)}else{var u=r.get(["emphasis","focus"]),f=r.get(["emphasis","blurScope"]);u!=null&&B6(n,u,f,t)}}}function wF(r,e,t,n){var a={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||e==null||t==null)return a;var i=n.getModel().getComponent(r,e);if(!i)return a;var s=n.getViewOfComponentModel(i);if(!s||!s.findHighDownDispatchers)return a;for(var o=s.findHighDownDispatchers(t),l,c=0;c<o.length;c++)if(or(o[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function y6e(r,e,t){var n=or(r),a=wF(n.componentMainType,n.componentIndex,n.componentHighDownName,t),i=a.dispatchers,s=a.focusSelf;i?(s&&z6(n.componentMainType,n.componentIndex,t),te(i,function(o){return AY(o,e)})):(B6(n.seriesIndex,n.focus,n.blurScope,t),n.focus==="self"&&z6(n.componentMainType,n.componentIndex,t),AY(r,e))}function x6e(r,e,t){Qie(t);var n=or(r),a=wF(n.componentMainType,n.componentIndex,n.componentHighDownName,t).dispatchers;a?te(a,function(i){return EY(i,e)}):EY(r,e)}function _6e(r,e,t){if(U6(e)){var n=e.dataType,a=r.getData(n),i=Xm(a,e);ct(i)||(i=[i]),r[e.type===qR?"toggleSelect":e.type===XR?"select":"unselect"](i,n)}}function MY(r){var e=r.getAllData();te(e,function(t){var n=t.data,a=t.type;n.eachItemGraphicEl(function(i,s){r.isSelected(s,a)?Kie(i):$ie(i)})})}function b6e(r){var e=[];return r.eachSeries(function(t){var n=t.getAllData();te(n,function(a){a.data;var i=a.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};i!=null&&(o.dataType=i),e.push(o)}})}),e}function G0(r,e,t){xm(r,!0),fp(r,Zm),F6(r,e,t)}function S6e(r){xm(r,!1)}function Sa(r,e,t,n){n?S6e(r):G0(r,e,t)}function F6(r,e,t){var n=or(r);e!=null?(n.focus=e,n.blurScope=t):n.focus&&(n.focus=null)}var CY=["emphasis","blur","select"],w6e={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Oi(r,e,t,n){t=t||"itemStyle";for(var a=0;a<CY.length;a++){var i=CY[a],s=e.getModel([i,t]),o=r.ensureState(i);o.style=n?n(s):s[w6e[t]]()}}function xm(r,e){var t=e===!1,n=r;r.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=r.highDownSilentOnTouch),(!t||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!t)}function zT(r){return!!(r&&r.__highDownDispatcher)}function T6e(r,e,t){var n=or(r);n.componentMainType=e.mainType,n.componentIndex=e.componentIndex,n.componentHighDownName=t}function A6e(r){var e=wY[r];return e==null&&SY<=32&&(e=wY[r]=SY++),e}function U6(r){var e=r.type;return e===XR||e===P6||e===qR}function DY(r){var e=r.type;return e===Im||e===nD}function E6e(r){var e=Wie(r);e.normalFill=r.style.fill,e.normalStroke=r.style.stroke;var t=r.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var l1=Th.CMD,M6e=[[],[],[]],RY=Math.sqrt,C6e=Math.atan2;function ese(r,e){if(e){var t=r.data,n=r.len(),a,i,s,o,l,c,u=l1.M,f=l1.C,h=l1.L,d=l1.R,v=l1.A,g=l1.Q;for(s=0,o=0;s<n;){switch(a=t[s++],o=s,i=0,a){case u:i=1;break;case h:i=1;break;case f:i=3;break;case g:i=2;break;case v:var m=e[4],y=e[5],b=RY(e[0]*e[0]+e[1]*e[1]),S=RY(e[2]*e[2]+e[3]*e[3]),A=C6e(-e[1]/S,e[0]/b);t[s]*=b,t[s++]+=m,t[s]*=S,t[s++]+=y,t[s++]*=b,t[s++]*=S,t[s++]+=A,t[s++]+=A,s+=2,o=s;break;case d:c[0]=t[s++],c[1]=t[s++],Ya(c,c,e),t[o++]=c[0],t[o++]=c[1],c[0]+=t[s++],c[1]+=t[s++],Ya(c,c,e),t[o++]=c[0],t[o++]=c[1]}for(l=0;l<i;l++){var E=M6e[l];E[0]=t[s++],E[1]=t[s++],Ya(E,E,e),t[o++]=E[0],t[o++]=E[1]}}r.increaseVersion()}}var mk=Math.sqrt,HC=Math.sin,GC=Math.cos,v2=Math.PI;function NY(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function V6(r,e){return(r[0]*e[0]+r[1]*e[1])/(NY(r)*NY(e))}function IY(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(V6(r,e))}function LY(r,e,t,n,a,i,s,o,l,c,u){var f=l*(v2/180),h=GC(f)*(r-t)/2+HC(f)*(e-n)/2,d=-1*HC(f)*(r-t)/2+GC(f)*(e-n)/2,v=h*h/(s*s)+d*d/(o*o);v>1&&(s*=mk(v),o*=mk(v));var g=(a===i?-1:1)*mk((s*s*(o*o)-s*s*(d*d)-o*o*(h*h))/(s*s*(d*d)+o*o*(h*h)))||0,m=g*s*d/o,y=g*-o*h/s,b=(r+t)/2+GC(f)*m-HC(f)*y,S=(e+n)/2+HC(f)*m+GC(f)*y,A=IY([1,0],[(h-m)/s,(d-y)/o]),E=[(h-m)/s,(d-y)/o],M=[(-1*h-m)/s,(-1*d-y)/o],R=IY(E,M);if(V6(E,M)<=-1&&(R=v2),V6(E,M)>=1&&(R=0),R<0){var L=Math.round(R/v2*1e6)/1e6;R=v2*2+L%2*v2}u.addData(c,b,S,s,o,A,R,f,i)}var D6e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,R6e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function N6e(r){var e=new Th;if(!r)return e;var t=0,n=0,a=t,i=n,s,o=Th.CMD,l=r.match(D6e);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],f=u.charAt(0),h=void 0,d=u.match(R6e)||[],v=d.length,g=0;g<v;g++)d[g]=parseFloat(d[g]);for(var m=0;m<v;){var y=void 0,b=void 0,S=void 0,A=void 0,E=void 0,M=void 0,R=void 0,L=t,I=n,O=void 0,P=void 0;switch(f){case"l":t+=d[m++],n+=d[m++],h=o.L,e.addData(h,t,n);break;case"L":t=d[m++],n=d[m++],h=o.L,e.addData(h,t,n);break;case"m":t+=d[m++],n+=d[m++],h=o.M,e.addData(h,t,n),a=t,i=n,f="l";break;case"M":t=d[m++],n=d[m++],h=o.M,e.addData(h,t,n),a=t,i=n,f="L";break;case"h":t+=d[m++],h=o.L,e.addData(h,t,n);break;case"H":t=d[m++],h=o.L,e.addData(h,t,n);break;case"v":n+=d[m++],h=o.L,e.addData(h,t,n);break;case"V":n=d[m++],h=o.L,e.addData(h,t,n);break;case"C":h=o.C,e.addData(h,d[m++],d[m++],d[m++],d[m++],d[m++],d[m++]),t=d[m-2],n=d[m-1];break;case"c":h=o.C,e.addData(h,d[m++]+t,d[m++]+n,d[m++]+t,d[m++]+n,d[m++]+t,d[m++]+n),t+=d[m-2],n+=d[m-1];break;case"S":y=t,b=n,O=e.len(),P=e.data,s===o.C&&(y+=t-P[O-4],b+=n-P[O-3]),h=o.C,L=d[m++],I=d[m++],t=d[m++],n=d[m++],e.addData(h,y,b,L,I,t,n);break;case"s":y=t,b=n,O=e.len(),P=e.data,s===o.C&&(y+=t-P[O-4],b+=n-P[O-3]),h=o.C,L=t+d[m++],I=n+d[m++],t+=d[m++],n+=d[m++],e.addData(h,y,b,L,I,t,n);break;case"Q":L=d[m++],I=d[m++],t=d[m++],n=d[m++],h=o.Q,e.addData(h,L,I,t,n);break;case"q":L=d[m++]+t,I=d[m++]+n,t+=d[m++],n+=d[m++],h=o.Q,e.addData(h,L,I,t,n);break;case"T":y=t,b=n,O=e.len(),P=e.data,s===o.Q&&(y+=t-P[O-4],b+=n-P[O-3]),t=d[m++],n=d[m++],h=o.Q,e.addData(h,y,b,t,n);break;case"t":y=t,b=n,O=e.len(),P=e.data,s===o.Q&&(y+=t-P[O-4],b+=n-P[O-3]),t+=d[m++],n+=d[m++],h=o.Q,e.addData(h,y,b,t,n);break;case"A":S=d[m++],A=d[m++],E=d[m++],M=d[m++],R=d[m++],L=t,I=n,t=d[m++],n=d[m++],h=o.A,LY(L,I,t,n,M,R,S,A,E,h,e);break;case"a":S=d[m++],A=d[m++],E=d[m++],M=d[m++],R=d[m++],L=t,I=n,t+=d[m++],n+=d[m++],h=o.A,LY(L,I,t,n,M,R,S,A,E,h,e);break}}(f==="z"||f==="Z")&&(h=o.Z,e.addData(h),t=a,n=i),s=h}return e.toStatic(),e}var tse=(function(r){ga(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e})(Fr);function rse(r){return r.setData!=null}function nse(r,e){var t=N6e(r),n=nt({},e);return n.buildPath=function(a){var i=rse(a);if(i&&a.canSave()){a.appendPath(t);var s=a.getContext();s&&a.rebuildPath(s,1)}else{var s=i?a.getContext():a;s&&t.rebuildPath(s,1)}},n.applyTransform=function(a){ese(t,a),this.dirtyShape()},n}function ase(r,e){return new tse(nse(r,e))}function I6e(r,e){var t=nse(r,e),n=(function(a){ga(i,a);function i(s){var o=a.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return i})(tse);return n}function L6e(r,e){for(var t=[],n=r.length,a=0;a<n;a++){var i=r[a];t.push(i.getUpdatedPathProxy(!0))}var s=new Fr(e);return s.createPathProxy(),s.buildPath=function(o){if(rse(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function TF(r,e){e=e||{};var t=new Fr;return r.shape&&t.setShape(r.shape),t.setStyle(r.style),e.bakeTransform?ese(t.path,r.getComputedTransform()):e.toLocal?t.setLocalTransform(r.getComputedTransform()):t.copyTransform(r),t.buildPath=r.buildPath,t.applyTransform=t.applyTransform,t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel,t}var O6e=(function(){function r(){this.cx=0,this.cy=0,this.r=0}return r})(),Lh=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new O6e},e.prototype.buildPath=function(t,n){t.moveTo(n.cx+n.r,n.cy),t.arc(n.cx,n.cy,n.r,0,Math.PI*2)},e})(Fr);Lh.prototype.type="circle";var k6e=(function(){function r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return r})(),FA=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new k6e},e.prototype.buildPath=function(t,n){var a=.5522848,i=n.cx,s=n.cy,o=n.rx,l=n.ry,c=o*a,u=l*a;t.moveTo(i-o,s),t.bezierCurveTo(i-o,s-u,i-c,s-l,i,s-l),t.bezierCurveTo(i+c,s-l,i+o,s-u,i+o,s),t.bezierCurveTo(i+o,s+u,i+c,s+l,i,s+l),t.bezierCurveTo(i-c,s+l,i-o,s+u,i-o,s),t.closePath()},e})(Fr);FA.prototype.type="ellipse";var ise=Math.PI,yk=ise*2,zg=Math.sin,c1=Math.cos,P6e=Math.acos,oo=Math.atan2,OY=Math.abs,Gw=Math.sqrt,tw=Math.max,Kf=Math.min,Pu=1e-4;function B6e(r,e,t,n,a,i,s,o){var l=t-r,c=n-e,u=s-a,f=o-i,h=f*l-u*c;if(!(h*h<Pu))return h=(u*(e-i)-f*(r-a))/h,[r+h*l,e+h*c]}function jC(r,e,t,n,a,i,s){var o=r-t,l=e-n,c=(s?i:-i)/Gw(o*o+l*l),u=c*l,f=-c*o,h=r+u,d=e+f,v=t+u,g=n+f,m=(h+v)/2,y=(d+g)/2,b=v-h,S=g-d,A=b*b+S*S,E=a-i,M=h*g-v*d,R=(S<0?-1:1)*Gw(tw(0,E*E*A-M*M)),L=(M*S-b*R)/A,I=(-M*b-S*R)/A,O=(M*S+b*R)/A,P=(-M*b+S*R)/A,k=L-m,U=I-y,F=O-m,q=P-y;return k*k+U*U>F*F+q*q&&(L=O,I=P),{cx:L,cy:I,x0:-u,y0:-f,x1:L*(a/E-1),y1:I*(a/E-1)}}function z6e(r){var e;if(ct(r)){var t=r.length;if(!t)return r;t===1?e=[r[0],r[0],0,0]:t===2?e=[r[0],r[0],r[1],r[1]]:t===3?e=r.concat(r[2]):e=r}else e=[r,r,r,r];return e}function F6e(r,e){var t,n=tw(e.r,0),a=tw(e.r0||0,0),i=n>0,s=a>0;if(!(!i&&!s)){if(i||(n=a,a=0),a>n){var o=n;n=a,a=o}var l=e.startAngle,c=e.endAngle;if(!(isNaN(l)||isNaN(c))){var u=e.cx,f=e.cy,h=!!e.clockwise,d=OY(c-l),v=d>yk&&d%yk;if(v>Pu&&(d=v),!(n>Pu))r.moveTo(u,f);else if(d>yk-Pu)r.moveTo(u+n*c1(l),f+n*zg(l)),r.arc(u,f,n,l,c,!h),a>Pu&&(r.moveTo(u+a*c1(c),f+a*zg(c)),r.arc(u,f,a,c,l,h));else{var g=void 0,m=void 0,y=void 0,b=void 0,S=void 0,A=void 0,E=void 0,M=void 0,R=void 0,L=void 0,I=void 0,O=void 0,P=void 0,k=void 0,U=void 0,F=void 0,q=n*c1(l),H=n*zg(l),Z=a*c1(c),X=a*zg(c),Y=d>Pu;if(Y){var re=e.cornerRadius;re&&(t=z6e(re),g=t[0],m=t[1],y=t[2],b=t[3]);var W=OY(n-a)/2;if(S=Kf(W,y),A=Kf(W,b),E=Kf(W,g),M=Kf(W,m),I=R=tw(S,A),O=L=tw(E,M),(R>Pu||L>Pu)&&(P=n*c1(c),k=n*zg(c),U=a*c1(l),F=a*zg(l),d<ise)){var j=B6e(q,H,U,F,P,k,Z,X);if(j){var J=q-j[0],ee=H-j[1],ae=P-j[0],ce=k-j[1],me=1/zg(P6e((J*ae+ee*ce)/(Gw(J*J+ee*ee)*Gw(ae*ae+ce*ce)))/2),Se=Gw(j[0]*j[0]+j[1]*j[1]);I=Kf(R,(n-Se)/(me+1)),O=Kf(L,(a-Se)/(me-1))}}}if(!Y)r.moveTo(u+q,f+H);else if(I>Pu){var we=Kf(y,I),Me=Kf(b,I),Ve=jC(U,F,q,H,n,we,h),de=jC(P,k,Z,X,n,Me,h);r.moveTo(u+Ve.cx+Ve.x0,f+Ve.cy+Ve.y0),I<R&&we===Me?r.arc(u+Ve.cx,f+Ve.cy,I,oo(Ve.y0,Ve.x0),oo(de.y0,de.x0),!h):(we>0&&r.arc(u+Ve.cx,f+Ve.cy,we,oo(Ve.y0,Ve.x0),oo(Ve.y1,Ve.x1),!h),r.arc(u,f,n,oo(Ve.cy+Ve.y1,Ve.cx+Ve.x1),oo(de.cy+de.y1,de.cx+de.x1),!h),Me>0&&r.arc(u+de.cx,f+de.cy,Me,oo(de.y1,de.x1),oo(de.y0,de.x0),!h))}else r.moveTo(u+q,f+H),r.arc(u,f,n,l,c,!h);if(!(a>Pu)||!Y)r.lineTo(u+Z,f+X);else if(O>Pu){var we=Kf(g,O),Me=Kf(m,O),Ve=jC(Z,X,P,k,a,-Me,h),de=jC(q,H,U,F,a,-we,h);r.lineTo(u+Ve.cx+Ve.x0,f+Ve.cy+Ve.y0),O<L&&we===Me?r.arc(u+Ve.cx,f+Ve.cy,O,oo(Ve.y0,Ve.x0),oo(de.y0,de.x0),!h):(Me>0&&r.arc(u+Ve.cx,f+Ve.cy,Me,oo(Ve.y0,Ve.x0),oo(Ve.y1,Ve.x1),!h),r.arc(u,f,a,oo(Ve.cy+Ve.y1,Ve.cx+Ve.x1),oo(de.cy+de.y1,de.cx+de.x1),h),we>0&&r.arc(u+de.cx,f+de.cy,we,oo(de.y1,de.x1),oo(de.y0,de.x0),!h))}else r.lineTo(u+Z,f+X),r.arc(u,f,a,c,l,h)}r.closePath()}}}var U6e=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return r})(),Gs=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new U6e},e.prototype.buildPath=function(t,n){F6e(t,n)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})(Fr);Gs.prototype.type="sector";var V6e=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return r})(),ab=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new V6e},e.prototype.buildPath=function(t,n){var a=n.cx,i=n.cy,s=Math.PI*2;t.moveTo(a+n.r,i),t.arc(a,i,n.r,0,s,!1),t.moveTo(a+n.r0,i),t.arc(a,i,n.r0,0,s,!0)},e})(Fr);ab.prototype.type="ring";function H6e(r,e,t,n){var a=[],i=[],s=[],o=[],l,c,u,f;if(n){u=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,d=r.length;h<d;h++)kd(u,u,r[h]),Pd(f,f,r[h]);kd(u,u,n[0]),Pd(f,f,n[1])}for(var h=0,d=r.length;h<d;h++){var v=r[h];if(t)l=r[h?h-1:d-1],c=r[(h+1)%d];else if(h===0||h===d-1){a.push(mh(r[h]));continue}else l=r[h-1],c=r[h+1];R0(i,c,l),Pw(i,i,e);var g=OR(v,l),m=OR(v,c),y=g+m;y!==0&&(g/=y,m/=y),Pw(s,i,-g),Pw(o,i,m);var b=o6([],v,s),S=o6([],v,o);n&&(Pd(b,b,u),kd(b,b,f),Pd(S,S,u),kd(S,S,f)),a.push(b),a.push(S)}return t&&a.push(a.shift()),a}function sse(r,e,t){var n=e.smooth,a=e.points;if(a&&a.length>=2){if(n){var i=H6e(a,n,t,e.smoothConstraint);r.moveTo(a[0][0],a[0][1]);for(var s=a.length,o=0;o<(t?s:s-1);o++){var l=i[o*2],c=i[o*2+1],u=a[(o+1)%s];r.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{r.moveTo(a[0][0],a[0][1]);for(var o=1,f=a.length;o<f;o++)r.lineTo(a[o][0],a[o][1])}t&&r.closePath()}}var G6e=(function(){function r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return r})(),js=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new G6e},e.prototype.buildPath=function(t,n){sse(t,n,!0)},e})(Fr);js.prototype.type="polygon";var j6e=(function(){function r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return r})(),ws=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new j6e},e.prototype.buildPath=function(t,n){sse(t,n,!1)},e})(Fr);ws.prototype.type="polyline";var W6e={},Y6e=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})(),ai=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Y6e},e.prototype.buildPath=function(t,n){var a,i,s,o;if(this.subPixelOptimize){var l=eL(W6e,n,this.style);a=l.x1,i=l.y1,s=l.x2,o=l.y2}else a=n.x1,i=n.y1,s=n.x2,o=n.y2;var c=n.percent;c!==0&&(t.moveTo(a,i),c<1&&(s=a*(1-c)+s*c,o=i*(1-c)+o*c),t.lineTo(s,o))},e.prototype.pointAt=function(t){var n=this.shape;return[n.x1*(1-t)+n.x2*t,n.y1*(1-t)+n.y2*t]},e})(Fr);ai.prototype.type="line";var ml=[],X6e=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return r})();function kY(r,e,t){var n=r.cpx2,a=r.cpy2;return n!=null||a!=null?[(t?FW:Yi)(r.x1,r.cpx1,r.cpx2,r.x2,e),(t?FW:Yi)(r.y1,r.cpy1,r.cpy2,r.y2,e)]:[(t?p6:_s)(r.x1,r.cpx1,r.x2,e),(t?p6:_s)(r.y1,r.cpy1,r.y2,e)]}var ib=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new X6e},e.prototype.buildPath=function(t,n){var a=n.x1,i=n.y1,s=n.x2,o=n.y2,l=n.cpx1,c=n.cpy1,u=n.cpx2,f=n.cpy2,h=n.percent;h!==0&&(t.moveTo(a,i),u==null||f==null?(h<1&&(NT(a,l,s,h,ml),l=ml[1],s=ml[2],NT(i,c,o,h,ml),c=ml[1],o=ml[2]),t.quadraticCurveTo(l,c,s,o)):(h<1&&(rv(a,l,u,s,h,ml),l=ml[1],u=ml[2],s=ml[3],rv(i,c,f,o,h,ml),c=ml[1],f=ml[2],o=ml[3]),t.bezierCurveTo(l,c,u,f,s,o)))},e.prototype.pointAt=function(t){return kY(this.shape,t,!1)},e.prototype.tangentAt=function(t){var n=kY(this.shape,t,!0);return vy(n,n)},e})(Fr);ib.prototype.type="bezier-curve";var q6e=(function(){function r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),UA=(function(r){ga(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new q6e},e.prototype.buildPath=function(t,n){var a=n.cx,i=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,c=n.clockwise,u=Math.cos(o),f=Math.sin(o);t.moveTo(u*s+a,f*s+i),t.arc(a,i,s,o,l,!c)},e})(Fr);UA.prototype.type="arc";var VA=(function(r){ga(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,n=this.shapeChanged(),a=0;a<t.length;a++)n=n||t[a].shapeChanged();n&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],n=this.getGlobalScale(),a=0;a<t.length;a++)t[a].path||t[a].createPathProxy(),t[a].path.setScale(n[0],n[1],t[a].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,n){for(var a=n.paths||[],i=0;i<a.length;i++)a[i].buildPath(t,a[i].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Fr.prototype.getBoundingRect.call(this)},e})(Fr),ose=(function(){function r(e){this.colorStops=e||[]}return r.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},r})(),gy=(function(r){ga(e,r);function e(t,n,a,i,s,o){var l=r.call(this,s)||this;return l.x=t??0,l.y=n??0,l.x2=a??1,l.y2=i??0,l.type="linear",l.global=o||!1,l}return e})(ose),AF=(function(r){ga(e,r);function e(t,n,a,i,s){var o=r.call(this,i)||this;return o.x=t??.5,o.y=n??.5,o.r=a??.5,o.type="radial",o.global=s||!1,o}return e})(ose),xk=Math.min,Z6e=Math.max,WC=Math.abs,Fg=[0,0],Ug=[0,0],ms=Xae(),YC=ms.minTv,XC=ms.maxTv,lse=(function(){function r(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new ir;for(var n=0;n<2;n++)this._axes[n]=new ir;e&&this.fromBoundingRect(e,t)}return r.prototype.fromBoundingRect=function(e,t){var n=this._corners,a=this._axes,i=e.x,s=e.y,o=i+e.width,l=s+e.height;if(n[0].set(i,s),n[1].set(o,s),n[2].set(o,l),n[3].set(i,l),t)for(var c=0;c<4;c++)n[c].transform(t);ir.sub(a[0],n[1],n[0]),ir.sub(a[1],n[3],n[0]),a[0].normalize(),a[1].normalize();for(var c=0;c<2;c++)this._origin[c]=a[c].dot(n[0])},r.prototype.intersect=function(e,t,n){var a=!0,i=!t;return t&&ir.set(t,0,0),ms.reset(n,!i),!this._intersectCheckOneSide(this,e,i,1)&&(a=!1,i)||!this._intersectCheckOneSide(e,this,i,-1)&&(a=!1,i)||!i&&!ms.negativeSize&&ir.copy(t,a?ms.useDir?ms.dirMinTv:YC:XC),a},r.prototype._intersectCheckOneSide=function(e,t,n,a){for(var i=!0,s=0;s<2;s++){var o=e._axes[s];if(e._getProjMinMaxOnAxis(s,e._corners,Fg),e._getProjMinMaxOnAxis(s,t._corners,Ug),ms.negativeSize||Fg[1]<Ug[0]||Fg[0]>Ug[1]){if(i=!1,ms.negativeSize||n)return i;var l=WC(Ug[0]-Fg[1]),c=WC(Fg[0]-Ug[1]);xk(l,c)>XC.len()&&(l<c?ir.scale(XC,o,-l*a):ir.scale(XC,o,c*a))}else if(!n){var l=WC(Ug[0]-Fg[1]),c=WC(Fg[0]-Ug[1]);(ms.useDir||xk(l,c)<YC.len())&&((l<c||!ms.bidirectional)&&(ir.scale(YC,o,l*a),ms.useDir&&ms.calcDirMTV()),(l>=c||!ms.bidirectional)&&(ir.scale(YC,o,-c*a),ms.useDir&&ms.calcDirMTV()))}}return i},r.prototype._getProjMinMaxOnAxis=function(e,t,n){for(var a=this._axes[e],i=this._origin,s=t[0].dot(a)+i[e],o=s,l=s,c=1;c<t.length;c++){var u=t[c].dot(a)+i[e];o=xk(u,o),l=Z6e(u,l)}n[0]=o+ms.touchThreshold,n[1]=l-ms.touchThreshold,ms.negativeSize=n[1]<n[0]},r})(),K6e=[],cse=(function(r){ga(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,n){t.call(n,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,n){n?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,n){n=n||!1;for(var a=0;a<t.length;a++)this.addDisplayable(t[a],n)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var n=this._cursor;n<this._displayables.length;n++)t&&t(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)t&&t(this._temporaryDisplayables[n])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var n=this._displayables[t];n.parent=this,n.update(),n.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var n=this._temporaryDisplayables[t];n.parent=this,n.update(),n.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new sr(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var a=this._displayables[n],i=a.getBoundingRect().clone();a.needLocalTransform()&&i.applyTransform(a.getLocalTransform(K6e)),t.union(i)}this._rect=t}return this._rect},e.prototype.contain=function(t,n){var a=this.transformCoordToLocal(t,n),i=this.getBoundingRect();if(i.contain(a[0],a[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,n))return!0}return!1},e})(eu),use=Pr();function sb(r,e,t,n,a){var i;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();i=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=r==="update";if(o){var c=void 0,u=void 0,f=void 0;n?(c=Gt(n.duration,200),u=Gt(n.easing,"cubicOut"),f=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),i&&(i.duration!=null&&(c=i.duration),i.easing!=null&&(u=i.easing),i.delay!=null&&(f=i.delay)),Yt(f)&&(f=f(t,a)),Yt(c)&&(c=c(t));var h={duration:c||0,delay:f,easing:u};return h}else return null}function EF(r,e,t,n,a,i,s){var o=!1,l;Yt(a)?(s=i,i=a,a=null):nr(a)&&(i=a.cb,s=a.during,o=a.isFrom,l=a.removeOpt,a=a.dataIndex);var c=r==="leave";c||e.stopAnimation("leave");var u=sb(r,n,a,c?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(e,a):null);if(u&&u.duration>0){var f=u.duration,h=u.delay,d=u.easing,v={duration:f,delay:h||0,easing:d,done:i,force:!!i||!!s,setToFinal:!c,scope:r,during:s};o?e.animateFrom(t,v):e.animateTo(t,v)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),i&&i()}function nn(r,e,t,n,a,i){EF("update",r,e,t,n,a,i)}function ca(r,e,t,n,a,i){EF("enter",r,e,t,n,a,i)}function n_(r){if(!r.__zr)return!0;for(var e=0;e<r.animators.length;e++){var t=r.animators[e];if(t.scope==="leave")return!0}return!1}function nv(r,e,t,n,a,i){n_(r)||EF("leave",r,e,t,n,a,i)}function PY(r,e,t,n){r.removeTextContent(),r.removeTextGuideLine(),nv(r,{style:{opacity:0}},e,t,n)}function Wd(r,e,t){function n(){r.parent&&r.parent.remove(r)}r.isGroup?r.traverse(function(a){a.isGroup||PY(a,e,t,n)}):PY(r,e,t,n)}function tu(r){use(r).oldStyle=r.style}function $6e(r){return use(r).oldStyle}var H6={},dr=["x","y"],bi=["width","height"];function fse(r){return Fr.extend(r)}var J6e=I6e;function hse(r,e){return J6e(r,e)}function iu(r,e){H6[r]=e}function FT(r){if(H6.hasOwnProperty(r))return H6[r]}function M_(r,e,t,n){var a=ase(r,e);return t&&(n==="center"&&(t=dse(t,a.getBoundingRect())),CF(a,t)),a}function MF(r,e,t){var n=new ns({style:{image:r,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(a){if(t==="center"){var i={width:a.width,height:a.height};n.setStyle(dse(e,i))}}});return n}function dse(r,e){var t=e.width/e.height,n=r.height*t,a;n<=r.width?a=r.height:(n=r.width,a=n/t);var i=r.x+r.width/2,s=r.y+r.height/2;return{x:i-n/2,y:s-a/2,width:n,height:a}}var Kl=L6e;function CF(r,e){if(r.applyTransform){var t=r.getBoundingRect(),n=t.calculateTransform(e);r.applyTransform(n)}}function C_(r,e){return eL(r,r,{lineWidth:e}),r}function Q6e(r,e){return Hie(r,r,e),r}var aD=tc;function j0(r,e){for(var t=kA([]);r&&r!==e;)Ku(t,r.getLocalTransform(),t),r=r.parent;return t}function Ju(r,e,t){return e&&!Vs(e)&&(e=Bd.getLocalTransform(e)),t&&(e=Qc([],e)),Ya([],r,e)}function nL(r,e,t){var n=e[4]===0||e[5]===0||e[0]===0?1:ch(2*e[4]/e[0]),a=e[4]===0||e[5]===0||e[2]===0?1:ch(2*e[4]/e[2]),i=[r==="left"?-n:r==="right"?n:0,r==="top"?-a:r==="bottom"?a:0];return i=Ju(i,e,t),ch(i[0])>ch(i[1])?i[0]>0?"right":"left":i[1]>0?"bottom":"top"}function BY(r){return!r.isGroup}function eBe(r){return r.shape!=null}function HA(r,e,t){if(!r||!e)return;function n(s){var o={};return s.traverse(function(l){BY(l)&&l.anid&&(o[l.anid]=l)}),o}function a(s){var o={x:s.x,y:s.y,rotation:s.rotation};return eBe(s)&&(o.shape=Qt(s.shape)),o}var i=n(r);e.traverse(function(s){if(BY(s)&&s.anid){var o=i[s.anid];if(o){var l=a(s);s.attr(a(o)),nn(s,l,t,or(s).dataIndex)}}})}function DF(r,e){return ft(r,function(t){var n=t[0];n=ri(n,e.x),n=nc(n,e.x+e.width);var a=t[1];return a=ri(a,e.y),a=nc(a,e.y+e.height),[n,a]})}function pse(r,e){var t=ri(r.x,e.x),n=nc(r.x+r.width,e.x+e.width),a=ri(r.y,e.y),i=nc(r.y+r.height,e.y+e.height);if(n>=t&&i>=a)return{x:t,y:a,width:n-t,height:i-a}}function ob(r,e,t){var n=nt({rectHover:!0},e),a=n.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},r)return r.indexOf("image://")===0?(a.image=r.slice(8),rr(a,t),new ns(n)):M_(r.replace("path://",""),n,t,"center")}function rw(r,e,t,n,a){for(var i=0,s=a[a.length-1];i<a.length;i++){var o=a[i];if(vse(r,e,t,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function vse(r,e,t,n,a,i,s,o){var l=t-r,c=n-e,u=s-a,f=o-i,h=_k(u,f,l,c);if(tBe(h))return!1;var d=r-a,v=e-i,g=_k(d,v,l,c)/h;if(g<0||g>1)return!1;var m=_k(d,v,u,f)/h;return!(m<0||m>1)}function _k(r,e,t,n){return r*n-t*e}function tBe(r){return r<=1e-6&&r>=-1e-6}function Km(r,e,t,n,a){return e==null||($r(e)?wa[0]=wa[1]=wa[2]=wa[3]=e:(wa[0]=e[0],wa[1]=e[1],wa[2]=e[2],wa[3]=e[3]),n&&(wa[0]=ri(0,wa[0]),wa[1]=ri(0,wa[1]),wa[2]=ri(0,wa[2]),wa[3]=ri(0,wa[3])),t&&(wa[0]=-wa[0],wa[1]=-wa[1],wa[2]=-wa[2],wa[3]=-wa[3]),zY(r,wa,"x","width",3,1,a&&a[0]||0),zY(r,wa,"y","height",0,2,a&&a[1]||0)),r}var wa=[0,0,0,0];function zY(r,e,t,n,a,i,s){var o=e[i]+e[a],l=r[n];r[n]+=o,s=ri(0,nc(s,l)),r[n]<s?(r[n]=s,r[t]+=e[a]>=0?-e[a]:e[i]>=0?l+e[i]:ch(o)>1e-8?(l-s)*e[a]/o:0):r[t]-=e[a]}function hp(r){var e=r.itemTooltipOption,t=r.componentModel,n=r.itemName,a=It(e)?{formatter:e}:e,i=t.mainType,s=t.componentIndex,o={componentType:i,name:n,$vars:["name"]};o[i+"Index"]=s;var l=r.formatterParamsExtra;l&&te(Yr(l),function(u){Ut(o,u)||(o[u]=l[u],o.$vars.push(u))});var c=or(r.el);c.componentMainType=i,c.componentIndex=s,c.tooltipConfig={name:n,option:rr({content:n,encodeHTMLContent:!0,formatterParams:o},a)}}function G6(r,e){var t;r.isGroup&&(t=e(r)),t||r.traverse(e)}function vv(r,e){if(r)if(ct(r))for(var t=0;t<r.length;t++)G6(r[t],e);else G6(r,e)}function RF(r){return!r||ch(r[1])<qC&&ch(r[2])<qC||ch(r[0])<qC&&ch(r[3])<qC}var qC=1e-5;function UT(r,e){return r?sr.copy(r,e):e.clone()}function NF(r,e){return e?PA(r||$i(),e):void 0}function $m(r){return{z:r.get("z")||0,zlevel:r.get("zlevel")||0}}function gse(r){var e=-1/0,t=1/0;G6(r,function(i){n(i),n(i.getTextContent()),n(i.getTextGuideLine())});function n(i){if(!(!i||i.isGroup)){var s=i.currentStates;if(s.length)for(var o=0;o<s.length;o++)a(i.states[s[o]]);a(i)}}function a(i){if(i){var s=i.z2;s>e&&(e=s),s<t&&(t=s)}}return t>e&&(t=e=0),{min:t,max:e}}function aL(r,e,t){mse(r,e,t,-1/0)}function mse(r,e,t,n){if(r.ignoreModelZ)return n;var a=r.getTextContent(),i=r.getTextGuideLine(),s=r.isGroup;if(s)for(var o=r.childrenRef(),l=0;l<o.length;l++)n=ri(mse(o[l],e,t,n),n);else r.z=e,r.zlevel=t,n=ri(r.z2||0,n);if(a&&(a.z=e,a.zlevel=t,isFinite(n)&&(a.z2=n+2)),i){var c=r.textGuideLineConfig;i.z=e,i.zlevel=t,isFinite(n)&&(i.z2=n+(c&&c.showAbove?1:-1))}return n}iu("circle",Lh);iu("ellipse",FA);iu("sector",Gs);iu("ring",ab);iu("polygon",js);iu("polyline",ws);iu("rect",Nr);iu("line",ai);iu("bezierCurve",ib);iu("arc",UA);const my=Object.freeze(Object.defineProperty({__proto__:null,Arc:UA,BezierCurve:ib,BoundingRect:sr,Circle:Lh,CompoundPath:VA,Ellipse:FA,Group:er,Image:ns,IncrementalDisplayable:cse,Line:ai,LinearGradient:gy,OrientedBoundingRect:lse,Path:Fr,Point:ir,Polygon:js,Polyline:ws,RadialGradient:AF,Rect:Nr,Ring:ab,Sector:Gs,Text:Kr,WH:bi,XY:dr,applyTransform:Ju,calcZ2Range:gse,clipPointsByRect:DF,clipRectByRect:pse,createIcon:ob,ensureCopyRect:UT,ensureCopyTransform:NF,expandOrShrinkRect:Km,extendPath:hse,extendShape:fse,getShapeClass:FT,getTransform:j0,groupTransition:HA,initProps:ca,isBoundingRectAxisAligned:RF,isElementRemoved:n_,lineLineIntersect:vse,linePolygonIntersect:rw,makeImage:MF,makePath:M_,mergePath:Kl,registerShape:iu,removeElement:nv,removeElementWithFadeOut:Wd,resizePath:CF,retrieveZInfo:$m,setTooltipConfig:hp,subPixelOptimize:aD,subPixelOptimizeLine:C_,subPixelOptimizeRect:Q6e,transformDirection:nL,traverseElements:vv,traverseUpdateZ:aL,updateProps:nn},Symbol.toStringTag,{value:"Module"}));var iL={};function yse(r,e){for(var t=0;t<nl.length;t++){var n=nl[t],a=e[n],i=r.ensureState(n);i.style=i.style||{},i.style.text=a}var s=r.currentStates.slice();r.clearStates(!0),r.setStyle({text:e.normal}),r.useStates(s,!0)}function j6(r,e,t){var n=r.labelFetcher,a=r.labelDataIndex,i=r.labelDimIndex,s=e.normal,o;n&&(o=n.getFormattedLabel(a,"normal",null,i,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=Yt(r.defaultText)?r.defaultText(a,r,t):r.defaultText);for(var l={normal:o},c=0;c<nl.length;c++){var u=nl[c],f=e[u];l[u]=Gt(n?n.getFormattedLabel(a,u,null,i,f&&f.get("formatter")):null,o)}return l}function rs(r,e,t,n){t=t||iL;for(var a=r instanceof Kr,i=!1,s=0;s<BT.length;s++){var o=e[BT[s]];if(o&&o.getShallow("show")){i=!0;break}}var l=a?r:r.getTextContent();if(i){a||(l||(l=new Kr,r.setTextContent(l)),r.stateProxy&&(l.stateProxy=r.stateProxy));var c=j6(t,e),u=e.normal,f=!!u.getShallow("show"),h=Kn(u,n&&n.normal,t,!1,!a);h.text=c.normal,a||r.setTextConfig(KR(u,t,!1));for(var s=0;s<nl.length;s++){var d=nl[s],o=e[d];if(o){var v=l.ensureState(d),g=!!Gt(o.getShallow("show"),f);if(g!==f&&(v.ignore=!g),v.style=Kn(o,n&&n[d],t,!0,!a),v.style.text=c[d],!a){var m=r.ensureState(d);m.textConfig=KR(o,t,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),t.enableTextSetter&&(lb(l).setLabelText=function(y){var b=j6(t,e,y);yse(l,b)})}else l&&(l.ignore=!0);r.dirty()}function ki(r,e){e=e||"label";for(var t={normal:r.getModel(e)},n=0;n<nl.length;n++){var a=nl[n];t[a]=r.getModel([a,e])}return t}function Kn(r,e,t,n,a){var i={};return rBe(i,r,t,n,a),e&&nt(i,e),i}function KR(r,e,t){e=e||{};var n={},a,i=r.getShallow("rotate"),s=Gt(r.getShallow("distance"),t?null:5),o=r.getShallow("offset");return a=r.getShallow("position")||(t?null:"inside"),a==="outside"&&(a=e.defaultOutsidePosition||"top"),a!=null&&(n.position=a),o!=null&&(n.offset=o),i!=null&&(i*=Math.PI/180,n.rotation=i),s!=null&&(n.distance=s),n.outsideFill=r.get("color")==="inherit"?e.inheritColor||null:"auto",e.autoOverflowArea!=null&&(n.autoOverflowArea=e.autoOverflowArea),e.layoutRect!=null&&(n.layoutRect=e.layoutRect),n}function rBe(r,e,t,n,a){t=t||iL;var i=e.ecModel,s=i&&i.option.textStyle,o=nBe(e),l;if(o){l={};var c="richInheritPlainLabel",u=Gt(e.get(c),i?i.get(c):void 0);for(var f in o)if(o.hasOwnProperty(f)){var h=e.getModel(["rich",f]);HY(l[f]={},h,s,e,u,t,n,a,!1,!0)}}l&&(r.rich=l);var d=e.get("overflow");d&&(r.overflow=d);var v=e.get("lineOverflow");v&&(r.lineOverflow=v);var g=r,m=e.get("minMargin");if(m!=null)m=$r(m)?m/2:0,g.margin=[m,m,m,m],g.__marginType=j1.minMargin;else{var y=e.get("textMargin");y!=null&&(g.margin=LA(y),g.__marginType=j1.textMargin)}HY(r,e,s,null,null,t,n,a,!0,!1)}function nBe(r){for(var e;r&&r!==r.ecModel;){var t=(r.option||iL).rich;if(t){e=e||{};for(var n=Yr(t),a=0;a<n.length;a++){var i=n[a];e[i]=1}}r=r.parentModel}return e}var FY=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],UY=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],VY=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function HY(r,e,t,n,a,i,s,o,l,c){t=!s&&t||iL;var u=i&&i.inheritColor,f=e.getShallow("color"),h=e.getShallow("textBorderColor"),d=Gt(e.getShallow("opacity"),t.opacity);(f==="inherit"||f==="auto")&&(u?f=u:f=null),(h==="inherit"||h==="auto")&&(u?h=u:h=null),o||(f=f||t.color,h=h||t.textBorderColor),f!=null&&(r.fill=f),h!=null&&(r.stroke=h);var v=Gt(e.getShallow("textBorderWidth"),t.textBorderWidth);v!=null&&(r.lineWidth=v);var g=Gt(e.getShallow("textBorderType"),t.textBorderType);g!=null&&(r.lineDash=g);var m=Gt(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);m!=null&&(r.lineDashOffset=m),!s&&d==null&&!c&&(d=i&&i.defaultOpacity),d!=null&&(r.opacity=d),!s&&!o&&r.fill==null&&i.inheritColor&&(r.fill=i.inheritColor);for(var y=0;y<FY.length;y++){var b=FY[y],S=a!==!1&&n?El(e.getShallow(b),n.getShallow(b),t[b]):Gt(e.getShallow(b),t[b]);S!=null&&(r[b]=S)}for(var y=0;y<UY.length;y++){var b=UY[y],S=e.getShallow(b);S!=null&&(r[b]=S)}if(r.verticalAlign==null){var A=e.getShallow("baseline");A!=null&&(r.verticalAlign=A)}if(!l||!i.disableBox){for(var y=0;y<VY.length;y++){var b=VY[y],S=e.getShallow(b);S!=null&&(r[b]=S)}var E=e.getShallow("borderType");E!=null&&(r.borderDash=E),(r.backgroundColor==="auto"||r.backgroundColor==="inherit")&&u&&(r.backgroundColor=u),(r.borderColor==="auto"||r.borderColor==="inherit")&&u&&(r.borderColor=u)}}function IF(r,e){var t=e&&e.getModel("textStyle");return Jl([r.fontStyle||t&&t.getShallow("fontStyle")||"",r.fontWeight||t&&t.getShallow("fontWeight")||"",(r.fontSize||t&&t.getShallow("fontSize")||12)+"px",r.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var lb=Pr();function xse(r,e,t,n){if(r){var a=lb(r);a.prevValue=a.value,a.value=t;var i=e.normal;a.valueAnimation=i.get("valueAnimation"),a.valueAnimation&&(a.precision=i.get("precision"),a.defaultInterpolatedText=n,a.statesModels=e)}}function _se(r,e,t,n,a){var i=lb(r);if(!i.valueAnimation||i.prevValue===i.value)return;var s=i.defaultInterpolatedText,o=Gt(i.interpolatedValue,i.prevValue),l=i.value;function c(u){var f=Iie(t,i.precision,o,l,u);i.interpolatedValue=u===1?null:f;var h=j6({labelDataIndex:e,labelFetcher:a,defaultText:s?s(f):f+""},i.statesModels,f);yse(r,h)}r.percent=0,(i.prevValue==null?ca:nn)(r,{percent:1},n,e,null,c)}var j1={minMargin:1,textMargin:2},aBe=["textStyle","color"],bk=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Sk=new Kr,iBe=(function(){function r(){}return r.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(aBe):null)},r.prototype.getFont=function(){return IF({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<bk.length;n++)t[bk[n]]=this.getShallow(bk[n]);return Sk.useStyle(t),Sk.update(),Sk.getBoundingRect()},r})(),bse=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],sBe=qm(bse),oBe=(function(){function r(){}return r.prototype.getLineStyle=function(e){return sBe(this,e)},r})(),Sse=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],lBe=qm(Sse),cBe=(function(){function r(){}return r.prototype.getItemStyle=function(e,t){return lBe(this,e,t)},r})(),zr=(function(){function r(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return r.prototype.init=function(e,t,n){},r.prototype.mergeOption=function(e,t){Sr(this.option,e,!0)},r.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},r.prototype.getShallow=function(e,t){var n=this.option,a=n==null?n:n[e];if(a==null&&!t){var i=this.parentModel;i&&(a=i.getShallow(e))}return a},r.prototype.getModel=function(e,t){var n=e!=null,a=n?this.parsePath(e):null,i=n?this._doGet(a):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new r(i,t,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var e=this.constructor;return new e(Qt(this.option))},r.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},r.prototype.resolveParentPath=function(e){return e},r.prototype.isAnimationEnabled=function(){if(!jr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var a=0;a<e.length&&!(e[a]&&(n=n&&typeof n=="object"?n[e[a]]:null,n==null));a++);return n==null&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},r})();vF(zr);_Pe(zr);Xa(zr,oBe);Xa(zr,cBe);Xa(zr,APe);Xa(zr,iBe);var uBe=Math.round(Math.random()*10);function cb(r){return[r||"",uBe++].join("_")}function fBe(r){var e={};r.registerSubTypeDefaulter=function(t,n){var a=uh(t);e[a.main]=n},r.determineSubType=function(t,n){var a=n.type;if(!a){var i=uh(t).main;r.hasSubTypes(t)&&e[i]&&(a=e[i](n))}return a}}function hBe(r,e){r.topologicalTravel=function(i,s,o,l){if(!i.length)return;var c=t(s),u=c.graph,f=c.noEntryList,h={};for(te(i,function(b){h[b]=!0});f.length;){var d=f.pop(),v=u[d],g=!!h[d];g&&(o.call(l,d,v.originalDeps.slice()),delete h[d]),te(v.successor,g?y:m)}te(h,function(){var b="";throw new Error(b)});function m(b){u[b].entryCount--,u[b].entryCount===0&&f.push(b)}function y(b){h[b]=!0,m(b)}};function t(i){var s={},o=[];return te(i,function(l){var c=n(s,l),u=c.originalDeps=e(l),f=a(u,i);c.entryCount=f.length,c.entryCount===0&&o.push(l),te(f,function(h){br(c.predecessor,h)<0&&c.predecessor.push(h);var d=n(s,h);br(d.successor,h)<0&&d.successor.push(l)})}),{graph:s,noEntryList:o}}function n(i,s){return i[s]||(i[s]={predecessor:[],successor:[]}),i[s]}function a(i,s){var o=[];return te(i,function(l){br(s,l)>=0&&o.push(l)}),o}}function gv(r,e){return Sr(Sr({},r,!0),e,!0)}const dBe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},pBe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var $R="ZH",LF="EN",a_=LF,iD={},OF={},wse=jr.domSupported?(function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||a_).toUpperCase();return r.indexOf($R)>-1?$R:a_})():a_;function kF(r,e){r=r.toUpperCase(),OF[r]=new zr(e),iD[r]=e}function vBe(r){if(It(r)){var e=iD[r.toUpperCase()]||{};return r===$R||r===LF?Qt(e):Sr(Qt(e),Qt(iD[a_]),!1)}else return Sr(Qt(r),Qt(iD[a_]),!1)}function W6(r){return OF[r]}function gBe(){return OF[a_]}kF(LF,dBe);kF($R,pBe);var Y6=null;function mBe(r){Y6||(Y6=r)}function _i(){return Y6}var PF=1e3,BF=PF*60,jw=BF*60,Xc=jw*24,GY=Xc*365,yBe={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},sD={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},xBe="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",ZC="{yyyy}-{MM}-{dd}",jY={year:"{yyyy}",month:"{yyyy}-{MM}",day:ZC,hour:ZC+" "+sD.hour,minute:ZC+" "+sD.minute,second:ZC+" "+sD.second,millisecond:xBe},jl=["year","month","day","hour","minute","second","millisecond"],_Be=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function bBe(r){return!It(r)&&!Yt(r)?SBe(r):r}function SBe(r){r=r||{};var e={},t=!0;return te(jl,function(n){t&&(t=r[n]==null)}),te(jl,function(n,a){var i=r[n];e[n]={};for(var s=null,o=a;o>=0;o--){var l=jl[o],c=nr(i)&&!ct(i)?i[l]:i,u=void 0;ct(c)?(u=c.slice(),s=u[0]||""):It(c)?(s=c,u=[s]):(s==null?s=sD[n]:yBe[l].test(s)||(s=e[l][l][0]+" "+s),u=[s],t&&(u[1]="{primary|"+s+"}")),e[n][l]=u}}),e}function Xo(r,e){return r+="","0000".substr(0,e-r.length)+r}function Ww(r){switch(r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return r}}function wBe(r){return r===Ww(r)}function TBe(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function GA(r,e,t,n){var a=Ih(r),i=a[Tse(t)](),s=a[zF(t)]()+1,o=Math.floor((s-1)/3)+1,l=a[FF(t)](),c=a["get"+(t?"UTC":"")+"Day"](),u=a[UF(t)](),f=(u-1)%12+1,h=a[VF(t)](),d=a[HF(t)](),v=a[GF(t)](),g=u>=12?"pm":"am",m=g.toUpperCase(),y=n instanceof zr?n:W6(n||wse)||gBe(),b=y.getModel("time"),S=b.get("month"),A=b.get("monthAbbr"),E=b.get("dayOfWeek"),M=b.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,i+"").replace(/{yy}/g,Xo(i%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,S[s-1]).replace(/{MMM}/g,A[s-1]).replace(/{MM}/g,Xo(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Xo(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,E[c]).replace(/{ee}/g,M[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Xo(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Xo(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Xo(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,Xo(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,Xo(v,3)).replace(/{S}/g,v+"")}function ABe(r,e,t,n,a){var i=null;if(It(t))i=t;else if(Yt(t)){var s={time:r.time,level:r.time.level},o=_i();o&&o.makeAxisLabelFormatterParamBreak(s,r.break),i=t(r.value,e,s)}else{var l=r.time;if(l){var c=t[l.lowerTimeUnit][l.upperTimeUnit];i=c[Math.min(l.level,c.length-1)]||""}else{var u=W1(r.value,a);i=t[u][u][0]}}return GA(new Date(r.value),i,a,n)}function W1(r,e){var t=Ih(r),n=t[zF(e)]()+1,a=t[FF(e)](),i=t[UF(e)](),s=t[VF(e)](),o=t[HF(e)](),l=t[GF(e)](),c=l===0,u=c&&o===0,f=u&&s===0,h=f&&i===0,d=h&&a===1,v=d&&n===1;return v?"year":d?"month":h?"day":f?"hour":u?"minute":c?"second":"millisecond"}function JR(r,e,t){switch(e){case"year":r[Ase(t)](0);case"month":r[Ese(t)](1);case"day":r[Mse(t)](0);case"hour":r[Cse(t)](0);case"minute":r[Dse(t)](0);case"second":r[Rse(t)](0)}return r}function Tse(r){return r?"getUTCFullYear":"getFullYear"}function zF(r){return r?"getUTCMonth":"getMonth"}function FF(r){return r?"getUTCDate":"getDate"}function UF(r){return r?"getUTCHours":"getHours"}function VF(r){return r?"getUTCMinutes":"getMinutes"}function HF(r){return r?"getUTCSeconds":"getSeconds"}function GF(r){return r?"getUTCMilliseconds":"getMilliseconds"}function EBe(r){return r?"setUTCFullYear":"setFullYear"}function Ase(r){return r?"setUTCMonth":"setMonth"}function Ese(r){return r?"setUTCDate":"setDate"}function Mse(r){return r?"setUTCHours":"setHours"}function Cse(r){return r?"setUTCMinutes":"setMinutes"}function Dse(r){return r?"setUTCSeconds":"setSeconds"}function Rse(r){return r?"setUTCMilliseconds":"setMilliseconds"}function MBe(r,e,t,n,a,i,s,o){var l=new Kr({style:{text:r,font:e,align:t,verticalAlign:n,padding:a,rich:i,overflow:s?"truncate":null,lineHeight:o}});return l.getBoundingRect()}function jF(r){if(!hF(r))return It(r)?r:"-";var e=(r+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function WF(r,e){return r=(r||"").toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()}),e&&r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r}var ub=LA;function X6(r,e,t){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(u){return u&&Jl(u)?u:"-"}function i(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var s=e==="time",o=r instanceof Date;if(s||o){var l=s?Ih(r):r;if(isNaN(+l)){if(o)return"-"}else return GA(l,n,t)}if(e==="ordinal")return IR(r)?a(r):$r(r)&&i(r)?r+"":"-";var c=wh(r);return i(c)?jF(c):IR(r)?a(r):typeof r=="boolean"?r+"":"-"}var WY=["a","b","c","d","e","f","g"],wk=function(r,e){return"{"+r+(e??"")+"}"};function YF(r,e,t){ct(e)||(e=[e]);var n=e.length;if(!n)return"";for(var a=e[0].$vars||[],i=0;i<a.length;i++){var s=WY[i];r=r.replace(wk(s),wk(s,0))}for(var o=0;o<n;o++)for(var l=0;l<a.length;l++){var c=e[o][a[l]];r=r.replace(wk(WY[l],o),t?ho(c):c)}return r}function CBe(r,e,t){return te(e,function(n,a){r=r.replace("{"+a+"}",n)}),r}function Nse(r,e){var t=It(r)?{color:r,extraCssText:e}:r||{},n=t.color,a=t.type;e=t.extraCssText;var i=t.renderMode||"html";if(!n)return"";if(i==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ho(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+ho(n)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:i,content:"{"+s+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function DBe(r,e,t){(r==="week"||r==="month"||r==="quarter"||r==="half-year"||r==="year")&&(r=`MM-dd
yyyy`);var n=Ih(e),a=t?"getUTC":"get",i=n[a+"FullYear"](),s=n[a+"Month"]()+1,o=n[a+"Date"](),l=n[a+"Hours"](),c=n[a+"Minutes"](),u=n[a+"Seconds"](),f=n[a+"Milliseconds"]();return r=r.replace("MM",Xo(s,2)).replace("M",s).replace("yyyy",i).replace("yy",Xo(i%100+"",2)).replace("dd",Xo(o,2)).replace("d",o).replace("hh",Xo(l,2)).replace("h",l).replace("mm",Xo(c,2)).replace("m",c).replace("ss",Xo(u,2)).replace("s",u).replace("SSS",Xo(f,3)),r}function RBe(r){return r&&r.charAt(0).toUpperCase()+r.substr(1)}function Jm(r,e){return e=e||"transparent",It(r)?r:nr(r)&&r.colorStops&&(r.colorStops[0]||{}).color||e}function QR(r,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=r}else window.open(r,e)}var oD={},Tk={},fb=(function(){function r(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return r.prototype.create=function(e,t){this._nonSeriesBoxMasterList=n(oD),this._normalMasterList=n(Tk);function n(a,i){var s=[];return te(a,function(o,l){var c=o.create(e,t);s=s.concat(c||[])}),s}},r.prototype.update=function(e,t){te(this._normalMasterList,function(n){n.update&&n.update(e,t)})},r.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},r.register=function(e,t){if(e==="matrix"||e==="calendar"){oD[e]=t;return}Tk[e]=t},r.get=function(e){return Tk[e]||oD[e]},r})();function NBe(r){return!!oD[r]}var q6={coord:1,coord2:2};function IBe(r){Ise.set(r.fullType,{getCoord2:void 0}).getCoord2=r.getCoord2}var Ise=Ht();function LBe(r){var e=r.getShallow("coord",!0),t=q6.coord;if(e==null){var n=Ise.get(r.type);n&&n.getCoord2&&(t=q6.coord2,e=n.getCoord2(r))}return{coord:e,from:t}}var ih={none:0,dataCoordSys:1,boxCoordSys:2};function Lse(r,e){var t=r.getShallow("coordinateSystem"),n=r.getShallow("coordinateSystemUsage",!0),a=ih.none;if(t){var i=r.mainType==="series";n==null&&(n=i?"data":"box"),n==="data"?(a=ih.dataCoordSys,i||(a=ih.none)):n==="box"&&(a=ih.boxCoordSys,!i&&!NBe(t)&&(a=ih.none))}return{coordSysType:t,kind:a}}function jA(r){var e=r.targetModel,t=r.coordSysType,n=r.coordSysProvider,a=r.isDefaultDataCoordSys;r.allowNotFound;var i=Lse(e),s=i.kind,o=i.coordSysType;if(a&&s!==ih.dataCoordSys&&(s=ih.dataCoordSys,o=t),s===ih.none||o!==t)return!1;var l=n(t,e);return l?(s===ih.dataCoordSys?e.coordinateSystem=l:e.boxCoordinateSystem=l,!0):!1}var Ose=function(r,e){var t=e.getReferringComponents(r,Pa).models[0];return t&&t.coordinateSystem},lD=te,kse=["left","right","top","bottom","width","height"],_m=[["width","left","right"],["height","top","bottom"]];function XF(r,e,t,n,a){var i=0,s=0;n==null&&(n=1/0),a==null&&(a=1/0);var o=0;e.eachChild(function(l,c){var u=l.getBoundingRect(),f=e.childAt(c+1),h=f&&f.getBoundingRect(),d,v;if(r==="horizontal"){var g=u.width+(h?-h.x+u.x:0);d=i+g,d>n||l.newline?(i=0,d=g,s+=o+t,o=u.height):o=Math.max(o,u.height)}else{var m=u.height+(h?-h.y+u.y:0);v=s+m,v>a||l.newline?(i+=o+t,s=0,v=m,o=u.width):o=Math.max(o,u.width)}l.newline||(l.x=i,l.y=s,l.markRedraw(),r==="horizontal"?i=d+t:s=v+t)})}var Lm=XF;yr(XF,"vertical");yr(XF,"horizontal");function Pse(r,e){return{left:r.getShallow("left",e),top:r.getShallow("top",e),right:r.getShallow("right",e),bottom:r.getShallow("bottom",e),width:r.getShallow("width",e),height:r.getShallow("height",e)}}function OBe(r,e){var t=Pi(r,e,{enableLayoutOnlyByCenter:!0}),n=r.getBoxLayoutParams(),a,i;if(t.type===nw.point)i=t.refPoint,a=ma(n,{width:e.getWidth(),height:e.getHeight()});else{var s=r.get("center"),o=ct(s)?s:[s,s];a=ma(n,t.refContainer),i=t.boxCoordFrom===q6.coord2?t.refPoint:[Nt(o[0],a.width)+a.x,Nt(o[1],a.height)+a.y]}return{viewRect:a,center:i}}function Bse(r,e){var t=OBe(r,e),n=t.viewRect,a=t.center,i=r.get("radius");ct(i)||(i=[0,i]);var s=Nt(n.width,e.getWidth()),o=Nt(n.height,e.getHeight()),l=Math.min(s,o),c=Nt(i[0],l/2),u=Nt(i[1],l/2);return{cx:a[0],cy:a[1],r0:c,r:u,viewRect:n}}function ma(r,e,t){t=ub(t||0);var n=e.width,a=e.height,i=Nt(r.left,n),s=Nt(r.top,a),o=Nt(r.right,n),l=Nt(r.bottom,a),c=Nt(r.width,n),u=Nt(r.height,a),f=t[2]+t[0],h=t[1]+t[3],d=r.aspect;switch(isNaN(c)&&(c=n-o-h-i),isNaN(u)&&(u=a-l-f-s),d!=null&&(isNaN(c)&&isNaN(u)&&(d>n/a?c=n*.8:u=a*.8),isNaN(c)&&(c=d*u),isNaN(u)&&(u=c/d)),isNaN(i)&&(i=n-o-c-h),isNaN(s)&&(s=a-l-u-f),r.left||r.right){case"center":i=n/2-c/2-t[3];break;case"right":i=n-c-h;break}switch(r.top||r.bottom){case"middle":case"center":s=a/2-u/2-t[0];break;case"bottom":s=a-u-f;break}i=i||0,s=s||0,isNaN(c)&&(c=n-h-i-(o||0)),isNaN(u)&&(u=a-f-s-(l||0));var v=new sr((e.x||0)+i+t[3],(e.y||0)+s+t[0],c,u);return v.margin=t,v}function zse(r,e,t){var n=r.getShallow("preserveAspect",!0);if(!n)return e;var a=e.width/e.height;if(Math.abs(Math.atan(t)-Math.atan(a))<1e-9)return e;var i=r.getShallow("preserveAspectAlign",!0),s=r.getShallow("preserveAspectVerticalAlign",!0),o={width:e.width,height:e.height},l=n==="cover";return a>t&&!l||a<t&&l?(o.width=e.height*t,i==="left"?o.left=0:i==="right"?o.right=0:o.left="center"):(o.height=e.width/t,s==="top"?o.top=0:s==="bottom"?o.bottom=0:o.top="middle"),ma(o,e)}var nw={rect:1,point:2};function Pi(r,e,t){var n,a,i,s=r.boxCoordinateSystem,o;if(s){var l=LBe(r),c=l.coord,u=l.from;if(s.dataToLayout){i=nw.rect,o=u;var f=s.dataToLayout(c);n=f.contentRect||f.rect}else t&&t.enableLayoutOnlyByCenter&&s.dataToPoint&&(i=nw.point,o=u,a=s.dataToPoint(c))}return i==null&&(i=nw.rect),i===nw.rect&&(n||(n={x:0,y:0,width:e.getWidth(),height:e.getHeight()}),a=[n.x+n.width/2,n.y+n.height/2]),{type:i,refContainer:n,refPoint:a,boxCoordFrom:o}}function sL(r,e,t,n,a,i){var s=!a||!a.hv||a.hv[0],o=!a||!a.hv||a.hv[1],l=a&&a.boundingMode||"all";if(i=i||r,i.x=r.x,i.y=r.y,!s&&!o)return!1;var c;if(l==="raw")c=r.type==="group"?new sr(0,0,+e.width||0,+e.height||0):r.getBoundingRect();else if(c=r.getBoundingRect(),r.needLocalTransform()){var u=r.getLocalTransform();c=c.clone(),c.applyTransform(u)}var f=ma(rr({width:c.width,height:c.height},e),t,n),h=s?f.x-c.x:0,d=o?f.y-c.y:0;return l==="raw"?(i.x=h,i.y=d):(i.x+=h,i.y+=d),i===r&&r.markRedraw(),!0}function kBe(r,e){return r[_m[e][0]]!=null||r[_m[e][1]]!=null&&r[_m[e][2]]!=null}function VT(r){var e=r.layoutMode||r.constructor.layoutMode;return nr(e)?e:e?{type:e}:null}function Ah(r,e,t){var n=t&&t.ignoreSize;!ct(n)&&(n=[n,n]);var a=s(_m[0],0),i=s(_m[1],1);l(_m[0],r,a),l(_m[1],r,i);function s(c,u){var f={},h=0,d={},v=0,g=2;if(lD(c,function(b){d[b]=r[b]}),lD(c,function(b){Ut(e,b)&&(f[b]=d[b]=e[b]),o(f,b)&&h++,o(d,b)&&v++}),n[u])return o(e,c[1])?d[c[2]]=null:o(e,c[2])&&(d[c[1]]=null),d;if(v===g||!h)return d;if(h>=g)return f;for(var m=0;m<c.length;m++){var y=c[m];if(!Ut(f,y)&&Ut(r,y)){f[y]=r[y];break}}return f}function o(c,u){return c[u]!=null&&c[u]!=="auto"}function l(c,u,f){lD(c,function(h){u[h]=f[h]})}}function yy(r){return Fse({},r)}function Fse(r,e){return e&&r&&lD(kse,function(t){Ut(e,t)&&(r[t]=e[t])}),r}var PBe=Pr(),kr=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this,t,n,a)||this;return i.uid=cb("ec_cpt_model"),i}return e.prototype.init=function(t,n,a){this.mergeDefaultAndTheme(t,a)},e.prototype.mergeDefaultAndTheme=function(t,n){var a=VT(this),i=a?yy(t):{},s=n.getTheme();Sr(t,s.get(this.mainType)),Sr(t,this.getDefaultOption()),a&&Ah(t,i,a)},e.prototype.mergeOption=function(t,n){Sr(this.option,t,!0);var a=VT(this);a&&Ah(this.option,t,a)},e.prototype.optionUpdated=function(t,n){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!mPe(t))return t.defaultOption;var n=PBe(this);if(!n.defaultOption){for(var a=[],i=t;i;){var s=i.prototype.defaultOption;s&&a.push(s),i=i.superClass}for(var o={},l=a.length-1;l>=0;l--)o=Sr(o,a[l],!0);n.defaultOption=o}return n.defaultOption},e.prototype.getReferringComponents=function(t,n){var a=t+"Index",i=t+"Id";return rb(this.ecModel,t,{index:this.get(a,!0),id:this.get(i,!0)},n)},e.prototype.getBoxLayoutParams=function(){return Pse(this,!1)},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=(function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0})(),e})(zr);Oie(kr,zr);ZI(kr);fBe(kr);hBe(kr,BBe);function BBe(r){var e=[];return te(kr.getClassesByMainType(r),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=ft(e,function(t){return uh(t).main}),r!=="dataset"&&br(e,"dataset")<=0&&e.unshift("dataset"),e}var We={color:{},darkColor:{},size:{}},Qa=We.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};nt(Qa,{primary:Qa.neutral80,secondary:Qa.neutral70,tertiary:Qa.neutral60,quaternary:Qa.neutral50,disabled:Qa.neutral20,border:Qa.neutral30,borderTint:Qa.neutral20,borderShade:Qa.neutral40,background:Qa.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:Qa.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:Qa.neutral70,axisLineTint:Qa.neutral40,axisTick:Qa.neutral70,axisTickMinor:Qa.neutral60,axisLabel:Qa.neutral70,axisSplitLine:Qa.neutral15,axisMinorSplitLine:Qa.neutral05});for(var Vg in Qa)if(Qa.hasOwnProperty(Vg)){var YY=Qa[Vg];Vg==="theme"?We.darkColor.theme=Qa.theme.slice():Vg==="highlight"?We.darkColor.highlight="rgba(255,231,130,0.4)":Vg.indexOf("accent")===0?We.darkColor[Vg]=jd(YY,null,function(r){return r*.5},function(r){return Math.min(1,1.3-r)}):We.darkColor[Vg]=jd(YY,null,function(r){return r*.9},function(r){return 1-Math.pow(r,1.5)})}We.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var Use="";typeof navigator<"u"&&(Use=navigator.platform||"");var u1="rgba(0, 0, 0, 0.2)",Vse=We.color.theme[0],zBe=jd(Vse,null,null,.9);const FBe={darkMode:"auto",colorBy:"series",color:We.color.theme,gradientColor:[zBe,Vse],aria:{decal:{decals:[{color:u1,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:u1,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:u1,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:u1,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:u1,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:u1,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Use.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Hse=Ht(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),cc="original",Ts="arrayRows",uc="objectRows",cf="keyedColumns",W0="typedArray",Gse="unknown",Qu="column",xy="row",Ls={Must:1,Might:2,Not:3},jse=Pr();function UBe(r){jse(r).datasetMap=Ht()}function Wse(r,e,t){var n={},a=ZF(e);if(!a||!r)return n;var i=[],s=[],o=e.ecModel,l=jse(o).datasetMap,c=a.uid+"_"+t.seriesLayoutBy,u,f;r=r.slice(),te(r,function(g,m){var y=nr(g)?g:r[m]={name:g};y.type==="ordinal"&&u==null&&(u=m,f=v(y)),n[y.name]=[]});var h=l.get(c)||l.set(c,{categoryWayDim:f,valueWayDim:0});te(r,function(g,m){var y=g.name,b=v(g);if(u==null){var S=h.valueWayDim;d(n[y],S,b),d(s,S,b),h.valueWayDim+=b}else if(u===m)d(n[y],0,b),d(i,0,b);else{var S=h.categoryWayDim;d(n[y],S,b),d(s,S,b),h.categoryWayDim+=b}});function d(g,m,y){for(var b=0;b<y;b++)g.push(m+b)}function v(g){var m=g.dimsDef;return m?m.length:1}return i.length&&(n.itemName=i),s.length&&(n.seriesName=s),n}function qF(r,e,t){var n={},a=ZF(r);if(!a)return n;var i=e.sourceFormat,s=e.dimensionsDefine,o;(i===uc||i===cf)&&te(s,function(u,f){(nr(u)?u.name:u)==="name"&&(o=f)});var l=(function(){for(var u={},f={},h=[],d=0,v=Math.min(5,t);d<v;d++){var g=Xse(e.data,i,e.seriesLayoutBy,s,e.startIndex,d);h.push(g);var m=g===Ls.Not;if(m&&u.v==null&&d!==o&&(u.v=d),(u.n==null||u.n===u.v||!m&&h[u.n]===Ls.Not)&&(u.n=d),y(u)&&h[u.n]!==Ls.Not)return u;m||(g===Ls.Might&&f.v==null&&d!==o&&(f.v=d),(f.n==null||f.n===f.v)&&(f.n=d))}function y(b){return b.v!=null&&b.n!=null}return y(u)?u:y(f)?f:null})();if(l){n.value=[l.v];var c=o??l.n;n.itemName=[c],n.seriesName=[c]}return n}function ZF(r){var e=r.get("data",!0);if(!e)return rb(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},Pa).models[0]}function VBe(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:rb(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Pa).models}function Yse(r,e){return Xse(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,e)}function Xse(r,e,t,n,a,i){var s,o=5;if(rl(r))return Ls.Not;var l,c;if(n){var u=n[i];nr(u)?(l=u.name,c=u.type):It(u)&&(l=u)}if(c!=null)return c==="ordinal"?Ls.Must:Ls.Not;if(e===Ts){var f=r;if(t===xy){for(var h=f[i],d=0;d<(h||[]).length&&d<o;d++)if((s=A(h[a+d]))!=null)return s}else for(var d=0;d<f.length&&d<o;d++){var v=f[a+d];if(v&&(s=A(v[i]))!=null)return s}}else if(e===uc){var g=r;if(!l)return Ls.Not;for(var d=0;d<g.length&&d<o;d++){var m=g[d];if(m&&(s=A(m[l]))!=null)return s}}else if(e===cf){var y=r;if(!l)return Ls.Not;var h=y[l];if(!h||rl(h))return Ls.Not;for(var d=0;d<h.length&&d<o;d++)if((s=A(h[d]))!=null)return s}else if(e===cc)for(var b=r,d=0;d<b.length&&d<o;d++){var m=b[d],S=tb(m);if(!ct(S))return Ls.Not;if((s=A(S[i]))!=null)return s}function A(E){var M=It(E);if(E!=null&&Number.isFinite(Number(E))&&E!=="")return M?Ls.Might:Ls.Not;if(M&&E!=="-")return Ls.Must}return Ls.Not}var Z6=Ht();function HBe(r,e){Hs(Z6.get(r)==null&&e),Z6.set(r,e)}function GBe(r,e,t){var n=Z6.get(e);if(!n)return t;var a=n(r);return a?t.concat(a):t}var XY=Pr(),jBe=Pr(),KF=(function(){function r(){}return r.prototype.getColorFromPalette=function(e,t,n){var a=$n(this.get("color",!0)),i=this.get("colorLayer",!0);return qse(this,XY,a,i,e,t,n)},r.prototype.clearColorPalette=function(){YBe(this,XY)},r})();function K6(r,e,t,n){var a=$n(r.get(["aria","decal","decals"]));return qse(r,jBe,a,null,e,t,n)}function WBe(r,e){for(var t=r.length,n=0;n<t;n++)if(r[n].length>e)return r[n];return r[t-1]}function qse(r,e,t,n,a,i,s){i=i||r;var o=e(i),l=o.paletteIdx||0,c=o.paletteNameMap=o.paletteNameMap||{};if(c.hasOwnProperty(a))return c[a];var u=s==null||!n?t:WBe(n,s);if(u=u||t,!(!u||!u.length)){var f=u[l];return a&&(c[a]=f),o.paletteIdx=(l+1)%u.length,f}}function YBe(r,e){e(r).paletteIdx=0,e(r).paletteNameMap={}}var KC,g2,qY,ZY="\0_ec_inner",XBe=1,$F=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,a,i,s,o){i=i||{},this.option=null,this._theme=new zr(i),this._locale=new zr(s),this._optionManager=o},e.prototype.setOption=function(t,n,a){var i=JY(n);this._optionManager.setOption(t,a,i),this._resetOption(null,i)},e.prototype.resetOption=function(t,n){return this._resetOption(t,JY(n))},e.prototype._resetOption=function(t,n){var a=!1,i=this._optionManager;if(!t||t==="recreate"){var s=i.mountOption(t==="recreate");!this.option||t==="recreate"?qY(this,s):(this.restoreData(),this._mergeOption(s,n)),a=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=i.getTimelineOption(this);o&&(a=!0,this._mergeOption(o,n))}if(!t||t==="recreate"||t==="media"){var l=i.getMediaOption(this);l.length&&te(l,function(c){a=!0,this._mergeOption(c,n)},this)}return a},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,n){var a=this.option,i=this._componentsMap,s=this._componentsCount,o=[],l=Ht(),c=n&&n.replaceMergeMainTypeMap;UBe(this),te(t,function(f,h){f!=null&&(kr.hasClass(h)?h&&(o.push(h),l.set(h,!0)):a[h]=a[h]==null?Qt(f):Sr(a[h],f,!0))}),c&&c.each(function(f,h){kr.hasClass(h)&&!l.get(h)&&(o.push(h),l.set(h,!0))}),kr.topologicalTravel(o,kr.getAllClassMainTypes(),u,this);function u(f){var h=GBe(this,f,$n(t[f])),d=i.get(f),v=d?c&&c.get(f)?"replaceMerge":"normalMerge":"replaceAll",g=Die(d,h,v);lPe(g,f,kr),a[f]=null,i.set(f,null),s.set(f,0);var m=[],y=[],b=0,S;te(g,function(A,E){var M=A.existing,R=A.newOption;if(!R)M&&(M.mergeOption({},this),M.optionUpdated({},!1));else{var L=f==="series",I=kr.getClass(f,A.keyInfo.subType,!L);if(!I)return;if(f==="tooltip"){if(S)return;S=!0}if(M&&M.constructor===I)M.name=A.keyInfo.name,M.mergeOption(R,this),M.optionUpdated(R,!1);else{var O=nt({componentIndex:E},A.keyInfo);M=new I(R,this,this,O),nt(M,O),A.brandNew&&(M.__requireNewView=!0),M.init(R,this,this),M.optionUpdated(null,!0)}}M?(m.push(M.option),y.push(M),b++):(m.push(void 0),y.push(void 0))},this),a[f]=m,i.set(f,y),s.set(f,b),f==="series"&&KC(this)}this._seriesIndices||KC(this)},e.prototype.getOption=function(){var t=Qt(this.option);return te(t,function(n,a){if(kr.hasClass(a)){for(var i=$n(n),s=i.length,o=!1,l=s-1;l>=0;l--)i[l]&&!PT(i[l])?o=!0:(i[l]=null,!o&&s--);i.length=s,t[a]=i}}),delete t[ZY],t},e.prototype.setTheme=function(t){this._theme=new zr(t),this._resetOption("recreate",null)},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,n){var a=this._componentsMap.get(t);if(a){var i=a[n||0];if(i)return i;if(n==null){for(var s=0;s<a.length;s++)if(a[s])return a[s]}}},e.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var a=t.index,i=t.id,s=t.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return a!=null?(l=[],te($n(a),function(c){o[c]&&l.push(o[c])})):i!=null?l=KY("id",i,o):s!=null?l=KY("name",s,o):l=fn(o,function(c){return!!c}),$Y(l,t)},e.prototype.findComponents=function(t){var n=t.query,a=t.mainType,i=o(n),s=i?this.queryComponents(i):fn(this._componentsMap.get(a),function(c){return!!c});return l($Y(s,t));function o(c){var u=a+"Index",f=a+"Id",h=a+"Name";return c&&(c[u]!=null||c[f]!=null||c[h]!=null)?{mainType:a,index:c[u],id:c[f],name:c[h]}:null}function l(c){return t.filter?fn(c,t.filter):c}},e.prototype.eachComponent=function(t,n,a){var i=this._componentsMap;if(Yt(t)){var s=n,o=t;i.each(function(f,h){for(var d=0;f&&d<f.length;d++){var v=f[d];v&&o.call(s,h,v,v.componentIndex)}})}else for(var l=It(t)?i.get(t):nr(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&n.call(a,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var n=Li(t,null);return fn(this._componentsMap.get("series"),function(a){return!!a&&n!=null&&a.name===n})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return fn(this._componentsMap.get("series"),function(n){return!!n&&n.subType===t})},e.prototype.getSeries=function(){return fn(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,n){g2(this),te(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];t.call(n,i,a)},this)},e.prototype.eachRawSeries=function(t,n){te(this._componentsMap.get("series"),function(a){a&&t.call(n,a,a.componentIndex)})},e.prototype.eachSeriesByType=function(t,n,a){g2(this),te(this._seriesIndices,function(i){var s=this._componentsMap.get("series")[i];s.subType===t&&n.call(a,s,i)},this)},e.prototype.eachRawSeriesByType=function(t,n,a){return te(this.getSeriesByType(t),n,a)},e.prototype.isSeriesFiltered=function(t){return g2(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,n){g2(this);var a=[];te(this._seriesIndices,function(i){var s=this._componentsMap.get("series")[i];t.call(n,s,i)&&a.push(i)},this),this._seriesIndices=a,this._seriesIndicesMap=Ht(a)},e.prototype.restoreData=function(t){KC(this);var n=this._componentsMap,a=[];n.each(function(i,s){kr.hasClass(s)&&a.push(s)}),kr.topologicalTravel(a,kr.getAllClassMainTypes(),function(i){te(n.get(i),function(s){s&&(i!=="series"||!qBe(s,t))&&s.restoreData()})})},e.internalField=(function(){KC=function(t){var n=t._seriesIndices=[];te(t._componentsMap.get("series"),function(a){a&&n.push(a.componentIndex)}),t._seriesIndicesMap=Ht(n)},g2=function(t){},qY=function(t,n){t.option={},t.option[ZY]=XBe,t._componentsMap=Ht({series:[]}),t._componentsCount=Ht();var a=n.aria;nr(a)&&a.enabled==null&&(a.enabled=!0),ZBe(n,t._theme.option),Sr(n,FBe,!1),t._mergeOption(n,null)}})(),e})(zr);function qBe(r,e){if(e){var t=e.seriesIndex,n=e.seriesId,a=e.seriesName;return t!=null&&r.componentIndex!==t||n!=null&&r.id!==n||a!=null&&r.name!==a}}function ZBe(r,e){var t=r.color&&!r.colorLayer;te(e,function(n,a){a==="colorLayer"&&t||a==="color"&&r.color||kr.hasClass(a)||(typeof n=="object"?r[a]=r[a]?Sr(r[a],n,!1):Qt(n):r[a]==null&&(r[a]=n))})}function KY(r,e,t){if(ct(e)){var n=Ht();return te(e,function(i){if(i!=null){var s=Li(i,null);s!=null&&n.set(i,!0)}}),fn(t,function(i){return i&&n.get(i[r])})}else{var a=Li(e,null);return fn(t,function(i){return i&&a!=null&&i[r]===a})}}function $Y(r,e){return e.hasOwnProperty("subType")?fn(r,function(t){return t&&t.subType===e.subType}):r}function JY(r){var e=Ht();return r&&te($n(r.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Xa($F,KF);var KBe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Zse=(function(){function r(e){te(KBe,function(t){this[t]=Ot(e[t],e)},this)}return r})(),$Be=/^(min|max)?(.+)$/,JBe=(function(){function r(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return r.prototype.setOption=function(e,t,n){e&&(te($n(e.series),function(s){s&&s.data&&rl(s.data)&&DT(s.data)}),te($n(e.dataset),function(s){s&&s.source&&rl(s.source)&&DT(s.source)})),e=Qt(e);var a=this._optionBackup,i=QBe(e,t,!a);this._newBaseOption=i.baseOption,a?(i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},r.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Qt(e?t.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var a=e.getComponent("timeline");a&&(t=Qt(n[a.getCurrentIndex()]))}return t},r.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,s=[],o=[];if(!a.length&&!i)return o;for(var l=0,c=a.length;l<c;l++)e8e(a[l].query,t,n)&&s.push(l);return!s.length&&i&&(s=[-1]),s.length&&!r8e(s,this._currentMediaIndices)&&(o=ft(s,function(u){return Qt(u===-1?i.option:a[u].option)})),this._currentMediaIndices=s,o},r})();function QBe(r,e,t){var n=[],a,i,s=r.baseOption,o=r.timeline,l=r.options,c=r.media,u=!!r.media,f=!!(l||o||s&&s.timeline);s?(i=s,i.timeline||(i.timeline=o)):((f||u)&&(r.options=r.media=null),i=r),u&&ct(c)&&te(c,function(d){d&&d.option&&(d.query?n.push(d):a||(a=d))}),h(i),te(l,function(d){return h(d)}),te(n,function(d){return h(d.option)});function h(d){te(e,function(v){v(d,t)})}return{baseOption:i,timelineOptions:l||[],mediaDefault:a,mediaList:n}}function e8e(r,e,t){var n={width:e,height:t,aspectratio:e/t},a=!0;return te(r,function(i,s){var o=s.match($Be);if(!(!o||!o[1]||!o[2])){var l=o[1],c=o[2].toLowerCase();t8e(n[c],i,l)||(a=!1)}}),a}function t8e(r,e,t){return t==="min"?r>=e:t==="max"?r<=e:r===e}function r8e(r,e){return r.join(",")===e.join(",")}var ku=te,HT=nr,QY=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Ak(r){var e=r&&r.itemStyle;if(e)for(var t=0,n=QY.length;t<n;t++){var a=QY[t],i=e.normal,s=e.emphasis;i&&i[a]&&(r[a]=r[a]||{},r[a].normal?Sr(r[a].normal,i[a]):r[a].normal=i[a],i[a]=null),s&&s[a]&&(r[a]=r[a]||{},r[a].emphasis?Sr(r[a].emphasis,s[a]):r[a].emphasis=s[a],s[a]=null)}}function co(r,e,t){if(r&&r[e]&&(r[e].normal||r[e].emphasis)){var n=r[e].normal,a=r[e].emphasis;n&&(t?(r[e].normal=r[e].emphasis=null,rr(r[e],n)):r[e]=n),a&&(r.emphasis=r.emphasis||{},r.emphasis[e]=a,a.focus&&(r.emphasis.focus=a.focus),a.blurScope&&(r.emphasis.blurScope=a.blurScope))}}function aw(r){co(r,"itemStyle"),co(r,"lineStyle"),co(r,"areaStyle"),co(r,"label"),co(r,"labelLine"),co(r,"upperLabel"),co(r,"edgeLabel")}function mi(r,e){var t=HT(r)&&r[e],n=HT(t)&&t.textStyle;if(n)for(var a=0,i=rY.length;a<i;a++){var s=rY[a];n.hasOwnProperty(s)&&(t[s]=n[s])}}function Vc(r){r&&(aw(r),mi(r,"label"),r.emphasis&&mi(r.emphasis,"label"))}function n8e(r){if(HT(r)){Ak(r),aw(r),mi(r,"label"),mi(r,"upperLabel"),mi(r,"edgeLabel"),r.emphasis&&(mi(r.emphasis,"label"),mi(r.emphasis,"upperLabel"),mi(r.emphasis,"edgeLabel"));var e=r.markPoint;e&&(Ak(e),Vc(e));var t=r.markLine;t&&(Ak(t),Vc(t));var n=r.markArea;n&&Vc(n);var a=r.data;if(r.type==="graph"){a=a||r.nodes;var i=r.links||r.edges;if(i&&!rl(i))for(var s=0;s<i.length;s++)Vc(i[s]);te(r.categories,function(c){aw(c)})}if(a&&!rl(a))for(var s=0;s<a.length;s++)Vc(a[s]);if(e=r.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)Vc(o[s]);if(t=r.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)ct(l[s])?(Vc(l[s][0]),Vc(l[s][1])):Vc(l[s]);r.type==="gauge"?(mi(r,"axisLabel"),mi(r,"title"),mi(r,"detail")):r.type==="treemap"?(co(r.breadcrumb,"itemStyle"),te(r.levels,function(c){aw(c)})):r.type==="tree"&&aw(r.leaves)}}function xd(r){return ct(r)?r:r?[r]:[]}function eX(r){return(ct(r)?r[0]:r)||{}}function a8e(r,e){ku(xd(r.series),function(n){HT(n)&&n8e(n)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),ku(t,function(n){ku(xd(r[n]),function(a){a&&(mi(a,"axisLabel"),mi(a.axisPointer,"label"))})}),ku(xd(r.parallel),function(n){var a=n&&n.parallelAxisDefault;mi(a,"axisLabel"),mi(a&&a.axisPointer,"label")}),ku(xd(r.calendar),function(n){co(n,"itemStyle"),mi(n,"dayLabel"),mi(n,"monthLabel"),mi(n,"yearLabel")}),ku(xd(r.radar),function(n){mi(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),ku(xd(r.geo),function(n){HT(n)&&(Vc(n),ku(xd(n.regions),function(a){Vc(a)}))}),ku(xd(r.timeline),function(n){Vc(n),co(n,"label"),co(n,"itemStyle"),co(n,"controlStyle",!0);var a=n.data;ct(a)&&te(a,function(i){nr(i)&&(co(i,"label"),co(i,"itemStyle"))})}),ku(xd(r.toolbox),function(n){co(n,"iconStyle"),ku(n.feature,function(a){co(a,"iconStyle")})}),mi(eX(r.axisPointer),"label"),mi(eX(r.tooltip).axisPointer,"label")}function i8e(r,e){for(var t=e.split(","),n=r,a=0;a<t.length&&(n=n&&n[t[a]],n!=null);a++);return n}function s8e(r,e,t,n){for(var a=e.split(","),i=r,s,o=0;o<a.length-1;o++)s=a[o],i[s]==null&&(i[s]={}),i=i[s];i[a[o]]==null&&(i[a[o]]=t)}function tX(r){r&&te(o8e,function(e){e[0]in r&&!(e[1]in r)&&(r[e[1]]=r[e[0]])})}var o8e=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],l8e=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Ek=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function m2(r){var e=r&&r.itemStyle;if(e)for(var t=0;t<Ek.length;t++){var n=Ek[t][1],a=Ek[t][0];e[n]!=null&&(e[a]=e[n])}}function rX(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(r.edgeDistance=r.margin)}function nX(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay)}function c8e(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(r.emphasis.focus="adjacency"))}function Kse(r,e){if(r)for(var t=0;t<r.length;t++)e(r[t]),r[t]&&Kse(r[t].children,e)}function $se(r,e){a8e(r,e),r.series=$n(r.series),te(r.series,function(t){if(nr(t)){var n=t.type;if(n==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(n==="pie"||n==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),rX(t.label);var a=t.data;if(a&&!rl(a))for(var i=0;i<a.length;i++)rX(a[i]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(n==="gauge"){var s=i8e(t,"pointer.color");s!=null&&s8e(t,"itemStyle.color",s)}else if(n==="bar"){m2(t),m2(t.backgroundStyle),m2(t.emphasis);var a=t.data;if(a&&!rl(a))for(var i=0;i<a.length;i++)typeof a[i]=="object"&&(m2(a[i]),m2(a[i]&&a[i].emphasis))}else if(n==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),nX(t),Kse(t.data,nX)}else n==="graph"||n==="sankey"?c8e(t):n==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&rr(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),tX(t)}}),r.dataRange&&(r.visualMap=r.dataRange),te(l8e,function(t){var n=r[t];n&&(ct(n)||(n=[n]),te(n,function(a){tX(a)}))})}function u8e(r){var e=Ht();r.eachSeries(function(t){var n=t.get("stack");if(n){var a=e.get(n)||e.set(n,[]),i=t.getData(),s={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;a.push(s)}}),e.each(function(t){if(t.length!==0){var n=t[0].seriesModel,a=n.get("stackOrder")||"seriesAsc";a==="seriesDesc"&&t.reverse(),te(t,function(i,s){i.data.setCalculationInfo("stackedOnSeries",s>0?t[s-1].seriesModel:null)}),f8e(t)}})}function f8e(r){te(r,function(e,t){var n=[],a=[NaN,NaN],i=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(i,function(c,u,f){var h=s.get(e.stackedDimension,f);if(isNaN(h))return a;var d,v;o?v=s.getRawIndex(f):d=s.get(e.stackedByDimension,f);for(var g=NaN,m=t-1;m>=0;m--){var y=r[m];if(o||(v=y.data.rawIndexOf(y.stackedByDimension,d)),v>=0){var b=y.data.getByRawIndex(y.stackResultDimension,v);if(l==="all"||l==="positive"&&b>0||l==="negative"&&b<0||l==="samesign"&&h>=0&&b>0||l==="samesign"&&h<=0&&b<0){h=Z5e(h,b),g=b;break}}}return n[0]=h,n[1]=g,n})})}var oL=(function(){function r(e){this.data=e.data||(e.sourceFormat===cf?{}:[]),this.sourceFormat=e.sourceFormat||Gse,this.seriesLayoutBy=e.seriesLayoutBy||Qu,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var a=t[n];a.type==null&&Yse(this,n)===Ls.Must&&(a.type="ordinal")}}return r})();function JF(r){return r instanceof oL}function $6(r,e,t){t=t||Jse(r);var n=e.seriesLayoutBy,a=d8e(r,t,n,e.sourceHeader,e.dimensions),i=new oL({data:r,sourceFormat:t,seriesLayoutBy:n,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:Qt(e)});return i}function QF(r){return new oL({data:r,sourceFormat:rl(r)?W0:cc})}function h8e(r){return new oL({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:Qt(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function Jse(r){var e=Gse;if(rl(r))e=W0;else if(ct(r)){r.length===0&&(e=Ts);for(var t=0,n=r.length;t<n;t++){var a=r[t];if(a!=null){if(ct(a)||rl(a)){e=Ts;break}else if(nr(a)){e=uc;break}}}}else if(nr(r)){for(var i in r)if(Ut(r,i)&&Vs(r[i])){e=cf;break}}return e}function d8e(r,e,t,n,a){var i,s;if(!r)return{dimensionsDefine:aX(a),startIndex:s,dimensionsDetectedCount:i};if(e===Ts){var o=r;n==="auto"||n==null?iX(function(c){c!=null&&c!=="-"&&(It(c)?s==null&&(s=1):s=0)},t,o,10):s=$r(n)?n:n?1:0,!a&&s===1&&(a=[],iX(function(c,u){a[u]=c!=null?c+"":""},t,o,1/0)),i=a?a.length:t===xy?o.length:o[0]?o[0].length:null}else if(e===uc)a||(a=p8e(r));else if(e===cf)a||(a=[],te(r,function(c,u){a.push(u)}));else if(e===cc){var l=tb(r[0]);i=ct(l)&&l.length||1}return{startIndex:s,dimensionsDefine:aX(a),dimensionsDetectedCount:i}}function p8e(r){for(var e=0,t;e<r.length&&!(t=r[e++]););if(t)return Yr(t)}function aX(r){if(r){var e=Ht();return ft(r,function(t,n){t=nr(t)?t:{name:t};var a={name:t.name,displayName:t.displayName,type:t.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var i=e.get(a.name);return i?a.name+="-"+i.count++:e.set(a.name,{count:1}),a})}}function iX(r,e,t,n){if(e===xy)for(var a=0;a<t.length&&a<n;a++)r(t[a]?t[a][0]:null,a);else for(var i=t[0]||[],a=0;a<i.length&&a<n;a++)r(i[a],a)}function Qse(r){var e=r.sourceFormat;return e===uc||e===cf}var Hg,Gg,jg,Wg,sX,oX,eoe=(function(){function r(e,t){var n=JF(e)?e:QF(e);this._source=n;var a=this._data=n.data,i=n.sourceFormat;n.seriesLayoutBy,i===W0&&(this._offset=0,this._dimSize=t,this._data=a),oX(this,a,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(e,t){},r.prototype.appendData=function(e){},r.prototype.clean=function(){},r.protoInitialize=(function(){var e=r.prototype;e.pure=!1,e.persistent=!0})(),r.internalField=(function(){var e;oX=function(s,o,l){var c=l.sourceFormat,u=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,d=sX[eU(c,u)];if(nt(s,d),c===W0)s.getItem=t,s.count=a,s.fillStorage=n;else{var v=toe(c,u);s.getItem=Ot(v,null,o,f,h);var g=roe(c,u);s.count=Ot(g,null,o,f,h)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,c=this._dimSize,u=c*s,f=0;f<c;f++)o[f]=l[u+f];return o},n=function(s,o,l,c){for(var u=this._data,f=this._dimSize,h=0;h<f;h++){for(var d=c[h],v=d[0]==null?1/0:d[0],g=d[1]==null?-1/0:d[1],m=o-s,y=l[h],b=0;b<m;b++){var S=u[b*f+h];y[s+b]=S,S<v&&(v=S),S>g&&(g=S)}d[0]=v,d[1]=g}},a=function(){return this._data?this._data.length/this._dimSize:0};sX=(e={},e[Ts+"_"+Qu]={pure:!0,appendData:i},e[Ts+"_"+xy]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[uc]={pure:!0,appendData:i},e[cf]={pure:!0,appendData:function(s){var o=this._data;te(s,function(l,c){for(var u=o[c]||(o[c]=[]),f=0;f<(l||[]).length;f++)u.push(l[f])})}},e[cc]={appendData:i},e[W0]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function i(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}})(),r})(),$C=function(r){ct(r)||Eie("series.data or dataset.source must be an array.")};Hg={},Hg[Ts+"_"+Qu]=$C,Hg[Ts+"_"+xy]=$C,Hg[uc]=$C,Hg[cf]=function(r,e){for(var t=0;t<e.length;t++){var n=e[t].name;n==null&&Eie("dimension name must not be null/undefined.")}},Hg[cc]=$C;var lX=function(r,e,t,n){return r[n]},v8e=(Gg={},Gg[Ts+"_"+Qu]=function(r,e,t,n){return r[n+e]},Gg[Ts+"_"+xy]=function(r,e,t,n,a){n+=e;for(var i=a||[],s=r,o=0;o<s.length;o++){var l=s[o];i[o]=l?l[n]:null}return i},Gg[uc]=lX,Gg[cf]=function(r,e,t,n,a){for(var i=a||[],s=0;s<t.length;s++){var o=t[s].name,l=o!=null?r[o]:null;i[s]=l?l[n]:null}return i},Gg[cc]=lX,Gg);function toe(r,e){var t=v8e[eU(r,e)];return t}var cX=function(r,e,t){return r.length},g8e=(jg={},jg[Ts+"_"+Qu]=function(r,e,t){return Math.max(0,r.length-e)},jg[Ts+"_"+xy]=function(r,e,t){var n=r[0];return n?Math.max(0,n.length-e):0},jg[uc]=cX,jg[cf]=function(r,e,t){var n=t[0].name,a=n!=null?r[n]:null;return a?a.length:0},jg[cc]=cX,jg);function roe(r,e){var t=g8e[eU(r,e)];return t}var Mk=function(r,e,t){return r[e]},m8e=(Wg={},Wg[Ts]=Mk,Wg[uc]=function(r,e,t){return r[t]},Wg[cf]=Mk,Wg[cc]=function(r,e,t){var n=tb(r);return n instanceof Array?n[e]:n},Wg[W0]=Mk,Wg);function noe(r){var e=m8e[r];return e}function eU(r,e){return r===Ts?r+"_"+e:r}function D_(r,e,t){if(r){var n=r.getRawDataItem(e);if(n!=null){var a=r.getStore(),i=a.getSource().sourceFormat;if(t!=null){var s=r.getDimensionIndex(t),o=a.getDimensionProperty(s);return noe(i)(n,s,o)}else{var l=n;return i===cc&&(l=tb(n)),l}}}}var y8e=/\{@(.+?)\}/g,lL=(function(){function r(){}return r.prototype.getDataParams=function(e,t){var n=this.getData(t),a=this.getRawValue(e,t),i=n.getRawIndex(e),s=n.getName(e),o=n.getRawDataItem(e),l=n.getItemVisual(e,"style"),c=l&&l[n.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,f=this.mainType,h=f==="series",d=n.userOutput&&n.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:s,dataIndex:i,data:o,dataType:t,value:a,color:c,borderColor:u,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(e,t,n,a,i,s){t=t||"normal";var o=this.getData(n),l=this.getDataParams(e,n);if(s&&(l.value=s.interpolatedValue),a!=null&&ct(l.value)&&(l.value=l.value[a]),!i){var c=o.getItemModel(e);i=c.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Yt(i))return l.status=t,l.dimensionIndex=a,i(l);if(It(i)){var u=YF(i,l);return u.replace(y8e,function(f,h){var d=h.length,v=h;v.charAt(0)==="["&&v.charAt(d-1)==="]"&&(v=+v.slice(1,d-1));var g=D_(o,e,v);if(s&&ct(s.interpolatedValue)){var m=o.getDimensionIndex(v);m>=0&&(g=s.interpolatedValue[m])}return g!=null?g+"":""})}},r.prototype.getRawValue=function(e,t){return D_(this.getData(t),e)},r.prototype.formatTooltip=function(e,t,n){},r})();function uX(r){var e,t;return nr(r)?r.type&&(t=r):e=r,{text:e,frag:t}}function Yw(r){return new x8e(r)}var x8e=(function(){function r(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return r.prototype.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var a=this.context;a.data=a.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!n&&(i=this._plan(this.context));var s=u(this._modBy),o=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;(s!==l||o!==c)&&(i="reset");function u(b){return!(b>=1)&&(b=1),b}var f;(this._dirty||i==="reset")&&(this._dirty=!1,f=this._doReset(n)),this._modBy=l,this._modDataCount=c;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,v=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(f||d<v)){var g=this._progress;if(ct(g))for(var m=0;m<g.length;m++)this._doProgress(g[m],d,v,l,c);else this._doProgress(g,d,v,l,c)}this._dueIndex=v;var y=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(e,t,n,a,i){fX.reset(t,n,a,i),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:fX.next},this.context)},r.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,n;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),ct(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},r})(),fX=(function(){var r,e,t,n,a,i={reset:function(l,c,u,f){e=l,r=c,t=u,n=f,a=Math.ceil(n/t),i.next=t>1&&n>0?o:s}};return i;function s(){return e<r?e++:null}function o(){var l=e%a*t+Math.ceil(e/a),c=e>=r?null:l<n?l:e;return e++,c}})();function Y0(r,e){var t=e&&e.type;return t==="ordinal"?r:(t==="time"&&!$r(r)&&r!=null&&r!=="-"&&(r=+Ih(r)),r==null||r===""?NaN:Number(r))}var _8e=Ht({number:function(r){return parseFloat(r)},time:function(r){return+Ih(r)},trim:function(r){return It(r)?Jl(r):r}});function aoe(r){return _8e.get(r)}var ioe={lt:function(r,e){return r<e},lte:function(r,e){return r<=e},gt:function(r,e){return r>e},gte:function(r,e){return r>=e}},b8e=(function(){function r(e,t){if(!$r(t)){var n="";mn(n)}this._opFn=ioe[e],this._rvalFloat=wh(t)}return r.prototype.evaluate=function(e){return $r(e)?this._opFn(e,this._rvalFloat):this._opFn(wh(e),this._rvalFloat)},r})(),soe=(function(){function r(e,t){var n=e==="desc";this._resultLT=n?1:-1,t==null&&(t=n?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return r.prototype.evaluate=function(e,t){var n=$r(e)?e:wh(e),a=$r(t)?t:wh(t),i=isNaN(n),s=isNaN(a);if(i&&(n=this._incomparable),s&&(a=this._incomparable),i&&s){var o=It(e),l=It(t);o&&(n=l?e:0),l&&(a=o?t:0)}return n<a?this._resultLT:n>a?-this._resultLT:0},r})(),S8e=(function(){function r(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=wh(t)}return r.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var n=typeof e;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(t=wh(e)===this._rvalFloat)}return this._isEQ?t:!t},r})();function w8e(r,e){return r==="eq"||r==="ne"?new S8e(r==="eq",e):Ut(ioe,r)?new b8e(r,e):null}var T8e=(function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(e){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(e){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(e,t){},r.prototype.retrieveValueFromItem=function(e,t){},r.prototype.convertValue=function(e,t){return Y0(e,t)},r})();function A8e(r,e){var t=new T8e,n=r.data,a=t.sourceFormat=r.sourceFormat,i=r.startIndex,s="";r.seriesLayoutBy!==Qu&&mn(s);var o=[],l={},c=r.dimensionsDefine;if(c)te(c,function(g,m){var y=g.name,b={index:m,name:y,displayName:g.displayName};if(o.push(b),y!=null){var S="";Ut(l,y)&&mn(S),l[y]=b}});else for(var u=0;u<r.dimensionsDetectedCount;u++)o.push({index:u});var f=toe(a,Qu);e.__isBuiltIn&&(t.getRawDataItem=function(g){return f(n,i,o,g)},t.getRawData=Ot(E8e,null,r)),t.cloneRawData=Ot(M8e,null,r);var h=roe(a,Qu);t.count=Ot(h,null,n,i,o);var d=noe(a);t.retrieveValue=function(g,m){var y=f(n,i,o,g);return v(y,m)};var v=t.retrieveValueFromItem=function(g,m){if(g!=null){var y=o[m];if(y)return d(g,m,y.name)}};return t.getDimensionInfo=Ot(C8e,null,o,l),t.cloneAllDimensionInfo=Ot(D8e,null,o),t}function E8e(r){var e=r.sourceFormat;if(!tU(e)){var t="";mn(t)}return r.data}function M8e(r){var e=r.sourceFormat,t=r.data;if(!tU(e)){var n="";mn(n)}if(e===Ts){for(var a=[],i=0,s=t.length;i<s;i++)a.push(t[i].slice());return a}else if(e===uc){for(var a=[],i=0,s=t.length;i<s;i++)a.push(nt({},t[i]));return a}}function C8e(r,e,t){if(t!=null){if($r(t)||!isNaN(t)&&!Ut(e,t))return r[t];if(Ut(e,t))return e[t]}}function D8e(r){return Qt(r)}var ooe=Ht();function R8e(r){r=Qt(r);var e=r.type,t="";e||mn(t);var n=e.split(":");n.length!==2&&mn(t);var a=!1;n[0]==="echarts"&&(e=n[1],a=!0),r.__isBuiltIn=a,ooe.set(e,r)}function N8e(r,e,t){var n=$n(r),a=n.length,i="";a||mn(i);for(var s=0,o=a;s<o;s++){var l=n[s];e=I8e(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function I8e(r,e,t,n){var a="";e.length||mn(a),nr(r)||mn(a);var i=r.type,s=ooe.get(i);s||mn(a);var o=ft(e,function(c){return A8e(c,s)}),l=$n(s.transform({upstream:o[0],upstreamList:o,config:Qt(r.config)}));return ft(l,function(c,u){var f="";nr(c)||mn(f),c.data||mn(f);var h=Jse(c.data);tU(h)||mn(f);var d,v=e[0];if(v&&u===0&&!c.dimensions){var g=v.startIndex;g&&(c.data=v.data.slice(0,g).concat(c.data)),d={seriesLayoutBy:Qu,sourceHeader:g,dimensions:v.metaRawOption.dimensions}}else d={seriesLayoutBy:Qu,sourceHeader:0,dimensions:c.dimensions};return $6(c.data,d,null)})}function tU(r){return r===Ts||r===uc}var cL="undefined",L8e=typeof Uint32Array===cL?Array:Uint32Array,O8e=typeof Uint16Array===cL?Array:Uint16Array,loe=typeof Int32Array===cL?Array:Int32Array,hX=typeof Float64Array===cL?Array:Float64Array,coe={float:hX,int:loe,ordinal:Array,number:Array,time:hX},Ck;function f1(r){return r>65535?L8e:O8e}function h1(){return[1/0,-1/0]}function k8e(r){var e=r.constructor;return e===Array?r.slice():new e(r)}function dX(r,e,t,n,a){var i=coe[t||"float"];if(a){var s=r[e],o=s&&s.length;if(o!==n){for(var l=new i(n),c=0;c<o;c++)l[c]=s[c];r[e]=l}}else r[e]=new i(n)}var J6=(function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Ht()}return r.prototype.initData=function(e,t,n){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=e.getSource(),i=this.defaultDimValueGetter=Ck[a.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[],Qse(a),this._dimensions=ft(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,a=this._dimensions,i=n.get(e);if(i!=null){if(a[i].type===t)return i}else i=a.length;return a[i]={type:t},n.set(e,i),this._chunks[i]=new coe[t||"float"](this._rawCount),this._rawExtent[i]=h1(),i},r.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],a=this._dimensions[e],i=this._rawExtent,s=a.ordinalOffset||0,o=n.length;s===0&&(i[e]=h1());for(var l=i[e],c=s;c<o;c++){var u=n[c]=t.parseAndCollect(n[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}a.ordinalMeta=t,a.ordinalOffset=o,a.type="ordinal"},r.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],n=t.ordinalMeta;return n},r.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},r.prototype.appendData=function(e){var t=this._provider,n=this.count();t.appendData(e);var a=t.count();return t.persistent||(a+=n),n<a&&this._initDataFromProvider(n,a,!0),[n,a]},r.prototype.appendValues=function(e,t){for(var n=this._chunks,a=this._dimensions,i=a.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),c=0;c<i;c++){var u=a[c];dX(n,c,u.type,l,!0)}for(var f=[],h=o;h<l;h++)for(var d=h-o,v=0;v<i;v++){var u=a[v],g=Ck.arrayRows.call(this,e[d]||f,u.property,d,v);n[v][h]=g;var m=s[v];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}return this._rawCount=this._count=l,{start:o,end:l}},r.prototype._initDataFromProvider=function(e,t,n){for(var a=this._provider,i=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,c=ft(s,function(b){return b.property}),u=0;u<o;u++){var f=s[u];l[u]||(l[u]=h1()),dX(i,u,f.type,t,n)}if(a.fillStorage)a.fillStorage(e,t,i,l);else for(var h=[],d=e;d<t;d++){h=a.getItem(d,h);for(var v=0;v<o;v++){var g=i[v],m=this._dimValueGetter(h,c[v],d,v);g[d]=m;var y=l[v];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=t,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},r.prototype.getValues=function(e,t){var n=[],a=[];if(t==null){t=e,e=[];for(var i=0;i<this._dimensions.length;i++)a.push(i)}else a=e;for(var i=0,s=a.length;i<s;i++)n.push(this.get(a[i],t));return n},r.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},r.prototype.getSum=function(e){var t=this._chunks[e],n=0;if(t)for(var a=0,i=this.count();a<i;a++){var s=this.get(e,a);isNaN(s)||(n+=s)}return n},r.prototype.getMedian=function(e){var t=[];this.each([e],function(i){isNaN(i)||t.push(i)});var n=t.sort(function(i,s){return i-s}),a=this.count();return a===0?0:a%2===1?n[(a-1)/2]:(n[a/2]+n[a/2-1])/2},r.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(n!=null&&n<this._count&&n===e)return e;for(var a=0,i=this._count-1;a<=i;){var s=(a+i)/2|0;if(t[s]<e)a=s+1;else if(t[s]>e)i=s-1;else return s}return-1},r.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,a=this._count;if(n===Array){e=new n(a);for(var i=0;i<a;i++)e[i]=t[i]}else e=new n(t.buffer,0,a)}else{var n=f1(this._rawCount);e=new n(this.count());for(var i=0;i<e.length;i++)e[i]=i}return e},r.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),a=n.count(),i=f1(n._rawCount),s=new i(a),o=[],l=e.length,c=0,u=e[0],f=n._chunks,h=0;h<a;h++){var d=void 0,v=n.getRawIndex(h);if(l===0)d=t(h);else if(l===1){var g=f[u][v];d=t(g,h)}else{for(var m=0;m<l;m++)o[m]=f[e[m]][v];o[m]=h,d=t.apply(null,o)}d&&(s[c++]=v)}return c<a&&(n._indices=s),n._count=c,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var a=Yr(e),i=a.length;if(!i)return this;var s=t.count(),o=f1(t._rawCount),l=new o(s),c=0,u=a[0],f=e[u][0],h=e[u][1],d=t._chunks,v=!1;if(!t._indices){var g=0;if(i===1){for(var m=d[a[0]],y=0;y<n;y++){var b=m[y];(b>=f&&b<=h||isNaN(b))&&(l[c++]=g),g++}v=!0}else if(i===2){for(var m=d[a[0]],S=d[a[1]],A=e[a[1]][0],E=e[a[1]][1],y=0;y<n;y++){var b=m[y],M=S[y];(b>=f&&b<=h||isNaN(b))&&(M>=A&&M<=E||isNaN(M))&&(l[c++]=g),g++}v=!0}}if(!v)if(i===1)for(var y=0;y<s;y++){var R=t.getRawIndex(y),b=d[a[0]][R];(b>=f&&b<=h||isNaN(b))&&(l[c++]=R)}else for(var y=0;y<s;y++){for(var L=!0,R=t.getRawIndex(y),I=0;I<i;I++){var O=a[I],b=d[O][R];(b<e[O][0]||b>e[O][1])&&(L=!1)}L&&(l[c++]=t.getRawIndex(y))}return c<s&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},r.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},r.prototype.modify=function(e,t){this._updateDims(this,e,t)},r.prototype._updateDims=function(e,t,n){for(var a=e._chunks,i=[],s=t.length,o=e.count(),l=[],c=e._rawExtent,u=0;u<t.length;u++)c[t[u]]=h1();for(var f=0;f<o;f++){for(var h=e.getRawIndex(f),d=0;d<s;d++)l[d]=a[t[d]][h];l[s]=f;var v=n&&n.apply(null,l);if(v!=null){typeof v!="object"&&(i[0]=v,v=i);for(var u=0;u<v.length;u++){var g=t[u],m=v[u],y=c[g],b=a[g];b&&(b[h]=m),m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}}}},r.prototype.lttbDownSample=function(e,t){var n=this.clone([e],!0),a=n._chunks,i=a[e],s=this.count(),o=0,l=Math.floor(1/t),c=this.getRawIndex(0),u,f,h,d=new(f1(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));d[o++]=c;for(var v=1;v<s-1;v+=l){for(var g=Math.min(v+l,s-1),m=Math.min(v+l*2,s),y=(m+g)/2,b=0,S=g;S<m;S++){var A=this.getRawIndex(S),E=i[A];isNaN(E)||(b+=E)}b/=m-g;var M=v,R=Math.min(v+l,s),L=v-1,I=i[c];u=-1,h=M;for(var O=-1,P=0,S=M;S<R;S++){var A=this.getRawIndex(S),E=i[A];if(isNaN(E)){P++,O<0&&(O=A);continue}f=Math.abs((L-y)*(E-I)-(L-S)*(b-I)),f>u&&(u=f,h=A)}P>0&&P<R-M&&(d[o++]=Math.min(O,h),h=Math.max(O,h)),d[o++]=h,c=h}return d[o++]=this.getRawIndex(s-1),n._count=o,n._indices=d,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(e,t){for(var n=this.clone([e],!0),a=n._chunks,i=Math.floor(1/t),s=a[e],o=this.count(),l=new(f1(this._rawCount))(Math.ceil(o/i)*2),c=0,u=0;u<o;u+=i){var f=u,h=s[this.getRawIndex(f)],d=u,v=s[this.getRawIndex(d)],g=i;u+i>o&&(g=o-u);for(var m=0;m<g;m++){var y=this.getRawIndex(u+m),b=s[y];b<h&&(h=b,f=u+m),b>v&&(v=b,d=u+m)}var S=this.getRawIndex(f),A=this.getRawIndex(d);f<d?(l[c++]=S,l[c++]=A):(l[c++]=A,l[c++]=S)}return n._count=c,n._indices=l,n._updateGetRawIdx(),n},r.prototype.downSample=function(e,t,n,a){for(var i=this.clone([e],!0),s=i._chunks,o=[],l=Math.floor(1/t),c=s[e],u=this.count(),f=i._rawExtent[e]=h1(),h=new(f1(this._rawCount))(Math.ceil(u/l)),d=0,v=0;v<u;v+=l){l>u-v&&(l=u-v,o.length=l);for(var g=0;g<l;g++){var m=this.getRawIndex(v+g);o[g]=c[m]}var y=n(o),b=this.getRawIndex(Math.min(v+a(o,y)||0,u-1));c[b]=y,y<f[0]&&(f[0]=y),y>f[1]&&(f[1]=y),h[d++]=b}return i._count=d,i._indices=h,i._updateGetRawIdx(),i},r.prototype.each=function(e,t){if(this._count)for(var n=e.length,a=this._chunks,i=0,s=this.count();i<s;i++){var o=this.getRawIndex(i);switch(n){case 0:t(i);break;case 1:t(a[e[0]][o],i);break;case 2:t(a[e[0]][o],a[e[1]][o],i);break;default:for(var l=0,c=[];l<n;l++)c[l]=a[e[l]][o];c[l]=i,t.apply(null,c)}}},r.prototype.getDataExtent=function(e){var t=this._chunks[e],n=h1();if(!t)return n;var a=this.count(),i=!this._indices,s;if(i)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=n;for(var o=s[0],l=s[1],c=0;c<a;c++){var u=this.getRawIndex(c),f=t[u];f<o&&(o=f),f>l&&(l=f)}return s=[o,l],this._extent[e]=s,s},r.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],a=this._chunks,i=0;i<a.length;i++)n.push(a[i][t]);return n},r.prototype.clone=function(e,t){var n=new r,a=this._chunks,i=e&&Jc(e,function(o,l){return o[l]=!0,o},{});if(i)for(var s=0;s<a.length;s++)n._chunks[s]=i[s]?k8e(a[s]):a[s];else n._chunks=a;return this._copyCommonProps(n),t||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Qt(this._extent),e._rawExtent=Qt(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var a=0;a<n;a++)t[a]=this._indices[a]}else t=new e(this._indices);return t}return null},r.prototype._getRawIdxIdentity=function(e){return e},r.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=(function(){function e(t,n,a,i){return Y0(t[i],this._dimensions[i])}Ck={arrayRows:e,objectRows:function(t,n,a,i){return Y0(t[n],this._dimensions[i])},keyedColumns:e,original:function(t,n,a,i){var s=t&&(t.value==null?t:t.value);return Y0(s instanceof Array?s[i]:s,this._dimensions[i])},typedArray:function(t,n,a,i){return t[i]}}})(),r})(),uoe=(function(){function r(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),n=!!t.length,a,i;if(JC(e)){var s=e,o=void 0,l=void 0,c=void 0;if(n){var u=t[0];u.prepareSource(),c=u.getSource(),o=c.data,l=c.sourceFormat,i=[u._getVersionSign()]}else o=s.get("data",!0),l=rl(o)?W0:cc,i=[];var f=this._getSourceMetaRawOption()||{},h=c&&c.metaRawOption||{},d=Gt(f.seriesLayoutBy,h.seriesLayoutBy)||null,v=Gt(f.sourceHeader,h.sourceHeader),g=Gt(f.dimensions,h.dimensions),m=d!==h.seriesLayoutBy||!!v!=!!h.sourceHeader||g;a=m?[$6(o,{seriesLayoutBy:d,sourceHeader:v,dimensions:g},l)]:[]}else{var y=e;if(n){var b=this._applyTransform(t);a=b.sourceList,i=b.upstreamSignList}else{var S=y.get("source",!0);a=[$6(S,this._getSourceMetaRawOption(),null)],i=[]}}this._setLocalSource(a,i)},r.prototype._applyTransform=function(e){var t=this._sourceHost,n=t.get("transform",!0),a=t.get("fromTransformResult",!0);if(a!=null){var i="";e.length!==1&&vX(i)}var s,o=[],l=[];return te(e,function(c){c.prepareSource();var u=c.getSource(a||0),f="";a!=null&&!u&&vX(f),o.push(u),l.push(c._getVersionSign())}),n?s=N8e(n,o,{datasetIndex:t.componentIndex}):a!=null&&(s=[h8e(o[0])]),{sourceList:s,upstreamSignList:l}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},r.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},r.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},r.prototype._innerGetDataStore=function(e,t,n){var a=0,i=this._storeList,s=i[a];s||(s=i[a]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];JC(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,n):(o=new J6,o.initData(new eoe(t,e.length),e)),s[n]=o}return o},r.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(JC(e)){var t=ZF(e);return t?[t.getSourceManager()]:[]}else return ft(VBe(e),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,n,a;if(JC(e))t=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),a=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=e;t=i.get("seriesLayoutBy",!0),n=i.get("sourceHeader",!0),a=i.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:a}},r})();function pX(r){var e=r.option.transform;e&&DT(r.option.transform)}function JC(r){return r.mainType==="series"}function vX(r){throw new Error(r)}var P8e="line-height:1";function foe(r){var e=r.lineHeight;return e==null?P8e:"line-height:"+ho(e+"")+"px"}function hoe(r,e){var t=r.color||We.color.tertiary,n=r.fontSize||12,a=r.fontWeight||"400",i=r.color||We.color.secondary,s=r.fontSize||14,o=r.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+ho(n+"")+"px;color:"+ho(t)+";font-weight:"+ho(a+""),valueStyle:"font-size:"+ho(s+"")+"px;color:"+ho(i)+";font-weight:"+ho(o+"")}:{nameStyle:{fontSize:n,fill:t,fontWeight:a},valueStyle:{fontSize:s,fill:i,fontWeight:o}}}var B8e=[0,10,20,30],z8e=["",`
`,`

`,`


`];function Si(r,e){return e.type=r,e}function Q6(r){return r.type==="section"}function doe(r){return Q6(r)?F8e:U8e}function poe(r){if(Q6(r)){var e=0,t=r.blocks.length,n=t>1||t>0&&!r.noHeader;return te(r.blocks,function(a){var i=poe(a);i>=e&&(e=i+ +(n&&(!i||Q6(a)&&!a.noHeader)))}),e}return 0}function F8e(r,e,t,n){var a=e.noHeader,i=V8e(poe(e)),s=[],o=e.blocks||[];Hs(!o||ct(o)),o=o||[];var l=r.orderMode;if(e.sortBlocks&&l){o=o.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Ut(c,l)){var u=new soe(c[l],null);o.sort(function(g,m){return u.evaluate(g.sortParam,m.sortParam)})}else l==="seriesDesc"&&o.reverse()}te(o,function(g,m){var y=e.valueFormatter,b=doe(g)(y?nt(nt({},r),{valueFormatter:y}):r,g,m>0?i.html:0,n);b!=null&&s.push(b)});var f=r.renderMode==="richText"?s.join(i.richText):eB(n,s.join(""),a?t:i.html);if(a)return f;var h=X6(e.header,"ordinal",r.useUTC),d=hoe(n,r.renderMode).nameStyle,v=foe(n);return r.renderMode==="richText"?voe(r,h,d)+i.richText+f:eB(n,'<div style="'+d+";"+v+';">'+ho(h)+"</div>"+f,t)}function U8e(r,e,t,n){var a=r.renderMode,i=e.noName,s=e.noValue,o=!e.markerType,l=e.name,c=r.useUTC,u=e.valueFormatter||r.valueFormatter||function(A){return A=ct(A)?A:[A],ft(A,function(E,M){return X6(E,ct(d)?d[M]:d,c)})};if(!(i&&s)){var f=o?"":r.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||We.color.secondary,a),h=i?"":X6(l,"ordinal",c),d=e.valueType,v=s?[]:u(e.value,e.dataIndex),g=!o||!i,m=!o&&i,y=hoe(n,a),b=y.nameStyle,S=y.valueStyle;return a==="richText"?(o?"":f)+(i?"":voe(r,h,b))+(s?"":j8e(r,v,g,m,S)):eB(n,(o?"":f)+(i?"":H8e(h,!o,b))+(s?"":G8e(v,g,m,S)),t)}}function gX(r,e,t,n,a,i){if(r){var s=doe(r),o={useUTC:a,renderMode:t,orderMode:n,markupStyleCreator:e,valueFormatter:r.valueFormatter};return s(o,r,0,i)}}function V8e(r){return{html:B8e[r],richText:z8e[r]}}function eB(r,e,t){var n='<div style="clear:both"></div>',a="margin: "+t+"px 0 0",i=foe(r);return'<div style="'+a+";"+i+';">'+e+n+"</div>"}function H8e(r,e,t){var n=e?"margin-left:2px":"";return'<span style="'+t+";"+n+'">'+ho(r)+"</span>"}function G8e(r,e,t,n){var a=t?"10px":"20px",i=e?"float:right;margin-left:"+a:"";return r=ct(r)?r:[r],'<span style="'+i+";"+n+'">'+ft(r,function(s){return ho(s)}).join("&nbsp;&nbsp;")+"</span>"}function voe(r,e,t){return r.markupStyleCreator.wrapRichTextStyle(e,t)}function j8e(r,e,t,n,a){var i=[a],s=n?10:20;return t&&i.push({padding:[0,0,0,s],align:"right"}),r.markupStyleCreator.wrapRichTextStyle(ct(e)?e.join("  "):e,i)}function goe(r,e){var t=r.getData().getItemVisual(e,"style"),n=t[r.visualDrawType];return Jm(n)}function moe(r,e){var t=r.get("padding");return t??(e==="richText"?[8,10]:10)}var Dk=(function(){function r(){this.richTextStyles={},this._nextStyleNameId=Tie()}return r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},r.prototype.makeTooltipMarker=function(e,t,n){var a=n==="richText"?this._generateStyleName():null,i=Nse({color:t,type:e,renderMode:n,markerId:a});return It(i)?i:(this.richTextStyles[a]=i.style,i.content)},r.prototype.wrapRichTextStyle=function(e,t){var n={};ct(t)?te(t,function(i){return nt(n,i)}):nt(n,t);var a=this._generateStyleName();return this.richTextStyles[a]=n,"{"+a+"|"+e+"}"},r})();function yoe(r){var e=r.series,t=r.dataIndex,n=r.multipleSeries,a=e.getData(),i=a.mapDimensionsAll("defaultedTooltip"),s=i.length,o=e.getRawValue(t),l=ct(o),c=goe(e,t),u,f,h,d;if(s>1||l&&!s){var v=W8e(o,e,t,i,c);u=v.inlineValues,f=v.inlineValueTypes,h=v.blocks,d=v.inlineValues[0]}else if(s){var g=a.getDimensionInfo(i[0]);d=u=D_(a,t,i[0]),f=g.type}else d=u=l?o[0]:o;var m=dF(e),y=m&&e.name||"",b=a.getName(t),S=n?y:b;return Si("section",{header:y,noHeader:n||!m,sortParam:d,blocks:[Si("nameValue",{markerType:"item",markerColor:c,name:S,noName:!Jl(S),value:u,valueType:f,dataIndex:t})].concat(h||[])})}function W8e(r,e,t,n,a){var i=e.getData(),s=Jc(r,function(f,h,d){var v=i.getDimensionInfo(d);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),o=[],l=[],c=[];n.length?te(n,function(f){u(D_(i,t,f),f)}):te(r,u);function u(f,h){var d=i.getDimensionInfo(h);!d||d.otherDims.tooltip===!1||(s?c.push(Si("nameValue",{markerType:"subItem",markerColor:a,name:d.displayName,value:f,valueType:d.type})):(o.push(f),l.push(d.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:c}}var u0=Pr();function QC(r,e){return r.getName(e)||r.getId(e)}var cD="__universalTransitionEnabled",Hn=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,n,a){this.seriesIndex=this.componentIndex,this.dataTask=Yw({count:X8e,reset:q8e}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,a);var i=u0(this).sourceManager=new uoe(this);i.prepareSource();var s=this.getInitialData(t,a);yX(s,this),this.dataTask.context.data=s,u0(this).dataBeforeProcessed=s,mX(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,n){var a=VT(this),i=a?yy(t):{},s=this.subType;kr.hasClass(s)&&(s+="Series"),Sr(t,n.getTheme().get(this.subType)),Sr(t,this.getDefaultOption()),Ym(t,"label",["show"]),this.fillDataTextStyle(t.data),a&&Ah(t,i,a)},e.prototype.mergeOption=function(t,n){t=Sr(this.option,t,!0),this.fillDataTextStyle(t.data);var a=VT(this);a&&Ah(this.option,t,a);var i=u0(this).sourceManager;i.dirty(),i.prepareSource();var s=this.getInitialData(t,n);yX(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,u0(this).dataBeforeProcessed=s,mX(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!rl(t))for(var n=["show"],a=0;a<t.length;a++)t[a]&&t[a].label&&Ym(t[a],"label",n)},e.prototype.getInitialData=function(t,n){},e.prototype.appendData=function(t){var n=this.getRawData();n.appendData(t.data)},e.prototype.getData=function(t){var n=tB(this);if(n){var a=n.context.data;return t==null||!a.getLinkedData?a:a.getLinkedData(t)}else return u0(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var n=tB(this);if(n){var a=n.context;a.outputData=t,n!==this.dataTask&&(a.data=t)}u0(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Ht(t)},e.prototype.getSourceManager=function(){return u0(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return u0(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.indicesOfNearest=function(t,n,a,i){var s=this.getData(),o=this.coordinateSystem,l=o&&o.getAxis(t);if(!o||!l)return[];var c=l.dataToCoord(a);i==null&&(i=1/0);var u=[],f=1/0,h=-1,d=0;return s.each(n,function(v,g){var m=l.dataToCoord(v),y=c-m,b=Math.abs(y);b<=i&&((b<f||b===f&&y>=0&&h<0)&&(f=b,h=y,d=0),y===h&&(u[d++]=g))}),u.length=d,u},e.prototype.formatTooltip=function(t,n,a){return yoe({series:this,dataIndex:t,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(jr.node&&!(t&&t.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,n,a){var i=this.ecModel,s=KF.prototype.getColorFromPalette.call(this,t,n,a);return s||(s=i.getColorFromPalette(t,n,a)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,n){this._innerSelect(this.getData(n),t)},e.prototype.unselect=function(t,n){var a=this.option.selectedMap;if(a){var i=this.option.selectedMode,s=this.getData(n);if(i==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],c=QC(s,l);a[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(t,n){for(var a=[],i=0;i<t.length;i++)a[0]=t[i],this.isSelected(t[i],n)?this.unselect(a,n):this.select(a,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,n=Yr(t),a=[],i=0;i<n.length;i++){var s=t[n[i]];s>=0&&a.push(s)}return a},e.prototype.isSelected=function(t,n){var a=this.option.selectedMap;if(!a)return!1;var i=this.getData(n);return(a==="all"||a[QC(i,t)])&&!i.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[cD])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,n){var a,i,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){nr(s.selectedMap)||(s.selectedMap={});for(var c=s.selectedMap,u=0;u<l;u++){var f=n[u],h=QC(t,f);c[h]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(f)}}else if(o==="single"||o===!0){var d=n[l-1],h=QC(t,d);s.selectedMap=(a={},a[h]=!0,a),this._selectedDataIndicesMap=(i={},i[h]=t.getRawIndex(d),i)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each(function(a){var i=t.getRawDataItem(a);i&&i.selected&&n.push(a)}),n.length>0&&this._innerSelect(t,n)}},e.registerClass=function(t){return kr.registerClass(t)},e.protoInitialize=(function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"})(),e})(kr);Xa(Hn,lL);Xa(Hn,KF);Oie(Hn,kr);function mX(r){var e=r.name;dF(r)||(r.name=Y8e(r)||e)}function Y8e(r){var e=r.getRawData(),t=e.mapDimensionsAll("seriesName"),n=[];return te(t,function(a){var i=e.getDimensionInfo(a);i.displayName&&n.push(i.displayName)}),n.join(" ")}function X8e(r){return r.model.getRawData().count()}function q8e(r){var e=r.model;return e.setData(e.getRawData().cloneShallow()),Z8e}function Z8e(r,e){e.outputData&&r.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function yX(r,e){te(S_(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(t){r.wrapMethod(t,yr(K8e,e))})}function K8e(r,e){var t=tB(r);return t&&t.setOutputEnd((e||this).count()),e}function tB(r){var e=(r.ecModel||{}).scheduler,t=e&&e.getPipeline(r.uid);if(t){var n=t.currentTask;if(n){var a=n.agentStubMap;a&&(n=a.get(r.uid))}return n}}var Jn=(function(){function r(){this.group=new er,this.uid=cb("viewComponent")}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,a){},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,a){},r.prototype.updateLayout=function(e,t,n,a){},r.prototype.updateVisual=function(e,t,n,a){},r.prototype.toggleBlurSeries=function(e,t,n){},r.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},r})();vF(Jn);ZI(Jn);function hb(){var r=Pr();return function(e){var t=r(e),n=e.pipelineContext,a=!!t.large,i=!!t.progressiveRender,s=t.large=!!(n&&n.large),o=t.progressiveRender=!!(n&&n.progressiveRender);return(a!==s||i!==o)&&"reset"}}var xoe=Pr(),$8e=hb(),Ln=(function(){function r(){this.group=new er,this.uid=cb("viewChart"),this.renderTask=Yw({plan:J8e,reset:Q8e}),this.renderTask.context={view:this}}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,a){},r.prototype.highlight=function(e,t,n,a){var i=e.getData(a&&a.dataType);i&&_X(i,a,"emphasis")},r.prototype.downplay=function(e,t,n,a){var i=e.getData(a&&a.dataType);i&&_X(i,a,"normal")},r.prototype.remove=function(e,t){this.group.removeAll()},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,a){this.render(e,t,n,a)},r.prototype.updateLayout=function(e,t,n,a){this.render(e,t,n,a)},r.prototype.updateVisual=function(e,t,n,a){this.render(e,t,n,a)},r.prototype.eachRendered=function(e){vv(this.group,e)},r.markUpdateMethod=function(e,t){xoe(e).updateMethod=t},r.protoInitialize=(function(){var e=r.prototype;e.type="chart"})(),r})();function xX(r,e,t){r&&zT(r)&&(e==="emphasis"?np:ap)(r,t)}function _X(r,e,t){var n=Xm(r,e),a=e&&e.highlightKey!=null?A6e(e.highlightKey):null;n!=null?te($n(n),function(i){xX(r.getItemGraphicEl(i),t,a)}):r.eachItemGraphicEl(function(i){xX(i,t,a)})}vF(Ln);ZI(Ln);function J8e(r){return $8e(r.model)}function Q8e(r){var e=r.model,t=r.ecModel,n=r.api,a=r.payload,i=e.pipelineContext.progressiveRender,s=r.view,o=a&&xoe(a).updateMethod,l=i?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,n,a),eze[l]}var eze={incrementalPrepareRender:{progress:function(r,e){e.view.incrementalRender(r,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(r,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},eN="\0__throttleOriginMethod",bX="\0__throttleRate",SX="\0__throttleType";function uL(r,e,t){var n,a=0,i=0,s=null,o,l,c,u;e=e||0;function f(){i=new Date().getTime(),s=null,r.apply(l,c||[])}var h=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];n=new Date().getTime(),l=this,c=d;var g=u||e,m=u||t;u=null,o=n-(m?a:i)-g,clearTimeout(s),m?s=setTimeout(f,g):o>=0?f():s=setTimeout(f,-o),a=n};return h.clear=function(){s&&(clearTimeout(s),s=null)},h.debounceNextCall=function(d){u=d},h}function db(r,e,t,n){var a=r[e];if(a){var i=a[eN]||a,s=a[SX],o=a[bX];if(o!==t||s!==n){if(t==null||!n)return r[e]=i;a=r[e]=uL(i,t,n==="debounce"),a[eN]=i,a[SX]=n,a[bX]=t}return a}}function GT(r,e){var t=r[e];t&&t[eN]&&(t.clear&&t.clear(),r[e]=t[eN])}var wX=Pr(),TX={itemStyle:qm(Sse,!0),lineStyle:qm(bse,!0)},tze={lineStyle:"stroke",itemStyle:"fill"};function _oe(r,e){var t=r.visualStyleMapper||TX[e];return t||(console.warn("Unknown style type '"+e+"'."),TX.itemStyle)}function boe(r,e){var t=r.visualDrawType||tze[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var rze={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",a=r.getModel(n),i=_oe(r,n),s=i(a),o=a.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=boe(r,n),c=s[l],u=Yt(c)?c:null,f=s.fill==="auto"||s.stroke==="auto";if(!s[l]||u||f){var h=r.getColorFromPalette(r.name,null,e.getSeriesCount());s[l]||(s[l]=h,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||Yt(s.fill)?h:s.fill,s.stroke=s.stroke==="auto"||Yt(s.stroke)?h:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(r)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(d,v){var g=r.getDataParams(v),m=nt({},s);m[l]=u(g),d.setItemVisual(v,"style",m)}}}},y2=new zr,nze={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!(r.ignoreStyleOnData||e.isSeriesFiltered(r))){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",a=_oe(r,n),i=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){y2.option=l[n];var c=a(y2),u=s.ensureUniqueItemVisual(o,"style");nt(u,c),y2.option.decal&&(s.setItemVisual(o,"decal",y2.option.decal),y2.option.decal.dirty=!0),i in c&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},aze={performRawSeries:!0,overallReset:function(r){var e=Ht();r.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var a=t.type+"-"+n,i=e.get(a);i||(i={},e.set(a,i)),wX(t).scope=i}}),r.eachSeries(function(t){if(!(t.isColorBySeries()||r.isSeriesFiltered(t))){var n=t.getRawData(),a={},i=t.getData(),s=wX(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=boe(t,o);i.each(function(c){var u=i.getRawIndex(c);a[u]=c}),n.each(function(c){var u=a[c],f=i.getItemVisual(u,"colorFromPalette");if(f){var h=i.ensureUniqueItemVisual(u,"style"),d=n.getName(c)||c+"",v=n.count();h[l]=t.getColorFromPalette(d,s,v)}})}})}},e3=Math.PI;function ize(r,e){e=e||{},rr(e,{text:"loading",textColor:We.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:We.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var t=new er,n=new Nr({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(n);var a=new Kr({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),i=new Nr({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(i);var s;return e.showSpinner&&(s=new UA({shape:{startAngle:-e3/2,endAngle:-e3/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:e3*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:e3*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=a.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(r.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),u=r.getHeight()/2;e.showSpinner&&s.setShape({cx:c,cy:u}),i.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},t.resize(),t}var Soe=(function(){function r(e,t,n,a){this._stageTaskMap=Ht(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=n.concat(a)}return r.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var a=n.overallTask;a&&a.dirty()})},r.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),a=n.context,i=!t&&n.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>n.blockIndex,s=i?n.step:null,o=a&&a.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},r.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},r.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),s=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,o=e.get("large")&&i>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},r.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=Ht();e.eachSeries(function(a){var i=a.getProgressive(),s=a.uid;n.set(s,{id:s,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),t._pipe(a,a.dataTask)})},r.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;te(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,{}),s="";Hs(!(a.reset&&a.overallReset),s),a.reset&&this._createSeriesStageTask(a,i,t,n),a.overallReset&&this._createOverallStageTask(a,i,t,n)},this)},r.prototype.prepareView=function(e,t,n,a){var i=e.renderTask,s=i.context;s.model=t,s.ecModel=n,s.api=a,i.__block=!e.incrementalPrepareRender,this._pipe(t,i)},r.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},r.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},r.prototype._performStageTasks=function(e,t,n,a){a=a||{};var i=!1,s=this;te(e,function(l,c){if(!(a.visualType&&a.visualType!==l.visualType)){var u=s._stageTaskMap.get(l.uid),f=u.seriesTaskMap,h=u.overallTask;if(h){var d,v=h.agentStubMap;v.each(function(m){o(a,m)&&(m.dirty(),d=!0)}),d&&h.dirty(),s.updatePayload(h,n);var g=s.getPerformArgs(h,a.block);v.each(function(m){m.perform(g)}),h.perform(g)&&(i=!0)}else f&&f.each(function(m,y){o(a,m)&&m.dirty();var b=s.getPerformArgs(m,a.block);b.skip=!l.performRawSeries&&t.isSeriesFiltered(m.context.model),s.updatePayload(m,n),m.perform(b)&&(i=!0)})}});function o(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=i||this.unfinished},r.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t=n.dataTask.perform()||t}),this.unfinished=t||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},r.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},r.prototype._createSeriesStageTask=function(e,t,n,a){var i=this,s=t.seriesTaskMap,o=t.seriesTaskMap=Ht(),l=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(u):l?n.eachRawSeriesByType(l,u):c&&c(n,a).each(u);function u(f){var h=f.uid,d=o.set(h,s&&s.get(h)||Yw({plan:uze,reset:fze,count:dze}));d.context={model:f,ecModel:n,api:a,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(f,d)}},r.prototype._createOverallStageTask=function(e,t,n,a){var i=this,s=t.overallTask=t.overallTask||Yw({reset:sze});s.context={ecModel:n,api:a,overallReset:e.overallReset,scheduler:i};var o=s.agentStubMap,l=s.agentStubMap=Ht(),c=e.seriesType,u=e.getTargetSeries,f=!0,h=!1,d="";Hs(!e.createOnAllSeries,d),c?n.eachRawSeriesByType(c,v):u?u(n,a).each(v):(f=!1,te(n.getSeries(),v));function v(g){var m=g.uid,y=l.set(m,o&&o.get(m)||(h=!0,Yw({reset:oze,onDirty:cze})));y.context={model:g,overallProgress:f},y.agent=s,y.__block=f,i._pipe(g,y)}h&&s.dirty()},r.prototype._pipe=function(e,t){var n=e.uid,a=this._pipelineMap.get(n);!a.head&&(a.head=t),a.tail&&a.tail.pipe(t),a.tail=t,t.__idxInPipeline=a.count++,t.__pipeline=a},r.wrapStageHandler=function(e,t){return Yt(e)&&(e={overallReset:e,seriesType:pze(e)}),e.uid=cb("stageHandler"),t&&(e.visualType=t),e},r})();function sze(r){r.overallReset(r.ecModel,r.api,r.payload)}function oze(r){return r.overallProgress&&lze}function lze(){this.agent.dirty(),this.getDownstream().dirty()}function cze(){this.agent&&this.agent.dirty()}function uze(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function fze(r){r.useClearVisual&&r.data.clearAllVisual();var e=r.resetDefines=$n(r.reset(r.model,r.ecModel,r.api,r.payload));return e.length>1?ft(e,function(t,n){return woe(n)}):hze}var hze=woe(0);function woe(r){return function(e,t){var n=t.data,a=t.resetDefines[r];if(a&&a.dataEach)for(var i=e.start;i<e.end;i++)a.dataEach(n,i);else a&&a.progress&&a.progress(e,n)}}function dze(r){return r.data.count()}function pze(r){tN=null;try{r(jT,Toe)}catch{}return tN}var jT={},Toe={},tN;Aoe(jT,$F);Aoe(Toe,Zse);jT.eachSeriesByType=jT.eachRawSeriesByType=function(r){tN=r};jT.eachComponent=function(r){r.mainType==="series"&&r.subType&&(tN=r.subType)};function Aoe(r,e){for(var t in e.prototype)r[t]=Wa}var ar=We.darkColor,vze=ar.background,x2=function(){return{axisLine:{lineStyle:{color:ar.axisLine}},splitLine:{lineStyle:{color:ar.axisSplitLine}},splitArea:{areaStyle:{color:[ar.backgroundTint,ar.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:ar.axisMinorSplitLine}},axisLabel:{color:ar.axisLabel},axisName:{}}},AX={label:{color:ar.secondary},itemStyle:{borderColor:ar.borderTint},dividerLineStyle:{color:ar.border}},Eoe={darkMode:!0,color:ar.theme,backgroundColor:vze,axisPointer:{lineStyle:{color:ar.border},crossStyle:{color:ar.borderShade},label:{color:ar.tertiary}},legend:{textStyle:{color:ar.secondary},pageTextStyle:{color:ar.tertiary}},textStyle:{color:ar.secondary},title:{textStyle:{color:ar.primary},subtextStyle:{color:ar.quaternary}},toolbox:{iconStyle:{borderColor:ar.accent50}},tooltip:{backgroundColor:ar.neutral20,defaultBorderColor:ar.border,textStyle:{color:ar.tertiary}},dataZoom:{borderColor:ar.accent10,textStyle:{color:ar.tertiary},brushStyle:{color:ar.backgroundTint},handleStyle:{color:ar.neutral00,borderColor:ar.accent20},moveHandleStyle:{color:ar.accent40},emphasis:{handleStyle:{borderColor:ar.accent50}},dataBackground:{lineStyle:{color:ar.accent30},areaStyle:{color:ar.accent20}},selectedDataBackground:{lineStyle:{color:ar.accent50},areaStyle:{color:ar.accent30}}},visualMap:{textStyle:{color:ar.secondary},handleStyle:{borderColor:ar.neutral30}},timeline:{lineStyle:{color:ar.accent10},label:{color:ar.tertiary},controlStyle:{color:ar.accent30,borderColor:ar.accent30}},calendar:{itemStyle:{color:ar.neutral00,borderColor:ar.neutral20},dayLabel:{color:ar.tertiary},monthLabel:{color:ar.secondary},yearLabel:{color:ar.secondary}},matrix:{x:AX,y:AX,backgroundColor:{borderColor:ar.axisLine},body:{itemStyle:{borderColor:ar.borderTint}}},timeAxis:x2(),logAxis:x2(),valueAxis:x2(),categoryAxis:x2(),line:{symbol:"circle"},graph:{color:ar.theme},gauge:{title:{color:ar.secondary},axisLine:{lineStyle:{color:[[1,ar.neutral05]]}},axisLabel:{color:ar.axisLabel},detail:{color:ar.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:ar.background}},radar:(function(){var r=x2();return r.axisName={color:ar.axisLabel},r.axisLine.lineStyle.color=ar.neutral20,r})(),treemap:{breadcrumb:{itemStyle:{color:ar.neutral20,textStyle:{color:ar.secondary}},emphasis:{itemStyle:{color:ar.neutral30}}}},sunburst:{itemStyle:{borderColor:ar.background}},map:{itemStyle:{borderColor:ar.border,areaColor:ar.neutral10},label:{color:ar.tertiary},emphasis:{label:{color:ar.primary},itemStyle:{areaColor:ar.highlight}},select:{label:{color:ar.primary},itemStyle:{areaColor:ar.highlight}}},geo:{itemStyle:{borderColor:ar.border,areaColor:ar.neutral10},emphasis:{label:{color:ar.primary},itemStyle:{areaColor:ar.highlight}},select:{label:{color:ar.primary},itemStyle:{color:ar.highlight}}}};Eoe.categoryAxis.splitLine.show=!1;var gze=(function(){function r(){}return r.prototype.normalizeQuery=function(e){var t={},n={},a={};if(It(e)){var i=uh(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};te(e,function(l,c){for(var u=!1,f=0;f<s.length;f++){var h=s[f],d=c.lastIndexOf(h);if(d>0&&d===c.length-h.length){var v=c.slice(0,d);v!=="data"&&(t.mainType=v,t[h.toLowerCase()]=l,u=!0)}}o.hasOwnProperty(c)&&(n[c]=l,u=!0),u||(a[c]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:a}},r.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var a=n.targetEl,i=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,s,"mainType")&&u(l,s,"subType")&&u(l,s,"index","componentIndex")&&u(l,s,"name")&&u(l,s,"id")&&u(c,i,"name")&&u(c,i,"dataIndex")&&u(c,i,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,a,i));function u(f,h,d,v){return f[d]==null||h[v||d]===f[d]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r})(),rB=["symbol","symbolSize","symbolRotate","symbolOffset"],EX=rB.concat(["symbolKeepAspect"]),mze={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData();if(r.legendIcon&&t.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},a={},i=!1,s=0;s<rB.length;s++){var o=rB[s],l=r.get(o);Yt(l)?(i=!0,a[o]=l):n[o]=l}if(n.symbol=n.symbol||r.defaultSymbol,t.setVisual(nt({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),e.isSeriesFiltered(r))return;var c=Yr(a);function u(f,h){for(var d=r.getRawValue(h),v=r.getDataParams(h),g=0;g<c.length;g++){var m=c[g];f.setItemVisual(h,m,a[m](d,v))}}return{dataEach:i?u:null}}},yze={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!r.hasSymbolVisual||e.isSeriesFiltered(r))return;var t=r.getData();function n(a,i){for(var s=a.getItemModel(i),o=0;o<EX.length;o++){var l=EX[o],c=s.getShallow(l,!0);c!=null&&a.setItemVisual(i,l,c)}}return{dataEach:t.hasItemOption?n:null}}};function rU(r,e,t){switch(t){case"color":var n=r.getItemVisual(e,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(e,t)}}function WA(r,e){switch(e){case"color":var t=r.getVisual("style");return t[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(e)}}function Moe(r,e,t,n){switch(t){case"color":var a=r.ensureUniqueItemVisual(e,"style");a[r.getVisual("drawType")]=n,r.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":r.ensureUniqueItemVisual(e,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":r.setItemVisual(e,t,n);break}}function Coe(r,e){function t(n,a){var i=[];return n.eachComponent({mainType:"series",subType:r,query:a},function(s){i.push(s.seriesIndex)}),i}te([[r+"ToggleSelect","toggleSelect"],[r+"Select","select"],[r+"UnSelect","unselect"]],function(n){e(n[0],function(a,i,s){a=nt({},a),s.dispatchAction(nt(a,{type:n[1],seriesIndex:t(i,a)}))})})}function d1(r,e,t,n,a){var i=r+e;t.isSilent(i)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,c=a.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===o){var f=s.getData(),h=Xm(f,a.fromActionPayload);t.trigger(i,{type:i,seriesId:s.id,name:ct(h)?f.getName(h[0]):f.getName(h),selected:It(l)?l:nt({},l)})}})}function xze(r,e,t){r.on("selectchanged",function(n){var a=t.getModel();n.isFromClick?(d1("map","selectchanged",e,a,n),d1("pie","selectchanged",e,a,n)):n.fromAction==="select"?(d1("map","selected",e,a,n),d1("pie","selected",e,a,n)):n.fromAction==="unselect"&&(d1("map","unselected",e,a,n),d1("pie","unselected",e,a,n))})}function bm(r,e,t){for(var n;r&&!(e(r)&&(n=r,t));)r=r.__hostTarget||r.parent;return n}var _ze=Math.round(Math.random()*9),bze=typeof Object.defineProperty=="function",Sze=(function(){function r(){this._id="__ec_inner_"+_ze++}return r.prototype.get=function(e){return this._guard(e)[this._id]},r.prototype.set=function(e,t){var n=this._guard(e);return bze?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},r.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},r.prototype.has=function(e){return!!this._guard(e)[this._id]},r.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},r})(),wze=Fr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,a=e.width/2,i=e.height/2;r.moveTo(t,n-i),r.lineTo(t+a,n+i),r.lineTo(t-a,n+i),r.closePath()}}),Tze=Fr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,a=e.width/2,i=e.height/2;r.moveTo(t,n-i),r.lineTo(t+a,n),r.lineTo(t,n+i),r.lineTo(t-a,n),r.closePath()}}),Aze=Fr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.x,n=e.y,a=e.width/5*3,i=Math.max(a,e.height),s=a/2,o=s*s/(i-s),l=n-i+s+o,c=Math.asin(o/s),u=Math.cos(c)*s,f=Math.sin(c),h=Math.cos(c),d=s*.6,v=s*.7;r.moveTo(t-u,l+o),r.arc(t,l,s,Math.PI-c,Math.PI*2+c),r.bezierCurveTo(t+u-f*d,l+o+h*d,t,n-v,t,n),r.bezierCurveTo(t,n-v,t-u+f*d,l+o+h*d,t-u,l+o),r.closePath()}}),Eze=Fr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.height,n=e.width,a=e.x,i=e.y,s=n/3*2;r.moveTo(a,i),r.lineTo(a+s,i+t),r.lineTo(a,i+t/4*3),r.lineTo(a-s,i+t),r.lineTo(a,i),r.closePath()}}),Mze={line:ai,rect:Nr,roundRect:Nr,square:Nr,circle:Lh,diamond:Tze,pin:Aze,arrow:Eze,triangle:wze},Cze={line:function(r,e,t,n,a){a.x1=r,a.y1=e+n/2,a.x2=r+t,a.y2=e+n/2},rect:function(r,e,t,n,a){a.x=r,a.y=e,a.width=t,a.height=n},roundRect:function(r,e,t,n,a){a.x=r,a.y=e,a.width=t,a.height=n,a.r=Math.min(t,n)/4},square:function(r,e,t,n,a){var i=Math.min(t,n);a.x=r,a.y=e,a.width=i,a.height=i},circle:function(r,e,t,n,a){a.cx=r+t/2,a.cy=e+n/2,a.r=Math.min(t,n)/2},diamond:function(r,e,t,n,a){a.cx=r+t/2,a.cy=e+n/2,a.width=t,a.height=n},pin:function(r,e,t,n,a){a.x=r+t/2,a.y=e+n/2,a.width=t,a.height=n},arrow:function(r,e,t,n,a){a.x=r+t/2,a.y=e+n/2,a.width=t,a.height=n},triangle:function(r,e,t,n,a){a.cx=r+t/2,a.cy=e+n/2,a.width=t,a.height=n}},rN={};te(Mze,function(r,e){rN[e]=new r});var Dze=Fr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,e,t){var n=jR(r,e,t),a=this.shape;return a&&a.symbolType==="pin"&&e.position==="inside"&&(n.y=t.y+t.height*.4),n},buildPath:function(r,e,t){var n=e.symbolType;if(n!=="none"){var a=rN[n];a||(n="rect",a=rN[n]),Cze[n](e.x,e.y,e.width,e.height,a.shape),a.buildPath(r,a.shape,t)}}});function Rze(r,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=r,t.fill=e||We.color.neutral00,t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=r:t.fill=r,this.markRedraw()}}function oi(r,e,t,n,a,i,s){var o=r.indexOf("empty")===0;o&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var l;return r.indexOf("image://")===0?l=MF(r.slice(8),new sr(e,t,n,a),s?"center":"cover"):r.indexOf("path://")===0?l=M_(r.slice(7),{},new sr(e,t,n,a),s?"center":"cover"):l=new Dze({shape:{symbolType:r,x:e,y:t,width:n,height:a}}),l.__isEmptyBrush=o,l.setColor=Rze,i&&l.setColor(i),l}function pb(r){return ct(r)||(r=[+r,+r]),[r[0]||0,r[1]||0]}function _y(r,e){if(r!=null)return ct(r)||(r=[r,r]),[Nt(r[0],e[0])||0,Nt(Gt(r[1],r[0]),e[1])||0]}function Sm(r){return isFinite(r)}function Nze(r,e,t){var n=e.x==null?0:e.x,a=e.x2==null?1:e.x2,i=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(n=n*t.width+t.x,a=a*t.width+t.x,i=i*t.height+t.y,s=s*t.height+t.y),n=Sm(n)?n:0,a=Sm(a)?a:1,i=Sm(i)?i:0,s=Sm(s)?s:0;var o=r.createLinearGradient(n,i,a,s);return o}function Ize(r,e,t){var n=t.width,a=t.height,i=Math.min(n,a),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*n+t.x,o=o*a+t.y,l=l*i),s=Sm(s)?s:.5,o=Sm(o)?o:.5,l=l>=0&&Sm(l)?l:.5;var c=r.createRadialGradient(s,o,0,s,o,l);return c}function nB(r,e,t){for(var n=e.type==="radial"?Ize(r,e,t):Nze(r,e,t),a=e.colorStops,i=0;i<a.length;i++)n.addColorStop(a[i].offset,a[i].color);return n}function Lze(r,e){if(r===e||!r&&!e)return!1;if(!r||!e||r.length!==e.length)return!0;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!0;return!1}function t3(r){return parseInt(r,10)}function Y1(r,e,t){var n=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[n]!=null&&t[n]!=="auto")return parseFloat(t[n]);var o=document.defaultView.getComputedStyle(r);return(r[a]||t3(o[n])||t3(r.style[n]))-(t3(o[i])||0)-(t3(o[s])||0)|0}function Oze(r,e){return!r||r==="solid"||!(e>0)?null:r==="dashed"?[4*e,2*e]:r==="dotted"?[e]:$r(r)?[r]:ct(r)?r:null}function nU(r){var e=r.style,t=e.lineDash&&e.lineWidth>0&&Oze(e.lineDash,e.lineWidth),n=e.lineDashOffset;if(t){var a=e.strokeNoScale&&r.getLineScale?r.getLineScale():1;a&&a!==1&&(t=ft(t,function(i){return i/a}),n/=a)}return[t,n]}var kze=new Th(!0);function nN(r){var e=r.stroke;return!(e==null||e==="none"||!(r.lineWidth>0))}function MX(r){return typeof r=="string"&&r!=="none"}function aN(r){var e=r.fill;return e!=null&&e!=="none"}function CX(r,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.fillOpacity*e.opacity,r.fill(),r.globalAlpha=t}else r.fill()}function DX(r,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=r.globalAlpha;r.globalAlpha=e.strokeOpacity*e.opacity,r.stroke(),r.globalAlpha=t}else r.stroke()}function aB(r,e,t){var n=gF(e.image,e.__image,t);if(KI(n)){var a=r.createPattern(n,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var i=new DOMMatrix;i.translateSelf(e.x||0,e.y||0),i.rotateSelf(0,0,(e.rotation||0)*kw),i.scaleSelf(e.scaleX||1,e.scaleY||1),a.setTransform(i)}return a}}function Pze(r,e,t,n){var a,i=nN(t),s=aN(t),o=t.strokePercent,l=o<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||kze,f=e.__dirty;if(!n){var h=t.fill,d=t.stroke,v=s&&!!h.colorStops,g=i&&!!d.colorStops,m=s&&!!h.image,y=i&&!!d.image,b=void 0,S=void 0,A=void 0,E=void 0,M=void 0;(v||g)&&(M=e.getBoundingRect()),v&&(b=f?nB(r,h,M):e.__canvasFillGradient,e.__canvasFillGradient=b),g&&(S=f?nB(r,d,M):e.__canvasStrokeGradient,e.__canvasStrokeGradient=S),m&&(A=f||!e.__canvasFillPattern?aB(r,h,e):e.__canvasFillPattern,e.__canvasFillPattern=A),y&&(E=f||!e.__canvasStrokePattern?aB(r,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=E),v?r.fillStyle=b:m&&(A?r.fillStyle=A:s=!1),g?r.strokeStyle=S:y&&(E?r.strokeStyle=E:i=!1)}var R=e.getGlobalScale();u.setScale(R[0],R[1],e.segmentIgnoreThreshold);var L,I;r.setLineDash&&t.lineDash&&(a=nU(e),L=a[0],I=a[1]);var O=!0;(c||f&I1)&&(u.setDPR(r.dpr),l?u.setContext(null):(u.setContext(r),O=!1),u.reset(),e.buildPath(u,e.shape,n),u.toStatic(),e.pathUpdated()),O&&u.rebuildPath(r,l?o:1),L&&(r.setLineDash(L),r.lineDashOffset=I),n||(t.strokeFirst?(i&&DX(r,t),s&&CX(r,t)):(s&&CX(r,t),i&&DX(r,t))),L&&r.setLineDash([])}function Bze(r,e,t){var n=e.__image=gF(t.image,e.__image,e,e.onload);if(!(!n||!KI(n))){var a=t.x||0,i=t.y||0,s=e.getWidth(),o=e.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),t.sWidth&&t.sHeight){var c=t.sx||0,u=t.sy||0;r.drawImage(n,c,u,t.sWidth,t.sHeight,a,i,s,o)}else if(t.sx&&t.sy){var c=t.sx,u=t.sy,f=s-c,h=o-u;r.drawImage(n,c,u,f,h,a,i,s,o)}else r.drawImage(n,a,i,s,o)}}function zze(r,e,t){var n,a=t.text;if(a!=null&&(a+=""),a){r.font=t.font||tp,r.textAlign=t.textAlign,r.textBaseline=t.textBaseline;var i=void 0,s=void 0;r.setLineDash&&t.lineDash&&(n=nU(e),i=n[0],s=n[1]),i&&(r.setLineDash(i),r.lineDashOffset=s),t.strokeFirst?(nN(t)&&r.strokeText(a,t.x,t.y),aN(t)&&r.fillText(a,t.x,t.y)):(aN(t)&&r.fillText(a,t.x,t.y),nN(t)&&r.strokeText(a,t.x,t.y)),i&&r.setLineDash([])}}var RX=["shadowBlur","shadowOffsetX","shadowOffsetY"],NX=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Doe(r,e,t,n,a){var i=!1;if(!n&&(t=t||{},e===t))return!1;if(n||e.opacity!==t.opacity){wl(r,a),i=!0;var s=Math.max(Math.min(e.opacity,1),0);r.globalAlpha=isNaN(s)?Nm.opacity:s}(n||e.blend!==t.blend)&&(i||(wl(r,a),i=!0),r.globalCompositeOperation=e.blend||Nm.blend);for(var o=0;o<RX.length;o++){var l=RX[o];(n||e[l]!==t[l])&&(i||(wl(r,a),i=!0),r[l]=r.dpr*(e[l]||0))}return(n||e.shadowColor!==t.shadowColor)&&(i||(wl(r,a),i=!0),r.shadowColor=e.shadowColor||Nm.shadowColor),i}function IX(r,e,t,n,a){var i=WT(e,a.inHover),s=n?null:t&&WT(t,a.inHover)||{};if(i===s)return!1;var o=Doe(r,i,s,n,a);if((n||i.fill!==s.fill)&&(o||(wl(r,a),o=!0),MX(i.fill)&&(r.fillStyle=i.fill)),(n||i.stroke!==s.stroke)&&(o||(wl(r,a),o=!0),MX(i.stroke)&&(r.strokeStyle=i.stroke)),(n||i.opacity!==s.opacity)&&(o||(wl(r,a),o=!0),r.globalAlpha=i.opacity==null?1:i.opacity),e.hasStroke()){var l=i.lineWidth,c=l/(i.strokeNoScale&&e.getLineScale?e.getLineScale():1);r.lineWidth!==c&&(o||(wl(r,a),o=!0),r.lineWidth=c)}for(var u=0;u<NX.length;u++){var f=NX[u],h=f[0];(n||i[h]!==s[h])&&(o||(wl(r,a),o=!0),r[h]=i[h]||f[1])}return o}function Fze(r,e,t,n,a){return Doe(r,WT(e,a.inHover),t&&WT(t,a.inHover),n,a)}function Roe(r,e){var t=e.transform,n=r.dpr||1;t?r.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):r.setTransform(n,0,0,n,0,0)}function Uze(r,e,t){for(var n=!1,a=0;a<r.length;a++){var i=r[a];n=n||i.isZeroArea(),Roe(e,i),e.beginPath(),i.buildPath(e,i.shape),e.clip()}t.allClipped=n}function Vze(r,e){return r&&e?r[0]!==e[0]||r[1]!==e[1]||r[2]!==e[2]||r[3]!==e[3]||r[4]!==e[4]||r[5]!==e[5]:!(!r&&!e)}var LX=1,OX=2,kX=3,PX=4;function Hze(r){var e=aN(r),t=nN(r);return!(r.lineDash||!(+e^+t)||e&&typeof r.fill!="string"||t&&typeof r.stroke!="string"||r.strokePercent<1||r.strokeOpacity<1||r.fillOpacity<1)}function wl(r,e){e.batchFill&&r.fill(),e.batchStroke&&r.stroke(),e.batchFill="",e.batchStroke=""}function WT(r,e){return e&&r.__hoverStyle||r.style}function aU(r,e){wm(r,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function wm(r,e,t,n){var a=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~Zl,e.__isRendered=!1;return}var i=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||Lze(i,s))&&(s&&s.length&&(wl(r,t),r.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),i&&i.length&&(wl(r,t),r.save(),Uze(i,r,t),o=!0),t.prevElClipPaths=i),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=t.prevEl;c||(l=o=!0);var u=e instanceof Fr&&e.autoBatch&&Hze(e.style);o||Vze(a,c.transform)?(wl(r,t),Roe(r,e)):u||wl(r,t);var f=WT(e,t.inHover);e instanceof Fr?(t.lastDrawType!==LX&&(l=!0,t.lastDrawType=LX),IX(r,e,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&r.beginPath(),Pze(r,e,f,u),u&&(t.batchFill=f.fill||"",t.batchStroke=f.stroke||"")):e instanceof E_?(t.lastDrawType!==kX&&(l=!0,t.lastDrawType=kX),IX(r,e,c,l,t),zze(r,e,f)):e instanceof ns?(t.lastDrawType!==OX&&(l=!0,t.lastDrawType=OX),Fze(r,e,c,l,t),Bze(r,e,f)):e.getTemporalDisplayables&&(t.lastDrawType!==PX&&(l=!0,t.lastDrawType=PX),Gze(r,e,t)),u&&n&&wl(r,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function Gze(r,e,t){var n=e.getDisplayables(),a=e.getTemporalDisplayables();r.save();var i={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),wm(r,l,i,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}for(var c=0,u=a.length;c<u;c++){var l=a[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),wm(r,l,i,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),i.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,r.restore()}var Rk=new Sze,BX=new w_(100),zX=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function R_(r,e){if(r==="none")return null;var t=e.getDevicePixelRatio(),n=e.getZr(),a=n.painter.type==="svg";r.dirty&&Rk.delete(r);var i=Rk.get(r);if(i)return i;var s=rr(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=a?1:1/t,Rk.set(r,o),r.dirty=!1,o;function l(c){for(var u=[t],f=!0,h=0;h<zX.length;++h){var d=s[zX[h]];if(d!=null&&!ct(d)&&!It(d)&&!$r(d)&&typeof d!="boolean"){f=!1;break}u.push(d)}var v;if(f){v=u.join(",")+(a?"-svg":"");var g=BX.get(v);g&&(a?c.svgElement=g:c.image=g)}var m=Ioe(s.dashArrayX),y=jze(s.dashArrayY),b=Noe(s.symbol),S=Wze(m),A=Loe(y),E=!a&&Ml.createCanvas(),M=a&&{tag:"g",attrs:{},key:"dcl",children:[]},R=I(),L;E&&(E.width=R.width*t,E.height=R.height*t,L=E.getContext("2d")),O(),f&&BX.put(v,E||M),c.image=E,c.svgElement=M,c.svgWidth=R.width,c.svgHeight=R.height;function I(){for(var P=1,k=0,U=S.length;k<U;++k)P=eY(P,S[k]);for(var F=1,k=0,U=b.length;k<U;++k)F=eY(F,b[k].length);P*=F;var q=A*S.length*b.length;return{width:Math.max(1,Math.min(P,s.maxTileWidth)),height:Math.max(1,Math.min(q,s.maxTileHeight))}}function O(){L&&(L.clearRect(0,0,E.width,E.height),s.backgroundColor&&(L.fillStyle=s.backgroundColor,L.fillRect(0,0,E.width,E.height)));for(var P=0,k=0;k<y.length;++k)P+=y[k];if(P<=0)return;for(var U=-A,F=0,q=0,H=0;U<R.height;){if(F%2===0){for(var Z=q/2%b.length,X=0,Y=0,re=0;X<R.width*2;){for(var W=0,k=0;k<m[H].length;++k)W+=m[H][k];if(W<=0)break;if(Y%2===0){var j=(1-s.symbolSize)*.5,J=X+m[H][Y]*j,ee=U+y[F]*j,ae=m[H][Y]*s.symbolSize,ce=y[F]*s.symbolSize,me=re/2%b[Z].length;Se(J,ee,ae,ce,b[Z][me])}X+=m[H][Y],++re,++Y,Y===m[H].length&&(Y=0)}++H,H===m.length&&(H=0)}U+=y[F],++q,++F,F===y.length&&(F=0)}function Se(we,Me,Ve,de,dt){var K=a?1:t,se=oi(dt,we*K,Me*K,Ve*K,de*K,s.color,s.symbolKeepAspect);if(a){var _e=n.painter.renderOneToVNode(se);_e&&M.children.push(_e)}else aU(L,se)}}}}function Noe(r){if(!r||r.length===0)return[["rect"]];if(It(r))return[[r]];for(var e=!0,t=0;t<r.length;++t)if(!It(r[t])){e=!1;break}if(e)return Noe([r]);for(var n=[],t=0;t<r.length;++t)It(r[t])?n.push([r[t]]):n.push(r[t]);return n}function Ioe(r){if(!r||r.length===0)return[[0,0]];if($r(r)){var e=Math.ceil(r);return[[e,e]]}for(var t=!0,n=0;n<r.length;++n)if(!$r(r[n])){t=!1;break}if(t)return Ioe([r]);for(var a=[],n=0;n<r.length;++n)if($r(r[n])){var e=Math.ceil(r[n]);a.push([e,e])}else{var e=ft(r[n],function(o){return Math.ceil(o)});e.length%2===1?a.push(e.concat(e)):a.push(e)}return a}function jze(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if($r(r)){var e=Math.ceil(r);return[e,e]}var t=ft(r,function(n){return Math.ceil(n)});return r.length%2?t.concat(t):t}function Wze(r){return ft(r,function(e){return Loe(e)})}function Loe(r){for(var e=0,t=0;t<r.length;++t)e+=r[t];return r.length%2===1?e*2:e}function Yze(r,e){r.eachRawSeries(function(t){if(!r.isSeriesFiltered(t)){var n=t.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=R_(o,e)}});var a=n.getVisual("decal");if(a){var i=n.getVisual("style");i.decal=R_(a,e)}}})}var zu=new au,Ooe={};function Xze(r,e){Ooe[r]=e}function koe(r){return Ooe[r]}var Poe={};function Boe(r,e){Poe[r]=e}function qze(r){return Poe[r]}var Zze="6.0.0",Kze={zrender:"6.0.0"},$ze=1,Jze=800,Qze=900,eFe=1e3,tFe=2e3,rFe=5e3,zoe=1e3,nFe=1100,iU=2e3,Foe=3e3,aFe=4e3,fL=4500,iFe=4600,sFe=5e3,oFe=6e3,Uoe=7e3,Voe={PROCESSOR:{FILTER:eFe,SERIES_FILTER:Jze,STATISTIC:rFe},VISUAL:{LAYOUT:zoe,PROGRESSIVE_LAYOUT:nFe,GLOBAL:iU,CHART:Foe,POST_CHART_LAYOUT:iFe,COMPONENT:aFe,BRUSH:sFe,CHART_ITEM:fL,ARIA:oFe,DECAL:Uoe}},Ri="__flagInMainProcess",r3="__mainProcessVersion",gs="__pendingUpdate",Nk="__needsUpdateStatus",FX=/^[a-zA-Z0-9_]+$/,Ik="__connectUpdateStatus",UX=0,lFe=1,cFe=2;function Hoe(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return joe(this,r,e)}}function Goe(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return joe(this,r,e)}}function joe(r,e,t){return t[0]=t[0]&&t[0].toLowerCase(),au.prototype[e].apply(r,t)}var Woe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(au),Yoe=Woe.prototype;Yoe.on=Goe("on");Yoe.off=Goe("off");var Yg,Lk,n3,_d,a3,Ok,kk,p1,v1,VX,HX,Pk,GX,i3,jX,Xoe,Oc,WX,g1,iN=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this,new gze)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],a=a||{},i._dom=t;var s="canvas",o="auto",l=!1;i[r3]=1,a.ssr&&xie(function(h){var d=or(h),v=d.dataIndex;if(v!=null){var g=Ht();return g.set("series_index",d.seriesIndex),g.set("data_index",v),d.ssrType&&g.set("ssr_type",d.ssrType),g}});var c=i._zr=E6(t,{renderer:a.renderer||s,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:Gt(a.useDirtyRect,l),useCoarsePointer:Gt(a.useCoarsePointer,o),pointerSize:a.pointerSize});i._ssr=a.ssr,i._throttledZrFlush=uL(Ot(c.flush,c),17),i._updateTheme(n),i._locale=vBe(a.locale||wse),i._coordSysMgr=new fb;var u=i._api=jX(i);function f(h,d){return h.__prio-d.__prio}return K3(oN,f),K3(oB,f),i._scheduler=new Soe(i,u,oB,oN),i._messageCenter=new Woe,i._initEvents(),i.resize=Ot(i.resize,i),c.animation.on("frame",i._onframe,i),VX(c,i),HX(c,i),DT(i),i}return e.prototype._onframe=function(){if(!this._disposed){WX(this);var t=this._scheduler;if(this[gs]){var n=this[gs].silent;this[Ri]=!0,g1(this);try{Yg(this),_d.update.call(this,null,this[gs].updateParams)}catch(l){throw this[Ri]=!1,this[gs]=null,l}this._zr.flush(),this[Ri]=!1,this[gs]=null,p1.call(this,n),v1.call(this,n)}else if(t.unfinished){var a=$ze,i=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),Ok(this,i),t.performVisualTasks(i),i3(this,this._model,s,"remain",{}),a-=+new Date-o}while(a>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,n,a){if(!this[Ri]){if(this._disposed){this.id;return}var i,s,o;if(nr(n)&&(a=n.lazyUpdate,i=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[Ri]=!0,g1(this),!this._model||n){var l=new JBe(this._api),c=this._theme,u=this._model=new $F;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:s},lB);var f={seriesTransition:o,optionChanged:!0};if(a)this[gs]={silent:i,updateParams:f},this[Ri]=!1,this.getZr().wakeUp();else{try{Yg(this),_d.update.call(this,null,f)}catch(h){throw this[gs]=null,this[Ri]=!1,h}this._ssr||this._zr.flush(),this[gs]=null,this[Ri]=!1,p1.call(this,i),v1.call(this,i)}}},e.prototype.setTheme=function(t,n){if(!this[Ri]){if(this._disposed){this.id;return}var a=this._model;if(a){var i=n&&n.silent,s=null;this[gs]&&(i==null&&(i=this[gs].silent),s=this[gs].updateParams,this[gs]=null),this[Ri]=!0,g1(this);try{this._updateTheme(t),a.setTheme(this._theme),Yg(this),_d.update.call(this,{type:"setTheme"},s)}catch(o){throw this[Ri]=!1,o}this[Ri]=!1,p1.call(this,i),v1.call(this,i)}}},e.prototype._updateTheme=function(t){It(t)&&(t=qoe[t]),t&&(t=Qt(t),t&&$se(t,!0),this._theme=t)},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||jr.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var n=this._zr.painter;return n.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){var t=this._zr,n=t.storage.getDisplayList();return te(n,function(a){a.stopAnimation(null,!0)}),t.painter.toDataURL()},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var n=t.excludeComponents,a=this._model,i=[],s=this;te(n,function(l){a.eachComponent({mainType:l},function(c){var u=s._componentsMap[c.__viewId];u.group.ignore||(i.push(u),u.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return te(i,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var n=t.type==="svg",a=this.group,i=Math.min,s=Math.max,o=1/0;if(lN[a]){var l=o,c=o,u=-o,f=-o,h=[],d=t&&t.pixelRatio||this.getDevicePixelRatio();te(Om,function(S,A){if(S.group===a){var E=n?S.getZr().painter.getSvgDom().innerHTML:S.renderToCanvas(Qt(t)),M=S.getDom().getBoundingClientRect();l=i(M.left,l),c=i(M.top,c),u=s(M.right,u),f=s(M.bottom,f),h.push({dom:E,left:M.left,top:M.top})}}),l*=d,c*=d,u*=d,f*=d;var v=u-l,g=f-c,m=Ml.createCanvas(),y=E6(m,{renderer:n?"svg":"canvas"});if(y.resize({width:v,height:g}),n){var b="";return te(h,function(S){var A=S.left-l,E=S.top-c;b+='<g transform="translate('+A+","+E+')">'+S.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=b,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return t.connectedBackgroundColor&&y.add(new Nr({shape:{x:0,y:0,width:v,height:g},style:{fill:t.connectedBackgroundColor}})),te(h,function(S){var A=new ns({style:{x:S.left*d-l,y:S.top*d-c,image:S.dom}});y.add(A)}),y.refreshImmediately(),m.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,n,a){return a3(this,"convertToPixel",t,n,a)},e.prototype.convertToLayout=function(t,n,a){return a3(this,"convertToLayout",t,n,a)},e.prototype.convertFromPixel=function(t,n,a){return a3(this,"convertFromPixel",t,n,a)},e.prototype.containPixel=function(t,n){if(this._disposed){this.id;return}var a=this._model,i,s=r_(a,t);return te(s,function(o,l){l.indexOf("Models")>=0&&te(o,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)i=i||!!u.containPoint(n);else if(l==="seriesModels"){var f=this._chartsMap[c.__viewId];f&&f.containPoint&&(i=i||f.containPoint(n,c))}},this)},this),!!i},e.prototype.getVisual=function(t,n){var a=this._model,i=r_(a,t,{defaultMainType:"series"}),s=i.seriesModel,o=s.getData(),l=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?o.indexOfRawIndex(i.dataIndex):null;return l!=null?rU(o,l,n):WA(o,n)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;te(uFe,function(a){var i=function(s){var o=t.getModel(),l=s.target,c,u=a==="globalout";if(u?c={}:l&&bm(l,function(g){var m=or(g);if(m&&m.dataIndex!=null){var y=m.dataModel||o.getSeriesByIndex(m.seriesIndex);return c=y&&y.getDataParams(m.dataIndex,m.dataType,l)||{},!0}else if(m.eventData)return c=nt({},m.eventData),!0},!0),c){var f=c.componentType,h=c.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",h=c.seriesIndex);var d=f&&h!=null&&o.getComponent(f,h),v=d&&t[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];c.event=s,c.type=a,t._$eventProcessor.eventInfo={targetEl:l,packedEvent:c,model:d,view:v},t.trigger(a,c)}};i.zrEventfulCallAtLast=!0,t._zr.on(a,i,t)});var n=this._messageCenter;te(sB,function(a,i){n.on(i,function(s){t.trigger(i,s)})}),xze(n,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&Nie(this.getDom(),oU,"");var n=this,a=n._api,i=n._model;te(n._componentsViews,function(s){s.dispose(i,a)}),te(n._chartsViews,function(s){s.dispose(i,a)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Om[n.id]},e.prototype.resize=function(t){if(!this[Ri]){if(this._disposed){this.id;return}this._zr.resize(t);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var a=n.resetOption("media"),i=t&&t.silent;this[gs]&&(i==null&&(i=this[gs].silent),a=!0,this[gs]=null),this[Ri]=!0,g1(this);try{a&&Yg(this),_d.update.call(this,{type:"resize",animation:nt({duration:0},t&&t.animation)})}catch(s){throw this[Ri]=!1,s}this[Ri]=!1,p1.call(this,i),v1.call(this,i)}}},e.prototype.showLoading=function(t,n){if(this._disposed){this.id;return}if(nr(t)&&(n=t,t=""),t=t||"default",this.hideLoading(),!!cB[t]){var a=cB[t](this._api,n),i=this._zr;this._loadingFX=a,i.add(a)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var n=nt({},t);return n.type=iB[t.type],n},e.prototype.dispatchAction=function(t,n){if(this._disposed){this.id;return}if(nr(n)||(n={silent:!!n}),!!sN[t.type]&&this._model){if(this[Ri]){this._pendingActions.push(t);return}var a=n.silent;kk.call(this,t,a);var i=n.flush;i?this._zr.flush():i!==!1&&jr.browser.weChat&&this._throttledZrFlush(),p1.call(this,a),v1.call(this,a)}},e.prototype.updateLabelLayout=function(){zu.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var n=t.seriesIndex,a=this.getModel(),i=a.getSeriesByIndex(n);i.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){Yg=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),Lk(f,!0),Lk(f,!1),h.plan()},Lk=function(f,h){for(var d=f._model,v=f._scheduler,g=h?f._componentsViews:f._chartsViews,m=h?f._componentsMap:f._chartsMap,y=f._zr,b=f._api,S=0;S<g.length;S++)g[S].__alive=!1;h?d.eachComponent(function(M,R){M!=="series"&&A(R)}):d.eachSeries(A);function A(M){var R=M.__requireNewView;M.__requireNewView=!1;var L="_ec_"+M.id+"_"+M.type,I=!R&&m[L];if(!I){var O=uh(M.type),P=h?Jn.getClass(O.main,O.sub):Ln.getClass(O.sub);I=new P,I.init(d,b),m[L]=I,g.push(I),y.add(I.group)}M.__viewId=I.__id=L,I.__alive=!0,I.__model=M,I.group.__ecComponentInfo={mainType:M.mainType,index:M.componentIndex},!h&&v.prepareView(I,M,d,b)}for(var S=0;S<g.length;){var E=g[S];E.__alive?S++:(!h&&E.renderTask.dispose(),y.remove(E.group),E.dispose(d,b),g.splice(S,1),m[E.__id]===E&&delete m[E.__id],E.__id=E.group.__ecComponentInfo=null)}},n3=function(f,h,d,v,g){var m=f._model;if(m.setUpdatePayload(d),!v){te([].concat(f._componentsViews).concat(f._chartsViews),E);return}var y={};y[v+"Id"]=d[v+"Id"],y[v+"Index"]=d[v+"Index"],y[v+"Name"]=d[v+"Name"];var b={mainType:v,query:y};g&&(b.subType=g);var S=d.excludeSeriesId,A;S!=null&&(A=Ht(),te($n(S),function(M){var R=Li(M,null);R!=null&&A.set(R,!0)})),m&&m.eachComponent(b,function(M){var R=A&&A.get(M.id)!=null;if(!R)if(DY(d))if(M instanceof Hn)d.type===Im&&!d.notBlur&&!M.get(["emphasis","disabled"])&&m6e(M,d,f._api);else{var L=wF(M.mainType,M.componentIndex,d.name,f._api),I=L.focusSelf,O=L.dispatchers;d.type===Im&&I&&!d.notBlur&&z6(M.mainType,M.componentIndex,f._api),O&&te(O,function(P){d.type===Im?np(P):ap(P)})}else U6(d)&&M instanceof Hn&&(_6e(M,d,f._api),MY(M),Oc(f))},f),m&&m.eachComponent(b,function(M){var R=A&&A.get(M.id)!=null;R||E(f[v==="series"?"_chartsMap":"_componentsMap"][M.__viewId])},f);function E(M){M&&M.__alive&&M[h]&&M[h](M.__model,m,f._api,d)}},_d={prepareAndUpdate:function(f){Yg(this),_d.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,h){var d=this._model,v=this._api,g=this._zr,m=this._coordSysMgr,y=this._scheduler;if(d){d.setUpdatePayload(f),y.restoreData(d,f),y.performSeriesTasks(d),m.create(d,v),y.performDataProcessorTasks(d,f),Ok(this,d),m.update(d,v),n(d),y.performVisualTasks(d,f);var b=d.get("backgroundColor")||"transparent";g.setBackgroundColor(b);var S=d.get("darkMode");S!=null&&S!=="auto"&&g.setDarkMode(S),Pk(this,d,v,f,h),zu.trigger("afterupdate",d,v)}},updateTransform:function(f){var h=this,d=this._model,v=this._api;if(d){d.setUpdatePayload(f);var g=[];d.eachComponent(function(y,b){if(y!=="series"){var S=h.getViewOfComponentModel(b);if(S&&S.__alive)if(S.updateTransform){var A=S.updateTransform(b,d,v,f);A&&A.update&&g.push(S)}else g.push(S)}});var m=Ht();d.eachSeries(function(y){var b=h._chartsMap[y.__viewId];if(b.updateTransform){var S=b.updateTransform(y,d,v,f);S&&S.update&&m.set(y.uid,1)}else m.set(y.uid,1)}),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0,dirtyMap:m}),i3(this,d,v,f,{},m),zu.trigger("afterupdate",d,v)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),Ln.markUpdateMethod(f,"updateView"),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),Pk(this,h,this._api,f,{}),zu.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,d=this._model;d&&(d.setUpdatePayload(f),d.eachSeries(function(v){v.getData().clearAllVisual()}),Ln.markUpdateMethod(f,"updateVisual"),n(d),this._scheduler.performVisualTasks(d,f,{visualType:"visual",setDirty:!0}),d.eachComponent(function(v,g){if(v!=="series"){var m=h.getViewOfComponentModel(g);m&&m.__alive&&m.updateVisual(g,d,h._api,f)}}),d.eachSeries(function(v){var g=h._chartsMap[v.__viewId];g.updateVisual(v,d,h._api,f)}),zu.trigger("afterupdate",d,this._api))},updateLayout:function(f){_d.update.call(this,f)}};function t(f,h,d,v,g){if(f._disposed){f.id;return}for(var m=f._model,y=f._coordSysMgr.getCoordinateSystems(),b,S=r_(m,d),A=0;A<y.length;A++){var E=y[A];if(E[h]&&(b=E[h](m,S,v,g))!=null)return b}}a3=t,Ok=function(f,h){var d=f._chartsMap,v=f._scheduler;h.eachSeries(function(g){v.updateStreamModes(g,d[g.__viewId])})},kk=function(f,h){var d=this,v=this.getModel(),g=f.type,m=f.escapeConnect,y=sN[g],b=(y.update||"update").split(":"),S=b.pop(),A=b[0]!=null&&uh(b[0]);this[Ri]=!0,g1(this);var E=[f],M=!1;f.batch&&(M=!0,E=ft(f.batch,function(H){return H=rr(nt({},H),f),H.batch=null,H}));var R=[],L,I=[],O=y.nonRefinedEventType,P=U6(f),k=DY(f);if(k&&Qie(this._api),te(E,function(H){var Z=y.action(H,v,d._api);if(y.refineEvent?I.push(Z):L=Z,L=L||nt({},H),L.type=O,R.push(L),k){var X=pF(f),Y=X.queryOptionMap,re=X.mainTypeSpecified,W=re?Y.keys()[0]:"series";n3(d,S,H,W),Oc(d)}else P?(n3(d,S,H,"series"),Oc(d)):A&&n3(d,S,H,A.main,A.sub)}),S!=="none"&&!k&&!P&&!A)try{this[gs]?(Yg(this),_d.update.call(this,f),this[gs]=null):_d[S].call(this,f)}catch(H){throw this[Ri]=!1,H}if(M?L={type:O,escapeConnect:m,batch:R}:L=R[0],this[Ri]=!1,!h){var U=void 0;if(y.refineEvent){var F=y.refineEvent(I,f,v,this._api).eventContent;Hs(nr(F)),U=rr({type:y.refinedEventType},F),U.fromAction=f.type,U.fromActionPayload=f,U.escapeConnect=!0}var q=this._messageCenter;q.trigger(L.type,L),U&&q.trigger(U.type,U)}},p1=function(f){for(var h=this._pendingActions;h.length;){var d=h.shift();kk.call(this,d,f)}},v1=function(f){!f&&this.trigger("updated")},VX=function(f,h){f.on("rendered",function(d){h.trigger("rendered",d),f.animation.isFinished()&&!h[gs]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},HX=function(f,h){f.on("mouseover",function(d){var v=d.target,g=bm(v,zT);g&&(y6e(g,d,h._api),Oc(h))}).on("mouseout",function(d){var v=d.target,g=bm(v,zT);g&&(x6e(g,d,h._api),Oc(h))}).on("click",function(d){var v=d.target,g=bm(v,function(b){return or(b).dataIndex!=null},!0);if(g){var m=g.selected?"unselect":"select",y=or(g);h._api.dispatchAction({type:m,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function a(f){var h=[],d=[],v=!1;if(f.eachComponent(function(b,S){var A=S.get("zlevel")||0,E=S.get("z")||0,M=S.getZLevelKey();v=v||!!M,(b==="series"?d:h).push({zlevel:A,z:E,idx:S.componentIndex,type:b,key:M})}),v){var g=h.concat(d),m,y;K3(g,function(b,S){return b.zlevel===S.zlevel?b.z-S.z:b.zlevel-S.zlevel}),te(g,function(b){var S=f.getComponent(b.type,b.idx),A=b.zlevel,E=b.key;m!=null&&(A=Math.max(m,A)),E?(A===m&&E!==y&&A++,y=E):y&&(A===m&&A++,y=""),m=A,S.setZLevel(A)})}}Pk=function(f,h,d,v,g){a(h),GX(f,h,d,v,g),te(f._chartsViews,function(m){m.__alive=!1}),i3(f,h,d,v,g),te(f._chartsViews,function(m){m.__alive||m.remove(h,d)})},GX=function(f,h,d,v,g,m){te(m||f._componentsViews,function(y){var b=y.__model;c(b,y),y.render(b,h,d,v),l(b,y),u(b,y)})},i3=function(f,h,d,v,g,m){var y=f._scheduler;g=nt(g||{},{updatedSeries:h.getSeries()}),zu.trigger("series:beforeupdate",h,d,g);var b=!1;h.eachSeries(function(S){var A=f._chartsMap[S.__viewId];A.__alive=!0;var E=A.renderTask;y.updatePayload(E,v),c(S,A),m&&m.get(S.uid)&&E.dirty(),E.perform(y.getPerformArgs(E))&&(b=!0),A.group.silent=!!S.get("silent"),o(S,A),MY(S)}),y.unfinished=b||y.unfinished,zu.trigger("series:layoutlabels",h,d,g),zu.trigger("series:transition",h,d,g),h.eachSeries(function(S){var A=f._chartsMap[S.__viewId];l(S,A),u(S,A)}),s(f,h),zu.trigger("series:afterupdate",h,d,g)},Oc=function(f){f[Nk]=!0,f.getZr().wakeUp()},g1=function(f){f[r3]=(f[r3]+1)%1e3},WX=function(f){f[Nk]&&(f.getZr().storage.traverse(function(h){n_(h)||i(h)}),f[Nk]=!1)};function i(f){for(var h=[],d=f.currentStates,v=0;v<d.length;v++){var g=d[v];g==="emphasis"||g==="blur"||g==="select"||h.push(g)}f.selected&&f.states.select&&h.push("select"),f.hoverState===tL&&f.states.emphasis?h.push("emphasis"):f.hoverState===zA&&f.states.blur&&h.push("blur"),f.useStates(h)}function s(f,h){var d=f._zr,v=d.storage,g=0;v.traverse(function(m){m.isGroup||g++}),g>h.get("hoverLayerThreshold")&&!jr.node&&!jr.worker&&h.eachSeries(function(m){if(!m.preventUsingHoverLayer){var y=f._chartsMap[m.__viewId];y.__alive&&y.eachRendered(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}})}function o(f,h){var d=f.get("blendMode")||null;h.eachRendered(function(v){v.isGroup||(v.style.blend=d)})}function l(f,h){if(!f.preventAutoZ){var d=$m(f);h.eachRendered(function(v){return aL(v,d.z,d.zlevel),!0})}}function c(f,h){h.eachRendered(function(d){if(!n_(d)){var v=d.getTextContent(),g=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function u(f,h){var d=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),g=d.get("duration"),m=g>0?{duration:g,delay:d.get("delay"),easing:d.get("easing")}:null;h.eachRendered(function(y){if(y.states&&y.states.emphasis){if(n_(y))return;if(y instanceof Fr&&E6e(y),y.__dirty){var b=y.prevStates;b&&y.useStates(b)}if(v){y.stateTransition=m;var S=y.getTextContent(),A=y.getTextGuideLine();S&&(S.stateTransition=m),A&&(A.stateTransition=m)}y.__dirty&&i(y)}})}jX=function(f){return new((function(h){Ye(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(v){for(;v;){var g=v.__ecComponentInfo;if(g!=null)return f._model.getComponent(g.mainType,g.index);v=v.parent}},d.prototype.enterEmphasis=function(v,g){np(v,g),Oc(f)},d.prototype.leaveEmphasis=function(v,g){ap(v,g),Oc(f)},d.prototype.enterBlur=function(v){Zie(v),Oc(f)},d.prototype.leaveBlur=function(v){SF(v),Oc(f)},d.prototype.enterSelect=function(v){Kie(v),Oc(f)},d.prototype.leaveSelect=function(v){$ie(v),Oc(f)},d.prototype.getModel=function(){return f.getModel()},d.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},d.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},d.prototype.getMainProcessVersion=function(){return f[r3]},d})(Zse))(f)},Xoe=function(f){function h(d,v){for(var g=0;g<d.length;g++){var m=d[g];m[Ik]=v}}te(iB,function(d,v){f._messageCenter.on(v,function(g){if(lN[f.group]&&f[Ik]!==UX){if(g&&g.escapeConnect)return;var m=f.makeActionFromEvent(g),y=[];te(Om,function(b){b!==f&&b.group===f.group&&y.push(b)}),h(y,UX),te(y,function(b){b[Ik]!==lFe&&b.dispatchAction(m)}),h(y,cFe)}})})}})(),e})(au),sU=iN.prototype;sU.on=Hoe("on");sU.off=Hoe("off");sU.one=function(r,e,t){var n=this;function a(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];e&&e.apply&&e.apply(this,i),n.off(r,a)}this.on.call(this,r,a,t)};var uFe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var sN={},iB={},sB={},oB=[],lB=[],oN=[],qoe={},cB={},Om={},lN={},fFe=+new Date-0,hFe=+new Date-0,oU="_echarts_instance_";function dFe(r,e,t){var n=!(t&&t.ssr);if(n){var a=lU(r);if(a)return a}var i=new iN(r,e,t);return i.id="ec_"+fFe++,Om[i.id]=i,n&&Nie(r,oU,i.id),Xoe(i),zu.trigger("afterinit",i),i}function pFe(r){if(ct(r)){var e=r;r=null,te(e,function(t){t.group!=null&&(r=t.group)}),r=r||"g_"+hFe++,te(e,function(t){t.group=r})}return lN[r]=!0,r}function Zoe(r){lN[r]=!1}var vFe=Zoe;function gFe(r){It(r)?r=Om[r]:r instanceof iN||(r=lU(r)),r instanceof iN&&!r.isDisposed()&&r.dispose()}function lU(r){return Om[dPe(r,oU)]}function mFe(r){return Om[r]}function cU(r,e){qoe[r]=e}function uU(r){br(lB,r)<0&&lB.push(r)}function fU(r,e){hU(oB,r,e,tFe)}function Koe(r){hL("afterinit",r)}function $oe(r){hL("afterupdate",r)}function hL(r,e){zu.on(r,e)}function uf(r,e,t){var n,a,i,s,o;Yt(e)&&(t=e,e=""),nr(r)?(n=r.type,a=r.event,s=r.update,o=r.publishNonRefinedEvent,t||(t=r.action),i=r.refineEvent):(n=r,a=e);function l(u){return u.toLowerCase()}a=l(a||n);var c=i?l(n):a;sN[n]||(Hs(FX.test(n)&&FX.test(a)),i&&Hs(a!==n),sN[n]={actionType:n,refinedEventType:a,nonRefinedEventType:c,update:s,action:t,refineEvent:i},sB[a]=1,i&&o&&(sB[c]=1),iB[c]=n)}function Joe(r,e){fb.register(r,e)}function yFe(r){var e=fb.get(r);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function xFe(r,e){Boe(r,e)}function Qoe(r,e){hU(oN,r,e,zoe,"layout")}function mv(r,e){hU(oN,r,e,Foe,"visual")}var YX=[];function hU(r,e,t,n,a){if((Yt(e)||nr(e))&&(t=e,e=n),!(br(YX,t)>=0)){YX.push(t);var i=Soe.wrapStageHandler(t,a);i.__prio=e,i.__raw=t,r.push(i)}}function dU(r,e){cB[r]=e}function _Fe(r){Pae({createCanvas:r})}function ele(r,e,t){var n=koe("registerMap");n&&n(r,e,t)}function bFe(r){var e=koe("getMap");return e&&e(r)}var tle=R8e;mv(iU,rze);mv(fL,nze);mv(fL,aze);mv(iU,mze);mv(fL,yze);mv(Uoe,Yze);uU($se);fU(Qze,u8e);dU("default",ize);uf({type:Im,event:Im,update:Im},Wa);uf({type:nD,event:nD,update:nD},Wa);uf({type:XR,event:_F,update:XR,action:Wa,refineEvent:pU,publishNonRefinedEvent:!0});uf({type:P6,event:_F,update:P6,action:Wa,refineEvent:pU,publishNonRefinedEvent:!0});uf({type:qR,event:_F,update:qR,action:Wa,refineEvent:pU,publishNonRefinedEvent:!0});function pU(r,e,t,n){return{eventContent:{selected:b6e(t),isFromClick:e.isFromClick||!1}}}cU("default",{});cU("dark",Eoe);var SFe={},XX=[],wFe={registerPreprocessor:uU,registerProcessor:fU,registerPostInit:Koe,registerPostUpdate:$oe,registerUpdateLifecycle:hL,registerAction:uf,registerCoordinateSystem:Joe,registerLayout:Qoe,registerVisual:mv,registerTransform:tle,registerLoading:dU,registerMap:ele,registerImpl:Xze,PRIORITY:Voe,ComponentModel:kr,ComponentView:Jn,SeriesModel:Hn,ChartView:Ln,registerComponentModel:function(r){kr.registerClass(r)},registerComponentView:function(r){Jn.registerClass(r)},registerSeriesModel:function(r){Hn.registerClass(r)},registerChartView:function(r){Ln.registerClass(r)},registerCustomSeries:function(r,e){Boe(r,e)},registerSubTypeDefaulter:function(r,e){kr.registerSubTypeDefaulter(r,e)},registerPainter:function(r,e){mie(r,e)}};function Mr(r){if(ct(r)){te(r,function(e){Mr(e)});return}br(XX,r)>=0||(XX.push(r),Yt(r)&&(r={install:r}),r.install(wFe))}function _2(r){return r==null?0:r.length||1}function qX(r){return r}var ip=(function(){function r(e,t,n,a,i,s){this._old=e,this._new=t,this._oldKeyGetter=n||qX,this._newKeyGetter=a||qX,this.context=i,this._diffModeMultiple=s==="multiple"}return r.prototype.add=function(e){return this._add=e,this},r.prototype.update=function(e){return this._update=e,this},r.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},r.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},r.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},r.prototype.remove=function(e){return this._remove=e,this},r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},r.prototype._executeOneToOne=function(){var e=this._old,t=this._new,n={},a=new Array(e.length),i=new Array(t.length);this._initIndexMap(e,null,a,"_oldKeyGetter"),this._initIndexMap(t,n,i,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=a[s],l=n[o],c=_2(l);if(c>1){var u=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(u,s)}else c===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(i,n)},r.prototype._executeMultiple=function(){var e=this._old,t=this._new,n={},a={},i=[],s=[];this._initIndexMap(e,n,i,"_oldKeyGetter"),this._initIndexMap(t,a,s,"_newKeyGetter");for(var o=0;o<i.length;o++){var l=i[o],c=n[l],u=a[l],f=_2(c),h=_2(u);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(u,c),a[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(u,c),a[l]=null;else if(f===1&&h===1)this._update&&this._update(u,c),a[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(u,c),a[l]=null;else if(f>1)for(var d=0;d<f;d++)this._remove&&this._remove(c[d]);else this._remove&&this._remove(c)}this._performRestAdd(s,a)},r.prototype._performRestAdd=function(e,t){for(var n=0;n<e.length;n++){var a=e[n],i=t[a],s=_2(i);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(i[o]);else s===1&&this._add&&this._add(i);t[a]=null}},r.prototype._initIndexMap=function(e,t,n,a){for(var i=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[a](e[s],s);if(i||(n[s]=o),!!t){var l=t[o],c=_2(l);c===0?(t[o]=s,i&&n.push(o)):c===1?t[o]=[l,s]:l.push(s)}}},r})(),TFe=(function(){function r(e,t){this._encode=e,this._schema=t}return r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},r})();function AFe(r,e){var t={},n=t.encode={},a=Ht(),i=[],s=[],o={};te(r.dimensions,function(h){var d=r.getDimensionInfo(h),v=d.coordDim;if(v){var g=d.coordDimIndex;Bk(n,v)[g]=h,d.isExtraCoord||(a.set(v,1),EFe(d.type)&&(i[0]=h),Bk(o,v)[g]=r.getDimensionIndex(d.name)),d.defaultTooltip&&s.push(h)}Hse.each(function(m,y){var b=Bk(n,y),S=d.otherDims[y];S!=null&&S!==!1&&(b[S]=d.name)})});var l=[],c={};a.each(function(h,d){var v=n[d];c[d]=v[0],l=l.concat(v)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=ft(l,function(h){return r.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=n.label;u&&u.length&&(i=u.slice());var f=n.tooltip;return f&&f.length?s=f.slice():s.length||(s=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=s,t.userOutput=new TFe(o,e),t}function Bk(r,e){return r.hasOwnProperty(e)||(r[e]=[]),r[e]}function cN(r){return r==="category"?"ordinal":r==="time"?"time":"float"}function EFe(r){return!(r==="ordinal"||r==="time")}var uD=(function(){function r(e){this.otherDims={},e!=null&&nt(this,e)}return r})(),MFe=Pr(),CFe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},rle=(function(){function r(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return r.prototype.isDimensionOmitted=function(){return this._dimOmitted},r.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=ile(this.source)))},r.prototype.getSourceDimensionIndex=function(e){return Gt(this._dimNameMap.get(e),-1)},r.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},r.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Qse(this.source),n=!sle(e),a="",i=[],s=0,o=0;s<e;s++){var l=void 0,c=void 0,u=void 0,f=this.dimensions[o];if(f&&f.storeDimIndex===s)l=t?f.name:null,c=f.type,u=f.ordinalMeta,o++;else{var h=this.getSourceDimension(s);h&&(l=t?h.name:null,c=h.type)}i.push({property:l,type:c,ordinalMeta:u}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(a+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+="$",a+=CFe[c]||"f",u&&(a+=u.uid),a+="$"}var d=this.source,v=[d.seriesLayoutBy,d.startIndex,a].join("$$");return{dimensions:i,hash:v}},r.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,n=0;t<this._fullDimCount;t++){var a=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===t)i.isCalculationCoord||(a=i.name),n++;else{var s=this.getSourceDimension(t);s&&(a=s.name)}e.push(a)}return e},r.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},r})();function nle(r){return r instanceof rle}function ale(r){for(var e=Ht(),t=0;t<(r||[]).length;t++){var n=r[t],a=nr(n)?n.name:n;a!=null&&e.get(a)==null&&e.set(a,t)}return e}function ile(r){var e=MFe(r);return e.dimNameMap||(e.dimNameMap=ale(r.dimensionsDefine))}function sle(r){return r>30}var b2=nr,f0=ft,DFe=typeof Int32Array>"u"?Array:Int32Array,RFe="e\0\0",ZX=-1,NFe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],IFe=["_approximateExtent"],KX,s3,S2,w2,zk,T2,Fk,bo=(function(){function r(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,a=!1;nle(e)?(n=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(a=!0,n=e),n=n||["x","y"];for(var i={},s=[],o={},l=!1,c={},u=0;u<n.length;u++){var f=n[u],h=It(f)?new uD({name:f}):f instanceof uD?f:new uD(f),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var v=h.otherDims=h.otherDims||{};s.push(d),i[d]=h,c[d]!=null&&(l=!0),h.createInvertedIndices&&(o[d]=[]);var g=u;$r(h.storeDimIndex)&&(g=h.storeDimIndex),v.itemName===0&&(this._nameDimIdx=g),v.itemId===0&&(this._idDimIdx=g),a&&(h.storeDimIndex=u)}if(this.dimensions=s,this._dimInfos=i,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var m=this._dimIdxToName=Ht();te(s,function(y){m.set(i[y].storeDimIndex,y)})}}return r.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(n!=null)return n;var a=this._schema.getSourceDimension(t);if(a)return a.name},r.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var n=this._getDimInfo(e);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},r.prototype._recognizeDimIndex=function(e){if($r(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},r.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},r.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},r.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(n){return t.hasOwnProperty(n)?t[n]:void 0}:function(n){return t[n]}},r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},r.prototype.mapDimension=function(e,t){var n=this._dimSummary;if(t==null)return n.encodeFirstDimNotExtra[e];var a=n.encode[e];return a?a[t]:null},r.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,n=t.encode[e];return(n||[]).slice()},r.prototype.getStore=function(){return this._store},r.prototype.initData=function(e,t,n){var a=this,i;if(e instanceof J6&&(i=e),!i){var s=this.dimensions,o=JF(e)||Vs(e)?new eoe(e,s.length):e;i=new J6;var l=f0(s,function(c){return{type:a._dimInfos[c].type,property:c}});i.initData(o,l,n)}this._store=i,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=AFe(this,this._schema),this.userOutput=this._dimSummary.userOutput},r.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},r.prototype.appendValues=function(e,t){var n=this._store.appendValues(e,t&&t.length),a=n.start,i=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=a;o<i;o++){var l=o-a;this._nameList[o]=t[l],s&&Fk(this,o)}},r.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,n=0;n<t.length;n++){var a=this._dimInfos[t[n]];a.ordinalMeta&&e.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},r.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==W0&&!e.fillStorage},r.prototype._doInit=function(e,t){if(!(e>=t)){var n=this._store,a=n.getProvider();this._updateOrdinalMeta();var i=this._nameList,s=this._idList,o=a.getSource().sourceFormat,l=o===cc;if(l&&!a.pure)for(var c=[],u=e;u<t;u++){var f=a.getItem(u,c);if(!this.hasItemOption&&ePe(f)&&(this.hasItemOption=!0),f){var h=f.name;i[u]==null&&h!=null&&(i[u]=Li(h,null));var d=f.id;s[u]==null&&d!=null&&(s[u]=Li(d,null))}}if(this._shouldMakeIdFromName())for(var u=e;u<t;u++)Fk(this,u);KX(this)}},r.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},r.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},r.prototype.setCalculationInfo=function(e,t){b2(e)?nt(this._calculationInfo,e):this._calculationInfo[e]=t},r.prototype.getName=function(e){var t=this.getRawIndex(e),n=this._nameList[t];return n==null&&this._nameDimIdx!=null&&(n=S2(this,this._nameDimIdx,t)),n==null&&(n=""),n},r.prototype._getCategory=function(e,t){var n=this._store.get(e,t),a=this._store.getOrdinalMeta(e);return a?a.categories[n]:n},r.prototype.getId=function(e){return s3(this,this.getRawIndex(e))},r.prototype.count=function(){return this._store.count()},r.prototype.get=function(e,t){var n=this._store,a=this._dimInfos[e];if(a)return n.get(a.storeDimIndex,t)},r.prototype.getByRawIndex=function(e,t){var n=this._store,a=this._dimInfos[e];if(a)return n.getByRawIndex(a.storeDimIndex,t)},r.prototype.getIndices=function(){return this._store.getIndices()},r.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},r.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},r.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},r.prototype.getValues=function(e,t){var n=this,a=this._store;return ct(e)?a.getValues(f0(e,function(i){return n._getStoreDimIndex(i)}),t):a.getValues(e)},r.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,a=t.length;n<a;n++)if(isNaN(this._store.get(t[n],e)))return!1;return!0},r.prototype.indexOfName=function(e){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===e)return t;return-1},r.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},r.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},r.prototype.rawIndexOf=function(e,t){var n=e&&this._invertedIndicesMap[e],a=n&&n[t];return a==null||isNaN(a)?ZX:a},r.prototype.each=function(e,t,n){Yt(e)&&(n=t,t=e,e=[]);var a=n||this,i=f0(w2(e),this._getStoreDimIndex,this);this._store.each(i,a?Ot(t,a):t)},r.prototype.filterSelf=function(e,t,n){Yt(e)&&(n=t,t=e,e=[]);var a=n||this,i=f0(w2(e),this._getStoreDimIndex,this);return this._store=this._store.filter(i,a?Ot(t,a):t),this},r.prototype.selectRange=function(e){var t=this,n={},a=Yr(e);return te(a,function(i){var s=t._getStoreDimIndex(i);n[s]=e[i]}),this._store=this._store.selectRange(n),this},r.prototype.mapArray=function(e,t,n){Yt(e)&&(n=t,t=e,e=[]),n=n||this;var a=[];return this.each(e,function(){a.push(t&&t.apply(this,arguments))},n),a},r.prototype.map=function(e,t,n,a){var i=n||a||this,s=f0(w2(e),this._getStoreDimIndex,this),o=T2(this);return o._store=this._store.map(s,i?Ot(t,i):t),o},r.prototype.modify=function(e,t,n,a){var i=n||a||this,s=f0(w2(e),this._getStoreDimIndex,this);this._store.modify(s,i?Ot(t,i):t)},r.prototype.downSample=function(e,t,n,a){var i=T2(this);return i._store=this._store.downSample(this._getStoreDimIndex(e),t,n,a),i},r.prototype.minmaxDownSample=function(e,t){var n=T2(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),n},r.prototype.lttbDownSample=function(e,t){var n=T2(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),n},r.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},r.prototype.getItemModel=function(e){var t=this.hostModel,n=this.getRawDataItem(e);return new zr(n,t,t&&t.ecModel)},r.prototype.diff=function(e){var t=this;return new ip(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(n){return s3(e,n)},function(n){return s3(t,n)})},r.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},r.prototype.setVisual=function(e,t){this._visual=this._visual||{},b2(e)?nt(this._visual,e):this._visual[e]=t},r.prototype.getItemVisual=function(e,t){var n=this._itemVisuals[e],a=n&&n[t];return a??this.getVisual(t)},r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},r.prototype.ensureUniqueItemVisual=function(e,t){var n=this._itemVisuals,a=n[e];a||(a=n[e]={});var i=a[t];return i==null&&(i=this.getVisual(t),ct(i)?i=i.slice():b2(i)&&(i=nt({},i)),a[t]=i),i},r.prototype.setItemVisual=function(e,t,n){var a=this._itemVisuals[e]||{};this._itemVisuals[e]=a,b2(t)?nt(a,t):a[t]=n},r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},r.prototype.setLayout=function(e,t){b2(e)?nt(this._layout,e):this._layout[e]=t},r.prototype.getLayout=function(e){return this._layout[e]},r.prototype.getItemLayout=function(e){return this._itemLayouts[e]},r.prototype.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?nt(this._itemLayouts[e]||{},t):t},r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},r.prototype.setItemGraphicEl=function(e,t){var n=this.hostModel&&this.hostModel.seriesIndex;k6(n,this.dataType,e,t),this._graphicEls[e]=t},r.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},r.prototype.eachItemGraphicEl=function(e,t){te(this._graphicEls,function(n,a){n&&e&&e.call(t,n,a)})},r.prototype.cloneShallow=function(e){return e||(e=new r(this._schema?this._schema:f0(this.dimensions,this._getDimInfo,this),this.hostModel)),zk(e,this),e._store=this._store,e},r.prototype.wrapMethod=function(e,t){var n=this[e];Yt(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var a=n.apply(this,arguments);return t.apply(this,[a].concat(HI(arguments)))})},r.internalField=(function(){KX=function(e){var t=e._invertedIndicesMap;te(t,function(n,a){var i=e._dimInfos[a],s=i.ordinalMeta,o=e._store;if(s){n=t[a]=new DFe(s.categories.length);for(var l=0;l<n.length;l++)n[l]=ZX;for(var l=0;l<o.count();l++)n[o.get(i.storeDimIndex,l)]=l}})},S2=function(e,t,n){return Li(e._getCategory(t,n),null)},s3=function(e,t){var n=e._idList[t];return n==null&&e._idDimIdx!=null&&(n=S2(e,e._idDimIdx,t)),n==null&&(n=RFe+t),n},w2=function(e){return ct(e)||(e=e!=null?[e]:[]),e},T2=function(e){var t=new r(e._schema?e._schema:f0(e.dimensions,e._getDimInfo,e),e.hostModel);return zk(t,e),t},zk=function(e,t){te(NFe.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods,te(IFe,function(n){e[n]=Qt(t[n])}),e._calculationInfo=nt({},t._calculationInfo)},Fk=function(e,t){var n=e._nameList,a=e._idList,i=e._nameDimIdx,s=e._idDimIdx,o=n[t],l=a[t];if(o==null&&i!=null&&(n[t]=o=S2(e,i,t)),l==null&&s!=null&&(a[t]=l=S2(e,s,t)),l==null&&o!=null){var c=e._nameRepeatCount,u=c[o]=(c[o]||0)+1;l=o,u>1&&(l+="__ec__"+u),a[t]=l}}})(),r})();function LFe(r,e){return vb(r,e).dimensions}function vb(r,e){JF(r)||(r=QF(r)),e=e||{};var t=e.coordDimensions||[],n=e.dimensionsDefine||r.dimensionsDefine||[],a=Ht(),i=[],s=kFe(r,t,n,e.dimensionsCount),o=e.canOmitUnusedDimensions&&sle(s),l=n===r.dimensionsDefine,c=l?ile(r):ale(n),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(r,s));for(var f=Ht(u),h=new loe(s),d=0;d<h.length;d++)h[d]=-1;function v(I){var O=h[I];if(O<0){var P=n[I],k=nr(P)?P:{name:P},U=new uD,F=k.name;F!=null&&c.get(F)!=null&&(U.name=U.displayName=F),k.type!=null&&(U.type=k.type),k.displayName!=null&&(U.displayName=k.displayName);var q=i.length;return h[I]=q,U.storeDimIndex=I,i.push(U),U}return i[O]}if(!o)for(var d=0;d<s;d++)v(d);f.each(function(I,O){var P=$n(I).slice();if(P.length===1&&!It(P[0])&&P[0]<0){f.set(O,!1);return}var k=f.set(O,[]);te(P,function(U,F){var q=It(U)?c.get(U):U;q!=null&&q<s&&(k[F]=q,m(v(q),O,F))})});var g=0;te(t,function(I){var O,P,k,U;if(It(I))O=I,U={};else{U=I,O=U.name;var F=U.ordinalMeta;U.ordinalMeta=null,U=nt({},U),U.ordinalMeta=F,P=U.dimsDef,k=U.otherDims,U.name=U.coordDim=U.coordDimIndex=U.dimsDef=U.otherDims=null}var q=f.get(O);if(q!==!1){if(q=$n(q),!q.length)for(var H=0;H<(P&&P.length||1);H++){for(;g<s&&v(g).coordDim!=null;)g++;g<s&&q.push(g++)}te(q,function(Z,X){var Y=v(Z);if(l&&U.type!=null&&(Y.type=U.type),m(rr(Y,U),O,X),Y.name==null&&P){var re=P[X];!nr(re)&&(re={name:re}),Y.name=Y.displayName=re.name,Y.defaultTooltip=re.defaultTooltip}k&&rr(Y.otherDims,k)})}});function m(I,O,P){Hse.get(O)!=null?I.otherDims[O]=P:(I.coordDim=O,I.coordDimIndex=P,a.set(O,!0))}var y=e.generateCoord,b=e.generateCoordCount,S=b!=null;b=y?b||1:0;var A=y||"value";function E(I){I.name==null&&(I.name=I.coordDim)}if(o)te(i,function(I){E(I)}),i.sort(function(I,O){return I.storeDimIndex-O.storeDimIndex});else for(var M=0;M<s;M++){var R=v(M),L=R.coordDim;L==null&&(R.coordDim=PFe(A,a,S),R.coordDimIndex=0,(!y||b<=0)&&(R.isExtraCoord=!0),b--),E(R),R.type==null&&(Yse(r,M)===Ls.Must||R.isExtraCoord&&(R.otherDims.itemName!=null||R.otherDims.seriesName!=null))&&(R.type="ordinal")}return OFe(i),new rle({source:r,dimensions:i,fullDimensionCount:s,dimensionOmitted:o})}function OFe(r){for(var e=Ht(),t=0;t<r.length;t++){var n=r[t],a=n.name,i=e.get(a)||0;i>0&&(n.name=a+(i-1)),i++,e.set(a,i)}}function kFe(r,e,t,n){var a=Math.max(r.dimensionsDetectedCount||1,e.length,t.length,n||0);return te(e,function(i){var s;nr(i)&&(s=i.dimsDef)&&(a=Math.max(a,s.length))}),a}function PFe(r,e,t){if(t||e.hasKey(r)){for(var n=0;e.hasKey(r+n);)n++;r+=n}return e.set(r,!0),r}var BFe=(function(){function r(e){this.coordSysDims=[],this.axisMap=Ht(),this.categoryAxisMap=Ht(),this.coordSysName=e}return r})();function zFe(r){var e=r.get("coordinateSystem"),t=new BFe(e),n=FFe[e];if(n)return n(r,t,t.axisMap,t.categoryAxisMap),t}var FFe={cartesian2d:function(r,e,t,n){var a=r.getReferringComponents("xAxis",Pa).models[0],i=r.getReferringComponents("yAxis",Pa).models[0];e.coordSysDims=["x","y"],t.set("x",a),t.set("y",i),m1(a)&&(n.set("x",a),e.firstCategoryDimIndex=0),m1(i)&&(n.set("y",i),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(r,e,t,n){var a=r.getReferringComponents("singleAxis",Pa).models[0];e.coordSysDims=["single"],t.set("single",a),m1(a)&&(n.set("single",a),e.firstCategoryDimIndex=0)},polar:function(r,e,t,n){var a=r.getReferringComponents("polar",Pa).models[0],i=a.findAxisModel("radiusAxis"),s=a.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",i),t.set("angle",s),m1(i)&&(n.set("radius",i),e.firstCategoryDimIndex=0),m1(s)&&(n.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(r,e,t,n){e.coordSysDims=["lng","lat"]},parallel:function(r,e,t,n){var a=r.ecModel,i=a.getComponent("parallel",r.get("parallelIndex")),s=e.coordSysDims=i.dimensions.slice();te(i.parallelAxisIndex,function(o,l){var c=a.getComponent("parallelAxis",o),u=s[l];t.set(u,c),m1(c)&&(n.set(u,c),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(r,e,t,n){var a=r.getReferringComponents("matrix",Pa).models[0];e.coordSysDims=["x","y"];var i=a.getDimensionModel("x"),s=a.getDimensionModel("y");t.set("x",i),t.set("y",s),n.set("x",i),n.set("y",s)}};function m1(r){return r.get("type")==="category"}function ole(r,e,t){t=t||{};var n=t.byIndex,a=t.stackedCoordDimension,i,s,o;UFe(e)?i=e:(s=e.schema,i=s.dimensions,o=e.store);var l=!!(r&&r.get("stack")),c,u,f,h;if(te(i,function(b,S){It(b)&&(i[S]=b={name:b}),l&&!b.isExtraCoord&&(!n&&!c&&b.ordinalMeta&&(c=b),!u&&b.type!=="ordinal"&&b.type!=="time"&&(!a||a===b.coordDim)&&(u=b))}),u&&!n&&!c&&(n=!0),u){f="__\0ecstackresult_"+r.id,h="__\0ecstackedover_"+r.id,c&&(c.createInvertedIndices=!0);var d=u.coordDim,v=u.type,g=0;te(i,function(b){b.coordDim===d&&g++});var m={name:f,coordDim:d,coordDimIndex:g,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},y={name:h,coordDim:h,coordDimIndex:g+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};s?(o&&(m.storeDimIndex=o.ensureCalculationDimension(h,v),y.storeDimIndex=o.ensureCalculationDimension(f,v)),s.appendCalculationDimension(m),s.appendCalculationDimension(y)):(i.push(m),i.push(y))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:n,stackedOverDimension:h,stackResultDimension:f}}function UFe(r){return!nle(r.schema)}function sp(r,e){return!!e&&e===r.getCalculationInfo("stackedDimension")}function vU(r,e){return sp(r,e)?r.getCalculationInfo("stackResultDimension"):e}function VFe(r,e){var t=r.get("coordinateSystem"),n=fb.get(t),a;return e&&e.coordSysDims&&(a=ft(e.coordSysDims,function(i){var s={name:i},o=e.axisMap.get(i);if(o){var l=o.get("type");s.type=cN(l)}return s})),a||(a=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),a}function HFe(r,e,t){var n,a;return t&&te(r,function(i,s){var o=i.coordDim,l=t.categoryAxisMap.get(o);l&&(n==null&&(n=s),i.ordinalMeta=l.getOrdinalMeta(),e&&(i.createInvertedIndices=!0)),i.otherDims.itemName!=null&&(a=!0)}),!a&&n!=null&&(r[n].otherDims.itemName=0),n}function Oh(r,e,t){t=t||{};var n=e.getSourceManager(),a,i=!1;r?(i=!0,a=QF(r)):(a=n.getSource(),i=a.sourceFormat===cc);var s=zFe(e),o=VFe(e,s),l=t.useEncodeDefaulter,c=Yt(l)?l:l?yr(Wse,o,e):null,u={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!i},f=vb(a,u),h=HFe(f.dimensions,t.createInvertedIndices,s),d=i?null:n.getSharedDataStore(f),v=ole(e,{schema:f,store:d}),g=new bo(f,e);g.setCalculationInfo(v);var m=h!=null&&GFe(a)?function(y,b,S,A){return A===h?S:this.defaultDimValueGetter(y,b,S,A)}:null;return g.hasItemOption=!1,g.initData(i?a:d,null,m),g}function GFe(r){if(r.sourceFormat===cc){var e=jFe(r.data||[]);return!ct(tb(e))}}function jFe(r){for(var e=0;e<r.length&&r[e]==null;)e++;return r[e]}function uB(r){return r.type==="interval"||r.type==="log"}function WFe(r,e,t,n,a){var i={},s=i.interval=fF(e/t,!0);n!=null&&s<n&&(s=i.interval=n),a!=null&&s>a&&(s=i.interval=a);var o=i.intervalPrecision=YT(s),l=i.niceTickExtent=[ni(Math.ceil(r[0]/s)*s,o),ni(Math.floor(r[1]/s)*s,o)];return YFe(l,r),i}function Uk(r){var e=Math.pow(10,qI(r)),t=r/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,ni(t*e)}function YT(r){return Yu(r)+2}function $X(r,e,t){r[e]=Math.max(Math.min(r[e],t[1]),t[0])}function YFe(r,e){!isFinite(r[0])&&(r[0]=e[0]),!isFinite(r[1])&&(r[1]=e[1]),$X(r,0,e),$X(r,1,e),r[0]>r[1]&&(r[0]=r[1])}function gU(r,e){return r>=e[0]&&r<=e[1]}var XFe=(function(){function r(){this.normalize=JX,this.scale=QX}return r.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=Ot(e.normalize,e),this.scale=Ot(e.scale,e)):(this.normalize=JX,this.scale=QX)},r})();function JX(r,e){return e[1]===e[0]?.5:(r-e[0])/(e[1]-e[0])}function QX(r,e){return r*(e[1]-e[0])+e[0]}function fB(r,e,t){var n=Math.log(r);return[Math.log(t?e[0]:Math.max(0,e[0]))/n,Math.log(t?e[1]:Math.max(0,e[1]))/n]}var yv=(function(){function r(e){this._calculator=new XFe,this._setting=e||{},this._extent=[1/0,-1/0];var t=_i();t&&(this._brkCtx=t.createScaleBreakContext(),this._brkCtx.update(this._extent))}return r.prototype.getSetting=function(e){return this._setting[e]},r.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},r.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},r.prototype._innerSetExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t),this._brkCtx&&this._brkCtx.update(n)},r.prototype.setBreaksFromOption=function(e){var t=_i();t&&this._innerSetBreak(t.parseAxisBreakOption(e,Ot(this.parse,this)))},r.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},r.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},r.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},r.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},r.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},r.prototype.isBlank=function(){return this._isBlank},r.prototype.setBlank=function(e){this._isBlank=e},r})();ZI(yv);var qFe=0,XT=(function(){function r(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++qFe,this._onCollect=e.onCollect}return r.createByAxisModel=function(e){var t=e.option,n=t.data,a=n&&ft(n,ZFe);return new r({categories:a,needCollect:!a,deduplication:t.dedplication!==!1})},r.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},r.prototype.parseAndCollect=function(e){var t,n=this._needCollect;if(!It(e)&&!n)return e;if(n&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var a=this._getOrCreateMap();return t=a.get(e),t==null&&(n?(t=this.categories.length,this.categories[t]=e,a.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},r.prototype._getOrCreateMap=function(){return this._map||(this._map=Ht(this.categories))},r})();function ZFe(r){return nr(r)&&r.value!=null?r.value:r+""}var N_=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;n.type="ordinal";var a=n.getSetting("ordinalMeta");return a||(a=new XT({})),ct(a)&&(a=new XT({categories:ft(a,function(i){return nr(i)?i.value:i})})),n._ordinalMeta=a,n._extent=n.getSetting("extent")||[0,a.categories.length-1],n}return e.prototype.parse=function(t){return t==null?NaN:It(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return gU(t,this._extent)&&t>=0&&t<this._ordinalMeta.categories.length},e.prototype.normalize=function(t){return t=this._getTickNumber(t),this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(this._calculator.scale(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],n=this._extent,a=n[0];a<=n[1];)t.push({value:a}),a++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=t.ordinalNumbers,a=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var c=n[s];a[s]=c,i[c]=s}for(var u=0;s<o;++s){for(;i[u]!=null;)u++;a.push(u),i[u]=s}},e.prototype._getTickNumber=function(t){var n=this._ticksByOrdinalNumber;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getRawOrdinalNumber=function(t){var n=this._ordinalNumbersByTick;return n&&t>=0&&t<n.length?n[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),a=this._ordinalMeta.categories[n];return a==null?"":a+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(yv);yv.registerClass(N_);var h0=ni,op=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t==null||t===""?NaN:Number(t)},e.prototype.contain=function(t){return gU(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=YT(t)},e.prototype.getTicks=function(t){t=t||{};var n=this._interval,a=this._extent,i=this._niceExtent,s=this._intervalPrecision,o=_i(),l=[];if(!n)return l;if(t.breakTicks==="only_break"&&o)return o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var c=1e4;a[0]<i[0]&&(t.expandToNicedExtent?l.push({value:h0(i[0]-n,s)}):l.push({value:a[0]}));for(var u=function(v,g){return Math.round((g-v)/n)},f=i[0];f<=i[1];){if(l.push({value:f}),f=h0(f+n,s),this._brkCtx){var h=this._brkCtx.calcNiceTickMultiple(f,u);h>=0&&(f=h0(f+h*n,s))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>c)return[]}var d=l.length?l[l.length-1].value:i[1];return a[1]>d&&(t.expandToNicedExtent?l.push({value:h0(d+n,s)}):l.push({value:a[1]})),o&&o.pruneTicksByBreak(t.pruneByBreak,l,this._brkCtx.breaks,function(v){return v.value},this._interval,this._extent),t.breakTicks!=="none"&&o&&o.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},e.prototype.getMinorTicks=function(t){for(var n=this.getTicks({expandToNicedExtent:!0}),a=[],i=this.getExtent(),s=1;s<n.length;s++){var o=n[s],l=n[s-1];if(!(l.break||o.break)){for(var c=0,u=[],f=o.value-l.value,h=f/t,d=YT(h);c<t-1;){var v=h0(l.value+(c+1)*h,d);v>i[0]&&v<i[1]&&u.push(v),c++}var g=_i();g&&g.pruneTicksByBreak("auto",u,this._getNonTransBreaks(),function(m){return m},this._interval,i),a.push(u)}}return a},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(t,n){if(t==null)return"";var a=n&&n.precision;a==null?a=Yu(t.value)||0:a==="auto"&&(a=this._intervalPrecision);var i=h0(t.value,a,!0);return jF(i)},e.prototype.calcNiceTicks=function(t,n,a){t=t||5;var i=this._extent.slice(),s=this._getExtentSpanWithBreaks();if(isFinite(s)){s<0&&(s=-s,i.reverse(),this._innerSetExtent(i[0],i[1]),i=this._extent.slice());var o=WFe(i,s,t,n,a);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var n=this._extent.slice();if(n[0]===n[1])if(n[0]!==0){var a=Math.abs(n[0]);t.fixMax||(n[1]+=a/2),n[0]-=a/2}else n[1]=1;var i=n[1]-n[0];isFinite(i)||(n[0]=0,n[1]=1),this._innerSetExtent(n[0],n[1]),n=this._extent.slice(),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval,o=this._intervalPrecision;t.fixMin||(n[0]=h0(Math.floor(n[0]/s)*s,o)),t.fixMax||(n[1]=h0(Math.ceil(n[1]/s)*s,o)),this._innerSetExtent(n[0],n[1])},e.prototype.setNiceExtent=function(t,n){this._niceExtent=[t,n]},e.type="interval",e})(yv);yv.registerClass(op);var lle=typeof Float32Array<"u",KFe=lle?Float32Array:Array;function fh(r){return ct(r)?lle?new Float32Array(r):r:new KFe(r)}var hB="__ec_stack_";function cle(r){return r.get("stack")||hB+r.seriesIndex}function mU(r){return r.dim+r.index}function $Fe(r){var e=[],t=r.axis,n="axis0";if(t.type==="category"){for(var a=t.getBandWidth(),i=0;i<r.count;i++)e.push(rr({bandWidth:a,axisKey:n,stackId:hB+i},r));for(var s=hle(e),o=[],i=0;i<r.count;i++){var l=s[n][hB+i];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function ule(r,e){var t=[];return e.eachSeriesByType(r,function(n){vle(n)&&t.push(n)}),t}function JFe(r){var e={};te(r,function(l){var c=l.coordinateSystem,u=c.getBaseAxis();if(!(u.type!=="time"&&u.type!=="value"))for(var f=l.getData(),h=u.dim+"_"+u.index,d=f.getDimensionIndex(f.mapDimension(u.dim)),v=f.getStore(),g=0,m=v.count();g<m;++g){var y=v.get(d,g);e[h]?e[h].push(y):e[h]=[y]}});var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(a){a.sort(function(l,c){return l-c});for(var i=null,s=1;s<a.length;++s){var o=a[s]-a[s-1];o>0&&(i=i===null?o:Math.min(i,o))}t[n]=i}}return t}function fle(r){var e=JFe(r),t=[];return te(r,function(n){var a=n.coordinateSystem,i=a.getBaseAxis(),s=i.getExtent(),o;if(i.type==="category")o=i.getBandWidth();else if(i.type==="value"||i.type==="time"){var l=i.dim+"_"+i.index,c=e[l],u=Math.abs(s[1]-s[0]),f=i.scale.getExtent(),h=Math.abs(f[1]-f[0]);o=c?u/h*c:u}else{var d=n.getData();o=Math.abs(s[1]-s[0])/d.count()}var v=Nt(n.get("barWidth"),o),g=Nt(n.get("barMaxWidth"),o),m=Nt(n.get("barMinWidth")||(gle(n)?.5:1),o),y=n.get("barGap"),b=n.get("barCategoryGap"),S=n.get("defaultBarGap");t.push({bandWidth:o,barWidth:v,barMaxWidth:g,barMinWidth:m,barGap:y,barCategoryGap:b,defaultBarGap:S,axisKey:mU(i),stackId:cle(n)})}),hle(t)}function hle(r){var e={};te(r,function(n,a){var i=n.axisKey,s=n.bandWidth,o=e[i]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:n.defaultBarGap||0,stacks:{}},l=o.stacks;e[i]=o;var c=n.stackId;l[c]||o.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=n.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var f=n.barMaxWidth;f&&(l[c].maxWidth=f);var h=n.barMinWidth;h&&(l[c].minWidth=h);var d=n.barGap;d!=null&&(o.gap=d);var v=n.barCategoryGap;v!=null&&(o.categoryGap=v)});var t={};return te(e,function(n,a){t[a]={};var i=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=Yr(i).length;o=Math.max(35-l*4,15)+"%"}var c=Nt(o,s),u=Nt(n.gap,1),f=n.remainedWidth,h=n.autoWidthCount,d=(f-c)/(h+(h-1)*u);d=Math.max(d,0),te(i,function(y){var b=y.maxWidth,S=y.minWidth;if(y.width){var A=y.width;b&&(A=Math.min(A,b)),S&&(A=Math.max(A,S)),y.width=A,f-=A+u*A,h--}else{var A=d;b&&b<A&&(A=Math.min(b,f)),S&&S>A&&(A=S),A!==d&&(y.width=A,f-=A+u*A,h--)}}),d=(f-c)/(h+(h-1)*u),d=Math.max(d,0);var v=0,g;te(i,function(y,b){y.width||(y.width=d),g=y,v+=y.width*(1+u)}),g&&(v-=g.width*u);var m=-v/2;te(i,function(y,b){t[a][b]=t[a][b]||{bandWidth:s,offset:m,width:y.width},m+=y.width*(1+u)})}),t}function QFe(r,e,t){if(r&&e){var n=r[mU(e)];return n}}function dle(r,e){var t=ule(r,e),n=fle(t);te(t,function(a){var i=a.getData(),s=a.coordinateSystem,o=s.getBaseAxis(),l=cle(a),c=n[mU(o)][l],u=c.offset,f=c.width;i.setLayout({bandWidth:c.bandWidth,offset:u,size:f})})}function ple(r){return{seriesType:r,plan:hb(),reset:function(e){if(vle(e)){var t=e.getData(),n=e.coordinateSystem,a=n.getBaseAxis(),i=n.getOtherAxis(a),s=t.getDimensionIndex(t.mapDimension(i.dim)),o=t.getDimensionIndex(t.mapDimension(a.dim)),l=e.get("showBackground",!0),c=t.mapDimension(i.dim),u=t.getCalculationInfo("stackResultDimension"),f=sp(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),h=i.isHorizontal(),d=eUe(a,i),v=gle(e),g=e.get("barMinHeight")||0,m=u&&t.getDimensionIndex(u),y=t.getLayout("size"),b=t.getLayout("offset");return{progress:function(S,A){for(var E=S.count,M=v&&fh(E*3),R=v&&l&&fh(E*3),L=v&&fh(E),I=n.master.getRect(),O=h?I.width:I.height,P,k=A.getStore(),U=0;(P=S.next())!=null;){var F=k.get(f?m:s,P),q=k.get(o,P),H=d,Z=void 0;f&&(Z=+F-k.get(s,P));var X=void 0,Y=void 0,re=void 0,W=void 0;if(h){var j=n.dataToPoint([F,q]);if(f){var J=n.dataToPoint([Z,q]);H=J[0]}X=H,Y=j[1]+b,re=j[0]-H,W=y,Math.abs(re)<g&&(re=(re<0?-1:1)*g)}else{var j=n.dataToPoint([q,F]);if(f){var J=n.dataToPoint([q,Z]);H=J[1]}X=j[0]+b,Y=H,re=y,W=j[1]-H,Math.abs(W)<g&&(W=(W<=0?-1:1)*g)}v?(M[U]=X,M[U+1]=Y,M[U+2]=h?re:W,R&&(R[U]=h?I.x:X,R[U+1]=h?Y:I.y,R[U+2]=O),L[P]=P):A.setItemLayout(P,{x:X,y:Y,width:re,height:W}),U+=3}v&&A.setLayout({largePoints:M,largeDataIndices:L,largeBackgroundPoints:R,valueAxisHorizontal:h})}}}}}}function vle(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function gle(r){return r.pipelineContext&&r.pipelineContext.large}function eUe(r,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var tUe=function(r,e,t,n){for(;t<n;){var a=t+n>>>1;r[a][1]<e?t=a+1:n=a}return t},yU=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="time",n}return e.prototype.getLabel=function(t){var n=this.getSetting("useUTC");return GA(t.value,jY[TBe(Ww(this._minLevelUnit))]||jY.second,n,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,n,a){var i=this.getSetting("useUTC"),s=this.getSetting("locale");return ABe(t,n,a,s,i)},e.prototype.getTicks=function(t){t=t||{};var n=this._interval,a=this._extent,i=_i(),s=[];if(!n)return s;var o=this.getSetting("useUTC");if(i&&t.breakTicks==="only_break")return _i().addBreaksToTicks(s,this._brkCtx.breaks,this._extent),s;var l=W1(a[1],o);s.push({value:a[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var c=lUe(this._minLevelUnit,this._approxInterval,o,a,this._getExtentSpanWithBreaks(),this._brkCtx);s=s.concat(c);var u=W1(a[1],o);s.push({value:a[1],time:{level:0,upperTimeUnit:u,lowerTimeUnit:u}});var f=this.getSetting("useUTC"),h=jl.length-1,d=0;return te(s,function(v){h=Math.min(h,br(jl,v.time.upperTimeUnit)),d=Math.max(d,v.time.level)}),i&&_i().pruneTicksByBreak(t.pruneByBreak,s,this._brkCtx.breaks,function(v){return v.value},this._approxInterval,this._extent),i&&t.breakTicks!=="none"&&_i().addBreaksToTicks(s,this._brkCtx.breaks,this._extent,function(v){for(var g=Math.max(br(jl,W1(v.vmin,f)),br(jl,W1(v.vmax,f))),m=0,y=0;y<jl.length;y++)if(!mle(jl[y],v.vmin,v.vmax,f)){m=y;break}var b=Math.min(m,h),S=Math.max(b,g);return{level:d,lowerTimeUnit:jl[S],upperTimeUnit:jl[b]}}),s},e.prototype.calcNiceExtent=function(t){var n=this.getExtent();if(n[0]===n[1]&&(n[0]-=Xc,n[1]+=Xc),n[1]===-1/0&&n[0]===1/0){var a=new Date;n[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),n[0]=n[1]-Xc}this._innerSetExtent(n[0],n[1]),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,n,a){t=t||10;var i=this._getExtentSpanWithBreaks();this._approxInterval=i/t,n!=null&&this._approxInterval<n&&(this._approxInterval=n),a!=null&&this._approxInterval>a&&(this._approxInterval=a);var s=o3.length,o=Math.min(tUe(o3,this._approxInterval,0,s),s-1);this._interval=o3[o][1],this._intervalPrecision=YT(this._interval),this._minLevelUnit=o3[Math.max(o-1,0)][0]},e.prototype.parse=function(t){return $r(t)?t:+Ih(t)},e.prototype.contain=function(t){return gU(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.type="time",e})(op),o3=[["second",PF],["minute",BF],["hour",jw],["quarter-day",jw*6],["half-day",jw*12],["day",Xc*1.2],["half-week",Xc*3.5],["week",Xc*7],["month",Xc*31],["quarter",Xc*95],["half-year",GY/2],["year",GY]];function mle(r,e,t,n){return JR(new Date(e),r,n).getTime()===JR(new Date(t),r,n).getTime()}function rUe(r,e){return r/=Xc,r>16?16:r>7.5?7:r>3.5?4:r>1.5?2:1}function nUe(r){var e=30*Xc;return r/=e,r>6?6:r>3?3:r>2?2:1}function aUe(r){return r/=jw,r>12?12:r>6?6:r>3.5?4:r>2?2:1}function eq(r,e){return r/=e?BF:PF,r>30?30:r>20?20:r>15?15:r>10?10:r>5?5:r>2?2:1}function iUe(r){return fF(r,!0)}function sUe(r,e,t){var n=Math.max(0,br(jl,e)-1);return JR(new Date(r),jl[n],t).getTime()}function oUe(r,e){var t=new Date(0);t[r](1);var n=t.getTime();t[r](1+e);var a=t.getTime()-n;return function(i,s){return Math.max(0,Math.round((s-i)/a))}}function lUe(r,e,t,n,a,i){var s=1e4,o=_Be,l=0;function c(U,F,q,H,Z,X,Y){for(var re=oUe(Z,U),W=F,j=new Date(W);W<q&&W<=n[1]&&(Y.push({value:W}),!(l++>s));)if(j[Z](j[H]()+U),W=j.getTime(),i){var J=i.calcNiceTickMultiple(W,re);J>0&&(j[Z](j[H]()+J*U),W=j.getTime())}Y.push({value:W,notAdd:!0})}function u(U,F,q){var H=[],Z=!F.length;if(!mle(Ww(U),n[0],n[1],t)){Z&&(F=[{value:sUe(n[0],U,t)},{value:n[1]}]);for(var X=0;X<F.length-1;X++){var Y=F[X].value,re=F[X+1].value;if(Y!==re){var W=void 0,j=void 0,J=void 0,ee=!1;switch(U){case"year":W=Math.max(1,Math.round(e/Xc/365)),j=Tse(t),J=EBe(t);break;case"half-year":case"quarter":case"month":W=nUe(e),j=zF(t),J=Ase(t);break;case"week":case"half-week":case"day":W=rUe(e),j=FF(t),J=Ese(t),ee=!0;break;case"half-day":case"quarter-day":case"hour":W=aUe(e),j=UF(t),J=Mse(t);break;case"minute":W=eq(e,!0),j=VF(t),J=Cse(t);break;case"second":W=eq(e,!1),j=HF(t),J=Dse(t);break;case"millisecond":W=iUe(e),j=GF(t),J=Rse(t);break}re>=n[0]&&Y<=n[1]&&c(W,Y,re,j,J,ee,H),U==="year"&&q.length>1&&X===0&&q.unshift({value:q[0].value-W})}}for(var X=0;X<H.length;X++)q.push(H[X])}}for(var f=[],h=[],d=0,v=0,g=0;g<o.length;++g){var m=Ww(o[g]);if(wBe(o[g])){u(o[g],f[f.length-1]||[],h);var y=o[g+1]?Ww(o[g+1]):null;if(m!==y){if(h.length){v=d,h.sort(function(U,F){return U.value-F.value});for(var b=[],S=0;S<h.length;++S){var A=h[S].value;(S===0||h[S-1].value!==A)&&(b.push(h[S]),A>=n[0]&&A<=n[1]&&d++)}var E=a/e;if(d>E*1.5&&v>E/1.5||(f.push(b),d>E||r===o[g]))break}h=[]}}}for(var M=fn(ft(f,function(U){return fn(U,function(F){return F.value>=n[0]&&F.value<=n[1]&&!F.notAdd})}),function(U){return U.length>0}),R=[],L=M.length-1,g=0;g<M.length;++g)for(var I=M[g],O=0;O<I.length;++O){var P=W1(I[O].value,t);R.push({value:I[O].value,time:{level:L-g,upperTimeUnit:P,lowerTimeUnit:P}})}R.sort(function(U,F){return U.value-F.value});for(var k=[],g=0;g<R.length;++g)(g===0||R[g].value!==R[g-1].value)&&k.push(R[g]);return k}yv.registerClass(yU);var dB=ni,cUe=Math.floor,uUe=Math.ceil,l3=Math.pow,c3=Math.log,yle=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new op,t}return e.prototype.getTicks=function(t){t=t||{};var n=this._extent.slice(),a=this._originalScale.getExtent(),i=r.prototype.getTicks.call(this,t),s=this.base,o=this._originalScale._innerGetBreaks(),l=_i();return ft(i,function(c){var u=c.value,f=null,h=l3(s,u);u===n[0]&&this._fixMin?f=a[0]:u===n[1]&&this._fixMax&&(f=a[1]);var d;if(l){var v=l.getTicksLogTransformBreak(c,s,o,u3);d=v.vBreak,f==null&&(f=v.brkRoundingCriterion)}return f!=null&&(h=u3(h,f)),{value:h,break:d}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(t,n){this._originalScale.setExtent(t,n);var a=fB(this.base,[t,n]);r.prototype.setExtent.call(this,a[0],a[1])},e.prototype.getExtent=function(){var t=this.base,n=r.prototype.getExtent.call(this);n[0]=l3(t,n[0]),n[1]=l3(t,n[1]);var a=this._originalScale.getExtent();return this._fixMin&&(n[0]=u3(n[0],a[0])),this._fixMax&&(n[1]=u3(n[1],a[1])),n},e.prototype.unionExtentFromData=function(t,n){this._originalScale.unionExtentFromData(t,n);var a=fB(this.base,t.getApproximateExtent(n),!0);this._innerUnionExtent(a)},e.prototype.calcNiceTicks=function(t){t=t||10;var n=this._extent.slice(),a=this._getExtentSpanWithBreaks();if(!(!isFinite(a)||a<=0)){var i=wie(a),s=t/a*i;for(s<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var o=[dB(uUe(n[0]/i)*i),dB(cUe(n[1]/i)*i)];this._interval=i,this._intervalPrecision=YT(i),this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){r.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.contain=function(t){return t=c3(t)/c3(this.base),r.prototype.contain.call(this,t)},e.prototype.normalize=function(t){return t=c3(t)/c3(this.base),r.prototype.normalize.call(this,t)},e.prototype.scale=function(t){return t=r.prototype.scale.call(this,t),l3(this.base,t)},e.prototype.setBreaksFromOption=function(t){var n=_i();if(n){var a=n.logarithmicParseBreaksFromOption(t,this.base,Ot(this.parse,this)),i=a.parsedOriginal,s=a.parsedLogged;this._originalScale._innerSetBreak(i),this._innerSetBreak(s)}},e.type="log",e})(op);function u3(r,e){return dB(r,Yu(e))}yv.registerClass(yle);var fUe=(function(){function r(e,t,n){this._prepareParams(e,t,n)}return r.prototype._prepareParams=function(e,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var a=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var i=t.get("min",!0);i==null&&(i=t.get("startValue",!0));var s=this._modelMinRaw=i;Yt(s)?this._modelMinNum=f3(e,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=f3(e,s));var o=this._modelMaxRaw=t.get("max",!0);if(Yt(o)?this._modelMaxNum=f3(e,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=f3(e,o)),a)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),c=ct(l)?l:[l||0,l||0];typeof c[0]=="boolean"||typeof c[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[sf(c[0],1),sf(c[1],1)]}},r.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,n=this._dataMax,a=this._axisDataLen,i=this._boundaryGapInner,s=e?null:n-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,c=o!=null,u=l!=null;o==null&&(o=e?a?0:NaN:t-i[0]*s),l==null&&(l=e?a?a-1:NaN:n+i[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Us(o)||Us(l)||e&&!a;this._needCrossZero&&(o>0&&l>0&&!c&&(o=0),o<0&&l<0&&!u&&(l=0));var h=this._determinedMin,d=this._determinedMax;return h!=null&&(o=h,c=!0),d!=null&&(l=d,u=!0),{min:o,max:l,minFixed:c,maxFixed:u,isBlank:f}},r.prototype.modifyDataMinMax=function(e,t){this[dUe[e]]=t},r.prototype.setDeterminedMinMax=function(e,t){var n=hUe[e];this[n]=t},r.prototype.freeze=function(){this.frozen=!0},r})(),hUe={min:"_determinedMin",max:"_determinedMax"},dUe={min:"_dataMin",max:"_dataMax"};function xle(r,e,t){var n=r.rawExtentInfo;return n||(n=new fUe(r,e,t),r.rawExtentInfo=n,n)}function f3(r,e){return e==null?null:Us(e)?NaN:r.parse(e)}function _le(r,e){var t=r.type,n=xle(r,e,r.getExtent()).calculate();r.setBlank(n.isBlank);var a=n.min,i=n.max,s=e.ecModel;if(s&&t==="time"){var o=ule("bar",s),l=!1;if(te(o,function(f){l=l||f.getBaseAxis()===e.axis}),l){var c=fle(o),u=pUe(a,i,e,c);a=u.min,i=u.max}}return{extent:[a,i],fixMin:n.minFixed,fixMax:n.maxFixed}}function pUe(r,e,t,n){var a=t.axis.getExtent(),i=Math.abs(a[1]-a[0]),s=QFe(n,t.axis);if(s===void 0)return{min:r,max:e};var o=1/0;te(s,function(d){o=Math.min(d.offset,o)});var l=-1/0;te(s,function(d){l=Math.max(d.offset+d.width,l)}),o=Math.abs(o),l=Math.abs(l);var c=o+l,u=e-r,f=1-(o+l)/i,h=u/f-u;return e+=h*(l/c),r-=h*(o/c),{min:r,max:e}}function Qm(r,e){var t=e,n=_le(r,t),a=n.extent,i=t.get("splitNumber");r instanceof yle&&(r.base=t.get("logBase"));var s=r.type,o=t.get("interval"),l=s==="interval"||s==="time";r.setBreaksFromOption(Sle(t)),r.setExtent(a[0],a[1]),r.calcNiceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&r.setInterval&&r.setInterval(o)}function YA(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new N_({ordinalMeta:r.getOrdinalMeta?r.getOrdinalMeta():r.getCategories(),extent:[1/0,-1/0]});case"time":return new yU({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new(yv.getClass(e)||op)}}function vUe(r){var e=r.scale.getExtent(),t=e[0],n=e[1];return!(t>0&&n>0||t<0&&n<0)}function gb(r){var e=r.getLabelModel().get("formatter");if(r.type==="time"){var t=bBe(e);return function(a,i){return r.scale.getFormattedLabel(a,i,t)}}else{if(It(e))return function(a){var i=r.scale.getLabel(a),s=e.replace("{value}",i??"");return s};if(Yt(e)){if(r.type==="category")return function(a,i){return e(uN(r,a),a.value-r.scale.getExtent()[0],null)};var n=_i();return function(a,i){var s=null;return n&&(s=n.makeAxisLabelFormatterParamBreak(s,a.break)),e(uN(r,a),i,s)}}else return function(a){return r.scale.getLabel(a)}}}function uN(r,e){return r.type==="category"?r.scale.getLabel(e):e.value}function xU(r){var e=r.get("interval");return e??"auto"}function ble(r){return r.type==="category"&&xU(r.getLabelModel())===0}function fN(r,e){var t={};return te(r.mapDimensionsAll(e),function(n){t[vU(r,n)]=!0}),Yr(t)}function gUe(r,e,t){e&&te(fN(e,t),function(n){var a=e.getApproximateExtent(n);a[0]<r[0]&&(r[0]=a[0]),a[1]>r[1]&&(r[1]=a[1])})}function I_(r){return r==="middle"||r==="center"}function qT(r){return r.getShallow("show")}function Sle(r){var e=r.get("breaks",!0);if(e!=null)return!_i()||!mUe(r.axis)?void 0:e}function mUe(r){return(r.dim==="x"||r.dim==="y"||r.dim==="z"||r.dim==="single")&&r.type!=="category"}var mb=(function(){function r(){}return r.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},r.prototype.getCoordSysModel=function(){},r})();function yUe(r){return Oh(null,r)}var xUe={isDimensionStacked:sp,enableDataStack:ole,getStackedDimension:vU};function _Ue(r,e){var t=e;e instanceof zr||(t=new zr(e));var n=YA(t);return n.setExtent(r[0],r[1]),Qm(n,t),n}function bUe(r){Xa(r,mb)}function SUe(r,e){return e=e||{},Kn(r,null,null,e.state!=="normal")}const wUe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:LFe,createList:yUe,createScale:_Ue,createSymbol:oi,createTextStyle:SUe,dataStack:xUe,enableHoverEmphasis:G0,getECData:or,getLayoutRect:ma,mixinAxisModelCommonMethods:bUe},Symbol.toStringTag,{value:"Module"}));var TUe=1e-8;function tq(r,e){return Math.abs(r-e)<TUe}function cm(r,e,t){var n=0,a=r[0];if(!a)return!1;for(var i=1;i<r.length;i++){var s=r[i];n+=Md(a[0],a[1],s[0],s[1],e,t),a=s}var o=r[0];return(!tq(a[0],o[0])||!tq(a[1],o[1]))&&(n+=Md(a[0],a[1],o[0],o[1],e,t)),n!==0}var AUe=[];function Vk(r,e){for(var t=0;t<r.length;t++)Ya(r[t],r[t],e)}function rq(r,e,t,n){for(var a=0;a<r.length;a++){var i=r[a];n&&(i=n.project(i)),i&&isFinite(i[0])&&isFinite(i[1])&&(kd(e,e,i),Pd(t,t,i))}}function EUe(r){for(var e=0,t=0,n=0,a=r.length,i=r[a-1][0],s=r[a-1][1],o=0;o<a;o++){var l=r[o][0],c=r[o][1],u=i*c-l*s;e+=u,t+=(i+l)*u,n+=(s+c)*u,i=l,s=c}return e?[t/e/3,n/e/3,e]:[r[0][0]||0,r[0][1]||0]}var wle=(function(){function r(e){this.name=e}return r.prototype.setCenter=function(e){this._center=e},r.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},r})(),nq=(function(){function r(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return r})(),aq=(function(){function r(e){this.type="linestring",this.points=e}return r})(),Tle=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this,t)||this;return i.type="geoJSON",i.geometries=n,i._center=a&&[a[0],a[1]],i}return e.prototype.calcCenter=function(){for(var t=this.geometries,n,a=0,i=0;i<t.length;i++){var s=t[i],o=s.exterior,l=o&&o.length;l>a&&(n=s,a=l)}if(n)return EUe(n.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},e.prototype.getBoundingRect=function(t){var n=this._rect;if(n&&!t)return n;var a=[1/0,1/0],i=[-1/0,-1/0],s=this.geometries;return te(s,function(o){o.type==="polygon"?rq(o.exterior,a,i,t):te(o.points,function(l){rq(l,a,i,t)})}),isFinite(a[0])&&isFinite(a[1])&&isFinite(i[0])&&isFinite(i[1])||(a[0]=a[1]=i[0]=i[1]=0),n=new sr(a[0],a[1],i[0]-a[0],i[1]-a[1]),t||(this._rect=n),n},e.prototype.contain=function(t){var n=this.getBoundingRect(),a=this.geometries;if(!n.contain(t[0],t[1]))return!1;e:for(var i=0,s=a.length;i<s;i++){var o=a[i];if(o.type==="polygon"){var l=o.exterior,c=o.interiors;if(cm(l,t[0],t[1])){for(var u=0;u<(c?c.length:0);u++)if(cm(c[u],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,n,a,i){var s=this.getBoundingRect(),o=s.width/s.height;a?i||(i=a/o):a=o*i;for(var l=new sr(t,n,a,i),c=s.calculateTransform(l),u=this.geometries,f=0;f<u.length;f++){var h=u[f];h.type==="polygon"?(Vk(h.exterior,c),te(h.interiors,function(d){Vk(d,c)})):te(h.points,function(d){Vk(d,c)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var n=new e(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},e})(wle),MUe=(function(r){Ye(e,r);function e(t,n){var a=r.call(this,t)||this;return a.type="geoSVG",a._elOnlyForCalculate=n,a}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,n=t.getBoundingRect(),a=[n.x+n.width/2,n.y+n.height/2],i=kA(AUe),s=t;s&&!s.isGeoSVGGraphicRoot;)Ku(i,s.getLocalTransform(),i),s=s.parent;return Qc(i,i),Ya(a,a,i),a},e})(wle);function CUe(r){if(!r.UTF8Encoding)return r;var e=r,t=e.UTF8Scale;t==null&&(t=1024);var n=e.features;return te(n,function(a){var i=a.geometry,s=i.encodeOffsets,o=i.coordinates;if(s)switch(i.type){case"LineString":i.coordinates=Ale(o,s,t);break;case"Polygon":Hk(o,s,t);break;case"MultiLineString":Hk(o,s,t);break;case"MultiPolygon":te(o,function(l,c){return Hk(l,s[c],t)})}}),e.UTF8Encoding=!1,e}function Hk(r,e,t){for(var n=0;n<r.length;n++)r[n]=Ale(r[n],e[n],t)}function Ale(r,e,t){for(var n=[],a=e[0],i=e[1],s=0;s<r.length;s+=2){var o=r.charCodeAt(s)-64,l=r.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=a,l+=i,a=o,i=l,n.push([o/t,l/t])}return n}function pB(r,e){return r=CUe(r),ft(fn(r.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,a=t.geometry,i=[];switch(a.type){case"Polygon":var s=a.coordinates;i.push(new nq(s[0],s.slice(1)));break;case"MultiPolygon":te(a.coordinates,function(l){l[0]&&i.push(new nq(l[0],l.slice(1)))});break;case"LineString":i.push(new aq([a.coordinates]));break;case"MultiLineString":i.push(new aq(a.coordinates))}var o=new Tle(n[e||"name"],i,n.cp);return o.properties=n,o})}const DUe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:C6,asc:Ql,getPercentWithPrecision:q5e,getPixelPrecision:cF,getPrecision:Yu,getPrecisionSafe:bie,isNumeric:hF,isRadianAroundZero:A_,linearMap:gn,nice:fF,numericToNumber:wh,parseDate:Ih,parsePercent:Nt,quantile:rD,quantity:wie,quantityExponent:qI,reformIntervals:D6,remRadian:uF,round:ni},Symbol.toStringTag,{value:"Module"})),RUe=Object.freeze(Object.defineProperty({__proto__:null,format:GA,parse:Ih,roundTime:JR},Symbol.toStringTag,{value:"Module"})),NUe=Object.freeze(Object.defineProperty({__proto__:null,Arc:UA,BezierCurve:ib,BoundingRect:sr,Circle:Lh,CompoundPath:VA,Ellipse:FA,Group:er,Image:ns,IncrementalDisplayable:cse,Line:ai,LinearGradient:gy,Polygon:js,Polyline:ws,RadialGradient:AF,Rect:Nr,Ring:ab,Sector:Gs,Text:Kr,clipPointsByRect:DF,clipRectByRect:pse,createIcon:ob,extendPath:hse,extendShape:fse,getShapeClass:FT,getTransform:j0,initProps:ca,makeImage:MF,makePath:M_,mergePath:Kl,registerShape:iu,resizePath:CF,updateProps:nn},Symbol.toStringTag,{value:"Module"})),IUe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:jF,capitalFirst:RBe,encodeHTML:ho,formatTime:DBe,formatTpl:YF,getTextRect:MBe,getTooltipMarker:Nse,normalizeCssArray:ub,toCamelCase:WF,truncateText:MPe},Symbol.toStringTag,{value:"Module"})),LUe=Object.freeze(Object.defineProperty({__proto__:null,bind:Ot,clone:Qt,curry:yr,defaults:rr,each:te,extend:nt,filter:fn,indexOf:br,inherits:tF,isArray:ct,isFunction:Yt,isObject:nr,isString:It,map:ft,merge:Sr,reduce:Jc},Symbol.toStringTag,{value:"Module"}));var OUe=Pr(),Xw=Pr(),of={estimate:1,determine:2};function hN(r){return{out:{noPxChangeTryDetermine:[]},kind:r}}function Ele(r,e){var t=ft(e,function(n){return r.scale.parse(n)});return r.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function kUe(r,e){var t=r.getLabelModel().get("customValues");if(t){var n=gb(r),a=r.scale.getExtent(),i=Ele(r,t),s=fn(i,function(o){return o>=a[0]&&o<=a[1]});return{labels:ft(s,function(o){var l={value:o};return{formattedLabel:n(l),rawLabel:r.scale.getLabel(l),tickValue:o,time:void 0,break:void 0}})}}return r.type==="category"?BUe(r,e):FUe(r)}function PUe(r,e,t){var n=r.getTickModel().get("customValues");if(n){var a=r.scale.getExtent(),i=Ele(r,n);return{ticks:fn(i,function(s){return s>=a[0]&&s<=a[1]})}}return r.type==="category"?zUe(r,e):{ticks:ft(r.scale.getTicks(t),function(s){return s.value})}}function BUe(r,e){var t=r.getLabelModel(),n=Mle(r,t,e);return!t.get("show")||r.scale.isBlank()?{labels:[]}:n}function Mle(r,e,t){var n=VUe(r),a=xU(e),i=t.kind===of.estimate;if(!i){var s=Dle(n,a);if(s)return s}var o,l;Yt(a)?o=Ile(r,a):(l=a==="auto"?HUe(r,t):a,o=Nle(r,l));var c={labels:o,labelCategoryInterval:l};return i?t.out.noPxChangeTryDetermine.push(function(){return vB(n,a,c),!0}):vB(n,a,c),c}function zUe(r,e){var t=UUe(r),n=xU(e),a=Dle(t,n);if(a)return a;var i,s;if((!e.get("show")||r.scale.isBlank())&&(i=[]),Yt(n))i=Ile(r,n,!0);else if(n==="auto"){var o=Mle(r,r.getLabelModel(),hN(of.determine));s=o.labelCategoryInterval,i=ft(o.labels,function(l){return l.tickValue})}else s=n,i=Nle(r,s,!0);return vB(t,n,{ticks:i,tickCategoryInterval:s})}function FUe(r){var e=r.scale.getTicks(),t=gb(r);return{labels:ft(e,function(n,a){return{formattedLabel:t(n,a),rawLabel:r.scale.getLabel(n),tickValue:n.value,time:n.time,break:n.break}})}}var UUe=Cle("axisTick"),VUe=Cle("axisLabel");function Cle(r){return function(t){return Xw(t)[r]||(Xw(t)[r]={list:[]})}}function Dle(r,e){for(var t=0;t<r.list.length;t++)if(r.list[t].key===e)return r.list[t].value}function vB(r,e,t){return r.list.push({key:e,value:t}),t}function HUe(r,e){if(e.kind===of.estimate){var t=r.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return Xw(r).autoInterval=t,!0}),t}var n=Xw(r).autoInterval;return n??(Xw(r).autoInterval=r.calculateCategoryInterval(e))}function GUe(r,e){var t=e.kind,n=WUe(r),a=gb(r),i=(n.axisRotate-n.labelRotate)/180*Math.PI,s=r.scale,o=s.getExtent(),l=s.count();if(o[1]-o[0]<1)return 0;var c=1,u=40;l>u&&(c=Math.max(1,Math.floor(l/u)));for(var f=o[0],h=r.dataToCoord(f+1)-r.dataToCoord(f),d=Math.abs(h*Math.cos(i)),v=Math.abs(h*Math.sin(i)),g=0,m=0;f<=o[1];f+=c){var y=0,b=0,S=YI(a({value:f}),n.font,"center","top");y=S.width*1.3,b=S.height*1.3,g=Math.max(g,y,7),m=Math.max(m,b,7)}var A=g/d,E=m/v;isNaN(A)&&(A=1/0),isNaN(E)&&(E=1/0);var M=Math.max(0,Math.floor(Math.min(A,E)));if(t===of.estimate)return e.out.noPxChangeTryDetermine.push(Ot(jUe,null,r,M,l)),M;var R=Rle(r,M,l);return R??M}function jUe(r,e,t){return Rle(r,e,t)==null}function Rle(r,e,t){var n=OUe(r.model),a=r.getExtent(),i=n.lastAutoInterval,s=n.lastTickCount;if(i!=null&&s!=null&&Math.abs(i-e)<=1&&Math.abs(s-t)<=1&&i>e&&n.axisExtent0===a[0]&&n.axisExtent1===a[1])return i;n.lastTickCount=t,n.lastAutoInterval=e,n.axisExtent0=a[0],n.axisExtent1=a[1]}function WUe(r){var e=r.getLabelModel();return{axisRotate:r.getRotate?r.getRotate():r.isHorizontal&&!r.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Nle(r,e,t){var n=gb(r),a=r.scale,i=a.getExtent(),s=r.getLabelModel(),o=[],l=Math.max((e||0)+1,1),c=i[0],u=a.count();c!==0&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var f=ble(r),h=s.get("showMinLabel")||f,d=s.get("showMaxLabel")||f;h&&c!==i[0]&&g(i[0]);for(var v=c;v<=i[1];v+=l)g(v);d&&v-l!==i[1]&&g(i[1]);function g(m){var y={value:m};o.push(t?m:{formattedLabel:n(y),rawLabel:a.getLabel(y),tickValue:m,time:void 0,break:void 0})}return o}function Ile(r,e,t){var n=r.scale,a=gb(r),i=[];return te(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;e(s.value,o)&&i.push(t?l:{formattedLabel:a(s),rawLabel:o,tickValue:l,time:void 0,break:void 0})}),i}var iq=[0,1],su=(function(){function r(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return r.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return e>=n&&e<=a},r.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},r.prototype.getExtent=function(){return this._extent.slice()},r.prototype.getPixelPrecision=function(e){return cF(e||this.scale.getExtent(),this._extent)},r.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},r.prototype.dataToCoord=function(e,t){var n=this._extent,a=this.scale;return e=a.normalize(a.parse(e)),this.onBand&&a.type==="ordinal"&&(n=n.slice(),sq(n,a.count())),gn(e,iq,n,t)},r.prototype.coordToData=function(e,t){var n=this._extent,a=this.scale;this.onBand&&a.type==="ordinal"&&(n=n.slice(),sq(n,a.count()));var i=gn(e,n,iq,t);return this.scale.scale(i)},r.prototype.pointToData=function(e,t){},r.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=PUe(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),a=n.ticks,i=ft(a,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return YUe(this,i,s,e.clamp),i},r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),a=ft(n,function(i){return ft(i,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return a},r.prototype.getViewLabels=function(e){return e=e||hN(of.determine),kUe(this,e).labels},r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},r.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);n===0&&(n=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/n},r.prototype.calculateCategoryInterval=function(e){return e=e||hN(of.determine),GUe(this,e)},r})();function sq(r,e){var t=r[1]-r[0],n=e,a=t/n/2;r[0]+=a,r[1]-=a}function YUe(r,e,t,n){var a=e.length;if(!r.onBand||t||!a)return;var i=r.getExtent(),s,o;if(a===1)e[0].coord=i[0],e[0].onBand=!0,s=e[1]={coord:i[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[a-1].tickValue-e[0].tickValue,c=(e[a-1].coord-e[0].coord)/l;te(e,function(d){d.coord-=c/2,d.onBand=!0});var u=r.scale.getExtent();o=1+u[1]-e[a-1].tickValue,s={coord:e[a-1].coord+c*o,tickValue:u[1]+1,onBand:!0},e.push(s)}var f=i[0]>i[1];h(e[0].coord,i[0])&&(n?e[0].coord=i[0]:e.shift()),n&&h(i[0],e[0].coord)&&e.unshift({coord:i[0],onBand:!0}),h(i[1],s.coord)&&(n?s.coord=i[1]:e.pop()),n&&h(s.coord,i[1])&&e.push({coord:i[1],onBand:!0});function h(d,v){return d=ni(d),v=ni(v),f?d>v:d<v}}function XUe(r){var e=kr.extend(r);return kr.registerClass(e),e}function qUe(r){var e=Jn.extend(r);return Jn.registerClass(e),e}function ZUe(r){var e=Hn.extend(r);return Hn.registerClass(e),e}function KUe(r){var e=Ln.extend(r);return Ln.registerClass(e),e}var A2=Math.PI*2,Xg=Th.CMD,$Ue=["top","right","bottom","left"];function JUe(r,e,t,n,a){var i=t.width,s=t.height;switch(r){case"top":n.set(t.x+i/2,t.y-e),a.set(0,-1);break;case"bottom":n.set(t.x+i/2,t.y+s+e),a.set(0,1);break;case"left":n.set(t.x-e,t.y+s/2),a.set(-1,0);break;case"right":n.set(t.x+i+e,t.y+s/2),a.set(1,0);break}}function QUe(r,e,t,n,a,i,s,o,l){s-=r,o-=e;var c=Math.sqrt(s*s+o*o);s/=c,o/=c;var u=s*t+r,f=o*t+e;if(Math.abs(n-a)%A2<1e-4)return l[0]=u,l[1]=f,c-t;if(i){var h=n;n=ec(a),a=ec(h)}else n=ec(n),a=ec(a);n>a&&(a+=A2);var d=Math.atan2(o,s);if(d<0&&(d+=A2),d>=n&&d<=a||d+A2>=n&&d+A2<=a)return l[0]=u,l[1]=f,c-t;var v=t*Math.cos(n)+r,g=t*Math.sin(n)+e,m=t*Math.cos(a)+r,y=t*Math.sin(a)+e,b=(v-s)*(v-s)+(g-o)*(g-o),S=(m-s)*(m-s)+(y-o)*(y-o);return b<S?(l[0]=v,l[1]=g,Math.sqrt(b)):(l[0]=m,l[1]=y,Math.sqrt(S))}function dN(r,e,t,n,a,i,s,o){var l=a-r,c=i-e,u=t-r,f=n-e,h=Math.sqrt(u*u+f*f);u/=h,f/=h;var d=l*u+c*f,v=d/h;o&&(v=Math.min(Math.max(v,0),1)),v*=h;var g=s[0]=r+v*u,m=s[1]=e+v*f;return Math.sqrt((g-a)*(g-a)+(m-i)*(m-i))}function Lle(r,e,t,n,a,i,s){t<0&&(r=r+t,t=-t),n<0&&(e=e+n,n=-n);var o=r+t,l=e+n,c=s[0]=Math.min(Math.max(a,r),o),u=s[1]=Math.min(Math.max(i,e),l);return Math.sqrt((c-a)*(c-a)+(u-i)*(u-i))}var Uu=[];function e9e(r,e,t){var n=Lle(e.x,e.y,e.width,e.height,r.x,r.y,Uu);return t.set(Uu[0],Uu[1]),n}function t9e(r,e,t){for(var n=0,a=0,i=0,s=0,o,l,c=1/0,u=e.data,f=r.x,h=r.y,d=0;d<u.length;){var v=u[d++];d===1&&(n=u[d],a=u[d+1],i=n,s=a);var g=c;switch(v){case Xg.M:i=u[d++],s=u[d++],n=i,a=s;break;case Xg.L:g=dN(n,a,u[d],u[d+1],f,h,Uu,!0),n=u[d++],a=u[d++];break;case Xg.C:g=tie(n,a,u[d++],u[d++],u[d++],u[d++],u[d],u[d+1],f,h,Uu),n=u[d++],a=u[d++];break;case Xg.Q:g=nie(n,a,u[d++],u[d++],u[d],u[d+1],f,h,Uu),n=u[d++],a=u[d++];break;case Xg.A:var m=u[d++],y=u[d++],b=u[d++],S=u[d++],A=u[d++],E=u[d++];d+=1;var M=!!(1-u[d++]);o=Math.cos(A)*b+m,l=Math.sin(A)*S+y,d<=1&&(i=o,s=l);var R=(f-m)*S/b+m;g=QUe(m,y,S,A,A+E,M,R,h,Uu),n=Math.cos(A+E)*b+m,a=Math.sin(A+E)*S+y;break;case Xg.R:i=n=u[d++],s=a=u[d++];var L=u[d++],I=u[d++];g=Lle(i,s,L,I,f,h,Uu);break;case Xg.Z:g=dN(n,a,i,s,f,h,Uu,!0),n=i,a=s;break}g<c&&(c=g,t.set(Uu[0],Uu[1]))}return c}var Xu=new ir,la=new ir,ei=new ir,hh=new ir,sh=new ir;function oq(r,e){if(r){var t=r.getTextGuideLine(),n=r.getTextContent();if(n&&t){var a=r.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],s=a.candidates||$Ue,o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var l=1/0,c=a.anchor,u=r.getComputedTransform(),f=u&&Qc([],u),h=e.get("length2")||0;c&&ei.copy(c);for(var d=0;d<s.length;d++){var v=s[d];JUe(v,0,o,Xu,hh),ir.scaleAndAdd(la,Xu,hh,h),la.transform(f);var g=r.getBoundingRect(),m=c?c.distance(la):r instanceof Fr?t9e(la,r.path,ei):e9e(la,g,ei);m<l&&(l=m,la.transform(u),ei.transform(u),ei.toArray(i[0]),la.toArray(i[1]),Xu.toArray(i[2]))}Ole(i,e.get("minTurnAngle")),t.setShape({points:i})}}}var pN=[],qo=new ir;function Ole(r,e){if(e<=180&&e>0){e=e/180*Math.PI,Xu.fromArray(r[0]),la.fromArray(r[1]),ei.fromArray(r[2]),ir.sub(hh,Xu,la),ir.sub(sh,ei,la);var t=hh.len(),n=sh.len();if(!(t<.001||n<.001)){hh.scale(1/t),sh.scale(1/n);var a=hh.dot(sh),i=Math.cos(e);if(i<a){var s=dN(la.x,la.y,ei.x,ei.y,Xu.x,Xu.y,pN,!1);qo.fromArray(pN),qo.scaleAndAdd(sh,s/Math.tan(Math.PI-e));var o=ei.x!==la.x?(qo.x-la.x)/(ei.x-la.x):(qo.y-la.y)/(ei.y-la.y);if(isNaN(o))return;o<0?ir.copy(qo,la):o>1&&ir.copy(qo,ei),qo.toArray(r[1])}}}}function r9e(r,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Xu.fromArray(r[0]),la.fromArray(r[1]),ei.fromArray(r[2]),ir.sub(hh,la,Xu),ir.sub(sh,ei,la);var n=hh.len(),a=sh.len();if(!(n<.001||a<.001)){hh.scale(1/n),sh.scale(1/a);var i=hh.dot(e),s=Math.cos(t);if(i<s){var o=dN(la.x,la.y,ei.x,ei.y,Xu.x,Xu.y,pN,!1);qo.fromArray(pN);var l=Math.PI/2,c=Math.acos(sh.dot(e)),u=l+c-t;if(u>=l)ir.copy(qo,ei);else{qo.scaleAndAdd(sh,o/Math.tan(Math.PI/2-u));var f=ei.x!==la.x?(qo.x-la.x)/(ei.x-la.x):(qo.y-la.y)/(ei.y-la.y);if(isNaN(f))return;f<0?ir.copy(qo,la):f>1&&ir.copy(qo,ei)}qo.toArray(r[1])}}}}function Gk(r,e,t,n){var a=t==="normal",i=a?r:r.ensureState(t);i.ignore=e;var s=n.get("smooth");s&&s===!0&&(s=.3),i.shape=i.shape||{},s>0&&(i.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();a?r.useStyle(o):i.style=o}function n9e(r,e){var t=e.smooth,n=e.points;if(n)if(r.moveTo(n[0][0],n[0][1]),t>0&&n.length>=3){var a=Od(n[0],n[1]),i=Od(n[1],n[2]);if(!a||!i){r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]);return}var s=Math.min(a,i)*t,o=Bw([],n[1],n[0],s/a),l=Bw([],n[1],n[2],s/i),c=Bw([],o,l,.5);r.bezierCurveTo(o[0],o[1],o[0],o[1],c[0],c[1]),r.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var u=1;u<n.length;u++)r.lineTo(n[u][0],n[u][1])}function _U(r,e,t){var n=r.getTextGuideLine(),a=r.getTextContent();if(!a){n&&r.removeTextGuideLine();return}for(var i=e.normal,s=i.get("show"),o=a.ignore,l=0;l<BT.length;l++){var c=BT[l],u=e[c],f=c==="normal";if(u){var h=u.get("show"),d=f?o:Gt(a.states[c]&&a.states[c].ignore,o);if(d||!Gt(h,s)){var v=f?n:n&&n.states[c];v&&(v.ignore=!0),n&&Gk(n,!0,c,u);continue}n||(n=new ws,r.setTextGuideLine(n),!f&&(o||!s)&&Gk(n,!0,"normal",e.normal),r.stateProxy&&(n.stateProxy=r.stateProxy)),Gk(n,!1,c,u)}}if(n){rr(n.style,t),n.style.fill=null;var g=i.get("showAbove"),m=r.textGuideLineConfig=r.textGuideLineConfig||{};m.showAbove=g||!1,n.buildPath=n9e}}function bU(r,e){e=e||"labelLine";for(var t={normal:r.getModel(e)},n=0;n<nl.length;n++){var a=nl[n];t[a]=r.getModel([a,e])}return t}var lq=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],a9e=1,vN=2,kle=a9e|vN;function gN(r,e,t){t=t||kle,e?r.dirty|=t:r.dirty&=~t}function Ple(r,e){return e=e||kle,r.dirty==null||!!(r.dirty&e)}function Eh(r){if(r)return Ple(r)&&Ble(r,r.label,r),r}function Ble(r,e,t){var n=e.getComputedTransform();r.transform=NF(r.transform,n);var a=r.localRect=UT(r.localRect,e.getBoundingRect()),i=e.style,s=i.margin,o=t&&t.marginForce,l=t&&t.minMarginForce,c=t&&t.marginDefault,u=i.__marginType;u==null&&c&&(s=c,u=j1.textMargin);for(var f=0;f<4;f++)jk[f]=u===j1.minMargin&&l&&l[f]!=null?l[f]:o&&o[f]!=null?o[f]:s?s[f]:0;u===j1.textMargin&&Km(a,jk,!1,!1);var h=r.rect=UT(r.rect,a);return n&&h.applyTransform(n),u===j1.minMargin&&Km(h,jk,!1,!1),r.axisAligned=RF(n),(r.label=r.label||{}).ignore=e.ignore,gN(r,!1),gN(r,!0,vN),r}var jk=[0,0,0,0];function i9e(r,e,t){return r.transform=NF(r.transform,t),r.localRect=UT(r.localRect,e),r.rect=UT(r.rect,e),t&&r.rect.applyTransform(t),r.axisAligned=RF(t),r.obb=void 0,(r.label=r.label||{}).ignore=!1,r}function gB(r,e){if(r){r.label.x+=e.x,r.label.y+=e.y,r.label.markRedraw();var t=r.transform;t&&(t[4]+=e.x,t[5]+=e.y);var n=r.rect;n&&(n.x+=e.x,n.y+=e.y);var a=r.obb;a&&a.fromBoundingRect(r.localRect,t)}}function mB(r,e){for(var t=0;t<lq.length;t++){var n=lq[t];r[n]==null&&(r[n]=e[n])}return Eh(r)}function cq(r){var e=r.obb;return(!e||Ple(r,vN))&&(r.obb=e=e||new lse,e.fromBoundingRect(r.localRect,r.transform),gN(r,!1,vN)),e}function yB(r,e,t,n,a){var i=r.length,s=dr[e],o=bi[e];if(i<2)return!1;r.sort(function(R,L){return R.rect[s]-L.rect[s]});for(var l=0,c,u=!1,f=0;f<i;f++){var h=r[f],d=h.rect;c=d[s]-l,c<0&&(d[s]-=c,h.label[s]-=c,u=!0),l=d[s]+d[o]}var v=r[0],g=r[i-1],m,y;b(),m<0&&E(-m,.8),y<0&&E(y,.8),b(),S(m,y,1),S(y,m,-1),b(),m<0&&M(-m),y<0&&M(y);function b(){m=v.rect[s]-t,y=n-g.rect[s]-g.rect[o]}function S(R,L,I){if(R<0){var O=Math.min(L,-R);if(O>0){A(O*I,0,i);var P=O+R;P<0&&E(-P*I,1)}else E(-R*I,1)}}function A(R,L,I){R!==0&&(u=!0);for(var O=L;O<I;O++){var P=r[O],k=P.rect;k[s]+=R,P.label[s]+=R}}function E(R,L){for(var I=[],O=0,P=1;P<i;P++){var k=r[P-1].rect,U=Math.max(r[P].rect[s]-k[s]-k[o],0);I.push(U),O+=U}if(O){var F=Math.min(Math.abs(R)/O,L);if(R>0)for(var P=0;P<i-1;P++){var q=I[P]*F;A(q,0,P+1)}else for(var P=i-1;P>0;P--){var q=I[P-1]*F;A(-q,P,i)}}}function M(R){var L=R<0?-1:1;R=Math.abs(R);for(var I=Math.ceil(R/(i-1)),O=0;O<i-1;O++)if(L>0?A(I,0,O+1):A(-I,i-O-1,i),R-=I,R<=0)return}return u}function s9e(r){for(var e=0;e<r.length;e++){var t=r[e],n=t.defaultAttr,a=t.labelLine;t.label.attr("ignore",n.ignore),a&&a.attr("ignore",n.labelGuideIgnore)}}function zle(r){var e=[];r.sort(function(c,u){return(u.suggestIgnore?1:0)-(c.suggestIgnore?1:0)||u.priority-c.priority});function t(c){if(!c.ignore){var u=c.ensureState("emphasis");u.ignore==null&&(u.ignore=!1)}c.ignore=!0}for(var n=0;n<r.length;n++){var a=Eh(r[n]);if(!a.label.ignore){for(var i=a.label,s=a.labelLine,o=!1,l=0;l<e.length;l++)if(dL(a,e[l],null,{touchThreshold:.05})){o=!0;break}o?(t(i),s&&t(s)):e.push(a)}}}function dL(r,e,t,n){return!r||!e||r.label&&r.label.ignore||e.label&&e.label.ignore||!r.rect.intersect(e.rect,t,n)?!1:r.axisAligned&&e.axisAligned?!0:cq(r).intersect(cq(e),t,n)}function o9e(r){if(r){for(var e=[],t=0;t<r.length;t++)e.push(r[t].slice());return e}}function l9e(r,e){var t=r.label,n=e&&e.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:o9e(n&&n.shape.points)}}var uq=["align","verticalAlign","width","height","fontSize"],Go=new Bd,Wk=Pr(),c9e=Pr();function h3(r,e,t){for(var n=0;n<t.length;n++){var a=t[n];e[a]!=null&&(r[a]=e[a])}}var d3=["x","y","rotation"],u9e=(function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(e,t,n,a,i){var s=a.style,o=a.__hostTarget,l=o.textConfig||{},c=a.getComputedTransform(),u=a.getBoundingRect().plain();sr.applyTransform(u,u,c),c?Go.setLocalTransform(c):(Go.x=Go.y=Go.rotation=Go.originX=Go.originY=0,Go.scaleX=Go.scaleY=1),Go.rotation=ec(Go.rotation);var f=a.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var d=f.getComputedTransform();sr.applyTransform(h,h,d)}var v=h&&f.getTextGuideLine();this._labelList.push({label:a,labelLine:v,seriesModel:n,dataIndex:e,dataType:t,layoutOptionOrCb:i,layoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:v&&v.ignore,x:Go.x,y:Go.y,scaleX:Go.scaleX,scaleY:Go.scaleY,rotation:Go.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:a.cursor,attachedPos:l.position,attachedRot:l.rotation}})},r.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var n=e.__model,a=n.get("labelLayout");(Yt(a)||Yr(a).length)&&e.group.traverse(function(i){if(i.ignore)return!0;var s=i.getTextContent(),o=or(i);s&&!s.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,n,s,a)})},r.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),n=e.getHeight();function a(S,A){return function(){oq(S,A)}}for(var i=0;i<this._labelList.length;i++){var s=this._labelList[i],o=s.label,l=o.__hostTarget,c=s.defaultAttr,u=void 0;Yt(s.layoutOptionOrCb)?u=s.layoutOptionOrCb(l9e(s,l)):u=s.layoutOptionOrCb,u=u||{},s.layoutOption=u;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:u.x!=null||u.y!=null?null:c.attachedPos,rotation:u.rotate!=null?u.rotate*f:c.attachedRot,offset:[u.dx||0,u.dy||0]});var h=!1;if(u.x!=null?(o.x=Nt(u.x,t),o.setStyle("x",0),h=!0):(o.x=c.x,o.setStyle("x",c.style.x)),u.y!=null?(o.y=Nt(u.y,n),o.setStyle("y",0),h=!0):(o.y=c.y,o.setStyle("y",c.style.y)),u.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:u.labelLinePoints}),h=!1)}var v=Wk(o);v.needsUpdateLabelLine=h,o.rotation=u.rotate!=null?u.rotate*f:c.rotation,o.scaleX=c.scaleX,o.scaleY=c.scaleY;for(var g=0;g<uq.length;g++){var m=uq[g];o.setStyle(m,u[m]!=null?u[m]:c.style[m])}if(u.draggable){if(o.draggable=!0,o.cursor="move",l){var y=s.seriesModel;if(s.dataIndex!=null){var b=s.seriesModel.getData(s.dataType);y=b.getItemModel(s.dataIndex)}o.on("drag",a(l,y.getModel("labelLine")))}}else o.off("drag"),o.cursor=c.cursor}},r.prototype.layout=function(e){var t=e.getWidth(),n=e.getHeight(),a=[];te(this._labelList,function(l){l.defaultAttr.ignore||a.push(mB({},l))});var i=fn(a,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=fn(a,function(l){return l.layoutOption.moveOverlap==="shiftY"});yB(i,0,0,t),yB(s,1,0,n);var o=fn(a,function(l){return l.layoutOption.hideOverlap});s9e(o),zle(o)},r.prototype.processLabelsOverall=function(){var e=this;te(this._chartViewList,function(t){var n=t.__model,a=t.ignoreLabelLineUpdate,i=n.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!a,l=s.getTextContent();!o&&l&&(o=Wk(l).needsUpdateLabelLine),o&&e._updateLabelLine(s,n),i&&e._animateLabels(s,n)})})},r.prototype._updateLabelLine=function(e,t){var n=e.getTextContent(),a=or(e),i=a.dataIndex;if(n&&i!=null){var s=t.getData(a.dataType),o=s.getItemModel(i),l={},c=s.getItemVisual(i,"style");if(c){var u=s.getVisual("drawType");l.stroke=c[u]}var f=o.getModel("labelLine");_U(e,bU(o),l),oq(e,f)}},r.prototype._animateLabels=function(e,t){var n=e.getTextContent(),a=e.getTextGuideLine();if(n&&(e.forceLabelAnimation||!n.ignore&&!n.invisible&&!e.disableLabelAnimation&&!n_(e))){var i=Wk(n),s=i.oldLayout,o=or(e),l=o.dataIndex,c={x:n.x,y:n.y,rotation:n.rotation},u=t.getData(o.dataType);if(s){n.attr(s);var h=e.prevStates;h&&(br(h,"select")>=0&&n.attr(i.oldLayoutSelect),br(h,"emphasis")>=0&&n.attr(i.oldLayoutEmphasis)),nn(n,c,t,l)}else if(n.attr(c),!lb(n).valueAnimation){var f=Gt(n.style.opacity,1);n.style.opacity=0,ca(n,{style:{opacity:f}},t,l)}if(i.oldLayout=c,n.states.select){var d=i.oldLayoutSelect={};h3(d,c,d3),h3(d,n.states.select,d3)}if(n.states.emphasis){var v=i.oldLayoutEmphasis={};h3(v,c,d3),h3(v,n.states.emphasis,d3)}_se(n,l,u,t,t)}if(a&&!a.ignore&&!a.invisible){var i=c9e(a),s=i.oldLayout,g={points:a.shape.points};s?(a.attr({shape:s}),nn(a,{shape:g},t)):(a.setShape(g),a.style.strokePercent=0,ca(a,{style:{strokePercent:1}},t)),i.oldLayout=g}},r})(),Yk=Pr();function f9e(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){var a=Yk(t).labelManager;a||(a=Yk(t).labelManager=new u9e),a.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(e,t,n){var a=Yk(t).labelManager;n.updatedSeries.forEach(function(i){a.addLabelsOfSeries(t.getViewOfSeriesModel(i))}),a.updateLayoutConfig(t),a.layout(t),a.processLabelsOverall()})}var Xk=Math.sin,qk=Math.cos,Fle=Math.PI,qg=Math.PI*2,h9e=180/Fle,Ule=(function(){function r(){}return r.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},r.prototype.moveTo=function(e,t){this._add("M",e,t)},r.prototype.lineTo=function(e,t){this._add("L",e,t)},r.prototype.bezierCurveTo=function(e,t,n,a,i,s){this._add("C",e,t,n,a,i,s)},r.prototype.quadraticCurveTo=function(e,t,n,a){this._add("Q",e,t,n,a)},r.prototype.arc=function(e,t,n,a,i,s){this.ellipse(e,t,n,n,0,a,i,s)},r.prototype.ellipse=function(e,t,n,a,i,s,o,l){var c=o-s,u=!l,f=Math.abs(c),h=L0(f-qg)||(u?c>=qg:-c>=qg),d=c>0?c%qg:c%qg+qg,v=!1;h?v=!0:L0(f)?v=!1:v=d>=Fle==!!u;var g=e+n*qk(s),m=t+a*Xk(s);this._start&&this._add("M",g,m);var y=Math.round(i*h9e);if(h){var b=1/this._p,S=(u?1:-1)*(qg-b);this._add("A",n,a,y,1,+u,e+n*qk(s+S),t+a*Xk(s+S)),b>.01&&this._add("A",n,a,y,0,+u,g,m)}else{var A=e+n*qk(o),E=t+a*Xk(o);this._add("A",n,a,y,+v,+u,A,E)}},r.prototype.rect=function(e,t,n,a){this._add("M",e,t),this._add("l",n,0),this._add("l",0,a),this._add("l",-n,0),this._add("Z")},r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},r.prototype._add=function(e,t,n,a,i,s,o,l,c){for(var u=[],f=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d)){this._invalid=!0;return}u.push(Math.round(d*f)/f)}this._d.push(e+u.join(" ")),this._start=e==="Z"},r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},r.prototype.getStr=function(){return this._str},r})(),SU="none",d9e=Math.round;function p9e(r){var e=r.fill;return e!=null&&e!==SU}function v9e(r){var e=r.stroke;return e!=null&&e!==SU}var xB=["lineCap","miterLimit","lineJoin"],g9e=ft(xB,function(r){return"stroke-"+r.toLowerCase()});function m9e(r,e,t,n){var a=e.opacity==null?1:e.opacity;if(t instanceof ns){r("opacity",a);return}if(p9e(e)){var i=kT(e.fill);r("fill",i.color);var s=e.fillOpacity!=null?e.fillOpacity*i.opacity*a:i.opacity*a;s<1&&r("fill-opacity",s)}else r("fill",SU);if(v9e(e)){var o=kT(e.stroke);r("stroke",o.color);var l=e.strokeNoScale?t.getLineScale():1,c=l?(e.lineWidth||0)/l:0,u=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*a:o.opacity*a,f=e.strokeFirst;if(c!==1&&r("stroke-width",c),f&&r("paint-order",f?"stroke":"fill"),u<1&&r("stroke-opacity",u),e.lineDash){var h=nU(t),d=h[0],v=h[1];d&&(v=d9e(v||0),r("stroke-dasharray",d.join(",")),(v||n)&&r("stroke-dashoffset",v))}for(var g=0;g<xB.length;g++){var m=xB[g];if(e[m]!==YR[m]){var y=e[m]||YR[m];y&&r(g9e[g],y)}}}}var Vle="http://www.w3.org/2000/svg",Hle="http://www.w3.org/1999/xlink",y9e="http://www.w3.org/2000/xmlns/",x9e="http://www.w3.org/XML/1998/namespace",fq="ecmeta_";function Gle(r){return document.createElementNS(Vle,r)}function Zi(r,e,t,n,a){return{tag:r,attrs:t||{},children:n,text:a,key:e}}function _9e(r,e){var t=[];if(e)for(var n in e){var a=e[n],i=n;a!==!1&&(a!==!0&&a!=null&&(i+='="'+a+'"'),t.push(i))}return"<"+r+" "+t.join(" ")+">"}function b9e(r){return"</"+r+">"}function wU(r,e){e=e||{};var t=e.newline?`
`:"";function n(a){var i=a.children,s=a.tag,o=a.attrs,l=a.text;return _9e(s,o)+(s!=="style"?ho(l):l||"")+(i?""+t+ft(i,function(c){return n(c)}).join(t)+t:"")+b9e(s)}return n(r)}function S9e(r,e,t){t=t||{};var n=t.newline?`
`:"",a=" {"+n,i=n+"}",s=ft(Yr(r),function(l){return l+a+ft(Yr(r[l]),function(c){return c+":"+r[l][c]+";"}).join(n)+i}).join(n),o=ft(Yr(e),function(l){return"@keyframes "+l+a+ft(Yr(e[l]),function(c){return c+a+ft(Yr(e[l][c]),function(u){var f=e[l][c][u];return u==="d"&&(f='path("'+f+'")'),u+":"+f+";"}).join(n)+i}).join(n)+i}).join(n);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(n)}function _B(r){return{zrId:r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function hq(r,e,t,n){return Zi("svg","root",{width:r,height:e,xmlns:Vle,"xmlns:xlink":Hle,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+r+" "+e:!1},t)}var w9e=0;function jle(){return w9e++}var dq={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},tm="transform-origin";function T9e(r,e,t){var n=nt({},r.shape);nt(n,e),r.buildPath(t,n);var a=new Ule;return a.reset(uie(r)),t.rebuildPath(a,1),a.generateStr(),a.getStr()}function A9e(r,e){var t=e.originX,n=e.originY;(t||n)&&(r[tm]=t+"px "+n+"px")}var E9e={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Wle(r,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=r,t}function M9e(r,e,t){var n=r.shape.paths,a={},i,s;if(te(n,function(l){var c=_B(t.zrId);c.animation=!0,pL(l,{},c,!0);var u=c.cssAnims,f=c.cssNodes,h=Yr(u),d=h.length;if(d){s=h[d-1];var v=u[s];for(var g in v){var m=v[g];a[g]=a[g]||{d:""},a[g].d+=m.d||""}for(var y in f){var b=f[y].animation;b.indexOf(s)>=0&&(i=b)}}}),!!i){e.d=!1;var o=Wle(a,t);return i.replace(s,o)}}function pq(r){return It(r)?dq[r]?"cubic-bezier("+dq[r]+")":iF(r)?r:"":""}function pL(r,e,t,n){var a=r.animators,i=a.length,s=[];if(r instanceof VA){var o=M9e(r,e,t);if(o)s.push(o);else if(!i)return}else if(!i)return;for(var l={},c=0;c<i;c++){var u=a[c],f=[u.getMaxTime()/1e3+"s"],h=pq(u.getClip().easing),d=u.getDelay();h?f.push(h):f.push("linear"),d&&f.push(d/1e3+"s"),u.getLoop()&&f.push("infinite");var v=f.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(u)}function g(b){var S=b[1],A=S.length,E={},M={},R={},L="animation-timing-function";function I(Se,we,Me){for(var Ve=Se.getTracks(),de=Se.getMaxTime(),dt=0;dt<Ve.length;dt++){var K=Ve[dt];if(K.needsAnimate()){var se=K.keyframes,_e=K.propName;if(Me&&(_e=Me(_e)),_e)for(var oe=0;oe<se.length;oe++){var ue=se[oe],be=Math.round(ue.time/de*100)+"%",Be=pq(ue.easing),ze=ue.rawValue;(It(ze)||$r(ze))&&(we[be]=we[be]||{},we[be][_e]=ue.rawValue,Be&&(we[be][L]=Be))}}}}for(var O=0;O<A;O++){var P=S[O],k=P.targetName;k?k==="shape"&&I(P,M):!n&&I(P,E)}for(var U in E){var F={};GR(F,r),nt(F,E[U]);var q=fie(F),H=E[U][L];R[U]=q?{transform:q}:{},A9e(R[U],F),H&&(R[U][L]=H)}var Z,X=!0;for(var U in M){R[U]=R[U]||{};var Y=!Z,H=M[U][L];Y&&(Z=new Th);var re=Z.len();Z.reset(),R[U].d=T9e(r,M[U],Z);var W=Z.len();if(!Y&&re!==W){X=!1;break}H&&(R[U][L]=H)}if(!X)for(var U in R)delete R[U].d;if(!n)for(var O=0;O<A;O++){var P=S[O],k=P.targetName;k==="style"&&I(P,R,function(Ve){return E9e[Ve]})}for(var j=Yr(R),J=!0,ee,O=1;O<j.length;O++){var ae=j[O-1],ce=j[O];if(R[ae][tm]!==R[ce][tm]){J=!1;break}ee=R[ae][tm]}if(J&&ee){for(var U in R)R[U][tm]&&delete R[U][tm];e[tm]=ee}if(fn(j,function(Se){return Yr(R[Se]).length>0}).length){var me=Wle(R,t);return me+" "+b[0]+" both"}}for(var m in l){var o=g(l[m]);o&&s.push(o)}if(s.length){var y=t.zrId+"-cls-"+jle();t.cssNodes["."+y]={animation:s.join(",")},e.class=y}}function C9e(r,e,t){if(!r.ignore)if(r.isSilent()){var n={"pointer-events":"none"};vq(n,e,t)}else{var a=r.states.emphasis&&r.states.emphasis.style?r.states.emphasis.style:{},i=a.fill;if(!i){var s=r.style&&r.style.fill,o=r.states.select&&r.states.select.style&&r.states.select.style.fill,l=r.currentStates.indexOf("select")>=0&&o||s;l&&(i=UR(l))}var c=a.lineWidth;if(c){var u=!a.strokeNoScale&&r.transform?r.transform[0]:1;c=c/u}var n={cursor:"pointer"};i&&(n.fill=i),a.stroke&&(n.stroke=a.stroke),c&&(n["stroke-width"]=c),vq(n,e,t)}}function vq(r,e,t,n){var a=JSON.stringify(r),i=t.cssStyleCache[a];i||(i=t.zrId+"-cls-"+jle(),t.cssStyleCache[a]=i,t.cssNodes["."+i+":hover"]=r),e.class=e.class?e.class+" "+i:i}var ZT=Math.round;function Yle(r){return r&&It(r.src)}function Xle(r){return r&&Yt(r.toDataURL)}function TU(r,e,t,n){m9e(function(a,i){var s=a==="fill"||a==="stroke";s&&cie(i)?Zle(e,r,a,n):s&&oF(i)?Kle(t,r,a,n):r[a]=i,s&&n.ssr&&i==="none"&&(r["pointer-events"]="visible")},e,t,!1),k9e(t,r,n)}function AU(r,e){var t=yie(e);t&&(t.each(function(n,a){n!=null&&(r[(fq+a).toLowerCase()]=n+"")}),e.isSilent()&&(r[fq+"silent"]="true"))}function gq(r){return L0(r[0]-1)&&L0(r[1])&&L0(r[2])&&L0(r[3]-1)}function D9e(r){return L0(r[4])&&L0(r[5])}function EU(r,e,t){if(e&&!(D9e(e)&&gq(e))){var n=1e4;r.transform=gq(e)?"translate("+ZT(e[4]*n)/n+" "+ZT(e[5]*n)/n+")":u5e(e)}}function mq(r,e,t){for(var n=r.points,a=[],i=0;i<n.length;i++)a.push(ZT(n[i][0]*t)/t),a.push(ZT(n[i][1]*t)/t);e.points=a.join(" ")}function yq(r){return!r.smooth}function R9e(r){var e=ft(r,function(t){return typeof t=="string"?[t,t]:t});return function(t,n,a){for(var i=0;i<e.length;i++){var s=e[i],o=t[s[0]];o!=null&&(n[s[1]]=ZT(o*a)/a)}}}var N9e={circle:[R9e(["cx","cy","r"])],polyline:[mq,yq],polygon:[mq,yq]};function I9e(r){for(var e=r.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function qle(r,e){var t=r.style,n=r.shape,a=N9e[r.type],i={},s=e.animation,o="path",l=r.style.strokePercent,c=e.compress&&uie(r)||4;if(a&&!e.willUpdate&&!(a[1]&&!a[1](n))&&!(s&&I9e(r))&&!(l<1)){o=r.type;var u=Math.pow(10,c);a[0](n,i,u)}else{var f=!r.path||r.shapeChanged();r.path||r.createPathProxy();var h=r.path;f&&(h.beginPath(),r.buildPath(h,r.shape),r.pathUpdated());var d=h.getVersion(),v=r,g=v.__svgPathBuilder;(v.__svgPathVersion!==d||!g||l!==v.__svgPathStrokePercent)&&(g||(g=v.__svgPathBuilder=new Ule),g.reset(c),h.rebuildPath(g,l),g.generateStr(),v.__svgPathVersion=d,v.__svgPathStrokePercent=l),i.d=g.getStr()}return EU(i,r.transform),TU(i,t,r,e),AU(i,r),e.animation&&pL(r,i,e),e.emphasis&&C9e(r,i,e),Zi(o,r.id+"",i)}function L9e(r,e){var t=r.style,n=t.image;if(n&&!It(n)&&(Yle(n)?n=n.src:Xle(n)&&(n=n.toDataURL())),!!n){var a=t.x||0,i=t.y||0,s=t.width,o=t.height,l={href:n,width:s,height:o};return a&&(l.x=a),i&&(l.y=i),EU(l,r.transform),TU(l,t,r,e),AU(l,r),e.animation&&pL(r,l,e),Zi("image",r.id+"",l)}}function O9e(r,e){var t=r.style,n=t.text;if(n!=null&&(n+=""),!(!n||isNaN(t.x)||isNaN(t.y))){var a=t.font||tp,i=t.x||0,s=h5e(t.y||0,BA(a),t.textBaseline),o=f5e[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(jie(t)){var c="",u=t.fontStyle,f=Gie(t.fontSize);if(!parseFloat(f))return;var h=t.fontFamily||kae,d=t.fontWeight;c+="font-size:"+f+";font-family:"+h+";",u&&u!=="normal"&&(c+="font-style:"+u+";"),d&&d!=="normal"&&(c+="font-weight:"+d+";"),l.style=c}else l.style="font: "+a;return n.match(/\s/)&&(l["xml:space"]="preserve"),i&&(l.x=i),s&&(l.y=s),EU(l,r.transform),TU(l,t,r,e),AU(l,r),e.animation&&pL(r,l,e),Zi("text",r.id+"",l,void 0,n)}}function xq(r,e){if(r instanceof Fr)return qle(r,e);if(r instanceof ns)return L9e(r,e);if(r instanceof E_)return O9e(r,e)}function k9e(r,e,t){var n=r.style;if(d5e(n)){var a=p5e(r),i=t.shadowCache,s=i[a];if(!s){var o=r.getGlobalScale(),l=o[0],c=o[1];if(!l||!c)return;var u=n.shadowOffsetX||0,f=n.shadowOffsetY||0,h=n.shadowBlur,d=kT(n.shadowColor),v=d.opacity,g=d.color,m=h/2/l,y=h/2/c,b=m+" "+y;s=t.zrId+"-s"+t.shadowIdx++,t.defs[s]=Zi("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Zi("feDropShadow","",{dx:u/l,dy:f/c,stdDeviation:b,"flood-color":g,"flood-opacity":v})]),i[a]=s}e.filter=WI(s)}}function Zle(r,e,t,n){var a=r[t],i,s={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(oie(a))i="linearGradient",s.x1=a.x,s.y1=a.y,s.x2=a.x2,s.y2=a.y2;else if(lie(a))i="radialGradient",s.cx=Gt(a.x,.5),s.cy=Gt(a.y,.5),s.r=Gt(a.r,.5);else return;for(var o=a.colorStops,l=[],c=0,u=o.length;c<u;++c){var f=m6(o[c].offset)*100+"%",h=o[c].color,d=kT(h),v=d.color,g=d.opacity,m={offset:f};m["stop-color"]=v,g<1&&(m["stop-opacity"]=g),l.push(Zi("stop",c+"",m))}var y=Zi(i,"",s,l),b=wU(y),S=n.gradientCache,A=S[b];A||(A=n.zrId+"-g"+n.gradientIdx++,S[b]=A,s.id=A,n.defs[A]=Zi(i,A,s,l)),e[t]=WI(A)}function Kle(r,e,t,n){var a=r.style[t],i=r.getBoundingRect(),s={},o=a.repeat,l=o==="no-repeat",c=o==="repeat-x",u=o==="repeat-y",f;if(sie(a)){var h=a.imageWidth,d=a.imageHeight,v=void 0,g=a.image;if(It(g)?v=g:Yle(g)?v=g.src:Xle(g)&&(v=g.toDataURL()),typeof Image>"u"){var m="Image width/height must been given explictly in svg-ssr renderer.";Hs(h,m),Hs(d,m)}else if(h==null||d==null){var y=function(O,P){if(O){var k=O.elm,U=h||P.width,F=d||P.height;O.tag==="pattern"&&(c?(F=1,U/=i.width):u&&(U=1,F/=i.height)),O.attrs.width=U,O.attrs.height=F,k&&(k.setAttribute("width",U),k.setAttribute("height",F))}},b=gF(v,null,r,function(O){l||y(M,O),y(f,O)});b&&b.width&&b.height&&(h=h||b.width,d=d||b.height)}f=Zi("image","img",{href:v,width:h,height:d}),s.width=h,s.height=d}else a.svgElement&&(f=Qt(a.svgElement),s.width=a.svgWidth,s.height=a.svgHeight);if(f){var S,A;l?S=A=1:c?(A=1,S=s.width/i.width):u?(S=1,A=s.height/i.height):s.patternUnits="userSpaceOnUse",S!=null&&!isNaN(S)&&(s.width=S),A!=null&&!isNaN(A)&&(s.height=A);var E=fie(a);E&&(s.patternTransform=E);var M=Zi("pattern","",s,[f]),R=wU(M),L=n.patternCache,I=L[R];I||(I=n.zrId+"-p"+n.patternIdx++,L[R]=I,s.id=I,M=n.defs[I]=Zi("pattern",I,s,[f])),e[t]=WI(I)}}function P9e(r,e,t){var n=t.clipPathCache,a=t.defs,i=n[r.id];if(!i){i=t.zrId+"-c"+t.clipPathIdx++;var s={id:i};n[r.id]=i,a[i]=Zi("clipPath",i,s,[qle(r,t)])}e["clip-path"]=WI(i)}function _q(r){return document.createTextNode(r)}function um(r,e,t){r.insertBefore(e,t)}function bq(r,e){r.removeChild(e)}function Sq(r,e){r.appendChild(e)}function $le(r){return r.parentNode}function Jle(r){return r.nextSibling}function Zk(r,e){r.textContent=e}var wq=58,B9e=120,z9e=Zi("","");function bB(r){return r===void 0}function rh(r){return r!==void 0}function F9e(r,e,t){for(var n={},a=e;a<=t;++a){var i=r[a].key;i!==void 0&&(n[i]=a)}return n}function iw(r,e){var t=r.key===e.key,n=r.tag===e.tag;return n&&t}function KT(r){var e,t=r.children,n=r.tag;if(rh(n)){var a=r.elm=Gle(n);if(MU(z9e,r),ct(t))for(e=0;e<t.length;++e){var i=t[e];i!=null&&Sq(a,KT(i))}else rh(r.text)&&!nr(r.text)&&Sq(a,_q(r.text))}else r.elm=_q(r.text);return r.elm}function Qle(r,e,t,n,a){for(;n<=a;++n){var i=t[n];i!=null&&um(r,KT(i),e)}}function mN(r,e,t,n){for(;t<=n;++t){var a=e[t];if(a!=null)if(rh(a.tag)){var i=$le(a.elm);bq(i,a.elm)}else bq(r,a.elm)}}function MU(r,e){var t,n=e.elm,a=r&&r.attrs||{},i=e.attrs||{};if(a!==i){for(t in i){var s=i[t],o=a[t];o!==s&&(s===!0?n.setAttribute(t,""):s===!1?n.removeAttribute(t):t==="style"?n.style.cssText=s:t.charCodeAt(0)!==B9e?n.setAttribute(t,s):t==="xmlns:xlink"||t==="xmlns"?n.setAttributeNS(y9e,t,s):t.charCodeAt(3)===wq?n.setAttributeNS(x9e,t,s):t.charCodeAt(5)===wq?n.setAttributeNS(Hle,t,s):n.setAttribute(t,s))}for(t in a)t in i||n.removeAttribute(t)}}function U9e(r,e,t){for(var n=0,a=0,i=e.length-1,s=e[0],o=e[i],l=t.length-1,c=t[0],u=t[l],f,h,d,v;n<=i&&a<=l;)s==null?s=e[++n]:o==null?o=e[--i]:c==null?c=t[++a]:u==null?u=t[--l]:iw(s,c)?(L1(s,c),s=e[++n],c=t[++a]):iw(o,u)?(L1(o,u),o=e[--i],u=t[--l]):iw(s,u)?(L1(s,u),um(r,s.elm,Jle(o.elm)),s=e[++n],u=t[--l]):iw(o,c)?(L1(o,c),um(r,o.elm,s.elm),o=e[--i],c=t[++a]):(bB(f)&&(f=F9e(e,n,i)),h=f[c.key],bB(h)?um(r,KT(c),s.elm):(d=e[h],d.tag!==c.tag?um(r,KT(c),s.elm):(L1(d,c),e[h]=void 0,um(r,d.elm,s.elm))),c=t[++a]);(n<=i||a<=l)&&(n>i?(v=t[l+1]==null?null:t[l+1].elm,Qle(r,v,t,a,l)):mN(r,e,n,i))}function L1(r,e){var t=e.elm=r.elm,n=r.children,a=e.children;r!==e&&(MU(r,e),bB(e.text)?rh(n)&&rh(a)?n!==a&&U9e(t,n,a):rh(a)?(rh(r.text)&&Zk(t,""),Qle(t,null,a,0,a.length-1)):rh(n)?mN(t,n,0,n.length-1):rh(r.text)&&Zk(t,""):r.text!==e.text&&(rh(n)&&mN(t,n,0,n.length-1),Zk(t,e.text)))}function V9e(r,e){if(iw(r,e))L1(r,e);else{var t=r.elm,n=$le(t);KT(e),n!==null&&(um(n,e.elm,Jle(t)),mN(n,[r],0,0))}return e}var H9e=0,G9e=(function(){function r(e,t,n){if(this.type="svg",this.refreshHover=Tq(),this.configLayer=Tq(),this.storage=t,this._opts=n=nt({},n),this.root=e,this._id="zr"+H9e++,this._oldVNode=hq(n.width,n.height),e&&!n.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=Gle("svg");MU(null,this._oldVNode),a.appendChild(i),e.appendChild(a)}this.resize(n.width,n.height)}return r.prototype.getType=function(){return this.type},r.prototype.getViewportRoot=function(){return this._viewport},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.getSvgDom=function(){return this._svgDom},r.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",V9e(this._oldVNode,e),this._oldVNode=e}},r.prototype.renderOneToVNode=function(e){return xq(e,_B(this._id))},r.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,a=this._height,i=_B(this._id);i.animation=e.animation,i.willUpdate=e.willUpdate,i.compress=e.compress,i.emphasis=e.emphasis,i.ssr=this._opts.ssr;var s=[],o=this._bgVNode=j9e(n,a,this._backgroundColor,i);o&&s.push(o);var l=e.compress?null:this._mainVNode=Zi("g","main",{},[]);this._paintList(t,i,l?l.children:s),l&&s.push(l);var c=ft(Yr(i.defs),function(h){return i.defs[h]});if(c.length&&s.push(Zi("defs","defs",{},c)),e.animation){var u=S9e(i.cssNodes,i.cssAnims,{newline:!0});if(u){var f=Zi("style","stl",{},[],u);s.push(f)}}return hq(n,a,s,e.useViewBox)},r.prototype.renderToString=function(e){return e=e||{},wU(this.renderToVNode({animation:Gt(e.cssAnimation,!0),emphasis:Gt(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Gt(e.useViewBox,!0)}),{newline:!0})},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e},r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},r.prototype._paintList=function(e,t,n){for(var a=e.length,i=[],s=0,o,l,c=0,u=0;u<a;u++){var f=e[u];if(!f.invisible){var h=f.__clipPaths,d=h&&h.length||0,v=l&&l.length||0,g=void 0;for(g=Math.max(d-1,v-1);g>=0&&!(h&&l&&h[g]===l[g]);g--);for(var m=v-1;m>g;m--)s--,o=i[s-1];for(var y=g+1;y<d;y++){var b={};P9e(h[y],b,t);var S=Zi("g","clip-g-"+c++,b,[]);(o?o.children:n).push(S),i[s++]=S,o=S}l=h;var A=xq(f,t);A&&(o?o.children:n).push(A)}}},r.prototype.resize=function(e,t){var n=this._opts,a=this.root,i=this._viewport;if(e!=null&&(n.width=e),t!=null&&(n.height=t),a&&i&&(i.style.display="none",e=Y1(a,0,n),t=Y1(a,1,n),i.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,i){var s=i.style;s.width=e+"px",s.height=t+"px"}if(oF(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},r.prototype.toDataURL=function(e){var t=this.renderToString(),n="data:image/svg+xml;";return e?(t=g5e(t),t&&n+"base64,"+t):n+"charset=UTF-8,"+encodeURIComponent(t)},r})();function Tq(r){return function(){}}function j9e(r,e,t,n){var a;if(t&&t!=="none")if(a=Zi("rect","bg",{width:r,height:e,x:"0",y:"0"}),cie(t))Zle({fill:t},a.attrs,"fill",n);else if(oF(t))Kle({style:{fill:t},dirty:Wa,getBoundingRect:function(){return{width:r,height:e}}},a.attrs,"fill",n);else{var i=kT(t),s=i.color,o=i.opacity;a.attrs.fill=s,o<1&&(a.attrs["fill-opacity"]=o)}return a}function W9e(r){r.registerPainter("svg",G9e)}function Aq(r,e,t){var n=Ml.createCanvas(),a=e.getWidth(),i=e.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=a+"px",s.height=i+"px",n.setAttribute("data-zr-dom-id",r)),n.width=a*t,n.height=i*t,n}var Kk=(function(r){ga(e,r);function e(t,n,a){var i=r.call(this)||this;i.motionBlur=!1,i.lastFrameAlpha=.7,i.dpr=1,i.virtual=!1,i.config={},i.incremental=!1,i.zlevel=0,i.maxRepaintRectCount=5,i.__dirty=!0,i.__firstTimePaint=!0,i.__used=!1,i.__drawIndex=0,i.__startIndex=0,i.__endIndex=0,i.__prevStartIndex=null,i.__prevEndIndex=null;var s;a=a||HR,typeof t=="string"?s=Aq(t,n,a):nr(t)&&(s=t,t=s.id),i.id=t,i.dom=s;var o=s.style;return o&&(rF(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),i.painter=n,i.dpr=a,i}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Aq("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,n,a,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,c=new sr(0,0,0,0);function u(b){if(!(!b.isFinite()||b.isZero()))if(s.length===0){var S=new sr(0,0,0,0);S.copy(b),s.push(S)}else{for(var A=!1,E=1/0,M=0,R=0;R<s.length;++R){var L=s[R];if(L.intersect(b)){var I=new sr(0,0,0,0);I.copy(L),I.union(b),s[R]=I,A=!0;break}else if(l){c.copy(b),c.union(L);var O=b.width*b.height,P=L.width*L.height,k=c.width*c.height,U=k-O-P;U<E&&(E=U,M=R)}}if(l&&(s[M].union(b),A=!0),!A){var S=new sr(0,0,0,0);S.copy(b),s.push(S)}l||(l=s.length>=o)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=t[f];if(h){var d=h.shouldBePainted(a,i,!0,!0),v=h.__isRendered&&(h.__dirty&Zl||!d)?h.getPrevPaintRect():null;v&&u(v);var g=d&&(h.__dirty&Zl||!h.__isRendered)?h.getPaintRect():null;g&&u(g)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=n[f],d=h&&h.shouldBePainted(a,i,!0,!0);if(h&&(!d||!h.__zr)&&h.__isRendered){var v=h.getPrevPaintRect();v&&u(v)}}var m;do{m=!1;for(var f=0;f<s.length;){if(s[f].isZero()){s.splice(f,1);continue}for(var y=f+1;y<s.length;)s[f].intersect(s[y])?(m=!0,s[f].union(s[y]),s.splice(y,1)):y++;f++}}while(m);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,n){var a=this.dpr,i=this.dom,s=i.style,o=this.domBack;s&&(s.width=t+"px",s.height=n+"px"),i.width=t*a,i.height=n*a,o&&(o.width=t*a,o.height=n*a,a!==1&&this.ctxBack.scale(a,a))},e.prototype.clear=function(t,n,a){var i=this.dom,s=this.ctx,o=i.width,l=i.height;n=n||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,f=this.dpr,h=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/f,l/f));var d=this.domBack;function v(g,m,y,b){if(s.clearRect(g,m,y,b),n&&n!=="transparent"){var S=void 0;if(IA(n)){var A=n.global||n.__width===y&&n.__height===b;S=A&&n.__canvasGradient||nB(s,n,{x:0,y:0,width:y,height:b}),n.__canvasGradient=S,n.__width=y,n.__height=b}else Fae(n)&&(n.scaleX=n.scaleX||f,n.scaleY=n.scaleY||f,S=aB(s,n,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));s.save(),s.fillStyle=S||n,s.fillRect(g,m,y,b),s.restore()}c&&(s.save(),s.globalAlpha=u,s.drawImage(d,g,m,y,b),s.restore())}!a||c?v(0,0,o,l):a.length&&te(a,function(g){v(g.x*f,g.y*f,g.width*f,g.height*f)})},e})(au),Eq=1e5,Zg=314159,p3=.01,Y9e=.001;function X9e(r){return r?r.__builtin__?!0:!(typeof r.resize!="function"||typeof r.refresh!="function"):!1}function q9e(r,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+r+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Z9e=(function(){function r(e,t,n,a){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var i=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=n=nt({},n||{}),this.dpr=n.devicePixelRatio||HR,this._singleCanvas=i,this.root=e;var s=e.style;s&&(rF(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(i){var u=e,f=u.width,h=u.height;n.width!=null&&(f=n.width),n.height!=null&&(h=n.height),this.dpr=n.devicePixelRatio||1,u.width=f*this.dpr,u.height=h*this.dpr,this._width=f,this._height=h;var d=new Kk(u,this,this.dpr);d.__builtin__=!0,d.initContext(),l[Zg]=d,d.zlevel=Zg,o.push(Zg),this._domRoot=e}else{this._width=Y1(e,0,n),this._height=Y1(e,1,n);var c=this._domRoot=q9e(this._width,this._height);e.appendChild(c)}}return r.prototype.getType=function(){return"canvas"},r.prototype.isSingleCanvas=function(){return this._singleCanvas},r.prototype.getViewportRoot=function(){return this._domRoot},r.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},r.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,e,this._redrawId);for(var i=0;i<a.length;i++){var s=a[i],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=i===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},r.prototype._paintHoverList=function(e){var t=e.length,n=this._hoverlayer;if(n&&n.clear(),!!t){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},i,s=0;s<t;s++){var o=e[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Eq)),i||(i=n.ctx,i.save()),wm(i,o,a,s===t-1))}i&&i.restore()}},r.prototype.getHoverLayer=function(){return this.getLayer(Eq)},r.prototype.paintOne=function(e,t){aU(e,t)},r.prototype._paintList=function(e,t,n,a){if(this._redrawId===a){n=n||!1,this._updateLayerStatus(e);var i=this._doPaintList(e,t,n),s=i.finished,o=i.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;PR(function(){l._paintList(e,t,n,a)})}}},r.prototype._compositeManually=function(){var e=this.getLayer(Zg).ctx,t=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,t,n),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,n)})},r.prototype._doPaintList=function(e,t,n){for(var a=this,i=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||n)&&i.push(c)}for(var u=!0,f=!1,h=function(g){var m=i[g],y=m.ctx,b=s&&m.createRepaintRects(e,t,d._width,d._height),S=n?m.__startIndex:m.__drawIndex,A=!n&&m.incremental&&Date.now,E=A&&Date.now(),M=m.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,M,b);else if(S===m.__startIndex){var R=e[S];(!R.incremental||!R.notClear||n)&&m.clear(!1,M,b)}S===-1&&(console.error("For some unknown reason. drawIndex is -1"),S=m.__startIndex);var L,I=function(U){var F={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(L=S;L<m.__endIndex;L++){var q=e[L];if(q.__inHover&&(f=!0),a._doPaintEl(q,m,s,U,F,L===m.__endIndex-1),A){var H=Date.now()-E;if(H>15)break}}F.prevElClipPaths&&y.restore()};if(b)if(b.length===0)L=m.__endIndex;else for(var O=d.dpr,P=0;P<b.length;++P){var k=b[P];y.save(),y.beginPath(),y.rect(k.x*O,k.y*O,k.width*O,k.height*O),y.clip(),I(k),y.restore()}else y.save(),I(),y.restore();m.__drawIndex=L,m.__drawIndex<m.__endIndex&&(u=!1)},d=this,v=0;v<i.length;v++)h(v);return jr.wxa&&te(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:u,needsRefreshHover:f}},r.prototype._doPaintEl=function(e,t,n,a,i,s){var o=t.ctx;if(n){var l=e.getPaintRect();(!a||l&&l.intersect(a))&&(wm(o,e,i,s),e.setPrevPaintRect(l))}else wm(o,e,i,s)},r.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Zg);var n=this._layers[e];return n||(n=new Kk("zr_"+e,this,this.dpr),n.zlevel=e,n.__builtin__=!0,this._layerConfig[e]?Sr(n,this._layerConfig[e],!0):this._layerConfig[e-p3]&&Sr(n,this._layerConfig[e-p3],!0),t&&(n.virtual=t),this.insertLayer(e,n),n.initContext()),n},r.prototype.insertLayer=function(e,t){var n=this._layers,a=this._zlevelList,i=a.length,s=this._domRoot,o=null,l=-1;if(!n[e]&&X9e(t)){if(i>0&&e>a[0]){for(l=0;l<i-1&&!(a[l]<e&&a[l+1]>e);l++);o=n[a[l]]}if(a.splice(l+1,0,e),n[e]=t,!t.virtual)if(o){var c=o.dom;c.nextSibling?s.insertBefore(t.dom,c.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.painter||(t.painter=this)}},r.prototype.eachLayer=function(e,t){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a];e.call(t,this._layers[i],i)}},r.prototype.eachBuiltinLayer=function(e,t){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],s=this._layers[i];s.__builtin__&&e.call(t,s,i)}},r.prototype.eachOtherLayer=function(e,t){for(var n=this._zlevelList,a=0;a<n.length;a++){var i=n[a],s=this._layers[i];s.__builtin__||e.call(t,s,i)}},r.prototype.getLayers=function(){return this._layers},r.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function t(f){i&&(i.__endIndex!==f&&(i.__dirty=!0),i.__endIndex=f)}if(this._singleCanvas)for(var n=1;n<e.length;n++){var a=e[n];if(a.zlevel!==e[n-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var i=null,s=0,o,l;for(l=0;l<e.length;l++){var a=e[l],c=a.zlevel,u=void 0;o!==c&&(o=c,s=0),a.incremental?(u=this.getLayer(c+Y9e,this._needsManuallyCompositing),u.incremental=!0,s=1):u=this.getLayer(c+(s>0?p3:0),this._needsManuallyCompositing),u.__builtin__||UI("ZLevel "+c+" has been used by unkown layer "+u.id),u!==i&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,t(l),i=u),a.__dirty&Zl&&!a.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},r.prototype._clearLayer=function(e){e.clear()},r.prototype.setBackgroundColor=function(e){this._backgroundColor=e,te(this._layers,function(t){t.setUnpainted()})},r.prototype.configLayer=function(e,t){if(t){var n=this._layerConfig;n[e]?Sr(n[e],t,!0):n[e]=t;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+p3){var s=this._layers[i];Sr(s,n[e],!0)}}}},r.prototype.delLayer=function(e){var t=this._layers,n=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],n.splice(br(n,e),1))},r.prototype.resize=function(e,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var a=this._opts,i=this.root;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=Y1(i,0,a),t=Y1(i,1,a),n.style.display="",this._width!==e||t!==this._height){n.style.width=e+"px",n.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Zg).resize(e,t)}return this},r.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},r.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Zg].dom;var t=new Kk("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var n=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var a=t.dom.width,i=t.dom.height;this.eachLayer(function(f){f.__builtin__?n.drawImage(f.dom,0,0,a,i):f.renderToCanvas&&(n.save(),f.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,c=o.length;l<c;l++){var u=o[l];wm(n,u,s,l===c-1)}return t.dom},r.prototype.getWidth=function(){return this._width},r.prototype.getHeight=function(){return this._height},r})();function K9e(r){r.registerPainter("canvas",Z9e)}var $9e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Oh(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var n=new er,a=oi("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(a),a.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=i==="none"?"circle":i,l=t.itemHeight*.8,c=oi(o,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);n.add(c),c.setStyle(t.itemStyle);var u=t.iconRotate==="inherit"?s:t.iconRotate||0;return c.rotation=u*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill=We.color.neutral00,c.style.lineWidth=2),n},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(Hn);function L_(r,e){var t=r.mapDimensionsAll("defaultedLabel"),n=t.length;if(n===1){var a=D_(r,e,t[0]);return a!=null?a+"":null}else if(n){for(var i=[],s=0;s<t.length;s++)i.push(D_(r,e,t[s]));return i.join(" ")}}function ece(r,e){var t=r.mapDimensionsAll("defaultedLabel");if(!ct(e))return e+"";for(var n=[],a=0;a<t.length;a++){var i=r.getDimensionIndex(t[a]);i>=0&&n.push(e[i])}return n.join(" ")}var XA=(function(r){Ye(e,r);function e(t,n,a,i){var s=r.call(this)||this;return s.updateData(t,n,a,i),s}return e.prototype._createSymbol=function(t,n,a,i,s,o){this.removeAll();var l=oi(t,-1,-1,2,2,null,o);l.attr({z2:Gt(s,100),culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),l.drift=J9e,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){np(this.childAt(0))},e.prototype.downplay=function(){ap(this.childAt(0))},e.prototype.setZ=function(t,n){var a=this.childAt(0);a.zlevel=t,a.z=n},e.prototype.setDraggable=function(t,n){var a=this.childAt(0);a.draggable=t,a.cursor=!n&&t?"move":a.cursor},e.prototype.updateData=function(t,n,a,i){this.silent=!1;var s=t.getItemVisual(n,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,n),c=e.getSymbolZ2(t,n),u=s!==this._symbolType,f=i&&i.disableAnimation;if(u){var h=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,t,n,l,c,h)}else{var d=this.childAt(0);d.silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};f?d.attr(v):nn(d,v,o,n),tu(d)}if(this._updateCommon(t,n,l,a,i),u){var d=this.childAt(0);if(!f){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,ca(d,v,o,n)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,n,a,i,s){var o=this.childAt(0),l=t.hostModel,c,u,f,h,d,v,g,m,y;if(i&&(c=i.emphasisItemStyle,u=i.blurItemStyle,f=i.selectItemStyle,h=i.focus,d=i.blurScope,g=i.labelStatesModels,m=i.hoverScale,y=i.cursorStyle,v=i.emphasisDisabled),!i||t.hasItemOption){var b=i&&i.itemModel?i.itemModel:t.getItemModel(n),S=b.getModel("emphasis");c=S.getModel("itemStyle").getItemStyle(),f=b.getModel(["select","itemStyle"]).getItemStyle(),u=b.getModel(["blur","itemStyle"]).getItemStyle(),h=S.get("focus"),d=S.get("blurScope"),v=S.get("disabled"),g=ki(b),m=S.getShallow("scale"),y=b.getShallow("cursor")}var A=t.getItemVisual(n,"symbolRotate");o.attr("rotation",(A||0)*Math.PI/180||0);var E=_y(t.getItemVisual(n,"symbolOffset"),a);E&&(o.x=E[0],o.y=E[1]),y&&o.attr("cursor",y);var M=t.getItemVisual(n,"style"),R=M.fill;if(o instanceof ns){var L=o.style;o.useStyle(nt({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},M))}else o.__isEmptyBrush?o.useStyle(nt({},M)):o.useStyle(M),o.style.decal=null,o.setColor(R,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var I=t.getItemVisual(n,"liftZ"),O=this._z2;I!=null?O==null&&(this._z2=o.z2,o.z2+=I):O!=null&&(o.z2=O,this._z2=null);var P=s&&s.useNameLabel;rs(o,g,{labelFetcher:l,labelDataIndex:n,defaultText:k,inheritColor:R,defaultOpacity:M.opacity});function k(q){return P?t.getName(q):L_(t,q)}this._sizeX=a[0]/2,this._sizeY=a[1]/2;var U=o.ensureState("emphasis");U.style=c,o.ensureState("select").style=f,o.ensureState("blur").style=u;var F=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;U.scaleX=this._sizeX*F,U.scaleY=this._sizeY*F,this.setSymbolScale(1),Sa(this,h,d,v)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,n,a){var i=this.childAt(0),s=or(this).dataIndex,o=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var l=i.getTextContent();l&&nv(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){i.removeTextContent()}})}else i.removeTextContent();nv(i,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,n){return pb(t.getItemVisual(n,"symbolSize"))},e.getSymbolZ2=function(t,n){return t.getItemVisual(n,"z2")},e})(er);function J9e(r,e){this.parent.drift(r,e)}function $k(r,e,t,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&r.getItemVisual(t,"symbol")!=="none"}function Mq(r){return r!=null&&!nr(r)&&(r={isIgnore:r}),r||{}}function Cq(r){var e=r.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:ki(e),cursorStyle:e.get("cursor")}}var qA=(function(){function r(e){this.group=new er,this._SymbolCtor=e||XA}return r.prototype.updateData=function(e,t){this._progressiveEls=null,t=Mq(t);var n=this.group,a=e.hostModel,i=this._data,s=this._SymbolCtor,o=t.disableAnimation,l=Cq(e),c={disableAnimation:o},u=t.getSymbolPoint||function(f){return e.getItemLayout(f)};i||n.removeAll(),e.diff(i).add(function(f){var h=u(f);if($k(e,h,f,t)){var d=new s(e,f,l,c);d.setPosition(h),e.setItemGraphicEl(f,d),n.add(d)}}).update(function(f,h){var d=i.getItemGraphicEl(h),v=u(f);if(!$k(e,v,f,t)){n.remove(d);return}var g=e.getItemVisual(f,"symbol")||"circle",m=d&&d.getSymbolType&&d.getSymbolType();if(!d||m&&m!==g)n.remove(d),d=new s(e,f,l,c),d.setPosition(v);else{d.updateData(e,f,l,c);var y={x:v[0],y:v[1]};o?d.attr(y):nn(d,y,a)}n.add(d),e.setItemGraphicEl(f,d)}).remove(function(f){var h=i.getItemGraphicEl(f);h&&h.fadeOut(function(){n.remove(h)},a)}).execute(),this._getSymbolPoint=u,this._data=e},r.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(n,a){var i=e._getSymbolPoint(a);n.setPosition(i),n.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Cq(e),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t,n){this._progressiveEls=[],n=Mq(n);function a(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var s=t.getItemLayout(i);if($k(t,s,i,n)){var o=new this._SymbolCtor(t,i,this._seriesScope);o.traverse(a),o.setPosition(s),this.group.add(o),t.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},r.prototype.eachRendered=function(e){vv(this._progressiveEls||this.group,e)},r.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl(function(a){a.fadeOut(function(){t.remove(a)},n.hostModel)}):t.removeAll()},r})();function tce(r,e,t){var n=r.getBaseAxis(),a=r.getOtherAxis(n),i=Q9e(a,t),s=n.dim,o=a.dim,l=e.mapDimension(o),c=e.mapDimension(s),u=o==="x"||o==="radius"?1:0,f=ft(r.dimensions,function(v){return e.mapDimension(v)}),h=!1,d=e.getCalculationInfo("stackResultDimension");return sp(e,f[0])&&(h=!0,f[0]=d),sp(e,f[1])&&(h=!0,f[1]=d),{dataDimsForPoint:f,valueStart:i,valueAxisDim:o,baseAxisDim:s,stacked:!!h,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Q9e(r,e){var t=0,n=r.scale.getExtent();return e==="start"?t=n[0]:e==="end"?t=n[1]:$r(e)&&!isNaN(e)?t=e:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}function rce(r,e,t,n){var a=NaN;r.stacked&&(a=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(a)&&(a=r.valueStart);var i=r.baseDataOffset,s=[];return s[i]=t.get(r.baseDim,n),s[1-i]=a,e.dataToPoint(s)}function eVe(r,e){var t=[];return e.diff(r).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,a){t.push({cmd:"=",idx:a,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}function tVe(r,e,t,n,a,i,s,o){for(var l=eVe(r,e),c=[],u=[],f=[],h=[],d=[],v=[],g=[],m=tce(a,e,s),y=r.getLayout("points")||[],b=e.getLayout("points")||[],S=0;S<l.length;S++){var A=l[S],E=!0,M=void 0,R=void 0;switch(A.cmd){case"=":M=A.idx*2,R=A.idx1*2;var L=y[M],I=y[M+1],O=b[R],P=b[R+1];(isNaN(L)||isNaN(I))&&(L=O,I=P),c.push(L,I),u.push(O,P),f.push(t[M],t[M+1]),h.push(n[R],n[R+1]),g.push(e.getRawIndex(A.idx1));break;case"+":var k=A.idx,U=m.dataDimsForPoint,F=a.dataToPoint([e.get(U[0],k),e.get(U[1],k)]);R=k*2,c.push(F[0],F[1]),u.push(b[R],b[R+1]);var q=rce(m,a,e,k);f.push(q[0],q[1]),h.push(n[R],n[R+1]),g.push(e.getRawIndex(k));break;case"-":E=!1}E&&(d.push(A),v.push(v.length))}v.sort(function(ae,ce){return g[ae]-g[ce]});for(var H=c.length,Z=fh(H),X=fh(H),Y=fh(H),re=fh(H),W=[],S=0;S<v.length;S++){var j=v[S],J=S*2,ee=j*2;Z[J]=c[ee],Z[J+1]=c[ee+1],X[J]=u[ee],X[J+1]=u[ee+1],Y[J]=f[ee],Y[J+1]=f[ee+1],re[J]=h[ee],re[J+1]=h[ee+1],W[S]=d[j]}return{current:Z,next:X,stackedOnCurrent:Y,stackedOnNext:re,status:W}}var d0=Math.min,p0=Math.max;function km(r,e){return isNaN(r)||isNaN(e)}function SB(r,e,t,n,a,i,s,o,l){for(var c,u,f,h,d,v,g=t,m=0;m<n;m++){var y=e[g*2],b=e[g*2+1];if(g>=a||g<0)break;if(km(y,b)){if(l){g+=i;continue}break}if(g===t)r[i>0?"moveTo":"lineTo"](y,b),f=y,h=b;else{var S=y-c,A=b-u;if(S*S+A*A<.5){g+=i;continue}if(s>0){for(var E=g+i,M=e[E*2],R=e[E*2+1];M===y&&R===b&&m<n;)m++,E+=i,g+=i,M=e[E*2],R=e[E*2+1],y=e[g*2],b=e[g*2+1],S=y-c,A=b-u;var L=m+1;if(l)for(;km(M,R)&&L<n;)L++,E+=i,M=e[E*2],R=e[E*2+1];var I=.5,O=0,P=0,k=void 0,U=void 0;if(L>=n||km(M,R))d=y,v=b;else{O=M-c,P=R-u;var F=y-c,q=M-y,H=b-u,Z=R-b,X=void 0,Y=void 0;if(o==="x"){X=Math.abs(F),Y=Math.abs(q);var re=O>0?1:-1;d=y-re*X*s,v=b,k=y+re*Y*s,U=b}else if(o==="y"){X=Math.abs(H),Y=Math.abs(Z);var W=P>0?1:-1;d=y,v=b-W*X*s,k=y,U=b+W*Y*s}else X=Math.sqrt(F*F+H*H),Y=Math.sqrt(q*q+Z*Z),I=Y/(Y+X),d=y-O*s*(1-I),v=b-P*s*(1-I),k=y+O*s*I,U=b+P*s*I,k=d0(k,p0(M,y)),U=d0(U,p0(R,b)),k=p0(k,d0(M,y)),U=p0(U,d0(R,b)),O=k-y,P=U-b,d=y-O*X/Y,v=b-P*X/Y,d=d0(d,p0(c,y)),v=d0(v,p0(u,b)),d=p0(d,d0(c,y)),v=p0(v,d0(u,b)),O=y-d,P=b-v,k=y+O*Y/X,U=b+P*Y/X}r.bezierCurveTo(f,h,d,v,y,b),f=k,h=U}else r.lineTo(y,b)}c=y,u=b,g+=i}return m}var nce=(function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r})(),rVe=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polyline",n}return e.prototype.getDefaultStyle=function(){return{stroke:We.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new nce},e.prototype.buildPath=function(t,n){var a=n.points,i=0,s=a.length/2;if(n.connectNulls){for(;s>0&&km(a[s*2-2],a[s*2-1]);s--);for(;i<s&&km(a[i*2],a[i*2+1]);i++);}for(;i<s;)i+=SB(t,a,i,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},e.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a=this.path,i=a.data,s=Th.CMD,o,l,c=n==="x",u=[],f=0;f<i.length;){var h=i[f++],d=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,S=void 0;switch(h){case s.M:o=i[f++],l=i[f++];break;case s.L:if(d=i[f++],v=i[f++],S=c?(t-o)/(d-o):(t-l)/(v-l),S<=1&&S>=0){var A=c?(v-l)*S+l:(d-o)*S+o;return c?[t,A]:[A,t]}o=d,l=v;break;case s.C:d=i[f++],v=i[f++],g=i[f++],m=i[f++],y=i[f++],b=i[f++];var E=c?zR(o,d,g,y,t,u):zR(l,v,m,b,t,u);if(E>0)for(var M=0;M<E;M++){var R=u[M];if(R<=1&&R>=0){var A=c?Yi(l,v,m,b,R):Yi(o,d,g,y,R);return c?[t,A]:[A,t]}}o=y,l=b;break}}},e})(Fr),nVe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(nce),ace=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-polygon",n}return e.prototype.getDefaultShape=function(){return new nVe},e.prototype.buildPath=function(t,n){var a=n.points,i=n.stackedOnPoints,s=0,o=a.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&km(a[o*2-2],a[o*2-1]);o--);for(;s<o&&km(a[s*2],a[s*2+1]);s++);}for(;s<o;){var c=SB(t,a,s,o,o,1,n.smooth,l,n.connectNulls);SB(t,i,s+c-1,c,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=c+1,t.closePath()}},e})(Fr);function ice(r,e,t,n,a){var i=r.getArea(),s=i.x,o=i.y,l=i.width,c=i.height,u=t.get(["lineStyle","width"])||0;s-=u/2,o-=u/2,l+=u,c+=u,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var f=new Nr({shape:{x:s,y:o,width:l,height:c}});if(e){var h=r.getBaseAxis(),d=h.isHorizontal(),v=h.inverse;d?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=c),f.shape.height=0);var g=Yt(a)?function(m){a(m,f)}:null;ca(f,{shape:{width:l,height:c,x:s,y:o}},t,null,n,g)}return f}function sce(r,e,t){var n=r.getArea(),a=ni(n.r0,1),i=ni(n.r,1),s=new Gs({shape:{cx:ni(r.cx,1),cy:ni(r.cy,1),r0:a,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var o=r.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=a,ca(s,{shape:{endAngle:n.endAngle,r:i}},t)}return s}function ZA(r,e,t,n,a){if(r){if(r.type==="polar")return sce(r,e,t);if(r.type==="cartesian2d")return ice(r,e,t,n,a)}else return null;return null}function av(r,e){return r.type===e}function Dq(r,e){if(r.length===e.length){for(var t=0;t<r.length;t++)if(r[t]!==e[t])return;return!0}}function Rq(r){for(var e=1/0,t=1/0,n=-1/0,a=-1/0,i=0;i<r.length;){var s=r[i++],o=r[i++];isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n)),isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a))}return[[e,t],[n,a]]}function Nq(r,e){var t=Rq(r),n=t[0],a=t[1],i=Rq(e),s=i[0],o=i[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]))}function Iq(r){return $r(r)?r:r?.5:0}function aVe(r,e,t){if(!t.valueDim)return[];for(var n=e.count(),a=fh(n*2),i=0;i<n;i++){var s=rce(t,r,e,i);a[i*2]=s[0],a[i*2+1]=s[1]}return a}function v0(r,e,t,n,a){var i=t.getBaseAxis(),s=i.dim==="x"||i.dim==="radius"?0:1,o=[],l=0,c=[],u=[],f=[],h=[];if(a){for(l=0;l<r.length;l+=2){var d=e||r;!isNaN(d[l])&&!isNaN(d[l+1])&&h.push(r[l],r[l+1])}r=h}for(l=0;l<r.length-2;l+=2)switch(f[0]=r[l+2],f[1]=r[l+3],u[0]=r[l],u[1]=r[l+1],o.push(u[0],u[1]),n){case"end":c[s]=f[s],c[1-s]=u[1-s],o.push(c[0],c[1]);break;case"middle":var v=(u[s]+f[s])/2,g=[];c[s]=g[s]=v,c[1-s]=u[1-s],g[1-s]=f[1-s],o.push(c[0],c[1]),o.push(g[0],g[1]);break;default:c[s]=u[s],c[1-s]=f[1-s],o.push(c[0],c[1])}return o.push(r[l++],r[l++]),o}function iVe(r,e){var t=[],n=r.length,a,i;function s(u,f,h){var d=u.coord,v=(h-d)/(f.coord-d),g=sF(v,[u.color,f.color]);return{coord:h,color:g}}for(var o=0;o<n;o++){var l=r[o],c=l.coord;if(c<0)a=l;else if(c>e){i?t.push(s(i,l,e)):a&&t.push(s(a,l,0),s(a,l,e));break}else a&&(t.push(s(a,l,0)),a=null),t.push(l),i=l}return t}function sVe(r,e,t){var n=r.getVisual("visualMeta");if(!(!n||!n.length||!r.count())&&e.type==="cartesian2d"){for(var a,i,s=n.length-1;s>=0;s--){var o=r.getDimensionInfo(n[s].dimension);if(a=o&&o.coordDim,a==="x"||a==="y"){i=n[s];break}}if(i){var l=e.getAxis(a),c=ft(i.stops,function(S){return{coord:l.toGlobalCoord(l.dataToCoord(S.value)),color:S.color}}),u=c.length,f=i.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),f.reverse());var h=iVe(c,a==="x"?t.getWidth():t.getHeight()),d=h.length;if(!d&&u)return c[0].coord<0?f[1]?f[1]:c[u-1].color:f[0]?f[0]:c[0].color;var v=10,g=h[0].coord-v,m=h[d-1].coord+v,y=m-g;if(y<.001)return"transparent";te(h,function(S){S.offset=(S.coord-g)/y}),h.push({offset:d?h[d-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:d?h[0].offset:.5,color:f[0]||"transparent"});var b=new gy(0,0,0,0,h,!0);return b[a]=g,b[a+"2"]=m,b}}}function oVe(r,e,t){var n=r.get("showAllSymbol"),a=n==="auto";if(!(n&&!a)){var i=t.getAxesByScale("ordinal")[0];if(i&&!(a&&lVe(i,e))){var s=e.mapDimension(i.dim),o={};return te(i.getViewLabels(),function(l){var c=i.scale.getRawOrdinalNumber(l.tickValue);o[c]=1}),function(l){return!o.hasOwnProperty(e.get(s,l))}}}}function lVe(r,e){var t=r.getExtent(),n=Math.abs(t[1]-t[0])/r.scale.count();isNaN(n)&&(n=0);for(var a=e.count(),i=Math.max(1,Math.round(a/5)),s=0;s<a;s+=i)if(XA.getSymbolSize(e,s)[r.isHorizontal()?1:0]*1.5>n)return!1;return!0}function cVe(r,e){return isNaN(r)||isNaN(e)}function uVe(r){for(var e=r.length/2;e>0&&cVe(r[e*2-2],r[e*2-1]);e--);return e-1}function Lq(r,e){return[r[e*2],r[e*2+1]]}function fVe(r,e,t){for(var n=r.length/2,a=t==="x"?0:1,i,s,o=0,l=-1,c=0;c<n;c++)if(s=r[c*2+a],!(isNaN(s)||isNaN(r[c*2+1-a]))){if(c===0){i=s;continue}if(i<=e&&s>=e||i>=e&&s<=e){l=c;break}o=c,i=s}return{range:[o,l],t:(e-i)/(s-i)}}function oce(r){if(r.get(["endLabel","show"]))return!0;for(var e=0;e<nl.length;e++)if(r.get([nl[e],"endLabel","show"]))return!0;return!1}function Jk(r,e,t,n){if(av(e,"cartesian2d")){var a=n.getModel("endLabel"),i=a.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=oce(n)?function(d,v){r._endLabelOnDuring(d,v,s,o,i,a,e)}:null,c=e.getBaseAxis().isHorizontal(),u=ice(e,t,n,function(){var d=r._endLabel;d&&t&&o.originalX!=null&&d.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var f=u.shape,h=Math.max(f.width,f.height);c?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,u),u}else return sce(e,t,n)}function hVe(r,e){var t=e.getBaseAxis(),n=t.isHorizontal(),a=t.inverse,i=n?a?"right":"left":"center",s=n?"middle":a?"top":"bottom";return{normal:{align:r.get("align")||i,verticalAlign:r.get("verticalAlign")||s}}}var dVe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=new er,n=new qA;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=Ot(this._changePolyState,this)},e.prototype.render=function(t,n,a){var i=t.coordinateSystem,s=this.group,o=t.getData(),l=t.getModel("lineStyle"),c=t.getModel("areaStyle"),u=o.getLayout("points")||[],f=i.type==="polar",h=this._coordSys,d=this._symbolDraw,v=this._polyline,g=this._polygon,m=this._lineGroup,y=!n.ssr&&t.get("animation"),b=!c.isEmpty(),S=c.get("origin"),A=tce(i,o,S),E=b&&aVe(i,o,A),M=t.get("showSymbol"),R=t.get("connectNulls"),L=M&&!f&&oVe(t,o,i),I=this._data;I&&I.eachItemGraphicEl(function(ae,ce){ae.__temp&&(s.remove(ae),I.setItemGraphicEl(ce,null))}),M||d.remove(),s.add(m);var O=f?!1:t.get("step"),P;i&&i.getArea&&t.get("clip",!0)&&(P=i.getArea(),P.width!=null?(P.x-=.1,P.y-=.1,P.width+=.2,P.height+=.2):P.r0&&(P.r0-=.5,P.r+=.5)),this._clipShapeForSymbol=P;var k=sVe(o,i,a)||o.getVisual("style")[o.getVisual("drawType")];if(!(v&&h.type===i.type&&O===this._step))M&&d.updateData(o,{isIgnore:L,clipShape:P,disableAnimation:!0,getSymbolPoint:function(ae){return[u[ae*2],u[ae*2+1]]}}),y&&this._initSymbolLabelAnimation(o,i,P),O&&(E&&(E=v0(E,u,i,O,R)),u=v0(u,null,i,O,R)),v=this._newPolyline(u),b?g=this._newPolygon(u,E):g&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,i,Jm(k)),m.setClipPath(Jk(this,i,!0,t));else{b&&!g?g=this._newPolygon(u,E):g&&!b&&(m.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,i,Jm(k));var U=m.getClipPath();if(U){var F=Jk(this,i,!1,t);ca(U,{shape:F.shape},t)}else m.setClipPath(Jk(this,i,!0,t));M&&d.updateData(o,{isIgnore:L,clipShape:P,disableAnimation:!0,getSymbolPoint:function(ae){return[u[ae*2],u[ae*2+1]]}}),(!Dq(this._stackedOnPoints,E)||!Dq(this._points,u))&&(y?this._doUpdateAnimation(o,E,i,a,O,S,R):(O&&(E&&(E=v0(E,u,i,O,R)),u=v0(u,null,i,O,R)),v.setShape({points:u}),g&&g.setShape({points:u,stackedOnPoints:E})))}var q=t.getModel("emphasis"),H=q.get("focus"),Z=q.get("blurScope"),X=q.get("disabled");if(v.useStyle(rr(l.getLineStyle(),{fill:"none",stroke:k,lineJoin:"bevel"})),Oi(v,t,"lineStyle"),v.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var Y=v.getState("emphasis").style;Y.lineWidth=+v.style.lineWidth+1}or(v).seriesIndex=t.seriesIndex,Sa(v,H,Z,X);var re=Iq(t.get("smooth")),W=t.get("smoothMonotone");if(v.setShape({smooth:re,smoothMonotone:W,connectNulls:R}),g){var j=o.getCalculationInfo("stackedOnSeries"),J=0;g.useStyle(rr(c.getAreaStyle(),{fill:k,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),j&&(J=Iq(j.get("smooth"))),g.setShape({smooth:re,stackedOnSmooth:J,smoothMonotone:W,connectNulls:R}),Oi(g,t,"areaStyle"),or(g).seriesIndex=t.seriesIndex,Sa(g,H,Z,X)}var ee=this._changePolyState;o.eachItemGraphicEl(function(ae){ae&&(ae.onHoverStateChange=ee)}),this._polyline.onHoverStateChange=ee,this._data=o,this._coordSys=i,this._stackedOnPoints=E,this._points=u,this._step=O,this._valueOrigin=S,t.get("triggerLineEvent")&&(this.packEventData(t,v),g&&this.packEventData(t,g))},e.prototype.packEventData=function(t,n){or(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,n,a,i){var s=t.getData(),o=Xm(s,i);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),c=s.getItemGraphicEl(o);if(!c){var u=l[o*2],f=l[o*2+1];if(isNaN(u)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,f))return;var h=t.get("zlevel")||0,d=t.get("z")||0;c=new XA(s,o),c.x=u,c.y=f,c.setZ(h,d);var v=c.getSymbolPath().getTextContent();v&&(v.zlevel=h,v.z=d,v.z2=this._polyline.z2+1),c.__temp=!0,s.setItemGraphicEl(o,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else Ln.prototype.highlight.call(this,t,n,a,i)},e.prototype.downplay=function(t,n,a,i){var s=t.getData(),o=Xm(s,i);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else Ln.prototype.downplay.call(this,t,n,a,i)},e.prototype._changePolyState=function(t){var n=this._polygon;ZR(this._polyline,t),n&&ZR(n,t)},e.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new rVe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},e.prototype._newPolygon=function(t,n){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new ace({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},e.prototype._initSymbolLabelAnimation=function(t,n,a){var i,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(i=o.isHorizontal(),s=!1):n.type==="polar"&&(i=o.dim==="angle",s=!0);var c=t.hostModel,u=c.get("animationDuration");Yt(u)&&(u=u(null));var f=c.get("animationDelay")||0,h=Yt(f)?f(null):f;t.eachItemGraphicEl(function(d,v){var g=d;if(g){var m=[d.x,d.y],y=void 0,b=void 0,S=void 0;if(a)if(s){var A=a,E=n.pointToCoord(m);i?(y=A.startAngle,b=A.endAngle,S=-E[1]/180*Math.PI):(y=A.r0,b=A.r,S=E[0])}else{var M=a;i?(y=M.x,b=M.x+M.width,S=d.x):(y=M.y+M.height,b=M.y,S=d.y)}var R=b===y?0:(S-y)/(b-y);l&&(R=1-R);var L=Yt(f)?f(v):u*R+h,I=g.getSymbolPath(),O=I.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:L}),O&&O.animateFrom({style:{opacity:0}},{duration:300,delay:L}),I.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,n,a){var i=t.getModel("endLabel");if(oce(t)){var s=t.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var c=this._endLabel;c||(c=this._endLabel=new Kr({z2:200}),c.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var u=uVe(l);u>=0&&(rs(o,ki(t,"endLabel"),{inheritColor:a,labelFetcher:t,labelDataIndex:u,defaultText:function(f,h,d){return d!=null?ece(s,d):L_(s,f)},enableTextSetter:!0},hVe(i,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,n,a,i,s,o,l){var c=this._endLabel,u=this._polyline;if(c){t<1&&i.originalX==null&&(i.originalX=c.x,i.originalY=c.y);var f=a.getLayout("points"),h=a.hostModel,d=h.get("connectNulls"),v=o.get("precision"),g=o.get("distance")||0,m=l.getBaseAxis(),y=m.isHorizontal(),b=m.inverse,S=n.shape,A=b?y?S.x:S.y+S.height:y?S.x+S.width:S.y,E=(y?g:0)*(b?-1:1),M=(y?0:-g)*(b?-1:1),R=y?"x":"y",L=fVe(f,A,R),I=L.range,O=I[1]-I[0],P=void 0;if(O>=1){if(O>1&&!d){var k=Lq(f,I[0]);c.attr({x:k[0]+E,y:k[1]+M}),s&&(P=h.getRawValue(I[0]))}else{var k=u.getPointOn(A,R);k&&c.attr({x:k[0]+E,y:k[1]+M});var U=h.getRawValue(I[0]),F=h.getRawValue(I[1]);s&&(P=Iie(a,v,U,F,L.t))}i.lastFrameIndex=I[0]}else{var q=t===1||i.lastFrameIndex>0?I[0]:0,k=Lq(f,q);s&&(P=h.getRawValue(q)),c.attr({x:k[0]+E,y:k[1]+M})}if(s){var H=lb(c);typeof H.setLabelText=="function"&&H.setLabelText(P)}}},e.prototype._doUpdateAnimation=function(t,n,a,i,s,o,l){var c=this._polyline,u=this._polygon,f=t.hostModel,h=tVe(this._data,t,this._stackedOnPoints,n,this._coordSys,a,this._valueOrigin),d=h.current,v=h.stackedOnCurrent,g=h.next,m=h.stackedOnNext;if(s&&(v=v0(h.stackedOnCurrent,h.current,a,s,l),d=v0(h.current,null,a,s,l),m=v0(h.stackedOnNext,h.next,a,s,l),g=v0(h.next,null,a,s,l)),Nq(d,g)>3e3||u&&Nq(v,m)>3e3){c.stopAnimation(),c.setShape({points:g}),u&&(u.stopAnimation(),u.setShape({points:g,stackedOnPoints:m}));return}c.shape.__points=h.current,c.shape.points=d;var y={shape:{points:g}};h.current!==d&&(y.shape.__points=h.next),c.stopAnimation(),nn(c,y,f),u&&(u.setShape({points:d,stackedOnPoints:v}),u.stopAnimation(),nn(u,{shape:{stackedOnPoints:m}},f),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var b=[],S=h.status,A=0;A<S.length;A++){var E=S[A].cmd;if(E==="="){var M=t.getItemGraphicEl(S[A].idx1);M&&b.push({el:M,ptIdx:A})}}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var R=c.shape.__points,L=0;L<b.length;L++){var I=b[L].el,O=b[L].ptIdx*2;I.x=R[O],I.y=R[O+1],I.markRedraw()}})},e.prototype.remove=function(t){var n=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl(function(i,s){i.__temp&&(n.remove(i),a.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(Ln);function KA(r,e){return{seriesType:r,plan:hb(),reset:function(t){var n=t.getData(),a=t.coordinateSystem,i=t.pipelineContext,s=e||i.large;if(a){var o=ft(a.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),l=o.length,c=n.getCalculationInfo("stackResultDimension");sp(n,o[0])&&(o[0]=c),sp(n,o[1])&&(o[1]=c);var u=n.getStore(),f=n.getDimensionIndex(o[0]),h=n.getDimensionIndex(o[1]);return l&&{progress:function(d,v){for(var g=d.end-d.start,m=s&&fh(g*l),y=[],b=[],S=d.start,A=0;S<d.end;S++){var E=void 0;if(l===1){var M=u.get(f,S);E=a.dataToPoint(M,null,b)}else y[0]=u.get(f,S),y[1]=u.get(h,S),E=a.dataToPoint(y,null,b);s?(m[A++]=E[0],m[A++]=E[1]):v.setItemLayout(S,E.slice())}s&&v.setLayout("points",m)}}}}}}var pVe={average:function(r){for(var e=0,t=0,n=0;n<r.length;n++)isNaN(r[n])||(e+=r[n],t++);return t===0?NaN:e/t},sum:function(r){for(var e=0,t=0;t<r.length;t++)e+=r[t]||0;return e},max:function(r){for(var e=-1/0,t=0;t<r.length;t++)r[t]>e&&(e=r[t]);return isFinite(e)?e:NaN},min:function(r){for(var e=1/0,t=0;t<r.length;t++)r[t]<e&&(e=r[t]);return isFinite(e)?e:NaN},nearest:function(r){return r[0]}},vVe=function(r){return Math.round(r.length/2)};function lce(r){return{seriesType:r,reset:function(e,t,n){var a=e.getData(),i=e.get("sampling"),s=e.coordinateSystem,o=a.count();if(o>10&&s.type==="cartesian2d"&&i){var l=s.getBaseAxis(),c=s.getOtherAxis(l),u=l.getExtent(),f=n.getDevicePixelRatio(),h=Math.abs(u[1]-u[0])*(f||1),d=Math.round(o/h);if(isFinite(d)&&d>1){i==="lttb"?e.setData(a.lttbDownSample(a.mapDimension(c.dim),1/d)):i==="minmax"&&e.setData(a.minmaxDownSample(a.mapDimension(c.dim),1/d));var v=void 0;It(i)?v=pVe[i]:Yt(i)&&(v=i),v&&e.setData(a.downSample(a.mapDimension(c.dim),1/d,v,vVe))}}}}}function gVe(r){r.registerChartView(dVe),r.registerSeriesModel($9e),r.registerLayout(KA("line",!0)),r.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),n=e.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,lce("line"))}var $T=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return Oh(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,n,a){var i=this.coordinateSystem;if(i&&i.clampData){var s=i.clampData(t),o=i.dataToPoint(s);if(a)te(i.getAxes(),function(h,d){if(h.type==="category"&&n!=null){var v=h.getTicksCoords(),g=h.getTickModel().get("alignWithLabel"),m=s[d],y=n[d]==="x1"||n[d]==="y1";if(y&&!g&&(m+=1),v.length<2)return;if(v.length===2){o[d]=h.toGlobalCoord(h.getExtent()[y?1:0]);return}for(var b=void 0,S=void 0,A=1,E=0;E<v.length;E++){var M=v[E].coord,R=E===v.length-1?v[E-1].tickValue+A:v[E].tickValue;if(R===m){S=M;break}else if(R<m)b=M;else if(b!=null&&R>m){S=(M+b)/2;break}E===1&&(A=R-v[0].tickValue)}S==null&&(b?b&&(S=v[v.length-1].coord):S=v[0].coord),o[d]=h.toGlobalCoord(S)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),f=i.getBaseAxis().isHorizontal()?0:1;o[f]+=c+u/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},e})(Hn);Hn.registerClass($T);var mVe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return Oh(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},e.prototype.brushSelector=function(t,n,a){return a.rect(n.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=gv($T.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:We.color.primary,borderWidth:2}},realtimeSort:!1}),e})($T),yVe=(function(){function r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return r})(),yN=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="sausage",n}return e.prototype.getDefaultShape=function(){return new yVe},e.prototype.buildPath=function(t,n){var a=n.cx,i=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,c=s+l,u=n.startAngle,f=n.endAngle,h=n.clockwise,d=Math.PI*2,v=h?f-u<d:u-f<d;v||(u=f-(h?d:-d));var g=Math.cos(u),m=Math.sin(u),y=Math.cos(f),b=Math.sin(f);v?(t.moveTo(g*s+a,m*s+i),t.arc(g*c+a,m*c+i,l,-Math.PI+u,u,!h)):t.moveTo(g*o+a,m*o+i),t.arc(a,i,o,u,f,!h),t.arc(y*c+a,b*c+i,l,f-Math.PI*2,f-Math.PI,!h),s!==0&&t.arc(a,i,s,f,u,h)},e})(Fr);function xVe(r,e){e=e||{};var t=e.isRoundCap;return function(n,a,i){var s=a.position;if(!s||s instanceof Array)return jR(n,a,i);var o=r(s),l=a.distance!=null?a.distance:5,c=this.shape,u=c.cx,f=c.cy,h=c.r,d=c.r0,v=(h+d)/2,g=c.startAngle,m=c.endAngle,y=(g+m)/2,b=t?Math.abs(h-d)/2:0,S=Math.cos,A=Math.sin,E=u+h*S(g),M=f+h*A(g),R="left",L="top";switch(o){case"startArc":E=u+(d-l)*S(y),M=f+(d-l)*A(y),R="center",L="top";break;case"insideStartArc":E=u+(d+l)*S(y),M=f+(d+l)*A(y),R="center",L="bottom";break;case"startAngle":E=u+v*S(g)+v3(g,l+b,!1),M=f+v*A(g)+g3(g,l+b,!1),R="right",L="middle";break;case"insideStartAngle":E=u+v*S(g)+v3(g,-l+b,!1),M=f+v*A(g)+g3(g,-l+b,!1),R="left",L="middle";break;case"middle":E=u+v*S(y),M=f+v*A(y),R="center",L="middle";break;case"endArc":E=u+(h+l)*S(y),M=f+(h+l)*A(y),R="center",L="bottom";break;case"insideEndArc":E=u+(h-l)*S(y),M=f+(h-l)*A(y),R="center",L="top";break;case"endAngle":E=u+v*S(m)+v3(m,l+b,!0),M=f+v*A(m)+g3(m,l+b,!0),R="left",L="middle";break;case"insideEndAngle":E=u+v*S(m)+v3(m,-l+b,!0),M=f+v*A(m)+g3(m,-l+b,!0),R="right",L="middle";break;default:return jR(n,a,i)}return n=n||{},n.x=E,n.y=M,n.align=R,n.verticalAlign=L,n}}function _Ve(r,e,t,n){if($r(n)){r.setTextConfig({rotation:n});return}else if(ct(e)){r.setTextConfig({rotation:0});return}var a=r.shape,i=a.clockwise?a.startAngle:a.endAngle,s=a.clockwise?a.endAngle:a.startAngle,o=(i+s)/2,l,c=t(e);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=s;break;default:r.setTextConfig({rotation:0});return}var u=Math.PI*1.5-l;c==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),r.setTextConfig({rotation:u})}function v3(r,e,t){return e*Math.sin(r)*(t?-1:1)}function g3(r,e,t){return e*Math.cos(r)*(t?1:-1)}function dh(r,e,t){var n=r.get("borderRadius");if(n==null)return t?{cornerRadius:0}:null;ct(n)||(n=[n,n,n,n]);var a=Math.abs(e.r||0-e.r0||0);return{cornerRadius:ft(n,function(i){return sf(i,a)})}}var Qk=Math.max,e5=Math.min;function bVe(r,e){var t=r.getArea&&r.getArea();if(av(r,"cartesian2d")){var n=r.getBaseAxis();if(n.type!=="category"||!n.onBand){var a=e.getLayout("bandWidth");n.isHorizontal()?(t.x-=a,t.width+=a*2):(t.y-=a,t.height+=a*2)}}return t}var SVe=(function(r){Ye(e,r);function e(){var t=r.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,n,a,i){this._model=t,this._removeOnRenderedListener(a),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,a):this._renderNormal(t,n,a,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},e.prototype.eachRendered=function(t){vv(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t,n,a,i){var s=this.group,o=t.getData(),l=this._data,c=t.coordinateSystem,u=c.getBaseAxis(),f;c.type==="cartesian2d"?f=u.isHorizontal():c.type==="polar"&&(f=u.dim==="angle");var h=t.isAnimationEnabled()?t:null,d=wVe(t,c);d&&this._enableRealtimeSort(d,o,a);var v=t.get("clip",!0)||d,g=bVe(c,o);s.removeClipPath();var m=t.get("roundCap",!0),y=t.get("showBackground",!0),b=t.getModel("backgroundStyle"),S=b.get("borderRadius")||0,A=[],E=this._backgroundEls,M=i&&i.isInitSort,R=i&&i.type==="changeAxisOrder";function L(P){var k=m3[c.type](o,P);if(!k)return null;var U=RVe(c,f,k);return U.useStyle(b.getItemStyle()),c.type==="cartesian2d"?U.setShape("r",S):U.setShape("cornerRadius",S),A[P]=U,U}o.diff(l).add(function(P){var k=o.getItemModel(P),U=m3[c.type](o,P,k);if(U&&(y&&L(P),!(!o.hasValue(P)||!zq[c.type](U)))){var F=!1;v&&(F=Oq[c.type](g,U));var q=kq[c.type](t,o,P,U,f,h,u.model,!1,m);d&&(q.forceLabelAnimation=!0),Fq(q,o,P,k,U,t,f,c.type==="polar"),M?q.attr({shape:U}):d?Pq(d,h,q,U,P,f,!1,!1):ca(q,{shape:U},t,P),o.setItemGraphicEl(P,q),s.add(q),q.ignore=F}}).update(function(P,k){var U=o.getItemModel(P),F=m3[c.type](o,P,U);if(F){if(y){var q=void 0;E.length===0?q=L(k):(q=E[k],q.useStyle(b.getItemStyle()),c.type==="cartesian2d"?q.setShape("r",S):q.setShape("cornerRadius",S),A[P]=q);var H=m3[c.type](o,P),Z=uce(f,H,c);nn(q,{shape:Z},h,P)}var X=l.getItemGraphicEl(k);if(!o.hasValue(P)||!zq[c.type](F)){s.remove(X);return}var Y=!1;v&&(Y=Oq[c.type](g,F),Y&&s.remove(X));var re=X&&(X.type==="sector"&&m||X.type==="sausage"&&!m);if(re&&(X&&Wd(X,t,k),X=null),X?tu(X):X=kq[c.type](t,o,P,F,f,h,u.model,!0,m),d&&(X.forceLabelAnimation=!0),R){var W=X.getTextContent();if(W){var j=lb(W);j.prevValue!=null&&(j.prevValue=j.value)}}else Fq(X,o,P,U,F,t,f,c.type==="polar");M?X.attr({shape:F}):d?Pq(d,h,X,F,P,f,!0,R):nn(X,{shape:F},t,P,null),o.setItemGraphicEl(P,X),X.ignore=Y,s.add(X)}}).remove(function(P){var k=l.getItemGraphicEl(P);k&&Wd(k,t,P)}).execute();var I=this._backgroundGroup||(this._backgroundGroup=new er);I.removeAll();for(var O=0;O<A.length;++O)I.add(A[O]);s.add(I),this._backgroundEls=A,this._data=o},e.prototype._renderLarge=function(t,n,a){this._clear(),Vq(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),Vq(n,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var n=t.get("clip",!0)&&ZA(t.coordinateSystem,!1,t),a=this.group;n?a.setClipPath(n):a.removeClipPath()},e.prototype._enableRealtimeSort=function(t,n,a){var i=this;if(n.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,a),this._isFirstFrame=!1;else{var o=function(l){var c=n.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(s.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){i._updateSortWithinSameData(n,o,s,a)},a.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,n,a){var i=[];return t.each(t.mapDimension(n.dim),function(s,o){var l=a(o);l=l??NaN,i.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),i.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:ft(i,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,n,a){for(var i=a.scale,s=t.mapDimension(a.dim),o=Number.MAX_VALUE,l=0,c=i.getOrdinalMeta().categories.length;l<c;++l){var u=t.rawIndexOf(s,i.getRawOrdinalNumber(l)),f=u<0?Number.MIN_VALUE:n(t.indexOfRawIndex(u));if(f>o)return!0;o=f}return!1},e.prototype._isOrderDifferentInView=function(t,n){for(var a=n.scale,i=a.getExtent(),s=Math.max(0,i[0]),o=Math.min(i[1],a.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==a.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,n,a,i){if(this._isOrderChangedWithinSameData(t,n,a)){var s=this._dataSort(t,a,n);this._isOrderDifferentInView(s,a)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",axisId:a.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,n,a){var i=n.baseAxis,s=this._dataSort(t,i,function(o){return t.get(t.mapDimension(n.otherAxis.dim),o)});a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:s})},e.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},e.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var n=this.group,a=this._data;t&&t.isAnimationEnabled()&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl(function(i){Wd(i,t,or(i).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(Ln),Oq={cartesian2d:function(r,e){var t=e.width<0?-1:1,n=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var a=r.x+r.width,i=r.y+r.height,s=Qk(e.x,r.x),o=e5(e.x+e.width,a),l=Qk(e.y,r.y),c=e5(e.y+e.height,i),u=o<s,f=c<l;return e.x=u&&s>a?o:s,e.y=f&&l>i?c:l,e.width=u?0:o-s,e.height=f?0:c-l,t<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),u||f},polar:function(r,e){var t=e.r0<=e.r?1:-1;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}var a=e5(e.r,r.r),i=Qk(e.r0,r.r0);e.r=a,e.r0=i;var s=a-i<0;if(t<0){var n=e.r;e.r=e.r0,e.r0=n}return s}},kq={cartesian2d:function(r,e,t,n,a,i,s,o,l){var c=new Nr({shape:nt({},n),z2:1});if(c.__dataIndex=t,c.name="item",i){var u=c.shape,f=a?"height":"width";u[f]=0}return c},polar:function(r,e,t,n,a,i,s,o,l){var c=!a&&l?yN:Gs,u=new c({shape:n,z2:1});u.name="item";var f=cce(a);if(u.calculateTextPosition=xVe(f,{isRoundCap:c===yN}),i){var h=u.shape,d=a?"r":"endAngle",v={};h[d]=a?n.r0:n.startAngle,v[d]=n[d],(o?nn:ca)(u,{shape:v},i)}return u}};function wVe(r,e){var t=r.get("realtimeSort",!0),n=e.getBaseAxis();if(t&&n.type==="category"&&e.type==="cartesian2d")return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function Pq(r,e,t,n,a,i,s,o){var l,c;i?(c={x:n.x,width:n.width},l={y:n.y,height:n.height}):(c={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?nn:ca)(t,{shape:l},e,a,null);var u=e?r.baseAxis.model:null;(s?nn:ca)(t,{shape:c},u,a)}function Bq(r,e){for(var t=0;t<e.length;t++)if(!isFinite(r[e[t]]))return!0;return!1}var TVe=["x","y","width","height"],AVe=["cx","cy","r","startAngle","endAngle"],zq={cartesian2d:function(r){return!Bq(r,TVe)},polar:function(r){return!Bq(r,AVe)}},m3={cartesian2d:function(r,e,t){var n=r.getItemLayout(e);if(!n)return null;var a=t?MVe(t,n):0,i=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+i*a/2,y:n.y+s*a/2,width:n.width-i*a,height:n.height-s*a}},polar:function(r,e,t){var n=r.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function EVe(r){return r.startAngle!=null&&r.endAngle!=null&&r.startAngle===r.endAngle}function cce(r){return(function(e){var t=e?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+t;default:return n}}})(r)}function Fq(r,e,t,n,a,i,s,o){var l=e.getItemVisual(t,"style");if(o){if(!i.get("roundCap")){var u=r.shape,f=dh(n.getModel("itemStyle"),u,!0);nt(u,f),r.setShape(u)}}else{var c=n.get(["itemStyle","borderRadius"])||0;r.setShape("r",c)}r.useStyle(l);var h=n.getShallow("cursor");h&&r.attr("cursor",h);var d=o?s?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":s?a.height>=0?"bottom":"top":a.width>=0?"right":"left",v=ki(n);rs(r,v,{labelFetcher:i,labelDataIndex:t,defaultText:L_(i.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var g=r.getTextContent();if(o&&g){var m=n.get(["label","position"]);r.textConfig.inside=m==="middle"?!0:null,_Ve(r,m==="outside"?d:m,cce(s),n.get(["label","rotate"]))}xse(g,v,i.getRawValue(t),function(b){return ece(e,b)});var y=n.getModel(["emphasis"]);Sa(r,y.get("focus"),y.get("blurScope"),y.get("disabled")),Oi(r,n),EVe(a)&&(r.style.fill="none",r.style.stroke="none",te(r.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function MVe(r,e){var t=r.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var n=r.get(["itemStyle","borderWidth"])||0,a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,a,i)}var CVe=(function(){function r(){}return r})(),Uq=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeBar",n}return e.prototype.getDefaultShape=function(){return new CVe},e.prototype.buildPath=function(t,n){for(var a=n.points,i=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],c=this.barWidth,u=0;u<a.length;u+=3)l[i]=c,l[s]=a[u+2],o[i]=a[u+i],o[s]=a[u+s],t.rect(o[0],o[1],l[0],l[1])},e})(Fr);function Vq(r,e,t,n){var a=r.getData(),i=a.getLayout("valueAxisHorizontal")?1:0,s=a.getLayout("largeDataIndices"),o=a.getLayout("size"),l=r.getModel("backgroundStyle"),c=a.getLayout("largeBackgroundPoints");if(c){var u=new Uq({shape:{points:c},incremental:!!n,silent:!0,z2:0});u.baseDimIdx=i,u.largeDataIndices=s,u.barWidth=o,u.useStyle(l.getItemStyle()),e.add(u),t&&t.push(u)}var f=new Uq({shape:{points:a.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=i,f.largeDataIndices=s,f.barWidth=o,e.add(f),f.useStyle(a.getVisual("style")),f.style.stroke=null,or(f).seriesIndex=r.seriesIndex,r.get("silent")||(f.on("mousedown",Hq),f.on("mousemove",Hq)),t&&t.push(f)}var Hq=uL(function(r){var e=this,t=DVe(e,r.offsetX,r.offsetY);or(e).dataIndex=t>=0?t:null},30,!1);function DVe(r,e,t){for(var n=r.baseDimIdx,a=1-n,i=r.shape.points,s=r.largeDataIndices,o=[],l=[],c=r.barWidth,u=0,f=i.length/3;u<f;u++){var h=u*3;if(l[n]=c,l[a]=i[h+2],o[n]=i[h+n],o[a]=i[h+a],l[a]<0&&(o[a]+=l[a],l[a]=-l[a]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[u]}return-1}function uce(r,e,t){if(av(t,"cartesian2d")){var n=e,a=t.getArea();return{x:r?n.x:a.x,y:r?a.y:n.y,width:r?n.width:a.width,height:r?a.height:n.height}}else{var a=t.getArea(),i=e;return{cx:a.cx,cy:a.cy,r0:r?a.r0:i.r0,r:r?a.r:i.r,startAngle:r?i.startAngle:0,endAngle:r?i.endAngle:Math.PI*2}}}function RVe(r,e,t){var n=r.type==="polar"?Gs:Nr;return new n({shape:uce(e,t,r),silent:!0,z2:0})}function NVe(r){r.registerChartView(SVe),r.registerSeriesModel(mVe),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,yr(dle,"bar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ple("bar")),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,lce("bar")),r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(a){e.sortInfo&&a.axis.setCategorySortInfo(e.sortInfo)})})}var Gq=Math.PI*2,y3=Math.PI/180;function IVe(r,e,t){e.eachSeriesByType(r,function(n){var a=n.getData(),i=a.mapDimension("value"),s=Bse(n,t),o=s.cx,l=s.cy,c=s.r,u=s.r0,f=s.viewRect,h=-n.get("startAngle")*y3,d=n.get("endAngle"),v=n.get("padAngle")*y3;d=d==="auto"?h-Gq:-d*y3;var g=n.get("minAngle")*y3,m=g+v,y=0;a.each(i,function(Z){!isNaN(Z)&&y++});var b=a.getSum(i),S=Math.PI/(b||y)*2,A=n.get("clockwise"),E=n.get("roseType"),M=n.get("stillShowZeroSum"),R=a.getDataExtent(i);R[0]=0;var L=A?1:-1,I=[h,d],O=L*v/2;QI(I,!A),h=I[0],d=I[1];var P=fce(n);P.startAngle=h,P.endAngle=d,P.clockwise=A,P.cx=o,P.cy=l,P.r=c,P.r0=u;var k=Math.abs(d-h),U=k,F=0,q=h;if(a.setLayout({viewRect:f,r:c}),a.each(i,function(Z,X){var Y;if(isNaN(Z)){a.setItemLayout(X,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:o,cy:l,r0:u,r:E?NaN:c});return}E!=="area"?Y=b===0&&M?S:Z*S:Y=k/y,Y<m?(Y=m,U-=m):F+=Z;var re=q+L*Y,W=0,j=0;v>Y?(W=q+L*Y/2,j=W):(W=q+O,j=re-O),a.setItemLayout(X,{angle:Y,startAngle:W,endAngle:j,clockwise:A,cx:o,cy:l,r0:u,r:E?gn(Z,R,[u,c]):c}),q=re}),U<Gq&&y)if(U<=.001){var H=k/y;a.each(i,function(Z,X){if(!isNaN(Z)){var Y=a.getItemLayout(X);Y.angle=H;var re=0,W=0;H<v?(re=h+L*(X+1/2)*H,W=re):(re=h+L*X*H+O,W=h+L*(X+1)*H-O),Y.startAngle=re,Y.endAngle=W}})}else S=U/F,q=h,a.each(i,function(Z,X){if(!isNaN(Z)){var Y=a.getItemLayout(X),re=Y.angle===m?m:Z*S,W=0,j=0;re<v?(W=q+L*re/2,j=W):(W=q+O,j=q+L*re-O),Y.startAngle=W,Y.endAngle=j,q+=L*re}})})}var fce=Pr();function yb(r){return{seriesType:r,reset:function(e,t){var n=t.findComponents({mainType:"legend"});if(!(!n||!n.length)){var a=e.getData();a.filterSelf(function(i){for(var s=a.getName(i),o=0;o<n.length;o++)if(!n[o].isSelected(s))return!1;return!0})}}}}var LVe=Math.PI/180;function jq(r,e,t,n,a,i,s,o,l,c){if(r.length<2)return;function u(g){for(var m=g.rB,y=m*m,b=0;b<g.list.length;b++){var S=g.list[b],A=Math.abs(S.label.y-t),E=n+S.len,M=E*E,R=Math.sqrt(Math.abs((1-A*A/y)*M)),L=e+(R+S.len2)*a,I=L-S.label.x,O=S.targetTextWidth-I*a;hce(S,O,!0),S.label.x=L}}function f(g){for(var m={list:[],maxY:0},y={list:[],maxY:0},b=0;b<g.length;b++)if(g[b].labelAlignTo==="none"){var S=g[b],A=S.label.y>t?y:m,E=Math.abs(S.label.y-t);if(E>=A.maxY){var M=S.label.x-e-S.len2*a,R=n+S.len,L=Math.abs(M)<R?Math.sqrt(E*E/(1-M*M/R/R)):R;A.rB=L,A.maxY=E}A.list.push(S)}u(m),u(y)}for(var h=r.length,d=0;d<h;d++)if(r[d].position==="outer"&&r[d].labelAlignTo==="labelLine"){var v=r[d].label.x-c;r[d].linePoints[1][0]+=v,r[d].label.x=c}yB(r,1,l,l+s)&&f(r)}function OVe(r,e,t,n,a,i,s,o){for(var l=[],c=[],u=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<r.length;h++){var d=r[h].label;t5(r[h])||(d.x<e?(u=Math.min(u,d.x),l.push(r[h])):(f=Math.max(f,d.x),c.push(r[h])))}for(var h=0;h<r.length;h++){var v=r[h];if(!t5(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var d=v.label,g=v.linePoints,m=void 0;v.labelAlignTo==="edge"?d.x<e?m=g[2][0]-v.labelDistance-s-v.edgeDistance:m=s+a-v.edgeDistance-g[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?d.x<e?m=u-s-v.bleedMargin:m=s+a-f-v.bleedMargin:d.x<e?m=d.x-s-v.bleedMargin:m=s+a-d.x-v.bleedMargin,v.targetTextWidth=m,hce(v,m,!1)}}jq(c,e,t,n,1,a,i,s,o,f),jq(l,e,t,n,-1,a,i,s,o,u);for(var h=0;h<r.length;h++){var v=r[h];if(!t5(v)&&v.linePoints){var d=v.label,g=v.linePoints,y=v.labelAlignTo==="edge",b=d.style.padding,S=b?b[1]+b[3]:0,A=d.style.backgroundColor?0:S,E=v.rect.width+A,M=g[1][0]-g[2][0];y?d.x<e?g[2][0]=s+v.edgeDistance+E+v.labelDistance:g[2][0]=s+a-v.edgeDistance-E-v.labelDistance:(d.x<e?g[2][0]=d.x+v.labelDistance:g[2][0]=d.x-v.labelDistance,g[1][0]=g[2][0]+M),g[1][1]=g[2][1]=d.y}}}function hce(r,e,t){if(r.labelStyleWidth==null){var n=r.label,a=n.style,i=r.rect,s=a.backgroundColor,o=a.padding,l=o?o[1]+o[3]:0,c=a.overflow,u=i.width+(s?0:l);if(e<u||t){if(c&&c.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",e-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",s)}else{var h=e-l,d=e<u?h:t?h>r.unconstrainedWidth?null:h:null;n.setStyle("width",d)}dce(i,n)}}}function dce(r,e){Wq.rect=r,Ble(Wq,e,kVe)}var kVe={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},Wq={};function t5(r){return r.position==="center"}function PVe(r){var e=r.getData(),t=[],n,a,i=!1,s=(r.get("minShowLabelAngle")||0)*LVe,o=e.getLayout("viewRect"),l=e.getLayout("r"),c=o.width,u=o.x,f=o.y,h=o.height;function d(M){M.ignore=!0}function v(M){if(!M.ignore)return!0;for(var R in M.states)if(M.states[R].ignore===!1)return!0;return!1}e.each(function(M){var R=e.getItemGraphicEl(M),L=R.shape,I=R.getTextContent(),O=R.getTextGuideLine(),P=e.getItemModel(M),k=P.getModel("label"),U=k.get("position")||P.get(["emphasis","label","position"]),F=k.get("distanceToLabelLine"),q=k.get("alignTo"),H=Nt(k.get("edgeDistance"),c),Z=k.get("bleedMargin");Z==null&&(Z=Math.min(c,h)>200?10:2);var X=P.getModel("labelLine"),Y=X.get("length");Y=Nt(Y,c);var re=X.get("length2");if(re=Nt(re,c),Math.abs(L.endAngle-L.startAngle)<s){te(I.states,d),I.ignore=!0,O&&(te(O.states,d),O.ignore=!0);return}if(v(I)){var W=(L.startAngle+L.endAngle)/2,j=Math.cos(W),J=Math.sin(W),ee,ae,ce,me;n=L.cx,a=L.cy;var Se=U==="inside"||U==="inner";if(U==="center")ee=L.cx,ae=L.cy,me="center";else{var we=(Se?(L.r+L.r0)/2*j:L.r*j)+n,Me=(Se?(L.r+L.r0)/2*J:L.r*J)+a;if(ee=we+j*3,ae=Me+J*3,!Se){var Ve=we+j*(Y+l-L.r),de=Me+J*(Y+l-L.r),dt=Ve+(j<0?-1:1)*re,K=de;q==="edge"?ee=j<0?u+H:u+c-H:ee=dt+(j<0?-F:F),ae=K,ce=[[we,Me],[Ve,de],[dt,K]]}me=Se?"center":q==="edge"?j>0?"right":"left":j>0?"left":"right"}var se=Math.PI,_e=0,oe=k.get("rotate");if($r(oe))_e=oe*(se/180);else if(U==="center")_e=0;else if(oe==="radial"||oe===!0){var ue=j<0?-W+se:-W;_e=ue}else if(oe==="tangential"&&U!=="outside"&&U!=="outer"){var be=Math.atan2(j,J);be<0&&(be=se*2+be);var Be=J>0;Be&&(be=se+be),_e=be-se}if(i=!!_e,I.x=ee,I.y=ae,I.rotation=_e,I.setStyle({verticalAlign:"middle"}),Se){I.setStyle({align:me});var Le=I.states.select;Le&&(Le.x+=I.x,Le.y+=I.y)}else{var ze=new sr(0,0,0,0);dce(ze,I),t.push({label:I,labelLine:O,position:U,len:Y,len2:re,minTurnAngle:X.get("minTurnAngle"),maxSurfaceAngle:X.get("maxSurfaceAngle"),surfaceNormal:new ir(j,J),linePoints:ce,textAlign:me,labelDistance:F,labelAlignTo:q,edgeDistance:H,bleedMargin:Z,rect:ze,unconstrainedWidth:ze.width,labelStyleWidth:I.style.width})}R.setTextConfig({inside:Se})}}),!i&&r.get("avoidLabelOverlap")&&OVe(t,n,a,l,c,h,u,f);for(var g=0;g<t.length;g++){var m=t[g],y=m.label,b=m.labelLine,S=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),S&&(te(y.states,d),y.ignore=!0);var A=y.states.select;A&&(A.x+=y.x,A.y+=y.y)}if(b){var E=m.linePoints;S||!E?(te(b.states,d),b.ignore=!0):(Ole(E,m.minTurnAngle),r9e(E,m.surfaceNormal,m.maxSurfaceAngle),b.setShape({points:E}),y.__hostTarget.textGuideLineConfig={anchor:new ir(E[0][0],E[0][1])})}}}var BVe=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this)||this;i.z2=2;var s=new Kr;return i.setTextContent(s),i.updateData(t,n,a,!0),i}return e.prototype.updateData=function(t,n,a,i){var s=this,o=t.hostModel,l=t.getItemModel(n),c=l.getModel("emphasis"),u=t.getItemLayout(n),f=nt(dh(l.getModel("itemStyle"),u,!0),u);if(isNaN(f.startAngle)){s.setShape(f);return}if(i){s.setShape(f);var h=o.getShallow("animationType");o.ecModel.ssr?(ca(s,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),s.originX=f.cx,s.originY=f.cy):h==="scale"?(s.shape.r=u.r0,ca(s,{shape:{r:u.r}},o,n)):a!=null?(s.setShape({startAngle:a,endAngle:a}),ca(s,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},o,n)):(s.shape.endAngle=u.startAngle,nn(s,{shape:{endAngle:u.endAngle}},o,n))}else tu(s),nn(s,{shape:f},o,n);s.useStyle(t.getItemVisual(n,"style")),Oi(s,l);var d=(u.startAngle+u.endAngle)/2,v=o.get("selectedOffset"),g=Math.cos(d)*v,m=Math.sin(d)*v,y=l.getShallow("cursor");y&&s.attr("cursor",y),this._updateLabel(o,t,n),s.ensureState("emphasis").shape=nt({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},dh(c.getModel("itemStyle"),u)),nt(s.ensureState("select"),{x:g,y:m,shape:dh(l.getModel(["select","itemStyle"]),u)}),nt(s.ensureState("blur"),{shape:dh(l.getModel(["blur","itemStyle"]),u)});var b=s.getTextGuideLine(),S=s.getTextContent();b&&nt(b.ensureState("select"),{x:g,y:m}),nt(S.ensureState("select"),{x:g,y:m}),Sa(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,n,a){var i=this,s=n.getItemModel(a),o=s.getModel("labelLine"),l=n.getItemVisual(a,"style"),c=l&&l.fill,u=l&&l.opacity;rs(i,ki(s),{labelFetcher:n.hostModel,labelDataIndex:a,inheritColor:c,defaultOpacity:u,defaultText:t.getFormattedLabel(a,"normal")||n.getName(a)});var f=i.getTextContent();i.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=s.get(["label","position"]);if(h!=="outside"&&h!=="outer")i.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new ws,this.setTextGuideLine(d)),_U(this,bU(s),{stroke:c,opacity:El(o.get(["lineStyle","opacity"]),u,1)})}},e})(Gs),zVe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,a,i){var s=t.getData(),o=this._data,l=this.group,c;if(!o&&s.count()>0){for(var u=s.getItemLayout(0),f=1;isNaN(u&&u.startAngle)&&f<s.count();++f)u=s.getItemLayout(f);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var h=fce(t),d=new Gs({shape:Qt(h)});d.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}s.diff(o).add(function(v){var g=new BVe(s,v,c);s.setItemGraphicEl(v,g),l.add(g)}).update(function(v,g){var m=o.getItemGraphicEl(g);m.updateData(s,v,c),m.off("click"),l.add(m),s.setItemGraphicEl(v,m)}).remove(function(v){var g=o.getItemGraphicEl(v);Wd(g,t,v)}).execute(),PVe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,n){var a=n.getData(),i=a.getItemLayout(0);if(i){var s=t[0]-i.cx,o=t[1]-i.cy,l=Math.sqrt(s*s+o*o);return l<=i.r&&l>=i.r0}},e.type="pie",e})(Ln);function xb(r,e,t){e=ct(e)&&{coordDimensions:e}||nt({encodeDefine:r.getEncode()},e);var n=r.getSource(),a=vb(n,e).dimensions,i=new bo(a,r);return i.initData(n,t),i}var _b=(function(){function r(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return r.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},r.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},r.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},r.prototype.getItemVisual=function(e,t){var n=this._getDataWithEncodedVisual();return n.getItemVisual(e,t)},r})(),FVe=Pr(),pce=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new _b(Ot(this.getData,this),Ot(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return xb(this,{coordDimensions:["value"],encodeDefaulter:yr(qF,this)})},e.prototype.getDataParams=function(t){var n=this.getData(),a=FVe(n),i=a.seats;if(!i){var s=[];n.each(n.mapDimension("value"),function(l){s.push(l)}),i=a.seats=Sie(s,n.hostModel.get("percentPrecision"))}var o=r.prototype.getDataParams.call(this,t);return o.percent=i[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){Ym(t,"labelLine",["show"]);var n=t.labelLine,a=t.emphasis.labelLine;n.show=n.show&&t.label.show,a.show=a.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e})(Hn);IBe({fullType:pce.type,getCoord2:function(r){return r.getShallow("center")}});function UVe(r){return{seriesType:r,reset:function(e,t){var n=e.getData();n.filterSelf(function(a){var i=n.mapDimension("value"),s=n.get(i,a);return!($r(s)&&!isNaN(s)&&s<0)})}}}function VVe(r){r.registerChartView(zVe),r.registerSeriesModel(pce),Coe("pie",r.registerAction),r.registerLayout(yr(IVe,"pie")),r.registerProcessor(yb("pie")),r.registerProcessor(UVe("pie"))}var HVe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return Oh(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,n,a){return a.point(n.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:We.color.primary}},universalTransition:{divideShape:"clone"}},e})(Hn),vce=4,GVe=(function(){function r(){}return r})(),jVe=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.getDefaultShape=function(){return new GVe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,n){var a=n.points,i=n.size,s=this.symbolProxy,o=s.shape,l=t.getContext?t.getContext():t,c=l&&i[0]<vce,u=this.softClipShape,f;if(c){this._ctx=l;return}for(this._ctx=null,f=this._off;f<a.length;){var h=a[f++],d=a[f++];isNaN(h)||isNaN(d)||u&&!u.contain(h,d)||(o.x=h-i[0]/2,o.y=d-i[1]/2,o.width=i[0],o.height=i[1],s.buildPath(t,o,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,n=t.points,a=t.size,i=this._ctx,s=this.softClipShape,o;if(i){for(o=this._off;o<n.length;){var l=n[o++],c=n[o++];isNaN(l)||isNaN(c)||s&&!s.contain(l,c)||i.fillRect(l-a[0]/2,c-a[1]/2,a[0],a[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(t,n){for(var a=this.shape,i=a.points,s=a.size,o=Math.max(s[0],4),l=Math.max(s[1],4),c=i.length/2-1;c>=0;c--){var u=c*2,f=i[u]-o/2,h=i[u+1]-l/2;if(t>=f&&n>=h&&t<=f+o&&n<=h+l)return c}return-1},e.prototype.contain=function(t,n){var a=this.transformCoordToLocal(t,n),i=this.getBoundingRect();if(t=a[0],n=a[1],i.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,a=n.points,i=n.size,s=i[0],o=i[1],l=1/0,c=1/0,u=-1/0,f=-1/0,h=0;h<a.length;){var d=a[h++],v=a[h++];l=Math.min(d,l),u=Math.max(d,u),c=Math.min(v,c),f=Math.max(v,f)}t=this._rect=new sr(l-s/2,c-o/2,u-l+s,f-c+o)}return t},e})(Fr),WVe=(function(){function r(){this.group=new er}return r.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout("points")}),this._setCommon(n,e,t)},r.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var a=(n.endIndex-n.startIndex)*2,i=n.startIndex*4*2;t=new Float32Array(t.buffer,i,a)}n.setShape("points",t),n.reset()})},r.prototype.incrementalPrepareUpdate=function(e){this._clear()},r.prototype.incrementalUpdate=function(e,t,n){var a=this._newAdded[0],i=t.getLayout("points"),s=a&&a.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+i.length);l.set(s),l.set(i,o),a.endIndex=e.end,a.setShape({points:l})}else{this._newAdded=[];var c=this._create();c.startIndex=e.start,c.endIndex=e.end,c.incremental=!0,c.setShape({points:i}),this._setCommon(c,t,n)}},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new jVe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},r.prototype._setCommon=function(e,t,n){var a=t.hostModel;n=n||{};var i=t.getVisual("symbolSize");e.setShape("size",i instanceof Array?i:[i,i]),e.softClipShape=n.clipShape||null,e.symbolProxy=oi(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<vce;e.useStyle(a.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=t.getVisual("style"),l=o&&o.fill;l&&e.setColor(l);var c=or(e);c.seriesIndex=a.seriesIndex,e.on("mousemove",function(u){c.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(c.dataIndex=f+(e.startIndex||0))})},r.prototype.remove=function(){this._clear()},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),YVe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=t.getData(),s=this._updateSymbolDraw(i,t);s.updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,a){var i=t.getData(),s=this._updateSymbolDraw(i,t);s.incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(t,n,a){this._symbolDraw.incrementalUpdate(t,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=t.end===n.getData().count()},e.prototype.updateTransform=function(t,n,a){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var s=KA("").reset(t,n,a);s.progress&&s.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,n){var a=this._symbolDraw,i=n.pipelineContext,s=i.large;return(!a||s!==this._isLargeDraw)&&(a&&a.remove(),a=this._symbolDraw=s?new WVe:new qA,this._isLargeDraw=s,this.group.removeAll()),this.group.add(a.group),a},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(Ln),gce={left:0,right:0,top:0,bottom:0},xN=["25%","25%"],XVe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(t,n){var a=yy(t.outerBounds);r.prototype.mergeDefaultAndTheme.apply(this,arguments),a&&t.outerBounds&&Ah(t.outerBounds,a)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&Ah(this.option.outerBounds,t.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:gce,outerBoundsContain:"all",outerBoundsClampWidth:xN[0],outerBoundsClampHeight:xN[1],backgroundColor:We.color.transparent,borderWidth:1,borderColor:We.color.neutral30},e})(kr),wB=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Pa).models[0]},e.type="cartesian2dAxis",e})(kr);Xa(wB,mb);var mce={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:We.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:We.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:We.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[We.color.backgroundTint,We.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:We.color.neutral00,borderColor:We.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},qVe=Sr({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},mce),CU=Sr({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:We.color.axisMinorSplitLine,width:1}}},mce),ZVe=Sr({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},CU),KVe=rr({logBase:10},CU);const yce={category:qVe,value:CU,time:ZVe,log:KVe};var $Ve={value:1,category:1,time:1,log:1},TB=null;function JVe(r){TB||(TB=r)}function $A(){return TB}function O_(r,e,t,n){te($Ve,function(a,i){var s=Sr(Sr({},yce[i],!0),n,!0),o=(function(l){Ye(c,l);function c(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=e+"Axis."+i,u}return c.prototype.mergeDefaultAndTheme=function(u,f){var h=VT(this),d=h?yy(u):{},v=f.getTheme();Sr(u,v.get(i+"Axis")),Sr(u,this.getDefaultOption()),u.type=Yq(u),h&&Ah(u,d,h)},c.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=XT.createByAxisModel(this))},c.prototype.getCategories=function(u){var f=this.option;if(f.type==="category")return u?f.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.prototype.updateAxisBreaks=function(u){var f=$A();return f?f.updateModelAxisBreak(this,u):{breaks:[]}},c.type=e+"Axis."+i,c.defaultOption=s,c})(t);r.registerComponentModel(o)}),r.registerSubTypeDefaulter(e+"Axis",Yq)}function Yq(r){return r.type||(r.data?"category":"value")}var QVe=(function(){function r(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return r.prototype.getAxis=function(e){return this._axes[e]},r.prototype.getAxes=function(){return ft(this._dimList,function(e){return this._axes[e]},this)},r.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),fn(this.getAxes(),function(t){return t.scale.type===e})},r.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},r})(),AB=["x","y"];function Xq(r){return(r.type==="interval"||r.type==="time")&&!r.hasBreaks()}var e7e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=AB,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!Xq(t)||!Xq(n))){var a=t.getExtent(),i=n.getExtent(),s=this.dataToPoint([a[0],i[0]]),o=this.dataToPoint([a[1],i[1]]),l=a[1]-a[0],c=i[1]-i[0];if(!(!l||!c)){var u=(o[0]-s[0])/l,f=(o[1]-s[1])/c,h=s[0]-a[0]*u,d=s[1]-i[0]*f,v=this._transform=[u,0,0,f,h,d];this._invTransform=Qc([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var n=this.getAxis("x"),a=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&a.contain(a.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,n){var a=this.dataToPoint(t),i=this.dataToPoint(n),s=this.getArea(),o=new sr(a[0],a[1],i[0]-a[0],i[1]-a[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,n,a){a=a||[];var i=t[0],s=t[1];if(this._transform&&i!=null&&isFinite(i)&&s!=null&&isFinite(s))return Ya(a,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return a[0]=o.toGlobalCoord(o.dataToCoord(i,n)),a[1]=l.toGlobalCoord(l.dataToCoord(s,n)),a},e.prototype.clampData=function(t,n){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,s=a.getExtent(),o=i.getExtent(),l=a.parse(t[0]),c=i.parse(t[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),c),Math.max(o[0],o[1])),n},e.prototype.pointToData=function(t,n,a){if(a=a||[],this._invTransform)return Ya(a,t,this._invTransform);var i=this.getAxis("x"),s=this.getAxis("y");return a[0]=i.coordToData(i.toLocalCoord(t[0]),n),a[1]=s.coordToData(s.toLocalCoord(t[1]),n),a},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),a=this.getAxis("y").getGlobalExtent(),i=Math.min(n[0],n[1])-t,s=Math.min(a[0],a[1])-t,o=Math.max(n[0],n[1])-i+t,l=Math.max(a[0],a[1])-s+t;return new sr(i,s,o,l)},e})(QVe),xce=(function(r){Ye(e,r);function e(t,n,a,i,s){var o=r.call(this,t,n,a)||this;return o.index=0,o.type=i||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},e.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),n)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})(su),vL="expandAxisBreak",_ce="collapseAxisBreak",bce="toggleAxisBreak",DU="axisbreakchanged",t7e={type:vL,event:DU,update:"update",refineEvent:RU},r7e={type:_ce,event:DU,update:"update",refineEvent:RU},n7e={type:bce,event:DU,update:"update",refineEvent:RU};function RU(r,e,t,n){var a=[];return te(r,function(i){a=a.concat(i.eventBreaks)}),{eventContent:{breaks:a}}}function a7e(r){r.registerAction(t7e,e),r.registerAction(r7e,e),r.registerAction(n7e,e);function e(t,n){var a=[],i=r_(n,t);function s(o,l){te(i[o],function(c){var u=c.updateAxisBreaks(t);te(u.breaks,function(f){var h;a.push(rr((h={},h[l]=c.componentIndex,h),f))})})}return s("xAxisModels","xAxisIndex"),s("yAxisModels","yAxisIndex"),s("singleAxisModels","singleAxisIndex"),{eventBreaks:a}}}var O0=Math.PI,i7e=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],s7e=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],k_=Pr(),Sce=Pr(),wce=(function(){function r(e){this.recordMap={},this.resolveAxisNameOverlap=e}return r.prototype.ensureRecord=function(e){var t=e.axis.dim,n=e.componentIndex,a=this.recordMap,i=a[t]||(a[t]=[]);return i[n]||(i[n]={ready:{}})},r})();function o7e(r,e,t,n){var a=t.axis,i=e.ensureRecord(t),s=[],o,l=NU(r.axisName)&&I_(r.nameLocation);te(n,function(v){var g=Eh(v);if(!(!g||g.label.ignore)){s.push(g);var m=i.transGroup;l&&(m.transform?Qc(E2,m.transform):kA(E2),g.transform&&Ku(E2,E2,g.transform),sr.copy(x3,g.localRect),x3.applyTransform(E2),o?o.union(x3):sr.copy(o=new sr(0,0,0,0),x3))}});var c=Math.abs(i.dirVec.x)>.1?"x":"y",u=i.transGroup[c];if(s.sort(function(v,g){return Math.abs(v.label[c]-u)-Math.abs(g.label[c]-u)}),l&&o){var f=a.getExtent(),h=Math.min(f[0],f[1]),d=Math.max(f[0],f[1])-h;o.union(new sr(h,0,d,1))}i.stOccupiedRect=o,i.labelInfoList=s}var E2=$i(),x3=new sr(0,0,0,0),Tce=function(r,e,t,n,a,i){if(I_(r.nameLocation)){var s=i.stOccupiedRect;s&&Ace(i9e({},s,i.transGroup.transform),n,a)}else Ece(i.labelInfoList,i.dirVec,n,a)};function Ace(r,e,t){var n=new ir;dL(r,e,n,{direction:Math.atan2(t.y,t.x),bidirectional:!1,touchThreshold:.05})&&gB(e,n)}function Ece(r,e,t,n){for(var a=ir.dot(n,e)>=0,i=0,s=r.length;i<s;i++){var o=r[a?i:s-1-i];o.label.ignore||Ace(o,t,n)}}var el=(function(){function r(e,t,n,a){this.group=new er,this._axisModel=e,this._api=t,this._local={},this._shared=a||new wce(Tce),this._resetCfgDetermined(n)}return r.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},r.prototype.__getRawCfg=function(){return this._cfg.raw},r.prototype._resetCfgDetermined=function(e){var t=this._axisModel,n=t.getDefaultOption?t.getDefaultOption():{},a=Gt(e.axisName,t.get("name")),i=t.get("nameMoveOverlap");(i==null||i==="auto")&&(i=Gt(e.defaultNameMoveOverlap,!0));var s={raw:e,position:e.position,rotation:e.rotation,nameDirection:Gt(e.nameDirection,1),tickDirection:Gt(e.tickDirection,1),labelDirection:Gt(e.labelDirection,1),labelOffset:Gt(e.labelOffset,0),silent:Gt(e.silent,!0),axisName:a,nameLocation:El(t.get("nameLocation"),n.nameLocation,"end"),shouldNameMoveOverlap:NU(a)&&i,optionHideOverlap:t.get(["axisLabel","hideOverlap"]),showMinorTicks:t.get(["minorTick","show"])};this._cfg=s;var o=new er({x:s.position[0],y:s.position[1],rotation:s.rotation});o.updateTransform(),this._transformGroup=o;var l=this._shared.ensureRecord(t);l.transGroup=this._transformGroup,l.dirVec=new ir(Math.cos(-s.rotation),Math.sin(-s.rotation))},r.prototype.build=function(e,t){var n=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),te(l7e,function(a){e[a]&&c7e[a](n._cfg,n._local,n._shared,n._axisModel,n.group,n._transformGroup,n._api,t||{})}),this},r.innerTextLayout=function(e,t,n){var a=uF(t-e),i,s;return A_(a)?(s=n>0?"top":"bottom",i="center"):A_(a-O0)?(s=n>0?"bottom":"top",i="center"):(s="middle",a>0&&a<O0?i=n>0?"right":"left":i=n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:s}},r.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},r.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},r})(),l7e=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],c7e={axisLine:function(r,e,t,n,a,i,s){var o=n.get(["axisLine","show"]);if(o==="auto"&&(o=!0,r.raw.axisLineAutoShow!=null&&(o=!!r.raw.axisLineAutoShow)),!!o){var l=n.axis.getExtent(),c=i.transform,u=[l[0],0],f=[l[1],0],h=u[0]>f[0];c&&(Ya(u,u,c),Ya(f,f,c));var d=nt({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),v={strokeContainThreshold:r.raw.strokeContainThreshold||5,silent:!0,z2:1,style:d};if(n.get(["axisLine","breakLine"])&&n.axis.scale.hasBreaks())$A().buildAxisBreakLine(n,a,i,v);else{var g=new ai(nt({shape:{x1:u[0],y1:u[1],x2:f[0],y2:f[1]}},v));C_(g.shape,g.style.lineWidth),g.anid="line",a.add(g)}var m=n.get(["axisLine","symbol"]);if(m!=null){var y=n.get(["axisLine","symbolSize"]);It(m)&&(m=[m,m]),(It(y)||$r(y))&&(y=[y,y]);var b=_y(n.get(["axisLine","symbolOffset"])||0,y),S=y[0],A=y[1];te([{rotate:r.rotation+Math.PI/2,offset:b[0],r:0},{rotate:r.rotation-Math.PI/2,offset:b[1],r:Math.sqrt((u[0]-f[0])*(u[0]-f[0])+(u[1]-f[1])*(u[1]-f[1]))}],function(E,M){if(m[M]!=="none"&&m[M]!=null){var R=oi(m[M],-S/2,-A/2,S,A,d.stroke,!0),L=E.r+E.offset,I=h?f:u;R.attr({rotation:E.rotate,x:I[0]+L*Math.cos(r.rotation),y:I[1]-L*Math.sin(r.rotation),silent:!0,z2:11}),a.add(R)}})}}},axisTickLabelEstimate:function(r,e,t,n,a,i,s,o){var l=Zq(e,a,o);l&&qq(r,e,t,n,a,i,s,of.estimate)},axisTickLabelDetermine:function(r,e,t,n,a,i,s,o){var l=Zq(e,a,o);l&&qq(r,e,t,n,a,i,s,of.determine);var c=d7e(r,a,i,n);h7e(r,e.labelLayoutList,c),p7e(r,a,i,n,r.tickDirection)},axisName:function(r,e,t,n,a,i,s,o){var l=t.ensureRecord(n);e.nameEl&&(a.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var c=r.axisName;if(NU(c)){var u=r.nameLocation,f=r.nameDirection,h=n.getModel("nameTextStyle"),d=n.get("nameGap")||0,v=n.axis.getExtent(),g=n.axis.inverse?-1:1,m=new ir(0,0),y=new ir(0,0);u==="start"?(m.x=v[0]-g*d,y.x=-g):u==="end"?(m.x=v[1]+g*d,y.x=g):(m.x=(v[0]+v[1])/2,m.y=r.labelOffset+f*d,y.y=f);var b=$i();y.transform(up(b,b,r.rotation));var S=n.get("nameRotate");S!=null&&(S=S*O0/180);var A,E;I_(u)?A=el.innerTextLayout(r.rotation,S??r.rotation,f):(A=u7e(r.rotation,u,S||0,v),E=r.raw.axisNameAvailableWidth,E!=null&&(E=Math.abs(E/Math.sin(A.rotation)),!isFinite(E)&&(E=null)));var M=h.getFont(),R=n.get("nameTruncate",!0)||{},L=R.ellipsis,I=bs(r.raw.nameTruncateMaxWidth,R.maxWidth,E),O=o.nameMarginLevel||0,P=new Kr({x:m.x,y:m.y,rotation:A.rotation,silent:el.isLabelSilent(n),style:Kn(h,{text:c,font:M,overflow:"truncate",width:I,ellipsis:L,fill:h.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:h.get("align")||A.textAlign,verticalAlign:h.get("verticalAlign")||A.textVerticalAlign}),z2:1});if(hp({el:P,componentModel:n,itemName:c}),P.__fullText=c,P.anid="name",n.get("triggerEvent")){var k=el.makeAxisEventDataBase(n);k.targetType="axisName",k.name=c,or(P).eventData=k}i.add(P),P.updateTransform(),e.nameEl=P;var U=l.nameLayout=Eh({label:P,priority:P.z2,defaultAttr:{ignore:P.ignore},marginDefault:I_(u)?i7e[O]:s7e[O]});if(l.nameLocation=u,a.add(P),P.decomposeTransform(),r.shouldNameMoveOverlap&&U){var F=t.ensureRecord(n);t.resolveAxisNameOverlap(r,t,n,U,y,F)}}}};function qq(r,e,t,n,a,i,s,o){Cce(e)||v7e(r,e,a,o,n,s);var l=e.labelLayoutList;g7e(r,n,l,i),x7e(n,r.rotation,l);var c=r.optionHideOverlap;f7e(n,l,c),c&&zle(fn(l,function(u){return u&&!u.label.ignore})),o7e(r,t,n,l)}function u7e(r,e,t,n){var a=uF(t-r),i,s,o=n[0]>n[1],l=e==="start"&&!o||e!=="start"&&o;return A_(a-O0/2)?(s=l?"bottom":"top",i="center"):A_(a-O0*1.5)?(s=l?"top":"bottom",i="center"):(s="middle",a<O0*1.5&&a>O0/2?i=l?"left":"right":i=l?"right":"left"),{rotation:a,textAlign:i,textVerticalAlign:s}}function f7e(r,e,t){if(ble(r.axis))return;function n(o,l,c){var u=Eh(e[l]),f=Eh(e[c]);if(!(!u||!f)){if(o===!1||u.suggestIgnore){sw(u.label);return}if(f.suggestIgnore){sw(f.label);return}var h=.1;if(!t){var d=[0,0,0,0];u=mB({marginForce:d},u),f=mB({marginForce:d},f)}dL(u,f,null,{touchThreshold:h})&&sw(o?f.label:u.label)}}var a=r.get(["axisLabel","showMinLabel"]),i=r.get(["axisLabel","showMaxLabel"]),s=e.length;n(a,0,1),n(i,s-1,s-2)}function h7e(r,e,t){r.showMinorTicks||te(e,function(n){if(n&&n.label.ignore)for(var a=0;a<t.length;a++){var i=t[a],s=Sce(i),o=k_(n.label);if(s.tickValue!=null&&!s.onBand&&s.tickValue===o.tickValue){sw(i);return}}})}function sw(r){r&&(r.ignore=!0)}function Mce(r,e,t,n,a){for(var i=[],s=[],o=[],l=0;l<r.length;l++){var c=r[l].coord;s[0]=c,s[1]=0,o[0]=c,o[1]=t,e&&(Ya(s,s,e),Ya(o,o,e));var u=new ai({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});C_(u.shape,u.style.lineWidth),u.anid=a+"_"+r[l].tickValue,i.push(u);var f=Sce(u);f.onBand=!!r[l].onBand,f.tickValue=r[l].tickValue}return i}function d7e(r,e,t,n){var a=n.axis,i=n.getModel("axisTick"),s=i.get("show");if(s==="auto"&&(s=!0,r.raw.axisTickAutoShow!=null&&(s=!!r.raw.axisTickAutoShow)),!s||a.scale.isBlank())return[];for(var o=i.getModel("lineStyle"),l=r.tickDirection*i.get("length"),c=a.getTicksCoords(),u=Mce(c,t.transform,l,rr(o.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<u.length;f++)e.add(u[f]);return u}function p7e(r,e,t,n,a){var i=n.axis,s=n.getModel("minorTick");if(!(!r.showMinorTicks||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var l=s.getModel("lineStyle"),c=a*s.get("length"),u=rr(l.getLineStyle(),rr(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),f=0;f<o.length;f++)for(var h=Mce(o[f],t.transform,c,u,"minorticks_"+f),d=0;d<h.length;d++)e.add(h[d])}}function Zq(r,e,t){if(Cce(r)){var n=r.axisLabelsCreationContext,a=n.out.noPxChangeTryDetermine;if(t.noPxChange){for(var i=!0,s=0;s<a.length;s++)i=i&&a[s]();if(i)return!1}a.length&&(e.remove(r.labelGroup),EB(r,null,null,null))}return!0}function v7e(r,e,t,n,a,i){var s=a.axis,o=bs(r.raw.axisLabelShow,a.get(["axisLabel","show"])),l=new er;t.add(l);var c=hN(n);if(!o||s.scale.isBlank()){EB(e,[],l,c);return}var u=a.getModel("axisLabel"),f=s.getViewLabels(c),h=(bs(r.raw.labelRotate,u.get("rotate"))||0)*O0/180,d=el.innerTextLayout(r.rotation,h,r.labelDirection),v=a.getCategories&&a.getCategories(!0),g=[],m=a.get("triggerEvent"),y=1/0,b=-1/0;te(f,function(A,E){var M,R=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(A.tickValue):A.tickValue,L=A.formattedLabel,I=A.rawLabel,O=u;if(v&&v[R]){var P=v[R];nr(P)&&P.textStyle&&(O=new zr(P.textStyle,u,a.ecModel))}var k=O.getTextColor()||a.get(["axisLine","lineStyle","color"]),U=O.getShallow("align",!0)||d.textAlign,F=Gt(O.getShallow("alignMinLabel",!0),U),q=Gt(O.getShallow("alignMaxLabel",!0),U),H=O.getShallow("verticalAlign",!0)||O.getShallow("baseline",!0)||d.textVerticalAlign,Z=Gt(O.getShallow("verticalAlignMinLabel",!0),H),X=Gt(O.getShallow("verticalAlignMaxLabel",!0),H),Y=10+(((M=A.time)===null||M===void 0?void 0:M.level)||0);y=Math.min(y,Y),b=Math.max(b,Y);var re=new Kr({x:0,y:0,rotation:0,silent:el.isLabelSilent(a),z2:Y,style:Kn(O,{text:L,align:E===0?F:E===f.length-1?q:U,verticalAlign:E===0?Z:E===f.length-1?X:H,fill:Yt(k)?k(s.type==="category"?I:s.type==="value"?R+"":R,E):k})});re.anid="label_"+R;var W=k_(re);if(W.break=A.break,W.tickValue=R,W.layoutRotation=d.rotation,hp({el:re,componentModel:a,itemName:L,formatterParamsExtra:{isTruncated:function(){return re.isTruncated},value:I,tickIndex:E}}),m){var j=el.makeAxisEventDataBase(a);j.targetType="axisLabel",j.value=I,j.tickIndex=E,A.break&&(j.break={start:A.break.parsedBreak.vmin,end:A.break.parsedBreak.vmax}),s.type==="category"&&(j.dataIndex=R),or(re).eventData=j,A.break&&y7e(a,i,re,A.break)}g.push(re),l.add(re)});var S=ft(g,function(A){return{label:A,priority:k_(A).break?A.z2+(b-y+1):A.z2,defaultAttr:{ignore:A.ignore}}});EB(e,S,l,c)}function Cce(r){return!!r.labelLayoutList}function EB(r,e,t,n){r.labelLayoutList=e,r.labelGroup=t,r.axisLabelsCreationContext=n}function g7e(r,e,t,n){var a=e.get(["axisLabel","margin"]);te(t,function(i,s){var o=Eh(i);if(o){var l=o.label,c=k_(l);o.suggestIgnore=l.ignore,l.ignore=!1,GR(bd,m7e),bd.x=e.axis.dataToCoord(c.tickValue),bd.y=r.labelOffset+r.labelDirection*a,bd.rotation=c.layoutRotation,n.add(bd),bd.updateTransform(),n.remove(bd),bd.decomposeTransform(),GR(l,bd),l.markRedraw(),gN(o,!0),Eh(o)}})}var bd=new Nr,m7e=new Nr;function NU(r){return!!r}function y7e(r,e,t,n){t.on("click",function(a){var i={type:vL,breaks:[{start:n.parsedBreak.breakOption.start,end:n.parsedBreak.breakOption.end}]};i[r.axis.dim+"AxisIndex"]=r.componentIndex,e.dispatchAction(i)})}function x7e(r,e,t){var n=_i();if(n){var a=n.retrieveAxisBreakPairs(t,function(s){return s&&k_(s.label).break},!0),i=r.get(["breakLabelLayout","moveOverlap"],!0);(i===!0||i==="auto")&&te(a,function(s){$A().adjustBreakLabelPair(r.axis.inverse,e,[Eh(t[s[0]]),Eh(t[s[1]])])})}}function _N(r,e,t){t=t||{};var n=e.axis,a={},i=n.getAxesOnZeroOf()[0],s=n.position,o=i?"onZero":s,l=n.dim,c=[r.x,r.x+r.width,r.y,r.y+r.height],u={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,h=l==="x"?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(i){var d=i.toGlobalCoord(i.dataToCoord(0));h[u.onZero]=Math.max(Math.min(d,h[1]),h[0])}a.position=[l==="y"?h[u[o]]:c[0],l==="x"?h[u[o]]:c[3]],a.rotation=Math.PI/2*(l==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=v[s],a.labelOffset=i?h[u[s]]-h[u.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),bs(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var g=e.get(["axisLabel","rotate"]);return a.labelRotate=o==="top"?-g:g,a.z2=1,a}function _7e(r){return r.coordinateSystem&&r.coordinateSystem.type==="cartesian2d"}function Kq(r){var e={xAxisModel:null,yAxisModel:null};return te(e,function(t,n){var a=n.replace(/Model$/,""),i=r.getReferringComponents(a,Pa).models[0];e[n]=i}),e}function b7e(r,e,t,n,a,i){for(var s=_N(r,t),o=!1,l=!1,c=0;c<e.length;c++)uB(e[c].getOtherAxis(t.axis).scale)&&(o=l=!0,t.axis.type==="category"&&t.axis.onBand&&(l=!1));return s.axisLineAutoShow=o,s.axisTickAutoShow=l,s.defaultNameMoveOverlap=i,new el(t,n,s,a)}function S7e(r,e,t){var n=_N(e,t);r.updateCfg(n)}function Dce(r,e,t){var n=op.prototype,a=n.getTicks.call(t),i=n.getTicks.call(t,{expandToNicedExtent:!0}),s=a.length-1,o=n.getInterval.call(t),l=_le(r,e),c=l.extent,u=l.fixMin,f=l.fixMax;r.type==="log"&&(c=fB(r.base,c,!0)),r.setBreaksFromOption(Sle(e)),r.setExtent(c[0],c[1]),r.calcNiceExtent({splitNumber:s,fixMin:u,fixMax:f});var h=n.getExtent.call(r);u&&(c[0]=h[0]),f&&(c[1]=h[1]);var d=n.getInterval.call(r),v=c[0],g=c[1];if(u&&f)d=(g-v)/s;else if(u)for(g=c[0]+d*s;g<c[1]&&isFinite(g)&&isFinite(c[1]);)d=Uk(d),g=c[0]+d*s;else if(f)for(v=c[1]-d*s;v>c[0]&&isFinite(v)&&isFinite(c[0]);)d=Uk(d),v=c[1]-d*s;else{var m=r.getTicks().length-1;m>s&&(d=Uk(d));var y=d*s;g=Math.ceil(c[1]/d)*d,v=ni(g-y),v<0&&c[0]>=0?(v=0,g=ni(y)):g>0&&c[1]<=0&&(g=0,v=-ni(y))}var b=(a[0].value-i[0].value)/o,S=(a[s].value-i[s].value)/o;n.setExtent.call(r,v+d*b,g+d*S),n.setInterval.call(r,d),(b||S)&&n.setNiceExtent.call(r,v+d,g-d)}var $q=[[3,1],[0,2]],w7e=(function(){function r(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=AB,this._initCartesian(e,t,n),this.model=e}return r.prototype.getRect=function(){return this._rect},r.prototype.update=function(e,t){var n=this._axesMap;this._updateScale(e,this.model);function a(s){var o,l=Yr(s),c=l.length;if(c){for(var u=[],f=c-1;f>=0;f--){var h=+l[f],d=s[h],v=d.model,g=d.scale;uB(g)&&v.get("alignTicks")&&v.get("interval")==null?u.push(d):(Qm(g,v),uB(g)&&(o=d))}u.length&&(o||(o=u.pop(),Qm(o.scale,o.model)),te(u,function(m){Dce(m.scale,m.model,o.scale)}))}}a(n.x),a(n.y);var i={};te(n.x,function(s){Jq(n,"y",s,i)}),te(n.y,function(s){Jq(n,"x",s,i)}),this.resize(this.model,t)},r.prototype.resize=function(e,t,n){var a=Pi(e,t),i=this._rect=ma(e.getBoxLayoutParams(),a.refContainer),s=this._axesMap,o=this._coordsList,l=e.get("containLabel");if(MB(s,i),!n){var c=E7e(i,o,s,l,t),u=void 0;if(l)CB?(CB(this._axesList,i),MB(s,i)):u=tZ(i.clone(),"axisLabel",null,i,s,c,a);else{var f=M7e(e,i,a),h=f.outerBoundsRect,d=f.parsedOuterBoundsContain,v=f.outerBoundsClamp;h&&(u=tZ(h,d,v,i,s,c,a))}Rce(i,s,of.determine,null,u,a)}te(this._coordsList,function(g){g.calcAffineTransform()})},r.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(n!=null)return n[t||0]},r.prototype.getAxes=function(){return this._axesList.slice()},r.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var n="x"+e+"y"+t;return this._coordsMap[n]}nr(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===e||i[a].getAxis("y").index===t)return i[a]},r.prototype.getCartesians=function(){return this._coordsList.slice()},r.prototype.convertToPixel=function(e,t,n){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.dataToPoint(n):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(n)):null},r.prototype.convertFromPixel=function(e,t,n){var a=this._findConvertTarget(t);return a.cartesian?a.cartesian.pointToData(n):a.axis?a.axis.coordToData(a.axis.toLocalCoord(n)):null},r.prototype._findConvertTarget=function(e){var t=e.seriesModel,n=e.xAxisModel||t&&t.getReferringComponents("xAxis",Pa).models[0],a=e.yAxisModel||t&&t.getReferringComponents("yAxis",Pa).models[0],i=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,br(s,o)<0&&(o=null);else if(n&&a)o=this.getCartesian(n.componentIndex,a.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(a)l=this.getAxis("y",a.componentIndex);else if(i){var c=i.coordinateSystem;c===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},r.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},r.prototype._initCartesian=function(e,t,n){var a=this,i=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",c("x"),this),t.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,te(o.x,function(u,f){te(o.y,function(h,d){var v="x"+f+"y"+d,g=new e7e(v);g.master=a,g.model=e,a._coordsMap[v]=g,a._coordsList.push(g),g.addAxis(u),g.addAxis(h)})});function c(u){return function(f,h){if(r5(f,e)){var d=f.get("position");u==="x"?d!=="top"&&d!=="bottom"&&(d=s.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=s.left?"right":"left"),s[d]=!0;var v=new xce(u,YA(f),[0,0],f.get("type"),d),g=v.type==="category";v.onBand=g&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=i,v.index=h,i._axesList.push(v),o[u][h]=v,l[u]++}}}},r.prototype._updateScale=function(e,t){te(this._axesList,function(a){if(a.scale.setExtent(1/0,-1/0),a.type==="category"){var i=a.model.get("categorySortInfo");a.scale.setSortInfo(i)}}),e.eachSeries(function(a){if(_7e(a)){var i=Kq(a),s=i.xAxisModel,o=i.yAxisModel;if(!r5(s,t)||!r5(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),c=a.getData(),u=l.getAxis("x"),f=l.getAxis("y");n(c,u),n(c,f)}},this);function n(a,i){te(fN(a,i.dim),function(s){i.scale.unionExtentFromData(a,s)})}},r.prototype.getTooltipAxes=function(e){var t=[],n=[];return te(this.getCartesians(),function(a){var i=e!=null&&e!=="auto"?a.getAxis(e):a.getBaseAxis(),s=a.getOtherAxis(i);br(t,i)<0&&t.push(i),br(n,s)<0&&n.push(s)}),{baseAxes:t,otherAxes:n}},r.create=function(e,t){var n=[];return e.eachComponent("grid",function(a,i){var s=new r(a,e,t);s.name="grid_"+i,s.resize(a,t,!0),a.coordinateSystem=s,n.push(s)}),e.eachSeries(function(a){jA({targetModel:a,coordSysType:"cartesian2d",coordSysProvider:i});function i(){var s=Kq(a),o=s.xAxisModel,l=s.yAxisModel,c=o.getCoordSysModel(),u=c.coordinateSystem;return u.getCartesian(o.componentIndex,l.componentIndex)}}),n},r.dimensions=AB,r})();function r5(r,e){return r.getCoordSysModel()===e}function Jq(r,e,t,n){t.getAxesOnZeroOf=function(){return i?[i]:[]};var a=r[e],i,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)Qq(a[l])&&(i=a[l]);else for(var c in a)if(a.hasOwnProperty(c)&&Qq(a[c])&&!n[u(a[c])]){i=a[c];break}i&&(n[u(i)]=!0);function u(f){return f.dim+"_"+f.index}}function Qq(r){return r&&r.type!=="category"&&r.type!=="time"&&vUe(r)}function T7e(r,e){var t=r.getExtent(),n=t[0]+t[1];r.toGlobalCoord=r.dim==="x"?function(a){return a+e}:function(a){return n-a+e},r.toLocalCoord=r.dim==="x"?function(a){return a-e}:function(a){return n-a+e}}function MB(r,e){te(r.x,function(t){return eZ(t,e.x,e.width)}),te(r.y,function(t){return eZ(t,e.y,e.height)})}function eZ(r,e,t){var n=[0,t],a=r.inverse?1:0;r.setExtent(n[a],n[1-a]),T7e(r,e)}var CB;function A7e(r){CB=r}function tZ(r,e,t,n,a,i,s){Rce(n,a,of.estimate,e,!1,s);var o=[0,0,0,0];c(0),c(1),u(n,0,NaN),u(n,1,NaN);var l=dv(o,function(h){return h>0})==null;return Km(n,o,!0,!0,t),MB(a,n),l;function c(h){te(a[dr[h]],function(d){if(qT(d.model)){var v=i.ensureRecord(d.model),g=v.labelInfoList;if(g)for(var m=0;m<g.length;m++){var y=g[m],b=d.scale.normalize(k_(y.label).tickValue);b=h===1?1-b:b,u(y.rect,h,b),u(y.rect,1-h,NaN)}var S=v.nameLayout;if(S){var b=I_(v.nameLocation)?.5:NaN;u(S.rect,h,b),u(S.rect,1-h,NaN)}}})}function u(h,d,v){var g=r[dr[d]]-h[dr[d]],m=h[bi[d]]+h[dr[d]]-(r[bi[d]]+r[dr[d]]);g=f(g,1-v),m=f(m,v);var y=$q[d][0],b=$q[d][1];o[y]=ri(o[y],g),o[b]=ri(o[b],m)}function f(h,d){return h>0&&!Us(d)&&d>1e-4&&(h/=d),h}}function E7e(r,e,t,n,a){var i=new wce(C7e);return te(t,function(s){return te(s,function(o){if(qT(o.model)){var l=!n;o.axisBuilder=b7e(r,e,o.model,a,i,l)}})}),i}function Rce(r,e,t,n,a,i){var s=t===of.determine;te(e,function(c){return te(c,function(u){qT(u.model)&&(S7e(u.axisBuilder,r,u.model),u.axisBuilder.build(s?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:a}))})});var o={x:0,y:0};l(0),l(1);function l(c){o[dr[1-c]]=r[bi[c]]<=i.refContainer[bi[c]]*.5?0:1-c===1?2:1}te(e,function(c,u){return te(c,function(f){qT(f.model)&&((n==="all"||s)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:o[u]}),s&&f.axisBuilder.build({axisLine:!0}))})})}function M7e(r,e,t){var n,a=r.get("outerBoundsMode",!0);a==="same"?n=e.clone():(a==null||a==="auto")&&(n=ma(r.get("outerBounds",!0)||gce,t.refContainer));var i=r.get("outerBoundsContain",!0),s;i==null||i==="auto"||br(["all","axisLabel"],i)<0?s="all":s=i;var o=[WR(Gt(r.get("outerBoundsClampWidth",!0),xN[0]),e.width),WR(Gt(r.get("outerBoundsClampHeight",!0),xN[1]),e.height)];return{outerBoundsRect:n,parsedOuterBoundsContain:s,outerBoundsClamp:o}}var C7e=function(r,e,t,n,a,i){var s=t.axis.dim==="x"?"y":"x";Tce(r,e,t,n,a,i),I_(r.nameLocation)||te(e.recordMap[s],function(o){o&&o.labelInfoList&&o.dirVec&&Ece(o.labelInfoList,o.dirVec,n,a)})};function D7e(r,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return R7e(t,r,e),t.seriesInvolved&&I7e(t,r),t}function R7e(r,e,t){var n=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),i=a.get("link",!0)||[],s=[];te(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=JT(o.model),c=r.coordSysAxesInfo[l]={};r.coordSysMap[l]=o;var u=o.model,f=u.getModel("tooltip",n);if(te(o.getAxes(),yr(g,!1,null)),o.getTooltipAxes&&n&&f.get("show")){var h=f.get("trigger")==="axis",d=f.get(["axisPointer","type"])==="cross",v=o.getTooltipAxes(f.get(["axisPointer","axis"]));(h||d)&&te(v.baseAxes,yr(g,d?"cross":!0,h)),d&&te(v.otherAxes,yr(g,"cross",!1))}function g(m,y,b){var S=b.model.getModel("axisPointer",a),A=S.get("show");if(!(!A||A==="auto"&&!m&&!DB(S))){y==null&&(y=S.get("triggerTooltip")),S=m?N7e(b,f,a,e,m,y):S;var E=S.get("snap"),M=S.get("triggerEmphasis"),R=JT(b.model),L=y||E||b.type==="category",I=r.axesInfo[R]={key:R,axis:b,coordSys:o,axisPointerModel:S,triggerTooltip:y,triggerEmphasis:M,involveSeries:L,snap:E,useHandle:DB(S),seriesModels:[],linkGroup:null};c[R]=I,r.seriesInvolved=r.seriesInvolved||L;var O=L7e(i,b);if(O!=null){var P=s[O]||(s[O]={axesInfo:{}});P.axesInfo[R]=I,P.mapper=i[O].mapper,I.linkGroup=P}}}})}function N7e(r,e,t,n,a,i){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};te(o,function(h){l[h]=Qt(s.get(h))}),l.snap=r.type!=="category"&&!!i,s.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),a==="cross"){var u=s.get(["label","show"]);if(c.show=u??!0,!i){var f=l.lineStyle=s.get("crossStyle");f&&rr(c,f.textStyle)}}return r.model.getModel("axisPointer",new zr(l,t,n))}function I7e(r,e){e.eachSeries(function(t){var n=t.coordinateSystem,a=t.get(["tooltip","trigger"],!0),i=t.get(["tooltip","show"],!0);!n||!n.model||a==="none"||a===!1||a==="item"||i===!1||t.get(["axisPointer","show"],!0)===!1||te(r.coordSysAxesInfo[JT(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function L7e(r,e){for(var t=e.model,n=e.dim,a=0;a<r.length;a++){var i=r[a]||{};if(n5(i[n+"AxisId"],t.id)||n5(i[n+"AxisIndex"],t.componentIndex)||n5(i[n+"AxisName"],t.name))return a}}function n5(r,e){return r==="all"||ct(r)&&br(r,e)>=0||r===e}function O7e(r){var e=IU(r);if(e){var t=e.axisPointerModel,n=e.axis.scale,a=t.option,i=t.get("status"),s=t.get("value");s!=null&&(s=n.parse(s));var o=DB(t);i==null&&(a.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),a.value=s,o&&(a.status=e.axis.scale.isBlank()?"hide":"show")}}function IU(r){var e=(r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[JT(r)]}function k7e(r){var e=IU(r);return e&&e.axisPointerModel}function DB(r){return!!r.get(["handle","show"])}function JT(r){return r.type+"||"+r.id}var rZ={},by=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a,i){this.axisPointerClass&&O7e(t),r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,a,!0)},e.prototype.updateAxisPointer=function(t,n,a,i){this._doUpdateAxisPointerClass(t,a,!1)},e.prototype.remove=function(t,n){var a=this._axisPointer;a&&a.remove(n)},e.prototype.dispose=function(t,n){this._disposeAxisPointer(n),r.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,a){var i=e.getAxisPointerClass(this.axisPointerClass);if(i){var s=k7e(t);s?(this._axisPointer||(this._axisPointer=new i)).render(t,s,n,a):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,n){rZ[t]=n},e.getAxisPointerClass=function(t){return t&&rZ[t]},e.type="axis",e})(Jn),RB=Pr();function Nce(r,e,t,n){var a=t.axis;if(!a.scale.isBlank()){var i=t.getModel("splitArea"),s=i.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),c=a.getTicksCoords({tickModel:i,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(c.length){var u=o.length,f=RB(r).splitAreaColors,h=Ht(),d=0;if(f)for(var v=0;v<c.length;v++){var g=f.get(c[v].tickValue);if(g!=null){d=(g+(u-1)*v)%u;break}}var m=a.toGlobalCoord(c[0].coord),y=s.getAreaStyle();o=ct(o)?o:[o];for(var v=1;v<c.length;v++){var b=a.toGlobalCoord(c[v].coord),S=void 0,A=void 0,E=void 0,M=void 0;a.isHorizontal()?(S=m,A=l.y,E=b-S,M=l.height,m=S+E):(S=l.x,A=m,E=l.width,M=b-A,m=A+M);var R=c[v-1].tickValue;R!=null&&h.set(R,d),e.add(new Nr({anid:R!=null?"area_"+R:null,shape:{x:S,y:A,width:E,height:M},style:rr({fill:o[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%u}RB(r).splitAreaColors=h}}}function Ice(r){RB(r).splitAreaColors=null}var P7e=["splitArea","splitLine","minorSplitLine","breakArea"],Lce=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,n,a,i){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new er,this.group.add(this._axisGroup),!!qT(t)){this._axisGroup.add(t.axis.axisBuilder.group),te(P7e,function(l){t.get([l,"show"])&&B7e[l](this,this._axisGroup,t,t.getCoordSysModel(),a)},this);var o=i&&i.type==="changeAxisOrder"&&i.isInitSort;o||HA(s,this._axisGroup,t),r.prototype.render.call(this,t,n,a,i)}},e.prototype.remove=function(){Ice(this)},e.type="cartesianAxis",e})(by),B7e={splitLine:function(r,e,t,n,a){var i=t.axis;if(!i.scale.isBlank()){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=s.get("showMinLine")!==!1,u=s.get("showMaxLine")!==!1;l=ct(l)?l:[l];for(var f=n.coordinateSystem.getRect(),h=i.isHorizontal(),d=0,v=i.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),g=[],m=[],y=o.getLineStyle(),b=0;b<v.length;b++){var S=i.toGlobalCoord(v[b].coord);if(!(b===0&&!c||b===v.length-1&&!u)){var A=v[b].tickValue;h?(g[0]=S,g[1]=f.y,m[0]=S,m[1]=f.y+f.height):(g[0]=f.x,g[1]=S,m[0]=f.x+f.width,m[1]=S);var E=d++%l.length,M=new ai({anid:A!=null?"line_"+A:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},style:rr({stroke:l[E]},y),silent:!0});C_(M.shape,y.lineWidth),e.add(M)}}}},minorSplitLine:function(r,e,t,n,a){var i=t.axis,s=t.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=n.coordinateSystem.getRect(),c=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var f=[],h=[],d=o.getLineStyle(),v=0;v<u.length;v++)for(var g=0;g<u[v].length;g++){var m=i.toGlobalCoord(u[v][g].coord);c?(f[0]=m,f[1]=l.y,h[0]=m,h[1]=l.y+l.height):(f[0]=l.x,f[1]=m,h[0]=l.x+l.width,h[1]=m);var y=new ai({anid:"minor_line_"+u[v][g].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:d,silent:!0});C_(y.shape,d.lineWidth),e.add(y)}},splitArea:function(r,e,t,n,a){Nce(r,e,t,n)},breakArea:function(r,e,t,n,a){var i=$A(),s=t.axis.scale;i&&s.type!=="ordinal"&&i.rectCoordBuildBreakAxis(e,r,t,n.coordinateSystem.getRect(),a)}},Oce=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(Lce),z7e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=Oce.type,t}return e.type="yAxis",e})(Lce),F7e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new Nr({shape:t.coordinateSystem.getRect(),style:rr({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(Jn),nZ={offset:0};function kce(r){r.registerComponentView(F7e),r.registerComponentModel(XVe),r.registerCoordinateSystem("cartesian2d",w7e),O_(r,"x",wB,nZ),O_(r,"y",wB,nZ),r.registerComponentView(Oce),r.registerComponentView(z7e),r.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function U7e(r,e){var t=r.coordinateSystem,n=t&&t.type,a=t&&t.getBaseAxis&&t.getBaseAxis(),i=a&&a.scale&&a.scale.type,s=n==="cartesian2d"&&i==="ordinal"||n==="single",o=e.model.get("jitter")>0;return s&&o}var V7e=Pr();function aZ(r,e,t,n){if(r instanceof xce){var a=r.scale.type;if(a!=="category"&&a!=="ordinal")return t}var i=r.model,s=i.get("jitter"),o=i.get("jitterOverlap"),l=i.get("jitterMargin")||0,c=r.scale.type==="ordinal"?r.getBandWidth():null;return s>0?o?Pce(t,s,c,n):H7e(r,e,t,n,s,l):t}function Pce(r,e,t,n){if(t===null)return r+(Math.random()-.5)*e;var a=t-n*2,i=Math.min(Math.max(0,e),a);return r+(Math.random()-.5)*i}function H7e(r,e,t,n,a,i){var s=V7e(r);s.items||(s.items=[]);var o=s.items,l=iZ(o,e,t,n,a,i,1),c=iZ(o,e,t,n,a,i,-1),u=Math.abs(l-t)<Math.abs(c-t)?l:c,f=r.scale.type==="ordinal"?r.getBandWidth():null,h=Math.abs(u-t);return h>a/2||f&&h>f/2-n?Pce(t,a,f,n):(o.push({fixedCoord:e,floatCoord:u,r:n}),u)}function iZ(r,e,t,n,a,i,s){for(var o=t,l=0;l<r.length;l++){var c=r[l],u=e-c.fixedCoord,f=o-c.floatCoord,h=u*u+f*f,d=n+c.r+i;if(h<d*d){var v=c.floatCoord+Math.sqrt(d*d-u*u)*s;if(Math.abs(v-t)>a/2)return Number.MAX_VALUE;if(s===1&&v>o||s===-1&&v<o){o=v,l=-1;continue}}}return o}function G7e(r){r.eachSeriesByType("scatter",function(e){var t=e.coordinateSystem;if(t&&(t.type==="cartesian2d"||t.type==="single")){var n=t.getBaseAxis?t.getBaseAxis():null,a=n&&U7e(e,n);if(a){var i=e.getData();i.each(function(s){var o=n.dim,l=n.orient,c=l==="horizontal"&&n.type!=="category"||l==="vertical"&&n.type==="category",u=i.getItemLayout(s),f=i.getItemVisual(s,"symbolSize"),h=f instanceof Array?(f[1]+f[0])/2:f;if(o==="y"||o==="single"&&c){var d=aZ(n,u[0],u[1],h/2);i.setItemLayout(s,[u[0],d])}else if(o==="x"||o==="single"&&!c){var d=aZ(n,u[1],u[0],h/2);i.setItemLayout(s,[d,u[1]])}})}}})}function j7e(r){Mr(kce),r.registerSeriesModel(HVe),r.registerChartView(YVe),r.registerLayout(KA("scatter"))}function W7e(r){r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,G7e)}function Y7e(r){r.eachSeriesByType("radar",function(e){var t=e.getData(),n=[],a=e.coordinateSystem;if(a){var i=a.getIndicatorAxes();te(i,function(s,o){t.each(t.mapDimension(i[o].dim),function(l,c){n[c]=n[c]||[];var u=a.dataToPoint(l,o);n[c][o]=sZ(u)?u:oZ(a)})}),t.each(function(s){var o=dv(n[s],function(l){return sZ(l)})||oZ(a);n[s].push(o.slice()),t.setItemLayout(s,n[s])})}})}function sZ(r){return!isNaN(r[0])&&!isNaN(r[1])}function oZ(r){return[r.cx,r.cy]}function X7e(r){var e=r.polar;if(e){ct(e)||(e=[e]);var t=[];te(e,function(n,a){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],ct(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):t.push(n)}),r.polar=t}te(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var q7e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=t.coordinateSystem,s=this.group,o=t.getData(),l=this._data;function c(h,d){var v=h.getItemVisual(d,"symbol")||"circle";if(v!=="none"){var g=pb(h.getItemVisual(d,"symbolSize")),m=oi(v,-1,-1,2,2),y=h.getItemVisual(d,"symbolRotate")||0;return m.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:y*Math.PI/180||0}),m}}function u(h,d,v,g,m,y){v.removeAll();for(var b=0;b<d.length-1;b++){var S=c(g,m);S&&(S.__dimIdx=b,h[b]?(S.setPosition(h[b]),my[y?"initProps":"updateProps"](S,{x:d[b][0],y:d[b][1]},t,m)):S.setPosition(d[b]),v.add(S))}}function f(h){return ft(h,function(d){return[i.cx,i.cy]})}o.diff(l).add(function(h){var d=o.getItemLayout(h);if(d){var v=new js,g=new ws,m={shape:{points:d}};v.shape.points=f(d),g.shape.points=f(d),ca(v,m,t,h),ca(g,m,t,h);var y=new er,b=new er;y.add(g),y.add(v),y.add(b),u(g.shape.points,d,b,o,h,!0),o.setItemGraphicEl(h,y)}}).update(function(h,d){var v=l.getItemGraphicEl(d),g=v.childAt(0),m=v.childAt(1),y=v.childAt(2),b={shape:{points:o.getItemLayout(h)}};b.shape.points&&(u(g.shape.points,b.shape.points,y,o,h,!1),tu(m),tu(g),nn(g,b,t),nn(m,b,t),o.setItemGraphicEl(h,v))}).remove(function(h){s.remove(l.getItemGraphicEl(h))}).execute(),o.eachItemGraphicEl(function(h,d){var v=o.getItemModel(d),g=h.childAt(0),m=h.childAt(1),y=h.childAt(2),b=o.getItemVisual(d,"style"),S=b.fill;s.add(h),g.useStyle(rr(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),Oi(g,v,"lineStyle"),Oi(m,v,"areaStyle");var A=v.getModel("areaStyle"),E=A.isEmpty()&&A.parentModel.isEmpty();m.ignore=E,te(["emphasis","select","blur"],function(R){var L=v.getModel([R,"areaStyle"]),I=L.isEmpty()&&L.parentModel.isEmpty();m.ensureState(R).ignore=I&&E;var O=v.getModel([R,"lineStyle"]).getLineStyle();g.ensureState(R).style=O;var P=L.getAreaStyle();m.ensureState(R).style=P;var k=v.getModel([R,"itemStyle"]).getItemStyle();y.eachChild(function(U){U.ensureState(R).style=Qt(k)})}),m.useStyle(rr(v.getModel("areaStyle").getAreaStyle(),{fill:S,opacity:.7,decal:b.decal}));var M=v.getModel("emphasis");y.eachChild(function(R){if(R instanceof ns){var L=R.style;R.useStyle(nt({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},b))}else R.useStyle(b),R.setColor(S),R.style.strokeNoScale=!0;var I=o.getStore().get(o.getDimensionIndex(R.__dimIdx),d);(I==null||isNaN(I))&&(I=""),rs(R,ki(v),{labelFetcher:o.hostModel,labelDataIndex:d,labelDimIndex:R.__dimIdx,defaultText:I,inheritColor:S,defaultOpacity:b.opacity})}),Sa(h,M.get("focus"),M.get("blurScope"),M.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e})(Ln),Z7e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new _b(Ot(this.getData,this),Ot(this.getRawData,this))},e.prototype.getInitialData=function(t,n){return xb(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,n,a){var i=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(t),c=l===""?this.name:l,u=goe(this,t);return Si("section",{header:c,sortBlocks:!0,blocks:ft(o,function(f){var h=i.get(i.mapDimension(f.dim),t);return Si("nameValue",{markerType:"subItem",markerColor:u,name:f.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var n=this.getData(),a=this.coordinateSystem,i=n.getValues(ft(a.dimensions,function(c){return n.mapDimension(c)}),t),s=0,o=i.length;s<o;s++)if(!isNaN(i[s])){var l=a.getIndicatorAxes();return a.coordToPoint(l[s].dataToCoord(i[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e})(Hn),M2=yce.value;function _3(r,e){return rr({show:e},r)}var K7e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),n=this.get("splitNumber"),a=this.get("scale"),i=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),c=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),h=this.get("triggerEvent"),d=ft(this.get("indicator")||[],function(v){v.max!=null&&v.max>0&&!v.min?v.min=0:v.min!=null&&v.min<0&&!v.max&&(v.max=0);var g=l;v.color!=null&&(g=rr({color:v.color},l));var m=Sr(Qt(v),{boundaryGap:t,splitNumber:n,scale:a,axisLine:i,axisTick:s,axisLabel:o,name:v.text,showName:c,nameLocation:"end",nameGap:f,nameTextStyle:g,triggerEvent:h},!1);if(It(u)){var y=m.name;m.name=u.replace("{value}",y??"")}else Yt(u)&&(m.name=u(m.name,m));var b=new zr(m,null,this.ecModel);return Xa(b,mb.prototype),b.mainType="radar",b.componentIndex=this.componentIndex,b},this);this._indicatorModels=d},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:We.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Sr({lineStyle:{color:We.color.neutral20}},M2.axisLine),axisLabel:_3(M2.axisLabel,!1),axisTick:_3(M2.axisTick,!1),splitLine:_3(M2.splitLine,!0),splitArea:_3(M2.splitArea,!0),indicator:[]},e})(kr),$7e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=this.group;i.removeAll(),this._buildAxes(t,a),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t,n){var a=t.coordinateSystem,i=a.getIndicatorAxes(),s=ft(i,function(o){var l=o.model.get("showName")?o.name:"",c=new el(o.model,n,{axisName:l,position:[a.cx,a.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return c});te(s,function(o){o.build(),this.group.add(o.group)},this)},e.prototype._buildSplitLineAndArea=function(t){var n=t.coordinateSystem,a=n.getIndicatorAxes();if(!a.length)return;var i=t.get("shape"),s=t.getModel("splitLine"),o=t.getModel("splitArea"),l=s.getModel("lineStyle"),c=o.getModel("areaStyle"),u=s.get("show"),f=o.get("show"),h=l.get("color"),d=c.get("color"),v=ct(h)?h:[h],g=ct(d)?d:[d],m=[],y=[];function b(q,H,Z){var X=Z%H.length;return q[X]=q[X]||[],X}if(i==="circle")for(var S=a[0].getTicksCoords(),A=n.cx,E=n.cy,M=0;M<S.length;M++){if(u){var R=b(m,v,M);m[R].push(new Lh({shape:{cx:A,cy:E,r:S[M].coord}}))}if(f&&M<S.length-1){var R=b(y,g,M);y[R].push(new ab({shape:{cx:A,cy:E,r0:S[M].coord,r:S[M+1].coord}}))}}else for(var L,I=ft(a,function(q,H){var Z=q.getTicksCoords();return L=L==null?Z.length-1:Math.min(Z.length-1,L),ft(Z,function(X){return n.coordToPoint(X.coord,H)})}),O=[],M=0;M<=L;M++){for(var P=[],k=0;k<a.length;k++)P.push(I[k][M]);if(P[0]&&P.push(P[0].slice()),u){var R=b(m,v,M);m[R].push(new ws({shape:{points:P}}))}if(f&&O){var R=b(y,g,M-1);y[R].push(new js({shape:{points:P.concat(O)}}))}O=P.slice().reverse()}var U=l.getLineStyle(),F=c.getAreaStyle();te(y,function(q,H){this.group.add(Kl(q,{style:rr({stroke:"none",fill:g[H%g.length]},F),silent:!0}))},this),te(m,function(q,H){this.group.add(Kl(q,{style:rr({fill:"none",stroke:v[H%v.length]},U),silent:!0}))},this)},e.type="radar",e})(Jn),J7e=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this,t,n,a)||this;return i.type="value",i.angle=0,i.name="",i}return e})(su),Q7e=(function(){function r(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=ft(e.getIndicatorModels(),function(a,i){var s="indicator_"+i,o=new J7e(s,new op);return o.name=a.get("name"),o.model=a,a.axis=o,this.dimensions.push(s),o},this),this.resize(e,n)}return r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},r.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},r.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t],a=n.angle,i=this.cx+e*Math.cos(a),s=this.cy-e*Math.sin(a);return[i,s]},r.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,a=Math.sqrt(t*t+n*n);t/=a,n/=a;for(var i=Math.atan2(-n,t),s=1/0,o,l=-1,c=0;c<this._indicatorAxes.length;c++){var u=this._indicatorAxes[c],f=Math.abs(i-u.angle);f<s&&(o=u,l=c,s=f)}return[l,+(o&&o.coordToData(a))]},r.prototype.resize=function(e,t){var n=Pi(e,t).refContainer,a=e.get("center"),i=Math.min(n.width,n.height)/2;this.cx=Nt(a[0],n.width)+n.x,this.cy=Nt(a[1],n.height)+n.y,this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(It(s)||$r(s))&&(s=[0,s]),this.r0=Nt(s[0],i),this.r=Nt(s[1],i),te(this._indicatorAxes,function(o,l){o.setExtent(this.r0,this.r);var c=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),o.angle=c},this)},r.prototype.update=function(e,t){var n=this._indicatorAxes,a=this._model;te(n,function(o){o.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||e.getComponent("radar",o.get("radarIndex"))!==a)){var c=o.getData();te(n,function(u){u.scale.unionExtentFromData(c,c.mapDimension(u.dim))})}},this);var i=a.get("splitNumber"),s=new op;s.setExtent(0,i),s.setInterval(1),te(n,function(o,l){Dce(o.scale,o.model,s)})},r.prototype.convertToPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.convertFromPixel=function(e,t,n){return console.warn("Not implemented."),null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.create=function(e,t){var n=[];return e.eachComponent("radar",function(a){var i=new r(a,e,t);n.push(i),a.coordinateSystem=i}),e.eachSeriesByType("radar",function(a){a.get("coordinateSystem")==="radar"&&(a.coordinateSystem=n[a.get("radarIndex")||0])}),n},r.dimensions=[],r})();function eHe(r){r.registerCoordinateSystem("radar",Q7e),r.registerComponentModel(K7e),r.registerComponentView($7e),r.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(n){t.setItemVisual(n,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function tHe(r){Mr(eHe),r.registerChartView(q7e),r.registerSeriesModel(Z7e),r.registerLayout(Y7e),r.registerProcessor(yb("radar")),r.registerPreprocessor(X7e)}var LU=Pr();function rHe(r,e,t){LU(r)[e]=t}function nHe(r,e,t){var n=LU(r),a=n[e];a===t&&(n[e]=null)}function lZ(r,e){return!!LU(r)[e]}uf({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Wa);var aHe={axisPointer:1,tooltip:1,brush:1};function Bce(r,e,t){var n=e.getComponentByElement(r.topTarget);if(!n||n===t||aHe.hasOwnProperty(n.mainType))return!1;var a=n.coordinateSystem;if(!a||a.model===t)return!1;var i=$m(n),s=$m(t);return!((i.zlevel-s.zlevel||i.z-s.z)<=0)}var Sy=(function(r){Ye(e,r);function e(t){var n=r.call(this)||this;n._zr=t;var a=Ot(n._mousedownHandler,n),i=Ot(n._mousemoveHandler,n),s=Ot(n._mouseupHandler,n),o=Ot(n._mousewheelHandler,n),l=Ot(n._pinchHandler,n);return n.enable=function(c,u){var f=u.zInfo,h=$m(f.component),d=h.z,v=h.zlevel,g={component:f.component,z:d,zlevel:v,z2:Gt(f.z2,-1/0)},m=nt({},u.triggerInfo);this._opt=rr(nt({},u),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:g,triggerInfo:m}),c==null&&(c=!0),(!this._enabled||this._controlType!==c)&&(this._enabled=!0,this.disable(),(c===!0||c==="move"||c==="pan")&&(D2(t,"mousedown",a,g),D2(t,"mousemove",i,g),D2(t,"mouseup",s,g)),(c===!0||c==="scale"||c==="zoom")&&(D2(t,"mousewheel",o,g),D2(t,"pinch",l,g)))},n.disable=function(){this._enabled=!1,R2(t,"mousedown",a),R2(t,"mousemove",i),R2(t,"mouseup",s),R2(t,"mousewheel",o),R2(t,"pinch",l)},n}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype._checkPointer=function(t,n,a){var i=this._opt,s=i.zInfoParsed;if(Bce(t,i.api,s.component))return!1;var o=i.triggerInfo,l=o.roamTrigger,c=!1;return l==="global"&&(c=!0),c||(c=o.isInSelf(t,n,a)),c&&o.isInClip&&!o.isInClip(t,n,a)&&(c=!1),c},e.prototype._decideCursorStyle=function(t,n,a,i){var s=t.target;if(!s&&this._checkPointer(t,n,a))return"grab";if(i)return s&&s.cursor||"default"},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(DW(t)||C2(t))){for(var n=t.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var a=t.offsetX,i=t.offsetY;this._checkPointer(t,a,i)&&(this._x=a,this._y=i,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){var n=this._zr;if(!(t.gestureEvent==="pinch"||lZ(n,"globalPan")||C2(t))){var a=t.offsetX,i=t.offsetY;if(!this._dragging||!fD("moveOnMouseMove",t,this._opt)){var s=this._decideCursorStyle(t,a,i,!1);s&&n.setCursorStyle(s);return}n.setCursorStyle("grabbing");var o=this._x,l=this._y,c=a-o,u=i-l;this._x=a,this._y=i,this._opt.preventDefaultMouseMove&&rp(t.event),t.__ecRoamConsumed=!0,cZ(this,"pan","moveOnMouseMove",t,{dx:c,dy:u,oldX:o,oldY:l,newX:a,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){if(!C2(t)){var n=this._zr;if(!DW(t)){this._dragging=!1;var a=this._decideCursorStyle(t,t.offsetX,t.offsetY,!0);a&&n.setCursorStyle(a)}}},e.prototype._mousewheelHandler=function(t){if(!C2(t)){var n=fD("zoomOnMouseWheel",t,this._opt),a=fD("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,s=Math.abs(i),o=t.offsetX,l=t.offsetY;if(!(i===0||!n&&!a)){if(n){var c=s>3?1.4:s>1?1.2:1.1,u=i>0?c:1/c;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",t,{scale:u,originX:o,originY:l,isAvailableBehavior:null})}if(a){var f=Math.abs(i),h=(i>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:h,originX:o,originY:l,isAvailableBehavior:null})}}}},e.prototype._pinchHandler=function(t){if(!(lZ(this._zr,"globalPan")||C2(t))){var n=t.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,t,{scale:n,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e.prototype._checkTriggerMoveZoom=function(t,n,a,i,s){t._checkPointer(i,s.originX,s.originY)&&(rp(i.event),i.__ecRoamConsumed=!0,cZ(t,n,a,i,s))},e})(au);function C2(r){return r.__ecRoamConsumed}var iHe=Pr();function gL(r){var e=iHe(r);return e.roam=e.roam||{},e.uniform=e.uniform||{},e}function D2(r,e,t,n){for(var a=gL(r),i=a.roam,s=i[e]=i[e]||[],o=0;o<s.length;o++){var l=s[o].zInfoParsed;if((l.zlevel-n.zlevel||l.z-n.z||l.z2-n.z2)<=0)break}s.splice(o,0,{listener:t,zInfoParsed:n}),sHe(r,e)}function R2(r,e,t){for(var n=gL(r),a=n.roam[e]||[],i=0;i<a.length;i++)if(a[i].listener===t){a.splice(i,1),a.length||oHe(r,e);return}}function sHe(r,e){var t=gL(r);t.uniform[e]||r.on(e,t.uniform[e]=function(n){var a=t.roam[e];if(a)for(var i=0;i<a.length;i++)a[i].listener(n)})}function oHe(r,e){var t=gL(r),n=t.uniform;n[e]&&(r.off(e,n[e]),n[e]=null)}function cZ(r,e,t,n,a){a.isAvailableBehavior=Ot(fD,null,t,n),r.trigger(e,a)}function fD(r,e,t){var n=t[r];return!r||n&&(!It(n)||e.event[n+"Key"])}function OU(r,e,t){var n=r.target;n.x+=e,n.y+=t,n.dirty()}function kU(r,e,t,n){var a=r.target,i=r.zoomLimit,s=r.zoom=r.zoom||1;s*=e,s=PU(s,i);var o=s/r.zoom;r.zoom=s,Fce(a,t,n,o),a.dirty()}function zce(r,e,t,n,a,i){var s=new sr(0,0,0,0);n.enable(r.get("roam"),{api:e,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(c,u,f){return s.copy(t.getBoundingRect()),s.applyTransform(t.getComputedTransform()),s.contain(u,f)},isInClip:function(c,u,f){return!i||i.contain(u,f)}}}),a.zoomLimit=r.get("scaleLimit");var o=r.coordinateSystem;a.zoom=o?o.getZoom():1;var l=r.subType+"Roam";n.off("pan").off("zoom").on("pan",function(c){OU(a,c.dx,c.dy),e.dispatchAction({seriesId:r.id,type:l,dx:c.dx,dy:c.dy})}).on("zoom",function(c){kU(a,c.scale,c.originX,c.originY),e.dispatchAction({seriesId:r.id,type:l,zoom:c.scale,originX:c.originX,originY:c.originY}),e.updateLabelLayout()})}function uZ(r,e){return r.pointToProjected?r.pointToProjected(e):r.pointToData(e)}function mL(r,e,t){var n=r.getZoom(),a=r.getCenter(),i=e.zoom,s=r.projectedToPoint?r.projectedToPoint(a):r.dataToPoint(a);return e.dx!=null&&e.dy!=null&&(s[0]-=e.dx,s[1]-=e.dy,r.setCenter(uZ(r,s))),i!=null&&(i=PU(n*i,t)/n,Fce(r,e.originX,e.originY,i),r.updateTransform(),r.setCenter(uZ(r,s)),r.setZoom(i*n)),{center:r.getCenter(),zoom:r.getZoom()}}function Fce(r,e,t,n){r.x-=(e-r.x)*(n-1),r.y-=(t-r.y)*(n-1),r.scaleX*=n,r.scaleY*=n}function PU(r,e){if(e){var t=e.min||0,n=e.max||1/0;r=Math.max(Math.min(n,r),t)}return r}function Uce(r){if(It(r)){var e=new DOMParser;r=e.parseFromString(r,"text/xml")}var t=r;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var a5,bN={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},fZ=Yr(bN),SN={"alignment-baseline":"textBaseline","stop-color":"stopColor"},hZ=Yr(SN),lHe=(function(){function r(){this._defs={},this._root=null}return r.prototype.parse=function(e,t){t=t||{};var n=Uce(e);this._defsUsePending=[];var a=new er;this._root=a;var i=[],s=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||t.width),l=parseFloat(n.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),Gl(n,a,null,!0,!1);for(var c=n.firstChild;c;)this._parseNode(c,a,i,null,!1,!1),c=c.nextSibling;fHe(this._defs,this._defsUsePending),this._defsUsePending=[];var u,f;if(s){var h=yL(s);h.length>=4&&(u={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(u&&o!=null&&l!=null&&(f=Hce(u,{x:0,y:0,width:o,height:l}),!t.ignoreViewBox)){var d=a;a=new er,a.add(d),d.scaleX=d.scaleY=f.scale,d.x=f.x,d.y=f.y}return!t.ignoreRootClip&&o!=null&&l!=null&&a.setClipPath(new Nr({shape:{x:0,y:0,width:o,height:l}})),{root:a,width:o,height:l,viewBoxRect:u,viewBoxTransform:f,named:i}},r.prototype._parseNode=function(e,t,n,a,i,s){var o=e.nodeName.toLowerCase(),l,c=a;if(o==="defs"&&(i=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=t;else{if(!i){var u=a5[o];if(u&&Ut(a5,o)){l=u.call(this,e,t);var f=e.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:o,el:l};n.push(h),o==="g"&&(c=h)}else a&&n.push({name:a.name,namedFrom:a,svgNodeTagLower:o,el:l});t.add(l)}}var d=dZ[o];if(d&&Ut(dZ,o)){var v=d.call(this,e),g=e.getAttribute("id");g&&(this._defs[g]=v)}}if(l&&l.isGroup)for(var m=e.firstChild;m;)m.nodeType===1?this._parseNode(m,l,n,c,i,s):m.nodeType===3&&s&&this._parseText(m,l),m=m.nextSibling},r.prototype._parseText=function(e,t){var n=new E_({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});kc(t,n),Gl(e,n,this._defsUsePending,!1,!1),cHe(n,t);var a=n.style,i=a.fontSize;i&&i<9&&(a.fontSize=9,n.scaleX*=i/9,n.scaleY*=i/9);var s=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");a.font=s;var o=n.getBoundingRect();return this._textX+=o.width,t.add(n),n},r.internalField=(function(){a5={g:function(e,t){var n=new er;return kc(t,n),Gl(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new Nr;return kc(t,n),Gl(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(e,t){var n=new Lh;return kc(t,n),Gl(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),n.silent=!0,n},line:function(e,t){var n=new ai;return kc(t,n),Gl(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(e,t){var n=new FA;return kc(t,n),Gl(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(e,t){var n=e.getAttribute("points"),a;n&&(a=gZ(n));var i=new js({shape:{points:a||[]},silent:!0});return kc(t,i),Gl(e,i,this._defsUsePending,!1,!1),i},polyline:function(e,t){var n=e.getAttribute("points"),a;n&&(a=gZ(n));var i=new ws({shape:{points:a||[]},silent:!0});return kc(t,i),Gl(e,i,this._defsUsePending,!1,!1),i},image:function(e,t){var n=new ns;return kc(t,n),Gl(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute("x")||"0",a=e.getAttribute("y")||"0",i=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(s);var o=new er;return kc(t,o),Gl(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,t){var n=e.getAttribute("x"),a=e.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),a!=null&&(this._textY=parseFloat(a));var i=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",o=new er;return kc(t,o),Gl(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(s),o},path:function(e,t){var n=e.getAttribute("d")||"",a=ase(n);return kc(t,a),Gl(e,a,this._defsUsePending,!1,!1),a.silent=!0,a}}})(),r})(),dZ={lineargradient:function(r){var e=parseInt(r.getAttribute("x1")||"0",10),t=parseInt(r.getAttribute("y1")||"0",10),n=parseInt(r.getAttribute("x2")||"10",10),a=parseInt(r.getAttribute("y2")||"0",10),i=new gy(e,t,n,a);return pZ(r,i),vZ(r,i),i},radialgradient:function(r){var e=parseInt(r.getAttribute("cx")||"0",10),t=parseInt(r.getAttribute("cy")||"0",10),n=parseInt(r.getAttribute("r")||"0",10),a=new AF(e,t,n);return pZ(r,a),vZ(r,a),a}};function pZ(r,e){var t=r.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function vZ(r,e){for(var t=r.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var n=t.getAttribute("offset"),a=void 0;n&&n.indexOf("%")>0?a=parseInt(n,10)/100:n?a=parseFloat(n):a=0;var i={};Vce(t,i,i);var s=i.stopColor||t.getAttribute("stop-color")||"#000000",o=i.stopOpacity||t.getAttribute("stop-opacity");if(o){var l=_o(s),c=l&&l[3];c&&(l[3]*=Gd(o),s=qc(l,"rgba"))}e.colorStops.push({offset:a,color:s})}t=t.nextSibling}}function kc(r,e){r&&r.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),rr(e.__inheritedStyle,r.__inheritedStyle))}function gZ(r){for(var e=yL(r),t=[],n=0;n<e.length;n+=2){var a=parseFloat(e[n]),i=parseFloat(e[n+1]);t.push([a,i])}return t}function Gl(r,e,t,n,a){var i=e,s=i.__inheritedStyle=i.__inheritedStyle||{},o={};r.nodeType===1&&(pHe(r,e),Vce(r,s,o),n||vHe(r,s,o)),i.style=i.style||{},s.fill!=null&&(i.style.fill=mZ(i,"fill",s.fill,t)),s.stroke!=null&&(i.style.stroke=mZ(i,"stroke",s.stroke,t)),te(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(i.style[l]=parseFloat(s[l]))}),te(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(i.style[l]=s[l])}),a&&(i.__selfStyle=o),s.lineDash&&(i.style.lineDash=ft(yL(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(i.invisible=!0),s.display==="none"&&(i.ignore=!0)}function cHe(r,e){var t=e.__selfStyle;if(t){var n=t.textBaseline,a=n;!n||n==="auto"||n==="baseline"?a="alphabetic":n==="before-edge"||n==="text-before-edge"?a="top":n==="after-edge"||n==="text-after-edge"?a="bottom":(n==="central"||n==="mathematical")&&(a="middle"),r.style.textBaseline=a}var i=e.__inheritedStyle;if(i){var s=i.textAlign,o=s;s&&(s==="middle"&&(o="center"),r.style.textAlign=o)}}var uHe=/^url\(\s*#(.*?)\)/;function mZ(r,e,t,n){var a=t&&t.match(uHe);if(a){var i=Jl(a[1]);n.push([r,e,i]);return}return t==="none"&&(t=null),t}function fHe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n[0].style[n[1]]=r[n[2]]}}var hHe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function yL(r){return r.match(hHe)||[]}var dHe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,i5=Math.PI/180;function pHe(r,e){var t=r.getAttribute("transform");if(t){t=t.replace(/,/g," ");var n=[],a=null;t.replace(dHe,function(f,h,d){return n.push(h,d),""});for(var i=n.length-1;i>0;i-=2){var s=n[i],o=n[i-1],l=yL(s);switch(a=a||$i(),o){case"translate":af(a,a,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":jI(a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":up(a,a,-parseFloat(l[0])*i5,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var c=Math.tan(parseFloat(l[0])*i5);Ku(a,[1,0,c,1,0,0],a);break;case"skewY":var u=Math.tan(parseFloat(l[0])*i5);Ku(a,[1,u,0,1,0,0],a);break;case"matrix":a[0]=parseFloat(l[0]),a[1]=parseFloat(l[1]),a[2]=parseFloat(l[2]),a[3]=parseFloat(l[3]),a[4]=parseFloat(l[4]),a[5]=parseFloat(l[5]);break}}e.setLocalTransform(a)}}var yZ=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Vce(r,e,t){var n=r.getAttribute("style");if(n){yZ.lastIndex=0;for(var a;(a=yZ.exec(n))!=null;){var i=a[1],s=Ut(bN,i)?bN[i]:null;s&&(e[s]=a[2]);var o=Ut(SN,i)?SN[i]:null;o&&(t[o]=a[2])}}}function vHe(r,e,t){for(var n=0;n<fZ.length;n++){var a=fZ[n],i=r.getAttribute(a);i!=null&&(e[bN[a]]=i)}for(var n=0;n<hZ.length;n++){var a=hZ[n],i=r.getAttribute(a);i!=null&&(t[SN[a]]=i)}}function Hce(r,e){var t=e.width/r.width,n=e.height/r.height,a=Math.min(t,n);return{scale:a,x:-(r.x+r.width/2)*a+(e.x+e.width/2),y:-(r.y+r.height/2)*a+(e.y+e.height/2)}}function gHe(r,e){var t=new lHe;return t.parse(r,e)}var mHe=Ht(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),yHe=(function(){function r(e,t){this.type="geoSVG",this._usedGraphicMap=Ht(),this._freedGraphics=[],this._mapName=e,this._parsedXML=Uce(t)}return r.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=_He(e.named),n=t.regions,a=t.regionsMap;this._regions=n,this._regionsMap=a}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},r.prototype._buildGraphic=function(e){var t,n;try{t=e&&gHe(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=t.root,Hs(n!=null)}catch(m){throw new Error(`Invalid svg format
`+m.message)}var a=new er;a.add(n),a.isGeoSVGGraphicRoot=!0;var i=t.width,s=t.height,o=t.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,u=void 0,f=void 0,h=void 0;if(i!=null?(c=0,f=i):o&&(c=o.x,f=o.width),s!=null?(u=0,h=s):o&&(u=o.y,h=o.height),c==null||u==null){var d=n.getBoundingRect();c==null&&(c=d.x,f=d.width),u==null&&(u=d.y,h=d.height)}l=this._boundingRect=new sr(c,u,f,h)}if(o){var v=Hce(o,l);n.scaleX=n.scaleY=v.scale,n.x=v.x,n.y=v.y}a.setClipPath(new Nr({shape:l.plain()}));var g=[];return te(t.named,function(m){mHe.get(m.svgNodeTagLower)!=null&&(g.push(m),xHe(m.el))}),{root:a,boundingRect:l,named:g}},r.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},r.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},r})();function xHe(r){r.silent=!1,r.isGroup&&r.traverse(function(e){e.silent=!1})}function _He(r){var e=[],t=Ht();return te(r,function(n){if(n.namedFrom==null){var a=new MUe(n.name,n.el);e.push(a),t.set(n.name,a)}}),{regions:e,regionsMap:t}}var NB=[126,25],xZ="",rm=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Kg=0;Kg<rm.length;Kg++)for(var y1=0;y1<rm[Kg].length;y1++)rm[Kg][y1][0]/=10.5,rm[Kg][y1][1]/=-10.5/.75,rm[Kg][y1][0]+=NB[0],rm[Kg][y1][1]+=NB[1];function bHe(r,e){if(r==="china"){for(var t=0;t<e.length;t++)if(e[t].name===xZ)return;e.push(new Tle(xZ,ft(rm,function(n){return{type:"polygon",exterior:n}}),NB))}}var SHe={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function wHe(r,e){if(r==="china"){var t=SHe[e.name];if(t){var n=e.getCenter();n[0]+=t[0]/10.5,n[1]+=-t[1]/(10.5/.75),e.setCenter(n)}}}var THe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function AHe(r,e){r==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:THe[0]})}var EHe="name",MHe=(function(){function r(e,t,n){this.type="geoJSON",this._parsedMap=Ht(),this._mapName=e,this._specialAreas=n,this._geoJSON=DHe(t)}return r.prototype.load=function(e,t){t=t||EHe;var n=this._parsedMap.get(t);if(!n){var a=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:a,boundingRect:CHe(a)})}var i=Ht(),s=[];return te(n.regions,function(o){var l=o.name;e&&Ut(e,l)&&(o=o.cloneShallow(l=e[l])),s.push(o),i.set(l,o)}),{regions:s,boundingRect:n.boundingRect||new sr(0,0,0,0),regionsMap:i}},r.prototype._parseToRegions=function(e){var t=this._mapName,n=this._geoJSON,a;try{a=n?pB(n,e):[]}catch(i){throw new Error(`Invalid geoJson format
`+i.message)}return bHe(t,a),te(a,function(i){var s=i.name;wHe(t,i),AHe(t,i);var o=this._specialAreas&&this._specialAreas[s];o&&i.transformTo(o.left,o.top,o.width,o.height)},this),a},r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},r})();function CHe(r){for(var e,t=0;t<r.length;t++){var n=r[t].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function DHe(r){return It(r)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}var N2=Ht();const lp={registerMap:function(r,e,t){if(e.svg){var n=new yHe(r,e.svg);N2.set(r,n)}else{var a=e.geoJson||e.geoJSON;a&&!e.features?t=e.specialAreas:a=e;var n=new MHe(r,a,t);N2.set(r,n)}},getGeoResource:function(r){return N2.get(r)},getMapForUser:function(r){var e=N2.get(r);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(r,e,t){var n=N2.get(r);if(n)return n.load(e,t)}};var BU=["rect","circle","line","ellipse","polygon","polyline","path"],RHe=Ht(BU),NHe=Ht(BU.concat(["g"])),IHe=Ht(BU.concat(["g"])),Gce=Pr();function b3(r){var e=r.getItemStyle(),t=r.get("areaColor");return t!=null&&(e.fill=t),e}function _Z(r){var e=r.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var jce=(function(){function r(e){var t=this.group=new er,n=this._transformGroup=new er;t.add(n),this.uid=cb("ec_map_draw"),this._controller=new Sy(e.getZr()),this._controllerHost={target:n},n.add(this._regionsGroup=new er),n.add(this._svgGroup=new er)}return r.prototype.draw=function(e,t,n,a,i){var s=e.mainType==="geo",o=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(S){!o&&S.getHostGeoModel()===e&&(o=S.getData())});var l=e.coordinateSystem,c=this._regionsGroup,u=this._transformGroup,f=l.getTransformInfo(),h=f.raw,d=f.roam,v=!c.childAt(0)||i,g=e.getShallow("clip",!0),m;g?(m=l.getViewRect().clone(),this.group.setClipPath(new Nr({shape:m.clone()}))):this.group.removeClipPath(),v?(u.x=d.x,u.y=d.y,u.scaleX=d.scaleX,u.scaleY=d.scaleY,u.dirty()):nn(u,d,e);var y=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,b={api:n,geo:l,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:y,isGeo:s,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(b):l.resourceType==="geoSVG"&&this._buildSVG(b),this._updateController(e,m,t,n),this._updateMapSelectHandler(e,c,n,a)},r.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Ht(),n=Ht(),a=this._regionsGroup,i=e.transformInfoRaw,s=e.mapOrGeoModel,o=e.data,l=e.geo.projection,c=l&&l.stream;function u(d,v){return v&&(d=v(d)),d&&[d[0]*i.scaleX+i.x,d[1]*i.scaleY+i.y]}function f(d){for(var v=[],g=!c&&l&&l.project,m=0;m<d.length;++m){var y=u(d[m],g);y&&v.push(y)}return v}function h(d){return{shape:{points:f(d)}}}a.removeAll(),te(e.geo.regions,function(d){var v=d.name,g=t.get(v),m=n.get(v)||{},y=m.dataIdx,b=m.regionModel;if(!g){g=t.set(v,new er),a.add(g),y=o?o.indexOfName(v):null,b=e.isGeo?s.getRegionModel(v):o?o.getItemModel(y):null;var S=b.get("silent",!0);S!=null&&(g.silent=S),n.set(v,{dataIdx:y,regionModel:b})}var A=[],E=[];te(d.geometries,function(L){if(L.type==="polygon"){var I=[L.exterior].concat(L.interiors||[]);c&&(I=EZ(I,c)),te(I,function(P){A.push(new js(h(P)))})}else{var O=L.points;c&&(O=EZ(O,c,!0)),te(O,function(P){E.push(new ws(h(P)))})}});var M=u(d.getCenter(),l&&l.project);function R(L,I){if(L.length){var O=new VA({culling:!0,segmentIgnoreThreshold:1,shape:{paths:L}});g.add(O),bZ(e,O,y,b),SZ(e,O,v,b,s,y,M),I&&(_Z(O),te(O.states,_Z))}}R(A),R(E,!0)}),t.each(function(d,v){var g=n.get(v),m=g.dataIdx,y=g.regionModel;wZ(e,d,v,y,s,m),TZ(e,d,v,y,s),AZ(e,d,v,y,s)},this)},r.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var a=this._svgDispatcherMap=Ht(),i=!1;te(this._svgGraphicRecord.named,function(s){var o=s.name,l=e.mapOrGeoModel,c=e.data,u=s.svgNodeTagLower,f=s.el,h=c?c.indexOfName(o):null,d=l.getRegionModel(o);RHe.get(u)!=null&&f instanceof eu&&bZ(e,f,h,d),f instanceof eu&&(f.culling=!0);var v=d.get("silent",!0);if(v!=null&&(f.silent=v),f.z2EmphasisLift=0,!s.namedFrom&&(IHe.get(u)!=null&&SZ(e,f,o,d,l,h,null),wZ(e,f,o,d,l,h),TZ(e,f,o,d,l),NHe.get(u)!=null)){var g=AZ(e,f,o,d,l);g==="self"&&(i=!0);var m=a.get(o)||a.set(o,[]);m.push(f)}},this),this._enableBlurEntireSVG(i,e)},r.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),a=n.opacity;this._svgGraphicRecord.root.traverse(function(i){if(!i.isGroup){Zm(i);var s=i.ensureState("blur").style||{};s.opacity==null&&a!=null&&(s.opacity=a),i.ensureState("emphasis")}})}},r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},r.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var n=t.coordinateSystem;if(n.resourceType==="geoJSON"){var a=this._regionsGroupByName;if(a){var i=a.get(e);return i?[i]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},r.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},r.prototype._useSVG=function(e){var t=lp.getGeoResource(e);if(t&&t.type==="geoSVG"){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},r.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=lp.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},r.prototype._updateController=function(e,t,n,a){var i=e.coordinateSystem,s=this._controller,o=this._controllerHost;o.zoomLimit=e.get("scaleLimit"),o.zoom=i.getZoom(),s.enable(e.get("roam")||!1,{api:a,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(u,f,h){return i.containPoint([f,h])},isInClip:function(u,f,h){return!t||t.contain(f,h)}}});var l=e.mainType;function c(){var u={type:"geoRoam",componentType:l};return u[l+"Id"]=e.id,u}s.off("pan").on("pan",function(u){this._mouseDownFlag=!1,OU(o,u.dx,u.dy),a.dispatchAction(nt(c(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),s.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,kU(o,u.scale,u.originX,u.originY),a.dispatchAction(nt(c(),{totalZoom:o.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this)},r.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=Gce(t).ignore)})},r.prototype._updateMapSelectHandler=function(e,t,n,a){var i=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){i._mouseDownFlag=!0}),t.on("click",function(s){i._mouseDownFlag&&(i._mouseDownFlag=!1)}))},r})();function bZ(r,e,t,n){var a=n.getModel("itemStyle"),i=n.getModel(["emphasis","itemStyle"]),s=n.getModel(["blur","itemStyle"]),o=n.getModel(["select","itemStyle"]),l=b3(a),c=b3(i),u=b3(o),f=b3(s),h=r.data;if(h){var d=h.getItemVisual(t,"style"),v=h.getItemVisual(t,"decal");r.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),v&&(l.decal=R_(v,r.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=c,e.ensureState("select").style=u,e.ensureState("blur").style=f,Zm(e)}function SZ(r,e,t,n,a,i,s){var o=r.data,l=r.isGeo,c=o&&isNaN(o.get(o.mapDimension("value"),i)),u=o&&o.getItemLayout(i);if(l||c||u&&u.showLabel){var f=l?t:i,h=void 0;(!o||i>=0)&&(h=a);var d=s?{normal:{align:"center",verticalAlign:"middle"}}:null;rs(e,ki(n),{labelFetcher:h,labelDataIndex:f,defaultText:t},d);var v=e.getTextContent();if(v&&(Gce(v).ignore=v.ignore,e.textConfig&&s)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(s[0]-g.x)/g.width*100+"%",(s[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function wZ(r,e,t,n,a,i){r.data?r.data.setItemGraphicEl(i,e):or(e).eventData={componentType:"geo",componentIndex:a.componentIndex,geoIndex:a.componentIndex,name:t,region:n&&n.option||{}}}function TZ(r,e,t,n,a){r.data||hp({el:e,componentModel:a,itemName:t,itemTooltipOption:n.get("tooltip")})}function AZ(r,e,t,n,a){e.highDownSilentOnTouch=!!a.get("selectedMode");var i=n.getModel("emphasis"),s=i.get("focus");return Sa(e,s,i.get("blurScope"),i.get("disabled")),r.isGeo&&T6e(e,a,t),s}function EZ(r,e,t){var n=[],a;function i(){a=[]}function s(){a.length&&(n.push(a),a=[])}var o=e({polygonStart:i,polygonEnd:s,lineStart:i,lineEnd:s,point:function(l,c){isFinite(l)&&isFinite(c)&&a.push([l,c])},sphere:function(){}});return!t&&o.polygonStart(),te(r,function(l){o.lineStart();for(var c=0;c<l.length;c++)o.point(l[c][0],l[c][1]);o.lineEnd()}),!t&&o.polygonEnd(),n}var LHe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a,i){if(!(i&&i.type==="mapToggleSelect"&&i.from===this.uid)){var s=this.group;if(s.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&i&&i.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),i&&i.type==="geoRoam"&&i.componentType==="series"&&i.seriesId===t.id){var o=this._mapDraw;o&&s.add(o.group)}else if(t.needsDrawMap){var o=this._mapDraw||new jce(a);s.add(o.group),o.draw(t,n,a,this,i),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(t,n,a)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,n,a){var i=t.originalData,s=this.group;i.each(i.mapDimension("value"),function(o,l){if(!isNaN(o)){var c=i.getItemLayout(l);if(!(!c||!c.point)){var u=c.point,f=c.offset,h=new Lh({style:{fill:t.getData().getVisual("style").fill},shape:{cx:u[0]+f*9,cy:u[1],r:3},silent:!0,z2:8+(f?0:nb+1)});if(!f){var d=t.mainSeries.getData(),v=i.getName(l),g=d.indexOfName(v),m=i.getItemModel(l),y=m.getModel("label"),b=d.getItemGraphicEl(g);rs(h,ki(m),{labelFetcher:{getFormattedLabel:function(S,A){return t.getFormattedLabel(g,A)}},defaultText:v}),h.disableLabelAnimation=!0,y.get("position")||h.setTextConfig({position:"bottom"}),b.onHoverStateChange=function(S){ZR(h,S)}}s.add(h)}}})},e.type="map",e})(Ln),OHe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(n){if(n!=null){var a=this.getData().getName(n),i=this.coordinateSystem,s=i.getRegion(a);return s&&i.dataToPoint(s.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var n=xb(this,{coordDimensions:["value"],encodeDefaulter:yr(qF,this)}),a=Ht(),i=[],s=0,o=n.count();s<o;s++){var l=n.getName(s);a.set(l,s)}var c=lp.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return te(c.regions,function(u){var f=u.name,h=a.get(f),d=u.properties&&u.properties.echartsStyle,v;h==null?(v={name:f},i.push(v)):v=n.getRawDataItem(h),d&&Sr(v,d)}),n.appendData(i),n},e.prototype.getHostGeoModel=function(){if(Lse(this).kind!==ih.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var n=this.getData();return n.get(n.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var n=this.getData();return n.getItemModel(n.indexOfName(t))},e.prototype.formatTooltip=function(t,n,a){for(var i=this.getData(),s=this.getRawValue(t),o=i.getName(t),l=this.seriesGroup,c=[],u=0;u<l.length;u++){var f=l[u].originalData.indexOfName(o),h=i.mapDimension("value");isNaN(l[u].originalData.get(h,f))||c.push(l[u].name)}return Si("section",{header:c.join(", "),noHeader:!c.length,blocks:[Si("nameValue",{name:o,value:s})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var n=t.icon||"roundRect",a=oi(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return a.setStyle(t.itemStyle),a.style.stroke="none",n.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill=We.color.neutral00,a.style.lineWidth=2),a},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:We.color.tertiary},itemStyle:{borderWidth:.5,borderColor:We.color.border,areaColor:We.color.background},emphasis:{label:{show:!0,color:We.color.primary},itemStyle:{areaColor:We.color.highlight}},select:{label:{show:!0,color:We.color.primary},itemStyle:{color:We.color.highlight}},nameProperty:"name"},e})(Hn);function kHe(r,e){var t={};return te(r,function(n){n.each(n.mapDimension("value"),function(a,i){var s="ec-"+n.getName(i);t[s]=t[s]||[],isNaN(a)||t[s].push(a)})}),r[0].map(r[0].mapDimension("value"),function(n,a){for(var i="ec-"+r[0].getName(a),s=0,o=1/0,l=-1/0,c=t[i].length,u=0;u<c;u++)o=Math.min(o,t[i][u]),l=Math.max(l,t[i][u]),s+=t[i][u];var f;return e==="min"?f=o:e==="max"?f=l:e==="average"?f=s/c:f=s,c===0?NaN:f})}function PHe(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),a=n?"o"+n.id:"i"+t.getMapType();(e[a]=e[a]||[]).push(t)}),te(e,function(t,n){for(var a=kHe(ft(t,function(s){return s.getData()}),t[0].get("mapValueCalculation")),i=0;i<t.length;i++)t[i].originalData=t[i].getData();for(var i=0;i<t.length;i++)t[i].seriesGroup=t,t[i].needsDrawMap=i===0&&!t[i].getHostGeoModel(),t[i].setData(a.cloneShallow()),t[i].mainSeries=t[0]})}function BHe(r){var e={};r.eachSeriesByType("map",function(t){var n=t.getMapType();if(!(t.getHostGeoModel()||e[n])){var a={};te(t.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&r.getComponent("legend")&&l.each(l.mapDimension("value"),function(c,u){var f=l.getName(u),h=o.getRegion(f);if(!(!h||isNaN(c))){var d=a[f]||0,v=o.dataToPoint(h.getCenter());a[f]=d+1,l.setItemLayout(u,{point:v,offset:d})}})});var i=t.getData();i.each(function(s){var o=i.getName(s),l=i.getItemLayout(s)||{};l.showLabel=!a[o],i.setItemLayout(s,l)}),e[n]=!0}})}var MZ=Ya,wy=(function(r){Ye(e,r);function e(t,n){var a=r.call(this)||this;return a.type="view",a.dimensions=["x","y"],a._roamTransformable=new Bd,a._rawTransformable=new Bd,a.name=t,a._opt=n,a}return e.prototype.setBoundingRect=function(t,n,a,i){return this._rect=new sr(t,n,a,i),this._updateCenterAndZoom(),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,n,a,i){this._transformTo(t,n,a,i),this._viewRect=new sr(t,n,a,i)},e.prototype._transformTo=function(t,n,a,i){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new sr(t,n,a,i));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(t){var n=this._opt;n&&n.api&&n.ecModel&&n.ecModel.getShallow("legacyViewCoordSysCenterBase")&&t&&(t=[Nt(t[0],n.api.getWidth()),Nt(t[1],n.api.getWidth())]),this._centerOption=Qt(t),this._updateCenterAndZoom()},e.prototype.setZoom=function(t){this._zoom=PU(t||1,this.zoomLimit),this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),n=t.x+t.width/2,a=t.y+t.height/2;return[n,a]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._centerOption,n=this._rect;t&&n&&(this._center=[Nt(t[0],n.width,n.x),Nt(t[1],n.height,n.y)]);var a=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,s=this.getDefaultCenter(),o=this.getCenter(),l=this.getZoom();o=Ya([],o,a),s=Ya([],s,a),i.originX=o[0],i.originY=o[1],i.x=s[0]-o[0],i.y=s[1]-o[1],i.scaleX=i.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,n=this._rawTransformable;n.parent=t,t.updateTransform(),n.updateTransform(),PA(this.transform||(this.transform=[]),n.transform||$i()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Qc(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,n=this._roamTransformable,a=new Bd;return a.transform=n.transform,a.decomposeTransform(),{roam:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,n,a){var i=n?this._rawTransform:this.transform;return a=a||[],i?MZ(a,t,i):lo(a,t)},e.prototype.pointToData=function(t,n,a){a=a||[];var i=this.invTransform;return i?MZ(a,t,i):(a[0]=t[0],a[1]=t[1],a)},e.prototype.convertToPixel=function(t,n,a){var i=CZ(n);return i===this?i.dataToPoint(a):null},e.prototype.convertFromPixel=function(t,n,a){var i=CZ(n);return i===this?i.pointToData(a):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e})(Bd);function CZ(r){var e=r.seriesModel;return e?e.coordinateSystem:null}var zHe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Wce=["lng","lat"],IB=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this,t,{api:a.api,ecModel:a.ecModel})||this;i.dimensions=Wce,i.type="geo",i._nameCoordMap=Ht(),i.map=n;var s=a.projection,o=lp.load(n,a.nameMap,a.nameProperty),l=lp.getGeoResource(n);i.resourceType=l?l.type:null;var c=i.regions=o.regions,u=zHe[l.type];i._regionsMap=o.regionsMap,i.regions=o.regions,i.projection=s;var f;if(s)for(var h=0;h<c.length;h++){var d=c[h].getBoundingRect(s);f=f||d.clone(),f.union(d)}else f=o.boundingRect;return i.setBoundingRect(f.x,f.y,f.width,f.height),i.aspectScale=s?1:Gt(a.aspectScale,u.aspectScale),i._invertLongitute=s?!1:u.invertLongitute,i}return e.prototype._transformTo=function(t,n,a,i){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new sr(t,n,a,i));var c=l.parent;l.parent=null,l.decomposeTransform(),l.parent=c,o&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var n=this.regions,a=0;a<n.length;a++){var i=n[a];if(i.type==="geoJSON"&&i.contain(t))return n[a]}},e.prototype.addGeoCoord=function(t,n){this._nameCoordMap.set(t,n)},e.prototype.getGeoCoord=function(t){var n=this._regionsMap.get(t);return this._nameCoordMap.get(t)||n&&n.getCenter()},e.prototype.dataToPoint=function(t,n,a){if(It(t)&&(t=this.getGeoCoord(t)),t){var i=this.projection;return i&&(t=i.project(t)),t&&this.projectedToPoint(t,n,a)}},e.prototype.pointToData=function(t,n,a){var i=this.projection;return i&&(t=i.unproject(t)),t&&this.pointToProjected(t,a)},e.prototype.pointToProjected=function(t,n){return r.prototype.pointToData.call(this,t,0,n)},e.prototype.projectedToPoint=function(t,n,a){return r.prototype.dataToPoint.call(this,t,n,a)},e.prototype.convertToPixel=function(t,n,a){var i=DZ(n);return i===this?i.dataToPoint(a):null},e.prototype.convertFromPixel=function(t,n,a){var i=DZ(n);return i===this?i.pointToData(a):null},e})(wy);Xa(IB,wy);function DZ(r){var e=r.geoModel,t=r.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",Pa).models[0]||{}).coordinateSystem:null}function RZ(r,e){var t=r.get("boundingCoords");if(t!=null){var n=t[0],a=t[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(a[0])&&isFinite(a[1])){var i=this.projection;if(i){var s=n[0],o=n[1],l=a[0],c=a[1];n=[1/0,1/0],a=[-1/0,-1/0];var u=function(E,M,R,L){for(var I=R-E,O=L-M,P=0;P<=100;P++){var k=P/100,U=i.project([E+I*k,M+O*k]);kd(n,n,U),Pd(a,a,U)}};u(s,o,l,o),u(l,o,l,c),u(l,c,s,c),u(s,c,l,o)}this.setBoundingRect(n[0],n[1],a[0]-n[0],a[1]-n[1])}}var f=this.getBoundingRect(),h=r.get("layoutCenter"),d=r.get("layoutSize"),v=Pi(r,e).refContainer,g=f.width/f.height*this.aspectScale,m=!1,y,b;h&&d&&(y=[Nt(h[0],v.width)+v.x,Nt(h[1],v.height)+v.y],b=Nt(d,Math.min(v.width,v.height)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(b)&&(m=!0));var S;if(m)S={},g>1?(S.width=b,S.height=b/g):(S.height=b,S.width=b*g),S.y=y[1]-S.height/2,S.x=y[0]-S.width/2;else{var A=r.getBoxLayoutParams();A.aspect=g,S=ma(A,v),S=zse(r,S,g)}this.setViewRect(S.x,S.y,S.width,S.height),this.setCenter(r.get("center")),this.setZoom(r.get("zoom"))}function FHe(r,e){te(e.get("geoCoord"),function(t,n){r.addGeoCoord(n,t)})}var UHe=(function(){function r(){this.dimensions=Wce}return r.prototype.create=function(e,t){var n=[];function a(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,o){var l=s.get("map"),c=new IB(l+o,l,nt({nameMap:s.get("nameMap"),api:t,ecModel:e},a(s)));c.zoomLimit=s.get("scaleLimit"),n.push(c),s.coordinateSystem=c,c.model=s,c.resize=RZ,c.resize(s,t)}),e.eachSeries(function(s){jA({targetModel:s,coordSysType:"geo",coordSysProvider:function(){var o=s.subType==="map"?s.getHostGeoModel():s.getReferringComponents("geo",Pa).models[0];return o&&o.coordinateSystem},allowNotFound:!0})});var i={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();i[o]=i[o]||[],i[o].push(s)}}),te(i,function(s,o){var l=ft(s,function(u){return u.get("nameMap")}),c=new IB(o,o,nt({nameMap:VI(l),api:t,ecModel:e},a(s[0])));c.zoomLimit=bs.apply(null,ft(s,function(u){return u.get("scaleLimit")})),n.push(c),c.resize=RZ,c.resize(s[0],t),te(s,function(u){u.coordinateSystem=c,FHe(c,u)})}),n},r.prototype.getFilledRegions=function(e,t,n,a){for(var i=(e||[]).slice(),s=Ht(),o=0;o<i.length;o++)s.set(i[o].name,i[o]);var l=lp.load(t,n,a);return te(l.regions,function(c){var u=c.name,f=s.get(u),h=c.properties&&c.properties.echartsStyle;f||(f={name:u},i.push(f)),h&&Sr(f,h)}),i},r})(),Yce=new UHe,VHe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,a){this.mergeDefaultAndTheme(t,a);var i=lp.getGeoResource(t.map);if(i&&i.type==="geoJSON"){var s=t.itemStyle=t.itemStyle||{};"color"in s||(s.color=t.defaultItemStyleColor||We.color.backgroundTint)}Ym(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,n=this.option;n.regions=Yce.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var a={};this._optionModelMap=Jc(n.regions||[],function(i,s){var o=s.name;return o&&(i.set(o,new zr(s,t,t.ecModel)),s.selected&&(a[o]=!0)),i},Ht()),n.selectedMap||(n.selectedMap=a)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new zr(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,n){var a=this.getRegionModel(t),i=n==="normal"?a.get(["label","formatter"]):a.get(["emphasis","label","formatter"]),s={name:t};if(Yt(i))return s.status=n,i(s);if(It(i))return i.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var n=this.option,a=n.selectedMode;if(a){a!=="multiple"&&(n.selectedMap=null);var i=n.selectedMap||(n.selectedMap={});i[t]=!0}},e.prototype.unSelect=function(t){var n=this.option.selectedMap;n&&(n[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var n=this.option.selectedMap;return!!(n&&n[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:We.color.tertiary},itemStyle:{borderWidth:.5,borderColor:We.color.border},emphasis:{label:{show:!0,color:We.color.primary},itemStyle:{color:We.color.highlight}},select:{label:{show:!0,color:We.color.primary},itemStyle:{color:We.color.highlight}},regions:[]},e})(kr),HHe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,n){this._api=n},e.prototype.render=function(t,n,a,i){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new jce(a));var s=this._mapDraw;s.draw(t,n,a,this,i),s.group.on("click",this._handleRegionClick,this),s.group.silent=t.get("silent"),this.group.add(s.group),this.updateSelectStatus(t,n,a)},e.prototype._handleRegionClick=function(t){var n;bm(t.target,function(a){return(n=or(a).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},e.prototype.updateSelectStatus=function(t,n,a){var i=this;this._mapDraw.group.traverse(function(s){var o=or(s).eventData;if(o)return i._model.isSelected(o.name)?a.enterSelect(s):a.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e})(Jn);function GHe(r,e,t){lp.registerMap(r,e,t)}function Xce(r){r.registerCoordinateSystem("geo",Yce),r.registerComponentModel(VHe),r.registerComponentView(HHe),r.registerImpl("registerMap",GHe),r.registerImpl("getMap",function(t){return lp.getMapForUser(t)});function e(t,n){n.update="geo:updateSelectStatus",r.registerAction(n,function(a,i){var s={},o=[];return i.eachComponent({mainType:"geo",query:a},function(l){l[t](a.name);var c=l.coordinateSystem;te(c.regions,function(f){s[f.name]=l.isSelected(f.name)||!1});var u=[];te(s,function(f,h){s[h]&&u.push(h)}),o.push({geoIndex:l.componentIndex,name:u})}),{selected:s,allSelected:o,name:a.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,n,a){var i=t.componentType;i||(t.geoId!=null?i="geo":t.seriesId!=null&&(i="series")),i||(i="series"),n.eachComponent({mainType:i,query:t},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=mL(o,t,s.get("scaleLimit"));s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),i==="series"&&te(s.seriesGroup,function(c){c.setCenter(l.center),c.setZoom(l.zoom)})}})})}function jHe(r){Mr(Xce),r.registerChartView(LHe),r.registerSeriesModel(OHe),r.registerLayout(BHe),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,PHe),Coe("map",r.registerAction)}function WHe(r){var e=r;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],n,a;n=t.pop();)if(a=n.children,n.isExpand&&a.length)for(var i=a.length,s=i-1;s>=0;s--){var o=a[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(o)}}function YHe(r,e){var t=r.isExpand?r.children:[],n=r.parentNode.children,a=r.hierNode.i?n[r.hierNode.i-1]:null;if(t.length){qHe(r);var i=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;a?(r.hierNode.prelim=a.hierNode.prelim+e(r,a),r.hierNode.modifier=r.hierNode.prelim-i):r.hierNode.prelim=i}else a&&(r.hierNode.prelim=a.hierNode.prelim+e(r,a));r.parentNode.hierNode.defaultAncestor=ZHe(r,a,r.parentNode.hierNode.defaultAncestor||n[0],e)}function XHe(r){var e=r.hierNode.prelim+r.parentNode.hierNode.modifier;r.setLayout({x:e},!0),r.hierNode.modifier+=r.parentNode.hierNode.modifier}function NZ(r){return arguments.length?r:JHe}function ow(r,e){return r-=Math.PI/2,{x:e*Math.cos(r),y:e*Math.sin(r)}}function qHe(r){for(var e=r.children,t=e.length,n=0,a=0;--t>=0;){var i=e[t];i.hierNode.prelim+=n,i.hierNode.modifier+=n,a+=i.hierNode.change,n+=i.hierNode.shift+a}}function ZHe(r,e,t,n){if(e){for(var a=r,i=r,s=i.parentNode.children[0],o=e,l=a.hierNode.modifier,c=i.hierNode.modifier,u=s.hierNode.modifier,f=o.hierNode.modifier;o=s5(o),i=o5(i),o&&i;){a=s5(a),s=o5(s),a.hierNode.ancestor=r;var h=o.hierNode.prelim+f-i.hierNode.prelim-c+n(o,i);h>0&&($He(KHe(o,r,t),r,h),c+=h,l+=h),f+=o.hierNode.modifier,c+=i.hierNode.modifier,l+=a.hierNode.modifier,u+=s.hierNode.modifier}o&&!s5(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=f-l),i&&!o5(s)&&(s.hierNode.thread=i,s.hierNode.modifier+=c-u,t=r)}return t}function s5(r){var e=r.children;return e.length&&r.isExpand?e[e.length-1]:r.hierNode.thread}function o5(r){var e=r.children;return e.length&&r.isExpand?e[0]:r.hierNode.thread}function KHe(r,e,t){return r.hierNode.ancestor.parentNode===e.parentNode?r.hierNode.ancestor:t}function $He(r,e,t){var n=t/(e.hierNode.i-r.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,r.hierNode.change+=n}function JHe(r,e){return r.parentNode===e.parentNode?1:2}var QHe=(function(){function r(){this.parentPoint=[],this.childPoints=[]}return r})(),eGe=(function(r){Ye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:We.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new QHe},e.prototype.buildPath=function(t,n){var a=n.childPoints,i=a.length,s=n.parentPoint,o=a[0],l=a[i-1];if(i===1){t.moveTo(s[0],s[1]),t.lineTo(o[0],o[1]);return}var c=n.orient,u=c==="TB"||c==="BT"?0:1,f=1-u,h=Nt(n.forkPosition,1),d=[];d[u]=s[u],d[f]=s[f]+(l[f]-s[f])*h,t.moveTo(s[0],s[1]),t.lineTo(d[0],d[1]),t.moveTo(o[0],o[1]),d[u]=o[u],t.lineTo(d[0],d[1]),d[u]=l[u],t.lineTo(d[0],d[1]),t.lineTo(l[0],l[1]);for(var v=1;v<i-1;v++){var g=a[v];t.moveTo(g[0],g[1]),d[u]=g[u],t.lineTo(d[0],d[1])}},e})(Fr),tGe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new er,t}return e.prototype.init=function(t,n){this._controller=new Sy(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,n,a){var i=t.getData(),s=t.layoutInfo,o=this._mainGroup,l=t.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(t,a),this._updateController(t,null,n,a);var c=this._data;i.diff(c).add(function(u){IZ(i,u)&&LZ(i,u,null,o,t)}).update(function(u,f){var h=c.getItemGraphicEl(f);if(!IZ(i,u)){h&&kZ(c,f,h,o,t);return}LZ(i,u,h,o,t)}).remove(function(u){var f=c.getItemGraphicEl(u);f&&kZ(c,u,f,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&i.eachItemGraphicEl(function(u,f){u.off("click").on("click",function(){a.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:f})})}),this._data=i},e.prototype._updateViewCoordSys=function(t,n){var a=t.getData(),i=[];a.each(function(f){var h=a.getItemLayout(f);h&&!isNaN(h.x)&&!isNaN(h.y)&&i.push([+h.x,+h.y])});var s=[],o=[];JI(i,s,o);var l=this._min,c=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=c?c[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=c?c[1]:o[1]+1);var u=t.coordinateSystem=new wy(null,{api:n,ecModel:t.ecModel});u.zoomLimit=t.get("scaleLimit"),u.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),u.setCenter(t.get("center")),u.setZoom(t.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(t,n,a,i){var s=this;zce(t,i,this.group,this._controller,this._controllerHost,n),this._controller.on("zoom",function(o){s._updateNodeAndLinkScale(t)})},e.prototype._updateNodeAndLinkScale=function(t){var n=t.getData(),a=this._getNodeGlobalScale(t);n.eachItemGraphicEl(function(i,s){i.setSymbolScale(a)})},e.prototype._getNodeGlobalScale=function(t){var n=t.coordinateSystem;if(n.type!=="view")return 1;var a=this._nodeScaleRatio,i=n.scaleX||1,s=n.getZoom(),o=(s-1)*a+1;return o/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e})(Ln);function IZ(r,e){var t=r.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function LZ(r,e,t,n,a){var i=!t,s=r.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,c=s.isExpand===!1&&s.children.length!==0?l:We.color.neutral00,u=r.tree.root,f=s.parentNode===u?s:s.parentNode||s,h=r.getItemGraphicEl(f.dataIndex),d=f.getLayout(),v=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:d,g=s.getLayout();i?(t=new XA(r,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.x=v.x,t.y=v.y):t.updateData(r,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=g.rawX,t.__radialRawY=g.rawY,n.add(t),r.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,nn(t,{x:g.x,y:g.y},a);var m=t.getSymbolPath();if(a.get("layout")==="radial"){var y=u.children[0],b=y.getLayout(),S=y.children.length,A=void 0,E=void 0;if(g.x===b.x&&s.isExpand===!0&&y.children.length){var M={x:(y.children[0].getLayout().x+y.children[S-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[S-1].getLayout().y)/2};A=Math.atan2(M.y-b.y,M.x-b.x),A<0&&(A=Math.PI*2+A),E=M.x<b.x,E&&(A=A-Math.PI)}else A=Math.atan2(g.y-b.y,g.x-b.x),A<0&&(A=Math.PI*2+A),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(E=g.x<b.x,E&&(A=A-Math.PI)):(E=g.x>b.x,E||(A=A-Math.PI));var R=E?"left":"right",L=o.getModel("label"),I=L.get("rotate"),O=I*(Math.PI/180),P=m.getTextContent();P&&(m.setTextConfig({position:L.get("position")||R,rotation:I==null?-A:O,origin:"center"}),P.setStyle("verticalAlign","middle"))}var k=o.get(["emphasis","focus"]),U=k==="relative"?S_(s.getAncestorsIndices(),s.getDescendantIndices()):k==="ancestor"?s.getAncestorsIndices():k==="descendant"?s.getDescendantIndices():null;U&&(or(t).focus=U),rGe(a,s,u,t,v,d,g,n),t.__edge&&(t.onHoverStateChange=function(F){if(F!=="blur"){var q=s.parentNode&&r.getItemGraphicEl(s.parentNode.dataIndex);q&&q.hoverState===zA||ZR(t.__edge,F)}})}function rGe(r,e,t,n,a,i,s,o){var l=e.getModel(),c=r.get("edgeShape"),u=r.get("layout"),f=r.getOrient(),h=r.get(["lineStyle","curveness"]),d=r.get("edgeForkPosition"),v=l.getModel("lineStyle").getLineStyle(),g=n.__edge;if(c==="curve")e.parentNode&&e.parentNode!==t&&(g||(g=n.__edge=new ib({shape:LB(u,f,h,a,a)})),nn(g,{shape:LB(u,f,h,i,s)},r));else if(c==="polyline"&&u==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var m=e.children,y=[],b=0;b<m.length;b++){var S=m[b].getLayout();y.push([S.x,S.y])}g||(g=n.__edge=new eGe({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:f,forkPosition:d}})),nn(g,{shape:{parentPoint:[s.x,s.y],childPoints:y}},r)}g&&!(c==="polyline"&&!e.isExpand)&&(g.useStyle(rr({strokeNoScale:!0,fill:null},v)),Oi(g,l,"lineStyle"),Zm(g),o.add(g))}function OZ(r,e,t,n,a){var i=e.tree.root,s=qce(i,r),o=s.source,l=s.sourceLayout,c=e.getItemGraphicEl(r.dataIndex);if(c){var u=e.getItemGraphicEl(o.dataIndex),f=u.__edge,h=c.__edge||(o.isExpand===!1||o.children.length===1?f:void 0),d=n.get("edgeShape"),v=n.get("layout"),g=n.get("orient"),m=n.get(["lineStyle","curveness"]);h&&(d==="curve"?nv(h,{shape:LB(v,g,m,l,l),style:{opacity:0}},n,{cb:function(){t.remove(h)},removeOpt:a}):d==="polyline"&&n.get("layout")==="orthogonal"&&nv(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){t.remove(h)},removeOpt:a}))}}function qce(r,e){for(var t=e.parentNode===r?e:e.parentNode||e,n;n=t.getLayout(),n==null;)t=t.parentNode===r?t:t.parentNode||t;return{source:t,sourceLayout:n}}function kZ(r,e,t,n,a){var i=r.tree.getNodeByDataIndex(e),s=r.tree.root,o=qce(s,i).sourceLayout,l={duration:a.get("animationDurationUpdate"),easing:a.get("animationEasingUpdate")};nv(t,{x:o.x+1,y:o.y+1},a,{cb:function(){n.remove(t),r.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,r.hostModel,{fadeLabel:!0,animation:l}),i.children.forEach(function(c){OZ(c,r,n,a,l)}),OZ(i,r,n,a,l)}function LB(r,e,t,n,a){var i,s,o,l,c,u,f,h;if(r==="radial"){c=n.rawX,f=n.rawY,u=a.rawX,h=a.rawY;var d=ow(c,f),v=ow(c,f+(h-f)*t),g=ow(u,h+(f-h)*t),m=ow(u,h);return{x1:d.x||0,y1:d.y||0,x2:m.x||0,y2:m.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:g.x||0,cpy2:g.y||0}}else c=n.x,f=n.y,u=a.x,h=a.y,(e==="LR"||e==="RL")&&(i=c+(u-c)*t,s=f,o=u+(c-u)*t,l=h),(e==="TB"||e==="BT")&&(i=c,s=f+(h-f)*t,o=u,l=h+(f-h)*t);return{x1:c,y1:f,x2:u,y2:h,cpx1:i,cpy1:s,cpx2:o,cpy2:l}}var Zc=Pr();function Zce(r){var e=r.mainData,t=r.datas;t||(t={main:e},r.datasAttr={main:"data"}),r.datas=r.mainData=null,Kce(e,t,r),te(t,function(n){te(e.TRANSFERABLE_METHODS,function(a){n.wrapMethod(a,yr(nGe,r))})}),e.wrapMethod("cloneShallow",yr(iGe,r)),te(e.CHANGABLE_METHODS,function(n){e.wrapMethod(n,yr(aGe,r))}),Hs(t[e.dataType]===e)}function nGe(r,e){if(lGe(this)){var t=nt({},Zc(this).datas);t[this.dataType]=e,Kce(e,t,r)}else zU(e,this.dataType,Zc(this).mainData,r);return e}function aGe(r,e){return r.struct&&r.struct.update(),e}function iGe(r,e){return te(Zc(e).datas,function(t,n){t!==e&&zU(t.cloneShallow(),n,e,r)}),e}function sGe(r){var e=Zc(this).mainData;return r==null||e==null?e:Zc(e).datas[r]}function oGe(){var r=Zc(this).mainData;return r==null?[{data:r}]:ft(Yr(Zc(r).datas),function(e){return{type:e,data:Zc(r).datas[e]}})}function lGe(r){return Zc(r).mainData===r}function Kce(r,e,t){Zc(r).datas={},te(e,function(n,a){zU(n,a,r,t)})}function zU(r,e,t,n){Zc(t).datas[e]=r,Zc(r).mainData=t,r.dataType=e,n.struct&&(r[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=r),r.getLinkedData=sGe,r.getLinkedDataAll=oGe}var cGe=(function(){function r(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return r.prototype.isRemoved=function(){return this.dataIndex<0},r.prototype.eachNode=function(e,t,n){Yt(e)&&(n=t,t=e,e=null),e=e||{},It(e)&&(e={order:e});var a=e.order||"preorder",i=this[e.attr||"children"],s;a==="preorder"&&(s=t.call(n,this));for(var o=0;!s&&o<i.length;o++)i[o].eachNode(e,t,n);a==="postorder"&&t.call(n,this)},r.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var a=this.children[n];a.updateDepthAndHeight(e+1),a.height>t&&(t=a.height)}this.height=t+1},r.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,a=n.length;t<a;t++){var i=n[t].getNodeById(e);if(i)return i}},r.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,a=n.length;t<a;t++){var i=n[t].contains(e);if(i)return i}},r.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},r.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},r.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},r.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},r.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},r.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},r.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},r.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},r.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},r.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},r})(),FU=(function(){function r(e){this.type="tree",this._nodes=[],this.hostModel=e}return r.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},r.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},r.prototype.getNodeById=function(e){return this.root.getNodeById(e)},r.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,a=t.length;n<a;n++)t[n].dataIndex=-1;for(var n=0,a=e.count();n<a;n++)t[e.getRawIndex(n)].dataIndex=n},r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},r.createTree=function(e,t,n){var a=new r(t),i=[],s=1;o(e);function o(u,f){var h=u.value;s=Math.max(s,ct(h)?h.length:1),i.push(u);var d=new cGe(Li(u.name,""),a);f?uGe(d,f):a.root=d,a._nodes.push(d);var v=u.children;if(v)for(var g=0;g<v.length;g++)o(v[g],d)}a.root.updateDepthAndHeight(0);var l=vb(i,{coordDimensions:["value"],dimensionsCount:s}).dimensions,c=new bo(l,t);return c.initData(i),n&&n(c),Zce({mainData:c,struct:a,structAttr:"tree"}),a.update(),a},r})();function uGe(r,e){var t=e.children;r.parentNode!==e&&(t.push(r),r.parentNode=e)}function QT(r,e,t){if(r&&br(e,r.type)>=0){var n=t.getData().tree.root,a=r.targetNode;if(It(a)&&(a=n.getNodeById(a)),a&&n.contains(a))return{node:a};var i=r.targetNodeId;if(i!=null&&(a=n.getNodeById(i)))return{node:a}}}function $ce(r){for(var e=[];r;)r=r.parentNode,r&&e.push(r);return e.reverse()}function UU(r,e){var t=$ce(r);return br(t,e)>=0}function xL(r,e){for(var t=[];r;){var n=r.dataIndex;t.push({name:r.name,dataIndex:n,value:e.getRawValue(n)}),r=r.parentNode}return t.reverse(),t}var fGe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var n={name:t.name,children:t.data},a=t.leaves||{},i=new zr(a,this,this.ecModel),s=FU.createTree(n,this,o);function o(f){f.wrapMethod("getItemModel",function(h,d){var v=s.getNodeByDataIndex(d);return v&&v.children.length&&v.isExpand||(h.parentModel=i),h})}var l=0;s.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var c=t.expandAndCollapse,u=c&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(f){var h=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=h&&h.collapsed!=null?!h.collapsed:f.depth<=u}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,n,a){for(var i=this.getData().tree,s=i.root.children[0],o=i.getNodeByDataIndex(t),l=o.getValue(),c=o.name;o&&o!==s;)c=o.parentNode.name+"."+c,o=o.parentNode;return Si("nameValue",{name:c,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=xL(a,this),n.collapsed=!a.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:We.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e})(Hn);function hGe(r,e,t){for(var n=[r],a=[],i;i=n.pop();)if(a.push(i),i.isExpand){var s=i.children;if(s.length)for(var o=0;o<s.length;o++)n.push(s[o])}for(;i=a.pop();)e(i,t)}function I2(r,e){for(var t=[r],n;n=t.pop();)if(e(n),n.isExpand){var a=n.children;if(a.length)for(var i=a.length-1;i>=0;i--)t.push(a[i])}}function dGe(r,e){r.eachSeriesByType("tree",function(t){pGe(t,e)})}function pGe(r,e){var t=Pi(r,e).refContainer,n=ma(r.getBoxLayoutParams(),t);r.layoutInfo=n;var a=r.get("layout"),i=0,s=0,o=null;a==="radial"?(i=2*Math.PI,s=Math.min(n.height,n.width)/2,o=NZ(function(A,E){return(A.parentNode===E.parentNode?1:2)/A.depth})):(i=n.width,s=n.height,o=NZ());var l=r.getData().tree.root,c=l.children[0];if(c){WHe(l),hGe(c,YHe,o),l.hierNode.modifier=-c.hierNode.prelim,I2(c,XHe);var u=c,f=c,h=c;I2(c,function(A){var E=A.getLayout().x;E<u.getLayout().x&&(u=A),E>f.getLayout().x&&(f=A),A.depth>h.depth&&(h=A)});var d=u===f?1:o(u,f)/2,v=d-u.getLayout().x,g=0,m=0,y=0,b=0;if(a==="radial")g=i/(f.getLayout().x+d+v),m=s/(h.depth-1||1),I2(c,function(A){y=(A.getLayout().x+v)*g,b=(A.depth-1)*m;var E=ow(y,b);A.setLayout({x:E.x,y:E.y,rawX:y,rawY:b},!0)});else{var S=r.getOrient();S==="RL"||S==="LR"?(m=s/(f.getLayout().x+d+v),g=i/(h.depth-1||1),I2(c,function(A){b=(A.getLayout().x+v)*m,y=S==="LR"?(A.depth-1)*g:i-(A.depth-1)*g,A.setLayout({x:y,y:b},!0)})):(S==="TB"||S==="BT")&&(g=i/(f.getLayout().x+d+v),m=s/(h.depth-1||1),I2(c,function(A){y=(A.getLayout().x+v)*g,b=S==="TB"?(A.depth-1)*m:s-(A.depth-1)*m,A.setLayout({x:y,y:b},!0)}))}}}function vGe(r){r.eachSeriesByType("tree",function(e){var t=e.getData(),n=t.tree;n.eachNode(function(a){var i=a.getModel(),s=i.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(a.dataIndex,"style");nt(o,s)})})}function gGe(r){r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var a=e.dataIndex,i=n.getData().tree,s=i.getNodeByDataIndex(a);s.isExpand=!s.isExpand})}),r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"tree",query:e},function(a){var i=a.coordinateSystem,s=mL(i,e,a.get("scaleLimit"));a.setCenter(s.center),a.setZoom(s.zoom)})})}function mGe(r){r.registerChartView(tGe),r.registerSeriesModel(fGe),r.registerLayout(dGe),r.registerVisual(vGe),gGe(r)}var PZ=["treemapZoomToNode","treemapRender","treemapMove"];function yGe(r){for(var e=0;e<PZ.length;e++)r.registerAction({type:PZ[e],update:"updateView"},Wa);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"treemap",query:t},a);function a(i,s){var o=["treemapZoomToNode","treemapRootToNode"],l=QT(t,o,i);if(l){var c=i.getViewRoot();c&&(t.direction=UU(c,l.node)?"rollUp":"drillDown"),i.resetViewRoot(l.node)}}})}function Jce(r){var e=r.getData(),t=e.tree,n={};t.eachNode(function(a){for(var i=a;i&&i.depth>1;)i=i.parentNode;var s=K6(r.ecModel,i.name||i.dataIndex+"",n);a.setVisual("decal",s)})}var xGe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,n){var a={name:t.name,children:t.data};Qce(a);var i=t.levels||[],s=this.designatedVisualItemStyle={},o=new zr({itemStyle:s},this,n);i=t.levels=_Ge(i,n);var l=ft(i||[],function(f){return new zr(f,o,n)},this),c=FU.createTree(a,this,u);function u(f){f.wrapMethod("getItemModel",function(h,d){var v=c.getNodeByDataIndex(d),g=v?l[v.depth]:null;return h.parentModel=g||o,h})}return c.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,n,a){var i=this.getData(),s=this.getRawValue(t),o=i.getName(t);return Si("nameValue",{name:o,value:s})},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=xL(a,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},nt(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var n=this._idIndexMap;n||(n=this._idIndexMap=Ht(),this._idIndexMapCount=0);var a=n.get(t);return a==null&&n.set(t,a=this._idIndexMapCount++),a},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){Jce(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,coordinateSystemUsage:"box",left:We.size.l,top:We.size.xxxl,right:We.size.l,bottom:We.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:We.size.m,emptyItemWidth:25,itemStyle:{color:We.color.backgroundShade,textStyle:{color:We.color.secondary}},emphasis:{itemStyle:{color:We.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:We.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:We.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e})(Hn);function Qce(r){var e=0;te(r.children,function(n){Qce(n);var a=n.value;ct(a)&&(a=a[0]),e+=a});var t=r.value;ct(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ct(r.value)?r.value[0]=t:r.value=t}function _Ge(r,e){var t=$n(e.get("color")),n=$n(e.get(["aria","decal","decals"]));if(t){r=r||[];var a,i;te(r,function(o){var l=new zr(o),c=l.get("color"),u=l.get("decal");(l.get(["itemStyle","color"])||c&&c!=="none")&&(a=!0),(l.get(["itemStyle","decal"])||u&&u!=="none")&&(i=!0)});var s=r[0]||(r[0]={});return a||(s.color=t.slice()),!i&&n&&(s.decal=n.slice()),r}}var bGe=8,BZ=8,l5=5,SGe=(function(){function r(e){this.group=new er,e.add(this.group)}return r.prototype.render=function(e,t,n,a){var i=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!i.get("show")||!n)){var o=i.getModel("itemStyle"),l=i.getModel("emphasis"),c=o.getModel("textStyle"),u=l.getModel(["itemStyle","textStyle"]),f=Pi(e,t).refContainer,h={left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},d={emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]},v=ma(h,f);this._prepare(n,d,c),this._renderContent(e,d,v,o,l,c,u,a),sL(s,h,f)}},r.prototype._prepare=function(e,t,n){for(var a=e;a;a=a.parentNode){var i=Li(a.getModel().get("name"),""),s=n.getTextRect(i),o=Math.max(s.width+bGe*2,t.emptyItemWidth);t.totalWidth+=o+BZ,t.renderList.push({node:a,text:i,width:o})}},r.prototype._renderContent=function(e,t,n,a,i,s,o,l){for(var c=0,u=t.emptyItemWidth,f=e.get(["breadcrumb","height"]),h=t.totalWidth,d=t.renderList,v=i.getModel("itemStyle").getItemStyle(),g=d.length-1;g>=0;g--){var m=d[g],y=m.node,b=m.width,S=m.text;h>n.width&&(h-=b-u,b=u,S=null);var A=new js({shape:{points:wGe(c,0,b,f,g===d.length-1,g===0)},style:rr(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new Kr({style:Kn(s,{text:S})}),textConfig:{position:"inside"},z2:nb*1e4,onclick:yr(l,y)});A.disableLabelAnimation=!0,A.getTextContent().ensureState("emphasis").style=Kn(o,{text:S}),A.ensureState("emphasis").style=v,Sa(A,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(A),TGe(A,e,y),c+=b+BZ}},r.prototype.remove=function(){this.group.removeAll()},r})();function wGe(r,e,t,n,a,i){var s=[[a?r:r-l5,e],[r+t,e],[r+t,e+n],[a?r:r-l5,e+n]];return!i&&s.splice(2,0,[r+t+l5,e+n/2]),!a&&s.push([r,e+n/2]),s}function TGe(r,e,t){or(r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&xL(t,e)}}var AGe=(function(){function r(){this._storage=[],this._elExistsMap={}}return r.prototype.add=function(e,t,n,a,i){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:a,easing:i}),!0)},r.prototype.finished=function(e){return this._finishedCallback=e,this},r.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},a=0,i=this._storage.length;a<i;a++){var s=this._storage[a];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:n,aborted:n})}return this},r})();function EGe(){return new AGe}var OB=er,zZ=Nr,FZ=3,UZ="label",VZ="upperLabel",MGe=nb*10,CGe=nb*2,DGe=nb*3,nm=qm([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),HZ=function(r){var e=nm(r);return e.stroke=e.fill=e.lineWidth=null,e},wN=Pr(),RGe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=L2(),t}return e.prototype.render=function(t,n,a,i){var s=n.findComponents({mainType:"series",subType:"treemap",query:i});if(!(br(s,t)<0)){this.seriesModel=t,this.api=a,this.ecModel=n;var o=["treemapZoomToNode","treemapRootToNode"],l=QT(i,o,t),c=i&&i.type,u=t.layoutInfo,f=!this._oldTree,h=this._storage,d=c==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:i.direction}:null,v=this._giveContainerGroup(u),g=t.get("animation"),m=this._doRender(v,t,d);g&&!f&&(!c||c==="treemapZoomToNode"||c==="treemapRootToNode")?this._doAnimation(v,m,t,d):m.renderFinally(),this._resetController(a),this._renderBreadcrumb(t,a,l)}},e.prototype._giveContainerGroup=function(t){var n=this._containerGroup;return n||(n=this._containerGroup=new OB,this._initEvents(n),this.group.add(n)),n.x=t.x,n.y=t.y,n},e.prototype._doRender=function(t,n,a){var i=n.getData().tree,s=this._oldTree,o=L2(),l=L2(),c=this._storage,u=[];function f(b,S,A,E){return NGe(n,l,c,a,o,u,b,S,A,E)}g(i.root?[i.root]:[],s&&s.root?[s.root]:[],t,i===s||!s,0);var h=m(c);if(this._oldTree=i,this._storage=l,this._controllerHost){var d=this.seriesModel.layoutInfo,v=i.root.getLayout();v.width===d.width&&v.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:h,renderFinally:y};function g(b,S,A,E,M){E?(S=b,te(b,function(I,O){!I.isRemoved()&&L(O,O)})):new ip(S,b,R,R).add(L).update(L).remove(yr(L,null)).execute();function R(I){return I.getId()}function L(I,O){var P=I!=null?b[I]:null,k=O!=null?S[O]:null,U=f(P,k,A,M);U&&g(P&&P.viewChildren||[],k&&k.viewChildren||[],U,E,M+1)}}function m(b){var S=L2();return b&&te(b,function(A,E){var M=S[E];te(A,function(R){R&&(M.push(R),wN(R).willDelete=!0)})}),S}function y(){te(h,function(b){te(b,function(S){S.parent&&S.parent.remove(S)})}),te(u,function(b){b.invisible=!0,b.dirty()})}},e.prototype._doAnimation=function(t,n,a,i){var s=a.get("animationDurationUpdate"),o=a.get("animationEasing"),l=(Yt(s)?0:s)||0,c=(Yt(o)?null:o)||"cubicOut",u=EGe();te(n.willDeleteEls,function(f,h){te(f,function(d,v){if(!d.invisible){var g=d.parent,m,y=wN(g);if(i&&i.direction==="drillDown")m=g===i.rootNodeGroup?{shape:{x:0,y:0,width:y.nodeWidth,height:y.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var b=0,S=0;y.willDelete||(b=y.nodeWidth/2,S=y.nodeHeight/2),m=h==="nodeGroup"?{x:b,y:S,style:{opacity:0}}:{shape:{x:b,y:S,width:0,height:0},style:{opacity:0}}}m&&u.add(d,m,l,0,c)}})}),te(this._storage,function(f,h){te(f,function(d,v){var g=n.lastsForAnimation[h][v],m={};g&&(d instanceof er?g.oldX!=null&&(m.x=d.x,m.y=d.y,d.x=g.oldX,d.y=g.oldY):(g.oldShape&&(m.shape=nt({},d.shape),d.setShape(g.oldShape)),g.fadein?(d.setStyle("opacity",0),m.style={opacity:1}):d.style.opacity!==1&&(m.style={opacity:1})),u.add(d,m,l,0,c))})},this),this._state="animating",u.finished(Ot(function(){this._state="ready",n.renderFinally()},this)).start()},e.prototype._resetController=function(t){var n=this,a=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost);var s=this.seriesModel;a||(a=this._controller=new Sy(t.getZr()),a.on("pan",Ot(this._onPan,this)),a.on("zoom",Ot(this._onZoom,this))),a.enable(s.get("roam"),{api:t,zInfo:{component:s},triggerInfo:{roamTrigger:s.get("roamTrigger"),isInSelf:function(o,l,c){var u=n._containerGroup;return u?u.getBoundingRect().contain(l-u.x,c-u.y):!1}}}),i.zoomLimit=s.get("scaleLimit"),i.zoom=s.get("zoom")},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>FZ||Math.abs(t.dy)>FZ)){var n=this.seriesModel.getData().tree.root;if(!n)return;var a=n.getLayout();if(!a)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+t.dx,y:a.y+t.dy,width:a.width,height:a.height}})}},e.prototype._onZoom=function(t){var n=t.originX,a=t.originY,i=t.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new sr(o.x,o.y,o.width,o.height),c=null,u=this._controllerHost;c=u.zoomLimit;var f=u.zoom=u.zoom||1;if(f*=i,c){var h=c.min||0,d=c.max||1/0;f=Math.max(Math.min(d,f),h)}var v=f/u.zoom;u.zoom=f;var g=this.seriesModel.layoutInfo;n-=g.x,a-=g.y;var m=$i();af(m,m,[-n,-a]),jI(m,m,[v,v]),af(m,m,[n,a]),l.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var n=this;t.on("click",function(a){if(n._state==="ready"){var i=n.seriesModel.get("nodeClick",!0);if(i){var s=n.findTarget(a.offsetX,a.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)n._rootToNode(s);else if(i==="zoomToNode")n._zoomToNode(s);else if(i==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),c=l.get("link",!0),u=l.get("target",!0)||"blank";c&&QR(c,u)}}}}},this)},e.prototype._renderBreadcrumb=function(t,n,a){var i=this;a||(a=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),a||(a={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new SGe(this.group))).render(t,n,a.node,function(s){i._state!=="animating"&&(UU(t.getViewRoot(),s)?i._rootToNode({node:s}):i._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=L2(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,n){var a,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(t,n),c=o.shape;if(c.x<=l[0]&&l[0]<=c.x+c.width&&c.y<=l[1]&&l[1]<=c.y+c.height)a={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),a},e.type="treemap",e})(Ln);function L2(){return{nodeGroup:[],background:[],content:[]}}function NGe(r,e,t,n,a,i,s,o,l,c){if(!s)return;var u=s.getLayout(),f=r.getData(),h=s.getModel();if(f.setItemGraphicEl(s.dataIndex,null),!u||!u.isInView)return;var d=u.width,v=u.height,g=u.borderWidth,m=u.invisible,y=s.getRawIndex(),b=o&&o.getRawIndex(),S=s.viewChildren,A=u.upperHeight,E=S&&S.length,M=h.getModel("itemStyle"),R=h.getModel(["emphasis","itemStyle"]),L=h.getModel(["blur","itemStyle"]),I=h.getModel(["select","itemStyle"]),O=M.get("borderRadius")||0,P=ae("nodeGroup",OB);if(!P)return;if(l.add(P),P.x=u.x||0,P.y=u.y||0,P.markRedraw(),wN(P).nodeWidth=d,wN(P).nodeHeight=v,u.isAboveViewRoot)return P;var k=ae("background",zZ,c,CGe);k&&re(P,k,E&&u.upperLabelHeight);var U=h.getModel("emphasis"),F=U.get("focus"),q=U.get("blurScope"),H=U.get("disabled"),Z=F==="ancestor"?s.getAncestorsIndices():F==="descendant"?s.getDescendantIndices():F;if(E)zT(P)&&xm(P,!1),k&&(xm(k,!H),f.setItemGraphicEl(s.dataIndex,k),F6(k,Z,q));else{var X=ae("content",zZ,c,DGe);X&&W(P,X),k.disableMorphing=!0,k&&zT(k)&&xm(k,!1),xm(P,!H),f.setItemGraphicEl(s.dataIndex,P);var Y=h.getShallow("cursor");Y&&X.attr("cursor",Y),F6(P,Z,q)}return P;function re(Se,we,Me){var Ve=or(we);if(Ve.dataIndex=s.dataIndex,Ve.seriesIndex=r.seriesIndex,we.setShape({x:0,y:0,width:d,height:v,r:O}),m)j(we);else{we.invisible=!1;var de=s.getVisual("style"),dt=de.stroke,K=HZ(M);K.fill=dt;var se=nm(R);se.fill=R.get("borderColor");var _e=nm(L);_e.fill=L.get("borderColor");var oe=nm(I);if(oe.fill=I.get("borderColor"),Me){var ue=d-2*g;J(we,dt,de.opacity,{x:g,y:0,width:ue,height:A})}else we.removeTextContent();we.setStyle(K),we.ensureState("emphasis").style=se,we.ensureState("blur").style=_e,we.ensureState("select").style=oe,Zm(we)}Se.add(we)}function W(Se,we){var Me=or(we);Me.dataIndex=s.dataIndex,Me.seriesIndex=r.seriesIndex;var Ve=Math.max(d-2*g,0),de=Math.max(v-2*g,0);if(we.culling=!0,we.setShape({x:g,y:g,width:Ve,height:de,r:O}),m)j(we);else{we.invisible=!1;var dt=s.getVisual("style"),K=dt.fill,se=HZ(M);se.fill=K,se.decal=dt.decal;var _e=nm(R),oe=nm(L),ue=nm(I);J(we,K,dt.opacity,null),we.setStyle(se),we.ensureState("emphasis").style=_e,we.ensureState("blur").style=oe,we.ensureState("select").style=ue,Zm(we)}Se.add(we)}function j(Se){!Se.invisible&&i.push(Se)}function J(Se,we,Me,Ve){var de=h.getModel(Ve?VZ:UZ),dt=Li(h.get("name"),null),K=de.getShallow("show");rs(Se,ki(h,Ve?VZ:UZ),{defaultText:K?dt:null,inheritColor:we,defaultOpacity:Me,labelFetcher:r,labelDataIndex:s.dataIndex});var se=Se.getTextContent();if(se){var _e=se.style,oe=LA(_e.padding||0);Ve&&(Se.setTextConfig({layoutRect:Ve}),se.disableLabelLayout=!0),se.beforeUpdate=function(){var be=Math.max((Ve?Ve.width:Se.shape.width)-oe[1]-oe[3],0),Be=Math.max((Ve?Ve.height:Se.shape.height)-oe[0]-oe[2],0);(_e.width!==be||_e.height!==Be)&&se.setStyle({width:be,height:Be})},_e.truncateMinChar=2,_e.lineOverflow="truncate",ee(_e,Ve,u);var ue=se.getState("emphasis");ee(ue?ue.style:null,Ve,u)}}function ee(Se,we,Me){var Ve=Se?Se.text:null;if(!we&&Me.isLeafRoot&&Ve!=null){var de=r.get("drillDownIcon",!0);Se.text=de?de+" "+Ve:Ve}}function ae(Se,we,Me,Ve){var de=b!=null&&t[Se][b],dt=a[Se];return de?(t[Se][b]=null,ce(dt,de)):m||(de=new we,de instanceof eu&&(de.z2=IGe(Me,Ve)),me(dt,de)),e[Se][y]=de}function ce(Se,we){var Me=Se[y]={};we instanceof OB?(Me.oldX=we.x,Me.oldY=we.y):Me.oldShape=nt({},we.shape)}function me(Se,we){var Me=Se[y]={},Ve=s.parentNode,de=we instanceof er;if(Ve&&(!n||n.direction==="drillDown")){var dt=0,K=0,se=a.background[Ve.getRawIndex()];!n&&se&&se.oldShape&&(dt=se.oldShape.width,K=se.oldShape.height),de?(Me.oldX=0,Me.oldY=K):Me.oldShape={x:dt,y:K,width:0,height:0}}Me.fadein=!de}}function IGe(r,e){return r*MGe+e}var eA=te,LGe=nr,TN=-1,Ji=(function(){function r(e){var t=e.mappingMethod,n=e.type,a=this.option=Qt(e);this.type=n,this.mappingMethod=t,this._normalizeData=PGe[t];var i=r.visualHandlers[n];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._normalizedToVisual=i._normalizedToVisual[t],t==="piecewise"?(c5(a),OGe(a)):t==="category"?a.categories?kGe(a):c5(a,!0):(Hs(t!=="linear"||a.dataExtent),c5(a))}return r.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},r.prototype.getNormalizer=function(){return Ot(this._normalizeData,this)},r.listVisualTypes=function(){return Yr(r.visualHandlers)},r.isValidType=function(e){return r.visualHandlers.hasOwnProperty(e)},r.eachVisual=function(e,t,n){nr(e)?te(e,t,n):t.call(n,e)},r.mapVisual=function(e,t,n){var a,i=ct(e)?[]:nr(e)?{}:(a=!0,null);return r.eachVisual(e,function(s,o){var l=t.call(n,s,o);a?i=l:i[o]=l}),i},r.retrieveVisuals=function(e){var t={},n;return e&&eA(r.visualHandlers,function(a,i){e.hasOwnProperty(i)&&(t[i]=e[i],n=!0)}),n?t:null},r.prepareVisualTypes=function(e){if(ct(e))e=e.slice();else if(LGe(e)){var t=[];eA(e,function(n,a){t.push(a)}),e=t}else return[];return e.sort(function(n,a){return a==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),e},r.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},r.findPieceIndex=function(e,t,n){for(var a,i=1/0,s=0,o=t.length;s<o;s++){var l=t[s].value;if(l!=null){if(l===e||It(l)&&l===e+"")return s;n&&h(l,s)}}for(var s=0,o=t.length;s<o;s++){var c=t[s],u=c.interval,f=c.close;if(u){if(u[0]===-1/0){if(w3(f[1],e,u[1]))return s}else if(u[1]===1/0){if(w3(f[0],u[0],e))return s}else if(w3(f[0],u[0],e)&&w3(f[1],e,u[1]))return s;n&&h(u[0],s),n&&h(u[1],s)}}if(n)return e===1/0?t.length-1:e===-1/0?0:a;function h(d,v){var g=Math.abs(d-e);g<i&&(i=g,a=v)}},r.visualHandlers={color:{applyVisual:O2("color"),getColorMapper:function(){var e=this.option;return Ot(e.mappingMethod==="category"?function(t,n){return!n&&(t=this._normalizeData(t)),lw.call(this,t)}:function(t,n,a){var i=!!a;return!n&&(t=this._normalizeData(t)),a=Uw(t,e.parsedVisual,a),i?a:qc(a,"rgba")},this)},_normalizedToVisual:{linear:function(e){return qc(Uw(e,this.option.parsedVisual),"rgba")},category:lw,piecewise:function(e,t){var n=PB.call(this,t);return n==null&&(n=qc(Uw(e,this.option.parsedVisual),"rgba")),n},fixed:am}},colorHue:S3(function(e,t){return jd(e,t)}),colorSaturation:S3(function(e,t){return jd(e,null,t)}),colorLightness:S3(function(e,t){return jd(e,null,null,t)}),colorAlpha:S3(function(e,t){return LT(e,t)}),decal:{applyVisual:O2("decal"),_normalizedToVisual:{linear:null,category:lw,piecewise:null,fixed:null}},opacity:{applyVisual:O2("opacity"),_normalizedToVisual:kB([0,1])},liftZ:{applyVisual:O2("liftZ"),_normalizedToVisual:{linear:am,category:am,piecewise:am,fixed:am}},symbol:{applyVisual:function(e,t,n){var a=this.mapValueToVisual(e);n("symbol",a)},_normalizedToVisual:{linear:GZ,category:lw,piecewise:function(e,t){var n=PB.call(this,t);return n==null&&(n=GZ.call(this,e)),n},fixed:am}},symbolSize:{applyVisual:O2("symbolSize"),_normalizedToVisual:kB([0,1])}},r})();function OGe(r){var e=r.pieceList;r.hasSpecialVisual=!1,te(e,function(t,n){t.originIndex=n,t.visual!=null&&(r.hasSpecialVisual=!0)})}function kGe(r){var e=r.categories,t=r.categoryMap={},n=r.visual;if(eA(e,function(s,o){t[s]=o}),!ct(n)){var a=[];nr(n)?eA(n,function(s,o){var l=t[o];a[l??TN]=s}):a[TN]=n,n=eue(r,a)}for(var i=e.length-1;i>=0;i--)n[i]==null&&(delete t[e[i]],e.pop())}function c5(r,e){var t=r.visual,n=[];nr(t)?eA(t,function(i){n.push(i)}):t!=null&&n.push(t);var a={color:1,symbol:1};!e&&n.length===1&&!a.hasOwnProperty(r.type)&&(n[1]=n[0]),eue(r,n)}function S3(r){return{applyVisual:function(e,t,n){var a=this.mapValueToVisual(e);n("color",r(t("color"),a))},_normalizedToVisual:kB([0,1])}}function GZ(r){var e=this.option.visual;return e[Math.round(gn(r,[0,1],[0,e.length-1],!0))]||{}}function O2(r){return function(e,t,n){n(r,this.mapValueToVisual(e))}}function lw(r){var e=this.option.visual;return e[this.option.loop&&r!==TN?r%e.length:r]}function am(){return this.option.visual[0]}function kB(r){return{linear:function(e){return gn(e,r,this.option.visual,!0)},category:lw,piecewise:function(e,t){var n=PB.call(this,t);return n==null&&(n=gn(e,r,this.option.visual,!0)),n},fixed:am}}function PB(r){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var n=Ji.findPieceIndex(r,t),a=t[n];if(a&&a.visual)return a.visual[this.type]}}function eue(r,e){return r.visual=e,r.type==="color"&&(r.parsedVisual=ft(e,function(t){var n=_o(t);return n||[0,0,0,1]})),e}var PGe={linear:function(r){return gn(r,this.option.dataExtent,[0,1],!0)},piecewise:function(r){var e=this.option.pieceList,t=Ji.findPieceIndex(r,e,!0);if(t!=null)return gn(t,[0,e.length-1],[0,1],!0)},category:function(r){var e=this.option.categories?this.option.categoryMap[r]:r;return e??TN},fixed:Wa};function w3(r,e,t){return r?e<=t:e<t}var BGe="itemStyle",tue=Pr();const zGe={seriesType:"treemap",reset:function(r){var e=r.getData().tree,t=e.root;t.isRemoved()||rue(t,{},r.getViewRoot().getAncestors(),r)}};function rue(r,e,t,n){var a=r.getModel(),i=r.getLayout(),s=r.hostTree.data;if(!(!i||i.invisible||!i.isInView)){var o=a.getModel(BGe),l=FGe(o,e,n),c=s.ensureUniqueItemVisual(r.dataIndex,"style"),u=o.get("borderColor"),f=o.get("borderColorSaturation"),h;f!=null&&(h=jZ(l),u=UGe(f,h)),c.stroke=u;var d=r.viewChildren;if(!d||!d.length)h=jZ(l),c.fill=h;else{var v=VGe(r,a,i,o,l,d);te(d,function(g,m){if(g.depth>=t.length||g===t[g.depth]){var y=HGe(a,l,g,m,v,n);rue(g,y,t,n)}})}}}function FGe(r,e,t){var n=nt({},e),a=t.designatedVisualItemStyle;return te(["color","colorAlpha","colorSaturation"],function(i){a[i]=e[i];var s=r.get(i);a[i]=null,s!=null&&(n[i]=s)}),n}function jZ(r){var e=u5(r,"color");if(e){var t=u5(r,"colorAlpha"),n=u5(r,"colorSaturation");return n&&(e=jd(e,null,null,n)),t&&(e=LT(e,t)),e}}function UGe(r,e){return e!=null?jd(e,null,null,r):null}function u5(r,e){var t=r[e];if(t!=null&&t!=="none")return t}function VGe(r,e,t,n,a,i){if(!(!i||!i.length)){var s=f5(e,"color")||a.color!=null&&a.color!=="none"&&(f5(e,"colorAlpha")||f5(e,"colorSaturation"));if(s){var o=e.get("visualMin"),l=e.get("visualMax"),c=t.dataExtent.slice();o!=null&&o<c[0]&&(c[0]=o),l!=null&&l>c[1]&&(c[1]=l);var u=e.get("colorMappingBy"),f={type:s.name,dataExtent:c,visual:s.range};f.type==="color"&&(u==="index"||u==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var h=new Ji(f);return tue(h).drColorMappingBy=u,h}}}function f5(r,e){var t=r.get(e);return ct(t)&&t.length?{name:e,range:t}:null}function HGe(r,e,t,n,a,i){var s=nt({},e);if(a){var o=a.type,l=o==="color"&&tue(a).drColorMappingBy,c=l==="index"?n:l==="id"?i.mapIdToIndex(t.getId()):t.getValue(r.get("visualDimension"));s[o]=a.mapValueToVisual(c)}return s}var tA=Math.max,AN=Math.min,WZ=bs,VU=te,nue=["itemStyle","borderWidth"],GGe=["itemStyle","gapWidth"],jGe=["upperLabel","show"],WGe=["upperLabel","height"];const YGe={seriesType:"treemap",reset:function(r,e,t,n){var a=r.option,i=Pi(r,t).refContainer,s=ma(r.getBoxLayoutParams(),i),o=a.size||[],l=Nt(WZ(s.width,o[0]),i.width),c=Nt(WZ(s.height,o[1]),i.height),u=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],h=QT(n,f,r),d=u==="treemapRender"||u==="treemapMove"?n.rootRect:null,v=r.getViewRoot(),g=$ce(v);if(u!=="treemapMove"){var m=u==="treemapZoomToNode"?JGe(r,h,v,l,c):d?[d.width,d.height]:[l,c],y=a.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var b={squareRatio:a.squareRatio,sort:y,leafDepth:a.leafDepth};v.hostTree.clearLayouts();var S={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};v.setLayout(S),aue(v,b,!1,0),S=v.getLayout(),VU(g,function(E,M){var R=(g[M+1]||v).getValue();E.setLayout(nt({dataExtent:[R,R],borderWidth:0,upperHeight:0},S))})}var A=r.getData().tree.root;A.setLayout(QGe(s,d,h),!0),r.setLayoutInfo(s),iue(A,new sr(-s.x,-s.y,t.getWidth(),t.getHeight()),g,v,0)}};function aue(r,e,t,n){var a,i;if(!r.isRemoved()){var s=r.getLayout();a=s.width,i=s.height;var o=r.getModel(),l=o.get(nue),c=o.get(GGe)/2,u=sue(o),f=Math.max(l,u),h=l-c,d=f-c;r.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:u},!0),a=tA(a-2*h,0),i=tA(i-h-d,0);var v=a*i,g=XGe(r,o,v,e,t,n);if(g.length){var m={x:h,y:d,width:a,height:i},y=AN(a,i),b=1/0,S=[];S.area=0;for(var A=0,E=g.length;A<E;){var M=g[A];S.push(M),S.area+=M.getLayout().area;var R=$Ge(S,y,e.squareRatio);R<=b?(A++,b=R):(S.area-=S.pop().getLayout().area,YZ(S,y,m,c,!1),y=AN(m.width,m.height),S.length=S.area=0,b=1/0)}if(S.length&&YZ(S,y,m,c,!0),!t){var L=o.get("childrenVisibleMin");L!=null&&v<L&&(t=!0)}for(var A=0,E=g.length;A<E;A++)aue(g[A],e,t,n+1)}}}function XGe(r,e,t,n,a,i){var s=r.children||[],o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=n.leafDepth!=null&&n.leafDepth<=i;if(a&&!l)return r.viewChildren=[];s=fn(s,function(d){return!d.isRemoved()}),ZGe(s,o);var c=KGe(e,s,o);if(c.sum===0)return r.viewChildren=[];if(c.sum=qGe(e,t,c.sum,o,s),c.sum===0)return r.viewChildren=[];for(var u=0,f=s.length;u<f;u++){var h=s[u].getValue()/c.sum*t;s[u].setLayout({area:h})}return l&&(s.length&&r.setLayout({isLeafRoot:!0},!0),s.length=0),r.viewChildren=s,r.setLayout({dataExtent:c.dataExtent},!0),s}function qGe(r,e,t,n,a){if(!n)return t;for(var i=r.get("visibleMin"),s=a.length,o=s,l=s-1;l>=0;l--){var c=a[n==="asc"?s-l-1:l].getValue();c/t*e<i&&(o=l,t-=c)}return n==="asc"?a.splice(0,s-o):a.splice(o,s-o),t}function ZGe(r,e){return e&&r.sort(function(t,n){var a=e==="asc"?t.getValue()-n.getValue():n.getValue()-t.getValue();return a===0?e==="asc"?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:a}),r}function KGe(r,e,t){for(var n=0,a=0,i=e.length;a<i;a++)n+=e[a].getValue();var s=r.get("visualDimension"),o;return!e||!e.length?o=[NaN,NaN]:s==="value"&&t?(o=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&o.reverse()):(o=[1/0,-1/0],VU(e,function(l){var c=l.getValue(s);c<o[0]&&(o[0]=c),c>o[1]&&(o[1]=c)})),{sum:n,dataExtent:o}}function $Ge(r,e,t){for(var n=0,a=1/0,i=0,s=void 0,o=r.length;i<o;i++)s=r[i].getLayout().area,s&&(s<a&&(a=s),s>n&&(n=s));var l=r.area*r.area,c=e*e*t;return l?tA(c*n/l,l/(c*a)):1/0}function YZ(r,e,t,n,a){var i=e===t.width?0:1,s=1-i,o=["x","y"],l=["width","height"],c=t[o[i]],u=e?r.area/e:0;(a||u>t[l[s]])&&(u=t[l[s]]);for(var f=0,h=r.length;f<h;f++){var d=r[f],v={},g=u?d.getLayout().area/u:0,m=v[l[s]]=tA(u-2*n,0),y=t[o[i]]+t[l[i]]-c,b=f===h-1||y<g?y:g,S=v[l[i]]=tA(b-2*n,0);v[o[s]]=t[o[s]]+AN(n,m/2),v[o[i]]=c+AN(n,S/2),c+=b,d.setLayout(v,!0)}t[o[s]]+=u,t[l[s]]-=u}function JGe(r,e,t,n,a){var i=(e||{}).node,s=[n,a];if(!i||i===t)return s;for(var o,l=n*a,c=l*r.option.zoomToNodeRatio;o=i.parentNode;){for(var u=0,f=o.children,h=0,d=f.length;h<d;h++)u+=f[h].getValue();var v=i.getValue();if(v===0)return s;c*=u/v;var g=o.getModel(),m=g.get(nue),y=Math.max(m,sue(g));c+=4*m*m+(3*m+y)*Math.pow(c,.5),c>C6&&(c=C6),i=o}c<l&&(c=l);var b=Math.pow(c/l,.5);return[n*b,a*b]}function QGe(r,e,t){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!t)return n;var a=t.node,i=a.getLayout();if(!i)return n;for(var s=[i.width/2,i.height/2],o=a;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:r.width/2-s[0],y:r.height/2-s[1]}}function iue(r,e,t,n,a){var i=r.getLayout(),s=t[a],o=s&&s===r;if(!(s&&!o||a===t.length&&r!==n)){r.setLayout({isInView:!0,invisible:!o&&!e.intersect(i),isAboveViewRoot:o},!0);var l=new sr(e.x-i.x,e.y-i.y,e.width,e.height);VU(r.viewChildren||[],function(c){iue(c,l,t,n,a+1)})}}function sue(r){return r.get(jGe)?r.get(WGe):0}function eje(r){r.registerSeriesModel(xGe),r.registerChartView(RGe),r.registerVisual(zGe),r.registerLayout(YGe),yGe(r)}function tje(r){var e=r.findComponents({mainType:"legend"});!e||!e.length||r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),a=t.getGraph(),i=a.data,s=n.mapArray(n.getName);i.filterSelf(function(o){var l=i.getItemModel(o),c=l.getShallow("category");if(c!=null){$r(c)&&(c=s[c]);for(var u=0;u<e.length;u++)if(!e[u].isSelected(c))return!1}return!0})})}function rje(r){var e={};r.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),a=t.getData(),i={};n.each(function(s){var o=n.getName(s);i["ec-"+o]=s;var l=n.getItemModel(s),c=l.getModel("itemStyle").getItemStyle();c.fill||(c.fill=t.getColorFromPalette(o,e)),n.setItemVisual(s,"style",c);for(var u=["symbol","symbolSize","symbolKeepAspect"],f=0;f<u.length;f++){var h=l.getShallow(u[f],!0);h!=null&&n.setItemVisual(s,u[f],h)}}),n.count()&&a.each(function(s){var o=a.getItemModel(s),l=o.getShallow("category");if(l!=null){It(l)&&(l=i["ec-"+l]);var c=n.getItemVisual(l,"style"),u=a.ensureUniqueItemVisual(s,"style");nt(u,c);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++)a.setItemVisual(s,f[h],n.getItemVisual(l,f[h]))}})})}function T3(r){return r instanceof Array||(r=[r,r]),r}function nje(r){r.eachSeriesByType("graph",function(e){var t=e.getGraph(),n=e.getEdgeData(),a=T3(e.get("edgeSymbol")),i=T3(e.get("edgeSymbolSize"));n.setVisual("fromSymbol",a&&a[0]),n.setVisual("toSymbol",a&&a[1]),n.setVisual("fromSymbolSize",i&&i[0]),n.setVisual("toSymbolSize",i&&i[1]),n.setVisual("style",e.getModel("lineStyle").getLineStyle()),n.each(function(s){var o=n.getItemModel(s),l=t.getEdgeByIndex(s),c=T3(o.getShallow("symbol",!0)),u=T3(o.getShallow("symbolSize",!0)),f=o.getModel("lineStyle").getLineStyle(),h=n.ensureUniqueItemVisual(s,"style");switch(nt(h,f),h.stroke){case"source":{var d=l.node1.getVisual("style");h.stroke=d&&d.fill;break}case"target":{var d=l.node2.getVisual("style");h.stroke=d&&d.fill;break}}c[0]&&l.setVisual("fromSymbol",c[0]),c[1]&&l.setVisual("toSymbol",c[1]),u[0]&&l.setVisual("fromSymbolSize",u[0]),u[1]&&l.setVisual("toSymbolSize",u[1])})})}var BB="-->",_L=function(r){return r.get("autoCurveness")||null},oue=function(r,e){var t=_L(r),n=20,a=[];if($r(t))n=t;else if(ct(t)){r.__curvenessList=t;return}e>n&&(n=e);var i=n%2?n+2:n+3;a=[];for(var s=0;s<i;s++)a.push((s%2?s+1:s)/10*(s%2?-1:1));r.__curvenessList=a},rA=function(r,e,t){var n=[r.id,r.dataIndex].join("."),a=[e.id,e.dataIndex].join(".");return[t.uid,n,a].join(BB)},lue=function(r){var e=r.split(BB);return[e[0],e[2],e[1]].join(BB)},aje=function(r,e){var t=rA(r.node1,r.node2,e);return e.__edgeMap[t]},ije=function(r,e){var t=zB(rA(r.node1,r.node2,e),e),n=zB(rA(r.node2,r.node1,e),e);return t+n},zB=function(r,e){var t=e.__edgeMap;return t[r]?t[r].length:0};function sje(r){_L(r)&&(r.__curvenessList=[],r.__edgeMap={},oue(r))}function oje(r,e,t,n){if(_L(t)){var a=rA(r,e,t),i=t.__edgeMap,s=i[lue(a)];i[a]&&!s?i[a].isForward=!0:s&&i[a]&&(s.isForward=!0,i[a].isForward=!1),i[a]=i[a]||[],i[a].push(n)}}function HU(r,e,t,n){var a=_L(e),i=ct(a);if(!a)return null;var s=aje(r,e);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===t){o=l;break}var c=ije(r,e);oue(e,c),r.lineStyle=r.lineStyle||{};var u=rA(r.node1,r.node2,e),f=e.__curvenessList,h=i||c%2?0:1;if(s.isForward)return f[h+o];var d=lue(u),v=zB(d,e),g=f[o+v+h];return n?i?a&&a[0]===0?(v+h)%2?g:-g:((v%2?0:1)+h)%2?g:-g:(v+h)%2?g:-g:f[o+v+h]}function cue(r){var e=r.coordinateSystem;if(!(e&&e.type!=="view")){var t=r.getGraph();t.eachNode(function(n){var a=n.getModel();n.setLayout([+a.get("x"),+a.get("y")])}),GU(t,r)}}function GU(r,e){r.eachEdge(function(t,n){var a=El(t.getModel().get(["lineStyle","curveness"]),-HU(t,e,n,!0),0),i=mh(t.node1.getLayout()),s=mh(t.node2.getLayout()),o=[i,s];+a&&o.push([(i[0]+s[0])/2-(i[1]-s[1])*a,(i[1]+s[1])/2-(s[0]-i[0])*a]),t.setLayout(o)})}function lje(r,e){r.eachSeriesByType("graph",function(t){var n=t.get("layout"),a=t.coordinateSystem;if(a&&a.type!=="view"){var i=t.getData(),s=[];te(a.dimensions,function(h){s=s.concat(i.mapDimensionsAll(h))});for(var o=0;o<i.count();o++){for(var l=[],c=!1,u=0;u<s.length;u++){var f=i.get(s[u],o);isNaN(f)||(c=!0),l.push(f)}c?i.setItemLayout(o,a.dataToPoint(l)):i.setItemLayout(o,[NaN,NaN])}GU(i.graph,t)}else(!n||n==="none")&&cue(t)})}function cw(r){var e=r.coordinateSystem;if(e.type!=="view")return 1;var t=r.option.nodeScaleRatio,n=e.scaleX,a=e.getZoom(),i=(a-1)*t+1;return i/n}function uw(r){var e=r.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var XZ=Math.PI,h5=[];function jU(r,e,t,n){var a=r.coordinateSystem;if(!(a&&a.type!=="view")){var i=a.getBoundingRect(),s=r.getData(),o=s.graph,l=i.width/2+i.x,c=i.height/2+i.y,u=Math.min(i.width,i.height)/2,f=s.count();if(s.setLayout({cx:l,cy:c}),!!f){if(t){var h=a.pointToData(n),d=h[0],v=h[1],g=[d-l,v-c];vy(g,g),Pw(g,g,u),t.setLayout([l+g[0],c+g[1]],!0);var m=r.get(["circular","rotateLabel"]);uue(t,m,l,c)}cje[e](r,o,s,u,l,c,f),o.eachEdge(function(y,b){var S=El(y.getModel().get(["lineStyle","curveness"]),HU(y,r,b),0),A=mh(y.node1.getLayout()),E=mh(y.node2.getLayout()),M,R=(A[0]+E[0])/2,L=(A[1]+E[1])/2;+S&&(S*=3,M=[l*S+R*(1-S),c*S+L*(1-S)]),y.setLayout([A,E,M])})}}}var cje={value:function(r,e,t,n,a,i,s){var o=0,l=t.getSum("value"),c=Math.PI*2/(l||s);e.eachNode(function(u){var f=u.getValue("value"),h=c*(l?f:1)/2;o+=h,u.setLayout([n*Math.cos(o)+a,n*Math.sin(o)+i]),o+=h})},symbolSize:function(r,e,t,n,a,i,s){var o=0;h5.length=s;var l=cw(r);e.eachNode(function(f){var h=uw(f);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var d=Math.asin(h/2/n);isNaN(d)&&(d=XZ/2),h5[f.dataIndex]=d,o+=d*2});var c=(2*XZ-o)/s/2,u=0;e.eachNode(function(f){var h=c+h5[f.dataIndex];u+=h,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([n*Math.cos(u)+a,n*Math.sin(u)+i]),u+=h})}};function uue(r,e,t,n){var a=r.getGraphicEl();if(a){var i=r.getModel(),s=i.get(["label","rotate"])||0,o=a.getSymbolPath();if(e){var l=r.getLayout(),c=Math.atan2(l[1]-n,l[0]-t);c<0&&(c=Math.PI*2+c);var u=l[0]<t;u&&(c=c-Math.PI);var f=u?"left":"right";o.setTextConfig({rotation:-c,position:f,origin:"center"});var h=o.ensureState("emphasis");nt(h.textConfig||(h.textConfig={}),{position:f})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function uje(r){r.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&jU(e,"symbolSize")})}var x1=LR;function fje(r,e,t){for(var n=r,a=e,i=t.rect,s=i.width,o=i.height,l=[i.x+s/2,i.y+o/2],c=t.gravity==null?.1:t.gravity,u=0;u<n.length;u++){var f=n[u];f.p||(f.p=pv(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),f.pp=mh(f.p),f.edges=null}var h=t.friction==null?.6:t.friction,d=h,v,g;return{warmUp:function(){d=h*.8},setFixed:function(m){n[m].fixed=!0},setUnfixed:function(m){n[m].fixed=!1},beforeStep:function(m){v=m},afterStep:function(m){g=m},step:function(m){v&&v(n,a);for(var y=[],b=n.length,S=0;S<a.length;S++){var A=a[S];if(!A.ignoreForceLayout){var E=A.n1,M=A.n2;R0(y,M.p,E.p);var R=RT(y)-A.d,L=M.w/(E.w+M.w);isNaN(L)&&(L=0),vy(y,y),!E.fixed&&x1(E.p,E.p,y,L*R*d),!M.fixed&&x1(M.p,M.p,y,-(1-L)*R*d)}}for(var S=0;S<b;S++){var I=n[S];I.fixed||(R0(y,l,I.p),x1(I.p,I.p,y,c*d))}for(var S=0;S<b;S++)for(var E=n[S],O=S+1;O<b;O++){var M=n[O];R0(y,M.p,E.p);var R=RT(y);R===0&&(GI(y,Math.random()-.5,Math.random()-.5),R=1);var P=(E.rep+M.rep)/R/R;!E.fixed&&x1(E.pp,E.pp,y,P),!M.fixed&&x1(M.pp,M.pp,y,-P)}for(var k=[],S=0;S<b;S++){var I=n[S];I.fixed||(R0(k,I.p,I.pp),x1(I.p,I.p,k,d),lo(I.pp,I.p))}d=d*.992;var U=d<.01;g&&g(n,a,U),m&&m(U)}}}function hje(r){r.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var n=e.preservedPoints||{},a=e.getGraph(),i=a.data,s=a.edgeData,o=e.getModel("force"),l=o.get("initLayout");e.preservedPoints?i.each(function(S){var A=i.getId(S);i.setItemLayout(S,n[A]||[NaN,NaN])}):!l||l==="none"?cue(e):l==="circular"&&jU(e,"value");var c=i.getDataExtent("value"),u=s.getDataExtent("value"),f=o.get("repulsion"),h=o.get("edgeLength"),d=ct(f)?f:[f,f],v=ct(h)?h:[h,h];v=[v[1],v[0]];var g=i.mapArray("value",function(S,A){var E=i.getItemLayout(A),M=gn(S,c,d);return isNaN(M)&&(M=(d[0]+d[1])/2),{w:M,rep:M,fixed:i.getItemModel(A).get("fixed"),p:!E||isNaN(E[0])||isNaN(E[1])?null:E}}),m=s.mapArray("value",function(S,A){var E=a.getEdgeByIndex(A),M=gn(S,u,v);isNaN(M)&&(M=(v[0]+v[1])/2);var R=E.getModel(),L=El(E.getModel().get(["lineStyle","curveness"]),-HU(E,e,A,!0),0);return{n1:g[E.node1.dataIndex],n2:g[E.node2.dataIndex],d:M,curveness:L,ignoreForceLayout:R.get("ignoreForceLayout")}}),y=t.getBoundingRect(),b=fje(g,m,{rect:y,gravity:o.get("gravity"),friction:o.get("friction")});b.beforeStep(function(S,A){for(var E=0,M=S.length;E<M;E++)S[E].fixed&&lo(S[E].p,a.getNodeByIndex(E).getLayout())}),b.afterStep(function(S,A,E){for(var M=0,R=S.length;M<R;M++)S[M].fixed||a.getNodeByIndex(M).setLayout(S[M].p),n[i.getId(M)]=S[M].p;for(var M=0,R=A.length;M<R;M++){var L=A[M],I=a.getEdgeByIndex(M),O=L.n1.p,P=L.n2.p,k=I.getLayout();k=k?k.slice():[],k[0]=k[0]||[],k[1]=k[1]||[],lo(k[0],O),lo(k[1],P),+L.curveness&&(k[2]=[(O[0]+P[0])/2-(O[1]-P[1])*L.curveness,(O[1]+P[1])/2-(P[0]-O[0])*L.curveness]),I.setLayout(k)}}),e.forceLayout=b,e.preservedPoints=n,b.step()}else e.forceLayout=null})}function dje(r,e,t){var n=Pi(r,e),a=nt(r.getBoxLayoutParams(),{aspect:t}),i=ma(a,n.refContainer);return zse(r,i,t)}function pje(r,e){var t=[];return r.eachSeriesByType("graph",function(n){jA({targetModel:n,coordSysType:"view",coordSysProvider:a,isDefaultDataCoordSys:!0});function a(){var i=n.getData(),s=i.mapArray(function(v){var g=i.getItemModel(v);return[+g.get("x"),+g.get("y")]}),o=[],l=[];JI(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var c=(l[0]-o[0])/(l[1]-o[1]),u=dje(n,e,c);isNaN(c)&&(o=[u.x,u.y],l=[u.x+u.width,u.y+u.height]);var f=l[0]-o[0],h=l[1]-o[1],d=new wy(null,{api:e,ecModel:r});return d.zoomLimit=n.get("scaleLimit"),d.setBoundingRect(o[0],o[1],f,h),d.setViewRect(u.x,u.y,u.width,u.height),d.setCenter(n.get("center")),d.setZoom(n.get("zoom")),t.push(d),d}}),t}var qZ=ai.prototype,d5=ib.prototype,fue=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return r})();(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(fue);function p5(r){return isNaN(+r.cpx1)||isNaN(+r.cpy1)}var hue=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="ec-line",n}return e.prototype.getDefaultStyle=function(){return{stroke:We.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new fue},e.prototype.buildPath=function(t,n){p5(n)?qZ.buildPath.call(this,t,n):d5.buildPath.call(this,t,n)},e.prototype.pointAt=function(t){return p5(this.shape)?qZ.pointAt.call(this,t):d5.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var n=this.shape,a=p5(n)?[n.x2-n.x1,n.y2-n.y1]:d5.tangentAt.call(this,t);return vy(a,a)},e})(Fr),v5=["fromSymbol","toSymbol"];function ZZ(r){return"_"+r+"Type"}function KZ(r,e,t){var n=e.getItemVisual(t,r);if(!n||n==="none")return n;var a=e.getItemVisual(t,r+"Size"),i=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=pb(a),c=_y(s||0,l);return n+l+c+(i||"")+(o||"")}function $Z(r,e,t){var n=e.getItemVisual(t,r);if(!(!n||n==="none")){var a=e.getItemVisual(t,r+"Size"),i=e.getItemVisual(t,r+"Rotate"),s=e.getItemVisual(t,r+"Offset"),o=e.getItemVisual(t,r+"KeepAspect"),l=pb(a),c=_y(s||0,l),u=oi(n,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,o);return u.__specifiedRotation=i==null||isNaN(i)?void 0:+i*Math.PI/180||0,u.name=r,u}}function vje(r){var e=new hue({name:"line",subPixelOptimize:!0});return FB(e.shape,r),e}function FB(r,e){r.x1=e[0][0],r.y1=e[0][1],r.x2=e[1][0],r.y2=e[1][1],r.percent=1;var t=e[2];t?(r.cpx1=t[0],r.cpy1=t[1]):(r.cpx1=NaN,r.cpy1=NaN)}var WU=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this)||this;return i._createLine(t,n,a),i}return e.prototype._createLine=function(t,n,a){var i=t.hostModel,s=t.getItemLayout(n),o=t.getItemVisual(n,"z2"),l=vje(s);l.shape.percent=0,ca(l,{z2:Gt(o,0),shape:{percent:1}},i,n),this.add(l),te(v5,function(c){var u=$Z(c,t,n);this.add(u),this[ZZ(c)]=KZ(c,t,n)},this),this._updateCommonStl(t,n,a)},e.prototype.updateData=function(t,n,a){var i=t.hostModel,s=this.childOfName("line"),o=t.getItemLayout(n),l={shape:{}};FB(l.shape,o),nn(s,l,i,n),te(v5,function(c){var u=KZ(c,t,n),f=ZZ(c);if(this[f]!==u){this.remove(this.childOfName(c));var h=$Z(c,t,n);this.add(h)}this[f]=u},this),this._updateCommonStl(t,n,a)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,n,a){var i=t.hostModel,s=this.childOfName("line"),o=a&&a.emphasisLineStyle,l=a&&a.blurLineStyle,c=a&&a.selectLineStyle,u=a&&a.labelStatesModels,f=a&&a.emphasisDisabled,h=a&&a.focus,d=a&&a.blurScope;if(!a||t.hasItemOption){var v=t.getItemModel(n),g=v.getModel("emphasis");o=g.getModel("lineStyle").getLineStyle(),l=v.getModel(["blur","lineStyle"]).getLineStyle(),c=v.getModel(["select","lineStyle"]).getLineStyle(),f=g.get("disabled"),h=g.get("focus"),d=g.get("blurScope"),u=ki(v)}var m=t.getItemVisual(n,"style"),y=m.stroke;s.useStyle(m),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=c,te(v5,function(M){var R=this.childOfName(M);if(R){R.setColor(y),R.style.opacity=m.opacity;for(var L=0;L<nl.length;L++){var I=nl[L],O=s.getState(I);if(O){var P=O.style||{},k=R.ensureState(I),U=k.style||(k.style={});P.stroke!=null&&(U[R.__isEmptyBrush?"stroke":"fill"]=P.stroke),P.opacity!=null&&(U.opacity=P.opacity)}}R.markRedraw()}},this);var b=i.getRawValue(n);rs(this,u,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(M,R){return i.getFormattedLabel(M,R,t.dataType)}},inheritColor:y||We.color.neutral99,defaultOpacity:m.opacity,defaultText:(b==null?t.getName(n):isFinite(b)?ni(b):b)+""});var S=this.getTextContent();if(S){var A=u.normal;S.__align=S.style.align,S.__verticalAlign=S.style.verticalAlign,S.__position=A.get("position")||"middle";var E=A.get("distance");ct(E)||(E=[E,E]),S.__labelDistance=E}this.setTextConfig({position:null,local:!0,inside:!1}),Sa(this,h,d,f)},e.prototype.highlight=function(){np(this)},e.prototype.downplay=function(){ap(this)},e.prototype.updateLayout=function(t,n){this.setLinePoints(t.getItemLayout(n))},e.prototype.setLinePoints=function(t){var n=this.childOfName("line");FB(n.shape,t),n.dirty()},e.prototype.beforeUpdate=function(){var t=this,n=t.childOfName("fromSymbol"),a=t.childOfName("toSymbol"),i=t.getTextContent();if(!n&&!a&&(!i||i.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var c=l.shape.percent,u=l.pointAt(0),f=l.pointAt(c),h=R0([],f,u);vy(h,h);function d(O,P){var k=O.__specifiedRotation;if(k==null){var U=l.tangentAt(P);O.attr("rotation",(P===1?-1:1)*Math.PI/2-Math.atan2(U[1],U[0]))}else O.attr("rotation",k)}if(n&&(n.setPosition(u),d(n,0),n.scaleX=n.scaleY=s*c,n.markRedraw()),a&&(a.setPosition(f),d(a,1),a.scaleX=a.scaleY=s*c,a.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var v=void 0,g=void 0,m=i.__labelDistance,y=m[0]*s,b=m[1]*s,S=c/2,A=l.tangentAt(S),E=[A[1],-A[0]],M=l.pointAt(S);E[1]>0&&(E[0]=-E[0],E[1]=-E[1]);var R=A[0]<0?-1:1;if(i.__position!=="start"&&i.__position!=="end"){var L=-Math.atan2(A[1],A[0]);f[0]<u[0]&&(L=Math.PI+L),i.rotation=L}var I=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":I=-b,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":I=b,g="top";break;default:I=0,g="middle"}switch(i.__position){case"end":i.x=h[0]*y+f[0],i.y=h[1]*b+f[1],v=h[0]>.8?"left":h[0]<-.8?"right":"center",g=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":i.x=-h[0]*y+u[0],i.y=-h[1]*b+u[1],v=h[0]>.8?"right":h[0]<-.8?"left":"center",g=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=y*R+u[0],i.y=u[1]+I,v=A[0]<0?"right":"left",i.originX=-y*R,i.originY=-I;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=M[0],i.y=M[1]+I,v="center",i.originY=-I;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-y*R+f[0],i.y=f[1]+I,v=A[0]>=0?"right":"left",i.originX=y*R,i.originY=-I;break}i.scaleX=i.scaleY=s,i.setStyle({verticalAlign:i.__verticalAlign||g,align:i.__align||v})}},e})(er),YU=(function(){function r(e){this.group=new er,this._LineCtor=e||WU}return r.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,a=n.group,i=n._lineData;n._lineData=e,i||a.removeAll();var s=JZ(e);e.diff(i).add(function(o){t._doAdd(e,o,s)}).update(function(o,l){t._doUpdate(i,e,l,o,s)}).remove(function(o){a.remove(i.getItemGraphicEl(o))}).execute()},r.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)},r.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=JZ(e),this._lineData=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function n(o){!o.isGroup&&!gje(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var i=t.getItemLayout(a);if(g5(i)){var s=new this._LineCtor(t,a,this._seriesScope);s.traverse(n),this.group.add(s),t.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},r.prototype.remove=function(){this.group.removeAll()},r.prototype.eachRendered=function(e){vv(this._progressiveEls||this.group,e)},r.prototype._doAdd=function(e,t,n){var a=e.getItemLayout(t);if(g5(a)){var i=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,i),this.group.add(i)}},r.prototype._doUpdate=function(e,t,n,a,i){var s=e.getItemGraphicEl(n);if(!g5(t.getItemLayout(a))){this.group.remove(s);return}s?s.updateData(t,a,i):s=new this._LineCtor(t,a,i),t.setItemGraphicEl(a,s),this.group.add(s)},r})();function gje(r){return r.animators&&r.animators.length>0}function JZ(r){var e=r.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:ki(e)}}function QZ(r){return isNaN(r[0])||isNaN(r[1])}function g5(r){return r&&!QZ(r[0])&&!QZ(r[1])}var m5=[],y5=[],x5=[],_1=_s,_5=U0,eK=Math.abs;function tK(r,e,t){for(var n=r[0],a=r[1],i=r[2],s=1/0,o,l=t*t,c=.1,u=.1;u<=.9;u+=.1){m5[0]=_1(n[0],a[0],i[0],u),m5[1]=_1(n[1],a[1],i[1],u);var f=eK(_5(m5,e)-l);f<s&&(s=f,o=u)}for(var h=0;h<32;h++){var d=o+c;y5[0]=_1(n[0],a[0],i[0],o),y5[1]=_1(n[1],a[1],i[1],o),x5[0]=_1(n[0],a[0],i[0],d),x5[1]=_1(n[1],a[1],i[1],d);var f=_5(y5,e)-l;if(eK(f)<.01)break;var v=_5(x5,e)-l;c/=2,f<0?v>=0?o=o+c:o=o-c:v>=0?o=o-c:o=o+c}return o}function b5(r,e){var t=[],n=NT,a=[[],[],[]],i=[[],[]],s=[];e/=2,r.eachEdge(function(o,l){var c=o.getLayout(),u=o.getVisual("fromSymbol"),f=o.getVisual("toSymbol");c.__original||(c.__original=[mh(c[0]),mh(c[1])],c[2]&&c.__original.push(mh(c[2])));var h=c.__original;if(c[2]!=null){if(lo(a[0],h[0]),lo(a[1],h[2]),lo(a[2],h[1]),u&&u!=="none"){var d=uw(o.node1),v=tK(a,h[0],d*e);n(a[0][0],a[1][0],a[2][0],v,t),a[0][0]=t[3],a[1][0]=t[4],n(a[0][1],a[1][1],a[2][1],v,t),a[0][1]=t[3],a[1][1]=t[4]}if(f&&f!=="none"){var d=uw(o.node2),v=tK(a,h[1],d*e);n(a[0][0],a[1][0],a[2][0],v,t),a[1][0]=t[1],a[2][0]=t[2],n(a[0][1],a[1][1],a[2][1],v,t),a[1][1]=t[1],a[2][1]=t[2]}lo(c[0],a[0]),lo(c[1],a[2]),lo(c[2],a[1])}else{if(lo(i[0],h[0]),lo(i[1],h[1]),R0(s,i[1],i[0]),vy(s,s),u&&u!=="none"){var d=uw(o.node1);LR(i[0],i[0],s,d*e)}if(f&&f!=="none"){var d=uw(o.node2);LR(i[1],i[1],s,-d*e)}lo(c[0],i[0]),lo(c[1],i[1])}})}var due=Pr();function mje(r){if(r)return due(r).bridge}function rK(r,e){r&&(due(r).bridge=e)}function nK(r){return r.type==="view"}var yje=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){var a=new qA,i=new YU,s=this.group,o=new er;this._controller=new Sy(n.getZr()),this._controllerHost={target:o},o.add(a.group),o.add(i.group),s.add(o),this._symbolDraw=a,this._lineDraw=i,this._mainGroup=o,this._firstRender=!0},e.prototype.render=function(t,n,a){var i=this,s=t.coordinateSystem,o=!1;this._model=t,this._api=a,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(a);var c=this._symbolDraw,u=this._lineDraw;if(nK(s)){var f={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?this._mainGroup.attr(f):nn(this._mainGroup,f,t)}b5(t.getGraph(),cw(t));var h=t.getData();c.updateData(h);var d=t.getEdgeData();u.updateData(d),this._updateNodeAndLinkScale(),this._updateController(null,t,a),clearTimeout(this._layoutTimeout);var v=t.forceLayout,g=t.get(["force","layoutAnimation"]);v&&(o=!0,this._startForceLayoutIteration(v,a,g));var m=t.get("layout");h.graph.eachNode(function(A){var E=A.dataIndex,M=A.getGraphicEl(),R=A.getModel();if(M){M.off("drag").off("dragend");var L=R.get("draggable");L&&M.on("drag",function(O){switch(m){case"force":v.warmUp(),!i._layouting&&i._startForceLayoutIteration(v,a,g),v.setFixed(E),h.setItemLayout(E,[M.x,M.y]);break;case"circular":h.setItemLayout(E,[M.x,M.y]),A.setLayout({fixed:!0},!0),jU(t,"symbolSize",A,[O.offsetX,O.offsetY]),i.updateLayout(t);break;case"none":default:h.setItemLayout(E,[M.x,M.y]),GU(t.getGraph(),t),i.updateLayout(t);break}}).on("dragend",function(){v&&v.setUnfixed(E)}),M.setDraggable(L,!!R.get("cursor"));var I=R.get(["emphasis","focus"]);I==="adjacency"&&(or(M).focus=A.getAdjacentDataIndices())}}),h.graph.eachEdge(function(A){var E=A.getGraphicEl(),M=A.getModel().get(["emphasis","focus"]);E&&M==="adjacency"&&(or(E).focus={edge:[A.dataIndex],node:[A.node1.dataIndex,A.node2.dataIndex]})});var y=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),b=h.getLayout("cx"),S=h.getLayout("cy");h.graph.eachNode(function(A){uue(A,y,b,S)}),this._firstRender=!1,o||this._renderThumbnail(t,a,this._symbolDraw,this._lineDraw)},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,n,a){var i=this,s=!1;(function o(){t.step(function(l){i.updateLayout(i._model),(l||!s)&&(s=!0,i._renderThumbnail(i._model,n,i._symbolDraw,i._lineDraw)),(i._layouting=!l)&&(a?i._layoutTimeout=setTimeout(o,16):o())})})()},e.prototype._updateController=function(t,n,a){var i=this._controller,s=this._controllerHost,o=n.coordinateSystem;if(!nK(o)){i.disable();return}i.enable(n.get("roam"),{api:a,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(l,c,u){return o.containPoint([c,u])},isInClip:function(l,c,u){return!t||t.contain(c,u)}}}),s.zoomLimit=n.get("scaleLimit"),s.zoom=o.getZoom(),i.off("pan").off("zoom").on("pan",function(l){a.dispatchAction({seriesId:n.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){a.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},e.prototype.updateViewOnPan=function(t,n,a){this._active&&(OU(this._controllerHost,a.dx,a.dy),this._updateThumbnailWindow())},e.prototype.updateViewOnZoom=function(t,n,a){this._active&&(kU(this._controllerHost,a.zoom,a.originX,a.originY),this._updateNodeAndLinkScale(),b5(t.getGraph(),cw(t)),this._lineDraw.updateLayout(),n.updateLabelLayout(),this._updateThumbnailWindow())},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,n=t.getData(),a=cw(t);n.eachItemGraphicEl(function(i,s){i&&i.setSymbolScale(a)})},e.prototype.updateLayout=function(t){this._active&&(b5(t.getGraph(),cw(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},e.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},e.prototype._getThumbnailInfo=function(){var t=this._model,n=t.coordinateSystem;if(n.type==="view"){var a=mje(t);if(a)return{bridge:a,coordSys:n}}},e.prototype._updateThumbnailWindow=function(){var t=this._getThumbnailInfo();t&&t.bridge.updateWindow(t.coordSys.transform,this._api)},e.prototype._renderThumbnail=function(t,n,a,i){var s=this._getThumbnailInfo();if(s){var o=new er,l=a.group.children(),c=i.group.children(),u=new er,f=new er;o.add(f),o.add(u);for(var h=0;h<l.length;h++){var d=l[h],v=d.children()[0],g=d.x,m=d.y,y=Qt(v.shape),b=nt(y,{width:v.scaleX,height:v.scaleY,x:g-v.scaleX/2,y:m-v.scaleY/2}),S=Qt(v.style),A=new v.constructor({shape:b,style:S,z2:151});f.add(A)}for(var h=0;h<c.length;h++){var d=c[h],E=d.children()[0],S=Qt(E.style),b=Qt(E.shape),M=new hue({style:S,shape:b,z2:151});u.add(M)}s.bridge.renderContent({api:n,roamType:t.get("roam"),viewportRect:null,group:o,targetTrans:s.coordSys.transform})}},e.type="graph",e})(Ln);function b1(r){return"_EC_"+r}var xje=(function(){function r(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return r.prototype.isDirected=function(){return this._directed},r.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var n=this._nodesMap;if(!n[b1(e)]){var a=new im(e,t);return a.hostGraph=this,this.nodes.push(a),n[b1(e)]=a,a}},r.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},r.prototype.getNodeById=function(e){return this._nodesMap[b1(e)]},r.prototype.addEdge=function(e,t,n){var a=this._nodesMap,i=this._edgesMap;if($r(e)&&(e=this.nodes[e]),$r(t)&&(t=this.nodes[t]),e instanceof im||(e=a[b1(e)]),t instanceof im||(t=a[b1(t)]),!(!e||!t)){var s=e.id+"-"+t.id,o=new pue(e,t,n);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),t.inEdges.push(o)),e.edges.push(o),e!==t&&t.edges.push(o),this.edges.push(o),i[s]=o,o}},r.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},r.prototype.getEdge=function(e,t){e instanceof im&&(e=e.id),t instanceof im&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+"-"+t]:n[e+"-"+t]||n[t+"-"+e]},r.prototype.eachNode=function(e,t){for(var n=this.nodes,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},r.prototype.eachEdge=function(e,t){for(var n=this.edges,a=n.length,i=0;i<a;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},r.prototype.breadthFirstTraverse=function(e,t,n,a){if(t instanceof im||(t=this._nodesMap[b1(t)]),!!t){for(var i=n==="out"?"outEdges":n==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(a,t,null))for(var o=[t];o.length;)for(var l=o.shift(),c=l[i],s=0;s<c.length;s++){var u=c[s],f=u.node1===l?u.node2:u.node1;if(!f.__visited){if(e.call(a,f,l))return;o.push(f),f.__visited=!0}}}},r.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,a=this.edges,i=0,s=n.length;i<s;i++)n[i].dataIndex=-1;for(var i=0,s=e.count();i<s;i++)n[e.getRawIndex(i)].dataIndex=i;t.filterSelf(function(o){var l=a[t.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var i=0,s=a.length;i<s;i++)a[i].dataIndex=-1;for(var i=0,s=t.count();i<s;i++)a[t.getRawIndex(i)].dataIndex=i},r.prototype.clone=function(){for(var e=new r(this._directed),t=this.nodes,n=this.edges,a=0;a<t.length;a++)e.addNode(t[a].id,t[a].dataIndex);for(var a=0;a<n.length;a++){var i=n[a];e.addEdge(i.node1.id,i.node2.id,i.dataIndex)}return e},r})(),im=(function(){function r(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length},r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},r.prototype.getTrajectoryDataIndices=function(){for(var e=Ht(),t=Ht(),n=0,a=this.edges.length;n<a;n++){var i=this.edges[n];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var s=[i.node1],o=[i.node2],l=0;l<s.length;){var c=s[l];l++,t.set(c.dataIndex,!0);for(var u=c.inEdges,f=0,h=u.length,d=void 0,v=void 0;f<h;f++)d=u[f],v=d.dataIndex,v>=0&&!e.hasKey(v)&&(e.set(v,!0),s.push(d.node1))}for(l=0;l<o.length;){var g=o[l];l++,t.set(g.dataIndex,!0);for(var m=g.outEdges,f=0,y=m.length,b=void 0,S=void 0;f<y;f++)b=m[f],S=b.dataIndex,S>=0&&!e.hasKey(S)&&(e.set(S,!0),o.push(b.node2))}}}return{edge:e.keys(),node:t.keys()}},r})(),pue=(function(){function r(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=n??-1}return r.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}},r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},r.prototype.getTrajectoryDataIndices=function(){var e=Ht(),t=Ht();e.set(this.dataIndex,!0);for(var n=[this.node1],a=[this.node2],i=0;i<n.length;){var s=n[i];i++,t.set(s.dataIndex,!0);for(var o=s.inEdges,l=0,c=o.length,u=void 0,f=void 0;l<c;l++)u=s.inEdges[l],f=u.dataIndex,f>=0&&!e.hasKey(f)&&(e.set(f,!0),n.push(u.node1))}for(i=0;i<a.length;){var h=a[i];i++,t.set(h.dataIndex,!0);for(var d=h.outEdges,l=0,c=d.length,v=void 0,g=void 0;l<c;l++)v=h.outEdges[l],g=v.dataIndex,g>=0&&!e.hasKey(g)&&(e.set(g,!0),a.push(v.node2))}return{edge:e.keys(),node:t.keys()}},r})();function vue(r,e){return{getValue:function(t){var n=this[r][e];return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,n){this.dataIndex>=0&&this[r][e].setItemVisual(this.dataIndex,t,n)},getVisual:function(t){return this[r][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,n){this.dataIndex>=0&&this[r][e].setItemLayout(this.dataIndex,t,n)},getLayout:function(){return this[r][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[r][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[r][e].getRawIndex(this.dataIndex)}}}Xa(im,vue("hostGraph","data"));Xa(pue,vue("hostGraph","edgeData"));function XU(r,e,t,n,a){for(var i=new xje(n),s=0;s<r.length;s++)i.addNode(bs(r[s].id,r[s].name,s),s);for(var o=[],l=[],c=0,s=0;s<e.length;s++){var u=e[s],f=u.source,h=u.target;i.addEdge(f,h,c)&&(l.push(u),o.push(bs(Li(u.id,null),f+" > "+h)),c++)}var d=t.get("coordinateSystem"),v;if(d==="cartesian2d"||d==="polar"||d==="matrix")v=Oh(r,t);else{var g=fb.get(d),m=g?g.dimensions||[]:[];br(m,"value")<0&&m.concat(["value"]);var y=vb(r,{coordDimensions:m,encodeDefine:t.getEncode()}).dimensions;v=new bo(y,t),v.initData(r)}var b=new bo(["value"],t);return b.initData(l,o),a&&a(v,b),Zce({mainData:v,struct:i,structAttr:"graph",datas:{node:v,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),i.update(),i}var _je=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments);var n=this;function a(){return n._categoriesData}this.legendVisualProvider=new _b(a,a),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){r.prototype.mergeDefaultAndTheme.apply(this,arguments),Ym(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,n){var a=t.edges||t.links||[],i=t.data||t.nodes||[],s=this;if(i&&a){sje(this);var o=XU(i,a,this,!0,l);return te(o.edges,function(c){oje(c.node1,c.node2,this,c.dataIndex)},this),o.data}function l(c,u){c.wrapMethod("getItemModel",function(v){var g=s._categoriesModels,m=v.getShallow("category"),y=g[m];return y&&(y.parentModel=v.parentModel,v.parentModel=y),v});var f=zr.prototype.getModel;function h(v,g){var m=f.call(this,v,g);return m.resolveParentPath=d,m}u.wrapMethod("getItemModel",function(v){return v.resolveParentPath=d,v.getModel=h,v});function d(v){if(v&&(v[0]==="label"||v[1]==="label")){var g=v.slice();return v[0]==="label"?g[0]="edgeLabel":v[1]==="label"&&(g[1]="edgeLabel"),g}return v}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,n,a){if(a==="edge"){var i=this.getData(),s=this.getDataParams(t,a),o=i.graph.getEdgeByIndex(t),l=i.getName(o.node1.dataIndex),c=i.getName(o.node2.dataIndex),u=[];return l!=null&&u.push(l),c!=null&&u.push(c),Si("nameValue",{name:u.join(" > "),value:s.value,noValue:s.value==null})}var f=yoe({series:this,dataIndex:t,multipleSeries:n});return f},e.prototype._updateCategoriesData=function(){var t=ft(this.option.categories||[],function(a){return a.value!=null?a:nt({value:0},a)}),n=new bo(["value"],this);n.initData(t),this._categoriesData=n,this._categoriesModels=n.mapArray(function(a){return n.getItemModel(a)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:We.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:We.color.primary}}},e})(Hn);function bje(r){r.registerChartView(yje),r.registerSeriesModel(_je),r.registerProcessor(tje),r.registerVisual(rje),r.registerVisual(nje),r.registerLayout(lje),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,uje),r.registerLayout(hje),r.registerCoordinateSystem("graphView",{dimensions:wy.dimensions,create:pje}),r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Wa),r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Wa),r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",query:e},function(a){var i=n.getViewOfSeriesModel(a);i&&(e.dx!=null&&e.dy!=null&&i.updateViewOnPan(a,n,e),e.zoom!=null&&e.originX!=null&&e.originY!=null&&i.updateViewOnZoom(a,n,e));var s=a.coordinateSystem,o=mL(s,e,a.get("scaleLimit"));a.setCenter&&a.setCenter(o.center),a.setZoom&&a.setZoom(o.zoom)})})}var aK=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this)||this;or(i).dataType="node",i.z2=2;var s=new Kr;return i.setTextContent(s),i.updateData(t,n,a,!0),i}return e.prototype.updateData=function(t,n,a,i){var s=this,o=t.graph.getNodeByIndex(n),l=t.hostModel,c=o.getModel(),u=c.getModel("emphasis"),f=t.getItemLayout(n),h=nt(dh(c.getModel("itemStyle"),f,!0),f),d=this;if(isNaN(h.startAngle)){d.setShape(h);return}i?d.setShape(h):nn(d,{shape:h},l,n);var v=nt(dh(c.getModel("itemStyle"),f,!0),f);s.setShape(v),s.useStyle(t.getItemVisual(n,"style")),Oi(s,c),this._updateLabel(l,c,o),t.setItemGraphicEl(n,d),Oi(d,c,"itemStyle");var g=u.get("focus");Sa(this,g==="adjacency"?o.getAdjacentDataIndices():g,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,n,a){var i=this.getTextContent(),s=a.getLayout(),o=(s.startAngle+s.endAngle)/2,l=Math.cos(o),c=Math.sin(o),u=n.getModel("label");i.ignore=!u.get("show");var f=ki(n),h=a.getVisual("style");rs(i,f,{labelFetcher:{getFormattedLabel:function(b,S,A,E,M,R){return t.getFormattedLabel(b,S,"node",E,El(M,f.normal&&f.normal.get("formatter"),n.get("name")),R)}},labelDataIndex:a.dataIndex,defaultText:a.dataIndex+"",inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:"startArc"});var d=u.get("position")||"outside",v=u.get("distance")||0,g;d==="outside"?g=s.r+v:g=(s.r+s.r0)/2,this.textConfig={inside:d!=="outside"};var m=d!=="outside"?u.get("align")||"center":l>0?"left":"right",y=d!=="outside"?u.get("verticalAlign")||"middle":c>0?"top":"bottom";i.attr({x:l*g+s.cx,y:c*g+s.cy,rotation:0,style:{align:m,verticalAlign:y}})},e})(Gs),Sje=(function(r){Ye(e,r);function e(t,n,a,i){var s=r.call(this)||this;return or(s).dataType="edge",s.updateData(t,n,a,i,!0),s}return e.prototype.buildPath=function(t,n){t.moveTo(n.s1[0],n.s1[1]);var a=.7,i=n.clockwise;t.arc(n.cx,n.cy,n.r,n.sStartAngle,n.sEndAngle,!i),t.bezierCurveTo((n.cx-n.s2[0])*a+n.s2[0],(n.cy-n.s2[1])*a+n.s2[1],(n.cx-n.t1[0])*a+n.t1[0],(n.cy-n.t1[1])*a+n.t1[1],n.t1[0],n.t1[1]),t.arc(n.cx,n.cy,n.r,n.tStartAngle,n.tEndAngle,!i),t.bezierCurveTo((n.cx-n.t2[0])*a+n.t2[0],(n.cy-n.t2[1])*a+n.t2[1],(n.cx-n.s1[0])*a+n.s1[0],(n.cy-n.s1[1])*a+n.s1[1],n.s1[0],n.s1[1]),t.closePath()},e.prototype.updateData=function(t,n,a,i,s){var o=t.hostModel,l=n.graph.getEdgeByIndex(a),c=l.getLayout(),u=l.node1.getModel(),f=n.getItemModel(l.dataIndex),h=f.getModel("lineStyle"),d=f.getModel("emphasis"),v=d.get("focus"),g=nt(dh(u.getModel("itemStyle"),c,!0),c),m=this;if(isNaN(g.sStartAngle)||isNaN(g.tStartAngle)){m.setShape(g);return}s?(m.setShape(g),iK(m,l,t,h)):(tu(m),iK(m,l,t,h),nn(m,{shape:g},o,a)),Sa(this,v==="adjacency"?l.getAdjacentDataIndices():v,d.get("blurScope"),d.get("disabled")),Oi(m,f,"lineStyle"),n.setItemGraphicEl(l.dataIndex,m)},e})(Fr);function iK(r,e,t,n){var a=e.node1,i=e.node2,s=r.style;r.setStyle(n.getLineStyle());var o=n.get("color");switch(o){case"source":s.fill=t.getItemVisual(a.dataIndex,"style").fill,s.decal=a.getVisual("style").decal;break;case"target":s.fill=t.getItemVisual(i.dataIndex,"style").fill,s.decal=i.getVisual("style").decal;break;case"gradient":var l=t.getItemVisual(a.dataIndex,"style").fill,c=t.getItemVisual(i.dataIndex,"style").fill;if(It(l)&&It(c)){var u=r.shape,f=(u.s1[0]+u.s2[0])/2,h=(u.s1[1]+u.s2[1])/2,d=(u.t1[0]+u.t2[0])/2,v=(u.t1[1]+u.t2[1])/2;s.fill=new gy(f,h,d,v,[{offset:0,color:l},{offset:1,color:c}],!0)}break}}var wje=Math.PI/180,Tje=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,a){var i=t.getData(),s=this._data,o=this.group,l=-t.get("startAngle")*wje;if(i.diff(s).add(function(u){var f=i.getItemLayout(u);if(f){var h=new aK(i,u,l);or(h).dataIndex=u,o.add(h)}}).update(function(u,f){var h=s.getItemGraphicEl(f),d=i.getItemLayout(u);if(!d){h&&Wd(h,t,f);return}h?h.updateData(i,u,l):h=new aK(i,u,l),o.add(h)}).remove(function(u){var f=s.getItemGraphicEl(u);f&&Wd(f,t,u)}).execute(),!s){var c=t.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=Nt(c[0],a.getWidth()),this.group.originY=Nt(c[1],a.getHeight()),ca(this.group,{scaleX:1,scaleY:1},t)}this._data=i,this.renderEdges(t,l)},e.prototype.renderEdges=function(t,n){var a=t.getData(),i=t.getEdgeData(),s=this._edgeData,o=this.group;i.diff(s).add(function(l){var c=new Sje(a,i,l,n);or(c).dataIndex=l,o.add(c)}).update(function(l,c){var u=s.getItemGraphicEl(c);u.updateData(a,i,l,n),o.add(u)}).remove(function(l){var c=s.getItemGraphicEl(l);c&&Wd(c,t,l)}).execute(),this._edgeData=i},e.prototype.dispose=function(){},e.type="chord",e})(Ln),Aje=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this.legendVisualProvider=new _b(Ot(this.getData,this),Ot(this.getRawData,this))},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links)},e.prototype.getInitialData=function(t,n){var a=t.edges||t.links||[],i=t.data||t.nodes||[];if(i&&a){var s=XU(i,a,this,!0,o);return s.data}function o(l,c){var u=zr.prototype.getModel;function f(d,v){var g=u.call(this,d,v);return g.resolveParentPath=h,g}c.wrapMethod("getItemModel",function(d){return d.resolveParentPath=h,d.getModel=f,d});function h(d){if(d&&(d[0]==="label"||d[1]==="label")){var v=d.slice();return d[0]==="label"?v[0]="edgeLabel":d[1]==="label"&&(v[1]="edgeLabel"),v}return d}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,n,a){var i=this.getDataParams(t,a);if(a==="edge"){var s=this.getData(),o=s.graph.getEdgeByIndex(t),l=s.getName(o.node1.dataIndex),c=s.getName(o.node2.dataIndex),u=[];return l!=null&&u.push(l),c!=null&&u.push(c),Si("nameValue",{name:u.join(" > "),value:i.value,noValue:i.value==null})}return Si("nameValue",{name:i.name,value:i.value,noValue:i.value==null})},e.prototype.getDataParams=function(t,n){var a=r.prototype.getDataParams.call(this,t,n);if(n==="node"){var i=this.getData(),s=this.getGraph().getNodeByIndex(t);if(a.name==null&&(a.name=i.getName(t)),a.value==null){var o=s.getLayout().value;a.value=o}}return a},e.type="series.chord",e.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},e})(Hn),S5=Math.PI/180;function Eje(r,e){r.eachSeriesByType("chord",function(t){Mje(t,e)})}function Mje(r,e){var t=r.getData(),n=t.graph,a=r.getEdgeData(),i=a.count();if(i){var s=Bse(r,e),o=s.cx,l=s.cy,c=s.r,u=s.r0,f=Math.max((r.get("padAngle")||0)*S5,0),h=Math.max((r.get("minAngle")||0)*S5,0),d=-r.get("startAngle")*S5,v=d+Math.PI*2,g=r.get("clockwise"),m=g?1:-1,y=[d,v];QI(y,!g);var b=y[0],S=y[1],A=S-b,E=t.getSum("value")===0&&a.getSum("value")===0,M=[],R=0;n.eachEdge(function(X){var Y=E?1:X.getValue("value");E&&(Y>0||h)&&(R+=2);var re=X.node1.dataIndex,W=X.node2.dataIndex;M[re]=(M[re]||0)+Y,M[W]=(M[W]||0)+Y});var L=0;if(n.eachNode(function(X){var Y=X.getValue("value");isNaN(Y)||(M[X.dataIndex]=Math.max(Y,M[X.dataIndex]||0)),!E&&(M[X.dataIndex]>0||h)&&R++,L+=M[X.dataIndex]||0}),!(R===0||L===0)){f*R>=Math.abs(A)&&(f=Math.max(0,(Math.abs(A)-h*R)/R)),(f+h)*R>=Math.abs(A)&&(h=(Math.abs(A)-f*R)/R);var I=(A-f*R*m)/L,O=0,P=0,k=0;n.eachNode(function(X){var Y=M[X.dataIndex]||0,re=I*(L?Y:1)*m;Math.abs(re)<h?O+=h-Math.abs(re):(P+=Math.abs(re)-h,k+=Math.abs(re)),X.setLayout({angle:re,value:Y})});var U=!1;if(O>P){var F=O/P;n.eachNode(function(X){var Y=X.getLayout().angle;Math.abs(Y)>=h?X.setLayout({angle:Y*F,ratio:F},!0):X.setLayout({angle:h,ratio:h===0?1:Y/h},!0)})}else n.eachNode(function(X){if(!U){var Y=X.getLayout().angle,re=Math.min(Y/k,1),W=re*O;Y-W<h&&(U=!0)}});var q=O;n.eachNode(function(X){if(!(q<=0)){var Y=X.getLayout().angle;if(Y>h&&h>0){var re=U?1:Math.min(Y/k,1),W=Y-h,j=Math.min(W,Math.min(q,O*re));q-=j,X.setLayout({angle:Y-j,ratio:(Y-j)/Y},!0)}else h>0&&X.setLayout({angle:h,ratio:Y===0?1:h/Y},!0)}});var H=b,Z=[];n.eachNode(function(X){var Y=Math.max(X.getLayout().angle,h);X.setLayout({cx:o,cy:l,r0:u,r:c,startAngle:H,endAngle:H+Y*m,clockwise:g},!0),Z[X.dataIndex]=H,H+=(Y+f)*m}),n.eachEdge(function(X){var Y=E?1:X.getValue("value"),re=I*(L?Y:1)*m,W=X.node1.dataIndex,j=Z[W]||0,J=Math.abs((X.node1.getLayout().ratio||1)*re),ee=j+J*m,ae=[o+u*Math.cos(j),l+u*Math.sin(j)],ce=[o+u*Math.cos(ee),l+u*Math.sin(ee)],me=X.node2.dataIndex,Se=Z[me]||0,we=Math.abs((X.node2.getLayout().ratio||1)*re),Me=Se+we*m,Ve=[o+u*Math.cos(Se),l+u*Math.sin(Se)],de=[o+u*Math.cos(Me),l+u*Math.sin(Me)];X.setLayout({s1:ae,s2:ce,sStartAngle:j,sEndAngle:ee,t1:Ve,t2:de,tStartAngle:Se,tEndAngle:Me,cx:o,cy:l,r:u,value:Y,clockwise:g}),Z[W]=ee,Z[me]=Me})}}}function Cje(r){r.registerChartView(Tje),r.registerSeriesModel(Aje),r.registerLayout(r.PRIORITY.VISUAL.POST_CHART_LAYOUT,Eje),r.registerProcessor(yb("chord"))}var Dje=(function(){function r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return r})(),Rje=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="pointer",n}return e.prototype.getDefaultShape=function(){return new Dje},e.prototype.buildPath=function(t,n){var a=Math.cos,i=Math.sin,s=n.r,o=n.width,l=n.angle,c=n.x-a(l)*o*(o>=s/3?1:2),u=n.y-i(l)*o*(o>=s/3?1:2);l=n.angle-Math.PI/2,t.moveTo(c,u),t.lineTo(n.x+a(l)*o,n.y+i(l)*o),t.lineTo(n.x+a(n.angle)*s,n.y+i(n.angle)*s),t.lineTo(n.x-a(l)*o,n.y-i(l)*o),t.lineTo(c,u)},e})(Fr);function Nje(r,e){var t=r.get("center"),n=e.getWidth(),a=e.getHeight(),i=Math.min(n,a),s=Nt(t[0],e.getWidth()),o=Nt(t[1],e.getHeight()),l=Nt(r.get("radius"),i/2);return{cx:s,cy:o,r:l}}function A3(r,e){var t=r==null?"":r+"";return e&&(It(e)?t=e.replace("{value}",t):Yt(e)&&(t=e(r))),t}var Ije=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]),s=Nje(t,a);this._renderMain(t,n,a,i,s),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,n,a,i,s){var o=this.group,l=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,u=-t.get("endAngle")/180*Math.PI,f=t.getModel("axisLine"),h=f.get("roundCap"),d=h?yN:Gs,v=f.get("show"),g=f.getModel("lineStyle"),m=g.get("width"),y=[c,u];QI(y,!l),c=y[0],u=y[1];for(var b=u-c,S=c,A=[],E=0;v&&E<i.length;E++){var M=Math.min(Math.max(i[E][0],0),1);u=c+b*M;var R=new d({shape:{startAngle:S,endAngle:u,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-m,r:s.r},silent:!0});R.setStyle({fill:i[E][1]}),R.setStyle(g.getLineStyle(["color","width"])),A.push(R),S=u}A.reverse(),te(A,function(I){return o.add(I)});var L=function(I){if(I<=0)return i[0][1];var O;for(O=0;O<i.length;O++)if(i[O][0]>=I&&(O===0?0:i[O-1][0])<I)return i[O][1];return i[O-1][1]};this._renderTicks(t,n,a,L,s,c,u,l,m),this._renderTitleAndDetail(t,n,a,L,s),this._renderAnchor(t,s),this._renderPointer(t,n,a,L,s,c,u,l,m)},e.prototype._renderTicks=function(t,n,a,i,s,o,l,c,u){for(var f=this.group,h=s.cx,d=s.cy,v=s.r,g=+t.get("min"),m=+t.get("max"),y=t.getModel("splitLine"),b=t.getModel("axisTick"),S=t.getModel("axisLabel"),A=t.get("splitNumber"),E=b.get("splitNumber"),M=Nt(y.get("length"),v),R=Nt(b.get("length"),v),L=o,I=(l-o)/A,O=I/E,P=y.getModel("lineStyle").getLineStyle(),k=b.getModel("lineStyle").getLineStyle(),U=y.get("distance"),F,q,H=0;H<=A;H++){if(F=Math.cos(L),q=Math.sin(L),y.get("show")){var Z=U?U+u:u,X=new ai({shape:{x1:F*(v-Z)+h,y1:q*(v-Z)+d,x2:F*(v-M-Z)+h,y2:q*(v-M-Z)+d},style:P,silent:!0});P.stroke==="auto"&&X.setStyle({stroke:i(H/A)}),f.add(X)}if(S.get("show")){var Z=S.get("distance")+U,Y=A3(ni(H/A*(m-g)+g),S.get("formatter")),re=i(H/A),W=F*(v-M-Z)+h,j=q*(v-M-Z)+d,J=S.get("rotate"),ee=0;J==="radial"?(ee=-L+2*Math.PI,ee>Math.PI/2&&(ee+=Math.PI)):J==="tangential"?ee=-L-Math.PI/2:$r(J)&&(ee=J*Math.PI/180),ee===0?f.add(new Kr({style:Kn(S,{text:Y,x:W,y:j,verticalAlign:q<-.8?"top":q>.8?"bottom":"middle",align:F<-.4?"left":F>.4?"right":"center"},{inheritColor:re}),silent:!0})):f.add(new Kr({style:Kn(S,{text:Y,x:W,y:j,verticalAlign:"middle",align:"center"},{inheritColor:re}),silent:!0,originX:W,originY:j,rotation:ee}))}if(b.get("show")&&H!==A){var Z=b.get("distance");Z=Z?Z+u:u;for(var ae=0;ae<=E;ae++){F=Math.cos(L),q=Math.sin(L);var ce=new ai({shape:{x1:F*(v-Z)+h,y1:q*(v-Z)+d,x2:F*(v-R-Z)+h,y2:q*(v-R-Z)+d},silent:!0,style:k});k.stroke==="auto"&&ce.setStyle({stroke:i((H+ae/E)/A)}),f.add(ce),L+=O}L-=O}else L+=I}},e.prototype._renderPointer=function(t,n,a,i,s,o,l,c,u){var f=this.group,h=this._data,d=this._progressEls,v=[],g=t.get(["pointer","show"]),m=t.getModel("progress"),y=m.get("show"),b=t.getData(),S=b.mapDimension("value"),A=+t.get("min"),E=+t.get("max"),M=[A,E],R=[o,l];function L(O,P){var k=b.getItemModel(O),U=k.getModel("pointer"),F=Nt(U.get("width"),s.r),q=Nt(U.get("length"),s.r),H=t.get(["pointer","icon"]),Z=U.get("offsetCenter"),X=Nt(Z[0],s.r),Y=Nt(Z[1],s.r),re=U.get("keepAspect"),W;return H?W=oi(H,X-F/2,Y-q,F,q,null,re):W=new Rje({shape:{angle:-Math.PI/2,width:F,r:q,x:X,y:Y}}),W.rotation=-(P+Math.PI/2),W.x=s.cx,W.y=s.cy,W}function I(O,P){var k=m.get("roundCap"),U=k?yN:Gs,F=m.get("overlap"),q=F?m.get("width"):u/b.count(),H=F?s.r-q:s.r-(O+1)*q,Z=F?s.r:s.r-O*q,X=new U({shape:{startAngle:o,endAngle:P,cx:s.cx,cy:s.cy,clockwise:c,r0:H,r:Z}});return F&&(X.z2=gn(b.get(S,O),[A,E],[100,0],!0)),X}(y||g)&&(b.diff(h).add(function(O){var P=b.get(S,O);if(g){var k=L(O,o);ca(k,{rotation:-((isNaN(+P)?R[0]:gn(P,M,R,!0))+Math.PI/2)},t),f.add(k),b.setItemGraphicEl(O,k)}if(y){var U=I(O,o),F=m.get("clip");ca(U,{shape:{endAngle:gn(P,M,R,F)}},t),f.add(U),k6(t.seriesIndex,b.dataType,O,U),v[O]=U}}).update(function(O,P){var k=b.get(S,O);if(g){var U=h.getItemGraphicEl(P),F=U?U.rotation:o,q=L(O,F);q.rotation=F,nn(q,{rotation:-((isNaN(+k)?R[0]:gn(k,M,R,!0))+Math.PI/2)},t),f.add(q),b.setItemGraphicEl(O,q)}if(y){var H=d[P],Z=H?H.shape.endAngle:o,X=I(O,Z),Y=m.get("clip");nn(X,{shape:{endAngle:gn(k,M,R,Y)}},t),f.add(X),k6(t.seriesIndex,b.dataType,O,X),v[O]=X}}).execute(),b.each(function(O){var P=b.getItemModel(O),k=P.getModel("emphasis"),U=k.get("focus"),F=k.get("blurScope"),q=k.get("disabled");if(g){var H=b.getItemGraphicEl(O),Z=b.getItemVisual(O,"style"),X=Z.fill;if(H instanceof ns){var Y=H.style;H.useStyle(nt({image:Y.image,x:Y.x,y:Y.y,width:Y.width,height:Y.height},Z))}else H.useStyle(Z),H.type!=="pointer"&&H.setColor(X);H.setStyle(P.getModel(["pointer","itemStyle"]).getItemStyle()),H.style.fill==="auto"&&H.setStyle("fill",i(gn(b.get(S,O),M,[0,1],!0))),H.z2EmphasisLift=0,Oi(H,P),Sa(H,U,F,q)}if(y){var re=v[O];re.useStyle(b.getItemVisual(O,"style")),re.setStyle(P.getModel(["progress","itemStyle"]).getItemStyle()),re.z2EmphasisLift=0,Oi(re,P),Sa(re,U,F,q)}}),this._progressEls=v)},e.prototype._renderAnchor=function(t,n){var a=t.getModel("anchor"),i=a.get("show");if(i){var s=a.get("size"),o=a.get("icon"),l=a.get("offsetCenter"),c=a.get("keepAspect"),u=oi(o,n.cx-s/2+Nt(l[0],n.r),n.cy-s/2+Nt(l[1],n.r),s,s,null,c);u.z2=a.get("showAbove")?1:0,u.setStyle(a.getModel("itemStyle").getItemStyle()),this.group.add(u)}},e.prototype._renderTitleAndDetail=function(t,n,a,i,s){var o=this,l=t.getData(),c=l.mapDimension("value"),u=+t.get("min"),f=+t.get("max"),h=new er,d=[],v=[],g=t.isAnimationEnabled(),m=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(y){d[y]=new Kr({silent:!0}),v[y]=new Kr({silent:!0})}).update(function(y,b){d[y]=o._titleEls[b],v[y]=o._detailEls[b]}).execute(),l.each(function(y){var b=l.getItemModel(y),S=l.get(c,y),A=new er,E=i(gn(S,[u,f],[0,1],!0)),M=b.getModel("title");if(M.get("show")){var R=M.get("offsetCenter"),L=s.cx+Nt(R[0],s.r),I=s.cy+Nt(R[1],s.r),O=d[y];O.attr({z2:m?0:2,style:Kn(M,{x:L,y:I,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:E})}),A.add(O)}var P=b.getModel("detail");if(P.get("show")){var k=P.get("offsetCenter"),U=s.cx+Nt(k[0],s.r),F=s.cy+Nt(k[1],s.r),q=Nt(P.get("width"),s.r),H=Nt(P.get("height"),s.r),Z=t.get(["progress","show"])?l.getItemVisual(y,"style").fill:E,O=v[y],X=P.get("formatter");O.attr({z2:m?0:2,style:Kn(P,{x:U,y:F,text:A3(S,X),width:isNaN(q)?null:q,height:isNaN(H)?null:H,align:"center",verticalAlign:"middle"},{inheritColor:Z})}),xse(O,{normal:P},S,function(re){return A3(re,X)}),g&&_se(O,y,l,t,{getFormattedLabel:function(re,W,j,J,ee,ae){return A3(ae?ae.interpolatedValue:S,X)}}),A.add(O)}h.add(A)}),this.group.add(h),this._titleEls=d,this._detailEls=v},e.type="gauge",e})(Ln),Lje=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,n){return xb(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,We.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:We.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:We.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:We.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:We.color.neutral00,borderWidth:0,borderColor:We.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:We.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:We.color.transparent,borderWidth:0,borderColor:We.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:We.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e})(Hn);function Oje(r){r.registerChartView(Ije),r.registerSeriesModel(Lje)}var kje=["itemStyle","opacity"],Pje=(function(r){Ye(e,r);function e(t,n){var a=r.call(this)||this,i=a,s=new ws,o=new Kr;return i.setTextContent(o),a.setTextGuideLine(s),a.updateData(t,n,!0),a}return e.prototype.updateData=function(t,n,a){var i=this,s=t.hostModel,o=t.getItemModel(n),l=t.getItemLayout(n),c=o.getModel("emphasis"),u=o.get(kje);u=u??1,a||tu(i),i.useStyle(t.getItemVisual(n,"style")),i.style.lineJoin="round",a?(i.setShape({points:l.points}),i.style.opacity=0,ca(i,{style:{opacity:u}},s,n)):nn(i,{style:{opacity:u},shape:{points:l.points}},s,n),Oi(i,o),this._updateLabel(t,n),Sa(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,n){var a=this,i=this.getTextGuideLine(),s=a.getTextContent(),o=t.hostModel,l=t.getItemModel(n),c=t.getItemLayout(n),u=c.label,f=t.getItemVisual(n,"style"),h=f.fill;rs(s,ki(l),{labelFetcher:t.hostModel,labelDataIndex:n,defaultOpacity:f.opacity,defaultText:t.getName(n)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}});var d=l.getModel("label"),v=d.get("color"),g=v==="inherit"?h:null;a.setTextConfig({local:!0,inside:!!u.inside,insideStroke:g,outsideFill:g});var m=u.linePoints;i.setShape({points:m}),a.textGuideLineConfig={anchor:m?new ir(m[0][0],m[0][1]):null},nn(s,{style:{x:u.x,y:u.y}},o,n),s.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),_U(a,bU(l),{stroke:h})},e})(js),Bje=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,n,a){var i=t.getData(),s=this._data,o=this.group;i.diff(s).add(function(l){var c=new Pje(i,l);i.setItemGraphicEl(l,c),o.add(c)}).update(function(l,c){var u=s.getItemGraphicEl(c);u.updateData(i,l),o.add(u),i.setItemGraphicEl(l,u)}).remove(function(l){var c=s.getItemGraphicEl(l);Wd(c,t,l)}).execute(),this._data=i},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e})(Ln),zje=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new _b(Ot(this.getData,this),Ot(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,n){return xb(this,{coordDimensions:["value"],encodeDefaulter:yr(qF,this)})},e.prototype._defaultLabelLine=function(t){Ym(t,"labelLine",["show"]);var n=t.labelLine,a=t.emphasis.labelLine;n.show=n.show&&t.label.show,a.show=a.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var n=this.getData(),a=r.prototype.getDataParams.call(this,t),i=n.mapDimension("value"),s=n.getSum(i);return a.percent=s?+(n.get(i,t)/s*100).toFixed(2):0,a.$vars.push("percent"),a},e.type="series.funnel",e.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:We.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:We.color.primary}}},e})(Hn);function Fje(r,e){for(var t=r.mapDimension("value"),n=r.mapArray(t,function(l){return l}),a=[],i=e==="ascending",s=0,o=r.count();s<o;s++)a[s]=s;return Yt(e)?a.sort(e):e!=="none"&&a.sort(function(l,c){return i?n[l]-n[c]:n[c]-n[l]}),a}function Uje(r){var e=r.hostModel,t=e.get("orient");r.each(function(n){var a=r.getItemModel(n),i=a.getModel("label"),s=i.get("position"),o=a.getModel("labelLine"),l=r.getItemLayout(n),c=l.points,u=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",f,h,d,v;if(u)s==="insideLeft"?(h=(c[0][0]+c[3][0])/2+5,d=(c[0][1]+c[3][1])/2,f="left"):s==="insideRight"?(h=(c[1][0]+c[2][0])/2-5,d=(c[1][1]+c[2][1])/2,f="right"):(h=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,d=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,f="center"),v=[[h,d],[h,d]];else{var g=void 0,m=void 0,y=void 0,b=void 0,S=o.get("length");s==="left"?(g=(c[3][0]+c[0][0])/2,m=(c[3][1]+c[0][1])/2,y=g-S,h=y-5,f="right"):s==="right"?(g=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,y=g+S,h=y+5,f="left"):s==="top"?(g=(c[3][0]+c[0][0])/2,m=(c[3][1]+c[0][1])/2,b=m-S,d=b-5,f="center"):s==="bottom"?(g=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,b=m+S,d=b+5,f="center"):s==="rightTop"?(g=t==="horizontal"?c[3][0]:c[1][0],m=t==="horizontal"?c[3][1]:c[1][1],t==="horizontal"?(b=m-S,d=b-5,f="center"):(y=g+S,h=y+5,f="top")):s==="rightBottom"?(g=c[2][0],m=c[2][1],t==="horizontal"?(b=m+S,d=b+5,f="center"):(y=g+S,h=y+5,f="bottom")):s==="leftTop"?(g=c[0][0],m=t==="horizontal"?c[0][1]:c[1][1],t==="horizontal"?(b=m-S,d=b-5,f="center"):(y=g-S,h=y-5,f="right")):s==="leftBottom"?(g=t==="horizontal"?c[1][0]:c[3][0],m=t==="horizontal"?c[1][1]:c[2][1],t==="horizontal"?(b=m+S,d=b+5,f="center"):(y=g-S,h=y-5,f="right")):(g=(c[1][0]+c[2][0])/2,m=(c[1][1]+c[2][1])/2,t==="horizontal"?(b=m+S,d=b+5,f="center"):(y=g+S,h=y+5,f="left")),t==="horizontal"?(y=g,h=y):(b=m,d=b),v=[[g,m],[y,b]]}l.label={linePoints:v,x:h,y:d,verticalAlign:"middle",textAlign:f,inside:u}})}function Vje(r,e){r.eachSeriesByType("funnel",function(t){var n=t.getData(),a=n.mapDimension("value"),i=t.get("sort"),s=Pi(t,e),o=ma(t.getBoxLayoutParams(),s.refContainer),l=t.get("orient"),c=o.width,u=o.height,f=Fje(n,i),h=o.x,d=o.y,v=l==="horizontal"?[Nt(t.get("minSize"),u),Nt(t.get("maxSize"),u)]:[Nt(t.get("minSize"),c),Nt(t.get("maxSize"),c)],g=n.getDataExtent(a),m=t.get("min"),y=t.get("max");m==null&&(m=Math.min(g[0],0)),y==null&&(y=g[1]);var b=t.get("funnelAlign"),S=t.get("gap"),A=l==="horizontal"?c:u,E=(A-S*(n.count()-1))/n.count(),M=function(q,H){if(l==="horizontal"){var Z=n.get(a,q)||0,X=gn(Z,[m,y],v,!0),Y=void 0;switch(b){case"top":Y=d;break;case"center":Y=d+(u-X)/2;break;case"bottom":Y=d+(u-X);break}return[[H,Y],[H,Y+X]]}var re=n.get(a,q)||0,W=gn(re,[m,y],v,!0),j;switch(b){case"left":j=h;break;case"center":j=h+(c-W)/2;break;case"right":j=h+c-W;break}return[[j,H],[j+W,H]]};i==="ascending"&&(E=-E,S=-S,l==="horizontal"?h+=c:d+=u,f=f.reverse());for(var R=0;R<f.length;R++){var L=f[R],I=f[R+1],O=n.getItemModel(L);if(l==="horizontal"){var P=O.get(["itemStyle","width"]);P==null?P=E:(P=Nt(P,c),i==="ascending"&&(P=-P));var k=M(L,h),U=M(I,h+P);h+=P+S,n.setItemLayout(L,{points:k.concat(U.slice().reverse())})}else{var F=O.get(["itemStyle","height"]);F==null?F=E:(F=Nt(F,u),i==="ascending"&&(F=-F));var k=M(L,d),U=M(I,d+F);d+=F+S,n.setItemLayout(L,{points:k.concat(U.slice().reverse())})}}Uje(n)})}function Hje(r){r.registerChartView(Bje),r.registerSeriesModel(zje),r.registerLayout(Vje),r.registerProcessor(yb("funnel"))}var Gje=.3,jje=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new er,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,n,a,i){this._progressiveEls=null;var s=this._dataGroup,o=t.getData(),l=this._data,c=t.coordinateSystem,u=c.dimensions,f=oK(t);o.diff(l).add(h).update(d).remove(v).execute();function h(m){var y=sK(o,s,m,u,c);w5(y,o,m,f)}function d(m,y){var b=l.getItemGraphicEl(y),S=gue(o,m,u,c);o.setItemGraphicEl(m,b),nn(b,{shape:{points:S}},t,m),tu(b),w5(b,o,m,f)}function v(m){var y=l.getItemGraphicEl(m);s.remove(y)}if(!this._initialized){this._initialized=!0;var g=Wje(c,t,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(g)}this._data=o},e.prototype.incrementalPrepareRender=function(t,n,a){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,n,a){for(var i=n.getData(),s=n.coordinateSystem,o=s.dimensions,l=oK(n),c=this._progressiveEls=[],u=t.start;u<t.end;u++){var f=sK(i,this._dataGroup,u,o,s);f.incremental=!0,w5(f,i,u,l),c.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e})(Ln);function Wje(r,e,t){var n=r.model,a=r.getRect(),i=new Nr({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),s=n.get("layout")==="horizontal"?"width":"height";return i.setShape(s,0),ca(i,{shape:{width:a.width,height:a.height}},e,t),i}function gue(r,e,t,n){for(var a=[],i=0;i<t.length;i++){var s=t[i],o=r.get(r.mapDimension(s),e);Yje(o,n.getAxis(s).type)||a.push(n.dataToPoint(o,s))}return a}function sK(r,e,t,n,a){var i=gue(r,t,n,a),s=new ws({shape:{points:i},z2:10});return e.add(s),r.setItemGraphicEl(t,s),s}function oK(r){var e=r.get("smooth",!0);return e===!0&&(e=Gje),e=wh(e),Us(e)&&(e=0),{smooth:e}}function w5(r,e,t,n){r.useStyle(e.getItemVisual(t,"style")),r.style.fill=null,r.setShape("smooth",n.smooth);var a=e.getItemModel(t),i=a.getModel("emphasis");Oi(r,a,"lineStyle"),Sa(r,i.get("focus"),i.get("blurScope"),i.get("disabled"))}function Yje(r,e){return e==="category"?r==null:r==null||isNaN(r)}var Xje=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,n){return Oh(null,this,{useEncodeDefaulter:Ot(qje,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var n=this.coordinateSystem,a=this.getData(),i=[];return n.eachActiveState(a,function(s,o){t===s&&i.push(a.getRawIndex(o))}),i},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e})(Hn);function qje(r){var e=r.ecModel.getComponent("parallel",r.get("parallelIndex"));if(e){var t={};return te(e.dimensions,function(n){var a=Zje(n);t[n]=a}),t}}function Zje(r){return+r.replace("dim","")}var Kje=["lineStyle","opacity"],$je={seriesType:"parallel",reset:function(r,e){var t=r.coordinateSystem,n={normal:r.get(["lineStyle","opacity"]),active:r.get("activeOpacity"),inactive:r.get("inactiveOpacity")};return{progress:function(a,i){t.eachActiveState(i,function(s,o){var l=n[s];if(s==="normal"&&i.hasItemOption){var c=i.getItemModel(o).get(Kje,!0);c!=null&&(l=c)}var u=i.ensureUniqueItemVisual(o,"style");u.opacity=l},a.start,a.end)}}}};function Jje(r){Qje(r),eWe(r)}function Qje(r){if(!r.parallel){var e=!1;te(r.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(r.parallel=[{}])}}function eWe(r){var e=$n(r.parallelAxis);te(e,function(t){if(nr(t)){var n=t.parallelIndex||0,a=$n(r.parallel)[n];a&&a.parallelAxisDefault&&Sr(t,a.parallelAxisDefault,!1)}})}var tWe=5,rWe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){this._model=t,this._api=a,this._handlers||(this._handlers={},te(nWe,function(i,s){a.getZr().on(s,this._handlers[s]=Ot(i,this))},this)),db(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,n){GT(this,"_throttledDispatchExpand"),te(this._handlers,function(a,i){n.getZr().off(i,a)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(nt({type:"parallelAxisExpand"},t))},e.type="parallel",e})(Jn),nWe={mousedown:function(r){T5(this,"click")&&(this._mouseDownPoint=[r.offsetX,r.offsetY])},mouseup:function(r){var e=this._mouseDownPoint;if(T5(this,"click")&&e){var t=[r.offsetX,r.offsetY],n=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(n>tWe)return;var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]);a.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(r){if(!(this._mouseDownPoint||!T5(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([r.offsetX,r.offsetY]),n=t.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function T5(r,e){var t=r._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var aWe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){r.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var n=this.option;t&&Sr(n,t,!0),this._initDimensions()},e.prototype.contains=function(t,n){var a=t.get("parallelIndex");return a!=null&&n.getComponent("parallel",a)===this},e.prototype.setAxisExpand=function(t){te(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){t.hasOwnProperty(n)&&(this.option[n]=t[n])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],n=this.parallelAxisIndex=[],a=fn(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(i){return(i.get("parallelIndex")||0)===this.componentIndex},this);te(a,function(i){t.push("dim"+i.get("dim")),n.push(i.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e})(kr),iWe=(function(r){Ye(e,r);function e(t,n,a,i,s){var o=r.call(this,t,n,a)||this;return o.type=i||"value",o.axisIndex=s,o}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e})(su);function iv(r,e,t,n,a,i){r=r||0;var s=t[1]-t[0];if(a!=null&&(a=S1(a,[0,s])),i!=null&&(i=Math.max(i,a??0)),n==="all"){var o=Math.abs(e[1]-e[0]);o=S1(o,[0,s]),a=i=S1(o,[a,i]),n=0}e[0]=S1(e[0],t),e[1]=S1(e[1],t);var l=A5(e,n);e[n]+=r;var c=a||0,u=t.slice();l.sign<0?u[0]+=c:u[1]-=c,e[n]=S1(e[n],u);var f;return f=A5(e,n),a!=null&&(f.sign!==l.sign||f.span<a)&&(e[1-n]=e[n]+l.sign*a),f=A5(e,n),i!=null&&f.span>i&&(e[1-n]=e[n]+f.sign*i),e}function A5(r,e){var t=r[e]-r[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function S1(r,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,r))}var E5=te,mue=Math.min,yue=Math.max,lK=Math.floor,sWe=Math.ceil,cK=ni,oWe=Math.PI,lWe=(function(){function r(e,t,n){this.type="parallel",this._axesMap=Ht(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var a=e.dimensions,i=e.parallelAxisIndex;E5(a,function(s,o){var l=i[o],c=t.getComponent("parallelAxis",l),u=this._axesMap.set(s,new iWe(s,YA(c),[0,0],c.get("type"),l)),f=u.type==="category";u.onBand=f&&c.get("boundaryGap"),u.inverse=c.get("inverse"),c.axis=u,u.model=c,u.coordinateSystem=c.coordinateSystem=this},this)},r.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},r.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,a=t.layoutBase,i=t.pixelDimIndex,s=e[1-i],o=e[i];return s>=n&&s<=n+t.axisLength&&o>=a&&o<=a+t.layoutLength},r.prototype.getModel=function(){return this._model},r.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var a=n.getData();E5(this.dimensions,function(i){var s=this._axesMap.get(i);s.scale.unionExtentFromData(a,a.mapDimension(i)),Qm(s.scale,s.model)},this)}},this)},r.prototype.resize=function(e,t){var n=Pi(e,t).refContainer;this._rect=ma(e.getBoxLayoutParams(),n),this._layoutAxes()},r.prototype.getRect=function(){return this._rect},r.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,n=["x","y"],a=["width","height"],i=e.get("layout"),s=i==="horizontal"?0:1,o=t[a[s]],l=[0,o],c=this.dimensions.length,u=E3(e.get("axisExpandWidth"),l),f=E3(e.get("axisExpandCount")||0,[0,c]),h=e.get("axisExpandable")&&c>3&&c>f&&f>1&&u>0&&o>0,d=e.get("axisExpandWindow"),v;if(d)v=E3(d[1]-d[0],l),d[1]=d[0]+v;else{v=E3(u*(f-1),l);var g=e.get("axisExpandCenter")||lK(c/2);d=[u*g-v/2],d[1]=d[0]+v}var m=(o-v)/(c-f);m<3&&(m=0);var y=[lK(cK(d[0]/u,1))+1,sWe(cK(d[1]/u,1))-1],b=m/u*d[0];return{layout:i,pixelDimIndex:s,layoutBase:t[n[s]],layoutLength:o,axisBase:t[n[1-s]],axisLength:t[a[1-s]],axisExpandable:h,axisExpandWidth:u,axisCollapseWidth:m,axisExpandWindow:d,axisCount:c,winInnerIndices:y,axisExpandWindow0Pos:b}},r.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,a=this._makeLayoutInfo(),i=a.layout;t.each(function(s){var o=[0,a.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),E5(n,function(s,o){var l=(a.axisExpandable?uWe:cWe)(o,a),c={horizontal:{x:l.position,y:a.axisLength},vertical:{x:0,y:l.position}},u={horizontal:oWe/2,vertical:0},f=[c[i].x+e.x,c[i].y+e.y],h=u[i],d=$i();up(d,d,h),af(d,d,f),this._axesLayout[s]={position:f,rotation:h,transform:d,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},r.prototype.getAxis=function(e){return this._axesMap.get(e)},r.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},r.prototype.eachActiveState=function(e,t,n,a){n==null&&(n=0),a==null&&(a=e.count());var i=this._axesMap,s=this.dimensions,o=[],l=[];te(s,function(m){o.push(e.mapDimension(m)),l.push(i.get(m).model)});for(var c=this.hasAxisBrushed(),u=n;u<a;u++){var f=void 0;if(!c)f="normal";else{f="active";for(var h=e.getValues(o,u),d=0,v=s.length;d<v;d++){var g=l[d].getActiveState(h[d]);if(g==="inactive"){f="inactive";break}}}t(f,u)}},r.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,a=0,i=e.length;a<i;a++)t.get(e[a]).model.getActiveState()!=="normal"&&(n=!0);return n},r.prototype.axisCoordToPoint=function(e,t){var n=this._axesLayout[t];return Ju([e,0],n.transform)},r.prototype.getAxisLayout=function(e){return Qt(this._axesLayout[e])},r.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,a=t.axisExpandWindow.slice(),i=a[1]-a[0],s=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:a};var o=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l,c="slide",u=t.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),h=f[0]!=null;if(u)h&&u&&o<i*f[0]?(c="jump",l=o-i*f[2]):h&&u&&o>i*(1-f[0])?(c="jump",l=o-i*(1-f[2])):(l=o-i*f[1])>=0&&(l=o-i*(1-f[1]))<=0&&(l=0),l*=t.axisExpandWidth/u,l?iv(l,a,s,"all"):c="none";else{var d=a[1]-a[0],v=s[1]*o/d;a=[yue(0,v-d/2)],a[1]=mue(s[1],a[0]+d),a[0]=a[1]-d}return{axisExpandWindow:a,behavior:c}},r})();function E3(r,e){return mue(yue(r,e[0]),e[1])}function cWe(r,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*r,axisNameAvailableWidth:t,axisLabelShow:!0}}function uWe(r,e){var t=e.layoutLength,n=e.axisExpandWidth,a=e.axisCount,i=e.axisCollapseWidth,s=e.winInnerIndices,o,l=i,c=!1,u;return r<s[0]?(o=r*i,u=i):r<=s[1]?(o=e.axisExpandWindow0Pos+r*n-e.axisExpandWindow[0],l=n,c=!0):(o=t-(a-1-r)*i,u=i),{position:o,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:u}}function fWe(r,e){var t=[];return r.eachComponent("parallel",function(n,a){var i=new lWe(n,r,e);i.name="parallel_"+a,i.resize(n,e),n.coordinateSystem=i,i.model=n,t.push(i)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var a=n.getReferringComponents("parallel",Pa).models[0];n.coordinateSystem=a.coordinateSystem}}),t}var hWe={create:fWe},UB=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return qm([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var n=this.activeIntervals=Qt(t);if(n)for(var a=n.length-1;a>=0;a--)Ql(n[a])},e.prototype.getActiveState=function(t){var n=this.activeIntervals;if(!n.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(n.length===1){var a=n[0];if(a[0]<=t&&t<=a[1])return"active"}else for(var i=0,s=n.length;i<s;i++)if(n[i][0]<=t&&t<=n[i][1])return"active";return"inactive"},e})(kr);Xa(UB,mb);var ey=!0,nA=Math.min,P_=Math.max,dWe=Math.pow,pWe=1e4,vWe=6,gWe=6,uK="globalPan",mWe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},yWe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},fK={brushStyle:{lineWidth:2,stroke:We.color.backgroundTint,fill:We.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},xWe=0,qU=(function(r){Ye(e,r);function e(t){var n=r.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new er,n._uid="brushController_"+xWe++,te(EWe,function(a,i){this._handlers[i]=Ot(a,this)},n),n}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var n=this._zr;this._enableGlobalPan||rHe(n,uK,this._uid),te(this._handlers,function(a,i){n.on(i,a)}),this._brushType=t.brushType,this._brushOption=Sr(Qt(fK),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;nHe(t,uK,this._uid),te(this._handlers,function(n,a){t.off(a,n)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var n=this._panels={};te(t,function(a){n[a.panelId]=Qt(a)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=n.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=ft(t,function(h){return Sr(Qt(fK),h,!0)});var n="\0-brush-index-",a=this._covers,i=this._covers=[],s=this,o=this._creatingCover;return new ip(a,t,c,l).add(u).update(u).remove(f).execute(),this;function l(h,d){return(h.id!=null?h.id:n+d)+"-"+h.brushType}function c(h,d){return l(h.__brushOption,d)}function u(h,d){var v=t[h];if(d!=null&&a[d]===o)i[h]=a[d];else{var g=i[h]=d!=null?(a[d].__brushOption=v,a[d]):_ue(s,xue(s,v));ZU(s,g)}}function f(h){a[h]!==o&&s.group.remove(a[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),VB(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e})(au);function xue(r,e){var t=bL[e.brushType].createCover(r,e);return t.__brushOption=e,Sue(t,e),r.group.add(t),t}function _ue(r,e){var t=KU(e);return t.endCreating&&(t.endCreating(r,e),Sue(e,e.__brushOption)),e}function bue(r,e){var t=e.__brushOption;KU(e).updateCoverShape(r,e,t.range,t)}function Sue(r,e){var t=e.z;t==null&&(t=pWe),r.traverse(function(n){n.z=t,n.z2=t})}function ZU(r,e){KU(e).updateCommon(r,e),bue(r,e)}function KU(r){return bL[r.__brushOption.brushType]}function $U(r,e,t){var n=r._panels;if(!n)return ey;var a,i=r._transform;return te(n,function(s){s.isTargetByCursor(e,t,i)&&(a=s)}),a}function wue(r,e){var t=r._panels;if(!t)return ey;var n=e.__brushOption.panelId;return n!=null?t[n]:ey}function VB(r){var e=r._covers,t=e.length;return te(e,function(n){r.group.remove(n)},r),e.length=0,!!t}function ty(r,e){var t=ft(r._covers,function(n){var a=n.__brushOption,i=Qt(a.range);return{brushType:a.brushType,panelId:a.panelId,range:i}});r.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function _We(r){var e=r._track;if(!e.length)return!1;var t=e[e.length-1],n=e[0],a=t[0]-n[0],i=t[1]-n[1],s=dWe(a*a+i*i,.5);return s>vWe}function Tue(r){var e=r.length-1;return e<0&&(e=0),[r[0],r[e]]}function Aue(r,e,t,n){var a=new er;return a.add(new Nr({name:"main",style:JU(t),silent:!0,draggable:!0,cursor:"move",drift:yr(hK,r,e,a,["n","s","w","e"]),ondragend:yr(ty,e,{isEnd:!0})})),te(n,function(i){a.add(new Nr({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:yr(hK,r,e,a,i),ondragend:yr(ty,e,{isEnd:!0})}))}),a}function Eue(r,e,t,n){var a=n.brushStyle.lineWidth||0,i=P_(a,gWe),s=t[0][0],o=t[1][0],l=s-a/2,c=o-a/2,u=t[0][1],f=t[1][1],h=u-i+a/2,d=f-i+a/2,v=u-s,g=f-o,m=v+a,y=g+a;Sd(r,e,"main",s,o,v,g),n.transformable&&(Sd(r,e,"w",l,c,i,y),Sd(r,e,"e",h,c,i,y),Sd(r,e,"n",l,c,m,i),Sd(r,e,"s",l,d,m,i),Sd(r,e,"nw",l,c,i,i),Sd(r,e,"ne",h,c,i,i),Sd(r,e,"sw",l,d,i,i),Sd(r,e,"se",h,d,i,i))}function HB(r,e){var t=e.__brushOption,n=t.transformable,a=e.childAt(0);a.useStyle(JU(t)),a.attr({silent:!n,cursor:n?"move":"default"}),te([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var s=e.childOfName(i.join("")),o=i.length===1?GB(r,i[0]):SWe(r,i);s&&s.attr({silent:!n,invisible:!n,cursor:n?yWe[o]+"-resize":null})})}function Sd(r,e,t,n,a,i,s){var o=e.childOfName(t);o&&o.setShape(TWe(QU(r,e,[[n,a],[n+i,a+s]])))}function JU(r){return rr({strokeNoScale:!0},r.brushStyle)}function Mue(r,e,t,n){var a=[nA(r,t),nA(e,n)],i=[P_(r,t),P_(e,n)];return[[a[0],i[0]],[a[1],i[1]]]}function bWe(r){return j0(r.group)}function GB(r,e){var t={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},a=nL(t[e],bWe(r));return n[a]}function SWe(r,e){var t=[GB(r,e[0]),GB(r,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function hK(r,e,t,n,a,i){var s=t.__brushOption,o=r.toRectRange(s.range),l=Cue(e,a,i);te(n,function(c){var u=mWe[c];o[u[0]][u[1]]+=l[u[0]]}),s.range=r.fromRectRange(Mue(o[0][0],o[1][0],o[0][1],o[1][1])),ZU(e,t),ty(e,{isEnd:!1})}function wWe(r,e,t,n){var a=e.__brushOption.range,i=Cue(r,t,n);te(a,function(s){s[0]+=i[0],s[1]+=i[1]}),ZU(r,e),ty(r,{isEnd:!1})}function Cue(r,e,t){var n=r.group,a=n.transformCoordToLocal(e,t),i=n.transformCoordToLocal(0,0);return[a[0]-i[0],a[1]-i[1]]}function QU(r,e,t){var n=wue(r,e);return n&&n!==ey?n.clipPath(t,r._transform):Qt(t)}function TWe(r){var e=nA(r[0][0],r[1][0]),t=nA(r[0][1],r[1][1]),n=P_(r[0][0],r[1][0]),a=P_(r[0][1],r[1][1]);return{x:e,y:t,width:n-e,height:a-t}}function AWe(r,e,t){if(!(!r._brushType||MWe(r,e.offsetX,e.offsetY))){var n=r._zr,a=r._covers,i=$U(r,e,t);if(!r._dragging)for(var s=0;s<a.length;s++){var o=a[s].__brushOption;if(i&&(i===ey||o.panelId===i.panelId)&&bL[o.brushType].contain(a[s],t[0],t[1]))return}i&&n.setCursorStyle("crosshair")}}function jB(r){var e=r.event;e.preventDefault&&e.preventDefault()}function WB(r,e,t){return r.childOfName("main").contain(e,t)}function Due(r,e,t,n){var a=r._creatingCover,i=r._creatingPanel,s=r._brushOption,o;if(r._track.push(t.slice()),_We(r)||a){if(i&&!a){s.brushMode==="single"&&VB(r);var l=Qt(s);l.brushType=dK(l.brushType,i),l.panelId=i===ey?null:i.panelId,a=r._creatingCover=xue(r,l),r._covers.push(a)}if(a){var c=bL[dK(r._brushType,i)],u=a.__brushOption;u.range=c.getCreatingRange(QU(r,a,r._track)),n&&(_ue(r,a),c.updateCommon(r,a)),bue(r,a),o={isEnd:n}}}else n&&s.brushMode==="single"&&s.removeOnClick&&$U(r,e,t)&&VB(r)&&(o={isEnd:n,removeOnClick:!0});return o}function dK(r,e){return r==="auto"?e.defaultBrushType:r}var EWe={mousedown:function(r){if(this._dragging)pK(this,r);else if(!r.target||!r.target.draggable){jB(r);var e=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var t=this._creatingPanel=$U(this,r,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(r){var e=r.offsetX,t=r.offsetY,n=this.group.transformCoordToLocal(e,t);if(AWe(this,r,n),this._dragging){jB(r);var a=Due(this,r,n,!1);a&&ty(this,a)}},mouseup:function(r){pK(this,r)}};function pK(r,e){if(r._dragging){jB(e);var t=e.offsetX,n=e.offsetY,a=r.group.transformCoordToLocal(t,n),i=Due(r,e,a,!0);r._dragging=!1,r._track=[],r._creatingCover=null,i&&ty(r,i)}}function MWe(r,e,t){var n=r._zr;return e<0||e>n.getWidth()||t<0||t>n.getHeight()}var bL={lineX:vK(0),lineY:vK(1),rect:{createCover:function(r,e){function t(n){return n}return Aue({toRectRange:t,fromRectRange:t},r,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var e=Tue(r);return Mue(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(r,e,t,n){Eue(r,e,t,n)},updateCommon:HB,contain:WB},polygon:{createCover:function(r,e){var t=new er;return t.add(new ws({name:"main",style:JU(e),silent:!0})),t},getCreatingRange:function(r){return r},endCreating:function(r,e){e.remove(e.childAt(0)),e.add(new js({name:"main",draggable:!0,drift:yr(wWe,r,e),ondragend:yr(ty,r,{isEnd:!0})}))},updateCoverShape:function(r,e,t,n){e.childAt(0).setShape({points:QU(r,e,t)})},updateCommon:HB,contain:WB}};function vK(r){return{createCover:function(e,t){return Aue({toRectRange:function(n){var a=[n,[0,100]];return r&&a.reverse(),a},fromRectRange:function(n){return n[r]}},e,t,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(e){var t=Tue(e),n=nA(t[0][r],t[1][r]),a=P_(t[0][r],t[1][r]);return[n,a]},updateCoverShape:function(e,t,n,a){var i,s=wue(e,t);if(s!==ey&&s.getLinearBrushOtherExtent)i=s.getLinearBrushOtherExtent(r);else{var o=e._zr;i=[0,[o.getWidth(),o.getHeight()][1-r]]}var l=[n,i];r&&l.reverse(),Eue(e,t,l,a)},updateCommon:HB,contain:WB}}function Rue(r){return r=e9(r),function(e){return DF(e,r)}}function Nue(r,e){return r=e9(r),function(t){var n=e??t,a=n?r.width:r.height,i=n?r.x:r.y;return[i,i+(a||0)]}}function Iue(r,e,t){var n=e9(r);return function(a,i){return n.contain(i[0],i[1])&&!Bce(a,e,t)}}function e9(r){return sr.create(r)}var CWe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){r.prototype.init.apply(this,arguments),(this._brushController=new qU(n.getZr())).on("brush",Ot(this._onBrush,this))},e.prototype.render=function(t,n,a,i){if(!DWe(t,n,i)){this.axisModel=t,this.api=a,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new er,this.group.add(this._axisGroup),!!t.get("show")){var o=NWe(t,n),l=o.coordinateSystem,c=t.getAreaSelectStyle(),u=c.width,f=t.axis.dim,h=l.getAxisLayout(f),d=nt({strokeContainThreshold:u},h),v=new el(t,a,d);v.build(),this._axisGroup.add(v.group),this._refreshBrushController(d,c,t,o,u,a),HA(s,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,n,a,i,s,o){var l=a.axis.getExtent(),c=l[1]-l[0],u=Math.min(30,Math.abs(c)*.1),f=sr.create({x:l[0],y:-s/2,width:c,height:s});f.x-=u,f.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Rue(f),isTargetByCursor:Iue(f,o,i),getLinearBrushOtherExtent:Nue(f,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(RWe(a))},e.prototype._onBrush=function(t){var n=t.areas,a=this.axisModel,i=a.axis,s=ft(n,function(o){return[i.coordToData(o.range[0],!0),i.coordToData(o.range[1],!0)]});(!a.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:a.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e})(Jn);function DWe(r,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===r}function RWe(r){var e=r.axis;return ft(r.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function NWe(r,e){return e.getComponent("parallel",r.get("parallelIndex"))}var IWe={type:"axisAreaSelect",event:"axisAreaSelected"};function LWe(r){r.registerAction(IWe,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(n){n.axis.model.setActiveIntervals(e.intervals)})}),r.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(n){n.setAxisExpand(e)})})}var OWe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Lue(r){r.registerComponentView(rWe),r.registerComponentModel(aWe),r.registerCoordinateSystem("parallel",hWe),r.registerPreprocessor(Jje),r.registerComponentModel(UB),r.registerComponentView(CWe),O_(r,"parallel",UB,OWe),LWe(r)}function kWe(r){Mr(Lue),r.registerChartView(jje),r.registerSeriesModel(Xje),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,$je)}var PWe=(function(){function r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return r})(),BWe=(function(r){Ye(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new PWe},e.prototype.buildPath=function(t,n){var a=n.extent;t.moveTo(n.x1,n.y1),t.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(t.lineTo(n.x2+a,n.y2),t.bezierCurveTo(n.cpx2+a,n.cpy2,n.cpx1+a,n.cpy1,n.x1+a,n.y1)):(t.lineTo(n.x2,n.y2+a),t.bezierCurveTo(n.cpx2,n.cpy2+a,n.cpx1,n.cpy1+a,n.x1,n.y1+a)),t.closePath()},e.prototype.highlight=function(){np(this)},e.prototype.downplay=function(){ap(this)},e})(Fr),zWe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new er,t._focusAdjacencyDisabled=!1,t}return e.prototype.init=function(t,n){this._controller=new Sy(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,n,a){var i=this,s=t.getGraph(),o=this._mainGroup,l=t.layoutInfo,c=l.width,u=l.height,f=t.getData(),h=t.getData("edge"),d=t.get("orient");this._model=t,o.removeAll(),o.x=l.x,o.y=l.y,this._updateViewCoordSys(t,a),zce(t,a,o,this._controller,this._controllerHost,null),s.eachEdge(function(v){var g=new BWe,m=or(g);m.dataIndex=v.dataIndex,m.seriesIndex=t.seriesIndex,m.dataType="edge";var y=v.getModel(),b=y.getModel("lineStyle"),S=b.get("curveness"),A=v.node1.getLayout(),E=v.node1.getModel(),M=E.get("localX"),R=E.get("localY"),L=v.node2.getLayout(),I=v.node2.getModel(),O=I.get("localX"),P=I.get("localY"),k=v.getLayout(),U,F,q,H,Z,X,Y,re;g.shape.extent=Math.max(1,k.dy),g.shape.orient=d,d==="vertical"?(U=(M!=null?M*c:A.x)+k.sy,F=(R!=null?R*u:A.y)+A.dy,q=(O!=null?O*c:L.x)+k.ty,H=P!=null?P*u:L.y,Z=U,X=F*(1-S)+H*S,Y=q,re=F*S+H*(1-S)):(U=(M!=null?M*c:A.x)+A.dx,F=(R!=null?R*u:A.y)+k.sy,q=O!=null?O*c:L.x,H=(P!=null?P*u:L.y)+k.ty,Z=U*(1-S)+q*S,X=F,Y=U*S+q*(1-S),re=H),g.setShape({x1:U,y1:F,x2:q,y2:H,cpx1:Z,cpy1:X,cpx2:Y,cpy2:re}),g.useStyle(b.getItemStyle()),gK(g.style,d,v);var W=""+y.get("value"),j=ki(y,"edgeLabel");rs(g,j,{labelFetcher:{getFormattedLabel:function(ae,ce,me,Se,we,Me){return t.getFormattedLabel(ae,ce,"edge",Se,El(we,j.normal&&j.normal.get("formatter"),W),Me)}},labelDataIndex:v.dataIndex,defaultText:W}),g.setTextConfig({position:"inside"});var J=y.getModel("emphasis");Oi(g,y,"lineStyle",function(ae){var ce=ae.getItemStyle();return gK(ce,d,v),ce}),o.add(g),h.setItemGraphicEl(v.dataIndex,g);var ee=J.get("focus");Sa(g,ee==="adjacency"?v.getAdjacentDataIndices():ee==="trajectory"?v.getTrajectoryDataIndices():ee,J.get("blurScope"),J.get("disabled"))}),s.eachNode(function(v){var g=v.getLayout(),m=v.getModel(),y=m.get("localX"),b=m.get("localY"),S=m.getModel("emphasis"),A=m.get(["itemStyle","borderRadius"])||0,E=new Nr({shape:{x:y!=null?y*c:g.x,y:b!=null?b*u:g.y,width:g.dx,height:g.dy,r:A},style:m.getModel("itemStyle").getItemStyle(),z2:10});rs(E,ki(m),{labelFetcher:{getFormattedLabel:function(R,L){return t.getFormattedLabel(R,L,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),E.disableLabelAnimation=!0,E.setStyle("fill",v.getVisual("color")),E.setStyle("decal",v.getVisual("style").decal),Oi(E,m),o.add(E),f.setItemGraphicEl(v.dataIndex,E),or(E).dataType="node";var M=S.get("focus");Sa(E,M==="adjacency"?v.getAdjacentDataIndices():M==="trajectory"?v.getTrajectoryDataIndices():M,S.get("blurScope"),S.get("disabled"))}),f.eachItemGraphicEl(function(v,g){var m=f.getItemModel(g);m.get("draggable")&&(v.drift=function(y,b){i._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=b,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:f.getRawIndex(g),localX:this.shape.x/c,localY:this.shape.y/u})},v.ondragend=function(){i._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&t.isAnimationEnabled()&&o.setClipPath(FWe(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._updateViewCoordSys=function(t,n){var a=t.layoutInfo,i=a.width,s=a.height,o=t.coordinateSystem=new wy(null,{api:n,ecModel:t.ecModel});o.zoomLimit=t.get("scaleLimit"),o.setBoundingRect(0,0,i,s),o.setCenter(t.get("center")),o.setZoom(t.get("zoom")),this._controllerHost.target.attr({x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY})},e.type="sankey",e})(Ln);function gK(r,e,t){switch(r.fill){case"source":r.fill=t.node1.getVisual("color"),r.decal=t.node1.getVisual("style").decal;break;case"target":r.fill=t.node2.getVisual("color"),r.decal=t.node2.getVisual("style").decal;break;case"gradient":var n=t.node1.getVisual("color"),a=t.node2.getVisual("color");It(n)&&It(a)&&(r.fill=new gy(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:n,offset:0},{color:a,offset:1}]))}}function FWe(r,e,t){var n=new Nr({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return ca(n,{shape:{width:r.width+20}},e,t),n}var UWe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){var a=t.edges||t.links||[],i=t.data||t.nodes||[],s=t.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new zr(s[l],this,n));var c=XU(i,a,this,!0,u);return c.data;function u(f,h){f.wrapMethod("getItemModel",function(d,v){var g=d.parentModel,m=g.getData().getItemLayout(v);if(m){var y=m.depth,b=g.levelModels[y];b&&(d.parentModel=b)}return d}),h.wrapMethod("getItemModel",function(d,v){var g=d.parentModel,m=g.getGraph().getEdgeByIndex(v),y=m.node1.getLayout();if(y){var b=y.depth,S=g.levelModels[b];S&&(d.parentModel=S)}return d})}},e.prototype.setNodePosition=function(t,n){var a=this.option.data||this.option.nodes,i=a[t];i.localX=n[0],i.localY=n[1]},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,n,a){function i(d){return isNaN(d)||d==null}if(a==="edge"){var s=this.getDataParams(t,a),o=s.data,l=s.value,c=o.source+" -- "+o.target;return Si("nameValue",{name:c,value:l,noValue:i(l)})}else{var u=this.getGraph().getNodeByIndex(t),f=u.getLayout().value,h=this.getDataParams(t,a).data.name;return Si("nameValue",{name:h!=null?h+"":null,value:f,noValue:i(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,n){var a=r.prototype.getDataParams.call(this,t,n);if(a.value==null&&n==="node"){var i=this.getGraph().getNodeByIndex(t),s=i.getLayout().value;a.value=s}return a},e.type="series.sankey",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:We.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:We.color.primary}},animationEasing:"linear",animationDuration:1e3},e})(Hn);function VWe(r,e){r.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),a=t.get("nodeGap"),i=Pi(t,e).refContainer,s=ma(t.getBoxLayoutParams(),i);t.layoutInfo=s;var o=s.width,l=s.height,c=t.getGraph(),u=c.nodes,f=c.edges;GWe(u);var h=fn(u,function(m){return m.getLayout().value===0}),d=h.length!==0?0:t.get("layoutIterations"),v=t.get("orient"),g=t.get("nodeAlign");HWe(u,f,n,a,o,l,d,v,g)})}function HWe(r,e,t,n,a,i,s,o,l){jWe(r,e,t,a,i,o,l),qWe(r,e,i,a,n,s,o),nYe(r,o)}function GWe(r){te(r,function(e){var t=X0(e.outEdges,EN),n=X0(e.inEdges,EN),a=e.getValue()||0,i=Math.max(t,n,a);e.setLayout({value:i},!0)})}function jWe(r,e,t,n,a,i,s){for(var o=[],l=[],c=[],u=[],f=0,h=0;h<e.length;h++)o[h]=1;for(var h=0;h<r.length;h++)l[h]=r[h].inEdges.length,l[h]===0&&c.push(r[h]);for(var d=-1;c.length;){for(var v=0;v<c.length;v++){var g=c[v],m=g.hostGraph.data.getRawDataItem(g.dataIndex),y=m.depth!=null&&m.depth>=0;y&&m.depth>d&&(d=m.depth),g.setLayout({depth:y?m.depth:f},!0),i==="vertical"?g.setLayout({dy:t},!0):g.setLayout({dx:t},!0);for(var b=0;b<g.outEdges.length;b++){var S=g.outEdges[b],A=e.indexOf(S);o[A]=0;var E=S.node2,M=r.indexOf(E);--l[M]===0&&u.indexOf(E)<0&&u.push(E)}}++f,c=u,u=[]}for(var h=0;h<o.length;h++)if(o[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var R=d>f-1?d:f-1;s&&s!=="left"&&WWe(r,s,i,R);var L=i==="vertical"?(a-t)/R:(n-t)/R;XWe(r,L,i)}function Oue(r){var e=r.hostGraph.data.getRawDataItem(r.dataIndex);return e.depth!=null&&e.depth>=0}function WWe(r,e,t,n){if(e==="right"){for(var a=[],i=r,s=0;i.length;){for(var o=0;o<i.length;o++){var l=i[o];l.setLayout({skNodeHeight:s},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];a.indexOf(u.node1)<0&&a.push(u.node1)}}i=a,a=[],++s}te(r,function(f){Oue(f)||f.setLayout({depth:Math.max(0,n-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&YWe(r,n)}function YWe(r,e){te(r,function(t){!Oue(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function XWe(r,e,t){te(r,function(n){var a=n.getLayout().depth*e;t==="vertical"?n.setLayout({y:a},!0):n.setLayout({x:a},!0)})}function qWe(r,e,t,n,a,i,s){var o=ZWe(r,s);KWe(o,e,t,n,a,s),M5(o,a,t,n,s);for(var l=1;i>0;i--)l*=.99,$We(o,l,s),M5(o,a,t,n,s),rYe(o,l,s),M5(o,a,t,n,s)}function ZWe(r,e){var t=[],n=e==="vertical"?"y":"x",a=R6(r,function(i){return i.getLayout()[n]});return a.keys.sort(function(i,s){return i-s}),te(a.keys,function(i){t.push(a.buckets.get(i))}),t}function KWe(r,e,t,n,a,i){var s=1/0;te(r,function(o){var l=o.length,c=0;te(o,function(f){c+=f.getLayout().value});var u=i==="vertical"?(n-(l-1)*a)/c:(t-(l-1)*a)/c;u<s&&(s=u)}),te(r,function(o){te(o,function(l,c){var u=l.getLayout().value*s;i==="vertical"?(l.setLayout({x:c},!0),l.setLayout({dx:u},!0)):(l.setLayout({y:c},!0),l.setLayout({dy:u},!0))})}),te(e,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function M5(r,e,t,n,a){var i=a==="vertical"?"x":"y";te(r,function(s){s.sort(function(g,m){return g.getLayout()[i]-m.getLayout()[i]});for(var o,l,c,u=0,f=s.length,h=a==="vertical"?"dx":"dy",d=0;d<f;d++)l=s[d],c=u-l.getLayout()[i],c>0&&(o=l.getLayout()[i]+c,a==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),u=l.getLayout()[i]+l.getLayout()[h]+e;var v=a==="vertical"?n:t;if(c=u-e-v,c>0){o=l.getLayout()[i]-c,a==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),u=o;for(var d=f-2;d>=0;--d)l=s[d],c=l.getLayout()[i]+l.getLayout()[h]+e-u,c>0&&(o=l.getLayout()[i]-c,a==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),u=l.getLayout()[i]}})}function $We(r,e,t){te(r.slice().reverse(),function(n){te(n,function(a){if(a.outEdges.length){var i=X0(a.outEdges,JWe,t)/X0(a.outEdges,EN);if(isNaN(i)){var s=a.outEdges.length;i=s?X0(a.outEdges,QWe,t)/s:0}if(t==="vertical"){var o=a.getLayout().x+(i-sv(a,t))*e;a.setLayout({x:o},!0)}else{var l=a.getLayout().y+(i-sv(a,t))*e;a.setLayout({y:l},!0)}}})})}function JWe(r,e){return sv(r.node2,e)*r.getValue()}function QWe(r,e){return sv(r.node2,e)}function eYe(r,e){return sv(r.node1,e)*r.getValue()}function tYe(r,e){return sv(r.node1,e)}function sv(r,e){return e==="vertical"?r.getLayout().x+r.getLayout().dx/2:r.getLayout().y+r.getLayout().dy/2}function EN(r){return r.getValue()}function X0(r,e,t){for(var n=0,a=r.length,i=-1;++i<a;){var s=+e(r[i],t);isNaN(s)||(n+=s)}return n}function rYe(r,e,t){te(r,function(n){te(n,function(a){if(a.inEdges.length){var i=X0(a.inEdges,eYe,t)/X0(a.inEdges,EN);if(isNaN(i)){var s=a.inEdges.length;i=s?X0(a.inEdges,tYe,t)/s:0}if(t==="vertical"){var o=a.getLayout().x+(i-sv(a,t))*e;a.setLayout({x:o},!0)}else{var l=a.getLayout().y+(i-sv(a,t))*e;a.setLayout({y:l},!0)}}})})}function nYe(r,e){var t=e==="vertical"?"x":"y";te(r,function(n){n.outEdges.sort(function(a,i){return a.node2.getLayout()[t]-i.node2.getLayout()[t]}),n.inEdges.sort(function(a,i){return a.node1.getLayout()[t]-i.node1.getLayout()[t]})}),te(r,function(n){var a=0,i=0;te(n.outEdges,function(s){s.setLayout({sy:a},!0),a+=s.getLayout().dy}),te(n.inEdges,function(s){s.setLayout({ty:i},!0),i+=s.getLayout().dy})})}function aYe(r){r.eachSeriesByType("sankey",function(e){var t=e.getGraph(),n=t.nodes,a=t.edges;if(n.length){var i=1/0,s=-1/0;te(n,function(o){var l=o.getLayout().value;l<i&&(i=l),l>s&&(s=l)}),te(n,function(o){var l=new Ji({type:"color",mappingMethod:"linear",dataExtent:[i,s],visual:e.get("color")}),c=l.mapValueToVisual(o.getLayout().value),u=o.getModel().get(["itemStyle","color"]);u!=null?(o.setVisual("color",u),o.setVisual("style",{fill:u})):(o.setVisual("color",c),o.setVisual("style",{fill:c}))})}a.length&&te(a,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function iYe(r){r.registerChartView(zWe),r.registerSeriesModel(UWe),r.registerLayout(VWe),r.registerVisual(aYe),r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(n){n.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),r.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,t,n){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(a){var i=a.coordinateSystem,s=mL(i,e,a.get("scaleLimit"));a.setCenter(s.center),a.setZoom(s.zoom)})})}var kue=(function(){function r(){}return r.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},r.prototype.getInitialData=function(e,t){var n,a=t.getComponent("xAxis",this.get("xAxisIndex")),i=t.getComponent("yAxis",this.get("yAxisIndex")),s=a.get("type"),o=i.get("type"),l;s==="category"?(e.layout="horizontal",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(e.layout="vertical",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var c=["x","y"],u=e.layout==="horizontal"?0:1,f=this._baseAxisDim=c[u],h=c[1-u],d=[a,i],v=d[u].get("type"),g=d[1-u].get("type"),m=e.data;if(m&&l){var y=[];te(m,function(A,E){var M;ct(A)?(M=A.slice(),A.unshift(E)):ct(A.value)?(M=nt({},A),M.value=M.value.slice(),A.value.unshift(E)):M=A,y.push(M)}),e.data=y}var b=this.defaultValueDimensions,S=[{name:f,type:cN(v),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:cN(g),dimsDef:b.slice()}];return xb(this,{coordDimensions:S,dimensionsCount:b.length+1,encodeDefaulter:yr(Wse,S,this)})},r.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},r})(),Pue=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:We.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:We.color.shadow}},animationDuration:800},e})(Hn);Xa(Pue,kue,!0);var sYe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=t.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=t.get("layout")==="horizontal"?1:0;i.diff(o).add(function(c){if(i.hasValue(c)){var u=i.getItemLayout(c),f=mK(u,i,c,l,!0);i.setItemGraphicEl(c,f),s.add(f)}}).update(function(c,u){var f=o.getItemGraphicEl(u);if(!i.hasValue(c)){s.remove(f);return}var h=i.getItemLayout(c);f?(tu(f),Bue(h,f,i,c)):f=mK(h,i,c,l),s.add(f),i.setItemGraphicEl(c,f)}).remove(function(c){var u=o.getItemGraphicEl(c);u&&s.remove(u)}).execute(),this._data=i},e.prototype.remove=function(t){var n=this.group,a=this._data;this._data=null,a&&a.eachItemGraphicEl(function(i){i&&n.remove(i)})},e.type="boxplot",e})(Ln),oYe=(function(){function r(){}return r})(),lYe=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="boxplotBoxPath",n}return e.prototype.getDefaultShape=function(){return new oYe},e.prototype.buildPath=function(t,n){var a=n.points,i=0;for(t.moveTo(a[i][0],a[i][1]),i++;i<4;i++)t.lineTo(a[i][0],a[i][1]);for(t.closePath();i<a.length;i++)t.moveTo(a[i][0],a[i][1]),i++,t.lineTo(a[i][0],a[i][1])},e})(Fr);function mK(r,e,t,n,a){var i=r.ends,s=new lYe({shape:{points:a?cYe(i,n,r):i}});return Bue(r,s,e,t,a),s}function Bue(r,e,t,n,a){var i=t.hostModel,s=my[a?"initProps":"updateProps"];s(e,{shape:{points:r.ends}},i,n),e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.z2=100;var o=t.getItemModel(n),l=o.getModel("emphasis");Oi(e,o),Sa(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function cYe(r,e,t){return ft(r,function(n){return n=n.slice(),n[e]=t.initBaseline,n})}var qw=te;function uYe(r){var e=fYe(r);qw(e,function(t){var n=t.seriesModels;n.length&&(hYe(t),qw(n,function(a,i){dYe(a,t.boxOffsetList[i],t.boxWidthList[i])}))})}function fYe(r){var e=[],t=[];return r.eachSeriesByType("boxplot",function(n){var a=n.getBaseAxis(),i=br(t,a);i<0&&(i=t.length,t[i]=a,e[i]={axis:a,seriesModels:[]}),e[i].seriesModels.push(n)}),e}function hYe(r){var e=r.axis,t=r.seriesModels,n=t.length,a=r.boxWidthList=[],i=r.boxOffsetList=[],s=[],o;if(e.type==="category")o=e.getBandWidth();else{var l=0;qw(t,function(v){l=Math.max(l,v.getData().count())});var c=e.getExtent();o=Math.abs(c[1]-c[0])/l}qw(t,function(v){var g=v.get("boxWidth");ct(g)||(g=[g,g]),s.push([Nt(g[0],o)||0,Nt(g[1],o)||0])});var u=o*.8-2,f=u/n*.3,h=(u-f*(n-1))/n,d=h/2-u/2;qw(t,function(v,g){i.push(d),d+=f+h,a.push(Math.min(Math.max(h,s[g][0]),s[g][1]))})}function dYe(r,e,t){var n=r.coordinateSystem,a=r.getData(),i=t/2,s=r.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],c=a.mapDimension(l[s]),u=a.mapDimensionsAll(l[o]);if(c==null||u.length<5)return;for(var f=0;f<a.count();f++){var h=a.get(c,f),d=S(h,u[2],f),v=S(h,u[0],f),g=S(h,u[1],f),m=S(h,u[3],f),y=S(h,u[4],f),b=[];A(b,g,!1),A(b,m,!0),b.push(v,g,y,m),E(b,v),E(b,y),E(b,d),a.setItemLayout(f,{initBaseline:d[o],ends:b})}function S(M,R,L){var I=a.get(R,L),O=[];O[s]=M,O[o]=I;var P;return isNaN(M)||isNaN(I)?P=[NaN,NaN]:(P=n.dataToPoint(O),P[s]+=e),P}function A(M,R,L){var I=R.slice(),O=R.slice();I[s]+=i,O[s]-=i,L?M.push(I,O):M.push(O,I)}function E(M,R){var L=R.slice(),I=R.slice();L[s]-=i,I[s]+=i,M.push(L,I)}}function pYe(r,e){e=e||{};for(var t=[],n=[],a=e.boundIQR,i=a==="none"||a===0,s=0;s<r.length;s++){var o=Ql(r[s].slice()),l=rD(o,.25),c=rD(o,.5),u=rD(o,.75),f=o[0],h=o[o.length-1],d=(a??1.5)*(u-l),v=i?f:Math.max(f,l-d),g=i?h:Math.min(h,u+d),m=e.itemNameFormatter,y=Yt(m)?m({value:s}):It(m)?m.replace("{value}",s+""):s+"";t.push([y,v,l,c,u,g]);for(var b=0;b<o.length;b++){var S=o[b];if(S<v||S>g){var A=[y,S];n.push(A)}}}return{boxData:t,outliers:n}}var vYe={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==Ts){var n="";mn(n)}var a=pYe(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:a.boxData},{data:a.outliers}]}};function gYe(r){r.registerSeriesModel(Pue),r.registerChartView(sYe),r.registerLayout(uYe),r.registerTransform(vYe)}var mYe=["itemStyle","borderColor"],yYe=["itemStyle","borderColor0"],xYe=["itemStyle","borderColorDoji"],_Ye=["itemStyle","color"],bYe=["itemStyle","color0"];function t9(r,e){return e.get(r>0?_Ye:bYe)}function r9(r,e){return e.get(r===0?xYe:r>0?mYe:yYe)}var SYe={seriesType:"candlestick",plan:hb(),performRawSeries:!0,reset:function(r,e){if(!e.isSeriesFiltered(r)){var t=r.pipelineContext.large;return!t&&{progress:function(n,a){for(var i;(i=n.next())!=null;){var s=a.getItemModel(i),o=a.getItemLayout(i).sign,l=s.getItemStyle();l.fill=t9(o,s),l.stroke=r9(o,s)||l.fill;var c=a.ensureUniqueItemVisual(i,"style");nt(c,l)}}}}}},wYe=["color","borderColor"],TYe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,n,a){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,n,a,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,n):this._incrementalRenderNormal(t,n)},e.prototype.eachRendered=function(t){vv(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},e.prototype._renderNormal=function(t){var n=t.getData(),a=this._data,i=this.group,s=n.getLayout("isSimpleBox"),o=t.get("clip",!0),l=t.coordinateSystem,c=l.getArea&&l.getArea();this._data||i.removeAll(),n.diff(a).add(function(u){if(n.hasValue(u)){var f=n.getItemLayout(u);if(o&&yK(c,f))return;var h=C5(f,u,!0);ca(h,{shape:{points:f.ends}},t,u),D5(h,n,u,s),i.add(h),n.setItemGraphicEl(u,h)}}).update(function(u,f){var h=a.getItemGraphicEl(f);if(!n.hasValue(u)){i.remove(h);return}var d=n.getItemLayout(u);if(o&&yK(c,d)){i.remove(h);return}h?(nn(h,{shape:{points:d.ends}},t,u),tu(h)):h=C5(d),D5(h,n,u,s),i.add(h),n.setItemGraphicEl(u,h)}).remove(function(u){var f=a.getItemGraphicEl(u);f&&i.remove(f)}).execute(),this._data=n},e.prototype._renderLarge=function(t){this._clear(),xK(t,this.group);var n=t.get("clip",!0)?ZA(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,n){for(var a=n.getData(),i=a.getLayout("isSimpleBox"),s;(s=t.next())!=null;){var o=a.getItemLayout(s),l=C5(o);D5(l,a,s,i),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,n){xK(n,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(Ln),AYe=(function(){function r(){}return r})(),EYe=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="normalCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new AYe},e.prototype.buildPath=function(t,n){var a=n.points;this.__simpleBox?(t.moveTo(a[4][0],a[4][1]),t.lineTo(a[6][0],a[6][1])):(t.moveTo(a[0][0],a[0][1]),t.lineTo(a[1][0],a[1][1]),t.lineTo(a[2][0],a[2][1]),t.lineTo(a[3][0],a[3][1]),t.closePath(),t.moveTo(a[4][0],a[4][1]),t.lineTo(a[5][0],a[5][1]),t.moveTo(a[6][0],a[6][1]),t.lineTo(a[7][0],a[7][1]))},e})(Fr);function C5(r,e,t){var n=r.ends;return new EYe({shape:{points:t?MYe(n,r):n},z2:100})}function yK(r,e){for(var t=!0,n=0;n<e.ends.length;n++)if(r.contain(e.ends[n][0],e.ends[n][1])){t=!1;break}return t}function D5(r,e,t,n){var a=e.getItemModel(t);r.useStyle(e.getItemVisual(t,"style")),r.style.strokeNoScale=!0,r.__simpleBox=n,Oi(r,a);var i=e.getItemLayout(t).sign;te(r.states,function(o,l){var c=a.getModel(l),u=t9(i,c),f=r9(i,c)||u,h=o.style||(o.style={});u&&(h.fill=u),f&&(h.stroke=f)});var s=a.getModel("emphasis");Sa(r,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function MYe(r,e){return ft(r,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var CYe=(function(){function r(){}return r})(),R5=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n.type="largeCandlestickBox",n}return e.prototype.getDefaultShape=function(){return new CYe},e.prototype.buildPath=function(t,n){for(var a=n.points,i=0;i<a.length;)if(this.__sign===a[i++]){var s=a[i++];t.moveTo(s,a[i++]),t.lineTo(s,a[i++])}else i+=3},e})(Fr);function xK(r,e,t,n){var a=r.getData(),i=a.getLayout("largePoints"),s=new R5({shape:{points:i},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new R5({shape:{points:i},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var l=new R5({shape:{points:i},__sign:0,ignoreCoarsePointer:!0});e.add(l),N5(1,s,r),N5(-1,o,r),N5(0,l,r),n&&(s.incremental=!0,o.incremental=!0),t&&t.push(s,o)}function N5(r,e,t,n){var a=r9(r,t)||t9(r,t),i=t.getModel("itemStyle").getItemStyle(wYe);e.useStyle(i),e.style.fill=null,e.style.stroke=a}var zue=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,n,a){var i=n.getItemLayout(t);return i&&a.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(Hn);Xa(zue,kue,!0);function DYe(r){!r||!ct(r.series)||te(r.series,function(e){nr(e)&&e.type==="k"&&(e.type="candlestick")})}var RYe={seriesType:"candlestick",plan:hb(),reset:function(r){var e=r.coordinateSystem,t=r.getData(),n=NYe(r,t),a=0,i=1,s=["x","y"],o=t.getDimensionIndex(t.mapDimension(s[a])),l=ft(t.mapDimensionsAll(s[i]),t.getDimensionIndex,t),c=l[0],u=l[1],f=l[2],h=l[3];if(t.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:r.pipelineContext.large?v:d};function d(g,m){for(var y,b=m.getStore();(y=g.next())!=null;){var S=b.get(o,y),A=b.get(c,y),E=b.get(u,y),M=b.get(f,y),R=b.get(h,y),L=Math.min(A,E),I=Math.max(A,E),O=Z(L,S),P=Z(I,S),k=Z(M,S),U=Z(R,S),F=[];X(F,P,0),X(F,O,1),F.push(re(U),re(P),re(k),re(O));var q=m.getItemModel(y),H=!!q.get(["itemStyle","borderColorDoji"]);m.setItemLayout(y,{sign:_K(b,y,A,E,u,H),initBaseline:A>E?P[i]:O[i],ends:F,brushRect:Y(M,R,S)})}function Z(W,j){var J=[];return J[a]=j,J[i]=W,isNaN(j)||isNaN(W)?[NaN,NaN]:e.dataToPoint(J)}function X(W,j,J){var ee=j.slice(),ae=j.slice();ee[a]=aD(ee[a]+n/2,1,!1),ae[a]=aD(ae[a]-n/2,1,!0),J?W.push(ee,ae):W.push(ae,ee)}function Y(W,j,J){var ee=Z(W,J),ae=Z(j,J);return ee[a]-=n/2,ae[a]-=n/2,{x:ee[0],y:ee[1],width:n,height:ae[1]-ee[1]}}function re(W){return W[a]=aD(W[a],1),W}}function v(g,m){for(var y=fh(g.count*4),b=0,S,A=[],E=[],M,R=m.getStore(),L=!!r.get(["itemStyle","borderColorDoji"]);(M=g.next())!=null;){var I=R.get(o,M),O=R.get(c,M),P=R.get(u,M),k=R.get(f,M),U=R.get(h,M);if(isNaN(I)||isNaN(k)||isNaN(U)){y[b++]=NaN,b+=3;continue}y[b++]=_K(R,M,O,P,u,L),A[a]=I,A[i]=k,S=e.dataToPoint(A,null,E),y[b++]=S?S[0]:NaN,y[b++]=S?S[1]:NaN,A[i]=U,S=e.dataToPoint(A,null,E),y[b++]=S?S[1]:NaN}m.setLayout("largePoints",y)}}};function _K(r,e,t,n,a,i){var s;return t>n?s=-1:t<n?s=1:s=i?0:e>0?r.get(a,e-1)<=n?1:-1:1,s}function NYe(r,e){var t=r.getBaseAxis(),n,a=t.type==="category"?t.getBandWidth():(n=t.getExtent(),Math.abs(n[1]-n[0])/e.count()),i=Nt(Gt(r.get("barMaxWidth"),a),a),s=Nt(Gt(r.get("barMinWidth"),1),a),o=r.get("barWidth");return o!=null?Nt(o,a):Math.max(Math.min(a/2,i),s)}function IYe(r){r.registerChartView(TYe),r.registerSeriesModel(zue),r.registerPreprocessor(DYe),r.registerVisual(SYe),r.registerLayout(RYe)}function bK(r,e){var t=e.rippleEffectColor||e.color;r.eachChild(function(n){n.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var LYe=(function(r){Ye(e,r);function e(t,n){var a=r.call(this)||this,i=new XA(t,n),s=new er;return a.add(i),a.add(s),a.updateData(t,n),a}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var n=t.symbolType,a=t.color,i=t.rippleNumber,s=this.childAt(1),o=0;o<i;o++){var l=oi(n,-1,-1,2,2,a);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var c=-o/i*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(c).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(c).start(),s.add(l)}bK(s,t)},e.prototype.updateEffectAnimation=function(t){for(var n=this._effectCfg,a=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],s=0;s<i.length;s++){var o=i[s];if(n[o]!==t[o]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}bK(a,t)},e.prototype.highlight=function(){np(this)},e.prototype.downplay=function(){ap(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,n){var a=this,i=t.hostModel;this.childAt(0).updateData(t,n);var s=this.childAt(1),o=t.getItemModel(n),l=t.getItemVisual(n,"symbol"),c=pb(t.getItemVisual(n,"symbolSize")),u=t.getItemVisual(n,"style"),f=u&&u.fill,h=o.getModel("emphasis");s.setScale(c),s.traverse(function(m){m.setStyle("fill",f)});var d=_y(t.getItemVisual(n,"symbolOffset"),c);d&&(s.x=d[0],s.y=d[1]);var v=t.getItemVisual(n,"symbolRotate");s.rotation=(v||0)*Math.PI/180||0;var g={};g.showEffectOn=i.get("showEffectOn"),g.rippleScale=o.get(["rippleEffect","scale"]),g.brushType=o.get(["rippleEffect","brushType"]),g.period=o.get(["rippleEffect","period"])*1e3,g.effectOffset=n/t.count(),g.z=i.getShallow("z")||0,g.zlevel=i.getShallow("zlevel")||0,g.symbolType=l,g.color=f,g.rippleEffectColor=o.get(["rippleEffect","color"]),g.rippleNumber=o.get(["rippleEffect","number"]),g.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(m){m==="emphasis"?g.showEffectOn!=="render"&&a.startEffectAnimation(g):m==="normal"&&g.showEffectOn!=="render"&&a.stopEffectAnimation()}),this._effectCfg=g,Sa(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e})(er),OYe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new qA(LYe)},e.prototype.render=function(t,n,a){var i=t.getData(),s=this._symbolDraw;s.updateData(i,{clipShape:this._getClipShape(t)}),this.group.add(s.group)},e.prototype._getClipShape=function(t){var n=t.coordinateSystem,a=n&&n.getArea&&n.getArea();return t.get("clip",!0)?a:null},e.prototype.updateTransform=function(t,n,a){var i=t.getData();this.group.dirty();var s=KA("").reset(t,n,a);s.progress&&s.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var n=t.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=Yae(n.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e})(Ln),kYe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,n){return Oh(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,n,a){return a.point(n.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e})(Hn);function PYe(r){r.registerChartView(OYe),r.registerSeriesModel(kYe),r.registerLayout(KA("effectScatter"))}var Fue=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this)||this;return i.add(i.createLine(t,n,a)),i._updateEffectSymbol(t,n),i}return e.prototype.createLine=function(t,n,a){return new WU(t,n,a)},e.prototype._updateEffectSymbol=function(t,n){var a=t.getItemModel(n),i=a.getModel("effect"),s=i.get("symbolSize"),o=i.get("symbol");ct(s)||(s=[s,s]);var l=t.getItemVisual(n,"style"),c=i.get("color")||l&&l.stroke,u=this.childAt(1);this._symbolType!==o&&(this.remove(u),u=oi(o,-.5,-.5,1,1,c),u.z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",c),u.setStyle(i.getItemStyle(["color"])),u.scaleX=s[0],u.scaleY=s[1],u.setColor(c),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(t,i,n))},e.prototype._updateEffectAnimation=function(t,n,a){var i=this.childAt(1);if(i){var s=t.getItemLayout(a),o=n.get("period")*1e3,l=n.get("loop"),c=n.get("roundTrip"),u=n.get("constantSpeed"),f=bs(n.get("delay"),function(d){return d/t.count()*o/3});if(i.ignore=!0,this._updateAnimationPoints(i,s),u>0&&(o=this._getLineLength(i)/u*1e3),o!==this._period||l!==this._loop||c!==this._roundTrip){i.stopAnimation();var h=void 0;Yt(f)?h=f(a):h=f,i.__t>0&&(h=-o*i.__t),this._animateSymbol(i,o,h,l,c)}this._period=o,this._loop=l,this._roundTrip=c}},e.prototype._animateSymbol=function(t,n,a,i,s){if(n>0){t.__t=0;var o=this,l=t.animate("",i).when(s?n*2:n,{__t:s?2:1}).delay(a).during(function(){o._updateSymbolPosition(t)});i||l.done(function(){o.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return Od(t.__p1,t.__cp1)+Od(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,n){t.__p1=n[0],t.__p2=n[1],t.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},e.prototype.updateData=function(t,n,a){this.childAt(0).updateData(t,n,a),this._updateEffectSymbol(t,n)},e.prototype._updateSymbolPosition=function(t){var n=t.__p1,a=t.__p2,i=t.__cp1,s=t.__t<1?t.__t:2-t.__t,o=[t.x,t.y],l=o.slice(),c=_s,u=p6;o[0]=c(n[0],i[0],a[0],s),o[1]=c(n[1],i[1],a[1],s);var f=t.__t<1?u(n[0],i[0],a[0],s):u(a[0],i[0],n[0],1-s),h=t.__t<1?u(n[1],i[1],a[1],s):u(a[1],i[1],n[1],1-s);t.rotation=-Math.atan2(h,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=Od(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*Od(n,o):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=o[0],t.y=o[1]},e.prototype.updateLayout=function(t,n){this.childAt(0).updateLayout(t,n);var a=t.getItemModel(n).getModel("effect");this._updateEffectAnimation(t,a,n)},e})(er),Uue=(function(r){Ye(e,r);function e(t,n,a){var i=r.call(this)||this;return i._createPolyline(t,n,a),i}return e.prototype._createPolyline=function(t,n,a){var i=t.getItemLayout(n),s=new ws({shape:{points:i}});this.add(s),this._updateCommonStl(t,n,a)},e.prototype.updateData=function(t,n,a){var i=t.hostModel,s=this.childAt(0),o={shape:{points:t.getItemLayout(n)}};nn(s,o,i,n),this._updateCommonStl(t,n,a)},e.prototype._updateCommonStl=function(t,n,a){var i=this.childAt(0),s=t.getItemModel(n),o=a&&a.emphasisLineStyle,l=a&&a.focus,c=a&&a.blurScope,u=a&&a.emphasisDisabled;if(!a||t.hasItemOption){var f=s.getModel("emphasis");o=f.getModel("lineStyle").getLineStyle(),u=f.get("disabled"),l=f.get("focus"),c=f.get("blurScope")}i.useStyle(t.getItemVisual(n,"style")),i.style.fill=null,i.style.strokeNoScale=!0;var h=i.ensureState("emphasis");h.style=o,Sa(this,l,c,u)},e.prototype.updateLayout=function(t,n){var a=this.childAt(0);a.setShape("points",t.getItemLayout(n))},e})(er),BYe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,n,a){return new Uue(t,n,a)},e.prototype._updateAnimationPoints=function(t,n){this._points=n;for(var a=[0],i=0,s=1;s<n.length;s++){var o=n[s-1],l=n[s];i+=Od(o,l),a.push(i)}if(i===0){this._length=0;return}for(var s=0;s<a.length;s++)a[s]/=i;this._offsets=a,this._length=i},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var n=t.__t<1?t.__t:2-t.__t,a=this._points,i=this._offsets,s=a.length;if(i){var o=this._lastFrame,l;if(n<this._lastFramePercent){var c=Math.min(o+1,s-1);for(l=c;l>=0&&!(i[l]<=n);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(i[l]>n);l++);l=Math.min(l-1,s-2)}var u=(n-i[l])/(i[l+1]-i[l]),f=a[l],h=a[l+1];t.x=f[0]*(1-u)+u*h[0],t.y=f[1]*(1-u)+u*h[1];var d=t.__t<1?h[0]-f[0]:f[0]-h[0],v=t.__t<1?h[1]-f[1]:f[1]-h[1];t.rotation=-Math.atan2(v,d)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,t.ignore=!1}},e})(Fue),zYe=(function(){function r(){this.polyline=!1,this.curveness=0,this.segs=[]}return r})(),FYe=(function(r){Ye(e,r);function e(t){var n=r.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:We.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new zYe},e.prototype.buildPath=function(t,n){var a=n.segs,i=n.curveness,s;if(n.polyline)for(s=this._off;s<a.length;){var o=a[s++];if(o>0){t.moveTo(a[s++],a[s++]);for(var l=1;l<o;l++)t.lineTo(a[s++],a[s++])}}else for(s=this._off;s<a.length;){var c=a[s++],u=a[s++],f=a[s++],h=a[s++];if(t.moveTo(c,u),i>0){var d=(c+f)/2-(u-h)*i,v=(u+h)/2-(f-c)*i;t.quadraticCurveTo(d,v,f,h)}else t.lineTo(f,h)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(t,n){var a=this.shape,i=a.segs,s=a.curveness,o=this.style.lineWidth;if(a.polyline)for(var l=0,c=0;c<i.length;){var u=i[c++];if(u>0)for(var f=i[c++],h=i[c++],d=1;d<u;d++){var v=i[c++],g=i[c++];if(x0(f,h,v,g,o,t,n))return l}l++}else for(var l=0,c=0;c<i.length;){var f=i[c++],h=i[c++],v=i[c++],g=i[c++];if(s>0){var m=(f+v)/2-(h-g)*s,y=(h+g)/2-(v-f)*s;if(Uie(f,h,m,y,v,g,o,t,n))return l}else if(x0(f,h,v,g,o,t,n))return l;l++}return-1},e.prototype.contain=function(t,n){var a=this.transformCoordToLocal(t,n),i=this.getBoundingRect();if(t=a[0],n=a[1],i.contain(t,n)){var s=this.hoverDataIdx=this.findDataIndex(t,n);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,a=n.segs,i=1/0,s=1/0,o=-1/0,l=-1/0,c=0;c<a.length;){var u=a[c++],f=a[c++];i=Math.min(u,i),o=Math.max(u,o),s=Math.min(f,s),l=Math.max(f,l)}t=this._rect=new sr(i,s,o,l)}return t},e})(Fr),UYe=(function(){function r(){this.group=new er}return r.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},r.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},r.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],a=t.getLayout("linesPoints"),i=n&&n.shape.segs;if(i&&i.length<2e4){var s=i.length,o=new Float32Array(s+a.length);o.set(i),o.set(a,s),n.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:a}),this._setCommon(l,t),l.__startIndex=e.start}},r.prototype.remove=function(){this._clear()},r.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},r.prototype._create=function(){var e=new FYe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},r.prototype._setCommon=function(e,t,n){var a=t.hostModel;e.setShape({polyline:a.get("polyline"),curveness:a.get(["lineStyle","curveness"])}),e.useStyle(a.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual("style");i&&i.stroke&&e.setStyle("stroke",i.stroke),e.setStyle("fill",null);var s=or(e);s.seriesIndex=a.seriesIndex,e.on("mousemove",function(o){s.dataIndex=null;var l=e.hoverDataIdx;l>0&&(s.dataIndex=l+e.__startIndex)})},r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},r})(),Vue={seriesType:"lines",plan:hb(),reset:function(r){var e=r.coordinateSystem;if(e){var t=r.get("polyline"),n=r.pipelineContext.large;return{progress:function(a,i){var s=[];if(n){var o=void 0,l=a.end-a.start;if(t){for(var c=0,u=a.start;u<a.end;u++)c+=r.getLineCoordsCount(u);o=new Float32Array(l+c*2)}else o=new Float32Array(l*4);for(var f=0,h=[],u=a.start;u<a.end;u++){var d=r.getLineCoords(u,s);t&&(o[f++]=d);for(var v=0;v<d;v++)h=e.dataToPoint(s[v],!1,h),o[f++]=h[0],o[f++]=h[1]}i.setLayout("linesPoints",o)}else for(var u=a.start;u<a.end;u++){var g=i.getItemModel(u),d=r.getLineCoords(u,s),m=[];if(t)for(var y=0;y<d;y++)m.push(e.dataToPoint(s[y]));else{m[0]=e.dataToPoint(s[0]),m[1]=e.dataToPoint(s[1]);var b=g.get(["lineStyle","curveness"]);+b&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*b,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*b])}i.setItemLayout(u,m)}}}}}},VYe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=t.getData(),s=this._updateLineDraw(i,t),o=t.get("zlevel"),l=t.get(["effect","trailLength"]),c=a.getZr(),u=c.painter.getType()==="svg";u||c.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!u&&c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(u||c.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(i);var f=t.get("clip",!0)&&ZA(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,n,a){var i=t.getData(),s=this._updateLineDraw(i,t);s.incrementalPrepareUpdate(i),this._clearLayer(a),this._finished=!1},e.prototype.incrementalRender=function(t,n,a){this._lineDraw.incrementalUpdate(t,n.getData()),this._finished=t.end===n.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,n,a){var i=t.getData(),s=t.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=Vue.reset(t,n,a);o.progress&&o.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(a)},e.prototype._updateLineDraw=function(t,n){var a=this._lineDraw,i=this._showEffect(n),s=!!n.get("polyline"),o=n.pipelineContext,l=o.large;return(!a||i!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(a&&a.remove(),a=this._lineDraw=l?new UYe:new YU(s?i?BYe:Uue:i?Fue:WU),this._hasEffet=i,this._isPolyline=s,this._isLargeDraw=l),this.group.add(a.group),a},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var n=t.getZr(),a=n.painter.getType()==="svg";!a&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.type="lines",e})(Ln),HYe=typeof Uint32Array>"u"?Array:Uint32Array,GYe=typeof Float64Array>"u"?Array:Float64Array;function SK(r){var e=r.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(r.data=ft(e,function(t){var n=[t[0].coord,t[1].coord],a={coords:n};return t[0].name&&(a.fromName=t[0].name),t[1].name&&(a.toName=t[1].name),VI([a,t[0],t[1]])}))}var jYe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],SK(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),r.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(SK(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}r.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var n=this._processFlatCoordsArray(t.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=S_(this._flatCoords,n.flatCoords),this._flatCoordsOffset=S_(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),t.data=new Float32Array(n.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var n=this.getData().getItemModel(t),a=n.option instanceof Array?n.option:n.getShallow("coords");return a},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,n){if(this._flatCoordsOffset){for(var a=this._flatCoordsOffset[t*2],i=this._flatCoordsOffset[t*2+1],s=0;s<i;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[a+s*2],n[s][1]=this._flatCoords[a+s*2+1];return i}else{for(var o=this._getCoordsFromItemModel(t),s=0;s<o.length;s++)n[s]=n[s]||[],n[s][0]=o[s][0],n[s][1]=o[s][1];return o.length}},e.prototype._processFlatCoordsArray=function(t){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),$r(t[0])){for(var a=t.length,i=new HYe(a),s=new GYe(a),o=0,l=0,c=0,u=0;u<a;){c++;var f=t[u++];i[l++]=o+n,i[l++]=f;for(var h=0;h<f;h++){var d=t[u++],v=t[u++];s[o++]=d,s[o++]=v}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,l),flatCoords:s,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,n){var a=new bo(["value"],this);return a.hasItemOption=!1,a.initData(t.data,[],function(i,s,o,l){if(i instanceof Array)return NaN;a.hasItemOption=!0;var c=i.value;if(c!=null)return c instanceof Array?c[l]:c}),a},e.prototype.formatTooltip=function(t,n,a){var i=this.getData(),s=i.getItemModel(t),o=s.get("name");if(o)return o;var l=s.get("fromName"),c=s.get("toName"),u=[];return l!=null&&u.push(l),c!=null&&u.push(c),Si("nameValue",{name:u.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),n=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&n>0?n+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e})(Hn);function M3(r){return r instanceof Array||(r=[r,r]),r}var WYe={seriesType:"lines",reset:function(r){var e=M3(r.get("symbol")),t=M3(r.get("symbolSize")),n=r.getData();n.setVisual("fromSymbol",e&&e[0]),n.setVisual("toSymbol",e&&e[1]),n.setVisual("fromSymbolSize",t&&t[0]),n.setVisual("toSymbolSize",t&&t[1]);function a(i,s){var o=i.getItemModel(s),l=M3(o.getShallow("symbol",!0)),c=M3(o.getShallow("symbolSize",!0));l[0]&&i.setItemVisual(s,"fromSymbol",l[0]),l[1]&&i.setItemVisual(s,"toSymbol",l[1]),c[0]&&i.setItemVisual(s,"fromSymbolSize",c[0]),c[1]&&i.setItemVisual(s,"toSymbolSize",c[1])}return{dataEach:n.hasItemOption?a:null}}};function YYe(r){r.registerChartView(VYe),r.registerSeriesModel(jYe),r.registerLayout(Vue),r.registerVisual(WYe)}var XYe=256,qYe=(function(){function r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Ml.createCanvas();this.canvas=e}return r.prototype.update=function(e,t,n,a,i,s){var o=this._getBrush(),l=this._getGradient(i,"inRange"),c=this._getGradient(i,"outOfRange"),u=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),d=e.length;f.width=t,f.height=n;for(var v=0;v<d;++v){var g=e[v],m=g[0],y=g[1],b=g[2],S=a(b);h.globalAlpha=S,h.drawImage(o,m-u,y-u)}if(!f.width||!f.height)return f;for(var A=h.getImageData(0,0,f.width,f.height),E=A.data,M=0,R=E.length,L=this.minOpacity,I=this.maxOpacity,O=I-L;M<R;){var S=E[M+3]/256,P=Math.floor(S*(XYe-1))*4;if(S>0){var k=s(S)?l:c;S>0&&(S=S*O+L),E[M++]=k[P],E[M++]=k[P+1],E[M++]=k[P+2],E[M++]=k[P+3]*S*256}else M+=4}return h.putImageData(A,0,0),f},r.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Ml.createCanvas()),t=this.pointSize+this.blurSize,n=t*2;e.width=n,e.height=n;var a=e.getContext("2d");return a.clearRect(0,0,n,n),a.shadowOffsetX=n,a.shadowBlur=this.blurSize,a.shadowColor=We.color.neutral99,a.beginPath(),a.arc(-t,t,this.pointSize,0,Math.PI*2,!0),a.closePath(),a.fill(),e},r.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,a=n[t]||(n[t]=new Uint8ClampedArray(256*4)),i=[0,0,0,0],s=0,o=0;o<256;o++)e[t](o/255,!0,i),a[s++]=i[0],a[s++]=i[1],a[s++]=i[2],a[s++]=i[3];return a},r})();function ZYe(r,e,t){var n=r[1]-r[0];e=ft(e,function(s){return{interval:[(s.interval[0]-r[0])/n,(s.interval[1]-r[0])/n]}});var a=e.length,i=0;return function(s){var o;for(o=i;o<a;o++){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){i=o;break}}if(o===a)for(o=i-1;o>=0;o--){var l=e[o].interval;if(l[0]<=s&&s<=l[1]){i=o;break}}return o>=0&&o<a&&t[o]}}function KYe(r,e){var t=r[1]-r[0];return e=[(e[0]-r[0])/t,(e[1]-r[0])/t],function(n){return n>=e[0]&&n<=e[1]}}function wK(r){var e=r.dimensions;return e[0]==="lng"&&e[1]==="lat"}var $Ye=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i;n.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===t&&(i=o)})}),this._progressiveEls=null,this.group.removeAll();var s=t.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"||s.type==="matrix"?this._renderOnGridLike(t,a,0,t.getData().count()):wK(s)&&this._renderOnGeo(s,t,i,a)},e.prototype.incrementalPrepareRender=function(t,n,a){this.group.removeAll()},e.prototype.incrementalRender=function(t,n,a,i){var s=n.coordinateSystem;s&&(wK(s)?this.render(n,a,i):(this._progressiveEls=[],this._renderOnGridLike(n,i,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){vv(this._progressiveEls||this.group,t)},e.prototype._renderOnGridLike=function(t,n,a,i,s){var o=t.coordinateSystem,l=av(o,"cartesian2d"),c=av(o,"matrix"),u,f,h,d;if(l){var v=o.getAxis("x"),g=o.getAxis("y");u=v.getBandWidth()+.5,f=g.getBandWidth()+.5,h=v.scale.getExtent(),d=g.scale.getExtent()}for(var m=this.group,y=t.getData(),b=t.getModel(["emphasis","itemStyle"]).getItemStyle(),S=t.getModel(["blur","itemStyle"]).getItemStyle(),A=t.getModel(["select","itemStyle"]).getItemStyle(),E=t.get(["itemStyle","borderRadius"]),M=ki(t),R=t.getModel("emphasis"),L=R.get("focus"),I=R.get("blurScope"),O=R.get("disabled"),P=l||c?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],k=a;k<i;k++){var U=void 0,F=y.getItemVisual(k,"style");if(l){var q=y.get(P[0],k),H=y.get(P[1],k);if(isNaN(y.get(P[2],k))||isNaN(q)||isNaN(H)||q<h[0]||q>h[1]||H<d[0]||H>d[1])continue;var Z=o.dataToPoint([q,H]);U=new Nr({shape:{x:Z[0]-u/2,y:Z[1]-f/2,width:u,height:f},style:F})}else if(c){var X=o.dataToLayout([y.get(P[0],k),y.get(P[1],k)]).rect;if(Us(X.x))continue;U=new Nr({z2:1,shape:X,style:F})}else{if(isNaN(y.get(P[1],k)))continue;var Y=o.dataToLayout([y.get(P[0],k)]),X=Y.contentRect||Y.rect;if(Us(X.x)||Us(X.y))continue;U=new Nr({z2:1,shape:X,style:F})}if(y.hasItemOption){var re=y.getItemModel(k),W=re.getModel("emphasis");b=W.getModel("itemStyle").getItemStyle(),S=re.getModel(["blur","itemStyle"]).getItemStyle(),A=re.getModel(["select","itemStyle"]).getItemStyle(),E=re.get(["itemStyle","borderRadius"]),L=W.get("focus"),I=W.get("blurScope"),O=W.get("disabled"),M=ki(re)}U.shape.r=E;var j=t.getRawValue(k),J="-";j&&j[2]!=null&&(J=j[2]+""),rs(U,M,{labelFetcher:t,labelDataIndex:k,defaultOpacity:F.opacity,defaultText:J}),U.ensureState("emphasis").style=b,U.ensureState("blur").style=S,U.ensureState("select").style=A,Sa(U,L,I,O),U.incremental=s,s&&(U.states.emphasis.hoverLayer=!0),m.add(U),y.setItemGraphicEl(k,U),this._progressiveEls&&this._progressiveEls.push(U)}},e.prototype._renderOnGeo=function(t,n,a,i){var s=a.targetVisuals.inRange,o=a.targetVisuals.outOfRange,l=n.getData(),c=this._hmLayer||this._hmLayer||new qYe;c.blurSize=n.get("blurSize"),c.pointSize=n.get("pointSize"),c.minOpacity=n.get("minOpacity"),c.maxOpacity=n.get("maxOpacity");var u=t.getViewRect().clone(),f=t.getRoamTransform();u.applyTransform(f);var h=Math.max(u.x,0),d=Math.max(u.y,0),v=Math.min(u.width+u.x,i.getWidth()),g=Math.min(u.height+u.y,i.getHeight()),m=v-h,y=g-d,b=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],S=l.mapArray(b,function(R,L,I){var O=t.dataToPoint([R,L]);return O[0]-=h,O[1]-=d,O.push(I),O}),A=a.getExtent(),E=a.type==="visualMap.continuous"?KYe(A,a.option.range):ZYe(A,a.getPieceList(),a.option.selected);c.update(S,m,y,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},E);var M=new ns({style:{width:m,height:y,x:h,y:d,image:c.canvas},silent:!0});this.group.add(M)},e.type="heatmap",e})(Ln),JYe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,n){return Oh(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=fb.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:We.color.primary}}},e})(Hn);function QYe(r){r.registerChartView($Ye),r.registerSeriesModel(JYe)}var eXe=["itemStyle","borderWidth"],TK=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],I5=new Lh,tXe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=this.group,s=t.getData(),o=this._data,l=t.coordinateSystem,c=l.getBaseAxis(),u=c.isHorizontal(),f=l.master.getRect(),h={ecSize:{width:a.getWidth(),height:a.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:u,valueDim:TK[+u],categoryDim:TK[1-+u]};s.diff(o).add(function(v){if(s.hasValue(v)){var g=EK(s,v),m=AK(s,v,g,h),y=MK(s,h,m);s.setItemGraphicEl(v,y),i.add(y),DK(y,h,m)}}).update(function(v,g){var m=o.getItemGraphicEl(g);if(!s.hasValue(v)){i.remove(m);return}var y=EK(s,v),b=AK(s,v,y,h),S=Xue(s,b);m&&S!==m.__pictorialShapeStr&&(i.remove(m),s.setItemGraphicEl(v,null),m=null),m?lXe(m,h,b):m=MK(s,h,b,!0),s.setItemGraphicEl(v,m),m.__pictorialSymbolMeta=b,i.add(m),DK(m,h,b)}).remove(function(v){var g=o.getItemGraphicEl(v);g&&CK(o,v,g.__pictorialSymbolMeta.animationModel,g)}).execute();var d=t.get("clip",!0)?ZA(t.coordinateSystem,!1,t):null;return d?i.setClipPath(d):i.removeClipPath(),this._data=s,this.group},e.prototype.remove=function(t,n){var a=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl(function(s){CK(i,or(s).dataIndex,t,s)}):a.removeAll()},e.type="pictorialBar",e})(Ln);function AK(r,e,t,n){var a=r.getItemLayout(e),i=t.get("symbolRepeat"),s=t.get("symbolClip"),o=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),c=(l||0)*Math.PI/180||0,u=t.get("symbolPatternSize")||2,f=t.isAnimationEnabled(),h={dataIndex:e,layout:a,itemModel:t,symbolType:r.getItemVisual(e,"symbol")||"circle",style:r.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:i,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:c,animationModel:f?t:null,hoverScale:f&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};rXe(t,i,a,n,h),nXe(r,e,a,i,s,h.boundingLength,h.pxSign,u,n,h),aXe(t,h.symbolScale,c,n,h);var d=h.symbolSize,v=_y(t.get("symbolOffset"),d);return iXe(t,d,a,i,s,v,o,h.valueLineWidth,h.boundingLength,h.repeatCutLength,n,h),h}function rXe(r,e,t,n,a){var i=n.valueDim,s=r.get("symbolBoundingData"),o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),c=1-+(t[i.wh]<=0),u;if(ct(s)){var f=[L5(o,s[0])-l,L5(o,s[1])-l];f[1]<f[0]&&f.reverse(),u=f[c]}else s!=null?u=L5(o,s)-l:e?u=n.coordSysExtent[i.index][c]-l:u=t[i.wh];a.boundingLength=u,e&&(a.repeatCutLength=t[i.wh]);var h=i.xy==="x",d=o.inverse;a.pxSign=h&&!d||!h&&d?u>=0?1:-1:u>0?1:-1}function L5(r,e){return r.toGlobalCoord(r.dataToCoord(r.scale.parse(e)))}function nXe(r,e,t,n,a,i,s,o,l,c){var u=l.valueDim,f=l.categoryDim,h=Math.abs(t[f.wh]),d=r.getItemVisual(e,"symbolSize"),v;ct(d)?v=d.slice():d==null?v=["100%","100%"]:v=[d,d],v[f.index]=Nt(v[f.index],h),v[u.index]=Nt(v[u.index],n?h:Math.abs(i)),c.symbolSize=v;var g=c.symbolScale=[v[0]/o,v[1]/o];g[u.index]*=(l.isHorizontal?-1:1)*s}function aXe(r,e,t,n,a){var i=r.get(eXe)||0;i&&(I5.attr({scaleX:e[0],scaleY:e[1],rotation:t}),I5.updateTransform(),i/=I5.getLineScale(),i*=e[n.valueDim.index]),a.valueLineWidth=i||0}function iXe(r,e,t,n,a,i,s,o,l,c,u,f){var h=u.categoryDim,d=u.valueDim,v=f.pxSign,g=Math.max(e[d.index]+o,0),m=g;if(n){var y=Math.abs(l),b=bs(r.get("symbolMargin"),"15%")+"",S=!1;b.lastIndexOf("!")===b.length-1&&(S=!0,b=b.slice(0,b.length-1));var A=Nt(b,e[d.index]),E=Math.max(g+A*2,0),M=S?0:A*2,R=hF(n),L=R?n:RK((y+M)/E),I=y-L*g;A=I/2/(S?L:Math.max(L-1,1)),E=g+A*2,M=S?0:A*2,!R&&n!=="fixed"&&(L=c?RK((Math.abs(c)+M)/E):0),m=L*E-M,f.repeatTimes=L,f.symbolMargin=A}var O=v*(m/2),P=f.pathPosition=[];P[h.index]=t[h.wh]/2,P[d.index]=s==="start"?O:s==="end"?l-O:l/2,i&&(P[0]+=i[0],P[1]+=i[1]);var k=f.bundlePosition=[];k[h.index]=t[h.xy],k[d.index]=t[d.xy];var U=f.barRectShape=nt({},t);U[d.wh]=v*Math.max(Math.abs(t[d.wh]),Math.abs(P[d.index]+O)),U[h.wh]=t[h.wh];var F=f.clipShape={};F[h.xy]=-t[h.xy],F[h.wh]=u.ecSize[h.wh],F[d.xy]=0,F[d.wh]=t[d.wh]}function Hue(r){var e=r.symbolPatternSize,t=oi(r.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function Gue(r,e,t,n){var a=r.__pictorialBundle,i=t.symbolSize,s=t.valueLineWidth,o=t.pathPosition,l=e.valueDim,c=t.repeatTimes||0,u=0,f=i[e.valueDim.index]+s+t.symbolMargin*2;for(n9(r,function(g){g.__pictorialAnimationIndex=u,g.__pictorialRepeatTimes=c,u<c?i_(g,null,v(u),t,n):i_(g,null,{scaleX:0,scaleY:0},t,n,function(){a.remove(g)}),u++});u<c;u++){var h=Hue(t);h.__pictorialAnimationIndex=u,h.__pictorialRepeatTimes=c,a.add(h);var d=v(u);i_(h,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},t,n)}function v(g){var m=o.slice(),y=t.pxSign,b=g;return(t.symbolRepeatDirection==="start"?y>0:y<0)&&(b=c-1-g),m[l.index]=f*(b-c/2+.5)+o[l.index],{x:m[0],y:m[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function jue(r,e,t,n){var a=r.__pictorialBundle,i=r.__pictorialMainPath;i?i_(i,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,n):(i=r.__pictorialMainPath=Hue(t),a.add(i),i_(i,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,n))}function Wue(r,e,t){var n=nt({},e.barRectShape),a=r.__pictorialBarRect;a?i_(a,null,{shape:n},e,t):(a=r.__pictorialBarRect=new Nr({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.disableMorphing=!0,r.add(a))}function Yue(r,e,t,n){if(t.symbolClip){var a=r.__pictorialClipPath,i=nt({},t.clipShape),s=e.valueDim,o=t.animationModel,l=t.dataIndex;if(a)nn(a,{shape:i},o,l);else{i[s.wh]=0,a=new Nr({shape:i}),r.__pictorialBundle.setClipPath(a),r.__pictorialClipPath=a;var c={};c[s.wh]=t.clipShape[s.wh],my[n?"updateProps":"initProps"](a,{shape:c},o,l)}}}function EK(r,e){var t=r.getItemModel(e);return t.getAnimationDelayParams=sXe,t.isAnimationEnabled=oXe,t}function sXe(r){return{index:r.__pictorialAnimationIndex,count:r.__pictorialRepeatTimes}}function oXe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function MK(r,e,t,n){var a=new er,i=new er;return a.add(i),a.__pictorialBundle=i,i.x=t.bundlePosition[0],i.y=t.bundlePosition[1],t.symbolRepeat?Gue(a,e,t):jue(a,e,t),Wue(a,t,n),Yue(a,e,t,n),a.__pictorialShapeStr=Xue(r,t),a.__pictorialSymbolMeta=t,a}function lXe(r,e,t){var n=t.animationModel,a=t.dataIndex,i=r.__pictorialBundle;nn(i,{x:t.bundlePosition[0],y:t.bundlePosition[1]},n,a),t.symbolRepeat?Gue(r,e,t,!0):jue(r,e,t,!0),Wue(r,t,!0),Yue(r,e,t,!0)}function CK(r,e,t,n){var a=n.__pictorialBarRect;a&&a.removeTextContent();var i=[];n9(n,function(s){i.push(s)}),n.__pictorialMainPath&&i.push(n.__pictorialMainPath),n.__pictorialClipPath&&(t=null),te(i,function(s){nv(s,{scaleX:0,scaleY:0},t,e,function(){n.parent&&n.parent.remove(n)})}),r.setItemGraphicEl(e,null)}function Xue(r,e){return[r.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function n9(r,e,t){te(r.__pictorialBundle.children(),function(n){n!==r.__pictorialBarRect&&e.call(t,n)})}function i_(r,e,t,n,a,i){e&&r.attr(e),n.symbolClip&&!a?t&&r.attr(t):t&&my[a?"updateProps":"initProps"](r,t,n.animationModel,n.dataIndex,i)}function DK(r,e,t){var n=t.dataIndex,a=t.itemModel,i=a.getModel("emphasis"),s=i.getModel("itemStyle").getItemStyle(),o=a.getModel(["blur","itemStyle"]).getItemStyle(),l=a.getModel(["select","itemStyle"]).getItemStyle(),c=a.getShallow("cursor"),u=i.get("focus"),f=i.get("blurScope"),h=i.get("scale");n9(r,function(g){if(g instanceof ns){var m=g.style;g.useStyle(nt({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},t.style))}else g.useStyle(t.style);var y=g.ensureState("emphasis");y.style=s,h&&(y.scaleX=g.scaleX*1.1,y.scaleY=g.scaleY*1.1),g.ensureState("blur").style=o,g.ensureState("select").style=l,c&&(g.cursor=c),g.z2=t.z2});var d=e.valueDim.posDesc[+(t.boundingLength>0)],v=r.__pictorialBarRect;v.ignoreClip=!0,rs(v,ki(a),{labelFetcher:e.seriesModel,labelDataIndex:n,defaultText:L_(e.seriesModel.getData(),n),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:d}),Sa(r,u,f,i.get("disabled"))}function RK(r){var e=Math.round(r);return Math.abs(r-e)<1e-4?e:Math.ceil(r)}var cXe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,r.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=gv($T.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:We.color.primary}}}),e})($T);function uXe(r){r.registerChartView(tXe),r.registerSeriesModel(cXe),r.registerLayout(r.PRIORITY.VISUAL.LAYOUT,yr(dle,"pictorialBar")),r.registerLayout(r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ple("pictorialBar"))}var fXe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,n,a){var i=t.getData(),s=this,o=this.group,l=t.getLayerSeries(),c=i.getLayout("layoutInfo"),u=c.rect,f=c.boundaryGap;o.x=0,o.y=u.y+f[0];function h(m){return m.name}var d=new ip(this._layersSeries||[],l,h,h),v=[];d.add(Ot(g,this,"add")).update(Ot(g,this,"update")).remove(Ot(g,this,"remove")).execute();function g(m,y,b){var S=s._layers;if(m==="remove"){o.remove(S[y]);return}for(var A=[],E=[],M,R=l[y].indices,L=0;L<R.length;L++){var I=i.getItemLayout(R[L]),O=I.x,P=I.y0,k=I.y;A.push(O,P),E.push(O,P+k),M=i.getItemVisual(R[L],"style")}var U,F=i.getItemLayout(R[0]),q=t.getModel("label"),H=q.get("margin"),Z=t.getModel("emphasis");if(m==="add"){var X=v[y]=new er;U=new ace({shape:{points:A,stackedOnPoints:E,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),X.add(U),o.add(X),t.isAnimationEnabled()&&U.setClipPath(hXe(U.getBoundingRect(),t,function(){U.removeClipPath()}))}else{var X=S[b];U=X.childAt(0),o.add(X),v[y]=X,nn(U,{shape:{points:A,stackedOnPoints:E}},t),tu(U)}rs(U,ki(t),{labelDataIndex:R[L-1],defaultText:i.getName(R[L-1]),inheritColor:M.fill},{normal:{verticalAlign:"middle"}}),U.setTextConfig({position:null,local:!0});var Y=U.getTextContent();Y&&(Y.x=F.x-H,Y.y=F.y0+F.y/2),U.useStyle(M),i.setItemGraphicEl(y,U),Oi(U,t),Sa(U,Z.get("focus"),Z.get("blurScope"),Z.get("disabled"))}this._layersSeries=l,this._layers=v},e.type="themeRiver",e})(Ln);function hXe(r,e,t){var n=new Nr({shape:{x:r.x-10,y:r.y-10,width:0,height:r.height+20}});return ca(n,{shape:{x:r.x-50,width:r.width+100,height:r.height+20}},e,t),n}var O5=2,dXe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new _b(Ot(this.getData,this),Ot(this.getRawData,this))},e.prototype.fixData=function(t){var n=t.length,a={},i=R6(t,function(h){return a.hasOwnProperty(h[0]+"")||(a[h[0]+""]=-1),h[2]}),s=[];i.buckets.each(function(h,d){s.push({name:d,dataList:h})});for(var o=s.length,l=0;l<o;++l){for(var c=s[l].name,u=0;u<s[l].dataList.length;++u){var f=s[l].dataList[u][0]+"";a[f]=l}for(var f in a)a.hasOwnProperty(f)&&a[f]!==l&&(a[f]=l,t[n]=[f,0,c],n++)}return t},e.prototype.getInitialData=function(t,n){for(var a=this.getReferringComponents("singleAxis",Pa).models[0],i=a.get("type"),s=fn(t.data,function(v){return v[2]!==void 0}),o=this.fixData(s||[]),l=[],c=this.nameMap=Ht(),u=0,f=0;f<o.length;++f)l.push(o[f][O5]),c.get(o[f][O5])||(c.set(o[f][O5],u),u++);var h=vb(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:cN(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new bo(h,this);return d.initData(o),d},e.prototype.getLayerSeries=function(){for(var t=this.getData(),n=t.count(),a=[],i=0;i<n;++i)a[i]=i;var s=t.mapDimension("single"),o=R6(a,function(c){return t.get("name",c)}),l=[];return o.buckets.each(function(c,u){c.sort(function(f,h){return t.get(s,f)-t.get(s,h)}),l.push({name:u,indices:c})}),l},e.prototype.getAxisTooltipData=function(t,n,a){ct(t)||(t=t?[t]:[]);for(var i=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,c,u=0;u<l;++u){for(var f=Number.MAX_VALUE,h=-1,d=s[u].indices.length,v=0;v<d;++v){var g=i.get(t[0],s[u].indices[v]),m=Math.abs(g-n);m<=f&&(c=g,f=m,h=s[u].indices[v])}o.push(h)}return{dataIndices:o,nestestValue:c}},e.prototype.formatTooltip=function(t,n,a){var i=this.getData(),s=i.getName(t),o=i.get(i.mapDimension("value"),t);return Si("nameValue",{name:s,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e})(Hn);function pXe(r,e){r.eachSeriesByType("themeRiver",function(t){var n=t.getData(),a=t.coordinateSystem,i={},s=a.getRect();i.rect=s;var o=t.get("boundaryGap"),l=a.getAxis();if(i.boundaryGap=o,l.orient==="horizontal"){o[0]=Nt(o[0],s.height),o[1]=Nt(o[1],s.height);var c=s.height-o[0]-o[1];NK(n,t,c)}else{o[0]=Nt(o[0],s.width),o[1]=Nt(o[1],s.width);var u=s.width-o[0]-o[1];NK(n,t,u)}n.setLayout("layoutInfo",i)})}function NK(r,e,t){if(r.count())for(var n=e.coordinateSystem,a=e.getLayerSeries(),i=r.mapDimension("single"),s=r.mapDimension("value"),o=ft(a,function(m){return ft(m.indices,function(y){var b=n.dataToPoint(r.get(i,y));return b[1]=r.get(s,y),b})}),l=vXe(o),c=l.y0,u=t/l.max,f=a.length,h=a[0].indices.length,d,v=0;v<h;++v){d=c[v]*u,r.setItemLayout(a[0].indices[v],{layerIndex:0,x:o[0][v][0],y0:d,y:o[0][v][1]*u});for(var g=1;g<f;++g)d+=o[g-1][v][1]*u,r.setItemLayout(a[g].indices[v],{layerIndex:g,x:o[g][v][0],y0:d,y:o[g][v][1]*u})}}function vXe(r){for(var e=r.length,t=r[0].length,n=[],a=[],i=0,s=0;s<t;++s){for(var o=0,l=0;l<e;++l)o+=r[l][s][1];o>i&&(i=o),n.push(o)}for(var c=0;c<t;++c)a[c]=(i-n[c])/2;i=0;for(var u=0;u<t;++u){var f=n[u]+a[u];f>i&&(i=f)}return{y0:a,max:i}}function gXe(r){r.registerChartView(fXe),r.registerSeriesModel(dXe),r.registerLayout(pXe),r.registerProcessor(yb("themeRiver"))}var mXe=2,yXe=4,IK=(function(r){Ye(e,r);function e(t,n,a,i){var s=r.call(this)||this;s.z2=mXe,s.textConfig={inside:!0},or(s).seriesIndex=n.seriesIndex;var o=new Kr({z2:yXe,silent:t.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,t,n,a,i),s}return e.prototype.updateData=function(t,n,a,i,s){this.node=n,n.piece=this,a=a||this._seriesModel,i=i||this._ecModel;var o=this;or(o).dataIndex=n.dataIndex;var l=n.getModel(),c=l.getModel("emphasis"),u=n.getLayout(),f=nt({},u);f.label=null;var h=n.getVisual("style");h.lineJoin="bevel";var d=n.getVisual("decal");d&&(h.decal=R_(d,s));var v=dh(l.getModel("itemStyle"),f,!0);nt(f,v),te(nl,function(b){var S=o.ensureState(b),A=l.getModel([b,"itemStyle"]);S.style=A.getItemStyle();var E=dh(A,f);E&&(S.shape=E)}),t?(o.setShape(f),o.shape.r=u.r0,ca(o,{shape:{r:u.r}},a,n.dataIndex)):(nn(o,{shape:f},a),tu(o)),o.useStyle(h),this._updateLabel(a);var g=l.getShallow("cursor");g&&o.attr("cursor",g),this._seriesModel=a||this._seriesModel,this._ecModel=i||this._ecModel;var m=c.get("focus"),y=m==="relative"?S_(n.getAncestorsIndices(),n.getDescendantIndices()):m==="ancestor"?n.getAncestorsIndices():m==="descendant"?n.getDescendantIndices():m;Sa(this,y,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t){var n=this,a=this.node.getModel(),i=a.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,c=Math.cos(l),u=Math.sin(l),f=this,h=f.getTextContent(),d=this.node.dataIndex,v=i.get("minAngle")/180*Math.PI,g=i.get("show")&&!(v!=null&&Math.abs(o)<v);h.ignore=!g,te(BT,function(y){var b=y==="normal"?a.getModel("label"):a.getModel([y,"label"]),S=y==="normal",A=S?h:h.ensureState(y),E=t.getFormattedLabel(d,y);S&&(E=E||n.node.name),A.style=Kn(b,{},null,y!=="normal",!0),E&&(A.style.text=E);var M=b.get("show");M!=null&&!S&&(A.ignore=!M);var R=m(b,"position"),L=S?f:f.states[y],I=L.style.fill;L.textConfig={outsideFill:b.get("color")==="inherit"?I:null,inside:R!=="outside"};var O,P=m(b,"distance")||0,k=m(b,"align"),U=m(b,"rotate"),F=Math.PI*.5,q=Math.PI*1.5,H=ec(U==="tangential"?Math.PI/2-l:l),Z=H>F&&!A_(H-F)&&H<q;R==="outside"?(O=s.r+P,k=Z?"right":"left"):!k||k==="center"?(o===2*Math.PI&&s.r0===0?O=0:O=(s.r+s.r0)/2,k="center"):k==="left"?(O=s.r0+P,k=Z?"right":"left"):k==="right"&&(O=s.r-P,k=Z?"left":"right"),A.style.align=k,A.style.verticalAlign=m(b,"verticalAlign")||"middle",A.x=O*c+s.cx,A.y=O*u+s.cy;var X=0;U==="radial"?X=ec(-l)+(Z?Math.PI:0):U==="tangential"?X=ec(Math.PI/2-l)+(Z?Math.PI:0):$r(U)&&(X=U*Math.PI/180),A.rotation=ec(X)});function m(y,b){var S=y.get(b);return S??i.get(b)}h.dirtyStyle()},e})(Gs),YB="sunburstRootToNode",LK="sunburstHighlight",xXe="sunburstUnhighlight";function _Xe(r){r.registerAction({type:YB,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},n);function n(a,i){var s=QT(e,[YB],a);if(s){var o=a.getViewRoot();o&&(e.direction=UU(o,s.node)?"rollUp":"drillDown"),a.resetViewRoot(s.node)}}}),r.registerAction({type:LK,update:"none"},function(e,t,n){e=nt({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},a);function a(i){var s=QT(e,[LK],i);s&&(e.dataIndex=s.node.dataIndex)}n.dispatchAction(nt(e,{type:"highlight"}))}),r.registerAction({type:xXe,update:"updateView"},function(e,t,n){e=nt({},e),n.dispatchAction(nt(e,{type:"downplay"}))})}var bXe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a,i){var s=this;this.seriesModel=t,this.api=a,this.ecModel=n;var o=t.getData(),l=o.tree.root,c=t.getViewRoot(),u=this.group,f=t.get("renderLabelForZeroData"),h=[];c.eachNode(function(b){h.push(b)});var d=this._oldChildren||[];v(h,d),y(l,c),this._initEvents(),this._oldChildren=h;function v(b,S){if(b.length===0&&S.length===0)return;new ip(S,b,A,A).add(E).update(E).remove(yr(E,null)).execute();function A(M){return M.getId()}function E(M,R){var L=M==null?null:b[M],I=R==null?null:S[R];g(L,I)}}function g(b,S){if(!f&&b&&!b.getValue()&&(b=null),b!==l&&S!==l){if(S&&S.piece)b?(S.piece.updateData(!1,b,t,n,a),o.setItemGraphicEl(b.dataIndex,S.piece)):m(S);else if(b){var A=new IK(b,t,n,a);u.add(A),o.setItemGraphicEl(b.dataIndex,A)}}}function m(b){b&&b.piece&&(u.remove(b.piece),b.piece=null)}function y(b,S){S.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,b,t,n,a):(s.virtualPiece=new IK(b,t,n,a),u.add(s.virtualPiece)),S.piece.off("click"),s.virtualPiece.on("click",function(A){s._rootToNode(S.parentNode)})):s.virtualPiece&&(u.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(n){var a=!1,i=t.seriesModel.getViewRoot();i.eachNode(function(s){if(!a&&s.piece&&s.piece===n.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")t._rootToNode(s);else if(o==="link"){var l=s.getModel(),c=l.get("link");if(c){var u=l.get("target",!0)||"_blank";QR(c,u)}}a=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:YB,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,n){var a=n.getData(),i=a.getItemLayout(0);if(i){var s=t[0]-i.cx,o=t[1]-i.cy,l=Math.sqrt(s*s+o*o);return l<=i.r&&l>=i.r0}},e.type="sunburst",e})(Ln),SXe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,n){var a={name:t.name,children:t.data};que(a);var i=this._levelModels=ft(t.levels||[],function(l){return new zr(l,this,n)},this),s=FU.createTree(a,this,o);function o(l){l.wrapMethod("getItemModel",function(c,u){var f=s.getNodeByDataIndex(u),h=i[f.depth];return h&&(c.parentModel=h),c})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var n=r.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=xL(a,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},e.prototype.enableAriaDecal=function(){Jce(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e})(Hn);function que(r){var e=0;te(r.children,function(n){que(n);var a=n.value;ct(a)&&(a=a[0]),e+=a});var t=r.value;ct(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),ct(r.value)?r.value[0]=t:r.value=t}var OK=Math.PI/180;function wXe(r,e,t){e.eachSeriesByType(r,function(n){var a=n.get("center"),i=n.get("radius");ct(i)||(i=[0,i]),ct(a)||(a=[a,a]);var s=t.getWidth(),o=t.getHeight(),l=Math.min(s,o),c=Nt(a[0],s),u=Nt(a[1],o),f=Nt(i[0],l/2),h=Nt(i[1],l/2),d=-n.get("startAngle")*OK,v=n.get("minAngle")*OK,g=n.getData().tree.root,m=n.getViewRoot(),y=m.depth,b=n.get("sort");b!=null&&Zue(m,b);var S=0;te(m.children,function(H){!isNaN(H.getValue())&&S++});var A=m.getValue(),E=Math.PI/(A||S)*2,M=m.depth>0,R=m.height-(M?-1:1),L=(h-f)/(R||1),I=n.get("clockwise"),O=n.get("stillShowZeroSum"),P=I?1:-1,k=function(H,Z){if(H){var X=Z;if(H!==g){var Y=H.getValue(),re=A===0&&O?E:Y*E;re<v&&(re=v),X=Z+P*re;var W=H.depth-y-(M?-1:1),j=f+L*W,J=f+L*(W+1),ee=n.getLevelModel(H);if(ee){var ae=ee.get("r0",!0),ce=ee.get("r",!0),me=ee.get("radius",!0);me!=null&&(ae=me[0],ce=me[1]),ae!=null&&(j=Nt(ae,l/2)),ce!=null&&(J=Nt(ce,l/2))}H.setLayout({angle:re,startAngle:Z,endAngle:X,clockwise:I,cx:c,cy:u,r0:j,r:J})}if(H.children&&H.children.length){var Se=0;te(H.children,function(we){Se+=k(we,Z+Se)})}return X-Z}};if(M){var U=f,F=f+L,q=Math.PI*2;g.setLayout({angle:q,startAngle:d,endAngle:d+q,clockwise:I,cx:c,cy:u,r0:U,r:F})}k(m,d)})}function Zue(r,e){var t=r.children||[];r.children=TXe(t,e),t.length&&te(r.children,function(n){Zue(n,e)})}function TXe(r,e){if(Yt(e)){var t=ft(r,function(a,i){var s=a.getValue();return{params:{depth:a.depth,height:a.height,dataIndex:a.dataIndex,getValue:function(){return s}},index:i}});return t.sort(function(a,i){return e(a.params,i.params)}),ft(t,function(a){return r[a.index]})}else{var n=e==="asc";return r.sort(function(a,i){var s=(a.getValue()-i.getValue())*(n?1:-1);return s===0?(a.dataIndex-i.dataIndex)*(n?-1:1):s})}}function AXe(r){var e={};function t(n,a,i){if(n.depth===0)return We.color.neutral50;for(var s=n;s&&s.depth>1;)s=s.parentNode;var o=a.getColorFromPalette(s.name||s.dataIndex+"",e);return n.depth>1&&It(o)&&(o=FR(o,(n.depth-1)/(i-1)*.5)),o}r.eachSeriesByType("sunburst",function(n){var a=n.getData(),i=a.tree;i.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(s,n,i.root.height));var c=a.ensureUniqueItemVisual(s.dataIndex,"style");nt(c,l)})})}function EXe(r){r.registerChartView(bXe),r.registerSeriesModel(SXe),r.registerLayout(yr(wXe,"sunburst")),r.registerProcessor(yr(yb,"sunburst")),r.registerVisual(AXe),_Xe(r)}var kK={color:"fill",borderColor:"stroke"},MXe={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Yd=Pr(),CXe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,n){return Oh(null,this)},e.prototype.getDataParams=function(t,n,a){var i=r.prototype.getDataParams.call(this,t,n);return a&&(i.info=Yd(a).info),i},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e})(Hn);function DXe(r,e){return e=e||[0,0],ft(["x","y"],function(t,n){var a=this.getAxis(t),i=e[n],s=r[n]/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(i-s)-a.dataToCoord(i+s))},this)}function RXe(r){var e=r.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:Ot(DXe,r)}}}function NXe(r,e){return e=e||[0,0],ft([0,1],function(t){var n=e[t],a=r[t]/2,i=[],s=[];return i[t]=n-a,s[t]=n+a,i[1-t]=s[1-t]=e[1-t],Math.abs(this.dataToPoint(i)[t]-this.dataToPoint(s)[t])},this)}function IXe(r){var e=r.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:r.getZoom()},api:{coord:function(t){return r.dataToPoint(t)},size:Ot(NXe,r)}}}function LXe(r,e){var t=this.getAxis(),n=e instanceof Array?e[0]:e,a=(r instanceof Array?r[0]:r)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(n-a)-t.dataToCoord(n+a))}function OXe(r){var e=r.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return r.dataToPoint(t)},size:Ot(LXe,r)}}}function kXe(r,e){return e=e||[0,0],ft(["Radius","Angle"],function(t,n){var a="get"+t+"Axis",i=this[a](),s=e[n],o=r[n]/2,l=i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(s-o)-i.dataToCoord(s+o));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function PXe(r){var e=r.getRadiusAxis(),t=r.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:r.cx,cy:r.cy,r:n[1],r0:n[0]},api:{coord:function(a){var i=e.dataToRadius(a[0]),s=t.dataToAngle(a[1]),o=r.coordToPoint([i,s]);return o.push(i,s*Math.PI/180),o},size:Ot(kXe,r)}}}function BXe(r){var e=r.getRect(),t=r.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:r.getCellWidth(),cellHeight:r.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(n,a){return r.dataToPoint(n,a)},layout:function(n,a){return r.dataToLayout(n,a)}}}}function zXe(r){var e=r.getRect();return{coordSys:{type:"matrix",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t,n){return r.dataToPoint(t,n)},layout:function(t,n){return r.dataToLayout(t,n)}}}}function Kue(r,e,t,n){return r&&(r.legacy||r.legacy!==!1&&!t&&!n&&e!=="tspan"&&(e==="text"||Ut(r,"text")))}function $ue(r,e,t){var n=r,a,i,s;if(e==="text")s=n;else{s={},Ut(n,"text")&&(s.text=n.text),Ut(n,"rich")&&(s.rich=n.rich),Ut(n,"textFill")&&(s.fill=n.textFill),Ut(n,"textStroke")&&(s.stroke=n.textStroke),Ut(n,"fontFamily")&&(s.fontFamily=n.fontFamily),Ut(n,"fontSize")&&(s.fontSize=n.fontSize),Ut(n,"fontStyle")&&(s.fontStyle=n.fontStyle),Ut(n,"fontWeight")&&(s.fontWeight=n.fontWeight),i={type:"text",style:s,silent:!0},a={};var o=Ut(n,"textPosition");t?a.position=o?n.textPosition:"inside":o&&(a.position=n.textPosition),Ut(n,"textPosition")&&(a.position=n.textPosition),Ut(n,"textOffset")&&(a.offset=n.textOffset),Ut(n,"textRotation")&&(a.rotation=n.textRotation),Ut(n,"textDistance")&&(a.distance=n.textDistance)}return PK(s,r),te(s.rich,function(l){PK(l,l)}),{textConfig:a,textContent:i}}function PK(r,e){e&&(e.font=e.textFont||e.font,Ut(e,"textStrokeWidth")&&(r.lineWidth=e.textStrokeWidth),Ut(e,"textAlign")&&(r.align=e.textAlign),Ut(e,"textVerticalAlign")&&(r.verticalAlign=e.textVerticalAlign),Ut(e,"textLineHeight")&&(r.lineHeight=e.textLineHeight),Ut(e,"textWidth")&&(r.width=e.textWidth),Ut(e,"textHeight")&&(r.height=e.textHeight),Ut(e,"textBackgroundColor")&&(r.backgroundColor=e.textBackgroundColor),Ut(e,"textPadding")&&(r.padding=e.textPadding),Ut(e,"textBorderColor")&&(r.borderColor=e.textBorderColor),Ut(e,"textBorderWidth")&&(r.borderWidth=e.textBorderWidth),Ut(e,"textBorderRadius")&&(r.borderRadius=e.textBorderRadius),Ut(e,"textBoxShadowColor")&&(r.shadowColor=e.textBoxShadowColor),Ut(e,"textBoxShadowBlur")&&(r.shadowBlur=e.textBoxShadowBlur),Ut(e,"textBoxShadowOffsetX")&&(r.shadowOffsetX=e.textBoxShadowOffsetX),Ut(e,"textBoxShadowOffsetY")&&(r.shadowOffsetY=e.textBoxShadowOffsetY))}function BK(r,e,t){var n=r;n.textPosition=n.textPosition||t.position||"inside",t.offset!=null&&(n.textOffset=t.offset),t.rotation!=null&&(n.textRotation=t.rotation),t.distance!=null&&(n.textDistance=t.distance);var a=n.textPosition.indexOf("inside")>=0,i=r.fill||We.color.neutral99;zK(n,e);var s=n.textFill==null;return a?s&&(n.textFill=t.insideFill||We.color.neutral00,!n.textStroke&&t.insideStroke&&(n.textStroke=t.insideStroke),!n.textStroke&&(n.textStroke=i),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(s&&(n.textFill=r.fill||t.outsideFill||We.color.neutral00),!n.textStroke&&t.outsideStroke&&(n.textStroke=t.outsideStroke)),n.text=e.text,n.rich=e.rich,te(e.rich,function(o){zK(o,o)}),n}function zK(r,e){e&&(Ut(e,"fill")&&(r.textFill=e.fill),Ut(e,"stroke")&&(r.textStroke=e.fill),Ut(e,"lineWidth")&&(r.textStrokeWidth=e.lineWidth),Ut(e,"font")&&(r.font=e.font),Ut(e,"fontStyle")&&(r.fontStyle=e.fontStyle),Ut(e,"fontWeight")&&(r.fontWeight=e.fontWeight),Ut(e,"fontSize")&&(r.fontSize=e.fontSize),Ut(e,"fontFamily")&&(r.fontFamily=e.fontFamily),Ut(e,"align")&&(r.textAlign=e.align),Ut(e,"verticalAlign")&&(r.textVerticalAlign=e.verticalAlign),Ut(e,"lineHeight")&&(r.textLineHeight=e.lineHeight),Ut(e,"width")&&(r.textWidth=e.width),Ut(e,"height")&&(r.textHeight=e.height),Ut(e,"backgroundColor")&&(r.textBackgroundColor=e.backgroundColor),Ut(e,"padding")&&(r.textPadding=e.padding),Ut(e,"borderColor")&&(r.textBorderColor=e.borderColor),Ut(e,"borderWidth")&&(r.textBorderWidth=e.borderWidth),Ut(e,"borderRadius")&&(r.textBorderRadius=e.borderRadius),Ut(e,"shadowColor")&&(r.textBoxShadowColor=e.shadowColor),Ut(e,"shadowBlur")&&(r.textBoxShadowBlur=e.shadowBlur),Ut(e,"shadowOffsetX")&&(r.textBoxShadowOffsetX=e.shadowOffsetX),Ut(e,"shadowOffsetY")&&(r.textBoxShadowOffsetY=e.shadowOffsetY),Ut(e,"textShadowColor")&&(r.textShadowColor=e.textShadowColor),Ut(e,"textShadowBlur")&&(r.textShadowBlur=e.textShadowBlur),Ut(e,"textShadowOffsetX")&&(r.textShadowOffsetX=e.textShadowOffsetX),Ut(e,"textShadowOffsetY")&&(r.textShadowOffsetY=e.textShadowOffsetY))}var Jue={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},FK=Yr(Jue);Jc(Sh,function(r,e){return r[e]=1,r},{});Sh.join(", ");var MN=["","style","shape","extra"],B_=Pr();function a9(r,e,t,n,a){var i=r+"Animation",s=sb(r,n,a)||{},o=B_(e).userDuring;return s.duration>0&&(s.during=o?Ot(GXe,{el:e,userDuring:o}):null,s.setToFinal=!0,s.scope=r),nt(s,t[i]),s}function hD(r,e,t,n){n=n||{};var a=n.dataIndex,i=n.isInit,s=n.clearStyle,o=t.isAnimationEnabled(),l=B_(r),c=e.style;l.userDuring=e.during;var u={},f={};if(WXe(r,e,f),r.type==="compound")for(var h=r.shape.paths,d=e.shape.paths,v=0;v<d.length;v++){var g=d[v];k5("shape",g,h[v])}else k5("shape",e,f),k5("extra",e,f);if(!i&&o&&(jXe(r,e,u),UK("shape",r,e,u),UK("extra",r,e,u),YXe(r,e,c,u)),f.style=c,FXe(r,f,s),VXe(r,e),o)if(i){var m={};te(MN,function(b){var S=b?e[b]:e;S&&S.enterFrom&&(b&&(m[b]=m[b]||{}),nt(b?m[b]:m,S.enterFrom))});var y=a9("enter",r,e,t,a);y.duration>0&&r.animateFrom(m,y)}else UXe(r,e,a||0,t,u);Que(r,e),c?r.dirty():r.markRedraw()}function Que(r,e){for(var t=B_(r).leaveToProps,n=0;n<MN.length;n++){var a=MN[n],i=a?e[a]:e;i&&i.leaveTo&&(t||(t=B_(r).leaveToProps={}),a&&(t[a]=t[a]||{}),nt(a?t[a]:t,i.leaveTo))}}function SL(r,e,t,n){if(r){var a=r.parent,i=B_(r).leaveToProps;if(i){var s=a9("update",r,e,t,0);s.done=function(){a&&a.remove(r)},r.animateTo(i,s)}else a&&a.remove(r)}}function Pm(r){return r==="all"}function FXe(r,e,t){var n=e.style;if(!r.isGroup&&n){if(t){r.useStyle({});for(var a=r.animators,i=0;i<a.length;i++){var s=a[i];s.targetName==="style"&&s.changeTarget(r.style)}}r.setStyle(n)}e&&(e.style=null,e&&r.attr(e),e.style=n)}function UXe(r,e,t,n,a){if(a){var i=a9("update",r,e,n,t);i.duration>0&&r.animateFrom(a,i)}}function VXe(r,e){Ut(e,"silent")&&(r.silent=e.silent),Ut(e,"ignore")&&(r.ignore=e.ignore),r instanceof eu&&Ut(e,"invisible")&&(r.invisible=e.invisible),r instanceof Fr&&Ut(e,"autoBatch")&&(r.autoBatch=e.autoBatch)}var eh={},HXe={setTransform:function(r,e){return eh.el[r]=e,this},getTransform:function(r){return eh.el[r]},setShape:function(r,e){var t=eh.el,n=t.shape||(t.shape={});return n[r]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(r){var e=eh.el.shape;if(e)return e[r]},setStyle:function(r,e){var t=eh.el,n=t.style;return n&&(n[r]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(r){var e=eh.el.style;if(e)return e[r]},setExtra:function(r,e){var t=eh.el.extra||(eh.el.extra={});return t[r]=e,this},getExtra:function(r){var e=eh.el.extra;if(e)return e[r]}};function GXe(){var r=this,e=r.el;if(e){var t=B_(e).userDuring,n=r.userDuring;if(t!==n){r.el=r.userDuring=null;return}eh.el=e,n(HXe)}}function UK(r,e,t,n){var a=t[r];if(a){var i=e[r],s;if(i){var o=t.transition,l=a.transition;if(l)if(!s&&(s=n[r]={}),Pm(l))nt(s,i);else for(var c=$n(l),u=0;u<c.length;u++){var f=c[u],h=i[f];s[f]=h}else if(Pm(o)||br(o,r)>=0){!s&&(s=n[r]={});for(var d=Yr(i),u=0;u<d.length;u++){var f=d[u],h=i[f];XXe(a[f],h)&&(s[f]=h)}}}}}function k5(r,e,t){var n=e[r];if(n)for(var a=t[r]={},i=Yr(n),s=0;s<i.length;s++){var o=i[s];a[o]=Vw(n[o])}}function jXe(r,e,t){for(var n=e.transition,a=Pm(n)?Sh:$n(n||[]),i=0;i<a.length;i++){var s=a[i];if(!(s==="style"||s==="shape"||s==="extra")){var o=r[s];t[s]=o}}}function WXe(r,e,t){for(var n=0;n<FK.length;n++){var a=FK[n],i=Jue[a],s=e[a];s&&(t[i[0]]=s[0],t[i[1]]=s[1])}for(var n=0;n<Sh.length;n++){var o=Sh[n];e[o]!=null&&(t[o]=e[o])}}function YXe(r,e,t,n){if(t){var a=r.style,i;if(a){var s=t.transition,o=e.transition;if(s&&!Pm(s)){var l=$n(s);!i&&(i=n.style={});for(var c=0;c<l.length;c++){var u=l[c],f=a[u];i[u]=f}}else if(r.getAnimationStyleProps&&(Pm(o)||Pm(s)||br(o,"style")>=0)){var h=r.getAnimationStyleProps(),d=h?h.style:null;if(d){!i&&(i=n.style={});for(var v=Yr(t),c=0;c<v.length;c++){var u=v[c];if(d[u]){var f=a[u];i[u]=f}}}}}}}function XXe(r,e){return Vs(r)?r!==e:r!=null&&isFinite(r)}var efe=Pr(),qXe=["percent","easing","shape","style","extra"];function tfe(r){r.stopAnimation("keyframe"),r.attr(efe(r))}function CN(r,e,t){if(!(!t.isAnimationEnabled()||!e)){if(ct(e)){te(e,function(o){CN(r,o,t)});return}var n=e.keyframes,a=e.duration;if(t&&a==null){var i=sb("enter",t,0);a=i&&i.duration}if(!(!n||!a)){var s=efe(r);te(MN,function(o){if(!(o&&!r[o])){var l;n.sort(function(c,u){return c.percent-u.percent}),te(n,function(c){var u=r.animators,f=o?c[o]:c;if(f){var h=Yr(f);if(o||(h=fn(h,function(g){return br(qXe,g)<0})),!!h.length){l||(l=r.animate(o,e.loop,!0),l.scope="keyframe");for(var d=0;d<u.length;d++)u[d]!==l&&u[d].targetName===l.targetName&&u[d].stopTracks(h);o&&(s[o]=s[o]||{});var v=o?s[o]:s;te(h,function(g){v[g]=((o?r[o]:r)||{})[g]}),l.whenWithKeys(a*c.percent,f,h,c.easing)}}}),l&&l.delay(e.delay||0).duration(a).start(e.easing)}})}}}var Xd="emphasis",k0="normal",i9="blur",s9="select",ov=[k0,Xd,i9,s9],P5={normal:["itemStyle"],emphasis:[Xd,"itemStyle"],blur:[i9,"itemStyle"],select:[s9,"itemStyle"]},B5={normal:["label"],emphasis:[Xd,"label"],blur:[i9,"label"],select:[s9,"label"]},ZXe=["x","y"],KXe="e\0\0",Pc={normal:{},emphasis:{},blur:{},select:{}},$Xe={cartesian2d:RXe,geo:IXe,single:OXe,polar:PXe,calendar:BXe,matrix:zXe};function XB(r){return r instanceof Fr}function qB(r){return r instanceof eu}function JXe(r,e){e.copyTransform(r),qB(e)&&qB(r)&&(e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel,e.invisible=r.invisible,e.ignore=r.ignore,XB(e)&&XB(r)&&e.setShape(r.shape))}var QXe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a,i){this._progressiveEls=null;var s=this._data,o=t.getData(),l=this.group,c=VK(t,o,n,a);s||l.removeAll(),o.diff(s).add(function(f){z5(a,null,f,c(f,i),t,l,o)}).remove(function(f){var h=s.getItemGraphicEl(f);h&&SL(h,Yd(h).option,t)}).update(function(f,h){var d=s.getItemGraphicEl(h);z5(a,d,f,c(f,i),t,l,o)}).execute();var u=t.get("clip",!0)?ZA(t.coordinateSystem,!1,t):null;u?l.setClipPath(u):l.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(t,n,a){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,n,a,i,s){var o=n.getData(),l=VK(n,o,a,i),c=this._progressiveEls=[];function u(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var h=z5(null,null,f,l(f,s),n,this.group,o);h&&(h.traverse(u),c.push(h))}},e.prototype.eachRendered=function(t){vv(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,n,a,i){var s=n.element;if(s==null||a.name===s)return!0;for(;(a=a.__hostTarget||a.parent)&&a!==this.group;)if(a.name===s)return!0;return!1},e.type="custom",e})(Ln);function o9(r){var e=r.type,t;if(e==="path"){var n=r.shape,a=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,i=afe(n);t=M_(i,null,a,n.layout||"center"),Yd(t).customPathData=i}else if(e==="image")t=new ns({}),Yd(t).customImagePath=r.style.image;else if(e==="text")t=new Kr({});else if(e==="group")t=new er;else if(e==="compoundPath"){var n=r.shape;if(!n||!n.paths){var s="";mn(s)}var o=ft(n.paths,function(u){if(u.type==="path")return M_(u.shape.pathData,u,null);var f=FT(u.type);if(!f){var h="";mn(h)}return new f});t=new VA({shape:{paths:o}})}else{var l=FT(e);if(!l){var s="";mn(s)}t=new l}return Yd(t).customGraphicType=e,t.name=r.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function l9(r,e,t,n,a,i,s){tfe(e);var o=a&&a.normal.cfg;o&&e.setTextConfig(o),n&&n.transition==null&&(n.transition=ZXe);var l=n&&n.style;if(l){if(e.type==="text"){var c=l;Ut(c,"textFill")&&(c.fill=c.textFill),Ut(c,"textStroke")&&(c.stroke=c.textStroke)}var u=void 0,f=XB(e)?l.decal:null;r&&f&&(f.dirty=!0,u=R_(f,r)),l.__decalPattern=u}if(qB(e)&&l){var u=l.__decalPattern;u&&(l.decal=u)}hD(e,n,i,{dataIndex:t,isInit:s,clearStyle:!0}),CN(e,n.keyframeAnimation,i)}function rfe(r,e,t,n,a){var i=e.isGroup?null:e,s=a&&a[r].cfg;if(i){var o=i.ensureState(r);if(n===!1){var l=i.getState(r);l&&(l.style=null)}else o.style=n||null;s&&(o.textConfig=s),Zm(i)}}function eqe(r,e,t){if(!r.isGroup){var n=r,a=t.currentZ,i=t.currentZLevel;n.z=a,n.zlevel=i;var s=e.z2;s!=null&&(n.z2=s||0);for(var o=0;o<ov.length;o++)tqe(n,e,ov[o])}}function tqe(r,e,t){var n=t===k0,a=n?e:DN(e,t),i=a?a.z2:null,s;i!=null&&(s=n?r:r.ensureState(t),s.z2=i||0)}function VK(r,e,t,n){var a=r.get("renderItem");if(typeof a=="string"){var i=qze(a);i&&(a=i)}var s=r.coordinateSystem,o={};s&&(o=s.prepareCustoms?s.prepareCustoms(s):$Xe[s.type](s));for(var l=rr({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:E,style:R,ordinalRawValue:M,styleEmphasis:L,visual:P,barLayout:k,currentSeriesIndices:U,font:F},o.api||{}),c={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:rqe(r.getData()),itemPayload:r.get("itemPayload")||{}},u,f,h={},d={},v={},g={},m=0;m<ov.length;m++){var y=ov[m];v[y]=r.getModel(P5[y]),g[y]=r.getModel(B5[y])}function b(q){return q===u?f||(f=e.getItemModel(q)):e.getItemModel(q)}function S(q,H){return e.hasItemOption?q===u?h[H]||(h[H]=b(q).getModel(P5[H])):b(q).getModel(P5[H]):v[H]}function A(q,H){return e.hasItemOption?q===u?d[H]||(d[H]=b(q).getModel(B5[H])):b(q).getModel(B5[H]):g[H]}return function(q,H){return u=q,f=null,h={},d={},a&&a(rr({dataIndexInside:q,dataIndex:e.getRawIndex(q),actionType:H?H.type:null},c),l)};function E(q,H){return H==null&&(H=u),e.getStore().get(e.getDimensionIndex(q||0),H)}function M(q,H){H==null&&(H=u),q=q||0;var Z=e.getDimensionInfo(q);if(!Z){var X=e.getDimensionIndex(q);return X>=0?e.getStore().get(X,H):void 0}var Y=e.get(Z.name,H),re=Z&&Z.ordinalMeta;return re?re.categories[Y]:Y}function R(q,H){H==null&&(H=u);var Z=e.getItemVisual(H,"style"),X=Z&&Z.fill,Y=Z&&Z.opacity,re=S(H,k0).getItemStyle();X!=null&&(re.fill=X),Y!=null&&(re.opacity=Y);var W={inheritColor:It(X)?X:We.color.neutral99},j=A(H,k0),J=Kn(j,null,W,!1,!0);J.text=j.getShallow("show")?Gt(r.getFormattedLabel(H,k0),L_(e,H)):null;var ee=KR(j,W,!1);return O(q,re),re=BK(re,J,ee),q&&I(re,q),re.legacy=!0,re}function L(q,H){H==null&&(H=u);var Z=S(H,Xd).getItemStyle(),X=A(H,Xd),Y=Kn(X,null,null,!0,!0);Y.text=X.getShallow("show")?El(r.getFormattedLabel(H,Xd),r.getFormattedLabel(H,k0),L_(e,H)):null;var re=KR(X,null,!0);return O(q,Z),Z=BK(Z,Y,re),q&&I(Z,q),Z.legacy=!0,Z}function I(q,H){for(var Z in H)Ut(H,Z)&&(q[Z]=H[Z])}function O(q,H){q&&(q.textFill&&(H.textFill=q.textFill),q.textPosition&&(H.textPosition=q.textPosition))}function P(q,H){if(H==null&&(H=u),Ut(kK,q)){var Z=e.getItemVisual(H,"style");return Z?Z[kK[q]]:null}if(Ut(MXe,q))return e.getItemVisual(H,q)}function k(q){if(s.type==="cartesian2d"){var H=s.getBaseAxis();return $Fe(rr({axis:H},q))}}function U(){return t.getCurrentSeriesIndices()}function F(q){return IF(q,t)}}function rqe(r){var e={};return te(r.dimensions,function(t){var n=r.getDimensionInfo(t);if(!n.isExtraCoord){var a=n.coordDim,i=e[a]=e[a]||[];i[n.coordDimIndex]=r.getDimensionIndex(t)}}),e}function z5(r,e,t,n,a,i,s){if(!n){i.remove(e);return}var o=c9(r,e,t,n,a,i);return o&&s.setItemGraphicEl(t,o),o&&Sa(o,n.focus,n.blurScope,n.emphasisDisabled),o}function c9(r,e,t,n,a,i){var s=-1,o=e;e&&nfe(e,n,a)&&(s=br(i.childrenRef(),e),e=null);var l=!e,c=e;c?c.clearStates():(c=o9(n),o&&JXe(o,c)),n.morph===!1?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),n.tooltipDisabled&&(c.tooltipDisabled=!0),Pc.normal.cfg=Pc.normal.conOpt=Pc.emphasis.cfg=Pc.emphasis.conOpt=Pc.blur.cfg=Pc.blur.conOpt=Pc.select.cfg=Pc.select.conOpt=null,Pc.isLegacy=!1,aqe(c,t,n,a,l,Pc),nqe(c,t,n,a,l),l9(r,c,t,n,Pc,a,l),Ut(n,"info")&&(Yd(c).info=n.info);for(var u=0;u<ov.length;u++){var f=ov[u];if(f!==k0){var h=DN(n,f),d=u9(n,h,f);rfe(f,c,h,d,Pc)}}return eqe(c,n,a),n.type==="group"&&iqe(r,c,t,n,a),s>=0?i.replaceAt(c,s):i.add(c),c}function nfe(r,e,t){var n=Yd(r),a=e.type,i=e.shape,s=e.style;return t.isUniversalTransitionEnabled()||a!=null&&a!==n.customGraphicType||a==="path"&&cqe(i)&&afe(i)!==n.customPathData||a==="image"&&Ut(s,"image")&&s.image!==n.customImagePath}function nqe(r,e,t,n,a){var i=t.clipPath;if(i===!1)r&&r.getClipPath()&&r.removeClipPath();else if(i){var s=r.getClipPath();s&&nfe(s,i,n)&&(s=null),s||(s=o9(i),r.setClipPath(s)),l9(null,s,e,i,null,n,a)}}function aqe(r,e,t,n,a,i){if(!(r.isGroup||r.type==="compoundPath")){HK(t,null,i),HK(t,Xd,i);var s=i.normal.conOpt,o=i.emphasis.conOpt,l=i.blur.conOpt,c=i.select.conOpt;if(s!=null||o!=null||c!=null||l!=null){var u=r.getTextContent();if(s===!1)u&&r.removeTextContent();else{s=i.normal.conOpt=s||{type:"text"},u?u.clearStates():(u=o9(s),r.setTextContent(u)),l9(null,u,e,s,null,n,a);for(var f=s&&s.style,h=0;h<ov.length;h++){var d=ov[h];if(d!==k0){var v=i[d].conOpt;rfe(d,u,v,u9(s,v,d),null)}}f?u.dirty():u.markRedraw()}}}}function HK(r,e,t){var n=e?DN(r,e):r,a=e?u9(r,n,Xd):r.style,i=r.type,s=n?n.textConfig:null,o=r.textContent,l=o?e?DN(o,e):o:null;if(a&&(t.isLegacy||Kue(a,i,!!s,!!l))){t.isLegacy=!0;var c=$ue(a,i,!e);!s&&c.textConfig&&(s=c.textConfig),!l&&c.textContent&&(l=c.textContent)}if(!e&&l){var u=l;!u.type&&(u.type="text")}var f=e?t[e]:t.normal;f.cfg=s,f.conOpt=l}function DN(r,e){return e?r?r[e]:null:r}function u9(r,e,t){var n=e&&e.style;return n==null&&t===Xd&&r&&(n=r.styleEmphasis),n}function iqe(r,e,t,n,a){var i=n.children,s=i?i.length:0,o=n.$mergeChildren,l=o==="byName"||n.diffChildrenByName,c=o===!1;if(!(!s&&!l&&!c)){if(l){oqe({api:r,oldChildren:e.children()||[],newChildren:i||[],dataIndex:t,seriesModel:a,group:e});return}c&&e.removeAll();for(var u=0;u<s;u++){var f=i[u],h=e.childAt(u);f?(f.ignore==null&&(f.ignore=!1),c9(r,h,t,f,a,e)):h.ignore=!0}for(var d=e.childCount()-1;d>=u;d--){var v=e.childAt(d);sqe(e,v,a)}}}function sqe(r,e,t){e&&SL(e,Yd(r).option,t)}function oqe(r){new ip(r.oldChildren,r.newChildren,GK,GK,r).add(jK).update(jK).remove(lqe).execute()}function GK(r,e){var t=r&&r.name;return t??KXe+e}function jK(r,e){var t=this.context,n=r!=null?t.newChildren[r]:null,a=e!=null?t.oldChildren[e]:null;c9(t.api,a,t.dataIndex,n,t.seriesModel,t.group)}function lqe(r){var e=this.context,t=e.oldChildren[r];t&&SL(t,Yd(t).option,e.seriesModel)}function afe(r){return r&&(r.pathData||r.d)}function cqe(r){return r&&(Ut(r,"pathData")||Ut(r,"d"))}function uqe(r){r.registerChartView(QXe),r.registerSeriesModel(CXe)}var fm=Pr(),WK=Qt,F5=Ot,f9=(function(){function r(){this._dragging=!1,this.animationThreshold=15}return r.prototype.render=function(e,t,n,a){var i=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,!(!a&&this._lastValue===i&&this._lastStatus===s)){this._lastValue=i,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var c={};this.makeElOption(c,i,e,t,n);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var f=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new er,this.createPointerEl(o,c,e,t),this.createLabelEl(o,c,e,t),n.getZr().add(o);else{var h=yr(YK,t,f);this.updatePointerEl(o,c,h),this.updateLabelEl(o,c,h,t)}qK(o,t,!0),this._renderHandle(i)}},r.prototype.remove=function(e){this.clear(e)},r.prototype.dispose=function(e){this.clear(e)},r.prototype.determineAnimation=function(e,t){var n=t.get("animation"),a=e.axis,i=a.type==="category",s=t.get("snap");if(!s&&!i)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(i&&a.getBandWidth()>o)return!0;if(s){var l=IU(e).seriesDataCount,c=a.getExtent();return Math.abs(c[0]-c[1])/l>o}return!1}return n===!0},r.prototype.makeElOption=function(e,t,n,a,i){},r.prototype.createPointerEl=function(e,t,n,a){var i=t.pointer;if(i){var s=fm(e).pointerEl=new my[i.type](WK(t.pointer));e.add(s)}},r.prototype.createLabelEl=function(e,t,n,a){if(t.label){var i=fm(e).labelEl=new Kr(WK(t.label));e.add(i),XK(i,a)}},r.prototype.updatePointerEl=function(e,t,n){var a=fm(e).pointerEl;a&&t.pointer&&(a.setStyle(t.pointer.style),n(a,{shape:t.pointer.shape}))},r.prototype.updateLabelEl=function(e,t,n,a){var i=fm(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{x:t.label.x,y:t.label.y}),XK(i,a))},r.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,n=this._api.getZr(),a=this._handle,i=t.getModel("handle"),s=t.get("status");if(!i.get("show")||!s||s==="hide"){a&&n.remove(a),this._handle=null;return}var o;this._handle||(o=!0,a=this._handle=ob(i.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){rp(c.event)},onmousedown:F5(this._onHandleDragMove,this,0,0),drift:F5(this._onHandleDragMove,this),ondragend:F5(this._onHandleDragEnd,this)}),n.add(a)),qK(a,t,!1),a.setStyle(i.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=i.get("size");ct(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,db(this,"_doDispatchAxisPointer",i.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},r.prototype._moveHandleToValue=function(e,t){YK(this._axisPointerModel,!t&&this._moveAnimation,this._handle,U5(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},r.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var a=this.updateHandleTransform(U5(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,n.stopAnimation(),n.attr(U5(a)),fm(n).lastProp=null,this._doDispatchAxisPointer()}},r.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},r.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},r.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,a=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),GT(this,"_doDispatchAxisPointer")},r.prototype.doClear=function(){},r.prototype.buildLabel=function(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}},r})();function YK(r,e,t,n){ife(fm(t).lastProp,n)||(fm(t).lastProp=n,e?nn(t,n,r):(t.stopAnimation(),t.attr(n)))}function ife(r,e){if(nr(r)&&nr(e)){var t=!0;return te(e,function(n,a){t=t&&ife(r[a],n)}),!!t}else return r===e}function XK(r,e){r[e.get(["label","show"])?"show":"hide"]()}function U5(r){return{x:r.x||0,y:r.y||0,rotation:r.rotation||0}}function qK(r,e,t){var n=e.get("z"),a=e.get("zlevel");r&&r.traverse(function(i){i.type!=="group"&&(n!=null&&(i.z=n),a!=null&&(i.zlevel=a),i.silent=t)})}function h9(r){var e=r.get("type"),t=r.getModel(e+"Style"),n;return e==="line"?(n=t.getLineStyle(),n.fill=null):e==="shadow"&&(n=t.getAreaStyle(),n.stroke=null),n}function sfe(r,e,t,n,a){var i=t.get("value"),s=ofe(i,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=ub(o.get("padding")||0),c=o.getFont(),u=YI(s,c),f=a.position,h=u.width+l[1]+l[3],d=u.height+l[0]+l[2],v=a.align;v==="right"&&(f[0]-=h),v==="center"&&(f[0]-=h/2);var g=a.verticalAlign;g==="bottom"&&(f[1]-=d),g==="middle"&&(f[1]-=d/2),fqe(f,h,d,n);var m=o.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),r.label={x:f[0],y:f[1],style:Kn(o,{text:s,font:c,fill:o.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function fqe(r,e,t,n){var a=n.getWidth(),i=n.getHeight();r[0]=Math.min(r[0]+e,a)-e,r[1]=Math.min(r[1]+t,i)-t,r[0]=Math.max(r[0],0),r[1]=Math.max(r[1],0)}function ofe(r,e,t,n,a){r=e.scale.parse(r);var i=e.scale.getLabel({value:r},{precision:a.precision}),s=a.formatter;if(s){var o={value:uN(e,{value:r}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};te(n,function(l){var c=t.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,f=c&&c.getDataParams(u);f&&o.seriesData.push(f)}),It(s)?i=s.replace("{value}",i):Yt(s)&&(i=s(o))}return i}function d9(r,e,t){var n=$i();return up(n,n,t.rotation),af(n,n,t.position),Ju([r.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],n)}function lfe(r,e,t,n,a,i){var s=el.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=a.get(["label","margin"]),sfe(e,n,a,i,{position:d9(n.axis,r,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function p9(r,e,t){return t=t||0,{x1:r[t],y1:r[1-t],x2:e[t],y2:e[1-t]}}function cfe(r,e,t){return t=t||0,{x:r[t],y:r[1-t],width:e[t],height:e[1-t]}}function ZK(r,e,t,n,a,i){return{cx:r,cy:e,r0:t,r:n,startAngle:a,endAngle:i,clockwise:!0}}var hqe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,a,i,s){var o=a.axis,l=o.grid,c=i.get("type"),u=KK(l,o).getOtherAxis(o).getGlobalExtent(),f=o.toGlobalCoord(o.dataToCoord(n,!0));if(c&&c!=="none"){var h=h9(i),d=dqe[c](o,f,u);d.style=h,t.graphicKey=d.type,t.pointer=d}var v=_N(l.getRect(),a);lfe(n,t,v,a,i,s)},e.prototype.getHandleTransform=function(t,n,a){var i=_N(n.axis.grid.getRect(),n,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var s=d9(n.axis,t,i);return{x:s[0],y:s[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,a,i){var s=a.axis,o=s.grid,l=s.getGlobalExtent(!0),c=KK(o,s).getOtherAxis(s).getGlobalExtent(),u=s.dim==="x"?0:1,f=[t.x,t.y];f[u]+=n[u],f[u]=Math.min(l[1],f[u]),f[u]=Math.max(l[0],f[u]);var h=(c[1]+c[0])/2,d=[h,h];d[u]=f[u];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:d,tooltipOption:v[u]}},e})(f9);function KK(r,e){var t={};return t[e.dim+"AxisIndex"]=e.index,r.getCartesian(t)}var dqe={line:function(r,e,t){var n=p9([e,t[0]],[e,t[1]],$K(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=Math.max(1,r.getBandWidth()),a=t[1]-t[0];return{type:"Rect",shape:cfe([e-n/2,t[0]],[n,a],$K(r))}}};function $K(r){return r.dim==="x"?0:1}var pqe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:We.color.border,width:1,type:"dashed"},shadowStyle:{color:We.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:We.color.neutral00,padding:[5,7,5,7],backgroundColor:We.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:We.color.accent40,throttle:40}},e})(kr),zd=Pr(),vqe=te;function ufe(r,e,t){if(!jr.node){var n=e.getZr();zd(n).records||(zd(n).records={}),gqe(n,e);var a=zd(n).records[r]||(zd(n).records[r]={});a.handler=t}}function gqe(r,e){if(zd(r).initialized)return;zd(r).initialized=!0,t("click",yr(JK,"click")),t("mousemove",yr(JK,"mousemove")),t("globalout",yqe);function t(n,a){r.on(n,function(i){var s=xqe(e);vqe(zd(r).records,function(o){o&&a(o,i,s.dispatchAction)}),mqe(s.pendings,e)})}}function mqe(r,e){var t=r.showTip.length,n=r.hideTip.length,a;t?a=r.showTip[t-1]:n&&(a=r.hideTip[n-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function yqe(r,e,t){r.handler("leave",null,t)}function JK(r,e,t,n){e.handler(r,t,n)}function xqe(r){var e={showTip:[],hideTip:[]},t=function(n){var a=e[n.type];a?a.push(n):(n.dispatchAction=t,r.dispatchAction(n))};return{dispatchAction:t,pendings:e}}function ZB(r,e){if(!jr.node){var t=e.getZr(),n=(zd(t).records||{})[r];n&&(zd(t).records[r]=null)}}var _qe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=n.getComponent("tooltip"),s=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";ufe("axisPointer",a,function(o,l,c){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&c({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,n){ZB("axisPointer",n)},e.prototype.dispose=function(t,n){ZB("axisPointer",n)},e.type="axisPointer",e})(Jn);function ffe(r,e){var t=[],n=r.seriesIndex,a;if(n==null||!(a=e.getSeriesByIndex(n)))return{point:[]};var i=a.getData(),s=Xm(i,r);if(s==null||s<0||ct(s))return{point:[]};var o=i.getItemGraphicEl(s),l=a.coordinateSystem;if(a.getTooltipPosition)t=a.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(r.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),f=u.dim,h=c.dim,d=f==="x"||f==="radius"?1:0,v=i.mapDimension(h),g=[];g[d]=i.get(v,s),g[1-d]=i.get(i.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(g)||[]}else t=l.dataToPoint(i.getValues(ft(l.dimensions,function(y){return i.mapDimension(y)}),s))||[];else if(o){var m=o.getBoundingRect().clone();m.applyTransform(o.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:o}}var QK=Pr();function bqe(r,e,t){var n=r.currTrigger,a=[r.x,r.y],i=r,s=r.dispatchAction||Ot(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){dD(a)&&(a=ffe({seriesIndex:i.seriesIndex,dataIndex:i.dataIndex},e).point);var l=dD(a),c=i.axesInfo,u=o.axesInfo,f=n==="leave"||dD(a),h={},d={},v={list:[],map:{}},g={showPointer:yr(wqe,d),showTooltip:yr(Tqe,v)};te(o.coordSysMap,function(y,b){var S=l||y.containPoint(a);te(o.coordSysAxesInfo[b],function(A,E){var M=A.axis,R=Cqe(c,A);if(!f&&S&&(!c||R)){var L=R&&R.value;L==null&&!l&&(L=M.pointToData(a)),L!=null&&e$(A,L,g,!1,h)}})});var m={};return te(u,function(y,b){var S=y.linkGroup;S&&!d[b]&&te(S.axesInfo,function(A,E){var M=d[E];if(A!==y&&M){var R=M.value;S.mapper&&(R=y.axis.scale.parse(S.mapper(R,t$(A),t$(y)))),m[y.key]=R}})}),te(m,function(y,b){e$(u[b],y,g,!0,h)}),Aqe(d,u,h),Eqe(v,a,r,s),Mqe(u,s,t),h}}function e$(r,e,t,n,a){var i=r.axis;if(!(i.scale.isBlank()||!i.containData(e))){if(!r.involveSeries){t.showPointer(r,e);return}var s=Sqe(e,r),o=s.payloadBatch,l=s.snapToValue;o[0]&&a.seriesIndex==null&&nt(a,o[0]),!n&&r.snap&&i.containData(l)&&l!=null&&(e=l),t.showPointer(r,e,o),t.showTooltip(r,s,l)}}function Sqe(r,e){var t=e.axis,n=t.dim,a=r,i=[],s=Number.MAX_VALUE,o=-1;return te(e.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(n),f,h;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(u,r,t);h=d.dataIndices,f=d.nestestValue}else{if(h=l.indicesOfNearest(n,u[0],r,t.type==="category"?.5:null),!h.length)return;f=l.getData().get(u[0],h[0])}if(!(f==null||!isFinite(f))){var v=r-f,g=Math.abs(v);g<=s&&((g<s||v>=0&&o<0)&&(s=g,o=v,a=f,i.length=0),te(h,function(m){i.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:i,snapToValue:a}}function wqe(r,e,t,n){r[e.key]={value:t,payloadBatch:n}}function Tqe(r,e,t,n){var a=t.payloadBatch,i=e.axis,s=i.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!a.length)){var l=e.coordSys.model,c=JT(l),u=r.map[c];u||(u=r.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},r.list.push(u)),u.dataByAxis.push({axisDim:i.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function Aqe(r,e,t){var n=t.axesInfo=[];te(e,function(a,i){var s=a.axisPointerModel.option,o=r[i];o?(!a.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!a.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:s.value})})}function Eqe(r,e,t,n){if(dD(e)||!r.list.length){n({type:"hideTip"});return}var a=((r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:r.list})}function Mqe(r,e,t){var n=t.getZr(),a="axisPointerLastHighlights",i=QK(n)[a]||{},s=QK(n)[a]={};te(r,function(c,u){var f=c.axisPointerModel.option;f.status==="show"&&c.triggerEmphasis&&te(f.seriesDataIndices,function(h){var d=h.seriesIndex+" | "+h.dataIndex;s[d]=h})});var o=[],l=[];te(i,function(c,u){!s[u]&&l.push(c)}),te(s,function(c,u){!i[u]&&o.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function Cqe(r,e){for(var t=0;t<(r||[]).length;t++){var n=r[t];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function t$(r){var e=r.axis.model,t={},n=t.axisDim=r.axis.dim;return t.axisIndex=t[n+"AxisIndex"]=e.componentIndex,t.axisName=t[n+"AxisName"]=e.name,t.axisId=t[n+"AxisId"]=e.id,t}function dD(r){return!r||r[0]==null||isNaN(r[0])||r[1]==null||isNaN(r[1])}function JA(r){by.registerAxisPointerClass("CartesianAxisPointer",hqe),r.registerComponentModel(pqe),r.registerComponentView(_qe),r.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ct(t)&&(e.axisPointer.link=[t])}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=D7e(e,t)}),r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},bqe)}function Dqe(r){Mr(kce),Mr(JA)}var Rqe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,a,i,s){var o=a.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,c=l.getOtherAxis(o),u=c.getExtent(),f=o.dataToCoord(n),h=i.get("type");if(h&&h!=="none"){var d=h9(i),v=Iqe[h](o,l,f,u);v.style=d,t.graphicKey=v.type,t.pointer=v}var g=i.get(["label","margin"]),m=Nqe(n,a,i,l,g);sfe(t,a,i,s,m)},e})(f9);function Nqe(r,e,t,n,a){var i=e.axis,s=i.dataToCoord(r),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=n.getRadiusAxis().getExtent(),c,u,f;if(i.dim==="radius"){var h=$i();up(h,h,o),af(h,h,[n.cx,n.cy]),c=Ju([s,-a],h);var d=e.getModel("axisLabel").get("rotate")||0,v=el.innerTextLayout(o,d*Math.PI/180,-1);u=v.textAlign,f=v.textVerticalAlign}else{var g=l[1];c=n.coordToPoint([g+a,s]);var m=n.cx,y=n.cy;u=Math.abs(c[0]-m)/g<.3?"center":c[0]>m?"left":"right",f=Math.abs(c[1]-y)/g<.3?"middle":c[1]>y?"top":"bottom"}return{position:c,align:u,verticalAlign:f}}var Iqe={line:function(r,e,t,n){return r.dim==="angle"?{type:"Line",shape:p9(e.coordToPoint([n[0],t]),e.coordToPoint([n[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(r,e,t,n){var a=Math.max(1,r.getBandWidth()),i=Math.PI/180;return r.dim==="angle"?{type:"Sector",shape:ZK(e.cx,e.cy,n[0],n[1],(-t-a/2)*i,(-t+a/2)*i)}:{type:"Sector",shape:ZK(e.cx,e.cy,t-a/2,t+a/2,0,Math.PI*2)}}},Lqe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var n,a=this.ecModel;return a.eachComponent(t,function(i){i.getCoordSysModel()===this&&(n=i)},this),n},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e})(kr),v9=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Pa).models[0]},e.type="polarAxis",e})(kr);Xa(v9,mb);var Oqe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e})(v9),kqe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e})(v9),g9=(function(r){Ye(e,r);function e(t,n){return r.call(this,"radius",t,n)||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e})(su);g9.prototype.dataToRadius=su.prototype.dataToCoord;g9.prototype.radiusToData=su.prototype.coordToData;var Pqe=Pr(),m9=(function(r){Ye(e,r);function e(t,n){return r.call(this,"angle",t,n||[0,360])||this}return e.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,n=t.getLabelModel(),a=t.scale,i=a.getExtent(),s=a.count();if(i[1]-i[0]<1)return 0;var o=i[0],l=t.dataToCoord(o+1)-t.dataToCoord(o),c=Math.abs(l),u=YI(o==null?"":o+"",n.getFont(),"center","top"),f=Math.max(u.height,7),h=f/c;isNaN(h)&&(h=1/0);var d=Math.max(0,Math.floor(h)),v=Pqe(t.model),g=v.lastAutoInterval,m=v.lastTickCount;return g!=null&&m!=null&&Math.abs(g-d)<=1&&Math.abs(m-s)<=1&&g>d?d=g:(v.lastTickCount=s,v.lastAutoInterval=d),d},e})(su);m9.prototype.dataToAngle=su.prototype.dataToCoord;m9.prototype.angleToData=su.prototype.coordToData;var hfe=["radius","angle"],Bqe=(function(){function r(e){this.dimensions=hfe,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new g9,this._angleAxis=new m9,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return r.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},r.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},r.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},r.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,a=this._radiusAxis;return n.scale.type===e&&t.push(n),a.scale.type===e&&t.push(a),t},r.prototype.getAngleAxis=function(){return this._angleAxis},r.prototype.getRadiusAxis=function(){return this._radiusAxis},r.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},r.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},r.prototype.dataToPoint=function(e,t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)],n)},r.prototype.pointToData=function(e,t,n){n=n||[];var a=this.pointToCoord(e);return n[0]=this._radiusAxis.radiusToData(a[0],t),n[1]=this._angleAxis.angleToData(a[1],t),n},r.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,a=this.getAngleAxis(),i=a.getExtent(),s=Math.min(i[0],i[1]),o=Math.max(i[0],i[1]);a.inverse?s=o-360:o=s+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var c=Math.atan2(-n,t)/Math.PI*180,u=c<s?1:-1;c<s||c>o;)c+=u*360;return[l,c]},r.prototype.coordToPoint=function(e,t){t=t||[];var n=e[0],a=e[1]/180*Math.PI;return t[0]=Math.cos(a)*n+this.cx,t[1]=-Math.sin(a)*n+this.cy,t},r.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),n=t.getExtent().slice();n[0]>n[1]&&n.reverse();var a=e.getExtent(),i=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-a[0]*i,endAngle:-a[1]*i,clockwise:e.inverse,contain:function(o,l){var c=o-this.cx,u=l-this.cy,f=c*c+u*u,h=this.r,d=this.r0;return h!==d&&f-s<=h*h&&f+s>=d*d},x:this.cx-n[1],y:this.cy-n[1],width:n[1]*2,height:n[1]*2}},r.prototype.convertToPixel=function(e,t,n){var a=r$(t);return a===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var a=r$(t);return a===this?this.pointToData(n):null},r})();function r$(r){var e=r.seriesModel,t=r.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function zqe(r,e,t){var n=e.get("center"),a=Pi(e,t).refContainer;r.cx=Nt(n[0],a.width)+a.x,r.cy=Nt(n[1],a.height)+a.y;var i=r.getRadiusAxis(),s=Math.min(a.width,a.height)/2,o=e.get("radius");o==null?o=[0,"100%"]:ct(o)||(o=[0,o]);var l=[Nt(o[0],s),Nt(o[1],s)];i.inverse?i.setExtent(l[1],l[0]):i.setExtent(l[0],l[1])}function Fqe(r,e){var t=this,n=t.getAngleAxis(),a=t.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),r.eachSeries(function(o){if(o.coordinateSystem===t){var l=o.getData();te(fN(l,"radius"),function(c){a.scale.unionExtentFromData(l,c)}),te(fN(l,"angle"),function(c){n.scale.unionExtentFromData(l,c)})}}),Qm(n.scale,n.model),Qm(a.scale,a.model),n.type==="category"&&!n.onBand){var i=n.getExtent(),s=360/n.scale.count();n.inverse?i[1]+=s:i[1]-=s,n.setExtent(i[0],i[1])}}function Uqe(r){return r.mainType==="angleAxis"}function n$(r,e){var t;if(r.type=e.get("type"),r.scale=YA(e),r.onBand=e.get("boundaryGap")&&r.type==="category",r.inverse=e.get("inverse"),Uqe(e)){r.inverse=r.inverse!==e.get("clockwise");var n=e.get("startAngle"),a=(t=e.get("endAngle"))!==null&&t!==void 0?t:n+(r.inverse?-360:360);r.setExtent(n,a)}e.axis=r,r.model=e}var Vqe={dimensions:hfe,create:function(r,e){var t=[];return r.eachComponent("polar",function(n,a){var i=new Bqe(a+"");i.update=Fqe;var s=i.getRadiusAxis(),o=i.getAngleAxis(),l=n.findAxisModel("radiusAxis"),c=n.findAxisModel("angleAxis");n$(s,l),n$(o,c),zqe(i,n,e),t.push(i),n.coordinateSystem=i,i.model=n}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var a=n.getReferringComponents("polar",Pa).models[0];n.coordinateSystem=a.coordinateSystem}}),t}},Hqe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function C3(r,e,t){e[1]>e[0]&&(e=e.slice().reverse());var n=r.coordToPoint([e[0],t]),a=r.coordToPoint([e[1],t]);return{x1:n[0],y1:n[1],x2:a[0],y2:a[1]}}function D3(r){var e=r.getRadiusAxis();return e.inverse?0:1}function a$(r){var e=r[0],t=r[r.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&r.pop()}var Gqe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n){if(this.group.removeAll(),!!t.get("show")){var a=t.axis,i=a.polar,s=i.getRadiusAxis().getExtent(),o=a.getTicksCoords({breakTicks:"none"}),l=a.getMinorTicksCoords(),c=ft(a.getViewLabels(),function(u){u=Qt(u);var f=a.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(u.tickValue):u.tickValue;return u.coord=a.dataToCoord(h),u});a$(c),a$(o),te(Hqe,function(u){t.get([u,"show"])&&(!a.scale.isBlank()||u==="axisLine")&&jqe[u](this.group,t,i,o,l,s,c)},this)}},e.type="angleAxis",e})(by),jqe={axisLine:function(r,e,t,n,a,i){var s=e.getModel(["axisLine","lineStyle"]),o=t.getAngleAxis(),l=Math.PI/180,c=o.getExtent(),u=D3(t),f=u?0:1,h,d=Math.abs(c[1]-c[0])===360?"Circle":"Arc";i[f]===0?h=new my[d]({shape:{cx:t.cx,cy:t.cy,r:i[u],startAngle:-c[0]*l,endAngle:-c[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):h=new ab({shape:{cx:t.cx,cy:t.cy,r:i[u],r0:i[f]},style:s.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,r.add(h)},axisTick:function(r,e,t,n,a,i){var s=e.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=i[D3(t)],c=ft(n,function(u){return new ai({shape:C3(t,[l,l+o],u.coord)})});r.add(Kl(c,{style:rr(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(r,e,t,n,a,i){if(a.length){for(var s=e.getModel("axisTick"),o=e.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),c=i[D3(t)],u=[],f=0;f<a.length;f++)for(var h=0;h<a[f].length;h++)u.push(new ai({shape:C3(t,[c,c+l],a[f][h].coord)}));r.add(Kl(u,{style:rr(o.getModel("lineStyle").getLineStyle(),rr(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(r,e,t,n,a,i,s){var o=e.getCategories(!0),l=e.getModel("axisLabel"),c=l.get("margin"),u=e.get("triggerEvent");te(s,function(f,h){var d=l,v=f.tickValue,g=i[D3(t)],m=t.coordToPoint([g+c,f.coord]),y=t.cx,b=t.cy,S=Math.abs(m[0]-y)/g<.3?"center":m[0]>y?"left":"right",A=Math.abs(m[1]-b)/g<.3?"middle":m[1]>b?"top":"bottom";if(o&&o[v]){var E=o[v];nr(E)&&E.textStyle&&(d=new zr(E.textStyle,l,l.ecModel))}var M=new Kr({silent:el.isLabelSilent(e),style:Kn(d,{x:m[0],y:m[1],fill:d.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:S,verticalAlign:A})});if(r.add(M),hp({el:M,componentModel:e,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return M.isTruncated},value:f.rawLabel,tickIndex:h}}),u){var R=el.makeAxisEventDataBase(e);R.targetType="axisLabel",R.value=f.rawLabel,or(M).eventData=R}},this)},splitLine:function(r,e,t,n,a,i){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],f=0;f<n.length;f++){var h=c++%l.length;u[h]=u[h]||[],u[h].push(new ai({shape:C3(t,i,n[f].coord)}))}for(var f=0;f<u.length;f++)r.add(Kl(u[f],{style:rr({stroke:l[f%l.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(r,e,t,n,a,i){if(a.length){for(var s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],c=0;c<a.length;c++)for(var u=0;u<a[c].length;u++)l.push(new ai({shape:C3(t,i,a[c][u].coord)}));r.add(Kl(l,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(r,e,t,n,a,i){if(n.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],f=Math.PI/180,h=-n[0].coord*f,d=Math.min(i[0],i[1]),v=Math.max(i[0],i[1]),g=e.get("clockwise"),m=1,y=n.length;m<=y;m++){var b=m===y?n[0].coord:n[m].coord,S=c++%l.length;u[S]=u[S]||[],u[S].push(new Gs({shape:{cx:t.cx,cy:t.cy,r0:d,r:v,startAngle:h,endAngle:-b*f,clockwise:g},silent:!0})),h=-b*f}for(var m=0;m<u.length;m++)r.add(Kl(u[m],{style:rr({fill:l[m%l.length]},o.getAreaStyle()),silent:!0}))}}},Wqe=["splitLine","splitArea","minorSplitLine"],Yqe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,n,a){if(this.group.removeAll(),!!t.get("show")){var i=this._axisGroup,s=this._axisGroup=new er;this.group.add(s);var o=t.axis,l=o.polar,c=l.getAngleAxis(),u=o.getTicksCoords(),f=o.getMinorTicksCoords(),h=c.getExtent()[0],d=o.getExtent(),v=qqe(l,t,h),g=new el(t,a,v);g.build(),s.add(g.group),HA(i,s,t),te(Wqe,function(m){t.get([m,"show"])&&!o.scale.isBlank()&&Xqe[m](this.group,t,l,h,d,u,f)},this)}},e.type="radiusAxis",e})(by),Xqe={splitLine:function(r,e,t,n,a,i){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),c=0,u=t.getAngleAxis(),f=Math.PI/180,h=u.getExtent(),d=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],g=0;g<i.length;g++){var m=c++%l.length;v[m]=v[m]||[],v[m].push(new my[d]({shape:{cx:t.cx,cy:t.cy,r:Math.max(i[g].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:u.inverse}}))}for(var g=0;g<v.length;g++)r.add(Kl(v[g],{style:rr({stroke:l[g%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(r,e,t,n,a,i,s){if(s.length){for(var o=e.getModel("minorSplitLine"),l=o.getModel("lineStyle"),c=[],u=0;u<s.length;u++)for(var f=0;f<s[u].length;f++)c.push(new Lh({shape:{cx:t.cx,cy:t.cy,r:s[u][f].coord}}));r.add(Kl(c,{style:rr({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(r,e,t,n,a,i){if(i.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],f=i[0].coord,h=1;h<i.length;h++){var d=c++%l.length;u[d]=u[d]||[],u[d].push(new Gs({shape:{cx:t.cx,cy:t.cy,r0:f,r:i[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=i[h].coord}for(var h=0;h<u.length;h++)r.add(Kl(u[h],{style:rr({fill:l[h%l.length]},o.getAreaStyle()),silent:!0}))}}};function qqe(r,e,t){return{position:[r.cx,r.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function dfe(r){return r.get("stack")||"__ec_stack_"+r.seriesIndex}function pfe(r,e){return e.dim+r.model.componentIndex}function Zqe(r,e,t){var n={},a=Kqe(fn(e.getSeriesByType(r),function(i){return!e.isSeriesFiltered(i)&&i.coordinateSystem&&i.coordinateSystem.type==="polar"}));e.eachSeriesByType(r,function(i){if(i.coordinateSystem.type==="polar"){var s=i.getData(),o=i.coordinateSystem,l=o.getBaseAxis(),c=pfe(o,l),u=dfe(i),f=a[c][u],h=f.offset,d=f.width,v=o.getOtherAxis(l),g=i.coordinateSystem.cx,m=i.coordinateSystem.cy,y=i.get("barMinHeight")||0,b=i.get("barMinAngle")||0;n[u]=n[u]||[];for(var S=s.mapDimension(v.dim),A=s.mapDimension(l.dim),E=sp(s,S),M=l.dim!=="radius"||!i.get("roundCap",!0),R=v.model,L=R.get("startValue"),I=v.dataToCoord(L||0),O=0,P=s.count();O<P;O++){var k=s.get(S,O),U=s.get(A,O),F=k>=0?"p":"n",q=I;E&&(n[u][U]||(n[u][U]={p:I,n:I}),q=n[u][U][F]);var H=void 0,Z=void 0,X=void 0,Y=void 0;if(v.dim==="radius"){var re=v.dataToCoord(k)-I,W=l.dataToCoord(U);Math.abs(re)<y&&(re=(re<0?-1:1)*y),H=q,Z=q+re,X=W-h,Y=X-d,E&&(n[u][U][F]=Z)}else{var j=v.dataToCoord(k,M)-I,J=l.dataToCoord(U);Math.abs(j)<b&&(j=(j<0?-1:1)*b),H=J+h,Z=H+d,X=q,Y=q+j,E&&(n[u][U][F]=Y)}s.setItemLayout(O,{cx:g,cy:m,r0:H,r:Z,startAngle:-X*Math.PI/180,endAngle:-Y*Math.PI/180,clockwise:X>=Y})}}})}function Kqe(r){var e={};te(r,function(n,a){var i=n.getData(),s=n.coordinateSystem,o=s.getBaseAxis(),l=pfe(s,o),c=o.getExtent(),u=o.type==="category"?o.getBandWidth():Math.abs(c[1]-c[0])/i.count(),f=e[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;e[l]=f;var d=dfe(n);h[d]||f.autoWidthCount++,h[d]=h[d]||{width:0,maxWidth:0};var v=Nt(n.get("barWidth"),u),g=Nt(n.get("barMaxWidth"),u),m=n.get("barGap"),y=n.get("barCategoryGap");v&&!h[d].width&&(v=Math.min(f.remainedWidth,v),h[d].width=v,f.remainedWidth-=v),g&&(h[d].maxWidth=g),m!=null&&(f.gap=m),y!=null&&(f.categoryGap=y)});var t={};return te(e,function(n,a){t[a]={};var i=n.stacks,s=n.bandWidth,o=Nt(n.categoryGap,s),l=Nt(n.gap,1),c=n.remainedWidth,u=n.autoWidthCount,f=(c-o)/(u+(u-1)*l);f=Math.max(f,0),te(i,function(g,m){var y=g.maxWidth;y&&y<f&&(y=Math.min(y,c),g.width&&(y=Math.min(y,g.width)),c-=y,g.width=y,u--)}),f=(c-o)/(u+(u-1)*l),f=Math.max(f,0);var h=0,d;te(i,function(g,m){g.width||(g.width=f),d=g,h+=g.width*(1+l)}),d&&(h-=d.width*l);var v=-h/2;te(i,function(g,m){t[a][m]=t[a][m]||{offset:v,width:g.width},v+=g.width*(1+l)})}),t}var $qe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Jqe={splitNumber:5},Qqe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e})(Jn);function eZe(r){Mr(JA),by.registerAxisPointerClass("PolarAxisPointer",Rqe),r.registerCoordinateSystem("polar",Vqe),r.registerComponentModel(Lqe),r.registerComponentView(Qqe),O_(r,"angle",Oqe,$qe),O_(r,"radius",kqe,Jqe),r.registerComponentView(Gqe),r.registerComponentView(Yqe),r.registerLayout(yr(Zqe,"bar"))}function KB(r,e){e=e||{};var t=r.coordinateSystem,n=r.axis,a={},i=n.position,s=n.orient,o=t.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};a.position=[s==="vertical"?c.vertical[i]:l[0],s==="horizontal"?c.horizontal[i]:l[3]];var u={horizontal:0,vertical:1};a.rotation=Math.PI/2*u[s];var f={top:-1,bottom:1,right:1,left:-1};a.labelDirection=a.tickDirection=a.nameDirection=f[i],r.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),bs(e.labelInside,r.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var h=r.get(["axisLabel","rotate"]);return a.labelRotate=i==="top"?-h:h,a.z2=1,a}var tZe=["splitArea","splitLine","breakArea"],rZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,n,a,i){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new er;var l=KB(t),c=new el(t,a,l);c.build(),s.add(this._axisGroup),s.add(c.group),te(tZe,function(u){t.get([u,"show"])&&nZe[u](this,this.group,this._axisGroup,t,a)},this),HA(o,this._axisGroup,t),r.prototype.render.call(this,t,n,a,i)},e.prototype.remove=function(){Ice(this)},e.type="singleAxis",e})(by),nZe={splitLine:function(r,e,t,n,a){var i=n.axis;if(!i.scale.isBlank()){var s=n.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color");l=l instanceof Array?l:[l];for(var c=o.get("width"),u=n.coordinateSystem.getRect(),f=i.isHorizontal(),h=[],d=0,v=i.getTicksCoords({tickModel:s,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),g=[],m=[],y=0;y<v.length;++y){var b=i.toGlobalCoord(v[y].coord);f?(g[0]=b,g[1]=u.y,m[0]=b,m[1]=u.y+u.height):(g[0]=u.x,g[1]=b,m[0]=u.x+u.width,m[1]=b);var S=new ai({shape:{x1:g[0],y1:g[1],x2:m[0],y2:m[1]},silent:!0});C_(S.shape,c);var A=d++%l.length;h[A]=h[A]||[],h[A].push(S)}for(var E=o.getLineStyle(["color"]),y=0;y<h.length;++y)e.add(Kl(h[y],{style:rr({stroke:l[y%l.length]},E),silent:!0}))}},splitArea:function(r,e,t,n,a){Nce(r,t,n,n)},breakArea:function(r,e,t,n,a){var i=$A(),s=n.axis.scale;i&&s.type!=="ordinal"&&i.rectCoordBuildBreakAxis(e,r,n,n.coordinateSystem.getRect(),a)}},pD=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},e})(kr);Xa(pD,mb.prototype);var aZe=(function(r){Ye(e,r);function e(t,n,a,i,s){var o=r.call(this,t,n,a)||this;return o.type=i||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,n){return this.coordinateSystem.pointToData(t)[0]},e})(su),vfe=["single"],iZe=(function(){function r(e,t,n){this.type="single",this.dimension="single",this.dimensions=vfe,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return r.prototype._init=function(e,t,n){var a=this.dimension,i=new aZe(a,YA(e),[0,0],e.get("type"),e.get("position")),s=i.type==="category";i.onBand=s&&e.get("boundaryGap"),i.inverse=e.get("inverse"),i.orient=e.get("orient"),e.axis=i,i.model=e,i.coordinateSystem=this,this._axis=i},r.prototype.update=function(e,t){e.eachSeries(function(n){if(n.coordinateSystem===this){var a=n.getData();te(a.mapDimensionsAll(this.dimension),function(i){this._axis.scale.unionExtentFromData(a,i)},this),Qm(this._axis.scale,this._axis.model)}},this)},r.prototype.resize=function(e,t){var n=Pi(e,t).refContainer;this._rect=ma(e.getBoxLayoutParams(),n),this._adjustAxis()},r.prototype.getRect=function(){return this._rect},r.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),a=n?[0,e.width]:[0,e.height],i=t.inverse?1:0;t.setExtent(a[i],a[1-i]),this._updateAxisTransform(t,n?e.x:e.y)},r.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),a=n[0]+n[1],i=e.isHorizontal();e.toGlobalCoord=i?function(s){return s+t}:function(s){return a-s+t},e.toLocalCoord=i?function(s){return s-t}:function(s){return a-s+t}},r.prototype.getAxis=function(){return this._axis},r.prototype.getBaseAxis=function(){return this._axis},r.prototype.getAxes=function(){return[this._axis]},r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},r.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis(),a=n.orient;return a==="horizontal"?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},r.prototype.pointToData=function(e,t,n){n=n||[];var a=this.getAxis();return n[0]=a.coordToData(a.toLocalCoord(e[a.orient==="horizontal"?0:1])),n},r.prototype.dataToPoint=function(e,t,n){var a=this.getAxis(),i=this.getRect();n=n||[];var s=a.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),n[s]=a.toGlobalCoord(a.dataToCoord(+e)),n[1-s]=s===0?i.y+i.height/2:i.x+i.width/2,n},r.prototype.convertToPixel=function(e,t,n){var a=i$(t);return a===this?this.dataToPoint(n):null},r.prototype.convertFromPixel=function(e,t,n){var a=i$(t);return a===this?this.pointToData(n):null},r})();function i$(r){var e=r.seriesModel,t=r.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function sZe(r,e){var t=[];return r.eachComponent("singleAxis",function(n,a){var i=new iZe(n,r,e);i.name="single_"+a,i.resize(n,e),n.coordinateSystem=i,t.push(i)}),r.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var a=n.getReferringComponents("singleAxis",Pa).models[0];n.coordinateSystem=a&&a.coordinateSystem}}),t}var oZe={create:sZe,dimensions:vfe},s$=["x","y"],lZe=["width","height"],cZe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,n,a,i,s){var o=a.axis,l=o.coordinateSystem,c=V5(l,1-RN(o)),u=l.dataToPoint(n)[0],f=i.get("type");if(f&&f!=="none"){var h=h9(i),d=uZe[f](o,u,c);d.style=h,t.graphicKey=d.type,t.pointer=d}var v=KB(a);lfe(n,t,v,a,i,s)},e.prototype.getHandleTransform=function(t,n,a){var i=KB(n,{labelInside:!1});i.labelMargin=a.get(["handle","margin"]);var s=d9(n.axis,t,i);return{x:s[0],y:s[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,n,a,i){var s=a.axis,o=s.coordinateSystem,l=RN(s),c=V5(o,l),u=[t.x,t.y];u[l]+=n[l],u[l]=Math.min(c[1],u[l]),u[l]=Math.max(c[0],u[l]);var f=V5(o,1-l),h=(f[1]+f[0])/2,d=[h,h];return d[l]=u[l],{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},e})(f9),uZe={line:function(r,e,t){var n=p9([e,t[0]],[e,t[1]],RN(r));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(r,e,t){var n=r.getBandWidth(),a=t[1]-t[0];return{type:"Rect",shape:cfe([e-n/2,t[0]],[n,a],RN(r))}}};function RN(r){return r.isHorizontal()?0:1}function V5(r,e){var t=r.getRect();return[t[s$[e]],t[s$[e]]+t[lZe[e]]]}var fZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e})(Jn);function hZe(r){Mr(JA),by.registerAxisPointerClass("SingleAxisPointer",cZe),r.registerComponentView(fZe),r.registerComponentView(rZe),r.registerComponentModel(pD),O_(r,"single",pD,pD.defaultOption),r.registerCoordinateSystem("single",oZe)}var dZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n,a){var i=yy(t);r.prototype.init.apply(this,arguments),o$(t,i)},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),o$(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.layoutMode="box",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:We.color.axisLine,width:1,type:"solid"}},itemStyle:{color:We.color.neutral00,borderWidth:1,borderColor:We.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:We.size.s,color:We.color.secondary},monthLabel:{show:!0,position:"start",margin:We.size.s,align:"center",formatter:null,color:We.color.secondary},yearLabel:{show:!0,position:null,margin:We.size.xl,formatter:null,color:We.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e})(kr);function o$(r,e){var t=r.cellSize,n;ct(t)?n=t:n=r.cellSize=[t,t],n.length===1&&(n[1]=n[0]);var a=ft([0,1],function(i){return kBe(e,i)&&(n[i]="auto"),n[i]!=null&&n[i]!=="auto"});Ah(r,e,{type:"box",ignoreSize:a})}var pZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){var i=this.group;i.removeAll();var s=t.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),c=n.getLocaleModel();this._renderDayRect(t,o,i),this._renderLines(t,o,l,i),this._renderYearText(t,o,l,i),this._renderMonthText(t,c,l,i),this._renderWeekText(t,c,o,l,i)},e.prototype._renderDayRect=function(t,n,a){for(var i=t.coordinateSystem,s=t.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),l=i.getCellHeight(),c=n.start.time;c<=n.end.time;c=i.getNextNDay(c,1).time){var u=i.dataToCalendarLayout([c],!1).tl,f=new Nr({shape:{x:u[0],y:u[1],width:o,height:l},cursor:"default",style:s});a.add(f)}},e.prototype._renderLines=function(t,n,a,i){var s=this,o=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),c=t.get(["splitLine","show"]),u=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=n.start,h=0;f.time<=n.end.time;h++){v(f.formatedDate),h===0&&(f=o.getDateInfo(n.start.y+"-"+n.start.m));var d=f.date;d.setMonth(d.getMonth()+1),f=o.getDateInfo(d)}v(o.getNextNDay(n.end.time,1).formatedDate);function v(g){s._firstDayOfMonth.push(o.getDateInfo(g)),s._firstDayPoints.push(o.dataToCalendarLayout([g],!1).tl);var m=s._getLinePointsOfOneWeek(t,g,a);s._tlpoints.push(m[0]),s._blpoints.push(m[m.length-1]),c&&s._drawSplitline(m,l,i)}c&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,u,a),l,i),c&&this._drawSplitline(s._getEdgesPoints(s._blpoints,u,a),l,i)},e.prototype._getEdgesPoints=function(t,n,a){var i=[t[0].slice(),t[t.length-1].slice()],s=a==="horizontal"?0:1;return i[0][s]=i[0][s]-n/2,i[1][s]=i[1][s]+n/2,i},e.prototype._drawSplitline=function(t,n,a){var i=new ws({z2:20,shape:{points:t},style:n});a.add(i)},e.prototype._getLinePointsOfOneWeek=function(t,n,a){for(var i=t.coordinateSystem,s=i.getDateInfo(n),o=[],l=0;l<7;l++){var c=i.getNextNDay(s.time,l),u=i.dataToCalendarLayout([c.time],!1);o[2*c.day]=u.tl,o[2*c.day+1]=u[a==="horizontal"?"bl":"tr"]}return o},e.prototype._formatterLabel=function(t,n){return It(t)&&t?CBe(t,n):Yt(t)?t(n):n.nameMap},e.prototype._yearTextPositionControl=function(t,n,a,i,s){var o=n[0],l=n[1],c=["center","bottom"];i==="bottom"?(l+=s,c=["center","top"]):i==="left"?o-=s:i==="right"?(o+=s,c=["center","top"]):l-=s;var u=0;return(i==="left"||i==="right")&&(u=Math.PI/2),{rotation:u,x:o,y:l,style:{align:c[0],verticalAlign:c[1]}}},e.prototype._renderYearText=function(t,n,a,i){var s=t.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=a!=="horizontal"?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(c[0][0]+c[1][0])/2,f=(c[0][1]+c[1][1])/2,h=a==="horizontal"?0:1,d={top:[u,c[h][1]],bottom:[u,c[1-h][1]],left:[c[1-h][0],f],right:[c[h][0],f]},v=n.start.y;+n.end.y>+n.start.y&&(v=v+"-"+n.end.y);var g=s.get("formatter"),m={start:n.start.y,end:n.end.y,nameMap:v},y=this._formatterLabel(g,m),b=new Kr({z2:30,style:Kn(s,{text:y}),silent:s.get("silent")});b.attr(this._yearTextPositionControl(b,d[l],a,l,o)),i.add(b)}},e.prototype._monthTextPositionControl=function(t,n,a,i,s){var o="left",l="top",c=t[0],u=t[1];return a==="horizontal"?(u=u+s,n&&(o="center"),i==="start"&&(l="bottom")):(c=c+s,n&&(l="middle"),i==="start"&&(o="right")),{x:c,y:u,align:o,verticalAlign:l}},e.prototype._renderMonthText=function(t,n,a,i){var s=t.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),c=s.get("position"),u=s.get("align"),f=[this._tlpoints,this._blpoints];(!o||It(o))&&(o&&(n=W6(o)||n),o=n.get(["time","monthAbbr"])||[]);var h=c==="start"?0:1,d=a==="horizontal"?0:1;l=c==="start"?-l:l;for(var v=u==="center",g=s.get("silent"),m=0;m<f[h].length-1;m++){var y=f[h][m].slice(),b=this._firstDayOfMonth[m];if(v){var S=this._firstDayPoints[m];y[d]=(S[d]+f[0][m+1][d])/2}var A=s.get("formatter"),E=o[+b.m-1],M={yyyy:b.y,yy:(b.y+"").slice(2),MM:b.m,M:+b.m,nameMap:E},R=this._formatterLabel(A,M),L=new Kr({z2:30,style:nt(Kn(s,{text:R}),this._monthTextPositionControl(y,v,a,c,l)),silent:g});i.add(L)}}},e.prototype._weekTextPositionControl=function(t,n,a,i,s){var o="center",l="middle",c=t[0],u=t[1],f=a==="start";return n==="horizontal"?(c=c+i+(f?1:-1)*s[0]/2,o=f?"right":"left"):(u=u+i+(f?1:-1)*s[1]/2,l=f?"bottom":"top"),{x:c,y:u,align:o,verticalAlign:l}},e.prototype._renderWeekText=function(t,n,a,i,s){var o=t.getModel("dayLabel");if(o.get("show")){var l=t.coordinateSystem,c=o.get("position"),u=o.get("nameMap"),f=o.get("margin"),h=l.getFirstDayOfWeek();if(!u||It(u)){u&&(n=W6(u)||n);var d=n.get(["time","dayOfWeekShort"]);u=d||ft(n.get(["time","dayOfWeekAbbr"]),function(M){return M[0]})}var v=l.getNextNDay(a.end.time,7-a.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];f=Nt(f,Math.min(g[1],g[0])),c==="start"&&(v=l.getNextNDay(a.start.time,-(7+a.fweek)).time,f=-f);for(var m=o.get("silent"),y=0;y<7;y++){var b=l.getNextNDay(v,y),S=l.dataToCalendarLayout([b.time],!1).center,A=y;A=Math.abs((y+h)%7);var E=new Kr({z2:30,style:nt(Kn(o,{text:u[A]}),this._weekTextPositionControl(S,i,c,f,g)),silent:m});s.add(E)}}},e.type="calendar",e})(Jn),H5=864e5,vZe=(function(){function r(e,t,n){this.type="calendar",this.dimensions=r.dimensions,this.getDimensionsInfo=r.getDimensionsInfo,this._model=e,this._update(t,n)}return r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},r.prototype.getRangeInfo=function(){return this._rangeInfo},r.prototype.getModel=function(){return this._model},r.prototype.getRect=function(){return this._rect},r.prototype.getCellWidth=function(){return this._sw},r.prototype.getCellHeight=function(){return this._sh},r.prototype.getOrient=function(){return this._orient},r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},r.prototype.getDateInfo=function(e){e=Ih(e);var t=e.getFullYear(),n=e.getMonth()+1,a=n<10?"0"+n:""+n,i=e.getDate(),s=i<10?"0"+i:""+i,o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:t+"",m:a,d:s,day:o,time:e.getTime(),formatedDate:t+"-"+a+"-"+s,date:e}},r.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},r.prototype._update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,a=["width","height"],i=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[n,7]:[7,n];te([0,1],function(f){u(i,f)&&(s[a[f]]=i[f]*o[f])});var l={width:t.getWidth(),height:t.getHeight()},c=this._rect=ma(s,l);te([0,1],function(f){u(i,f)||(i[f]=c[a[f]]/o[f])});function u(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=i[0],this._sh=i[1]},r.prototype.dataToPoint=function(e,t,n){n=n||[],ct(e)&&(e=e[0]),t==null&&(t=!0);var a=this.getDateInfo(e),i=this._rangeInfo,s=a.formatedDate;if(t&&!(a.time>=i.start.time&&a.time<i.end.time+H5))return n[0]=n[1]=NaN,n;var o=a.day,l=this._getRangeInfo([i.start.time,s]).nthWeek;return this._orient==="vertical"?(n[0]=this._rect.x+o*this._sw+this._sw/2,n[1]=this._rect.y+l*this._sh+this._sh/2):(n[0]=this._rect.x+l*this._sw+this._sw/2,n[1]=this._rect.y+o*this._sh+this._sh/2),n},r.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},r.prototype.dataToLayout=function(e,t,n){n=n||{};var a=n.rect=n.rect||{},i=n.contentRect=n.contentRect||{},s=this.dataToPoint(e,t);return a.x=s[0]-this._sw/2,a.y=s[1]-this._sh/2,a.width=this._sw,a.height=this._sh,sr.copy(i,a),Km(i,this._lineWidth/2,!0,!0),n},r.prototype.dataToCalendarLayout=function(e,t){var n=this.dataToPoint(e,t);return{center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},r.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,t-1,a):this._getDateByWeeksAndDay(t,n-1,a)},r.prototype.convertToPixel=function(e,t,n){var a=G5(t);return a===this?a.dataToPoint(n):null},r.prototype.convertToLayout=function(e,t,n){var a=G5(t);return a===this?a.dataToLayout(n):null},r.prototype.convertFromPixel=function(e,t,n){var a=G5(t);return a===this?a.pointToData(n):null},r.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},r.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(ct(e)&&e.length===1&&(e=e[0]),ct(e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var a=this.getDateInfo(n),i=a.date;i.setMonth(i.getMonth()+1);var s=this.getNextNDay(i,-1);t=[a.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},r.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],n;t[0].time>t[1].time&&(n=!0,t.reverse());var a=Math.floor(t[1].time/H5)-Math.floor(t[0].time/H5)+1,i=new Date(t[0].time),s=i.getDate(),o=t[1].date.getDate();i.setDate(s+a-1);var l=i.getDate();if(l!==o)for(var c=i.getTime()-t[1].time>0?1:-1;(l=i.getDate())!==o&&(i.getTime()-t[1].time)*c>0;)a-=c,i.setDate(l-c);var u=Math.floor((a+t[0].day+6)/7),f=n?-u+1:u-1;return n&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:a,weeks:u,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},r.prototype._getDateByWeeksAndDay=function(e,t,n){var a=this._getRangeInfo(n);if(e>a.weeks||e===0&&t<a.fweek||e===a.weeks&&t>a.lweek)return null;var i=(e-1)*7-a.fweek+t,s=new Date(a.start.time);return s.setDate(+a.start.d+i),this.getDateInfo(s)},r.create=function(e,t){var n=[];return e.eachComponent("calendar",function(a){var i=new r(a,e,t);n.push(i),a.coordinateSystem=i}),e.eachComponent(function(a,i){jA({targetModel:i,coordSysType:"calendar",coordSysProvider:Ose})}),n},r.dimensions=["time","value"],r})();function G5(r){var e=r.calendarModel,t=r.seriesModel,n=e?e.coordinateSystem:t?t.coordinateSystem:null;return n}function gZe(r){r.registerComponentModel(dZe),r.registerComponentView(pZe),r.registerCoordinateSystem("calendar",vZe)}var Id={level:1,leaf:2,nonLeaf:3},qd={none:0,all:1,body:2,corner:3};function $B(r,e,t){var n=e[dr[t]].getCell(r);return!n&&$r(r)&&r<0&&(n=e[dr[1-t]].getUnitLayoutInfo(t,Math.round(r))),n}function gfe(r){var e=r||[];return e[0]=e[0]||[],e[1]=e[1]||[],e[0][0]=e[0][1]=e[1][0]=e[1][1]=NaN,e}function mfe(r,e,t,n,a){l$(r[0],e,a,t,n,0),l$(r[1],e,a,t,n,1)}function l$(r,e,t,n,a,i){r[0]=1/0,r[1]=-1/0;var s=n[i],o=ct(s)?s:[s],l=o.length,c=!!t;if(l>=1?(c$(r,e,o,c,a,i,0),l>1&&c$(r,e,o,c,a,i,l-1)):r[0]=r[1]=NaN,c){var u=-a[dr[1-i]].getLocatorCount(i),f=a[dr[i]].getLocatorCount(i)-1;t===qd.body?u=ri(0,u):t===qd.corner&&(f=nc(-1,f)),f<u&&(u=f=NaN),Us(r[0])&&(r[0]=u),Us(r[1])&&(r[1]=f),r[0]=ri(nc(r[0],f),u),r[1]=ri(nc(r[1],f),u)}}function c$(r,e,t,n,a,i,s){var o=$B(t[s],a,i);if(!o){r[0]=r[1]=NaN;return}var l=o.id[dr[i]],c=l,u=_Ze(o);u&&(c+=u.span[dr[i]]-1),r[0]=nc(r[0],l,c),r[1]=ri(r[1],l,c)}function R3(r,e){return Us(r[e][0])||Us(r[e][1])}function u$(r,e,t,n){e=e||mZe;for(var a=0;a<n;a++)e[a]=!1;for(;;){for(var i=!1,a=0;a<n;a++){var s=t[a];!e[a]&&s.cellMergeOwner&&yZe(r,s.locatorRange)&&(e[a]=!0,i=!0)}if(!i)break}}var mZe=[];function yZe(r,e){return!f$(r[0],e[0])||!f$(r[1],e[1])?!1:(r[0][0]=nc(r[0][0],e[0][0]),r[0][1]=ri(r[0][1],e[0][1]),r[1][0]=nc(r[1][0],e[1][0]),r[1][1]=ri(r[1][1],e[1][1]),!0)}function f$(r,e){return r[1]>=e[0]&&r[0]<=e[1]}function h$(r,e){r.id.set(e[0][0],e[1][0]),r.span.set(e[0][1]-r.id.x+1,e[1][1]-r.id.y+1)}function xZe(r,e){r[0][0]=e[0][0],r[0][1]=e[0][1],r[1][0]=e[1][0],r[1][1]=e[1][1]}function d$(r,e,t,n){var a=$B(e[n][0],t,n),i=$B(e[n][1],t,n);r[dr[n]]=r[bi[n]]=NaN,a&&i&&(r[dr[n]]=a.xy,r[bi[n]]=i.xy+i.wh-a.xy)}function k2(r,e,t,n){return r[dr[e]]=t,r[dr[1-e]]=n,r}function _Ze(r){return r&&(r.type===Id.leaf||r.type===Id.nonLeaf)?r:null}function NN(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var p$=(function(){function r(e,t){this._cells=[],this._levels=[],this.dim=e,this.dimIdx=e==="x"?0:1,this._model=t,this._uniqueValueGen=bZe(e);var n=t.get("data",!0);n!=null&&!ct(n)&&(n=[]),n?this._initByDimModelData(n):this._initBySeriesData()}return r.prototype._initByDimModelData=function(e){var t=this,n=t._cells,a=t._levels,i=[],s=0;t._leavesCount=o(e,0,0),l();return;function o(c,u,f){var h=0;return c&&te(c,function(d,v){var g;It(d)?g={value:d}:nr(d)?(g=d,d.value!=null&&!It(d.value)&&(g={value:null})):g={value:null};var m={type:Id.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:u,id:new ir,span:k2(new ir,t.dimIdx,1,1),option:g,xy:NaN,wh:NaN,dim:t,rect:NN()};s++,(i[u]||(i[u]=[])).push(m),a[f]||(a[f]={type:Id.level,xy:NaN,wh:NaN,option:null,id:new ir,dim:t});var y=o(g.children,u,f+1),b=Math.max(1,y);m.span[dr[t.dimIdx]]=b,h+=b,u+=b}),h}function l(){for(var c=[];n.length<s;)for(var u=0;u<i.length;u++){var f=i[u].pop();if(f){f.ordinal=c.length;var h=f.option.value;c.push(h),n.push(f),t._uniqueValueGen.calcDupBase(h)}}t._uniqueValueGen.ensureValueUnique(c,n);var d=t._ordinalMeta=new XT({categories:c,needCollect:!1,deduplication:!1});t._scale=new N_({ordinalMeta:d});for(var v=0;v<t._leavesCount;v++){var g=t._cells[v];g.type=Id.leaf,g.span[dr[1-t.dimIdx]]=t._levels.length-g.level}t._initCellsId(),t._initLevelIdOptions()}},r.prototype._initBySeriesData=function(){var e=this;e._leavesCount=0,e._levels=[{type:Id.level,xy:NaN,wh:NaN,option:null,id:new ir,dim:e}],e._initLevelIdOptions();var t=e._ordinalMeta=new XT({needCollect:!0,deduplication:!0,onCollect:function(n,a){var i=e._cells[a]={type:Id.leaf,ordinal:a,level:0,firstLeafLocator:a,id:new ir,span:k2(new ir,e.dimIdx,1,1),option:{value:n+""},xy:NaN,wh:NaN,dim:e,rect:NN()};e._leavesCount++,e._setCellId(i)}});e._scale=new N_({ordinalMeta:t})},r.prototype._setCellId=function(e){var t=this._levels.length,n=this.dimIdx;k2(e.id,n,e.firstLeafLocator,e.level-t)},r.prototype._initCellsId=function(){var e=this._levels.length,t=this.dimIdx;te(this._cells,function(n){k2(n.id,t,n.firstLeafLocator,n.level-e)})},r.prototype._initLevelIdOptions=function(){var e=this._levels.length,t=this.dimIdx,n=this._model.get("levels",!0);n=ct(n)?n:[],te(this._levels,function(a,i){k2(a.id,t,0,i-e),a.option=n[i]})},r.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},r.prototype.resetLayoutIterator=function(e,t,n,a){if(e=e||new H0,t===this.dimIdx){var i=this._leavesCount,s=n!=null?Math.max(0,n):0;a=a!=null?Math.min(a,i):i,e.reset(this._cells,s,s+a)}else{var i=this._levels.length,s=n!=null?Math.max(0,n+i):0;a=a!=null?Math.min(a,i):i,e.reset(this._levels,s,s+a)}return e},r.prototype.resetCellIterator=function(e){return(e||new H0).reset(this._cells,0)},r.prototype.resetLevelIterator=function(e){return(e||new H0).reset(this._levels,0)},r.prototype.getLayout=function(e,t,n){var a=this.getUnitLayoutInfo(t,n);e[dr[t]]=a?a.xy:NaN,e[bi[t]]=a?a.wh:NaN},r.prototype.getUnitLayoutInfo=function(e,t){return e===this.dimIdx?t<this._leavesCount?this._cells[t]:void 0:this._levels[t+this._levels.length]},r.prototype.getCell=function(e){var t=this._scale.parse(e);return Us(t)?void 0:this._cells[t]},r.prototype.getLocatorCount=function(e){return e===this.dimIdx?this._leavesCount:this._levels.length},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r})();function bZe(r){var e=r.toUpperCase(),t=new RegExp("^"+e+"([0-9]+)$"),n=0;function a(o){var l;o!=null&&(l=o.match(t))&&(n=ri(n,+l[1]+1))}function i(){return""+e+n++}function s(o,l){for(var c=Ht(),u=0;u<o.length;u++){var f=o[u];(f==null||c.get(f)!=null)&&(o[u]=f=i(),l[u].option=rr({value:f},l[u].option)),c.set(f,!0)}}return{calcDupBase:a,ensureValueUnique:s}}var v$=(function(){function r(e,t,n){this._model=t,this._dims=n,this._kind=e,this._cellMergeOwnerList=[]}return r.prototype._ensureCellMap=function(){var e=this,t=e._cellMap;return t||(t=e._cellMap=Ht(),n()),t;function n(){var i=[],s=e._model.getShallow("data");s&&!ct(s)&&(s=null),te(s,function(v,g){if(!(!nr(v)||!ct(v.coord))){var m=gfe([]),y=null;if(mfe(m,y,v.coord,e._dims,v.coordClamp?qd[e._kind]:qd.none),!(R3(m,0)||R3(m,1))){var b=v&&v.mergeCells,S={id:new ir,span:new ir,locatorRange:m,option:v,cellMergeOwner:b};h$(S,m),i.push(S)}}});for(var o=[],l=0;l<i.length;l++){var c=i[l];if(c.cellMergeOwner){var u=c.locatorRange;u$(u,o,i,l);for(var f=0;f<l;f++)o[f]&&(i[f].cellMergeOwner=!1);if(u[0][0]!==c.id.x||u[1][0]!==c.id.y){c.cellMergeOwner=!1;var h=nt({},c.option);h.coord=null;var d={id:new ir,span:new ir,locatorRange:u,option:h,cellMergeOwner:!0};h$(d,u),i.push(d)}}}te(i,function(v){var g=a(v.id.x,v.id.y);if(v.cellMergeOwner&&(g.cellMergeOwner=!0,g.span=v.span,g.locatorRange=v.locatorRange,g.spanRect=NN(),e._cellMergeOwnerList.push(g)),!(!v.cellMergeOwner&&!v.option))for(var m=0;m<v.span.y;m++)for(var y=0;y<v.span.x;y++){var b=a(v.id.x+y,v.id.y+m);b.option=v.option,v.cellMergeOwner&&(b.inSpanOf=g)}})}function a(i,s){var o=g$(i,s),l=t.get(o);return l||(l=t.set(o,{id:new ir(i,s),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},r.prototype.getCell=function(e){return this._ensureCellMap().get(g$(e[0],e[1]))},r.prototype.travelExistingCells=function(e){this._ensureCellMap().each(e)},r.prototype.expandRangeByCellMerge=function(e){if(!R3(e,0)&&!R3(e,1)&&e[0][0]===e[0][1]&&e[1][0]===e[1][1]){j5[0]=e[0][0],j5[1]=e[1][0];var t=this.getCell(j5),n=t&&t.inSpanOf;if(n){xZe(e,n.locatorRange);return}}var a=this._cellMergeOwnerList;u$(e,null,a,a.length)},r})(),j5=[];function g$(r,e){return r+"|"+e}var y9={show:!0,color:We.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function x9(r){return{color:"none",borderWidth:1,borderColor:r?"none":We.color.borderTint}}var m$={show:!0,label:y9,itemStyle:x9(!1),silent:void 0,dividerLineStyle:{width:1,color:We.color.border}},SZe={label:y9,itemStyle:x9(!1),silent:void 0},wZe={label:y9,itemStyle:x9(!0),silent:void 0},TZe={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:m$,y:m$,body:SZe,corner:wZe,backgroundStyle:{color:"none",borderColor:We.color.axisLine,borderWidth:1}},AZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this._dimModels={x:new y$(this.get("x",!0)||{}),y:new y$(this.get("y",!0)||{})};t.x.option.type=t.y.option.type="category";var n=t.x.dim=new p$("x",t.x),a=t.y.dim=new p$("y",t.y),i={x:n,y:a};this._body=new v$("body",new zr(this.getShallow("body")),i),this._corner=new v$("corner",new zr(this.getShallow("corner")),i)},e.prototype.getDimensionModel=function(t){return this._dimModels[t]},e.prototype.getBody=function(){return this._body},e.prototype.getCorner=function(){return this._corner},e.type="matrix",e.layoutMode="box",e.defaultOption=TZe,e})(kr),y$=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},e})(zr),N3=Math.round,EZe=0,MZe=99,CZe={normal:25,special:100},DZe={normal:50,special:125},RZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n){this.group.removeAll();var a=this.group,i=t.coordinateSystem,s=i.getRect(),o=t.getDimensionModel("x"),l=t.getDimensionModel("y"),c=o.dim,u=l.dim;NZe(a,t,n),IZe(a,t,c,u,n);var f=t.getShallow("borderZ2",!0),h=Gt(f,MZe),d=h-1,v=t.getModel("backgroundStyle").getItemStyle(["borderWidth"]);v.lineWidth=0;var g=t.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);g.fill="none";var m=JB(s.clone(),v,EZe),y=JB(s.clone(),g,h);m.silent=!0,y.silent=!0,a.add(m),a.add(y);var b=c.getUnitLayoutInfo(0,0),S=u.getUnitLayoutInfo(1,0);b&&S&&(c.shouldShow()&&a.add(x$({x1:s.x,y1:S.xy,x2:s.x+s.width,y2:S.xy},o.getModel("dividerLineStyle").getLineStyle(),d)),u.shouldShow()&&a.add(x$({x1:b.xy,y1:s.y,x2:b.xy,y2:s.y+s.height},l.getModel("dividerLineStyle").getLineStyle(),d)))},e.type="matrix",e})(Jn);function NZe(r,e,t){n(0),n(1);function n(a){var i=e.getDimensionModel(dr[a]),s=i.dim;if(s.shouldShow())for(var o=i.getModel("itemStyle"),l=i.getModel("label"),c=e.getShallow("tooltip",!0),u=[],f=s.resetCellIterator();f.next();){var h=f.item,d={};sr.copy(d,h.rect),GI(u,h.id.x,h.id.y),yfe(u,e,r,t,h.option,o,l,i,d,h.option.value,DZe,c)}}}function IZe(r,e,t,n,a){i("body",e.getBody(),t,n),t.shouldShow()&&n.shouldShow()&&i("corner",e.getCorner(),n,t);function i(s,o,l,c){var u=new zr(e.getShallow(s,!0)),f=u.getModel("itemStyle"),h=u.getModel("label"),d=new H0,v=new H0,g=[],m=e.getShallow("tooltip",!0);for(c.resetLayoutIterator(v,1);v.next();)for(l.resetLayoutIterator(d,0);d.next();){var y=d.item,b=v.item;GI(g,y.id.x,b.id.y);var S=o.getCell(g);if(!(S&&S.inSpanOf&&S.inSpanOf!==S)){var A={};S&&S.span?sr.copy(A,S.spanRect):(y.dim.getLayout(A,0,g[0]),b.dim.getLayout(A,1,g[1]));var E=S?S.option:null;yfe(g,e,r,a,E,f,h,u,A,E?E.value:null,CZe,m)}}}}function yfe(r,e,t,n,a,i,s,o,l,c,u,f){var h;I3.option=a?a.itemStyle:null,I3.parentModel=i,w1.option=a,w1.parentModel=o;var d=Gt(w1.getShallow("z2"),a&&a.itemStyle?u.special:u.normal),v=f&&f.show,g=JB(l,I3.getItemStyle(),d);t.add(g);var m=w1.get("cursor");m!=null&&g.attr("cursor",m);var y;if(c!=null){var b=c+"";if(T1.option=a?a.label:null,T1.parentModel=s,T1.ecModel=n,rs(g,{normal:T1},{defaultText:b,autoOverflowArea:!0,layoutRect:Qt(g.shape)}),y=g.getTextContent(),y){y.z2=d+1;var S=y.style;if(S&&S.overflow&&S.overflow!=="none"&&S.lineOverflow){var A={};sr.copy(A,l),Km(A,(((h=g.style)===null||h===void 0?void 0:h.lineWidth)||0)/2,!0,!0),g.updateInnerText(),y.getLocalTransform(L3),Qc(L3,L3),sr.applyTransform(A,A,L3),y.setClipPath(new Nr({shape:A}))}}hp({el:g,componentModel:e,itemName:b,itemTooltipOption:f,formatterParamsExtra:{xyLocator:r.slice()}})}if(y){var E=T1.get("silent");E==null&&(E=!v),y.silent=E,y.ignoreHostSilent=!0}var M=w1.get("silent");M==null&&(M=!g.style||g.style.fill==="none"||!g.style.fill),g.silent=M,nk(w1),nk(I3),nk(T1)}var w1=new zr,I3=new zr,T1=new zr,L3=[];function JB(r,e,t){var n=e.lineWidth;if(n){var a=r.x+r.width,i=r.y+r.height;r.x=tc(r.x,n,!0),r.y=tc(r.y,n,!0),r.width=tc(a,n,!0)-r.x,r.height=tc(i,n,!0)-r.y}return new Nr({shape:r,style:e,z2:t})}function x$(r,e,t){var n=e.lineWidth;return n&&(N3(r.x1*2)===N3(r.x2*2)&&(r.x1=r.x2=tc(r.x1,n,!0)),N3(r.y1*2)===N3(r.y2*2)&&(r.y1=r.y2=tc(r.y1,n,!0))),new ai({shape:r,style:e,silent:!0,z2:t})}var LZe=(function(){function r(e,t,n){this.dimensions=r.dimensions,this.type="matrix",this._model=e;var a=this._dimModels={x:e.getDimensionModel("x"),y:e.getDimensionModel("y")};this._dims={x:a.x.dim,y:a.y.dim},this._resize(e,n)}return r.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},r.create=function(e,t){var n=[];return e.eachComponent("matrix",function(a){var i=new r(a,e,t);n.push(i),a.coordinateSystem=i}),e.eachComponent(function(a,i){jA({targetModel:i,coordSysType:"matrix",coordSysProvider:Ose})}),n},r.prototype.getRect=function(){return this._rect},r.prototype._resize=function(e,t){var n=this._dims,a=this._dimModels,i=this._rect=ma(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});_$(a,n,i,0),_$(a,n,i,1),b$(0,n),b$(1,n),S$(this._model.getBody(),n),S$(this._model.getCorner(),n)},r.prototype.dataToPoint=function(e,t,n){return n=n||[],this.dataToLayout(e,t,P2),n[0]=P2.rect.x+P2.rect.width/2,n[1]=P2.rect.y+P2.rect.height/2,n},r.prototype.dataToLayout=function(e,t,n){var a=this._dims;n=n||{};var i=n.rect=n.rect||{};i.x=i.y=i.width=i.height=NaN;var s=n.matrixXYLocatorRange=gfe(n.matrixXYLocatorRange);return ct(e)&&(mfe(s,null,e,a,Gt(t&&t.clamp,qd.none)),(!t||!t.ignoreMergeCells)&&((!t||t.clamp!==qd.corner)&&this._model.getBody().expandRangeByCellMerge(s),(!t||t.clamp!==qd.body)&&this._model.getCorner().expandRangeByCellMerge(s)),d$(i,s,a,0),d$(i,s,a,1)),n},r.prototype.pointToData=function(e,t,n){var a=this._dims;return w$($f,0,a,e,t&&t.clamp),w$($f,1,a,e,t&&t.clamp),n=n||[],n[0]=n[1]=NaN,$f.y===Os.inCorner&&$f.x===Os.inBody?T$($f,n,0,a):$f.x===Os.inCorner&&$f.y===Os.inBody?T$($f,n,1,a):(A$($f,n,0,a),A$($f,n,1,a)),n},r.prototype.convertToPixel=function(e,t,n,a){var i=Y5(t);return i===this?i.dataToPoint(n,a):void 0},r.prototype.convertToLayout=function(e,t,n,a){var i=Y5(t);return i===this?i.dataToLayout(n,a):void 0},r.prototype.convertFromPixel=function(e,t,n,a){var i=Y5(t);return i===this?i.pointToData(n,a):void 0},r.prototype.containPoint=function(e){return this._rect.contain(e[0],e[1])},r.dimensions=["x","y","value"],r})(),P2={rect:NN()},O3=new H0,W5=new H0;function _$(r,e,t,n){for(var a=1-n,i=e[dr[n]],s=e[dr[a]],o=s.shouldShow(),l=i.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var c=s.resetLayoutIterator(null,n);c.next();)c.item.wh=c.item.xy=NaN;for(var u=t[bi[n]],f=i.getLocatorCount(n)+s.getLocatorCount(n),h=new zr,d=s.resetLevelIterator();d.next();)h.option=d.item.option,h.parentModel=r[dr[a]],m(d.item,o?h.get("levelSize"):0);for(var v=new zr,g=i.resetCellIterator();g.next();)g.item.type===Id.leaf&&(v.option=g.item.option,v.parentModel=void 0,m(g.item,v.get("size")));function m(R,L){var I=OZe(L,n,t);Us(I)||(R.wh=QB(I,u),u=QB(u-R.wh),f--)}var y=f?u/f:0,b=!f&&u>=1,S=t[dr[n]],A=i.getLocatorCount(n)-1,E=new H0;for(s.resetLayoutIterator(E,n);E.next();)M(E.item);for(i.resetLayoutIterator(E,n);E.next();)M(E.item);function M(R){Us(R.wh)&&(R.wh=y),R.xy=S,R.id[dr[n]]===A&&!b&&(R.wh=t[dr[n]]+t[bi[n]]-R.xy),S+=R.wh}}function b$(r,e){for(var t=e[dr[r]].resetCellIterator();t.next();){var n=t.item;IN(n.rect,r,n.id,n.span,e),IN(n.rect,1-r,n.id,n.span,e),n.type===Id.nonLeaf&&(n.xy=n.rect[dr[r]],n.wh=n.rect[bi[r]])}}function S$(r,e){r.travelExistingCells(function(t){var n=t.span;if(n){var a=t.spanRect,i=t.id;IN(a,0,i,n,e),IN(a,1,i,n,e)}})}function IN(r,e,t,n,a){r[bi[e]]=0;var i=t[dr[e]],s=i<0?a[dr[1-e]]:a[dr[e]],o=s.getUnitLayoutInfo(e,t[dr[e]]);if(r[dr[e]]=o.xy,r[bi[e]]=o.wh,n[dr[e]]>1){var l=s.getUnitLayoutInfo(e,t[dr[e]]+n[dr[e]]-1);r[bi[e]]=l.xy+l.wh-o.xy}}function OZe(r,e,t){var n=WR(r,t[bi[e]]);return QB(n,t[bi[e]])}function QB(r,e){return Math.max(Math.min(r,Gt(e,1/0)),0)}function Y5(r){var e=r.matrixModel,t=r.seriesModel,n=e?e.coordinateSystem:t?t.coordinateSystem:null;return n}var Os={inBody:1,inCorner:2,outside:3},$f={x:null,y:null,point:[]};function w$(r,e,t,n,a){var i=t[dr[e]],s=t[dr[1-e]],o=i.getUnitLayoutInfo(e,i.getLocatorCount(e)-1),l=i.getUnitLayoutInfo(e,0),c=s.getUnitLayoutInfo(e,-s.getLocatorCount(e)),u=s.shouldShow()?s.getUnitLayoutInfo(e,-1):null,f=r.point[e]=n[e];if(!l&&!u){r[dr[e]]=Os.outside;return}if(a===qd.body){l?(r[dr[e]]=Os.inBody,f=nc(o.xy+o.wh,ri(l.xy,f)),r.point[e]=f):r[dr[e]]=Os.outside;return}else if(a===qd.corner){u?(r[dr[e]]=Os.inCorner,f=nc(u.xy+u.wh,ri(c.xy,f)),r.point[e]=f):r[dr[e]]=Os.outside;return}var h=l?l.xy:u?u.xy+u.wh:NaN,d=c?c.xy:h,v=o?o.xy+o.wh:h;if(f<d){if(!a){r[dr[e]]=Os.outside;return}f=d}else if(f>v){if(!a){r[dr[e]]=Os.outside;return}f=v}r.point[e]=f,r[dr[e]]=h<=f&&f<=v?Os.inBody:d<=f&&f<=h?Os.inCorner:Os.outside}function T$(r,e,t,n){var a=1-t;if(r[dr[t]]!==Os.outside)for(n[dr[t]].resetCellIterator(W5);W5.next();){var i=W5.item;if(E$(r.point[t],i.rect,t)&&E$(r.point[a],i.rect,a)){e[t]=i.ordinal,e[a]=i.id[dr[a]];return}}}function A$(r,e,t,n){if(r[dr[t]]!==Os.outside){var a=r[dr[t]]===Os.inCorner?n[dr[1-t]]:n[dr[t]];for(a.resetLayoutIterator(O3,t);O3.next();)if(kZe(r.point[t],O3.item)){e[t]=O3.item.id[dr[t]];return}}}function kZe(r,e){return e.xy<=r&&r<=e.xy+e.wh}function E$(r,e,t){return e[dr[t]]<=r&&r<=e[dr[t]]+e[bi[t]]}function PZe(r){r.registerComponentModel(AZe),r.registerComponentView(RZe),r.registerCoordinateSystem("matrix",LZe)}function BZe(r,e){var t=r.existing;if(e.id=r.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var n=e.parentOption;n?e.parentId=n.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function M$(r,e){var t;return te(e,function(n){r[n]!=null&&r[n]!=="auto"&&(t=!0)}),t}function zZe(r,e,t){var n=nt({},t),a=r[e],i=t.$action||"merge";i==="merge"?a?(Sr(a,n,!0),Ah(a,n,{ignoreSize:!0}),Fse(t,a),k3(t,a),k3(t,a,"shape"),k3(t,a,"style"),k3(t,a,"extra"),t.clipPath=a.clipPath):r[e]=n:i==="replace"?r[e]=n:i==="remove"&&a&&(r[e]=null)}var xfe=["transition","enterFrom","leaveTo"],FZe=xfe.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function k3(r,e,t){if(t&&(!r[t]&&e[t]&&(r[t]={}),r=r[t],e=e[t]),!(!r||!e))for(var n=t?xfe:FZe,a=0;a<n.length;a++){var i=n[a];r[i]==null&&e[i]!=null&&(r[i]=e[i])}}function UZe(r,e){if(r&&(r.hv=e.hv=[M$(e,["left","right"]),M$(e,["top","bottom"])],r.type==="group")){var t=r,n=e;t.width==null&&(t.width=n.width=0),t.height==null&&(t.height=n.height=0)}}var VZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,n){var a=this.option.elements;this.option.elements=null,r.prototype.mergeOption.call(this,t,n),this.option.elements=a},e.prototype.optionUpdated=function(t,n){var a=this.option,i=(n?a:t).elements,s=a.elements=n?[]:a.elements,o=[];this._flatten(i,o,null);var l=Die(s,o,"normalMerge"),c=this._elOptionsToUpdate=[];te(l,function(u,f){var h=u.newOption;h&&(c.push(h),BZe(u,h),zZe(s,f,h),UZe(s[f],h))},this),a.elements=fn(s,function(u){return u&&delete u.$action,u!=null})},e.prototype._flatten=function(t,n,a){te(t,function(i){if(i){a&&(i.parentOption=a),n.push(i);var s=i.children;s&&s.length&&this._flatten(s,n,i),delete i.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e})(kr),C$={path:null,compoundPath:null,group:er,image:ns,text:Kr},Gc=Pr(),HZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=Ht()},e.prototype.render=function(t,n,a){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,a)},e.prototype._updateElements=function(t){var n=t.useElOptionsToUpdate();if(n){var a=this._elMap,i=this.group,s=t.get("z"),o=t.get("zlevel");te(n,function(l){var c=Li(l.id,null),u=c!=null?a.get(c):null,f=Li(l.parentId,null),h=f!=null?a.get(f):i,d=l.type,v=l.style;d==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var g=l.textContent,m=l.textConfig;if(v&&Kue(v,d,!!m,!!g)){var y=$ue(v,d,!0);!m&&y.textConfig&&(m=l.textConfig=y.textConfig),!g&&y.textContent&&(g=y.textContent)}var b=GZe(l),S=l.$action||"merge",A=S==="merge",E=S==="replace";if(A){var M=!u,R=u;M?R=D$(c,h,l.type,a):(R&&(Gc(R).isNew=!1),tfe(R)),R&&(hD(R,b,t,{isInit:M}),R$(R,l,s,o))}else if(E){vD(u,l,a,t);var L=D$(c,h,l.type,a);L&&(hD(L,b,t,{isInit:!0}),R$(L,l,s,o))}else S==="remove"&&(Que(u,l),vD(u,l,a,t));var I=a.get(c);if(I&&g)if(A){var O=I.getTextContent();O?O.attr(g):I.setTextContent(new Kr(g))}else E&&I.setTextContent(new Kr(g));if(I){var P=l.clipPath;if(P){var k=P.type,U=void 0,M=!1;if(A){var F=I.getClipPath();M=!F||Gc(F).type!==k,U=M?e8(k):F}else E&&(M=!0,U=e8(k));I.setClipPath(U),hD(U,P,t,{isInit:M}),CN(U,P.keyframeAnimation,t)}var q=Gc(I);I.setTextConfig(m),q.option=l,jZe(I,t,l),hp({el:I,componentModel:t,itemName:I.name,itemTooltipOption:l.tooltip}),CN(I,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,n){for(var a=t.option.elements,i=this.group,s=this._elMap,o=n.getWidth(),l=n.getHeight(),c=["x","y"],u=0;u<a.length;u++){var f=a[u],h=Li(f.id,null),d=h!=null?s.get(h):null;if(!(!d||!d.isGroup)){var v=d.parent,g=v===i,m=Gc(d),y=Gc(v);m.width=Nt(m.option.width,g?o:y.width)||0,m.height=Nt(m.option.height,g?l:y.height)||0}}for(var u=a.length-1;u>=0;u--){var f=a[u],h=Li(f.id,null),d=h!=null?s.get(h):null;if(d){var v=d.parent,y=Gc(v),b=v===i?{width:o,height:l}:{width:y.width,height:y.height},S={},A=sL(d,f,b,null,{hv:f.hv,boundingMode:f.bounding},S);if(!Gc(d).isNew&&A){for(var E=f.transition,M={},R=0;R<c.length;R++){var L=c[R],I=S[L];E&&(Pm(E)||br(E,L)>=0)?M[L]=I:d[L]=I}nn(d,M,t,0)}else d.attr(S)}}},e.prototype._clear=function(){var t=this,n=this._elMap;n.each(function(a){vD(a,Gc(a).option,n,t._lastGraphicModel)}),this._elMap=Ht()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e})(Jn);function e8(r){var e=Ut(C$,r)?C$[r]:FT(r),t=new e({});return Gc(t).type=r,t}function D$(r,e,t,n){var a=e8(t);return e.add(a),n.set(r,a),Gc(a).id=r,Gc(a).isNew=!0,a}function vD(r,e,t,n){var a=r&&r.parent;a&&(r.type==="group"&&r.traverse(function(i){vD(i,e,t,n)}),SL(r,e,n),t.removeKey(Gc(r).id))}function R$(r,e,t,n){r.isGroup||te([["cursor",eu.prototype.cursor],["zlevel",n||0],["z",t||0],["z2",0]],function(a){var i=a[0];Ut(e,i)?r[i]=Gt(e[i],a[1]):r[i]==null&&(r[i]=a[1])}),te(Yr(e),function(a){if(a.indexOf("on")===0){var i=e[a];r[a]=Yt(i)?i:null}}),Ut(e,"draggable")&&(r.draggable=e.draggable),e.name!=null&&(r.name=e.name),e.id!=null&&(r.id=e.id)}function GZe(r){return r=nt({},r),te(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(kse),function(e){delete r[e]}),r}function jZe(r,e,t){var n=or(r).eventData;!r.silent&&!r.ignore&&!n&&(n=or(r).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:r.name}),n&&(n.info=t.info)}function WZe(r){r.registerComponentModel(VZe),r.registerComponentView(HZe),r.registerPreprocessor(function(e){var t=e.graphic;ct(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var N$=["x","y","radius","angle","single"],YZe=["cartesian2d","polar","singleAxis"];function XZe(r){var e=r.get("coordinateSystem");return br(YZe,e)>=0}function P0(r){return r+"Axis"}function qZe(r,e){var t=Ht(),n=[],a=Ht();r.eachComponent({mainType:"dataZoom",query:e},function(u){a.get(u.uid)||o(u)});var i;do i=!1,r.eachComponent("dataZoom",s);while(i);function s(u){!a.get(u.uid)&&l(u)&&(o(u),i=!0)}function o(u){a.set(u.uid,!0),n.push(u),c(u)}function l(u){var f=!1;return u.eachTargetAxis(function(h,d){var v=t.get(h);v&&v[d]&&(f=!0)}),f}function c(u){u.eachTargetAxis(function(f,h){(t.get(f)||t.set(f,[]))[h]=!0})}return n}function _fe(r){var e=r.ecModel,t={infoList:[],infoMap:Ht()};return r.eachTargetAxis(function(n,a){var i=e.getComponent(P0(n),a);if(i){var s=i.getCoordSysModel();if(s){var o=s.uid,l=t.infoMap.get(o);l||(l={model:s,axisModels:[]},t.infoList.push(l),t.infoMap.set(o,l)),l.axisModels.push(i)}}}),t}var X5=(function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},r})(),aA=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,n,a){var i=I$(t);this.settledOption=i,this.mergeDefaultAndTheme(t,a),this._doInit(i)},e.prototype.mergeOption=function(t){var n=I$(t);Sr(this.option,t,!0),Sr(this.settledOption,n,!0),this._doInit(n)},e.prototype._doInit=function(t){var n=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var a=this.settledOption;te([["start","startValue"],["end","endValue"]],function(i,s){this._rangePropMode[s]==="value"&&(n[i[0]]=a[i[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),n=this._targetAxisInfoMap=Ht(),a=this._fillSpecifiedTargetAxis(n);a?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var n=!1;return te(N$,function(a){var i=this.getReferringComponents(P0(a),hPe);if(i.specified){n=!0;var s=new X5;te(i.models,function(o){s.add(o.componentIndex)}),t.set(a,s)}},this),n},e.prototype._fillAutoTargetAxisByOrient=function(t,n){var a=this.ecModel,i=!0;if(i){var s=n==="vertical"?"y":"x",o=a.findComponents({mainType:s+"Axis"});l(o,s)}if(i){var o=a.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===n}});l(o,"single")}function l(c,u){var f=c[0];if(f){var h=new X5;if(h.add(f.componentIndex),t.set(u,h),i=!1,u==="x"||u==="y"){var d=f.getReferringComponents("grid",Pa).models[0];d&&te(c,function(v){f.componentIndex!==v.componentIndex&&d===v.getReferringComponents("grid",Pa).models[0]&&h.add(v.componentIndex)})}}}i&&te(N$,function(c){if(i){var u=a.findComponents({mainType:P0(c),filter:function(h){return h.get("type",!0)==="category"}});if(u[0]){var f=new X5;f.add(u[0].componentIndex),t.set(c,f),i=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(n){!t&&(t=n)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var n=this._rangePropMode,a=this.get("rangeMode");te([["start","startValue"],["end","endValue"]],function(i,s){var o=t[i[0]]!=null,l=t[i[1]]!=null;o&&!l?n[s]="percent":!o&&l?n[s]="value":a?n[s]=a[s]:o&&(n[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(n,a){t==null&&(t=this.ecModel.getComponent(P0(n),a))},this),t},e.prototype.eachTargetAxis=function(t,n){this._targetAxisInfoMap.each(function(a,i){te(a.indexList,function(s){t.call(n,i,s)})})},e.prototype.getAxisProxy=function(t,n){var a=this.getAxisModel(t,n);if(a)return a.__dzAxisProxy},e.prototype.getAxisModel=function(t,n){var a=this._targetAxisInfoMap.get(t);if(a&&a.indexMap[n])return this.ecModel.getComponent(P0(t),n)},e.prototype.setRawRange=function(t){var n=this.option,a=this.settledOption;te([["start","startValue"],["end","endValue"]],function(i){(t[i[0]]!=null||t[i[1]]!=null)&&(n[i[0]]=a[i[0]]=t[i[0]],n[i[1]]=a[i[1]]=t[i[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var n=this.option;te(["start","startValue","end","endValue"],function(a){n[a]=t[a]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,n){if(t==null&&n==null){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataValueWindow()}else return this.getAxisProxy(t,n).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var n,a=this._targetAxisInfoMap.keys(),i=0;i<a.length;i++)for(var s=a[i],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var c=this.getAxisProxy(s,o.indexList[l]);if(c.hostedBy(this))return c;n||(n=c)}return n},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(kr);function I$(r){var e={};return te(["start","end","startValue","endValue","throttle"],function(t){r.hasOwnProperty(t)&&(e[t]=r[t])}),e}var ZZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(aA),_9=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a,i){this.dataZoomModel=t,this.ecModel=n,this.api=a},e.type="dataZoom",e})(Jn),KZe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(_9),O1=te,L$=Ql,$Ze=(function(){function r(e,t,n,a){this._dimName=e,this._axisIndex=t,this.ecModel=a,this._dataZoomModel=n}return r.prototype.hostedBy=function(e){return this._dataZoomModel===e},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(XZe(t)){var n=P0(this._dimName),a=t.getReferringComponents(n,Pa).models[0];a&&this._axisIndex===a.componentIndex&&e.push(t)}},this),e},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return Qt(this._minMaxSpan)},r.prototype.calculateDataWindow=function(e){var t=this._dataExtent,n=this.getAxisModel(),a=n.axis.scale,i=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],c;O1(["start","end"],function(h,d){var v=e[h],g=e[h+"Value"];i[d]==="percent"?(v==null&&(v=s[d]),g=a.parse(gn(v,s,t))):(c=!0,g=g==null?t[d]:a.parse(g),v=gn(g,t,s)),l[d]=g==null||isNaN(g)?t[d]:g,o[d]=v==null||isNaN(v)?s[d]:v}),L$(l),L$(o);var u=this._minMaxSpan;c?f(l,o,t,s,!1):f(o,l,s,t,!0);function f(h,d,v,g,m){var y=m?"Span":"ValueSpan";iv(0,h,v,"all",u["min"+y],u["max"+y]);for(var b=0;b<2;b++)d[b]=gn(h[b],v,g,!0),m&&(d[b]=a.parse(d[b]))}return{valueWindow:l,percentWindow:o}},r.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=JZe(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var n=this._dimName,a=this.getTargetSeriesModels(),i=e.get("filterMode"),s=this._valueWindow;if(i==="none")return;O1(a,function(l){var c=l.getData(),u=c.mapDimensionsAll(n);if(u.length){if(i==="weakFilter"){var f=c.getStore(),h=ft(u,function(d){return c.getDimensionIndex(d)},c);c.filterSelf(function(d){for(var v,g,m,y=0;y<u.length;y++){var b=f.get(h[y],d),S=!isNaN(b),A=b<s[0],E=b>s[1];if(S&&!A&&!E)return!0;S&&(m=!0),A&&(v=!0),E&&(g=!0)}return m&&v&&g})}else O1(u,function(d){if(i==="empty")l.setData(c=c.map(d,function(g){return o(g)?g:NaN}));else{var v={};v[d]=s,c.selectRange(v)}});O1(u,function(d){c.setApproximateExtent(s,d)})}});function o(l){return l>=s[0]&&l<=s[1]}},r.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;O1(["min","max"],function(a){var i=t.get(a+"Span"),s=t.get(a+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?i=gn(n[0]+s,n,[0,100],!0):i!=null&&(s=gn(i,[0,100],n,!0)-n[0]),e[a+"Span"]=i,e[a+"ValueSpan"]=s},this)},r.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var a=cF(n,[0,500]);a=Math.min(a,20);var i=e.axis.scale.rawExtentInfo;t[0]!==0&&i.setDeterminedMinMax("min",+n[0].toFixed(a)),t[1]!==100&&i.setDeterminedMinMax("max",+n[1].toFixed(a)),i.freeze()}},r})();function JZe(r,e,t){var n=[1/0,-1/0];O1(t,function(s){gUe(n,s.getData(),e)});var a=r.getAxisModel(),i=xle(a.axis.scale,a,n).calculate();return[i.min,i.max]}var QZe={getTargetSeries:function(r){function e(a){r.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(s,o){var l=r.getComponent(P0(s),o);a(s,o,l,i)})})}e(function(a,i,s,o){s.__dzAxisProxy=null});var t=[];e(function(a,i,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new $Ze(a,i,o,r),t.push(s.__dzAxisProxy))});var n=Ht();return te(t,function(a){te(a.getTargetSeriesModels(),function(i){n.set(i.uid,i)})}),n},overallReset:function(r,e){r.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(n,a){t.getAxisProxy(n,a).reset(t)}),t.eachTargetAxis(function(n,a){t.getAxisProxy(n,a).filterData(t,e)})}),r.eachComponent("dataZoom",function(t){var n=t.findRepresentativeAxisProxy();if(n){var a=n.getDataPercentWindow(),i=n.getDataValueWindow();t.setCalculatedRange({start:a[0],end:a[1],startValue:i[0],endValue:i[1]})}})}};function eKe(r){r.registerAction("dataZoom",function(e,t){var n=qZe(t,e);te(n,function(a){a.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var O$=!1;function b9(r){O$||(O$=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,QZe),eKe(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function tKe(r){r.registerComponentModel(ZZe),r.registerComponentView(KZe),b9(r)}var Yc=(function(){function r(){}return r})(),bfe={};function k1(r,e){bfe[r]=e}function Sfe(r){return bfe[r]}var rKe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;te(this.option.feature,function(n,a){var i=Sfe(a);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),Sr(n,i.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:We.color.border,borderRadius:0,borderWidth:0,padding:We.size.m,itemSize:15,itemGap:We.size.s,showTitle:!0,iconStyle:{borderColor:We.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:We.color.accent50}},tooltip:{show:!1,position:"bottom"}},e})(kr);function wfe(r,e){var t=ub(e.get("padding")),n=e.getItemStyle(["color","opacity"]);n.fill=e.get("backgroundColor");var a=new Nr({shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1});return a}var nKe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,a,i){var s=this.group;if(s.removeAll(),!t.get("show"))return;var o=+t.get("itemSize"),l=t.get("orient")==="vertical",c=t.get("feature")||{},u=this._features||(this._features={}),f=[];te(c,function(b,S){f.push(S)}),new ip(this._featureNames||[],f).add(h).update(h).remove(yr(h,null)).execute(),this._featureNames=f;function h(b,S){var A=f[b],E=f[S],M=c[A],R=new zr(M,t,t.ecModel),L;if(i&&i.newTitle!=null&&i.featureName===A&&(M.title=i.newTitle),A&&!E){if(aKe(A))L={onclick:R.option.onclick,featureName:A};else{var I=Sfe(A);if(!I)return;L=new I}u[A]=L}else if(L=u[E],!L)return;L.uid=cb("toolbox-feature"),L.model=R,L.ecModel=n,L.api=a;var O=L instanceof Yc;if(!A&&E){O&&L.dispose&&L.dispose(n,a);return}if(!R.get("show")||O&&L.unusable){O&&L.remove&&L.remove(n,a);return}d(R,L,A),R.setIconStatus=function(P,k){var U=this.option,F=this.iconPaths;U.iconStatus=U.iconStatus||{},U.iconStatus[P]=k,F[P]&&(k==="emphasis"?np:ap)(F[P])},L instanceof Yc&&L.render&&L.render(R,n,a,i)}function d(b,S,A){var E=b.getModel("iconStyle"),M=b.getModel(["emphasis","iconStyle"]),R=S instanceof Yc&&S.getIcons?S.getIcons():b.get("icon"),L=b.get("title")||{},I,O;It(R)?(I={},I[A]=R):I=R,It(L)?(O={},O[A]=L):O=L;var P=b.iconPaths={};te(I,function(k,U){var F=ob(k,{},{x:-o/2,y:-o/2,width:o,height:o});F.setStyle(E.getItemStyle());var q=F.ensureState("emphasis");q.style=M.getItemStyle();var H=new Kr({style:{text:O[U],align:M.get("textAlign"),borderRadius:M.get("textBorderRadius"),padding:M.get("textPadding"),fill:null,font:IF({fontStyle:M.get("textFontStyle"),fontFamily:M.get("textFontFamily"),fontSize:M.get("textFontSize"),fontWeight:M.get("textFontWeight")},n)},ignore:!0});F.setTextContent(H),hp({el:F,componentModel:t,itemName:U,formatterParamsExtra:{title:O[U]}}),F.__title=O[U],F.on("mouseover",function(){var Z=M.getItemStyle(),X=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";H.setStyle({fill:M.get("textFill")||Z.fill||Z.stroke||We.color.neutral99,backgroundColor:M.get("textBackgroundColor")}),F.setTextConfig({position:M.get("textPosition")||X}),H.ignore=!t.get("showTitle"),a.enterEmphasis(this)}).on("mouseout",function(){b.get(["iconStatus",U])!=="emphasis"&&a.leaveEmphasis(this),H.hide()}),(b.get(["iconStatus",U])==="emphasis"?np:ap)(F),s.add(F),F.on("click",Ot(S.onclick,S,n,a,U)),P[U]=F})}var v=Pi(t,a).refContainer,g=t.getBoxLayoutParams(),m=t.get("padding"),y=ma(g,v,m);Lm(t.get("orient"),s,t.get("itemGap"),y.width,y.height),sL(s,g,v,m),s.add(wfe(s.getBoundingRect(),t)),l||s.eachChild(function(b){var S=b.__title,A=b.ensureState("emphasis"),E=A.textConfig||(A.textConfig={}),M=b.getTextContent(),R=M&&M.ensureState("emphasis");if(R&&!Yt(R)&&S){var L=R.style||(R.style={}),I=YI(S,Kr.makeFont(L)),O=b.x+s.x,P=b.y+s.y+o,k=!1;P+I.height>a.getHeight()&&(E.position="top",k=!0);var U=k?-5-I.height:o+10;O+I.width/2>a.getWidth()?(E.position=["100%",U],L.align="right"):O-I.width/2<0&&(E.position=[0,U],L.align="left")}})},e.prototype.updateView=function(t,n,a,i){te(this._features,function(s){s instanceof Yc&&s.updateView&&s.updateView(s.model,n,a,i)})},e.prototype.remove=function(t,n){te(this._features,function(a){a instanceof Yc&&a.remove&&a.remove(t,n)}),this.group.removeAll()},e.prototype.dispose=function(t,n){te(this._features,function(a){a instanceof Yc&&a.dispose&&a.dispose(t,n)})},e.type="toolbox",e})(Jn);function aKe(r){return r.indexOf("my")===0}var iKe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){var a=this.model,i=a.get("name")||t.get("title.0.text")||"echarts",s=n.getZr().painter.getType()==="svg",o=s?"svg":a.get("type",!0)||"png",l=n.getConnectedDataURL({type:o,backgroundColor:a.get("backgroundColor",!0)||t.get("backgroundColor")||We.color.neutral00,connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),c=jr.browser;if(typeof MouseEvent=="function"&&(c.newEdge||!c.ie&&!c.edge)){var u=document.createElement("a");u.download=i+"."+o,u.target="_blank",u.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||s){var h=l.split(","),d=h[0].indexOf("base64")>-1,v=s?decodeURIComponent(h[1]):h[1];d&&(v=window.atob(v));var g=i+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var m=v.length,y=new Uint8Array(m);m--;)y[m]=v.charCodeAt(m);var b=new Blob([y]);window.navigator.msSaveOrOpenBlob(b,g)}else{var S=document.createElement("iframe");document.body.appendChild(S);var A=S.contentWindow,E=A.document;E.open("image/svg+xml","replace"),E.write(v),E.close(),A.focus(),E.execCommand("SaveAs",!0,g),document.body.removeChild(S)}}else{var M=a.get("lang"),R='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(M&&M[0]||"")+'" /></body>',L=window.open();L.document.write(R),L.document.title=i}},e.getDefaultOption=function(t){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:We.color.neutral00,name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},e})(Yc),k$="__ec_magicType_stack__",sKe=[["line","bar"],["stack"]],oKe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,n=t.get("icon"),a={};return te(t.get("type"),function(i){n[i]&&(a[i]=n[i])}),a},e.getDefaultOption=function(t){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},e.prototype.onclick=function(t,n,a){var i=this.model,s=i.get(["seriesIndex",a]);if(P$[a]){var o={series:[]},l=function(f){var h=f.subType,d=f.id,v=P$[a](h,d,f,i);v&&(rr(v,f.option),o.series.push(v));var g=f.coordinateSystem;if(g&&g.type==="cartesian2d"&&(a==="line"||a==="bar")){var m=g.getAxesByScale("ordinal")[0];if(m){var y=m.dim,b=y+"Axis",S=f.getReferringComponents(b,Pa).models[0],A=S.componentIndex;o[b]=o[b]||[];for(var E=0;E<=A;E++)o[b][A]=o[b][A]||{};o[b][A].boundaryGap=a==="bar"}}};te(sKe,function(f){br(f,a)>=0&&te(f,function(h){i.setIconStatus(h,"normal")})}),i.setIconStatus(a,"emphasis"),t.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var c,u=a;a==="stack"&&(c=Sr({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",a])!=="emphasis"&&(u="tiled")),n.dispatchAction({type:"changeMagicType",currentType:u,newOption:o,newTitle:c,featureName:"magicType"})}},e})(Yc),P$={line:function(r,e,t,n){if(r==="bar")return Sr({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(r,e,t,n){if(r==="line")return Sr({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(r,e,t,n){var a=t.get("stack")===k$;if(r==="line"||r==="bar")return n.setIconStatus("stack",a?"normal":"emphasis"),Sr({id:e,stack:a?"":k$},n.get(["option","stack"])||{},!0)}};uf({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,e){e.mergeOption(r.newOption)});var wL=new Array(60).join("-"),z_="	";function lKe(r){var e={},t=[],n=[];return r.eachRawSeries(function(a){var i=a.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var s=i.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;e[o]||(e[o]={categoryAxis:s,valueAxis:i.getOtherAxis(s),series:[]},n.push({axisDim:s.dim,axisIndex:s.index})),e[o].series.push(a)}else t.push(a)}else t.push(a)}),{seriesGroupByCategoryAxis:e,other:t,meta:n}}function cKe(r){var e=[];return te(r,function(t,n){var a=t.categoryAxis,i=t.valueAxis,s=i.dim,o=[" "].concat(ft(t.series,function(d){return d.name})),l=[a.model.getCategories()];te(t.series,function(d){var v=d.getRawData();l.push(d.getRawData().mapArray(v.mapDimension(s),function(g){return g}))});for(var c=[o.join(z_)],u=0;u<l[0].length;u++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][u]);c.push(f.join(z_))}e.push(c.join(`
`))}),e.join(`

`+wL+`

`)}function uKe(r){return ft(r,function(e){var t=e.getRawData(),n=[e.name],a=[];return t.each(t.dimensions,function(){for(var i=arguments.length,s=arguments[i-1],o=t.getName(s),l=0;l<i-1;l++)a[l]=arguments[l];n.push((o?o+z_:"")+a.join(z_))}),n.join(`
`)}).join(`

`+wL+`

`)}function fKe(r){var e=lKe(r);return{value:fn([cKe(e.seriesGroupByCategoryAxis),uKe(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+wL+`

`),meta:e.meta}}function LN(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function hKe(r){var e=r.slice(0,r.indexOf(`
`));if(e.indexOf(z_)>=0)return!0}var t8=new RegExp("["+z_+"]+","g");function dKe(r){for(var e=r.split(/\n+/g),t=LN(e.shift()).split(t8),n=[],a=ft(t,function(l){return{name:l,data:[]}}),i=0;i<e.length;i++){var s=LN(e[i]).split(t8);n.push(s.shift());for(var o=0;o<s.length;o++)a[o]&&(a[o].data[i]=s[o])}return{series:a,categories:n}}function pKe(r){for(var e=r.split(/\n+/g),t=LN(e.shift()),n=[],a=0;a<e.length;a++){var i=LN(e[a]);if(i){var s=i.split(t8),o="",l=void 0,c=!1;isNaN(s[0])?(c=!0,o=s[0],s=s.slice(1),n[a]={name:o,value:[]},l=n[a].value):l=n[a]=[];for(var u=0;u<s.length;u++)l.push(+s[u]);l.length===1&&(c?n[a].value=l[0]:n[a]=l[0])}}return{name:t,data:n}}function vKe(r,e){var t=r.split(new RegExp(`
*`+wL+`
*`,"g")),n={series:[]};return te(t,function(a,i){if(hKe(a)){var s=dKe(a),o=e[i],l=o.axisDim+"Axis";o&&(n[l]=n[l]||[],n[l][o.axisIndex]={data:s.categories},n.series=n.series.concat(s.series))}else{var s=pKe(a);n.series.push(s)}}),n}var gKe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var a=n.getDom(),i=this.model;this._dom&&a.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=i.get("backgroundColor")||We.color.neutral00;var o=document.createElement("h4"),l=i.get("lang")||[];o.innerHTML=l[0]||i.get("title"),o.style.cssText="margin:10px 20px",o.style.color=i.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="overflow:auto";var f=i.get("optionToContent"),h=i.get("contentToOption"),d=fKe(t);if(Yt(f)){var v=f(n.getOption());It(v)?c.innerHTML=v:Wm(v)&&c.appendChild(v)}else{u.readOnly=i.get("readOnly");var g=u.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=i.get("textColor"),g.borderColor=i.get("textareaBorderColor"),g.backgroundColor=i.get("textareaColor"),u.value=d.value,c.appendChild(u)}var m=d.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",S=document.createElement("div"),A=document.createElement("div");b+=";background-color:"+i.get("buttonColor"),b+=";color:"+i.get("buttonTextColor");var E=this;function M(){a.removeChild(s),E._dom=null}f6(S,"click",M),f6(A,"click",function(){if(h==null&&f!=null||h!=null&&f==null){M();return}var R;try{Yt(h)?R=h(c,n.getOption()):R=vKe(u.value,m)}catch(L){throw M(),new Error("Data view format error "+L)}R&&n.dispatchAction({type:"changeDataView",newOption:R}),M()}),S.innerHTML=l[1],A.innerHTML=l[2],A.style.cssText=S.style.cssText=b,!i.get("readOnly")&&y.appendChild(A),y.appendChild(S),s.appendChild(o),s.appendChild(c),s.appendChild(y),c.style.height=a.clientHeight-80+"px",a.appendChild(s),this._dom=s},e.prototype.remove=function(t,n){this._dom&&n.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,n){this.remove(t,n)},e.getDefaultOption=function(t){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:We.color.background,textColor:We.color.primary,textareaColor:We.color.background,textareaBorderColor:We.color.border,buttonColor:We.color.accent50,buttonTextColor:We.color.neutral00};return n},e})(Yc);function mKe(r,e){return ft(r,function(t,n){var a=e&&e[n];if(nr(a)&&!ct(a)){var i=nr(t)&&!ct(t);i||(t={value:t});var s=a.name!=null&&t.name==null;return t=rr(t,a),s&&delete t.name,t}else return t})}uf({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,e){var t=[];te(r.newOption.series,function(n){var a=e.getSeriesByName(n.name)[0];if(!a)t.push(nt({type:"scatter"},n));else{var i=a.get("data");t.push({name:n.name,data:mKe(n.data,i)})}}),e.mergeOption(rr({series:t},r.newOption))});var Tfe=te,Afe=Pr();function yKe(r,e){var t=S9(r);Tfe(e,function(n,a){for(var i=t.length-1;i>=0;i--){var s=t[i];if(s[a])break}if(i<0){var o=r.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(o){var l=o.getPercentRange();t[0][a]={dataZoomId:a,start:l[0],end:l[1]}}}}),t.push(e)}function xKe(r){var e=S9(r),t=e[e.length-1];e.length>1&&e.pop();var n={};return Tfe(t,function(a,i){for(var s=e.length-1;s>=0;s--)if(a=e[s][i],a){n[i]=a;break}}),n}function _Ke(r){Afe(r).snapshots=null}function bKe(r){return S9(r).length}function S9(r){var e=Afe(r);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var SKe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onclick=function(t,n){_Ke(t),n.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return n},e})(Yc);uf({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,e){e.resetOption("recreate")});var wKe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],w9=(function(){function r(e,t,n){var a=this;this._targetInfoList=[];var i=B$(t,e);te(TKe,function(s,o){(!n||!n.include||br(n.include,o)>=0)&&s(i,a._targetInfoList)})}return r.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(n,a,i){if((n.coordRanges||(n.coordRanges=[])).push(a),!n.coordRange){n.coordRange=a;var s=q5[n.brushType](0,i,a);n.__rangeOffset={offset:V$[n.brushType](s.values,n.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},r.prototype.matchOutputRanges=function(e,t,n){te(e,function(a){var i=this.findTargetInfo(a,t);i&&i!==!0&&te(i.coordSyses,function(s){var o=q5[a.brushType](1,s,a.range,!0);n(a,o.values,s,t)})},this)},r.prototype.setInputRanges=function(e,t){te(e,function(n){var a=this.findTargetInfo(n,t);if(n.range=n.range||[],a&&a!==!0){n.panelId=a.panelId;var i=q5[n.brushType](0,a.coordSys,n.coordRange),s=n.__rangeOffset;n.range=s?V$[n.brushType](i.values,s.offset,AKe(i.xyMinMax,s.xyMinMax)):i.values}},this)},r.prototype.makePanelOpts=function(e,t){return ft(this._targetInfoList,function(n){var a=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:Rue(a),isTargetByCursor:Iue(a,e,n.coordSysModel),getLinearBrushOtherExtent:Nue(a)}})},r.prototype.controlSeries=function(e,t,n){var a=this.findTargetInfo(e,n);return a===!0||a&&br(a.coordSyses,t.coordinateSystem)>=0},r.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,a=B$(t,e),i=0;i<n.length;i++){var s=n[i],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<z$.length;l++)if(z$[l](a,s))return s}return!0},r})();function r8(r){return r[0]>r[1]&&r.reverse(),r}function B$(r,e){return r_(r,e,{includeMainTypes:wKe})}var TKe={grid:function(r,e){var t=r.xAxisModels,n=r.yAxisModels,a=r.gridModels,i=Ht(),s={},o={};!t&&!n&&!a||(te(t,function(l){var c=l.axis.grid.model;i.set(c.id,c),s[c.id]=!0}),te(n,function(l){var c=l.axis.grid.model;i.set(c.id,c),o[c.id]=!0}),te(a,function(l){i.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),i.each(function(l){var c=l.coordinateSystem,u=[];te(c.getCartesians(),function(f,h){(br(t,f.getAxis("x").model)>=0||br(n,f.getAxis("y").model)>=0)&&u.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:u[0],coordSyses:u,getPanelRect:F$.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(r,e){te(r.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:F$.geo})})}},z$=[function(r,e){var t=r.xAxisModel,n=r.yAxisModel,a=r.gridModel;return!a&&t&&(a=t.axis.grid.model),!a&&n&&(a=n.axis.grid.model),a&&a===e.gridModel},function(r,e){var t=r.geoModel;return t&&t===e.geoModel}],F$={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,e=r.getBoundingRect().clone();return e.applyTransform(j0(r)),e}},q5={lineX:yr(U$,0),lineY:yr(U$,1),rect:function(r,e,t,n){var a=r?e.pointToData([t[0][0],t[1][0]],n):e.dataToPoint([t[0][0],t[1][0]],n),i=r?e.pointToData([t[0][1],t[1][1]],n):e.dataToPoint([t[0][1],t[1][1]],n),s=[r8([a[0],i[0]]),r8([a[1],i[1]])];return{values:s,xyMinMax:s}},polygon:function(r,e,t,n){var a=[[1/0,-1/0],[1/0,-1/0]],i=ft(t,function(s){var o=r?e.pointToData(s,n):e.dataToPoint(s,n);return a[0][0]=Math.min(a[0][0],o[0]),a[1][0]=Math.min(a[1][0],o[1]),a[0][1]=Math.max(a[0][1],o[0]),a[1][1]=Math.max(a[1][1],o[1]),o});return{values:i,xyMinMax:a}}};function U$(r,e,t,n){var a=t.getAxis(["x","y"][r]),i=r8(ft([0,1],function(o){return e?a.coordToData(a.toLocalCoord(n[o]),!0):a.toGlobalCoord(a.dataToCoord(n[o]))})),s=[];return s[r]=i,s[1-r]=[NaN,NaN],{values:i,xyMinMax:s}}var V$={lineX:yr(H$,0),lineY:yr(H$,1),rect:function(r,e,t){return[[r[0][0]-t[0]*e[0][0],r[0][1]-t[0]*e[0][1]],[r[1][0]-t[1]*e[1][0],r[1][1]-t[1]*e[1][1]]]},polygon:function(r,e,t){return ft(r,function(n,a){return[n[0]-t[0]*e[a][0],n[1]-t[1]*e[a][1]]})}};function H$(r,e,t,n){return[e[0]-n[r]*t[0],e[1]-n[r]*t[1]]}function AKe(r,e){var t=G$(r),n=G$(e),a=[t[0]/n[0],t[1]/n[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function G$(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var n8=te,EKe=oPe("toolbox-dataZoom_"),MKe=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,a,i){this._brushController||(this._brushController=new qU(a.getZr()),this._brushController.on("brush",Ot(this._onBrush,this)).mount()),RKe(t,n,this,i,a),DKe(t,n)},e.prototype.onclick=function(t,n,a){CKe[a].call(this)},e.prototype.remove=function(t,n){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,n){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var n=t.areas;if(!t.isEnd||!n.length)return;var a={},i=this.ecModel;this._brushController.updateCovers([]);var s=new w9(T9(this.model),i,{include:["grid"]});s.matchOutputRanges(n,i,function(c,u,f){if(f.type==="cartesian2d"){var h=c.brushType;h==="rect"?(o("x",f,u[0]),o("y",f,u[1])):o({lineX:"x",lineY:"y"}[h],f,u)}}),yKe(i,a),this._dispatchZoomAction(a);function o(c,u,f){var h=u.getAxis(c),d=h.model,v=l(c,d,i),g=v.findRepresentativeAxisProxy(d).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(f=iv(0,f.slice(),h.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),v&&(a[v.id]={dataZoomId:v.id,startValue:f[0],endValue:f[1]})}function l(c,u,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var v=d.getAxisModel(c,u.componentIndex);v&&(h=d)}),h}},e.prototype._dispatchZoomAction=function(t){var n=[];n8(t,function(a,i){n.push(Qt(a))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},e.getDefaultOption=function(t){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:We.color.backgroundTint}};return n},e})(Yc),CKe={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(xKe(this.ecModel))}};function T9(r){var e={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function DKe(r,e){r.setIconStatus("back",bKe(e)>1?"emphasis":"normal")}function RKe(r,e,t,n,a){var i=t._isZoomActive;n&&n.type==="takeGlobalCursor"&&(i=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),t._isZoomActive=i,r.setIconStatus("zoom",i?"emphasis":"normal");var s=new w9(T9(r),e,{include:["grid"]}),o=s.makePanelOpts(a,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(o).enableBrush(i&&o.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}HBe("dataZoom",function(r){var e=r.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var n=e.getModel(t),a=[],i=T9(n),s=r_(r,i);n8(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),n8(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,c,u){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:EKe+c+f};h[u]=f,a.push(h)}return a});function NKe(r){r.registerComponentModel(rKe),r.registerComponentView(nKe),k1("saveAsImage",iKe),k1("magicType",oKe),k1("dataView",gKe),k1("dataZoom",MKe),k1("restore",SKe),Mr(tKe)}var IKe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:We.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:We.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:We.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:We.color.tertiary,fontSize:14}},e})(kr);function Efe(r){var e=r.get("confine");return e!=null?!!e:r.get("renderMode")==="richText"}function Mfe(r){if(jr.domSupported){for(var e=document.documentElement.style,t=0,n=r.length;t<n;t++)if(r[t]in e)return r[t]}}var Cfe=Mfe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),LKe=Mfe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Dfe(r,e){if(!r)return e;e=WF(e,!0);var t=r.indexOf(e);return r=t===-1?e:"-"+r.slice(0,t)+"-"+e,r.toLowerCase()}function OKe(r,e){var t=r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(r);return t?t[e]:null}var kKe=Dfe(LKe,"transition"),A9=Dfe(Cfe,"transform"),PKe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(jr.transform3dSupported?"will-change:transform;":"");function BKe(r){return r=r==="left"?"right":r==="right"?"left":r==="top"?"bottom":"top",r}function zKe(r,e,t){if(!It(t)||t==="inside")return"";var n=r.get("backgroundColor"),a=r.get("borderWidth");e=Jm(e);var i=BKe(t),s=Math.max(Math.round(a)*1.5,6),o="",l=A9+":",c;br(["left","right"],i)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(c=i==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(c=i==="top"?225:45)+"deg)");var u=c*Math.PI/180,f=s+a,h=f*Math.abs(Math.cos(u))+f*Math.abs(Math.sin(u)),d=Math.round(((h-Math.SQRT2*a)/2+Math.SQRT2*a-(h-f)/2)*100)/100;o+=";"+i+":-"+d+"px";var v=e+" solid "+a+"px;",g=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+g.join("")+'"></div>'}function FKe(r,e,t){var n="cubic-bezier(0.23,1,0.32,1)",a="",i="";return t&&(a=" "+r/2+"s "+n,i="opacity"+a+",visibility"+a),e||(a=" "+r+"s "+n,i+=(i.length?",":"")+(jr.transformSupported?""+A9+a:",left"+a+",top"+a)),kKe+":"+i}function j$(r,e,t){var n=r.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!jr.transformSupported)return t?"top:"+a+";left:"+n+";":[["top",a],["left",n]];var i=jr.transform3dSupported,s="translate"+(i?"3d":"")+"("+n+","+a+(i?",0":"")+")";return t?"top:0;left:0;"+A9+":"+s+";":[["top",0],["left",0],[Cfe,s]]}function UKe(r){var e=[],t=r.get("fontSize"),n=r.getTextColor();n&&e.push("color:"+n),e.push("font:"+r.getFont());var a=Gt(r.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+a+"px");var i=r.get("textShadowColor"),s=r.get("textShadowBlur")||0,o=r.get("textShadowOffsetX")||0,l=r.get("textShadowOffsetY")||0;return i&&s&&e.push("text-shadow:"+o+"px "+l+"px "+s+"px "+i),te(["decoration","align"],function(c){var u=r.get(c);u&&e.push("text-"+c+":"+u)}),e.join(";")}function VKe(r,e,t,n){var a=[],i=r.get("transitionDuration"),s=r.get("backgroundColor"),o=r.get("shadowBlur"),l=r.get("shadowColor"),c=r.get("shadowOffsetX"),u=r.get("shadowOffsetY"),f=r.getModel("textStyle"),h=moe(r,"html"),d=c+"px "+u+"px "+o+"px "+l;return a.push("box-shadow:"+d),e&&i>0&&a.push(FKe(i,t,n)),s&&a.push("background-color:"+s),te(["width","color","radius"],function(v){var g="border-"+v,m=WF(g),y=r.get(m);y!=null&&a.push(g+":"+y+(v==="color"?"":"px"))}),a.push(UKe(f)),h!=null&&a.push("padding:"+ub(h).join("px ")+"px"),a.join(";")+";"}function W$(r,e,t,n,a){var i=e&&e.painter;if(t){var s=i&&i.getViewportRoot();s&&Eke(r,s,t,n,a)}else{r[0]=n,r[1]=a;var o=i&&i.getViewportRootOffset();o&&(r[0]+=o.offsetLeft,r[1]+=o.offsetTop)}r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var HKe=(function(){function r(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,jr.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var a=this._zr=e.getZr(),i=t.appendTo,s=i&&(It(i)?document.querySelector(i):Wm(i)?i:Yt(i)&&i(e.getDom()));W$(this._styleCoord,a,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(n),this._api=e,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var c=a.handler,u=a.painter.getViewportRoot();Uc(u,l,!0),c.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return r.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),n=OKe(t,"position"),a=t.style;a.position!=="absolute"&&n!=="absolute"&&(a.position="relative")}var i=e.get("alwaysShowContent");i&&this._moveIfResized(),this._alwaysShowContent=i,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},r.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,a=n.style,i=this._styleCoord;n.innerHTML?a.cssText=PKe+VKe(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+j$(i[0],i[1],!0)+("border-color:"+Jm(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},r.prototype.setContent=function(e,t,n,a,i){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(It(i)&&n.get("trigger")==="item"&&!Efe(n)&&(o=zKe(n,a,i)),It(e))s.innerHTML=e+o;else if(e){s.innerHTML="",ct(e)||(e=[e]);for(var l=0;l<e.length;l++)Wm(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var c=document.createElement("div");c.innerHTML=o,s.appendChild(c)}}},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},r.prototype.moveTo=function(e,t){if(this.el){var n=this._styleCoord;if(W$(n,this._zr,this._container,e,t),n[0]!=null&&n[1]!=null){var a=this.el.style,i=j$(n[0],n[1]);te(i,function(s){a[s[0]]=s[1]})}}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",jr.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ot(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;Mke(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var n=t.parentNode;n&&n.removeChild(t)}this.el=this._container=null},r})(),GKe=(function(){function r(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),X$(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return r.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},r.prototype.setContent=function(e,t,n,a,i){var s=this;nr(e)&&mn(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new Kr({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:moe(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),te(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){s.el.style[c]=n.get(c)}),te(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){s.el.style[c]=o.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},r.prototype.setEnterable=function(e){this._enterable=e},r.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),n=Y$(e.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},r.prototype.moveTo=function(e,t){var n=this.el;if(n){var a=this._styleCoord;X$(a,this._zr,e,t),e=a[0],t=a[1];var i=n.style,s=m0(i.borderWidth||0),o=Y$(i);n.x=e+s+o.left,n.y=t+s+o.top,n.markRedraw()}},r.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},r.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ot(this.hide,this),e)):this.hide())},r.prototype.isShow=function(){return this._show},r.prototype.dispose=function(){this._zr.remove(this.el)},r})();function m0(r){return Math.max(0,r)}function Y$(r){var e=m0(r.shadowBlur||0),t=m0(r.shadowOffsetX||0),n=m0(r.shadowOffsetY||0);return{left:m0(e-t),right:m0(e+t),top:m0(e-n),bottom:m0(e+n)}}function X$(r,e,t,n){r[0]=t,r[1]=n,r[2]=r[0]/e.getWidth(),r[3]=r[1]/e.getHeight()}var jKe=new Nr({shape:{x:-1,y:-1,width:2,height:2}}),WKe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){if(!(jr.node||!n.getDom())){var a=t.getComponent("tooltip"),i=this._renderMode=pPe(a.get("renderMode"));this._tooltipContent=i==="richText"?new GKe(n):new HKe(n,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},e.prototype.render=function(t,n,a){if(!(jr.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=a;var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?db(this,"_updatePosition",50,"fixRate"):GT(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,n=t.get("triggerOn");ufe("itemTooltip",this._api,Ot(function(a,i,s){n!=="none"&&(n.indexOf(a)>=0?this._tryShow(i,s):a==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,a=this._api,i=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&i!=="none"&&i!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&s.manuallyShowTip(t,n,a,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,n,a,i){if(!(i.from===this.uid||jr.node||!a.getDom())){var s=q$(i,a);this._ticket="";var o=i.dataByCoordSys,l=ZKe(i,n,a);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:i.position,positionDefault:"bottom"},s)}else if(i.tooltip&&i.x!=null&&i.y!=null){var u=jKe;u.x=i.x,u.y=i.y,u.update(),or(u).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:u},s)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:o,tooltipOption:i.tooltipOption},s);else if(i.seriesIndex!=null){if(this._manuallyAxisShowTip(t,n,a,i))return;var f=ffe(i,n),h=f.point[0],d=f.point[1];h!=null&&d!=null&&this._tryShow({offsetX:h,offsetY:d,target:f.el,position:i.position,positionDefault:"bottom"},s)}else i.x!=null&&i.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},s))}},e.prototype.manuallyHideTip=function(t,n,a,i){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(q$(i,a))},e.prototype._manuallyAxisShowTip=function(t,n,a,i){var s=i.seriesIndex,o=i.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var c=n.getSeriesByIndex(s);if(c){var u=c.getData(),f=B2([u.getItemModel(o),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:i.position}),!0}}},e.prototype._tryShow=function(t,n){var a=t.target,i=this._tooltipModel;if(i){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(a){var o=or(a);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,c;bm(a,function(u){if(u.tooltipDisabled)return l=c=null,!0;l||c||(or(u).dataIndex!=null?l=u:or(u).tooltipConfig!=null&&(c=u))},!0),l?this._showSeriesItemTooltip(t,l,n):c?this._showComponentItemTooltip(t,c,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},e.prototype._showOrMove=function(t,n){var a=t.get("showDelay");n=Ot(n,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(n,a):n()},e.prototype._showAxisTooltip=function(t,n){var a=this._ecModel,i=this._tooltipModel,s=[n.offsetX,n.offsetY],o=B2([n.tooltipOption],i),l=this._renderMode,c=[],u=Si("section",{blocks:[],noHeader:!0}),f=[],h=new Dk;te(t,function(b){te(b.dataByAxis,function(S){var A=a.getComponent(S.axisDim+"Axis",S.axisIndex),E=S.value;if(!(!A||E==null)){var M=ofe(E,A.axis,a,S.seriesDataIndices,S.valueLabelOpt),R=Si("section",{header:M,noHeader:!Jl(M),sortBlocks:!0,blocks:[]});u.blocks.push(R),te(S.seriesDataIndices,function(L){var I=a.getSeriesByIndex(L.seriesIndex),O=L.dataIndexInside,P=I.getDataParams(O);if(!(P.dataIndex<0)){P.axisDim=S.axisDim,P.axisIndex=S.axisIndex,P.axisType=S.axisType,P.axisId=S.axisId,P.axisValue=uN(A.axis,{value:E}),P.axisValueLabel=M,P.marker=h.makeTooltipMarker("item",Jm(P.color),l);var k=uX(I.formatTooltip(O,!0,null)),U=k.frag;if(U){var F=B2([I],i).get("valueFormatter");R.blocks.push(F?nt({valueFormatter:F},U):U)}k.text&&f.push(k.text),c.push(P)}})}})}),u.blocks.reverse(),f.reverse();var d=n.position,v=o.get("order"),g=gX(u,h,l,v,a.get("useUTC"),o.get("textStyle"));g&&f.unshift(g);var m=l==="richText"?`

`:"<br/>",y=f.join(m);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(o,d,s[0],s[1],this._tooltipContent,c):this._showTooltipContent(o,y,c,Math.random()+"",s[0],s[1],d,null,h)})},e.prototype._showSeriesItemTooltip=function(t,n,a){var i=this._ecModel,s=or(n),o=s.seriesIndex,l=i.getSeriesByIndex(o),c=s.dataModel||l,u=s.dataIndex,f=s.dataType,h=c.getData(f),d=this._renderMode,v=t.positionDefault,g=B2([h.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),m=g.get("trigger");if(!(m!=null&&m!=="item")){var y=c.getDataParams(u,f),b=new Dk;y.marker=b.makeTooltipMarker("item",Jm(y.color),d);var S=uX(c.formatTooltip(u,!1,f)),A=g.get("order"),E=g.get("valueFormatter"),M=S.frag,R=M?gX(E?nt({valueFormatter:E},M):M,b,d,A,i.get("useUTC"),g.get("textStyle")):S.text,L="item_"+c.name+"_"+u;this._showOrMove(g,function(){this._showTooltipContent(g,R,y,L,t.offsetX,t.offsetY,t.position,t.target,b)}),a({type:"showTip",dataIndexInside:u,dataIndex:h.getRawIndex(u),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,n,a){var i=this._renderMode==="html",s=or(n),o=s.tooltipConfig,l=o.option||{},c=l.encodeHTMLContent;if(It(l)){var u=l;l={content:u,formatter:u},c=!0}c&&i&&l.content&&(l=Qt(l),l.content=ho(l.content));var f=[l],h=this._ecModel.getComponent(s.componentMainType,s.componentIndex);h&&f.push(h),f.push({formatter:l.content});var d=t.positionDefault,v=B2(f,this._tooltipModel,d?{position:d}:null),g=v.get("content"),m=Math.random()+"",y=new Dk;this._showOrMove(v,function(){var b=Qt(v.get("formatterParams")||{});this._showTooltipContent(v,g,b,m,t.offsetX,t.offsetY,t.position,n,y)}),a({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,n,a,i,s,o,l,c,u){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var d=n,v=this._getNearestPoint([s,o],a,t.get("trigger"),t.get("borderColor"),t.get("defaultBorderColor",!0)),g=v.color;if(h)if(It(h)){var m=t.ecModel.get("useUTC"),y=ct(a)?a[0]:a,b=y&&y.axisType&&y.axisType.indexOf("time")>=0;d=h,b&&(d=GA(y.axisValue,d,m)),d=YF(d,a,!0)}else if(Yt(h)){var S=Ot(function(A,E){A===this._ticket&&(f.setContent(E,u,t,g,l),this._updatePosition(t,l,s,o,f,a,c))},this);this._ticket=i,d=h(a,i,S)}else d=h;f.setContent(d,u,t,g,l),f.show(t,g),this._updatePosition(t,l,s,o,f,a,c)}},e.prototype._getNearestPoint=function(t,n,a,i,s){if(a==="axis"||ct(n))return{color:i||s};if(!ct(n))return{color:i||n.color||n.borderColor}},e.prototype._updatePosition=function(t,n,a,i,s,o,l){var c=this._api.getWidth(),u=this._api.getHeight();n=n||t.get("position");var f=s.getSize(),h=t.get("align"),d=t.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),Yt(n)&&(n=n([a,i],o,s.el,v,{viewSize:[c,u],contentSize:f.slice()})),ct(n))a=Nt(n[0],c),i=Nt(n[1],u);else if(nr(n)){var g=n;g.width=f[0],g.height=f[1];var m=ma(g,{width:c,height:u});a=m.x,i=m.y,h=null,d=null}else if(It(n)&&l){var y=qKe(n,v,f,t.get("borderWidth"));a=y[0],i=y[1]}else{var y=YKe(a,i,s,c,u,h?null:20,d?null:20);a=y[0],i=y[1]}if(h&&(a-=Z$(h)?f[0]/2:h==="right"?f[0]:0),d&&(i-=Z$(d)?f[1]/2:d==="bottom"?f[1]:0),Efe(t)){var y=XKe(a,i,s,c,u);a=y[0],i=y[1]}s.moveTo(a,i)},e.prototype._updateContentNotChangedOnAxis=function(t,n){var a=this._lastDataByCoordSys,i=this._cbParamsList,s=!!a&&a.length===t.length;return s&&te(a,function(o,l){var c=o.dataByAxis||[],u=t[l]||{},f=u.dataByAxis||[];s=s&&c.length===f.length,s&&te(c,function(h,d){var v=f[d]||{},g=h.seriesDataIndices||[],m=v.seriesDataIndices||[];s=s&&h.value===v.value&&h.axisType===v.axisType&&h.axisId===v.axisId&&g.length===m.length,s&&te(g,function(y,b){var S=m[b];s=s&&y.seriesIndex===S.seriesIndex&&y.dataIndex===S.dataIndex}),i&&te(h.seriesDataIndices,function(y){var b=y.seriesIndex,S=n[b],A=i[b];S&&A&&A.data!==S.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,n){jr.node||!n.getDom()||(GT(this,"_updatePosition"),this._tooltipContent.dispose(),ZB("itemTooltip",n))},e.type="tooltip",e})(Jn);function B2(r,e,t){var n=e.ecModel,a;t?(a=new zr(t,n,n),a=new zr(e.option,a,n)):a=e;for(var i=r.length-1;i>=0;i--){var s=r[i];s&&(s instanceof zr&&(s=s.get("tooltip",!0)),It(s)&&(s={formatter:s}),s&&(a=new zr(s,a,n)))}return a}function q$(r,e){return r.dispatchAction||Ot(e.dispatchAction,e)}function YKe(r,e,t,n,a,i,s){var o=t.getSize(),l=o[0],c=o[1];return i!=null&&(r+l+i+2>n?r-=l+i:r+=i),s!=null&&(e+c+s>a?e-=c+s:e+=s),[r,e]}function XKe(r,e,t,n,a){var i=t.getSize(),s=i[0],o=i[1];return r=Math.min(r+s,n)-s,e=Math.min(e+o,a)-o,r=Math.max(r,0),e=Math.max(e,0),[r,e]}function qKe(r,e,t,n){var a=t[0],i=t[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,c=e.width,u=e.height;switch(r){case"inside":o=e.x+c/2-a/2,l=e.y+u/2-i/2;break;case"top":o=e.x+c/2-a/2,l=e.y-i-s;break;case"bottom":o=e.x+c/2-a/2,l=e.y+u+s;break;case"left":o=e.x-a-s,l=e.y+u/2-i/2;break;case"right":o=e.x+c+s,l=e.y+u/2-i/2}return[o,l]}function Z$(r){return r==="center"||r==="middle"}function ZKe(r,e,t){var n=pF(r).queryOptionMap,a=n.keys()[0];if(!(!a||a==="series")){var i=rb(e,a,n.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),s=i.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(c){var u=or(c).tooltipConfig;if(u&&u.name===r.name)return l=c,!0}),l)return{componentMainType:a,componentIndex:s.componentIndex,el:l}}}}function KKe(r){Mr(JA),r.registerComponentModel(IKe),r.registerComponentView(WKe),r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Wa),r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Wa)}var $Ke=["rect","polygon","keep","clear"];function JKe(r,e){var t=$n(r?r.brush:[]);if(t.length){var n=[];te(t,function(l){var c=l.hasOwnProperty("toolbox")?l.toolbox:[];c instanceof Array&&(n=n.concat(c))});var a=r&&r.toolbox;ct(a)&&(a=a[0]),a||(a={feature:{}},r.toolbox=[a]);var i=a.feature||(a.feature={}),s=i.brush||(i.brush={}),o=s.type||(s.type=[]);o.push.apply(o,n),QKe(o),e&&!o.length&&o.push.apply(o,$Ke)}}function QKe(r){var e={};te(r,function(t){e[t]=1}),r.length=0,te(e,function(t,n){r.push(n)})}var K$=te;function $$(r){if(r){for(var e in r)if(r.hasOwnProperty(e))return!0}}function a8(r,e,t){var n={};return K$(e,function(i){var s=n[i]=a();K$(r[i],function(o,l){if(Ji.isValidType(l)){var c={type:l,visual:o};t&&t(c,i),s[l]=new Ji(c),l==="opacity"&&(c=Qt(c),c.type="colorAlpha",s.__hidden.__alphaForOpacity=new Ji(c))}})}),n;function a(){var i=function(){};i.prototype.__hidden=i.prototype;var s=new i;return s}}function Rfe(r,e,t){var n;te(t,function(a){e.hasOwnProperty(a)&&$$(e[a])&&(n=!0)}),n&&te(t,function(a){e.hasOwnProperty(a)&&$$(e[a])?r[a]=Qt(e[a]):delete r[a]})}function e$e(r,e,t,n,a,i){var s={};te(r,function(f){var h=Ji.prepareVisualTypes(e[f]);s[f]=h});var o;function l(f){return rU(t,o,f)}function c(f,h){Moe(t,o,f,h)}t.each(u);function u(f,h){o=f;var d=t.getRawDataItem(o);if(!(d&&d.visualMap===!1))for(var v=n.call(a,f),g=e[v],m=s[v],y=0,b=m.length;y<b;y++){var S=m[y];g[S]&&g[S].applyVisual(f,l,c)}}}function t$e(r,e,t,n){var a={};return te(r,function(i){var s=Ji.prepareVisualTypes(e[i]);a[i]=s}),{progress:function(s,o){var l;n!=null&&(l=o.getDimensionIndex(n));function c(E){return rU(o,f,E)}function u(E,M){Moe(o,f,E,M)}for(var f,h=o.getStore();(f=s.next())!=null;){var d=o.getRawDataItem(f);if(!(d&&d.visualMap===!1))for(var v=n!=null?h.get(l,f):f,g=t(v),m=e[g],y=a[g],b=0,S=y.length;b<S;b++){var A=y[b];m[A]&&m[A].applyVisual(v,c,u)}}}}}function r$e(r){var e=r.brushType,t={point:function(n){return J$[e].point(n,t,r)},rect:function(n){return J$[e].rect(n,t,r)}};return t}var J$={lineX:Q$(0),lineY:Q$(1),rect:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])},rect:function(r,e,t){return r&&t.boundingRect.intersect(r)}},polygon:{point:function(r,e,t){return r&&t.boundingRect.contain(r[0],r[1])&&cm(t.range,r[0],r[1])},rect:function(r,e,t){var n=t.range;if(!r||n.length<=1)return!1;var a=r.x,i=r.y,s=r.width,o=r.height,l=n[0];if(cm(n,a,i)||cm(n,a+s,i)||cm(n,a,i+o)||cm(n,a+s,i+o)||sr.create(r).contain(l[0],l[1])||rw(a,i,a+s,i,n)||rw(a,i,a,i+o,n)||rw(a+s,i,a+s,i+o,n)||rw(a,i+o,a+s,i+o,n))return!0}}};function Q$(r){var e=["x","y"],t=["width","height"];return{point:function(n,a,i){if(n){var s=i.range,o=n[r];return z2(o,s)}},rect:function(n,a,i){if(n){var s=i.range,o=[n[e[r]],n[e[r]]+n[t[r]]];return o[1]<o[0]&&o.reverse(),z2(o[0],s)||z2(o[1],s)||z2(s[0],o)||z2(s[1],o)}}}}function z2(r,e){return e[0]<=r&&r<=e[1]}var eJ=["inBrush","outOfBrush"],Z5="__ecBrushSelect",i8="__ecInBrushSelectEvent";function Nfe(r){r.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new w9(e.option,r);t.setInputRanges(e.areas,r)})}function n$e(r,e,t){var n=[],a,i;r.eachComponent({mainType:"brush"},function(s){t&&t.type==="takeGlobalCursor"&&s.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),Nfe(r),r.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:Qt(s.areas),selected:[]};n.push(l);var c=s.option,u=c.brushLink,f=[],h=[],d=[],v=!1;o||(a=c.throttleType,i=c.throttleDelay);var g=ft(s.areas,function(E){var M=o$e[E.brushType],R=rr({boundingRect:M?M(E):void 0},E);return R.selectors=r$e(R),R}),m=a8(s.option,eJ,function(E){E.mappingMethod="fixed"});ct(u)&&te(u,function(E){f[E]=1});function y(E){return u==="all"||!!f[E]}function b(E){return!!E.length}r.eachSeries(function(E,M){var R=d[M]=[];E.subType==="parallel"?S(E,M):A(E,M,R)});function S(E,M){var R=E.coordinateSystem;v=v||R.hasAxisBrushed(),y(M)&&R.eachActiveState(E.getData(),function(L,I){L==="active"&&(h[I]=1)})}function A(E,M,R){if(!(!E.brushSelector||s$e(s,M))&&(te(g,function(I){s.brushTargetManager.controlSeries(I,E,r)&&R.push(I),v=v||b(R)}),y(M)&&b(R))){var L=E.getData();L.each(function(I){tJ(E,R,L,I)&&(h[I]=1)})}}r.eachSeries(function(E,M){var R={seriesId:E.id,seriesIndex:M,seriesName:E.name,dataIndex:[]};l.selected.push(R);var L=d[M],I=E.getData(),O=y(M)?function(P){return h[P]?(R.dataIndex.push(I.getRawIndex(P)),"inBrush"):"outOfBrush"}:function(P){return tJ(E,L,I,P)?(R.dataIndex.push(I.getRawIndex(P)),"inBrush"):"outOfBrush"};(y(M)?v:b(L))&&e$e(eJ,m,I,O)})}),a$e(e,a,i,n,t)}function a$e(r,e,t,n,a){if(a){var i=r.getZr();if(!i[i8]){i[Z5]||(i[Z5]=i$e);var s=db(i,Z5,t,e);s(r,n)}}}function i$e(r,e){if(!r.isDisposed()){var t=r.getZr();t[i8]=!0,r.dispatchAction({type:"brushSelect",batch:e}),t[i8]=!1}}function tJ(r,e,t,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];if(r.brushSelector(n,t,s.selectors,s))return!0}}function s$e(r,e){var t=r.option.seriesIndex;return t!=null&&t!=="all"&&(ct(t)?br(t,e)<0:e!==t)}var o$e={rect:function(r){return rJ(r.range)},polygon:function(r){for(var e,t=r.range,n=0,a=t.length;n<a;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var i=t[n];i[0]<e[0][0]&&(e[0][0]=i[0]),i[0]>e[0][1]&&(e[0][1]=i[0]),i[1]<e[1][0]&&(e[1][0]=i[1]),i[1]>e[1][1]&&(e[1][1]=i[1])}return e&&rJ(e)}};function rJ(r){return new sr(r[0][0],r[1][0],r[0][1]-r[0][0],r[1][1]-r[1][0])}var l$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n,this.model,(this._brushController=new qU(n.getZr())).on("brush",Ot(this._onBrush,this)).mount()},e.prototype.render=function(t,n,a,i){this.model=t,this._updateController(t,n,a,i)},e.prototype.updateTransform=function(t,n,a,i){Nfe(n),this._updateController(t,n,a,i)},e.prototype.updateVisual=function(t,n,a,i){this.updateTransform(t,n,a,i)},e.prototype.updateView=function(t,n,a,i){this._updateController(t,n,a,i)},e.prototype._updateController=function(t,n,a,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(a)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var n=this.model.id,a=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Qt(a),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Qt(a),$from:n})},e.type="brush",e})(Jn),c$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,n){var a=this.option;!n&&Rfe(a,t,["inBrush","outOfBrush"]);var i=a.inBrush=a.inBrush||{};a.outOfBrush=a.outOfBrush||{color:this.option.defaultOutOfBrushColor},i.hasOwnProperty("liftZ")||(i.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=ft(t,function(n){return nJ(this.option,n)},this))},e.prototype.setBrushOption=function(t){this.brushOption=nJ(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:We.color.backgroundTint,borderColor:We.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:We.color.disabled},e})(kr);function nJ(r,e){return Sr({brushType:r.brushType,brushMode:r.brushMode,transformable:r.transformable,brushStyle:new zr(r.brushStyle).getItemStyle(),removeOnClick:r.removeOnClick,z:r.z},e,!0)}var u$e=["rect","polygon","lineX","lineY","keep","clear"],f$e=(function(r){Ye(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.render=function(t,n,a){var i,s,o;n.eachComponent({mainType:"brush"},function(l){i=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=i,this._brushMode=s,te(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===i)?"emphasis":"normal")})},e.prototype.updateView=function(t,n,a){this.render(t,n,a)},e.prototype.getIcons=function(){var t=this.model,n=t.get("icon",!0),a={};return te(t.get("type",!0),function(i){n[i]&&(a[i]=n[i])}),a},e.prototype.onclick=function(t,n,a){var i=this._brushType,s=this._brushMode;a==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:a==="keep"?i:i===a?!1:a,brushMode:a==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(t){var n={show:!0,type:u$e.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return n},e})(Yc);function h$e(r){r.registerComponentView(l$e),r.registerComponentModel(c$e),r.registerPreprocessor(JKe),r.registerVisual(r.PRIORITY.VISUAL.BRUSH,n$e),r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(n){n.setAreas(e.areas)})}),r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Wa),r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Wa),k1("brush",f$e)}var d$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:We.size.m,backgroundColor:We.color.transparent,borderColor:We.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:We.color.primary},subtextStyle:{fontSize:12,color:We.color.quaternary}},e})(kr),p$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){if(this.group.removeAll(),!!t.get("show")){var i=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),c=Gt(t.get("textBaseline"),t.get("textVerticalAlign")),u=new Kr({style:Kn(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),f=u.getBoundingRect(),h=t.get("subtext"),d=new Kr({style:Kn(o,{text:h,fill:o.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=t.get("link"),g=t.get("sublink"),m=t.get("triggerEvent",!0);u.silent=!v&&!m,d.silent=!g&&!m,v&&u.on("click",function(){QR(v,"_"+t.get("target"))}),g&&d.on("click",function(){QR(g,"_"+t.get("subtarget"))}),or(u).eventData=or(d).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(u),h&&i.add(d);var y=i.getBoundingRect(),b=t.getBoxLayoutParams();b.width=y.width,b.height=y.height;var S=Pi(t,a),A=ma(b,S.refContainer,t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?A.x+=A.width:l==="center"&&(A.x+=A.width/2)),c||(c=t.get("top")||t.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?A.y+=A.height:c==="middle"&&(A.y+=A.height/2),c=c||"top"),i.x=A.x,i.y=A.y,i.markRedraw();var E={align:l,verticalAlign:c};u.setStyle(E),d.setStyle(E),y=i.getBoundingRect();var M=A.margin,R=t.getItemStyle(["color","opacity"]);R.fill=t.get("backgroundColor");var L=new Nr({shape:{x:y.x-M[3],y:y.y-M[0],width:y.width+M[1]+M[3],height:y.height+M[0]+M[2],r:t.get("borderRadius")},style:R,subPixelOptimize:!0,silent:!0});i.add(L)}},e.type="title",e})(Jn);function v$e(r){r.registerComponentModel(d$e),r.registerComponentView(p$e)}var aJ=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,n,a){this.mergeDefaultAndTheme(t,a),this._initData()},e.prototype.mergeOption=function(t){r.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var n=this._data.count();this.option.loop?t=(t%n+n)%n:(t>=n&&(t=n-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,n=t.data||[],a=t.axisType,i=this._names=[],s;a==="category"?(s=[],te(n,function(c,u){var f=Li(tb(c),""),h;nr(c)?(h=Qt(c),h.value=u):h=u,s.push(h),i.push(f)})):s=n;var o={category:"ordinal",time:"time",value:"number"}[a]||"number",l=this._data=new bo([{name:"value",type:o}],this);l.initData(s,i)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:We.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:We.color.secondary},data:[]},e})(kr),Ife=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=gv(aJ.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:We.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:We.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:We.color.tertiary},itemStyle:{color:We.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:We.color.accent50,borderColor:We.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:We.color.accent50,borderColor:We.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:We.color.accent60},itemStyle:{color:We.color.accent60,borderColor:We.color.accent60},controlStyle:{color:We.color.accent70,borderColor:We.color.accent70}},progress:{lineStyle:{color:We.color.accent30},itemStyle:{color:We.color.accent40}},data:[]}),e})(aJ);Xa(Ife,lL.prototype);var g$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e})(Jn),m$e=(function(r){Ye(e,r);function e(t,n,a,i){var s=r.call(this,t,n,a)||this;return s.type=i||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e})(su),K5=Math.PI,iJ=Pr(),y$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,n){this.api=n},e.prototype.render=function(t,n,a){if(this.model=t,this.api=a,this.ecModel=n,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,a),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(i,t);t.formatTooltip=function(c){var u=l.scale.getLabel({value:c});return Si("nameValue",{noName:!0,value:u})},te(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](i,s,l,t)},this),this._renderAxisLabel(i,o,l,t),this._position(i,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,n){var a=t.get(["label","position"]),i=t.get("orient"),s=_$e(t,n),o;a==null||a==="auto"?o=i==="horizontal"?s.y+s.height/2<n.getHeight()/2?"-":"+":s.x+s.width/2<n.getWidth()/2?"+":"-":It(a)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][a]:o=a;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},c={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},u={horizontal:0,vertical:K5/2},f=i==="vertical"?s.height:s.width,h=t.getModel("controlStyle"),d=h.get("show",!0),v=d?h.get("itemSize"):0,g=d?h.get("itemGap"):0,m=v+g,y=t.get(["label","rotate"])||0;y=y*K5/180;var b,S,A,E=h.get("position",!0),M=d&&h.get("showPlayBtn",!0),R=d&&h.get("showPrevBtn",!0),L=d&&h.get("showNextBtn",!0),I=0,O=f;E==="left"||E==="bottom"?(M&&(b=[0,0],I+=m),R&&(S=[I,0],I+=m),L&&(A=[O-v,0],O-=m)):(M&&(b=[O-v,0],O-=m),R&&(S=[0,0],I+=m),L&&(A=[O-v,0],O-=m));var P=[I,O];return t.get("inverse")&&P.reverse(),{viewRect:s,mainLength:f,orient:i,rotation:u[i],labelRotation:y,labelPosOpt:o,labelAlign:t.get(["label","align"])||l[i],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[i],playPosition:b,prevBtnPosition:S,nextBtnPosition:A,axisExtent:P,controlSize:v,controlGap:g}},e.prototype._position=function(t,n){var a=this._mainGroup,i=this._labelGroup,s=t.viewRect;if(t.orient==="vertical"){var o=$i(),l=s.x,c=s.y+s.height;af(o,o,[-l,-c]),up(o,o,-K5/2),af(o,o,[l,c]),s=s.clone(),s.applyTransform(o)}var u=b(s),f=b(a.getBoundingRect()),h=b(i.getBoundingRect()),d=[a.x,a.y],v=[i.x,i.y];v[0]=d[0]=u[0][0];var g=t.labelPosOpt;if(g==null||It(g)){var m=g==="+"?0:1;S(d,f,u,1,m),S(v,h,u,1,1-m)}else{var m=g>=0?0:1;S(d,f,u,1,m),v[1]=d[1]+g}a.setPosition(d),i.setPosition(v),a.rotation=i.rotation=t.rotation,y(a),y(i);function y(A){A.originX=u[0][0]-A.x,A.originY=u[1][0]-A.y}function b(A){return[[A.x,A.x+A.width],[A.y,A.y+A.height]]}function S(A,E,M,R,L){A[R]+=M[R][L]-E[R][L]}},e.prototype._createAxis=function(t,n){var a=n.getData(),i=n.get("axisType"),s=x$e(n,i);s.getTicks=function(){return a.mapArray(["value"],function(c){return{value:c}})};var o=a.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new m$e("value",s,t.axisExtent,i);return l.model=n,l},e.prototype._createGroup=function(t){var n=this[t]=new er;return this.group.add(n),n},e.prototype._renderAxisLine=function(t,n,a,i){var s=a.getExtent();if(i.get(["lineStyle","show"])){var o=new ai({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:nt({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(o);var l=this._progressLine=new ai({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:rr({lineCap:"round",lineWidth:o.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},e.prototype._renderAxisTick=function(t,n,a,i){var s=this,o=i.getData(),l=a.scale.getTicks();this._tickSymbols=[],te(l,function(c){var u=a.dataToCoord(c.value),f=o.getItemModel(c.value),h=f.getModel("itemStyle"),d=f.getModel(["emphasis","itemStyle"]),v=f.getModel(["progress","itemStyle"]),g={x:u,y:0,onclick:Ot(s._changeTimeline,s,c.value)},m=sJ(f,h,n,g);m.ensureState("emphasis").style=d.getItemStyle(),m.ensureState("progress").style=v.getItemStyle(),G0(m);var y=or(m);f.get("tooltip")?(y.dataIndex=c.value,y.dataModel=i):y.dataIndex=y.dataModel=null,s._tickSymbols.push(m)})},e.prototype._renderAxisLabel=function(t,n,a,i){var s=this,o=a.getLabelModel();if(o.get("show")){var l=i.getData(),c=a.getViewLabels();this._tickLabels=[],te(c,function(u){var f=u.tickValue,h=l.getItemModel(f),d=h.getModel("label"),v=h.getModel(["emphasis","label"]),g=h.getModel(["progress","label"]),m=a.dataToCoord(u.tickValue),y=new Kr({x:m,y:0,rotation:t.labelRotation-t.rotation,onclick:Ot(s._changeTimeline,s,f),silent:!1,style:Kn(d,{text:u.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});y.ensureState("emphasis").style=Kn(v),y.ensureState("progress").style=Kn(g),n.add(y),G0(y),iJ(y).dataIndex=f,s._tickLabels.push(y)})}},e.prototype._renderControl=function(t,n,a,i){var s=t.controlSize,o=t.rotation,l=i.getModel("controlStyle").getItemStyle(),c=i.getModel(["emphasis","controlStyle"]).getItemStyle(),u=i.getPlayState(),f=i.get("inverse",!0);h(t.nextBtnPosition,"next",Ot(this._changeTimeline,this,f?"-":"+")),h(t.prevBtnPosition,"prev",Ot(this._changeTimeline,this,f?"+":"-")),h(t.playPosition,u?"stop":"play",Ot(this._handlePlayClick,this,!u),!0);function h(d,v,g,m){if(d){var y=sf(Gt(i.get(["controlStyle",v+"BtnSize"]),s),s),b=[0,-y/2,y,y],S=b$e(i,v+"Icon",b,{x:d[0],y:d[1],originX:s/2,originY:0,rotation:m?-o:0,rectHover:!0,style:l,onclick:g});S.ensureState("emphasis").style=c,n.add(S),G0(S)}}},e.prototype._renderCurrentPointer=function(t,n,a,i){var s=i.getData(),o=i.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),c=this,u={onCreate:function(f){f.draggable=!0,f.drift=Ot(c._handlePointerDrag,c),f.ondragend=Ot(c._handlePointerDragend,c),oJ(f,c._progressLine,o,a,i,!0)},onUpdate:function(f){oJ(f,c._progressLine,o,a,i)}};this._currentPointer=sJ(l,l,this._mainGroup,{},this._currentPointer,u)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,n,a){this._clearTimer(),this._pointerChangeTimeline([a.offsetX,a.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,n){var a=this._toAxisCoord(t)[0],i=this._axis,s=Ql(i.getExtent().slice());a>s[1]&&(a=s[1]),a<s[0]&&(a=s[0]),this._currentPointer.x=a,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=a,o.dirty());var l=this._findNearestTick(a),c=this.model;(n||l!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=t.model;t._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var n=this._mainGroup.getLocalTransform();return Ju(t,n,!0)},e.prototype._findNearestTick=function(t){var n=this.model.getData(),a=1/0,i,s=this._axis;return n.each(["value"],function(o,l){var c=s.dataToCoord(o),u=Math.abs(c-t);u<a&&(a=u,i=l)}),i},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var n=this.model.getCurrentIndex();t==="+"?t=n+1:t==="-"&&(t=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),n=this._tickSymbols,a=this._tickLabels;if(n)for(var i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",i<t);if(a)for(var i=0;i<a.length;i++)a&&a[i]&&a[i].toggleState("progress",iJ(a[i]).dataIndex<=t)},e.type="timeline.slider",e})(g$e);function x$e(r,e){if(e=e||r.get("type"),e)switch(e){case"category":return new N_({ordinalMeta:r.getCategories(),extent:[1/0,-1/0]});case"time":return new yU({locale:r.ecModel.getLocaleModel(),useUTC:r.ecModel.get("useUTC")});default:return new op}}function _$e(r,e){return ma(r.getBoxLayoutParams(),Pi(r,e).refContainer,r.get("padding"))}function b$e(r,e,t,n){var a=n.style,i=ob(r.get(["controlStyle",e]),n||{},new sr(t[0],t[1],t[2],t[3]));return a&&i.setStyle(a),i}function sJ(r,e,t,n,a,i){var s=e.get("color");if(a)a.setColor(s),t.add(a),i&&i.onUpdate(a);else{var o=r.get("symbol");a=oi(o,-1,-1,2,2,s),a.setStyle("strokeNoScale",!0),t.add(a),i&&i.onCreate(a)}var l=e.getItemStyle(["color"]);a.setStyle(l),n=Sr({rectHover:!0,z2:100},n,!0);var c=pb(r.get("symbolSize"));n.scaleX=c[0]/2,n.scaleY=c[1]/2;var u=_y(r.get("symbolOffset"),c);u&&(n.x=(n.x||0)+u[0],n.y=(n.y||0)+u[1]);var f=r.get("symbolRotate");return n.rotation=(f||0)*Math.PI/180||0,a.attr(n),a.updateTransform(),a}function oJ(r,e,t,n,a,i){if(!r.dragging){var s=a.getModel("checkpointStyle"),o=n.dataToCoord(a.getData().get("value",t));if(i||!s.get("animation",!0))r.attr({x:o,y:0}),e&&e.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};r.stopAnimation(null,!0),r.animateTo({x:o,y:0},l),e&&e.animateTo({shape:{x2:o}},l)}}}function S$e(r){r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,n){var a=t.getComponent("timeline");return a&&e.currentIndex!=null&&(a.setCurrentIndex(e.currentIndex),!a.get("loop",!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:a.get("replaceMerge",!0)}),rr({currentIndex:a.option.currentIndex},e)}),r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");n&&e.playState!=null&&n.setPlayState(e.playState)})}function w$e(r){var e=r&&r.timeline;ct(e)||(e=e?[e]:[]),te(e,function(t){t&&T$e(t)})}function T$e(r){var e=r.type,t={number:"value",time:"time"};if(t[e]&&(r.axisType=t[e],delete r.type),lJ(r),hm(r,"controlPosition")){var n=r.controlStyle||(r.controlStyle={});hm(n,"position")||(n.position=r.controlPosition),n.position==="none"&&!hm(n,"show")&&(n.show=!1,delete n.position),delete r.controlPosition}te(r.data||[],function(a){nr(a)&&!ct(a)&&(!hm(a,"value")&&hm(a,"name")&&(a.value=a.name),lJ(a))})}function lJ(r){var e=r.itemStyle||(r.itemStyle={}),t=e.emphasis||(e.emphasis={}),n=r.label||r.label||{},a=n.normal||(n.normal={}),i={normal:1,emphasis:1};te(n,function(s,o){!i[o]&&!hm(a,o)&&(a[o]=s)}),t.label&&!hm(n,"emphasis")&&(n.emphasis=t.label,delete t.label)}function hm(r,e){return r.hasOwnProperty(e)}function A$e(r){r.registerComponentModel(Ife),r.registerComponentView(y$e),r.registerSubTypeDefaulter("timeline",function(){return"slider"}),S$e(r),r.registerPreprocessor(w$e)}function E9(r,e){if(!r)return!1;for(var t=ct(r)?r:[r],n=0;n<t.length;n++)if(t[n]&&t[n][e])return!0;return!1}function P3(r){Ym(r,"label",["show"])}var B3=Pr(),Mh=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t.preventAutoZ=!0,t}return e.prototype.init=function(t,n,a){this.mergeDefaultAndTheme(t,a),this._mergeOption(t,a,!1,!0)},e.prototype.isAnimationEnabled=function(){if(jr.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},e.prototype._mergeOption=function(t,n,a,i){var s=this.mainType;a||n.eachSeries(function(o){var l=o.get(this.mainType,!0),c=B3(o)[s];if(!l||!l.data){B3(o)[s]=null;return}c?c._mergeOption(l,n,!0):(i&&P3(l),te(l.data,function(u){u instanceof Array?(P3(u[0]),P3(u[1])):P3(u)}),c=this.createMarkerModelFromSeries(l,this,n),nt(c,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),c.__hostSeries=o),B3(o)[s]=c},this)},e.prototype.formatTooltip=function(t,n,a){var i=this.getData(),s=this.getRawValue(t),o=i.getName(t);return Si("section",{header:this.name,blocks:[Si("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,n){var a=lL.prototype.getDataParams.call(this,t,n),i=this.__hostSeries;return i&&(a.seriesId=i.id,a.seriesName=i.name,a.seriesType=i.subType),a},e.getMarkerModelFromSeries=function(t,n){return B3(t)[n]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(kr);Xa(Mh,lL.prototype);var E$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,a){return new e(t,n,a)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e})(Mh);function s8(r){return!(isNaN(parseFloat(r.x))&&isNaN(parseFloat(r.y)))}function M$e(r){return!isNaN(parseFloat(r.x))&&!isNaN(parseFloat(r.y))}function z3(r,e,t,n,a,i,s){var o=[],l=sp(e,a),c=l?e.getCalculationInfo("stackResultDimension"):a,u=ON(e,c,r),f=e.hostModel,h=f.indicesOfNearest(t,c,u)[0];o[i]=e.get(n,h),o[s]=e.get(c,h);var d=e.get(a,h),v=Yu(e.get(a,h));return v=Math.min(v,20),v>=0&&(o[s]=+o[s].toFixed(v)),[o,d]}var F3={min:yr(z3,"min"),max:yr(z3,"max"),average:yr(z3,"average"),median:yr(z3,"median")};function iA(r,e){if(e){var t=r.getData(),n=r.coordinateSystem,a=n&&n.dimensions;if(!M$e(e)&&!ct(e.coord)&&ct(a)){var i=Lfe(e,t,n,r);if(e=Qt(e),e.type&&F3[e.type]&&i.baseAxis&&i.valueAxis){var s=br(a,i.baseAxis.dim),o=br(a,i.valueAxis.dim),l=F3[e.type](t,i.valueAxis.dim,i.baseDataDim,i.valueDataDim,s,o);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!ct(a)){e.coord=[];var c=r.getBaseAxis();if(c&&e.type&&F3[e.type]){var u=n.getOtherAxis(c);u&&(e.value=ON(t,t.mapDimension(u.dim),e.type))}}else for(var f=e.coord,h=0;h<2;h++)F3[f[h]]&&(f[h]=ON(t,t.mapDimension(a[h]),f[h]));return e}}function Lfe(r,e,t,n){var a={};return r.valueIndex!=null||r.valueDim!=null?(a.valueDataDim=r.valueIndex!=null?e.getDimension(r.valueIndex):r.valueDim,a.valueAxis=t.getAxis(C$e(n,a.valueDataDim)),a.baseAxis=t.getOtherAxis(a.valueAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim)):(a.baseAxis=n.getBaseAxis(),a.valueAxis=t.getOtherAxis(a.baseAxis),a.baseDataDim=e.mapDimension(a.baseAxis.dim),a.valueDataDim=e.mapDimension(a.valueAxis.dim)),a}function C$e(r,e){var t=r.getData().getDimensionInfo(e);return t&&t.coordDim}function sA(r,e){return r&&r.containData&&e.coord&&!s8(e)?r.containData(e.coord):!0}function D$e(r,e,t){return r&&r.containZone&&e.coord&&t.coord&&!s8(e)&&!s8(t)?r.containZone(e.coord,t.coord):!0}function Ofe(r,e){return r?function(t,n,a,i){var s=i<2?t.coord&&t.coord[i]:t.value;return Y0(s,e[i])}:function(t,n,a,i){return Y0(t.value,e[i])}}function ON(r,e,t){if(t==="average"){var n=0,a=0;return r.each(e,function(i,s){isNaN(i)||(n+=i,a++)}),n/a}else return t==="median"?r.getMedian(e):r.getDataExtent(e)[t==="max"?1:0]}var $5=Pr(),M9=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=Ht()},e.prototype.render=function(t,n,a){var i=this,s=this.markerGroupMap;s.each(function(o){$5(o).keep=!1}),n.eachSeries(function(o){var l=Mh.getMarkerModelFromSeries(o,i.type);l&&i.renderSeries(o,l,n,a)}),s.each(function(o){!$5(o).keep&&i.group.remove(o.group)}),R$e(n,s,this.type)},e.prototype.markKeep=function(t){$5(t).keep=!0},e.prototype.toggleBlurSeries=function(t,n){var a=this;te(t,function(i){var s=Mh.getMarkerModelFromSeries(i,a.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?Zie(l):SF(l))})}})},e.type="marker",e})(Jn);function R$e(r,e,t){r.eachSeries(function(n){var a=Mh.getMarkerModelFromSeries(n,t),i=e.get(n.id);if(a&&i&&i.group){var s=$m(a),o=s.z,l=s.zlevel;aL(i.group,o,l)}})}function cJ(r,e,t){var n=e.coordinateSystem,a=t.getWidth(),i=t.getHeight(),s=n&&n.getArea&&n.getArea();r.each(function(o){var l=r.getItemModel(o),c=l.get("relativeTo")==="coordinate",u=c?s?s.width:0:a,f=c?s?s.height:0:i,h=c&&s?s.x:0,d=c&&s?s.y:0,v,g=Nt(l.get("x"),u)+h,m=Nt(l.get("y"),f)+d;if(!isNaN(g)&&!isNaN(m))v=[g,m];else if(e.getMarkerPosition)v=e.getMarkerPosition(r.getValues(r.dimensions,o));else if(n){var y=r.get(n.dimensions[0],o),b=r.get(n.dimensions[1],o);v=n.dataToPoint([y,b])}isNaN(g)||(v[0]=g),isNaN(m)||(v[1]=m),r.setItemLayout(o,v)})}var N$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,a){n.eachSeries(function(i){var s=Mh.getMarkerModelFromSeries(i,"markPoint");s&&(cJ(s.getData(),i,a),this.markerGroupMap.get(i.id).updateLayout())},this)},e.prototype.renderSeries=function(t,n,a,i){var s=t.coordinateSystem,o=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(o)||c.set(o,new qA),f=I$e(s,t,n);n.setData(f),cJ(n.getData(),t,i),f.each(function(h){var d=f.getItemModel(h),v=d.getShallow("symbol"),g=d.getShallow("symbolSize"),m=d.getShallow("symbolRotate"),y=d.getShallow("symbolOffset"),b=d.getShallow("symbolKeepAspect");if(Yt(v)||Yt(g)||Yt(m)||Yt(y)){var S=n.getRawValue(h),A=n.getDataParams(h);Yt(v)&&(v=v(S,A)),Yt(g)&&(g=g(S,A)),Yt(m)&&(m=m(S,A)),Yt(y)&&(y=y(S,A))}var E=d.getModel("itemStyle").getItemStyle(),M=d.get("z2"),R=WA(l,"color");E.fill||(E.fill=R),f.setItemVisual(h,{z2:Gt(M,0),symbol:v,symbolSize:g,symbolRotate:m,symbolOffset:y,symbolKeepAspect:b,style:E})}),u.updateData(f),this.group.add(u.group),f.eachItemGraphicEl(function(h){h.traverse(function(d){or(d).dataModel=n})}),this.markKeep(u),u.group.silent=n.get("silent")||t.get("silent")},e.type="markPoint",e})(M9);function I$e(r,e,t){var n;r?n=ft(r&&r.dimensions,function(o){var l=e.getData().getDimensionInfo(e.getData().mapDimension(o))||{};return nt(nt({},l),{name:o,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var a=new bo(n,t),i=ft(t.get("data"),yr(iA,e));r&&(i=fn(i,yr(sA,r)));var s=Ofe(!!r,n);return a.initData(i,null,s),a}function L$e(r){r.registerComponentModel(E$e),r.registerComponentView(N$e),r.registerPreprocessor(function(e){E9(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var O$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,a){return new e(t,n,a)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e})(Mh),U3=Pr(),k$e=function(r,e,t,n){var a=r.getData(),i;if(ct(n))i=n;else{var s=n.type;if(s==="min"||s==="max"||s==="average"||s==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=e.getAxis(n.yAxis!=null?"y":"x"),l=bs(n.yAxis,n.xAxis);else{var c=Lfe(n,a,e,r);o=c.valueAxis;var u=vU(a,c.valueDataDim);l=ON(a,u,s)}var f=o.dim==="x"?0:1,h=1-f,d=Qt(n),v={coord:[]};d.type=null,d.coord=[],d.coord[h]=-1/0,v.coord[h]=1/0;var g=t.get("precision");g>=0&&$r(l)&&(l=+l.toFixed(Math.min(g,20))),d.coord[f]=v.coord[f]=l,i=[d,v,{type:s,valueIndex:n.valueIndex,value:l}]}else i=[]}var m=[iA(r,i[0]),iA(r,i[1]),nt({},i[2])];return m[2].type=m[2].type||null,Sr(m[2],m[0]),Sr(m[2],m[1]),m};function kN(r){return!isNaN(r)&&!isFinite(r)}function uJ(r,e,t,n){var a=1-r,i=n.dimensions[r];return kN(e[a])&&kN(t[a])&&e[r]===t[r]&&n.getAxis(i).containData(e[r])}function P$e(r,e){if(r.type==="cartesian2d"){var t=e[0].coord,n=e[1].coord;if(t&&n&&(uJ(1,t,n,r)||uJ(0,t,n,r)))return!0}return sA(r,e[0])&&sA(r,e[1])}function J5(r,e,t,n,a){var i=n.coordinateSystem,s=r.getItemModel(e),o,l=Nt(s.get("x"),a.getWidth()),c=Nt(s.get("y"),a.getHeight());if(!isNaN(l)&&!isNaN(c))o=[l,c];else{if(n.getMarkerPosition)o=n.getMarkerPosition(r.getValues(r.dimensions,e));else{var u=i.dimensions,f=r.get(u[0],e),h=r.get(u[1],e);o=i.dataToPoint([f,h])}if(av(i,"cartesian2d")){var d=i.getAxis("x"),v=i.getAxis("y"),u=i.dimensions;kN(r.get(u[0],e))?o[0]=d.toGlobalCoord(d.getExtent()[t?0:1]):kN(r.get(u[1],e))&&(o[1]=v.toGlobalCoord(v.getExtent()[t?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}r.setItemLayout(e,o)}var B$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,a){n.eachSeries(function(i){var s=Mh.getMarkerModelFromSeries(i,"markLine");if(s){var o=s.getData(),l=U3(s).from,c=U3(s).to;l.each(function(u){J5(l,u,!0,i,a),J5(c,u,!1,i,a)}),o.each(function(u){o.setItemLayout(u,[l.getItemLayout(u),c.getItemLayout(u)])}),this.markerGroupMap.get(i.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,n,a,i){var s=t.coordinateSystem,o=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(o)||c.set(o,new YU);this.group.add(u.group);var f=z$e(s,t,n),h=f.from,d=f.to,v=f.line;U3(n).from=h,U3(n).to=d,n.setData(v);var g=n.get("symbol"),m=n.get("symbolSize"),y=n.get("symbolRotate"),b=n.get("symbolOffset");ct(g)||(g=[g,g]),ct(m)||(m=[m,m]),ct(y)||(y=[y,y]),ct(b)||(b=[b,b]),f.from.each(function(A){S(h,A,!0),S(d,A,!1)}),v.each(function(A){var E=v.getItemModel(A),M=E.getModel("lineStyle").getLineStyle();v.setItemLayout(A,[h.getItemLayout(A),d.getItemLayout(A)]);var R=E.get("z2");M.stroke==null&&(M.stroke=h.getItemVisual(A,"style").fill),v.setItemVisual(A,{z2:Gt(R,0),fromSymbolKeepAspect:h.getItemVisual(A,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(A,"symbolOffset"),fromSymbolRotate:h.getItemVisual(A,"symbolRotate"),fromSymbolSize:h.getItemVisual(A,"symbolSize"),fromSymbol:h.getItemVisual(A,"symbol"),toSymbolKeepAspect:d.getItemVisual(A,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(A,"symbolOffset"),toSymbolRotate:d.getItemVisual(A,"symbolRotate"),toSymbolSize:d.getItemVisual(A,"symbolSize"),toSymbol:d.getItemVisual(A,"symbol"),style:M})}),u.updateData(v),f.line.eachItemGraphicEl(function(A){or(A).dataModel=n,A.traverse(function(E){or(E).dataModel=n})});function S(A,E,M){var R=A.getItemModel(E);J5(A,E,M,t,i);var L=R.getModel("itemStyle").getItemStyle();L.fill==null&&(L.fill=WA(l,"color")),A.setItemVisual(E,{symbolKeepAspect:R.get("symbolKeepAspect"),symbolOffset:Gt(R.get("symbolOffset",!0),b[M?0:1]),symbolRotate:Gt(R.get("symbolRotate",!0),y[M?0:1]),symbolSize:Gt(R.get("symbolSize"),m[M?0:1]),symbol:Gt(R.get("symbol",!0),g[M?0:1]),style:L})}this.markKeep(u),u.group.silent=n.get("silent")||t.get("silent")},e.type="markLine",e})(M9);function z$e(r,e,t){var n;r?n=ft(r&&r.dimensions,function(c){var u=e.getData().getDimensionInfo(e.getData().mapDimension(c))||{};return nt(nt({},u),{name:c,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var a=new bo(n,t),i=new bo(n,t),s=new bo([],t),o=ft(t.get("data"),yr(k$e,e,r,t));r&&(o=fn(o,yr(P$e,r)));var l=Ofe(!!r,n);return a.initData(ft(o,function(c){return c[0]}),null,l),i.initData(ft(o,function(c){return c[1]}),null,l),s.initData(ft(o,function(c){return c[2]})),s.hasItemOption=!0,{from:a,to:i,line:s}}function F$e(r){r.registerComponentModel(O$e),r.registerComponentView(B$e),r.registerPreprocessor(function(e){E9(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var U$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,n,a){return new e(t,n,a)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(Mh),V3=Pr(),V$e=function(r,e,t,n){var a=n[0],i=n[1];if(!(!a||!i)){var s=iA(r,a),o=iA(r,i),l=s.coord,c=o.coord;l[0]=bs(l[0],-1/0),l[1]=bs(l[1],-1/0),c[0]=bs(c[0],1/0),c[1]=bs(c[1],1/0);var u=VI([{},s,o]);return u.coord=[s.coord,o.coord],u.x0=s.x,u.y0=s.y,u.x1=o.x,u.y1=o.y,u}};function PN(r){return!isNaN(r)&&!isFinite(r)}function fJ(r,e,t,n){var a=1-r;return PN(e[a])&&PN(t[a])}function H$e(r,e){var t=e.coord[0],n=e.coord[1],a={coord:t,x:e.x0,y:e.y0},i={coord:n,x:e.x1,y:e.y1};return av(r,"cartesian2d")?t&&n&&(fJ(1,t,n)||fJ(0,t,n))?!0:D$e(r,a,i):sA(r,a)||sA(r,i)}function hJ(r,e,t,n,a){var i=n.coordinateSystem,s=r.getItemModel(e),o,l=Nt(s.get(t[0]),a.getWidth()),c=Nt(s.get(t[1]),a.getHeight());if(!isNaN(l)&&!isNaN(c))o=[l,c];else{if(n.getMarkerPosition){var u=r.getValues(["x0","y0"],e),f=r.getValues(["x1","y1"],e),h=i.clampData(u),d=i.clampData(f),v=[];t[0]==="x0"?v[0]=h[0]>d[0]?f[0]:u[0]:v[0]=h[0]>d[0]?u[0]:f[0],t[1]==="y0"?v[1]=h[1]>d[1]?f[1]:u[1]:v[1]=h[1]>d[1]?u[1]:f[1],o=n.getMarkerPosition(v,t,!0)}else{var g=r.get(t[0],e),m=r.get(t[1],e),y=[g,m];i.clampData&&i.clampData(y,y),o=i.dataToPoint(y,!0)}if(av(i,"cartesian2d")){var b=i.getAxis("x"),S=i.getAxis("y"),g=r.get(t[0],e),m=r.get(t[1],e);PN(g)?o[0]=b.toGlobalCoord(b.getExtent()[t[0]==="x0"?0:1]):PN(m)&&(o[1]=S.toGlobalCoord(S.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(c)||(o[1]=c)}return o}var dJ=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],G$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,n,a){n.eachSeries(function(i){var s=Mh.getMarkerModelFromSeries(i,"markArea");if(s){var o=s.getData();o.each(function(l){var c=ft(dJ,function(f){return hJ(o,l,f,i,a)});o.setItemLayout(l,c);var u=o.getItemGraphicEl(l);u.setShape("points",c)})}},this)},e.prototype.renderSeries=function(t,n,a,i){var s=t.coordinateSystem,o=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(o)||c.set(o,{group:new er});this.group.add(u.group),this.markKeep(u);var f=j$e(s,t,n);n.setData(f),f.each(function(h){var d=ft(dJ,function(O){return hJ(f,h,O,t,i)}),v=s.getAxis("x").scale,g=s.getAxis("y").scale,m=v.getExtent(),y=g.getExtent(),b=[v.parse(f.get("x0",h)),v.parse(f.get("x1",h))],S=[g.parse(f.get("y0",h)),g.parse(f.get("y1",h))];Ql(b),Ql(S);var A=!(m[0]>b[1]||m[1]<b[0]||y[0]>S[1]||y[1]<S[0]),E=!A;f.setItemLayout(h,{points:d,allClipped:E});var M=f.getItemModel(h),R=M.getModel("itemStyle").getItemStyle(),L=M.get("z2"),I=WA(l,"color");R.fill||(R.fill=I,It(R.fill)&&(R.fill=LT(R.fill,.4))),R.stroke||(R.stroke=I),f.setItemVisual(h,"style",R),f.setItemVisual(h,"z2",Gt(L,0))}),f.diff(V3(u).data).add(function(h){var d=f.getItemLayout(h),v=f.getItemVisual(h,"z2");if(!d.allClipped){var g=new js({z2:Gt(v,0),shape:{points:d.points}});f.setItemGraphicEl(h,g),u.group.add(g)}}).update(function(h,d){var v=V3(u).data.getItemGraphicEl(d),g=f.getItemLayout(h),m=f.getItemVisual(h,"z2");g.allClipped?v&&u.group.remove(v):(v?nn(v,{z2:Gt(m,0),shape:{points:g.points}},n,h):v=new js({shape:{points:g.points}}),f.setItemGraphicEl(h,v),u.group.add(v))}).remove(function(h){var d=V3(u).data.getItemGraphicEl(h);u.group.remove(d)}).execute(),f.eachItemGraphicEl(function(h,d){var v=f.getItemModel(d),g=f.getItemVisual(d,"style");h.useStyle(f.getItemVisual(d,"style")),rs(h,ki(v),{labelFetcher:n,labelDataIndex:d,defaultText:f.getName(d)||"",inheritColor:It(g.fill)?LT(g.fill,1):We.color.neutral99}),Oi(h,v),Sa(h,null,null,v.get(["emphasis","disabled"])),or(h).dataModel=n}),V3(u).data=f,u.group.silent=n.get("silent")||t.get("silent")},e.type="markArea",e})(M9);function j$e(r,e,t){var n,a,i=["x0","y0","x1","y1"];if(r){var s=ft(r&&r.dimensions,function(c){var u=e.getData(),f=u.getDimensionInfo(u.mapDimension(c))||{};return nt(nt({},f),{name:c,ordinalMeta:null})});a=ft(i,function(c,u){return{name:c,type:s[u%2].type}}),n=new bo(a,t)}else a=[{name:"value",type:"float"}],n=new bo(a,t);var o=ft(t.get("data"),yr(V$e,e,r,t));r&&(o=fn(o,yr(H$e,r)));var l=r?function(c,u,f,h){var d=c.coord[Math.floor(h/2)][h%2];return Y0(d,a[h])}:function(c,u,f,h){return Y0(c.value,a[h])};return n.initData(o,null,l),n.hasItemOption=!0,n}function W$e(r){r.registerComponentModel(U$e),r.registerComponentView(G$e),r.registerPreprocessor(function(e){E9(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var Y$e=function(r,e){if(e==="all")return{type:"all",title:r.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:r.getLocaleModel().get(["legend","selector","inverse"])}},o8=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,n,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},e.prototype._updateSelector=function(t){var n=t.selector,a=this.ecModel;n===!0&&(n=t.selector=["all","inverse"]),ct(n)&&te(n,function(i,s){It(i)&&(i={type:i}),n[s]=Sr(i,Y$e(a,i.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var n=!1,a=0;a<t.length;a++){var i=t[a].get("name");if(this.isSelected(i)){this.select(i),n=!0;break}}!n&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var n=[],a=[];t.eachRawSeries(function(l){var c=l.name;a.push(c);var u;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();t.isSeriesFiltered(l)||(a=a.concat(h)),h.length?n=n.concat(h):u=!0}else u=!0;u&&dF(l)&&n.push(l.name)}),this._availableNames=a;var i=this.get("data")||n,s=Ht(),o=ft(i,function(l){return(It(l)||$r(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new zr(l,this,this.ecModel))},this);this._data=fn(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var n=this.option.selected,a=this.get("selectedMode");if(a==="single"){var i=this._data;te(i,function(s){n[s.get("name")]=!1})}n[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,n=this.option.selected;te(t,function(a){n[a.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,n=this.option.selected;te(t,function(a){var i=a.get("name",!0);n.hasOwnProperty(i)||(n[i]=!0),n[i]=!n[i]})},e.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&br(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:We.size.m,align:"auto",backgroundColor:We.color.transparent,borderColor:We.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:We.color.disabled,inactiveBorderColor:We.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:We.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:We.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:We.color.tertiary,borderWidth:1,borderColor:We.color.border},emphasis:{selectorLabel:{show:!0,color:We.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(kr),A1=yr,l8=te,H3=er,kfe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new H3),this.group.add(this._selectorGroup=new H3),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,n,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=o==="horizontal"?"end":"start"),this.renderInner(s,t,n,a,l,o,c);var u=Pi(t,a).refContainer,f=t.getBoxLayoutParams(),h=t.get("padding"),d=ma(f,u,h),v=this.layoutInner(t,s,d,i,l,c),g=ma(rr({width:v.width,height:v.height},f),u,h);this.group.x=g.x-v.x,this.group.y=g.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=wfe(v,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,n,a,i,s,o,l){var c=this.getContentGroup(),u=Ht(),f=n.get("selectedMode"),h=n.get("triggerEvent"),d=[];a.eachRawSeries(function(v){!v.get("legendHoverLink")&&d.push(v.id)}),l8(n.getData(),function(v,g){var m=this,y=v.get("name");if(!this.newlineDisabled&&(y===""||y===`
`)){var b=new H3;b.newline=!0,c.add(b);return}var S=a.getSeriesByName(y)[0];if(!u.get(y))if(S){var A=S.getData(),E=A.getVisual("legendLineStyle")||{},M=A.getVisual("legendIcon"),R=A.getVisual("style"),L=this._createItem(S,y,g,v,n,t,E,R,M,f,i);L.on("click",A1(pJ,y,null,i,d)).on("mouseover",A1(c8,S.name,null,i,d)).on("mouseout",A1(u8,S.name,null,i,d)),a.ssr&&L.eachChild(function(I){var O=or(I);O.seriesIndex=S.seriesIndex,O.dataIndex=g,O.ssrType="legend"}),h&&L.eachChild(function(I){m.packEventData(I,n,S,g,y)}),u.set(y,!0)}else a.eachRawSeries(function(I){var O=this;if(!u.get(y)&&I.legendVisualProvider){var P=I.legendVisualProvider;if(!P.containName(y))return;var k=P.indexOfName(y),U=P.getItemVisual(k,"style"),F=P.getItemVisual(k,"legendIcon"),q=_o(U.fill);q&&q[3]===0&&(q[3]=.2,U=nt(nt({},U),{fill:qc(q,"rgba")}));var H=this._createItem(I,y,g,v,n,t,{},U,F,f,i);H.on("click",A1(pJ,null,y,i,d)).on("mouseover",A1(c8,null,y,i,d)).on("mouseout",A1(u8,null,y,i,d)),a.ssr&&H.eachChild(function(Z){var X=or(Z);X.seriesIndex=I.seriesIndex,X.dataIndex=g,X.ssrType="legend"}),h&&H.eachChild(function(Z){O.packEventData(Z,n,I,g,y)}),u.set(y,!0)}},this)},this),s&&this._createSelector(s,n,i,o,l)},e.prototype.packEventData=function(t,n,a,i,s){var o={componentType:"legend",componentIndex:n.componentIndex,dataIndex:i,value:s,seriesIndex:a.seriesIndex};or(t).eventData=o},e.prototype._createSelector=function(t,n,a,i,s){var o=this.getSelectorGroup();l8(t,function(c){var u=c.type,f=new Kr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(f);var h=n.getModel("selectorLabel"),d=n.getModel(["emphasis","selectorLabel"]);rs(f,{normal:h,emphasis:d},{defaultText:c.title}),G0(f)})},e.prototype._createItem=function(t,n,a,i,s,o,l,c,u,f,h){var d=t.visualDrawType,v=s.get("itemWidth"),g=s.get("itemHeight"),m=s.isSelected(n),y=i.get("symbolRotate"),b=i.get("symbolKeepAspect"),S=i.get("icon");u=S||u||"roundRect";var A=X$e(u,i,l,c,d,m,h),E=new H3,M=i.getModel("textStyle");if(Yt(t.getLegendIcon)&&(!S||S==="inherit"))E.add(t.getLegendIcon({itemWidth:v,itemHeight:g,icon:u,iconRotate:y,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:b}));else{var R=S==="inherit"&&t.getData().getVisual("symbol")?y==="inherit"?t.getData().getVisual("symbolRotate"):y:0;E.add(q$e({itemWidth:v,itemHeight:g,icon:u,iconRotate:R,itemStyle:A.itemStyle,symbolKeepAspect:b}))}var L=o==="left"?v+5:-5,I=o,O=s.get("formatter"),P=n;It(O)&&O?P=O.replace("{name}",n??""):Yt(O)&&(P=O(n));var k=m?M.getTextColor():i.get("inactiveColor");E.add(new Kr({style:Kn(M,{text:P,x:L,y:g/2,fill:k,align:I,verticalAlign:"middle"},{inheritColor:k})}));var U=new Nr({shape:E.getBoundingRect(),style:{fill:"transparent"}}),F=i.getModel("tooltip");return F.get("show")&&hp({el:U,componentModel:s,itemName:n,itemTooltipOption:F.option}),E.add(U),E.eachChild(function(q){q.silent=!0}),U.silent=!f,this.getContentGroup().add(E),G0(E),E.__legendDataIndex=a,E},e.prototype.layoutInner=function(t,n,a,i,s,o){var l=this.getContentGroup(),c=this.getSelectorGroup();Lm(t.get("orient"),l,t.get("itemGap"),a.width,a.height);var u=l.getBoundingRect(),f=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),s){Lm("horizontal",c,t.get("selectorItemGap",!0));var h=c.getBoundingRect(),d=[-h.x,-h.y],v=t.get("selectorButtonGap",!0),g=t.getOrient().index,m=g===0?"width":"height",y=g===0?"height":"width",b=g===0?"y":"x";o==="end"?d[g]+=u[m]+v:f[g]+=h[m]+v,d[1-g]+=u[y]/2-h[y]/2,c.x=d[0],c.y=d[1],l.x=f[0],l.y=f[1];var S={x:0,y:0};return S[m]=u[m]+v+h[m],S[y]=Math.max(u[y],h[y]),S[b]=Math.min(0,h[b]+d[1-g]),S}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(Jn);function X$e(r,e,t,n,a,i,s){function o(m,y){m.lineWidth==="auto"&&(m.lineWidth=y.lineWidth>0?2:0),l8(m,function(b,S){m[S]==="inherit"&&(m[S]=y[S])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=r.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");c.decal=!f||f==="inherit"?n.decal:R_(f,s),c.fill==="inherit"&&(c.fill=n[a]),c.stroke==="inherit"&&(c.stroke=n[u]),c.opacity==="inherit"&&(c.opacity=(a==="fill"?n:t).opacity),o(c,n);var h=e.getModel("lineStyle"),d=h.getLineStyle();if(o(d,t),c.fill==="auto"&&(c.fill=n.fill),c.stroke==="auto"&&(c.stroke=n.fill),d.stroke==="auto"&&(d.stroke=n.fill),!i){var v=e.get("inactiveBorderWidth"),g=c[u];c.lineWidth=v==="auto"?n.lineWidth>0&&g?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),d.stroke=h.get("inactiveColor"),d.lineWidth=h.get("inactiveWidth")}return{itemStyle:c,lineStyle:d}}function q$e(r){var e=r.icon||"roundRect",t=oi(e,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill,r.symbolKeepAspect);return t.setStyle(r.itemStyle),t.rotation=(r.iconRotate||0)*Math.PI/180,t.setOrigin([r.itemWidth/2,r.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill=We.color.neutral00,t.style.lineWidth=2),t}function pJ(r,e,t,n){u8(r,e,t,n),t.dispatchAction({type:"legendToggleSelect",name:r??e}),c8(r,e,t,n)}function Pfe(r){for(var e=r.getZr().storage.getDisplayList(),t,n=0,a=e.length;n<a&&!(t=e[n].states.emphasis);)n++;return t&&t.hoverLayer}function c8(r,e,t,n){Pfe(t)||t.dispatchAction({type:"highlight",seriesName:r,name:e,excludeSeriesId:n})}function u8(r,e,t,n){Pfe(t)||t.dispatchAction({type:"downplay",seriesName:r,name:e,excludeSeriesId:n})}function Z$e(r){var e=r.findComponents({mainType:"legend"});e&&e.length&&r.filterSeries(function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0})}function F2(r,e,t){var n=r==="allSelect"||r==="inverseSelect",a={},i=[];t.eachComponent({mainType:"legend",query:e},function(o){n?o[r]():o[r](e.name),vJ(o,a),i.push(o.componentIndex)});var s={};return t.eachComponent("legend",function(o){te(a,function(l,c){o[l?"select":"unSelect"](c)}),vJ(o,s)}),n?{selected:s,legendIndex:i}:{name:e.name,selected:s}}function vJ(r,e){var t=e||{};return te(r.getData(),function(n){var a=n.get("name");if(!(a===`
`||a==="")){var i=r.isSelected(a);Ut(t,a)?t[a]=t[a]&&i:t[a]=i}}),t}function K$e(r){r.registerAction("legendToggleSelect","legendselectchanged",yr(F2,"toggleSelected")),r.registerAction("legendAllSelect","legendselectall",yr(F2,"allSelect")),r.registerAction("legendInverseSelect","legendinverseselect",yr(F2,"inverseSelect")),r.registerAction("legendSelect","legendselected",yr(F2,"select")),r.registerAction("legendUnSelect","legendunselected",yr(F2,"unSelect"))}function Bfe(r){r.registerComponentModel(o8),r.registerComponentView(kfe),r.registerProcessor(r.PRIORITY.PROCESSOR.SERIES_FILTER,Z$e),r.registerSubTypeDefaulter("legend",function(){return"plain"}),K$e(r)}var $$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,n,a){var i=yy(t);r.prototype.init.call(this,t,n,a),gJ(this,t,i)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),gJ(this,this.option,t)},e.type="legend.scroll",e.defaultOption=gv(o8.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:We.color.accent50,pageIconInactiveColor:We.color.accent10,pageIconSize:15,pageTextStyle:{color:We.color.tertiary},animationDurationUpdate:800}),e})(o8);function gJ(r,e,t){var n=r.getOrient(),a=[1,1];a[n.index]=0,Ah(e,t,{type:"box",ignoreSize:!!a})}var mJ=er,Q5=["width","height"],eP=["x","y"],J$e=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){r.prototype.init.call(this),this.group.add(this._containerGroup=new mJ),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new mJ)},e.prototype.resetInner=function(){r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,n,a,i,s,o,l){var c=this;r.prototype.renderInner.call(this,t,n,a,i,s,o,l);var u=this._controllerGroup,f=n.get("pageIconSize",!0),h=ct(f)?f:[f,f];v("pagePrev",0);var d=n.getModel("pageTextStyle");u.add(new Kr({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(g,m){var y=g+"DataIndex",b=ob(n.get("pageIcons",!0)[n.getOrient().name][m],{onclick:Ot(c._pageGo,c,y,n,i)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});b.name=g,u.add(b)}},e.prototype.layoutInner=function(t,n,a,i,s,o){var l=this.getSelectorGroup(),c=t.getOrient().index,u=Q5[c],f=eP[c],h=Q5[1-c],d=eP[1-c];s&&Lm("horizontal",l,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),g=l.getBoundingRect(),m=[-g.x,-g.y],y=Qt(a);s&&(y[u]=a[u]-g[u]-v);var b=this._layoutContentAndController(t,i,y,c,u,h,d,f);if(s){if(o==="end")m[c]+=b[u]+v;else{var S=g[u]+v;m[c]-=S,b[f]-=S}b[u]+=g[u]+v,m[1-c]+=b[d]+b[h]/2-g[h]/2,b[h]=Math.max(b[h],g[h]),b[d]=Math.min(b[d],g[d]+m[1-c]),l.x=m[0],l.y=m[1],l.markRedraw()}return b},e.prototype._layoutContentAndController=function(t,n,a,i,s,o,l,c){var u=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;Lm(t.get("orient"),u,t.get("itemGap"),i?a.width:null,i?null:a.height),Lm("horizontal",h,t.get("pageButtonItemGap",!0));var d=u.getBoundingRect(),v=h.getBoundingRect(),g=this._showController=d[s]>a[s],m=[-d.x,-d.y];n||(m[i]=u[c]);var y=[0,0],b=[-v.x,-v.y],S=Gt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(g){var A=t.get("pageButtonPosition",!0);A==="end"?b[i]+=a[s]-v[s]:y[i]+=v[s]+S}b[1-i]+=d[o]/2-v[o]/2,u.setPosition(m),f.setPosition(y),h.setPosition(b);var E={x:0,y:0};if(E[s]=g?a[s]:d[s],E[o]=Math.max(d[o],v[o]),E[l]=Math.min(0,v[l]+b[1-i]),f.__rectSize=a[s],g){var M={x:0,y:0};M[s]=Math.max(a[s]-v[s]-S,0),M[o]=E[o],f.setClipPath(new Nr({shape:M})),f.__rectSize=M[s]}else h.eachChild(function(L){L.attr({invisible:!0,silent:!0})});var R=this._getPageInfo(t);return R.pageIndex!=null&&nn(u,{x:R.contentPosition[0],y:R.contentPosition[1]},g?t:null),this._updatePageInfoView(t,R),E},e.prototype._pageGo=function(t,n,a){var i=this._getPageInfo(n)[t];i!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:n.id})},e.prototype._updatePageInfoView=function(t,n){var a=this._controllerGroup;te(["pagePrev","pageNext"],function(u){var f=u+"DataIndex",h=n[f]!=null,d=a.childOfName(u);d&&(d.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),d.cursor=h?"pointer":"default")});var i=a.childOfName("pageText"),s=t.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,c=n.pageCount;i&&s&&i.setStyle("text",It(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):s({current:l,total:c}))},e.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,s=t.getOrient().index,o=Q5[s],l=eP[s],c=this._findTargetItemIndex(n),u=a.children(),f=u[c],h=u.length,d=h?1:0,v={contentPosition:[a.x,a.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var g=A(f);v.contentPosition[s]=-g.s;for(var m=c+1,y=g,b=g,S=null;m<=h;++m)S=A(u[m]),(!S&&b.e>y.s+i||S&&!E(S,y.s))&&(b.i>y.i?y=b:y=S,y&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=y.i),++v.pageCount)),b=S;for(var m=c-1,y=g,b=g,S=null;m>=-1;--m)S=A(u[m]),(!S||!E(b,S.s))&&y.i<b.i&&(b=y,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=y.i),++v.pageCount,++v.pageIndex),y=S;return v;function A(M){if(M){var R=M.getBoundingRect(),L=R[l]+M[l];return{s:L,e:L+R[o],i:M.__legendDataIndex}}}function E(M,R){return M.e>=R&&M.s<=R+i}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var n,a=this.getContentGroup(),i;return a.eachChild(function(s,o){var l=s.__legendDataIndex;i==null&&l!=null&&(i=o),l===t&&(n=o)}),n??i},e.type="legend.scroll",e})(kfe);function Q$e(r){r.registerAction("legendScroll","legendscroll",function(e,t){var n=e.scrollDataIndex;n!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(a){a.setScrollDataIndex(n)})})}function eJe(r){Mr(Bfe),r.registerComponentModel($$e),r.registerComponentView(J$e),Q$e(r)}function tJe(r){Mr(Bfe),Mr(eJe)}var rJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=gv(aA.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})(aA),C9=Pr();function nJe(r,e,t){C9(r).coordSysRecordMap.each(function(n){var a=n.dataZoomInfoMap.get(e.uid);a&&(a.getRange=t)})}function aJe(r,e){for(var t=C9(r).coordSysRecordMap,n=t.keys(),a=0;a<n.length;a++){var i=n[a],s=t.get(i),o=s.dataZoomInfoMap;if(o){var l=e.uid,c=o.get(l);c&&(o.removeKey(l),o.keys().length||zfe(t,s))}}}function zfe(r,e){if(e){r.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function iJe(r,e){var t={model:e,containsPoint:yr(oJe,e),dispatchAction:yr(sJe,r),dataZoomInfoMap:null,controller:null},n=t.controller=new Sy(r.getZr());return te(["pan","zoom","scrollMove"],function(a){n.on(a,function(i){var s=[];t.dataZoomInfoMap.each(function(o){if(i.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[a],c=l&&l(o.dzReferCoordSysInfo,t.model.mainType,t.controller,i);!o.model.get("disabled",!0)&&c&&s.push({dataZoomId:o.model.id,start:c[0],end:c[1]})}}),s.length&&t.dispatchAction(s)})}),t}function sJe(r,e){r.isDisposed()||r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function oJe(r,e,t,n){return r.coordinateSystem.containPoint([t,n])}function lJe(r,e,t){var n,a="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return r.each(function(o){var l=o.model,c=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;i[a+c]>i[a+n]&&(n=c),s=s&&l.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s,api:t,zInfo:{component:e.model},triggerInfo:{roamTrigger:null,isInSelf:e.containsPoint}}}}function cJe(r){r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,function(e,t){var n=C9(t),a=n.coordSysRecordMap||(n.coordSysRecordMap=Ht());a.each(function(i){i.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(i){var s=_fe(i);te(s.infoList,function(o){var l=o.model.uid,c=a.get(l)||a.set(l,iJe(t,o.model)),u=c.dataZoomInfoMap||(c.dataZoomInfoMap=Ht());u.set(i.uid,{dzReferCoordSysInfo:o,model:i,getRange:null})})}),a.each(function(i){var s=i.controller,o,l=i.dataZoomInfoMap;if(l){var c=l.keys()[0];c!=null&&(o=l.get(c))}if(!o){zfe(a,i);return}var u=lJe(l,i,t);s.enable(u.controlType,u.opt),db(i,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var uJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,n,a){if(r.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),nJe(a,t,{pan:Ot(tP.pan,this),zoom:Ot(tP.zoom,this),scrollMove:Ot(tP.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){aJe(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(_9),tP={zoom:function(r,e,t,n){var a=this.range,i=a.slice(),s=r.axisModels[0];if(s){var o=rP[e](null,[n.originX,n.originY],s,t,r),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(i[1]-i[0])+i[0],c=Math.max(1/n.scale,0);i[0]=(i[0]-l)*c+l,i[1]=(i[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(iv(0,i,[0,100],0,u.minSpan,u.maxSpan),this.range=i,a[0]!==i[0]||a[1]!==i[1])return i}},pan:yJ(function(r,e,t,n,a,i){var s=rP[n]([i.oldX,i.oldY],[i.newX,i.newY],e,a,t);return s.signal*(r[1]-r[0])*s.pixel/s.pixelLength}),scrollMove:yJ(function(r,e,t,n,a,i){var s=rP[n]([0,0],[i.scrollDelta,i.scrollDelta],e,a,t);return s.signal*(r[1]-r[0])*i.scrollDelta})};function yJ(r){return function(e,t,n,a){var i=this.range,s=i.slice(),o=e.axisModels[0];if(o){var l=r(s,o,e,t,n,a);if(iv(l,s,[0,100],"all"),this.range=s,i[0]!==s[0]||i[1]!==s[1])return s}}}var rP={grid:function(r,e,t,n,a){var i=t.axis,s={},o=a.model.coordinateSystem.getRect();return r=r||[0,0],i.dim==="x"?(s.pixel=e[0]-r[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=i.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=i.inverse?-1:1),s},polar:function(r,e,t,n,a){var i=t.axis,s={},o=a.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),c=o.getAngleAxis().getExtent();return r=r?o.pointToCoord(r):[0,0],e=o.pointToCoord(e),t.mainType==="radiusAxis"?(s.pixel=e[0]-r[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=i.inverse?1:-1):(s.pixel=e[1]-r[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=i.inverse?-1:1),s},singleAxis:function(r,e,t,n,a){var i=t.axis,s=a.model.coordinateSystem.getRect(),o={};return r=r||[0,0],i.orient==="horizontal"?(o.pixel=e[0]-r[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=i.inverse?1:-1):(o.pixel=e[1]-r[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=i.inverse?-1:1),o}};function Ffe(r){b9(r),r.registerComponentModel(rJe),r.registerComponentView(uJe),cJe(r)}var fJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=gv(aA.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:We.color.accent10,borderRadius:0,backgroundColor:We.color.transparent,dataBackground:{lineStyle:{color:We.color.accent30,width:.5},areaStyle:{color:We.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:We.color.accent40,width:.5},areaStyle:{color:We.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:We.color.neutral00,borderColor:We.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:We.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:We.color.tertiary},brushSelect:!0,brushStyle:{color:We.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:We.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),e})(aA),U2=Nr,hJe=1,nP=30,dJe=7,V2="horizontal",xJ="vertical",pJe=5,vJe=["line","bar","candlestick","scatter"],gJe={easing:"cubicOut",duration:100,delay:0},mJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,n){this.api=n,this._onBrush=Ot(this._onBrush,this),this._onBrushEnd=Ot(this._onBrushEnd,this)},e.prototype.render=function(t,n,a,i){if(r.prototype.render.apply(this,arguments),db(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!i||i.type!=="dataZoom"||i.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),r.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){GT(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new er;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(n),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,n=this.api,a=t.get("brushSelect"),i=a?dJe:0,s=Pi(t,n).refContainer,o=this._findCoordRect(),l=t.get("defaultLocationEdgeGap",!0)||0,c=this._orient===V2?{right:s.width-o.x-o.width,top:s.height-nP-l-i,width:o.width,height:nP}:{right:l,top:o.y,width:nP,height:o.height},u=yy(t.option);te(["right","top","width","height"],function(h){u[h]==="ph"&&(u[h]=c[h])});var f=ma(u,s);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===xJ&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,n=this._location,a=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),s=i&&i.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(a===V2&&!s?{scaleY:l?1:-1,scaleX:1}:a===V2&&s?{scaleY:l?1:-1,scaleX:-1}:a===xJ&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var c=t.getBoundingRect([o]);t.x=n.x-c.x,t.y=n.y-c.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,n=this._size,a=this._displayables.sliderGroup,i=t.get("brushSelect");a.add(new U2({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var s=new U2({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Ot(this._onClickPanel,this)}),o=this.api.getZr();i?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),a.add(s)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var n=this._size,a=this._shadowSize||[],i=t.series,s=i.getRawData(),o=i.getShadowDim&&i.getShadowDim(),l=o&&s.getDimensionInfo(o)?i.getShadowDim():t.otherDim;if(l==null)return;var c=this._shadowPolygonPts,u=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||n[0]!==a[0]||n[1]!==a[1]){var f=s.getDataExtent(t.thisDim),h=s.getDataExtent(l),d=(h[1]-h[0])*.3;h=[h[0]-d,h[1]+d];var v=[0,n[1]],g=[0,n[0]],m=[[n[0],0],[0,0]],y=[],b=g[1]/Math.max(1,s.count()-1),S=n[0]/(f[1]-f[0]),A=t.thisAxis.type==="time",E=-b,M=Math.round(s.count()/n[0]),R;s.each([t.thisDim,l],function(k,U,F){if(M>0&&F%M){A||(E+=b);return}E=A?(+k-f[0])*S:E+b;var q=U==null||isNaN(U)||U==="",H=q?0:gn(U,h,v,!0);q&&!R&&F?(m.push([m[m.length-1][0],0]),y.push([y[y.length-1][0],0])):!q&&R&&(m.push([E,0]),y.push([E,0])),q||(m.push([E,H]),y.push([E,H])),R=q}),c=this._shadowPolygonPts=m,u=this._shadowPolylinePts=y}this._shadowData=s,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var L=this.dataZoomModel;function I(k){var U=L.getModel(k?"selectedDataBackground":"dataBackground"),F=new er,q=new js({shape:{points:c},segmentIgnoreThreshold:1,style:U.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),H=new ws({shape:{points:u},segmentIgnoreThreshold:1,style:U.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return F.add(q),F.add(H),F}for(var O=0;O<3;O++){var P=I(O===1);this._displayables.sliderGroup.add(P),this._displayables.dataShadowSegs.push(P)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,n=t.get("showDataShadow");if(n!==!1){var a,i=this.ecModel;return t.eachTargetAxis(function(s,o){var l=t.getAxisProxy(s,o).getTargetSeriesModels();te(l,function(c){if(!a&&!(n!==!0&&br(vJe,c.get("type"))<0)){var u=i.getComponent(P0(s),o).axis,f=yJe(s),h,d=c.coordinateSystem;f!=null&&d.getOtherAxis&&(h=d.getOtherAxis(u).inverse),f=c.getData().mapDimension(f);var v=c.getData().mapDimension(s);a={thisAxis:u,series:c,thisDim:v,otherDim:f,otherAxisInverse:h}}},this)},this),a}},e.prototype._renderHandle=function(){var t=this.group,n=this._displayables,a=n.handles=[null,null],i=n.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,c=this.api,u=l.get("borderRadius")||0,f=l.get("brushSelect"),h=n.filler=new U2({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(h),s.add(new U2({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:u},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:hJe,fill:We.color.transparent}})),te([0,1],function(S){var A=l.get("handleIcon");!rN[A]&&A.indexOf("path://")<0&&A.indexOf("image://")<0&&(A="path://"+A);var E=oi(A,-1,0,2,2,null,!0);E.attr({cursor:xJe(this._orient),draggable:!0,drift:Ot(this._onDragMove,this,S),ondragend:Ot(this._onDragEnd,this),onmouseover:Ot(this._showDataInfo,this,!0),onmouseout:Ot(this._showDataInfo,this,!1),z2:5});var M=E.getBoundingRect(),R=l.get("handleSize");this._handleHeight=Nt(R,this._size[1]),this._handleWidth=M.width/M.height*this._handleHeight,E.setStyle(l.getModel("handleStyle").getItemStyle()),E.style.strokeNoScale=!0,E.rectHover=!0,E.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),G0(E);var L=l.get("handleColor");L!=null&&(E.style.fill=L),s.add(a[S]=E);var I=l.getModel("textStyle"),O=l.get("handleLabel")||{},P=O.show||!1;t.add(i[S]=new Kr({silent:!0,invisible:!P,style:Kn(I,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:I.getTextColor(),font:I.getFont()}),z2:10}))},this);var d=h;if(f){var v=Nt(l.get("moveHandleSize"),o[1]),g=n.moveHandle=new Nr({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:v}}),m=v*.8,y=n.moveHandleIcon=oi(l.get("moveHandleIcon"),-m/2,-m/2,m,m,We.color.neutral00,!0);y.silent=!0,y.y=o[1]+v/2-.5,g.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var b=Math.min(o[1]/2,Math.max(v,10));d=n.moveZone=new Nr({invisible:!0,shape:{y:o[1]-b,height:v+b}}),d.on("mouseover",function(){c.enterEmphasis(g)}).on("mouseout",function(){c.leaveEmphasis(g)}),s.add(g),s.add(y),s.add(d)}d.attr({draggable:!0,cursor:"default",drift:Ot(this._onDragMove,this,"all"),ondragstart:Ot(this._showDataInfo,this,!0),ondragend:Ot(this._onDragEnd,this),onmouseover:Ot(this._showDataInfo,this,!0),onmouseout:Ot(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[gn(t[0],[0,100],n,!0),gn(t[1],[0,100],n,!0)]},e.prototype._updateInterval=function(t,n){var a=this.dataZoomModel,i=this._handleEnds,s=this._getViewExtent(),o=a.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];iv(n,i,s,a.get("zoomLock")?"all":t,o.minSpan!=null?gn(o.minSpan,l,s,!0):null,o.maxSpan!=null?gn(o.maxSpan,l,s,!0):null);var c=this._range,u=this._range=Ql([gn(i[0],s,l,!0),gn(i[1],s,l,!0)]);return!c||c[0]!==u[0]||c[1]!==u[1]},e.prototype._updateView=function(t){var n=this._displayables,a=this._handleEnds,i=Ql(a.slice()),s=this._size;te([0,1],function(d){var v=n.handles[d],g=this._handleHeight;v.attr({scaleX:g/2,scaleY:g/2,x:a[d]+(d?-1:1),y:s[1]/2-g/2})},this),n.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:s[1]});var o={x:i[0],width:i[1]-i[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,c=[0,i[0],i[1],s[0]],u=0;u<l.length;u++){var f=l[u],h=f.getClipPath();h||(h=new Nr,f.setClipPath(h)),h.setShape({x:c[u],y:0,width:c[u+1]-c[u],height:s[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var n=this.dataZoomModel,a=this._displayables,i=a.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,u=this._range,f=t?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(f[0],c),this._formatLabel(f[1],c)]}}var h=Ql(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(v){var g=j0(a.handles[v].parent,this.group),m=nL(v===0?"right":"left",g),y=this._handleWidth/2+pJe,b=Ju([h[v]+(v===0?-y:y),this._size[1]/2],g);i[v].setStyle({x:b[0],y:b[1],verticalAlign:s===V2?"middle":m,align:s===V2?m:"center",text:o[v]})}},e.prototype._formatLabel=function(t,n){var a=this.dataZoomModel,i=a.get("labelFormatter"),s=a.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var o=t==null||isNaN(t)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(s,20));return Yt(i)?i(t,o):It(i)?i.replace("{value}",o):o},e.prototype._showDataInfo=function(t){var n=this.dataZoomModel.get("handleLabel")||{},a=n.show||!1,i=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=i.get("show")||!1,o=t||this._dragging?s:a,l=this._displayables,c=l.handleLabels;c[0].attr("invisible",!o),c[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,n,a,i){this._dragging=!0,rp(i.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=Ju([n,a],s,!0),l=this._updateInterval(t,o[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var n=this._size,a=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(a[0]<0||a[0]>n[0]||a[1]<0||a[1]>n[1])){var i=this._handleEnds,s=(i[0]+i[1])/2,o=this._updateInterval("all",a[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var n=t.offsetX,a=t.offsetY;this._brushStart=new ir(n,a),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var a=n.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(a.width)<5)){var s=this._getViewExtent(),o=[0,100],l=this._handleEnds=[a.x,a.x+a.width],c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();iv(0,l,s,0,c.minSpan!=null?gn(c.minSpan,o,s,!0):null,c.maxSpan!=null?gn(c.maxSpan,o,s,!0):null),this._range=Ql([gn(l[0],s,o,!0),gn(l[1],s,o,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(rp(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,n){var a=this._displayables,i=this.dataZoomModel,s=a.brushRect;s||(s=a.brushRect=new U2({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),a.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,c=l.transformCoordToLocal(t,n),u=l.transformCoordToLocal(o.x,o.y),f=this._size;c[0]=Math.max(Math.min(f[0],c[0]),0),s.setShape({x:u[0],y:0,width:c[0]-u[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?gJe:null,start:n[0],end:n[1]})},e.prototype._findCoordRect=function(){var t,n=_fe(this.dataZoomModel).infoList;if(!t&&n.length){var a=n[0].model.coordinateSystem;t=a.getRect&&a.getRect()}if(!t){var i=this.api.getWidth(),s=this.api.getHeight();t={x:i*.2,y:s*.2,width:i*.6,height:s*.6}}return t},e.type="dataZoom.slider",e})(_9);function yJe(r){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[r]}function xJe(r){return r==="vertical"?"ns-resize":"ew-resize"}function Ufe(r){r.registerComponentModel(fJe),r.registerComponentView(mJe),b9(r)}function _Je(r){Mr(Ffe),Mr(Ufe)}var Vfe={get:function(r,e,t){var n=Qt((bJe[r]||{})[e]);return t&&ct(n)?n[n.length-1]:n}},bJe={color:{active:["#006edd","#e0ffff"],inactive:[We.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},_J=Ji.mapVisual,SJe=Ji.eachVisual,wJe=ct,bJ=te,TJe=Ql,AJe=gn,BN=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,n,a){this.mergeDefaultAndTheme(t,a)},e.prototype.optionUpdated=function(t,n){var a=this.option;!n&&Rfe(a,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var n=this.stateList;t=Ot(t,this),this.controllerVisuals=a8(this.option.controller,n,t),this.targetVisuals=a8(this.option.target,n,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesId,n=this.option.seriesIndex;n==null&&t==null&&(n="all");var a=rb(this.ecModel,"series",{index:n,id:t},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return ft(a,function(i){return i.componentIndex})},e.prototype.eachTargetSeries=function(t,n){te(this.getTargetSeriesIndices(),function(a){var i=this.ecModel.getSeriesByIndex(a);i&&t.call(n,i)},this)},e.prototype.isTargetSeries=function(t){var n=!1;return this.eachTargetSeries(function(a){a===t&&(n=!0)}),n},e.prototype.formatValueText=function(t,n,a){var i=this.option,s=i.precision,o=this.dataBound,l=i.formatter,c;a=a||["<",">"],ct(t)&&(t=t.slice(),c=!0);var u=n?t:c?[f(t[0]),f(t[1])]:f(t);if(It(l))return l.replace("{value}",c?u[0]:u).replace("{value2}",c?u[1]:u);if(Yt(l))return c?l(t[0],t[1]):l(t);if(c)return t[0]===o[0]?a[0]+" "+u[1]:t[1]===o[1]?a[1]+" "+u[0]:u[0]+" - "+u[1];return u;function f(h){return h===o[0]?"min":h===o[1]?"max":(+h).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var t=this.option,n=TJe([t.min,t.max]);this._dataExtent=n},e.prototype.getDataDimensionIndex=function(t){var n=this.option.dimension;if(n!=null)return t.getDimensionIndex(n);for(var a=t.dimensions,i=a.length-1;i>=0;i--){var s=a[i],o=t.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,n=this.option,a={inRange:n.inRange,outOfRange:n.outOfRange},i=n.target||(n.target={}),s=n.controller||(n.controller={});Sr(i,a),Sr(s,a);var o=this.isCategory();l.call(this,i),l.call(this,s),c.call(this,i,"inRange","outOfRange"),u.call(this,s);function l(f){wJe(n.color)&&!f.inRange&&(f.inRange={color:n.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function c(f,h,d){var v=f[h],g=f[d];v&&!g&&(g=f[d]={},bJ(v,function(m,y){if(Ji.isValidType(y)){var b=Vfe.get(y,"inactive",o);b!=null&&(g[y]=b,y==="color"&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}function u(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,d=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),g=this.getItemSymbol(),m=g||"roundRect";bJ(this.stateList,function(y){var b=this.itemSize,S=f[y];S||(S=f[y]={color:o?v:[v]}),S.symbol==null&&(S.symbol=h&&Qt(h)||(o?m:[m])),S.symbolSize==null&&(S.symbolSize=d&&Qt(d)||(o?b[0]:[b[0],b[0]])),S.symbol=_J(S.symbol,function(M){return M==="none"?m:M});var A=S.symbolSize;if(A!=null){var E=-1/0;SJe(A,function(M){M>E&&(E=M)}),S.symbolSize=_J(A,function(M){return AJe(M,[0,E],[0,b[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:We.color.transparent,borderColor:We.color.borderTint,contentColor:We.color.theme[0],inactiveColor:We.color.disabled,borderWidth:0,padding:We.size.m,textGap:10,precision:0,textStyle:{color:We.color.secondary}},e})(kr),SJ=[20,140],EJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){r.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=SJ[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=SJ[1])},e.prototype._resetRange=function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):ct(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},e.prototype.completeVisualOption=function(){r.prototype.completeVisualOption.apply(this,arguments),te(this.stateList,function(t){var n=this.option.controller[t].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),n=Ql((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},e.prototype.getValueState=function(t){var n=this.option.range,a=this.getExtent(),i=Gt(this.option.unboundedRange,!0);return(i&&n[0]<=a[0]||n[0]<=t)&&(i&&n[1]>=a[1]||t<=n[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[];return this.eachTargetSeries(function(a){var i=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(o,l){t[0]<=o&&o<=t[1]&&i.push(l)},this),n.push({seriesId:a.id,dataIndex:i})},this),n},e.prototype.getVisualMeta=function(t){var n=wJ(this,"outOfRange",this.getExtent()),a=wJ(this,"inRange",this.option.range.slice()),i=[];function s(d,v){i.push({value:d,color:t(d,v)})}for(var o=0,l=0,c=a.length,u=n.length;l<u&&(!a.length||n[l]<=a[0]);l++)n[l]<a[o]&&s(n[l],"outOfRange");for(var f=1;o<c;o++,f=0)f&&i.length&&s(a[o],"outOfRange"),s(a[o],"inRange");for(var f=1;l<u;l++)(!a.length||a[a.length-1]<n[l])&&(f&&(i.length&&s(i[i.length-1].value,"outOfRange"),f=0),s(n[l],"outOfRange"));var h=i.length;return{stops:i,outerColors:[h?i[0].color:"transparent",h?i[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=gv(BN.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:We.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:We.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:We.color.shadow}}),e})(BN);function wJ(r,e,t){if(t[0]===t[1])return t.slice();for(var n=200,a=(t[1]-t[0])/n,i=t[0],s=[],o=0;o<=n&&i<t[1];o++)s.push(i),i+=a;return s.push(t[1]),s}var Hfe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,n){this.ecModel=t,this.api=n},e.prototype.render=function(t,n,a,i){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,n,a,i)},e.prototype.renderBackground=function(t){var n=this.visualMapModel,a=ub(n.get("padding")||0),i=t.getBoundingRect();t.add(new Nr({z2:-1,silent:!0,shape:{x:i.x-a[3],y:i.y-a[0],width:i.width+a[3]+a[1],height:i.height+a[0]+a[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,n,a){a=a||{};var i=a.forceState,s=this.visualMapModel,o={};if(n==="color"){var l=s.get("contentColor");o.color=l}function c(d){return o[d]}function u(d,v){o[d]=v}var f=s.controllerVisuals[i||s.getValueState(t)],h=Ji.prepareVisualTypes(f);return te(h,function(d){var v=f[d];a.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",v=f.__alphaForOpacity),Ji.dependsOn(d,n)&&v&&v.applyVisual(t,c,u)}),o[n]},e.prototype.positionGroup=function(t){var n=this.visualMapModel,a=this.api,i=Pi(n,a).refContainer;sL(t,n.getBoxLayoutParams(),i)},e.prototype.doRender=function(t,n,a,i){},e.type="visualMap",e})(Jn),TJ=[["left","right","width"],["top","bottom","height"]];function Gfe(r,e,t){var n=r.option,a=n.align;if(a!=null&&a!=="auto")return a;for(var i={width:e.getWidth(),height:e.getHeight()},s=n.orient==="horizontal"?1:0,o=TJ[s],l=[0,null,10],c={},u=0;u<3;u++)c[TJ[1-s][u]]=l[u],c[o[u]]=u===2?t[0]:n[o[u]];var f=[["x","width",3],["y","height",0]][s],h=ma(c,i,n.padding);return o[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<i[f[1]]*.5?0:1]}function gD(r,e){return te(r||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),r}var th=gn,MJe=te,AJ=Math.min,aP=Math.max,CJe=12,DJe=6,RJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,n){r.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=Ot(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Ot(this._hideIndicator,this)},e.prototype.doRender=function(t,n,a,i){(!i||i.type!=="selectDataRange"||i.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,n=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(n);var a=t.get("text");this._renderEndsText(n,a,0),this._renderEndsText(n,a,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},e.prototype._renderEndsText=function(t,n,a){if(n){var i=n[1-a];i=i!=null?i+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,c=this._shapes.mainGroup,u=this._applyTransform([l[0]/2,a===0?-o:l[1]+o],c),f=this._applyTransform(a===0?"bottom":"top",c),h=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new Kr({style:Kn(d,{x:u[0],y:u[1],verticalAlign:d.get("verticalAlign")||(h==="horizontal"?"middle":f),align:d.get("align")||(h==="horizontal"?f:"center"),text:i})}))}},e.prototype._renderBar=function(t){var n=this.visualMapModel,a=this._shapes,i=n.itemSize,s=this._orient,o=this._useHandle,l=Gfe(n,this.api,i),c=a.mainGroup=this._createBarGroup(l),u=new er;c.add(u),u.add(a.outOfRange=EJ()),u.add(a.inRange=EJ(null,o?CJ(this._orient):null,Ot(this._dragHandle,this,"all",!1),Ot(this._dragHandle,this,"all",!0))),u.setClipPath(new Nr({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var f=n.textStyleModel.getTextRect(""),h=aP(f.width,f.height);o&&(a.handleThumbs=[],a.handleLabels=[],a.handleLabelPoints=[],this._createHandle(n,c,0,i,h,s),this._createHandle(n,c,1,i,h,s)),this._createIndicator(n,c,i,h,s),t.add(c)},e.prototype._createHandle=function(t,n,a,i,s,o){var l=Ot(this._dragHandle,this,a,!1),c=Ot(this._dragHandle,this,a,!0),u=sf(t.get("handleSize"),i[0]),f=oi(t.get("handleIcon"),-u/2,-u/2,u,u,null,!0),h=CJ(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:c,onmousemove:function(y){rp(y.event)}}),f.x=i[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),xm(f,!0),n.add(f);var d=this.visualMapModel.textStyleModel,v=new Kr({cursor:h,draggable:!0,drift:l,onmousemove:function(y){rp(y.event)},ondragend:c,style:Kn(d,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var g=[u,0],m=this._shapes;m.handleThumbs[a]=f,m.handleLabelPoints[a]=g,m.handleLabels[a]=v},e.prototype._createIndicator=function(t,n,a,i,s){var o=sf(t.get("indicatorSize"),a[0]),l=oi(t.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:a[0]/2});var c=t.getModel("indicatorStyle").getItemStyle();if(l instanceof ns){var u=l.style;l.useStyle(nt({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},c))}else l.useStyle(c);n.add(l);var f=this.visualMapModel.textStyleModel,h=new Kr({silent:!0,invisible:!0,style:Kn(f,{x:0,y:0,text:""})});this.group.add(h);var d=[(s==="horizontal"?i/2:DJe)+a[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=h,v.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,n,a,i){if(this._useHandle){if(this._dragging=!n,!n){var s=this._applyTransform([a,i],this._shapes.mainGroup,!0);this._updateInterval(t,s[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():MJ(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,n=this._dataInterval=t.getSelected(),a=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[th(n[0],a,i,!0),th(n[1],a,i,!0)]},e.prototype._updateInterval=function(t,n){n=n||0;var a=this.visualMapModel,i=this._handleEnds,s=[0,a.itemSize[1]];iv(n,i,s,t,0);var o=a.getExtent();this._dataInterval=[th(i[0],s,o,!0),th(i[1],s,o,!0)]},e.prototype._updateView=function(t){var n=this.visualMapModel,a=n.getExtent(),i=this._shapes,s=[0,n.itemSize[1]],o=t?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,a,o,"inRange"),c=this._createBarVisual(a,a,s,"outOfRange");i.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),i.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(o,l)},e.prototype._createBarVisual=function(t,n,a,i){var s={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,s),l=[this.getControllerVisual(t[0],"symbolSize",s),this.getControllerVisual(t[1],"symbolSize",s)],c=this._createBarPoints(a,l);return{barColor:new gy(0,0,0,1,o),barPoints:c,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,n){var a=100,i=[],s=(t[1]-t[0])/a;i.push({color:this.getControllerVisual(t[0],"color",n),offset:0});for(var o=1;o<a;o++){var l=t[0]+s*o;if(l>t[1])break;i.push({color:this.getControllerVisual(l,"color",n),offset:o/a})}return i.push({color:this.getControllerVisual(t[1],"color",n),offset:1}),i},e.prototype._createBarPoints=function(t,n){var a=this.visualMapModel.itemSize;return[[a[0]-n[0],t[0]],[a[0],t[0]],[a[0],t[1]],[a[0]-n[1],t[1]]]},e.prototype._createBarGroup=function(t){var n=this._orient,a=this.visualMapModel.get("inverse");return new er(n==="horizontal"&&!a?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&a?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!a?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,n){if(this._useHandle){var a=this._shapes,i=this.visualMapModel,s=a.handleThumbs,o=a.handleLabels,l=i.itemSize,c=i.getExtent(),u=this._applyTransform("left",a.mainGroup);MJe([0,1],function(f){var h=s[f];h.setStyle("fill",n.handlesColor[f]),h.y=t[f];var d=th(t[f],[0,l[1]],c,!0),v=this.getControllerVisual(d,"symbolSize");h.scaleX=h.scaleY=v/l[0],h.x=l[0]-v/2;var g=Ju(a.handleLabelPoints[f],j0(h,this.group));if(this._orient==="horizontal"){var m=u==="left"||u==="top"?(l[0]-v)/2:(l[0]-v)/-2;g[1]+=m}o[f].setStyle({x:g[0],y:g[1],text:i.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",a.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,n,a,i){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,c=[0,l[1]],u=this._shapes,f=u.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",h),v=this.getControllerVisual(t,"symbolSize"),g=th(t,o,c,!0),m=l[0]-v/2,y={x:f.x,y:f.y};f.y=g,f.x=m;var b=Ju(u.indicatorLabelPoint,j0(f,this.group)),S=u.indicatorLabel;S.attr("invisible",!1);var A=this._applyTransform("left",u.mainGroup),E=this._orient,M=E==="horizontal";S.setStyle({text:(a||"")+s.formatValueText(n),verticalAlign:M?A:"middle",align:M?"center":A});var R={x:m,y:g,style:{fill:d}},L={style:{x:b[0],y:b[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var I={duration:100,easing:"cubicInOut",additive:!0};f.x=y.x,f.y=y.y,f.animateTo(R,I),S.animateTo(L,I)}else f.attr(R),S.attr(L);this._firstShowIndicator=!1;var O=this._shapes.handleLabels;if(O)for(var P=0;P<O.length;P++)this.api.enterBlur(O[P])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(n){if(t._hovering=!0,!t._dragging){var a=t.visualMapModel.itemSize,i=t._applyTransform([n.offsetX,n.offsetY],t._shapes.mainGroup,!0,!0);i[1]=AJ(aP(0,i[1]),a[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=a[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,n){var a=this.visualMapModel,i=a.itemSize;if(a.option.hoverLink){var s=[0,i[1]],o=a.getExtent();t=AJ(aP(s[0],t),s[1]);var l=NJe(a,o,s),c=[t-l,t+l],u=th(t,s,o,!0),f=[th(c[0],s,o,!0),th(c[1],s,o,!0)];c[0]<s[0]&&(f[0]=-1/0),c[1]>s[1]&&(f[1]=1/0),n&&(f[0]===-1/0?this._showIndicator(u,f[1],"< ",l):f[1]===1/0?this._showIndicator(u,f[0],"> ",l):this._showIndicator(u,u," ",l));var h=this._hoverLinkDataIndices,d=[];(n||MJ(a))&&(d=this._hoverLinkDataIndices=a.findTargetDataIndices(f));var v=uPe(h,d);this._dispatchHighDown("downplay",gD(v[0],a)),this._dispatchHighDown("highlight",gD(v[1],a))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var n;if(bm(t.target,function(l){var c=or(l);if(c.dataIndex!=null)return n=c,!0},!0),!!n){var a=this.ecModel.getSeriesByIndex(n.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(a)){var s=a.getData(n.dataType),o=s.getStore().get(i.getDataDimensionIndex(s),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var a=0;a<n.length;a++)this.api.leaveBlur(n[a])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",gD(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,n,a,i){var s=j0(n,i?null:this.group);return ct(t)?Ju(t,s,a):nL(t,s,a)},e.prototype._dispatchHighDown=function(t,n){n&&n.length&&this.api.dispatchAction({type:t,batch:n})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e})(Hfe);function EJ(r,e,t,n){return new js({shape:{points:r},draggable:!!t,cursor:e,drift:t,onmousemove:function(a){rp(a.event)},ondragend:n})}function NJe(r,e,t){var n=CJe/2,a=r.get("hoverLinkDataSize");return a&&(n=th(a,e,t,!0)/2),n}function MJ(r){var e=r.get("hoverLinkOnHandle");return!!(e??r.get("realtime"))}function CJ(r){return r==="vertical"?"ns-resize":"ew-resize"}var IJe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},LJe=function(r,e){e.eachComponent({mainType:"visualMap",query:r},function(t){t.setSelected(r.selected)})},OJe=[{createOnAllSeries:!0,reset:function(r,e){var t=[];return e.eachComponent("visualMap",function(n){var a=r.pipelineContext;!n.isTargetSeries(r)||a&&a.large||t.push(t$e(n.stateList,n.targetVisuals,Ot(n.getValueState,n),n.getDataDimensionIndex(r.getData())))}),t}},{createOnAllSeries:!0,reset:function(r,e){var t=r.getData(),n=[];e.eachComponent("visualMap",function(a){if(a.isTargetSeries(r)){var i=a.getVisualMeta(Ot(kJe,null,r,a))||{stops:[],outerColors:[]},s=a.getDataDimensionIndex(t);s>=0&&(i.dimension=s,n.push(i))}}),r.getData().setVisual("visualMeta",n)}}];function kJe(r,e,t,n){for(var a=e.targetVisuals[n],i=Ji.prepareVisualTypes(a),s={color:WA(r.getData(),"color")},o=0,l=i.length;o<l;o++){var c=i[o],u=a[c==="opacity"?"__alphaForOpacity":c];u&&u.applyVisual(t,f,h)}return s.color;function f(d){return s[d]}function h(d,v){s[d]=v}}var DJ=te;function PJe(r){var e=r&&r.visualMap;ct(e)||(e=e?[e]:[]),DJ(e,function(t){if(t){E1(t,"splitList")&&!E1(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var n=t.pieces;n&&ct(n)&&DJ(n,function(a){nr(a)&&(E1(a,"start")&&!E1(a,"min")&&(a.min=a.start),E1(a,"end")&&!E1(a,"max")&&(a.max=a.end))})}})}function E1(r,e){return r&&r.hasOwnProperty&&r.hasOwnProperty(e)}var RJ=!1;function jfe(r){RJ||(RJ=!0,r.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),r.registerAction(IJe,LJe),te(OJe,function(e){r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,e)}),r.registerPreprocessor(PJe))}function Wfe(r){r.registerComponentModel(EJe),r.registerComponentView(RJe),jfe(r)}var BJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,n){r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],zJe[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var i=this.option.categories;this.resetVisual(function(s,o){a==="categories"?(s.mappingMethod="category",s.categories=Qt(i)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=ft(this._pieceList,function(l){return l=Qt(l),o!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,n={},a=Ji.listVisualTypes(),i=this.isCategory();te(t.pieces,function(o){te(a,function(l){o.hasOwnProperty(l)&&(n[l]=1)})}),te(n,function(o,l){var c=!1;te(this.stateList,function(u){c=c||s(t,u,l)||s(t.target,u,l)},this),!c&&te(this.stateList,function(u){(t[u]||(t[u]={}))[l]=Vfe.get(l,u==="inRange"?"active":"inactive",i)})},this);function s(o,l,c){return o&&o[l]&&o[l].hasOwnProperty(c)}r.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,n){var a=this.option,i=this._pieceList,s=(n?a:t).selected||{};if(a.selected=s,te(i,function(l,c){var u=this.getSelectedMapKey(l);s.hasOwnProperty(u)||(s[u]=!0)},this),a.selectedMode==="single"){var o=!1;te(i,function(l,c){var u=this.getSelectedMapKey(l);s[u]&&(o?s[u]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Qt(t)},e.prototype.getValueState=function(t){var n=Ji.findPieceIndex(t,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var n=[],a=this._pieceList;return this.eachTargetSeries(function(i){var s=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(l,c){var u=Ji.findPieceIndex(l,a);u===t&&s.push(c)},this),n.push({seriesId:i.id,dataIndex:s})},this),n},e.prototype.getRepresentValue=function(t){var n;if(this.isCategory())n=t.value;else if(t.value!=null)n=t.value;else{var a=t.interval||[];n=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return n},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var n=[],a=["",""],i=this;function s(u,f){var h=i.getRepresentValue({interval:u});f||(f=i.getValueState(h));var d=t(h,f);u[0]===-1/0?a[0]=d:u[1]===1/0?a[1]=d:n.push({value:u[0],color:d},{value:u[1],color:d})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var c=-1/0;return te(o,function(u){var f=u.interval;f&&(f[0]>c&&s([c,f[0]],"outOfRange"),s(f.slice()),c=f[1])},this),{stops:n,outerColors:a}},e.type="visualMap.piecewise",e.defaultOption=gv(BN.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e})(BN),zJe={splitNumber:function(r){var e=this.option,t=Math.min(e.precision,20),n=this.getExtent(),a=e.splitNumber;a=Math.max(parseInt(a,10),1),e.splitNumber=a;for(var i=(n[1]-n[0])/a;+i.toFixed(t)!==i&&t<5;)t++;e.precision=t,i=+i.toFixed(t),e.minOpen&&r.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,o=n[0];s<a;o+=i,s++){var l=s===a-1?n[1]:o+i;r.push({interval:[o,l],close:[1,1]})}e.maxOpen&&r.push({interval:[n[1],1/0],close:[0,0]}),D6(r),te(r,function(c,u){c.index=u,c.text=this.formatValueText(c.interval)},this)},categories:function(r){var e=this.option;te(e.categories,function(t){r.push({text:this.formatValueText(t,!0),value:t})},this),NJ(e,r)},pieces:function(r){var e=this.option;te(e.pieces,function(t,n){nr(t)||(t={value:t});var a={text:"",index:n};if(t.label!=null&&(a.text=t.label),t.hasOwnProperty("value")){var i=a.value=t.value;a.interval=[i,i],a.close=[1,1]}else{for(var s=a.interval=[],o=a.close=[0,0],l=[1,0,1],c=[-1/0,1/0],u=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],d=0;d<3&&s[f]==null;d++)s[f]=t[h[d]],o[f]=l[d],u[f]=d===2;s[f]==null&&(s[f]=c[f])}u[0]&&s[1]===1/0&&(o[0]=0),u[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(a.value=s[0])}a.visual=Ji.retrieveVisuals(t),r.push(a)},this),NJ(e,r),D6(r),te(r,function(t){var n=t.close,a=[["<",""][n[1]],[">",""][n[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,a)},this)}};function NJ(r,e){var t=r.inverse;(r.orient==="vertical"?!t:t)&&e.reverse()}var FJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var n=this.visualMapModel,a=n.get("textGap"),i=n.textStyleModel,s=this._getItemAlign(),o=n.itemSize,l=this._getViewData(),c=l.endsText,u=bs(n.get("showLabel",!0),!c),f=!n.get("selectedMode");c&&this._renderEndsText(t,c[0],o,u,s),te(l.viewPieceList,function(h){var d=h.piece,v=new er;v.onclick=Ot(this._onItemClick,this,d),this._enableHoverLink(v,h.indexInModelPieceList);var g=n.getRepresentValue(d);if(this._createItemSymbol(v,g,[0,0,o[0],o[1]],f),u){var m=this.visualMapModel.getValueState(g),y=i.get("align")||s;v.add(new Kr({style:Kn(i,{x:y==="right"?-a:o[0]+a,y:o[1]/2,text:d.text,verticalAlign:i.get("verticalAlign")||"middle",align:y,opacity:Gt(i.get("opacity"),m==="outOfRange"?.5:1)}),silent:f}))}t.add(v)},this),c&&this._renderEndsText(t,c[1],o,u,s),Lm(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,n){var a=this;t.on("mouseover",function(){return i("highlight")}).on("mouseout",function(){return i("downplay")});var i=function(s){var o=a.visualMapModel;o.option.hoverLink&&a.api.dispatchAction({type:s,batch:gD(o.findTargetDataIndices(n),o)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,n=t.option;if(n.orient==="vertical")return Gfe(t,this.api,t.itemSize);var a=n.align;return(!a||a==="auto")&&(a="left"),a},e.prototype._renderEndsText=function(t,n,a,i,s){if(n){var o=new er,l=this.visualMapModel.textStyleModel;o.add(new Kr({style:Kn(l,{x:i?s==="right"?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:i?s:"center",text:n})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,n=ft(t.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),a=t.get("text"),i=t.get("orient"),s=t.get("inverse");return(i==="horizontal"?s:!s)?n.reverse():a&&(a=a.slice().reverse()),{viewPieceList:n,endsText:a}},e.prototype._createItemSymbol=function(t,n,a,i){var s=oi(this.getControllerVisual(n,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(n,"color"));s.silent=i,t.add(s)},e.prototype._onItemClick=function(t){var n=this.visualMapModel,a=n.option,i=a.selectedMode;if(i){var s=Qt(a.selected),o=n.getSelectedMapKey(t);i==="single"||i===!0?(s[o]=!0,te(s,function(l,c){s[c]=c===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e})(Hfe);function Yfe(r){r.registerComponentModel(BJe),r.registerComponentView(FJe),jfe(r)}function UJe(r){Mr(Wfe),Mr(Yfe)}var VJe=(function(){function r(e){this._thumbnailModel=e}return r.prototype.reset=function(e){this._renderVersion=e.getMainProcessVersion()},r.prototype.renderContent=function(e){var t=e.api.getViewOfComponentModel(this._thumbnailModel);t&&(e.group.silent=!0,t.renderContent({group:e.group,targetTrans:e.targetTrans,z2Range:gse(e.group),roamType:e.roamType,viewportRect:e.viewportRect,renderVersion:this._renderVersion}))},r.prototype.updateWindow=function(e,t){var n=t.getViewOfComponentModel(this._thumbnailModel);n&&n.updateWindow({targetTrans:e,renderVersion:this._renderVersion})},r})(),HJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.optionUpdated=function(t,n){this._updateBridge()},e.prototype._updateBridge=function(){var t=this._birdge=this._birdge||new VJe(this);if(this._target=null,this.ecModel.eachSeries(function(a){rK(a,null)}),this.shouldShow()){var n=this.getTarget();rK(n.baseMapProvider,t)}},e.prototype.shouldShow=function(){return this.getShallow("show",!0)},e.prototype.getBridge=function(){return this._birdge},e.prototype.getTarget=function(){if(this._target)return this._target;var t=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return t?t.subType!=="graph"&&(t=null):t=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:t},this._target},e.type="thumbnail",e.layoutMode="box",e.dependencies=["series","geo"],e.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:We.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:We.color.neutral30,borderColor:We.color.neutral40,opacity:.3},z:10},e})(kr),GJe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,n,a){if(this._api=a,this._model=t,this._coordSys||(this._coordSys=new wy),!this._isEnabled()){this._clear();return}this._renderVersion=a.getMainProcessVersion();var i=this.group;i.removeAll();var s=t.getModel("itemStyle"),o=s.getItemStyle();o.fill==null&&(o.fill=n.get("backgroundColor")||We.color.neutral00);var l=Pi(t,a).refContainer,c=ma(Pse(t,!0),l),u=o.lineWidth||0,f=this._contentRect=Km(c.clone(),u/2,!0,!0),h=new er;i.add(h),h.setClipPath(new Nr({shape:f.plain()}));var d=this._targetGroup=new er;h.add(d);var v=c.plain();v.r=s.getShallow("borderRadius",!0),i.add(this._bgRect=new Nr({style:o,shape:v,silent:!1,cursor:"grab"}));var g=t.getModel("windowStyle"),m=g.getShallow("borderRadius",!0);h.add(this._windowRect=new Nr({shape:{x:0,y:0,width:0,height:0,r:m},style:g.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),LJ(t,this)},e.prototype.renderContent=function(t){this._bridgeRendered=t,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),LJ(this._model,this))},e.prototype._dealRenderContent=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var n=this._targetGroup,a=this._coordSys,i=this._contentRect;if(n.removeAll(),!!t){var s=t.group,o=s.getBoundingRect();n.add(s),this._bgRect.z2=t.z2Range.min-10,a.setBoundingRect(o.x,o.y,o.width,o.height);var l=ma({left:"center",top:"center",aspect:o.width/o.height},i);a.setViewRect(l.x,l.y,l.width,l.height),s.attr(a.getTransformInfo().raw),this._windowRect.z2=t.z2Range.max+10,this._resetRoamController(t.roamType)}}},e.prototype.updateWindow=function(t){var n=this._bridgeRendered;n&&n.renderVersion===t.renderVersion&&(n.targetTrans=t.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},e.prototype._dealUpdateWindow=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var n=Qc([],t.targetTrans),a=Ku([],this._coordSys.transform,n);this._transThisToTarget=Qc([],a);var i=t.viewportRect;i?i=i.clone():i=new sr(0,0,this._api.getWidth(),this._api.getHeight()),i.applyTransform(a);var s=this._windowRect,o=s.shape.r;s.setShape(rr({r:o},i))}},e.prototype._resetRoamController=function(t){var n=this,a=this._api,i=this._roamController;if(i||(i=this._roamController=new Sy(a.getZr())),!t||!this._isEnabled()){i.disable();return}i.enable(t,{api:a,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(s,o,l){return n._contentRect.contain(o,l)}}}),i.off("pan").off("zoom").on("pan",Ot(this._onPan,this)).on("zoom",Ot(this._onZoom,this))},e.prototype._onPan=function(t){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var a=Ya([],[t.oldX,t.oldY],n),i=Ya([],[t.oldX-t.dx,t.oldY-t.dy],n);this._api.dispatchAction(IJ(this._model.getTarget().baseMapProvider,{dx:i[0]-a[0],dy:i[1]-a[1]}))}},e.prototype._onZoom=function(t){var n=this._transThisToTarget;if(!(!this._isEnabled()||!n)){var a=Ya([],[t.originX,t.originY],n);this._api.dispatchAction(IJ(this._model.getTarget().baseMapProvider,{zoom:1/t.scale,originX:a[0],originY:a[1]}))}},e.prototype._isEnabled=function(){var t=this._model;if(!t||!t.shouldShow())return!1;var n=t.getTarget().baseMapProvider;return!!n},e.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},e.prototype.remove=function(){this._clear()},e.prototype.dispose=function(){this._clear()},e.type="thumbnail",e})(Jn);function IJ(r,e){var t=r.mainType==="series"?r.subType+"Roam":r.mainType+"Roam",n={type:t};return n[r.mainType+"Id"]=r.id,nt(n,e),n}function LJ(r,e){var t=$m(r);aL(e.group,t.z,t.zlevel)}function jJe(r){r.registerComponentModel(HJe),r.registerComponentView(GJe)}var WJe={label:{enabled:!0},decal:{show:!1}},OJ=Pr(),YJe={};function XJe(r,e){var t=r.getModel("aria");if(!t.get("enabled"))return;var n=Qt(WJe);Sr(n.label,r.getLocaleModel().get("aria"),!1),Sr(t.option,n,!1),a(),i();function a(){var c=t.getModel("decal"),u=c.get("show");if(u){var f=Ht();r.eachSeries(function(h){if(!h.isColorBySeries()){var d=f.get(h.type);d||(d={},f.set(h.type,d)),OJ(h).scope=d}}),r.eachRawSeries(function(h){if(r.isSeriesFiltered(h))return;if(Yt(h.enableAriaDecal)){h.enableAriaDecal();return}var d=h.getData();if(h.isColorBySeries()){var b=K6(h.ecModel,h.name,YJe,r.getSeriesCount()),S=d.getVisual("decal");d.setVisual("decal",A(S,b))}else{var v=h.getRawData(),g={},m=OJ(h).scope;d.each(function(E){var M=d.getRawIndex(E);g[M]=E});var y=v.count();v.each(function(E){var M=g[E],R=v.getName(E)||E+"",L=K6(h.ecModel,R,m,y),I=d.getItemVisual(M,"decal");d.setItemVisual(M,"decal",A(I,L))})}function A(E,M){var R=E?nt(nt({},M),E):M;return R.dirty=!0,R}})}}function i(){var c=e.getZr().dom;if(c){var u=r.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=rr(f.option,u),!!f.get("enabled")){if(c.setAttribute("role","img"),f.get("description")){c.setAttribute("aria-label",f.get("description"));return}var h=r.getSeriesCount(),d=f.get(["data","maxCount"])||10,v=f.get(["series","maxCount"])||10,g=Math.min(h,v),m;if(!(h<1)){var y=o();if(y){var b=f.get(["general","withTitle"]);m=s(b,{title:y})}else m=f.get(["general","withoutTitle"]);var S=[],A=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);m+=s(A,{seriesCount:h}),r.eachSeries(function(L,I){if(I<g){var O=void 0,P=L.get("name"),k=P?"withName":"withoutName";O=h>1?f.get(["series","multiple",k]):f.get(["series","single",k]),O=s(O,{seriesId:L.seriesIndex,seriesName:L.get("name"),seriesType:l(L.subType)});var U=L.getData();if(U.count()>d){var F=f.get(["data","partialData"]);O+=s(F,{displayCnt:d})}else O+=f.get(["data","allData"]);for(var q=f.get(["data","separator","middle"]),H=f.get(["data","separator","end"]),Z=f.get(["data","excludeDimensionId"]),X=[],Y=0;Y<U.count();Y++)if(Y<d){var re=U.getName(Y),W=Z?fn(U.getValues(Y),function(J,ee){return br(Z,ee)===-1}):U.getValues(Y),j=f.get(["data",re?"withName":"withoutName"]);X.push(s(j,{name:re,value:W.join(q)}))}O+=X.join(q)+H,S.push(O)}});var E=f.getModel(["series","multiple","separator"]),M=E.get("middle"),R=E.get("end");m+=S.join(M)+R,c.setAttribute("aria-label",m)}}}}function s(c,u){if(!It(c))return c;var f=c;return te(u,function(h,d){f=f.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),h)}),f}function o(){var c=r.get("title");return c&&c.length&&(c=c[0]),c&&c.text}function l(c){var u=r.getLocaleModel().get(["series","typeNames"]);return u[c]||u.chart}}function qJe(r){if(!(!r||!r.aria)){var e=r.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},te(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function ZJe(r){r.registerPreprocessor(qJe),r.registerVisual(r.PRIORITY.VISUAL.ARIA,XJe)}var kJ={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},KJe=(function(){function r(e){var t=this._condVal=It(e)?new RegExp(e):Uae(e)?e:null;if(t==null){var n="";mn(n)}}return r.prototype.evaluate=function(e){var t=typeof e;return It(t)?this._condVal.test(e):$r(t)?this._condVal.test(e+""):!1},r})(),$Je=(function(){function r(){}return r.prototype.evaluate=function(){return this.value},r})(),JJe=(function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},r})(),QJe=(function(){function r(){}return r.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},r})(),eQe=(function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r})(),tQe=(function(){function r(){}return r.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,n=t(this.valueGetterParam),a=e?this.valueParser(n):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(e?a:n))return!1;return!0},r})();function D9(r,e){if(r===!0||r===!1){var t=new $Je;return t.value=r,t}var n="";return Xfe(r)||mn(n),r.and?PJ("and",r,e):r.or?PJ("or",r,e):r.not?rQe(r,e):nQe(r,e)}function PJ(r,e,t){var n=e[r],a="";ct(n)||mn(a),n.length||mn(a);var i=r==="and"?new JJe:new QJe;return i.children=ft(n,function(s){return D9(s,t)}),i.children.length||mn(a),i}function rQe(r,e){var t=r.not,n="";Xfe(t)||mn(n);var a=new eQe;return a.child=D9(t,e),a.child||mn(n),a}function nQe(r,e){for(var t="",n=e.prepareGetValue(r),a=[],i=Yr(r),s=r.parser,o=s?aoe(s):null,l=0;l<i.length;l++){var c=i[l];if(!(c==="parser"||e.valueGetterAttrMap.get(c))){var u=Ut(kJ,c)?kJ[c]:c,f=r[c],h=o?o(f):f,d=w8e(u,h)||u==="reg"&&new KJe(h);d||mn(t),a.push(d)}}a.length||mn(t);var v=new tQe;return v.valueGetterParam=n,v.valueParser=o,v.getValue=e.getValue,v.subCondList=a,v}function Xfe(r){return nr(r)&&!Vs(r)}var aQe=(function(){function r(e,t){this._cond=D9(e,t)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r})();function iQe(r,e){return new aQe(r,e)}var sQe={type:"echarts:filter",transform:function(r){for(var e=r.upstream,t,n=iQe(r.config,{valueGetterAttrMap:Ht({dimension:!0}),prepareGetValue:function(o){var l="",c=o.dimension;Ut(o,"dimension")||mn(l);var u=e.getDimensionInfo(c);return u||mn(l),{dimIdx:u.index}},getValue:function(o){return e.retrieveValueFromItem(t,o.dimIdx)}}),a=[],i=0,s=e.count();i<s;i++)t=e.getRawDataItem(i),n.evaluate()&&a.push(t);return{data:a}}},oQe={type:"echarts:sort",transform:function(r){var e=r.upstream,t=r.config,n="",a=$n(t);a.length||mn(n);var i=[];te(a,function(u){var f=u.dimension,h=u.order,d=u.parser,v=u.incomparable;if(f==null&&mn(n),h!=="asc"&&h!=="desc"&&mn(n),v&&v!=="min"&&v!=="max"){var g="";mn(g)}if(h!=="asc"&&h!=="desc"){var m="";mn(m)}var y=e.getDimensionInfo(f);y||mn(n);var b=d?aoe(d):null;d&&!b&&mn(n),i.push({dimIdx:y.index,parser:b,comparator:new soe(h,v)})});var s=e.sourceFormat;s!==Ts&&s!==uc&&mn(n);for(var o=[],l=0,c=e.count();l<c;l++)o.push(e.getRawDataItem(l));return o.sort(function(u,f){for(var h=0;h<i.length;h++){var d=i[h],v=e.retrieveValueFromItem(u,d.dimIdx),g=e.retrieveValueFromItem(f,d.dimIdx);d.parser&&(v=d.parser(v),g=d.parser(g));var m=d.comparator.evaluate(v,g);if(m!==0)return m}return 0}),{data:o}}};function lQe(r){r.registerTransform(sQe),r.registerTransform(oQe)}var cQe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,n,a){r.prototype.init.call(this,t,n,a),this._sourceManager=new uoe(this),pX(this)},e.prototype.mergeOption=function(t,n){r.prototype.mergeOption.call(this,t,n),pX(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Qu},e})(kr),uQe=(function(r){Ye(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e})(Jn);function fQe(r){r.registerComponentModel(cQe),r.registerComponentView(uQe)}var Jf=Th.CMD;function X1(r,e){return Math.abs(r-e)<1e-5}function f8(r){var e=r.data,t=r.len(),n=[],a,i=0,s=0,o=0,l=0;function c(U,F){a&&a.length>2&&n.push(a),a=[U,F]}function u(U,F,q,H){X1(U,q)&&X1(F,H)||a.push(U,F,q,H,q,H)}function f(U,F,q,H,Z,X){var Y=Math.abs(F-U),re=Math.tan(Y/4)*4/3,W=F<U?-1:1,j=Math.cos(U),J=Math.sin(U),ee=Math.cos(F),ae=Math.sin(F),ce=j*Z+q,me=J*X+H,Se=ee*Z+q,we=ae*X+H,Me=Z*re*W,Ve=X*re*W;a.push(ce-Me*J,me+Ve*j,Se+Me*ae,we-Ve*ee,Se,we)}for(var h,d,v,g,m=0;m<t;){var y=e[m++],b=m===1;switch(b&&(i=e[m],s=e[m+1],o=i,l=s,(y===Jf.L||y===Jf.C||y===Jf.Q)&&(a=[o,l])),y){case Jf.M:i=o=e[m++],s=l=e[m++],c(o,l);break;case Jf.L:h=e[m++],d=e[m++],u(i,s,h,d),i=h,s=d;break;case Jf.C:a.push(e[m++],e[m++],e[m++],e[m++],i=e[m++],s=e[m++]);break;case Jf.Q:h=e[m++],d=e[m++],v=e[m++],g=e[m++],a.push(i+2/3*(h-i),s+2/3*(d-s),v+2/3*(h-v),g+2/3*(d-g),v,g),i=v,s=g;break;case Jf.A:var S=e[m++],A=e[m++],E=e[m++],M=e[m++],R=e[m++],L=e[m++]+R;m+=1;var I=!e[m++];h=Math.cos(R)*E+S,d=Math.sin(R)*M+A,b?(o=h,l=d,c(o,l)):u(i,s,h,d),i=Math.cos(L)*E+S,s=Math.sin(L)*M+A;for(var O=(I?-1:1)*Math.PI/2,P=R;I?P>L:P<L;P+=O){var k=I?Math.max(P+O,L):Math.min(P+O,L);f(P,k,S,A,E,M)}break;case Jf.R:o=i=e[m++],l=s=e[m++],h=o+e[m++],d=l+e[m++],c(h,l),u(h,l,h,d),u(h,d,o,d),u(o,d,o,l),u(o,l,h,l);break;case Jf.Z:a&&u(i,s,o,l),i=o,s=l;break}}return a&&a.length>2&&n.push(a),n}function h8(r,e,t,n,a,i,s,o,l,c){if(X1(r,t)&&X1(e,n)&&X1(a,s)&&X1(i,o)){l.push(s,o);return}var u=2/c,f=u*u,h=s-r,d=o-e,v=Math.sqrt(h*h+d*d);h/=v,d/=v;var g=t-r,m=n-e,y=a-s,b=i-o,S=g*g+m*m,A=y*y+b*b;if(S<f&&A<f){l.push(s,o);return}var E=h*g+d*m,M=-h*y-d*b,R=S-E*E,L=A-M*M;if(R<f&&E>=0&&L<f&&M>=0){l.push(s,o);return}var I=[],O=[];rv(r,t,a,s,.5,I),rv(e,n,i,o,.5,O),h8(I[0],O[0],I[1],O[1],I[2],O[2],I[3],O[3],l,c),h8(I[4],O[4],I[5],O[5],I[6],O[6],I[7],O[7],l,c)}function hQe(r,e){var t=f8(r),n=[];e=e||1;for(var a=0;a<t.length;a++){var i=t[a],s=[],o=i[0],l=i[1];s.push(o,l);for(var c=2;c<i.length;){var u=i[c++],f=i[c++],h=i[c++],d=i[c++],v=i[c++],g=i[c++];h8(o,l,u,f,h,d,v,g,s,e),o=v,l=g}n.push(s)}return n}function qfe(r,e,t){var n=r[e],a=r[1-e],i=Math.abs(n/a),s=Math.ceil(Math.sqrt(i*t)),o=Math.floor(t/s);o===0&&(o=1,s=t);for(var l=[],c=0;c<s;c++)l.push(o);var u=s*o,f=t-u;if(f>0)for(var c=0;c<f;c++)l[c%s]+=1;return l}function BJ(r,e,t){for(var n=r.r0,a=r.r,i=r.startAngle,s=r.endAngle,o=Math.abs(s-i),l=o*a,c=a-n,u=l>Math.abs(c),f=qfe([l,c],u?0:1,e),h=(u?o:c)/f.length,d=0;d<f.length;d++)for(var v=(u?c:o)/f[d],g=0;g<f[d];g++){var m={};u?(m.startAngle=i+h*d,m.endAngle=i+h*(d+1),m.r0=n+v*g,m.r=n+v*(g+1)):(m.startAngle=i+v*g,m.endAngle=i+v*(g+1),m.r0=n+h*d,m.r=n+h*(d+1)),m.clockwise=r.clockwise,m.cx=r.cx,m.cy=r.cy,t.push(m)}}function dQe(r,e,t){for(var n=r.width,a=r.height,i=n>a,s=qfe([n,a],i?0:1,e),o=i?"width":"height",l=i?"height":"width",c=i?"x":"y",u=i?"y":"x",f=r[o]/s.length,h=0;h<s.length;h++)for(var d=r[l]/s[h],v=0;v<s[h];v++){var g={};g[c]=h*f,g[u]=v*d,g[o]=f,g[l]=d,g.x+=r.x,g.y+=r.y,t.push(g)}}function zJ(r,e,t,n){return r*n-t*e}function pQe(r,e,t,n,a,i,s,o){var l=t-r,c=n-e,u=s-a,f=o-i,h=zJ(u,f,l,c);if(Math.abs(h)<1e-6)return null;var d=r-a,v=e-i,g=zJ(d,v,u,f)/h;return g<0||g>1?null:new ir(g*l+r,g*c+e)}function vQe(r,e,t){var n=new ir;ir.sub(n,t,e),n.normalize();var a=new ir;ir.sub(a,r,e);var i=a.dot(n);return i}function M1(r,e){var t=r[r.length-1];t&&t[0]===e[0]&&t[1]===e[1]||r.push(e)}function gQe(r,e,t){for(var n=r.length,a=[],i=0;i<n;i++){var s=r[i],o=r[(i+1)%n],l=pQe(s[0],s[1],o[0],o[1],e.x,e.y,t.x,t.y);l&&a.push({projPt:vQe(l,e,t),pt:l,idx:i})}if(a.length<2)return[{points:r},{points:r}];a.sort(function(m,y){return m.projPt-y.projPt});var c=a[0],u=a[a.length-1];if(u.idx<c.idx){var f=c;c=u,u=f}for(var h=[c.pt.x,c.pt.y],d=[u.pt.x,u.pt.y],v=[h],g=[d],i=c.idx+1;i<=u.idx;i++)M1(v,r[i].slice());M1(v,d),M1(v,h);for(var i=u.idx+1;i<=c.idx+n;i++)M1(g,r[i%n].slice());return M1(g,h),M1(g,d),[{points:v},{points:g}]}function FJ(r){var e=r.points,t=[],n=[];JI(e,t,n);var a=new sr(t[0],t[1],n[0]-t[0],n[1]-t[1]),i=a.width,s=a.height,o=a.x,l=a.y,c=new ir,u=new ir;return i>s?(c.x=u.x=o+i/2,c.y=l,u.y=l+s):(c.y=u.y=l+s/2,c.x=o,u.x=o+i),gQe(e,c,u)}function zN(r,e,t,n){if(t===1)n.push(e);else{var a=Math.floor(t/2),i=r(e);zN(r,i[0],a,n),zN(r,i[1],t-a,n)}return n}function mQe(r,e){for(var t=[],n=0;n<e;n++)t.push(TF(r));return t}function yQe(r,e){e.setStyle(r.style),e.z=r.z,e.z2=r.z2,e.zlevel=r.zlevel}function xQe(r){for(var e=[],t=0;t<r.length;)e.push([r[t++],r[t++]]);return e}function _Qe(r,e){var t=[],n=r.shape,a;switch(r.type){case"rect":dQe(n,e,t),a=Nr;break;case"sector":BJ(n,e,t),a=Gs;break;case"circle":BJ({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},e,t),a=Gs;break;default:var i=r.getComputedTransform(),s=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,o=ft(hQe(r.getUpdatedPathProxy(),s),function(y){return xQe(y)}),l=o.length;if(l===0)zN(FJ,{points:o[0]},e,t);else if(l===e)for(var c=0;c<l;c++)t.push({points:o[c]});else{var u=0,f=ft(o,function(y){var b=[],S=[];JI(y,b,S);var A=(S[1]-b[1])*(S[0]-b[0]);return u+=A,{poly:y,area:A}});f.sort(function(y,b){return b.area-y.area});for(var h=e,c=0;c<l;c++){var d=f[c];if(h<=0)break;var v=c===l-1?h:Math.ceil(d.area/u*e);v<0||(zN(FJ,{points:d.poly},v,t),h-=v)}}a=js;break}if(!a)return mQe(r,e);for(var g=[],c=0;c<t.length;c++){var m=new a;m.setShape(t[c]),yQe(r,m),g.push(m)}return g}function bQe(r,e){var t=r.length,n=e.length;if(t===n)return[r,e];for(var a=[],i=[],s=t<n?r:e,o=Math.min(t,n),l=Math.abs(n-t)/6,c=(o-2)/6,u=Math.ceil(l/c)+1,f=[s[0],s[1]],h=l,d=2;d<o;){var v=s[d-2],g=s[d-1],m=s[d++],y=s[d++],b=s[d++],S=s[d++],A=s[d++],E=s[d++];if(h<=0){f.push(m,y,b,S,A,E);continue}for(var M=Math.min(h,u-1)+1,R=1;R<=M;R++){var L=R/M;rv(v,m,b,A,L,a),rv(g,y,S,E,L,i),v=a[3],g=i[3],f.push(a[1],i[1],a[2],i[2],v,g),m=a[5],y=i[5],b=a[6],S=i[6]}h-=M-1}return s===r?[f,e]:[r,f]}function UJ(r,e){for(var t=r.length,n=r[t-2],a=r[t-1],i=[],s=0;s<e.length;)i[s++]=n,i[s++]=a;return i}function SQe(r,e){for(var t,n,a,i=[],s=[],o=0;o<Math.max(r.length,e.length);o++){var l=r[o],c=e[o],u=void 0,f=void 0;l?c?(t=bQe(l,c),u=t[0],f=t[1],n=u,a=f):(f=UJ(a||l,l),u=l):(u=UJ(n||c,c),f=c),i.push(u),s.push(f)}return[i,s]}function VJ(r){for(var e=0,t=0,n=0,a=r.length,i=0,s=a-2;i<a;s=i,i+=2){var o=r[s],l=r[s+1],c=r[i],u=r[i+1],f=o*u-c*l;e+=f,t+=(o+c)*f,n+=(l+u)*f}return e===0?[r[0]||0,r[1]||0]:[t/e/3,n/e/3,e]}function wQe(r,e,t,n){for(var a=(r.length-2)/6,i=1/0,s=0,o=r.length,l=o-2,c=0;c<a;c++){for(var u=c*6,f=0,h=0;h<o;h+=2){var d=h===0?u:(u+h-2)%l+2,v=r[d]-t[0],g=r[d+1]-t[1],m=e[h]-n[0],y=e[h+1]-n[1],b=m-v,S=y-g;f+=b*b+S*S}f<i&&(i=f,s=c)}return s}function TQe(r){for(var e=[],t=r.length,n=0;n<t;n+=2)e[n]=r[t-n-2],e[n+1]=r[t-n-1];return e}function AQe(r,e,t,n){for(var a=[],i,s=0;s<r.length;s++){var o=r[s],l=e[s],c=VJ(o),u=VJ(l);i==null&&(i=c[2]<0!=u[2]<0);var f=[],h=[],d=0,v=1/0,g=[],m=o.length;i&&(o=TQe(o));for(var y=wQe(o,l,c,u)*6,b=m-2,S=0;S<b;S+=2){var A=(y+S)%b+2;f[S+2]=o[A]-c[0],f[S+3]=o[A+1]-c[1]}f[0]=o[y]-c[0],f[1]=o[y+1]-c[1];for(var E=n/t,M=-n/2;M<=n/2;M+=E){for(var R=Math.sin(M),L=Math.cos(M),I=0,S=0;S<o.length;S+=2){var O=f[S],P=f[S+1],k=l[S]-u[0],U=l[S+1]-u[1],F=k*L-U*R,q=k*R+U*L;g[S]=F,g[S+1]=q;var H=F-O,Z=q-P;I+=H*H+Z*Z}if(I<v){v=I,d=M;for(var X=0;X<g.length;X++)h[X]=g[X]}}a.push({from:f,to:h,fromCp:c,toCp:u,rotation:-d})}return a}function FN(r){return r.__isCombineMorphing}var Zfe="__mOriginal_";function UN(r,e,t){var n=Zfe+e,a=r[n]||r[e];r[n]||(r[n]=r[e]);var i=t.replace,s=t.after,o=t.before;r[e]=function(){var l=arguments,c;return o&&o.apply(this,l),i?c=i.apply(this,l):c=a.apply(this,l),s&&s.apply(this,l),c}}function Zw(r,e){var t=Zfe+e;r[t]&&(r[e]=r[t],r[t]=null)}function HJ(r,e){for(var t=0;t<r.length;t++)for(var n=r[t],a=0;a<n.length;){var i=n[a],s=n[a+1];n[a++]=e[0]*i+e[2]*s+e[4],n[a++]=e[1]*i+e[3]*s+e[5]}}function Kfe(r,e){var t=r.getUpdatedPathProxy(),n=e.getUpdatedPathProxy(),a=SQe(f8(t),f8(n)),i=a[0],s=a[1],o=r.getComputedTransform(),l=e.getComputedTransform();function c(){this.transform=null}o&&HJ(i,o),l&&HJ(s,l),UN(e,"updateTransform",{replace:c}),e.transform=null;var u=AQe(i,s,10,Math.PI),f=[];UN(e,"buildPath",{replace:function(h){for(var d=e.__morphT,v=1-d,g=[],m=0;m<u.length;m++){var y=u[m],b=y.from,S=y.to,A=y.rotation*d,E=y.fromCp,M=y.toCp,R=Math.sin(A),L=Math.cos(A);Bw(g,E,M,d);for(var I=0;I<b.length;I+=2){var O=b[I],P=b[I+1],k=S[I],U=S[I+1],F=O*v+k*d,q=P*v+U*d;f[I]=F*L-q*R+g[0],f[I+1]=F*R+q*L+g[1]}var H=f[0],Z=f[1];h.moveTo(H,Z);for(var I=2;I<b.length;){var k=f[I++],U=f[I++],X=f[I++],Y=f[I++],re=f[I++],W=f[I++];H===k&&Z===U&&X===re&&Y===W?h.lineTo(re,W):h.bezierCurveTo(k,U,X,Y,re,W),H=re,Z=W}}}})}function R9(r,e,t){if(!r||!e)return e;var n=t.done,a=t.during;Kfe(r,e),e.__morphT=0;function i(){Zw(e,"buildPath"),Zw(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},rr({during:function(s){e.dirtyShape(),a&&a(s)},done:function(){i(),n&&n()}},t)),e}function EQe(r,e,t,n,a,i){var s=16;r=a===t?0:Math.round(32767*(r-t)/(a-t)),e=i===n?0:Math.round(32767*(e-n)/(i-n));for(var o=0,l,c=(1<<s)/2;c>0;c/=2){var u=0,f=0;(r&c)>0&&(u=1),(e&c)>0&&(f=1),o+=c*c*(3*u^f),f===0&&(u===1&&(r=c-1-r,e=c-1-e),l=r,r=e,e=l)}return o}function VN(r){var e=1/0,t=1/0,n=-1/0,a=-1/0,i=ft(r,function(o){var l=o.getBoundingRect(),c=o.getComputedTransform(),u=l.x+l.width/2+(c?c[4]:0),f=l.y+l.height/2+(c?c[5]:0);return e=Math.min(u,e),t=Math.min(f,t),n=Math.max(u,n),a=Math.max(f,a),[u,f]}),s=ft(i,function(o,l){return{cp:o,z:EQe(o[0],o[1],e,t,n,a),path:r[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function $fe(r){return _Qe(r.path,r.count)}function d8(){return{fromIndividuals:[],toIndividuals:[],count:0}}function MQe(r,e,t){var n=[];function a(E){for(var M=0;M<E.length;M++){var R=E[M];FN(R)?a(R.childrenRef()):R instanceof Fr&&n.push(R)}}a(r);var i=n.length;if(!i)return d8();var s=t.dividePath||$fe,o=s({path:e,count:i});if(o.length!==i)return console.error("Invalid morphing: unmatched splitted path"),d8();n=VN(n),o=VN(o);for(var l=t.done,c=t.during,u=t.individualDelay,f=new Bd,h=0;h<i;h++){var d=n[h],v=o[h];v.parent=e,v.copyTransform(f),u||Kfe(d,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function g(E){for(var M=0;M<o.length;M++)o[M].addSelfToZr(E)}UN(e,"addSelfToZr",{after:function(E){g(E)}}),UN(e,"removeSelfFromZr",{after:function(E){for(var M=0;M<o.length;M++)o[M].removeSelfFromZr(E)}});function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Zw(e,"addSelfToZr"),Zw(e,"removeSelfFromZr")}var y=o.length;if(u)for(var b=y,S=function(){b--,b===0&&(m(),l&&l())},h=0;h<y;h++){var A=u?rr({delay:(t.delay||0)+u(h,y,n[h],o[h]),done:S},t):t;R9(n[h],o[h],A)}else e.__morphT=0,e.animateTo({__morphT:1},rr({during:function(E){for(var M=0;M<y;M++){var R=o[M];R.__morphT=e.__morphT,R.dirtyShape()}c&&c(E)},done:function(){m();for(var E=0;E<r.length;E++)Zw(r[E],"updateTransform");l&&l()}},t));return e.__zr&&g(e.__zr),{fromIndividuals:n,toIndividuals:o,count:y}}function CQe(r,e,t){var n=e.length,a=[],i=t.dividePath||$fe;function s(d){for(var v=0;v<d.length;v++){var g=d[v];FN(g)?s(g.childrenRef()):g instanceof Fr&&a.push(g)}}if(FN(r)){s(r.childrenRef());var o=a.length;if(o<n)for(var l=0,c=o;c<n;c++)a.push(TF(a[l++%o]));a.length=n}else{a=i({path:r,count:n});for(var u=r.getComputedTransform(),c=0;c<a.length;c++)a[c].setLocalTransform(u);if(a.length!==n)return console.error("Invalid morphing: unmatched splitted path"),d8()}a=VN(a),e=VN(e);for(var f=t.individualDelay,c=0;c<n;c++){var h=f?rr({delay:(t.delay||0)+f(c,n,a[c],e[c])},t):t;R9(a[c],e[c],h)}return{fromIndividuals:a,toIndividuals:e,count:e.length}}function GJ(r){return ct(r[0])}function jJ(r,e){for(var t=[],n=r.length,a=0;a<n;a++)t.push({one:r[a],many:[]});for(var a=0;a<e.length;a++){var i=e[a].length,s=void 0;for(s=0;s<i;s++)t[s%n].many.push(e[a][s])}for(var o=0,a=n-1;a>=0;a--)if(!t[a].many.length){var l=t[o].many;if(l.length<=1)if(o)o=0;else return t;var i=l.length,c=Math.ceil(i/2);t[a].many=l.slice(c,i),t[o].many=l.slice(0,c),o++}return t}var DQe={clone:function(r){for(var e=[],t=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var a=TF(r.path);a.setStyle("opacity",t),e.push(a)}return e},split:null};function iP(r,e,t,n,a,i){if(!r.length||!e.length)return;var s=sb("update",n,a);if(!(s&&s.duration>0))return;var o=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),c,u;GJ(r)&&(c=r,u=e),GJ(e)&&(c=e,u=r);function f(y,b,S,A,E){var M=y.many,R=y.one;if(M.length===1&&!E){var L=b?M[0]:R,I=b?R:M[0];if(FN(L))f({many:[L],one:I},!0,S,A,!0);else{var O=o?rr({delay:o(S,A)},l):l;R9(L,I,O),i(L,I,L,I,O)}}else for(var P=rr({dividePath:DQe[t],individualDelay:o&&function(Z,X,Y,re){return o(Z+S,A)}},l),k=b?MQe(M,R,P):CQe(R,M,P),U=k.fromIndividuals,F=k.toIndividuals,q=U.length,H=0;H<q;H++){var O=o?rr({delay:o(H,q)},l):l;i(U[H],F[H],b?M[H]:y.one,b?y.one:M[H],O)}}for(var h=c?c===r:r.length>e.length,d=c?jJ(u,c):jJ(h?e:r,[h?r:e]),v=0,g=0;g<d.length;g++)v+=d[g].many.length;for(var m=0,g=0;g<d.length;g++)f(d[g],h,m,v),m+=d[g].many.length}function sm(r){if(!r)return[];if(ct(r)){for(var e=[],t=0;t<r.length;t++)e.push(sm(r[t]));return e}var n=[];return r.traverse(function(a){a instanceof Fr&&!a.disableMorphing&&!a.invisible&&!a.ignore&&n.push(a)}),n}var Jfe=1e4,RQe=0,WJ=1,YJ=2,NQe=Pr();function IQe(r,e){for(var t=r.dimensions,n=0;n<t.length;n++){var a=r.getDimensionInfo(t[n]);if(a&&a.otherDims[e]===0)return t[n]}}function LQe(r,e,t){var n=r.getDimensionInfo(t),a=n&&n.ordinalMeta;if(n){var i=r.get(n.name,e);return a&&a.categories[i]||i+""}}function XJ(r,e,t,n){var a=n?"itemChildGroupId":"itemGroupId",i=IQe(r,a);if(i){var s=LQe(r,e,i);return s}var o=r.getRawDataItem(e),l=n?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!n)return t||r.getId(e)}function qJ(r){var e=[];return te(r,function(t){var n=t.data,a=t.dataGroupId;if(!(n.count()>Jfe))for(var i=n.getIndices(),s=0;s<i.length;s++)e.push({data:n,groupId:XJ(n,s,a,!1),childGroupId:XJ(n,s,a,!0),divide:t.divide,dataIndex:s})}),e}function sP(r,e,t){r.traverse(function(n){n instanceof Fr&&ca(n,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function oP(r){if(r.parent){var e=r.getComputedTransform();r.setLocalTransform(e),r.parent.remove(r)}}function C1(r){r.stopAnimation(),r.isGroup&&r.traverse(function(e){e.stopAnimation()})}function OQe(r,e,t){var n=sb("update",t,e);n&&r.traverse(function(a){if(a instanceof eu){var i=$6e(a);i&&a.animateFrom({style:i},n)}})}function kQe(r,e){var t=r.length;if(t!==e.length)return!1;for(var n=0;n<t;n++){var a=r[n],i=e[n];if(a.data.getId(a.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function Qfe(r,e,t){var n=qJ(r),a=qJ(e);function i(S,A,E,M,R){(E||S)&&A.animateFrom({style:E&&E!==S?nt(nt({},E.style),S.style):S.style},R)}var s=!1,o=RQe,l=Ht(),c=Ht();n.forEach(function(S){S.groupId&&l.set(S.groupId,!0),S.childGroupId&&c.set(S.childGroupId,!0)});for(var u=0;u<a.length;u++){var f=a[u].groupId;if(c.get(f)){o=WJ;break}var h=a[u].childGroupId;if(h&&l.get(h)){o=YJ;break}}function d(S,A){return function(E){var M=E.data,R=E.dataIndex;return A?M.getId(R):S?o===WJ?E.childGroupId:E.groupId:o===YJ?E.childGroupId:E.groupId}}var v=kQe(n,a),g={};if(!v)for(var u=0;u<a.length;u++){var m=a[u],y=m.data.getItemGraphicEl(m.dataIndex);y&&(g[y.id]=!0)}function b(S,A){var E=n[A],M=a[S],R=M.data.hostModel,L=E.data.getItemGraphicEl(E.dataIndex),I=M.data.getItemGraphicEl(M.dataIndex);if(L===I){I&&OQe(I,M.dataIndex,R);return}L&&g[L.id]||I&&(C1(I),L?(C1(L),oP(L),s=!0,iP(sm(L),sm(I),M.divide,R,S,i)):sP(I,R,S))}new ip(n,a,d(!0,v),d(!1,v),null,"multiple").update(b).updateManyToOne(function(S,A){var E=a[S],M=E.data,R=M.hostModel,L=M.getItemGraphicEl(E.dataIndex),I=fn(ft(A,function(O){return n[O].data.getItemGraphicEl(n[O].dataIndex)}),function(O){return O&&O!==L&&!g[O.id]});L&&(C1(L),I.length?(te(I,function(O){C1(O),oP(O)}),s=!0,iP(sm(I),sm(L),E.divide,R,S,i)):sP(L,R,E.dataIndex))}).updateOneToMany(function(S,A){var E=n[A],M=E.data.getItemGraphicEl(E.dataIndex);if(!(M&&g[M.id])){var R=fn(ft(S,function(I){return a[I].data.getItemGraphicEl(a[I].dataIndex)}),function(I){return I&&I!==M}),L=a[S[0]].data.hostModel;R.length&&(te(R,function(I){return C1(I)}),M?(C1(M),oP(M),s=!0,iP(sm(M),sm(R),E.divide,L,S[0],i)):te(R,function(I){return sP(I,L,S[0])}))}}).updateManyToMany(function(S,A){new ip(A,S,function(E){return n[E].data.getId(n[E].dataIndex)},function(E){return a[E].data.getId(a[E].dataIndex)}).update(function(E,M){b(S[E],A[M])}).execute()}).execute(),s&&te(e,function(S){var A=S.data,E=A.hostModel,M=E&&t.getViewOfSeriesModel(E),R=sb("update",E,0);M&&E.isAnimationEnabled()&&R&&R.duration>0&&M.group.traverse(function(L){L instanceof Fr&&!L.animators.length&&L.animateFrom({style:{opacity:0}},R)})})}function ZJ(r){var e=r.getModel("universalTransition").get("seriesKey");return e||r.id}function KJ(r){return ct(r)?r.sort().join(","):r}function _0(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function PQe(r,e){var t=Ht(),n=Ht(),a=Ht();return te(r.oldSeries,function(i,s){var o=r.oldDataGroupIds[s],l=r.oldData[s],c=ZJ(i),u=KJ(c);n.set(u,{dataGroupId:o,data:l}),ct(c)&&te(c,function(f){a.set(f,{key:u,dataGroupId:o,data:l})})}),te(e.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var s=i.get("dataGroupId"),o=i.getData(),l=ZJ(i),c=KJ(l),u=n.get(c);if(u)t.set(c,{oldSeries:[{dataGroupId:u.dataGroupId,divide:_0(u.data),data:u.data}],newSeries:[{dataGroupId:s,divide:_0(o),data:o}]});else if(ct(l)){var f=[];te(l,function(v){var g=n.get(v);g.data&&f.push({dataGroupId:g.dataGroupId,divide:_0(g.data),data:g.data})}),f.length&&t.set(c,{oldSeries:f,newSeries:[{dataGroupId:s,data:o,divide:_0(o)}]})}else{var h=a.get(l);if(h){var d=t.get(h.key);d||(d={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:_0(h.data)}],newSeries:[]},t.set(h.key,d)),d.newSeries.push({dataGroupId:s,data:o,divide:_0(o)})}}}}),t}function $J(r,e){for(var t=0;t<r.length;t++){var n=e.seriesIndex!=null&&e.seriesIndex===r[t].seriesIndex||e.seriesId!=null&&e.seriesId===r[t].id;if(n)return t}}function BQe(r,e,t,n){var a=[],i=[];te($n(r.from),function(s){var o=$J(e.oldSeries,s);o>=0&&a.push({dataGroupId:e.oldDataGroupIds[o],data:e.oldData[o],divide:_0(e.oldData[o]),groupIdDim:s.dimension})}),te($n(r.to),function(s){var o=$J(t.updatedSeries,s);if(o>=0){var l=t.updatedSeries[o].getData();i.push({dataGroupId:e.oldDataGroupIds[o],data:l,divide:_0(l),groupIdDim:s.dimension})}}),a.length>0&&i.length>0&&Qfe(a,i,n)}function zQe(r){r.registerUpdateLifecycle("series:beforeupdate",function(e,t,n){te($n(n.seriesTransition),function(a){te($n(a.to),function(i){for(var s=n.updatedSeries,o=0;o<s.length;o++)(i.seriesIndex!=null&&i.seriesIndex===s[o].seriesIndex||i.seriesId!=null&&i.seriesId===s[o].id)&&(s[o][cD]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(e,t,n){var a=NQe(t);if(a.oldSeries&&n.updatedSeries&&n.optionChanged){var i=n.seriesTransition;if(i)te($n(i),function(d){BQe(d,a,n,t)});else{var s=PQe(a,n);te(s.keys(),function(d){var v=s.get(d);Qfe(v.oldSeries,v.newSeries,t)})}te(n.updatedSeries,function(d){d[cD]&&(d[cD]=!1)})}for(var o=e.getSeries(),l=a.oldSeries=[],c=a.oldDataGroupIds=[],u=a.oldData=[],f=0;f<o.length;f++){var h=o[f].getData();h.count()<Jfe&&(l.push(o[f]),c.push(o[f].get("dataGroupId")),u.push(h))}})}var FQe=(function(){function r(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return r.prototype.setBreaks=function(e){this.breaks=e.breaks},r.prototype.update=function(e){VQe(this,e);var t=this._elapsedExtent;t[0]=this.elapse(e[0]),t[1]=this.elapse(e[1])},r.prototype.hasBreaks=function(){return!!this.breaks.length},r.prototype.calcNiceTickMultiple=function(e,t){for(var n=0;n<this.breaks.length;n++){var a=this.breaks[n];if(a.vmin<e&&e<a.vmax){var i=t(e,a.vmax);return i}}return 0},r.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},r.prototype.normalize=function(e){var t=this._elapsedExtent[1]-this._elapsedExtent[0];return t===0?.5:(this.elapse(e)-this._elapsedExtent[0])/t},r.prototype.scale=function(e){return this.unelapse(e*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},r.prototype.elapse=function(e){for(var t=JJ,n=QJ,a=!0,i=0;i<this.breaks.length;i++){var s=this.breaks[i];if(e<=s.vmax){e>s.vmin?t+=s.vmin-n+(e-s.vmin)/(s.vmax-s.vmin)*s.gapReal:t+=e-n,n=s.vmax,a=!1;break}t+=s.vmin-n+s.gapReal,n=s.vmax}return a&&(t+=e-n),t},r.prototype.unelapse=function(e){for(var t=JJ,n=QJ,a=!0,i=0,s=0;s<this.breaks.length;s++){var o=this.breaks[s],l=t+o.vmin-n,c=l+o.gapReal;if(e<=c){e>l?i=o.vmin+(e-l)/(c-l)*(o.vmax-o.vmin):i=n+e-t,n=o.vmax,a=!1;break}t=c,n=o.vmax}return a&&(i=n+e-t),i},r})();function UQe(){return new FQe}var JJ=0,QJ=0;function VQe(r,e){var t=0,n={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},a=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},i={S:{tpAbs:a(),tpPrct:a()},E:{tpAbs:a(),tpPrct:a()}};te(r.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(t+=l.val);var c=N9(o,e);if(c){var u=c.vmin!==o.vmin,f=c.vmax!==o.vmax,h=c.vmax-c.vmin;if(!(u&&f))if(u||f){var d=u?"S":"E";i[d][l.type].has=!0,i[d][l.type].span=h,i[d][l.type].inExtFrac=h/(o.vmax-o.vmin),i[d][l.type].val=l.val}else n[l.type].span+=h,n[l.type].val+=l.val}});var s=t*(0+(e[1]-e[0])+(n.tpAbs.val-n.tpAbs.span)+(i.S.tpAbs.has?(i.S.tpAbs.val-i.S.tpAbs.span)*i.S.tpAbs.inExtFrac:0)+(i.E.tpAbs.has?(i.E.tpAbs.val-i.E.tpAbs.span)*i.E.tpAbs.inExtFrac:0)-n.tpPrct.span-(i.S.tpPrct.has?i.S.tpPrct.span*i.S.tpPrct.inExtFrac:0)-(i.E.tpPrct.has?i.E.tpPrct.span*i.E.tpPrct.inExtFrac:0))/(1-n.tpPrct.val-(i.S.tpPrct.has?i.S.tpPrct.val*i.S.tpPrct.inExtFrac:0)-(i.E.tpPrct.has?i.E.tpPrct.val*i.E.tpPrct.inExtFrac:0));te(r.breaks,function(o){var l=o.gapParsed;l.type==="tpPrct"&&(o.gapReal=t!==0?Math.max(s,0)*l.val/t:0),l.type==="tpAbs"&&(o.gapReal=l.val),o.gapReal==null&&(o.gapReal=0)})}function HQe(r,e,t,n,a,i){r!=="no"&&te(t,function(s){var o=N9(s,i);if(o)for(var l=e.length-1;l>=0;l--){var c=e[l],u=n(c),f=a*3/4;u>o.vmin-f&&u<o.vmax+f&&(r!=="preserve_extent_bound"||u!==i[0]&&u!==i[1])&&e.splice(l,1)}})}function GQe(r,e,t,n){te(e,function(a){var i=N9(a,t);i&&(r.push({value:i.vmin,break:{type:"vmin",parsedBreak:i},time:n?n(i):void 0}),r.push({value:i.vmax,break:{type:"vmax",parsedBreak:i},time:n?n(i):void 0}))}),e.length&&r.sort(function(a,i){return a.value-i.value})}function N9(r,e){var t=Math.max(r.vmin,e[0]),n=Math.min(r.vmax,e[1]);return t<n||t===n&&t>e[0]&&t<e[1]?{vmin:t,vmax:n,breakOption:r.breakOption,gapParsed:r.gapParsed,gapReal:r.gapReal}:null}function p8(r,e,t){var n=[];if(!r)return{breaks:n};function a(s,o){return s>=0&&s<1-1e-5}te(r,function(s){if(!(!s||s.start==null||s.end==null)&&!s.isExpanded){var o={breakOption:Qt(s),vmin:e(s.start),vmax:e(s.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(s.gap!=null){var l=!1;if(It(s.gap)){var c=Jl(s.gap);if(c.match(/%$/)){var u=parseFloat(c)/100;a(u)||(u=0),o.gapParsed.type="tpPrct",o.gapParsed.val=u,l=!0}}if(!l){var f=e(s.gap);(!isFinite(f)||f<0)&&(f=0),o.gapParsed.type="tpAbs",o.gapParsed.val=f}}if(o.vmin===o.vmax&&(o.gapParsed.type="tpAbs",o.gapParsed.val=0),t&&t.noNegative&&te(["vmin","vmax"],function(d){o[d]<0&&(o[d]=0)}),o.vmin>o.vmax){var h=o.vmax;o.vmax=o.vmin,o.vmin=h}n.push(o)}}),n.sort(function(s,o){return s.vmin-o.vmin});var i=-1/0;return te(n,function(s,o){i>s.vmin&&(n[o]=null),i=s.vmax}),{breaks:n.filter(function(s){return!!s})}}function I9(r,e){return v8(e)===v8(r)}function v8(r){return r.start+"_\0_"+r.end}function jQe(r,e,t){var n=[];te(r,function(i,s){var o=e(i);o&&o.type==="vmin"&&n.push([s])}),te(r,function(i,s){var o=e(i);if(o&&o.type==="vmax"){var l=dv(n,function(c){return I9(e(r[c[0]]).parsedBreak.breakOption,o.parsedBreak.breakOption)});l&&l.push(s)}});var a=[];return te(n,function(i){i.length===2&&a.push(t?i:[r[i[0]],r[i[1]]])}),a}function WQe(r,e,t,n){var a,i;if(r.break){var s=r.break.parsedBreak,o=dv(t,function(f){return I9(f.breakOption,r.break.parsedBreak.breakOption)}),l=n(Math.pow(e,s.vmin),o.vmin),c=n(Math.pow(e,s.vmax),o.vmax),u={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?ni(Math.pow(e,s.vmin+s.gapParsed.val))-l:s.gapParsed.val};a={type:r.break.type,parsedBreak:{breakOption:s.breakOption,vmin:l,vmax:c,gapParsed:u,gapReal:s.gapReal}},i=o[r.break.type]}return{brkRoundingCriterion:i,vBreak:a}}function YQe(r,e,t){var n={noNegative:!0},a=p8(r,t,n),i=p8(r,t,n),s=Math.log(e);return i.breaks=ft(i.breaks,function(o){var l=Math.log(o.vmin)/s,c=Math.log(o.vmax)/s,u={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?Math.log(o.vmin+o.gapParsed.val)/s-l:o.gapParsed.val};return{vmin:l,vmax:c,gapParsed:u,gapReal:o.gapReal,breakOption:o.breakOption}}),{parsedOriginal:a,parsedLogged:i}}var XQe={vmin:"start",vmax:"end"};function qQe(r,e){return e&&(r=r||{},r.break={type:XQe[e.type],start:e.parsedBreak.vmin,end:e.parsedBreak.vmax}),r}function ZQe(){mBe({createScaleBreakContext:UQe,pruneTicksByBreak:HQe,addBreaksToTicks:GQe,parseAxisBreakOption:p8,identifyAxisBreak:I9,serializeAxisBreakIdentifier:v8,retrieveAxisBreakPairs:jQe,getTicksLogTransformBreak:WQe,logarithmicParseBreaksFromOption:YQe,makeAxisLabelFormatterParamBreak:qQe})}var eQ=Pr();function KQe(r,e){var t=dv(r,function(n){return _i().identifyAxisBreak(n.parsedBreak.breakOption,e.breakOption)});return t||r.push(t={zigzagRandomList:[],parsedBreak:e,shouldRemove:!1}),t}function $Qe(r){te(r,function(e){return e.shouldRemove=!0})}function JQe(r){for(var e=r.length-1;e>=0;e--)r[e].shouldRemove&&r.splice(e,1)}function QQe(r,e,t,n,a){var i=t.axis;if(i.scale.isBlank()||!_i())return;var s=_i().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(I){return I.break},!1);if(!s.length)return;var o=t.getModel("breakArea"),l=o.get("zigzagAmplitude"),c=o.get("zigzagMinSpan"),u=o.get("zigzagMaxSpan");c=Math.max(2,c||0),u=Math.max(c,u||0);var f=o.get("expandOnClick"),h=o.get("zigzagZ"),d=o.getModel("itemStyle"),v=d.getItemStyle(),g=v.stroke,m=v.lineWidth,y=v.lineDash,b=v.fill,S=new er({ignoreModelZ:!0}),A=i.isHorizontal(),E=eQ(e).visualList||(eQ(e).visualList=[]);$Qe(E);for(var M=function(I){var O=s[I][0].break.parsedBreak,P=[];P[0]=i.toGlobalCoord(i.dataToCoord(O.vmin,!0)),P[1]=i.toGlobalCoord(i.dataToCoord(O.vmax,!0)),P[1]<P[0]&&P.reverse();var k=KQe(E,O);k.shouldRemove=!1;var U=new er;L(k.zigzagRandomList,U,P[0],P[1],A,O),f&&U.on("click",function(){var F={type:vL,breaks:[{start:O.breakOption.start,end:O.breakOption.end}]};F[i.dim+"AxisIndex"]=t.componentIndex,a.dispatchAction(F)}),U.silent=!f,S.add(U)},R=0;R<s.length;R++)M(R);r.add(S),JQe(E);function L(I,O,P,k,U,F){var q={stroke:g,lineWidth:m,lineDash:y,fill:"none"},H=U?0:1,Z=1-H,X=n[dr[Z]]+n[bi[Z]];function Y(dt){var K=[],se=[];K[H]=se[H]=dt,K[Z]=n[dr[Z]],se[Z]=X;var _e={x1:K[0],y1:K[1],x2:se[0],y2:se[1]};return eL(_e,_e,{lineWidth:1}),K[0]=_e.x1,K[1]=_e.y1,K[H]}P=Y(P),k=Y(k);for(var re=[],W=[],j=!0,J=n[dr[Z]],ee=0;;ee++){var ae=J===n[dr[Z]],ce=J>=X;ce&&(J=X);var me=[],Se=[];me[H]=P,Se[H]=k,!ae&&!ce&&(me[H]+=j?-l:l,Se[H]-=j?l:-l),me[Z]=J,Se[Z]=J,re.push(me),W.push(Se);var we=void 0;if(ee<I.length?we=I[ee]:(we=Math.random(),I.push(we)),J+=we*(u-c)+c,j=!j,ce)break}var Me=_i().serializeAxisBreakIdentifier(F.breakOption);if(O.add(new ws({anid:"break_a_"+Me,shape:{points:re},style:q,z:h})),F.gapReal!==0){O.add(new ws({anid:"break_b_"+Me,shape:{points:W},style:q,z:h}));var Ve=W.slice();Ve.reverse();var de=re.concat(Ve);O.add(new js({anid:"break_c_"+Me,shape:{points:de},style:{fill:b,opacity:v.opacity},z:h}))}}}function eet(r,e,t,n){var a=r.axis,i=t.transform;Hs(n.style);var s=a.getExtent();a.inverse&&(s=s.slice(),s.reverse());var o=_i().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(m){return m.break},!1),l=ft(o,function(m){var y=m[0].break.parsedBreak,b=[a.dataToCoord(y.vmin,!0),a.dataToCoord(y.vmax,!0)];return b[0]>b[1]&&b.reverse(),{coordPair:b,brkId:_i().serializeAxisBreakIdentifier(y.breakOption)}});l.sort(function(m,y){return m.coordPair[0]-y.coordPair[0]});for(var c=s[0],u=null,f=0;f<l.length;f++){var h=l[f],d=Math.max(h.coordPair[0],s[0]),v=Math.min(h.coordPair[1],s[1]);c<=d&&g(c,d,u,h),c=v,u=h}c<=s[1]&&g(c,s[1],u,null);function g(m,y,b,S){function A(P,k){i&&(Ya(P,P,i),Ya(k,k,i))}function E(P,k){var U={x1:P[0],y1:P[1],x2:k[0],y2:k[1]};eL(U,U,n.style),P[0]=U.x1,P[1]=U.y1,k[0]=U.x2,k[1]=U.y2}var M=[m,0],R=[y,0],L=[m,5],I=[y,5];A(M,L),E(M,L),A(R,I),E(R,I),E(M,R);var O=new ai(nt({shape:{x1:M[0],y1:M[1],x2:R[0],y2:R[1]}},n));e.add(O),O.anid="breakLine_"+(b?b.brkId:"\0")+"_\0_"+(S?S.brkId:"\0")}}function tet(r,e,t){if(dv(t,function(b){return!b}))return;var n=new ir;if(!dL(t[0],t[1],n,{direction:-(r?e+Math.PI:e),touchThreshold:0,bidirectional:!1}))return;var a=$i();up(a,a,-e);var i=ft(t,function(b){return b.transform?Ku($i(),a,b.transform):a});function s(b){var S=t[0].localRect,A=new ir(S[bi[b]]*i[0][0],S[bi[b]]*i[0][1]);return Math.abs(A.y)<1e-5}var o=.5;if(s(0)||s(1)){var l=ft(t,function(b,S){var A=b.localRect.clone();return A.applyTransform(i[S]),A}),c=new ir;c.copy(t[0].label).add(t[1].label).scale(.5),c.transform(a);var u=n.clone().transform(a),f=l[0].x+l[1].x+(u.x>=0?l[0].width:l[1].width),h=(f+u.x)/2-c.x,d=Math.min(h,h-u.x),v=Math.max(h,h-u.x),g=v<0?v:d>0?d:0;o=(h-g)/u.x}var m=new ir,y=new ir;ir.scale(m,n,-o),ir.scale(y,n,1-o),gB(t[0],m),gB(t[1],y)}function ret(r,e){var t={breaks:[]};return te(e.breaks,function(n){if(n){var a=dv(r.get("breaks",!0),function(o){return _i().identifyAxisBreak(o,n)});if(a){var i=e.type,s={isExpanded:!!a.isExpanded};a.isExpanded=i===vL?!0:i===_ce?!1:i===bce?!a.isExpanded:a.isExpanded,t.breaks.push({start:a.start,end:a.end,isExpanded:!!a.isExpanded,old:s})}}}),t}function net(){JVe({adjustBreakLabelPair:tet,buildAxisBreakLine:eet,rectCoordBuildBreakAxis:QQe,updateModelAxisBreak:ret})}function aet(r){a7e(r),ZQe(),net()}function iet(){A7e(set)}function set(r,e){te(r,function(t){if(!t.model.get(["axisLabel","inside"])){var n=oet(t);if(n){var a=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]);e[a]-=n[a]+i,t.position==="top"?e.y+=n.height+i:t.position==="left"&&(e.x+=n.width+i)}}})}function oet(r){var e=r.model,t=r.scale;if(!e.get(["axisLabel","show"])||t.isBlank())return;var n,a,i=t.getExtent();t instanceof N_?a=t.count():(n=t.getTicks(),a=n.length);var s=r.getLabelModel(),o=gb(r),l,c=1;a>40&&(c=Math.ceil(a/40));for(var u=0;u<a;u+=c){var f=n?n[u]:{value:i[0]+u},h=o(f,u),d=s.getTextRect(h),v=g(d,s.get("rotate")||0);l?l.union(v):l=v}return l;function g(m,y){var b=y*Math.PI/180,S=m.width,A=m.height,E=S*Math.abs(Math.cos(b))+Math.abs(A*Math.sin(b)),M=S*Math.abs(Math.sin(b))+Math.abs(A*Math.cos(b)),R=new sr(m.x,m.y,E,M);return R}}Mr([K9e]);Mr([W9e]);Mr([gVe,NVe,VVe,j7e,tHe,jHe,mGe,eje,bje,Cje,Oje,Hje,kWe,iYe,gYe,IYe,PYe,YYe,QYe,uXe,gXe,EXe,uqe]);Mr(Dqe);Mr(eZe);Mr(Xce);Mr(hZe);Mr(Lue);Mr(gZe);Mr(PZe);Mr(WZe);Mr(NKe);Mr(KKe);Mr(JA);Mr(h$e);Mr(v$e);Mr(A$e);Mr(L$e);Mr(F$e);Mr(W$e);Mr(tJe);Mr(_Je);Mr(Ffe);Mr(Ufe);Mr(UJe);Mr(Wfe);Mr(Yfe);Mr(jJe);Mr(ZJe);Mr(lQe);Mr(fQe);Mr(zQe);Mr(f9e);Mr(aet);Mr(iet);Mr(W7e);const cet=Object.freeze(Object.defineProperty({__proto__:null,Axis:su,ChartView:Ln,ComponentModel:kr,ComponentView:Jn,List:bo,Model:zr,PRIORITY:Voe,SeriesModel:Hn,color:c5e,connect:pFe,dataTool:SFe,dependencies:Kze,disConnect:vFe,disconnect:Zoe,dispose:gFe,env:jr,extendChartView:KUe,extendComponentModel:XUe,extendComponentView:qUe,extendSeriesModel:ZUe,format:IUe,getCoordinateSystemDimensions:yFe,getInstanceByDom:lU,getInstanceById:mFe,getMap:bFe,graphic:NUe,helper:wUe,init:dFe,innerDrawElementOnCanvas:aU,matrix:zke,number:DUe,parseGeoJSON:pB,parseGeoJson:pB,registerAction:uf,registerCoordinateSystem:Joe,registerCustomSeries:xFe,registerLayout:Qoe,registerLoading:dU,registerLocale:kF,registerMap:ele,registerPostInit:Koe,registerPostUpdate:$oe,registerPreprocessor:uU,registerProcessor:fU,registerTheme:cU,registerTransform:tle,registerUpdateLifecycle:hL,registerVisual:mv,setCanvasCreator:_Fe,setPlatformAPI:Pae,throttle:uL,time:RUe,use:Mr,util:LUe,vector:wke,version:Zze,zrUtil:gke,zrender:W5e},Symbol.toStringTag,{value:"Module"}));var wd={},Td={},lP={},tQ;function uet(){return tQ||(tQ=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=1,t=function(){return"".concat(e++)};r.default=t})(lP)),lP}var H2={},G2={},cP={},rQ;function ehe(){return rQ||(rQ=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,i=null;return function(){for(var s=this,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];clearTimeout(i),i=setTimeout(function(){n.apply(s,l)},a)}};r.default=e})(cP)),cP}var Ad={},nQ;function L9(){if(nQ)return Ad;nQ=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.SizeSensorId=Ad.SensorTabIndex=Ad.SensorClassName=void 0;var r="size-sensor-id";Ad.SizeSensorId=r;var e="size-sensor-object";Ad.SensorClassName=e;var t="-1";return Ad.SensorTabIndex=t,Ad}var aQ;function fet(){if(aQ)return G2;aQ=1,Object.defineProperty(G2,"__esModule",{value:!0}),G2.createSensor=void 0;var r=t(ehe()),e=L9();function t(a){return a&&a.__esModule?a:{default:a}}var n=function(i,s){var o=void 0,l=[],c=function(){getComputedStyle(i).position==="static"&&(i.style.position="relative");var g=document.createElement("object");return g.onload=function(){g.contentDocument.defaultView.addEventListener("resize",u),u()},g.style.display="block",g.style.position="absolute",g.style.top="0",g.style.left="0",g.style.height="100%",g.style.width="100%",g.style.overflow="hidden",g.style.pointerEvents="none",g.style.zIndex="-1",g.style.opacity="0",g.setAttribute("class",e.SensorClassName),g.setAttribute("tabindex",e.SensorTabIndex),g.type="text/html",i.appendChild(g),g.data="about:blank",g},u=(0,r.default)(function(){l.forEach(function(v){v(i)})}),f=function(g){o||(o=c()),l.indexOf(g)===-1&&l.push(g)},h=function(){o&&o.parentNode&&(o.contentDocument&&o.contentDocument.defaultView.removeEventListener("resize",u),o.parentNode.removeChild(o),i.removeAttribute(e.SizeSensorId),o=void 0,l=[],s&&s())},d=function(g){var m=l.indexOf(g);m!==-1&&l.splice(m,1),l.length===0&&o&&h()};return{element:i,bind:f,destroy:h,unbind:d}};return G2.createSensor=n,G2}var j2={},iQ;function het(){if(iQ)return j2;iQ=1,Object.defineProperty(j2,"__esModule",{value:!0}),j2.createSensor=void 0;var r=L9(),e=t(ehe());function t(a){return a&&a.__esModule?a:{default:a}}var n=function(i,s){var o=void 0,l=[],c=(0,e.default)(function(){l.forEach(function(v){v(i)})}),u=function(){var g=new ResizeObserver(c);return g.observe(i),c(),g},f=function(g){o||(o=u()),l.indexOf(g)===-1&&l.push(g)},h=function(){o.disconnect(),l=[],o=void 0,i.removeAttribute(r.SizeSensorId),s&&s()},d=function(g){var m=l.indexOf(g);m!==-1&&l.splice(m,1),l.length===0&&o&&h()};return{element:i,bind:f,destroy:h,unbind:d}};return j2.createSensor=n,j2}var sQ;function det(){if(sQ)return H2;sQ=1,Object.defineProperty(H2,"__esModule",{value:!0}),H2.createSensor=void 0;var r=fet(),e=het(),t=typeof ResizeObserver<"u"?e.createSensor:r.createSensor;return H2.createSensor=t,H2}var oQ;function pet(){if(oQ)return Td;oQ=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.removeSensor=Td.getSensor=Td.Sensors=void 0;var r=n(uet()),e=det(),t=L9();function n(l){return l&&l.__esModule?l:{default:l}}var a={};Td.Sensors=a;function i(l){l&&a[l]&&delete a[l]}var s=function(c){var u=c.getAttribute(t.SizeSensorId);if(u&&a[u])return a[u];var f=(0,r.default)();c.setAttribute(t.SizeSensorId,f);var h=(0,e.createSensor)(c,function(){return i(f)});return a[f]=h,h};Td.getSensor=s;var o=function(c){var u=c.element.getAttribute(t.SizeSensorId);c.destroy(),i(u)};return Td.removeSensor=o,Td}var lQ;function vet(){if(lQ)return wd;lQ=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.ver=wd.clear=wd.bind=void 0;var r=pet(),e=function(i,s){var o=(0,r.getSensor)(i);return o.bind(s),function(){o.unbind(s)}};wd.bind=e;var t=function(i){var s=(0,r.getSensor)(i);(0,r.removeSensor)(s)};wd.clear=t;var n="1.0.2";return wd.ver=n,wd}var cQ=vet();function uQ(r,e){var t={};return e.forEach(function(n){t[n]=r[n]}),t}function uP(r){return typeof r=="function"}function fQ(r){return typeof r=="string"}var fP,hQ;function get(){return hQ||(hQ=1,fP=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,a,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(a=n;a--!==0;)if(!r(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[a]))return!1;for(a=n;a--!==0;){var s=i[a];if(!r(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}),fP}var met=get();const D1=F_(met);var yet=(function(r){Oae(e,r);function e(t){var n=r.call(this,t)||this;return n.echarts=t.echarts,n.ele=null,n.isInitialResize=!0,n}return e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var n=this.props.shouldSetOption;if(!(uP(n)&&!n(t,this.props))){if(!D1(t.theme,this.props.theme)||!D1(t.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var a=this.getEchartsInstance();D1(t.onEvents,this.props.onEvents)||(this.offEvents(a,t.onEvents),this.bindEvents(a,this.props.onEvents));var i=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];D1(uQ(this.props,i),uQ(t,i))||this.updateEChartsOption(),(!D1(t.style,this.props.style)||!D1(t.className,this.props.className))&&this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.initEchartsInstance=function(){return TW(this,void 0,void 0,function(){var t=this;return AW(this,function(n){return[2,new Promise(function(a){t.echarts.init(t.ele,t.props.theme,t.props.opts);var i=t.getEchartsInstance();i.on("finished",function(){var s=t.ele.clientWidth,o=t.ele.clientHeight;t.echarts.dispose(t.ele);var l=Ow({width:s,height:o},t.props.opts);a(t.echarts.init(t.ele,t.props.theme,l))})})]})})},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},e.prototype.dispose=function(){if(this.ele){try{cQ.clear(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){return TW(this,void 0,void 0,function(){var t,n,a,i,s,o,l=this;return AW(this,function(c){switch(c.label){case 0:return t=this.props,n=t.onEvents,a=t.onChartReady,i=t.autoResize,s=i===void 0?!0:i,[4,this.initEchartsInstance()];case 1:return c.sent(),o=this.updateEChartsOption(),this.bindEvents(o,n||{}),uP(a)&&a(o),this.ele&&s&&cQ.bind(this.ele,function(){l.resize()}),[2]}})})},e.prototype.bindEvents=function(t,n){function a(s,o){fQ(s)&&uP(o)&&t.on(s,function(l){o(l,t)})}for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&a(i,n[i])},e.prototype.offEvents=function(t,n){if(n)for(var a in n)fQ(a)&&t.off(a,n[a])},e.prototype.updateEChartsOption=function(){var t=this.props,n=t.option,a=t.notMerge,i=a===void 0?!1:a,s=t.replaceMerge,o=s===void 0?null:s,l=t.lazyUpdate,c=l===void 0?!1:l,u=t.showLoading,f=t.loadingOption,h=f===void 0?null:f,d=this.getEchartsInstance();return d.setOption(n,{notMerge:i,replaceMerge:o,lazyUpdate:c}),u?d.showLoading(h):d.hideLoading(),d},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize({width:"auto",height:"auto"})}catch(n){console.warn(n)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,n=this.props,a=n.style,i=n.className,s=i===void 0?"":i;n.echarts,n.option,n.theme,n.notMerge,n.replaceMerge,n.lazyUpdate,n.showLoading,n.loadingOption,n.opts,n.onChartReady,n.onEvents,n.shouldSetOption,n.autoResize;var o=JOe(n,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),l=Ow({height:300},a);return An.createElement("div",Ow({ref:function(c){t.ele=c},style:l,className:"echarts-for-react ".concat(s)},o))},e})(xe.PureComponent),xet=(function(r){Oae(e,r);function e(t){var n=r.call(this,t)||this;return n.echarts=cet,n}return e})(yet);const the=({title:r,type:e,data:t,isEmpty:n,onConnect:a,onTitleChange:i})=>{const[s,o]=An.useState(!1),[l,c]=An.useState(r);An.useEffect(()=>{c(r)},[r]);const u=()=>{o(!1),l.trim()!==r&&i?i(l.trim()):c(r)};if(n)return D.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-dashed border-gray-300 shadow-sm flex flex-col items-center justify-center h-full min-h-[300px] hover:bg-gray-50 transition-colors cursor-pointer group",onClick:a,children:[D.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-100 transition-colors",children:D.jsx(gQ,{size:24,className:"text-gray-400 group-hover:text-blue-500"})}),D.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600",children:"Connect Data Source"})]});const f=()=>{const d=t||{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],values:[120,200,150,80,70,110,130]},v={title:{text:r,left:"center",textStyle:{fontSize:14,fontWeight:"normal",color:"#6b7280"},show:!1},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:d.categories,axisLine:{lineStyle:{color:"#e5e7eb"}},axisLabel:{color:"#6b7280"}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#f3f4f6"}},axisLabel:{color:"#6b7280"}},series:[{data:d.values,type:e,smooth:!0,itemStyle:{color:"#3b82f6"},areaStyle:e==="line"?{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(59, 130, 246, 0.3)"},{offset:1,color:"rgba(59, 130, 246, 0)"}]}}:void 0}]};return e==="pie"?{...v,tooltip:{trigger:"item"},xAxis:void 0,yAxis:void 0,grid:void 0,series:[{name:r,type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"}},data:d.values.map((g,m)=>({value:g,name:d.categories[m]}))}]}:v};return D.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm h-full min-h-[300px] flex flex-col",children:[D.jsx("div",{className:"flex justify-center mb-2",children:s?D.jsx("input",{type:"text",value:l,onChange:h=>c(h.target.value),onBlur:u,onKeyDown:h=>h.key==="Enter"&&u(),className:"text-sm font-normal text-gray-900 text-center border-b border-blue-500 outline-none bg-transparent",autoFocus:!0}):D.jsx("h3",{className:"text-sm font-normal text-gray-500 cursor-text hover:text-blue-600 transition-colors text-center",onClick:()=>{i&&o(!0)},children:r})}),D.jsx("div",{className:"flex-1 w-full h-full",children:D.jsx(xet,{option:f(),style:{height:"100%",width:"100%"}})})]})},_et=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>{var S,A,E,M,R;const[i,s]=xe.useState(null),[o,l]=xe.useState("select-table"),[c,u]=xe.useState(null),[f,h]=xe.useState({}),d=()=>{if(r.includes("/analytics")){const L=r.replace("/analytics","/data");return(e[L]||[]).filter(O=>O.type==="custom-table")}return[]},v=L=>{s(L),l("select-table"),u(null),h({})},g=L=>{u(L),l("configure");const I=d().find(O=>O.id===L);if(I){const O=I.columns.find(k=>k.type==="text"),P=I.columns.find(k=>k.type==="number");h({xAxisColumn:(O==null?void 0:O.id)||"",yAxisColumn:(P==null?void 0:P.id)||"",aggregation:"count"})}},m=()=>{if(i&&c){const L=d().find(I=>I.id===c);a&&a(i,{sourceTableId:c,title:(L==null?void 0:L.title)||"Connected Widget",config:f,subtext:f.aggregation==="sum"?"Total Value":"Count of records",trend:{value:"+12.5%",direction:"up"}})}s(null)},y=()=>d().find(L=>L.id===c),b=()=>t.find(L=>L.id===i);return D.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50/50 overflow-y-auto relative",children:[i&&D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200 flex flex-col max-h-[80vh]",children:[D.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[D.jsx("h3",{className:"font-semibold text-gray-800",children:o==="select-table"?"Select Data Source":"Configure Data"}),D.jsx("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:D.jsx(B0,{size:18,className:"rotate-45"})})]}),D.jsx("div",{className:"p-0 overflow-y-auto flex-1",children:o==="select-table"?D.jsx("div",{className:"p-2",children:d().length===0?D.jsxs("div",{className:"p-8 text-center flex flex-col items-center text-gray-500",children:[D.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:D.jsx(Tm,{size:24,className:"text-gray-400"})}),D.jsx("p",{className:"font-medium",children:"No tables found"}),D.jsx("p",{className:"text-sm mt-1",children:"Create a table in the Data section first."})]}):D.jsx("div",{className:"space-y-1",children:d().map(L=>{var I;return D.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-blue-50 rounded-lg group transition-colors flex items-center justify-between border border-transparent hover:border-blue-100",onClick:()=>g(L.id),children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center mr-3 group-hover:bg-blue-200 transition-colors",children:D.jsx(A8,{size:16})}),D.jsxs("div",{children:[D.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:L.title||"Untitled Table"}),D.jsxs("div",{className:"text-xs text-gray-500",children:[((I=L.rows)==null?void 0:I.length)||0," records"]})]})]}),D.jsx("div",{className:"opacity-0 group-hover:opacity-100 text-blue-600 transition-opacity",children:D.jsx(ef,{size:16})})]},L.id)})})}):D.jsxs("div",{className:"p-6 space-y-6",children:[((S=b())==null?void 0:S.type)==="chart"&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X Axis (Category)"}),D.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.xAxisColumn,onChange:L=>h({...f,xAxisColumn:L.target.value}),children:[D.jsx("option",{value:"",children:"Select Column..."}),(A=y())==null?void 0:A.columns.map(L=>D.jsx("option",{value:L.id,children:L.name},L.id))]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y Axis (Value)"}),D.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.yAxisColumn,onChange:L=>h({...f,yAxisColumn:L.target.value}),children:[D.jsx("option",{value:"",children:"Select Column..."}),(E=y())==null?void 0:E.columns.map(L=>D.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),((M=b())==null?void 0:M.type)==="kpi-card"&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metric"}),D.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.aggregation,onChange:L=>h({...f,aggregation:L.target.value}),children:[D.jsx("option",{value:"count",children:"Count of Records"}),D.jsx("option",{value:"sum",children:"Sum of Column"}),D.jsx("option",{value:"avg",children:"Average of Column"})]})]}),f.aggregation!=="count"&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Column"}),D.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.yAxisColumn,onChange:L=>h({...f,yAxisColumn:L.target.value}),children:[D.jsx("option",{value:"",children:"Select Column..."}),(R=y())==null?void 0:R.columns.filter(L=>L.type==="number").map(L=>D.jsx("option",{value:L.id,children:L.name},L.id))]})]})]})]})}),D.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 text-xs text-gray-500 flex justify-between items-center",children:o==="select-table"?D.jsxs(D.Fragment,{children:[D.jsx("span",{children:"Select a table to link."}),D.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>s(null),children:"Cancel"})]}):D.jsxs(D.Fragment,{children:[D.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>l("select-table"),children:"Back"}),D.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",onClick:m,children:"Finish"})]})})]})}),D.jsxs("div",{className:"p-8 w-full",children:[D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-start",children:t.map(L=>{if(L.type==="custom-table")return D.jsx("div",{className:"col-span-full",children:D.jsx(Iae,{...L,onDelete:()=>n&&n(L.id),onRenameTable:I=>a&&a(L.id,{title:I}),onRenameColumn:(I,O)=>{const P=L.columns.map(k=>k.id===I?{...k,name:O}:k);a&&a(L.id,{columns:P})},onAddColumn:()=>{const I={id:Math.random().toString(36).substr(2,9),name:"New Column",type:"text",width:150};a&&a(L.id,{columns:[...L.columns,I]})},onUpdateColumnType:(I,O)=>{const P=L.columns.map(k=>k.id===I?{...k,type:O}:k);a&&a(L.id,{columns:P})},onDeleteColumn:I=>{const O=L.columns.filter(P=>P.id!==I);a&&a(L.id,{columns:O})},onUpdateColumnColor:(I,O)=>{const P=L.columns.map(k=>k.id===I?{...k,color:O}:k);a&&a(L.id,{columns:P})},onUpdateRow:(I,O)=>{const P=L.rows||[],k=P.some(F=>F.id===I);let U;k?U=P.map(F=>F.id===I?{...F,data:O}:F):U=[...P,{id:I,data:O}],a&&a(L.id,{rows:U})}})},L.id);if(L.type==="kpi-card"){const O={DollarSign:Bm,Users:q0,ShoppingBag:T8,Activity:Tm}[L.icon]||Tm;let P=L.value;if(L.sourceTableId){const k=r.replace("/analytics","/data"),F=(e[k]||[]).find(q=>q.id===L.sourceTableId);if(F){const q=L.config||{aggregation:"count"};if(q.aggregation==="count")P=(F.rows||[]).length.toString();else if(q.aggregation==="sum"&&q.yAxisColumn)P=(F.rows||[]).reduce((Z,X)=>{const Y=parseFloat(X.data[q.yAxisColumn])||0;return Z+Y},0).toLocaleString();else if(q.aggregation==="avg"&&q.yAxisColumn){const H=F.rows||[];H.length>0?P=(H.reduce((X,Y)=>{const re=parseFloat(Y.data[q.yAxisColumn])||0;return X+re},0)/H.length).toFixed(1):P="0"}else P=(F.rows||[]).length.toString()}}return D.jsxs("div",{className:"relative group w-full",children:[D.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:D.jsx("button",{onClick:()=>n&&n(L.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:D.jsx(B0,{size:12})})}),D.jsx(Lae,{title:L.title,value:P,icon:O,trend:L.trend,subtext:L.subtext,isEmpty:!L.value&&!L.sourceTableId,onConnect:()=>v(L.id),onTitleChange:k=>a&&a(L.id,{title:k})})]},L.id)}if(L.type==="chart"){let I=null;if(L.sourceTableId){const O=r.replace("/analytics","/data"),k=(e[O]||[]).find(U=>U.id===L.sourceTableId);if(k&&k.rows&&k.rows.length>0){const U=L.config||{},F=U.xAxisColumn,q=U.yAxisColumn,H=k.columns||[],Z=F?H.find(Y=>Y.id===F):H.find(Y=>Y.type==="text"),X=q?H.find(Y=>Y.id===q):H.find(Y=>Y.type==="number");if(Z){const Y=k.rows.map(W=>W.data[Z.id]||"Unknown");let re;X?re=k.rows.map(W=>parseFloat(W.data[X.id])||0):re=k.rows.map(()=>1),I={categories:Y,values:re}}}}return D.jsxs("div",{className:"col-span-2 h-[320px] relative group",children:[D.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:D.jsx("button",{onClick:()=>n&&n(L.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:D.jsx(B0,{size:12})})}),D.jsx(the,{title:L.title,type:L.chartType||"bar",data:I,isEmpty:!L.sourceTableId,onConnect:()=>v(L.id),onTitleChange:O=>a&&a(L.id,{title:O})})]},L.id)}return null})}),t.length===0&&D.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[D.jsx("div",{className:"bg-indigo-50 p-6 rounded-full mb-6",children:D.jsx(eve,{className:"text-indigo-600",size:48})}),D.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Maintenance Operations"}),D.jsx("p",{className:"text-gray-500 max-w-md mb-8",children:'Manage equipment maintenance schedules, work orders, and repair logs here. Use the "Insert" menu to add custom tables and charts.'}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:[{label:"Active Work Orders",value:"12",icon:ry,color:"text-amber-600"},{label:"Completed Today",value:"8",icon:ef,color:"text-green-600"},{label:"Avg Response Time",value:"45m",icon:V_,color:"text-blue-600"}].map((L,I)=>D.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsx("span",{className:"text-gray-500 text-sm font-medium",children:L.label}),D.jsx(L.icon,{className:L.color,size:20})]}),D.jsx("div",{className:"text-3xl font-bold text-gray-900",children:L.value})]},I))})]})]})]})},fc=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:i,placeholderTitle:s="Department Analytics",placeholderDescription:o='Manage your department data and analytics here. Use the "Insert" menu to add custom tables and charts.',defaultStats:l=[]})=>{var R,L,I,O,P;const[c,u]=xe.useState(null),[f,h]=xe.useState("select-table"),[d,v]=xe.useState(null),[g,m]=xe.useState({}),y=()=>{if(r.includes("/analytics")){const k=r.replace("/analytics","/data");return(e[k]||[]).filter(F=>F.type==="custom-table")}return[]},b=k=>{u(k),h("select-table"),v(null),m({})},S=k=>{v(k),h("configure");const U=y().find(F=>F.id===k);if(U){const F=U.columns.find(H=>H.type==="text"),q=U.columns.find(H=>H.type==="number");m({xAxisColumn:(F==null?void 0:F.id)||"",yAxisColumn:(q==null?void 0:q.id)||"",aggregation:"count"})}},A=()=>{if(c&&d){const k=y().find(U=>U.id===d);a&&a(c,{sourceTableId:d,title:(k==null?void 0:k.title)||"Connected Widget",config:g,subtext:g.aggregation==="sum"?"Total Value":"Count of records",trend:{value:"+12.5%",direction:"up"}})}u(null)},E=()=>y().find(k=>k.id===d),M=()=>t.find(k=>k.id===c);return D.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50/50 overflow-y-auto relative",children:[c&&D.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:D.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200 flex flex-col max-h-[80vh]",children:[D.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[D.jsx("h3",{className:"font-semibold text-gray-800",children:f==="select-table"?"Select Data Source":"Configure Data"}),D.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:D.jsx(B0,{size:18,className:"rotate-45"})})]}),D.jsx("div",{className:"p-0 overflow-y-auto flex-1",children:f==="select-table"?D.jsx("div",{className:"p-2",children:y().length===0?D.jsxs("div",{className:"p-8 text-center flex flex-col items-center text-gray-500",children:[D.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:D.jsx(Tm,{size:24,className:"text-gray-400"})}),D.jsx("p",{className:"font-medium",children:"No tables found"}),D.jsx("p",{className:"text-sm mt-1",children:"Create a table in the Data section first."})]}):D.jsx("div",{className:"space-y-1",children:y().map(k=>{var U;return D.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-blue-50 rounded-lg group transition-colors flex items-center justify-between border border-transparent hover:border-blue-100",onClick:()=>S(k.id),children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center mr-3 group-hover:bg-blue-200 transition-colors",children:D.jsx(A8,{size:16})}),D.jsxs("div",{children:[D.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:k.title||"Untitled Table"}),D.jsxs("div",{className:"text-xs text-gray-500",children:[((U=k.rows)==null?void 0:U.length)||0," records"]})]})]}),D.jsx("div",{className:"opacity-0 group-hover:opacity-100 text-blue-600 transition-opacity",children:D.jsx(ef,{size:16})})]},k.id)})})}):D.jsxs("div",{className:"p-6 space-y-6",children:[((R=M())==null?void 0:R.type)==="chart"&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X Axis (Category)"}),D.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:g.xAxisColumn,onChange:k=>m({...g,xAxisColumn:k.target.value}),children:[D.jsx("option",{value:"",children:"Select Column..."}),(L=E())==null?void 0:L.columns.map(k=>D.jsx("option",{value:k.id,children:k.name},k.id))]})]}),D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y Axis (Value)"}),D.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:g.yAxisColumn,onChange:k=>m({...g,yAxisColumn:k.target.value}),children:[D.jsx("option",{value:"",children:"Select Column..."}),(I=E())==null?void 0:I.columns.map(k=>D.jsx("option",{value:k.id,children:k.name},k.id))]})]})]}),((O=M())==null?void 0:O.type)==="kpi-card"&&D.jsxs(D.Fragment,{children:[D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metric"}),D.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:g.aggregation,onChange:k=>m({...g,aggregation:k.target.value}),children:[D.jsx("option",{value:"count",children:"Count of Records"}),D.jsx("option",{value:"sum",children:"Sum of Column"}),D.jsx("option",{value:"avg",children:"Average of Column"})]})]}),g.aggregation!=="count"&&D.jsxs("div",{children:[D.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Column"}),D.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:g.yAxisColumn,onChange:k=>m({...g,yAxisColumn:k.target.value}),children:[D.jsx("option",{value:"",children:"Select Column..."}),(P=E())==null?void 0:P.columns.filter(k=>k.type==="number").map(k=>D.jsx("option",{value:k.id,children:k.name},k.id))]})]})]})]})}),D.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 text-xs text-gray-500 flex justify-between items-center",children:f==="select-table"?D.jsxs(D.Fragment,{children:[D.jsx("span",{children:"Select a table to link."}),D.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>u(null),children:"Cancel"})]}):D.jsxs(D.Fragment,{children:[D.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>h("select-table"),children:"Back"}),D.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",onClick:A,children:"Finish"})]})})]})}),D.jsxs("div",{className:"p-8 w-full",children:[D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-start",children:t.map(k=>{if(k.type==="custom-table")return D.jsx("div",{className:"col-span-full",children:D.jsx(Iae,{...k,onDelete:()=>n&&n(k.id),onRenameTable:U=>a&&a(k.id,{title:U}),onRenameColumn:(U,F)=>{const q=k.columns.map(H=>H.id===U?{...H,name:F}:H);a&&a(k.id,{columns:q})},onAddColumn:()=>{const U={id:Math.random().toString(36).substr(2,9),name:"New Column",type:"text",width:150};a&&a(k.id,{columns:[...k.columns,U]})},onUpdateColumnType:(U,F)=>{const q=k.columns.map(H=>H.id===U?{...H,type:F}:H);a&&a(k.id,{columns:q})},onDeleteColumn:U=>{const F=k.columns.filter(q=>q.id!==U);a&&a(k.id,{columns:F})},onUpdateColumnColor:(U,F)=>{const q=k.columns.map(H=>H.id===U?{...H,color:F}:H);a&&a(k.id,{columns:q})},onUpdateRow:(U,F)=>{const q=k.rows||[],H=q.some(X=>X.id===U);let Z;H?Z=q.map(X=>X.id===U?{...X,data:F}:X):Z=[...q,{id:U,data:F}],a&&a(k.id,{rows:Z})}})},k.id);if(k.type==="kpi-card"){const F={DollarSign:Bm,Users:q0,ShoppingBag:T8,Activity:Tm}[k.icon]||Tm;let q=k.value;if(k.sourceTableId){const H=r.replace("/analytics","/data"),X=(e[H]||[]).find(Y=>Y.id===k.sourceTableId);if(X){const Y=k.config||{aggregation:"count"};if(Y.aggregation==="count")q=(X.rows||[]).length.toString();else if(Y.aggregation==="sum"&&Y.yAxisColumn)q=(X.rows||[]).reduce((W,j)=>{const J=parseFloat(j.data[Y.yAxisColumn])||0;return W+J},0).toLocaleString();else if(Y.aggregation==="avg"&&Y.yAxisColumn){const re=X.rows||[];re.length>0?q=(re.reduce((j,J)=>{const ee=parseFloat(J.data[Y.yAxisColumn])||0;return j+ee},0)/re.length).toFixed(1):q="0"}else q=(X.rows||[]).length.toString()}}return D.jsxs("div",{className:"relative group w-full",children:[D.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:D.jsx("button",{onClick:()=>n&&n(k.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:D.jsx(B0,{size:12})})}),D.jsx(Lae,{title:k.title,value:q,icon:F,trend:k.trend,subtext:k.subtext,isEmpty:!k.value&&!k.sourceTableId,onConnect:()=>b(k.id),onTitleChange:H=>a&&a(k.id,{title:H})})]},k.id)}if(k.type==="chart"){let U=null;if(k.sourceTableId){const F=r.replace("/analytics","/data"),H=(e[F]||[]).find(Z=>Z.id===k.sourceTableId);if(H&&H.rows&&H.rows.length>0){const Z=k.config||{},X=Z.xAxisColumn,Y=Z.yAxisColumn,re=H.columns||[],W=X?re.find(J=>J.id===X):re.find(J=>J.type==="text"),j=Y?re.find(J=>J.id===Y):re.find(J=>J.type==="number");if(W){const J=H.rows.map(ae=>ae.data[W.id]||"Unknown");let ee;j?ee=H.rows.map(ae=>parseFloat(ae.data[j.id])||0):ee=H.rows.map(()=>1),U={categories:J,values:ee}}}}return D.jsxs("div",{className:"col-span-2 h-[320px] relative group",children:[D.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:D.jsx("button",{onClick:()=>n&&n(k.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:D.jsx(B0,{size:12})})}),D.jsx(the,{title:k.title,type:k.chartType||"bar",data:U,isEmpty:!k.sourceTableId,onConnect:()=>b(k.id),onTitleChange:F=>a&&a(k.id,{title:F})})]},k.id)}return null})}),t.length===0&&D.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[i&&D.jsx("div",{className:"bg-indigo-50 p-6 rounded-full mb-6",children:An.isValidElement(i)?An.cloneElement(i,{className:"text-indigo-600",size:48}):i}),D.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s}),D.jsx("p",{className:"text-gray-500 max-w-md mb-8",children:o}),l.length>0&&D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:l.map((k,U)=>D.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsx("span",{className:"text-gray-500 text-sm font-medium",children:k.label}),D.jsx(k.icon,{className:k.color,size:20})]}),D.jsx("div",{className:"text-3xl font-bold text-gray-900",children:k.value})]},U))})]})]})]})},bet=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(mD,{}),placeholderTitle:"Production Operations",placeholderDescription:"Manage production schedules, output tracking, and efficiency metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Daily Output",value:"1,250",icon:mD,color:"text-blue-600"},{label:"Quality Rate",value:"98.5%",icon:ef,color:"text-green-600"},{label:"Downtime",value:"2.3h",icon:V_,color:"text-amber-600"}]}),wet=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(ef,{}),placeholderTitle:"Quality Assurance",placeholderDescription:"Track quality metrics, defect rates, and compliance standards here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Pass Rate",value:"99.2%",icon:ef,color:"text-green-600"},{label:"Defects Found",value:"23",icon:ry,color:"text-red-600"},{label:"Improvement",value:"+5.2%",icon:Kc,color:"text-blue-600"}]}),Tet=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(hP,{}),placeholderTitle:"Sales Operations",placeholderDescription:"Track sales performance, pipeline, and revenue metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Monthly Revenue",value:"$125K",icon:Bm,color:"text-green-600"},{label:"Active Deals",value:"47",icon:hP,color:"text-blue-600"},{label:"Growth",value:"+18%",icon:Kc,color:"text-emerald-600"}]}),Aet=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(Bm,{}),placeholderTitle:"Finance Operations",placeholderDescription:"Manage budgets, expenses, and financial reporting here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Budget",value:"$2.5M",icon:Bm,color:"text-green-600"},{label:"Expenses",value:"$1.8M",icon:g8,color:"text-red-600"},{label:"Variance",value:"+12%",icon:Kc,color:"text-blue-600"}]}),Eet=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(VV,{}),placeholderTitle:"IT Operations",placeholderDescription:"Track system uptime, tickets, and infrastructure metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"System Uptime",value:"99.9%",icon:ef,color:"text-green-600"},{label:"Open Tickets",value:"12",icon:ry,color:"text-amber-600"},{label:"Servers",value:"45",icon:VV,color:"text-blue-600"}]}),Met=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(q0,{}),placeholderTitle:"Human Resources",placeholderDescription:"Manage employee data, recruitment, and HR metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Employees",value:"245",icon:q0,color:"text-blue-600"},{label:"New Hires",value:"12",icon:j0e,color:"text-green-600"},{label:"Retention",value:"94%",icon:Kc,color:"text-emerald-600"}]}),Cet=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(UV,{}),placeholderTitle:"Marketing Operations",placeholderDescription:"Track campaigns, leads, and marketing ROI here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Campaigns",value:"8",icon:UV,color:"text-purple-600"},{label:"Leads Generated",value:"1,245",icon:q0,color:"text-blue-600"},{label:"Conversion Rate",value:"+22%",icon:Kc,color:"text-green-600"}]}),Det=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(vP,{}),placeholderTitle:"Procurement Operations",placeholderDescription:"Manage purchase orders, vendor relationships, and procurement metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active POs",value:"34",icon:vP,color:"text-blue-600"},{label:"Total Spend",value:"$450K",icon:Bm,color:"text-green-600"},{label:"Cost Savings",value:"-8%",icon:MQ,color:"text-emerald-600"}]}),Ret=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(mP,{}),placeholderTitle:"Warehouse Operations",placeholderDescription:"Track inventory levels, storage, and warehouse efficiency here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Items",value:"12,450",icon:S8,color:"text-blue-600"},{label:"Capacity Used",value:"78%",icon:mP,color:"text-amber-600"},{label:"Turnover Rate",value:"+15%",icon:Kc,color:"text-green-600"}]}),Net=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(pP,{}),placeholderTitle:"Shipping Operations",placeholderDescription:"Track shipments, delivery times, and logistics metrics here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Shipments",value:"156",icon:pP,color:"text-blue-600"},{label:"Pending Orders",value:"89",icon:S8,color:"text-amber-600"},{label:"Avg Delivery Time",value:"2.3d",icon:V_,color:"text-green-600"}]}),Iet=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(Zd,{}),placeholderTitle:"Planning Operations",placeholderDescription:"Manage demand forecasting, capacity planning, and scheduling here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Plans",value:"23",icon:Zd,color:"text-blue-600"},{label:"Forecast Accuracy",value:"92%",icon:Kc,color:"text-green-600"},{label:"Alerts",value:"5",icon:ry,color:"text-amber-600"}]}),Let=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(gP,{}),placeholderTitle:"Fleet Management",placeholderDescription:"Track vehicles, maintenance schedules, and fleet efficiency here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Total Vehicles",value:"67",icon:gP,color:"text-blue-600"},{label:"Fuel Efficiency",value:"8.5L/100km",icon:mpe,color:"text-green-600"},{label:"Maintenance Rate",value:"95%",icon:ef,color:"text-emerald-600"}]}),Oet=({activePage:r,allPageWidgets:e,widgets:t=[],onDeleteWidget:n,onUpdateWidget:a})=>D.jsx(fc,{activePage:r,allPageWidgets:e,widgets:t,onDeleteWidget:n,onUpdateWidget:a,placeholderIcon:D.jsx(yD,{}),placeholderTitle:"Vendor Management",placeholderDescription:"Manage vendor relationships, performance metrics, and contracts here. Use the 'Insert' menu to add custom tables and charts.",defaultStats:[{label:"Active Vendors",value:"42",icon:yD,color:"text-blue-600"},{label:"Avg Rating",value:"4.7/5",icon:G3,color:"text-yellow-600"},{label:"Performance",value:"+12%",icon:Kc,color:"text-green-600"}]}),ket=({icon:r,title:e,description:t})=>D.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[D.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:An.isValidElement(r)?An.cloneElement(r,{size:64}):r}),D.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),D.jsx("p",{className:"text-gray-500 max-w-md text-center",children:t})]}),Pet=()=>{const[r,e]=xe.useState(null),[t,n]=xe.useState("landing"),{activePage:a,setActivePage:i,currentView:s,setCurrentView:o,getPageTitle:l,isImmersive:c}=HN(),{isAddCardsOpen:u,setAddCardsOpen:f,isBrainOpen:h,setBrainOpen:d,isTableBuilderOpen:v,setTableBuilderOpen:g}=E8(),{tasks:m,isLoading:y,handleStatusChange:b,handleUpdateTask:S,handleReorder:A,handleQuickCreate:E}=LEe(t,a),{homeCards:M,handleAddHomeCard:R,handleUpdateHomeCard:L,handleRemoveHomeCard:I,handleRemoveHomeCardByType:O}=OEe(),{pageWidgets:P,onUpdateWidget:k}=kEe(t),{showToast:U}=lc();xe.useEffect(()=>{const X=OP.getCurrentUser();X&&(e(X),n("app"))},[]);const F=xe.useMemo(()=>{switch(a){case"inbox":case"home":return[];case"backend":return m.filter(X=>X.tags.includes("Backend")||X.tags.includes("API")||X.tags.includes("Auth"));case"sprints":return m.filter(X=>X.tags.includes("Feature")||X.tags.includes("Bug"));case"frontend":default:return m}},[m,a]);if(t==="landing")return D.jsx(REe,{onLoginClick:()=>n("login")});const q=X=>{e(X),n("app"),U(`Welcome back, ${X.name}!`,"success")},H=()=>{OP.logout(),e(null),n("landing"),U("Logged out successfully","info")},Z=()=>{U("Account activated successfully!","success")};return t==="login"?D.jsx(IEe,{onLoginSuccess:q,onBack:()=>n("landing")}):D.jsxs("div",{className:"flex flex-col h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900",children:[D.jsx(C2e,{user:r,onLogout:H,onActivate:Z}),D.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[D.jsx(_ve,{onLogout:H}),D.jsxs("div",{className:"flex flex-col flex-1 min-w-0 bg-white relative",children:[!c&&a!=="inbox"&&a!=="mind-map"&&a!=="marketplace/local"&&D.jsx(D.Fragment,{children:a.startsWith("operations/")||a.startsWith("business/")||a.startsWith("support/")||a.startsWith("supply-chain/")?D.jsx(wve,{onInsert:X=>{if(X==="custom-table"&&g(!0),X==="kpi-card"){const Y={type:"kpi-card",id:Date.now().toString(),title:"New KPI",value:null,icon:"Activity",trend:null,subtext:"Connect to data source"},re=P[a]||[];k(a,[...re,Y])}if(X.startsWith("chart")){const Y=X.replace("chart-","")||"bar",re={type:"chart",id:Date.now().toString(),title:`New ${Y.charAt(0).toUpperCase()+Y.slice(1)} Chart`,chartType:Y,data:null,sourceTableId:null},W=P[a]||[];k(a,[...W,re])}}}):D.jsx(Sve,{})}),D.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[a==="inbox"&&D.jsx(YEe,{}),a==="marketplace/local"&&D.jsx(KOe,{}),a==="home"&&D.jsx(GEe,{cards:M,onUpdateCard:L,onRemoveCard:I,onOpenCustomize:()=>f(!0)}),a==="overview"&&D.jsx(YOe,{}),a==="goals"&&D.jsx(WOe,{}),a==="mind-map"&&D.jsx(GOe,{}),a==="space"&&D.jsx(UOe,{}),a==="ocean"&&D.jsx(bW,{}),a==="ocean"&&D.jsx(bW,{}),a.startsWith("operations/maintenance")&&D.jsx(_et,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("operations/production")&&D.jsx(bet,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("operations/quality")&&D.jsx(wet,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("business/sales")&&D.jsx(Tet,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("business/finance")&&D.jsx(Aet,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("support/it")&&D.jsx(Eet,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("support/hr")&&D.jsx(Met,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("support/marketing")&&D.jsx(Cet,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("supply-chain/procurement")&&D.jsx(Det,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("supply-chain/warehouse")&&D.jsx(Ret,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("supply-chain/shipping")&&D.jsx(Net,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("supply-chain/planning")&&D.jsx(Iet,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("supply-chain/fleet")&&D.jsx(Let,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),a.startsWith("supply-chain/vendors")&&D.jsx(Oet,{activePage:a,allPageWidgets:P,widgets:P[a]||[],onDeleteWidget:X=>{const Y=(P[a]||[]).filter(re=>re.id!==X);k(a,Y)},onUpdateWidget:(X,Y)=>{const re=(P[a]||[]).map(W=>W.id===X?{...W,...Y}:W);k(a,re)}}),(a.startsWith("operations/")||a.startsWith("business/")||a.startsWith("support/")||a.startsWith("supply-chain/"))&&!["operations/maintenance","operations/production","operations/quality","business/sales","business/finance","support/it","support/hr","support/marketing","supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors"].some(X=>a.startsWith(X))&&D.jsx(ket,{icon:D.jsx($w,{}),title:l(),description:"This module is currently being built."}),!["overview","goals","inbox","home","mind-map","space","ocean"].includes(a)&&!a.startsWith("operations/")&&!a.startsWith("business/")&&!a.startsWith("support/")&&!a.startsWith("supply-chain/")&&!a.startsWith("marketplace/")&&D.jsxs(D.Fragment,{children:[s==="list"&&D.jsx(lAe,{tasks:F,isLoading:y,onStatusChange:b,onAddTask:E,onReorder:A,onUpdateTask:S}),s==="board"&&D.jsx(fAe,{tasks:F,isLoading:y,onAddTask:E,onStatusChange:b}),s==="calendar"&&D.jsx(TEe,{tasks:F,isLoading:y,onAddTask:E})]}),u&&D.jsx(DEe,{isOpen:u,onClose:()=>f(!1),onAddCard:R,onRemoveCard:O,addedCardTypes:M.map(X=>X.typeId)})]})]})]}),D.jsx(MEe,{isOpen:h,onClose:()=>d(!1),tasks:m}),D.jsx(M2e,{isOpen:v,onClose:()=>g(!1),onAdd:X=>{const Y={type:"custom-table",id:Date.now().toString(),...X},re=P[a]||[];k(a,[...re,Y])}})]})},Bet=()=>D.jsx(ave,{children:D.jsx(xve,{children:D.jsx(bve,{children:D.jsx(Pet,{})})})}),rhe=document.getElementById("root");if(!rhe)throw new Error("Could not find root element to mount to");const zet=rde.createRoot(rhe);zet.render(D.jsx(An.StrictMode,{children:D.jsx(Bet,{})}));
