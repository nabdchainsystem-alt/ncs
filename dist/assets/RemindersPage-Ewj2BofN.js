import{c as _,r as n,K as P,j as e,X as Q,R,C as T,Q as F,a0 as q,P as w,g as K,E as W,J as B}from"./index-BaRn3IWj.js";import{r as l}from"./remindersService-CkphtGlV.js";import{F as D}from"./flag-7G_sRA4i.js";import{L as E}from"./list-B6IbW7Ji.js";import{L as G}from"./layout-grid-DzCRWWFn.js";import{T as H}from"./tag-C232WDvR.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],X=_("calendar-days",J),U=({isOpen:s,onClose:o,onConfirm:u,title:g,placeholder:y="Enter value...",confirmText:k="Create",cancelText:d="Cancel",defaultValue:b="",darkMode:m})=>{const[h,c]=n.useState(b),p=n.useRef(null),{ref:C,setIsActive:f}=P({onConfirm:()=>{h.trim()&&(u(h.trim()),o())},onCancel:o,initialActive:s});if(n.useEffect(()=>{f(s),s&&(c(b),setTimeout(()=>{var x,j;(x=p.current)==null||x.focus(),(j=p.current)==null||j.select()},50))},[s,b,f]),!s)return null;const L=x=>{x.preventDefault(),h.trim()&&(u(h.trim()),o())};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsx("div",{ref:C,className:`rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 border ${m?"bg-[#1a1d24] border-gray-700":"bg-white border-gray-100"}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-bold tracking-tight ${m?"text-gray-100":"text-gray-900"}`,children:g}),e.jsx("button",{onClick:o,className:`p-1 rounded-md transition-colors ${m?"text-gray-500 hover:text-gray-300 hover:bg-white/5":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,children:e.jsx(Q,{size:20})})]}),e.jsxs("form",{onSubmit:L,children:[e.jsx("div",{className:"mb-6",children:e.jsx("input",{ref:p,type:"text",value:h,onChange:x=>c(x.target.value),placeholder:y,className:`w-full px-4 py-3 rounded-xl border-2 transition-all outline-none text-base ${m?"bg-gray-900 border-gray-700 focus:border-indigo-500 text-white placeholder-gray-600":"bg-gray-50 border-gray-200 focus:border-black text-gray-900 placeholder-gray-400"}`})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:o,className:`px-4 py-2.5 text-sm font-medium rounded-xl transition-all active:scale-95 ${m?"text-gray-400 hover:text-gray-200 hover:bg-white/5":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:d}),e.jsx("button",{type:"submit",disabled:!h.trim(),className:"px-6 py-2.5 text-sm font-semibold text-white bg-black hover:bg-gray-800 active:scale-95 rounded-xl shadow-lg shadow-black/20 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center gap-2",children:e.jsx("span",{children:k})})]})]})]})})})},se=()=>{var I;const[s,o]=n.useState("all"),[u,g]=n.useState(null),[y,k]=n.useState(""),[d,b]=n.useState([]),[m,h]=n.useState(new Set),[c,p]=n.useState([]),[C,f]=n.useState(!1);R.useEffect(()=>(p(l.getLists()),b(l.getReminders()),l.subscribe(()=>{p(l.getLists()),b(l.getReminders())})),[]);const L=()=>{f(!0)},x=t=>{const a=l.addList({name:t,type:"project",color:"text-black"});o(a.id),f(!1)},j=t=>{var N;if(!t.trim())return;let a=s;["today","scheduled","all","flagged"].includes(s)&&(a=c.some(A=>A.id==="inbox")?"inbox":((N=c[0])==null?void 0:N.id)||"work"),l.addReminder({title:t.trim(),listId:a,dueDate:s==="today"?"Today":void 0,priority:s==="flagged"?"high":"none",tags:[],completed:!1,subtasks:[]})},z=n.useMemo(()=>{const t=d.filter(i=>i.dueDate==="Today"&&!i.completed).length,a=d.filter(i=>(i.dueDate==="Tomorrow"||i.dueDate==="Next Week")&&!i.completed).length,v=d.filter(i=>!i.completed).length,N=d.filter(i=>i.priority==="high"&&!i.completed).length;return[{id:"today",name:"Today",icon:e.jsx(X,{size:24}),count:t,color:"bg-black",textColor:"text-black"},{id:"scheduled",name:"Scheduled",icon:e.jsx(T,{size:24}),count:a,color:"bg-black",textColor:"text-black"},{id:"all",name:"All",icon:e.jsx(F,{size:24}),count:v,color:"bg-black",textColor:"text-black"},{id:"flagged",name:"Flagged",icon:e.jsx(D,{size:24}),count:N,color:"bg-black",textColor:"text-black"}]},[d]),M=[...c,...z].find(t=>t.id===s)||z[2],S=d.filter(t=>y?t.title.toLowerCase().includes(y.toLowerCase()):s==="all"?!t.completed:s==="today"?t.dueDate==="Today"&&!t.completed:s==="scheduled"?(t.dueDate==="Tomorrow"||t.dueDate==="Next Week")&&!t.completed:s==="flagged"?t.priority==="high"&&!t.completed:t.listId===s&&!t.completed),r=d.find(t=>t.id===u),$=t=>{const a=d.find(v=>v.id===t);a&&l.updateReminder(t,{completed:!a.completed}),u===t&&g(null)};return e.jsxs("div",{className:"flex h-full w-full bg-white overflow-hidden font-sans",children:[e.jsxs("div",{className:"w-[260px] bg-gray-50 border-r border-gray-200 flex flex-col flex-shrink-0",children:[e.jsx("div",{className:"p-4 pb-2",children:e.jsxs("div",{className:"relative group",children:[e.jsx(q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-black transition-colors",size:16}),e.jsx("input",{type:"text",placeholder:"Search",value:y,onChange:t=>k(t.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-200 focus:border-black focus:ring-0 rounded-xl text-sm transition-all placeholder-gray-500"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 space-y-6 custom-scrollbar mt-2",children:[e.jsx("div",{className:"grid grid-cols-2 gap-3",children:z.map(t=>e.jsxs("button",{onClick:()=>o(t.id),className:`p-3 rounded-xl flex flex-col justify-between h-[88px] transition-all duration-200 shadow-sm hover:shadow-md border ${s===t.id?"bg-black text-white border-black":"bg-white border-gray-200 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex justify-between items-start w-full",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s===t.id?"bg-white/20 text-white":"bg-gray-100 text-black"}`,children:t.icon&&R.isValidElement(t.icon)?R.cloneElement(t.icon,{size:16}):null}),e.jsx("span",{className:`text-xl font-bold ${s===t.id?"text-white":"text-gray-900"}`,children:t.count})]}),e.jsx("span",{className:`text-xs font-semibold text-left mt-1 ${s===t.id?"text-gray-300":"text-gray-500"}`,children:t.name})]},t.id))}),e.jsxs("div",{children:[e.jsxs("h3",{className:"px-2 text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 flex items-center justify-between",children:["My Lists",e.jsx("button",{className:"hover:bg-gray-200 p-1 rounded transition-colors text-black",children:e.jsx(w,{size:12})})]}),e.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200",children:c.map((t,a)=>e.jsxs("button",{onClick:()=>o(t.id),className:`w-full flex items-center justify-between px-4 py-3 text-sm font-medium transition-colors hover:bg-gray-50 ${a!==c.length-1?"border-b border-gray-100":""} ${s===t.id?"bg-gray-50":""}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-7 h-7 rounded-full bg-gray-100 flex items-center justify-center mr-3 ${t.color}`,children:e.jsx(E,{size:14})}),e.jsx("span",{className:"text-gray-900",children:t.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-400 text-xs",children:t.count}),e.jsx(K,{size:14,className:"text-gray-300"})]})]},t.id))})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between text-gray-500",children:[e.jsxs("button",{onClick:L,className:"flex items-center space-x-2 hover:text-black transition-colors",children:[e.jsx(w,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"New List"})]}),e.jsx("button",{className:"hover:text-black transition-colors",children:e.jsx(G,{size:18})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-white relative z-10 ml-[-1px] border-l border-gray-200",children:[e.jsxs("div",{className:"h-20 flex items-center justify-between px-8 flex-shrink-0 bg-white sticky top-0 z-20 border-b border-gray-100",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-black",children:M.name}),e.jsxs("p",{className:"text-sm text-gray-500 font-medium mt-0.5",children:[S.length," reminders"]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{className:"p-2 text-black hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(W,{size:24})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-8 pb-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-1",children:[S.map(t=>(t.subtasks&&t.subtasks.length>0,m.has(t.id),e.jsx("div",{className:"group relative",children:e.jsxs("div",{onClick:()=>g(t.id),className:`flex items-start p-3 -mx-3 cursor-pointer rounded-xl transition-all duration-200 ${u===t.id?"bg-gray-100":"hover:bg-gray-50"}`,children:[e.jsx("button",{onClick:a=>{a.stopPropagation(),$(t.id)},className:`mt-0.5 w-5 h-5 rounded-full border-[1.5px] flex items-center justify-center transition-all duration-200 ${t.priority==="high"?"border-black hover:bg-black/10":"border-gray-300 hover:border-black hover:bg-black/5"}`}),e.jsxs("div",{className:"ml-4 flex-1 min-w-0 border-b border-gray-100 pb-3 group-last:border-none",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-[15px] font-medium truncate ${t.completed?"text-gray-400 line-through":"text-gray-900"}`,children:t.title}),t.priority==="high"&&e.jsx(D,{size:12,className:"text-black fill-black ml-2 flex-shrink-0"})]}),(t.notes||t.dueDate||t.tags.length>0)&&e.jsxs("div",{className:"flex items-center mt-1 space-x-3 text-xs text-gray-500",children:[t.dueDate&&e.jsx("span",{className:`flex items-center ${t.dueDate==="Today"?"text-black font-bold":"text-gray-500"}`,children:t.dueDate}),t.notes&&e.jsx("span",{className:"truncate max-w-[300px]",children:t.notes}),t.tags.map(a=>e.jsxs("span",{className:"text-gray-600",children:["#",a]},a))]})]})]})},t.id))),e.jsxs("div",{className:"flex items-center p-3 -mx-3 text-gray-400 hover:text-gray-600 cursor-text group",onClick:()=>{const t=document.getElementById("quick-add-input");t==null||t.focus()},children:[e.jsx(w,{size:20,className:"mr-4"}),e.jsx("input",{id:"quick-add-input",type:"text",placeholder:"New Reminder",className:"bg-transparent border-none focus:ring-0 p-0 text-[15px] placeholder-gray-400 w-full",onKeyDown:t=>{t.key==="Enter"&&(j(t.currentTarget.value),t.currentTarget.value="")}})]})]})})]}),r&&e.jsxs("div",{className:"w-[320px] bg-white border-l border-gray-200 flex flex-col animate-in slide-in-from-right-10 duration-300 z-20 shadow-[-10px_0_30px_-10px_rgba(0,0,0,0.05)]",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 bg-white sticky top-0",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Details"}),e.jsx("button",{onClick:()=>g(null),className:"text-black font-medium text-sm hover:text-gray-700",children:"Done"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("button",{onClick:()=>$(r.id),className:`mt-1 w-5 h-5 rounded-full border-[1.5px] flex-shrink-0 ${r.priority==="high"?"border-black":"border-gray-300"}`}),e.jsx("textarea",{value:r.title,onChange:t=>l.updateReminder(r.id,{title:t.target.value}),className:"w-full text-base font-semibold text-gray-900 border-none focus:ring-0 p-0 bg-transparent resize-none h-auto min-h-[24px]",rows:2})]}),e.jsx("div",{className:"pl-8",children:e.jsx("textarea",{value:r.notes||"",onChange:t=>l.updateReminder(r.id,{notes:t.target.value}),placeholder:"Add notes",className:"w-full text-sm text-gray-500 border-none focus:ring-0 p-0 bg-transparent resize-none min-h-[60px]"})})]}),e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 divide-y divide-gray-100",children:[e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(T,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Date"})]}),e.jsx("span",{className:`text-sm ${r.dueDate?"text-black":"text-gray-400"}`,children:r.dueDate||"Add Date"})]}),e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(B,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Time"})]}),e.jsx("span",{className:"text-sm text-gray-400",children:"Add Time"})]}),e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(D,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Priority"})]}),e.jsxs("select",{value:r.priority,onChange:t=>l.updateReminder(r.id,{priority:t.target.value}),className:"text-sm text-gray-500 border-none focus:ring-0 bg-transparent text-right pr-8 cursor-pointer",children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-gray-200 divide-y divide-gray-100",children:[e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(H,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Tags"})]}),e.jsx("span",{className:"text-sm text-gray-400",children:"Add Tags"})]}),e.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-7 h-7 rounded-md bg-black flex items-center justify-center text-white",children:e.jsx(E,{size:14})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"List"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:((I=c.find(t=>t.id===r.listId))==null?void 0:I.name)||"Inbox"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Subtasks"}),e.jsx("button",{className:"text-black hover:bg-gray-100 p-1 rounded",children:e.jsx(w,{size:14})})]}),e.jsxs("div",{className:"space-y-2",children:[r.subtasks.map(t=>e.jsxs("div",{className:"flex items-center group",children:[e.jsx("div",{className:`w-4 h-4 border rounded-full mr-3 ${t.completed?"bg-black border-black":"border-gray-300"}`}),e.jsx("span",{className:`text-sm ${t.completed?"text-gray-400 line-through":"text-gray-700"}`,children:t.title})]},t.id)),r.subtasks.length===0&&e.jsx("p",{className:"text-xs text-gray-400 italic",children:"No subtasks"})]})]}),e.jsx("button",{onClick:()=>{l.deleteReminder(r.id),g(null)},className:"w-full py-3 text-red-600 bg-white rounded-xl font-medium shadow-sm border border-gray-200 hover:bg-red-50 transition-colors",children:"Delete Reminder"})]})]}),e.jsx(U,{isOpen:C,onClose:()=>f(!1),onConfirm:x,title:"Create New List",placeholder:"List Name",confirmText:"Create List"})]})};export{se as default};
