import{r as n,R as v,j as e,aA as y,e as N,aB as w,aC as k,d as z,f as x,an as A,E as R,P as m,a as C,V as P,Z as S}from"./index-BpRJKc9c.js";import{D as O}from"./DashboardShell-BESGSQBS.js";import{g as i}from"./goalsService-BJ0xz_up.js";import{A as T}from"./arrow-up-right-Xhi2x35u.js";const G=()=>{const[r,o]=n.useState([]),[h,g]=n.useState("all");v.useEffect(()=>(o(i.getObjectives()),i.subscribe(()=>{o(i.getObjectives())})),[]);const c=s=>{const t=r.find(d=>d.id===s);t&&i.updateObjective(s,{expanded:!t.expanded})},l=n.useMemo(()=>{const s=r.length,t=r.filter(a=>a.status==="on-track").length,d=r.filter(a=>a.status==="at-risk").length,p=r.filter(a=>a.status==="off-track").length,f=Math.round(r.reduce((a,j)=>a+j.progress,0)/(s||1));return{total:s,onTrack:t,atRisk:d,offTrack:p,avgProgress:f}},[r]),b=s=>{switch(s){case"on-track":return"text-emerald-600 bg-emerald-50 border-emerald-100 ring-emerald-500/20";case"at-risk":return"text-amber-600 bg-amber-50 border-amber-100 ring-amber-500/20";case"off-track":return"text-rose-600 bg-rose-50 border-rose-100 ring-rose-500/20";default:return"text-slate-600 bg-slate-50 border-slate-100 ring-slate-500/20"}},u=s=>{switch(s){case"high":return"bg-emerald-500 shadow-emerald-200";case"medium":return"bg-amber-500 shadow-amber-200";case"low":return"bg-rose-500 shadow-rose-200";default:return"bg-slate-300"}};return e.jsx(O,{title:"Goals & OKRs",subtitle:"Align your team, track progress, and achieve the impossible.",headerActions:e.jsxs("button",{className:"flex items-center px-5 py-2.5 bg-black text-white rounded-xl text-sm font-bold hover:bg-gray-800 transition-all shadow-lg shadow-black/20 hover:shadow-xl hover:-translate-y-0.5",children:[e.jsx(m,{size:18,className:"mr-2"})," New Objective"]}),children:e.jsxs("div",{className:"space-y-8 pb-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(y,{size:80,className:"text-blue-600"})}),e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Overall Progress"}),e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsxs("h3",{className:"text-4xl font-black text-gray-900",children:[l.avgProgress,"%"]}),e.jsxs("span",{className:"text-sm font-medium text-emerald-600 flex items-center",children:[e.jsx(T,{size:14,className:"mr-0.5"})," +12%"]})]}),e.jsx("div",{className:"mt-4 w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full",style:{width:`${l.avgProgress}%`}})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex flex-col justify-between group hover:border-emerald-200 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"On Track"}),e.jsx("h3",{className:"text-3xl font-black text-gray-900",children:l.onTrack})]}),e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-emerald-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(N,{size:20,className:"text-emerald-600"})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.jsxs("strong",{children:[Math.round(l.onTrack/l.total*100),"%"]})," of total objectives"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 flex flex-col justify-between group hover:border-amber-200 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"At Risk"}),e.jsx("h3",{className:"text-3xl font-black text-gray-900",children:l.atRisk})]}),e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-amber-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx(w,{size:20,className:"text-amber-600"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Requires attention immediately"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 p-6 rounded-3xl shadow-lg shadow-indigo-200 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute -right-4 -bottom-4 opacity-20",children:e.jsx(k,{size:100})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-xs font-bold text-indigo-200 uppercase tracking-wider mb-2",children:"Quarterly Goal"}),e.jsx("h3",{className:"text-xl font-bold mb-1",children:"Q4 2024 Sprint"}),e.jsx("p",{className:"text-indigo-100 text-sm mb-4 opacity-90",children:"24 days remaining"}),e.jsxs("button",{className:"bg-white/20 backdrop-blur-md hover:bg-white/30 transition-colors px-4 py-2 rounded-xl text-xs font-bold flex items-center",children:["View Roadmap ",e.jsx(z,{size:12,className:"ml-1"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[e.jsx(x,{size:20,className:"mr-2 text-gray-400"}),"Active Objectives"]}),e.jsx("div",{className:"flex bg-gray-100 p-1 rounded-xl",children:["all","active","completed"].map(s=>e.jsx("button",{onClick:()=>g(s),className:`px-3 py-1.5 rounded-lg text-xs font-bold capitalize transition-all ${h===s?"bg-white text-black shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:s},s))})]}),e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-all duration-300 group",children:[e.jsxs("div",{className:"p-6 cursor-pointer",onClick:()=>c(s.id),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gray-50 flex items-center justify-center flex-shrink-0 border border-gray-100 group-hover:scale-105 transition-transform",children:e.jsx(x,{size:24,className:s.status==="on-track"?"text-emerald-500":s.status==="at-risk"?"text-amber-500":"text-rose-500"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full border ring-1 ${b(s.status)} uppercase tracking-wide`,children:s.status.replace("-"," ")}),e.jsxs("span",{className:"text-[10px] font-medium text-gray-400 flex items-center bg-gray-50 px-2 py-0.5 rounded-full",children:[e.jsx(A,{size:10,className:"mr-1"})," Strategic"]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:s.title})]})]}),e.jsx("button",{className:"text-gray-300 hover:text-gray-600 p-2 hover:bg-gray-50 rounded-full transition-colors",children:e.jsx(R,{size:20})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[e.jsx("span",{className:"text-gray-500",children:"Progress"}),e.jsxs("span",{className:"text-gray-900",children:[s.progress,"%"]})]}),e.jsx("div",{className:"w-full h-2.5 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${s.status==="off-track"?"bg-rose-500":s.status==="at-risk"?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${s.progress}%`}})})]})]}),s.expanded&&e.jsxs("div",{className:"bg-gray-50/50 border-t border-gray-100 p-6 pt-4 space-y-3 animate-in slide-in-from-top-2 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Key Results"}),e.jsxs("button",{className:"text-xs font-bold text-blue-600 hover:text-blue-700 flex items-center hover:bg-blue-50 px-2 py-1 rounded-lg transition-colors",children:[e.jsx(m,{size:12,className:"mr-1"})," Add Result"]})]}),s.keyResults.map(t=>e.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-200/60 shadow-sm flex items-center justify-between group/kr hover:border-blue-200 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-2 h-2 rounded-full shadow-sm ${u(t.confidence)}`,title:`Confidence: ${t.confidence}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm text-gray-800",children:t.title}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsx("div",{className:"flex -space-x-1.5",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] font-bold text-gray-600",children:t.owner.charAt(0)})}),e.jsx("span",{className:"text-[10px] text-gray-400 font-medium",children:t.owner})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[t.current," ",e.jsxs("span",{className:"text-gray-400 text-xs font-normal",children:["/ ",t.target," ",t.unit]})]})}),e.jsx("div",{className:"w-24 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${Math.min(100,t.current/t.target*100)}%`}})})]})]},t.id))]}),!s.expanded&&e.jsx("div",{className:"px-6 pb-4 pt-0",children:e.jsxs("button",{onClick:()=>c(s.id),className:"w-full py-2 flex items-center justify-center text-xs font-bold text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-xl transition-colors",children:["Show ",s.keyResults.length," Key Results ",e.jsx(C,{size:14,className:"ml-1"})]})})]},s.id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(P,{size:20,className:"mr-2 text-blue-500"})," Pulse"]}),e.jsxs("div",{className:"space-y-6 relative",children:[e.jsx("div",{className:"absolute left-2.5 top-2 bottom-2 w-0.5 bg-gray-100"}),[{user:"Sarah",action:"updated",target:"Q4 Revenue",time:"2h ago",color:"bg-pink-500"},{user:"Mike",action:"completed",target:"Hire Senior Dev",time:"4h ago",color:"bg-blue-500"},{user:"Alex",action:"commented on",target:"Mobile App Launch",time:"1d ago",color:"bg-amber-500"}].map((s,t)=>e.jsxs("div",{className:"flex items-start space-x-3 relative z-10",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 border-white shadow-sm flex-shrink-0 ${s.color}`}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xs text-gray-600 leading-relaxed",children:[e.jsx("span",{className:"font-bold text-gray-900",children:s.user})," ",s.action," ",e.jsx("span",{className:"font-medium text-blue-600",children:s.target})]}),e.jsx("span",{className:"text-[10px] text-gray-400 font-medium",children:s.time})]})]},t))]}),e.jsx("button",{className:"w-full mt-6 py-2 text-xs font-bold text-gray-500 hover:text-gray-900 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors",children:"View All Activity"})]}),e.jsxs("div",{className:"bg-amber-50/50 rounded-3xl border border-amber-100 p-6",children:[e.jsxs("h3",{className:"text-sm font-bold text-amber-900 mb-3 flex items-center",children:[e.jsx(S,{size:16,className:"mr-2"})," Focus Areas"]}),e.jsxs("p",{className:"text-xs text-amber-700/80 mb-4 leading-relaxed",children:["These objectives are currently ",e.jsx("strong",{children:"at risk"})," and need immediate attention to get back on track."]}),e.jsx("div",{className:"space-y-2",children:r.filter(s=>s.status==="at-risk").map(s=>e.jsxs("div",{className:"bg-white p-3 rounded-xl border border-amber-100 shadow-sm flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-bold text-gray-800 truncate max-w-[150px]",children:s.title}),e.jsxs("span",{className:"text-[10px] font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[s.progress,"%"]})]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:"Strategic Pillars"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Growth","Product","Culture","Efficiency","Innovation"].map(s=>e.jsxs("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-600 text-xs font-bold rounded-lg hover:bg-gray-100 cursor-pointer transition-colors border border-gray-100",children:["#",s]},s))})]})]})]})]})})};export{G as default};
