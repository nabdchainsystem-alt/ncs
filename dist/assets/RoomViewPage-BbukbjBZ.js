import{c as V,r as s,j as e,ao as ve,ap as Fe,ag as he,aq as it,ah as Be,K as ot,h as me,T as ye,l as Ce,C as le,O as Ve,X as pe,P as K,E as be,a6 as He,S as ct,a2 as dt,ar as Ee,B as Ge,ae as xt,z as mt,k as fe,Z as je,as as ut,at as gt,R as Se,au as We,U as $e,Q as De,a3 as Ue,av as ht,aw as pt,ax as ft,ay as yt,az as Ae,$ as bt,aA as vt,ad as Re,aB as jt,aC as Pe,aD as Nt,a8 as wt,aE as kt}from"./index-sqQsKImc.js";import{A as Le,M as Ct,T as St}from"./TaskBoard-DC-l2SVj.js";import{T as ue}from"./tag-Dqtpp501.js";import{F as G}from"./flag-DM0neTDo.js";import{C as Ne}from"./circle-user-Do5r7FTI.js";import{A as Me,P as Dt}from"./pin-DjGnB7tA.js";import{C as Je}from"./circle-D3aeOWVm.js";import{L as Ie}from"./layout-template-CiKgUKeF.js";import{C as Ke}from"./copy-BQSRc9CV.js";import{L as Ye,P as Tt,C as zt,a as $t,W as Mt}from"./DropdownCell-CSE_WS_c.js";import{G as qe,P as Et}from"./paperclip-BPOrNbhc.js";import{C as At}from"./CustomTable-B9-wr1nT.js";import{A as Rt}from"./phone-7-BcSGjI.js";import{T as Pt}from"./type-L4PgBd7E.js";import{M as Lt}from"./minus-CDGUDZnw.js";import{D as It}from"./DatePicker-pXxBGZdI.js";import"./index-Ca_DMGSD.js";import{S as Ot}from"./smile-CQ81lmMB.js";import{S as _t}from"./send-DIsEsVbI.js";import{C as Ft}from"./calendar-plus-YXip1osB.js";import{S as Xe}from"./star-hYvHy8aM.js";import{L as Bt}from"./link-DEEz8jQW.js";import{S as Vt}from"./save-CIDncS3a.js";import{L as Oe}from"./list-Dm11EKlK.js";import"./remindersService-Dlo5WC4R.js";import"./goalsService-XSbMoi0L.js";import"./sortable.esm-BXA-dmXh.js";import"./core.esm-TRimKU_7.js";import"./list-ordered-5Rzf6Kqc.js";import"./corner-down-right-Dl5DQQhO.js";import"./xlsx-bcnoXpwv.js";import"./arrow-up-down-Cf4uiBIA.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Gt=V("at-sign",Ht);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ut=V("ban",Wt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Qe=V("check-check",Jt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ze=V("chevron-up",Kt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],qt=V("chevrons-up",Yt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],et=V("columns-3",Xt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Zt=V("copy-plus",Qt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],tt=V("corner-down-left",es);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ss=V("external-link",ts);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]],rs=V("git-fork",as);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],ls=V("hand",ns);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],os=V("image",is);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],ds=V("kanban",cs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ms=V("map",xs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],gs=V("mic",us);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],ps=V("mouse-pointer-2",hs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],st=V("move",fs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ge=V("pencil",ys);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],vs=V("rectangle-ellipsis",bs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Ns=V("redo-2",js);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],ks=V("slash",ws);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Ss=V("undo-2",Cs),Ds={columns:[{id:"todo",title:"TO DO",color:"gray"},{id:"in-progress",title:"DFS",color:"pink"},{id:"complete",title:"COMPLETE",color:"emerald"}],tasks:[{id:"t1",title:"Design System",statusId:"todo",priority:"high",dueDate:"Oct 24",tags:["Design"],subtasks:[],assignee:"M"},{id:"t2",title:"API Integration",statusId:"in-progress",priority:"urgent",tags:["Dev","Backend"],subtasks:[{id:"s1",title:"Subtask 1",completed:!0},{id:"s2",title:"Subtask 2",completed:!1}],assignee:"A"},{id:"t3",title:"User Testing",statusId:"complete",priority:"low",tags:["QA"],subtasks:[],assignee:"J"}]},Te={urgent:{color:"text-red-500",icon:G,label:"Urgent"},high:{color:"text-orange-500",icon:G,label:"High"},normal:{color:"text-blue-500",icon:G,label:"Normal"},low:{color:"text-gray-500",icon:G,label:"Low"},none:{color:"text-gray-400",icon:G,label:"Clear"}},te=({icon:t,label:a,hasSubmenu:o=!1})=>e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center justify-between text-sm text-gray-700 group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t,{size:16,className:"text-gray-400 group-hover:text-gray-600"}),e.jsx("span",{children:a})]}),o&&e.jsx(fe,{size:14,className:"text-gray-400"})]}),at=({currentPriority:t,onSelect:a})=>e.jsxs("div",{className:"py-2",children:[e.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Task Priority"}),e.jsxs("button",{onClick:()=>a("urgent"),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(G,{size:16,className:"text-red-500 fill-current"})," Urgent"]}),e.jsxs("button",{onClick:()=>a("high"),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(G,{size:16,className:"text-orange-500 fill-current"})," High"]}),e.jsxs("button",{onClick:()=>a("normal"),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(G,{size:16,className:"text-blue-500 fill-current"})," Normal"]}),e.jsxs("button",{onClick:()=>a("low"),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(G,{size:16,className:"text-gray-500"})," Low"]}),e.jsx("div",{className:"h-px bg-gray-100 my-1"}),e.jsxs("button",{onClick:()=>a("clear"),className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(ks,{size:16,className:"text-gray-400"})," Clear"]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 px-4 pb-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Add to Personal Priorities"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center text-xs font-bold",children:"MA"}),e.jsx("button",{className:"w-8 h-8 rounded-full bg-gray-100 text-gray-500 flex items-center justify-center hover:bg-gray-200",children:e.jsx(K,{size:14})})]})]})]}),rt=({tags:t,onUpdateTags:a})=>{const[o,m]=s.useState(""),x=l=>{l.preventDefault(),o.trim()&&(a([...t,o.trim()]),m(""))};return e.jsxs("div",{className:"p-2",children:[e.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search or add tags...",className:"w-full px-3 py-2 bg-gray-50 rounded-md border-none text-sm focus:ring-1 focus:ring-indigo-500 outline-none mb-2",value:o,onChange:l=>m(l.target.value),onKeyDown:l=>l.key==="Enter"&&x(l)}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:t.length===0&&!o?e.jsx("div",{className:"text-center py-6 text-gray-400 text-sm italic",children:"No tags created"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(l=>e.jsxs("span",{className:"px-2 py-1 bg-indigo-50 text-indigo-700 rounded text-xs flex items-center gap-1",children:[l,e.jsx("button",{onClick:()=>a(t.filter(g=>g!==l)),className:"hover:text-indigo-900",children:"Ã—"})]},l))})})]})},nt=({selectedDate:t,onSelect:a,onClear:o})=>{const[m,x]=s.useState(new Date),l=new Date(m.getFullYear(),m.getMonth()+1,0).getDate(),g=new Date(m.getFullYear(),m.getMonth(),1).getDay(),C=["January","February","March","April","May","June","July","August","September","October","November","December"],c=()=>{x(new Date(m.getFullYear(),m.getMonth()-1,1))},N=()=>{x(new Date(m.getFullYear(),m.getMonth()+1,1))},z=d=>{const v=`${C[m.getMonth()].substring(0,3)} ${d}`;a(v)};return e.jsxs("div",{className:"p-3 w-64",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsx(mt,{size:16})}),e.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[C[m.getMonth()]," ",m.getFullYear()]}),e.jsx("button",{onClick:N,className:"p-1 hover:bg-gray-100 rounded-full",children:e.jsx(fe,{size:16})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["S","M","T","W","T","F","S"].map(d=>e.jsx("div",{className:"text-[10px] text-gray-400 font-medium",children:d},d))}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:g}).map((d,v)=>e.jsx("div",{},`empty-${v}`)),Array.from({length:l}).map((d,v)=>{const j=v+1,L=`${C[m.getMonth()].substring(0,3)} ${j}`,y=t===L;return e.jsx("button",{onClick:()=>z(j),className:`h-7 w-7 rounded-full text-xs flex items-center justify-center transition-colors ${y?"bg-indigo-600 text-white":"hover:bg-gray-100 text-gray-700"}`,children:j},j)})]}),e.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 flex justify-between",children:[e.jsx("button",{onClick:()=>{const d=new Date,v=`${C[d.getMonth()].substring(0,3)} ${d.getDate()}`;a(v)},className:"text-xs text-indigo-600 font-medium hover:text-indigo-800",children:"Today"}),e.jsx("button",{onClick:o,className:"text-xs text-gray-400 hover:text-red-500",children:"Clear"})]})]})},Ts=({task:t,onDragStart:a,onUpdateTask:o,onDeleteTask:m,onDuplicateTask:x})=>{const[l,g]=s.useState("none"),[C,c]=s.useState(!1),[N,z]=s.useState(t.title),d=s.useRef(null),v=s.useRef(null);s.useEffect(()=>{const y=E=>{d.current&&!d.current.contains(E.target)&&g("none")};return l!=="none"&&document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[l]),s.useEffect(()=>{C&&v.current&&v.current.focus()},[C]);const j=()=>{N.trim()?o({...t,title:N}):z(t.title),c(!1)},L=t.priority;return e.jsxs("div",{draggable:!C,onDragStart:y=>{if(l!=="none"||C){y.preventDefault();return}a(y,t.id)},className:"group relative bg-white p-4 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all cursor-grab active:cursor-grabbing mb-3 z-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 group/header",children:[C?e.jsx("input",{ref:v,type:"text",className:"flex-1 text-sm font-medium text-gray-900 border border-indigo-300 rounded px-1 py-0.5 focus:outline-none focus:ring-2 focus:ring-indigo-100",value:N,onChange:y=>z(y.target.value),onBlur:j,onKeyDown:y=>y.key==="Enter"&&j()}):e.jsx("span",{className:"font-medium text-gray-900 text-sm leading-snug block flex-1 pr-2 break-words",children:t.title}),e.jsx("button",{onClick:y=>{y.stopPropagation(),g("context")},className:`p-1 hover:bg-gray-100 rounded text-gray-400 hover:text-gray-600 transition-all ${l==="context"?"opacity-100 bg-gray-100":"opacity-0 group-hover/header:opacity-100"}`,children:e.jsx(be,{size:16})})]}),e.jsxs("div",{className:"flex items-center gap-2 relative",children:[e.jsx("button",{onClick:y=>{y.stopPropagation(),g("date")},className:`w-7 h-7 flex items-center justify-center rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors ${t.dueDate?"text-blue-600 bg-blue-50 border-blue-200":"text-gray-400"}`,children:e.jsx(le,{size:14,strokeWidth:2.5})}),t.dueDate&&e.jsx("span",{className:"text-[10px] text-gray-500 font-medium -ml-1 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100",children:t.dueDate}),e.jsx("button",{onClick:y=>{y.stopPropagation(),g("priority")},className:`w-7 h-7 flex items-center justify-center rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors ${t.priority!=="none"?Te[L].color:"text-gray-400"}`,children:e.jsx(G,{size:14,strokeWidth:2.5,fill:t.priority!=="none"&&t.priority!=="low"?"currentColor":"none"})}),e.jsx("button",{onClick:y=>{y.stopPropagation(),g("tags")},className:`w-7 h-7 flex items-center justify-center rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors ${t.tags.length>0?"text-indigo-500":"text-gray-400"}`,children:e.jsx(ue,{size:14,strokeWidth:2.5})})]}),t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.tags.map(y=>e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-100",children:y},y))}),l!=="none"&&e.jsxs("div",{ref:d,className:"absolute left-0 top-full mt-2 bg-white rounded-lg shadow-xl border border-gray-100 z-50 overflow-hidden",style:{top:"100%",left:"0",minWidth:l==="date"?"auto":"16rem",width:l==="date"?"auto":"16rem"},onMouseDown:y=>y.stopPropagation(),children:[l==="priority"&&e.jsx(at,{currentPriority:t.priority,onSelect:y=>{o({...t,priority:y==="clear"?"none":y}),g("none")}}),l==="tags"&&e.jsx(rt,{tags:t.tags,onUpdateTags:y=>{o({...t,tags:y})}}),l==="date"&&e.jsx(nt,{selectedDate:t.dueDate,onSelect:y=>{o({...t,dueDate:y}),g("none")},onClear:()=>{o({...t,dueDate:void 0}),g("none")}}),l==="context"&&e.jsxs("div",{className:"w-64",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-100",children:[e.jsx("button",{className:"flex-1 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-50 rounded text-center",children:"Copy link"}),e.jsx("div",{className:"w-px h-4 bg-gray-200"}),e.jsx("button",{className:"flex-1 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-50 rounded text-center",children:"Copy ID"}),e.jsx("div",{className:"w-px h-4 bg-gray-200"}),e.jsx("button",{className:"flex-1 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-50 rounded text-center",children:"New tab"})]}),e.jsxs("div",{className:"py-1 max-h-[300px] overflow-y-auto custom-scrollbar",children:[e.jsxs("button",{onClick:()=>{g("none"),c(!0)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(ge,{size:16,className:"text-gray-400"})," Rename"]}),e.jsx(te,{icon:dt,label:"Convert to",hasSubmenu:!0}),e.jsx(te,{icon:Ie,label:"Task Type",hasSubmenu:!0}),e.jsxs("button",{onClick:()=>{x(t),g("none")},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(Ke,{size:16,className:"text-gray-400"})," Duplicate"]}),e.jsx(te,{icon:Ee,label:"Remind me"}),e.jsx(te,{icon:Ge,label:"Follow task"}),e.jsx(te,{icon:xt,label:"Send email to task"}),e.jsx(te,{icon:K,label:"Add To",hasSubmenu:!0}),e.jsx(te,{icon:Fe,label:"Merge"}),e.jsx(te,{icon:st,label:"Move"}),e.jsx(te,{icon:Ee,label:"Start timer"}),e.jsx("div",{className:"h-px bg-gray-100 my-1"}),e.jsx(te,{icon:Ye,label:"Dependencies",hasSubmenu:!0}),e.jsx(te,{icon:Ie,label:"Templates",hasSubmenu:!0}),e.jsx("div",{className:"h-px bg-gray-100 my-1"}),e.jsx(te,{icon:Me,label:"Archive"}),e.jsxs("button",{onClick:()=>m(t.id),className:"w-full text-left px-4 py-2 hover:bg-red-50 flex items-center gap-3 text-sm text-red-600",children:[e.jsx(ye,{size:16})," Delete"]})]}),e.jsx("div",{className:"p-2 border-t border-gray-100",children:e.jsx("button",{className:"w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-xs font-medium rounded transition-colors",children:"Sharing & Permissions"})})]})]})]})},_e=({onSave:t,onCancel:a})=>{const[o,m]=s.useState(""),[x,l]=s.useState("none"),[g,C]=s.useState([]),[c,N]=s.useState(void 0),[z,d]=s.useState("none"),v=s.useRef(null);s.useEffect(()=>{const y=E=>{v.current&&!v.current.contains(E.target)&&a()};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a]);const j=()=>{o.trim()?t(o,x,g,c):a()},L=y=>{y.key==="Enter"?j():y.key==="Escape"&&(z!=="none"?d("none"):a())};return e.jsxs("div",{ref:v,className:"p-3 bg-white rounded-xl shadow-lg border-2 border-indigo-500 mb-3 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{autoFocus:!0,type:"text",placeholder:"Task Name...",className:"flex-1 outline-none text-sm font-medium text-gray-900 placeholder:text-gray-400 bg-transparent",value:o,onChange:y=>m(y.target.value),onKeyDown:L}),e.jsxs("button",{onClick:j,className:"bg-indigo-500 hover:bg-indigo-600 text-white px-3 py-1.5 rounded-md text-xs font-semibold flex items-center gap-1 transition-colors",children:["Save ",e.jsx(tt,{size:12})]})]}),e.jsxs("div",{className:"flex gap-3 relative",children:[e.jsxs("button",{onClick:()=>d(z==="date"?"none":"date"),className:`flex items-center gap-2 text-xs font-medium transition-colors ${c?"text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(le,{size:14}),c||"Add dates"]}),e.jsxs("button",{onClick:()=>d(z==="priority"?"none":"priority"),className:`flex items-center gap-2 text-xs font-medium transition-colors ${x!=="none"?Te[x].color:"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(G,{size:14,fill:x!=="none"&&x!=="low"?"currentColor":"none"}),x!=="none"?Te[x].label:"Add priority"]}),e.jsxs("button",{onClick:()=>d(z==="tags"?"none":"tags"),className:`flex items-center gap-2 text-xs font-medium transition-colors ${g.length>0?"text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(ue,{size:14}),g.length>0?`${g.length} tags`:"Add tag"]})]}),z!=="none"&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-100 z-50 overflow-hidden",style:{minWidth:"16rem"},children:[z==="date"&&e.jsx(nt,{selectedDate:c,onSelect:y=>{N(y),d("none")},onClear:()=>{N(void 0),d("none")}}),z==="priority"&&e.jsx(at,{currentPriority:x,onSelect:y=>{l(y==="clear"?"none":y),d("none")}}),z==="tags"&&e.jsx(rt,{tags:g,onUpdateTags:y=>C(y)})]})]})},zs=({column:t,tasks:a,onTaskMove:o,onAddTask:m,onUpdateTask:x,onDeleteTask:l,onDuplicateTask:g,onClearColumn:C,onRenameColumn:c,onColorChange:N})=>{const[z,d]=s.useState(!1),[v,j]=s.useState(!1),[L,y]=s.useState(!1),[E,r]=s.useState(!1),[h,w]=s.useState(!1),[P,b]=s.useState(!1),[J,Q]=s.useState(t.title),_=s.useRef(null),W=s.useRef(null);s.useEffect(()=>{const R=B=>{_.current&&!_.current.contains(B.target)&&r(!1)};return E&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[E]),s.useEffect(()=>{P&&W.current&&W.current.focus()},[P]);const k=R=>{R.preventDefault(),d(!0)},A=()=>{d(!1)},H=R=>{R.preventDefault(),d(!1);const B=R.dataTransfer.getData("taskId");B&&o(B,t.id)},se=(R,B)=>{R.dataTransfer.setData("taskId",B),R.dataTransfer.effectAllowed="move"},Y=()=>{J.trim()?c(t.id,J):Q(t.title),b(!1)},ae=R=>{const B={gray:"bg-gray-100 text-gray-700",blue:"bg-blue-600 text-white",green:"bg-green-600 text-white",yellow:"bg-yellow-500 text-white",orange:"bg-orange-500 text-white",red:"bg-red-600 text-white",pink:"bg-pink-600 text-white",purple:"bg-purple-600 text-white",emerald:"bg-emerald-600 text-white"};return B[R]||B.gray};return h?e.jsxs("div",{className:"flex-shrink-0 w-12 h-full pt-3 flex flex-col items-center bg-gray-50 border-r border-gray-100",children:[e.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-gray-200 rounded text-gray-500 mb-4",title:"Expand",children:e.jsx(Le,{size:20,className:"rotate-180"})}),e.jsxs("div",{className:"writing-vertical-lr transform rotate-180 text-sm font-bold text-gray-500 tracking-wide uppercase",children:[t.title,e.jsx("span",{className:"ml-2 px-1.5 py-0.5 rounded-full bg-gray-200 text-xs text-gray-600",children:a.length})]})]}):e.jsxs("div",{className:`flex-shrink-0 w-80 flex flex-col h-full rounded-xl transition-colors duration-200 ${z?"bg-gray-50":""}`,onDragOver:k,onDragLeave:A,onDrop:H,children:[e.jsxs("div",{className:"flex items-center justify-between px-1 py-3 mb-2 relative group/col-header",children:[P?e.jsx("input",{ref:W,type:"text",className:"w-full text-sm font-bold uppercase tracking-wide border border-indigo-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-100",value:J,onChange:R=>Q(R.target.value),onBlur:Y,onKeyDown:R=>R.key==="Enter"&&Y()}):e.jsxs("div",{className:`px-3 py-1.5 rounded-md text-xs font-bold uppercase tracking-wide shadow-sm flex items-center gap-2 ${ae(t.color)}`,children:[t.title,e.jsx("span",{className:"opacity-80 font-normal",children:a.length})]}),e.jsxs("div",{className:"flex gap-1 relative opacity-0 group-hover/col-header:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>y(!L),className:`p-1.5 hover:bg-gray-100 rounded transition-colors ${L?"bg-gray-100 text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(K,{size:16})}),e.jsx("button",{className:`p-1.5 hover:bg-gray-100 rounded transition-colors ${E?"bg-gray-100 text-gray-800":"text-gray-400 hover:text-gray-600"}`,onClick:()=>r(!E),children:e.jsx(be,{size:16})}),E&&e.jsx("div",{ref:_,className:"absolute right-0 top-full mt-1 w-60 bg-white rounded-lg shadow-xl border border-gray-100 z-50 overflow-hidden",children:e.jsxs("div",{className:"py-2",children:[e.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500",children:"Color"}),e.jsx("div",{className:"px-4 py-2 flex gap-2 flex-wrap",children:["gray","blue","green","yellow","orange","red","pink","purple","emerald"].map(R=>e.jsx("button",{onClick:()=>N(t.id,R),className:`w-5 h-5 rounded-full hover:scale-110 transition-transform ${R==="gray"?"bg-gray-200":`bg-${R}-500`} ${t.color===R?"ring-2 ring-offset-1 ring-gray-400":""}`,title:R},R))}),e.jsx("div",{className:"h-px bg-gray-100 my-1"}),e.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500",children:"Group options"}),e.jsxs("button",{onClick:()=>{w(!0),r(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(Le,{size:16,className:"text-gray-400"})," Collapse group"]}),e.jsxs("button",{onClick:()=>{C(t.id),r(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(Me,{size:16,className:"text-gray-400"})," Archive all in this group"]}),e.jsx("div",{className:"h-px bg-gray-100 my-1"}),e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(He,{size:16,className:"text-gray-400"})," Automate status"]}),e.jsx("div",{className:"h-px bg-gray-100 my-1"}),e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(ct,{size:16,className:"text-gray-400"})," Select all"]}),e.jsxs("button",{onClick:()=>{b(!0),r(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(ge,{size:16,className:"text-gray-400"})," Rename"]}),e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center gap-3 text-sm text-gray-700",children:[e.jsx(Je,{size:16,className:"text-gray-400"})," Edit statuses"]})]})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-1 scrollbar-default pb-4",children:[L&&e.jsx(_e,{onSave:(R,B,ee,q)=>{m(t.id,R,{priority:B,tags:ee,dueDate:q}),y(!1)},onCancel:()=>y(!1)}),a.map(R=>e.jsx(Ts,{task:R,onDragStart:se,onUpdateTask:x,onDeleteTask:l,onDuplicateTask:g},R.id)),v?e.jsx(_e,{onSave:(R,B,ee,q)=>{m(t.id,R,{priority:B,tags:ee,dueDate:q}),j(!1)},onCancel:()=>j(!1)}):e.jsxs("button",{onClick:()=>j(!0),className:"w-full py-2 flex items-center gap-2 text-emerald-700 hover:text-emerald-800 text-sm font-medium pl-2 transition-colors hover:bg-emerald-50 rounded-lg mt-1",children:[e.jsx(K,{size:18}),"Add Task"]})]})]})},$s=({storageKey:t})=>{const[a,o]=s.useState(()=>{if(t)try{const r=localStorage.getItem(t);if(r){const h=JSON.parse(r);if(h&&Array.isArray(h.columns)&&Array.isArray(h.tasks))return h}}catch(r){console.error("Failed to load kanban data",r)}return{...Ds,tasks:[]}});s.useEffect(()=>{if(t)try{localStorage.setItem(t,JSON.stringify(a))}catch(r){console.error("Failed to save kanban data",r)}},[a,t]);const[m,x]=s.useState(""),[l,g]=s.useState("none"),C=s.useRef(null);s.useEffect(()=>{const r=h=>{C.current&&!C.current.contains(h.target)&&g("none")};return l!=="none"&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[l]);const c=(r,h)=>{o(w=>{const P=w.tasks.map(b=>b.id===r?{...b,statusId:h}:b);return{...w,tasks:P}})},N=(r,h,w)=>{const P={id:`task-${Date.now()}`,title:h,statusId:r,priority:(w==null?void 0:w.priority)||"none",tags:(w==null?void 0:w.tags)||[],subtasks:[],dueDate:w==null?void 0:w.dueDate,...w};o(b=>({...b,tasks:[...b.tasks,P]}))},z=r=>{o(h=>({...h,tasks:h.tasks.map(w=>w.id===r.id?r:w)}))},d=r=>{o(h=>({...h,tasks:h.tasks.filter(w=>w.id!==r)}))},v=r=>{const h={...r,id:`task-${Date.now()}`,title:`${r.title} (Copy)`};o(w=>({...w,tasks:[...w.tasks,h]}))},j=r=>{confirm("Are you sure you want to archive all tasks in this group?")&&o(h=>({...h,tasks:h.tasks.filter(w=>w.statusId!==r)}))},L=(r,h)=>{o(w=>({...w,columns:w.columns.map(P=>P.id===r?{...P,title:h}:P)}))},y=(r,h)=>{o(w=>({...w,columns:w.columns.map(P=>P.id===r?{...P,color:h}:P)}))},E=a.tasks.filter(r=>r.title.toLowerCase().includes(m.toLowerCase()));return e.jsxs("div",{className:"flex flex-col h-screen bg-white text-gray-800 font-sans",children:[e.jsxs("header",{className:"flex-none px-8 py-5 flex items-center justify-between bg-white z-20 relative",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-gray-50 border border-gray-200 rounded-full text-xs font-semibold text-gray-700 transition-colors shadow-sm",children:[e.jsx(ve,{size:14,className:"text-gray-500"}),"Group: Status"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-gray-50 border border-gray-200 rounded-full text-xs font-semibold text-gray-700 transition-colors shadow-sm",children:[e.jsx(Fe,{size:14,className:"text-gray-500"}),"Subtasks"]})]}),e.jsxs("div",{className:"flex items-center gap-3",ref:C,children:[e.jsxs("div",{className:"relative group mr-2",children:[e.jsx(he,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-gray-600"}),e.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 text-sm bg-gray-50 border border-transparent hover:border-gray-200 focus:border-indigo-200 focus:bg-white rounded-full outline-none w-56 transition-all",value:m,onChange:r=>x(r.target.value)})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>g(l==="sort"?"none":"sort"),className:`flex items-center gap-2 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${l==="sort"?"bg-gray-100 text-gray-800":"text-gray-500 hover:text-gray-800 hover:bg-gray-50"}`,children:[e.jsx(it,{size:16}),"Sort"]}),l==="sort"&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 py-2 z-50",children:[e.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500",children:"Sort By"}),["Status","Task Name","Assignee","Priority","Due date","Start date","Date created","Date updated","Date closed","Time tracked","Time estimate","Total time in Status","Duration"].map(r=>e.jsx("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm text-gray-700 block",children:r},r))]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>g(l==="filter"?"none":"filter"),className:`flex items-center gap-2 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${l==="filter"?"bg-gray-100 text-gray-800":"text-gray-500 hover:text-gray-800 hover:bg-gray-50"}`,children:[e.jsx(Be,{size:16}),"Filter"]}),l==="filter"&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-100 p-4 z-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-gray-800",children:["Filters ",e.jsx(ot,{size:12,className:"text-gray-400"})]}),e.jsxs("button",{className:"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700 bg-gray-50 px-2 py-1 rounded border border-gray-200",children:["Saved filters ",e.jsx(me,{size:12})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"relative flex-1 mr-2",children:e.jsxs("button",{className:"w-full flex items-center justify-between px-3 py-1.5 bg-white border border-gray-300 rounded text-sm text-gray-600",children:["Select filter ",e.jsx(me,{size:14})]})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded",children:e.jsx(ye,{size:16})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 mb-4",children:[e.jsxs("div",{className:"relative mb-2",children:[e.jsx(he,{size:14,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-blue-500"}),e.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-8 pr-3 py-1.5 bg-white border border-gray-200 rounded text-sm outline-none focus:border-blue-500",autoFocus:!0})]}),e.jsx("div",{className:"space-y-0.5",children:[{icon:Ce,label:"Status"},{icon:ue,label:"Tags"},{icon:le,label:"Due date"},{icon:G,label:"Priority"},{icon:Ne,label:"Assignee"},{icon:Me,label:"Archived"},{icon:Ve,label:"Assigned comment"},{icon:Ne,label:"Created by"},{icon:le,label:"Date closed"},{icon:le,label:"Date created"}].map((r,h)=>e.jsxs("button",{className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-gray-100 rounded text-sm text-gray-700",children:[e.jsx(r.icon,{size:14,className:"text-gray-500"}),r.label]},h))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-3 py-1.5 text-xs font-medium text-red-600 hover:bg-red-50 rounded border border-red-200",children:"Clear all"})})]})]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 text-xs font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx(Ce,{size:16}),"Closed"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>g(l==="assignee"?"none":"assignee"),className:`flex items-center gap-2 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${l==="assignee"?"bg-gray-100 text-gray-800":"text-gray-500 hover:text-gray-800 hover:bg-gray-50"}`,children:[e.jsx(Ne,{size:16}),"Assignee"]}),l==="assignee"&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Assignees"}),e.jsx("button",{onClick:()=>g("none"),className:"p-1 hover:bg-gray-100 rounded-full text-gray-400",children:e.jsx(pe,{size:16})})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(he,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by user or team",className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-200 rounded-md outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",autoFocus:!0})]}),e.jsx("div",{className:"py-8 px-4 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No tasks have been assigned yet. Set assignees on tasks to get started."})})]})]})]}),e.jsx("div",{className:"flex items-center -space-x-2 ml-2",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white border-2 border-white flex items-center justify-center text-xs font-bold",children:"M"})})]})]}),e.jsx("main",{className:"flex-1 overflow-x-auto overflow-y-hidden px-8 pb-4 bg-white",children:e.jsxs("div",{className:"flex h-full gap-10",children:[a.columns.map(r=>e.jsx(zs,{column:r,tasks:E.filter(h=>h.statusId===r.id),onTaskMove:c,onAddTask:N,onUpdateTask:z,onDeleteTask:d,onDuplicateTask:v,onClearColumn:j,onRenameColumn:L,onColorChange:y},r.id)),e.jsx("div",{className:"flex-shrink-0 w-80 pt-3",children:e.jsxs("button",{className:"flex items-center gap-2 text-gray-400 hover:text-gray-600 transition-colors group",children:[e.jsx(K,{size:20,className:"group-hover:bg-gray-100 rounded p-0.5"}),e.jsx("span",{className:"text-sm font-medium",children:"Add group"})]})})]})})]})};function lt(t){var a,o,m="";if(typeof t=="string"||typeof t=="number")m+=t;else if(typeof t=="object")if(Array.isArray(t)){var x=t.length;for(a=0;a<x;a++)t[a]&&(o=lt(t[a]))&&(m&&(m+=" "),m+=o)}else for(o in t)t[o]&&(m&&(m+=" "),m+=o);return m}function Ms(){for(var t,a,o=0,m="",x=arguments.length;o<x;o++)(t=arguments[o])&&(a=lt(t))&&(m&&(m+=" "),m+=a);return m}const we=120,Es=[{id:"ai-brain",title:"AI Brain",description:"Generate ideas and content with a custom prompt",color:"#f1f0ff",size:"md",x:0,y:0},{id:"task-list",title:"Task List",description:"Create a List view using tasks from any location",color:"#f8f1ff",size:"md",x:1,y:0},{id:"workload-status",title:"Workload by Status",description:"Display a pie chart of your statuses usage",color:"#eaf7f5",size:"md",x:2,y:0},{id:"calc",title:"Calculation",description:"Calculate sums, averages, and more",color:"#fef8ef",size:"md",x:0,y:1},{id:"portfolio",title:"Portfolio",description:"Track progress across lists & folders",color:"#eef5ff",size:"md",x:1,y:1},{id:"assignee",title:"Tasks by Assignee",description:"Pie chart of tasks grouped by assignee",color:"#eef4ff",size:"md",x:2,y:1},{id:"notes",title:"Notes",description:"Add rich text, images, and links",color:"#fff7e6",size:"md",x:0,y:2},{id:"discussion",title:"Discussion",description:"Collaborate and chat with members",color:"#fff0f4",size:"md",x:1,y:2},{id:"bookmarks",title:"Bookmarks",description:"Quickly access important items",color:"#f0f6ff",size:"md",x:2,y:2}],As=({storageKey:t})=>{const[a,o]=s.useState([]),[m,x]=s.useState(null),[l,g]=s.useState({dx:0,dy:0}),[C,c]=s.useState(!1),N=s.useMemo(()=>{try{const r=localStorage.getItem(t);if(r){const h=JSON.parse(r);if(Array.isArray(h))return h}}catch(r){console.warn("Failed to load overview",r)}return[]},[t]);s.useEffect(()=>{o(N)},[N]),s.useEffect(()=>{try{localStorage.setItem(t,JSON.stringify(a))}catch(r){console.warn("Failed to save overview",r)}},[a,t]);const z=(r,h)=>{const w=r.currentTarget.getBoundingClientRect();x(h),g({dx:r.clientX-w.left,dy:r.clientY-w.top}),window.addEventListener("mousemove",d),window.addEventListener("mouseup",v)},d=s.useCallback(r=>{if(!m)return;const h=Math.max(0,Math.round((r.clientX-l.dx)/we)),w=Math.max(0,Math.round((r.clientY-l.dy-120)/we));o(P=>P.map(b=>b.id===m?{...b,x:h,y:w}:b))},[m,l.dx,l.dy]),v=s.useCallback(()=>{x(null),window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",v)},[d]);s.useEffect(()=>()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",v)},[d,v]);const j=r=>{o(h=>h.filter(w=>w.id!==r))},L=r=>{o(h=>h.map(w=>w.id!==r?w:{...w,size:{sm:"md",md:"lg",lg:"sm"}[w.size]}))},y=r=>{a.find(h=>h.id===r.id)||(o(h=>[...h,{...r,x:h.length%3,y:Math.floor(h.length/3)}]),c(!1))},E=r=>{switch(r){case"lg":return"w-[360px] h-[220px]";case"md":return"w-[280px] h-[200px]";default:return"w-[220px] h-[180px]"}};return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Overview"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Drag, drop, and resize cards to build your dashboard."})]}),e.jsx("div",{className:"flex items-center gap-2"})]}),e.jsx("div",{className:"flex-1 relative overflow-auto bg-gray-50",children:e.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-4",children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${we}px, 1fr))`,gap:16},children:a.map(r=>e.jsxs("div",{style:{gridColumnStart:r.x+1,gridRowStart:r.y+1},className:Ms("relative rounded-xl shadow-sm border border-gray-200 bg-white cursor-move select-none",E(r.size)),onMouseDown:h=>z(h,r.id),children:[e.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none",style:{background:r.color}}),e.jsxs("div",{className:"relative h-full flex flex-col p-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(qe,{size:14}),e.jsx("span",{className:"text-[11px] uppercase font-semibold text-gray-400",children:"Card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:h=>{h.stopPropagation(),L(r.id)},title:"Resize",children:e.jsx(st,{size:14})}),e.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:h=>{h.stopPropagation(),j(r.id)},children:e.jsx(pe,{size:14})})]})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:r.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:r.description})]})]})]},r.id))})})}),C&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white w-[90vw] max-w-5xl h-[80vh] rounded-2xl shadow-2xl overflow-hidden flex",children:[e.jsxs("div",{className:"w-64 border-r border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"p-4 flex items-center gap-2 text-sm font-semibold text-gray-700",children:[e.jsx(K,{size:14})," Add Card"]}),e.jsx("div",{className:"space-y-1 px-2",children:["Featured","Overview","AI Cards","Custom","Sprints","Statuses","Tags","Assignees","Priorities","Time Tracking","Tables","Embeds and Apps"].map(r=>e.jsx("div",{className:"px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-white font-medium",children:r},r))}),e.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4 px-3 space-y-2 text-sm text-gray-500",children:[e.jsx("div",{children:"Help Docs"}),e.jsx("div",{children:"Dashboard Webinar"}),e.jsx("div",{children:"Dashboard Guide"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Featured"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 border border-gray-200 rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-clickup-purple/40"}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>c(!1),children:e.jsx(pe,{size:16})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Es.map(r=>e.jsxs("button",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition flex flex-col text-left overflow-hidden",onClick:()=>y(r),children:[e.jsx("div",{className:"h-32",style:{background:r.color}}),e.jsxs("div",{className:"p-3 space-y-1",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:r.title}),e.jsx("div",{className:"text-xs text-gray-500",children:r.description})]})]},r.id))})})]})]})})]})},Rs=({roomId:t,viewId:a})=>{const o=`room-table-columns-${t}-${a}`,m=`room-table-rows-${t}-${a}`,x=`room-table-title-${t}-${a}`,[l,g]=s.useState(()=>{try{return localStorage.getItem(x)||"Table View"}catch{return"Table View"}}),[C,c]=s.useState(()=>{try{const d=localStorage.getItem(o);return d?JSON.parse(d):[{id:"col1",name:"Task Name",type:"text"},{id:"col2",name:"Status",type:"status",options:[{id:"1",label:"To Do",color:"#e5e7eb"},{id:"2",label:"In Progress",color:"#bfdbfe"},{id:"3",label:"Done",color:"#bbf7d0"},{id:"4",label:"Stuck",color:"#fecaca"}]},{id:"col3",name:"Due Date",type:"date"},{id:"col4",name:"Priority",type:"status",options:[{id:"1",label:"High",color:"#fca5a5"},{id:"2",label:"Medium",color:"#fcd34d"},{id:"3",label:"Low",color:"#bfdbfe"}]},{id:"col5",name:"Owner",type:"text"}]}catch{return[{id:"col1",name:"Task Name",type:"text"},{id:"col2",name:"Status",type:"status",options:[{id:"1",label:"To Do",color:"#e5e7eb"},{id:"2",label:"In Progress",color:"#bfdbfe"},{id:"3",label:"Done",color:"#bbf7d0"},{id:"4",label:"Stuck",color:"#fecaca"}]},{id:"col3",name:"Due Date",type:"date"},{id:"col4",name:"Priority",type:"status",options:[{id:"1",label:"High",color:"#fca5a5"},{id:"2",label:"Medium",color:"#fcd34d"},{id:"3",label:"Low",color:"#bfdbfe"}]},{id:"col5",name:"Owner",type:"text"}]}}),[N,z]=s.useState(()=>{try{const d=localStorage.getItem(m);return d?JSON.parse(d):[]}catch{return[]}});return s.useEffect(()=>{localStorage.setItem(o,JSON.stringify(C))},[C,o]),s.useEffect(()=>{localStorage.setItem(m,JSON.stringify(N))},[N,m]),s.useEffect(()=>{localStorage.setItem(x,l)},[l,x]),e.jsx("div",{className:"h-full bg-white p-6 overflow-hidden flex flex-col",children:e.jsx(At,{id:`table-${t}-${a}`,title:l,columns:C,rows:N,onRenameTable:g,onRowsChange:z,onAddColumn:(d,v)=>{const j=Math.random().toString(36).substr(2,9);c([...C,{id:j,name:(v==null?void 0:v.name)||"New Column",type:d||"text",width:150,options:v==null?void 0:v.options,currency:v==null?void 0:v.currency}])},onRenameColumn:(d,v)=>{c(C.map(j=>j.id===d?{...j,name:v}:j))},onDeleteColumn:d=>{c(C.filter(v=>v.id!==d))},onUpdateColumnType:(d,v)=>{c(C.map(j=>j.id===d?{...j,type:v}:j))},onUpdateColumnColor:(d,v)=>{c(C.map(j=>j.id===d?{...j,color:v}:j))},showBorder:!0,headerColor:"transparent"})})},re=({active:t,onClick:a,label:o,shortcut:m,children:x})=>e.jsxs("div",{className:"flex flex-col items-center gap-1 group relative",children:[m&&e.jsx("span",{className:`text-[10px] font-medium ${t?"text-blue-600":"text-gray-400"}`,children:m}),e.jsx("button",{onClick:a,className:`
                relative flex items-center justify-center
                w-10 h-10 rounded-lg transition-all duration-200
                ${t?"bg-blue-100 ring-2 ring-blue-500 shadow-sm transform scale-105":"hover:bg-gray-100 hover:scale-110"}
            `,title:o,children:x})]}),Ps=()=>e.jsxs("div",{className:"w-8 h-8 bg-white rounded border border-gray-200 shadow-sm flex flex-col p-1 gap-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-400"}),e.jsx("div",{className:"h-1 w-8 bg-gray-200 rounded"})]}),e.jsx("div",{className:"h-1 w-full bg-gray-100 rounded mt-auto"}),e.jsx("div",{className:"h-1.5 w-6 bg-blue-500 rounded-full"})]}),Ls=()=>e.jsx("div",{className:"w-7 h-7 bg-[#fcd34d] rounded-sm shadow-sm border-b-2 border-r-2 border-[#d97706]/20 relative overflow-hidden",children:e.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-[#fbbf24] shadow-sm transform -translate-x-1/2 -translate-y-1/2 rotate-45"})}),Is=()=>e.jsx("div",{className:"w-7 h-7 bg-slate-700 rounded-sm shadow-sm"}),Os=()=>e.jsx("div",{className:"w-7 h-7 border-2 border-dashed border-gray-400 rounded bg-gray-50/50 flex items-start p-0.5",children:e.jsx("div",{className:"w-2 h-1 bg-gray-300 rounded-full"})}),_s=()=>e.jsxs("div",{className:"w-7 h-7 bg-white border border-gray-200 rounded shadow-sm overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-100 to-purple-50"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-blue-300/50 rounded-t-lg transform translate-y-1"}),e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-yellow-200 rounded-full"})]}),Fs=()=>e.jsxs("div",{className:"w-8 h-8 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-0 transform rotate-6"}),e.jsx("div",{className:"absolute top-1 right-1 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-10",children:e.jsxs("div",{className:"flex items-center justify-center h-full gap-0.5",children:[e.jsx("div",{className:"w-1 h-1 bg-purple-400 rounded-full"}),e.jsx("div",{className:"w-2 h-px bg-gray-300"}),e.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full"})]})})]}),Bs=()=>{const[t,a]=s.useState("select"),[o,m]=s.useState(100),[x,l]=s.useState([]),[g,C]=s.useState([[]]),[c,N]=s.useState(0),[z,d]=s.useState(!1),[v,j]=s.useState(!1),[L,y]=s.useState({x:0,y:0}),[E,r]=s.useState({x:0,y:0}),[h,w]=s.useState([]),[P,b]=s.useState(null),[J,Q]=s.useState({x:0,y:0}),[_,W]=s.useState(null),k=s.useRef(null),A=u=>{const p=g.slice(0,c+1);p.push(u),C(p),N(p.length-1),l(u)},H=()=>{c>0&&(N(u=>u-1),l(g[c-1]))},se=()=>{c<g.length-1&&(N(u=>u+1),l(g[c+1]))},Y=u=>{if(!k.current)return{x:0,y:0};const p=k.current.getBoundingClientRect(),I=u.clientX-p.left,n=u.clientY-p.top,f=(I-L.x)/(o/100),S=(n-L.y)/(o/100);return{x:f,y:S,rawX:I,rawY:n}},ae=u=>{const{x:p,y:I,rawX:n,rawY:f}=Y(u);if(t==="hand"||u.button===1){j(!0),r({x:n,y:f});return}if(t==="draw"){d(!0),w([{x:p,y:I}]);return}if(["arrow","shape","section"].includes(t)){d(!0),r({x:p,y:I}),W({type:t,x:p,y:I,width:0,height:0});return}if(["note","text","task","image"].includes(t)){let $={id:je(),type:t,x:p,y:I,width:200,height:200};t==="note"?$={...$,content:"New Note",color:"#fef3c7",width:200,height:200}:t==="text"?$={...$,content:"Type something...",width:200,height:50}:t==="task"?$={...$,content:"New Task",width:300,height:140}:t==="image"&&($={...$,width:300,height:200}),A([...x,$]),a("select");return}t==="select"&&b(null)},R=u=>{const{x:p,y:I,rawX:n,rawY:f}=Y(u);if(v){const S=n-E.x,$=f-E.y;y(O=>({x:O.x+S,y:O.y+$})),r({x:n,y:f});return}z&&(t==="draw"?w(S=>[...S,{x:p,y:I}]):["arrow","shape","section"].includes(t)&&_?W(S=>({...S,width:p-((S==null?void 0:S.x)||0),height:I-((S==null?void 0:S.y)||0)})):P&&t==="select"&&l(S=>S.map($=>$.id===P?{...$,x:p-J.x,y:I-J.y}:$)))},B=()=>{if(v){j(!1);return}if(z)if(d(!1),t==="draw"&&h.length>1){const u={id:je(),type:"draw",x:0,y:0,points:h,color:"#1e293b"};A([...x,u]),w([])}else if(_){const u={id:je(),type:t,x:_.x,y:_.y,width:_.width||100,height:_.height||100,color:t==="shape"?"#334155":void 0};A([...x,u]),W(null),a("select")}else P&&A(x)},ee=(u,p)=>{if(t==="select"){u.stopPropagation();const{x:I,y:n}=Y(u),f=x.find(S=>S.id===p);f&&(b(p),d(!0),Q({x:I-f.x,y:n-f.y}))}},q=u=>{const p=x.filter(I=>I.id!==u);A(p),b(null)},ie=u=>{const I=P===u.id?"ring-2 ring-blue-500":"";switch(u.type){case"note":return e.jsx("div",{className:`shadow-md flex items-center justify-center text-center font-handwriting text-lg leading-tight p-4 ${I}`,style:{backgroundColor:u.color,width:u.width,height:u.height},children:u.content});case"text":return e.jsx("div",{className:`p-2 text-gray-800 font-medium text-xl bg-transparent border border-transparent hover:border-blue-200 rounded whitespace-nowrap ${I}`,children:u.content});case"task":return e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col ${I}`,style:{width:u.width,height:u.height},children:[e.jsx("div",{className:"h-1.5 bg-blue-500 w-full"}),e.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"text-[10px] font-medium text-gray-500 px-1.5 py-0.5 bg-gray-100 rounded",children:"TASK-123"}),e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200"})]}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-auto",children:u.content}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsx("span",{className:"w-full h-1.5 rounded-full bg-gray-100 overflow-hidden",children:e.jsx("div",{className:"w-1/2 h-full bg-green-500"})})})]})]});case"shape":return e.jsx("div",{className:`rounded-lg flex items-center justify-center ${I}`,style:{backgroundColor:u.color,width:Math.abs(u.width||100),height:Math.abs(u.height||100)}});case"section":return e.jsx("div",{className:`border-2 border-dashed border-gray-300 rounded-lg bg-gray-50/30 flex items-start p-2 ${I}`,style:{width:Math.abs(u.width||200),height:Math.abs(u.height||200)},children:e.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Section"})});case"image":return e.jsxs("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative ${I}`,style:{width:Math.abs(u.width||300),height:Math.abs(u.height||200)},children:[e.jsx(os,{size:48,className:"text-gray-300"}),e.jsx("span",{className:"absolute bottom-4 text-xs text-gray-400",children:"Image Placeholder"})]});case"arrow":const n=u.width||0,f=u.height||0;return e.jsxs("svg",{width:Math.abs(n)+20,height:Math.abs(f)+20,className:`overflow-visible pointer-events-none ${I}`,children:[e.jsx("defs",{children:e.jsx("marker",{id:`arrowhead-${u.id}`,markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#334155"})})}),e.jsx("line",{x1:n>0?0:Math.abs(n),y1:f>0?0:Math.abs(f),x2:n>0?Math.abs(n):0,y2:f>0?Math.abs(f):0,stroke:"#334155",strokeWidth:"2",markerEnd:`url(#arrowhead-${u.id})`})]});default:return null}};return e.jsxs("div",{className:"relative w-full h-full bg-[#f8fafc] overflow-hidden select-none",ref:k,onMouseDown:ae,onMouseMove:R,onMouseUp:B,onMouseLeave:B,onContextMenu:u=>u.preventDefault(),children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${20*(o/100)}px ${20*(o/100)}px`,backgroundPosition:`${L.x}px ${L.y}px`,opacity:.6}}),e.jsxs("div",{className:"absolute inset-0 transform-origin-top-left",style:{transform:`translate(${L.x}px, ${L.y}px) scale(${o/100})`},children:[e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",children:[x.filter(u=>u.type==="draw").map(u=>{var p;return e.jsx("path",{d:`M ${(p=u.points)==null?void 0:p.map(I=>`${I.x} ${I.y}`).join(" L ")}`,stroke:u.color,strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},u.id)}),z&&t==="draw"&&e.jsx("path",{d:`M ${h.map(u=>`${u.x} ${u.y}`).join(" L ")}`,stroke:"#1e293b",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),x.map(u=>u.type==="draw"?null:e.jsxs("div",{className:`absolute group ${t==="select"?"cursor-move":""}`,style:{left:u.x,top:u.y,width:u.width,height:u.height,zIndex:P===u.id?10:1},onMouseDown:p=>ee(p,u.id),children:[t==="select"&&e.jsx("button",{className:"absolute -top-3 -right-3 p-1.5 bg-white rounded-full shadow-sm border border-gray-200 opacity-0 group-hover:opacity-100 transition-opacity z-50 hover:bg-red-50 text-red-500",onClick:p=>{p.stopPropagation(),q(u.id)},children:e.jsx(ye,{size:14})}),ie(u)]},u.id)),_&&e.jsx("div",{className:"absolute border-2 border-blue-400 border-dashed opacity-50 pointer-events-none",style:{left:Math.min(_.x,_.x+(_.width||0)),top:Math.min(_.y,_.y+(_.height||0)),width:Math.abs(_.width||0),height:Math.abs(_.height||0)}})]}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center gap-2 z-50",children:[e.jsxs("div",{className:"flex items-center gap-1 px-1",children:[e.jsx(re,{active:t==="select",onClick:()=>a("select"),label:"Select",shortcut:"V",children:e.jsx(ps,{size:20,className:t==="select"?"text-blue-600":"text-gray-600"})}),e.jsx(re,{active:t==="hand",onClick:()=>a("hand"),label:"Hand",shortcut:"H",children:e.jsx(ls,{size:20,className:t==="hand"?"text-blue-600":"text-gray-600"})})]}),e.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(re,{active:t==="task",onClick:()=>a("task"),label:"Task",shortcut:"T",children:e.jsx(Ps,{})}),e.jsx(re,{active:t==="draw",onClick:()=>a("draw"),label:"Draw",shortcut:"D",children:e.jsxs("div",{className:"relative",children:[e.jsx(ge,{size:24,className:"text-gray-700"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-black rounded-full"})]})}),e.jsx(re,{active:t==="shape",onClick:()=>a("shape"),label:"Shape",shortcut:"R",children:e.jsx(Is,{})}),e.jsx(re,{active:t==="arrow",onClick:()=>a("arrow"),label:"Arrow",shortcut:"A",children:e.jsx(Rt,{size:26,className:"text-gray-700"})}),e.jsx(re,{active:t==="note",onClick:()=>a("note"),label:"Note",shortcut:"N",children:e.jsx(Ls,{})}),e.jsx(re,{active:t==="text",onClick:()=>a("text"),label:"Text",shortcut:"T",children:e.jsx("div",{className:"w-8 h-8 bg-white border border-gray-200 rounded shadow-sm flex items-center justify-center",children:e.jsx(Pt,{size:20,className:"text-gray-800"})})}),e.jsx(re,{active:t==="section",onClick:()=>a("section"),label:"Section",shortcut:"F",children:e.jsx(Os,{})}),e.jsx(re,{active:t==="image",onClick:()=>a("image"),label:"Image",children:e.jsx(_s,{})}),e.jsx(re,{active:t==="template",onClick:()=>{},label:"Templates",children:e.jsx(Fs,{})})]}),e.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),e.jsxs("div",{className:"flex items-center gap-1 px-1",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:H,disabled:c<=0,title:"Undo",children:e.jsx(Ss,{size:20})}),e.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:se,disabled:c>=g.length-1,title:"Redo",children:e.jsx(Ns,{size:20})})]})]}),e.jsxs("div",{className:"absolute bottom-8 left-8 bg-white rounded-xl shadow-lg border border-gray-100 flex items-center p-1.5 z-50",children:[e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",children:e.jsx(Ze,{size:16})}),e.jsx("div",{className:"w-px h-4 bg-gray-200 mx-1"}),e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>m(Math.max(10,o-10)),children:e.jsx(Lt,{size:16})}),e.jsxs("span",{className:"px-3 text-xs font-semibold text-gray-600 min-w-[3.5rem] text-center",children:[Math.round(o),"%"]}),e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>m(Math.min(200,o+10)),children:e.jsx(K,{size:16})})]})]})},Vs={id:"1",name:"Mike Dev",avatar:"",initials:"MD",color:"#8b5cf6"},Hs=[{id:"todo",title:"TO DO",color:"#94a3b8",isCollapsed:!1},{id:"inprogress",title:"IN PROGRESS",color:"#3b82f6",isCollapsed:!1},{id:"done",title:"COMPLETED",color:"#22c55e",isCollapsed:!1}],ze=["#9ca3af","#3b82f6","#22c55e","#eab308","#ef4444","#a855f7","#ec4899","#f97316"],Gs=async t=>(console.warn("Gemini API Key not set. AI features disabled."),[]),de=({children:t,variant:a="primary",size:o="md",className:m="",...x})=>{const l="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-black text-white hover:bg-gray-800 shadow-sm",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50",ghost:"bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900",icon:"bg-transparent text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-1 rounded"},c=a==="icon"?"":{sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-base px-4 py-2"}[o];return e.jsx("button",{className:`${l} ${g[a]} ${c} ${m}`,...x,children:t})},Ws=({id:t,title:a,color:o,onUpdate:m})=>{const[x,l]=s.useState(!1),[g,C]=s.useState(a),[c,N]=s.useState(o),z=s.useRef(null),d=s.useRef(null);s.useEffect(()=>{x&&d.current&&d.current.focus()},[x]),s.useEffect(()=>{const j=L=>{z.current&&!z.current.contains(L.target)&&x&&v()};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[x,g,c]);const v=()=>{g.trim()?m(t,g,c):C(a),l(!1)};return x?e.jsxs("div",{ref:z,className:"relative z-50 flex items-center gap-2 bg-white p-1 rounded shadow-lg border border-gray-200",children:[e.jsx("div",{className:"flex gap-1",children:ze.map(j=>e.jsx("button",{onClick:()=>N(j),className:`w-4 h-4 rounded-full transition-transform hover:scale-110 ${c===j?"ring-2 ring-offset-1 ring-gray-400":""}`,style:{backgroundColor:j}},j))}),e.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),e.jsx("input",{ref:d,type:"text",className:"text-xs font-semibold text-gray-700 outline-none w-24",value:g,onChange:j=>C(j.target.value),onKeyDown:j=>j.key==="Enter"&&v()})]}):e.jsx("div",{onClick:()=>l(!0),className:"px-2.5 py-0.5 rounded-full text-xs font-semibold text-white flex items-center gap-1.5 cursor-pointer hover:opacity-90 transition-opacity select-none",style:{backgroundColor:o},children:e.jsx("span",{className:"uppercase",children:a})})},Us=({priority:t,onSelect:a,onClose:o})=>{const m=s.useRef(null);s.useEffect(()=>{const l=g=>{m.current&&!m.current.contains(g.target)&&o()};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[o]);const x=[{value:"Urgent",label:"Urgent",color:"text-red-500",icon:G},{value:"High",label:"High",color:"text-yellow-500",icon:G},{value:"Normal",label:"Normal",color:"text-blue-500",icon:G},{value:"Low",label:"Low",color:"text-gray-400",icon:G},{value:"None",label:"Clear",color:"text-gray-400",icon:Ut}];return e.jsxs("div",{ref:m,className:"absolute right-0 top-full mt-1 z-[100] w-40 bg-white rounded-lg shadow-xl border border-gray-200 py-1 animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[e.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 border-b border-gray-100 mb-1",children:"Task Priority"}),x.map(l=>e.jsxs("button",{onClick:()=>a(l.value),className:"w-full text-left px-3 py-1.5 flex items-center gap-2 hover:bg-gray-50 text-sm transition-colors",children:[e.jsx(l.icon,{className:`w-4 h-4 ${l.color} fill-current`}),e.jsx("span",{className:"text-gray-700",children:l.label}),t===l.value&&e.jsx(Qe,{className:"w-3.5 h-3.5 ml-auto text-blue-600"})]},l.value))]})},Js=({tags:t,onUpdate:a,onClose:o})=>{const[m,x]=s.useState(""),l=s.useRef(null);s.useEffect(()=>{const c=N=>{l.current&&!l.current.contains(N.target)&&o()};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[o]);const g=c=>{c.key==="Enter"&&m.trim()&&(t.includes(m.trim())||a([...t,m.trim()]),x(""))},C=c=>{t.includes(c)?a(t.filter(N=>N!==c)):a([...t,c])};return e.jsxs("div",{ref:l,className:"absolute right-0 top-full mt-1 z-[100] w-64 bg-white rounded-lg shadow-xl border border-gray-200 py-2 animate-in fade-in zoom-in-95 duration-100 flex flex-col gap-2 origin-top-right",children:[e.jsx("div",{className:"px-3",children:e.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search or Create tag...",className:"w-full text-xs border border-gray-200 rounded px-2 py-1.5 focus:outline-none focus:border-purple-500",value:m,onChange:c=>x(c.target.value),onKeyDown:g})}),t.length>0&&e.jsxs("div",{className:"px-3 border-t border-gray-100 pt-2",children:[e.jsx("div",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1",children:"Selected"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.map(c=>e.jsxs("div",{className:"flex items-center bg-purple-100 text-purple-700 text-xs px-2 py-1 rounded gap-1",children:[e.jsx("span",{children:c}),e.jsx("button",{onClick:()=>C(c),className:"hover:text-purple-900",children:e.jsx(pe,{className:"w-3 h-3"})})]},c))})]})]})},Ks=({onAdd:t,onCancel:a})=>{const[o,m]=s.useState(""),[x,l]=s.useState(ze[0]),[g,C]=s.useState(!1),c=s.useRef(null);return s.useEffect(()=>{const N=z=>{c.current&&!c.current.contains(z.target)&&a()};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[a]),e.jsxs("div",{ref:c,className:"flex items-center gap-2 mt-2 animate-in fade-in slide-in-from-top-1 duration-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>C(!g),className:"w-6 h-6 rounded-md shadow-sm border border-gray-200 transition-transform active:scale-95",style:{backgroundColor:x}}),g&&e.jsx("div",{className:"absolute top-8 left-0 z-50 bg-white p-2 rounded-lg shadow-xl border border-gray-200 grid grid-cols-5 gap-1 w-[120px]",children:ze.map(N=>e.jsx("button",{onClick:()=>{l(N),C(!1)},className:"w-4 h-4 rounded hover:scale-110 transition-transform",style:{backgroundColor:N}},N))})]}),e.jsx("div",{className:"relative flex-1",children:e.jsx("input",{autoFocus:!0,type:"text",className:"w-full h-8 px-3 rounded-md border-2 border-purple-500 shadow-sm focus:outline-none text-sm",placeholder:"Status name",value:o,onChange:N=>m(N.target.value),onKeyDown:N=>{N.key==="Enter"&&o.trim()&&t(o,x),N.key==="Escape"&&a()}})}),e.jsx("button",{onClick:a,className:"text-xs text-gray-500 hover:text-gray-700 px-2",children:"Cancel"}),e.jsx("button",{onClick:()=>o.trim()&&t(o,x),disabled:!o.trim(),className:"bg-purple-600 text-white text-xs px-3 py-1.5 rounded-md hover:bg-purple-700 disabled:opacity-50",children:"Save"})]})},ke=({onSave:t,onCancel:a,className:o="",statusColor:m="#d1d5db"})=>{const[x,l]=s.useState(""),[g,C]=s.useState(!1),c=s.useRef(null),N=s.useRef(null);s.useEffect(()=>{var d;(d=c.current)==null||d.focus()},[]),s.useEffect(()=>{const d=v=>{N.current&&!N.current.contains(v.target)&&a()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[a]);const z=async()=>{if(!x.trim())return;C(!0);const d=await Gs();C(!1),d.length>0&&(t(x,d),l(""))};return e.jsxs("div",{ref:N,className:`flex items-center gap-3 p-2 bg-white border border-gray-200 rounded-lg shadow-sm ${o}`,children:[e.jsx("div",{className:"shrink-0 pl-1 flex items-center justify-center",children:e.jsx("div",{className:"w-4 h-4 rounded-full border-[3px]",style:{borderColor:m}})}),e.jsx("input",{ref:c,type:"text",className:"flex-1 outline-none text-sm text-gray-900 placeholder:text-gray-400 h-8 bg-transparent",placeholder:"Task Name or type '/' for commands",value:x,onChange:d=>l(d.target.value),onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),x.trim()&&(t(x),l(""))),d.key==="Escape"&&a()}}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-1.5 px-2 py-1 bg-white border border-gray-200 rounded text-xs font-medium text-gray-600 hover:bg-gray-50 cursor-pointer",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"})," Task"]}),e.jsx(de,{variant:"icon",size:"sm",onClick:z,disabled:g||!x.trim(),className:g?"animate-pulse text-indigo-500":"",title:"Generate Subtasks with AI",children:g?e.jsx(ht,{className:"w-4 h-4 animate-spin"}):e.jsx(Mt,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1 hidden sm:block"}),e.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[e.jsx(de,{variant:"icon",size:"sm",children:e.jsx($e,{className:"w-4 h-4"})}),e.jsx(de,{variant:"icon",size:"sm",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx(de,{variant:"icon",size:"sm",children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx(de,{variant:"icon",size:"sm",children:e.jsx(ue,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-gray-100 sm:border-none sm:pl-0",children:[e.jsx("button",{onClick:a,className:"px-3 py-1.5 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:()=>{x.trim()&&(t(x),l(""))},disabled:!x.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#7b68ee] hover:bg-[#6c5ce7] text-white text-sm font-medium rounded shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Save ",e.jsx(tt,{className:"w-3.5 h-3.5"})]})]})]})]})},Ys=({task:t,level:a,statusColor:o="#d1d5db",onToggleExpand:m,onAddSubtask:x,onDelete:l,onSelect:g,onTaskClick:C,onUpdate:c,onDragStart:N,onDragOver:z,onDrop:d,dragOverPosition:v})=>{const[j,L]=s.useState(!1),[y,E]=s.useState(!1),[r,h]=s.useState(!1),[w,P]=s.useState(!1),b=t.subtasks&&t.subtasks.length>0,J=(a+1)*24,Q=t.status==="done",_=k=>{switch(k){case"Urgent":return"text-red-500 fill-red-500";case"High":return"text-yellow-500 fill-yellow-500";case"Normal":return"text-blue-500 fill-blue-500";case"Low":return"text-gray-400 fill-gray-400";default:return"text-gray-300"}},W=()=>{if(!t.startDate&&!t.dueDate)return null;const k=t.startDate?new Date(t.startDate):null,A=t.dueDate?new Date(t.dueDate):null;return k&&A?`${k.toLocaleDateString(void 0,{month:"short",day:"numeric"})} - ${A.toLocaleDateString(void 0,{month:"short",day:"numeric"})}`:A?A.toLocaleDateString(void 0,{month:"short",day:"numeric"}):k?`Start: ${k.toLocaleDateString(void 0,{month:"short",day:"numeric"})}`:null};return e.jsxs("div",{draggable:!0,onDragStart:k=>N(k,t),onDragOver:k=>z(k,t.id),onDrop:k=>d(k,t.id),className:"group flex items-center min-h-[40px] border-b border-gray-100 hover:bg-gray-50 transition-colors text-sm relative cursor-default",children:[v&&e.jsx("div",{className:`absolute left-0 right-0 h-[2px] bg-black z-50 pointer-events-none ${v==="top"?"top-0":"bottom-0"}`,children:e.jsx("div",{className:"absolute left-0 w-1.5 h-1.5 bg-black rounded-full -translate-x-1/2 -translate-y-[1px]"})}),e.jsxs("div",{className:"flex items-center shrink-0 h-full relative",style:{paddingLeft:`${J}px`,width:`${J+30}px`},children:[e.jsxs("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 flex items-center justify-center w-6 h-6",children:[e.jsx("div",{className:`opacity-0 group-hover:opacity-100 cursor-grab active:cursor-grabbing text-gray-300 ${t.selected?"hidden":""}`,children:e.jsx(qe,{className:"w-3 h-3"})}),e.jsx("div",{onClick:k=>{k.stopPropagation(),g(t.id)},className:`absolute inset-0 flex items-center justify-center cursor-pointer ${t.selected?"opacity-100":"opacity-0 group-hover:opacity-100 bg-white/80"}`,children:e.jsx("div",{className:`w-3.5 h-3.5 rounded border flex items-center justify-center transition-colors ${t.selected?"bg-purple-600 border-purple-600":"border-gray-400 hover:border-gray-600"}`,children:t.selected&&e.jsx("div",{className:"w-2 h-0.5 bg-white"})})})]}),e.jsx("button",{onClick:()=>m(t.id),className:`p-0.5 rounded hover:bg-gray-200 text-gray-400 transition-opacity ml-auto ${b?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:t.isExpanded?e.jsx(me,{className:"w-3 h-3"}):e.jsx(fe,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"flex items-center flex-1 py-2 pr-4",children:[e.jsx("div",{className:"shrink-0 flex items-center justify-center w-6 mr-2 cursor-pointer text-gray-300 hover:text-green-500 transition-colors",children:Q?e.jsx(Ce,{className:"w-4 h-4 text-green-500 fill-green-50"}):e.jsx(Je,{className:"w-4 h-4 text-gray-300 hover:text-green-500",strokeWidth:2})}),e.jsxs("div",{className:"flex-1 flex items-center min-w-0 mr-4",children:[e.jsx("span",{onClick:()=>C(t),className:`truncate font-normal cursor-pointer ${Q?"text-gray-400 line-through":"text-gray-800"}`,children:t.title}),e.jsx("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity ml-4",children:e.jsxs("button",{onClick:()=>x(t.id),className:"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-900 bg-white border border-gray-200 rounded px-1.5 py-0.5 whitespace-nowrap",children:[e.jsx(K,{className:"w-3 h-3"})," Subtask"]})})]})]}),e.jsxs("div",{className:"w-24 shrink-0 flex items-center pl-2 group/tags relative",children:[e.jsx("button",{onClick:()=>P(!w),className:"flex items-center gap-1 group-hover/tags:bg-gray-100 p-1 rounded transition-colors overflow-hidden",children:t.tags.length>0?e.jsxs("div",{className:"flex gap-1 overflow-hidden",children:[t.tags.slice(0,2).map((k,A)=>e.jsx("div",{className:"bg-purple-100 text-purple-700 text-[10px] px-1.5 py-0.5 rounded font-medium whitespace-nowrap",children:k},A)),t.tags.length>2&&e.jsxs("div",{className:"bg-gray-100 text-gray-500 text-[10px] px-1 py-0.5 rounded font-medium",children:["+",t.tags.length-2]})]}):e.jsx("div",{className:"text-gray-300 group-hover/tags:text-gray-500 transition-colors",children:e.jsx(ue,{className:"w-4 h-4"})})}),w&&e.jsx(Js,{tags:t.tags,onUpdate:k=>{c(t.id,{tags:k})},onClose:()=>P(!1)})]}),e.jsxs("div",{className:"w-36 shrink-0 flex items-center pl-2 group/date relative",children:[e.jsxs("button",{onClick:()=>E(!y),className:`hover:bg-gray-100 p-1 rounded transition-colors flex items-center gap-2 text-xs ${t.dueDate||t.startDate?"text-gray-600":"text-gray-300 group-hover/date:text-gray-500"}`,children:[e.jsx(Ft,{className:`w-4 h-4 ${t.dueDate||t.startDate?"text-gray-500":""}`}),W()&&e.jsx("span",{children:W()})]}),y&&e.jsx("div",{className:"absolute top-full right-0 z-[100]",children:e.jsx(It,{date:t.dueDate,startDate:t.startDate,onSelect:(k,A)=>{A==="due"?c(t.id,{dueDate:k}):c(t.id,{startDate:k})},onClose:()=>E(!1),compact:!0})})]}),e.jsxs("div",{className:"w-24 shrink-0 flex items-center pl-2 group/priority relative",children:[e.jsx("button",{onClick:()=>h(!r),className:`hover:bg-gray-100 p-1 rounded transition-colors ${_(t.priority)} ${t.priority==="None"?"group-hover/priority:text-gray-500":""}`,children:e.jsx(G,{className:"w-4 h-4"})}),r&&e.jsx(Us,{priority:t.priority,onSelect:k=>{c(t.id,{priority:k}),h(!1)},onClose:()=>h(!1)})]}),window.extraColumns&&window.extraColumns.map(k=>{var se,Y,ae,R,B,ee,q,ie,u;const A=(se=t.customValues)==null?void 0:se[k.id],H=p=>{c(t.id,{customValues:{...t.customValues,[k.id]:p}})};return e.jsx("div",{className:"shrink-0 flex items-center justify-center border-l border-gray-100 h-full relative group/cell",style:{width:`${k.width}px`},children:k.type==="status"?e.jsx("div",{className:"w-full h-full px-2 py-1",children:e.jsxs("select",{value:A||"",onChange:p=>H(p.target.value),className:"w-full h-full rounded text-xs font-medium text-white appearance-none text-center cursor-pointer outline-none border-none",style:{backgroundColor:((R=(ae=(Y=k.options)==null?void 0:Y.find(p=>p.label===A))==null?void 0:ae.color)==null?void 0:R.replace("bg-","").replace("text-",""))||"#9ca3af"},children:[e.jsx("option",{value:"",className:"text-gray-500 bg-white",children:"Select..."}),(B=k.options)==null?void 0:B.map(p=>e.jsx("option",{value:p.label,className:"text-gray-900 bg-white",children:p.label},p.id))]})}):k.type==="dropdown"?e.jsx("div",{className:"w-full h-full px-2 py-1",children:e.jsxs("select",{value:A||"",onChange:p=>H(p.target.value),className:"w-full h-full bg-transparent text-xs text-gray-700 outline-none border-none cursor-pointer",style:{color:(ie=(q=(ee=k.options)==null?void 0:ee.find(p=>p.label===A))==null?void 0:q.color)!=null&&ie.includes("text-")?void 0:"inherit"},children:[e.jsx("option",{value:"",children:"-"}),(u=k.options)==null?void 0:u.map(p=>e.jsx("option",{value:p.label,children:p.label},p.id))]})}):k.type==="long_text"?e.jsx("div",{className:"w-full h-full relative",children:e.jsx("textarea",{value:A||"",onChange:p=>H(p.target.value),className:"absolute inset-0 w-full h-full px-2 py-2 bg-transparent border-none text-xs text-gray-600 resize-none focus:bg-white focus:ring-1 focus:ring-purple-200 focus:z-10",placeholder:"..."})}):k.type==="money"?e.jsxs("div",{className:"w-full h-full flex items-center px-2",children:[e.jsx("span",{className:"text-gray-400 text-xs mr-1",children:k.currency==="EUR"?"â‚¬":k.currency==="GBP"?"Â£":"$"}),e.jsx("input",{type:"number",value:A||"",onChange:p=>H(p.target.value),className:"w-full bg-transparent border-none p-0 text-xs text-gray-600 focus:ring-0",placeholder:"0.00"})]}):k.type==="rating"?e.jsx("div",{className:"w-full h-full flex items-center justify-center space-x-0.5",children:[1,2,3,4,5].map(p=>e.jsx("button",{onClick:()=>H(p),className:"focus:outline-none hover:scale-110 transition-transform",children:e.jsx(Xe,{size:12,className:`${(Number(A)||0)>=p?"text-amber-400 fill-amber-400":"text-gray-300"}`})},p))}):k.type==="progress_manual"?e.jsxs("div",{className:"w-full h-full flex items-center px-2 space-x-2",children:[e.jsxs("div",{className:"flex-1 h-1.5 bg-gray-100 rounded-full overflow-hidden relative cursor-pointer",children:[e.jsx("div",{className:"absolute top-0 left-0 h-full bg-green-500",style:{width:`${Math.min(100,Math.max(0,Number(A||0)))}%`}}),e.jsx("input",{type:"range",min:"0",max:"100",value:A||0,onChange:p=>H(p.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]}),e.jsxs("span",{className:"text-[10px] text-gray-500 w-6 text-right",children:[A||0,"%"]})]}):e.jsx("div",{className:"w-full h-full relative",children:e.jsx("input",{type:k.type==="number"?"number":k.type==="date"?"date":k.type==="email"?"email":k.type==="phone"?"tel":"text",value:A||"",onChange:p=>H(p.target.value),className:`absolute inset-0 w-full h-full px-2 bg-transparent border-none text-xs text-gray-600 focus:bg-white focus:ring-1 focus:ring-purple-200 focus:z-10 ${k.type==="website"?"text-blue-600 hover:underline":""}`,placeholder:"..."})})},k.id)}),e.jsxs("div",{className:"w-8 shrink-0 flex justify-center relative",children:[e.jsx("button",{onClick:()=>L(!j),className:`text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100 ${j?"bg-gray-100 text-gray-600":""}`,children:e.jsx(be,{className:"w-4 h-4"})}),j&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>L(!1)}),e.jsxs("div",{className:"absolute right-0 top-8 z-[100] w-64 bg-white rounded-lg shadow-xl border border-gray-200 flex flex-col text-gray-700 animate-in fade-in zoom-in-95 duration-100 text-left",children:[e.jsxs("div",{className:"flex items-center p-2 border-b border-gray-100 gap-1",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1.5 h-8 hover:bg-gray-50 rounded text-xs font-medium border border-transparent hover:border-gray-200",children:[e.jsx(Bt,{className:"w-3.5 h-3.5"})," Copy link"]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-1.5 h-8 hover:bg-gray-50 rounded text-xs font-medium border border-transparent hover:border-gray-200",children:[e.jsx(Ke,{className:"w-3.5 h-3.5"})," Copy ID"]}),e.jsx("button",{className:"flex-none flex items-center justify-center w-8 h-8 hover:bg-gray-50 rounded text-gray-500 border border-transparent hover:border-gray-200",title:"New Tab",children:e.jsx(ss,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"py-2 flex flex-col gap-0.5 max-h-[360px] overflow-y-auto",children:[e.jsxs("div",{className:"px-3 py-2 flex items-center gap-3 hover:bg-gray-50 cursor-pointer",children:[e.jsx(et,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"Add a column"})]}),e.jsx("div",{className:"my-1 border-t border-gray-100"}),e.jsxs("div",{className:"px-3 py-2 flex items-center gap-3 hover:bg-gray-50 cursor-pointer",children:[e.jsx(ge,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm",children:"Rename"})]}),e.jsxs("div",{onClick:()=>l(t.id),className:"px-3 py-2 flex items-center gap-3 hover:bg-red-50 cursor-pointer text-red-600",children:[e.jsx(ye,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Delete"})]})]}),e.jsx("div",{className:"p-2 border-t border-gray-100",children:e.jsx("button",{className:"w-full bg-[#7b68ee] hover:bg-[#6c5ce7] text-white py-2 rounded-md text-sm font-medium transition-colors",children:"Sharing & Permissions"})})]})]})]})]})},qs=({task:t,onClose:a})=>e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",onClick:o=>{o.target===o.currentTarget&&a()},children:e.jsxs("div",{className:"bg-white w-full h-full max-w-[1400px] max-h-[95vh] rounded-xl shadow-2xl flex overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto bg-white min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 sticky top-0 bg-white z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{className:"hover:underline cursor-pointer",children:"maxxx"}),e.jsx(fe,{className:"w-3 h-3 text-gray-300"}),e.jsx("span",{className:"hover:underline cursor-pointer",children:"List"}),e.jsx(fe,{className:"w-3 h-3 text-gray-300"}),e.jsx("span",{className:"text-gray-900 font-medium",children:t.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-400 font-mono",children:"86evtwr7k"}),e.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:bg-gray-100 rounded",children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:bg-gray-100 rounded",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:bg-gray-100 rounded",children:e.jsx(Ct,{className:"w-4 h-4"})}),e.jsx("button",{onClick:a,className:"p-1.5 text-gray-400 hover:bg-gray-100 rounded hover:text-red-500",children:e.jsx(pe,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"px-8 py-6 pb-20",children:[e.jsxs("div",{className:"mb-6 group",children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsxs("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide border bg-gray-100 text-gray-500 border-gray-200 flex items-center gap-1 cursor-pointer hover:bg-gray-200",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400"})," TO DO ",e.jsx(me,{className:"w-3 h-3 opacity-50"})]})}),e.jsx("h1",{className:"text-3xl font-semibold text-gray-900 leading-tight outline-none focus:ring-2 focus:ring-blue-100 rounded px-1 -ml-1",children:t.title})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-12 gap-y-4 mb-8 max-w-4xl",children:[e.jsxs("div",{className:"flex items-center h-8",children:[e.jsxs("div",{className:"w-32 flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 flex justify-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-gray-400"})})," Status"]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-[#e2e8f0] text-gray-600 text-xs font-semibold rounded uppercase tracking-wide cursor-pointer hover:opacity-80",children:["TO DO ",e.jsx($t,{className:"w-2 h-2 ml-1 fill-current"})]})})]}),e.jsxs("div",{className:"flex items-center h-8",children:[e.jsxs("div",{className:"w-32 flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 flex justify-center",children:e.jsx($e,{className:"w-4 h-4"})})," Assignees"]}),e.jsxs("div",{className:"flex-1 text-sm text-gray-400 italic hover:text-gray-600 cursor-pointer flex items-center gap-2 group/field",children:["Empty ",e.jsx(K,{className:"w-3 h-3 opacity-0 group-hover/field:opacity-100"})]})]}),e.jsxs("div",{className:"flex items-center h-8",children:[e.jsxs("div",{className:"w-32 flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 flex justify-center",children:e.jsx(le,{className:"w-4 h-4"})})," Dates"]}),e.jsxs("div",{className:"flex-1 flex items-center gap-2 text-sm text-gray-400 group/field cursor-pointer",children:[e.jsxs("span",{className:"hover:text-gray-600 flex items-center gap-1",children:[e.jsx(le,{className:"w-3 h-3"})," Start"]}),e.jsx("span",{className:"text-gray-300",children:"â†’"}),e.jsxs("span",{className:"hover:text-gray-600 flex items-center gap-1",children:[e.jsx(le,{className:"w-3 h-3"})," Due"]})]})]}),e.jsxs("div",{className:"flex items-center h-8",children:[e.jsxs("div",{className:"w-32 flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 flex justify-center",children:e.jsx(G,{className:"w-4 h-4"})})," Priority"]}),e.jsxs("div",{className:"flex-1 text-sm text-gray-400 italic hover:text-gray-600 cursor-pointer flex items-center gap-2 group/field",children:["Empty ",e.jsx(G,{className:"w-3 h-3 opacity-0 group-hover/field:opacity-100"})]})]}),e.jsxs("div",{className:"flex items-center h-8",children:[e.jsxs("div",{className:"w-32 flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 flex justify-center",children:e.jsx(De,{className:"w-4 h-4"})})," Time Estimate"]}),e.jsx("div",{className:"flex-1 text-sm text-gray-400 italic hover:text-gray-600 cursor-pointer flex items-center gap-2 group/field",children:"Empty"})]}),e.jsxs("div",{className:"flex items-center h-8",children:[e.jsxs("div",{className:"w-32 flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 flex justify-center",children:e.jsx(De,{className:"w-4 h-4"})})," Track Time"]}),e.jsxs("div",{className:"flex-1 text-sm text-gray-400 hover:text-gray-600 cursor-pointer flex items-center gap-1 group/field",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300 flex items-center justify-center text-[8px]",children:"â–¶"})," Add time"]})]}),e.jsxs("div",{className:"flex items-center h-8",children:[e.jsxs("div",{className:"w-32 flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 flex justify-center",children:e.jsx(ue,{className:"w-4 h-4"})})," Tags"]}),e.jsx("div",{className:"flex-1 text-sm text-gray-400 italic hover:text-gray-600 cursor-pointer flex items-center gap-2 group/field",children:"Empty"})]}),e.jsxs("div",{className:"flex items-center h-8",children:[e.jsxs("div",{className:"w-32 flex items-center gap-2 text-gray-500 text-sm",children:[e.jsx("div",{className:"w-4 flex justify-center",children:e.jsx(rs,{className:"w-4 h-4"})})," Relationships"]}),e.jsxs("div",{className:"flex-1 text-sm text-gray-400 italic hover:text-gray-600 cursor-pointer flex items-center gap-2 group/field",children:["Empty ",e.jsx(K,{className:"w-3 h-3 opacity-0 group-hover/field:opacity-100"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 mb-6 cursor-pointer hover:text-gray-600 w-fit",children:[e.jsx(me,{className:"w-3 h-3 rotate-180"})," Hide empty properties"]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{className:"px-1 py-3 text-sm font-medium text-purple-600 border-b-2 border-purple-600",children:"Details"}),e.jsx("button",{className:"px-1 py-3 text-sm font-medium text-gray-500 hover:text-gray-800",children:"Subtasks"}),e.jsx("button",{className:"px-1 py-3 text-sm font-medium text-gray-500 hover:text-gray-800",children:"Action Items"})]})}),e.jsxs("div",{className:"group mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-500 group-hover:text-gray-700 transition-colors cursor-text",children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Add description"})]}),e.jsx("div",{className:"pl-6 text-sm text-gray-400 italic",children:"Click to add a description..."})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Custom Fields"}),e.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-500 hover:bg-gray-50 px-3 py-2 rounded border border-gray-200 hover:border-gray-300 w-full justify-start transition-all",children:[e.jsx(K,{className:"w-4 h-4"})," Create a field in this List"]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Attachments"}),e.jsxs("div",{className:"border border-gray-200 rounded-lg h-24 flex items-center justify-center text-sm text-gray-500 hover:bg-gray-50 transition-colors cursor-pointer border-dashed",children:["Drop your files here to ",e.jsx("span",{className:"underline ml-1",children:"upload"})]})]})]})]}),e.jsxs("div",{className:"w-[400px] border-l border-gray-200 bg-[#fafafa] flex flex-col",children:[e.jsxs("div",{className:"h-14 border-b border-gray-200 flex items-center justify-between px-6 bg-white sticky top-0 z-10",children:[e.jsx("h2",{className:"font-semibold text-gray-800 text-base",children:"Activity"}),e.jsxs("div",{className:"flex items-start gap-5 pt-1",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors pt-0.5",children:e.jsx(he,{className:"w-5 h-5",strokeWidth:2})}),e.jsxs("div",{className:"flex flex-col items-center cursor-pointer group -mt-0.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors",strokeWidth:2}),e.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 bg-blue-500 rounded-full border-2 border-white"})]}),e.jsx("span",{className:"text-sm font-bold text-blue-600 leading-none mt-0.5",children:"1"})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors pt-0.5",children:e.jsx(Be,{className:"w-5 h-5",strokeWidth:2})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 mt-2"}),e.jsx("div",{className:"w-px h-full bg-gray-200 my-1"})]}),e.jsxs("div",{className:"pb-4",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"You"})," created this task"]}),e.jsx("span",{className:"text-[10px] text-gray-400",children:"1 hour ago"})]})]}),e.jsx("div",{className:"h-full"})]}),e.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:e.jsxs("div",{className:"border border-gray-200 rounded-xl shadow-sm bg-white focus-within:ring-2 focus-within:ring-purple-100 transition-shadow",children:[e.jsx("div",{className:"px-3 py-2",children:e.jsx("input",{type:"text",placeholder:"Write a comment...",className:"w-full text-sm outline-none placeholder:text-gray-400"})}),e.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 border-t border-gray-100 bg-gray-50/50 rounded-b-xl",children:[e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("button",{className:"p-1.5 text-gray-400 hover:bg-gray-200 rounded",children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:bg-gray-200 rounded text-xs font-medium",children:"Comment"}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:bg-gray-200 rounded",children:e.jsx(Et,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:bg-gray-200 rounded",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:bg-gray-200 rounded",children:e.jsx(Ot,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:bg-gray-200 rounded",children:e.jsx(gs,{className:"w-4 h-4"})})]}),e.jsx("button",{className:"p-1.5 text-gray-300 hover:text-purple-600 transition-colors",children:e.jsx(_t,{className:"w-4 h-4"})})]})]})})]})]})});function Xs({roomId:t,viewId:a}){const o=`lists-view-tasks-${t}-${a}`,m=`lists-view-statuses-${t}-${a}`,x=`lists-view-columns-${t}-${a}`,[l,g]=s.useState(()=>{try{const i=localStorage.getItem(o);if(i)return JSON.parse(i)}catch(i){console.error("Failed to load tasks",i)}return[]}),[C,c]=s.useState(()=>{try{const i=localStorage.getItem(m);if(i)return JSON.parse(i)}catch(i){console.error("Failed to load statuses",i)}return Hs}),[N,z]=s.useState(()=>{try{const i=localStorage.getItem(x);if(i)return JSON.parse(i)}catch(i){console.error("Failed to load columns",i)}return[]});window.extraColumns=N,s.useEffect(()=>{localStorage.setItem(x,JSON.stringify(N))},[N,x]),s.useEffect(()=>{localStorage.setItem(o,JSON.stringify(l))},[l,o]),s.useEffect(()=>{localStorage.setItem(m,JSON.stringify(C))},[C,m]);const[d,v]=s.useState(null),[j,L]=s.useState(null),[y,E]=s.useState(null),[r,h]=s.useState(!1),[w,P]=s.useState(null),[b,J]=s.useState(null),[Q,_]=s.useState(null),[W,k]=s.useState(null),[A,H]=s.useState(null),se=i=>{const T=M=>M.map(D=>D.id===i?{...D,isExpanded:!D.isExpanded}:D.subtasks.length>0?{...D,subtasks:T(D.subtasks)}:D);g(T(l))},Y=i=>{const T=M=>M.map(D=>D.id===i?{...D,selected:!D.selected}:D.subtasks.length>0?{...D,subtasks:T(D.subtasks)}:D);g(T(l))},ae=(i,T,M=[],D="top")=>{const F={id:`t-${Date.now()}`,title:i,status:T,assignees:[Vs],priority:"None",tags:[],subtasks:M.map((ce,xe)=>({id:`t-${Date.now()}-${xe}`,title:ce,status:T,assignees:[],priority:"None",tags:[],subtasks:[],isExpanded:!1,selected:!1})),isExpanded:M.length>0,selected:!1};D==="top"?(g([F,...l]),v(null)):(g([...l,F]),L(null))},R=(i,T,M=[])=>{const D=ne=>{for(const U of ne){if(U.id===i)return U.status;const Z=D(U.subtasks);if(Z)return Z}return"todo"},F=D(l),ce={id:`t-${Date.now()}`,title:T,status:F,assignees:[],priority:"None",tags:[],subtasks:M.map((ne,U)=>({id:`t-${Date.now()}-${U}`,title:ne,status:F,assignees:[],priority:"None",tags:[],subtasks:[],isExpanded:!1,selected:!1})),isExpanded:M.length>0,parentId:i,selected:!1},xe=ne=>ne.map(U=>U.id===i?{...U,subtasks:[...U.subtasks,ce],isExpanded:!0}:U.subtasks.length>0?{...U,subtasks:xe(U.subtasks)}:U);g(xe(l)),E(null)},B=i=>{const T=M=>M.filter(D=>D.id!==i).map(D=>({...D,subtasks:T(D.subtasks)}));g(T(l))},ee=(i,T)=>{const M=D=>D.map(F=>F.id===i?{...F,...T}:F.subtasks.length>0?{...F,subtasks:M(F.subtasks)}:F);g(M(l))},q=(i,T)=>{c([...C,{id:i.toLowerCase().replace(/\s+/g,"-"),title:i,color:T,isCollapsed:!1}]),h(!1)},ie=(i,T,M)=>{c(C.map(D=>D.id===i?{...D,title:T,color:M}:D))},u=i=>{c(C.map(T=>T.id===i?{...T,isCollapsed:!T.isCollapsed}:T)),P(null)},p=()=>{c(C.map(i=>({...i,isCollapsed:!0}))),P(null)},I=(i,T)=>{k(T.id),i.dataTransfer.effectAllowed="move"},n=(i,T)=>{if(i.preventDefault(),i.stopPropagation(),W===T)return;const D=i.currentTarget.getBoundingClientRect(),F=i.clientY<D.top+D.height/2?"top":"bottom";H({id:T,position:F})},f=i=>{i.preventDefault(),i.dataTransfer.dropEffect="move",H(null)},S=(i,T,M,D)=>{let F=null;const ce=ne=>{const U=[];for(const Z of ne)Z.id===i?F=Z:U.push({...Z,subtasks:ce(Z.subtasks)});return U},xe=ce(l);if(F)if(T&&M){const ne=U=>{const Z=[];for(const oe of U)oe.id===T?M==="top"?(Z.push({...F,status:oe.status,parentId:oe.parentId}),Z.push(oe)):(Z.push(oe),Z.push({...F,status:oe.status,parentId:oe.parentId})):Z.push({...oe,subtasks:ne(oe.subtasks)});return Z};g(ne(xe))}else D&&g([{...F,status:D,parentId:void 0},...xe])},$=(i,T)=>{i.preventDefault(),i.stopPropagation(),!(!W||!A)&&(S(W,T,A.position),k(null),H(null))},O=(i,T)=>{i.preventDefault(),W&&(S(W,null,null,T),k(null),H(null))},X=(i,T=0,M)=>i.map(D=>e.jsxs(Se.Fragment,{children:[e.jsx(Ys,{task:D,level:T,statusColor:M,onToggleExpand:se,onAddSubtask:F=>E(F),onDelete:B,onSelect:Y,onTaskClick:F=>_(F),onUpdate:ee,onDragStart:I,onDragOver:n,onDrop:$,dragOverPosition:(A==null?void 0:A.id)===D.id?A.position:null}),D.isExpanded&&D.subtasks.length>0&&X(D.subtasks,T+1,M),y===D.id&&e.jsx("div",{style:{paddingLeft:`${(T+1)*24}px`},children:e.jsx(ke,{isSubtask:!0,onSave:(F,ce)=>R(D.id,F,ce),onCancel:()=>E(null),statusColor:M})})]},D.id));return e.jsxs("div",{className:"min-h-screen bg-white text-gray-900 flex flex-col font-sans relative",children:[Q&&e.jsx(qs,{task:Q,onClose:()=>_(null)}),e.jsxs("header",{className:"h-14 border-b border-gray-200 flex items-center justify-between px-4 bg-white sticky top-0 z-0",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(de,{variant:"secondary",size:"sm",className:"rounded-full gap-2",children:["Group: Status ",e.jsx(me,{className:"w-3 h-3"})]}),e.jsxs(de,{variant:"ghost",size:"sm",className:"rounded-full gap-2",children:[e.jsx("span",{className:"w-4 h-4 flex items-center justify-center border border-gray-400 rounded-sm text-[10px]",children:"L"}),"Subtasks"]}),e.jsxs(de,{variant:"ghost",size:"sm",className:"rounded-full gap-2",children:[e.jsx(et,{className:"w-3 h-3"}),"Columns"]})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"w-4 h-4 absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",className:"pl-8 pr-3 py-1.5 text-sm bg-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-200 w-48"})]})})]}),e.jsx("main",{className:"flex-1 overflow-auto flex flex-col",children:e.jsxs("div",{className:"p-6 pt-2",children:[C.map(i=>{const T=l.filter(M=>M.status===i.id);return e.jsxs("div",{className:"mb-8 group/status-section",onDragOver:f,onDrop:M=>O(M,i.id),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1 py-2",children:[e.jsx("button",{onClick:()=>u(i.id),className:"text-gray-400 hover:bg-gray-100 p-1 rounded transition-colors",children:e.jsx(me,{className:`w-4 h-4 transition-transform duration-200 ${i.isCollapsed?"-rotate-90":""}`})}),e.jsx(Ws,{id:i.id,title:i.title,color:i.color,onUpdate:ie}),e.jsx("span",{className:"text-xs text-gray-400 font-medium ml-1",children:T.length}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>P(w===i.id?null:i.id),className:`text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100 ml-1 ${w===i.id?"bg-gray-100 text-gray-600":""}`,children:e.jsx(be,{className:"w-4 h-4"})}),w===i.id&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[90]",onClick:()=>P(null)}),e.jsxs("div",{className:"absolute left-0 top-6 z-[100] w-56 bg-white rounded-lg shadow-xl border border-gray-200 flex flex-col text-gray-700 animate-in fade-in zoom-in-95 duration-100 origin-top-left py-1",children:[e.jsx("div",{className:"px-3 py-2 text-xs text-gray-400 font-semibold",children:"Group options"}),e.jsxs("button",{className:"px-3 py-1.5 flex items-center gap-2 hover:bg-gray-50 text-sm",onClick:()=>P(null),children:[e.jsx(ge,{className:"w-4 h-4 text-gray-400"})," Rename"]}),e.jsxs("button",{className:"px-3 py-1.5 flex items-center gap-2 hover:bg-gray-50 text-sm",children:[e.jsx(K,{className:"w-4 h-4 text-gray-400"})," New status"]}),e.jsxs("button",{className:"px-3 py-1.5 flex items-center gap-2 hover:bg-gray-50 text-sm",children:[e.jsx(ut,{className:"w-4 h-4 text-gray-400"})," Edit statuses"]}),e.jsx("div",{className:"my-1 border-t border-gray-100"}),e.jsxs("button",{onClick:()=>u(i.id),className:"px-3 py-1.5 flex items-center gap-2 hover:bg-gray-50 text-sm",children:[e.jsx(Ze,{className:"w-4 h-4 text-gray-400"})," Collapse group"]}),e.jsxs("button",{className:"px-3 py-1.5 flex items-center gap-2 hover:bg-gray-50 text-sm",children:[e.jsx(gt,{className:"w-4 h-4 text-gray-400"})," Hide status"]}),e.jsx("div",{className:"my-1 border-t border-gray-100"}),e.jsxs("button",{className:"px-3 py-1.5 flex items-center gap-2 hover:bg-gray-50 text-sm",children:[e.jsx(Qe,{className:"w-4 h-4 text-gray-400"})," Select all"]}),e.jsxs("button",{onClick:p,className:"px-3 py-1.5 flex items-center gap-2 hover:bg-gray-50 text-sm",children:[e.jsx(qt,{className:"w-4 h-4 text-gray-400"})," Collapse all groups"]}),e.jsx("div",{className:"my-1 border-t border-gray-100"}),e.jsxs("button",{className:"px-3 py-1.5 flex items-center gap-2 hover:bg-gray-50 text-sm",children:[e.jsx(He,{className:"w-4 h-4 text-gray-400 fill-gray-400"})," Automate status"]})]})]})]}),!i.isCollapsed&&e.jsxs("button",{onClick:()=>v(i.id),className:"flex items-center gap-1 text-xs text-gray-400 hover:text-gray-600 transition-colors ml-2",children:[e.jsx(K,{className:"w-3.5 h-3.5"})," ",e.jsx("span",{className:"hidden sm:inline",children:"Add Task"})]}),e.jsx("div",{className:"flex-1"})]}),!i.isCollapsed&&e.jsxs("div",{className:"flex flex-col min-h-[10px]",children:[e.jsxs("div",{className:"flex items-center px-0 py-2 border-b border-gray-100 text-xs font-medium text-gray-400 uppercase tracking-wider",children:[e.jsx("div",{className:"pl-[38px] flex-1",children:"Name"}),e.jsx("div",{className:"w-24 text-left pl-2 text-gray-400 font-medium",children:"Tags"}),e.jsx("div",{className:"w-36 text-left pl-2 text-gray-400 font-medium",children:"Dates"}),e.jsx("div",{className:"w-24 text-left pl-2 text-gray-400 font-medium",children:"Priority"}),N.map(M=>e.jsx("div",{className:"shrink-0 text-center border-l border-gray-100 px-2 text-gray-400 font-medium truncate",style:{width:`${M.width}px`},children:M.title},M.id)),e.jsx("div",{className:"flex items-center justify-center relative group bg-gray-50/80 px-2",children:e.jsx("div",{className:"cursor-pointer w-6 h-6 rounded flex items-center justify-center transition-all duration-200 "+((b==null?void 0:b.id)===i.id?"bg-gray-200 text-gray-900":"text-gray-400 hover:text-gray-700 hover:bg-gray-200/50"),onClick:M=>{M.stopPropagation();const D=M.currentTarget.getBoundingClientRect();J((b==null?void 0:b.id)===i.id?null:{id:i.id,rect:D})},title:"Add Column",children:e.jsx(Tt,{className:"w-4 h-4"})})})]}),d===i.id&&e.jsx("div",{className:"pl-[42px] pr-4 py-1",children:e.jsx(ke,{onSave:(M,D)=>ae(M,i.id,D,"top"),onCancel:()=>v(null),statusColor:i.color})}),T.length===0&&d!==i.id&&j!==i.id&&e.jsx("div",{className:"pl-[74px] py-2 text-sm text-gray-400 italic",children:"No tasks."}),X(T,0,i.color),j!==i.id?e.jsxs("button",{onClick:()=>L(i.id),className:"flex items-center gap-2 text-sm text-gray-400 hover:text-gray-700 mt-1 pl-[42px] py-1.5 transition-colors group/add-btn w-full text-left",children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Task"})]}):e.jsx("div",{className:"pl-[42px] pr-4 py-1 mt-1",children:e.jsx(ke,{onSave:(M,D)=>ae(M,i.id,D,"bottom"),onCancel:()=>L(null),statusColor:i.color})})]})]},i.id)}),e.jsx("div",{className:"mt-4 pl-2",children:r?e.jsx(Ks,{onAdd:q,onCancel:()=>h(!1)}):e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 text-gray-500 hover:text-gray-900 hover:bg-gray-100 px-3 py-2 rounded-md transition-colors text-sm font-medium",children:[e.jsx(K,{className:"w-4 h-4"})," New status"]})})]})}),b&&e.jsx("div",{className:"absolute top-14 right-0 bottom-0 left-0 z-[100] flex justify-end",style:{pointerEvents:"none"},children:e.jsx("div",{className:"h-full pointer-events-auto shadow-2xl",children:e.jsx(zt,{onClose:()=>J(null),onSelect:(i,T,M,D)=>{const F={id:Math.random().toString(36).substr(2,9),title:T||"New Column",type:i,width:150,options:M,currency:D};z([...N,F])}})})})]})}const $a=({roomName:t,roomId:a})=>{const{tasks:o,updateTask:m}=pt(),x=s.useMemo(()=>`room-views-${a}`,[a]),l=[{id:"overview",type:"overview",name:"Overview",description:"Drag, resize, and track cards",icon:e.jsx(ve,{className:"text-indigo-500"}),category:"popular"},{id:"list",type:"list",name:"Tasks",description:"Track tasks, bugs, people & more",icon:e.jsx(Oe,{className:"text-blue-500"}),category:"popular"},{id:"simple-list",type:"simple-list",name:"List",description:"Simple list view",icon:e.jsx(Oe,{className:"text-blue-500"}),category:"popular"},{id:"board",type:"board",name:"Kanban",description:"Move tasks between columns",icon:e.jsx(ds,{className:"text-purple-500"}),category:"popular"},{id:"calendar",type:"calendar",name:"Calendar",description:"Plan, schedule, & delegate",icon:e.jsx(le,{className:"text-green-500"}),category:"popular"},{id:"gantt",type:"placeholder",name:"Gantt",description:"Plan dependencies & time",icon:e.jsx(Re,{className:"text-orange-500"}),category:"popular"},{id:"doc",type:"placeholder",name:"Doc",description:"Collaborate & document anything",icon:e.jsx(Ue,{className:"text-pink-500"}),category:"popular"},{id:"form",type:"placeholder",name:"Form",description:"Collect, track, & report data",icon:e.jsx(vs,{className:"text-teal-500"}),category:"popular"},{id:"table",type:"table",name:"Table",description:"Structured table format",icon:e.jsx(jt,{className:"text-cyan-500"}),category:"more"},{id:"dashboard",type:"placeholder",name:"Dashboard",description:"Track metrics & insights",icon:e.jsx(Pe,{className:"text-red-500"}),category:"more"},{id:"timeline",type:"placeholder",name:"Timeline",description:"See tasks by start & due date",icon:e.jsx(De,{className:"text-yellow-500"}),category:"more"},{id:"activity",type:"placeholder",name:"Activity",description:"Real-time activity feed",icon:e.jsx(Re,{className:"text-indigo-400"}),category:"more"},{id:"workload",type:"placeholder",name:"Workload",description:"Visualize team capacity",icon:e.jsx(Pe,{className:"text-emerald-500"}),category:"more"},{id:"whiteboard",type:"whiteboard",name:"Whiteboard",description:"Visualize & brainstorm ideas",icon:e.jsx(ve,{className:"text-violet-500"}),category:"more"},{id:"team",type:"placeholder",name:"Team",description:"Monitor work being done",icon:e.jsx($e,{className:"text-blue-400"}),category:"more"},{id:"mindmap",type:"placeholder",name:"Mind Map",description:"Visual brainstorming of ideas",icon:e.jsx(Nt,{className:"text-fuchsia-500"}),category:"more"},{id:"map",type:"placeholder",name:"Map",description:"Tasks visualized by address",icon:e.jsx(ms,{className:"text-rose-500"}),category:"more"},{id:"chat",type:"placeholder",name:"Chat",description:"Communicate with your team",icon:e.jsx(Ve,{className:"text-sky-500"}),category:"more"}],g=()=>{try{const n=localStorage.getItem(x);if(n){const f=JSON.parse(n);if(f!=null&&f.views){const S=f.views.map($=>{const O=l.find(X=>X.id===$.id);return O?{...$,name:O.name,description:O.description,icon:O.icon}:$.type==="list"&&$.name==="List"?{...$,name:"Tasks"}:$});return{...f,views:S}}}}catch(n){console.warn("Failed to load saved views",n)}return{views:[],activeViewId:null}},C=s.useMemo(()=>g(),[x]),[c,N]=s.useState(()=>{const n=C.views||[];return n.some(S=>S.id==="overview")?n:[l[0],...n]}),[z,d]=s.useState(()=>C.activeViewId||"overview"),[v,j]=s.useState(!1),[L,y]=s.useState(t),[E,r]=s.useState(null);s.useEffect(()=>{(async()=>{try{const f=wt.getCurrentUser();if(f){const $=(await kt.getRooms(f.id)).find(O=>O.id===a);$&&y($.name)}}catch(f){console.error("Failed to load room name:",f)}})()},[a]);const h=(n,f)=>{try{const S=n.map(({icon:$,...O})=>O);localStorage.setItem(x,JSON.stringify({views:S,activeViewId:f}))}catch(S){console.warn("Failed to save views",S)}};s.useEffect(()=>{!z&&c.length>0&&d(c[0].id)},[z,c]),s.useEffect(()=>{h(c,z||null)},[c,z]);const w=(n,f)=>{n.preventDefault(),j(!1);const S=300,$=420,O=Math.min(Math.max(8,n.clientX),window.innerWidth-S-8),X=Math.min(Math.max(8,n.clientY),window.innerHeight-$-8);r({viewId:f,x:O,y:X})},P=n=>{const f=c.find($=>$.id===n.id);if(f){d(f.id),j(!1);return}const S=[...c,n];N(S),d(n.id),j(!1)},b=c.find(n=>n.id===z)||null,J=E?c.find(n=>n.id===E.viewId):null,[Q,_]=s.useState(null),W=n=>{_(n),r(null)},k=()=>{var $;if(!Q)return;const n=Q,f=c.find(O=>O.id===n),S=c.filter(O=>O.id!==n);if(f){const O=["list","board","calendar"];O.includes(f.type)&&(S.some(i=>O.includes(i.type))||localStorage.removeItem(`taskboard-${a}`)),f.type==="overview"&&(S.some(i=>i.type==="overview")||localStorage.removeItem(`overview-${a}`))}N(S),z===n&&d((($=S[0])==null?void 0:$.id)||null),_(null)},[A,H]=s.useState(null),[se,Y]=s.useState(""),ae=(n,f)=>{H(n),Y(f),r(null)},R=()=>{A&&(N(c.map(n=>n.id===A?{...n,name:se}:n)),H(null),Y(""))},B=n=>{const f=`${window.location.origin}/rooms/${a}/views/${n}`;navigator.clipboard.writeText(f),r(null),alert("Link copied to clipboard")},ee=n=>{const f=c.find(X=>X.id===n);if(!f)return;const S={...f,id:crypto.randomUUID(),name:`${f.name} (Copy)`},$=c.findIndex(X=>X.id===n)+1,O=[...c];O.splice($,0,S),N(O),r(null)},[q,ie]=s.useState({});s.useEffect(()=>{const n=localStorage.getItem(`room-view-settings-${a}`);if(n)try{ie(JSON.parse(n))}catch{}},[a]),s.useEffect(()=>{localStorage.setItem(`room-view-settings-${a}`,JSON.stringify(q))},[q,a]);const u=(n,f)=>{ie(S=>{const $=S[n]||{};return{...S,[n]:{...$,[f]:!$[f]}}})},p=s.useCallback((n,f)=>{var S;return((S=q[n])==null?void 0:S[f])||!1},[q]),I=s.useMemo(()=>{const n=new Map(c.map((f,S)=>[f.id,S]));return[...c].sort((f,S)=>{const $=f.id==="overview"||f.type==="overview",O=S.id==="overview"||S.type==="overview";if($&&!O)return-1;if(!$&&O)return 1;if($&&O)return 0;const X=p(f.id,"pinned"),i=p(S.id,"pinned");return X!==i?X?-1:1:(n.get(f.id)||0)-(n.get(S.id)||0)})},[c,p]);return e.jsxs("div",{className:"flex flex-col flex-1 bg-white",children:[e.jsx("header",{className:"relative z-[100] h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{children:"Private Rooms"}),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),e.jsx("span",{className:"font-medium text-gray-800",children:L})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[I.map(n=>e.jsxs("button",{className:`px-3 py-1.5 text-sm font-medium rounded transition-colors border-b-2 flex items-center gap-2 ${z===n.id?"text-gray-900 border-gray-800":"text-gray-500 border-transparent hover:text-gray-800"}`,onClick:()=>{d(n.id),r(null)},onContextMenu:f=>w(f,n.id),children:[n.icon&&e.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:Se.isValidElement(n.icon)?Se.cloneElement(n.icon,{size:16}):n.icon}),n.name]},n.id)),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-gray-500 hover:bg-gray-100 rounded transition-colors",onClick:()=>j(!v),children:[e.jsx(K,{size:14}),e.jsx("span",{children:"Add"})]}),v&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[49]",onClick:()=>j(!1)}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-[520px] bg-white rounded-lg shadow-2xl border border-gray-200 p-4 z-50 max-h-[600px] overflow-y-auto",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Popular"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:l.filter(n=>n.category==="popular").map(n=>e.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>P(n),children:[e.jsx("span",{className:"mr-3",children:n.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.name}),e.jsx("div",{className:"text-xs text-gray-500",children:n.description})]})]},n.id))}),e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3 pt-2 border-t",children:"More views"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.filter(n=>n.category==="more").map(n=>e.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>P(n),children:[e.jsx("span",{className:"mr-3",children:n.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.name}),e.jsx("div",{className:"text-xs text-gray-500",children:n.description})]})]},n.id))})]})]})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-hidden bg-gray-50",children:[(b==null?void 0:b.type)==="list"&&e.jsx(St,{storageKey:`taskboard-${a}-${b.id}`},`list-${b.id}-${a}`),(b==null?void 0:b.type)==="simple-list"&&e.jsx(Xs,{roomId:a,viewId:b.id},`simple-list-${b.id}-${a}`),(b==null?void 0:b.type)==="table"&&e.jsx(Rs,{roomId:a,viewId:b.id},`table-${b.id}-${a}`),(b==null?void 0:b.type)==="board"&&e.jsx($s,{storageKey:`taskboard-${a}-${b.id}`},`board-${b.id}-${a}`),(b==null?void 0:b.type)==="calendar"&&e.jsx(ft,{refreshTrigger:b.id},`calendar-${a}-${b.id}`),(b==null?void 0:b.type)==="overview"&&e.jsx(As,{storageKey:`overview-${a}`},`overview-${a}`),(b==null?void 0:b.type)==="whiteboard"&&e.jsx(Bs,{},`whiteboard-${a}`),!["list","board","calendar","overview","whiteboard","simple-list"].includes((b==null?void 0:b.type)||"")&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(yt,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-lg font-medium",children:"View not implemented yet"})]})]}),e.jsx(Ae,{isOpen:!!Q,onClose:()=>_(null),onConfirm:k,title:"Delete View",message:"Are you sure you want to delete this view? This action cannot be undone.",confirmText:"Delete",variant:"danger"}),e.jsx(Ae,{isOpen:!!A,onClose:()=>H(null),onConfirm:R,title:"Rename View",message:e.jsx("div",{children:e.jsx("input",{type:"text",value:se,onChange:n=>Y(n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"View Name",autoFocus:!0})}),confirmText:"Rename"}),E&&J&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[100]",onClick:()=>r(null),onContextMenu:n=>{n.preventDefault(),r(null)}}),e.jsxs("div",{className:"fixed z-[101] w-[320px] bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",style:{top:E.y,left:E.x},children:[e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50",onClick:()=>ae(E.viewId,(J==null?void 0:J.name)||""),children:[e.jsx(ge,{size:16,className:"text-gray-500"}),"Rename"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50",onClick:()=>B(E.viewId),children:[e.jsx(Ye,{size:16,className:"text-gray-500"}),"Copy link to view"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50",onClick:()=>u(E.viewId,"favorite"),children:[e.jsx(Xe,{size:16,className:p(E.viewId,"favorite")?"text-yellow-400 fill-yellow-400":"text-gray-500"}),p(E.viewId,"favorite")?"Remove from favorites":"Add to favorites"]})]}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsx("div",{className:"py-1",children:[{icon:Dt,label:"Pin view",setting:"pinned"},{icon:bt,label:"Public view",setting:"public"},{icon:Vt,label:"Autosave for me",setting:"autosave"},{icon:vt,label:"Set as default view",setting:"isDefault"}].map(n=>e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50",onClick:()=>u(E.viewId,n.setting),children:[e.jsx(n.icon,{size:16,className:"text-gray-500"}),e.jsx("span",{className:"flex-1 text-left",children:n.label}),e.jsx("span",{className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${p(E.viewId,n.setting)?"bg-indigo-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform ${p(E.viewId,n.setting)?"translate-x-[18px]":"translate-x-[2px]"}`})})]},n.label))}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50",onClick:()=>ee(E.viewId),children:[e.jsx(Zt,{size:16,className:"text-gray-500"}),"Duplicate view"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>W(E.viewId),children:[e.jsx(ye,{size:16,className:"text-red-500"}),"Delete view"]})]}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-3 px-4 py-3 text-sm font-medium text-white bg-gray-900 hover:bg-gray-800",onClick:()=>{},children:[e.jsx(We,{size:16}),"Sharing & Permissions"]})]})]})]})};export{$a as default};
