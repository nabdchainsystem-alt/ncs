(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var $T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yR={exports:{}},J1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V6;function woe(){if(V6)return J1;V6=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:a}}return J1.Fragment=e,J1.jsx=t,J1.jsxs=t,J1}var F6;function Toe(){return F6||(F6=1,yR.exports=woe()),yR.exports}var E=Toe(),xR={exports:{}},In={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G6;function Moe(){if(G6)return In;G6=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator;function d(j){return j===null||typeof j!="object"?null:(j=h&&j[h]||j["@@iterator"],typeof j=="function"?j:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function x(j,Q,ne){this.props=j,this.context=Q,this.refs=y,this.updater=ne||v}x.prototype.isReactComponent={},x.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function b(){}b.prototype=x.prototype;function T(j,Q,ne){this.props=j,this.context=Q,this.refs=y,this.updater=ne||v}var M=T.prototype=new b;M.constructor=T,g(M,x.prototype),M.isPureReactComponent=!0;var C=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function L(j,Q,ne){var se=ne.ref;return{$$typeof:n,type:j,key:Q,ref:se!==void 0?se:null,props:ne}}function O(j,Q){return L(j.type,Q,j.props)}function B(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function V(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ne){return Q[ne]})}var F=/\/+/g;function k(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?V(""+j.key):Q.toString(36)}function Y(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(D,D):(j.status="pending",j.then(function(Q){j.status==="pending"&&(j.status="fulfilled",j.value=Q)},function(Q){j.status==="pending"&&(j.status="rejected",j.reason=Q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function H(j,Q,ne,se,he){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(pe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case n:case e:xe=!0;break;case c:return xe=j._init,H(xe(j._payload),Q,ne,se,he)}}if(xe)return he=he(j),xe=se===""?"."+k(j,0):se,C(he)?(ne="",xe!=null&&(ne=xe.replace(F,"$&/")+"/"),H(he,Q,ne,"",function(Re){return Re})):he!=null&&(B(he)&&(he=O(he,ne+(he.key==null||j&&j.key===he.key?"":(""+he.key).replace(F,"$&/")+"/")+xe)),Q.push(he)),1;xe=0;var Te=se===""?".":se+":";if(C(j))for(var Me=0;Me<j.length;Me++)se=j[Me],pe=Te+k(se,Me),xe+=H(se,Q,ne,pe,he);else if(Me=d(j),typeof Me=="function")for(j=Me.call(j),Me=0;!(se=j.next()).done;)se=se.value,pe=Te+k(se,Me++),xe+=H(se,Q,ne,pe,he);else if(pe==="object"){if(typeof j.then=="function")return H(Y(j),Q,ne,se,he);throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xe}function W(j,Q,ne){if(j==null)return j;var se=[],he=0;return H(j,se,"","",function(pe){return Q.call(ne,pe,he++)}),se}function q(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(ne){(j._status===0||j._status===-1)&&(j._status=1,j._result=ne)},function(ne){(j._status===0||j._status===-1)&&(j._status=2,j._result=ne)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var K=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},re={map:W,forEach:function(j,Q,ne){W(j,function(){Q.apply(this,arguments)},ne)},count:function(j){var Q=0;return W(j,function(){Q++}),Q},toArray:function(j){return W(j,function(Q){return Q})||[]},only:function(j){if(!B(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return In.Activity=f,In.Children=re,In.Component=x,In.Fragment=t,In.Profiler=i,In.PureComponent=T,In.StrictMode=r,In.Suspense=l,In.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,In.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},In.cache=function(j){return function(){return j.apply(null,arguments)}},In.cacheSignal=function(){return null},In.cloneElement=function(j,Q,ne){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var se=g({},j.props),he=j.key;if(Q!=null)for(pe in Q.key!==void 0&&(he=""+Q.key),Q)!I.call(Q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Q.ref===void 0||(se[pe]=Q[pe]);var pe=arguments.length-2;if(pe===1)se.children=ne;else if(1<pe){for(var xe=Array(pe),Te=0;Te<pe;Te++)xe[Te]=arguments[Te+2];se.children=xe}return L(j.type,he,se)},In.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},In.createElement=function(j,Q,ne){var se,he={},pe=null;if(Q!=null)for(se in Q.key!==void 0&&(pe=""+Q.key),Q)I.call(Q,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(he[se]=Q[se]);var xe=arguments.length-2;if(xe===1)he.children=ne;else if(1<xe){for(var Te=Array(xe),Me=0;Me<xe;Me++)Te[Me]=arguments[Me+2];he.children=Te}if(j&&j.defaultProps)for(se in xe=j.defaultProps,xe)he[se]===void 0&&(he[se]=xe[se]);return L(j,pe,he)},In.createRef=function(){return{current:null}},In.forwardRef=function(j){return{$$typeof:s,render:j}},In.isValidElement=B,In.lazy=function(j){return{$$typeof:c,_payload:{_status:-1,_result:j},_init:q}},In.memo=function(j,Q){return{$$typeof:u,type:j,compare:Q===void 0?null:Q}},In.startTransition=function(j){var Q=R.T,ne={};R.T=ne;try{var se=j(),he=R.S;he!==null&&he(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(D,K)}catch(pe){K(pe)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),R.T=Q}},In.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},In.use=function(j){return R.H.use(j)},In.useActionState=function(j,Q,ne){return R.H.useActionState(j,Q,ne)},In.useCallback=function(j,Q){return R.H.useCallback(j,Q)},In.useContext=function(j){return R.H.useContext(j)},In.useDebugValue=function(){},In.useDeferredValue=function(j,Q){return R.H.useDeferredValue(j,Q)},In.useEffect=function(j,Q){return R.H.useEffect(j,Q)},In.useEffectEvent=function(j){return R.H.useEffectEvent(j)},In.useId=function(){return R.H.useId()},In.useImperativeHandle=function(j,Q,ne){return R.H.useImperativeHandle(j,Q,ne)},In.useInsertionEffect=function(j,Q){return R.H.useInsertionEffect(j,Q)},In.useLayoutEffect=function(j,Q){return R.H.useLayoutEffect(j,Q)},In.useMemo=function(j,Q){return R.H.useMemo(j,Q)},In.useOptimistic=function(j,Q){return R.H.useOptimistic(j,Q)},In.useReducer=function(j,Q,ne){return R.H.useReducer(j,Q,ne)},In.useRef=function(j){return R.H.useRef(j)},In.useState=function(j){return R.H.useState(j)},In.useSyncExternalStore=function(j,Q,ne){return R.H.useSyncExternalStore(j,Q,ne)},In.useTransition=function(){return R.H.useTransition()},In.version="19.2.0",In}var H6;function qx(){return H6||(H6=1,xR.exports=Moe()),xR.exports}var fe=qx();const Xr=Xx(fe);var _R={exports:{}},Q1={},bR={exports:{}},SR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6;function Aoe(){return j6||(j6=1,(function(n){function e(H,W){var q=H.length;H.push(W);e:for(;0<q;){var K=q-1>>>1,re=H[K];if(0<i(re,W))H[K]=W,H[q]=re,q=K;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],q=H.pop();if(q!==W){H[0]=q;e:for(var K=0,re=H.length,j=re>>>1;K<j;){var Q=2*(K+1)-1,ne=H[Q],se=Q+1,he=H[se];if(0>i(ne,q))se<re&&0>i(he,ne)?(H[K]=he,H[se]=q,K=se):(H[K]=ne,H[Q]=q,K=Q);else if(se<re&&0>i(he,q))H[K]=he,H[se]=q,K=se;else break e}}return W}function i(H,W){var q=H.sortIndex-W.sortIndex;return q!==0?q:H.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,d=!1,v=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var W=t(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=H)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function C(H){if(g=!1,M(H),!v)if(t(l)!==null)v=!0,D||(D=!0,V());else{var W=t(u);W!==null&&Y(C,W.startTime-H)}}var D=!1,R=-1,I=5,L=-1;function O(){return y?!0:!(n.unstable_now()-L<I)}function B(){if(y=!1,D){var H=n.unstable_now();L=H;var W=!0;try{e:{v=!1,g&&(g=!1,b(R),R=-1),d=!0;var q=h;try{t:{for(M(H),f=t(l);f!==null&&!(f.expirationTime>H&&O());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var re=K(f.expirationTime<=H);if(H=n.unstable_now(),typeof re=="function"){f.callback=re,M(H),W=!0;break t}f===t(l)&&r(l),M(H)}else r(l);f=t(l)}if(f!==null)W=!0;else{var j=t(u);j!==null&&Y(C,j.startTime-H),W=!1}}break e}finally{f=null,h=q,d=!1}W=void 0}}finally{W?V():D=!1}}}var V;if(typeof T=="function")V=function(){T(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,k=F.port2;F.port1.onmessage=B,V=function(){k.postMessage(null)}}else V=function(){x(B,0)};function Y(H,W){R=x(function(){H(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_next=function(H){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var q=h;h=W;try{return H()}finally{h=q}},n.unstable_requestPaint=function(){y=!0},n.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=h;h=H;try{return W()}finally{h=q}},n.unstable_scheduleCallback=function(H,W,q){var K=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?K+q:K):q=K,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=q+re,H={id:c++,callback:W,priorityLevel:H,startTime:q,expirationTime:re,sortIndex:-1},q>K?(H.sortIndex=q,e(u,H),t(l)===null&&H===t(u)&&(g?(b(R),R=-1):g=!0,Y(C,q-K))):(H.sortIndex=re,e(l,H),v||d||(v=!0,D||(D=!0,V()))),H},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(H){var W=h;return function(){var q=h;h=W;try{return H.apply(this,arguments)}finally{h=q}}}})(SR)),SR}var W6;function Coe(){return W6||(W6=1,bR.exports=Aoe()),bR.exports}var wR={exports:{}},Ao={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y6;function Eoe(){if(Y6)return Ao;Y6=1;var n=qx();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:u,implementation:c}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Ao.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ao.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,c)},Ao.flushSync=function(l){var u=o.T,c=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=u,r.p=c,r.d.f()}},Ao.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Ao.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Ao.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin),h=typeof u.integrity=="string"?u.integrity:void 0,d=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:h,fetchPriority:d}):c==="script"&&r.d.X(l,{crossOrigin:f,integrity:h,fetchPriority:d,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Ao.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=s(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Ao.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,f=s(c,u.crossOrigin);r.d.L(l,c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Ao.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=s(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Ao.requestFormReset=function(l){r.d.r(l)},Ao.unstable_batchedUpdates=function(l,u){return l(u)},Ao.useFormState=function(l,u,c){return o.H.useFormState(l,u,c)},Ao.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ao.version="19.2.0",Ao}var X6;function bq(){if(X6)return wR.exports;X6=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wR.exports=Eoe(),wR.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q6;function Doe(){if(q6)return Q1;q6=1;var n=Coe(),e=qx(),t=bq();function r(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function a(p){var m=p,w=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,(m.flags&4098)!==0&&(w=m.return),p=m.return;while(p)}return m.tag===3?w:null}function o(p){if(p.tag===13){var m=p.memoizedState;if(m===null&&(p=p.alternate,p!==null&&(m=p.memoizedState)),m!==null)return m.dehydrated}return null}function s(p){if(p.tag===31){var m=p.memoizedState;if(m===null&&(p=p.alternate,p!==null&&(m=p.memoizedState)),m!==null)return m.dehydrated}return null}function l(p){if(a(p)!==p)throw Error(r(188))}function u(p){var m=p.alternate;if(!m){if(m=a(p),m===null)throw Error(r(188));return m!==p?null:p}for(var w=p,A=m;;){var P=w.return;if(P===null)break;var U=P.alternate;if(U===null){if(A=P.return,A!==null){w=A;continue}break}if(P.child===U.child){for(U=P.child;U;){if(U===w)return l(P),p;if(U===A)return l(P),m;U=U.sibling}throw Error(r(188))}if(w.return!==A.return)w=P,A=U;else{for(var $=!1,ue=P.child;ue;){if(ue===w){$=!0,w=P,A=U;break}if(ue===A){$=!0,A=P,w=U;break}ue=ue.sibling}if(!$){for(ue=U.child;ue;){if(ue===w){$=!0,w=U,A=P;break}if(ue===A){$=!0,A=U,w=P;break}ue=ue.sibling}if(!$)throw Error(r(189))}}if(w.alternate!==A)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?p:m}function c(p){var m=p.tag;if(m===5||m===26||m===27||m===6)return p;for(p=p.child;p!==null;){if(m=c(p),m!==null)return m;p=p.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function V(p){return p===null||typeof p!="object"?null:(p=B&&p[B]||p["@@iterator"],typeof p=="function"?p:null)}var F=Symbol.for("react.client.reference");function k(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===F?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case g:return"Fragment";case x:return"Profiler";case y:return"StrictMode";case C:return"Suspense";case D:return"SuspenseList";case L:return"Activity"}if(typeof p=="object")switch(p.$$typeof){case v:return"Portal";case T:return p.displayName||"Context";case b:return(p._context.displayName||"Context")+".Consumer";case M:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case R:return m=p.displayName||null,m!==null?m:k(p.type)||"Memo";case I:m=p._payload,p=p._init;try{return k(p(m))}catch{}}return null}var Y=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},K=[],re=-1;function j(p){return{current:p}}function Q(p){0>re||(p.current=K[re],K[re]=null,re--)}function ne(p,m){re++,K[re]=p.current,p.current=m}var se=j(null),he=j(null),pe=j(null),xe=j(null);function Te(p,m){switch(ne(pe,m),ne(he,p),ne(se,null),m.nodeType){case 9:case 11:p=(p=m.documentElement)&&(p=p.namespaceURI)?u6(p):0;break;default:if(p=m.tagName,m=m.namespaceURI)m=u6(m),p=c6(m,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}Q(se),ne(se,p)}function Me(){Q(se),Q(he),Q(pe)}function Re(p){p.memoizedState!==null&&ne(xe,p);var m=se.current,w=c6(m,p.type);m!==w&&(ne(he,p),ne(se,w))}function Ue(p){he.current===p&&(Q(se),Q(he)),xe.current===p&&(Q(xe),X1._currentValue=q)}var et,ct;function X(p){if(et===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);et=m&&m[1]||"",ct=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+et+p+ct}var te=!1;function ve(p,m){if(!p||te)return"";te=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(m){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Qe){var Xe=Qe}Reflect.construct(p,[],lt)}else{try{lt.call()}catch(Qe){Xe=Qe}p.call(lt.prototype)}}else{try{throw Error()}catch(Qe){Xe=Qe}(lt=p())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(Qe){if(Qe&&Xe&&typeof Qe.stack=="string")return[Qe.stack,Xe.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=A.DetermineComponentFrameRoot(),$=U[0],ue=U[1];if($&&ue){var we=$.split(`
`),He=ue.split(`
`);for(P=A=0;A<we.length&&!we[A].includes("DetermineComponentFrameRoot");)A++;for(;P<He.length&&!He[P].includes("DetermineComponentFrameRoot");)P++;if(A===we.length||P===He.length)for(A=we.length-1,P=He.length-1;1<=A&&0<=P&&we[A]!==He[P];)P--;for(;1<=A&&0<=P;A--,P--)if(we[A]!==He[P]){if(A!==1||P!==1)do if(A--,P--,0>P||we[A]!==He[P]){var nt=`
`+we[A].replace(" at new "," at ");return p.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",p.displayName)),nt}while(1<=A&&0<=P);break}}}finally{te=!1,Error.prepareStackTrace=w}return(w=p?p.displayName||p.name:"")?X(w):""}function oe(p,m){switch(p.tag){case 26:case 27:case 5:return X(p.type);case 16:return X("Lazy");case 13:return p.child!==m&&m!==null?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ve(p.type,!1);case 11:return ve(p.type.render,!1);case 1:return ve(p.type,!0);case 31:return X("Activity");default:return""}}function ae(p){try{var m="",w=null;do m+=oe(p,w),w=p,p=p.return;while(p);return m}catch(A){return`
Error generating stack: `+A.message+`
`+A.stack}}var de=Object.prototype.hasOwnProperty,Ae=n.unstable_scheduleCallback,Ce=n.unstable_cancelCallback,be=n.unstable_shouldYield,ie=n.unstable_requestPaint,ee=n.unstable_now,me=n.unstable_getCurrentPriorityLevel,Ne=n.unstable_ImmediatePriority,qe=n.unstable_UserBlockingPriority,Ie=n.unstable_NormalPriority,Mt=n.unstable_LowPriority,xt=n.unstable_IdlePriority,Ct=n.log,Dt=n.unstable_setDisableYieldValue,Je=null,ut=null;function kt(p){if(typeof Ct=="function"&&Dt(p),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(Je,p)}catch{}}var ye=Math.clz32?Math.clz32:_e,Fe=Math.log,ft=Math.LN2;function _e(p){return p>>>=0,p===0?32:31-(Fe(p)/ft|0)|0}var ht=256,dt=262144,at=4194304;function rt(p){var m=p&42;if(m!==0)return m;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return p&261888;case 262144:case 524288:case 1048576:case 2097152:return p&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function tt(p,m,w){var A=p.pendingLanes;if(A===0)return 0;var P=0,U=p.suspendedLanes,$=p.pingedLanes;p=p.warmLanes;var ue=A&134217727;return ue!==0?(A=ue&~U,A!==0?P=rt(A):($&=ue,$!==0?P=rt($):w||(w=ue&~p,w!==0&&(P=rt(w))))):(ue=A&~U,ue!==0?P=rt(ue):$!==0?P=rt($):w||(w=A&~p,w!==0&&(P=rt(w)))),P===0?0:m!==0&&m!==P&&(m&U)===0&&(U=P&-P,w=m&-m,U>=w||U===32&&(w&4194048)!==0)?m:P}function wt(p,m){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&m)===0}function Bt(p,m){switch(p){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hn(){var p=at;return at<<=1,(at&62914560)===0&&(at=4194304),p}function dn(p){for(var m=[],w=0;31>w;w++)m.push(p);return m}function br(p,m){p.pendingLanes|=m,m!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function Xn(p,m,w,A,P,U){var $=p.pendingLanes;p.pendingLanes=w,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=w,p.entangledLanes&=w,p.errorRecoveryDisabledLanes&=w,p.shellSuspendCounter=0;var ue=p.entanglements,we=p.expirationTimes,He=p.hiddenUpdates;for(w=$&~w;0<w;){var nt=31-ye(w),lt=1<<nt;ue[nt]=0,we[nt]=-1;var Xe=He[nt];if(Xe!==null)for(He[nt]=null,nt=0;nt<Xe.length;nt++){var Qe=Xe[nt];Qe!==null&&(Qe.lane&=-536870913)}w&=~lt}A!==0&&ho(p,A,0),U!==0&&P===0&&p.tag!==0&&(p.suspendedLanes|=U&~($&~m))}function ho(p,m,w){p.pendingLanes|=m,p.suspendedLanes&=~m;var A=31-ye(m);p.entangledLanes|=m,p.entanglements[A]=p.entanglements[A]|1073741824|w&261930}function ta(p,m){var w=p.entangledLanes|=m;for(p=p.entanglements;w;){var A=31-ye(w),P=1<<A;P&m|p[A]&m&&(p[A]|=m),w&=~P}}function da(p,m){var w=m&-m;return w=(w&42)!==0?1:ni(w),(w&(p.suspendedLanes|m))!==0?0:w}function ni(p){switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=128;break;case 268435456:p=134217728;break;default:p=0}return p}function po(p){return p&=-p,2<p?8<p?(p&134217727)!==0?32:268435456:8:2}function pi(){var p=W.p;return p!==0?p:(p=window.event,p===void 0?32:I6(p.type))}function Fi(p,m){var w=W.p;try{return W.p=p,m()}finally{W.p=w}}var Ei=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Ei,vi="__reactProps$"+Ei,Us="__reactContainer$"+Ei,Mf="__reactEvents$"+Ei,Um="__reactListeners$"+Ei,A_="__reactHandles$"+Ei,Qh="__reactResources$"+Ei,lu="__reactMarker$"+Ei;function Af(p){delete p[Vn],delete p[vi],delete p[Mf],delete p[Um],delete p[A_]}function gi(p){var m=p[Vn];if(m)return m;for(var w=p.parentNode;w;){if(m=w[Us]||w[Vn]){if(w=m.alternate,m.child!==null||w!==null&&w.child!==null)for(p=m6(p);p!==null;){if(w=p[Vn])return w;p=m6(p)}return m}p=w,w=p.parentNode}return null}function le(p){if(p=p[Vn]||p[Us]){var m=p.tag;if(m===5||m===6||m===13||m===31||m===26||m===27||m===3)return p}return null}function Le(p){var m=p.tag;if(m===5||m===26||m===27||m===6)return p.stateNode;throw Error(r(33))}function Ye(p){var m=p[Qh];return m||(m=p[Qh]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Ve(p){p[lu]=!0}var Pe=new Set,_t={};function Et(p,m){Gt(p,m),Gt(p+"Capture",m)}function Gt(p,m){for(_t[p]=m,p=0;p<m.length;p++)Pe.add(m[p])}var Yt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),un={},pn={};function nn(p){return de.call(pn,p)?!0:de.call(un,p)?!1:Yt.test(p)?pn[p]=!0:(un[p]=!0,!1)}function Ln(p,m,w){if(nn(m))if(w===null)p.removeAttribute(m);else{switch(typeof w){case"undefined":case"function":case"symbol":p.removeAttribute(m);return;case"boolean":var A=m.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){p.removeAttribute(m);return}}p.setAttribute(m,""+w)}}function ir(p,m,w){if(w===null)p.removeAttribute(m);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(m);return}p.setAttribute(m,""+w)}}function ar(p,m,w,A){if(A===null)p.removeAttribute(w);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(w);return}p.setAttributeNS(m,w,""+A)}}function Kn(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function Sr(p){var m=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ln(p,m,w){var A=Object.getOwnPropertyDescriptor(p.constructor.prototype,m);if(!p.hasOwnProperty(m)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var P=A.get,U=A.set;return Object.defineProperty(p,m,{configurable:!0,get:function(){return P.call(this)},set:function($){w=""+$,U.call(this,$)}}),Object.defineProperty(p,m,{enumerable:A.enumerable}),{getValue:function(){return w},setValue:function($){w=""+$},stopTracking:function(){p._valueTracker=null,delete p[m]}}}}function Lr(p){if(!p._valueTracker){var m=Sr(p)?"checked":"value";p._valueTracker=ln(p,m,""+p[m])}}function Jn(p){if(!p)return!1;var m=p._valueTracker;if(!m)return!0;var w=m.getValue(),A="";return p&&(A=Sr(p)?p.checked?"true":"false":p.value),p=A,p!==w?(m.setValue(p),!0):!1}function Di(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var uu=/[\n"\\]/g;function zr(p){return p.replace(uu,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function ml(p,m,w,A,P,U,$,ue){p.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?p.type=$:p.removeAttribute("type"),m!=null?$==="number"?(m===0&&p.value===""||p.value!=m)&&(p.value=""+Kn(m)):p.value!==""+Kn(m)&&(p.value=""+Kn(m)):$!=="submit"&&$!=="reset"||p.removeAttribute("value"),m!=null?Gi(p,$,Kn(m)):w!=null?Gi(p,$,Kn(w)):A!=null&&p.removeAttribute("value"),P==null&&U!=null&&(p.defaultChecked=!!U),P!=null&&(p.checked=P&&typeof P!="function"&&typeof P!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?p.name=""+Kn(ue):p.removeAttribute("name")}function kr(p,m,w,A,P,U,$,ue){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(p.type=U),m!=null||w!=null){if(!(U!=="submit"&&U!=="reset"||m!=null)){Lr(p);return}w=w!=null?""+Kn(w):"",m=m!=null?""+Kn(m):w,ue||m===p.value||(p.value=m),p.defaultValue=m}A=A??P,A=typeof A!="function"&&typeof A!="symbol"&&!!A,p.checked=ue?p.checked:!!A,p.defaultChecked=!!A,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(p.name=$),Lr(p)}function Gi(p,m,w){m==="number"&&Di(p.ownerDocument)===p||p.defaultValue===""+w||(p.defaultValue=""+w)}function Hi(p,m,w,A){if(p=p.options,m){m={};for(var P=0;P<w.length;P++)m["$"+w[P]]=!0;for(w=0;w<p.length;w++)P=m.hasOwnProperty("$"+p[w].value),p[w].selected!==P&&(p[w].selected=P),P&&A&&(p[w].defaultSelected=!0)}else{for(w=""+Kn(w),m=null,P=0;P<p.length;P++){if(p[P].value===w){p[P].selected=!0,A&&(p[P].defaultSelected=!0);return}m!==null||p[P].disabled||(m=p[P])}m!==null&&(m.selected=!0)}}function ji(p,m,w){if(m!=null&&(m=""+Kn(m),m!==p.value&&(p.value=m),w==null)){p.defaultValue!==m&&(p.defaultValue=m);return}p.defaultValue=w!=null?""+Kn(w):""}function oi(p,m,w,A){if(m==null){if(A!=null){if(w!=null)throw Error(r(92));if(Y(A)){if(1<A.length)throw Error(r(93));A=A[0]}w=A}w==null&&(w=""),m=w}w=Kn(m),p.defaultValue=w,A=p.textContent,A===w&&A!==""&&A!==null&&(p.value=A),Lr(p)}function Vs(p,m){if(m){var w=p.firstChild;if(w&&w===p.lastChild&&w.nodeType===3){w.nodeValue=m;return}}p.textContent=m}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zp(p,m,w){var A=m.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?A?p.setProperty(m,""):m==="float"?p.cssFloat="":p[m]="":A?p.setProperty(m,w):typeof w!="number"||w===0||ys.has(m)?m==="float"?p.cssFloat=w:p[m]=(""+w).trim():p[m]=w+"px"}function C_(p,m,w){if(m!=null&&typeof m!="object")throw Error(r(62));if(p=p.style,w!=null){for(var A in w)!w.hasOwnProperty(A)||m!=null&&m.hasOwnProperty(A)||(A.indexOf("--")===0?p.setProperty(A,""):A==="float"?p.cssFloat="":p[A]="");for(var P in m)A=m[P],m.hasOwnProperty(P)&&w[P]!==A&&Zp(p,P,A)}else for(var U in m)m.hasOwnProperty(U)&&Zp(p,U,m[U])}function Kp(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ow=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jp(p){return Pw.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}function yl(){}var Qp=null;function Vm(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Cf=null,ac=null;function E_(p){var m=le(p);if(m&&(p=m.stateNode)){var w=p[vi]||null;e:switch(p=m.stateNode,m.type){case"input":if(ml(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),m=w.name,w.type==="radio"&&m!=null){for(w=p;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+zr(""+m)+'"][type="radio"]'),m=0;m<w.length;m++){var A=w[m];if(A!==p&&A.form===p.form){var P=A[vi]||null;if(!P)throw Error(r(90));ml(A,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(m=0;m<w.length;m++)A=w[m],A.form===p.form&&Jn(A)}break e;case"textarea":ji(p,w.value,w.defaultValue);break e;case"select":m=w.value,m!=null&&Hi(p,!!w.multiple,m,!1)}}}var Fm=!1;function D_(p,m,w){if(Fm)return p(m,w);Fm=!0;try{var A=p(m);return A}finally{if(Fm=!1,(Cf!==null||ac!==null)&&(ce(),Cf&&(m=Cf,p=ac,ac=Cf=null,E_(m),p)))for(m=0;m<p.length;m++)E_(p[m])}}function Ef(p,m){var w=p.stateNode;if(w===null)return null;var A=w[vi]||null;if(A===null)return null;w=A[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(p=p.type,A=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!A;break e;default:p=!1}if(p)return null;if(w&&typeof w!="function")throw Error(r(231,m,typeof w));return w}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=!1;if(xl)try{var $p={};Object.defineProperty($p,"passive",{get:function(){Gm=!0}}),window.addEventListener("test",$p,$p),window.removeEventListener("test",$p,$p)}catch{Gm=!1}var oc=null,Hm=null,sc=null;function jm(){if(sc)return sc;var p,m=Hm,w=m.length,A,P="value"in oc?oc.value:oc.textContent,U=P.length;for(p=0;p<w&&m[p]===P[p];p++);var $=w-p;for(A=1;A<=$&&m[w-A]===P[U-A];A++);return sc=P.slice(p,1<A?1-A:void 0)}function Df(p){var m=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&m===13&&(p=13)):p=m,p===10&&(p=13),32<=p||p===13?p:0}function ev(){return!0}function N_(){return!1}function La(p){function m(w,A,P,U,$){this._reactName=w,this._targetInst=P,this.type=A,this.nativeEvent=U,this.target=$,this.currentTarget=null;for(var ue in p)p.hasOwnProperty(ue)&&(w=p[ue],this[ue]=w?w(U):U[ue]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?ev:N_,this.isPropagationStopped=N_,this}return f(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=ev)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=ev)},persist:function(){},isPersistent:ev}),m}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tv=La(lc),Fs=f({},lc,{view:0,detail:0}),Wm=La(Fs),Ym,nv,$h,rv=f({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:av,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==$h&&($h&&p.type==="mousemove"?(Ym=p.screenX-$h.screenX,nv=p.screenY-$h.screenY):nv=Ym=0,$h=p),Ym)},movementY:function(p){return"movementY"in p?p.movementY:nv}}),zw=La(rv),pa=f({},rv,{dataTransfer:0}),kw=La(pa),Bw=f({},Fs,{relatedTarget:0}),Xm=La(Bw),Uw=f({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),Vw=La(Uw),iv=f({},lc,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),R_=La(iv),Fw=f({},lc,{data:0}),L_=La(Fw),Gw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hw(p){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(p):(p=O_[p])?!!m[p]:!1}function av(){return Hw}var P_=f({},Fs,{key:function(p){if(p.key){var m=Gw[p.key]||p.key;if(m!=="Unidentified")return m}return p.type==="keypress"?(p=Df(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?I_[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:av,charCode:function(p){return p.type==="keypress"?Df(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Df(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),z_=La(P_),jw=f({},rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qm=La(jw),Ww=f({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:av}),cu=La(Ww),k_=f({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),kN=La(k_),Yw=f({},rv,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),uc=La(Yw),fu=f({},lc,{newState:0,oldState:0}),B_=La(fu),U_=[9,13,27,32],Nf=xl&&"CompositionEvent"in window,cc=null;xl&&"documentMode"in document&&(cc=document.documentMode);var Rf=xl&&"TextEvent"in window&&!cc,va=xl&&(!Nf||cc&&8<cc&&11>=cc),ov=" ",V_=!1;function Zm(p,m){switch(p){case"keyup":return U_.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var fc=!1;function Km(p,m){switch(p){case"compositionend":return ed(m);case"keypress":return m.which!==32?null:(V_=!0,ov);case"textInput":return p=m.data,p===ov&&V_?null:p;default:return null}}function Xw(p,m){if(fc)return p==="compositionend"||!Nf&&Zm(p,m)?(p=jm(),sc=Hm=oc=null,fc=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return va&&m.locale!=="ko"?null:m.data;default:return null}}var Fo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F_(p){var m=p&&p.nodeName&&p.nodeName.toLowerCase();return m==="input"?!!Fo[p.type]:m==="textarea"}function Jm(p,m,w,A){Cf?ac?ac.push(A):ac=[A]:Cf=A,m=BT(m,"onChange"),0<m.length&&(w=new tv("onChange","change",null,w,A),p.push({event:w,listeners:m}))}var td=null,nd=null;function G_(p){r6(p,0)}function rd(p){var m=Le(p);if(Jn(m))return p}function H_(p,m){if(p==="change")return m}var sv=!1;if(xl){var Lf;if(xl){var Jr="oninput"in document;if(!Jr){var qw=document.createElement("div");qw.setAttribute("oninput","return;"),Jr=typeof qw.oninput=="function"}Lf=Jr}else Lf=!1;sv=Lf&&(!document.documentMode||9<document.documentMode)}function Zw(){td&&(td.detachEvent("onpropertychange",j_),nd=td=null)}function j_(p){if(p.propertyName==="value"&&rd(nd)){var m=[];Jm(m,nd,p,Vm(p)),D_(G_,m)}}function lv(p,m,w){p==="focusin"?(Zw(),td=m,nd=w,td.attachEvent("onpropertychange",j_)):p==="focusout"&&Zw()}function hc(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return rd(nd)}function Kw(p,m){if(p==="click")return rd(m)}function Jw(p,m){if(p==="input"||p==="change")return rd(m)}function If(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var Qr=typeof Object.is=="function"?Object.is:If;function id(p,m){if(Qr(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var w=Object.keys(p),A=Object.keys(m);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var P=w[A];if(!de.call(m,P)||!Qr(p[P],m[P]))return!1}return!0}function W_(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function Y_(p,m){var w=W_(p);p=0;for(var A;w;){if(w.nodeType===3){if(A=p+w.textContent.length,p<=m&&A>=m)return{node:w,offset:m-p};p=A}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=W_(w)}}function Qm(p,m){return p&&m?p===m?!0:p&&p.nodeType===3?!1:m&&m.nodeType===3?Qm(p,m.parentNode):"contains"in p?p.contains(m):p.compareDocumentPosition?!!(p.compareDocumentPosition(m)&16):!1:!1}function $m(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var m=Di(p.document);m instanceof p.HTMLIFrameElement;){try{var w=typeof m.contentWindow.location.href=="string"}catch{w=!1}if(w)p=m.contentWindow;else break;m=Di(p.document)}return m}function ad(p){var m=p&&p.nodeName&&p.nodeName.toLowerCase();return m&&(m==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||m==="textarea"||p.contentEditable==="true")}var Qw=xl&&"documentMode"in document&&11>=document.documentMode,od=null,e0=null,sd=null,Go=!1;function t0(p,m,w){var A=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Go||od==null||od!==Di(A)||(A=od,"selectionStart"in A&&ad(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),sd&&id(sd,A)||(sd=A,A=BT(e0,"onSelect"),0<A.length&&(m=new tv("onSelect","select",null,m,w),p.push({event:m,listeners:A}),m.target=od)))}function dc(p,m){var w={};return w[p.toLowerCase()]=m.toLowerCase(),w["Webkit"+p]="webkit"+m,w["Moz"+p]="moz"+m,w}var ld={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionrun:dc("Transition","TransitionRun"),transitionstart:dc("Transition","TransitionStart"),transitioncancel:dc("Transition","TransitionCancel"),transitionend:dc("Transition","TransitionEnd")},uv={},Za={};xl&&(Za=document.createElement("div").style,"AnimationEvent"in window||(delete ld.animationend.animation,delete ld.animationiteration.animation,delete ld.animationstart.animation),"TransitionEvent"in window||delete ld.transitionend.transition);function pc(p){if(uv[p])return uv[p];if(!ld[p])return p;var m=ld[p],w;for(w in m)if(m.hasOwnProperty(w)&&w in Za)return uv[p]=m[w];return p}var vo=pc("animationend"),X_=pc("animationiteration"),_l=pc("animationstart"),ud=pc("transitionrun"),vc=pc("transitionstart"),q_=pc("transitioncancel"),n0=pc("transitionend"),hu=new Map,r0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");r0.push("scrollEnd");function Ia(p,m){hu.set(p,m),Et(m,[p])}var gc=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},na=[],Of=0,i0=0;function mc(){for(var p=Of,m=i0=Of=0;m<p;){var w=na[m];na[m++]=null;var A=na[m];na[m++]=null;var P=na[m];na[m++]=null;var U=na[m];if(na[m++]=null,A!==null&&P!==null){var $=A.pending;$===null?P.next=P:(P.next=$.next,$.next=P),A.pending=P}U!==0&&a0(w,P,U)}}function cv(p,m,w,A){na[Of++]=p,na[Of++]=m,na[Of++]=w,na[Of++]=A,i0|=A,p.lanes|=A,p=p.alternate,p!==null&&(p.lanes|=A)}function cd(p,m,w,A){return cv(p,m,w,A),fd(p)}function yc(p,m){return cv(p,null,null,m),fd(p)}function a0(p,m,w){p.lanes|=w;var A=p.alternate;A!==null&&(A.lanes|=w);for(var P=!1,U=p.return;U!==null;)U.childLanes|=w,A=U.alternate,A!==null&&(A.childLanes|=w),U.tag===22&&(p=U.stateNode,p===null||p._visibility&1||(P=!0)),p=U,U=U.return;return p.tag===3?(U=p.stateNode,P&&m!==null&&(P=31-ye(w),p=U.hiddenUpdates,A=p[P],A===null?p[P]=[m]:A.push(m),m.lane=w|536870912),U):null}function fd(p){if(50<Jf)throw Jf=0,Qf=null,Error(r(185));for(var m=p.return;m!==null;)p=m,m=p.return;return p.tag===3?p.stateNode:null}var xc={};function $w(p,m,w,A){this.tag=p,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(p,m,w,A){return new $w(p,m,w,A)}function Ja(p){return p=p.prototype,!(!p||!p.isReactComponent)}function bl(p,m){var w=p.alternate;return w===null?(w=Ka(p.tag,m,p.key,p.mode),w.elementType=p.elementType,w.type=p.type,w.stateNode=p.stateNode,w.alternate=p,p.alternate=w):(w.pendingProps=m,w.type=p.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=p.flags&65011712,w.childLanes=p.childLanes,w.lanes=p.lanes,w.child=p.child,w.memoizedProps=p.memoizedProps,w.memoizedState=p.memoizedState,w.updateQueue=p.updateQueue,m=p.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=p.sibling,w.index=p.index,w.ref=p.ref,w.refCleanup=p.refCleanup,w}function Oa(p,m){p.flags&=65011714;var w=p.alternate;return w===null?(p.childLanes=0,p.lanes=m,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,m=w.dependencies,p.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),p}function fv(p,m,w,A,P,U){var $=0;if(A=p,typeof p=="function")Ja(p)&&($=1);else if(typeof p=="string")$=foe(p,w,se.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case L:return p=Ka(31,w,m,P),p.elementType=L,p.lanes=U,p;case g:return du(w.children,P,U,m);case y:$=8,P|=24;break;case x:return p=Ka(12,w,m,P|2),p.elementType=x,p.lanes=U,p;case C:return p=Ka(13,w,m,P),p.elementType=C,p.lanes=U,p;case D:return p=Ka(19,w,m,P),p.elementType=D,p.lanes=U,p;default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case T:$=10;break e;case b:$=9;break e;case M:$=11;break e;case R:$=14;break e;case I:$=16,A=null;break e}$=29,w=Error(r(130,p===null?"null":typeof p,"")),A=null}return m=Ka($,w,m,P),m.elementType=p,m.type=A,m.lanes=U,m}function du(p,m,w,A){return p=Ka(7,p,A,m),p.lanes=w,p}function o0(p,m,w){return p=Ka(6,p,null,m),p.lanes=w,p}function eT(p){var m=Ka(18,null,null,0);return m.stateNode=p,m}function Gs(p,m,w){return m=Ka(4,p.children!==null?p.children:[],p.key,m),m.lanes=w,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}var Z_=new WeakMap;function go(p,m){if(typeof p=="object"&&p!==null){var w=Z_.get(p);return w!==void 0?w:(m={value:p,source:m,stack:ae(m)},Z_.set(p,m),m)}return{value:p,source:m,stack:ae(m)}}var Hs=[],Pf=0,hv=null,hd=0,Ho=[],mo=0,Sl=null,wl=1,Tl="";function pu(p,m){Hs[Pf++]=hd,Hs[Pf++]=hv,hv=p,hd=m}function K_(p,m,w){Ho[mo++]=wl,Ho[mo++]=Tl,Ho[mo++]=Sl,Sl=p;var A=wl;p=Tl;var P=32-ye(A)-1;A&=~(1<<P),w+=1;var U=32-ye(m)+P;if(30<U){var $=P-P%5;U=(A&(1<<$)-1).toString(32),A>>=$,P-=$,wl=1<<32-ye(m)+P|w<<P|A,Tl=U+p}else wl=1<<U|w<<P|A,Tl=p}function s0(p){p.return!==null&&(pu(p,1),K_(p,1,0))}function _c(p){for(;p===hv;)hv=Hs[--Pf],Hs[Pf]=null,hd=Hs[--Pf],Hs[Pf]=null;for(;p===Sl;)Sl=Ho[--mo],Ho[mo]=null,Tl=Ho[--mo],Ho[mo]=null,wl=Ho[--mo],Ho[mo]=null}function dv(p,m){Ho[mo++]=wl,Ho[mo++]=Tl,Ho[mo++]=Sl,wl=m.id,Tl=m.overflow,Sl=p}var ra=null,Hr=null,nr=!1,vu=null,ia=!1,l0=Error(r(519));function Qn(p){var m=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pv(go(m,p)),l0}function u0(p){var m=p.stateNode,w=p.type,A=p.memoizedProps;switch(m[Vn]=p,m[vi]=A,w){case"dialog":rr("cancel",m),rr("close",m);break;case"iframe":case"object":case"embed":rr("load",m);break;case"video":case"audio":for(w=0;w<G1.length;w++)rr(G1[w],m);break;case"source":rr("error",m);break;case"img":case"image":case"link":rr("error",m),rr("load",m);break;case"details":rr("toggle",m);break;case"input":rr("invalid",m),kr(m,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0);break;case"select":rr("invalid",m);break;case"textarea":rr("invalid",m),oi(m,A.value,A.defaultValue,A.children)}w=A.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||m.textContent===""+w||A.suppressHydrationWarning===!0||s6(m.textContent,w)?(A.popover!=null&&(rr("beforetoggle",m),rr("toggle",m)),A.onScroll!=null&&rr("scroll",m),A.onScrollEnd!=null&&rr("scrollend",m),A.onClick!=null&&(m.onclick=yl),m=!0):m=!1,m||Qn(p,!0)}function tT(p){for(ra=p.return;ra;)switch(ra.tag){case 5:case 31:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:ra=ra.return}}function zf(p){if(p!==ra)return!1;if(!nr)return tT(p),nr=!0,!1;var m=p.tag,w;if((w=m!==3&&m!==27)&&((w=m===5)&&(w=p.type,w=!(w!=="form"&&w!=="button")||rR(p.type,p.memoizedProps)),w=!w),w&&Hr&&Qn(p),tT(p),m===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));Hr=g6(p)}else if(m===31){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));Hr=g6(p)}else m===27?(m=Hr,Rd(p.type)?(p=lR,lR=null,Hr=p):Hr=m):Hr=ra?Pl(p.stateNode.nextSibling):null;return!0}function kf(){Hr=ra=null,nr=!1}function J_(){var p=vu;return p!==null&&(Va===null?Va=p:Va.push.apply(Va,p),vu=null),p}function pv(p){vu===null?vu=[p]:vu.push(p)}var Q_=j(null),gu=null,Pa=null;function mu(p,m,w){ne(Q_,m._currentValue),m._currentValue=w}function xs(p){p._currentValue=Q_.current,Q(Q_)}function yu(p,m,w){for(;p!==null;){var A=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),p===w)break;p=p.return}}function c0(p,m,w,A){var P=p.child;for(P!==null&&(P.return=p);P!==null;){var U=P.dependencies;if(U!==null){var $=P.child;U=U.firstContext;e:for(;U!==null;){var ue=U;U=P;for(var we=0;we<m.length;we++)if(ue.context===m[we]){U.lanes|=w,ue=U.alternate,ue!==null&&(ue.lanes|=w),yu(U.return,w,p),A||($=null);break e}U=ue.next}}else if(P.tag===18){if($=P.return,$===null)throw Error(r(341));$.lanes|=w,U=$.alternate,U!==null&&(U.lanes|=w),yu($,w,p),$=null}else $=P.child;if($!==null)$.return=P;else for($=P;$!==null;){if($===p){$=null;break}if(P=$.sibling,P!==null){P.return=$.return,$=P;break}$=$.return}P=$}}function bc(p,m,w,A){p=null;for(var P=m,U=!1;P!==null;){if(!U){if((P.flags&524288)!==0)U=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var $=P.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var ue=P.type;Qr(P.pendingProps.value,$.value)||(p!==null?p.push(ue):p=[ue])}}else if(P===xe.current){if($=P.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(p!==null?p.push(X1):p=[X1])}P=P.return}p!==null&&c0(m,p,w,A),m.flags|=262144}function dd(p){for(p=p.firstContext;p!==null;){if(!Qr(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function Bf(p){gu=p,Pa=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function aa(p){return $_(gu,p)}function vv(p,m){return gu===null&&Bf(p),$_(p,m)}function $_(p,m){var w=m._currentValue;if(m={context:m,memoizedValue:w,next:null},Pa===null){if(p===null)throw Error(r(308));Pa=m,p.dependencies={lanes:0,firstContext:m},p.flags|=524288}else Pa=Pa.next=m;return w}var nT=typeof AbortController<"u"?AbortController:function(){var p=[],m=this.signal={aborted:!1,addEventListener:function(w,A){p.push(A)}};this.abort=function(){m.aborted=!0,p.forEach(function(w){return w()})}},rT=n.unstable_scheduleCallback,e1=n.unstable_NormalPriority,rn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function t1(){return{controller:new nT,data:new Map,refCount:0}}function ga(p){p.refCount--,p.refCount===0&&rT(e1,function(){p.controller.abort()})}var Uf=null,n1=0,xu=0,js=null;function pd(p,m){if(Uf===null){var w=Uf=[];n1=0,xu=qN(),js={status:"pending",value:void 0,then:function(A){w.push(A)}}}return n1++,m.then(r1,r1),m}function r1(){if(--n1===0&&Uf!==null){js!==null&&(js.status="fulfilled");var p=Uf;Uf=null,xu=0,js=null;for(var m=0;m<p.length;m++)(0,p[m])()}}function i1(p,m){var w=[],A={status:"pending",value:null,reason:null,then:function(P){w.push(P)}};return p.then(function(){A.status="fulfilled",A.value=m;for(var P=0;P<w.length;P++)(0,w[P])(m)},function(P){for(A.status="rejected",A.reason=P,P=0;P<w.length;P++)(0,w[P])(void 0)}),A}var iT=H.S;H.S=function(p,m){Ed=ee(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&pd(p,m),iT!==null&&iT(p,m)};var Sc=j(null);function Ml(){var p=Sc.current;return p!==null?p:Tr.pooledCache}function vd(p,m){m===null?ne(Sc,Sc.current):ne(Sc,m.pool)}function f0(){var p=Ml();return p===null?null:{parent:rn._currentValue,pool:p}}var wc=Error(r(460)),gv=Error(r(474)),Ws=Error(r(542)),mv={then:function(){}};function aT(p){return p=p.status,p==="fulfilled"||p==="rejected"}function a1(p,m,w){switch(w=p[w],w===void 0?p.push(m):w!==m&&(m.then(yl,yl),m=w),m.status){case"fulfilled":return m.value;case"rejected":throw p=m.reason,o1(p),p;default:if(typeof m.status=="string")m.then(yl,yl);else{if(p=Tr,p!==null&&100<p.shellSuspendCounter)throw Error(r(482));p=m,p.status="pending",p.then(function(A){if(m.status==="pending"){var P=m;P.status="fulfilled",P.value=A}},function(A){if(m.status==="pending"){var P=m;P.status="rejected",P.reason=A}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw p=m.reason,o1(p),p}throw vn=m,wc}}function Vf(p){try{var m=p._init;return m(p._payload)}catch(w){throw w!==null&&typeof w=="object"&&typeof w.then=="function"?(vn=w,wc):w}}var vn=null;function h0(){if(vn===null)throw Error(r(459));var p=vn;return vn=null,p}function o1(p){if(p===wc||p===Ws)throw Error(r(483))}var Tc=null,Mc=0;function d0(p){var m=Mc;return Mc+=1,Tc===null&&(Tc=[]),a1(Tc,p,m)}function yv(p,m){m=m.props.ref,p.ref=m!==void 0?m:null}function xv(p,m){throw m.$$typeof===h?Error(r(525)):(p=Object.prototype.toString.call(m),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p)))}function gd(p){function m(ke,Ee){if(p){var Ge=ke.deletions;Ge===null?(ke.deletions=[Ee],ke.flags|=16):Ge.push(Ee)}}function w(ke,Ee){if(!p)return null;for(;Ee!==null;)m(ke,Ee),Ee=Ee.sibling;return null}function A(ke){for(var Ee=new Map;ke!==null;)ke.key!==null?Ee.set(ke.key,ke):Ee.set(ke.index,ke),ke=ke.sibling;return Ee}function P(ke,Ee){return ke=bl(ke,Ee),ke.index=0,ke.sibling=null,ke}function U(ke,Ee,Ge){return ke.index=Ge,p?(Ge=ke.alternate,Ge!==null?(Ge=Ge.index,Ge<Ee?(ke.flags|=67108866,Ee):Ge):(ke.flags|=67108866,Ee)):(ke.flags|=1048576,Ee)}function $(ke){return p&&ke.alternate===null&&(ke.flags|=67108866),ke}function ue(ke,Ee,Ge,ot){return Ee===null||Ee.tag!==6?(Ee=o0(Ge,ke.mode,ot),Ee.return=ke,Ee):(Ee=P(Ee,Ge),Ee.return=ke,Ee)}function we(ke,Ee,Ge,ot){var cn=Ge.type;return cn===g?nt(ke,Ee,Ge.props.children,ot,Ge.key):Ee!==null&&(Ee.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===I&&Vf(cn)===Ee.type)?(Ee=P(Ee,Ge.props),yv(Ee,Ge),Ee.return=ke,Ee):(Ee=fv(Ge.type,Ge.key,Ge.props,null,ke.mode,ot),yv(Ee,Ge),Ee.return=ke,Ee)}function He(ke,Ee,Ge,ot){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Ge.containerInfo||Ee.stateNode.implementation!==Ge.implementation?(Ee=Gs(Ge,ke.mode,ot),Ee.return=ke,Ee):(Ee=P(Ee,Ge.children||[]),Ee.return=ke,Ee)}function nt(ke,Ee,Ge,ot,cn){return Ee===null||Ee.tag!==7?(Ee=du(Ge,ke.mode,ot,cn),Ee.return=ke,Ee):(Ee=P(Ee,Ge),Ee.return=ke,Ee)}function lt(ke,Ee,Ge){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=o0(""+Ee,ke.mode,Ge),Ee.return=ke,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case d:return Ge=fv(Ee.type,Ee.key,Ee.props,null,ke.mode,Ge),yv(Ge,Ee),Ge.return=ke,Ge;case v:return Ee=Gs(Ee,ke.mode,Ge),Ee.return=ke,Ee;case I:return Ee=Vf(Ee),lt(ke,Ee,Ge)}if(Y(Ee)||V(Ee))return Ee=du(Ee,ke.mode,Ge,null),Ee.return=ke,Ee;if(typeof Ee.then=="function")return lt(ke,d0(Ee),Ge);if(Ee.$$typeof===T)return lt(ke,vv(ke,Ee),Ge);xv(ke,Ee)}return null}function Xe(ke,Ee,Ge,ot){var cn=Ee!==null?Ee.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return cn!==null?null:ue(ke,Ee,""+Ge,ot);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case d:return Ge.key===cn?we(ke,Ee,Ge,ot):null;case v:return Ge.key===cn?He(ke,Ee,Ge,ot):null;case I:return Ge=Vf(Ge),Xe(ke,Ee,Ge,ot)}if(Y(Ge)||V(Ge))return cn!==null?null:nt(ke,Ee,Ge,ot,null);if(typeof Ge.then=="function")return Xe(ke,Ee,d0(Ge),ot);if(Ge.$$typeof===T)return Xe(ke,Ee,vv(ke,Ge),ot);xv(ke,Ge)}return null}function Qe(ke,Ee,Ge,ot,cn){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ke=ke.get(Ge)||null,ue(Ee,ke,""+ot,cn);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case d:return ke=ke.get(ot.key===null?Ge:ot.key)||null,we(Ee,ke,ot,cn);case v:return ke=ke.get(ot.key===null?Ge:ot.key)||null,He(Ee,ke,ot,cn);case I:return ot=Vf(ot),Qe(ke,Ee,Ge,ot,cn)}if(Y(ot)||V(ot))return ke=ke.get(Ge)||null,nt(Ee,ke,ot,cn,null);if(typeof ot.then=="function")return Qe(ke,Ee,Ge,d0(ot),cn);if(ot.$$typeof===T)return Qe(ke,Ee,Ge,vv(Ee,ot),cn);xv(Ee,ot)}return null}function qt(ke,Ee,Ge,ot){for(var cn=null,Ar=null,$t=Ee,jn=Ee=0,lr=null;$t!==null&&jn<Ge.length;jn++){$t.index>jn?(lr=$t,$t=null):lr=$t.sibling;var Cr=Xe(ke,$t,Ge[jn],ot);if(Cr===null){$t===null&&($t=lr);break}p&&$t&&Cr.alternate===null&&m(ke,$t),Ee=U(Cr,Ee,jn),Ar===null?cn=Cr:Ar.sibling=Cr,Ar=Cr,$t=lr}if(jn===Ge.length)return w(ke,$t),nr&&pu(ke,jn),cn;if($t===null){for(;jn<Ge.length;jn++)$t=lt(ke,Ge[jn],ot),$t!==null&&(Ee=U($t,Ee,jn),Ar===null?cn=$t:Ar.sibling=$t,Ar=$t);return nr&&pu(ke,jn),cn}for($t=A($t);jn<Ge.length;jn++)lr=Qe($t,ke,jn,Ge[jn],ot),lr!==null&&(p&&lr.alternate!==null&&$t.delete(lr.key===null?jn:lr.key),Ee=U(lr,Ee,jn),Ar===null?cn=lr:Ar.sibling=lr,Ar=lr);return p&&$t.forEach(function(zd){return m(ke,zd)}),nr&&pu(ke,jn),cn}function yn(ke,Ee,Ge,ot){if(Ge==null)throw Error(r(151));for(var cn=null,Ar=null,$t=Ee,jn=Ee=0,lr=null,Cr=Ge.next();$t!==null&&!Cr.done;jn++,Cr=Ge.next()){$t.index>jn?(lr=$t,$t=null):lr=$t.sibling;var zd=Xe(ke,$t,Cr.value,ot);if(zd===null){$t===null&&($t=lr);break}p&&$t&&zd.alternate===null&&m(ke,$t),Ee=U(zd,Ee,jn),Ar===null?cn=zd:Ar.sibling=zd,Ar=zd,$t=lr}if(Cr.done)return w(ke,$t),nr&&pu(ke,jn),cn;if($t===null){for(;!Cr.done;jn++,Cr=Ge.next())Cr=lt(ke,Cr.value,ot),Cr!==null&&(Ee=U(Cr,Ee,jn),Ar===null?cn=Cr:Ar.sibling=Cr,Ar=Cr);return nr&&pu(ke,jn),cn}for($t=A($t);!Cr.done;jn++,Cr=Ge.next())Cr=Qe($t,ke,jn,Cr.value,ot),Cr!==null&&(p&&Cr.alternate!==null&&$t.delete(Cr.key===null?jn:Cr.key),Ee=U(Cr,Ee,jn),Ar===null?cn=Cr:Ar.sibling=Cr,Ar=Cr);return p&&$t.forEach(function(Soe){return m(ke,Soe)}),nr&&pu(ke,jn),cn}function Yr(ke,Ee,Ge,ot){if(typeof Ge=="object"&&Ge!==null&&Ge.type===g&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case d:e:{for(var cn=Ge.key;Ee!==null;){if(Ee.key===cn){if(cn=Ge.type,cn===g){if(Ee.tag===7){w(ke,Ee.sibling),ot=P(Ee,Ge.props.children),ot.return=ke,ke=ot;break e}}else if(Ee.elementType===cn||typeof cn=="object"&&cn!==null&&cn.$$typeof===I&&Vf(cn)===Ee.type){w(ke,Ee.sibling),ot=P(Ee,Ge.props),yv(ot,Ge),ot.return=ke,ke=ot;break e}w(ke,Ee);break}else m(ke,Ee);Ee=Ee.sibling}Ge.type===g?(ot=du(Ge.props.children,ke.mode,ot,Ge.key),ot.return=ke,ke=ot):(ot=fv(Ge.type,Ge.key,Ge.props,null,ke.mode,ot),yv(ot,Ge),ot.return=ke,ke=ot)}return $(ke);case v:e:{for(cn=Ge.key;Ee!==null;){if(Ee.key===cn)if(Ee.tag===4&&Ee.stateNode.containerInfo===Ge.containerInfo&&Ee.stateNode.implementation===Ge.implementation){w(ke,Ee.sibling),ot=P(Ee,Ge.children||[]),ot.return=ke,ke=ot;break e}else{w(ke,Ee);break}else m(ke,Ee);Ee=Ee.sibling}ot=Gs(Ge,ke.mode,ot),ot.return=ke,ke=ot}return $(ke);case I:return Ge=Vf(Ge),Yr(ke,Ee,Ge,ot)}if(Y(Ge))return qt(ke,Ee,Ge,ot);if(V(Ge)){if(cn=V(Ge),typeof cn!="function")throw Error(r(150));return Ge=cn.call(Ge),yn(ke,Ee,Ge,ot)}if(typeof Ge.then=="function")return Yr(ke,Ee,d0(Ge),ot);if(Ge.$$typeof===T)return Yr(ke,Ee,vv(ke,Ge),ot);xv(ke,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,Ee!==null&&Ee.tag===6?(w(ke,Ee.sibling),ot=P(Ee,Ge),ot.return=ke,ke=ot):(w(ke,Ee),ot=o0(Ge,ke.mode,ot),ot.return=ke,ke=ot),$(ke)):w(ke,Ee)}return function(ke,Ee,Ge,ot){try{Mc=0;var cn=Yr(ke,Ee,Ge,ot);return Tc=null,cn}catch($t){if($t===wc||$t===Ws)throw $t;var Ar=Ka(29,$t,null,ke.mode);return Ar.lanes=ot,Ar.return=ke,Ar}finally{}}}var Ff=gd(!0),oT=gd(!1),Ac=!1;function s1(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function l1(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function Al(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function _u(p,m,w){var A=p.updateQueue;if(A===null)return null;if(A=A.shared,(or&2)!==0){var P=A.pending;return P===null?m.next=m:(m.next=P.next,P.next=m),A.pending=m,m=fd(p),a0(p,null,w),m}return cv(p,A,m,w),fd(p)}function Cc(p,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194048)!==0)){var A=m.lanes;A&=p.pendingLanes,w|=A,m.lanes=w,ta(p,w)}}function p0(p,m){var w=p.updateQueue,A=p.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var P=null,U=null;if(w=w.firstBaseUpdate,w!==null){do{var $={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};U===null?P=U=$:U=U.next=$,w=w.next}while(w!==null);U===null?P=U=m:U=U.next=m}else P=U=m;w={baseState:A.baseState,firstBaseUpdate:P,lastBaseUpdate:U,shared:A.shared,callbacks:A.callbacks},p.updateQueue=w;return}p=w.lastBaseUpdate,p===null?w.firstBaseUpdate=m:p.next=m,w.lastBaseUpdate=m}var u1=!1;function _v(){if(u1){var p=js;if(p!==null)throw p}}function Gf(p,m,w,A){u1=!1;var P=p.updateQueue;Ac=!1;var U=P.firstBaseUpdate,$=P.lastBaseUpdate,ue=P.shared.pending;if(ue!==null){P.shared.pending=null;var we=ue,He=we.next;we.next=null,$===null?U=He:$.next=He,$=we;var nt=p.alternate;nt!==null&&(nt=nt.updateQueue,ue=nt.lastBaseUpdate,ue!==$&&(ue===null?nt.firstBaseUpdate=He:ue.next=He,nt.lastBaseUpdate=we))}if(U!==null){var lt=P.baseState;$=0,nt=He=we=null,ue=U;do{var Xe=ue.lane&-536870913,Qe=Xe!==ue.lane;if(Qe?($n&Xe)===Xe:(A&Xe)===Xe){Xe!==0&&Xe===xu&&(u1=!0),nt!==null&&(nt=nt.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var qt=p,yn=ue;Xe=m;var Yr=w;switch(yn.tag){case 1:if(qt=yn.payload,typeof qt=="function"){lt=qt.call(Yr,lt,Xe);break e}lt=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=yn.payload,Xe=typeof qt=="function"?qt.call(Yr,lt,Xe):qt,Xe==null)break e;lt=f({},lt,Xe);break e;case 2:Ac=!0}}Xe=ue.callback,Xe!==null&&(p.flags|=64,Qe&&(p.flags|=8192),Qe=P.callbacks,Qe===null?P.callbacks=[Xe]:Qe.push(Xe))}else Qe={lane:Xe,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},nt===null?(He=nt=Qe,we=lt):nt=nt.next=Qe,$|=Xe;if(ue=ue.next,ue===null){if(ue=P.shared.pending,ue===null)break;Qe=ue,ue=Qe.next,Qe.next=null,P.lastBaseUpdate=Qe,P.shared.pending=null}}while(!0);nt===null&&(we=lt),P.baseState=we,P.firstBaseUpdate=He,P.lastBaseUpdate=nt,U===null&&(P.shared.lanes=0),es|=$,p.lanes=$,p.memoizedState=lt}}function Cl(p,m){if(typeof p!="function")throw Error(r(191,p));p.call(m)}function ma(p,m){var w=p.callbacks;if(w!==null)for(p.callbacks=null,p=0;p<w.length;p++)Cl(w[p],m)}var jo=j(null),Qa=j(0);function c1(p,m){p=bi,ne(Qa,p),ne(jo,m),bi=p|m.baseLanes}function f1(){ne(Qa,bi),ne(jo,jo.current)}function za(){bi=Qa.current,Q(jo),Q(Qa)}var Wi=j(null),_s=null;function Ec(p){var m=p.alternate;ne(si,si.current&1),ne(Wi,p),_s===null&&(m===null||jo.current!==null||m.memoizedState!==null)&&(_s=p)}function h1(p){ne(si,si.current),ne(Wi,p),_s===null&&(_s=p)}function sT(p){p.tag===22?(ne(si,si.current),ne(Wi,p),_s===null&&(_s=p)):bu()}function bu(){ne(si,si.current),ne(Wi,Wi.current)}function Wo(p){Q(Wi),_s===p&&(_s=null),Q(si)}var si=j(0);function v0(p){for(var m=p;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||oR(w)||sR(w)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var yo=0,xn=null,Ir=null,Ni=null,g0=!1,El=!1,Hf=!1,m0=0,bv=0,Dl=null,BN=0;function li(){throw Error(r(321))}function d1(p,m){if(m===null)return!1;for(var w=0;w<m.length&&w<p.length;w++)if(!Qr(p[w],m[w]))return!1;return!0}function p1(p,m,w,A,P,U){return yo=U,xn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,H.H=p===null||p.memoizedState===null?CT:xd,Hf=!1,U=w(A,P),Hf=!1,El&&(U=uT(m,w,A,P)),lT(p),U}function lT(p){H.H=Av;var m=Ir!==null&&Ir.next!==null;if(yo=0,Ni=Ir=xn=null,g0=!1,bv=0,Dl=null,m)throw Error(r(300));p===null||$r||(p=p.dependencies,p!==null&&dd(p)&&($r=!0))}function uT(p,m,w,A){xn=p;var P=0;do{if(El&&(Dl=null),bv=0,El=!1,25<=P)throw Error(r(301));if(P+=1,Ni=Ir=null,p.updateQueue!=null){var U=p.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}H.H=Cv,U=m(w,A)}while(El);return U}function UN(){var p=H.H,m=p.useState()[0];return m=typeof m.then=="function"?wv(m):m,p=p.useState()[0],(Ir!==null?Ir.memoizedState:null)!==p&&(xn.flags|=1024),m}function v1(){var p=m0!==0;return m0=0,p}function g1(p,m,w){m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~w}function m1(p){if(g0){for(p=p.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}g0=!1}yo=0,Ni=Ir=xn=null,El=!1,bv=m0=0,Dl=null}function $a(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ni===null?xn.memoizedState=Ni=p:Ni=Ni.next=p,Ni}function mi(){if(Ir===null){var p=xn.alternate;p=p!==null?p.memoizedState:null}else p=Ir.next;var m=Ni===null?xn.memoizedState:Ni.next;if(m!==null)Ni=m,Ir=p;else{if(p===null)throw xn.alternate===null?Error(r(467)):Error(r(310));Ir=p,p={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Ni===null?xn.memoizedState=Ni=p:Ni=Ni.next=p}return Ni}function Sv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wv(p){var m=bv;return bv+=1,Dl===null&&(Dl=[]),p=a1(Dl,p,m),m=xn,(Ni===null?m.memoizedState:Ni.next)===null&&(m=m.alternate,H.H=m===null||m.memoizedState===null?CT:xd),p}function y0(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return wv(p);if(p.$$typeof===T)return aa(p)}throw Error(r(438,String(p)))}function y1(p){var m=null,w=xn.updateQueue;if(w!==null&&(m=w.memoCache),m==null){var A=xn.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(m={data:A.data.map(function(P){return P.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),w===null&&(w=Sv(),xn.updateQueue=w),w.memoCache=m,w=m.data[m.index],w===void 0)for(w=m.data[m.index]=Array(p),A=0;A<p;A++)w[A]=O;return m.index++,w}function Su(p,m){return typeof m=="function"?m(p):m}function x0(p){var m=mi();return x1(m,Ir,p)}function x1(p,m,w){var A=p.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=w;var P=p.baseQueue,U=A.pending;if(U!==null){if(P!==null){var $=P.next;P.next=U.next,U.next=$}m.baseQueue=P=U,A.pending=null}if(U=p.baseState,P===null)p.memoizedState=U;else{m=P.next;var ue=$=null,we=null,He=m,nt=!1;do{var lt=He.lane&-536870913;if(lt!==He.lane?($n&lt)===lt:(yo&lt)===lt){var Xe=He.revertLane;if(Xe===0)we!==null&&(we=we.next={lane:0,revertLane:0,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),lt===xu&&(nt=!0);else if((yo&Xe)===Xe){He=He.next,Xe===xu&&(nt=!0);continue}else lt={lane:0,revertLane:He.revertLane,gesture:null,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},we===null?(ue=we=lt,$=U):we=we.next=lt,xn.lanes|=Xe,es|=Xe;lt=He.action,Hf&&w(U,lt),U=He.hasEagerState?He.eagerState:w(U,lt)}else Xe={lane:lt,revertLane:He.revertLane,gesture:He.gesture,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null},we===null?(ue=we=Xe,$=U):we=we.next=Xe,xn.lanes|=lt,es|=lt;He=He.next}while(He!==null&&He!==m);if(we===null?$=U:we.next=ue,!Qr(U,p.memoizedState)&&($r=!0,nt&&(w=js,w!==null)))throw w;p.memoizedState=U,p.baseState=$,p.baseQueue=we,A.lastRenderedState=U}return P===null&&(A.lanes=0),[p.memoizedState,A.dispatch]}function _0(p){var m=mi(),w=m.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=p;var A=w.dispatch,P=w.pending,U=m.memoizedState;if(P!==null){w.pending=null;var $=P=P.next;do U=p(U,$.action),$=$.next;while($!==P);Qr(U,m.memoizedState)||($r=!0),m.memoizedState=U,m.baseQueue===null&&(m.baseState=U),w.lastRenderedState=U}return[U,A]}function _1(p,m,w){var A=xn,P=mi(),U=nr;if(U){if(w===void 0)throw Error(r(407));w=w()}else w=m();var $=!Qr((Ir||P).memoizedState,w);if($&&(P.memoizedState=w,$r=!0),P=P.queue,M1(S1.bind(null,A,P,p),[p]),P.getSnapshot!==m||$||Ni!==null&&Ni.memoizedState.tag&1){if(A.flags|=2048,md(9,{destroy:void 0},b1.bind(null,A,P,w,m),null),Tr===null)throw Error(r(349));U||(yo&127)!==0||cT(A,m,w)}return w}function cT(p,m,w){p.flags|=16384,p={getSnapshot:m,value:w},m=xn.updateQueue,m===null?(m=Sv(),xn.updateQueue=m,m.stores=[p]):(w=m.stores,w===null?m.stores=[p]:w.push(p))}function b1(p,m,w,A){m.value=w,m.getSnapshot=A,w1(m)&&b0(p)}function S1(p,m,w){return w(function(){w1(m)&&b0(p)})}function w1(p){var m=p.getSnapshot;p=p.value;try{var w=m();return!Qr(p,w)}catch{return!0}}function b0(p){var m=yc(p,2);m!==null&&S(m,p,2)}function Tv(p){var m=$a();if(typeof p=="function"){var w=p;if(p=w(),Hf){kt(!0);try{w()}finally{kt(!1)}}}return m.memoizedState=m.baseState=p,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:p},m}function fT(p,m,w,A){return p.baseState=w,x1(p,Ir,typeof A=="function"?A:Su)}function VN(p,m,w,A,P){if(wu(p))throw Error(r(485));if(p=m.action,p!==null){var U={payload:P,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){U.listeners.push($)}};H.T!==null?w(!0):U.isTransition=!1,A(U),w=m.pending,w===null?(U.next=m.pending=U,hT(m,U)):(U.next=w.next,m.pending=w.next=U)}}function hT(p,m){var w=m.action,A=m.payload,P=p.state;if(m.isTransition){var U=H.T,$={};H.T=$;try{var ue=w(P,A),we=H.S;we!==null&&we($,ue),dT(p,m,ue)}catch(He){S0(p,m,He)}finally{U!==null&&$.types!==null&&(U.types=$.types),H.T=U}}else try{U=w(P,A),dT(p,m,U)}catch(He){S0(p,m,He)}}function dT(p,m,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(A){T1(p,m,A)},function(A){return S0(p,m,A)}):T1(p,m,w)}function T1(p,m,w){m.status="fulfilled",m.value=w,pT(m),p.state=w,m=p.pending,m!==null&&(w=m.next,w===m?p.pending=null:(w=w.next,m.next=w,hT(p,w)))}function S0(p,m,w){var A=p.pending;if(p.pending=null,A!==null){A=A.next;do m.status="rejected",m.reason=w,pT(m),m=m.next;while(m!==A)}p.action=null}function pT(p){p=p.listeners;for(var m=0;m<p.length;m++)(0,p[m])()}function vT(p,m){return m}function gT(p,m){if(nr){var w=Tr.formState;if(w!==null){e:{var A=xn;if(nr){if(Hr){t:{for(var P=Hr,U=ia;P.nodeType!==8;){if(!U){P=null;break t}if(P=Pl(P.nextSibling),P===null){P=null;break t}}U=P.data,P=U==="F!"||U==="F"?P:null}if(P){Hr=Pl(P.nextSibling),A=P.data==="F!";break e}}Qn(A)}A=!1}A&&(m=w[0])}}return w=$a(),w.memoizedState=w.baseState=m,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vT,lastRenderedState:m},w.queue=A,w=AT.bind(null,xn,A),A.dispatch=w,A=Tv(!1),U=Mv.bind(null,xn,!1,A.queue),A=$a(),P={state:m,dispatch:null,action:p,pending:null},A.queue=P,w=VN.bind(null,xn,P,U,w),P.dispatch=w,A.memoizedState=p,[m,w,!1]}function mT(p){var m=mi();return yT(m,Ir,p)}function yT(p,m,w){if(m=x1(p,m,vT)[0],p=x0(Su)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var A=wv(m)}catch($){throw $===wc?Ws:$}else A=m;m=mi();var P=m.queue,U=P.dispatch;return w!==m.memoizedState&&(xn.flags|=2048,md(9,{destroy:void 0},FN.bind(null,P,w),null)),[A,U,p]}function FN(p,m){p.action=m}function xT(p){var m=mi(),w=Ir;if(w!==null)return yT(m,w,p);mi(),m=m.memoizedState,w=mi();var A=w.queue.dispatch;return w.memoizedState=p,[m,A,!1]}function md(p,m,w,A){return p={tag:p,create:w,deps:A,inst:m,next:null},m=xn.updateQueue,m===null&&(m=Sv(),xn.updateQueue=m),w=m.lastEffect,w===null?m.lastEffect=p.next=p:(A=w.next,w.next=p,p.next=A,m.lastEffect=p),p}function _T(){return mi().memoizedState}function w0(p,m,w,A){var P=$a();xn.flags|=p,P.memoizedState=md(1|m,{destroy:void 0},w,A===void 0?null:A)}function T0(p,m,w,A){var P=mi();A=A===void 0?null:A;var U=P.memoizedState.inst;Ir!==null&&A!==null&&d1(A,Ir.memoizedState.deps)?P.memoizedState=md(m,U,w,A):(xn.flags|=p,P.memoizedState=md(1|m,U,w,A))}function bT(p,m){w0(8390656,8,p,m)}function M1(p,m){T0(2048,8,p,m)}function ST(p){xn.flags|=4;var m=xn.updateQueue;if(m===null)m=Sv(),xn.updateQueue=m,m.events=[p];else{var w=m.events;w===null?m.events=[p]:w.push(p)}}function wT(p){var m=mi().memoizedState;return ST({ref:m,nextImpl:p}),function(){if((or&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}function TT(p,m){return T0(4,2,p,m)}function Yo(p,m){return T0(4,4,p,m)}function A1(p,m){if(typeof m=="function"){p=p();var w=m(p);return function(){typeof w=="function"?w():m(null)}}if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function M0(p,m,w){w=w!=null?w.concat([p]):null,T0(4,4,A1.bind(null,m,p),w)}function A0(){}function C1(p,m){var w=mi();m=m===void 0?null:m;var A=w.memoizedState;return m!==null&&d1(m,A[1])?A[0]:(w.memoizedState=[p,m],p)}function E1(p,m){var w=mi();m=m===void 0?null:m;var A=w.memoizedState;if(m!==null&&d1(m,A[1]))return A[0];if(A=p(),Hf){kt(!0);try{p()}finally{kt(!1)}}return w.memoizedState=[A,m],A}function D1(p,m,w){return w===void 0||(yo&1073741824)!==0&&($n&261930)===0?p.memoizedState=m:(p.memoizedState=w,p=_(),xn.lanes|=p,es|=p,w)}function N1(p,m,w,A){return Qr(w,m)?w:jo.current!==null?(p=D1(p,w,A),Qr(p,m)||($r=!0),p):(yo&42)===0||(yo&1073741824)!==0&&($n&261930)===0?($r=!0,p.memoizedState=w):(p=_(),xn.lanes|=p,es|=p,m)}function R1(p,m,w,A,P){var U=W.p;W.p=U!==0&&8>U?U:8;var $=H.T,ue={};H.T=ue,Mv(p,!1,m,w);try{var we=P(),He=H.S;if(He!==null&&He(ue,we),we!==null&&typeof we=="object"&&typeof we.then=="function"){var nt=i1(we,A);yd(p,m,nt,to(p))}else yd(p,m,A,to(p))}catch(lt){yd(p,m,{then:function(){},status:"rejected",reason:lt},to())}finally{W.p=U,$!==null&&ue.types!==null&&($.types=ue.types),H.T=$}}function GN(){}function L1(p,m,w,A){if(p.tag!==5)throw Error(r(476));var P=MT(p).queue;R1(p,P,m,q,w===null?GN:function(){return I1(p),w(A)})}function MT(p){var m=p.memoizedState;if(m!==null)return m;m={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:q},next:null};var w={};return m.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:w},next:null},p.memoizedState=m,p=p.alternate,p!==null&&(p.memoizedState=m),m}function I1(p){var m=MT(p);m.next===null&&(m=p.alternate.memoizedState),yd(p,m.next.queue,{},to())}function O1(){return aa(X1)}function ya(){return mi().memoizedState}function P1(){return mi().memoizedState}function HN(p){for(var m=p.return;m!==null;){switch(m.tag){case 24:case 3:var w=to();p=Al(w);var A=_u(m,p,w);A!==null&&(S(A,m,w),Cc(A,m,w)),m={cache:t1()},p.payload=m;return}m=m.return}}function jN(p,m,w){var A=to();w={lane:A,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},wu(p)?jf(m,w):(w=cd(p,m,w,A),w!==null&&(S(w,p,A),xo(w,m,A)))}function AT(p,m,w){var A=to();yd(p,m,w,A)}function yd(p,m,w,A){var P={lane:A,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null};if(wu(p))jf(m,P);else{var U=p.alternate;if(p.lanes===0&&(U===null||U.lanes===0)&&(U=m.lastRenderedReducer,U!==null))try{var $=m.lastRenderedState,ue=U($,w);if(P.hasEagerState=!0,P.eagerState=ue,Qr(ue,$))return cv(p,m,P,0),Tr===null&&mc(),!1}catch{}finally{}if(w=cd(p,m,P,A),w!==null)return S(w,p,A),xo(w,m,A),!0}return!1}function Mv(p,m,w,A){if(A={lane:2,revertLane:qN(),gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null},wu(p)){if(m)throw Error(r(479))}else m=cd(p,w,A,2),m!==null&&S(m,p,2)}function wu(p){var m=p.alternate;return p===xn||m!==null&&m===xn}function jf(p,m){El=g0=!0;var w=p.pending;w===null?m.next=m:(m.next=w.next,w.next=m),p.pending=m}function xo(p,m,w){if((w&4194048)!==0){var A=m.lanes;A&=p.pendingLanes,w|=A,m.lanes=w,ta(p,w)}}var Av={readContext:aa,use:y0,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useLayoutEffect:li,useInsertionEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useSyncExternalStore:li,useId:li,useHostTransitionStatus:li,useFormState:li,useActionState:li,useOptimistic:li,useMemoCache:li,useCacheRefresh:li};Av.useEffectEvent=li;var CT={readContext:aa,use:y0,useCallback:function(p,m){return $a().memoizedState=[p,m===void 0?null:m],p},useContext:aa,useEffect:bT,useImperativeHandle:function(p,m,w){w=w!=null?w.concat([p]):null,w0(4194308,4,A1.bind(null,m,p),w)},useLayoutEffect:function(p,m){return w0(4194308,4,p,m)},useInsertionEffect:function(p,m){w0(4,2,p,m)},useMemo:function(p,m){var w=$a();m=m===void 0?null:m;var A=p();if(Hf){kt(!0);try{p()}finally{kt(!1)}}return w.memoizedState=[A,m],A},useReducer:function(p,m,w){var A=$a();if(w!==void 0){var P=w(m);if(Hf){kt(!0);try{w(m)}finally{kt(!1)}}}else P=m;return A.memoizedState=A.baseState=P,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:P},A.queue=p,p=p.dispatch=jN.bind(null,xn,p),[A.memoizedState,p]},useRef:function(p){var m=$a();return p={current:p},m.memoizedState=p},useState:function(p){p=Tv(p);var m=p.queue,w=AT.bind(null,xn,m);return m.dispatch=w,[p.memoizedState,w]},useDebugValue:A0,useDeferredValue:function(p,m){var w=$a();return D1(w,p,m)},useTransition:function(){var p=Tv(!1);return p=R1.bind(null,xn,p.queue,!0,!1),$a().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,m,w){var A=xn,P=$a();if(nr){if(w===void 0)throw Error(r(407));w=w()}else{if(w=m(),Tr===null)throw Error(r(349));($n&127)!==0||cT(A,m,w)}P.memoizedState=w;var U={value:w,getSnapshot:m};return P.queue=U,bT(S1.bind(null,A,U,p),[p]),A.flags|=2048,md(9,{destroy:void 0},b1.bind(null,A,U,w,m),null),w},useId:function(){var p=$a(),m=Tr.identifierPrefix;if(nr){var w=Tl,A=wl;w=(A&~(1<<32-ye(A)-1)).toString(32)+w,m="_"+m+"R_"+w,w=m0++,0<w&&(m+="H"+w.toString(32)),m+="_"}else w=BN++,m="_"+m+"r_"+w.toString(32)+"_";return p.memoizedState=m},useHostTransitionStatus:O1,useFormState:gT,useActionState:gT,useOptimistic:function(p){var m=$a();m.memoizedState=m.baseState=p;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=w,m=Mv.bind(null,xn,!0,w),w.dispatch=m,[p,m]},useMemoCache:y1,useCacheRefresh:function(){return $a().memoizedState=HN.bind(null,xn)},useEffectEvent:function(p){var m=$a(),w={impl:p};return m.memoizedState=w,function(){if((or&2)!==0)throw Error(r(440));return w.impl.apply(void 0,arguments)}}},xd={readContext:aa,use:y0,useCallback:C1,useContext:aa,useEffect:M1,useImperativeHandle:M0,useInsertionEffect:TT,useLayoutEffect:Yo,useMemo:E1,useReducer:x0,useRef:_T,useState:function(){return x0(Su)},useDebugValue:A0,useDeferredValue:function(p,m){var w=mi();return N1(w,Ir.memoizedState,p,m)},useTransition:function(){var p=x0(Su)[0],m=mi().memoizedState;return[typeof p=="boolean"?p:wv(p),m]},useSyncExternalStore:_1,useId:ya,useHostTransitionStatus:O1,useFormState:mT,useActionState:mT,useOptimistic:function(p,m){var w=mi();return fT(w,Ir,p,m)},useMemoCache:y1,useCacheRefresh:P1};xd.useEffectEvent=wT;var Cv={readContext:aa,use:y0,useCallback:C1,useContext:aa,useEffect:M1,useImperativeHandle:M0,useInsertionEffect:TT,useLayoutEffect:Yo,useMemo:E1,useReducer:_0,useRef:_T,useState:function(){return _0(Su)},useDebugValue:A0,useDeferredValue:function(p,m){var w=mi();return Ir===null?D1(w,p,m):N1(w,Ir.memoizedState,p,m)},useTransition:function(){var p=_0(Su)[0],m=mi().memoizedState;return[typeof p=="boolean"?p:wv(p),m]},useSyncExternalStore:_1,useId:ya,useHostTransitionStatus:O1,useFormState:xT,useActionState:xT,useOptimistic:function(p,m){var w=mi();return Ir!==null?fT(w,Ir,p,m):(w.baseState=p,[p,w.queue.dispatch])},useMemoCache:y1,useCacheRefresh:P1};Cv.useEffectEvent=wT;function _d(p,m,w,A){m=p.memoizedState,w=w(A,m),w=w==null?m:f({},m,w),p.memoizedState=w,p.lanes===0&&(p.updateQueue.baseState=w)}var Ev={enqueueSetState:function(p,m,w){p=p._reactInternals;var A=to(),P=Al(A);P.payload=m,w!=null&&(P.callback=w),m=_u(p,P,A),m!==null&&(S(m,p,A),Cc(m,p,A))},enqueueReplaceState:function(p,m,w){p=p._reactInternals;var A=to(),P=Al(A);P.tag=1,P.payload=m,w!=null&&(P.callback=w),m=_u(p,P,A),m!==null&&(S(m,p,A),Cc(m,p,A))},enqueueForceUpdate:function(p,m){p=p._reactInternals;var w=to(),A=Al(w);A.tag=2,m!=null&&(A.callback=m),m=_u(p,A,w),m!==null&&(S(m,p,w),Cc(m,p,w))}};function ET(p,m,w,A,P,U,$){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(A,U,$):m.prototype&&m.prototype.isPureReactComponent?!id(w,A)||!id(P,U):!0}function DT(p,m,w,A){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,A),m.state!==p&&Ev.enqueueReplaceState(m,m.state,null)}function xa(p,m){var w=m;if("ref"in m){w={};for(var A in m)A!=="ref"&&(w[A]=m[A])}if(p=p.defaultProps){w===m&&(w=f({},w));for(var P in p)w[P]===void 0&&(w[P]=p[P])}return w}function z1(p){gc(p)}function NT(p){console.error(p)}function C0(p){gc(p)}function E0(p,m){try{var w=p.onUncaughtError;w(m.value,{componentStack:m.stack})}catch(A){setTimeout(function(){throw A})}}function RT(p,m,w){try{var A=p.onCaughtError;A(w.value,{componentStack:w.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function k1(p,m,w){return w=Al(w),w.tag=3,w.payload={element:null},w.callback=function(){E0(p,m)},w}function bd(p){return p=Al(p),p.tag=3,p}function _o(p,m,w,A){var P=w.type.getDerivedStateFromError;if(typeof P=="function"){var U=A.value;p.payload=function(){return P(U)},p.callback=function(){RT(m,w,A)}}var $=w.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(p.callback=function(){RT(m,w,A),typeof P!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var ue=A.stack;this.componentDidCatch(A.value,{componentStack:ue!==null?ue:""})})}function Xo(p,m,w,A,P){if(w.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(m=w.alternate,m!==null&&bc(m,w,P,!0),w=Wi.current,w!==null){switch(w.tag){case 31:case 13:return _s===null?Cn():w.alternate===null&&Mr===0&&(Mr=3),w.flags&=-257,w.flags|=65536,w.lanes=P,A===mv?w.flags|=16384:(m=w.updateQueue,m===null?w.updateQueue=new Set([A]):m.add(A),WN(p,A,P)),!1;case 22:return w.flags|=65536,A===mv?w.flags|=16384:(m=w.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([A])},w.updateQueue=m):(w=m.retryQueue,w===null?m.retryQueue=new Set([A]):w.add(A)),WN(p,A,P)),!1}throw Error(r(435,w.tag))}return WN(p,A,P),Cn(),!1}if(nr)return m=Wi.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=P,A!==l0&&(p=Error(r(422),{cause:A}),pv(go(p,w)))):(A!==l0&&(m=Error(r(423),{cause:A}),pv(go(m,w))),p=p.current.alternate,p.flags|=65536,P&=-P,p.lanes|=P,A=go(A,w),P=k1(p.stateNode,A,P),p0(p,P),Mr!==4&&(Mr=2)),!1;var U=Error(r(520),{cause:A});if(U=go(U,w),Ks===null?Ks=[U]:Ks.push(U),Mr!==4&&(Mr=2),m===null)return!0;A=go(A,w),w=m;do{switch(w.tag){case 3:return w.flags|=65536,p=P&-P,w.lanes|=p,p=k1(w.stateNode,A,p),p0(w,p),!1;case 1:if(m=w.type,U=w.stateNode,(w.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Ol===null||!Ol.has(U))))return w.flags|=65536,P&=-P,w.lanes|=P,P=bd(P),_o(P,p,w,A),p0(w,P),!1}w=w.return}while(w!==null);return!1}var D0=Error(r(461)),$r=!1;function ui(p,m,w,A){m.child=p===null?oT(m,null,w,A):Ff(m,p.child,w,A)}function Dv(p,m,w,A,P){w=w.render;var U=m.ref;if("ref"in A){var $={};for(var ue in A)ue!=="ref"&&($[ue]=A[ue])}else $=A;return Bf(m),A=p1(p,m,w,$,U,P),ue=v1(),p!==null&&!$r?(g1(p,m,P),qs(p,m,P)):(nr&&ue&&s0(m),m.flags|=1,ui(p,m,A,P),m.child)}function Nv(p,m,w,A,P){if(p===null){var U=w.type;return typeof U=="function"&&!Ja(U)&&U.defaultProps===void 0&&w.compare===null?(m.tag=15,m.type=U,qo(p,m,U,A,P)):(p=fv(w.type,null,A,m,m.mode,P),p.ref=m.ref,p.return=m,m.child=p)}if(U=p.child,!Nc(p,P)){var $=U.memoizedProps;if(w=w.compare,w=w!==null?w:id,w($,A)&&p.ref===m.ref)return qs(p,m,P)}return m.flags|=1,p=bl(U,A),p.ref=m.ref,p.return=m,m.child=p}function qo(p,m,w,A,P){if(p!==null){var U=p.memoizedProps;if(id(U,A)&&p.ref===m.ref)if($r=!1,m.pendingProps=A=U,Nc(p,P))(p.flags&131072)!==0&&($r=!0);else return m.lanes=p.lanes,qs(p,m,P)}return Sd(p,m,w,A,P)}function Zo(p,m,w,A){var P=A.children,U=p!==null?p.memoizedState:null;if(p===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.mode==="hidden"){if((m.flags&128)!==0){if(U=U!==null?U.baseLanes|w:w,p!==null){for(A=m.child=p.child,P=0;A!==null;)P=P|A.lanes|A.childLanes,A=A.sibling;A=P&~U}else A=0,m.child=null;return Nl(p,m,U,w,A)}if((w&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},p!==null&&vd(m,U!==null?U.cachePool:null),U!==null?c1(m,U):f1(),sT(m);else return A=m.lanes=536870912,Nl(p,m,U!==null?U.baseLanes|w:w,w,A)}else U!==null?(vd(m,U.cachePool),c1(m,U),bu(),m.memoizedState=null):(p!==null&&vd(m,null),f1(),bu());return ui(p,m,P,w),m.child}function Ys(p,m){return p!==null&&p.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function Nl(p,m,w,A,P){var U=Ml();return U=U===null?null:{parent:rn._currentValue,pool:U},m.memoizedState={baseLanes:w,cachePool:U},p!==null&&vd(m,null),f1(),sT(m),p!==null&&bc(p,m,A,!0),m.childLanes=P,null}function bs(p,m){return m=wd({mode:m.mode,children:m.children},p.mode),m.ref=p.ref,p.child=m,m.return=p,m}function oa(p,m,w){return Ff(m,p.child,null,w),p=bs(m,m.pendingProps),p.flags|=2,Wo(m),m.memoizedState=null,p}function Rv(p,m,w){var A=m.pendingProps,P=(m.flags&128)!==0;if(m.flags&=-129,p===null){if(nr){if(A.mode==="hidden")return p=bs(m,A),m.lanes=536870912,Ys(null,p);if(h1(m),(p=Hr)?(p=v6(p,ia),p=p!==null&&p.data==="&"?p:null,p!==null&&(m.memoizedState={dehydrated:p,treeContext:Sl!==null?{id:wl,overflow:Tl}:null,retryLane:536870912,hydrationErrors:null},w=eT(p),w.return=m,m.child=w,ra=m,Hr=null)):p=null,p===null)throw Qn(m);return m.lanes=536870912,null}return bs(m,A)}var U=p.memoizedState;if(U!==null){var $=U.dehydrated;if(h1(m),P)if(m.flags&256)m.flags&=-257,m=oa(p,m,w);else if(m.memoizedState!==null)m.child=p.child,m.flags|=128,m=null;else throw Error(r(558));else if($r||bc(p,m,w,!1),P=(w&p.childLanes)!==0,$r||P){if(A=Tr,A!==null&&($=da(A,w),$!==0&&$!==U.retryLane))throw U.retryLane=$,yc(p,$),S(A,p,$),D0;Cn(),m=oa(p,m,w)}else p=U.treeContext,Hr=Pl($.nextSibling),ra=m,nr=!0,vu=null,ia=!1,p!==null&&dv(m,p),m=bs(m,A),m.flags|=4096;return m}return p=bl(p.child,{mode:A.mode,children:A.children}),p.ref=m.ref,m.child=p,p.return=m,p}function Xs(p,m){var w=m.ref;if(w===null)p!==null&&p.ref!==null&&(m.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(r(284));(p===null||p.ref!==w)&&(m.flags|=4194816)}}function Sd(p,m,w,A,P){return Bf(m),w=p1(p,m,w,A,void 0,P),A=v1(),p!==null&&!$r?(g1(p,m,P),qs(p,m,P)):(nr&&A&&s0(m),m.flags|=1,ui(p,m,w,P),m.child)}function ka(p,m,w,A,P,U){return Bf(m),m.updateQueue=null,w=uT(m,A,w,P),lT(p),A=v1(),p!==null&&!$r?(g1(p,m,U),qs(p,m,U)):(nr&&A&&s0(m),m.flags|=1,ui(p,m,w,U),m.child)}function _a(p,m,w,A,P){if(Bf(m),m.stateNode===null){var U=xc,$=w.contextType;typeof $=="object"&&$!==null&&(U=aa($)),U=new w(A,U),m.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=Ev,m.stateNode=U,U._reactInternals=m,U=m.stateNode,U.props=A,U.state=m.memoizedState,U.refs={},s1(m),$=w.contextType,U.context=typeof $=="object"&&$!==null?aa($):xc,U.state=m.memoizedState,$=w.getDerivedStateFromProps,typeof $=="function"&&(_d(m,w,$,A),U.state=m.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||($=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),$!==U.state&&Ev.enqueueReplaceState(U,U.state,null),Gf(m,A,U,P),_v(),U.state=m.memoizedState),typeof U.componentDidMount=="function"&&(m.flags|=4194308),A=!0}else if(p===null){U=m.stateNode;var ue=m.memoizedProps,we=xa(w,ue);U.props=we;var He=U.context,nt=w.contextType;$=xc,typeof nt=="object"&&nt!==null&&($=aa(nt));var lt=w.getDerivedStateFromProps;nt=typeof lt=="function"||typeof U.getSnapshotBeforeUpdate=="function",ue=m.pendingProps!==ue,nt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ue||He!==$)&&DT(m,U,A,$),Ac=!1;var Xe=m.memoizedState;U.state=Xe,Gf(m,A,U,P),_v(),He=m.memoizedState,ue||Xe!==He||Ac?(typeof lt=="function"&&(_d(m,w,lt,A),He=m.memoizedState),(we=Ac||ET(m,w,we,A,Xe,He,$))?(nt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(m.flags|=4194308)):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=He),U.props=A,U.state=He,U.context=$,A=we):(typeof U.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{U=m.stateNode,l1(p,m),$=m.memoizedProps,nt=xa(w,$),U.props=nt,lt=m.pendingProps,Xe=U.context,He=w.contextType,we=xc,typeof He=="object"&&He!==null&&(we=aa(He)),ue=w.getDerivedStateFromProps,(He=typeof ue=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||($!==lt||Xe!==we)&&DT(m,U,A,we),Ac=!1,Xe=m.memoizedState,U.state=Xe,Gf(m,A,U,P),_v();var Qe=m.memoizedState;$!==lt||Xe!==Qe||Ac||p!==null&&p.dependencies!==null&&dd(p.dependencies)?(typeof ue=="function"&&(_d(m,w,ue,A),Qe=m.memoizedState),(nt=Ac||ET(m,w,nt,A,Xe,Qe,we)||p!==null&&p.dependencies!==null&&dd(p.dependencies))?(He||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(A,Qe,we),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(A,Qe,we)),typeof U.componentDidUpdate=="function"&&(m.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof U.componentDidUpdate!="function"||$===p.memoizedProps&&Xe===p.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||$===p.memoizedProps&&Xe===p.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=Qe),U.props=A,U.state=Qe,U.context=we,A=nt):(typeof U.componentDidUpdate!="function"||$===p.memoizedProps&&Xe===p.memoizedState||(m.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||$===p.memoizedProps&&Xe===p.memoizedState||(m.flags|=1024),A=!1)}return U=A,Xs(p,m),A=(m.flags&128)!==0,U||A?(U=m.stateNode,w=A&&typeof w.getDerivedStateFromError!="function"?null:U.render(),m.flags|=1,p!==null&&A?(m.child=Ff(m,p.child,null,P),m.child=Ff(m,null,w,P)):ui(p,m,w,P),m.memoizedState=U.state,p=m.child):p=qs(p,m,P),p}function ur(p,m,w,A){return kf(),m.flags|=256,ui(p,m,w,A),m.child}var Ko={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ss(p){return{baseLanes:p,cachePool:f0()}}function Lv(p,m,w){return p=p!==null?p.childLanes&~w:0,m&&(p|=sr),p}function Jo(p,m,w){var A=m.pendingProps,P=!1,U=(m.flags&128)!==0,$;if(($=U)||($=p!==null&&p.memoizedState===null?!1:(si.current&2)!==0),$&&(P=!0,m.flags&=-129),$=(m.flags&32)!==0,m.flags&=-33,p===null){if(nr){if(P?Ec(m):bu(),(p=Hr)?(p=v6(p,ia),p=p!==null&&p.data!=="&"?p:null,p!==null&&(m.memoizedState={dehydrated:p,treeContext:Sl!==null?{id:wl,overflow:Tl}:null,retryLane:536870912,hydrationErrors:null},w=eT(p),w.return=m,m.child=w,ra=m,Hr=null)):p=null,p===null)throw Qn(m);return sR(p)?m.lanes=32:m.lanes=536870912,null}var ue=A.children;return A=A.fallback,P?(bu(),P=m.mode,ue=wd({mode:"hidden",children:ue},P),A=du(A,P,w,null),ue.return=m,A.return=m,ue.sibling=A,m.child=ue,A=m.child,A.memoizedState=Ss(w),A.childLanes=Lv(p,$,w),m.memoizedState=Ko,Ys(null,A)):(Ec(m),Dc(m,ue))}var we=p.memoizedState;if(we!==null&&(ue=we.dehydrated,ue!==null)){if(U)m.flags&256?(Ec(m),m.flags&=-257,m=Td(p,m,w)):m.memoizedState!==null?(bu(),m.child=p.child,m.flags|=128,m=null):(bu(),ue=A.fallback,P=m.mode,A=wd({mode:"visible",children:A.children},P),ue=du(ue,P,w,null),ue.flags|=2,A.return=m,ue.return=m,A.sibling=ue,m.child=A,Ff(m,p.child,null,w),A=m.child,A.memoizedState=Ss(w),A.childLanes=Lv(p,$,w),m.memoizedState=Ko,m=Ys(null,A));else if(Ec(m),sR(ue)){if($=ue.nextSibling&&ue.nextSibling.dataset,$)var He=$.dgst;$=He,A=Error(r(419)),A.stack="",A.digest=$,pv({value:A,source:null,stack:null}),m=Td(p,m,w)}else if($r||bc(p,m,w,!1),$=(w&p.childLanes)!==0,$r||$){if($=Tr,$!==null&&(A=da($,w),A!==0&&A!==we.retryLane))throw we.retryLane=A,yc(p,A),S($,p,A),D0;oR(ue)||Cn(),m=Td(p,m,w)}else oR(ue)?(m.flags|=192,m.child=p.child,m=null):(p=we.treeContext,Hr=Pl(ue.nextSibling),ra=m,nr=!0,vu=null,ia=!1,p!==null&&dv(m,p),m=Dc(m,A.children),m.flags|=4096);return m}return P?(bu(),ue=A.fallback,P=m.mode,we=p.child,He=we.sibling,A=bl(we,{mode:"hidden",children:A.children}),A.subtreeFlags=we.subtreeFlags&65011712,He!==null?ue=bl(He,ue):(ue=du(ue,P,w,null),ue.flags|=2),ue.return=m,A.return=m,A.sibling=ue,m.child=A,Ys(null,A),A=m.child,ue=p.child.memoizedState,ue===null?ue=Ss(w):(P=ue.cachePool,P!==null?(we=rn._currentValue,P=P.parent!==we?{parent:we,pool:we}:P):P=f0(),ue={baseLanes:ue.baseLanes|w,cachePool:P}),A.memoizedState=ue,A.childLanes=Lv(p,$,w),m.memoizedState=Ko,Ys(p.child,A)):(Ec(m),w=p.child,p=w.sibling,w=bl(w,{mode:"visible",children:A.children}),w.return=m,w.sibling=null,p!==null&&($=m.deletions,$===null?(m.deletions=[p],m.flags|=16):$.push(p)),m.child=w,m.memoizedState=null,w)}function Dc(p,m){return m=wd({mode:"visible",children:m},p.mode),m.return=p,p.child=m}function wd(p,m){return p=Ka(22,p,null,m),p.lanes=0,p}function Td(p,m,w){return Ff(m,p.child,null,w),p=Dc(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function Wf(p,m,w){p.lanes|=m;var A=p.alternate;A!==null&&(A.lanes|=m),yu(p.return,m,w)}function Iv(p,m,w,A,P,U){var $=p.memoizedState;$===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:P,treeForkCount:U}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=A,$.tail=w,$.tailMode=P,$.treeForkCount=U)}function Ov(p,m,w){var A=m.pendingProps,P=A.revealOrder,U=A.tail;A=A.children;var $=si.current,ue=($&2)!==0;if(ue?($=$&1|2,m.flags|=128):$&=1,ne(si,$),ui(p,m,A,w),A=nr?hd:0,!ue&&p!==null&&(p.flags&128)!==0)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Wf(p,w,m);else if(p.tag===19)Wf(p,w,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}switch(P){case"forwards":for(w=m.child,P=null;w!==null;)p=w.alternate,p!==null&&v0(p)===null&&(P=w),w=w.sibling;w=P,w===null?(P=m.child,m.child=null):(P=w.sibling,w.sibling=null),Iv(m,!1,P,w,U,A);break;case"backwards":case"unstable_legacy-backwards":for(w=null,P=m.child,m.child=null;P!==null;){if(p=P.alternate,p!==null&&v0(p)===null){m.child=P;break}p=P.sibling,P.sibling=w,w=P,P=p}Iv(m,!0,w,null,U,A);break;case"together":Iv(m,!1,null,null,void 0,A);break;default:m.memoizedState=null}return m.child}function qs(p,m,w){if(p!==null&&(m.dependencies=p.dependencies),es|=m.lanes,(w&m.childLanes)===0)if(p!==null){if(bc(p,m,w,!1),(w&m.childLanes)===0)return null}else return null;if(p!==null&&m.child!==p.child)throw Error(r(153));if(m.child!==null){for(p=m.child,w=bl(p,p.pendingProps),m.child=w,w.return=m;p.sibling!==null;)p=p.sibling,w=w.sibling=bl(p,p.pendingProps),w.return=m;w.sibling=null}return m.child}function Nc(p,m){return(p.lanes&m)!==0?!0:(p=p.dependencies,!!(p!==null&&dd(p)))}function Pv(p,m,w){switch(m.tag){case 3:Te(m,m.stateNode.containerInfo),mu(m,rn,p.memoizedState.cache),kf();break;case 27:case 5:Re(m);break;case 4:Te(m,m.stateNode.containerInfo);break;case 10:mu(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,h1(m),null;break;case 13:var A=m.memoizedState;if(A!==null)return A.dehydrated!==null?(Ec(m),m.flags|=128,null):(w&m.child.childLanes)!==0?Jo(p,m,w):(Ec(m),p=qs(p,m,w),p!==null?p.sibling:null);Ec(m);break;case 19:var P=(p.flags&128)!==0;if(A=(w&m.childLanes)!==0,A||(bc(p,m,w,!1),A=(w&m.childLanes)!==0),P){if(A)return Ov(p,m,w);m.flags|=128}if(P=m.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),ne(si,si.current),A)break;return null;case 22:return m.lanes=0,Zo(p,m,w,m.pendingProps);case 24:mu(m,rn,p.memoizedState.cache)}return qs(p,m,w)}function N0(p,m,w){if(p!==null)if(p.memoizedProps!==m.pendingProps)$r=!0;else{if(!Nc(p,w)&&(m.flags&128)===0)return $r=!1,Pv(p,m,w);$r=(p.flags&131072)!==0}else $r=!1,nr&&(m.flags&1048576)!==0&&K_(m,hd,m.index);switch(m.lanes=0,m.tag){case 16:e:{var A=m.pendingProps;if(p=Vf(m.elementType),m.type=p,typeof p=="function")Ja(p)?(A=xa(p,A),m.tag=1,m=_a(null,m,p,A,w)):(m.tag=0,m=Sd(null,m,p,A,w));else{if(p!=null){var P=p.$$typeof;if(P===M){m.tag=11,m=Dv(null,m,p,A,w);break e}else if(P===R){m.tag=14,m=Nv(null,m,p,A,w);break e}}throw m=k(p)||p,Error(r(306,m,""))}}return m;case 0:return Sd(p,m,m.type,m.pendingProps,w);case 1:return A=m.type,P=xa(A,m.pendingProps),_a(p,m,A,P,w);case 3:e:{if(Te(m,m.stateNode.containerInfo),p===null)throw Error(r(387));A=m.pendingProps;var U=m.memoizedState;P=U.element,l1(p,m),Gf(m,A,null,w);var $=m.memoizedState;if(A=$.cache,mu(m,rn,A),A!==U.cache&&c0(m,[rn],w,!0),_v(),A=$.element,U.isDehydrated)if(U={element:A,isDehydrated:!1,cache:$.cache},m.updateQueue.baseState=U,m.memoizedState=U,m.flags&256){m=ur(p,m,A,w);break e}else if(A!==P){P=go(Error(r(424)),m),pv(P),m=ur(p,m,A,w);break e}else{switch(p=m.stateNode.containerInfo,p.nodeType){case 9:p=p.body;break;default:p=p.nodeName==="HTML"?p.ownerDocument.body:p}for(Hr=Pl(p.firstChild),ra=m,nr=!0,vu=null,ia=!0,w=oT(m,null,A,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(kf(),A===P){m=qs(p,m,w);break e}ui(p,m,A,w)}m=m.child}return m;case 26:return Xs(p,m),p===null?(w=b6(m.type,null,m.pendingProps,null))?m.memoizedState=w:nr||(w=m.type,p=m.pendingProps,A=UT(pe.current).createElement(w),A[Vn]=m,A[vi]=p,no(A,w,p),Ve(A),m.stateNode=A):m.memoizedState=b6(m.type,p.memoizedProps,m.pendingProps,p.memoizedState),null;case 27:return Re(m),p===null&&nr&&(A=m.stateNode=y6(m.type,m.pendingProps,pe.current),ra=m,ia=!0,P=Hr,Rd(m.type)?(lR=P,Hr=Pl(A.firstChild)):Hr=P),ui(p,m,m.pendingProps.children,w),Xs(p,m),p===null&&(m.flags|=4194304),m.child;case 5:return p===null&&nr&&((P=A=Hr)&&(A=Qae(A,m.type,m.pendingProps,ia),A!==null?(m.stateNode=A,ra=m,Hr=Pl(A.firstChild),ia=!1,P=!0):P=!1),P||Qn(m)),Re(m),P=m.type,U=m.pendingProps,$=p!==null?p.memoizedProps:null,A=U.children,rR(P,U)?A=null:$!==null&&rR(P,$)&&(m.flags|=32),m.memoizedState!==null&&(P=p1(p,m,UN,null,null,w),X1._currentValue=P),Xs(p,m),ui(p,m,A,w),m.child;case 6:return p===null&&nr&&((p=w=Hr)&&(w=$ae(w,m.pendingProps,ia),w!==null?(m.stateNode=w,ra=m,Hr=null,p=!0):p=!1),p||Qn(m)),null;case 13:return Jo(p,m,w);case 4:return Te(m,m.stateNode.containerInfo),A=m.pendingProps,p===null?m.child=Ff(m,null,A,w):ui(p,m,A,w),m.child;case 11:return Dv(p,m,m.type,m.pendingProps,w);case 7:return ui(p,m,m.pendingProps,w),m.child;case 8:return ui(p,m,m.pendingProps.children,w),m.child;case 12:return ui(p,m,m.pendingProps.children,w),m.child;case 10:return A=m.pendingProps,mu(m,m.type,A.value),ui(p,m,A.children,w),m.child;case 9:return P=m.type._context,A=m.pendingProps.children,Bf(m),P=aa(P),A=A(P),m.flags|=1,ui(p,m,A,w),m.child;case 14:return Nv(p,m,m.type,m.pendingProps,w);case 15:return qo(p,m,m.type,m.pendingProps,w);case 19:return Ov(p,m,w);case 31:return Rv(p,m,w);case 22:return Zo(p,m,w,m.pendingProps);case 24:return Bf(m),A=aa(rn),p===null?(P=Ml(),P===null&&(P=Tr,U=t1(),P.pooledCache=U,U.refCount++,U!==null&&(P.pooledCacheLanes|=w),P=U),m.memoizedState={parent:A,cache:P},s1(m),mu(m,rn,P)):((p.lanes&w)!==0&&(l1(p,m),Gf(m,null,null,w),_v()),P=p.memoizedState,U=m.memoizedState,P.parent!==A?(P={parent:A,cache:A},m.memoizedState=P,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=P),mu(m,rn,A)):(A=U.cache,mu(m,rn,A),A!==P.cache&&c0(m,[rn],w,!0))),ui(p,m,m.pendingProps.children,w),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function bo(p){p.flags|=4}function Rc(p,m,w,A,P){if((m=(p.mode&32)!==0)&&(m=!1),m){if(p.flags|=16777216,(P&335544128)===P)if(p.stateNode.complete)p.flags|=8192;else if(bt())p.flags|=8192;else throw vn=mv,gv}else p.flags&=-16777217}function Tu(p,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)p.flags&=-16777217;else if(p.flags|=16777216,!A6(m))if(bt())p.flags|=8192;else throw vn=mv,gv}function Md(p,m){m!==null&&(p.flags|=4),p.flags&16384&&(m=p.tag!==22?hn():536870912,p.lanes|=m,ts|=m)}function zv(p,m){if(!nr)switch(p.tailMode){case"hidden":m=p.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?p.tail=null:w.sibling=null;break;case"collapsed":w=p.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:A.sibling=null}}function Er(p){var m=p.alternate!==null&&p.alternate.child===p.child,w=0,A=0;if(m)for(var P=p.child;P!==null;)w|=P.lanes|P.childLanes,A|=P.subtreeFlags&65011712,A|=P.flags&65011712,P.return=p,P=P.sibling;else for(P=p.child;P!==null;)w|=P.lanes|P.childLanes,A|=P.subtreeFlags,A|=P.flags,P.return=p,P=P.sibling;return p.subtreeFlags|=A,p.childLanes=w,m}function B1(p,m,w){var A=m.pendingProps;switch(_c(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(m),null;case 1:return Er(m),null;case 3:return w=m.stateNode,A=null,p!==null&&(A=p.memoizedState.cache),m.memoizedState.cache!==A&&(m.flags|=2048),xs(rn),Me(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(p===null||p.child===null)&&(zf(m)?bo(m):p===null||p.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,J_())),Er(m),null;case 26:var P=m.type,U=m.memoizedState;return p===null?(bo(m),U!==null?(Er(m),Tu(m,U)):(Er(m),Rc(m,P,null,A,w))):U?U!==p.memoizedState?(bo(m),Er(m),Tu(m,U)):(Er(m),m.flags&=-16777217):(p=p.memoizedProps,p!==A&&bo(m),Er(m),Rc(m,P,p,A,w)),null;case 27:if(Ue(m),w=pe.current,P=m.type,p!==null&&m.stateNode!=null)p.memoizedProps!==A&&bo(m);else{if(!A){if(m.stateNode===null)throw Error(r(166));return Er(m),null}p=se.current,zf(m)?u0(m):(p=y6(P,A,w),m.stateNode=p,bo(m))}return Er(m),null;case 5:if(Ue(m),P=m.type,p!==null&&m.stateNode!=null)p.memoizedProps!==A&&bo(m);else{if(!A){if(m.stateNode===null)throw Error(r(166));return Er(m),null}if(U=se.current,zf(m))u0(m);else{var $=UT(pe.current);switch(U){case 1:U=$.createElementNS("http://www.w3.org/2000/svg",P);break;case 2:U=$.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;default:switch(P){case"svg":U=$.createElementNS("http://www.w3.org/2000/svg",P);break;case"math":U=$.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;case"script":U=$.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof A.is=="string"?$.createElement("select",{is:A.is}):$.createElement("select"),A.multiple?U.multiple=!0:A.size&&(U.size=A.size);break;default:U=typeof A.is=="string"?$.createElement(P,{is:A.is}):$.createElement(P)}}U[Vn]=m,U[vi]=A;e:for($=m.child;$!==null;){if($.tag===5||$.tag===6)U.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===m)break e;for(;$.sibling===null;){if($.return===null||$.return===m)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}m.stateNode=U;e:switch(no(U,P,A),P){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&bo(m)}}return Er(m),Rc(m,m.type,p===null?null:p.memoizedProps,m.pendingProps,w),null;case 6:if(p&&m.stateNode!=null)p.memoizedProps!==A&&bo(m);else{if(typeof A!="string"&&m.stateNode===null)throw Error(r(166));if(p=pe.current,zf(m)){if(p=m.stateNode,w=m.memoizedProps,A=null,P=ra,P!==null)switch(P.tag){case 27:case 5:A=P.memoizedProps}p[Vn]=m,p=!!(p.nodeValue===w||A!==null&&A.suppressHydrationWarning===!0||s6(p.nodeValue,w)),p||Qn(m,!0)}else p=UT(p).createTextNode(A),p[Vn]=m,m.stateNode=p}return Er(m),null;case 31:if(w=m.memoizedState,p===null||p.memoizedState!==null){if(A=zf(m),w!==null){if(p===null){if(!A)throw Error(r(318));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(557));p[Vn]=m}else kf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Er(m),p=!1}else w=J_(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=w),p=!0;if(!p)return m.flags&256?(Wo(m),m):(Wo(m),null);if((m.flags&128)!==0)throw Error(r(558))}return Er(m),null;case 13:if(A=m.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(P=zf(m),A!==null&&A.dehydrated!==null){if(p===null){if(!P)throw Error(r(318));if(P=m.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[Vn]=m}else kf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Er(m),P=!1}else P=J_(),p!==null&&p.memoizedState!==null&&(p.memoizedState.hydrationErrors=P),P=!0;if(!P)return m.flags&256?(Wo(m),m):(Wo(m),null)}return Wo(m),(m.flags&128)!==0?(m.lanes=w,m):(w=A!==null,p=p!==null&&p.memoizedState!==null,w&&(A=m.child,P=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(P=A.alternate.memoizedState.cachePool.pool),U=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(U=A.memoizedState.cachePool.pool),U!==P&&(A.flags|=2048)),w!==p&&w&&(m.child.flags|=8192),Md(m,m.updateQueue),Er(m),null);case 4:return Me(),p===null&&QN(m.stateNode.containerInfo),Er(m),null;case 10:return xs(m.type),Er(m),null;case 19:if(Q(si),A=m.memoizedState,A===null)return Er(m),null;if(P=(m.flags&128)!==0,U=A.rendering,U===null)if(P)zv(A,!1);else{if(Mr!==0||p!==null&&(p.flags&128)!==0)for(p=m.child;p!==null;){if(U=v0(p),U!==null){for(m.flags|=128,zv(A,!1),p=U.updateQueue,m.updateQueue=p,Md(m,p),m.subtreeFlags=0,p=w,w=m.child;w!==null;)Oa(w,p),w=w.sibling;return ne(si,si.current&1|2),nr&&pu(m,A.treeForkCount),m.child}p=p.sibling}A.tail!==null&&ee()>ns&&(m.flags|=128,P=!0,zv(A,!1),m.lanes=4194304)}else{if(!P)if(p=v0(U),p!==null){if(m.flags|=128,P=!0,p=p.updateQueue,m.updateQueue=p,Md(m,p),zv(A,!0),A.tail===null&&A.tailMode==="hidden"&&!U.alternate&&!nr)return Er(m),null}else 2*ee()-A.renderingStartTime>ns&&w!==536870912&&(m.flags|=128,P=!0,zv(A,!1),m.lanes=4194304);A.isBackwards?(U.sibling=m.child,m.child=U):(p=A.last,p!==null?p.sibling=U:m.child=U,A.last=U)}return A.tail!==null?(p=A.tail,A.rendering=p,A.tail=p.sibling,A.renderingStartTime=ee(),p.sibling=null,w=si.current,ne(si,P?w&1|2:w&1),nr&&pu(m,A.treeForkCount),p):(Er(m),null);case 22:case 23:return Wo(m),za(),A=m.memoizedState!==null,p!==null?p.memoizedState!==null!==A&&(m.flags|=8192):A&&(m.flags|=8192),A?(w&536870912)!==0&&(m.flags&128)===0&&(Er(m),m.subtreeFlags&6&&(m.flags|=8192)):Er(m),w=m.updateQueue,w!==null&&Md(m,w.retryQueue),w=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),A=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==w&&(m.flags|=2048),p!==null&&Q(Sc),null;case 24:return w=null,p!==null&&(w=p.memoizedState.cache),m.memoizedState.cache!==w&&(m.flags|=2048),xs(rn),Er(m),null;case 25:return null;case 30:return null}throw Error(r(156,m.tag))}function R0(p,m){switch(_c(m),m.tag){case 1:return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return xs(rn),Me(),p=m.flags,(p&65536)!==0&&(p&128)===0?(m.flags=p&-65537|128,m):null;case 26:case 27:case 5:return Ue(m),null;case 31:if(m.memoizedState!==null){if(Wo(m),m.alternate===null)throw Error(r(340));kf()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 13:if(Wo(m),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(r(340));kf()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return Q(si),null;case 4:return Me(),null;case 10:return xs(m.type),null;case 22:case 23:return Wo(m),za(),p!==null&&Q(Sc),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 24:return xs(rn),null;case 25:return null;default:return null}}function Yf(p,m){switch(_c(m),m.tag){case 3:xs(rn),Me();break;case 26:case 27:case 5:Ue(m);break;case 4:Me();break;case 31:m.memoizedState!==null&&Wo(m);break;case 13:Wo(m);break;case 19:Q(si);break;case 10:xs(m.type);break;case 22:case 23:Wo(m),za(),p!==null&&Q(Sc);break;case 24:xs(rn)}}function Rl(p,m){try{var w=m.updateQueue,A=w!==null?w.lastEffect:null;if(A!==null){var P=A.next;w=P;do{if((w.tag&p)===p){A=void 0;var U=w.create,$=w.inst;A=U(),$.destroy=A}w=w.next}while(w!==P)}}catch(ue){Br(m,m.return,ue)}}function ws(p,m,w){try{var A=m.updateQueue,P=A!==null?A.lastEffect:null;if(P!==null){var U=P.next;A=U;do{if((A.tag&p)===p){var $=A.inst,ue=$.destroy;if(ue!==void 0){$.destroy=void 0,P=m;var we=w,He=ue;try{He()}catch(nt){Br(P,we,nt)}}}A=A.next}while(A!==U)}}catch(nt){Br(m,m.return,nt)}}function Lc(p){var m=p.updateQueue;if(m!==null){var w=p.stateNode;try{ma(m,w)}catch(A){Br(p,p.return,A)}}}function U1(p,m,w){w.props=xa(p.type,p.memoizedProps),w.state=p.memoizedState;try{w.componentWillUnmount()}catch(A){Br(p,m,A)}}function Ll(p,m){try{var w=p.ref;if(w!==null){switch(p.tag){case 26:case 27:case 5:var A=p.stateNode;break;case 30:A=p.stateNode;break;default:A=p.stateNode}typeof w=="function"?p.refCleanup=w(A):w.current=A}}catch(P){Br(p,m,P)}}function Qo(p,m){var w=p.ref,A=p.refCleanup;if(w!==null)if(typeof A=="function")try{A()}catch(P){Br(p,m,P)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(P){Br(p,m,P)}else w.current=null}function $o(p){var m=p.type,w=p.memoizedProps,A=p.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":w.autoFocus&&A.focus();break e;case"img":w.src?A.src=w.src:w.srcSet&&(A.srcset=w.srcSet)}}catch(P){Br(p,p.return,P)}}function Ts(p,m,w){try{var A=p.stateNode;Yae(A,p.type,w,m),A[vi]=m}catch(P){Br(p,p.return,P)}}function Ri(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27&&Rd(p.type)||p.tag===4}function Il(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Ri(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.tag===27&&Rd(p.type)||p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function zn(p,m,w){var A=p.tag;if(A===5||A===6)p=p.stateNode,m?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(p,m):(m=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,m.appendChild(p),w=w._reactRootContainer,w!=null||m.onclick!==null||(m.onclick=yl));else if(A!==4&&(A===27&&Rd(p.type)&&(w=p.stateNode,m=null),p=p.child,p!==null))for(zn(p,m,w),p=p.sibling;p!==null;)zn(p,m,w),p=p.sibling}function mr(p,m,w){var A=p.tag;if(A===5||A===6)p=p.stateNode,m?w.insertBefore(p,m):w.appendChild(p);else if(A!==4&&(A===27&&Rd(p.type)&&(w=p.stateNode),p=p.child,p!==null))for(mr(p,m,w),p=p.sibling;p!==null;)mr(p,m,w),p=p.sibling}function yi(p){var m=p.stateNode,w=p.memoizedProps;try{for(var A=p.type,P=m.attributes;P.length;)m.removeAttributeNode(P[0]);no(m,A,w),m[Vn]=p,m[vi]=w}catch(U){Br(p,p.return,U)}}var Ms=!1,ei=!1,Mu=!1,kv=typeof WeakSet=="function"?WeakSet:Set,ci=null;function Ad(p,m){if(p=p.containerInfo,tR=YT,p=$m(p),ad(p)){if("selectionStart"in p)var w={start:p.selectionStart,end:p.selectionEnd};else e:{w=(w=p.ownerDocument)&&w.defaultView||window;var A=w.getSelection&&w.getSelection();if(A&&A.rangeCount!==0){w=A.anchorNode;var P=A.anchorOffset,U=A.focusNode;A=A.focusOffset;try{w.nodeType,U.nodeType}catch{w=null;break e}var $=0,ue=-1,we=-1,He=0,nt=0,lt=p,Xe=null;t:for(;;){for(var Qe;lt!==w||P!==0&&lt.nodeType!==3||(ue=$+P),lt!==U||A!==0&&lt.nodeType!==3||(we=$+A),lt.nodeType===3&&($+=lt.nodeValue.length),(Qe=lt.firstChild)!==null;)Xe=lt,lt=Qe;for(;;){if(lt===p)break t;if(Xe===w&&++He===P&&(ue=$),Xe===U&&++nt===A&&(we=$),(Qe=lt.nextSibling)!==null)break;lt=Xe,Xe=lt.parentNode}lt=Qe}w=ue===-1||we===-1?null:{start:ue,end:we}}else w=null}w=w||{start:0,end:0}}else w=null;for(nR={focusedElem:p,selectionRange:w},YT=!1,ci=m;ci!==null;)if(m=ci,p=m.child,(m.subtreeFlags&1028)!==0&&p!==null)p.return=m,ci=p;else for(;ci!==null;){switch(m=ci,U=m.alternate,p=m.flags,m.tag){case 0:if((p&4)!==0&&(p=m.updateQueue,p=p!==null?p.events:null,p!==null))for(w=0;w<p.length;w++)P=p[w],P.ref.impl=P.nextImpl;break;case 11:case 15:break;case 1:if((p&1024)!==0&&U!==null){p=void 0,w=m,P=U.memoizedProps,U=U.memoizedState,A=w.stateNode;try{var qt=xa(w.type,P);p=A.getSnapshotBeforeUpdate(qt,U),A.__reactInternalSnapshotBeforeUpdate=p}catch(yn){Br(w,w.return,yn)}}break;case 3:if((p&1024)!==0){if(p=m.stateNode.containerInfo,w=p.nodeType,w===9)aR(p);else if(w===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":aR(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(r(163))}if(p=m.sibling,p!==null){p.return=m.return,ci=p;break}ci=m.return}}function LT(p,m,w){var A=w.flags;switch(w.tag){case 0:case 11:case 15:Au(p,w),A&4&&Rl(5,w);break;case 1:if(Au(p,w),A&4)if(p=w.stateNode,m===null)try{p.componentDidMount()}catch($){Br(w,w.return,$)}else{var P=xa(w.type,m.memoizedProps);m=m.memoizedState;try{p.componentDidUpdate(P,m,p.__reactInternalSnapshotBeforeUpdate)}catch($){Br(w,w.return,$)}}A&64&&Lc(w),A&512&&Ll(w,w.return);break;case 3:if(Au(p,w),A&64&&(p=w.updateQueue,p!==null)){if(m=null,w.child!==null)switch(w.child.tag){case 27:case 5:m=w.child.stateNode;break;case 1:m=w.child.stateNode}try{ma(p,m)}catch($){Br(w,w.return,$)}}break;case 27:m===null&&A&4&&yi(w);case 26:case 5:Au(p,w),m===null&&A&4&&$o(w),A&512&&Ll(w,w.return);break;case 12:Au(p,w);break;case 31:Au(p,w),A&4&&I0(p,w);break;case 13:Au(p,w),A&4&&V1(p,w),A&64&&(p=w.memoizedState,p!==null&&(p=p.dehydrated,p!==null&&(w=Oae.bind(null,w),eoe(p,w))));break;case 22:if(A=w.memoizedState!==null||Ms,!A){m=m!==null&&m.memoizedState!==null||ei,P=Ms;var U=ei;Ms=A,(ei=m)&&!U?wr(p,w,(w.subtreeFlags&8772)!==0):Au(p,w),Ms=P,ei=U}break;case 30:break;default:Au(p,w)}}function L0(p){var m=p.alternate;m!==null&&(p.alternate=null,L0(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&Af(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var cr=null,Li=!1;function Ba(p,m,w){for(w=w.child;w!==null;)Ic(p,m,w),w=w.sibling}function Ic(p,m,w){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Je,w)}catch{}switch(w.tag){case 26:ei||Qo(w,m),Ba(p,m,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:ei||Qo(w,m);var A=cr,P=Li;Rd(w.type)&&(cr=w.stateNode,Li=!1),Ba(p,m,w),j1(w.stateNode),cr=A,Li=P;break;case 5:ei||Qo(w,m);case 6:if(A=cr,P=Li,cr=null,Ba(p,m,w),cr=A,Li=P,cr!==null)if(Li)try{(cr.nodeType===9?cr.body:cr.nodeName==="HTML"?cr.ownerDocument.body:cr).removeChild(w.stateNode)}catch(U){Br(w,m,U)}else try{cr.removeChild(w.stateNode)}catch(U){Br(w,m,U)}break;case 18:cr!==null&&(Li?(p=cr,d6(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,w.stateNode),j0(p)):d6(cr,w.stateNode));break;case 4:A=cr,P=Li,cr=w.stateNode.containerInfo,Li=!0,Ba(p,m,w),cr=A,Li=P;break;case 0:case 11:case 14:case 15:ws(2,w,m),ei||ws(4,w,m),Ba(p,m,w);break;case 1:ei||(Qo(w,m),A=w.stateNode,typeof A.componentWillUnmount=="function"&&U1(w,m,A)),Ba(p,m,w);break;case 21:Ba(p,m,w);break;case 22:ei=(A=ei)||w.memoizedState!==null,Ba(p,m,w),ei=A;break;default:Ba(p,m,w)}}function I0(p,m){if(m.memoizedState===null&&(p=m.alternate,p!==null&&(p=p.memoizedState,p!==null))){p=p.dehydrated;try{j0(p)}catch(w){Br(m,m.return,w)}}}function V1(p,m){if(m.memoizedState===null&&(p=m.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{j0(p)}catch(w){Br(m,m.return,w)}}function IT(p){switch(p.tag){case 31:case 13:case 19:var m=p.stateNode;return m===null&&(m=p.stateNode=new kv),m;case 22:return p=p.stateNode,m=p._retryCache,m===null&&(m=p._retryCache=new kv),m;default:throw Error(r(435,p.tag))}}function xi(p,m){var w=IT(p);m.forEach(function(A){if(!w.has(A)){w.add(A);var P=Pae.bind(null,p,A);A.then(P,P)}})}function Ua(p,m){var w=m.deletions;if(w!==null)for(var A=0;A<w.length;A++){var P=w[A],U=p,$=m,ue=$;e:for(;ue!==null;){switch(ue.tag){case 27:if(Rd(ue.type)){cr=ue.stateNode,Li=!1;break e}break;case 5:cr=ue.stateNode,Li=!1;break e;case 3:case 4:cr=ue.stateNode.containerInfo,Li=!0;break e}ue=ue.return}if(cr===null)throw Error(r(160));Ic(U,$,P),cr=null,Li=!1,U=P.alternate,U!==null&&(U.return=null),P.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)Oc(m,p),m=m.sibling}var So=null;function Oc(p,m){var w=p.alternate,A=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:Ua(m,p),fi(p),A&4&&(ws(3,p,p.return),Rl(3,p),ws(5,p,p.return));break;case 1:Ua(m,p),fi(p),A&512&&(ei||w===null||Qo(w,w.return)),A&64&&Ms&&(p=p.updateQueue,p!==null&&(A=p.callbacks,A!==null&&(w=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=w===null?A:w.concat(A))));break;case 26:var P=So;if(Ua(m,p),fi(p),A&512&&(ei||w===null||Qo(w,w.return)),A&4){var U=w!==null?w.memoizedState:null;if(A=p.memoizedState,w===null)if(A===null)if(p.stateNode===null){e:{A=p.type,w=p.memoizedProps,P=P.ownerDocument||P;t:switch(A){case"title":U=P.getElementsByTagName("title")[0],(!U||U[lu]||U[Vn]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=P.createElement(A),P.head.insertBefore(U,P.querySelector("head > title"))),no(U,A,w),U[Vn]=p,Ve(U),A=U;break e;case"link":var $=T6("link","href",P).get(A+(w.href||""));if($){for(var ue=0;ue<$.length;ue++)if(U=$[ue],U.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&U.getAttribute("rel")===(w.rel==null?null:w.rel)&&U.getAttribute("title")===(w.title==null?null:w.title)&&U.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){$.splice(ue,1);break t}}U=P.createElement(A),no(U,A,w),P.head.appendChild(U);break;case"meta":if($=T6("meta","content",P).get(A+(w.content||""))){for(ue=0;ue<$.length;ue++)if(U=$[ue],U.getAttribute("content")===(w.content==null?null:""+w.content)&&U.getAttribute("name")===(w.name==null?null:w.name)&&U.getAttribute("property")===(w.property==null?null:w.property)&&U.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&U.getAttribute("charset")===(w.charSet==null?null:w.charSet)){$.splice(ue,1);break t}}U=P.createElement(A),no(U,A,w),P.head.appendChild(U);break;default:throw Error(r(468,A))}U[Vn]=p,Ve(U),A=U}p.stateNode=A}else M6(P,p.type,p.stateNode);else p.stateNode=w6(P,A,p.memoizedProps);else U!==A?(U===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):U.count--,A===null?M6(P,p.type,p.stateNode):w6(P,A,p.memoizedProps)):A===null&&p.stateNode!==null&&Ts(p,p.memoizedProps,w.memoizedProps)}break;case 27:Ua(m,p),fi(p),A&512&&(ei||w===null||Qo(w,w.return)),w!==null&&A&4&&Ts(p,p.memoizedProps,w.memoizedProps);break;case 5:if(Ua(m,p),fi(p),A&512&&(ei||w===null||Qo(w,w.return)),p.flags&32){P=p.stateNode;try{Vs(P,"")}catch(qt){Br(p,p.return,qt)}}A&4&&p.stateNode!=null&&(P=p.memoizedProps,Ts(p,P,w!==null?w.memoizedProps:P)),A&1024&&(Mu=!0);break;case 6:if(Ua(m,p),fi(p),A&4){if(p.stateNode===null)throw Error(r(162));A=p.memoizedProps,w=p.stateNode;try{w.nodeValue=A}catch(qt){Br(p,p.return,qt)}}break;case 3:if(GT=null,P=So,So=VT(m.containerInfo),Ua(m,p),So=P,fi(p),A&4&&w!==null&&w.memoizedState.isDehydrated)try{j0(m.containerInfo)}catch(qt){Br(p,p.return,qt)}Mu&&(Mu=!1,OT(p));break;case 4:A=So,So=VT(p.stateNode.containerInfo),Ua(m,p),fi(p),So=A;break;case 12:Ua(m,p),fi(p);break;case 31:Ua(m,p),fi(p),A&4&&(A=p.updateQueue,A!==null&&(p.updateQueue=null,xi(p,A)));break;case 13:Ua(m,p),fi(p),p.child.flags&8192&&p.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(Du=ee()),A&4&&(A=p.updateQueue,A!==null&&(p.updateQueue=null,xi(p,A)));break;case 22:P=p.memoizedState!==null;var we=w!==null&&w.memoizedState!==null,He=Ms,nt=ei;if(Ms=He||P,ei=nt||we,Ua(m,p),ei=nt,Ms=He,fi(p),A&8192)e:for(m=p.stateNode,m._visibility=P?m._visibility&-2:m._visibility|1,P&&(w===null||we||Ms||ei||Xf(p)),w=null,m=p;;){if(m.tag===5||m.tag===26){if(w===null){we=w=m;try{if(U=we.stateNode,P)$=U.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{ue=we.stateNode;var lt=we.memoizedProps.style,Xe=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;ue.style.display=Xe==null||typeof Xe=="boolean"?"":(""+Xe).trim()}}catch(qt){Br(we,we.return,qt)}}}else if(m.tag===6){if(w===null){we=m;try{we.stateNode.nodeValue=P?"":we.memoizedProps}catch(qt){Br(we,we.return,qt)}}}else if(m.tag===18){if(w===null){we=m;try{var Qe=we.stateNode;P?p6(Qe,!0):p6(we.stateNode,!1)}catch(qt){Br(we,we.return,qt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===p)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break e;for(;m.sibling===null;){if(m.return===null||m.return===p)break e;w===m&&(w=null),m=m.return}w===m&&(w=null),m.sibling.return=m.return,m=m.sibling}A&4&&(A=p.updateQueue,A!==null&&(w=A.retryQueue,w!==null&&(A.retryQueue=null,xi(p,w))));break;case 19:Ua(m,p),fi(p),A&4&&(A=p.updateQueue,A!==null&&(p.updateQueue=null,xi(p,A)));break;case 30:break;case 21:break;default:Ua(m,p),fi(p)}}function fi(p){var m=p.flags;if(m&2){try{for(var w,A=p.return;A!==null;){if(Ri(A)){w=A;break}A=A.return}if(w==null)throw Error(r(160));switch(w.tag){case 27:var P=w.stateNode,U=Il(p);mr(p,U,P);break;case 5:var $=w.stateNode;w.flags&32&&(Vs($,""),w.flags&=-33);var ue=Il(p);mr(p,ue,$);break;case 3:case 4:var we=w.stateNode.containerInfo,He=Il(p);zn(p,He,we);break;default:throw Error(r(161))}}catch(nt){Br(p,p.return,nt)}p.flags&=-3}m&4096&&(p.flags&=-4097)}function OT(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var m=p;OT(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),p=p.sibling}}function Au(p,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)LT(p,m.alternate,m),m=m.sibling}function Xf(p){for(p=p.child;p!==null;){var m=p;switch(m.tag){case 0:case 11:case 14:case 15:ws(4,m,m.return),Xf(m);break;case 1:Qo(m,m.return);var w=m.stateNode;typeof w.componentWillUnmount=="function"&&U1(m,m.return,w),Xf(m);break;case 27:j1(m.stateNode);case 26:case 5:Qo(m,m.return),Xf(m);break;case 22:m.memoizedState===null&&Xf(m);break;case 30:Xf(m);break;default:Xf(m)}p=p.sibling}}function wr(p,m,w){for(w=w&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var A=m.alternate,P=p,U=m,$=U.flags;switch(U.tag){case 0:case 11:case 15:wr(P,U,w),Rl(4,U);break;case 1:if(wr(P,U,w),A=U,P=A.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(He){Br(A,A.return,He)}if(A=U,P=A.updateQueue,P!==null){var ue=A.stateNode;try{var we=P.shared.hiddenCallbacks;if(we!==null)for(P.shared.hiddenCallbacks=null,P=0;P<we.length;P++)Cl(we[P],ue)}catch(He){Br(A,A.return,He)}}w&&$&64&&Lc(U),Ll(U,U.return);break;case 27:yi(U);case 26:case 5:wr(P,U,w),w&&A===null&&$&4&&$o(U),Ll(U,U.return);break;case 12:wr(P,U,w);break;case 31:wr(P,U,w),w&&$&4&&I0(P,U);break;case 13:wr(P,U,w),w&&$&4&&V1(P,U);break;case 22:U.memoizedState===null&&wr(P,U,w),Ll(U,U.return);break;case 30:break;default:wr(P,U,w)}m=m.sibling}}function O0(p,m){var w=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),p=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(p=m.memoizedState.cachePool.pool),p!==w&&(p!=null&&p.refCount++,w!=null&&ga(w))}function Cu(p,m){p=null,m.alternate!==null&&(p=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==p&&(m.refCount++,p!=null&&ga(p))}function Yi(p,m,w,A){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)ii(p,m,w,A),m=m.sibling}function ii(p,m,w,A){var P=m.flags;switch(m.tag){case 0:case 11:case 15:Yi(p,m,w,A),P&2048&&Rl(9,m);break;case 1:Yi(p,m,w,A);break;case 3:Yi(p,m,w,A),P&2048&&(p=null,m.alternate!==null&&(p=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==p&&(m.refCount++,p!=null&&ga(p)));break;case 12:if(P&2048){Yi(p,m,w,A),p=m.stateNode;try{var U=m.memoizedProps,$=U.id,ue=U.onPostCommit;typeof ue=="function"&&ue($,m.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(we){Br(m,m.return,we)}}else Yi(p,m,w,A);break;case 31:Yi(p,m,w,A);break;case 13:Yi(p,m,w,A);break;case 23:break;case 22:U=m.stateNode,$=m.alternate,m.memoizedState!==null?U._visibility&2?Yi(p,m,w,A):Cd(p,m):U._visibility&2?Yi(p,m,w,A):(U._visibility|=2,Pc(p,m,w,A,(m.subtreeFlags&10256)!==0||!1)),P&2048&&O0($,m);break;case 24:Yi(p,m,w,A),P&2048&&Cu(m.alternate,m);break;default:Yi(p,m,w,A)}}function Pc(p,m,w,A,P){for(P=P&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var U=p,$=m,ue=w,we=A,He=$.flags;switch($.tag){case 0:case 11:case 15:Pc(U,$,ue,we,P),Rl(8,$);break;case 23:break;case 22:var nt=$.stateNode;$.memoizedState!==null?nt._visibility&2?Pc(U,$,ue,we,P):Cd(U,$):(nt._visibility|=2,Pc(U,$,ue,we,P)),P&&He&2048&&O0($.alternate,$);break;case 24:Pc(U,$,ue,we,P),P&&He&2048&&Cu($.alternate,$);break;default:Pc(U,$,ue,we,P)}m=m.sibling}}function Cd(p,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var w=p,A=m,P=A.flags;switch(A.tag){case 22:Cd(w,A),P&2048&&O0(A.alternate,A);break;case 24:Cd(w,A),P&2048&&Cu(A.alternate,A);break;default:Cd(w,A)}m=m.sibling}}var hi=8192;function qf(p,m,w){if(p.subtreeFlags&hi)for(p=p.child;p!==null;)_i(p,m,w),p=p.sibling}function _i(p,m,w){switch(p.tag){case 26:qf(p,m,w),p.flags&hi&&p.memoizedState!==null&&hoe(w,So,p.memoizedState,p.memoizedProps);break;case 5:qf(p,m,w);break;case 3:case 4:var A=So;So=VT(p.stateNode.containerInfo),qf(p,m,w),So=A;break;case 22:p.memoizedState===null&&(A=p.alternate,A!==null&&A.memoizedState!==null?(A=hi,hi=16777216,qf(p,m,w),hi=A):qf(p,m,w));break;default:qf(p,m,w)}}function wo(p){var m=p.alternate;if(m!==null&&(p=m.child,p!==null)){m.child=null;do m=p.sibling,p.sibling=null,p=m;while(p!==null)}}function eo(p){var m=p.deletions;if((p.flags&16)!==0){if(m!==null)for(var w=0;w<m.length;w++){var A=m[w];ci=A,Bv(A,p)}wo(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Zf(p),p=p.sibling}function Zf(p){switch(p.tag){case 0:case 11:case 15:eo(p),p.flags&2048&&ws(9,p,p.return);break;case 3:eo(p);break;case 12:eo(p);break;case 22:var m=p.stateNode;p.memoizedState!==null&&m._visibility&2&&(p.return===null||p.return.tag!==13)?(m._visibility&=-3,P0(p)):eo(p);break;default:eo(p)}}function P0(p){var m=p.deletions;if((p.flags&16)!==0){if(m!==null)for(var w=0;w<m.length;w++){var A=m[w];ci=A,Bv(A,p)}wo(p)}for(p=p.child;p!==null;){switch(m=p,m.tag){case 0:case 11:case 15:ws(8,m,m.return),P0(m);break;case 22:w=m.stateNode,w._visibility&2&&(w._visibility&=-3,P0(m));break;default:P0(m)}p=p.sibling}}function Bv(p,m){for(;ci!==null;){var w=ci;switch(w.tag){case 0:case 11:case 15:ws(8,w,m);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var A=w.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:ga(w.memoizedState.cache)}if(A=w.child,A!==null)A.return=w,ci=A;else e:for(w=p;ci!==null;){A=ci;var P=A.sibling,U=A.return;if(L0(A),A===w){ci=null;break e}if(P!==null){P.return=U,ci=P;break e}ci=U}}}var z0={getCacheForType:function(p){var m=aa(rn),w=m.data.get(p);return w===void 0&&(w=p(),m.data.set(p,w)),w},cacheSignal:function(){return aa(rn).controller.signal}},k0=typeof WeakMap=="function"?WeakMap:Map,or=0,Tr=null,kn=null,$n=0,an=0,Yn=null,Nn=!1,Hn=!1,Or=!1,bi=0,Mr=0,es=0,Eu=0,Zs=0,sr=0,ts=0,Ks=null,Va=null,To=!1,Du=0,Ed=0,ns=1/0,Dd=null,Ol=null,ai=0,Js=null,rs=null,As=0,Nu=0,Kf=null,B0=null,Jf=0,Qf=null;function to(){return(or&2)!==0&&$n!==0?$n&-$n:H.T!==null?qN():pi()}function _(){if(sr===0)if(($n&536870912)===0||nr){var p=dt;dt<<=1,(dt&3932160)===0&&(dt=262144),sr=p}else sr=536870912;return p=Wi.current,p!==null&&(p.flags|=32),sr}function S(p,m,w){(p===Tr&&(an===2||an===9)||p.cancelPendingCommit!==null)&&(Be(p,0),Z(p,$n,sr,!1)),br(p,w),((or&2)===0||p!==Tr)&&(p===Tr&&((or&2)===0&&(Eu|=w),Mr===4&&Z(p,$n,sr,!1)),zc(p))}function N(p,m,w){if((or&6)!==0)throw Error(r(327));var A=!w&&(m&127)===0&&(m&p.expiredLanes)===0||wt(p,m),P=A?$f(p,m):Mo(p,m,!0),U=A;do{if(P===0){Hn&&!A&&Z(p,m,0,!1);break}else{if(w=p.current.alternate,U&&!G(w)){P=Mo(p,m,!1),U=!1;continue}if(P===2){if(U=m,p.errorRecoveryDisabledLanes&U)var $=0;else $=p.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){m=$;e:{var ue=p;P=Ks;var we=ue.current.memoizedState.isDehydrated;if(we&&(Be(ue,$).flags|=256),$=Mo(ue,$,!1),$!==2){if(Or&&!we){ue.errorRecoveryDisabledLanes|=U,Eu|=U,P=4;break e}U=Va,Va=P,U!==null&&(Va===null?Va=U:Va.push.apply(Va,U))}P=$}if(U=!1,P!==2)continue}}if(P===1){Be(p,0),Z(p,m,0,!0);break}e:{switch(A=p,U=P,U){case 0:case 1:throw Error(r(345));case 4:if((m&4194048)!==m)break;case 6:Z(A,m,sr,!Nn);break e;case 2:Va=null;break;case 3:case 5:break;default:throw Error(r(329))}if((m&62914560)===m&&(P=Du+300-ee(),10<P)){if(Z(A,m,sr,!Nn),tt(A,0,!0)!==0)break e;As=m,A.timeoutHandle=f6(z.bind(null,A,w,Va,Dd,To,m,sr,Eu,ts,Nn,U,"Throttled",-0,0),P);break e}z(A,w,Va,Dd,To,m,sr,Eu,ts,Nn,U,null,-0,0)}}break}while(!0);zc(p)}function z(p,m,w,A,P,U,$,ue,we,He,nt,lt,Xe,Qe){if(p.timeoutHandle=-1,lt=m.subtreeFlags,lt&8192||(lt&16785408)===16785408){lt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yl},_i(m,U,lt);var qt=(U&62914560)===U?Du-ee():(U&4194048)===U?Ed-ee():0;if(qt=doe(lt,qt),qt!==null){As=U,p.cancelPendingCommit=qt(_n.bind(null,p,m,U,w,A,P,$,ue,we,nt,lt,null,Xe,Qe)),Z(p,U,$,!He);return}}_n(p,m,U,w,A,P,$,ue,we)}function G(p){for(var m=p;;){var w=m.tag;if((w===0||w===11||w===15)&&m.flags&16384&&(w=m.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var A=0;A<w.length;A++){var P=w[A],U=P.getSnapshot;P=P.value;try{if(!Qr(U(),P))return!1}catch{return!1}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Z(p,m,w,A){m&=~Zs,m&=~Eu,p.suspendedLanes|=m,p.pingedLanes&=~m,A&&(p.warmLanes|=m),A=p.expirationTimes;for(var P=m;0<P;){var U=31-ye(P),$=1<<U;A[U]=-1,P&=~$}w!==0&&ho(p,w,m)}function ce(){return(or&6)===0?(F1(0),!1):!0}function Se(){if(kn!==null){if(an===0)var p=kn.return;else p=kn,Pa=gu=null,m1(p),Tc=null,Mc=0,p=kn;for(;p!==null;)Yf(p.alternate,p),p=p.return;kn=null}}function Be(p,m){var w=p.timeoutHandle;w!==-1&&(p.timeoutHandle=-1,Zae(w)),w=p.cancelPendingCommit,w!==null&&(p.cancelPendingCommit=null,w()),As=0,Se(),Tr=p,kn=w=bl(p.current,null),$n=m,an=0,Yn=null,Nn=!1,Hn=wt(p,m),Or=!1,ts=sr=Zs=Eu=es=Mr=0,Va=Ks=null,To=!1,(m&8)!==0&&(m|=m&32);var A=p.entangledLanes;if(A!==0)for(p=p.entanglements,A&=m;0<A;){var P=31-ye(A),U=1<<P;m|=p[P],A&=~U}return bi=m,mc(),w}function it(p,m){xn=null,H.H=Av,m===wc||m===Ws?(m=h0(),an=3):m===gv?(m=h0(),an=4):an=m===D0?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Yn=m,kn===null&&(Mr=1,E0(p,go(m,p.current)))}function bt(){var p=Wi.current;return p===null?!0:($n&4194048)===$n?_s===null:($n&62914560)===$n||($n&536870912)!==0?p===_s:!1}function Rt(){var p=H.H;return H.H=Av,p===null?Av:p}function Ut(){var p=H.A;return H.A=z0,p}function Cn(){Mr=4,Nn||($n&4194048)!==$n&&Wi.current!==null||(Hn=!0),(es&134217727)===0&&(Eu&134217727)===0||Tr===null||Z(Tr,$n,sr,!1)}function Mo(p,m,w){var A=or;or|=2;var P=Rt(),U=Ut();(Tr!==p||$n!==m)&&(Dd=null,Be(p,m)),m=!1;var $=Mr;e:do try{if(an!==0&&kn!==null){var ue=kn,we=Yn;switch(an){case 8:Se(),$=6;break e;case 3:case 2:case 9:case 6:Wi.current===null&&(m=!0);var He=an;if(an=0,Yn=null,yt(p,ue,we,He),w&&Hn){$=0;break e}break;default:He=an,an=0,Yn=null,yt(p,ue,we,He)}}Uv(),$=Mr;break}catch(nt){it(p,nt)}while(!0);return m&&p.shellSuspendCounter++,Pa=gu=null,or=A,H.H=P,H.A=U,kn===null&&(Tr=null,$n=0,mc()),$}function Uv(){for(;kn!==null;)ze(kn)}function $f(p,m){var w=or;or|=2;var A=Rt(),P=Ut();Tr!==p||$n!==m?(Dd=null,ns=ee()+500,Be(p,m)):Hn=wt(p,m);e:do try{if(an!==0&&kn!==null){m=kn;var U=Yn;t:switch(an){case 1:an=0,Yn=null,yt(p,m,U,1);break;case 2:case 9:if(aT(U)){an=0,Yn=null,Ze(m);break}m=function(){an!==2&&an!==9||Tr!==p||(an=7),zc(p)},U.then(m,m);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:aT(U)?(an=0,Yn=null,Ze(m)):(an=0,Yn=null,yt(p,m,U,7));break;case 5:var $=null;switch(kn.tag){case 26:$=kn.memoizedState;case 5:case 27:var ue=kn;if($?A6($):ue.stateNode.complete){an=0,Yn=null;var we=ue.sibling;if(we!==null)kn=we;else{var He=ue.return;He!==null?(kn=He,en(He)):kn=null}break t}}an=0,Yn=null,yt(p,m,U,5);break;case 6:an=0,Yn=null,yt(p,m,U,6);break;case 8:Se(),Mr=6;break e;default:throw Error(r(462))}}We();break}catch(nt){it(p,nt)}while(!0);return Pa=gu=null,H.H=A,H.A=P,or=w,kn!==null?0:(Tr=null,$n=0,mc(),Mr)}function We(){for(;kn!==null&&!be();)ze(kn)}function ze(p){var m=N0(p.alternate,p,bi);p.memoizedProps=p.pendingProps,m===null?en(p):kn=m}function Ze(p){var m=p,w=m.alternate;switch(m.tag){case 15:case 0:m=ka(w,m,m.pendingProps,m.type,void 0,$n);break;case 11:m=ka(w,m,m.pendingProps,m.type.render,m.ref,$n);break;case 5:m1(m);default:Yf(w,m),m=kn=Oa(m,bi),m=N0(w,m,bi)}p.memoizedProps=p.pendingProps,m===null?en(p):kn=m}function yt(p,m,w,A){Pa=gu=null,m1(m),Tc=null,Mc=0;var P=m.return;try{if(Xo(p,P,m,w,$n)){Mr=1,E0(p,go(w,p.current)),kn=null;return}}catch(U){if(P!==null)throw kn=P,U;Mr=1,E0(p,go(w,p.current)),kn=null;return}m.flags&32768?(nr||A===1?p=!0:Hn||($n&536870912)!==0?p=!1:(Nn=p=!0,(A===2||A===9||A===3||A===6)&&(A=Wi.current,A!==null&&A.tag===13&&(A.flags|=16384))),jr(m,p)):en(m)}function en(p){var m=p;do{if((m.flags&32768)!==0){jr(m,Nn);return}p=m.return;var w=B1(m.alternate,m,bi);if(w!==null){kn=w;return}if(m=m.sibling,m!==null){kn=m;return}kn=m=p}while(m!==null);Mr===0&&(Mr=5)}function jr(p,m){do{var w=R0(p.alternate,p);if(w!==null){w.flags&=32767,kn=w;return}if(w=p.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!m&&(p=p.sibling,p!==null)){kn=p;return}kn=p=w}while(p!==null);Mr=6,kn=null}function _n(p,m,w,A,P,U,$,ue,we){p.cancelPendingCommit=null;do U0();while(ai!==0);if((or&6)!==0)throw Error(r(327));if(m!==null){if(m===p.current)throw Error(r(177));if(U=m.lanes|m.childLanes,U|=i0,Xn(p,w,U,$,ue,we),p===Tr&&(kn=Tr=null,$n=0),rs=m,Js=p,As=w,Nu=U,Kf=P,B0=A,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(p.callbackNode=null,p.callbackPriority=0,zae(Ie,function(){return qU(),null})):(p.callbackNode=null,p.callbackPriority=0),A=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||A){A=H.T,H.T=null,P=W.p,W.p=2,$=or,or|=4;try{Ad(p,m,w)}finally{or=$,W.p=P,H.T=A}}ai=1,fr(),Xi(),hr()}}function fr(){if(ai===1){ai=0;var p=Js,m=rs,w=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||w){w=H.T,H.T=null;var A=W.p;W.p=2;var P=or;or|=4;try{Oc(m,p);var U=nR,$=$m(p.containerInfo),ue=U.focusedElem,we=U.selectionRange;if($!==ue&&ue&&ue.ownerDocument&&Qm(ue.ownerDocument.documentElement,ue)){if(we!==null&&ad(ue)){var He=we.start,nt=we.end;if(nt===void 0&&(nt=He),"selectionStart"in ue)ue.selectionStart=He,ue.selectionEnd=Math.min(nt,ue.value.length);else{var lt=ue.ownerDocument||document,Xe=lt&&lt.defaultView||window;if(Xe.getSelection){var Qe=Xe.getSelection(),qt=ue.textContent.length,yn=Math.min(we.start,qt),Yr=we.end===void 0?yn:Math.min(we.end,qt);!Qe.extend&&yn>Yr&&($=Yr,Yr=yn,yn=$);var ke=Y_(ue,yn),Ee=Y_(ue,Yr);if(ke&&Ee&&(Qe.rangeCount!==1||Qe.anchorNode!==ke.node||Qe.anchorOffset!==ke.offset||Qe.focusNode!==Ee.node||Qe.focusOffset!==Ee.offset)){var Ge=lt.createRange();Ge.setStart(ke.node,ke.offset),Qe.removeAllRanges(),yn>Yr?(Qe.addRange(Ge),Qe.extend(Ee.node,Ee.offset)):(Ge.setEnd(Ee.node,Ee.offset),Qe.addRange(Ge))}}}}for(lt=[],Qe=ue;Qe=Qe.parentNode;)Qe.nodeType===1&&lt.push({element:Qe,left:Qe.scrollLeft,top:Qe.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<lt.length;ue++){var ot=lt[ue];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}YT=!!tR,nR=tR=null}finally{or=P,W.p=A,H.T=w}}p.current=m,ai=2}}function Xi(){if(ai===2){ai=0;var p=Js,m=rs,w=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||w){w=H.T,H.T=null;var A=W.p;W.p=2;var P=or;or|=4;try{LT(p,m.alternate,m)}finally{or=P,W.p=A,H.T=w}}ai=3}}function hr(){if(ai===4||ai===3){ai=0,ie();var p=Js,m=rs,w=As,A=B0;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?ai=5:(ai=0,rs=Js=null,Ru(p,p.pendingLanes));var P=p.pendingLanes;if(P===0&&(Ol=null),po(w),m=m.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Je,m,void 0,(m.current.flags&128)===128)}catch{}if(A!==null){m=H.T,P=W.p,W.p=2,H.T=null;try{for(var U=p.onRecoverableError,$=0;$<A.length;$++){var ue=A[$];U(ue.value,{componentStack:ue.stack})}}finally{H.T=m,W.p=P}}(As&3)!==0&&U0(),zc(p),P=p.pendingLanes,(w&261930)!==0&&(P&42)!==0?p===Qf?Jf++:(Jf=0,Qf=p):Jf=0,F1(0)}}function Ru(p,m){(p.pooledCacheLanes&=m)===0&&(m=p.pooledCache,m!=null&&(p.pooledCache=null,ga(m)))}function U0(){return fr(),Xi(),hr(),qU()}function qU(){if(ai!==5)return!1;var p=Js,m=Nu;Nu=0;var w=po(As),A=H.T,P=W.p;try{W.p=32>w?32:w,H.T=null,w=Kf,Kf=null;var U=Js,$=As;if(ai=0,rs=Js=null,As=0,(or&6)!==0)throw Error(r(331));var ue=or;if(or|=4,Zf(U.current),ii(U,U.current,$,w),or=ue,F1(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Je,U)}catch{}return!0}finally{W.p=P,H.T=A,Ru(p,m)}}function ZU(p,m,w){m=go(w,m),m=k1(p.stateNode,m,2),p=_u(p,m,2),p!==null&&(br(p,2),zc(p))}function Br(p,m,w){if(p.tag===3)ZU(p,p,w);else for(;m!==null;){if(m.tag===3){ZU(m,p,w);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Ol===null||!Ol.has(A))){p=go(w,p),w=bd(2),A=_u(m,w,2),A!==null&&(_o(w,A,m,p),br(A,2),zc(A));break}}m=m.return}}function WN(p,m,w){var A=p.pingCache;if(A===null){A=p.pingCache=new k0;var P=new Set;A.set(m,P)}else P=A.get(m),P===void 0&&(P=new Set,A.set(m,P));P.has(w)||(Or=!0,P.add(w),p=Iae.bind(null,p,m,w),m.then(p,p))}function Iae(p,m,w){var A=p.pingCache;A!==null&&A.delete(m),p.pingedLanes|=p.suspendedLanes&w,p.warmLanes&=~w,Tr===p&&($n&w)===w&&(Mr===4||Mr===3&&($n&62914560)===$n&&300>ee()-Du?(or&2)===0&&Be(p,0):Zs|=w,ts===$n&&(ts=0)),zc(p)}function KU(p,m){m===0&&(m=hn()),p=yc(p,m),p!==null&&(br(p,m),zc(p))}function Oae(p){var m=p.memoizedState,w=0;m!==null&&(w=m.retryLane),KU(p,w)}function Pae(p,m){var w=0;switch(p.tag){case 31:case 13:var A=p.stateNode,P=p.memoizedState;P!==null&&(w=P.retryLane);break;case 19:A=p.stateNode;break;case 22:A=p.stateNode._retryCache;break;default:throw Error(r(314))}A!==null&&A.delete(m),KU(p,w)}function zae(p,m){return Ae(p,m)}var PT=null,V0=null,YN=!1,zT=!1,XN=!1,Nd=0;function zc(p){p!==V0&&p.next===null&&(V0===null?PT=V0=p:V0=V0.next=p),zT=!0,YN||(YN=!0,Bae())}function F1(p,m){if(!XN&&zT){XN=!0;do for(var w=!1,A=PT;A!==null;){if(p!==0){var P=A.pendingLanes;if(P===0)var U=0;else{var $=A.suspendedLanes,ue=A.pingedLanes;U=(1<<31-ye(42|p)+1)-1,U&=P&~($&~ue),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(w=!0,e6(A,U))}else U=$n,U=tt(A,A===Tr?U:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(U&3)===0||wt(A,U)||(w=!0,e6(A,U));A=A.next}while(w);XN=!1}}function kae(){JU()}function JU(){zT=YN=!1;var p=0;Nd!==0&&qae()&&(p=Nd);for(var m=ee(),w=null,A=PT;A!==null;){var P=A.next,U=QU(A,m);U===0?(A.next=null,w===null?PT=P:w.next=P,P===null&&(V0=w)):(w=A,(p!==0||(U&3)!==0)&&(zT=!0)),A=P}ai!==0&&ai!==5||F1(p),Nd!==0&&(Nd=0)}function QU(p,m){for(var w=p.suspendedLanes,A=p.pingedLanes,P=p.expirationTimes,U=p.pendingLanes&-62914561;0<U;){var $=31-ye(U),ue=1<<$,we=P[$];we===-1?((ue&w)===0||(ue&A)!==0)&&(P[$]=Bt(ue,m)):we<=m&&(p.expiredLanes|=ue),U&=~ue}if(m=Tr,w=$n,w=tt(p,p===m?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),A=p.callbackNode,w===0||p===m&&(an===2||an===9)||p.cancelPendingCommit!==null)return A!==null&&A!==null&&Ce(A),p.callbackNode=null,p.callbackPriority=0;if((w&3)===0||wt(p,w)){if(m=w&-w,m===p.callbackPriority)return m;switch(A!==null&&Ce(A),po(w)){case 2:case 8:w=qe;break;case 32:w=Ie;break;case 268435456:w=xt;break;default:w=Ie}return A=$U.bind(null,p),w=Ae(w,A),p.callbackPriority=m,p.callbackNode=w,m}return A!==null&&A!==null&&Ce(A),p.callbackPriority=2,p.callbackNode=null,2}function $U(p,m){if(ai!==0&&ai!==5)return p.callbackNode=null,p.callbackPriority=0,null;var w=p.callbackNode;if(U0()&&p.callbackNode!==w)return null;var A=$n;return A=tt(p,p===Tr?A:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),A===0?null:(N(p,A,m),QU(p,ee()),p.callbackNode!=null&&p.callbackNode===w?$U.bind(null,p):null)}function e6(p,m){if(U0())return null;N(p,m,!0)}function Bae(){Kae(function(){(or&6)!==0?Ae(Ne,kae):JU()})}function qN(){if(Nd===0){var p=xu;p===0&&(p=ht,ht<<=1,(ht&261888)===0&&(ht=256)),Nd=p}return Nd}function t6(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:Jp(""+p)}function n6(p,m){var w=m.ownerDocument.createElement("input");return w.name=m.name,w.value=m.value,p.id&&w.setAttribute("form",p.id),m.parentNode.insertBefore(w,m),p=new FormData(p),w.parentNode.removeChild(w),p}function Uae(p,m,w,A,P){if(m==="submit"&&w&&w.stateNode===P){var U=t6((P[vi]||null).action),$=A.submitter;$&&(m=(m=$[vi]||null)?t6(m.formAction):$.getAttribute("formAction"),m!==null&&(U=m,$=null));var ue=new tv("action","action",null,A,P);p.push({event:ue,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(Nd!==0){var we=$?n6(P,$):new FormData(P);L1(w,{pending:!0,data:we,method:P.method,action:U},null,we)}}else typeof U=="function"&&(ue.preventDefault(),we=$?n6(P,$):new FormData(P),L1(w,{pending:!0,data:we,method:P.method,action:U},U,we))},currentTarget:P}]})}}for(var ZN=0;ZN<r0.length;ZN++){var KN=r0[ZN],Vae=KN.toLowerCase(),Fae=KN[0].toUpperCase()+KN.slice(1);Ia(Vae,"on"+Fae)}Ia(vo,"onAnimationEnd"),Ia(X_,"onAnimationIteration"),Ia(_l,"onAnimationStart"),Ia("dblclick","onDoubleClick"),Ia("focusin","onFocus"),Ia("focusout","onBlur"),Ia(ud,"onTransitionRun"),Ia(vc,"onTransitionStart"),Ia(q_,"onTransitionCancel"),Ia(n0,"onTransitionEnd"),Gt("onMouseEnter",["mouseout","mouseover"]),Gt("onMouseLeave",["mouseout","mouseover"]),Gt("onPointerEnter",["pointerout","pointerover"]),Gt("onPointerLeave",["pointerout","pointerover"]),Et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Et("onBeforeInput",["compositionend","keypress","textInput","paste"]),Et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var G1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gae=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(G1));function r6(p,m){m=(m&4)!==0;for(var w=0;w<p.length;w++){var A=p[w],P=A.event;A=A.listeners;e:{var U=void 0;if(m)for(var $=A.length-1;0<=$;$--){var ue=A[$],we=ue.instance,He=ue.currentTarget;if(ue=ue.listener,we!==U&&P.isPropagationStopped())break e;U=ue,P.currentTarget=He;try{U(P)}catch(nt){gc(nt)}P.currentTarget=null,U=we}else for($=0;$<A.length;$++){if(ue=A[$],we=ue.instance,He=ue.currentTarget,ue=ue.listener,we!==U&&P.isPropagationStopped())break e;U=ue,P.currentTarget=He;try{U(P)}catch(nt){gc(nt)}P.currentTarget=null,U=we}}}}function rr(p,m){var w=m[Mf];w===void 0&&(w=m[Mf]=new Set);var A=p+"__bubble";w.has(A)||(i6(m,p,2,!1),w.add(A))}function JN(p,m,w){var A=0;m&&(A|=4),i6(w,p,A,m)}var kT="_reactListening"+Math.random().toString(36).slice(2);function QN(p){if(!p[kT]){p[kT]=!0,Pe.forEach(function(w){w!=="selectionchange"&&(Gae.has(w)||JN(w,!1,p),JN(w,!0,p))});var m=p.nodeType===9?p:p.ownerDocument;m===null||m[kT]||(m[kT]=!0,JN("selectionchange",!1,m))}}function i6(p,m,w,A){switch(I6(m)){case 2:var P=goe;break;case 8:P=moe;break;default:P=dR}w=P.bind(null,m,w,p),P=void 0,!Gm||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(P=!0),A?P!==void 0?p.addEventListener(m,w,{capture:!0,passive:P}):p.addEventListener(m,w,!0):P!==void 0?p.addEventListener(m,w,{passive:P}):p.addEventListener(m,w,!1)}function $N(p,m,w,A,P){var U=A;if((m&1)===0&&(m&2)===0&&A!==null)e:for(;;){if(A===null)return;var $=A.tag;if($===3||$===4){var ue=A.stateNode.containerInfo;if(ue===P)break;if($===4)for($=A.return;$!==null;){var we=$.tag;if((we===3||we===4)&&$.stateNode.containerInfo===P)return;$=$.return}for(;ue!==null;){if($=gi(ue),$===null)return;if(we=$.tag,we===5||we===6||we===26||we===27){A=U=$;continue e}ue=ue.parentNode}}A=A.return}D_(function(){var He=U,nt=Vm(w),lt=[];e:{var Xe=hu.get(p);if(Xe!==void 0){var Qe=tv,qt=p;switch(p){case"keypress":if(Df(w)===0)break e;case"keydown":case"keyup":Qe=z_;break;case"focusin":qt="focus",Qe=Xm;break;case"focusout":qt="blur",Qe=Xm;break;case"beforeblur":case"afterblur":Qe=Xm;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=zw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=kw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=cu;break;case vo:case X_:case _l:Qe=Vw;break;case n0:Qe=kN;break;case"scroll":case"scrollend":Qe=Wm;break;case"wheel":Qe=uc;break;case"copy":case"cut":case"paste":Qe=R_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=qm;break;case"toggle":case"beforetoggle":Qe=B_}var yn=(m&4)!==0,Yr=!yn&&(p==="scroll"||p==="scrollend"),ke=yn?Xe!==null?Xe+"Capture":null:Xe;yn=[];for(var Ee=He,Ge;Ee!==null;){var ot=Ee;if(Ge=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||Ge===null||ke===null||(ot=Ef(Ee,ke),ot!=null&&yn.push(H1(Ee,ot,Ge))),Yr)break;Ee=Ee.return}0<yn.length&&(Xe=new Qe(Xe,qt,null,w,nt),lt.push({event:Xe,listeners:yn}))}}if((m&7)===0){e:{if(Xe=p==="mouseover"||p==="pointerover",Qe=p==="mouseout"||p==="pointerout",Xe&&w!==Qp&&(qt=w.relatedTarget||w.fromElement)&&(gi(qt)||qt[Us]))break e;if((Qe||Xe)&&(Xe=nt.window===nt?nt:(Xe=nt.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,Qe?(qt=w.relatedTarget||w.toElement,Qe=He,qt=qt?gi(qt):null,qt!==null&&(Yr=a(qt),yn=qt.tag,qt!==Yr||yn!==5&&yn!==27&&yn!==6)&&(qt=null)):(Qe=null,qt=He),Qe!==qt)){if(yn=zw,ot="onMouseLeave",ke="onMouseEnter",Ee="mouse",(p==="pointerout"||p==="pointerover")&&(yn=qm,ot="onPointerLeave",ke="onPointerEnter",Ee="pointer"),Yr=Qe==null?Xe:Le(Qe),Ge=qt==null?Xe:Le(qt),Xe=new yn(ot,Ee+"leave",Qe,w,nt),Xe.target=Yr,Xe.relatedTarget=Ge,ot=null,gi(nt)===He&&(yn=new yn(ke,Ee+"enter",qt,w,nt),yn.target=Ge,yn.relatedTarget=Yr,ot=yn),Yr=ot,Qe&&qt)t:{for(yn=Hae,ke=Qe,Ee=qt,Ge=0,ot=ke;ot;ot=yn(ot))Ge++;ot=0;for(var cn=Ee;cn;cn=yn(cn))ot++;for(;0<Ge-ot;)ke=yn(ke),Ge--;for(;0<ot-Ge;)Ee=yn(Ee),ot--;for(;Ge--;){if(ke===Ee||Ee!==null&&ke===Ee.alternate){yn=ke;break t}ke=yn(ke),Ee=yn(Ee)}yn=null}else yn=null;Qe!==null&&a6(lt,Xe,Qe,yn,!1),qt!==null&&Yr!==null&&a6(lt,Yr,qt,yn,!0)}}e:{if(Xe=He?Le(He):window,Qe=Xe.nodeName&&Xe.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&Xe.type==="file")var Ar=H_;else if(F_(Xe))if(sv)Ar=Jw;else{Ar=hc;var $t=lv}else Qe=Xe.nodeName,!Qe||Qe.toLowerCase()!=="input"||Xe.type!=="checkbox"&&Xe.type!=="radio"?He&&Kp(He.elementType)&&(Ar=H_):Ar=Kw;if(Ar&&(Ar=Ar(p,He))){Jm(lt,Ar,w,nt);break e}$t&&$t(p,Xe,He),p==="focusout"&&He&&Xe.type==="number"&&He.memoizedProps.value!=null&&Gi(Xe,"number",Xe.value)}switch($t=He?Le(He):window,p){case"focusin":(F_($t)||$t.contentEditable==="true")&&(od=$t,e0=He,sd=null);break;case"focusout":sd=e0=od=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,t0(lt,w,nt);break;case"selectionchange":if(Qw)break;case"keydown":case"keyup":t0(lt,w,nt)}var jn;if(Nf)e:{switch(p){case"compositionstart":var lr="onCompositionStart";break e;case"compositionend":lr="onCompositionEnd";break e;case"compositionupdate":lr="onCompositionUpdate";break e}lr=void 0}else fc?Zm(p,w)&&(lr="onCompositionEnd"):p==="keydown"&&w.keyCode===229&&(lr="onCompositionStart");lr&&(va&&w.locale!=="ko"&&(fc||lr!=="onCompositionStart"?lr==="onCompositionEnd"&&fc&&(jn=jm()):(oc=nt,Hm="value"in oc?oc.value:oc.textContent,fc=!0)),$t=BT(He,lr),0<$t.length&&(lr=new L_(lr,p,null,w,nt),lt.push({event:lr,listeners:$t}),jn?lr.data=jn:(jn=ed(w),jn!==null&&(lr.data=jn)))),(jn=Rf?Km(p,w):Xw(p,w))&&(lr=BT(He,"onBeforeInput"),0<lr.length&&($t=new L_("onBeforeInput","beforeinput",null,w,nt),lt.push({event:$t,listeners:lr}),$t.data=jn)),Uae(lt,p,He,w,nt)}r6(lt,m)})}function H1(p,m,w){return{instance:p,listener:m,currentTarget:w}}function BT(p,m){for(var w=m+"Capture",A=[];p!==null;){var P=p,U=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||U===null||(P=Ef(p,w),P!=null&&A.unshift(H1(p,P,U)),P=Ef(p,m),P!=null&&A.push(H1(p,P,U))),p.tag===3)return A;p=p.return}return[]}function Hae(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function a6(p,m,w,A,P){for(var U=m._reactName,$=[];w!==null&&w!==A;){var ue=w,we=ue.alternate,He=ue.stateNode;if(ue=ue.tag,we!==null&&we===A)break;ue!==5&&ue!==26&&ue!==27||He===null||(we=He,P?(He=Ef(w,U),He!=null&&$.unshift(H1(w,He,we))):P||(He=Ef(w,U),He!=null&&$.push(H1(w,He,we)))),w=w.return}$.length!==0&&p.push({event:m,listeners:$})}var jae=/\r\n?/g,Wae=/\u0000|\uFFFD/g;function o6(p){return(typeof p=="string"?p:""+p).replace(jae,`
`).replace(Wae,"")}function s6(p,m){return m=o6(m),o6(p)===m}function Wr(p,m,w,A,P,U){switch(w){case"children":typeof A=="string"?m==="body"||m==="textarea"&&A===""||Vs(p,A):(typeof A=="number"||typeof A=="bigint")&&m!=="body"&&Vs(p,""+A);break;case"className":ir(p,"class",A);break;case"tabIndex":ir(p,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(p,w,A);break;case"style":C_(p,A,U);break;case"data":if(m!=="object"){ir(p,"data",A);break}case"src":case"href":if(A===""&&(m!=="a"||w!=="href")){p.removeAttribute(w);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){p.removeAttribute(w);break}A=Jp(""+A),p.setAttribute(w,A);break;case"action":case"formAction":if(typeof A=="function"){p.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(w==="formAction"?(m!=="input"&&Wr(p,m,"name",P.name,P,null),Wr(p,m,"formEncType",P.formEncType,P,null),Wr(p,m,"formMethod",P.formMethod,P,null),Wr(p,m,"formTarget",P.formTarget,P,null)):(Wr(p,m,"encType",P.encType,P,null),Wr(p,m,"method",P.method,P,null),Wr(p,m,"target",P.target,P,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){p.removeAttribute(w);break}A=Jp(""+A),p.setAttribute(w,A);break;case"onClick":A!=null&&(p.onclick=yl);break;case"onScroll":A!=null&&rr("scroll",p);break;case"onScrollEnd":A!=null&&rr("scrollend",p);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(w=A.__html,w!=null){if(P.children!=null)throw Error(r(60));p.innerHTML=w}}break;case"multiple":p.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":p.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){p.removeAttribute("xlink:href");break}w=Jp(""+A),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?p.setAttribute(w,""+A):p.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?p.setAttribute(w,""):p.removeAttribute(w);break;case"capture":case"download":A===!0?p.setAttribute(w,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?p.setAttribute(w,A):p.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?p.setAttribute(w,A):p.removeAttribute(w);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?p.removeAttribute(w):p.setAttribute(w,A);break;case"popover":rr("beforetoggle",p),rr("toggle",p),Ln(p,"popover",A);break;case"xlinkActuate":ar(p,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":ar(p,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":ar(p,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":ar(p,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":ar(p,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":ar(p,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":ar(p,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":ar(p,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":ar(p,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Ln(p,"is",A);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=Ow.get(w)||w,Ln(p,w,A))}}function eR(p,m,w,A,P,U){switch(w){case"style":C_(p,A,U);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(w=A.__html,w!=null){if(P.children!=null)throw Error(r(60));p.innerHTML=w}}break;case"children":typeof A=="string"?Vs(p,A):(typeof A=="number"||typeof A=="bigint")&&Vs(p,""+A);break;case"onScroll":A!=null&&rr("scroll",p);break;case"onScrollEnd":A!=null&&rr("scrollend",p);break;case"onClick":A!=null&&(p.onclick=yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_t.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(P=w.endsWith("Capture"),m=w.slice(2,P?w.length-7:void 0),U=p[vi]||null,U=U!=null?U[w]:null,typeof U=="function"&&p.removeEventListener(m,U,P),typeof A=="function")){typeof U!="function"&&U!==null&&(w in p?p[w]=null:p.hasAttribute(w)&&p.removeAttribute(w)),p.addEventListener(m,A,P);break e}w in p?p[w]=A:A===!0?p.setAttribute(w,""):Ln(p,w,A)}}}function no(p,m,w){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rr("error",p),rr("load",p);var A=!1,P=!1,U;for(U in w)if(w.hasOwnProperty(U)){var $=w[U];if($!=null)switch(U){case"src":A=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:Wr(p,m,U,$,w,null)}}P&&Wr(p,m,"srcSet",w.srcSet,w,null),A&&Wr(p,m,"src",w.src,w,null);return;case"input":rr("invalid",p);var ue=U=$=P=null,we=null,He=null;for(A in w)if(w.hasOwnProperty(A)){var nt=w[A];if(nt!=null)switch(A){case"name":P=nt;break;case"type":$=nt;break;case"checked":we=nt;break;case"defaultChecked":He=nt;break;case"value":U=nt;break;case"defaultValue":ue=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,m));break;default:Wr(p,m,A,nt,w,null)}}kr(p,U,ue,we,He,$,P,!1);return;case"select":rr("invalid",p),A=$=U=null;for(P in w)if(w.hasOwnProperty(P)&&(ue=w[P],ue!=null))switch(P){case"value":U=ue;break;case"defaultValue":$=ue;break;case"multiple":A=ue;default:Wr(p,m,P,ue,w,null)}m=U,w=$,p.multiple=!!A,m!=null?Hi(p,!!A,m,!1):w!=null&&Hi(p,!!A,w,!0);return;case"textarea":rr("invalid",p),U=P=A=null;for($ in w)if(w.hasOwnProperty($)&&(ue=w[$],ue!=null))switch($){case"value":A=ue;break;case"defaultValue":P=ue;break;case"children":U=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(91));break;default:Wr(p,m,$,ue,w,null)}oi(p,A,P,U);return;case"option":for(we in w)if(w.hasOwnProperty(we)&&(A=w[we],A!=null))switch(we){case"selected":p.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Wr(p,m,we,A,w,null)}return;case"dialog":rr("beforetoggle",p),rr("toggle",p),rr("cancel",p),rr("close",p);break;case"iframe":case"object":rr("load",p);break;case"video":case"audio":for(A=0;A<G1.length;A++)rr(G1[A],p);break;case"image":rr("error",p),rr("load",p);break;case"details":rr("toggle",p);break;case"embed":case"source":case"link":rr("error",p),rr("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(He in w)if(w.hasOwnProperty(He)&&(A=w[He],A!=null))switch(He){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,m));default:Wr(p,m,He,A,w,null)}return;default:if(Kp(m)){for(nt in w)w.hasOwnProperty(nt)&&(A=w[nt],A!==void 0&&eR(p,m,nt,A,w,void 0));return}}for(ue in w)w.hasOwnProperty(ue)&&(A=w[ue],A!=null&&Wr(p,m,ue,A,w,null))}function Yae(p,m,w,A){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,U=null,$=null,ue=null,we=null,He=null,nt=null;for(Qe in w){var lt=w[Qe];if(w.hasOwnProperty(Qe)&&lt!=null)switch(Qe){case"checked":break;case"value":break;case"defaultValue":we=lt;default:A.hasOwnProperty(Qe)||Wr(p,m,Qe,null,A,lt)}}for(var Xe in A){var Qe=A[Xe];if(lt=w[Xe],A.hasOwnProperty(Xe)&&(Qe!=null||lt!=null))switch(Xe){case"type":U=Qe;break;case"name":P=Qe;break;case"checked":He=Qe;break;case"defaultChecked":nt=Qe;break;case"value":$=Qe;break;case"defaultValue":ue=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,m));break;default:Qe!==lt&&Wr(p,m,Xe,Qe,A,lt)}}ml(p,$,ue,we,He,nt,U,P);return;case"select":Qe=$=ue=Xe=null;for(U in w)if(we=w[U],w.hasOwnProperty(U)&&we!=null)switch(U){case"value":break;case"multiple":Qe=we;default:A.hasOwnProperty(U)||Wr(p,m,U,null,A,we)}for(P in A)if(U=A[P],we=w[P],A.hasOwnProperty(P)&&(U!=null||we!=null))switch(P){case"value":Xe=U;break;case"defaultValue":ue=U;break;case"multiple":$=U;default:U!==we&&Wr(p,m,P,U,A,we)}m=ue,w=$,A=Qe,Xe!=null?Hi(p,!!w,Xe,!1):!!A!=!!w&&(m!=null?Hi(p,!!w,m,!0):Hi(p,!!w,w?[]:"",!1));return;case"textarea":Qe=Xe=null;for(ue in w)if(P=w[ue],w.hasOwnProperty(ue)&&P!=null&&!A.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:Wr(p,m,ue,null,A,P)}for($ in A)if(P=A[$],U=w[$],A.hasOwnProperty($)&&(P!=null||U!=null))switch($){case"value":Xe=P;break;case"defaultValue":Qe=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:P!==U&&Wr(p,m,$,P,A,U)}ji(p,Xe,Qe);return;case"option":for(var qt in w)if(Xe=w[qt],w.hasOwnProperty(qt)&&Xe!=null&&!A.hasOwnProperty(qt))switch(qt){case"selected":p.selected=!1;break;default:Wr(p,m,qt,null,A,Xe)}for(we in A)if(Xe=A[we],Qe=w[we],A.hasOwnProperty(we)&&Xe!==Qe&&(Xe!=null||Qe!=null))switch(we){case"selected":p.selected=Xe&&typeof Xe!="function"&&typeof Xe!="symbol";break;default:Wr(p,m,we,Xe,A,Qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yn in w)Xe=w[yn],w.hasOwnProperty(yn)&&Xe!=null&&!A.hasOwnProperty(yn)&&Wr(p,m,yn,null,A,Xe);for(He in A)if(Xe=A[He],Qe=w[He],A.hasOwnProperty(He)&&Xe!==Qe&&(Xe!=null||Qe!=null))switch(He){case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(r(137,m));break;default:Wr(p,m,He,Xe,A,Qe)}return;default:if(Kp(m)){for(var Yr in w)Xe=w[Yr],w.hasOwnProperty(Yr)&&Xe!==void 0&&!A.hasOwnProperty(Yr)&&eR(p,m,Yr,void 0,A,Xe);for(nt in A)Xe=A[nt],Qe=w[nt],!A.hasOwnProperty(nt)||Xe===Qe||Xe===void 0&&Qe===void 0||eR(p,m,nt,Xe,A,Qe);return}}for(var ke in w)Xe=w[ke],w.hasOwnProperty(ke)&&Xe!=null&&!A.hasOwnProperty(ke)&&Wr(p,m,ke,null,A,Xe);for(lt in A)Xe=A[lt],Qe=w[lt],!A.hasOwnProperty(lt)||Xe===Qe||Xe==null&&Qe==null||Wr(p,m,lt,Xe,A,Qe)}function l6(p){switch(p){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xae(){if(typeof performance.getEntriesByType=="function"){for(var p=0,m=0,w=performance.getEntriesByType("resource"),A=0;A<w.length;A++){var P=w[A],U=P.transferSize,$=P.initiatorType,ue=P.duration;if(U&&ue&&l6($)){for($=0,ue=P.responseEnd,A+=1;A<w.length;A++){var we=w[A],He=we.startTime;if(He>ue)break;var nt=we.transferSize,lt=we.initiatorType;nt&&l6(lt)&&(we=we.responseEnd,$+=nt*(we<ue?1:(ue-He)/(we-He)))}if(--A,m+=8*(U+$)/(P.duration/1e3),p++,10<p)break}}if(0<p)return m/p/1e6}return navigator.connection&&(p=navigator.connection.downlink,typeof p=="number")?p:5}var tR=null,nR=null;function UT(p){return p.nodeType===9?p:p.ownerDocument}function u6(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c6(p,m){if(p===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&m==="foreignObject"?0:p}function rR(p,m){return p==="textarea"||p==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var iR=null;function qae(){var p=window.event;return p&&p.type==="popstate"?p===iR?!1:(iR=p,!0):(iR=null,!1)}var f6=typeof setTimeout=="function"?setTimeout:void 0,Zae=typeof clearTimeout=="function"?clearTimeout:void 0,h6=typeof Promise=="function"?Promise:void 0,Kae=typeof queueMicrotask=="function"?queueMicrotask:typeof h6<"u"?function(p){return h6.resolve(null).then(p).catch(Jae)}:f6;function Jae(p){setTimeout(function(){throw p})}function Rd(p){return p==="head"}function d6(p,m){var w=m,A=0;do{var P=w.nextSibling;if(p.removeChild(w),P&&P.nodeType===8)if(w=P.data,w==="/$"||w==="/&"){if(A===0){p.removeChild(P),j0(m);return}A--}else if(w==="$"||w==="$?"||w==="$~"||w==="$!"||w==="&")A++;else if(w==="html")j1(p.ownerDocument.documentElement);else if(w==="head"){w=p.ownerDocument.head,j1(w);for(var U=w.firstChild;U;){var $=U.nextSibling,ue=U.nodeName;U[lu]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&U.rel.toLowerCase()==="stylesheet"||w.removeChild(U),U=$}}else w==="body"&&j1(p.ownerDocument.body);w=P}while(w);j0(m)}function p6(p,m){var w=p;p=0;do{var A=w.nextSibling;if(w.nodeType===1?m?(w._stashedDisplay=w.style.display,w.style.display="none"):(w.style.display=w._stashedDisplay||"",w.getAttribute("style")===""&&w.removeAttribute("style")):w.nodeType===3&&(m?(w._stashedText=w.nodeValue,w.nodeValue=""):w.nodeValue=w._stashedText||""),A&&A.nodeType===8)if(w=A.data,w==="/$"){if(p===0)break;p--}else w!=="$"&&w!=="$?"&&w!=="$~"&&w!=="$!"||p++;w=A}while(w)}function aR(p){var m=p.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var w=m;switch(m=m.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":aR(w),Af(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}p.removeChild(w)}}function Qae(p,m,w,A){for(;p.nodeType===1;){var P=w;if(p.nodeName.toLowerCase()!==m.toLowerCase()){if(!A&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(A){if(!p[lu])switch(m){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(U=p.getAttribute("rel"),U==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(U!==P.rel||p.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||p.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||p.getAttribute("title")!==(P.title==null?null:P.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(U=p.getAttribute("src"),(U!==(P.src==null?null:P.src)||p.getAttribute("type")!==(P.type==null?null:P.type)||p.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&U&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(m==="input"&&p.type==="hidden"){var U=P.name==null?null:""+P.name;if(P.type==="hidden"&&p.getAttribute("name")===U)return p}else return p;if(p=Pl(p.nextSibling),p===null)break}return null}function $ae(p,m,w){if(m==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!w||(p=Pl(p.nextSibling),p===null))return null;return p}function v6(p,m){for(;p.nodeType!==8;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!m||(p=Pl(p.nextSibling),p===null))return null;return p}function oR(p){return p.data==="$?"||p.data==="$~"}function sR(p){return p.data==="$!"||p.data==="$?"&&p.ownerDocument.readyState!=="loading"}function eoe(p,m){var w=p.ownerDocument;if(p.data==="$~")p._reactRetry=m;else if(p.data!=="$?"||w.readyState!=="loading")m();else{var A=function(){m(),w.removeEventListener("DOMContentLoaded",A)};w.addEventListener("DOMContentLoaded",A),p._reactRetry=A}}function Pl(p){for(;p!=null;p=p.nextSibling){var m=p.nodeType;if(m===1||m===3)break;if(m===8){if(m=p.data,m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"||m==="F!"||m==="F")break;if(m==="/$"||m==="/&")return null}}return p}var lR=null;function g6(p){p=p.nextSibling;for(var m=0;p;){if(p.nodeType===8){var w=p.data;if(w==="/$"||w==="/&"){if(m===0)return Pl(p.nextSibling);m--}else w!=="$"&&w!=="$!"&&w!=="$?"&&w!=="$~"&&w!=="&"||m++}p=p.nextSibling}return null}function m6(p){p=p.previousSibling;for(var m=0;p;){if(p.nodeType===8){var w=p.data;if(w==="$"||w==="$!"||w==="$?"||w==="$~"||w==="&"){if(m===0)return p;m--}else w!=="/$"&&w!=="/&"||m++}p=p.previousSibling}return null}function y6(p,m,w){switch(m=UT(w),p){case"html":if(p=m.documentElement,!p)throw Error(r(452));return p;case"head":if(p=m.head,!p)throw Error(r(453));return p;case"body":if(p=m.body,!p)throw Error(r(454));return p;default:throw Error(r(451))}}function j1(p){for(var m=p.attributes;m.length;)p.removeAttributeNode(m[0]);Af(p)}var zl=new Map,x6=new Set;function VT(p){return typeof p.getRootNode=="function"?p.getRootNode():p.nodeType===9?p:p.ownerDocument}var eh=W.d;W.d={f:toe,r:noe,D:roe,C:ioe,L:aoe,m:ooe,X:loe,S:soe,M:uoe};function toe(){var p=eh.f(),m=ce();return p||m}function noe(p){var m=le(p);m!==null&&m.tag===5&&m.type==="form"?I1(m):eh.r(p)}var F0=typeof document>"u"?null:document;function _6(p,m,w){var A=F0;if(A&&typeof m=="string"&&m){var P=zr(m);P='link[rel="'+p+'"][href="'+P+'"]',typeof w=="string"&&(P+='[crossorigin="'+w+'"]'),x6.has(P)||(x6.add(P),p={rel:p,crossOrigin:w,href:m},A.querySelector(P)===null&&(m=A.createElement("link"),no(m,"link",p),Ve(m),A.head.appendChild(m)))}}function roe(p){eh.D(p),_6("dns-prefetch",p,null)}function ioe(p,m){eh.C(p,m),_6("preconnect",p,m)}function aoe(p,m,w){eh.L(p,m,w);var A=F0;if(A&&p&&m){var P='link[rel="preload"][as="'+zr(m)+'"]';m==="image"&&w&&w.imageSrcSet?(P+='[imagesrcset="'+zr(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(P+='[imagesizes="'+zr(w.imageSizes)+'"]')):P+='[href="'+zr(p)+'"]';var U=P;switch(m){case"style":U=G0(p);break;case"script":U=H0(p)}zl.has(U)||(p=f({rel:"preload",href:m==="image"&&w&&w.imageSrcSet?void 0:p,as:m},w),zl.set(U,p),A.querySelector(P)!==null||m==="style"&&A.querySelector(W1(U))||m==="script"&&A.querySelector(Y1(U))||(m=A.createElement("link"),no(m,"link",p),Ve(m),A.head.appendChild(m)))}}function ooe(p,m){eh.m(p,m);var w=F0;if(w&&p){var A=m&&typeof m.as=="string"?m.as:"script",P='link[rel="modulepreload"][as="'+zr(A)+'"][href="'+zr(p)+'"]',U=P;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=H0(p)}if(!zl.has(U)&&(p=f({rel:"modulepreload",href:p},m),zl.set(U,p),w.querySelector(P)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(Y1(U)))return}A=w.createElement("link"),no(A,"link",p),Ve(A),w.head.appendChild(A)}}}function soe(p,m,w){eh.S(p,m,w);var A=F0;if(A&&p){var P=Ye(A).hoistableStyles,U=G0(p);m=m||"default";var $=P.get(U);if(!$){var ue={loading:0,preload:null};if($=A.querySelector(W1(U)))ue.loading=5;else{p=f({rel:"stylesheet",href:p,"data-precedence":m},w),(w=zl.get(U))&&uR(p,w);var we=$=A.createElement("link");Ve(we),no(we,"link",p),we._p=new Promise(function(He,nt){we.onload=He,we.onerror=nt}),we.addEventListener("load",function(){ue.loading|=1}),we.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,FT($,m,A)}$={type:"stylesheet",instance:$,count:1,state:ue},P.set(U,$)}}}function loe(p,m){eh.X(p,m);var w=F0;if(w&&p){var A=Ye(w).hoistableScripts,P=H0(p),U=A.get(P);U||(U=w.querySelector(Y1(P)),U||(p=f({src:p,async:!0},m),(m=zl.get(P))&&cR(p,m),U=w.createElement("script"),Ve(U),no(U,"link",p),w.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},A.set(P,U))}}function uoe(p,m){eh.M(p,m);var w=F0;if(w&&p){var A=Ye(w).hoistableScripts,P=H0(p),U=A.get(P);U||(U=w.querySelector(Y1(P)),U||(p=f({src:p,async:!0,type:"module"},m),(m=zl.get(P))&&cR(p,m),U=w.createElement("script"),Ve(U),no(U,"link",p),w.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},A.set(P,U))}}function b6(p,m,w,A){var P=(P=pe.current)?VT(P):null;if(!P)throw Error(r(446));switch(p){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(m=G0(w.href),w=Ye(P).hoistableStyles,A=w.get(m),A||(A={type:"style",instance:null,count:0,state:null},w.set(m,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){p=G0(w.href);var U=Ye(P).hoistableStyles,$=U.get(p);if($||(P=P.ownerDocument||P,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(p,$),(U=P.querySelector(W1(p)))&&!U._p&&($.instance=U,$.state.loading=5),zl.has(p)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},zl.set(p,w),U||coe(P,p,w,$.state))),m&&A===null)throw Error(r(528,""));return $}if(m&&A!==null)throw Error(r(529,""));return null;case"script":return m=w.async,w=w.src,typeof w=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=H0(w),w=Ye(P).hoistableScripts,A=w.get(m),A||(A={type:"script",instance:null,count:0,state:null},w.set(m,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,p))}}function G0(p){return'href="'+zr(p)+'"'}function W1(p){return'link[rel="stylesheet"]['+p+"]"}function S6(p){return f({},p,{"data-precedence":p.precedence,precedence:null})}function coe(p,m,w,A){p.querySelector('link[rel="preload"][as="style"]['+m+"]")?A.loading=1:(m=p.createElement("link"),A.preload=m,m.addEventListener("load",function(){return A.loading|=1}),m.addEventListener("error",function(){return A.loading|=2}),no(m,"link",w),Ve(m),p.head.appendChild(m))}function H0(p){return'[src="'+zr(p)+'"]'}function Y1(p){return"script[async]"+p}function w6(p,m,w){if(m.count++,m.instance===null)switch(m.type){case"style":var A=p.querySelector('style[data-href~="'+zr(w.href)+'"]');if(A)return m.instance=A,Ve(A),A;var P=f({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return A=(p.ownerDocument||p).createElement("style"),Ve(A),no(A,"style",P),FT(A,w.precedence,p),m.instance=A;case"stylesheet":P=G0(w.href);var U=p.querySelector(W1(P));if(U)return m.state.loading|=4,m.instance=U,Ve(U),U;A=S6(w),(P=zl.get(P))&&uR(A,P),U=(p.ownerDocument||p).createElement("link"),Ve(U);var $=U;return $._p=new Promise(function(ue,we){$.onload=ue,$.onerror=we}),no(U,"link",A),m.state.loading|=4,FT(U,w.precedence,p),m.instance=U;case"script":return U=H0(w.src),(P=p.querySelector(Y1(U)))?(m.instance=P,Ve(P),P):(A=w,(P=zl.get(U))&&(A=f({},w),cR(A,P)),p=p.ownerDocument||p,P=p.createElement("script"),Ve(P),no(P,"link",A),p.head.appendChild(P),m.instance=P);case"void":return null;default:throw Error(r(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(A=m.instance,m.state.loading|=4,FT(A,w.precedence,p));return m.instance}function FT(p,m,w){for(var A=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=A.length?A[A.length-1]:null,U=P,$=0;$<A.length;$++){var ue=A[$];if(ue.dataset.precedence===m)U=ue;else if(U!==P)break}U?U.parentNode.insertBefore(p,U.nextSibling):(m=w.nodeType===9?w.head:w,m.insertBefore(p,m.firstChild))}function uR(p,m){p.crossOrigin==null&&(p.crossOrigin=m.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=m.referrerPolicy),p.title==null&&(p.title=m.title)}function cR(p,m){p.crossOrigin==null&&(p.crossOrigin=m.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=m.referrerPolicy),p.integrity==null&&(p.integrity=m.integrity)}var GT=null;function T6(p,m,w){if(GT===null){var A=new Map,P=GT=new Map;P.set(w,A)}else P=GT,A=P.get(w),A||(A=new Map,P.set(w,A));if(A.has(p))return A;for(A.set(p,null),w=w.getElementsByTagName(p),P=0;P<w.length;P++){var U=w[P];if(!(U[lu]||U[Vn]||p==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var $=U.getAttribute(m)||"";$=p+$;var ue=A.get($);ue?ue.push(U):A.set($,[U])}}return A}function M6(p,m,w){p=p.ownerDocument||p,p.head.insertBefore(w,m==="title"?p.querySelector("head > title"):null)}function foe(p,m,w){if(w===1||m.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return p=m.disabled,typeof m.precedence=="string"&&p==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function A6(p){return!(p.type==="stylesheet"&&(p.state.loading&3)===0)}function hoe(p,m,w,A){if(w.type==="stylesheet"&&(typeof A.media!="string"||matchMedia(A.media).matches!==!1)&&(w.state.loading&4)===0){if(w.instance===null){var P=G0(A.href),U=m.querySelector(W1(P));if(U){m=U._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(p.count++,p=HT.bind(p),m.then(p,p)),w.state.loading|=4,w.instance=U,Ve(U);return}U=m.ownerDocument||m,A=S6(A),(P=zl.get(P))&&uR(A,P),U=U.createElement("link"),Ve(U);var $=U;$._p=new Promise(function(ue,we){$.onload=ue,$.onerror=we}),no(U,"link",A),w.instance=U}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(w,m),(m=w.state.preload)&&(w.state.loading&3)===0&&(p.count++,w=HT.bind(p),m.addEventListener("load",w),m.addEventListener("error",w))}}var fR=0;function doe(p,m){return p.stylesheets&&p.count===0&&WT(p,p.stylesheets),0<p.count||0<p.imgCount?function(w){var A=setTimeout(function(){if(p.stylesheets&&WT(p,p.stylesheets),p.unsuspend){var U=p.unsuspend;p.unsuspend=null,U()}},6e4+m);0<p.imgBytes&&fR===0&&(fR=62500*Xae());var P=setTimeout(function(){if(p.waitingForImages=!1,p.count===0&&(p.stylesheets&&WT(p,p.stylesheets),p.unsuspend)){var U=p.unsuspend;p.unsuspend=null,U()}},(p.imgBytes>fR?50:800)+m);return p.unsuspend=w,function(){p.unsuspend=null,clearTimeout(A),clearTimeout(P)}}:null}function HT(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)WT(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var jT=null;function WT(p,m){p.stylesheets=null,p.unsuspend!==null&&(p.count++,jT=new Map,m.forEach(poe,p),jT=null,HT.call(p))}function poe(p,m){if(!(m.state.loading&4)){var w=jT.get(p);if(w)var A=w.get(null);else{w=new Map,jT.set(p,w);for(var P=p.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<P.length;U++){var $=P[U];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(w.set($.dataset.precedence,$),A=$)}A&&w.set(null,A)}P=m.instance,$=P.getAttribute("data-precedence"),U=w.get($)||A,U===A&&w.set(null,P),w.set($,P),this.count++,A=HT.bind(this),P.addEventListener("load",A),P.addEventListener("error",A),U?U.parentNode.insertBefore(P,U.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(P,p.firstChild)),m.state.loading|=4}}var X1={$$typeof:T,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function voe(p,m,w,A,P,U,$,ue,we){this.tag=1,this.containerInfo=p,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=A,this.onUncaughtError=P,this.onCaughtError=U,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=we,this.incompleteTransitions=new Map}function C6(p,m,w,A,P,U,$,ue,we,He,nt,lt){return p=new voe(p,m,w,$,we,He,nt,lt,ue),m=1,U===!0&&(m|=24),U=Ka(3,null,null,m),p.current=U,U.stateNode=p,m=t1(),m.refCount++,p.pooledCache=m,m.refCount++,U.memoizedState={element:A,isDehydrated:w,cache:m},s1(U),p}function E6(p){return p?(p=xc,p):xc}function D6(p,m,w,A,P,U){P=E6(P),A.context===null?A.context=P:A.pendingContext=P,A=Al(m),A.payload={element:w},U=U===void 0?null:U,U!==null&&(A.callback=U),w=_u(p,A,m),w!==null&&(S(w,p,m),Cc(w,p,m))}function N6(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var w=p.retryLane;p.retryLane=w!==0&&w<m?w:m}}function hR(p,m){N6(p,m),(p=p.alternate)&&N6(p,m)}function R6(p){if(p.tag===13||p.tag===31){var m=yc(p,67108864);m!==null&&S(m,p,67108864),hR(p,67108864)}}function L6(p){if(p.tag===13||p.tag===31){var m=to();m=ni(m);var w=yc(p,m);w!==null&&S(w,p,m),hR(p,m)}}var YT=!0;function goe(p,m,w,A){var P=H.T;H.T=null;var U=W.p;try{W.p=2,dR(p,m,w,A)}finally{W.p=U,H.T=P}}function moe(p,m,w,A){var P=H.T;H.T=null;var U=W.p;try{W.p=8,dR(p,m,w,A)}finally{W.p=U,H.T=P}}function dR(p,m,w,A){if(YT){var P=pR(A);if(P===null)$N(p,m,A,XT,w),O6(p,A);else if(xoe(P,p,m,w,A))A.stopPropagation();else if(O6(p,A),m&4&&-1<yoe.indexOf(p)){for(;P!==null;){var U=le(P);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var $=rt(U.pendingLanes);if($!==0){var ue=U;for(ue.pendingLanes|=2,ue.entangledLanes|=2;$;){var we=1<<31-ye($);ue.entanglements[1]|=we,$&=~we}zc(U),(or&6)===0&&(ns=ee()+500,F1(0))}}break;case 31:case 13:ue=yc(U,2),ue!==null&&S(ue,U,2),ce(),hR(U,2)}if(U=pR(A),U===null&&$N(p,m,A,XT,w),U===P)break;P=U}P!==null&&A.stopPropagation()}else $N(p,m,A,null,w)}}function pR(p){return p=Vm(p),vR(p)}var XT=null;function vR(p){if(XT=null,p=gi(p),p!==null){var m=a(p);if(m===null)p=null;else{var w=m.tag;if(w===13){if(p=o(m),p!==null)return p;p=null}else if(w===31){if(p=s(m),p!==null)return p;p=null}else if(w===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;p=null}else m!==p&&(p=null)}}return XT=p,null}function I6(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case Ne:return 2;case qe:return 8;case Ie:case Mt:return 32;case xt:return 268435456;default:return 32}default:return 32}}var gR=!1,Ld=null,Id=null,Od=null,q1=new Map,Z1=new Map,Pd=[],yoe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O6(p,m){switch(p){case"focusin":case"focusout":Ld=null;break;case"dragenter":case"dragleave":Id=null;break;case"mouseover":case"mouseout":Od=null;break;case"pointerover":case"pointerout":q1.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Z1.delete(m.pointerId)}}function K1(p,m,w,A,P,U){return p===null||p.nativeEvent!==U?(p={blockedOn:m,domEventName:w,eventSystemFlags:A,nativeEvent:U,targetContainers:[P]},m!==null&&(m=le(m),m!==null&&R6(m)),p):(p.eventSystemFlags|=A,m=p.targetContainers,P!==null&&m.indexOf(P)===-1&&m.push(P),p)}function xoe(p,m,w,A,P){switch(m){case"focusin":return Ld=K1(Ld,p,m,w,A,P),!0;case"dragenter":return Id=K1(Id,p,m,w,A,P),!0;case"mouseover":return Od=K1(Od,p,m,w,A,P),!0;case"pointerover":var U=P.pointerId;return q1.set(U,K1(q1.get(U)||null,p,m,w,A,P)),!0;case"gotpointercapture":return U=P.pointerId,Z1.set(U,K1(Z1.get(U)||null,p,m,w,A,P)),!0}return!1}function P6(p){var m=gi(p.target);if(m!==null){var w=a(m);if(w!==null){if(m=w.tag,m===13){if(m=o(w),m!==null){p.blockedOn=m,Fi(p.priority,function(){L6(w)});return}}else if(m===31){if(m=s(w),m!==null){p.blockedOn=m,Fi(p.priority,function(){L6(w)});return}}else if(m===3&&w.stateNode.current.memoizedState.isDehydrated){p.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}p.blockedOn=null}function qT(p){if(p.blockedOn!==null)return!1;for(var m=p.targetContainers;0<m.length;){var w=pR(p.nativeEvent);if(w===null){w=p.nativeEvent;var A=new w.constructor(w.type,w);Qp=A,w.target.dispatchEvent(A),Qp=null}else return m=le(w),m!==null&&R6(m),p.blockedOn=w,!1;m.shift()}return!0}function z6(p,m,w){qT(p)&&w.delete(m)}function _oe(){gR=!1,Ld!==null&&qT(Ld)&&(Ld=null),Id!==null&&qT(Id)&&(Id=null),Od!==null&&qT(Od)&&(Od=null),q1.forEach(z6),Z1.forEach(z6)}function ZT(p,m){p.blockedOn===m&&(p.blockedOn=null,gR||(gR=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_oe)))}var KT=null;function k6(p){KT!==p&&(KT=p,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){KT===p&&(KT=null);for(var m=0;m<p.length;m+=3){var w=p[m],A=p[m+1],P=p[m+2];if(typeof A!="function"){if(vR(A||w)===null)continue;break}var U=le(w);U!==null&&(p.splice(m,3),m-=3,L1(U,{pending:!0,data:P,method:w.method,action:A},A,P))}}))}function j0(p){function m(we){return ZT(we,p)}Ld!==null&&ZT(Ld,p),Id!==null&&ZT(Id,p),Od!==null&&ZT(Od,p),q1.forEach(m),Z1.forEach(m);for(var w=0;w<Pd.length;w++){var A=Pd[w];A.blockedOn===p&&(A.blockedOn=null)}for(;0<Pd.length&&(w=Pd[0],w.blockedOn===null);)P6(w),w.blockedOn===null&&Pd.shift();if(w=(p.ownerDocument||p).$$reactFormReplay,w!=null)for(A=0;A<w.length;A+=3){var P=w[A],U=w[A+1],$=P[vi]||null;if(typeof U=="function")$||k6(w);else if($){var ue=null;if(U&&U.hasAttribute("formAction")){if(P=U,$=U[vi]||null)ue=$.formAction;else if(vR(P)!==null)continue}else ue=$.action;typeof ue=="function"?w[A+1]=ue:(w.splice(A,3),A-=3),k6(w)}}}function B6(){function p(U){U.canIntercept&&U.info==="react-transition"&&U.intercept({handler:function(){return new Promise(function($){return P=$})},focusReset:"manual",scroll:"manual"})}function m(){P!==null&&(P(),P=null),A||setTimeout(w,20)}function w(){if(!A&&!navigation.transition){var U=navigation.currentEntry;U&&U.url!=null&&navigation.navigate(U.url,{state:U.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var A=!1,P=null;return navigation.addEventListener("navigate",p),navigation.addEventListener("navigatesuccess",m),navigation.addEventListener("navigateerror",m),setTimeout(w,100),function(){A=!0,navigation.removeEventListener("navigate",p),navigation.removeEventListener("navigatesuccess",m),navigation.removeEventListener("navigateerror",m),P!==null&&(P(),P=null)}}}function mR(p){this._internalRoot=p}JT.prototype.render=mR.prototype.render=function(p){var m=this._internalRoot;if(m===null)throw Error(r(409));var w=m.current,A=to();D6(w,A,p,m,null,null)},JT.prototype.unmount=mR.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var m=p.containerInfo;D6(p.current,2,null,p,null,null),ce(),m[Us]=null}};function JT(p){this._internalRoot=p}JT.prototype.unstable_scheduleHydration=function(p){if(p){var m=pi();p={blockedOn:null,target:p,priority:m};for(var w=0;w<Pd.length&&m!==0&&m<Pd[w].priority;w++);Pd.splice(w,0,p),w===0&&P6(p)}};var U6=e.version;if(U6!=="19.2.0")throw Error(r(527,U6,"19.2.0"));W.findDOMNode=function(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=u(m),p=p!==null?c(p):null,p=p===null?null:p.stateNode,p};var boe={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var QT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!QT.isDisabled&&QT.supportsFiber)try{Je=QT.inject(boe),ut=QT}catch{}}return Q1.createRoot=function(p,m){if(!i(p))throw Error(r(299));var w=!1,A="",P=z1,U=NT,$=C0;return m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(P=m.onUncaughtError),m.onCaughtError!==void 0&&(U=m.onCaughtError),m.onRecoverableError!==void 0&&($=m.onRecoverableError)),m=C6(p,1,!1,null,null,w,A,null,P,U,$,B6),p[Us]=m.current,QN(p),new mR(m)},Q1.hydrateRoot=function(p,m,w){if(!i(p))throw Error(r(299));var A=!1,P="",U=z1,$=NT,ue=C0,we=null;return w!=null&&(w.unstable_strictMode===!0&&(A=!0),w.identifierPrefix!==void 0&&(P=w.identifierPrefix),w.onUncaughtError!==void 0&&(U=w.onUncaughtError),w.onCaughtError!==void 0&&($=w.onCaughtError),w.onRecoverableError!==void 0&&(ue=w.onRecoverableError),w.formState!==void 0&&(we=w.formState)),m=C6(p,1,!0,m,w??null,A,P,we,U,$,ue,B6),m.context=E6(null),w=m.current,A=to(),A=ni(A),P=Al(A),P.callback=null,_u(w,P,A),w=A,m.current.lanes=w,br(m,w),zc(m),p[Us]=m.current,QN(p),new JT(m)},Q1.version="19.2.0",Q1}var Z6;function Noe(){if(Z6)return _R.exports;Z6=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_R.exports=Doe(),_R.exports}var Roe=Noe();const Loe=Xx(Roe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ooe=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),K6=n=>{const e=Ooe(n);return e.charAt(0).toUpperCase()+e.slice(1)},Sq=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Poe=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=fe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>fe.createElement("svg",{ref:l,...zoe,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Sq("lucide",i),...!a&&!Poe(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,c])=>fe.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(n,e)=>{const t=fe.forwardRef(({className:r,...i},a)=>fe.createElement(koe,{ref:a,iconNode:e,className:Sq(`lucide-${Ioe(K6(n))}`,`lucide-${n}`,r),...i}));return t.displayName=K6(n),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],TR=gt("activity",Boe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Voe=gt("archive",Uoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],Goe=gt("arrow-down-up",Foe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],joe=gt("arrow-left",Hoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yoe=gt("arrow-right",Woe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],qoe=gt("arrow-up-right",Xoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Koe=gt("bell",Zoe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Qoe=gt("bot",Joe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],wq=gt("brain-circuit",$oe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],oz=gt("briefcase",ese);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],nse=gt("building-2",tse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bp=gt("calendar",rse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Tq=gt("car",ise);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],ose=gt("chart-no-axes-column-increasing",ase);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],J6=gt("chart-no-axes-column",sse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],use=gt("chart-pie",lse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yl=gt("chevron-down",cse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],m5=gt("chevron-left",fse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_h=gt("chevron-right",hse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],pse=gt("chevrons-left",dse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],gse=gt("chevrons-right",vse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rD=gt("circle-alert",mse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xse=gt("circle-check-big",yse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jS=gt("circle-check",_se);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sse=gt("circle-play",bse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Mq=gt("circle-plus",wse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mse=gt("circle",Tse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Aq=gt("clipboard-list",Ase);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iD=gt("clock",Cse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Dse=gt("code",Ese);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],Rse=gt("command",Nse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Cq=gt("credit-card",Lse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Q6=gt("database",Ise);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Pse=gt("diamond",Ose);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Eq=gt("dollar-sign",zse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Bse=gt("download",kse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Vse=gt("ellipsis-vertical",Use);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],X2=gt("ellipsis",Fse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],sz=gt("flag",Gse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],jse=gt("folder",Hse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Dq=gt("funnel",Wse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Xse=gt("grid-3x3",Yse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Nq=gt("grip-vertical",qse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Kse=gt("hash",Zse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Rq=gt("history",Jse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$se=gt("house",Qse);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],tle=gt("image",ele);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],lz=gt("inbox",nle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ile=gt("info",rle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],ole=gt("kanban",ale);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],lle=gt("layout-dashboard",sle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],uz=gt("layout-grid",ule);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],aD=gt("life-buoy",cle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Lq=gt("list-ordered",fle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],WS=gt("list-todo",hle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ple=gt("list",dle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cz=gt("loader-circle",vle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Iq=gt("log-out",gle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fz=gt("map-pin",mle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Oq=gt("message-square",yle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=[["path",{d:"M5 12h14",key:"1ays0h"}]],dS=gt("minus",xle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ble=gt("package",_le);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],wle=gt("palette",Sle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],YS=gt("panels-top-left",Tle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ale=gt("pen",Mle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ti=gt("plus",Cle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Dle=gt("redo",Ele);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Rle=gt("reply",Nle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Ile=gt("rocket",Lle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hz=gt("search",Ole);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Pq=gt("send",Ple);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GC=gt("settings",zle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ble=gt("share-2",kle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vle=gt("shield",Ule);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],zq=gt("ship",Fle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],kq=gt("shopping-bag",Gle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bq=gt("shopping-cart",Hle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Wle=gt("sliders-horizontal",jle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],sf=gt("sparkles",Yle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qle=gt("square-check-big",Xle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],Kle=gt("square-kanban",Zle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Qle=gt("square",Jle);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],MR=gt("star",$le);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],tue=gt("sticky-note",eue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],y5=gt("store",nue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Uq=gt("table",rue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Vq=gt("target",iue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$g=gt("trash-2",aue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],sue=gt("trending-down",oue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],HC=gt("trending-up",lue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],cue=gt("trophy",uue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],hue=gt("truck",fue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Fq=gt("type",due);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],vue=gt("undo",pue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mue=gt("user",gue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jC=gt("users",yue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],$6=gt("video",xue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Gq=gt("warehouse",_ue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Sue=gt("waves",bue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],AR=gt("wind",wue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Mue=gt("wrench",Tue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],q2=gt("x",Aue);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pS=gt("zap",Cue),Hq=fe.createContext(void 0),pl=()=>{const n=fe.useContext(Hq);return n||{showToast:e=>console.log("Toast:",e)}},Eue=({id:n,message:e,type:t,onClose:r})=>{const i={info:"bg-gray-900 text-white border-gray-800",success:"bg-emerald-600 text-white border-emerald-700",error:"bg-red-600 text-white border-red-700"},a={info:E.jsx(ile,{size:18}),success:E.jsx(xse,{size:18}),error:E.jsx(rD,{size:18})};return E.jsxs("div",{className:`${i[t]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border`,children:[E.jsx("div",{className:"flex-shrink-0",children:a[t]}),E.jsx("span",{className:"text-sm font-medium flex-1",children:e}),E.jsx("button",{onClick:()=>r(n),className:"opacity-70 hover:opacity-100 transition-opacity",children:E.jsx(q2,{size:16})})]})},Due=({children:n})=>{const[e,t]=fe.useState([]),r=fe.useCallback((a,o="info")=>{const s=Date.now();t(l=>[...l,{id:s,message:a,type:o}]),setTimeout(()=>{t(l=>l.filter(u=>u.id!==s))},3e3)},[]),i=a=>{t(o=>o.filter(s=>s.id!==a))};return E.jsxs(Hq.Provider,{value:{showToast:r},children:[n,E.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto",children:e.map(a=>E.jsx(Eue,{...a,onClose:i},a.id))})]})},eM="http://localhost:3001",tM={getSpaces:async()=>(await fetch(`${eM}/spaces`)).json(),createSpace:async n=>{const e={id:`SPACE-${Date.now()}`,name:n,color:"#"+Math.floor(Math.random()*16777215).toString(16)};return(await fetch(`${eM}/spaces`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()},updateSpace:async(n,e)=>{await fetch(`${eM}/spaces/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deleteSpace:async n=>{await fetch(`${eM}/spaces/${n}`,{method:"DELETE"})}},nM="http://localhost:3001",Gg={getTasks:async()=>(await fetch(`${nM}/tasks`)).json(),updateTask:async(n,e)=>(await fetch(`${nM}/tasks/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json(),createTask:async n=>{const e={...n,id:`TASK-${Math.floor(1e3+Math.random()*9e3)}`};return(await fetch(`${nM}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()},deleteTask:async n=>{await fetch(`${nM}/tasks/${n}`,{method:"DELETE"})},deleteTasksBySpaceId:async n=>{const t=(await Gg.getTasks()).filter(r=>r.spaceId===n);await Promise.all(t.map(r=>Gg.deleteTask(r.id)))}};function rM(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var CR={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var e8;function Nue(){return e8||(e8=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(r,i,a){function o(u,c){if(!i[u]){if(!r[u]){var f=typeof rM=="function"&&rM;if(!c&&f)return f(u,!0);if(s)return s(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[u]={exports:{}};r[u][0].call(d.exports,function(v){var g=r[u][1][v];return o(g||v)},d,d.exports,t,r,i,a)}return i[u].exports}for(var s=typeof rM=="function"&&rM,l=0;l<a.length;l++)o(a[l]);return o})({1:[function(t,r,i){var a=t("./utils"),o=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,f,h,d,v,g,y=[],x=0,b=l.length,T=b,M=a.getTypeOf(l)!=="string";x<l.length;)T=b-x,f=M?(u=l[x++],c=x<b?l[x++]:0,x<b?l[x++]:0):(u=l.charCodeAt(x++),c=x<b?l.charCodeAt(x++):0,x<b?l.charCodeAt(x++):0),h=u>>2,d=(3&u)<<4|c>>4,v=1<T?(15&c)<<2|f>>6:64,g=2<T?63&f:64,y.push(s.charAt(h)+s.charAt(d)+s.charAt(v)+s.charAt(g));return y.join("")},i.decode=function(l){var u,c,f,h,d,v,g=0,y=0,x="data:";if(l.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var b,T=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===s.charAt(64)&&T--,l.charAt(l.length-2)===s.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=o.uint8array?new Uint8Array(0|T):new Array(0|T);g<l.length;)u=s.indexOf(l.charAt(g++))<<2|(h=s.indexOf(l.charAt(g++)))>>4,c=(15&h)<<4|(d=s.indexOf(l.charAt(g++)))>>2,f=(3&d)<<6|(v=s.indexOf(l.charAt(g++))),b[y++]=u,d!==64&&(b[y++]=c),v!==64&&(b[y++]=f);return b}},{"./support":30,"./utils":32}],2:[function(t,r,i){var a=t("./external"),o=t("./stream/DataWorker"),s=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(c,f,h,d,v){this.compressedSize=c,this.uncompressedSize=f,this.crc32=h,this.compression=d,this.compressedContent=v}u.prototype={getContentWorker:function(){var c=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,h){return c.pipe(new s).pipe(new l("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var a=t("./utils"),o=(function(){for(var s,l=[],u=0;u<256;u++){s=u;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;l[u]=s}return l})();r.exports=function(s,l){return s!==void 0&&s.length?a.getTypeOf(s)!=="string"?(function(u,c,f,h){var d=o,v=h+f;u^=-1;for(var g=h;g<v;g++)u=u>>>8^d[255&(u^c[g])];return-1^u})(0|l,s,s.length,0):(function(u,c,f,h){var d=o,v=h+f;u^=-1;for(var g=h;g<v;g++)u=u>>>8^d[255&(u^c.charCodeAt(g))];return-1^u})(0|l,s,s.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:a}},{lie:37}],7:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),s=t("./utils"),l=t("./stream/GenericWorker"),u=a?"uint8array":"array";function c(f,h){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}i.magic="\b\0",s.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function a(d,v){var g,y="";for(g=0;g<v;g++)y+=String.fromCharCode(255&d),d>>>=8;return y}function o(d,v,g,y,x,b){var T,M,C=d.file,D=d.compression,R=b!==u.utf8encode,I=s.transformTo("string",b(C.name)),L=s.transformTo("string",u.utf8encode(C.name)),O=C.comment,B=s.transformTo("string",b(O)),V=s.transformTo("string",u.utf8encode(O)),F=L.length!==C.name.length,k=V.length!==O.length,Y="",H="",W="",q=C.dir,K=C.date,re={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(re.crc32=d.crc32,re.compressedSize=d.compressedSize,re.uncompressedSize=d.uncompressedSize);var j=0;v&&(j|=8),R||!F&&!k||(j|=2048);var Q=0,ne=0;q&&(Q|=16),x==="UNIX"?(ne=798,Q|=(function(he,pe){var xe=he;return he||(xe=pe?16893:33204),(65535&xe)<<16})(C.unixPermissions,q)):(ne=20,Q|=(function(he){return 63&(he||0)})(C.dosPermissions)),T=K.getUTCHours(),T<<=6,T|=K.getUTCMinutes(),T<<=5,T|=K.getUTCSeconds()/2,M=K.getUTCFullYear()-1980,M<<=4,M|=K.getUTCMonth()+1,M<<=5,M|=K.getUTCDate(),F&&(H=a(1,1)+a(c(I),4)+L,Y+="up"+a(H.length,2)+H),k&&(W=a(1,1)+a(c(B),4)+V,Y+="uc"+a(W.length,2)+W);var se="";return se+=`
\0`,se+=a(j,2),se+=D.magic,se+=a(T,2),se+=a(M,2),se+=a(re.crc32,4),se+=a(re.compressedSize,4),se+=a(re.uncompressedSize,4),se+=a(I.length,2),se+=a(Y.length,2),{fileRecord:f.LOCAL_FILE_HEADER+se+I+Y,dirRecord:f.CENTRAL_FILE_HEADER+a(ne,2)+se+a(B.length,2)+"\0\0\0\0"+a(Q,4)+a(y,4)+I+Y+B}}var s=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),c=t("../crc32"),f=t("../signature");function h(d,v,g,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=y,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,l),h.prototype.push=function(d){var v=d.meta.percent||0,g=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-y-1))/g:100}}))},h.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var v=this.streamFiles&&!d.file.dir;if(v){var g=o(d,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(d){this.accumulate=!1;var v=this.streamFiles&&!d.file.dir,g=o(d,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:(function(y){return f.DATA_DESCRIPTOR+a(y.crc32,4)+a(y.compressedSize,4)+a(y.uncompressedSize,4)})(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var d=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-d,y=(function(x,b,T,M,C){var D=s.transformTo("string",C(M));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(x,2)+a(x,2)+a(b,4)+a(T,4)+a(D.length,2)+D})(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(d){this._sources.push(d);var v=this;return d.on("data",function(g){v.processChunk(g)}),d.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),d.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(d){var v=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var g=0;g<v.length;g++)try{v[g].error(d)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,v=0;v<d.length;v++)d[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var a=t("../compressions"),o=t("./ZipFileWorker");i.generateWorker=function(s,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{s.forEach(function(h,d){f++;var v=(function(b,T){var M=b||T,C=a[M];if(!C)throw new Error(M+" is not a valid compression method !");return C})(d.options.compression,l.compression),g=d.options.compressionOptions||l.compressionOptions||{},y=d.dir,x=d.date;d._compressWorker(v,g).withStreamInfo("file",{name:h,dir:y,date:x,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(h){c.error(h)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var s in this)typeof this[s]!="function"&&(o[s]=this[s]);return o}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(o,s){return new a().loadAsync(o,s)},a.external=t("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var a=t("./utils"),o=t("./external"),s=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function f(h){return new o.Promise(function(d,v){var g=h.decompressed.getContentWorker().pipe(new u);g.on("error",function(y){v(y)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}r.exports=function(h,d){var v=this;return d=a.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,d.optimizedBinaryString,d.base64).then(function(g){var y=new l(d);return y.load(g),y}).then(function(g){var y=[o.Promise.resolve(g)],x=g.files;if(d.checkCRC32)for(var b=0;b<x.length;b++)y.push(f(x[b]));return o.Promise.all(y)}).then(function(g){for(var y=g.shift(),x=y.files,b=0;b<x.length;b++){var T=x[b],M=T.fileNameStr,C=a.resolve(T.fileNameStr);v.file(C,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:d.createFolders}),T.dir||(v.file(C).unsafeOriginalName=M)}return y.zipComment.length&&(v.comment=y.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var a=t("../utils"),o=t("../stream/GenericWorker");function s(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(s,o),s.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},s.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var a=t("readable-stream").Readable;function o(s,l,u){a.call(this,l),this._helper=s;var c=this;s.on("data",function(f,h){c.push(f)||c._helper.pause(),u&&u(h)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}t("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,r,i){function a(C,D,R){var I,L=s.getTypeOf(D),O=s.extend(R||{},c);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(C=x(C)),O.createFolders&&(I=y(C))&&b.call(this,I,!0);var B=L==="string"&&O.binary===!1&&O.base64===!1;R&&R.binary!==void 0||(O.binary=!B),(D instanceof f&&D.uncompressedSize===0||O.dir||!D||D.length===0)&&(O.base64=!1,O.binary=!0,D="",O.compression="STORE",L="string");var V=null;V=D instanceof f||D instanceof l?D:v.isNode&&v.isStream(D)?new g(C,D):s.prepareContent(C,D,O.binary,O.optimizedBinaryString,O.base64);var F=new h(C,V,O);this.files[C]=F}var o=t("./utf8"),s=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),c=t("./defaults"),f=t("./compressedObject"),h=t("./zipObject"),d=t("./generate"),v=t("./nodejsUtils"),g=t("./nodejs/NodejsStreamInputAdapter"),y=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var D=C.lastIndexOf("/");return 0<D?C.substring(0,D):""},x=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},b=function(C,D){return D=D!==void 0?D:c.createFolders,C=x(C),this.files[C]||a.call(this,C,null,{dir:!0,createFolders:D}),this.files[C]};function T(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var D,R,I;for(D in this.files)I=this.files[D],(R=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&C(R,I)},filter:function(C){var D=[];return this.forEach(function(R,I){C(R,I)&&D.push(I)}),D},file:function(C,D,R){if(arguments.length!==1)return C=this.root+C,a.call(this,C,D,R),this;if(T(C)){var I=C;return this.filter(function(O,B){return!B.dir&&I.test(O)})}var L=this.files[this.root+C];return L&&!L.dir?L:null},folder:function(C){if(!C)return this;if(T(C))return this.filter(function(L,O){return O.dir&&C.test(L)});var D=this.root+C,R=b.call(this,D),I=this.clone();return I.root=R.name,I},remove:function(C){C=this.root+C;var D=this.files[C];if(D||(C.slice(-1)!=="/"&&(C+="/"),D=this.files[C]),D&&!D.dir)delete this.files[C];else for(var R=this.filter(function(L,O){return O.name.slice(0,C.length)===C}),I=0;I<R.length;I++)delete this.files[R[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var D,R={};try{if((R=s.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");s.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var I=R.comment||this.comment||"";D=d.generateWorker(this,R,I)}catch(L){(D=new l("error")).error(L)}return new u(D,R.type||"string",R.mimeType)},generateAsync:function(C,D){return this.generateInternalStream(C).accumulate(D)},generateNodeStream:function(C,D){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(D)}};r.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var a=t("./DataReader");function o(s){a.call(this,s);for(var l=0;l<this.data.length;l++)s[l]=255&s[l]}t("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data[this.zero+s]},o.prototype.lastIndexOfSignature=function(s){for(var l=s.charCodeAt(0),u=s.charCodeAt(1),c=s.charCodeAt(2),f=s.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===c&&this.data[h+3]===f)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(s){var l=s.charCodeAt(0),u=s.charCodeAt(1),c=s.charCodeAt(2),f=s.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&c===h[2]&&f===h[3]},o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var a=t("../utils");function o(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var l,u=0;for(this.checkOffset(s),l=this.index+s-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=s,u},readString:function(s){return a.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},r.exports=o},{"../utils":32}],19:[function(t,r,i){var a=t("./Uint8ArrayReader");function o(s){a.call(this,s)}t("../utils").inherits(o,a),o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var a=t("./DataReader");function o(s){a.call(this,s)}t("../utils").inherits(o,a),o.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},o.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},o.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},o.prototype.readData=function(s){this.checkOffset(s);var l=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var a=t("./ArrayReader");function o(s){a.call(this,s)}t("../utils").inherits(o,a),o.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var a=t("../utils"),o=t("../support"),s=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");r.exports=function(f){var h=a.getTypeOf(f);return a.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(f):o.uint8array?new c(a.transformTo("uint8array",f)):new s(a.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var a=t("./GenericWorker"),o=t("../utils");function s(l){a.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(s,a),s.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var a=t("./GenericWorker"),o=t("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,a),s.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var a=t("../utils"),o=t("./GenericWorker");function s(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(s,o),s.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var a=t("../utils"),o=t("./GenericWorker");function s(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=a.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}a.inherits(s,o),s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,s){return this._listeners[o].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,s){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,s)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var s=this;return o.on("data",function(l){s.processChunk(l)}),o.on("end",function(){s.end()}),o.on("error",function(l){s.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,s){return this.extraStreamInfo[o]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=a},{}],29:[function(t,r,i){var a=t("../utils"),o=t("./ConvertWorker"),s=t("./GenericWorker"),l=t("../base64"),u=t("../support"),c=t("../external"),f=null;if(u.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new c.Promise(function(y,x){var b=[],T=v._internalType,M=v._outputType,C=v._mimeType;v.on("data",function(D,R){b.push(D),g&&g(R)}).on("error",function(D){b=[],x(D)}).on("end",function(){try{var D=(function(R,I,L){switch(R){case"blob":return a.newBlob(a.transformTo("arraybuffer",I),L);case"base64":return l.encode(I);default:return a.transformTo(R,I)}})(M,(function(R,I){var L,O=0,B=null,V=0;for(L=0;L<I.length;L++)V+=I[L].length;switch(R){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(B=new Uint8Array(V),L=0;L<I.length;L++)B.set(I[L],O),O+=I[L].length;return B;case"nodebuffer":return Buffer.concat(I);default:throw new Error("concat : unsupported type '"+R+"'")}})(T,b),C);y(D)}catch(R){x(R)}b=[]}).resume()})}function d(v,g,y){var x=g;switch(g){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=g,this._mimeType=y,a.checkSupport(x),this._worker=v.pipe(new o(x)),v.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}d.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var y=this;return v==="data"?this._worker.on(v,function(x){g.call(y,x.data,x.meta)}):this._worker.on(v,function(){a.delay(g,arguments,y)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var a=t("./utils"),o=t("./support"),s=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return o.nodebuffer?s.newBufferFrom(d,"utf-8"):(function(v){var g,y,x,b,T,M=v.length,C=0;for(b=0;b<M;b++)(64512&(y=v.charCodeAt(b)))==55296&&b+1<M&&(64512&(x=v.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(x-56320),b++),C+=y<128?1:y<2048?2:y<65536?3:4;for(g=o.uint8array?new Uint8Array(C):new Array(C),b=T=0;T<C;b++)(64512&(y=v.charCodeAt(b)))==55296&&b+1<M&&(64512&(x=v.charCodeAt(b+1)))==56320&&(y=65536+(y-55296<<10)+(x-56320),b++),y<128?g[T++]=y:(y<2048?g[T++]=192|y>>>6:(y<65536?g[T++]=224|y>>>12:(g[T++]=240|y>>>18,g[T++]=128|y>>>12&63),g[T++]=128|y>>>6&63),g[T++]=128|63&y);return g})(d)},i.utf8decode=function(d){return o.nodebuffer?a.transformTo("nodebuffer",d).toString("utf-8"):(function(v){var g,y,x,b,T=v.length,M=new Array(2*T);for(g=y=0;g<T;)if((x=v[g++])<128)M[y++]=x;else if(4<(b=u[x]))M[y++]=65533,g+=b-1;else{for(x&=b===2?31:b===3?15:7;1<b&&g<T;)x=x<<6|63&v[g++],b--;1<b?M[y++]=65533:x<65536?M[y++]=x:(x-=65536,M[y++]=55296|x>>10&1023,M[y++]=56320|1023&x)}return M.length!==y&&(M.subarray?M=M.subarray(0,y):M.length=y),a.applyFromCharCode(M)})(d=a.transformTo(o.uint8array?"uint8array":"array",d))},a.inherits(f,l),f.prototype.processChunk=function(d){var v=a.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var y=(function(b,T){var M;for((T=T||b.length)>b.length&&(T=b.length),M=T-1;0<=M&&(192&b[M])==128;)M--;return M<0||M===0?T:M+u[b[M]]>T?M:T})(v),x=v;y!==v.length&&(o.uint8array?(x=v.subarray(0,y),this.leftOver=v.subarray(y,v.length)):(x=v.slice(0,y),this.leftOver=v.slice(y,v.length))),this.push({data:i.utf8decode(x),meta:d.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(h,l),h.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var a=t("./support"),o=t("./base64"),s=t("./nodejsUtils"),l=t("./external");function u(g){return g}function c(g,y){for(var x=0;x<g.length;++x)y[x]=255&g.charCodeAt(x);return y}t("setimmediate"),i.newBlob=function(g,y){i.checkSupport("blob");try{return new Blob([g],{type:y})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(g),x.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,y,x){var b=[],T=0,M=g.length;if(M<=x)return String.fromCharCode.apply(null,g);for(;T<M;)y==="array"||y==="nodebuffer"?b.push(String.fromCharCode.apply(null,g.slice(T,Math.min(T+x,M)))):b.push(String.fromCharCode.apply(null,g.subarray(T,Math.min(T+x,M)))),T+=x;return b.join("")},stringifyByChar:function(g){for(var y="",x=0;x<g.length;x++)y+=String.fromCharCode(g[x]);return y},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}})()}};function h(g){var y=65536,x=i.getTypeOf(g),b=!0;if(x==="uint8array"?b=f.applyCanBeUsed.uint8array:x==="nodebuffer"&&(b=f.applyCanBeUsed.nodebuffer),b)for(;1<y;)try{return f.stringifyByChunk(g,x,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(g)}function d(g,y){for(var x=0;x<g.length;x++)y[x]=g[x];return y}i.applyFromCharCode=h;var v={};v.string={string:u,array:function(g){return c(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return c(g,new Uint8Array(g.length))},nodebuffer:function(g){return c(g,s.allocBuffer(g.length))}},v.array={string:h,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return s.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return s.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return s.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:u},i.transformTo=function(g,y){if(y=y||"",!g)return y;i.checkSupport(g);var x=i.getTypeOf(y);return v[x][g](y)},i.resolve=function(g){for(var y=g.split("/"),x=[],b=0;b<y.length;b++){var T=y[b];T==="."||T===""&&b!==0&&b!==y.length-1||(T===".."?x.pop():x.push(T))}return x.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":a.nodebuffer&&s.isBuffer(g)?"nodebuffer":a.uint8array&&g instanceof Uint8Array?"uint8array":a.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!a[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var y,x,b="";for(x=0;x<(g||"").length;x++)b+="\\x"+((y=g.charCodeAt(x))<16?"0":"")+y.toString(16).toUpperCase();return b},i.delay=function(g,y,x){setImmediate(function(){g.apply(x||null,y||[])})},i.inherits=function(g,y){function x(){}x.prototype=y.prototype,g.prototype=new x},i.extend=function(){var g,y,x={};for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&x[y]===void 0&&(x[y]=arguments[g][y]);return x},i.prepareContent=function(g,y,x,b,T){return l.Promise.resolve(y).then(function(M){return a.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,D){var R=new FileReader;R.onload=function(I){C(I.target.result)},R.onerror=function(I){D(I.target.error)},R.readAsArrayBuffer(M)}):M}).then(function(M){var C=i.getTypeOf(M);return C?(C==="arraybuffer"?M=i.transformTo("uint8array",M):C==="string"&&(T?M=o.decode(M):x&&b!==!0&&(M=(function(D){return c(D,a.uint8array?new Uint8Array(D.length):new Array(D.length))})(M))),M):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var a=t("./reader/readerFor"),o=t("./utils"),s=t("./signature"),l=t("./zipEntry"),u=t("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(f)+")")}},isSignature:function(f,h){var d=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(d),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",d=o.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,d,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),d=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var v=h-d;if(0<v)this.isSignature(h,s.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var a=t("./reader/readerFor"),o=t("./utils"),s=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),c=t("./compressions"),f=t("./support");function h(d,v){this.options=d,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var v,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(y){for(var x in c)if(Object.prototype.hasOwnProperty.call(c,x)&&c[x].magic===y)return c[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,v,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var v=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(v),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var v,g,y,x=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<x;)v=d.readInt(2),g=d.readInt(2),y=d.readData(g),this.extraFields[v]={id:v,length:g,value:y};d.setIndex(x)},handleUTF8:function(){var d=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var x=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var v=a(d.value);return v.readInt(1)!==1||l(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var v=a(d.value);return v.readInt(1)!==1||l(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(d.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function a(v,g,y){this.name=v,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=g,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var o=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),c=t("./stream/GenericWorker");a.prototype={internalStream:function(v){var g=null,y="string";try{if(!v)throw new Error("No output type specified.");var x=(y=v.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),g=this._decompressWorker();var b=!this._dataBinary;b&&!x&&(g=g.pipe(new l.Utf8EncodeWorker)),!b&&x&&(g=g.pipe(new l.Utf8DecodeWorker))}catch(T){(g=new c("error")).error(T)}return new o(g,y,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(y,v,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new s(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<f.length;d++)a.prototype[f[d]]=h;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(a){var o,s,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,c=new l(v),f=a.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var g=a.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},a.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new a.MessageChannel;h.port1.onmessage=v,o=function(){h.port2.postMessage(0)}}var d=[];function v(){var g,y;s=!0;for(var x=d.length;x;){for(y=d,d=[],g=-1;++g<x;)y[g]();x=d.length}s=!1}r.exports=function(g){d.push(g)!==1||s||o()}}).call(this,typeof $T<"u"?$T:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var a=t("immediate");function o(){}var s={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,x!==o&&g(this,x)}function h(x,b,T){this.promise=x,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function d(x,b,T){a(function(){var M;try{M=b(T)}catch(C){return s.reject(x,C)}M===x?s.reject(x,new TypeError("Cannot resolve promise with itself")):s.resolve(x,M)})}function v(x){var b=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof b=="function")return function(){b.apply(x,arguments)}}function g(x,b){var T=!1;function M(R){T||(T=!0,s.reject(x,R))}function C(R){T||(T=!0,s.resolve(x,R))}var D=y(function(){b(C,M)});D.status==="error"&&M(D.value)}function y(x,b){var T={};try{T.value=x(b),T.status="success"}catch(M){T.status="error",T.value=M}return T}(r.exports=f).prototype.finally=function(x){if(typeof x!="function")return this;var b=this.constructor;return this.then(function(T){return b.resolve(x()).then(function(){return T})},function(T){return b.resolve(x()).then(function(){throw T})})},f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,b){if(typeof x!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var T=new this.constructor(o);return this.state!==c?d(T,this.state===u?x:b,this.outcome):this.queue.push(new h(T,x,b)),T},h.prototype.callFulfilled=function(x){s.resolve(this.promise,x)},h.prototype.otherCallFulfilled=function(x){d(this.promise,this.onFulfilled,x)},h.prototype.callRejected=function(x){s.reject(this.promise,x)},h.prototype.otherCallRejected=function(x){d(this.promise,this.onRejected,x)},s.resolve=function(x,b){var T=y(v,b);if(T.status==="error")return s.reject(x,T.value);var M=T.value;if(M)g(x,M);else{x.state=u,x.outcome=b;for(var C=-1,D=x.queue.length;++C<D;)x.queue[C].callFulfilled(b)}return x},s.reject=function(x,b){x.state=l,x.outcome=b;for(var T=-1,M=x.queue.length;++T<M;)x.queue[T].callRejected(b);return x},f.resolve=function(x){return x instanceof this?x:s.resolve(new this(o),x)},f.reject=function(x){var b=new this(o);return s.reject(b,x)},f.all=function(x){var b=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,M=!1;if(!T)return this.resolve([]);for(var C=new Array(T),D=0,R=-1,I=new this(o);++R<T;)L(x[R],R);return I;function L(O,B){b.resolve(O).then(function(V){C[B]=V,++D!==T||M||(M=!0,s.resolve(I,C))},function(V){M||(M=!0,s.reject(I,V))})}},f.race=function(x){var b=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=x.length,M=!1;if(!T)return this.resolve([]);for(var C=-1,D=new this(o);++C<T;)R=x[C],b.resolve(R).then(function(I){M||(M=!0,s.resolve(D,I))},function(I){M||(M=!0,s.reject(D,I))});var R;return D}},{immediate:36}],38:[function(t,r,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var a=t("./zlib/deflate"),o=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),c=Object.prototype.toString,f=0,h=-1,d=0,v=8;function g(x){if(!(this instanceof g))return new g(x);this.options=o.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},x||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var T=a.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(T!==f)throw new Error(l[T]);if(b.header&&a.deflateSetHeader(this.strm,b.header),b.dictionary){var M;if(M=typeof b.dictionary=="string"?s.string2buf(b.dictionary):c.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(T=a.deflateSetDictionary(this.strm,M))!==f)throw new Error(l[T]);this._dict_set=!0}}function y(x,b){var T=new g(b);if(T.push(x,!0),T.err)throw T.msg||l[T.err];return T.result}g.prototype.push=function(x,b){var T,M,C=this.strm,D=this.options.chunkSize;if(this.ended)return!1;M=b===~~b?b:b===!0?4:0,typeof x=="string"?C.input=s.string2buf(x):c.call(x)==="[object ArrayBuffer]"?C.input=new Uint8Array(x):C.input=x,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(D),C.next_out=0,C.avail_out=D),(T=a.deflate(C,M))!==1&&T!==f)return this.onEnd(T),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&T!==1);return M===4?(T=a.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===f):M!==2||(this.onEnd(f),!(C.avail_out=0))},g.prototype.onData=function(x){this.chunks.push(x)},g.prototype.onEnd=function(x){x===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=g,i.deflate=y,i.deflateRaw=function(x,b){return(b=b||{}).raw=!0,y(x,b)},i.gzip=function(x,b){return(b=b||{}).gzip=!0,y(x,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var a=t("./zlib/inflate"),o=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),c=t("./zlib/zstream"),f=t("./zlib/gzheader"),h=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},g||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||g&&g.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=a.inflateInit2(this.strm,y.windowBits);if(x!==l.Z_OK)throw new Error(u[x]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function v(g,y){var x=new d(y);if(x.push(g,!0),x.err)throw x.msg||u[x.err];return x.result}d.prototype.push=function(g,y){var x,b,T,M,C,D,R=this.strm,I=this.options.chunkSize,L=this.options.dictionary,O=!1;if(this.ended)return!1;b=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?R.input=s.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?R.input=new Uint8Array(g):R.input=g,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(I),R.next_out=0,R.avail_out=I),(x=a.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&L&&(D=typeof L=="string"?s.string2buf(L):h.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,x=a.inflateSetDictionary(this.strm,D)),x===l.Z_BUF_ERROR&&O===!0&&(x=l.Z_OK,O=!1),x!==l.Z_STREAM_END&&x!==l.Z_OK)return this.onEnd(x),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&x!==l.Z_STREAM_END&&(R.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=s.utf8border(R.output,R.next_out),M=R.next_out-T,C=s.buf2string(R.output,T),R.next_out=M,R.avail_out=I-M,M&&o.arraySet(R.output,R.output,T,M,0),this.onData(C)):this.onData(o.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(O=!0)}while((0<R.avail_in||R.avail_out===0)&&x!==l.Z_STREAM_END);return x===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(x=a.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=d,i.inflate=v,i.inflateRaw=function(g,y){return(y=y||{}).raw=!0,v(g,y)},i.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,f,h){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+f),h);else for(var d=0;d<f;d++)l[h+d]=u[c+d]},flattenChunks:function(l){var u,c,f,h,d,v;for(u=f=0,c=l.length;u<c;u++)f+=l[u].length;for(v=new Uint8Array(f),u=h=0,c=l.length;u<c;u++)d=l[u],v.set(d,h),h+=d.length;return v}},s={arraySet:function(l,u,c,f,h){for(var d=0;d<f;d++)l[h+d]=u[c+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(t,r,i){var a=t("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,h){if(h<65537&&(f.subarray&&s||!f.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(f,h));for(var d="",v=0;v<h;v++)d+=String.fromCharCode(f[v]);return d}l[254]=l[254]=1,i.string2buf=function(f){var h,d,v,g,y,x=f.length,b=0;for(g=0;g<x;g++)(64512&(d=f.charCodeAt(g)))==55296&&g+1<x&&(64512&(v=f.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),g++),b+=d<128?1:d<2048?2:d<65536?3:4;for(h=new a.Buf8(b),g=y=0;y<b;g++)(64512&(d=f.charCodeAt(g)))==55296&&g+1<x&&(64512&(v=f.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(v-56320),g++),d<128?h[y++]=d:(d<2048?h[y++]=192|d>>>6:(d<65536?h[y++]=224|d>>>12:(h[y++]=240|d>>>18,h[y++]=128|d>>>12&63),h[y++]=128|d>>>6&63),h[y++]=128|63&d);return h},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var h=new a.Buf8(f.length),d=0,v=h.length;d<v;d++)h[d]=f.charCodeAt(d);return h},i.buf2string=function(f,h){var d,v,g,y,x=h||f.length,b=new Array(2*x);for(d=v=0;d<x;)if((g=f[d++])<128)b[v++]=g;else if(4<(y=l[g]))b[v++]=65533,d+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&d<x;)g=g<<6|63&f[d++],y--;1<y?b[v++]=65533:g<65536?b[v++]=g:(g-=65536,b[v++]=55296|g>>10&1023,b[v++]=56320|1023&g)}return c(b,v)},i.utf8border=function(f,h){var d;for((h=h||f.length)>f.length&&(h=f.length),d=h-1;0<=d&&(192&f[d])==128;)d--;return d<0||d===0?h:d+l[f[d]]>h?d:h}},{"./common":41}],43:[function(t,r,i){r.exports=function(a,o,s,l){for(var u=65535&a|0,c=a>>>16&65535|0,f=0;s!==0;){for(s-=f=2e3<s?2e3:s;c=c+(u=u+o[l++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var a=(function(){for(var o,s=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;s[l]=o}return s})();r.exports=function(o,s,l,u){var c=a,f=u+l;o^=-1;for(var h=u;h<f;h++)o=o>>>8^c[255&(o^s[h])];return-1^o}},{}],46:[function(t,r,i){var a,o=t("../utils/common"),s=t("./trees"),l=t("./adler32"),u=t("./crc32"),c=t("./messages"),f=0,h=4,d=0,v=-2,g=-1,y=4,x=2,b=8,T=9,M=286,C=30,D=19,R=2*M+1,I=15,L=3,O=258,B=O+L+1,V=42,F=113,k=1,Y=2,H=3,W=4;function q(X,te){return X.msg=c[te],te}function K(X){return(X<<1)-(4<X?9:0)}function re(X){for(var te=X.length;0<=--te;)X[te]=0}function j(X){var te=X.state,ve=te.pending;ve>X.avail_out&&(ve=X.avail_out),ve!==0&&(o.arraySet(X.output,te.pending_buf,te.pending_out,ve,X.next_out),X.next_out+=ve,te.pending_out+=ve,X.total_out+=ve,X.avail_out-=ve,te.pending-=ve,te.pending===0&&(te.pending_out=0))}function Q(X,te){s._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,te),X.block_start=X.strstart,j(X.strm)}function ne(X,te){X.pending_buf[X.pending++]=te}function se(X,te){X.pending_buf[X.pending++]=te>>>8&255,X.pending_buf[X.pending++]=255&te}function he(X,te){var ve,oe,ae=X.max_chain_length,de=X.strstart,Ae=X.prev_length,Ce=X.nice_match,be=X.strstart>X.w_size-B?X.strstart-(X.w_size-B):0,ie=X.window,ee=X.w_mask,me=X.prev,Ne=X.strstart+O,qe=ie[de+Ae-1],Ie=ie[de+Ae];X.prev_length>=X.good_match&&(ae>>=2),Ce>X.lookahead&&(Ce=X.lookahead);do if(ie[(ve=te)+Ae]===Ie&&ie[ve+Ae-1]===qe&&ie[ve]===ie[de]&&ie[++ve]===ie[de+1]){de+=2,ve++;do;while(ie[++de]===ie[++ve]&&ie[++de]===ie[++ve]&&ie[++de]===ie[++ve]&&ie[++de]===ie[++ve]&&ie[++de]===ie[++ve]&&ie[++de]===ie[++ve]&&ie[++de]===ie[++ve]&&ie[++de]===ie[++ve]&&de<Ne);if(oe=O-(Ne-de),de=Ne-O,Ae<oe){if(X.match_start=te,Ce<=(Ae=oe))break;qe=ie[de+Ae-1],Ie=ie[de+Ae]}}while((te=me[te&ee])>be&&--ae!=0);return Ae<=X.lookahead?Ae:X.lookahead}function pe(X){var te,ve,oe,ae,de,Ae,Ce,be,ie,ee,me=X.w_size;do{if(ae=X.window_size-X.lookahead-X.strstart,X.strstart>=me+(me-B)){for(o.arraySet(X.window,X.window,me,me,0),X.match_start-=me,X.strstart-=me,X.block_start-=me,te=ve=X.hash_size;oe=X.head[--te],X.head[te]=me<=oe?oe-me:0,--ve;);for(te=ve=me;oe=X.prev[--te],X.prev[te]=me<=oe?oe-me:0,--ve;);ae+=me}if(X.strm.avail_in===0)break;if(Ae=X.strm,Ce=X.window,be=X.strstart+X.lookahead,ie=ae,ee=void 0,ee=Ae.avail_in,ie<ee&&(ee=ie),ve=ee===0?0:(Ae.avail_in-=ee,o.arraySet(Ce,Ae.input,Ae.next_in,ee,be),Ae.state.wrap===1?Ae.adler=l(Ae.adler,Ce,ee,be):Ae.state.wrap===2&&(Ae.adler=u(Ae.adler,Ce,ee,be)),Ae.next_in+=ee,Ae.total_in+=ee,ee),X.lookahead+=ve,X.lookahead+X.insert>=L)for(de=X.strstart-X.insert,X.ins_h=X.window[de],X.ins_h=(X.ins_h<<X.hash_shift^X.window[de+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[de+L-1])&X.hash_mask,X.prev[de&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=de,de++,X.insert--,!(X.lookahead+X.insert<L)););}while(X.lookahead<B&&X.strm.avail_in!==0)}function xe(X,te){for(var ve,oe;;){if(X.lookahead<B){if(pe(X),X.lookahead<B&&te===f)return k;if(X.lookahead===0)break}if(ve=0,X.lookahead>=L&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+L-1])&X.hash_mask,ve=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),ve!==0&&X.strstart-ve<=X.w_size-B&&(X.match_length=he(X,ve)),X.match_length>=L)if(oe=s._tr_tally(X,X.strstart-X.match_start,X.match_length-L),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=L){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+L-1])&X.hash_mask,ve=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else oe=s._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(oe&&(Q(X,!1),X.strm.avail_out===0))return k}return X.insert=X.strstart<L-1?X.strstart:L-1,te===h?(Q(X,!0),X.strm.avail_out===0?H:W):X.last_lit&&(Q(X,!1),X.strm.avail_out===0)?k:Y}function Te(X,te){for(var ve,oe,ae;;){if(X.lookahead<B){if(pe(X),X.lookahead<B&&te===f)return k;if(X.lookahead===0)break}if(ve=0,X.lookahead>=L&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+L-1])&X.hash_mask,ve=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=L-1,ve!==0&&X.prev_length<X.max_lazy_match&&X.strstart-ve<=X.w_size-B&&(X.match_length=he(X,ve),X.match_length<=5&&(X.strategy===1||X.match_length===L&&4096<X.strstart-X.match_start)&&(X.match_length=L-1)),X.prev_length>=L&&X.match_length<=X.prev_length){for(ae=X.strstart+X.lookahead-L,oe=s._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-L),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=ae&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+L-1])&X.hash_mask,ve=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=L-1,X.strstart++,oe&&(Q(X,!1),X.strm.avail_out===0))return k}else if(X.match_available){if((oe=s._tr_tally(X,0,X.window[X.strstart-1]))&&Q(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return k}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(oe=s._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<L-1?X.strstart:L-1,te===h?(Q(X,!0),X.strm.avail_out===0?H:W):X.last_lit&&(Q(X,!1),X.strm.avail_out===0)?k:Y}function Me(X,te,ve,oe,ae){this.good_length=X,this.max_lazy=te,this.nice_length=ve,this.max_chain=oe,this.func=ae}function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*R),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*D+1)),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(I+1),this.heap=new o.Buf16(2*M+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*M+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ue(X){var te;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=x,(te=X.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?V:F,X.adler=te.wrap===2?0:1,te.last_flush=f,s._tr_init(te),d):q(X,v)}function et(X){var te=Ue(X);return te===d&&(function(ve){ve.window_size=2*ve.w_size,re(ve.head),ve.max_lazy_match=a[ve.level].max_lazy,ve.good_match=a[ve.level].good_length,ve.nice_match=a[ve.level].nice_length,ve.max_chain_length=a[ve.level].max_chain,ve.strstart=0,ve.block_start=0,ve.lookahead=0,ve.insert=0,ve.match_length=ve.prev_length=L-1,ve.match_available=0,ve.ins_h=0})(X.state),te}function ct(X,te,ve,oe,ae,de){if(!X)return v;var Ae=1;if(te===g&&(te=6),oe<0?(Ae=0,oe=-oe):15<oe&&(Ae=2,oe-=16),ae<1||T<ae||ve!==b||oe<8||15<oe||te<0||9<te||de<0||y<de)return q(X,v);oe===8&&(oe=9);var Ce=new Re;return(X.state=Ce).strm=X,Ce.wrap=Ae,Ce.gzhead=null,Ce.w_bits=oe,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=ae+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+L-1)/L),Ce.window=new o.Buf8(2*Ce.w_size),Ce.head=new o.Buf16(Ce.hash_size),Ce.prev=new o.Buf16(Ce.w_size),Ce.lit_bufsize=1<<ae+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new o.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=te,Ce.strategy=de,Ce.method=ve,et(X)}a=[new Me(0,0,0,0,function(X,te){var ve=65535;for(ve>X.pending_buf_size-5&&(ve=X.pending_buf_size-5);;){if(X.lookahead<=1){if(pe(X),X.lookahead===0&&te===f)return k;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var oe=X.block_start+ve;if((X.strstart===0||X.strstart>=oe)&&(X.lookahead=X.strstart-oe,X.strstart=oe,Q(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-B&&(Q(X,!1),X.strm.avail_out===0))return k}return X.insert=0,te===h?(Q(X,!0),X.strm.avail_out===0?H:W):(X.strstart>X.block_start&&(Q(X,!1),X.strm.avail_out),k)}),new Me(4,4,8,4,xe),new Me(4,5,16,8,xe),new Me(4,6,32,32,xe),new Me(4,4,16,16,Te),new Me(8,16,32,32,Te),new Me(8,16,128,128,Te),new Me(8,32,128,256,Te),new Me(32,128,258,1024,Te),new Me(32,258,258,4096,Te)],i.deflateInit=function(X,te){return ct(X,te,b,15,8,0)},i.deflateInit2=ct,i.deflateReset=et,i.deflateResetKeep=Ue,i.deflateSetHeader=function(X,te){return X&&X.state?X.state.wrap!==2?v:(X.state.gzhead=te,d):v},i.deflate=function(X,te){var ve,oe,ae,de;if(!X||!X.state||5<te||te<0)return X?q(X,v):v;if(oe=X.state,!X.output||!X.input&&X.avail_in!==0||oe.status===666&&te!==h)return q(X,X.avail_out===0?-5:v);if(oe.strm=X,ve=oe.last_flush,oe.last_flush=te,oe.status===V)if(oe.wrap===2)X.adler=0,ne(oe,31),ne(oe,139),ne(oe,8),oe.gzhead?(ne(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),ne(oe,255&oe.gzhead.time),ne(oe,oe.gzhead.time>>8&255),ne(oe,oe.gzhead.time>>16&255),ne(oe,oe.gzhead.time>>24&255),ne(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),ne(oe,255&oe.gzhead.os),oe.gzhead.extra&&oe.gzhead.extra.length&&(ne(oe,255&oe.gzhead.extra.length),ne(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(X.adler=u(X.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=69):(ne(oe,0),ne(oe,0),ne(oe,0),ne(oe,0),ne(oe,0),ne(oe,oe.level===9?2:2<=oe.strategy||oe.level<2?4:0),ne(oe,3),oe.status=F);else{var Ae=b+(oe.w_bits-8<<4)<<8;Ae|=(2<=oe.strategy||oe.level<2?0:oe.level<6?1:oe.level===6?2:3)<<6,oe.strstart!==0&&(Ae|=32),Ae+=31-Ae%31,oe.status=F,se(oe,Ae),oe.strstart!==0&&(se(oe,X.adler>>>16),se(oe,65535&X.adler)),X.adler=1}if(oe.status===69)if(oe.gzhead.extra){for(ae=oe.pending;oe.gzindex<(65535&oe.gzhead.extra.length)&&(oe.pending!==oe.pending_buf_size||(oe.gzhead.hcrc&&oe.pending>ae&&(X.adler=u(X.adler,oe.pending_buf,oe.pending-ae,ae)),j(X),ae=oe.pending,oe.pending!==oe.pending_buf_size));)ne(oe,255&oe.gzhead.extra[oe.gzindex]),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>ae&&(X.adler=u(X.adler,oe.pending_buf,oe.pending-ae,ae)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=73)}else oe.status=73;if(oe.status===73)if(oe.gzhead.name){ae=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>ae&&(X.adler=u(X.adler,oe.pending_buf,oe.pending-ae,ae)),j(X),ae=oe.pending,oe.pending===oe.pending_buf_size)){de=1;break}de=oe.gzindex<oe.gzhead.name.length?255&oe.gzhead.name.charCodeAt(oe.gzindex++):0,ne(oe,de)}while(de!==0);oe.gzhead.hcrc&&oe.pending>ae&&(X.adler=u(X.adler,oe.pending_buf,oe.pending-ae,ae)),de===0&&(oe.gzindex=0,oe.status=91)}else oe.status=91;if(oe.status===91)if(oe.gzhead.comment){ae=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>ae&&(X.adler=u(X.adler,oe.pending_buf,oe.pending-ae,ae)),j(X),ae=oe.pending,oe.pending===oe.pending_buf_size)){de=1;break}de=oe.gzindex<oe.gzhead.comment.length?255&oe.gzhead.comment.charCodeAt(oe.gzindex++):0,ne(oe,de)}while(de!==0);oe.gzhead.hcrc&&oe.pending>ae&&(X.adler=u(X.adler,oe.pending_buf,oe.pending-ae,ae)),de===0&&(oe.status=103)}else oe.status=103;if(oe.status===103&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&j(X),oe.pending+2<=oe.pending_buf_size&&(ne(oe,255&X.adler),ne(oe,X.adler>>8&255),X.adler=0,oe.status=F)):oe.status=F),oe.pending!==0){if(j(X),X.avail_out===0)return oe.last_flush=-1,d}else if(X.avail_in===0&&K(te)<=K(ve)&&te!==h)return q(X,-5);if(oe.status===666&&X.avail_in!==0)return q(X,-5);if(X.avail_in!==0||oe.lookahead!==0||te!==f&&oe.status!==666){var Ce=oe.strategy===2?(function(be,ie){for(var ee;;){if(be.lookahead===0&&(pe(be),be.lookahead===0)){if(ie===f)return k;break}if(be.match_length=0,ee=s._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++,ee&&(Q(be,!1),be.strm.avail_out===0))return k}return be.insert=0,ie===h?(Q(be,!0),be.strm.avail_out===0?H:W):be.last_lit&&(Q(be,!1),be.strm.avail_out===0)?k:Y})(oe,te):oe.strategy===3?(function(be,ie){for(var ee,me,Ne,qe,Ie=be.window;;){if(be.lookahead<=O){if(pe(be),be.lookahead<=O&&ie===f)return k;if(be.lookahead===0)break}if(be.match_length=0,be.lookahead>=L&&0<be.strstart&&(me=Ie[Ne=be.strstart-1])===Ie[++Ne]&&me===Ie[++Ne]&&me===Ie[++Ne]){qe=be.strstart+O;do;while(me===Ie[++Ne]&&me===Ie[++Ne]&&me===Ie[++Ne]&&me===Ie[++Ne]&&me===Ie[++Ne]&&me===Ie[++Ne]&&me===Ie[++Ne]&&me===Ie[++Ne]&&Ne<qe);be.match_length=O-(qe-Ne),be.match_length>be.lookahead&&(be.match_length=be.lookahead)}if(be.match_length>=L?(ee=s._tr_tally(be,1,be.match_length-L),be.lookahead-=be.match_length,be.strstart+=be.match_length,be.match_length=0):(ee=s._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++),ee&&(Q(be,!1),be.strm.avail_out===0))return k}return be.insert=0,ie===h?(Q(be,!0),be.strm.avail_out===0?H:W):be.last_lit&&(Q(be,!1),be.strm.avail_out===0)?k:Y})(oe,te):a[oe.level].func(oe,te);if(Ce!==H&&Ce!==W||(oe.status=666),Ce===k||Ce===H)return X.avail_out===0&&(oe.last_flush=-1),d;if(Ce===Y&&(te===1?s._tr_align(oe):te!==5&&(s._tr_stored_block(oe,0,0,!1),te===3&&(re(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),j(X),X.avail_out===0))return oe.last_flush=-1,d}return te!==h?d:oe.wrap<=0?1:(oe.wrap===2?(ne(oe,255&X.adler),ne(oe,X.adler>>8&255),ne(oe,X.adler>>16&255),ne(oe,X.adler>>24&255),ne(oe,255&X.total_in),ne(oe,X.total_in>>8&255),ne(oe,X.total_in>>16&255),ne(oe,X.total_in>>24&255)):(se(oe,X.adler>>>16),se(oe,65535&X.adler)),j(X),0<oe.wrap&&(oe.wrap=-oe.wrap),oe.pending!==0?d:1)},i.deflateEnd=function(X){var te;return X&&X.state?(te=X.state.status)!==V&&te!==69&&te!==73&&te!==91&&te!==103&&te!==F&&te!==666?q(X,v):(X.state=null,te===F?q(X,-3):d):v},i.deflateSetDictionary=function(X,te){var ve,oe,ae,de,Ae,Ce,be,ie,ee=te.length;if(!X||!X.state||(de=(ve=X.state).wrap)===2||de===1&&ve.status!==V||ve.lookahead)return v;for(de===1&&(X.adler=l(X.adler,te,ee,0)),ve.wrap=0,ee>=ve.w_size&&(de===0&&(re(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0),ie=new o.Buf8(ve.w_size),o.arraySet(ie,te,ee-ve.w_size,ve.w_size,0),te=ie,ee=ve.w_size),Ae=X.avail_in,Ce=X.next_in,be=X.input,X.avail_in=ee,X.next_in=0,X.input=te,pe(ve);ve.lookahead>=L;){for(oe=ve.strstart,ae=ve.lookahead-(L-1);ve.ins_h=(ve.ins_h<<ve.hash_shift^ve.window[oe+L-1])&ve.hash_mask,ve.prev[oe&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=oe,oe++,--ae;);ve.strstart=oe,ve.lookahead=L-1,pe(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=L-1,ve.match_available=0,X.next_in=Ce,X.input=be,X.avail_in=Ae,ve.wrap=de,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(a,o){var s,l,u,c,f,h,d,v,g,y,x,b,T,M,C,D,R,I,L,O,B,V,F,k,Y;s=a.state,l=a.next_in,k=a.input,u=l+(a.avail_in-5),c=a.next_out,Y=a.output,f=c-(o-a.avail_out),h=c+(a.avail_out-257),d=s.dmax,v=s.wsize,g=s.whave,y=s.wnext,x=s.window,b=s.hold,T=s.bits,M=s.lencode,C=s.distcode,D=(1<<s.lenbits)-1,R=(1<<s.distbits)-1;e:do{T<15&&(b+=k[l++]<<T,T+=8,b+=k[l++]<<T,T+=8),I=M[b&D];t:for(;;){if(b>>>=L=I>>>24,T-=L,(L=I>>>16&255)===0)Y[c++]=65535&I;else{if(!(16&L)){if((64&L)==0){I=M[(65535&I)+(b&(1<<L)-1)];continue t}if(32&L){s.mode=12;break e}a.msg="invalid literal/length code",s.mode=30;break e}O=65535&I,(L&=15)&&(T<L&&(b+=k[l++]<<T,T+=8),O+=b&(1<<L)-1,b>>>=L,T-=L),T<15&&(b+=k[l++]<<T,T+=8,b+=k[l++]<<T,T+=8),I=C[b&R];n:for(;;){if(b>>>=L=I>>>24,T-=L,!(16&(L=I>>>16&255))){if((64&L)==0){I=C[(65535&I)+(b&(1<<L)-1)];continue n}a.msg="invalid distance code",s.mode=30;break e}if(B=65535&I,T<(L&=15)&&(b+=k[l++]<<T,(T+=8)<L&&(b+=k[l++]<<T,T+=8)),d<(B+=b&(1<<L)-1)){a.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=L,T-=L,(L=c-f)<B){if(g<(L=B-L)&&s.sane){a.msg="invalid distance too far back",s.mode=30;break e}if(F=x,(V=0)===y){if(V+=v-L,L<O){for(O-=L;Y[c++]=x[V++],--L;);V=c-B,F=Y}}else if(y<L){if(V+=v+y-L,(L-=y)<O){for(O-=L;Y[c++]=x[V++],--L;);if(V=0,y<O){for(O-=L=y;Y[c++]=x[V++],--L;);V=c-B,F=Y}}}else if(V+=y-L,L<O){for(O-=L;Y[c++]=x[V++],--L;);V=c-B,F=Y}for(;2<O;)Y[c++]=F[V++],Y[c++]=F[V++],Y[c++]=F[V++],O-=3;O&&(Y[c++]=F[V++],1<O&&(Y[c++]=F[V++]))}else{for(V=c-B;Y[c++]=Y[V++],Y[c++]=Y[V++],Y[c++]=Y[V++],2<(O-=3););O&&(Y[c++]=Y[V++],1<O&&(Y[c++]=Y[V++]))}break}}break}}while(l<u&&c<h);l-=O=T>>3,b&=(1<<(T-=O<<3))-1,a.next_in=l,a.next_out=c,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=c<h?h-c+257:257-(c-h),s.hold=b,s.bits=T}},{}],49:[function(t,r,i){var a=t("../utils/common"),o=t("./adler32"),s=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),c=1,f=2,h=0,d=-2,v=1,g=852,y=592;function x(V){return(V>>>24&255)+(V>>>8&65280)+((65280&V)<<8)+((255&V)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(V){var F;return V&&V.state?(F=V.state,V.total_in=V.total_out=F.total=0,V.msg="",F.wrap&&(V.adler=1&F.wrap),F.mode=v,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new a.Buf32(g),F.distcode=F.distdyn=new a.Buf32(y),F.sane=1,F.back=-1,h):d}function M(V){var F;return V&&V.state?((F=V.state).wsize=0,F.whave=0,F.wnext=0,T(V)):d}function C(V,F){var k,Y;return V&&V.state?(Y=V.state,F<0?(k=0,F=-F):(k=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?d:(Y.window!==null&&Y.wbits!==F&&(Y.window=null),Y.wrap=k,Y.wbits=F,M(V))):d}function D(V,F){var k,Y;return V?(Y=new b,(V.state=Y).window=null,(k=C(V,F))!==h&&(V.state=null),k):d}var R,I,L=!0;function O(V){if(L){var F;for(R=new a.Buf32(512),I=new a.Buf32(32),F=0;F<144;)V.lens[F++]=8;for(;F<256;)V.lens[F++]=9;for(;F<280;)V.lens[F++]=7;for(;F<288;)V.lens[F++]=8;for(u(c,V.lens,0,288,R,0,V.work,{bits:9}),F=0;F<32;)V.lens[F++]=5;u(f,V.lens,0,32,I,0,V.work,{bits:5}),L=!1}V.lencode=R,V.lenbits=9,V.distcode=I,V.distbits=5}function B(V,F,k,Y){var H,W=V.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new a.Buf8(W.wsize)),Y>=W.wsize?(a.arraySet(W.window,F,k-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(Y<(H=W.wsize-W.wnext)&&(H=Y),a.arraySet(W.window,F,k-Y,H,W.wnext),(Y-=H)?(a.arraySet(W.window,F,k-Y,Y,0),W.wnext=Y,W.whave=W.wsize):(W.wnext+=H,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=H))),0}i.inflateReset=M,i.inflateReset2=C,i.inflateResetKeep=T,i.inflateInit=function(V){return D(V,15)},i.inflateInit2=D,i.inflate=function(V,F){var k,Y,H,W,q,K,re,j,Q,ne,se,he,pe,xe,Te,Me,Re,Ue,et,ct,X,te,ve,oe,ae=0,de=new a.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!V||!V.state||!V.output||!V.input&&V.avail_in!==0)return d;(k=V.state).mode===12&&(k.mode=13),q=V.next_out,H=V.output,re=V.avail_out,W=V.next_in,Y=V.input,K=V.avail_in,j=k.hold,Q=k.bits,ne=K,se=re,te=h;e:for(;;)switch(k.mode){case v:if(k.wrap===0){k.mode=13;break}for(;Q<16;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if(2&k.wrap&&j===35615){de[k.check=0]=255&j,de[1]=j>>>8&255,k.check=s(k.check,de,2,0),Q=j=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&j)<<8)+(j>>8))%31){V.msg="incorrect header check",k.mode=30;break}if((15&j)!=8){V.msg="unknown compression method",k.mode=30;break}if(Q-=4,X=8+(15&(j>>>=4)),k.wbits===0)k.wbits=X;else if(X>k.wbits){V.msg="invalid window size",k.mode=30;break}k.dmax=1<<X,V.adler=k.check=1,k.mode=512&j?10:12,Q=j=0;break;case 2:for(;Q<16;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if(k.flags=j,(255&k.flags)!=8){V.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){V.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=j>>8&1),512&k.flags&&(de[0]=255&j,de[1]=j>>>8&255,k.check=s(k.check,de,2,0)),Q=j=0,k.mode=3;case 3:for(;Q<32;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}k.head&&(k.head.time=j),512&k.flags&&(de[0]=255&j,de[1]=j>>>8&255,de[2]=j>>>16&255,de[3]=j>>>24&255,k.check=s(k.check,de,4,0)),Q=j=0,k.mode=4;case 4:for(;Q<16;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}k.head&&(k.head.xflags=255&j,k.head.os=j>>8),512&k.flags&&(de[0]=255&j,de[1]=j>>>8&255,k.check=s(k.check,de,2,0)),Q=j=0,k.mode=5;case 5:if(1024&k.flags){for(;Q<16;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}k.length=j,k.head&&(k.head.extra_len=j),512&k.flags&&(de[0]=255&j,de[1]=j>>>8&255,k.check=s(k.check,de,2,0)),Q=j=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(K<(he=k.length)&&(he=K),he&&(k.head&&(X=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,Y,W,he,X)),512&k.flags&&(k.check=s(k.check,Y,he,W)),K-=he,W+=he,k.length-=he),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(K===0)break e;for(he=0;X=Y[W+he++],k.head&&X&&k.length<65536&&(k.head.name+=String.fromCharCode(X)),X&&he<K;);if(512&k.flags&&(k.check=s(k.check,Y,he,W)),K-=he,W+=he,X)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(K===0)break e;for(he=0;X=Y[W+he++],k.head&&X&&k.length<65536&&(k.head.comment+=String.fromCharCode(X)),X&&he<K;);if(512&k.flags&&(k.check=s(k.check,Y,he,W)),K-=he,W+=he,X)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;Q<16;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if(j!==(65535&k.check)){V.msg="header crc mismatch",k.mode=30;break}Q=j=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),V.adler=k.check=0,k.mode=12;break;case 10:for(;Q<32;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}V.adler=k.check=x(j),Q=j=0,k.mode=11;case 11:if(k.havedict===0)return V.next_out=q,V.avail_out=re,V.next_in=W,V.avail_in=K,k.hold=j,k.bits=Q,2;V.adler=k.check=1,k.mode=12;case 12:if(F===5||F===6)break e;case 13:if(k.last){j>>>=7&Q,Q-=7&Q,k.mode=27;break}for(;Q<3;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}switch(k.last=1&j,Q-=1,3&(j>>>=1)){case 0:k.mode=14;break;case 1:if(O(k),k.mode=20,F!==6)break;j>>>=2,Q-=2;break e;case 2:k.mode=17;break;case 3:V.msg="invalid block type",k.mode=30}j>>>=2,Q-=2;break;case 14:for(j>>>=7&Q,Q-=7&Q;Q<32;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if((65535&j)!=(j>>>16^65535)){V.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&j,Q=j=0,k.mode=15,F===6)break e;case 15:k.mode=16;case 16:if(he=k.length){if(K<he&&(he=K),re<he&&(he=re),he===0)break e;a.arraySet(H,Y,W,he,q),K-=he,W+=he,re-=he,q+=he,k.length-=he;break}k.mode=12;break;case 17:for(;Q<14;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if(k.nlen=257+(31&j),j>>>=5,Q-=5,k.ndist=1+(31&j),j>>>=5,Q-=5,k.ncode=4+(15&j),j>>>=4,Q-=4,286<k.nlen||30<k.ndist){V.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;Q<3;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}k.lens[Ae[k.have++]]=7&j,j>>>=3,Q-=3}for(;k.have<19;)k.lens[Ae[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ve={bits:k.lenbits},te=u(0,k.lens,0,19,k.lencode,0,k.work,ve),k.lenbits=ve.bits,te){V.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;Me=(ae=k.lencode[j&(1<<k.lenbits)-1])>>>16&255,Re=65535&ae,!((Te=ae>>>24)<=Q);){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if(Re<16)j>>>=Te,Q-=Te,k.lens[k.have++]=Re;else{if(Re===16){for(oe=Te+2;Q<oe;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if(j>>>=Te,Q-=Te,k.have===0){V.msg="invalid bit length repeat",k.mode=30;break}X=k.lens[k.have-1],he=3+(3&j),j>>>=2,Q-=2}else if(Re===17){for(oe=Te+3;Q<oe;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}Q-=Te,X=0,he=3+(7&(j>>>=Te)),j>>>=3,Q-=3}else{for(oe=Te+7;Q<oe;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}Q-=Te,X=0,he=11+(127&(j>>>=Te)),j>>>=7,Q-=7}if(k.have+he>k.nlen+k.ndist){V.msg="invalid bit length repeat",k.mode=30;break}for(;he--;)k.lens[k.have++]=X}}if(k.mode===30)break;if(k.lens[256]===0){V.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ve={bits:k.lenbits},te=u(c,k.lens,0,k.nlen,k.lencode,0,k.work,ve),k.lenbits=ve.bits,te){V.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ve={bits:k.distbits},te=u(f,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ve),k.distbits=ve.bits,te){V.msg="invalid distances set",k.mode=30;break}if(k.mode=20,F===6)break e;case 20:k.mode=21;case 21:if(6<=K&&258<=re){V.next_out=q,V.avail_out=re,V.next_in=W,V.avail_in=K,k.hold=j,k.bits=Q,l(V,se),q=V.next_out,H=V.output,re=V.avail_out,W=V.next_in,Y=V.input,K=V.avail_in,j=k.hold,Q=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;Me=(ae=k.lencode[j&(1<<k.lenbits)-1])>>>16&255,Re=65535&ae,!((Te=ae>>>24)<=Q);){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if(Me&&(240&Me)==0){for(Ue=Te,et=Me,ct=Re;Me=(ae=k.lencode[ct+((j&(1<<Ue+et)-1)>>Ue)])>>>16&255,Re=65535&ae,!(Ue+(Te=ae>>>24)<=Q);){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}j>>>=Ue,Q-=Ue,k.back+=Ue}if(j>>>=Te,Q-=Te,k.back+=Te,k.length=Re,Me===0){k.mode=26;break}if(32&Me){k.back=-1,k.mode=12;break}if(64&Me){V.msg="invalid literal/length code",k.mode=30;break}k.extra=15&Me,k.mode=22;case 22:if(k.extra){for(oe=k.extra;Q<oe;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}k.length+=j&(1<<k.extra)-1,j>>>=k.extra,Q-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;Me=(ae=k.distcode[j&(1<<k.distbits)-1])>>>16&255,Re=65535&ae,!((Te=ae>>>24)<=Q);){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if((240&Me)==0){for(Ue=Te,et=Me,ct=Re;Me=(ae=k.distcode[ct+((j&(1<<Ue+et)-1)>>Ue)])>>>16&255,Re=65535&ae,!(Ue+(Te=ae>>>24)<=Q);){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}j>>>=Ue,Q-=Ue,k.back+=Ue}if(j>>>=Te,Q-=Te,k.back+=Te,64&Me){V.msg="invalid distance code",k.mode=30;break}k.offset=Re,k.extra=15&Me,k.mode=24;case 24:if(k.extra){for(oe=k.extra;Q<oe;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}k.offset+=j&(1<<k.extra)-1,j>>>=k.extra,Q-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){V.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(re===0)break e;if(he=se-re,k.offset>he){if((he=k.offset-he)>k.whave&&k.sane){V.msg="invalid distance too far back",k.mode=30;break}pe=he>k.wnext?(he-=k.wnext,k.wsize-he):k.wnext-he,he>k.length&&(he=k.length),xe=k.window}else xe=H,pe=q-k.offset,he=k.length;for(re<he&&(he=re),re-=he,k.length-=he;H[q++]=xe[pe++],--he;);k.length===0&&(k.mode=21);break;case 26:if(re===0)break e;H[q++]=k.length,re--,k.mode=21;break;case 27:if(k.wrap){for(;Q<32;){if(K===0)break e;K--,j|=Y[W++]<<Q,Q+=8}if(se-=re,V.total_out+=se,k.total+=se,se&&(V.adler=k.check=k.flags?s(k.check,H,se,q-se):o(k.check,H,se,q-se)),se=re,(k.flags?j:x(j))!==k.check){V.msg="incorrect data check",k.mode=30;break}Q=j=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;Q<32;){if(K===0)break e;K--,j+=Y[W++]<<Q,Q+=8}if(j!==(4294967295&k.total)){V.msg="incorrect length check",k.mode=30;break}Q=j=0}k.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return d}return V.next_out=q,V.avail_out=re,V.next_in=W,V.avail_in=K,k.hold=j,k.bits=Q,(k.wsize||se!==V.avail_out&&k.mode<30&&(k.mode<27||F!==4))&&B(V,V.output,V.next_out,se-V.avail_out)?(k.mode=31,-4):(ne-=V.avail_in,se-=V.avail_out,V.total_in+=ne,V.total_out+=se,k.total+=se,k.wrap&&se&&(V.adler=k.check=k.flags?s(k.check,H,se,V.next_out-se):o(k.check,H,se,V.next_out-se)),V.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(ne==0&&se===0||F===4)&&te===h&&(te=-5),te)},i.inflateEnd=function(V){if(!V||!V.state)return d;var F=V.state;return F.window&&(F.window=null),V.state=null,h},i.inflateGetHeader=function(V,F){var k;return V&&V.state?(2&(k=V.state).wrap)==0?d:((k.head=F).done=!1,h):d},i.inflateSetDictionary=function(V,F){var k,Y=F.length;return V&&V.state?(k=V.state).wrap!==0&&k.mode!==11?d:k.mode===11&&o(1,F,Y,0)!==k.check?-3:B(V,F,Y,Y)?(k.mode=31,-4):(k.havedict=1,h):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var a=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,f,h,d,v,g,y,x){var b,T,M,C,D,R,I,L,O,B=x.bits,V=0,F=0,k=0,Y=0,H=0,W=0,q=0,K=0,re=0,j=0,Q=null,ne=0,se=new a.Buf16(16),he=new a.Buf16(16),pe=null,xe=0;for(V=0;V<=15;V++)se[V]=0;for(F=0;F<d;F++)se[f[h+F]]++;for(H=B,Y=15;1<=Y&&se[Y]===0;Y--);if(Y<H&&(H=Y),Y===0)return v[g++]=20971520,v[g++]=20971520,x.bits=1,0;for(k=1;k<Y&&se[k]===0;k++);for(H<k&&(H=k),V=K=1;V<=15;V++)if(K<<=1,(K-=se[V])<0)return-1;if(0<K&&(c===0||Y!==1))return-1;for(he[1]=0,V=1;V<15;V++)he[V+1]=he[V]+se[V];for(F=0;F<d;F++)f[h+F]!==0&&(y[he[f[h+F]]++]=F);if(R=c===0?(Q=pe=y,19):c===1?(Q=o,ne-=257,pe=s,xe-=257,256):(Q=l,pe=u,-1),V=k,D=g,q=F=j=0,M=-1,C=(re=1<<(W=H))-1,c===1&&852<re||c===2&&592<re)return 1;for(;;){for(I=V-q,O=y[F]<R?(L=0,y[F]):y[F]>R?(L=pe[xe+y[F]],Q[ne+y[F]]):(L=96,0),b=1<<V-q,k=T=1<<W;v[D+(j>>q)+(T-=b)]=I<<24|L<<16|O|0,T!==0;);for(b=1<<V-1;j&b;)b>>=1;if(b!==0?(j&=b-1,j+=b):j=0,F++,--se[V]==0){if(V===Y)break;V=f[h+y[F]]}if(H<V&&(j&C)!==M){for(q===0&&(q=H),D+=k,K=1<<(W=V-q);W+q<Y&&!((K-=se[W+q])<=0);)W++,K<<=1;if(re+=1<<W,c===1&&852<re||c===2&&592<re)return 1;v[M=j&C]=H<<24|W<<16|D-g|0}}return j!==0&&(v[D+j]=V-q<<24|64<<16|0),x.bits=H,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var a=t("../utils/common"),o=0,s=1;function l(ae){for(var de=ae.length;0<=--de;)ae[de]=0}var u=0,c=29,f=256,h=f+1+c,d=30,v=19,g=2*h+1,y=15,x=16,b=7,T=256,M=16,C=17,D=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(h+2));l(B);var V=new Array(2*d);l(V);var F=new Array(512);l(F);var k=new Array(256);l(k);var Y=new Array(c);l(Y);var H,W,q,K=new Array(d);function re(ae,de,Ae,Ce,be){this.static_tree=ae,this.extra_bits=de,this.extra_base=Ae,this.elems=Ce,this.max_length=be,this.has_stree=ae&&ae.length}function j(ae,de){this.dyn_tree=ae,this.max_code=0,this.stat_desc=de}function Q(ae){return ae<256?F[ae]:F[256+(ae>>>7)]}function ne(ae,de){ae.pending_buf[ae.pending++]=255&de,ae.pending_buf[ae.pending++]=de>>>8&255}function se(ae,de,Ae){ae.bi_valid>x-Ae?(ae.bi_buf|=de<<ae.bi_valid&65535,ne(ae,ae.bi_buf),ae.bi_buf=de>>x-ae.bi_valid,ae.bi_valid+=Ae-x):(ae.bi_buf|=de<<ae.bi_valid&65535,ae.bi_valid+=Ae)}function he(ae,de,Ae){se(ae,Ae[2*de],Ae[2*de+1])}function pe(ae,de){for(var Ae=0;Ae|=1&ae,ae>>>=1,Ae<<=1,0<--de;);return Ae>>>1}function xe(ae,de,Ae){var Ce,be,ie=new Array(y+1),ee=0;for(Ce=1;Ce<=y;Ce++)ie[Ce]=ee=ee+Ae[Ce-1]<<1;for(be=0;be<=de;be++){var me=ae[2*be+1];me!==0&&(ae[2*be]=pe(ie[me]++,me))}}function Te(ae){var de;for(de=0;de<h;de++)ae.dyn_ltree[2*de]=0;for(de=0;de<d;de++)ae.dyn_dtree[2*de]=0;for(de=0;de<v;de++)ae.bl_tree[2*de]=0;ae.dyn_ltree[2*T]=1,ae.opt_len=ae.static_len=0,ae.last_lit=ae.matches=0}function Me(ae){8<ae.bi_valid?ne(ae,ae.bi_buf):0<ae.bi_valid&&(ae.pending_buf[ae.pending++]=ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0}function Re(ae,de,Ae,Ce){var be=2*de,ie=2*Ae;return ae[be]<ae[ie]||ae[be]===ae[ie]&&Ce[de]<=Ce[Ae]}function Ue(ae,de,Ae){for(var Ce=ae.heap[Ae],be=Ae<<1;be<=ae.heap_len&&(be<ae.heap_len&&Re(de,ae.heap[be+1],ae.heap[be],ae.depth)&&be++,!Re(de,Ce,ae.heap[be],ae.depth));)ae.heap[Ae]=ae.heap[be],Ae=be,be<<=1;ae.heap[Ae]=Ce}function et(ae,de,Ae){var Ce,be,ie,ee,me=0;if(ae.last_lit!==0)for(;Ce=ae.pending_buf[ae.d_buf+2*me]<<8|ae.pending_buf[ae.d_buf+2*me+1],be=ae.pending_buf[ae.l_buf+me],me++,Ce===0?he(ae,be,de):(he(ae,(ie=k[be])+f+1,de),(ee=R[ie])!==0&&se(ae,be-=Y[ie],ee),he(ae,ie=Q(--Ce),Ae),(ee=I[ie])!==0&&se(ae,Ce-=K[ie],ee)),me<ae.last_lit;);he(ae,T,de)}function ct(ae,de){var Ae,Ce,be,ie=de.dyn_tree,ee=de.stat_desc.static_tree,me=de.stat_desc.has_stree,Ne=de.stat_desc.elems,qe=-1;for(ae.heap_len=0,ae.heap_max=g,Ae=0;Ae<Ne;Ae++)ie[2*Ae]!==0?(ae.heap[++ae.heap_len]=qe=Ae,ae.depth[Ae]=0):ie[2*Ae+1]=0;for(;ae.heap_len<2;)ie[2*(be=ae.heap[++ae.heap_len]=qe<2?++qe:0)]=1,ae.depth[be]=0,ae.opt_len--,me&&(ae.static_len-=ee[2*be+1]);for(de.max_code=qe,Ae=ae.heap_len>>1;1<=Ae;Ae--)Ue(ae,ie,Ae);for(be=Ne;Ae=ae.heap[1],ae.heap[1]=ae.heap[ae.heap_len--],Ue(ae,ie,1),Ce=ae.heap[1],ae.heap[--ae.heap_max]=Ae,ae.heap[--ae.heap_max]=Ce,ie[2*be]=ie[2*Ae]+ie[2*Ce],ae.depth[be]=(ae.depth[Ae]>=ae.depth[Ce]?ae.depth[Ae]:ae.depth[Ce])+1,ie[2*Ae+1]=ie[2*Ce+1]=be,ae.heap[1]=be++,Ue(ae,ie,1),2<=ae.heap_len;);ae.heap[--ae.heap_max]=ae.heap[1],(function(Ie,Mt){var xt,Ct,Dt,Je,ut,kt,ye=Mt.dyn_tree,Fe=Mt.max_code,ft=Mt.stat_desc.static_tree,_e=Mt.stat_desc.has_stree,ht=Mt.stat_desc.extra_bits,dt=Mt.stat_desc.extra_base,at=Mt.stat_desc.max_length,rt=0;for(Je=0;Je<=y;Je++)Ie.bl_count[Je]=0;for(ye[2*Ie.heap[Ie.heap_max]+1]=0,xt=Ie.heap_max+1;xt<g;xt++)at<(Je=ye[2*ye[2*(Ct=Ie.heap[xt])+1]+1]+1)&&(Je=at,rt++),ye[2*Ct+1]=Je,Fe<Ct||(Ie.bl_count[Je]++,ut=0,dt<=Ct&&(ut=ht[Ct-dt]),kt=ye[2*Ct],Ie.opt_len+=kt*(Je+ut),_e&&(Ie.static_len+=kt*(ft[2*Ct+1]+ut)));if(rt!==0){do{for(Je=at-1;Ie.bl_count[Je]===0;)Je--;Ie.bl_count[Je]--,Ie.bl_count[Je+1]+=2,Ie.bl_count[at]--,rt-=2}while(0<rt);for(Je=at;Je!==0;Je--)for(Ct=Ie.bl_count[Je];Ct!==0;)Fe<(Dt=Ie.heap[--xt])||(ye[2*Dt+1]!==Je&&(Ie.opt_len+=(Je-ye[2*Dt+1])*ye[2*Dt],ye[2*Dt+1]=Je),Ct--)}})(ae,de),xe(ie,qe,ae.bl_count)}function X(ae,de,Ae){var Ce,be,ie=-1,ee=de[1],me=0,Ne=7,qe=4;for(ee===0&&(Ne=138,qe=3),de[2*(Ae+1)+1]=65535,Ce=0;Ce<=Ae;Ce++)be=ee,ee=de[2*(Ce+1)+1],++me<Ne&&be===ee||(me<qe?ae.bl_tree[2*be]+=me:be!==0?(be!==ie&&ae.bl_tree[2*be]++,ae.bl_tree[2*M]++):me<=10?ae.bl_tree[2*C]++:ae.bl_tree[2*D]++,ie=be,qe=(me=0)===ee?(Ne=138,3):be===ee?(Ne=6,3):(Ne=7,4))}function te(ae,de,Ae){var Ce,be,ie=-1,ee=de[1],me=0,Ne=7,qe=4;for(ee===0&&(Ne=138,qe=3),Ce=0;Ce<=Ae;Ce++)if(be=ee,ee=de[2*(Ce+1)+1],!(++me<Ne&&be===ee)){if(me<qe)for(;he(ae,be,ae.bl_tree),--me!=0;);else be!==0?(be!==ie&&(he(ae,be,ae.bl_tree),me--),he(ae,M,ae.bl_tree),se(ae,me-3,2)):me<=10?(he(ae,C,ae.bl_tree),se(ae,me-3,3)):(he(ae,D,ae.bl_tree),se(ae,me-11,7));ie=be,qe=(me=0)===ee?(Ne=138,3):be===ee?(Ne=6,3):(Ne=7,4)}}l(K);var ve=!1;function oe(ae,de,Ae,Ce){se(ae,(u<<1)+(Ce?1:0),3),(function(be,ie,ee,me){Me(be),ne(be,ee),ne(be,~ee),a.arraySet(be.pending_buf,be.window,ie,ee,be.pending),be.pending+=ee})(ae,de,Ae)}i._tr_init=function(ae){ve||((function(){var de,Ae,Ce,be,ie,ee=new Array(y+1);for(be=Ce=0;be<c-1;be++)for(Y[be]=Ce,de=0;de<1<<R[be];de++)k[Ce++]=be;for(k[Ce-1]=be,be=ie=0;be<16;be++)for(K[be]=ie,de=0;de<1<<I[be];de++)F[ie++]=be;for(ie>>=7;be<d;be++)for(K[be]=ie<<7,de=0;de<1<<I[be]-7;de++)F[256+ie++]=be;for(Ae=0;Ae<=y;Ae++)ee[Ae]=0;for(de=0;de<=143;)B[2*de+1]=8,de++,ee[8]++;for(;de<=255;)B[2*de+1]=9,de++,ee[9]++;for(;de<=279;)B[2*de+1]=7,de++,ee[7]++;for(;de<=287;)B[2*de+1]=8,de++,ee[8]++;for(xe(B,h+1,ee),de=0;de<d;de++)V[2*de+1]=5,V[2*de]=pe(de,5);H=new re(B,R,f+1,h,y),W=new re(V,I,0,d,y),q=new re(new Array(0),L,0,v,b)})(),ve=!0),ae.l_desc=new j(ae.dyn_ltree,H),ae.d_desc=new j(ae.dyn_dtree,W),ae.bl_desc=new j(ae.bl_tree,q),ae.bi_buf=0,ae.bi_valid=0,Te(ae)},i._tr_stored_block=oe,i._tr_flush_block=function(ae,de,Ae,Ce){var be,ie,ee=0;0<ae.level?(ae.strm.data_type===2&&(ae.strm.data_type=(function(me){var Ne,qe=4093624447;for(Ne=0;Ne<=31;Ne++,qe>>>=1)if(1&qe&&me.dyn_ltree[2*Ne]!==0)return o;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return s;for(Ne=32;Ne<f;Ne++)if(me.dyn_ltree[2*Ne]!==0)return s;return o})(ae)),ct(ae,ae.l_desc),ct(ae,ae.d_desc),ee=(function(me){var Ne;for(X(me,me.dyn_ltree,me.l_desc.max_code),X(me,me.dyn_dtree,me.d_desc.max_code),ct(me,me.bl_desc),Ne=v-1;3<=Ne&&me.bl_tree[2*O[Ne]+1]===0;Ne--);return me.opt_len+=3*(Ne+1)+5+5+4,Ne})(ae),be=ae.opt_len+3+7>>>3,(ie=ae.static_len+3+7>>>3)<=be&&(be=ie)):be=ie=Ae+5,Ae+4<=be&&de!==-1?oe(ae,de,Ae,Ce):ae.strategy===4||ie===be?(se(ae,2+(Ce?1:0),3),et(ae,B,V)):(se(ae,4+(Ce?1:0),3),(function(me,Ne,qe,Ie){var Mt;for(se(me,Ne-257,5),se(me,qe-1,5),se(me,Ie-4,4),Mt=0;Mt<Ie;Mt++)se(me,me.bl_tree[2*O[Mt]+1],3);te(me,me.dyn_ltree,Ne-1),te(me,me.dyn_dtree,qe-1)})(ae,ae.l_desc.max_code+1,ae.d_desc.max_code+1,ee+1),et(ae,ae.dyn_ltree,ae.dyn_dtree)),Te(ae),Ce&&Me(ae)},i._tr_tally=function(ae,de,Ae){return ae.pending_buf[ae.d_buf+2*ae.last_lit]=de>>>8&255,ae.pending_buf[ae.d_buf+2*ae.last_lit+1]=255&de,ae.pending_buf[ae.l_buf+ae.last_lit]=255&Ae,ae.last_lit++,de===0?ae.dyn_ltree[2*Ae]++:(ae.matches++,de--,ae.dyn_ltree[2*(k[Ae]+f+1)]++,ae.dyn_dtree[2*Q(de)]++),ae.last_lit===ae.lit_bufsize-1},i._tr_align=function(ae){se(ae,2,3),he(ae,T,B),(function(de){de.bi_valid===16?(ne(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):8<=de.bi_valid&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)})(ae)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(a){(function(o,s){if(!o.setImmediate){var l,u,c,f,h=1,d={},v=!1,g=o.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(o);y=y&&y.setTimeout?y:o,l={}.toString.call(o.process)==="[object process]"?function(M){process.nextTick(function(){b(M)})}:(function(){if(o.postMessage&&!o.importScripts){var M=!0,C=o.onmessage;return o.onmessage=function(){M=!1},o.postMessage("","*"),o.onmessage=C,M}})()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",T,!1):o.attachEvent("onmessage",T),function(M){o.postMessage(f+M,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(M){b(M.data)},function(M){c.port2.postMessage(M)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(M){var C=g.createElement("script");C.onreadystatechange=function(){b(M),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):function(M){setTimeout(b,0,M)},y.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var C=new Array(arguments.length-1),D=0;D<C.length;D++)C[D]=arguments[D+1];var R={callback:M,args:C};return d[h]=R,l(h),h++},y.clearImmediate=x}function x(M){delete d[M]}function b(M){if(v)setTimeout(b,0,M);else{var C=d[M];if(C){v=!0;try{(function(D){var R=D.callback,I=D.args;switch(I.length){case 0:R();break;case 1:R(I[0]);break;case 2:R(I[0],I[1]);break;case 3:R(I[0],I[1],I[2]);break;default:R.apply(s,I)}})(C)}finally{x(M),v=!1}}}}function T(M){M.source===o&&typeof M.data=="string"&&M.data.indexOf(f)===0&&b(+M.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof $T<"u"?$T:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(CR)),CR.exports}var Rue=Nue();const Lue=Xx(Rue),Iue=`{
  "name": "clickup-clone-gemini",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "license": "MIT",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "preview": "vite preview"
  },
  "dependencies": {
    "@google/genai": "^1.30.0",
    "lucide-react": "^0.344.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "jszip": "^3.10.1"
  },
  "devDependencies": {
    "@types/react": "^19.2.0",
    "@types/react-dom": "^19.2.0",
    "@vitejs/plugin-react": "^4.2.1",
    "autoprefixer": "^10.4.18",
    "postcss": "^8.4.35",
    "tailwindcss": "^3.4.1",
    "typescript": "^5.2.2",
    "vite": "^5.1.4"
  }
}`,Oue=`MIT License

Copyright (c) 2024 ClickUp Clone Generator

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`,Pue=`{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}`,zue=`{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}`,kue=`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})`,Bue=`/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        clickup: {
          purple: '#7b68ee',
          dark: '#292d34',
          light: '#f7f8f9',
          sidebar: '#1e2126',
          hover: '#363a43',
          border: '#e9ebf0',
          text: '#292d34',
          textLight: '#87909e',
        },
        priority: {
          urgent: '#e44356',
          high: '#ffcc00',
          normal: '#6fddff',
          low: '#87909e',
        }
      },
      fontFamily: {
        sans: ['Inter', 'Segoe UI', 'Helvetica', 'Arial', 'sans-serif'],
      }
    },
  },
  plugins: [],
}`,Uue=`export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}`,Vue=`<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ClickUp Clone</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"><\/script>
  </body>
</html>`,Fue=`# ClickUp Clone with Gemini AI

This is a high-fidelity clone of the ClickUp UI featuring List and Board views, task management, and an integrated AI Brain powered by Google Gemini.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Getting Started

1.  Install dependencies:
    \`\`\`bash
    npm install
    \`\`\`

2.  Create a \`.env.local\` file in the root directory and add your Gemini API key:
    \`\`\`
    VITE_GEMINI_API_KEY=your_api_key_here
    \`\`\`
    *(Note: You may need to update \`geminiService.ts\` to use \`import.meta.env.VITE_GEMINI_API_KEY\` instead of \`process.env.API_KEY\` for Vite compatibility).*

3.  Run the development server:
    \`\`\`bash
    npm run dev
    \`\`\`

## Features

*   **Task Management**: List and Kanban Board views.
*   **AI Brain**: Integrated Gemini AI for task summarization and Q&A.
*   **Mock Backend**: LocalStorage persistence with simulated latency.
*   **Responsive Design**: Tailwind CSS styling matching ClickUp's aesthetic.
`,Gue=`@tailwind base;
@tailwind components;
@tailwind utilities;

body { font-family: 'Inter', sans-serif; }

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}`,Hue=async()=>{const n=new Lue;n.file("package.json",Iue),n.file("LICENSE",Oue),n.file("tsconfig.json",Pue),n.file("tsconfig.node.json",zue),n.file("vite.config.ts",kue),n.file("tailwind.config.js",Bue),n.file("postcss.config.js",Uue),n.file("index.html",Vue),n.file("README.md",Fue);const e=n.folder("src");if(!e)return;e.file("index.css",Gue),e.file("App.tsx",`import React, { useState, useEffect, useMemo } from 'react';
import Sidebar from './components/Sidebar';
import Header from './components/Header';
import TaskListView from './components/TaskListView';
import TaskBoardView from './components/TaskBoardView';
import BrainModal from './components/BrainModal';
import { ViewType, Task, Status } from './types';
import { ToastProvider, useToast } from './components/Toast';
import { api } from './services/api';
import { Target, Layout } from 'lucide-react';

const PlaceholderView: React.FC<{ icon: React.ReactNode; title: string; description: string }> = ({ icon, title, description }) => (
  <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50">
    <div className="mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple">
      {React.isValidElement(icon) ? React.cloneElement(icon as React.ReactElement<any>, { size: 64 }) : icon}
    </div>
    <h3 className="text-xl font-bold text-gray-800 mb-2">{title}</h3>
    <p className="text-gray-500 max-w-md text-center">{description}</p>
  </div>
);

const AppContent: React.FC = () => {
  const [currentView, setCurrentView] = useState<ViewType>('list');
  const [activePage, setActivePage] = useState('frontend');
  const [tasks, setTasks] = useState<Task[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isBrainOpen, setIsBrainOpen] = useState(false);
  const { showToast } = useToast();

  useEffect(() => {
    fetchTasks();
  }, []);

  const fetchTasks = async () => {
    try {
      setIsLoading(true);
      const data = await api.getTasks();
      setTasks(data);
    } catch (error) {
      showToast('Failed to load tasks from backend', 'error');
    } finally {
      setIsLoading(false);
    }
  };

  const handleStatusChange = async (taskId: string, newStatus: Status) => {
    const previousTasks = [...tasks];
    setTasks(prev => prev.map(t => 
      t.id === taskId ? { ...t, status: newStatus } : t
    ));

    try {
      await api.updateTask(taskId, { status: newStatus });
    } catch (error) {
      setTasks(previousTasks);
      showToast('Failed to update task status', 'error');
    }
  };

  const handleQuickCreate = async () => {
    const title = prompt("Enter task title:");
    if (!title) return;

    showToast('Creating task...', 'info');
    try {
      const newTask = await api.createTask({
        title,
        status: Status.Todo,
        priority: 'None' as any,
        assignees: [],
        tags: activePage === 'backend' ? ['Backend'] : [],
        description: ''
      });
      setTasks(prev => [...prev, newTask]);
      showToast('Task created successfully', 'success');
    } catch (e) {
      showToast('Failed to create task', 'error');
    }
  };

  const filteredTasks = useMemo(() => {
    switch (activePage) {
      case 'inbox':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.assignees.length === 0);
      case 'home':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.priority === 'Urgent');
      case 'backend':
        return tasks.filter(t => t.tags.includes('Backend') || t.tags.includes('API') || t.tags.includes('Auth'));
      case 'sprints':
        return tasks.filter(t => t.tags.includes('Feature') || t.tags.includes('Bug'));
      case 'frontend':
      default:
        return tasks;
    }
  }, [tasks, activePage]);

  const getPageTitle = () => {
    const map: Record<string, string> = {
      home: 'Home',
      inbox: 'Inbox',
      sprints: 'Engineering / Sprints',
      frontend: 'Engineering / Frontend App',
      backend: 'Engineering / Backend API',
      overview: 'Dashboards / Overview',
      goals: 'Dashboards / Goals'
    };
    return map[activePage] || 'Space';
  };

  return (
    <div className="flex h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900">
      <Sidebar 
        activePage={activePage} 
        onNavigate={setActivePage} 
      />
      
      <div className="flex flex-col flex-1 min-w-0 bg-white">
        <Header 
          currentView={currentView} 
          setCurrentView={setCurrentView} 
          onOpenBrain={() => setIsBrainOpen(true)}
          pageTitle={getPageTitle()}
        />

        <div className="flex-1 flex flex-col min-h-0 relative">
          {['overview'].includes(activePage) && (
             <PlaceholderView 
                icon={<Layout />} 
                title="Overview Dashboard" 
                description="Track high-level metrics and project health here. This module is currently being built." 
             />
          )}
          
          {['goals'].includes(activePage) && (
             <PlaceholderView 
                icon={<Target />} 
                title="Goals & OKRs" 
                description="Set, track, and achieve your team's goals. This feature is coming in the next release." 
             />
          )}

          {!['overview', 'goals'].includes(activePage) && (
            <>
              {currentView === 'list' && (
                <TaskListView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onStatusChange={handleStatusChange} 
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'board' && (
                <TaskBoardView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'calendar' && (
                <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500">
                    <div className="text-6xl mb-6 bg-gray-50 p-8 rounded-full"></div>
                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Calendar View</h3>
                    <p className="text-sm text-gray-500">This view is currently under construction.</p>
                    <button className="mt-6 px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors">
                      Vote for this feature
                    </button>
                </div>
              )}
            </>
          )}
        </div>
      </div>

      <BrainModal 
        isOpen={isBrainOpen} 
        onClose={() => setIsBrainOpen(false)} 
        tasks={tasks}
      />
    </div>
  );
};

const App: React.FC = () => {
  return (
    <ToastProvider>
      <AppContent />
    </ToastProvider>
  );
};

export default App;`),e.file("index.tsx",`import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);`),e.file("types.ts",`export enum Priority {
  Urgent = 'Urgent',
  High = 'High',
  Normal = 'Normal',
  Low = 'Low',
  None = 'None'
}

export enum Status {
  Todo = 'To do',
  InProgress = 'In Progress',
  Review = 'Review',
  Complete = 'Complete'
}

export interface User {
  id: string;
  name: string;
  avatar: string;
  color: string;
}

export interface Task {
  id: string;
  title: string;
  status: Status;
  priority: Priority;
  assignees: User[];
  dueDate?: string;
  tags: string[];
  description?: string;
}

export type ViewType = 'list' | 'board' | 'calendar';

export const STATUS_COLORS: Record<Status, string> = {
  [Status.Todo]: '#87909e',
  [Status.InProgress]: '#3b82f6',
  [Status.Review]: '#eab308',
  [Status.Complete]: '#22c55e',
};

export const PRIORITY_COLORS: Record<Priority, string> = {
  [Priority.Urgent]: '#e44356',
  [Priority.High]: '#ffcc00',
  [Priority.Normal]: '#6fddff',
  [Priority.Low]: '#87909e',
  [Priority.None]: '#d1d5db',
};`);const t=e.folder("services");t&&(t.file("api.ts",`import { Task, Status, Priority } from '../types';
import { MOCK_TASKS } from '../constants';

const STORAGE_KEY = 'clickup_clone_db_v1';
const DELAY_MS = 600;

const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));

const initDB = () => {
  if (typeof window === 'undefined') return;
  const existing = localStorage.getItem(STORAGE_KEY);
  if (!existing) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(MOCK_TASKS));
  }
};

initDB();

export const api = {
  getTasks: async (): Promise<Task[]> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    return data ? JSON.parse(data) : [];
  },

  updateTask: async (taskId: string, updates: Partial<Task>): Promise<Task> => {
    await delay(DELAY_MS / 2);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const index = tasks.findIndex(t => t.id === taskId);
    if (index === -1) throw new Error('Task not found');

    const updatedTask = { ...tasks[index], ...updates };
    tasks[index] = updatedTask;
    
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return updatedTask;
  },

  createTask: async (task: Omit<Task, 'id'>): Promise<Task> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const newId = \`TASK-\${Math.floor(1000 + Math.random() * 9000)}\`;
    
    const newTask: Task = {
      ...task,
      id: newId,
    };
    
    tasks.push(newTask);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return newTask;
  },

  deleteTask: async (taskId: string): Promise<void> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    let tasks: Task[] = data ? JSON.parse(data) : [];
    
    tasks = tasks.filter(t => t.id !== taskId);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
  }
};`),t.file("geminiService.ts",`import { GoogleGenAI, GenerateContentResponse } from "@google/genai";
import { Task } from "../types";

// In local dev, utilize import.meta.env for Vite
const apiKey = process.env.API_KEY || ''; 

const ai = apiKey ? new GoogleGenAI({ apiKey }) : null;

export const generateTaskSummary = async (tasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing. Please check your configuration.";

  const taskListString = tasks.map(t => 
    \`- \${t.title} (Status: \${t.status}, Priority: \${t.priority})\`
  ).join('\\n');

  const prompt = \`
    You are an AI project manager assistant called "ClickUp Brain". 
    Analyze the following tasks and provide a concise, professional summary of the current workload.
    Identify potential bottlenecks based on priority and status.
    Keep it under 100 words.

    Tasks:
    \${taskListString}
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "Could not generate summary.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "Sorry, I encountered an error while analyzing your tasks.";
  }
};

export const chatWithBrain = async (message: string, contextTasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing.";

  const context = JSON.stringify(contextTasks.map(t => ({ title: t.title, status: t.status })));
  
  const prompt = \`
    Context (Current Tasks): \${context}
    
    User Question: \${message}
    
    Answer as "ClickUp Brain", a helpful productivity assistant. Be concise and helpful.
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "No response generated.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "I'm having trouble connecting to the brain right now.";
  }
};`)),e.file("constants.ts",`import { Task, Status, Priority } from './types';

export const MOCK_TASKS: Task[] = [
  {
    id: 'TASK-1023',
    title: 'Implement authentication flow with JWT',
    status: Status.InProgress,
    priority: Priority.High,
    assignees: [
        { id: '1', name: 'Alex', avatar: 'A', color: '#ef4444' },
        { id: '2', name: 'Sam', avatar: 'S', color: '#3b82f6' }
    ],
    dueDate: '2023-11-15',
    tags: ['Backend', 'Auth'],
    description: 'Need to secure the API endpoints.'
  }
];`);const r=e.folder("components");r&&(r.file("Toast.tsx",`import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';
import { CheckCircle, Info, AlertCircle, X } from 'lucide-react';

interface ToastMessage {
  id: number;
  message: string;
  type: 'info' | 'success' | 'error';
}

interface ToastContextType {
  showToast: (message: string, type?: 'info' | 'success' | 'error') => void;
}

const ToastContext = createContext<ToastContextType | undefined>(undefined);

export const useToast = () => {
  const context = useContext(ToastContext);
  if (!context) {
    return { showToast: (msg: string) => console.log('Toast:', msg) };
  }
  return context;
};

const ToastItem: React.FC<ToastMessage & { onClose: (id: number) => void }> = ({ id, message, type, onClose }) => {
  const bgColors = {
    info: 'bg-gray-900 text-white border-gray-800',
    success: 'bg-emerald-600 text-white border-emerald-700',
    error: 'bg-red-600 text-white border-red-700'
  };
  
  const icons = {
    info: <Info size={18} />,
    success: <CheckCircle size={18} />,
    error: <AlertCircle size={18} />
  };

  return (
    <div className={\`\${bgColors[type]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border\`}>
      <div className="flex-shrink-0">{icons[type]}</div>
      <span className="text-sm font-medium flex-1">{message}</span>
      <button onClick={() => onClose(id)} className="opacity-70 hover:opacity-100 transition-opacity">
        <X size={16} />
      </button>
    </div>
  );
};

export const ToastProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [toasts, setToasts] = useState<ToastMessage[]>([]);
  
  const showToast = useCallback((message: string, type: 'info' | 'success' | 'error' = 'info') => {
    const id = Date.now();
    setToasts(prev => [...prev, { id, message, type }]);
    setTimeout(() => {
      setToasts(prev => prev.filter(t => t.id !== id));
    }, 3000);
  }, []);

  const removeToast = (id: number) => {
    setToasts(prev => prev.filter(t => t.id !== id));
  };

  return (
    <ToastContext.Provider value={{ showToast }}>
      {children}
      <div className="fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto">
        {toasts.map(t => (
          <ToastItem key={t.id} {...t} onClose={removeToast} />
        ))}
      </div>
    </ToastContext.Provider>
  );
};`),r.file("Sidebar.tsx",`import React, { useState, useRef, useEffect } from 'react';
import { 
  Search, Home, Layout, Folder, Hash, MoreHorizontal, 
  ChevronRight, ChevronDown, Plus, Settings, Users, Inbox, Target,
  Download, LogOut, CreditCard, Code
} from 'lucide-react';
import { useToast } from './Toast';
import { api } from '../services/api';
import { downloadProjectSource } from '../utils/projectDownloader';

interface SidebarProps {
  activePage: string;
  onNavigate: (page: string) => void;
}

const Sidebar: React.FC<SidebarProps> = ({ activePage, onNavigate }) => {
  const [spacesExpanded, setSpacesExpanded] = useState(true);
  const [showWorkspaceMenu, setShowWorkspaceMenu] = useState(false);
  const menuRef = useRef<HTMLDivElement>(null);
  const { showToast } = useToast();

  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {
        setShowWorkspaceMenu(false);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, []);

  const handleNavClick = (pageId: string, message: string) => {
    onNavigate(pageId);
  };

  const handleExport = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Preparing JSON export...', 'info');
    
    try {
      const tasks = await api.getTasks();
      const exportData = {
        exportedAt: new Date().toISOString(),
        appName: "ClickUp Clone",
        version: "1.0.0",
        tasks: tasks
      };
      
      const dataStr = JSON.stringify(exportData, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = \`clickup_workspace_export_\${new Date().toISOString().slice(0, 10)}.json\`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showToast('Workspace data exported successfully!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to export data', 'error');
    }
  };

  const handleDownloadSource = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Generating project ZIP...', 'info');
    try {
      await downloadProjectSource();
      showToast('Source code downloaded!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to generate ZIP', 'error');
    }
  };

  const getItemClass = (id: string) => {
    return activePage === id 
      ? 'bg-clickup-hover text-white font-medium' 
      : 'hover:bg-clickup-hover hover:text-white';
  };

  const getIconClass = (id: string, defaultColor: string = '') => {
    return activePage === id ? 'text-clickup-purple' : (defaultColor || '');
  };

  return (
    <div className="w-64 bg-clickup-sidebar text-gray-400 flex flex-col h-full border-r border-gray-800 flex-shrink-0 select-none relative">
      
      <div className="relative" ref={menuRef}>
        <div 
          className={\`p-3 border-b border-gray-800 flex items-center justify-between cursor-pointer transition-colors group \${showWorkspaceMenu ? 'bg-clickup-hover' : 'hover:bg-clickup-hover'}\`}
          onClick={() => setShowWorkspaceMenu(!showWorkspaceMenu)}
        >
          <div className="flex items-center space-x-2">
            <div className="w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-md flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:shadow-lg transition-shadow">
              G
            </div>
            <div className="flex flex-col">
              <span className="text-gray-200 text-sm font-semibold leading-tight group-hover:text-white transition-colors">Gemini Corp</span>
              <span className="text-[10px] text-gray-500 group-hover:text-gray-400">Free Plan</span>
            </div>
          </div>
          <Settings size={14} className={\`text-gray-500 group-hover:text-gray-300 transition-all duration-300 \${showWorkspaceMenu ? 'rotate-90 text-white' : ''}\`} />
        </div>

        {showWorkspaceMenu && (
          <div className="absolute top-full left-2 right-2 mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden">
            <div className="px-3 py-2 border-b border-gray-700/50 mb-1">
               <p className="text-xs font-semibold text-white">Gemini Corp</p>
               <p className="text-[10px] text-gray-500">owner@example.com</p>
            </div>
            
            <div className="px-1 space-y-0.5">
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Settings size={14} />
                    <span>Settings</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Users size={14} />
                    <span>Members</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <CreditCard size={14} />
                    <span>Billing</span>
                </button>
            </div>

            <div className="h-[1px] bg-gray-700/50 mx-2 my-1.5"></div>

            <div className="px-1 space-y-0.5">
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleExport}
                >
                    <Download size={14} />
                    <span>Export Data (JSON)</span>
                </button>
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleDownloadSource}
                >
                    <Code size={14} />
                    <span>Download Source</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left">
                    <LogOut size={14} />
                    <span>Logout</span>
                </button>
            </div>
          </div>
        )}
      </div>

      <div className="px-3 py-2 space-y-0.5">
        <div 
          className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm group transition-colors"
          onClick={() => showToast('Global Search activated', 'info')}
        >
          <Search size={16} className="group-hover:text-white transition-colors" />
          <span className="group-hover:text-white transition-colors">Search</span>
          <span className="ml-auto text-[10px] bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700 text-gray-500 group-hover:border-gray-600">Cmd K</span>
        </div>
        
        <div 
          className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('home')}\`}
          onClick={() => handleNavClick('home', 'Navigated to Home')}
        >
          <Home size={16} className={getIconClass('home')} />
          <span>Home</span>
        </div>
        
        <div 
           className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('inbox')}\`}
           onClick={() => handleNavClick('inbox', 'Navigated to Inbox')}
        >
          <Inbox size={16} className={activePage === 'inbox' ? 'text-blue-400' : ''} />
          <span>Inbox</span>
        </div>
      </div>

      <div className="h-[1px] bg-gray-800 mx-3 my-1 opacity-50"></div>

      <div className="flex-1 overflow-y-auto px-3 py-2 custom-scrollbar">
        <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6">
            <span onClick={() => setSpacesExpanded(!spacesExpanded)}>Spaces</span>
            <div className="flex items-center space-x-1">
               <Plus size={14} className="opacity-0 group-hover:opacity-100 hover:text-white transition-opacity" onClick={(e) => { e.stopPropagation(); showToast('Create new Space', 'info'); }} />
               <div onClick={() => setSpacesExpanded(!spacesExpanded)}>
                {spacesExpanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}
               </div>
            </div>
          </div>

          {spacesExpanded && (
            <div className="space-y-0.5 animate-in slide-in-from-top-2 duration-200">
              <div className="group">
                <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors">
                  <div className="w-1.5 h-1.5 rounded-full bg-blue-500"></div>
                  <span className="flex-1 truncate font-medium">Engineering</span>
                  <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
                </div>
                <div className="ml-3 pl-3 border-l border-gray-800 mt-0.5 space-y-0.5">
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('sprints')}\`}
                    onClick={() => handleNavClick('sprints', 'Viewing Sprints')}
                  >
                    <Folder size={14} className={activePage === 'sprints' ? 'text-blue-400' : 'text-gray-500'} />
                    <span>Sprints</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('frontend')}\`}
                    onClick={() => handleNavClick('frontend', 'Viewing Frontend App')}
                  >
                    <Hash size={14} className={getIconClass('frontend', 'text-gray-500')} />
                    <span className="truncate">Frontend App</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('backend')}\`}
                    onClick={() => handleNavClick('backend', 'Viewing Backend API')}
                  >
                    <Hash size={14} className={getIconClass('backend', 'text-gray-500')} />
                    <span className="truncate">Backend API</span>
                  </div>
                </div>
              </div>

              <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-green-500"></div>
                <span className="flex-1 truncate font-medium">Design</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>

               <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-orange-500"></div>
                <span className="flex-1 truncate font-medium">Marketing</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>
            </div>
          )}
        </div>

         <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group">
             <span>Dashboards</span>
             <Plus size={14} className="cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity" onClick={() => showToast('New Dashboard', 'info')} />
          </div>
          <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('overview')}\`}
            onClick={() => handleNavClick('overview', 'Dashboards Overview')}
          >
             <Layout size={14} />
             <span>Overview</span>
          </div>
           <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('goals')}\`}
            onClick={() => handleNavClick('goals', 'Goals Dashboard')}
          >
             <Target size={14} />
             <span>Goals</span>
          </div>
        </div>
      </div>

      <div className="p-3 border-t border-gray-800">
         <div 
            className="bg-gradient-to-r from-clickup-purple to-indigo-600 rounded-md p-2 text-white flex items-center justify-center space-x-2 cursor-pointer hover:brightness-110 transition-all active:scale-95"
            onClick={() => showToast('Invite dialog opened', 'info')}
         >
            <Users size={14} />
            <span className="text-sm font-medium">Invite Team</span>
         </div>
      </div>
    </div>
  );
};

export default Sidebar;`),r.file("Header.tsx",`import React from 'react';
import { 
  List, Kanban, Calendar, ChevronDown, Filter, 
  ArrowDownUp, BrainCircuit, Search, Share2
} from 'lucide-react';
import { ViewType } from '../types';
import { useToast } from './Toast';

interface HeaderProps {
  currentView: ViewType;
  setCurrentView: (view: ViewType) => void;
  onOpenBrain: () => void;
  pageTitle: string;
}

const Header: React.FC<HeaderProps> = ({ currentView, setCurrentView, onOpenBrain, pageTitle }) => {
  const { showToast } = useToast();

  return (
    <header className="h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none">
      <div className="flex items-center h-full">
        <div className="flex items-center mr-4 pr-4 border-r border-gray-200 h-6">
          <span 
            className="text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors"
            onClick={() => showToast('Breadcrumb navigation', 'info')}
          >
            {pageTitle} <ChevronDown size={12} className="ml-1 text-gray-400" />
          </span>
        </div>

        <div className="flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg">
          <button 
            onClick={() => setCurrentView('list')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'list' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <List size={14} />
            <span>List</span>
          </button>
          <button 
            onClick={() => setCurrentView('board')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'board' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Kanban size={14} />
            <span>Board</span>
          </button>
           <button 
            onClick={() => setCurrentView('calendar')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'calendar' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Calendar size={14} />
            <span>Calendar</span>
          </button>
          
          <button 
            className="flex items-center space-x-1 px-2 py-1 text-xs text-gray-400 hover:text-gray-700 hover:bg-gray-200/50 rounded transition-colors ml-1"
            onClick={() => showToast('Add View menu', 'info')}
          >
            <ChevronDown size={12} />
            <span>View</span>
          </button>
        </div>
      </div>

      <div className="flex items-center space-x-3">
        <button 
          onClick={onOpenBrain}
          className="group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95"
        >
          <BrainCircuit size={16} className="text-clickup-purple group-hover:rotate-12 transition-transform" />
          <span className="text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent">
            Ask AI
          </span>
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>
        
        <div className="flex items-center space-x-1 text-gray-500">
             <div className="relative group">
                <div 
                    className="flex -space-x-2 cursor-pointer hover:scale-105 transition-transform" 
                    onClick={() => showToast('Manage Assignees', 'info')}
                >
                    <div className="w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">A</div>
                    <div className="w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">S</div>
                    <div className="w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold">+</div>
                </div>
             </div>
        </div>
        
        <button 
            className="p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors"
            onClick={() => showToast('Share view options', 'info')}
        >
            <Share2 size={16} />
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>

        <div className="flex items-center space-x-1 text-gray-500">
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Filter menu', 'info')}
            >
                <Filter size={14} />
                <span className="hidden md:inline">Filter</span>
            </button>
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Sort menu', 'info')}
            >
                <ArrowDownUp size={14} />
                 <span className="hidden md:inline">Sort</span>
            </button>
        </div>

        <div className="flex items-center border border-gray-200 rounded-md px-2 py-1.5 bg-gray-50 focus-within:bg-white focus-within:border-clickup-purple focus-within:ring-1 focus-within:ring-purple-100 transition-all w-40 md:w-56">
             <Search size={14} className="text-gray-400" />
             <input 
                type="text" 
                placeholder="Search tasks..." 
                className="bg-transparent border-none outline-none text-xs ml-2 w-full text-gray-700 placeholder-gray-400"
                onKeyDown={(e) => e.key === 'Enter' && showToast('Searching tasks...', 'info')}
             />
        </div>
      </div>
    </header>
  );
};

export default Header;`));const i=await n.generateAsync({type:"blob"}),a=URL.createObjectURL(i),o=document.createElement("a");o.href=a,o.download="clickup-clone-source.zip",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)},jq=fe.createContext(void 0),jue=({children:n})=>{const[e,t]=fe.useState(()=>localStorage.getItem("activePage")||"home"),[r,i]=fe.useState("list");fe.useEffect(()=>{localStorage.setItem("activePage",e)},[e]);const a=["space","ocean"].includes(e),o=()=>{var l,u,c,f,h,d,v,g,y,x,b,T,M,C,D,R,I,L;const s={home:"Home",inbox:"Inbox",sprints:"Engineering / Sprints",frontend:"Engineering / Frontend App",backend:"Engineering / Backend API",overview:"Dashboards / Overview",goals:"Dashboards / Goals",space:"Space",ocean:"Deep Ocean","supply-chain/procurement":"Supply Chain / Procurement","supply-chain/warehouse":"Supply Chain / Warehouse","supply-chain/shipping":"Supply Chain / Shipping","supply-chain/planning":"Supply Chain / Planning","supply-chain/fleet":"Supply Chain / Fleet",operations:"Departments / Operations",business:"Departments / Business",support:"Departments / Business Support"};if(s[e])return s[e];if(e.startsWith("supply-chain/")){const O=e.split("/");return O.length>=3?`Supply Chain / ${((l=O[1])==null?void 0:l.charAt(0).toUpperCase())+((u=O[1])==null?void 0:u.slice(1))} / ${((c=O[2])==null?void 0:c.charAt(0).toUpperCase())+((f=O[2])==null?void 0:f.slice(1))}`:`Supply Chain / ${((h=O[1])==null?void 0:h.charAt(0).toUpperCase())+((d=O[1])==null?void 0:d.slice(1))}`}if(e.startsWith("operations/")){const O=e.split("/");return`Operations / ${((v=O[1])==null?void 0:v.charAt(0).toUpperCase())+((g=O[1])==null?void 0:g.slice(1))} / ${((y=O[2])==null?void 0:y.charAt(0).toUpperCase())+((x=O[2])==null?void 0:x.slice(1))}`}if(e.startsWith("business/")){const O=e.split("/");return`Business / ${((b=O[1])==null?void 0:b.charAt(0).toUpperCase())+((T=O[1])==null?void 0:T.slice(1))} / ${((M=O[2])==null?void 0:M.charAt(0).toUpperCase())+((C=O[2])==null?void 0:C.slice(1))}`}if(e.startsWith("support/")){const O=e.split("/");return`Business Support / ${((D=O[1])==null?void 0:D.charAt(0).toUpperCase())+((R=O[1])==null?void 0:R.slice(1))} / ${((I=O[2])==null?void 0:I.charAt(0).toUpperCase())+((L=O[2])==null?void 0:L.slice(1))}`}return"Space"};return E.jsx(jq.Provider,{value:{activePage:e,setActivePage:t,currentView:r,setCurrentView:i,isImmersive:a,getPageTitle:o},children:n})},Z2=()=>{const n=fe.useContext(jq);if(n===void 0)throw new Error("useNavigation must be used within a NavigationProvider");return n},Wue=({onLogout:n})=>{const{activePage:e,setActivePage:t,isImmersive:r}=Z2(),[i,a]=fe.useState([]),[o,s]=fe.useState(()=>{const H=localStorage.getItem("sidebar_spacesExpanded");return H!==null?JSON.parse(H):!0}),[l,u]=fe.useState(()=>{const H=localStorage.getItem("sidebar_departmentsExpanded");return H!==null?JSON.parse(H):!1}),[c,f]=fe.useState(()=>{const H=localStorage.getItem("sidebar_supplyChainExpanded");return H!==null?JSON.parse(H):!1}),[h,d]=fe.useState(()=>{const H=localStorage.getItem("sidebar_expandedItems");return H!==null?JSON.parse(H):{}}),[v,g]=fe.useState(!1),[y,x]=fe.useState(!1),[b,T]=fe.useState(!0),M=fe.useRef(null),{showToast:C}=pl();fe.useEffect(()=>{D()},[]),fe.useEffect(()=>{localStorage.setItem("sidebar_spacesExpanded",JSON.stringify(o))},[o]),fe.useEffect(()=>{localStorage.setItem("sidebar_departmentsExpanded",JSON.stringify(l))},[l]),fe.useEffect(()=>{localStorage.setItem("sidebar_supplyChainExpanded",JSON.stringify(c))},[c]),fe.useEffect(()=>{localStorage.setItem("sidebar_expandedItems",JSON.stringify(h))},[h]);const D=async()=>{try{const H=await tM.getSpaces();a(H)}catch(H){console.error("Failed to load spaces",H)}finally{T(!1)}},R=async H=>{H.stopPropagation();const W=prompt("Enter Space Name:");if(W)try{const q=await tM.createSpace(W);a(K=>[...K,q]),C("Space created!","success"),t(q.id)}catch{C("Failed to create space","error")}},I=async(H,W)=>{if(H.stopPropagation(),confirm("Are you sure you want to delete this space and all its tasks?"))try{await tM.deleteSpace(W),a(q=>q.filter(K=>K.id!==W)),e===W&&t("home"),C("Space deleted","success")}catch{C("Failed to delete space","error")}},L=async(H,W,q)=>{H.stopPropagation();const K=prompt("Rename Space:",q);if(K&&K!==q)try{await tM.updateSpace(W,{name:K}),a(re=>re.map(j=>j.id===W?{...j,name:K}:j)),C("Space renamed","success")}catch{C("Failed to rename space","error")}};fe.useEffect(()=>{const H=W=>{M.current&&!M.current.contains(W.target)&&g(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]);const O=H=>{d(W=>({...W,[H]:!W[H]}))},B=(H,W)=>{t(H)},V=async H=>{H.stopPropagation(),g(!1),C("Preparing JSON export...","info");try{const W=await Gg.getTasks(),q={exportedAt:new Date().toISOString(),appName:"ClickUp Clone",version:"2.0.0",tasks:W,spaces:i},K=JSON.stringify(q,null,2),re=new Blob([K],{type:"application/json"}),j=URL.createObjectURL(re),Q=document.createElement("a");Q.href=j,Q.download=`clickup_workspace_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(j),C("Workspace data exported successfully!","success")}catch(W){console.error(W),C("Failed to export data","error")}},F=async H=>{H.stopPropagation(),g(!1),C("Generating project ZIP...","info");try{await Hue(),C("Source code downloaded!","success")}catch(W){console.error(W),C("Failed to generate ZIP","error")}},k=H=>e===H?"bg-clickup-hover text-white font-medium":"hover:bg-clickup-hover hover:text-white",Y=(H,W="")=>e===H?"text-clickup-purple":W||"";return E.jsxs("div",{className:`${y?"w-16":"w-64"} bg-clickup-sidebar text-gray-400 flex flex-col h-[calc(100vh-3rem)] flex-shrink-0 select-none relative transition-all duration-300 z-50`,children:[E.jsx("button",{onClick:()=>x(!y),className:"absolute -right-3 top-4 bg-clickup-sidebar border border-gray-700 rounded-full p-0.5 text-gray-400 hover:text-white hover:bg-gray-700 z-50 shadow-md transition-colors",children:y?E.jsx(gse,{size:12}):E.jsx(pse,{size:12})}),E.jsxs("div",{className:"relative",ref:M,children:[E.jsxs("div",{className:`p-3 flex items-center ${y?"justify-center":"justify-between"} cursor-pointer transition-colors group ${v?"bg-clickup-hover":"hover:bg-clickup-hover"}`,onClick:()=>g(!v),children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-red-500 rounded flex items-center justify-center text-white font-bold text-xs shadow-sm group-hover:shadow transition-shadow shrink-0",children:"G"}),!y&&E.jsx("div",{className:"flex flex-col min-w-0",children:E.jsx("span",{className:"text-gray-200 text-sm font-medium leading-tight group-hover:text-white transition-colors truncate",children:"Gemini Corp"})})]}),!y&&E.jsx(Yl,{size:14,className:`text-gray-500 group-hover:text-gray-300 transition-all duration-200 ${v?"rotate-180":""}`})]}),v&&E.jsxs("div",{className:`absolute top-full mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden ${y?"left-14 w-56":"left-2 right-2"}`,children:[E.jsxs("div",{className:"px-3 py-2 border-b border-gray-700/50 mb-1",children:[E.jsx("p",{className:"text-xs font-semibold text-white",children:"Gemini Corp"}),E.jsx("p",{className:"text-[10px] text-gray-500",children:"owner@example.com"})]}),E.jsxs("div",{className:"px-1 space-y-0.5",children:[E.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[E.jsx(GC,{size:14}),E.jsx("span",{children:"Settings"})]}),E.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[E.jsx(jC,{size:14}),E.jsx("span",{children:"Members"})]}),E.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[E.jsx(Cq,{size:14}),E.jsx("span",{children:"Billing"})]})]}),E.jsx("div",{className:"h-[1px] bg-gray-700/50 mx-2 my-1.5"}),E.jsxs("div",{className:"px-1 space-y-0.5",children:[E.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:V,children:[E.jsx(Bse,{size:14}),E.jsx("span",{children:"Export Data (JSON)"})]}),E.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:F,children:[E.jsx(Dse,{size:14}),E.jsx("span",{children:"Download Source"})]}),E.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left",onClick:()=>{n&&n()},children:[E.jsx(Iq,{size:14}),E.jsx("span",{children:"Logout"})]})]})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",children:[E.jsxs("div",{className:"px-2 py-1 space-y-0.5",children:[E.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${k("home")} ${y?"justify-center":""}`,onClick:()=>B("home"),title:y?"Home":"",children:[E.jsx($se,{size:16,className:`${Y("home")} shrink-0`}),!y&&E.jsx("span",{children:"Home"})]}),E.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${k("inbox")} ${y?"justify-center":""}`,onClick:()=>B("inbox"),title:y?"Inbox":"",children:[E.jsx(lz,{size:16,className:`${e==="inbox"?"text-blue-400":""} shrink-0`}),!y&&E.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[E.jsx("span",{children:"Inbox"}),E.jsx("span",{className:"bg-clickup-dark text-xs px-1.5 py-0.5 rounded text-gray-400 group-hover:text-white transition-colors",children:"4"})]})]}),E.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),E.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors group ${["departments","supply-chain","operations","business","support"].some(H=>e.startsWith(H))?"bg-clickup-hover text-white":"hover:bg-clickup-hover hover:text-white"} ${y?"justify-center":""}`,onClick:()=>!y&&u(!l),title:y?"Departments":"",children:[E.jsx(nse,{size:16,className:"shrink-0"}),!y&&E.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[E.jsx("span",{children:"Departments"}),l?E.jsx(Yl,{size:14}):E.jsx(_h,{size:14})]})]}),!y&&l&&E.jsxs("div",{className:"ml-4 mt-1 space-y-0.5 border-l border-gray-700 pl-2",children:[E.jsxs("div",{children:[E.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith("supply-chain")?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>f(!c),children:[E.jsx(hue,{size:14,className:"shrink-0"}),E.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[E.jsx("span",{className:"text-sm",children:"Supply Chain"}),c?E.jsx(Yl,{size:12}):E.jsx(_h,{size:12})]})]}),c&&E.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:[{id:"procurement",label:"Procurement",icon:Bq},{id:"warehouse",label:"Warehouse",icon:Gq},{id:"shipping",label:"Shipping",icon:zq},{id:"planning",label:"Planning",icon:Bp},{id:"fleet",label:"Fleet",icon:Tq},{id:"vendors",label:"Vendors",icon:y5}].map(H=>{const W=`supply-chain/${H.id}`,q=e.startsWith(W)||(h[W]!==void 0?h[W]:!1);return E.jsxs("div",{children:[E.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith(W)?"text-blue-300":"text-gray-500 hover:text-gray-300"}`,onClick:()=>O(W),children:[E.jsx(H.icon,{size:12,className:"shrink-0"}),E.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[E.jsx("span",{className:"text-xs font-medium",children:H.label}),q?E.jsx(Yl,{size:10}):E.jsx(_h,{size:10})]})]}),q&&E.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:Q6},{id:"analytics",label:"Analytics",icon:J6}].map(K=>E.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${e===`${W}/${K.id}`?"text-clickup-purple bg-[#2a2e35]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>B(`${W}/${K.id}`,`Opening ${H.label} ${K.label}`),children:[E.jsx(K.icon,{size:10,className:"shrink-0"}),E.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:K.label})]},K.id))})]},H.id)})})]}),[{id:"operations",label:"Operations",icon:GC,children:[{id:"maintenance",label:"Maintenance"},{id:"production",label:"Production"},{id:"quality",label:"Quality"}]},{id:"business",label:"Business",icon:oz,children:[{id:"sales",label:"Sales"},{id:"finance",label:"Finance"}]},{id:"support",label:"Business Support",icon:aD,children:[{id:"it",label:"IT"},{id:"hr",label:"HR"},{id:"marketing",label:"Marketing"}]}].map(H=>{const W=e.startsWith(H.id)||(h[H.id]!==void 0?h[H.id]:!1);return E.jsxs("div",{children:[E.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith(H.id)?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>O(H.id),children:[E.jsx(H.icon,{size:14,className:"shrink-0"}),E.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[E.jsx("span",{className:"text-sm",children:H.label}),W?E.jsx(Yl,{size:12}):E.jsx(_h,{size:12})]})]}),W&&E.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:H.children.map(q=>{const K=`${H.id}/${q.id}`,re=e.startsWith(K)||(h[K]!==void 0?h[K]:!1);return E.jsxs("div",{children:[E.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${e.startsWith(K)?"text-blue-300":"text-gray-500 hover:text-gray-300"}`,onClick:()=>O(K),children:[E.jsx(jse,{size:12,className:"shrink-0"}),E.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[E.jsx("span",{className:"text-xs font-medium",children:q.label}),re?E.jsx(Yl,{size:10}):E.jsx(_h,{size:10})]})]}),re&&E.jsx("div",{className:"ml-3 mt-0.5 space-y-0.5 border-l border-gray-700/50 pl-2",children:[{id:"data",label:"Data",icon:Q6},{id:"analytics",label:"Analytics",icon:J6}].map(j=>E.jsxs("div",{className:`flex items-center px-2 py-1 rounded-md cursor-pointer ${e===`${K}/${j.id}`?"text-clickup-purple bg-[#2a2e35]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>B(`${K}/${j.id}`,`Opening ${q.label} ${j.label}`),children:[E.jsx(j.icon,{size:10,className:"shrink-0"}),E.jsx("span",{className:"ml-2 text-[10px] uppercase tracking-wide font-medium",children:j.label})]},j.id))})]},q.id)})})]},H.id)})]})]}),E.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-1 opacity-50"}),E.jsxs("div",{className:"px-2 py-2",children:[E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:`flex items-center ${y?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6`,children:[!y&&E.jsx("span",{onClick:()=>s(!o),children:"Spaces"}),y&&E.jsx("span",{className:"text-[10px]",children:"SPC"}),!y&&E.jsxs("div",{className:"flex items-center space-x-1",children:[E.jsx("div",{className:"opacity-0 group-hover:opacity-100 hover:text-white transition-opacity cursor-pointer",onClick:R,title:"Create Space",children:E.jsx(Ti,{size:14})}),E.jsx("div",{onClick:()=>s(!o),children:o?E.jsx(Yl,{size:14}):E.jsx(_h,{size:14})})]})]}),o&&!b&&E.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[i.length===0&&!y&&E.jsx("div",{className:"p-3 border border-dashed border-gray-700 rounded text-center text-xs text-gray-500 hover:text-gray-400 hover:border-gray-600 cursor-pointer transition-colors",onClick:R,children:"+ Create your first Space"}),i.map(H=>E.jsx("div",{className:"group relative",children:E.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${k(H.id)} ${y?"justify-center":""}`,onClick:()=>B(H.id,`Viewing ${H.name}`),children:[E.jsx("div",{className:"w-1.5 h-1.5 rounded-full shrink-0",style:{backgroundColor:H.color}}),!y&&E.jsx("span",{className:"flex-1 truncate font-medium",children:H.name}),!y&&E.jsxs("div",{className:"hidden group-hover:flex items-center space-x-1",children:[E.jsx(Ale,{size:10,className:"text-gray-500 hover:text-white",onClick:W=>L(W,H.id,H.name)}),E.jsx($g,{size:10,className:"text-gray-500 hover:text-red-400",onClick:W=>I(W,H.id)})]})]})},H.id))]})]}),E.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:`flex items-center ${y?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!y&&E.jsx("span",{children:"Smart Tools"}),y&&E.jsx("span",{children:"SMT"})]}),E.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${k("mind-map")} ${y?"justify-center":""}`,onClick:()=>B("mind-map"),title:y?"Mind Mapping":"",children:[E.jsx(wq,{size:14,className:"shrink-0"}),!y&&E.jsx("span",{children:"Mind Mapping"})]})]}),E.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:`flex items-center ${y?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!y&&E.jsx("span",{children:"Dashboards"}),y&&E.jsx("span",{children:"DBD"}),!y&&E.jsx(Ti,{size:14,className:"cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>C("New Dashboard","info")})]}),E.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${k("overview")} ${y?"justify-center":""}`,onClick:()=>B("overview"),title:y?"Dashboards Overview":"",children:[E.jsx(YS,{size:14,className:"shrink-0"}),!y&&E.jsx("span",{children:"Overview"})]}),E.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${k("goals")} ${y?"justify-center":""}`,onClick:()=>B("goals"),title:y?"Goals":"",children:[E.jsx(Vq,{size:14,className:"shrink-0"}),!y&&E.jsx("span",{children:"Goals"})]})]}),E.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:`flex items-center ${y?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!y&&E.jsx("span",{children:"Market Place"}),y&&E.jsx("span",{children:"MKT"})]}),E.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${k("marketplace/local")} ${y?"justify-center":""}`,onClick:()=>B("marketplace/local"),title:y?"Local Marketplace":"",children:[E.jsx(fz,{size:14,className:"shrink-0"}),!y&&E.jsx("span",{children:"Local Marketplace"})]}),E.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${k("marketplace/foreign")} ${y?"justify-center":""}`,onClick:()=>B("marketplace/foreign"),title:y?"Foreign Marketplace":"",children:[E.jsx(y5,{size:14,className:"shrink-0"}),!y&&E.jsx("span",{children:"Forigen Marketplace"})]})]})]})]}),E.jsxs("div",{className:"p-3 border-t border-gray-800",children:[E.jsxs("div",{className:`bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center ${y?"justify-center":"justify-center space-x-2"} cursor-pointer transition-all active:scale-95 group mb-2 shadow-md`,onClick:()=>C("Invite dialog opened","info"),title:"Invite Team",children:[E.jsx(jC,{size:14,className:"shrink-0"}),!y&&E.jsx("span",{className:"text-sm font-medium",children:"Invite Team"})]}),E.jsxs("div",{className:`flex ${y?"flex-col space-y-2":"flex-row space-x-2"}`,children:[E.jsxs("div",{className:"flex-1 bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-md",onClick:()=>B("space"),title:"Space",children:[E.jsx(Ile,{size:14,className:"shrink-0"}),!y&&E.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Space"})]}),E.jsxs("div",{className:"flex-1 bg-gray-900 hover:bg-black border border-gray-800 rounded-md p-2 text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-md",onClick:()=>B("ocean"),title:"Deep Ocean",children:[E.jsx(Sue,{size:14,className:"shrink-0"}),!y&&E.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Ocean"})]})]})]})]})},Wq=fe.createContext(void 0),Yue=({children:n})=>{const[e,t]=fe.useState(!1),[r,i]=fe.useState(!1),[a,o]=fe.useState(!1);return E.jsx(Wq.Provider,{value:{isBrainOpen:e,setBrainOpen:t,isAddCardsOpen:r,setAddCardsOpen:i,isTableBuilderOpen:a,setTableBuilderOpen:o},children:n})},dz=()=>{const n=fe.useContext(Wq);if(n===void 0)throw new Error("useUI must be used within a UIProvider");return n},Xue=()=>{const{currentView:n,setCurrentView:e,getPageTitle:t,activePage:r}=Z2(),{setBrainOpen:i,setAddCardsOpen:a}=dz(),{showToast:o}=pl(),s=t(),l=r==="home",u=()=>i(!0),c=()=>a(!0);return E.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:[E.jsxs("div",{className:"flex items-center h-full",children:[E.jsx("div",{className:`flex items-center ${l?"":"mr-4 pr-4 border-r border-gray-200"} h-6`,children:E.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors",onClick:()=>o("Breadcrumb navigation","info"),children:[s," ",!l&&E.jsx(Yl,{size:12,className:"ml-1 text-gray-400"})]})}),!l&&E.jsxs("div",{className:"flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg",children:[E.jsxs("button",{onClick:()=>e("list"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${n==="list"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[E.jsx(ple,{size:14}),E.jsx("span",{children:"List"})]}),E.jsxs("button",{onClick:()=>e("board"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${n==="board"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[E.jsx(ole,{size:14}),E.jsx("span",{children:"Board"})]}),E.jsxs("button",{onClick:()=>e("calendar"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${n==="calendar"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[E.jsx(Bp,{size:14}),E.jsx("span",{children:"Calendar"})]}),E.jsxs("button",{onClick:()=>e("dashboard"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${n==="dashboard"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[E.jsx(lle,{size:14}),E.jsx("span",{children:"Dashboard"})]})]})]}),E.jsx("div",{className:"flex items-center space-x-3",children:l?E.jsx(E.Fragment,{children:E.jsx("button",{className:"hover:bg-gray-100 text-gray-600 hover:text-gray-900 px-3 py-1.5 rounded text-xs font-medium transition-colors border border-transparent hover:border-gray-200",onClick:c,children:"Add Cards"})}):!r.startsWith("operations")&&!r.startsWith("business")&&!r.startsWith("support")&&!r.startsWith("supply-chain")?E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:u,className:"group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95",children:[E.jsx(wq,{size:16,className:"text-clickup-purple group-hover:rotate-12 transition-transform"}),E.jsx("span",{className:"text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent",children:"Ask AI"})]}),E.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),E.jsx("div",{className:"flex items-center space-x-1 text-gray-500",children:E.jsx("div",{className:"relative group",children:E.jsxs("div",{className:"flex -space-x-2 cursor-pointer hover:scale-105 transition-transform",onClick:()=>o("Manage Assignees","info"),children:[E.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"A"}),E.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"S"}),E.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold",children:"+"})]})})}),E.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors",onClick:()=>o("Share view options","info"),children:E.jsx(Ble,{size:16})}),E.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),E.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[E.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>o("Filter menu","info"),children:[E.jsx(Dq,{size:14}),E.jsx("span",{className:"hidden md:inline",children:"Filter"})]}),E.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>o("Sort menu","info"),children:[E.jsx(Goe,{size:14}),E.jsx("span",{className:"hidden md:inline",children:"Sort"})]})]})]}):null})]})},que=({onInsert:n})=>{const{getPageTitle:e,activePage:t}=Z2(),r=e(),{showToast:i}=pl(),[a,o]=fe.useState(null),s=["File","Edit","Insert","View","Window","Help"];return E.jsx("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:E.jsxs("div",{className:"flex items-center h-full",children:[E.jsx("div",{className:"flex items-center mr-4 pr-4 border-r border-gray-200 h-6",children:E.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors",onClick:()=>i("Breadcrumb navigation","info"),children:[r," ",E.jsx(Yl,{size:12,className:"ml-1 text-gray-400"})]})}),E.jsx("div",{className:"flex items-center space-x-6",children:s.map(l=>E.jsxs("div",{className:"relative",children:[E.jsx("button",{className:`px - 3 py - 1.5 text - sm rounded - md transition - colors ${a===l?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} `,onClick:()=>o(a===l?null:l),children:l}),a===l&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(null)}),E.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white border border-gray-200 rounded-md shadow-lg py-1 z-20",children:l==="Insert"?E.jsxs(E.Fragment,{children:[t.endsWith("/data")&&E.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between group",onClick:()=>{n&&n("custom-table"),o(null)},children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx(Uq,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),E.jsx("span",{children:"Custom Table"})]}),E.jsx("span",{className:"text-xs text-gray-400",children:"T"})]}),t.includes("analytics")&&E.jsx("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between group",onClick:()=>{n&&n("kpi-card"),o(null)},children:E.jsxs("div",{className:"flex items-center",children:[E.jsx(Cq,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),E.jsx("span",{children:"KPI Card"})]})}),t.includes("analytics")&&E.jsx("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between group",onClick:()=>{n&&n("chart"),o(null)},children:E.jsxs("div",{className:"flex items-center",children:[E.jsx(use,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),E.jsx("span",{children:"Chart"})]})}),E.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100 flex items-center group",children:[E.jsx(tle,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),E.jsx("span",{children:"Image"})]})]}):["1","2","3","4","5","6","7","8"].map(u=>E.jsxs("button",{className:"w-full text-left px-4 py-1.5 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>{i(`${l} Item ${u} clicked`,"success"),o(null)},children:[l," Item ",u]},u))})]})]},l))})]})})},Zue=({isOpen:n,onClose:e,onAdd:t})=>{const[r,i]=fe.useState("New Table"),[a,o]=fe.useState([{id:"1",name:"Column 1",type:"text",width:150},{id:"2",name:"Column 2",type:"text",width:150}]),[s,l]=fe.useState(!0),[u,c]=fe.useState("#f3f4f6");if(!n)return null;const f=()=>{const g=Math.random().toString(36).substr(2,9);o([...a,{id:g,name:`Column ${a.length+1}`,type:"text",width:150}])},h=g=>{o(a.filter(y=>y.id!==g))},d=(g,y,x)=>{o(a.map(b=>b.id===g?{...b,[y]:x}:b))},v=()=>{t({title:r,columns:a,showBorder:s,headerColor:u}),e()};return E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-[800px] max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx(Xse,{className:"text-indigo-600",size:20}),E.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Custom Table Builder"})]}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:E.jsx(q2,{size:20})})]}),E.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Table Title"}),E.jsx("input",{type:"text",value:r,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"Enter table name..."})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Header Style"}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("input",{type:"color",value:u,onChange:g=>c(g.target.value),className:"h-9 w-16 rounded cursor-pointer border border-gray-300 p-1"}),E.jsx("span",{className:"text-xs text-gray-500",children:"Color"})]}),E.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:s,onChange:g=>l(g.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),E.jsx("span",{className:"text-sm text-gray-700",children:"Show Borders"})]})]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Columns Configuration"}),E.jsxs("button",{onClick:f,className:"text-sm flex items-center space-x-1 text-indigo-600 hover:text-indigo-700 font-medium",children:[E.jsx(Ti,{size:16}),E.jsx("span",{children:"Add Column"})]})]}),E.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[E.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-2 bg-gray-100 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[E.jsx("div",{className:"col-span-5",children:"Name"}),E.jsx("div",{className:"col-span-3",children:"Type"}),E.jsx("div",{className:"col-span-3",children:"Width (px)"}),E.jsx("div",{className:"col-span-1"})]}),E.jsx("div",{className:"divide-y divide-gray-200",children:a.map(g=>E.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-3 items-center hover:bg-white transition-colors",children:[E.jsx("div",{className:"col-span-5",children:E.jsx("input",{type:"text",value:g.name,onChange:y=>d(g.id,"name",y.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none"})}),E.jsx("div",{className:"col-span-3",children:E.jsxs("select",{value:g.type,onChange:y=>d(g.id,"type",y.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none bg-white",children:[E.jsx("option",{value:"text",children:"Text"}),E.jsx("option",{value:"number",children:"Number"}),E.jsx("option",{value:"date",children:"Date"}),E.jsx("option",{value:"checkbox",children:"Checkbox"})]})}),E.jsx("div",{className:"col-span-3",children:E.jsx("input",{type:"number",value:g.width,onChange:y=>d(g.id,"width",parseInt(y.target.value)),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:border-indigo-500 outline-none"})}),E.jsx("div",{className:"col-span-1 flex justify-end",children:E.jsx("button",{onClick:()=>h(g.id),className:"text-gray-400 hover:text-red-500 transition-colors",disabled:a.length<=1,children:E.jsx($g,{size:16})})})]},g.id))})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Live Preview"}),E.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:s?"#e5e7eb":"transparent"},children:[E.jsx("div",{className:"flex",style:{backgroundColor:u},children:a.map(g=>E.jsx("div",{className:`px-4 py-2 text-sm font-semibold text-gray-700 ${s?"border-r border-gray-200 last:border-r-0":""}`,style:{width:g.width},children:E.jsxs("div",{className:"flex items-center space-x-2",children:[g.type==="text"&&E.jsx(Fq,{size:12,className:"text-gray-400"}),g.type==="number"&&E.jsx(Kse,{size:12,className:"text-gray-400"}),g.type==="date"&&E.jsx(Bp,{size:12,className:"text-gray-400"}),g.type==="checkbox"&&E.jsx(qle,{size:12,className:"text-gray-400"}),E.jsx("span",{children:g.name})]})},g.id))}),E.jsx("div",{className:"bg-white",children:E.jsx("div",{className:"flex border-t border-gray-100",children:a.map(g=>E.jsx("div",{className:`px-4 py-3 text-sm text-gray-400 italic ${s?"border-r border-gray-100 last:border-r-0":""}`,style:{width:g.width},children:"Sample Data"},g.id))})})]})]})]}),E.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3",children:[E.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),E.jsxs("button",{onClick:v,className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-colors flex items-center space-x-2",children:[E.jsx(Ti,{size:16}),E.jsx("span",{children:"Add Table"})]})]})]})})},Kue=({user:n,onLogout:e,onActivate:t})=>{const{isImmersive:r}=Z2(),{setBrainOpen:i}=dz(),a=()=>i(!0),{showToast:o}=pl(),[s,l]=fe.useState(!1),u=fe.useRef(null);return fe.useEffect(()=>{const c=f=>{u.current&&!u.current.contains(f.target)&&l(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]),E.jsxs("div",{className:"h-12 bg-clickup-sidebar flex items-center justify-between px-4 flex-shrink-0 z-40 text-gray-300 shadow-md select-none",children:[E.jsx("div",{className:"flex items-center w-[280px] shrink-0",children:E.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:opacity-90 transition-opacity group",children:[E.jsx("div",{className:"w-7 h-7 bg-gradient-to-tr from-brand-primary to-indigo-500 rounded-lg flex items-center justify-center shadow-lg shadow-brand-primary/20 group-hover:shadow-brand-primary/40 transition-all",children:E.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M2 17L12 22L22 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),E.jsx("span",{className:"font-bold text-white tracking-tight hidden md:block group-hover:text-brand-accent transition-colors",children:"NABD Chain System"})]})}),E.jsx("div",{className:"flex-1 flex justify-center px-4 min-w-0",children:E.jsx("div",{className:"w-full max-w-xl relative group",children:E.jsxs("div",{className:"flex items-center bg-[#3E4147] hover:bg-[#4B4E55] transition-colors rounded-lg px-3 py-1.5 cursor-text border border-transparent group-focus-within:border-brand-primary/50 group-focus-within:bg-[#2B2D31] h-8 shadow-inner",children:[E.jsx(hz,{size:14,className:"text-gray-400 group-focus-within:text-brand-primary mr-2 transition-colors"}),E.jsx("input",{type:"text",placeholder:"Search",className:"bg-transparent border-none outline-none text-sm text-gray-200 placeholder-gray-400 w-full group-focus-within:text-white",onKeyDown:c=>c.key==="Enter"&&o("Global Search...","info")}),E.jsx("div",{className:"flex items-center space-x-1 ml-2",children:E.jsxs("div",{className:"hidden md:flex items-center space-x-1 bg-gray-600/50 px-1.5 py-0.5 rounded text-[10px] text-gray-300 border border-gray-500/30 shadow-sm",children:[E.jsx(Rse,{size:10}),E.jsx("span",{children:"K"})]})})]})})}),E.jsxs("div",{className:"flex items-center justify-end w-[280px] shrink-0 space-x-1 md:space-x-3",children:[E.jsxs("button",{onClick:a,className:"flex items-center justify-center w-8 h-8 rounded-lg text-white bg-gradient-to-r from-purple-500/20 to-fuchsia-500/20 border border-white/10 hover:border-purple-400/50 hover:bg-purple-500/30 transition-all duration-300 shadow-[0_0_10px_rgba(168,85,247,0.15)] hover:shadow-[0_0_15px_rgba(168,85,247,0.4)] group backdrop-blur-md mr-2 relative overflow-hidden",title:"Ask AI",children:[E.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/30 to-transparent z-0"}),E.jsx(sf,{size:16,className:"text-fuchsia-400 group-hover:text-white transition-colors z-10"})]}),E.jsxs("button",{className:"flex items-center space-x-1.5 bg-gray-900 hover:bg-black text-white px-3 py-1.5 rounded-md transition-all shadow-md active:scale-95 group",onClick:()=>o("Create New Item","info"),children:[E.jsx(Mq,{size:16,className:"group-hover:rotate-90 transition-transform duration-300"}),E.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"New"})]}),E.jsx("div",{className:"h-5 w-[1px] bg-gray-600/50 mx-2 hidden xl:block"}),E.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[E.jsx("button",{className:"p-2 hover:bg-[#3E4147] rounded-md hover:text-white transition-colors hidden lg:block group relative",title:"My Tasks",children:E.jsx(jS,{size:18})}),E.jsx("button",{className:"p-2 hover:bg-[#3E4147] rounded-md hover:text-white transition-colors hidden xl:block group relative",title:"Track Time",children:E.jsx(iD,{size:18})})]}),E.jsx("div",{className:"h-5 w-[1px] bg-gray-600/50 mx-2 hidden md:block"}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsxs("button",{className:"p-2 hover:bg-[#3E4147] rounded-md hover:text-white transition-colors relative",children:[E.jsx(Koe,{size:18}),E.jsx("span",{className:"absolute top-1.5 right-2 w-2 h-2 bg-brand-primary rounded-full border border-[#2B2D31]"})]}),E.jsxs("div",{className:"relative",ref:u,children:[n?E.jsx("div",{className:"ml-2 w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white cursor-pointer hover:border-white transition-all shadow-md ring-2 ring-transparent hover:ring-gray-500/50 bg-gray-900 hover:bg-black border border-gray-700",title:n.name,onClick:()=>l(!s),children:n.avatar}):E.jsx("div",{className:"ml-2 w-8 h-8 rounded-full bg-gray-600 animate-pulse"}),s&&E.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-xl z-50 py-1 animate-in fade-in slide-in-from-top-2",children:[E.jsxs("div",{className:"px-4 py-2 border-b border-gray-700/50",children:[E.jsx("p",{className:"text-sm font-medium text-white",children:n==null?void 0:n.name}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:(n==null?void 0:n.email)||"user@example.com"})]}),E.jsxs("div",{className:"py-1",children:[E.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white flex items-center space-x-2 transition-colors",onClick:()=>{l(!1),t&&t()},children:[E.jsx(pS,{size:14,className:"text-yellow-400"}),E.jsx("span",{children:"Activate"})]}),E.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 flex items-center space-x-2 transition-colors",onClick:()=>{l(!1),e&&e()},children:[E.jsx(Iq,{size:14}),E.jsx("span",{children:"Sign Out"})]})]})]})]})]})]})]})};var ox=(n=>(n.Urgent="Urgent",n.High="High",n.Normal="Normal",n.Low="Low",n.None="None",n))(ox||{}),K2=(n=>(n.Todo="To do",n.InProgress="In Progress",n.Review="Review",n.Complete="Complete",n))(K2||{});const oD={"To do":"#87909e","In Progress":"#3b82f6",Review:"#eab308",Complete:"#22c55e"},vx={Urgent:"#e44356",High:"#ffcc00",Normal:"#6fddff",Low:"#87909e",None:"#d1d5db"};var Zy=bq();function Jue(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return fe.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const sD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zx(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function pz(n){return"nodeType"in n}function vs(n){var e,t;return n?Zx(n)?n:pz(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function vz(n){const{Document:e}=vs(n);return n instanceof e}function J2(n){return Zx(n)?!1:n instanceof vs(n).HTMLElement}function Yq(n){return n instanceof vs(n).SVGElement}function Kx(n){return n?Zx(n)?n.document:pz(n)?vz(n)?n:J2(n)||Yq(n)?n.ownerDocument:document:document:document}const Ku=sD?fe.useLayoutEffect:fe.useEffect;function lD(n){const e=fe.useRef(n);return Ku(()=>{e.current=n}),fe.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Que(){const n=fe.useRef(null),e=fe.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=fe.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function XS(n,e){e===void 0&&(e=[n]);const t=fe.useRef(n);return Ku(()=>{t.current!==n&&(t.current=n)},e),t}function Q2(n,e){const t=fe.useRef();return fe.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function WC(n){const e=lD(n),t=fe.useRef(null),r=fe.useCallback(i=>{i!==t.current&&(e==null||e(i,t.current)),t.current=i},[]);return[t,r]}function YC(n){const e=fe.useRef();return fe.useEffect(()=>{e.current=n},[n]),e.current}let ER={};function $2(n,e){return fe.useMemo(()=>{if(e)return e;const t=ER[n]==null?0:ER[n]+1;return ER[n]=t,n+"-"+t},[n,e])}function Xq(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const s=Object.entries(o);for(const[l,u]of s){const c=a[l];c!=null&&(a[l]=c+n*u)}return a},{...e})}}const sx=Xq(1),qS=Xq(-1);function $ue(n){return"clientX"in n&&"clientY"in n}function uD(n){if(!n)return!1;const{KeyboardEvent:e}=vs(n.target);return e&&n instanceof e}function ece(n){if(!n)return!1;const{TouchEvent:e}=vs(n.target);return e&&n instanceof e}function XC(n){if(ece(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return $ue(n)?{x:n.clientX,y:n.clientY}:null}const Cp=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Cp.Translate.toString(n),Cp.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),t8="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function tce(n){return n.matches(t8)?n:n.querySelector(t8)}const nce={display:"none"};function rce(n){let{id:e,value:t}=n;return Xr.createElement("div",{id:e,style:nce},t)}function ice(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Xr.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function ace(){const[n,e]=fe.useState("");return{announce:fe.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const qq=fe.createContext(null);function oce(n){const e=fe.useContext(qq);fe.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function sce(){const[n]=fe.useState(()=>new Set),e=fe.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[fe.useCallback(r=>{let{type:i,event:a}=r;n.forEach(o=>{var s;return(s=o[i])==null?void 0:s.call(o,a)})},[n]),e]}const lce={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uce={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function cce(n){let{announcements:e=uce,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=lce}=n;const{announce:a,announcement:o}=ace(),s=$2("DndLiveRegion"),[l,u]=fe.useState(!1);if(fe.useEffect(()=>{u(!0)},[]),oce(fe.useMemo(()=>({onDragStart(f){let{active:h}=f;a(e.onDragStart({active:h}))},onDragMove(f){let{active:h,over:d}=f;e.onDragMove&&a(e.onDragMove({active:h,over:d}))},onDragOver(f){let{active:h,over:d}=f;a(e.onDragOver({active:h,over:d}))},onDragEnd(f){let{active:h,over:d}=f;a(e.onDragEnd({active:h,over:d}))},onDragCancel(f){let{active:h,over:d}=f;a(e.onDragCancel({active:h,over:d}))}}),[a,e])),!l)return null;const c=Xr.createElement(Xr.Fragment,null,Xr.createElement(rce,{id:r,value:i.draggable}),Xr.createElement(ice,{id:s,announcement:o}));return t?Zy.createPortal(c,t):c}var wa;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(wa||(wa={}));function qC(){}function x5(n,e){return fe.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Zq(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return fe.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Ju=Object.freeze({x:0,y:0});function fce(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function hce(n,e){const t=XC(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function dce(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function pce(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function n8(n){let{left:e,top:t,height:r,width:i}=n;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+r},{x:e+i,y:t+r}]}function Kq(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}const Jq=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=n8(e),a=[];for(const o of r){const{id:s}=o,l=t.get(s);if(l){const u=n8(l),c=i.reduce((h,d,v)=>h+fce(u[v],d),0),f=Number((c/4).toFixed(4));a.push({id:s,data:{droppableContainer:o,value:f}})}}return a.sort(dce)};function vce(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),a=Math.min(e.top+e.height,n.top+n.height),o=i-r,s=a-t;if(r<i&&t<a){const l=e.width*e.height,u=n.width*n.height,c=o*s,f=c/(l+u-c);return Number(f.toFixed(4))}return 0}const gce=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const a of r){const{id:o}=a,s=t.get(o);if(s){const l=vce(s,e);l>0&&i.push({id:o,data:{droppableContainer:a,value:l}})}}return i.sort(pce)};function mce(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Qq(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Ju}function yce(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,s)=>({...o,top:o.top+n*s.y,bottom:o.bottom+n*s.y,left:o.left+n*s.x,right:o.right+n*s.x}),{...t})}}const xce=yce(1);function $q(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function _ce(n,e,t){const r=$q(e);if(!r)return n;const{scaleX:i,scaleY:a,x:o,y:s}=r,l=n.left-o-(1-i)*parseFloat(t),u=n.top-s-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),c=i?n.width/i:n.width,f=a?n.height/a:n.height;return{width:c,height:f,top:u,right:l+c,bottom:u+f,left:l}}const bce={ignoreTransform:!1};function Jx(n,e){e===void 0&&(e=bce);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:c}=vs(n).getComputedStyle(n);u&&(t=_ce(t,u,c))}const{top:r,left:i,width:a,height:o,bottom:s,right:l}=t;return{top:r,left:i,width:a,height:o,bottom:s,right:l}}function r8(n){return Jx(n,{ignoreTransform:!0})}function Sce(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function wce(n,e){return e===void 0&&(e=vs(n).getComputedStyle(n)),e.position==="fixed"}function Tce(n,e){e===void 0&&(e=vs(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?t.test(a):!1})}function cD(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(vz(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!J2(i)||Yq(i)||t.includes(i))return t;const a=vs(n).getComputedStyle(i);return i!==n&&Tce(i,a)&&t.push(i),wce(i,a)?t:r(i.parentNode)}return n?r(n):t}function eZ(n){const[e]=cD(n,1);return e??null}function DR(n){return!sD||!n?null:Zx(n)?n:pz(n)?vz(n)||n===Kx(n).scrollingElement?window:J2(n)?n:null:null}function tZ(n){return Zx(n)?n.scrollX:n.scrollLeft}function nZ(n){return Zx(n)?n.scrollY:n.scrollTop}function _5(n){return{x:tZ(n),y:nZ(n)}}var ja;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(ja||(ja={}));function rZ(n){return!sD||!n?!1:n===document.scrollingElement}function iZ(n){const e={x:0,y:0},t=rZ(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,a=n.scrollLeft<=e.x,o=n.scrollTop>=r.y,s=n.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:s,maxScroll:r,minScroll:e}}const Mce={x:.2,y:.2};function Ace(n,e,t,r,i){let{top:a,left:o,right:s,bottom:l}=t;r===void 0&&(r=10),i===void 0&&(i=Mce);const{isTop:u,isBottom:c,isLeft:f,isRight:h}=iZ(n),d={x:0,y:0},v={x:0,y:0},g={height:e.height*i.y,width:e.width*i.x};return!u&&a<=e.top+g.height?(d.y=ja.Backward,v.y=r*Math.abs((e.top+g.height-a)/g.height)):!c&&l>=e.bottom-g.height&&(d.y=ja.Forward,v.y=r*Math.abs((e.bottom-g.height-l)/g.height)),!h&&s>=e.right-g.width?(d.x=ja.Forward,v.x=r*Math.abs((e.right-g.width-s)/g.width)):!f&&o<=e.left+g.width&&(d.x=ja.Backward,v.x=r*Math.abs((e.left+g.width-o)/g.width)),{direction:d,speed:v}}function Cce(n){if(n===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function aZ(n){return n.reduce((e,t)=>sx(e,_5(t)),Ju)}function Ece(n){return n.reduce((e,t)=>e+tZ(t),0)}function Dce(n){return n.reduce((e,t)=>e+nZ(t),0)}function oZ(n,e){if(e===void 0&&(e=Jx),!n)return;const{top:t,left:r,bottom:i,right:a}=e(n);eZ(n)&&(i<=0||a<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Nce=[["x",["left","right"],Ece],["y",["top","bottom"],Dce]];let gz=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=cD(t),i=aZ(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,o,s]of Nce)for(const l of o)Object.defineProperty(this,l,{get:()=>{const u=s(r),c=i[a]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class vS{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Rce(n){const{EventTarget:e}=vs(n);return n instanceof e?n:Kx(n)}function NR(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Xl;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Xl||(Xl={}));function i8(n){n.preventDefault()}function Lce(n){n.stopPropagation()}var dr;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(dr||(dr={}));const sZ={start:[dr.Space,dr.Enter],cancel:[dr.Esc],end:[dr.Space,dr.Enter,dr.Tab]},Ice=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case dr.Right:return{...t,x:t.x+25};case dr.Left:return{...t,x:t.x-25};case dr.Down:return{...t,y:t.y+25};case dr.Up:return{...t,y:t.y-25}}};class mz{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new vS(Kx(t)),this.windowListeners=new vS(vs(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Xl.Resize,this.handleCancel),this.windowListeners.add(Xl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Xl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&oZ(r),t(Ju)}handleKeyDown(e){if(uD(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:a=sZ,coordinateGetter:o=Ice,scrollBehavior:s="smooth"}=i,{code:l}=e;if(a.end.includes(l)){this.handleEnd(e);return}if(a.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:Ju;this.referenceCoordinates||(this.referenceCoordinates=c);const f=o(e,{active:t,context:r.current,currentCoordinates:c});if(f){const h=qS(f,c),d={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const y=e.code,{isTop:x,isRight:b,isLeft:T,isBottom:M,maxScroll:C,minScroll:D}=iZ(g),R=Cce(g),I={x:Math.min(y===dr.Right?R.right-R.width/2:R.right,Math.max(y===dr.Right?R.left:R.left+R.width/2,f.x)),y:Math.min(y===dr.Down?R.bottom-R.height/2:R.bottom,Math.max(y===dr.Down?R.top:R.top+R.height/2,f.y))},L=y===dr.Right&&!b||y===dr.Left&&!T,O=y===dr.Down&&!M||y===dr.Up&&!x;if(L&&I.x!==f.x){const B=g.scrollLeft+h.x,V=y===dr.Right&&B<=C.x||y===dr.Left&&B>=D.x;if(V&&!h.y){g.scrollTo({left:B,behavior:s});return}V?d.x=g.scrollLeft-B:d.x=y===dr.Right?g.scrollLeft-C.x:g.scrollLeft-D.x,d.x&&g.scrollBy({left:-d.x,behavior:s});break}else if(O&&I.y!==f.y){const B=g.scrollTop+h.y,V=y===dr.Down&&B<=C.y||y===dr.Up&&B>=D.y;if(V&&!h.x){g.scrollTo({top:B,behavior:s});return}V?d.y=g.scrollTop-B:d.y=y===dr.Down?g.scrollTop-C.y:g.scrollTop-D.y,d.y&&g.scrollBy({top:-d.y,behavior:s});break}}this.handleMove(e,sx(qS(f,this.referenceCoordinates),d))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}mz.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=sZ,onActivation:i}=e,{active:a}=t;const{code:o}=n.nativeEvent;if(r.start.includes(o)){const s=a.activatorNode.current;return s&&n.target!==s?!1:(n.preventDefault(),i==null||i({event:n.nativeEvent}),!0)}return!1}}];function a8(n){return!!(n&&"distance"in n)}function o8(n){return!!(n&&"delay"in n)}class yz{constructor(e,t,r){var i;r===void 0&&(r=Rce(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:o}=a;this.props=e,this.events=t,this.document=Kx(o),this.documentListeners=new vS(this.document),this.listeners=new vS(r),this.windowListeners=new vS(vs(o)),this.initialCoordinates=(i=XC(a))!=null?i:Ju,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Xl.Resize,this.handleCancel),this.windowListeners.add(Xl.DragStart,i8),this.windowListeners.add(Xl.VisibilityChange,this.handleCancel),this.windowListeners.add(Xl.ContextMenu,i8),this.documentListeners.add(Xl.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(o8(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(a8(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Xl.Click,Lce,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Xl.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:s}}=a;if(!i)return;const l=(t=XC(e))!=null?t:Ju,u=qS(i,l);if(!r&&s){if(a8(s)){if(s.tolerance!=null&&NR(u,s.tolerance))return this.handleCancel();if(NR(u,s.distance))return this.handleStart()}if(o8(s)&&NR(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===dr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Oce={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class fD extends yz{constructor(e){const{event:t}=e,r=Kx(t.target);super(e,Oce,r)}}fD.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const Pce={move:{name:"mousemove"},end:{name:"mouseup"}};var b5;(function(n){n[n.RightClick=2]="RightClick"})(b5||(b5={}));class zce extends yz{constructor(e){super(e,Pce,Kx(e.event.target))}}zce.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===b5.RightClick?!1:(r==null||r({event:t}),!0)}}];const RR={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class kce extends yz{constructor(e){super(e,RR)}static setup(){return window.addEventListener(RR.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(RR.move.name,e)};function e(){}}}kce.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var gS;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(gS||(gS={}));var ZC;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(ZC||(ZC={}));function Bce(n){let{acceleration:e,activator:t=gS.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=ZC.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:f,threshold:h}=n;const d=Vce({delta:f,disabled:!a}),[v,g]=Que(),y=fe.useRef({x:0,y:0}),x=fe.useRef({x:0,y:0}),b=fe.useMemo(()=>{switch(t){case gS.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case gS.DraggableRect:return i}},[t,i,l]),T=fe.useRef(null),M=fe.useCallback(()=>{const D=T.current;if(!D)return;const R=y.current.x*x.current.x,I=y.current.y*x.current.y;D.scrollBy(R,I)},[]),C=fe.useMemo(()=>s===ZC.TreeOrder?[...u].reverse():u,[s,u]);fe.useEffect(()=>{if(!a||!u.length||!b){g();return}for(const D of C){if((r==null?void 0:r(D))===!1)continue;const R=u.indexOf(D),I=c[R];if(!I)continue;const{direction:L,speed:O}=Ace(D,I,b,e,h);for(const B of["x","y"])d[B][L[B]]||(O[B]=0,L[B]=0);if(O.x>0||O.y>0){g(),T.current=D,v(M,o),y.current=O,x.current=L;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[e,M,r,g,a,o,JSON.stringify(b),JSON.stringify(d),v,u,C,c,JSON.stringify(h)])}const Uce={x:{[ja.Backward]:!1,[ja.Forward]:!1},y:{[ja.Backward]:!1,[ja.Forward]:!1}};function Vce(n){let{delta:e,disabled:t}=n;const r=YC(e);return Q2(i=>{if(t||!r||!i)return Uce;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[ja.Backward]:i.x[ja.Backward]||a.x===-1,[ja.Forward]:i.x[ja.Forward]||a.x===1},y:{[ja.Backward]:i.y[ja.Backward]||a.y===-1,[ja.Forward]:i.y[ja.Forward]||a.y===1}}},[t,e,r])}function Fce(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Q2(i=>{var a;return e==null?null:(a=r??i)!=null?a:null},[r,e])}function Gce(n,e){return fe.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...t,...a]},[]),[n,e])}var ZS;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(ZS||(ZS={}));var S5;(function(n){n.Optimized="optimized"})(S5||(S5={}));const s8=new Map;function Hce(n,e){let{dragging:t,dependencies:r,config:i}=e;const[a,o]=fe.useState(null),{frequency:s,measure:l,strategy:u}=i,c=fe.useRef(n),f=y(),h=XS(f),d=fe.useCallback(function(x){x===void 0&&(x=[]),!h.current&&o(b=>b===null?x:b.concat(x.filter(T=>!b.includes(T))))},[h]),v=fe.useRef(null),g=Q2(x=>{if(f&&!t)return s8;if(!x||x===s8||c.current!==n||a!=null){const b=new Map;for(let T of n){if(!T)continue;if(a&&a.length>0&&!a.includes(T.id)&&T.rect.current){b.set(T.id,T.rect.current);continue}const M=T.node.current,C=M?new gz(l(M),M):null;T.rect.current=C,C&&b.set(T.id,C)}return b}return x},[n,a,t,f,l]);return fe.useEffect(()=>{c.current=n},[n]),fe.useEffect(()=>{f||d()},[t,f]),fe.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),fe.useEffect(()=>{f||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{d(),v.current=null},s))},[s,f,d,...r]),{droppableRects:g,measureDroppableContainers:d,measuringScheduled:a!=null};function y(){switch(u){case ZS.Always:return!1;case ZS.BeforeDragging:return t;default:return!t}}}function xz(n,e){return Q2(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function jce(n,e){return xz(n,e)}function Wce(n){let{callback:e,disabled:t}=n;const r=lD(e),i=fe.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,t]);return fe.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function hD(n){let{callback:e,disabled:t}=n;const r=lD(e),i=fe.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[t]);return fe.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Yce(n){return new gz(Jx(n),n)}function l8(n,e,t){e===void 0&&(e=Yce);const[r,i]=fe.useState(null);function a(){i(l=>{if(!n)return null;if(n.isConnected===!1){var u;return(u=l??t)!=null?u:null}const c=e(n);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const o=Wce({callback(l){if(n)for(const u of l){const{type:c,target:f}=u;if(c==="childList"&&f instanceof HTMLElement&&f.contains(n)){a();break}}}}),s=hD({callback:a});return Ku(()=>{a(),n?(s==null||s.observe(n),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),o==null||o.disconnect())},[n]),r}function Xce(n){const e=xz(n);return Qq(n,e)}const u8=[];function qce(n){const e=fe.useRef(n),t=Q2(r=>n?r&&r!==u8&&n&&e.current&&n.parentNode===e.current.parentNode?r:cD(n):u8,[n]);return fe.useEffect(()=>{e.current=n},[n]),t}function Zce(n){const[e,t]=fe.useState(null),r=fe.useRef(n),i=fe.useCallback(a=>{const o=DR(a.target);o&&t(s=>s?(s.set(o,_5(o)),new Map(s)):null)},[]);return fe.useEffect(()=>{const a=r.current;if(n!==a){o(a);const s=n.map(l=>{const u=DR(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,_5(u)]):null}).filter(l=>l!=null);t(s.length?new Map(s):null),r.current=n}return()=>{o(n),o(a)};function o(s){s.forEach(l=>{const u=DR(l);u==null||u.removeEventListener("scroll",i)})}},[i,n]),fe.useMemo(()=>n.length?e?Array.from(e.values()).reduce((a,o)=>sx(a,o),Ju):aZ(n):Ju,[n,e])}function c8(n,e){e===void 0&&(e=[]);const t=fe.useRef(null);return fe.useEffect(()=>{t.current=null},e),fe.useEffect(()=>{const r=n!==Ju;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?qS(n,t.current):Ju}function Kce(n){fe.useEffect(()=>{if(!sD)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function Jce(n,e){return fe.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:a}=r;return t[i]=o=>{a(o,e)},t},{}),[n,e])}function lZ(n){return fe.useMemo(()=>n?Sce(n):null,[n])}const f8=[];function Qce(n,e){e===void 0&&(e=Jx);const[t]=n,r=lZ(t?vs(t):null),[i,a]=fe.useState(f8);function o(){a(()=>n.length?n.map(l=>rZ(l)?r:new gz(e(l),l)):f8)}const s=hD({callback:o});return Ku(()=>{s==null||s.disconnect(),o(),n.forEach(l=>s==null?void 0:s.observe(l))},[n]),i}function uZ(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return J2(e)?e:n}function $ce(n){let{measure:e}=n;const[t,r]=fe.useState(null),i=fe.useCallback(u=>{for(const{target:c}of u)if(J2(c)){r(f=>{const h=e(c);return f?{...f,width:h.width,height:h.height}:h});break}},[e]),a=hD({callback:i}),o=fe.useCallback(u=>{const c=uZ(u);a==null||a.disconnect(),c&&(a==null||a.observe(c)),r(c?e(c):null)},[e,a]),[s,l]=WC(o);return fe.useMemo(()=>({nodeRef:s,rect:t,setRef:l}),[t,s,l])}const efe=[{sensor:fD,options:{}},{sensor:mz,options:{}}],tfe={current:{}},vC={draggable:{measure:r8},droppable:{measure:r8,strategy:ZS.WhileDragging,frequency:S5.Optimized},dragOverlay:{measure:Jx}};class mS extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const nfe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new mS,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qC},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:vC,measureDroppableContainers:qC,windowRect:null,measuringScheduled:!1},cZ={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qC,draggableNodes:new Map,over:null,measureDroppableContainers:qC},ew=fe.createContext(cZ),fZ=fe.createContext(nfe);function rfe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new mS}}}function ife(n,e){switch(e.type){case wa.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case wa.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case wa.DragEnd:case wa.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case wa.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new mS(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case wa.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,a=n.droppable.containers.get(t);if(!a||r!==a.key)return n;const o=new mS(n.droppable.containers);return o.set(t,{...a,disabled:i}),{...n,droppable:{...n.droppable,containers:o}}}case wa.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const a=new mS(n.droppable.containers);return a.delete(t),{...n,droppable:{...n.droppable,containers:a}}}default:return n}}function afe(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=fe.useContext(ew),a=YC(r),o=YC(t==null?void 0:t.id);return fe.useEffect(()=>{if(!e&&!r&&a&&o!=null){if(!uD(a)||document.activeElement===a.target)return;const s=i.get(o);if(!s)return;const{activatorNode:l,node:u}=s;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const f=tce(c);if(f){f.focus();break}}})}},[r,e,i,o,a]),null}function hZ(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,a)=>a({transform:i,...r}),t):t}function ofe(n){return fe.useMemo(()=>({draggable:{...vC.draggable,...n==null?void 0:n.draggable},droppable:{...vC.droppable,...n==null?void 0:n.droppable},dragOverlay:{...vC.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function sfe(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const a=fe.useRef(!1),{x:o,y:s}=typeof i=="boolean"?{x:i,y:i}:i;Ku(()=>{if(!o&&!s||!e){a.current=!1;return}if(a.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const c=t(u),f=Qq(c,r);if(o||(f.x=0),s||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=eZ(u);h&&h.scrollBy({top:f.y,left:f.x})}},[e,o,s,r,t])}const dD=fe.createContext({...Ju,scaleX:1,scaleY:1});var rp;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(rp||(rp={}));const dZ=fe.memo(function(e){var t,r,i,a;let{id:o,accessibility:s,autoScroll:l=!0,children:u,sensors:c=efe,collisionDetection:f=gce,measuring:h,modifiers:d,...v}=e;const g=fe.useReducer(ife,void 0,rfe),[y,x]=g,[b,T]=sce(),[M,C]=fe.useState(rp.Uninitialized),D=M===rp.Initialized,{draggable:{active:R,nodes:I,translate:L},droppable:{containers:O}}=y,B=R!=null?I.get(R):null,V=fe.useRef({initial:null,translated:null}),F=fe.useMemo(()=>{var at;return R!=null?{id:R,data:(at=B==null?void 0:B.data)!=null?at:tfe,rect:V}:null},[R,B]),k=fe.useRef(null),[Y,H]=fe.useState(null),[W,q]=fe.useState(null),K=XS(v,Object.values(v)),re=$2("DndDescribedBy",o),j=fe.useMemo(()=>O.getEnabled(),[O]),Q=ofe(h),{droppableRects:ne,measureDroppableContainers:se,measuringScheduled:he}=Hce(j,{dragging:D,dependencies:[L.x,L.y],config:Q.droppable}),pe=Fce(I,R),xe=fe.useMemo(()=>W?XC(W):null,[W]),Te=dt(),Me=jce(pe,Q.draggable.measure);sfe({activeNode:R!=null?I.get(R):null,config:Te.layoutShiftCompensation,initialRect:Me,measure:Q.draggable.measure});const Re=l8(pe,Q.draggable.measure,Me),Ue=l8(pe?pe.parentElement:null),et=fe.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ct=O.getNodeFor((t=et.current.over)==null?void 0:t.id),X=$ce({measure:Q.dragOverlay.measure}),te=(r=X.nodeRef.current)!=null?r:pe,ve=D?(i=X.rect)!=null?i:Re:null,oe=!!(X.nodeRef.current&&X.rect),ae=Xce(oe?null:Re),de=lZ(te?vs(te):null),Ae=qce(D?ct??pe:null),Ce=Qce(Ae),be=hZ(d,{transform:{x:L.x-ae.x,y:L.y-ae.y,scaleX:1,scaleY:1},activatorEvent:W,active:F,activeNodeRect:Re,containerNodeRect:Ue,draggingNodeRect:ve,over:et.current.over,overlayNodeRect:X.rect,scrollableAncestors:Ae,scrollableAncestorRects:Ce,windowRect:de}),ie=xe?sx(xe,L):null,ee=Zce(Ae),me=c8(ee),Ne=c8(ee,[Re]),qe=sx(be,me),Ie=ve?xce(ve,be):null,Mt=F&&Ie?f({active:F,collisionRect:Ie,droppableRects:ne,droppableContainers:j,pointerCoordinates:ie}):null,xt=Kq(Mt,"id"),[Ct,Dt]=fe.useState(null),Je=oe?be:sx(be,Ne),ut=mce(Je,(a=Ct==null?void 0:Ct.rect)!=null?a:null,Re),kt=fe.useRef(null),ye=fe.useCallback((at,rt)=>{let{sensor:tt,options:wt}=rt;if(k.current==null)return;const Bt=I.get(k.current);if(!Bt)return;const hn=at.nativeEvent,dn=new tt({active:k.current,activeNode:Bt,event:hn,options:wt,context:et,onAbort(Xn){if(!I.get(Xn))return;const{onDragAbort:ta}=K.current,da={id:Xn};ta==null||ta(da),b({type:"onDragAbort",event:da})},onPending(Xn,ho,ta,da){if(!I.get(Xn))return;const{onDragPending:po}=K.current,pi={id:Xn,constraint:ho,initialCoordinates:ta,offset:da};po==null||po(pi),b({type:"onDragPending",event:pi})},onStart(Xn){const ho=k.current;if(ho==null)return;const ta=I.get(ho);if(!ta)return;const{onDragStart:da}=K.current,ni={activatorEvent:hn,active:{id:ho,data:ta.data,rect:V}};Zy.unstable_batchedUpdates(()=>{da==null||da(ni),C(rp.Initializing),x({type:wa.DragStart,initialCoordinates:Xn,active:ho}),b({type:"onDragStart",event:ni}),H(kt.current),q(hn)})},onMove(Xn){x({type:wa.DragMove,coordinates:Xn})},onEnd:br(wa.DragEnd),onCancel:br(wa.DragCancel)});kt.current=dn;function br(Xn){return async function(){const{active:ta,collisions:da,over:ni,scrollAdjustedTranslate:po}=et.current;let pi=null;if(ta&&po){const{cancelDrop:Fi}=K.current;pi={activatorEvent:hn,active:ta,collisions:da,delta:po,over:ni},Xn===wa.DragEnd&&typeof Fi=="function"&&await Promise.resolve(Fi(pi))&&(Xn=wa.DragCancel)}k.current=null,Zy.unstable_batchedUpdates(()=>{x({type:Xn}),C(rp.Uninitialized),Dt(null),H(null),q(null),kt.current=null;const Fi=Xn===wa.DragEnd?"onDragEnd":"onDragCancel";if(pi){const Ei=K.current[Fi];Ei==null||Ei(pi),b({type:Fi,event:pi})}})}}},[I]),Fe=fe.useCallback((at,rt)=>(tt,wt)=>{const Bt=tt.nativeEvent,hn=I.get(wt);if(k.current!==null||!hn||Bt.dndKit||Bt.defaultPrevented)return;const dn={active:hn};at(tt,rt.options,dn)===!0&&(Bt.dndKit={capturedBy:rt.sensor},k.current=wt,ye(tt,rt))},[I,ye]),ft=Gce(c,Fe);Kce(c),Ku(()=>{Re&&M===rp.Initializing&&C(rp.Initialized)},[Re,M]),fe.useEffect(()=>{const{onDragMove:at}=K.current,{active:rt,activatorEvent:tt,collisions:wt,over:Bt}=et.current;if(!rt||!tt)return;const hn={active:rt,activatorEvent:tt,collisions:wt,delta:{x:qe.x,y:qe.y},over:Bt};Zy.unstable_batchedUpdates(()=>{at==null||at(hn),b({type:"onDragMove",event:hn})})},[qe.x,qe.y]),fe.useEffect(()=>{const{active:at,activatorEvent:rt,collisions:tt,droppableContainers:wt,scrollAdjustedTranslate:Bt}=et.current;if(!at||k.current==null||!rt||!Bt)return;const{onDragOver:hn}=K.current,dn=wt.get(xt),br=dn&&dn.rect.current?{id:dn.id,rect:dn.rect.current,data:dn.data,disabled:dn.disabled}:null,Xn={active:at,activatorEvent:rt,collisions:tt,delta:{x:Bt.x,y:Bt.y},over:br};Zy.unstable_batchedUpdates(()=>{Dt(br),hn==null||hn(Xn),b({type:"onDragOver",event:Xn})})},[xt]),Ku(()=>{et.current={activatorEvent:W,active:F,activeNode:pe,collisionRect:Ie,collisions:Mt,droppableRects:ne,draggableNodes:I,draggingNode:te,draggingNodeRect:ve,droppableContainers:O,over:Ct,scrollableAncestors:Ae,scrollAdjustedTranslate:qe},V.current={initial:ve,translated:Ie}},[F,pe,Mt,Ie,I,te,ve,ne,O,Ct,Ae,qe]),Bce({...Te,delta:L,draggingRect:Ie,pointerCoordinates:ie,scrollableAncestors:Ae,scrollableAncestorRects:Ce});const _e=fe.useMemo(()=>({active:F,activeNode:pe,activeNodeRect:Re,activatorEvent:W,collisions:Mt,containerNodeRect:Ue,dragOverlay:X,draggableNodes:I,droppableContainers:O,droppableRects:ne,over:Ct,measureDroppableContainers:se,scrollableAncestors:Ae,scrollableAncestorRects:Ce,measuringConfiguration:Q,measuringScheduled:he,windowRect:de}),[F,pe,Re,W,Mt,Ue,X,I,O,ne,Ct,se,Ae,Ce,Q,he,de]),ht=fe.useMemo(()=>({activatorEvent:W,activators:ft,active:F,activeNodeRect:Re,ariaDescribedById:{draggable:re},dispatch:x,draggableNodes:I,over:Ct,measureDroppableContainers:se}),[W,ft,F,Re,x,re,I,Ct,se]);return Xr.createElement(qq.Provider,{value:T},Xr.createElement(ew.Provider,{value:ht},Xr.createElement(fZ.Provider,{value:_e},Xr.createElement(dD.Provider,{value:ut},u)),Xr.createElement(afe,{disabled:(s==null?void 0:s.restoreFocus)===!1})),Xr.createElement(cce,{...s,hiddenTextDescribedById:re}));function dt(){const at=(Y==null?void 0:Y.autoScrollEnabled)===!1,rt=typeof l=="object"?l.enabled===!1:l===!1,tt=D&&!at&&!rt;return typeof l=="object"?{...l,enabled:tt}:{enabled:tt}}}),lfe=fe.createContext(null),h8="button",ufe="Draggable";function pZ(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const a=$2(ufe),{activators:o,activatorEvent:s,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:f,over:h}=fe.useContext(ew),{role:d=h8,roleDescription:v="draggable",tabIndex:g=0}=i??{},y=(l==null?void 0:l.id)===e,x=fe.useContext(y?dD:lfe),[b,T]=WC(),[M,C]=WC(),D=Jce(o,e),R=XS(t);Ku(()=>(f.set(e,{id:e,key:a,node:b,activatorNode:M,data:R}),()=>{const L=f.get(e);L&&L.key===a&&f.delete(e)}),[f,e]);const I=fe.useMemo(()=>({role:d,tabIndex:g,"aria-disabled":r,"aria-pressed":y&&d===h8?!0:void 0,"aria-roledescription":v,"aria-describedby":c.draggable}),[r,d,g,y,v,c.draggable]);return{active:l,activatorEvent:s,activeNodeRect:u,attributes:I,isDragging:y,listeners:r?void 0:D,node:b,over:h,setNodeRef:T,setActivatorNodeRef:C,transform:x}}function vZ(){return fe.useContext(fZ)}const cfe="Droppable",ffe={timeout:25};function gZ(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const a=$2(cfe),{active:o,dispatch:s,over:l,measureDroppableContainers:u}=fe.useContext(ew),c=fe.useRef({disabled:t}),f=fe.useRef(!1),h=fe.useRef(null),d=fe.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...ffe,...i},x=XS(g??r),b=fe.useCallback(()=>{if(!f.current){f.current=!0;return}d.current!=null&&clearTimeout(d.current),d.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),d.current=null},y)},[y]),T=hD({callback:b,disabled:v||!o}),M=fe.useCallback((I,L)=>{T&&(L&&(T.unobserve(L),f.current=!1),I&&T.observe(I))},[T]),[C,D]=WC(M),R=XS(e);return fe.useEffect(()=>{!T||!C.current||(T.disconnect(),f.current=!1,T.observe(C.current))},[C,T]),fe.useEffect(()=>(s({type:wa.RegisterDroppable,element:{id:r,key:a,disabled:t,node:C,rect:h,data:R}}),()=>s({type:wa.UnregisterDroppable,key:a,id:r})),[r]),fe.useEffect(()=>{t!==c.current.disabled&&(s({type:wa.SetDroppableDisabled,id:r,key:a,disabled:t}),c.current.disabled=t)},[r,a,t,s]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===r,node:C,over:l,setNodeRef:D}}function hfe(n){let{animation:e,children:t}=n;const[r,i]=fe.useState(null),[a,o]=fe.useState(null),s=YC(t);return!t&&!r&&s&&i(s),Ku(()=>{if(!a)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){i(null);return}Promise.resolve(e(u,a)).then(()=>{i(null)})},[e,r,a]),Xr.createElement(Xr.Fragment,null,t,r?fe.cloneElement(r,{ref:o}):null)}const dfe={x:0,y:0,scaleX:1,scaleY:1};function pfe(n){let{children:e}=n;return Xr.createElement(ew.Provider,{value:cZ},Xr.createElement(dD.Provider,{value:dfe},e))}const vfe={position:"fixed",touchAction:"none"},gfe=n=>uD(n)?"transform 250ms ease":void 0,mfe=fe.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:i,children:a,className:o,rect:s,style:l,transform:u,transition:c=gfe}=n;if(!s)return null;const f=i?u:{...u,scaleX:1,scaleY:1},h={...vfe,width:s.width,height:s.height,top:s.top,left:s.left,transform:Cp.Transform.toString(f),transformOrigin:i&&r?hce(r,s):void 0,transition:typeof c=="function"?c(r):c,...l};return Xr.createElement(t,{className:o,style:h,ref:e},a)}),_z=n=>e=>{let{active:t,dragOverlay:r}=e;const i={},{styles:a,className:o}=n;if(a!=null&&a.active)for(const[s,l]of Object.entries(a.active))l!==void 0&&(i[s]=t.node.style.getPropertyValue(s),t.node.style.setProperty(s,l));if(a!=null&&a.dragOverlay)for(const[s,l]of Object.entries(a.dragOverlay))l!==void 0&&r.node.style.setProperty(s,l);return o!=null&&o.active&&t.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[l,u]of Object.entries(i))t.node.style.setProperty(l,u);o!=null&&o.active&&t.node.classList.remove(o.active)}},yfe=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Cp.Transform.toString(e)},{transform:Cp.Transform.toString(t)}]},xfe={duration:250,easing:"ease",keyframes:yfe,sideEffects:_z({styles:{active:{opacity:"0"}}})};function _fe(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:i}=n;return lD((a,o)=>{if(e===null)return;const s=t.get(a);if(!s)return;const l=s.node.current;if(!l)return;const u=uZ(o);if(!u)return;const{transform:c}=vs(o).getComputedStyle(o),f=$q(c);if(!f)return;const h=typeof e=="function"?e:bfe(e);return oZ(l,i.draggable.measure),h({active:{id:a,data:s.data,node:l,rect:i.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:o,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:f})})}function bfe(n){const{duration:e,easing:t,sideEffects:r,keyframes:i}={...xfe,...n};return a=>{let{active:o,dragOverlay:s,transform:l,...u}=a;if(!e)return;const c={x:s.rect.left-o.rect.left,y:s.rect.top-o.rect.top},f={scaleX:l.scaleX!==1?o.rect.width*l.scaleX/s.rect.width:1,scaleY:l.scaleY!==1?o.rect.height*l.scaleY/s.rect.height:1},h={x:l.x-c.x,y:l.y-c.y,...f},d=i({...u,active:o,dragOverlay:s,transform:{initial:l,final:h}}),[v]=d,g=d[d.length-1];if(JSON.stringify(v)===JSON.stringify(g))return;const y=r==null?void 0:r({active:o,dragOverlay:s,...u}),x=s.node.animate(d,{duration:e,easing:t,fill:"forwards"});return new Promise(b=>{x.onfinish=()=>{y==null||y(),b()}})}}let d8=0;function Sfe(n){return fe.useMemo(()=>{if(n!=null)return d8++,d8},[n])}const mZ=Xr.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:s="div",className:l,zIndex:u=999}=n;const{activatorEvent:c,active:f,activeNodeRect:h,containerNodeRect:d,draggableNodes:v,droppableContainers:g,dragOverlay:y,over:x,measuringConfiguration:b,scrollableAncestors:T,scrollableAncestorRects:M,windowRect:C}=vZ(),D=fe.useContext(dD),R=Sfe(f==null?void 0:f.id),I=hZ(o,{activatorEvent:c,active:f,activeNodeRect:h,containerNodeRect:d,draggingNodeRect:y.rect,over:x,overlayNodeRect:y.rect,scrollableAncestors:T,scrollableAncestorRects:M,transform:D,windowRect:C}),L=xz(h),O=_fe({config:r,draggableNodes:v,droppableContainers:g,measuringConfiguration:b}),B=L?y.setRef:void 0;return Xr.createElement(pfe,null,Xr.createElement(hfe,{animation:O},f&&R?Xr.createElement(mfe,{key:R,id:f.id,ref:B,as:s,activatorEvent:c,adjustScale:e,className:l,transition:a,rect:L,style:{zIndex:u,...i},transform:I},t):null))});function yZ(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function wfe(n,e){return n.reduce((t,r,i)=>{const a=e.get(r);return a&&(t[i]=a),t},Array(n.length))}function iM(n){return n!==null&&n>=0}function Tfe(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Mfe(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const xZ=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const a=yZ(e,r,t),o=e[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},aM={scaleX:1,scaleY:1},Afe=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:i,rects:a,overIndex:o}=n;const s=(e=a[t])!=null?e:r;if(!s)return null;if(i===t){const u=a[o];return u?{x:0,y:t<o?u.top+u.height-(s.top+s.height):u.top-s.top,...aM}:null}const l=Cfe(a,i,t);return i>t&&i<=o?{x:0,y:-s.height-l,...aM}:i<t&&i>=o?{x:0,y:s.height+l,...aM}:{x:0,y:0,...aM}};function Cfe(n,e,t){const r=n[e],i=n[e-1],a=n[e+1];return r?t<e?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const _Z="Sortable",bZ=Xr.createContext({activeIndex:-1,containerId:_Z,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:xZ,disabled:{draggable:!1,droppable:!1}});function Efe(n){let{children:e,id:t,items:r,strategy:i=xZ,disabled:a=!1}=n;const{active:o,dragOverlay:s,droppableRects:l,over:u,measureDroppableContainers:c}=vZ(),f=$2(_Z,t),h=s.rect!==null,d=fe.useMemo(()=>r.map(D=>typeof D=="object"&&"id"in D?D.id:D),[r]),v=o!=null,g=o?d.indexOf(o.id):-1,y=u?d.indexOf(u.id):-1,x=fe.useRef(d),b=!Tfe(d,x.current),T=y!==-1&&g===-1||b,M=Mfe(a);Ku(()=>{b&&v&&c(d)},[b,d,v,c]),fe.useEffect(()=>{x.current=d},[d]);const C=fe.useMemo(()=>({activeIndex:g,containerId:f,disabled:M,disableTransforms:T,items:d,overIndex:y,useDragOverlay:h,sortedRects:wfe(d,l),strategy:i}),[g,f,M.draggable,M.droppable,T,d,y,l,h,i]);return Xr.createElement(bZ.Provider,{value:C},e)}const Dfe=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return yZ(t,r,i).indexOf(e)},Nfe=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:l,transition:u}=n;return!u||!r||s!==a&&i===o?!1:t?!0:o!==i&&e===l},Rfe={duration:200,easing:"ease"},SZ="transform",Lfe=Cp.Transition.toString({property:SZ,duration:0,easing:"linear"}),Ife={roleDescription:"sortable"};function Ofe(n){let{disabled:e,index:t,node:r,rect:i}=n;const[a,o]=fe.useState(null),s=fe.useRef(t);return Ku(()=>{if(!e&&t!==s.current&&r.current){const l=i.current;if(l){const u=Jx(r.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&o(c)}}t!==s.current&&(s.current=t)},[e,t,r,i]),fe.useEffect(()=>{a&&o(null)},[a]),a}function Pfe(n){let{animateLayoutChanges:e=Nfe,attributes:t,disabled:r,data:i,getNewIndex:a=Dfe,id:o,strategy:s,resizeObserverConfig:l,transition:u=Rfe}=n;const{items:c,containerId:f,activeIndex:h,disabled:d,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:b}=fe.useContext(bZ),T=zfe(r,d),M=c.indexOf(o),C=fe.useMemo(()=>({sortable:{containerId:f,index:M,items:c},...i}),[f,i,M,c]),D=fe.useMemo(()=>c.slice(c.indexOf(o)),[c,o]),{rect:R,node:I,isOver:L,setNodeRef:O}=gZ({id:o,data:C,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...l}}),{active:B,activatorEvent:V,activeNodeRect:F,attributes:k,setNodeRef:Y,listeners:H,isDragging:W,over:q,setActivatorNodeRef:K,transform:re}=pZ({id:o,data:C,attributes:{...Ife,...t},disabled:T.draggable}),j=Jue(O,Y),Q=!!B,ne=Q&&!v&&iM(h)&&iM(y),se=!x&&W,he=se&&ne?re:null,xe=ne?he??(s??b)({rects:g,activeNodeRect:F,activeIndex:h,overIndex:y,index:M}):null,Te=iM(h)&&iM(y)?a({id:o,items:c,activeIndex:h,overIndex:y}):M,Me=B==null?void 0:B.id,Re=fe.useRef({activeId:Me,items:c,newIndex:Te,containerId:f}),Ue=c!==Re.current.items,et=e({active:B,containerId:f,isDragging:W,isSorting:Q,id:o,index:M,items:c,newIndex:Re.current.newIndex,previousItems:Re.current.items,previousContainerId:Re.current.containerId,transition:u,wasDragging:Re.current.activeId!=null}),ct=Ofe({disabled:!et,index:M,node:I,rect:R});return fe.useEffect(()=>{Q&&Re.current.newIndex!==Te&&(Re.current.newIndex=Te),f!==Re.current.containerId&&(Re.current.containerId=f),c!==Re.current.items&&(Re.current.items=c)},[Q,Te,f,c]),fe.useEffect(()=>{if(Me===Re.current.activeId)return;if(Me!=null&&Re.current.activeId==null){Re.current.activeId=Me;return}const te=setTimeout(()=>{Re.current.activeId=Me},50);return()=>clearTimeout(te)},[Me]),{active:B,activeIndex:h,attributes:k,data:C,rect:R,index:M,newIndex:Te,items:c,isOver:L,isSorting:Q,isDragging:W,listeners:H,node:I,overIndex:y,over:q,setNodeRef:j,setActivatorNodeRef:K,setDroppableNodeRef:O,setDraggableNodeRef:Y,transform:ct??xe,transition:X()};function X(){if(ct||Ue&&Re.current.newIndex===M)return Lfe;if(!(se&&!uD(V)||!u)&&(Q||et))return Cp.Transition.toString({...u,property:SZ})}}function zfe(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}function KC(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const kfe=[dr.Down,dr.Right,dr.Up,dr.Left],Bfe=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=e;if(kfe.includes(n.code)){if(n.preventDefault(),!t||!r)return;const l=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=i.get(f.id);if(h)switch(n.code){case dr.Down:r.top<h.top&&l.push(f);break;case dr.Up:r.top>h.top&&l.push(f);break;case dr.Left:r.left>h.left&&l.push(f);break;case dr.Right:r.left<h.left&&l.push(f);break}});const u=Jq({collisionRect:r,droppableRects:i,droppableContainers:l});let c=Kq(u,"id");if(c===(o==null?void 0:o.id)&&u.length>1&&(c=u[1].id),c!=null){const f=a.get(t.id),h=a.get(c),d=h?i.get(h.id):null,v=h==null?void 0:h.node.current;if(v&&d&&f&&h){const y=cD(v).some((D,R)=>s[R]!==D),x=wZ(f,h),b=Ufe(f,h),T=y||!x?{x:0,y:0}:{x:b?r.width-d.width:0,y:b?r.height-d.height:0},M={x:d.left,y:d.top};return T.x&&T.y?M:qS(M,T)}}}};function wZ(n,e){return!KC(n)||!KC(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function Ufe(n,e){return!KC(n)||!KC(e)||!wZ(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const Vfe=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},Ffe=(n,e)=>({classGroupId:n,validator:e}),TZ=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),JC="-",p8=[],Gfe="arbitrary..",Hfe=n=>{const e=Wfe(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return jfe(o);const s=o.split(JC),l=s[0]===""&&s.length>1?1:0;return MZ(s,l,e)},getConflictingClassGroupIds:(o,s)=>{if(s){const l=r[o],u=t[o];return l?u?Vfe(u,l):l:u||p8}return t[o]||p8}}},MZ=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const i=n[e],a=t.nextPart.get(i);if(a){const u=MZ(n,e+1,a);if(u)return u}const o=t.validators;if(o===null)return;const s=e===0?n.join(JC):n.slice(e).join(JC),l=o.length;for(let u=0;u<l;u++){const c=o[u];if(c.validator(s))return c.classGroupId}},jfe=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?Gfe+r:void 0})(),Wfe=n=>{const{theme:e,classGroups:t}=n;return Yfe(t,e)},Yfe=(n,e)=>{const t=TZ();for(const r in n){const i=n[r];bz(i,t,r,e)}return t},bz=(n,e,t,r)=>{const i=n.length;for(let a=0;a<i;a++){const o=n[a];Xfe(o,e,t,r)}},Xfe=(n,e,t,r)=>{if(typeof n=="string"){qfe(n,e,t);return}if(typeof n=="function"){Zfe(n,e,t,r);return}Kfe(n,e,t,r)},qfe=(n,e,t)=>{const r=n===""?e:AZ(e,n);r.classGroupId=t},Zfe=(n,e,t,r)=>{if(Jfe(n)){bz(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Ffe(t,n))},Kfe=(n,e,t,r)=>{const i=Object.entries(n),a=i.length;for(let o=0;o<a;o++){const[s,l]=i[o];bz(l,AZ(e,s),t,r)}},AZ=(n,e)=>{let t=n;const r=e.split(JC),i=r.length;for(let a=0;a<i;a++){const o=r[a];let s=t.nextPart.get(o);s||(s=TZ(),t.nextPart.set(o,s)),t=s}return t},Jfe=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,Qfe=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const i=(a,o)=>{t[a]=o,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let o=t[a];if(o!==void 0)return o;if((o=r[a])!==void 0)return i(a,o),o},set(a,o){a in t?t[a]=o:i(a,o)}}},w5="!",v8=":",$fe=[],g8=(n,e,t,r,i)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:i}),ehe=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let o=0,s=0,l=0,u;const c=i.length;for(let g=0;g<c;g++){const y=i[g];if(o===0&&s===0){if(y===v8){a.push(i.slice(l,g)),l=g+1;continue}if(y==="/"){u=g;continue}}y==="["?o++:y==="]"?o--:y==="("?s++:y===")"&&s--}const f=a.length===0?i:i.slice(l);let h=f,d=!1;f.endsWith(w5)?(h=f.slice(0,-1),d=!0):f.startsWith(w5)&&(h=f.slice(1),d=!0);const v=u&&u>l?u-l:void 0;return g8(a,d,h,v)};if(e){const i=e+v8,a=r;r=o=>o.startsWith(i)?a(o.slice(i.length)):g8($fe,!1,o,void 0,!0)}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},the=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let i=[];for(let a=0;a<t.length;a++){const o=t[a],s=o[0]==="[",l=e.has(o);s||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},nhe=n=>({cache:Qfe(n.cacheSize),parseClassName:ehe(n),sortModifiers:the(n),...Hfe(n)}),rhe=/\s+/,ihe=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,o=[],s=n.trim().split(rhe);let l="";for(let u=s.length-1;u>=0;u-=1){const c=s[u],{isExternal:f,modifiers:h,hasImportantModifier:d,baseClassName:v,maybePostfixModifierPosition:g}=t(c);if(f){l=c+(l.length>0?" "+l:l);continue}let y=!!g,x=r(y?v.substring(0,g):v);if(!x){if(!y){l=c+(l.length>0?" "+l:l);continue}if(x=r(v),!x){l=c+(l.length>0?" "+l:l);continue}y=!1}const b=h.length===0?"":h.length===1?h[0]:a(h).join(":"),T=d?b+w5:b,M=T+x;if(o.indexOf(M)>-1)continue;o.push(M);const C=i(x,y);for(let D=0;D<C.length;++D){const R=C[D];o.push(T+R)}l=c+(l.length>0?" "+l:l)}return l},ahe=(...n)=>{let e=0,t,r,i="";for(;e<n.length;)(t=n[e++])&&(r=CZ(t))&&(i&&(i+=" "),i+=r);return i},CZ=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=CZ(n[r]))&&(t&&(t+=" "),t+=e);return t},ohe=(n,...e)=>{let t,r,i,a;const o=l=>{const u=e.reduce((c,f)=>f(c),n());return t=nhe(u),r=t.cache.get,i=t.cache.set,a=s,s(l)},s=l=>{const u=r(l);if(u)return u;const c=ihe(l,t);return i(l,c),c};return a=o,(...l)=>a(ahe(...l))},she=[],ba=n=>{const e=t=>t[n]||she;return e.isThemeGetter=!0,e},EZ=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DZ=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lhe=/^\d+\/\d+$/,uhe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,che=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fhe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hhe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dhe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,W0=n=>lhe.test(n),qn=n=>!!n&&!Number.isNaN(Number(n)),kd=n=>!!n&&Number.isInteger(Number(n)),LR=n=>n.endsWith("%")&&qn(n.slice(0,-1)),th=n=>uhe.test(n),phe=()=>!0,vhe=n=>che.test(n)&&!fhe.test(n),NZ=()=>!1,ghe=n=>hhe.test(n),mhe=n=>dhe.test(n),yhe=n=>!Zt(n)&&!Kt(n),xhe=n=>Qx(n,IZ,NZ),Zt=n=>EZ.test(n),Vv=n=>Qx(n,OZ,vhe),IR=n=>Qx(n,The,qn),m8=n=>Qx(n,RZ,NZ),_he=n=>Qx(n,LZ,mhe),oM=n=>Qx(n,PZ,ghe),Kt=n=>DZ.test(n),$1=n=>$x(n,OZ),bhe=n=>$x(n,Mhe),y8=n=>$x(n,RZ),She=n=>$x(n,IZ),whe=n=>$x(n,LZ),sM=n=>$x(n,PZ,!0),Qx=(n,e,t)=>{const r=EZ.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},$x=(n,e,t=!1)=>{const r=DZ.exec(n);return r?r[1]?e(r[1]):t:!1},RZ=n=>n==="position"||n==="percentage",LZ=n=>n==="image"||n==="url",IZ=n=>n==="length"||n==="size"||n==="bg-size",OZ=n=>n==="length",The=n=>n==="number",Mhe=n=>n==="family-name",PZ=n=>n==="shadow",Ahe=()=>{const n=ba("color"),e=ba("font"),t=ba("text"),r=ba("font-weight"),i=ba("tracking"),a=ba("leading"),o=ba("breakpoint"),s=ba("container"),l=ba("spacing"),u=ba("radius"),c=ba("shadow"),f=ba("inset-shadow"),h=ba("text-shadow"),d=ba("drop-shadow"),v=ba("blur"),g=ba("perspective"),y=ba("aspect"),x=ba("ease"),b=ba("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...M(),Kt,Zt],D=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],I=()=>[Kt,Zt,l],L=()=>[W0,"full","auto",...I()],O=()=>[kd,"none","subgrid",Kt,Zt],B=()=>["auto",{span:["full",kd,Kt,Zt]},kd,Kt,Zt],V=()=>[kd,"auto",Kt,Zt],F=()=>["auto","min","max","fr",Kt,Zt],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...I()],W=()=>[W0,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],q=()=>[n,Kt,Zt],K=()=>[...M(),y8,m8,{position:[Kt,Zt]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",She,xhe,{size:[Kt,Zt]}],Q=()=>[LR,$1,Vv],ne=()=>["","none","full",u,Kt,Zt],se=()=>["",qn,$1,Vv],he=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[qn,LR,y8,m8],Te=()=>["","none",v,Kt,Zt],Me=()=>["none",qn,Kt,Zt],Re=()=>["none",qn,Kt,Zt],Ue=()=>[qn,Kt,Zt],et=()=>[W0,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[th],breakpoint:[th],color:[phe],container:[th],"drop-shadow":[th],ease:["in","out","in-out"],font:[yhe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[th],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[th],shadow:[th],spacing:["px",qn],text:[th],"text-shadow":[th],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",W0,Zt,Kt,y]}],container:["container"],columns:[{columns:[qn,Zt,Kt,s]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[kd,"auto",Kt,Zt]}],basis:[{basis:[W0,"full","auto",s,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qn,W0,"auto","initial","none",Zt]}],grow:[{grow:["",qn,Kt,Zt]}],shrink:[{shrink:["",qn,Kt,Zt]}],order:[{order:[kd,"first","last","none",Kt,Zt]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[s,"screen",...W()]}],"min-w":[{"min-w":[s,"screen","none",...W()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",t,$1,Vv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Kt,IR]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",LR,Zt]}],"font-family":[{font:[bhe,Zt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Kt,Zt]}],"line-clamp":[{"line-clamp":[qn,"none",Kt,IR]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Kt,Zt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Kt,Zt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[qn,"from-font","auto",Kt,Vv]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[qn,"auto",Kt,Zt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Kt,Zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Kt,Zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},kd,Kt,Zt],radial:["",Kt,Zt],conic:[kd,Kt,Zt]},whe,_he]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qn,Kt,Zt]}],"outline-w":[{outline:["",qn,$1,Vv]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",c,sM,oM]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",f,sM,oM]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[qn,Vv]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",h,sM,oM]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[qn,Kt,Zt]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qn]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Kt,Zt]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[qn]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Kt,Zt]}],filter:[{filter:["","none",Kt,Zt]}],blur:[{blur:Te()}],brightness:[{brightness:[qn,Kt,Zt]}],contrast:[{contrast:[qn,Kt,Zt]}],"drop-shadow":[{"drop-shadow":["","none",d,sM,oM]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",qn,Kt,Zt]}],"hue-rotate":[{"hue-rotate":[qn,Kt,Zt]}],invert:[{invert:["",qn,Kt,Zt]}],saturate:[{saturate:[qn,Kt,Zt]}],sepia:[{sepia:["",qn,Kt,Zt]}],"backdrop-filter":[{"backdrop-filter":["","none",Kt,Zt]}],"backdrop-blur":[{"backdrop-blur":Te()}],"backdrop-brightness":[{"backdrop-brightness":[qn,Kt,Zt]}],"backdrop-contrast":[{"backdrop-contrast":[qn,Kt,Zt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qn,Kt,Zt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qn,Kt,Zt]}],"backdrop-invert":[{"backdrop-invert":["",qn,Kt,Zt]}],"backdrop-opacity":[{"backdrop-opacity":[qn,Kt,Zt]}],"backdrop-saturate":[{"backdrop-saturate":[qn,Kt,Zt]}],"backdrop-sepia":[{"backdrop-sepia":["",qn,Kt,Zt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Kt,Zt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qn,"initial",Kt,Zt]}],ease:[{ease:["linear","initial",x,Kt,Zt]}],delay:[{delay:[qn,Kt,Zt]}],animate:[{animate:["none",b,Kt,Zt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Kt,Zt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:Me()}],"rotate-x":[{"rotate-x":Me()}],"rotate-y":[{"rotate-y":Me()}],"rotate-z":[{"rotate-z":Me()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[Kt,Zt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:et()}],"translate-x":[{"translate-x":et()}],"translate-y":[{"translate-y":et()}],"translate-z":[{"translate-z":et()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Kt,Zt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Kt,Zt]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[qn,$1,Vv,IR]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Che=ohe(Ahe),Ehe=()=>E.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-gray-100 animate-pulse",children:[E.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-sm mr-3"}),E.jsx("div",{className:"flex-1 h-4 bg-gray-200 rounded mr-4"}),E.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),E.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),E.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded ml-2"}),E.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded ml-2"})]}),Dhe=({task:n,onStatusChange:e,onUpdateTask:t,showToast:r})=>{const{attributes:i,listeners:a,setNodeRef:o,transform:s,transition:l,isDragging:u}=Pfe({id:n.id,data:{type:"Task",task:n}}),c={transform:Cp.Translate.toString(s),transition:l},[f,h]=fe.useState(!1),[d,v]=fe.useState(n.title),g=()=>{d.trim()!==n.title&&(t==null||t(n.id,{title:d})),h(!1)},y=b=>{b.key==="Enter"?g():b.key==="Escape"&&(v(n.title),h(!1))},x=b=>{b.stopPropagation();const T=Object.values(K2),M=T.indexOf(n.status),C=T[(M+1)%T.length];e(n.id,C),r(`Status changed to ${C}`,"success")};return u?E.jsx("div",{ref:o,style:c,className:"opacity-30 bg-gray-50 border border-dashed border-gray-300 h-10 rounded my-1"}):E.jsxs("div",{ref:o,style:c,className:Che("group flex items-center px-4 py-1.5 border-b border-gray-100 hover:bg-gray-50 transition-colors text-sm bg-white",u&&"z-50 shadow-xl"),children:[E.jsx("div",{...i,...a,className:"mr-2 cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx(Nq,{size:14})}),E.jsxs("div",{className:"flex-1 flex items-center min-w-0 pr-4",children:[E.jsx("div",{className:"mr-3 relative flex-shrink-0",children:E.jsx("div",{className:"w-4 h-4 rounded-sm border border-gray-300 group-hover:border-clickup-purple transition-colors flex items-center justify-center cursor-pointer hover:bg-clickup-purple/10",onClick:b=>{b.stopPropagation(),r(`Marked ${n.id} complete`,"success")},children:E.jsx(jS,{size:12,className:"opacity-0 group-hover:opacity-100 text-clickup-purple"})})}),f?E.jsx("input",{autoFocus:!0,value:d,onChange:b=>v(b.target.value),onBlur:g,onKeyDown:y,className:"flex-1 bg-white border border-clickup-purple rounded px-1 py-0.5 outline-none text-sm text-gray-900",onClick:b=>b.stopPropagation()}):E.jsx("span",{className:"truncate text-gray-700 cursor-text hover:text-clickup-purple font-medium",onClick:b=>{b.stopPropagation(),h(!0)},children:n.title}),E.jsx("div",{className:"ml-2 opacity-0 group-hover:opacity-100 flex items-center space-x-1 transition-opacity",children:E.jsx("button",{className:"p-1 hover:bg-gray-200 rounded text-gray-400 hover:text-green-600 transition-colors",onClick:b=>{b.stopPropagation(),r("Timer started","success")},children:E.jsx(Sse,{size:12})})})]}),E.jsx("div",{className:"w-32 flex items-center pl-2 cursor-pointer min-h-[24px]",onClick:()=>r("Assign People","info"),children:n.assignees.length>0?E.jsx("div",{className:"flex -space-x-1 hover:space-x-0.5 transition-all",children:n.assignees.map(b=>E.jsx("div",{className:"w-6 h-6 rounded-full border border-white flex items-center justify-center text-[10px] text-white font-bold shadow-sm",style:{backgroundColor:b.color},title:b.name,children:b.avatar},b.id))}):E.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 border-dashed flex items-center justify-center text-gray-300 opacity-0 group-hover:opacity-100 hover:border-clickup-purple hover:text-clickup-purple transition-all",children:E.jsx(mue,{size:12})})}),E.jsx("div",{className:"w-32 pl-2 text-xs text-gray-400 flex items-center group-hover:text-gray-600 cursor-pointer min-h-[24px]",onClick:()=>r("Open Date Picker","info"),children:n.dueDate?E.jsx("span",{className:new Date(n.dueDate)<new Date?"text-red-500":"",children:new Date(n.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}):E.jsx(Bp,{size:14,className:"opacity-0 group-hover:opacity-100 text-gray-300 hover:text-clickup-purple transition-colors"})}),E.jsx("div",{className:"w-24 pl-2 cursor-pointer min-h-[24px] flex items-center",onClick:()=>r("Change Priority","info"),children:E.jsxs("div",{className:"flex items-center group/priority",children:[E.jsx(sz,{size:14,fill:n.priority===ox.None?"none":vx[n.priority],color:n.priority===ox.None?"#d1d5db":vx[n.priority],className:"transition-colors"}),E.jsx("span",{className:`ml-1.5 text-xs ${n.priority===ox.None?"text-gray-400 opacity-0 group-hover:opacity-100":"text-gray-500"} transition-opacity`,children:n.priority})]})}),E.jsx("div",{className:"w-32 pl-2",children:E.jsx("button",{className:"px-2 py-0.5 text-[10px] uppercase font-bold text-white rounded-sm truncate max-w-full transition-all hover:scale-105 hover:opacity-90 shadow-sm",style:{backgroundColor:oD[n.status]},onClick:x,children:n.status})})]})},Nhe=({tasks:n,isLoading:e,onStatusChange:t,onAddTask:r,onReorder:i,onUpdateTask:a})=>{var g;const{showToast:o}=pl(),[s,l]=fe.useState(null),u=Zq(x5(fD,{activationConstraint:{distance:8}}),x5(mz,{coordinateGetter:Bfe})),c=fe.useMemo(()=>Object.values(K2).reduce((x,b)=>(x[b]=n.filter(T=>T.status===b).sort((T,M)=>(T.order||0)-(M.order||0)),x),{}),[n]),f=y=>{l(y.active.id)},h=y=>{const{active:x,over:b}=y;if(!b)return;const T=n.find(C=>C.id===x.id),M=n.find(C=>C.id===b.id);T&&M&&(T.status,M.status)},d=y=>{const{active:x,over:b}=y;if(l(null),!b)return;const T=n.find(C=>C.id===x.id),M=n.find(C=>C.id===b.id);if(T&&M){if(T.status!==M.status)t(T.id,M.status);else if(x.id!==b.id){const C=n.findIndex(L=>L.id===x.id),D=n.findIndex(L=>L.id===b.id),R=[...n],[I]=R.splice(C,1);R.splice(D,0,I),i==null||i(R)}}},v={sideEffects:_z({styles:{active:{opacity:"0.5"}}})};return e?E.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar p-4",children:[1,2,3,4,5].map(y=>E.jsx(Ehe,{},y))}):n.length===0?E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white text-center p-8 animate-in fade-in duration-500",children:[E.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-200",children:E.jsx(Ti,{size:40,className:"text-gray-300"})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No tasks found"}),E.jsxs("button",{onClick:r,className:"px-6 py-2 bg-gray-900 hover:bg-black text-white rounded-lg font-medium transition-colors shadow-md flex items-center",children:[E.jsx(Ti,{size:18,className:"mr-2"})," Create Task"]})]}):E.jsxs(dZ,{sensors:u,collisionDetection:Jq,onDragStart:f,onDragOver:h,onDragEnd:d,children:[E.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar h-full",children:E.jsxs("div",{className:"min-w-[800px] pb-10",children:[E.jsxs("div",{className:"flex items-center px-8 py-2 border-b border-gray-200 text-xs font-semibold text-gray-400 sticky top-0 bg-white z-20 select-none shadow-sm",children:[E.jsx("div",{className:"w-6 mr-2"})," ",E.jsx("div",{className:"flex-1",children:"NAME"}),E.jsx("div",{className:"w-32 pl-2",children:"ASSIGNEE"}),E.jsx("div",{className:"w-32 pl-2",children:"DUE DATE"}),E.jsx("div",{className:"w-24 pl-2",children:"PRIORITY"}),E.jsx("div",{className:"w-32 pl-2",children:"STATUS"})]}),Object.entries(c).map(([y,x])=>E.jsxs("div",{className:"mb-2",children:[E.jsxs("div",{className:"group sticky top-[33px] z-10 bg-white/95 backdrop-blur-sm flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",children:[E.jsx(Yl,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),E.jsx("span",{className:"px-2 py-0.5 rounded text-white text-xs uppercase font-bold mr-2 shadow-sm",style:{backgroundColor:oD[y]},children:y}),E.jsxs("span",{className:"text-gray-400 text-xs font-normal ml-1",children:[x.length," tasks"]}),E.jsxs("div",{className:"ml-auto opacity-0 group-hover:opacity-100 flex items-center space-x-2 transition-opacity",children:[E.jsx(Ti,{size:14,className:"text-gray-400 hover:text-clickup-purple",onClick:b=>{b.stopPropagation(),r()}}),E.jsx(X2,{size:14,className:"text-gray-400 hover:text-gray-600",onClick:b=>{b.stopPropagation(),o("Group Settings","info")}})]})]}),E.jsx(Efe,{items:x.map(b=>b.id),strategy:Afe,children:E.jsx("div",{className:"flex flex-col",children:x.map(b=>E.jsx(Dhe,{task:b,onStatusChange:t,onUpdateTask:a,showToast:o},b.id))})}),E.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-transparent hover:bg-gray-50 group cursor-pointer transition-colors ml-8",onClick:r,children:[E.jsx("div",{className:"mr-3 w-4 h-4 flex items-center justify-center",children:E.jsx(Ti,{size:14,className:"text-gray-300 group-hover:text-clickup-purple transition-colors"})}),E.jsx("span",{className:"text-sm text-gray-400 group-hover:text-gray-600 italic",children:"+ New Task..."})]})]},y))]})}),E.jsx(mZ,{dropAnimation:v,children:s?E.jsx("div",{className:"bg-white shadow-2xl border border-clickup-purple/20 rounded p-2 opacity-90",children:E.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700",children:[E.jsx(Nq,{size:14,className:"mr-2 text-clickup-purple"}),(g=n.find(y=>y.id===s))==null?void 0:g.title]})}):null})]})},Rhe=({task:n,onClick:e})=>{const{attributes:t,listeners:r,setNodeRef:i,isDragging:a}=pZ({id:n.id,data:{task:n}});return a?E.jsx("div",{ref:i,className:"bg-gray-50 p-3 rounded-lg border-2 border-dashed border-gray-200 h-24 opacity-50"}):E.jsxs("div",{ref:i,...r,...t,className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm hover:shadow-md hover:border-gray-300 transition-all cursor-grab active:cursor-grabbing group relative select-none touch-none",onClick:e,children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("div",{className:"text-xs font-medium text-gray-400 hover:underline",children:["#",n.id.substring(5)]}),E.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",children:E.jsx(X2,{size:14,className:"text-gray-400"})})]}),E.jsx("h3",{className:"text-sm text-gray-800 font-medium mb-3 leading-snug group-hover:text-clickup-purple transition-colors",children:n.title}),E.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[n.priority!==ox.None&&E.jsx("div",{className:"p-0.5 rounded hover:bg-gray-100 transition-colors",title:`Priority: ${n.priority}`,children:E.jsx(sz,{size:12,fill:vx[n.priority],color:vx[n.priority]})}),n.dueDate&&E.jsxs("div",{className:`flex items-center text-[10px] px-1.5 py-0.5 bg-gray-50 rounded border border-gray-100 ${new Date(n.dueDate)<new Date?"text-red-500 border-red-100 bg-red-50":"text-gray-400"}`,children:[E.jsx(Bp,{size:10,className:"mr-1"}),new Date(n.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]}),E.jsx("div",{className:"flex -space-x-1",children:n.assignees.map(o=>E.jsx("div",{className:"w-5 h-5 rounded-full border border-white flex items-center justify-center text-[9px] text-white font-bold shadow-sm",style:{backgroundColor:o.color},title:o.name,children:o.avatar},o.id))})]})]})},Lhe=({status:n,tasks:e,isLoading:t,onAddTask:r,showToast:i})=>{const{setNodeRef:a,isOver:o}=gZ({id:n});return E.jsxs("div",{ref:a,className:`flex-shrink-0 w-72 flex flex-col h-full animate-in fade-in duration-500 rounded-xl transition-colors ${o?"bg-indigo-50/50 ring-2 ring-indigo-100":""}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3 px-1 group",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("span",{className:"text-[10px] uppercase font-bold px-1.5 py-0.5 rounded text-white shadow-sm cursor-pointer hover:opacity-90",style:{backgroundColor:oD[n]},onClick:()=>i(`Status: ${n}`,"info"),children:n}),E.jsx("span",{className:"text-xs text-gray-500 font-medium",children:t?"...":e.length})]}),E.jsxs("div",{className:"flex space-x-1 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx(Ti,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:r}),E.jsx(X2,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:()=>i("Column Settings","info")})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2.5 pb-10 custom-scrollbar",children:t?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-28 animate-pulse"}),E.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-28 animate-pulse"})]}):E.jsxs(E.Fragment,{children:[e.map(s=>E.jsx(Rhe,{task:s,onClick:()=>i(`Opening ${s.title}`,"info")},s.id)),E.jsxs("button",{className:"w-full py-2 rounded-md border border-transparent hover:bg-gray-200/50 hover:border-gray-300 text-gray-400 text-sm flex items-center justify-center transition-all group",onClick:r,children:[E.jsx(Ti,{size:14,className:"mr-1 group-hover:text-clickup-purple transition-colors"}),E.jsx("span",{className:"group-hover:text-clickup-purple transition-colors",children:"New Task"})]})]})})]})},Ihe=({tasks:n,isLoading:e,onAddTask:t,onStatusChange:r})=>{const{showToast:i}=pl(),[a,o]=fe.useState(null),s=Zq(x5(fD,{activationConstraint:{distance:5}})),l=Object.values(K2).reduce((h,d)=>(h[d]=n.filter(v=>v.status===d),h),{}),u=h=>{const{active:d}=h,v=n.find(g=>g.id===d.id);v&&o(v)},c=h=>{const{active:d,over:v}=h;if(o(null),!v)return;const g=d.id,y=v.id,x=n.find(b=>b.id===g);x&&x.status!==y&&r(g,y)},f={sideEffects:_z({styles:{active:{opacity:"0.5"}}})};return!e&&n.length===0?E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-clickup-light p-8 animate-in fade-in duration-500",children:[E.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-300 shadow-sm",children:E.jsx(Kle,{size:40,className:"text-gray-300"})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Board is empty"}),E.jsx("p",{className:"text-gray-500 max-w-sm mb-8 text-center",children:"Visualise your workflow here. Start by creating a new task."}),E.jsxs("button",{onClick:t,className:"px-6 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[E.jsx(Ti,{size:18,className:"mr-2"}),"Create Task"]})]}):E.jsxs(dZ,{sensors:s,onDragStart:u,onDragEnd:c,children:[E.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden bg-clickup-light p-6 custom-scrollbar h-full",children:E.jsxs("div",{className:"flex h-full space-x-4",children:[Object.entries(l).map(([h,d])=>E.jsx(Lhe,{status:h,tasks:d,isLoading:e,onAddTask:t,showToast:i},h)),E.jsx("div",{className:"w-8 flex-shrink-0"})]})}),Zy.createPortal(E.jsx(mZ,{dropAnimation:f,children:a?E.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-xl w-72 cursor-grabbing rotate-2 opacity-90",children:[E.jsx("div",{className:"flex justify-between items-start mb-2",children:E.jsxs("div",{className:"text-xs font-medium text-gray-400",children:["#",a.id.substring(5)]})}),E.jsx("h3",{className:"text-sm text-gray-800 font-medium mb-3 leading-snug",children:a.title}),E.jsx("div",{className:"flex items-center justify-between mt-auto",children:E.jsx("div",{className:"flex items-center space-x-2",children:a.priority!==ox.None&&E.jsx("div",{className:"p-0.5 rounded",title:`Priority: ${a.priority}`,children:E.jsx(sz,{size:12,fill:vx[a.priority],color:vx[a.priority]})})})})]}):null}),document.body)]})},zZ=6048e5,Ohe=864e5,x8=Symbol.for("constructDateFrom");function Qu(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&x8 in n?n[x8](e):n instanceof Date?new n.constructor(e):new Date(e)}function gs(n,e){return Qu(e||n,n)}function kZ(n,e,t){const r=gs(n,t==null?void 0:t.in);if(isNaN(e))return Qu(n,NaN);if(!e)return r;const i=r.getDate(),a=Qu(n,r.getTime());a.setMonth(r.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let Phe={};function tw(){return Phe}function gx(n,e){var s,l,u,c;const t=tw(),r=(e==null?void 0:e.weekStartsOn)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=gs(n,e==null?void 0:e.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function QC(n,e){return gx(n,{...e,weekStartsOn:1})}function BZ(n,e){const t=gs(n,e==null?void 0:e.in),r=t.getFullYear(),i=Qu(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=QC(i),o=Qu(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=QC(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function _8(n){const e=gs(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function pD(n,...e){const t=Qu.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function $C(n,e){const t=gs(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function zhe(n,e,t){const[r,i]=pD(t==null?void 0:t.in,n,e),a=$C(r),o=$C(i),s=+a-_8(a),l=+o-_8(o);return Math.round((s-l)/Ohe)}function khe(n,e){const t=BZ(n,e),r=Qu(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),QC(r)}function b8(n,e,t){const[r,i]=pD(t==null?void 0:t.in,n,e);return+$C(r)==+$C(i)}function Bhe(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Uhe(n){return!(!Bhe(n)&&typeof n!="number"||isNaN(+gs(n)))}function Vhe(n,e){const t=gs(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Fhe(n,e){const[t,r]=pD(n,e.start,e.end);return{start:t,end:r}}function Ghe(n,e){const{start:t,end:r}=Fhe(e==null?void 0:e.in,n);let i=+t>+r;const a=i?+t:+r,o=i?r:t;o.setHours(0,0,0,0);let s=1;const l=[];for(;+o<=a;)l.push(Qu(t,o)),o.setDate(o.getDate()+s),o.setHours(0,0,0,0);return i?l.reverse():l}function Hhe(n,e){const t=gs(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function jhe(n,e){const t=gs(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Whe(n,e){var s,l;const t=tw(),r=t.weekStartsOn??((l=(s=t.locale)==null?void 0:s.options)==null?void 0:l.weekStartsOn)??0,i=gs(n,e==null?void 0:e.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const Yhe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xhe=(n,e,t)=>{let r;const i=Yhe[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function OR(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const qhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Khe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jhe={date:OR({formats:qhe,defaultWidth:"full"}),time:OR({formats:Zhe,defaultWidth:"full"}),dateTime:OR({formats:Khe,defaultWidth:"full"})},Qhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$he=(n,e,t,r)=>Qhe[n];function eb(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const o=n.defaultFormattingWidth||n.defaultWidth,s=t!=null&&t.width?String(t.width):o;i=n.formattingValues[s]||n.formattingValues[o]}else{const o=n.defaultWidth,s=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[s]||n.values[o]}const a=n.argumentCallback?n.argumentCallback(e):e;return i[a]}}const ede={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ide={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ade={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ode=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},sde={ordinalNumber:ode,era:eb({values:ede,defaultWidth:"wide"}),quarter:eb({values:tde,defaultWidth:"wide",argumentCallback:n=>n-1}),month:eb({values:nde,defaultWidth:"wide"}),day:eb({values:rde,defaultWidth:"wide"}),dayPeriod:eb({values:ide,defaultWidth:"wide",formattingValues:ade,defaultFormattingWidth:"wide"})};function tb(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],s=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(s)?ude(s,f=>f.test(o)):lde(s,f=>f.test(o));let u;u=n.valueCallback?n.valueCallback(l):l,u=t.valueCallback?t.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function lde(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function ude(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function cde(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],a=e.match(n.parsePattern);if(!a)return null;let o=n.valueCallback?n.valueCallback(a[0]):a[0];o=t.valueCallback?t.valueCallback(o):o;const s=e.slice(i.length);return{value:o,rest:s}}}const fde=/^(\d+)(th|st|nd|rd)?/i,hde=/\d+/i,dde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pde={any:[/^b/i,/^(a|c)/i]},vde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gde={any:[/1/i,/2/i,/3/i,/4/i]},mde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_de={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wde={ordinalNumber:cde({matchPattern:fde,parsePattern:hde,valueCallback:n=>parseInt(n,10)}),era:tb({matchPatterns:dde,defaultMatchWidth:"wide",parsePatterns:pde,defaultParseWidth:"any"}),quarter:tb({matchPatterns:vde,defaultMatchWidth:"wide",parsePatterns:gde,defaultParseWidth:"any",valueCallback:n=>n+1}),month:tb({matchPatterns:mde,defaultMatchWidth:"wide",parsePatterns:yde,defaultParseWidth:"any"}),day:tb({matchPatterns:xde,defaultMatchWidth:"wide",parsePatterns:_de,defaultParseWidth:"any"}),dayPeriod:tb({matchPatterns:bde,defaultMatchWidth:"any",parsePatterns:Sde,defaultParseWidth:"any"})},Tde={code:"en-US",formatDistance:Xhe,formatLong:Jhe,formatRelative:$he,localize:sde,match:wde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mde(n,e){const t=gs(n,e==null?void 0:e.in);return zhe(t,jhe(t))+1}function Ade(n,e){const t=gs(n,e==null?void 0:e.in),r=+QC(t)-+khe(t);return Math.round(r/zZ)+1}function UZ(n,e){var c,f,h,d;const t=gs(n,e==null?void 0:e.in),r=t.getFullYear(),i=tw(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(h=i.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=Qu((e==null?void 0:e.in)||n,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const s=gx(o,e),l=Qu((e==null?void 0:e.in)||n,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const u=gx(l,e);return+t>=+s?r+1:+t>=+u?r:r-1}function Cde(n,e){var s,l,u,c;const t=tw(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(s=e==null?void 0:e.locale)==null?void 0:s.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(u=t.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=UZ(n,e),a=Qu((e==null?void 0:e.in)||n,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),gx(a,e)}function Ede(n,e){const t=gs(n,e==null?void 0:e.in),r=+gx(t,e)-+Cde(t,e);return Math.round(r/zZ)+1}function Vr(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Bd={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Vr(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Vr(t+1,2)},d(n,e){return Vr(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Vr(n.getHours()%12||12,e.length)},H(n,e){return Vr(n.getHours(),e.length)},m(n,e){return Vr(n.getMinutes(),e.length)},s(n,e){return Vr(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Vr(i,e.length)}},Y0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S8={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Bd.y(n,e)},Y:function(n,e,t,r){const i=UZ(n,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Vr(o,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Vr(a,e.length)},R:function(n,e){const t=BZ(n);return Vr(t,e.length)},u:function(n,e){const t=n.getFullYear();return Vr(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Vr(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Vr(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Bd.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Vr(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=Ede(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Vr(i,e.length)},I:function(n,e,t){const r=Ade(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Vr(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Bd.d(n,e)},D:function(n,e,t){const r=Mde(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Vr(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Vr(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Vr(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Vr(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=Y0.noon:r===0?i=Y0.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=Y0.evening:r>=12?i=Y0.afternoon:r>=4?i=Y0.morning:i=Y0.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Bd.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Bd.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Vr(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Vr(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Bd.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Bd.s(n,e)},S:function(n,e){return Bd.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return T8(r);case"XXXX":case"XX":return Cg(r);case"XXXXX":case"XXX":default:return Cg(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return T8(r);case"xxxx":case"xx":return Cg(r);case"xxxxx":case"xxx":default:return Cg(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+w8(r,":");case"OOOO":default:return"GMT"+Cg(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+w8(r,":");case"zzzz":default:return"GMT"+Cg(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Vr(r,e.length)},T:function(n,e,t){return Vr(+n,e.length)}};function w8(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+e+Vr(a,2)}function T8(n,e){return n%60===0?(n>0?"-":"+")+Vr(Math.abs(n)/60,2):Cg(n,e)}function Cg(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Vr(Math.trunc(r/60),2),a=Vr(r%60,2);return t+i+e+a}const M8=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},VZ=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Dde=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return M8(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",M8(r,e)).replace("{{time}}",VZ(i,e))},Nde={p:VZ,P:Dde},Rde=/^D+$/,Lde=/^Y+$/,Ide=["D","DD","YY","YYYY"];function Ode(n){return Rde.test(n)}function Pde(n){return Lde.test(n)}function zde(n,e,t){const r=kde(n,e,t);if(console.warn(r),Ide.includes(n))throw new RangeError(r)}function kde(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ude=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vde=/^'([^]*?)'?$/,Fde=/''/g,Gde=/[a-zA-Z]/;function A8(n,e,t){var c,f,h,d;const r=tw(),i=r.locale??Tde,a=r.firstWeekContainsDate??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((d=(h=r.locale)==null?void 0:h.options)==null?void 0:d.weekStartsOn)??0,s=gs(n,t==null?void 0:t.in);if(!Uhe(s))throw new RangeError("Invalid time value");let l=e.match(Ude).map(v=>{const g=v[0];if(g==="p"||g==="P"){const y=Nde[g];return y(v,i.formatLong)}return v}).join("").match(Bde).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:Hde(v)};if(S8[g])return{isToken:!0,value:v};if(g.match(Gde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const g=v.value;(Pde(g)||Ode(g))&&zde(g,e,String(n));const y=S8[g[0]];return y(s,g,i.localize,u)}).join("")}function Hde(n){const e=n.match(Vde);return e?e[1].replace(Fde,"'"):n}function jde(n,e,t){const[r,i]=pD(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Wde(n,e,t){return kZ(n,-1,t)}const Yde=({tasks:n,isLoading:e,onAddTask:t})=>{const[r,i]=fe.useState(new Date),a=()=>i(kZ(r,1)),o=()=>i(Wde(r)),s=()=>i(new Date),l=Hhe(r),u=Vhe(l),c=gx(l),f=Whe(u),h=Ghe({start:c,end:f}),d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=g=>n.filter(y=>y.dueDate?b8(new Date(y.dueDate),g):!1);return e?E.jsx("div",{className:"flex-1 flex items-center justify-center",children:"Loading calendar..."}):E.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden h-full",children:[E.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800",children:A8(r,"MMMM yyyy")}),E.jsxs("div",{className:"flex items-center bg-gray-100 rounded-md p-0.5",children:[E.jsx("button",{onClick:o,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:E.jsx(m5,{size:16,className:"text-gray-600"})}),E.jsx("button",{onClick:s,className:"px-3 py-1 text-xs font-medium text-gray-600 hover:bg-white rounded shadow-sm transition-all mx-1",children:"Today"}),E.jsx("button",{onClick:a,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:E.jsx(_h,{size:16,className:"text-gray-600"})})]})]}),E.jsxs("button",{onClick:t,className:"px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors flex items-center",children:[E.jsx(Ti,{size:16,className:"mr-2"})," Add Task"]})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto",children:[E.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:d.map(g=>E.jsx("div",{className:"py-2 text-center text-xs font-semibold text-gray-400 uppercase",children:g},g))}),E.jsx("div",{className:"grid grid-cols-7 flex-1 auto-rows-fr bg-gray-200 gap-px border-b border-gray-200",children:h.map((g,y)=>{const x=v(g),b=jde(g,l),T=b8(g,new Date);return E.jsxs("div",{className:`bg-white min-h-[100px] p-2 flex flex-col group relative hover:bg-gray-50 transition-colors ${b?"":"bg-gray-50/50 text-gray-400"}`,onClick:()=>{},children:[E.jsxs("div",{className:"flex items-center justify-between mb-1",children:[E.jsx("span",{className:`text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full ${T?"bg-clickup-purple text-white shadow-md":"text-gray-700"}`,children:A8(g,"d")}),E.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 rounded text-gray-400 transition-opacity",children:E.jsx(Ti,{size:12})})]}),E.jsx("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto custom-scrollbar",children:x.map(M=>E.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium truncate border-l-2 shadow-sm cursor-pointer hover:opacity-80 transition-opacity bg-white border-gray-200",style:{borderLeftColor:oD[M.status]},children:M.title},M.id))})]},g.toString())})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var C8;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(C8||(C8={}));var E8;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(E8||(E8={}));var D8;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(D8||(D8={}));var N8;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(N8||(N8={}));var R8;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(R8||(R8={}));var L8;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(L8||(L8={}));var I8;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(I8||(I8={}));var O8;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(O8||(O8={}));var P8;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(P8||(P8={}));var z8;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})(z8||(z8={}));var k8;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(k8||(k8={}));var B8;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(B8||(B8={}));var U8;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(U8||(U8={}));var V8;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(V8||(V8={}));var F8;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(F8||(F8={}));var G8;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(G8||(G8={}));var H8;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(H8||(H8={}));var j8;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(j8||(j8={}));var W8;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(W8||(W8={}));var Y8;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Y8||(Y8={}));var X8;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(X8||(X8={}));var q8;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(q8||(q8={}));var Z8;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Z8||(Z8={}));var K8;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(K8||(K8={}));var J8;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(J8||(J8={}));var Q8;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Q8||(Q8={}));var $8;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})($8||($8={}));var eV;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(eV||(eV={}));var tV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(tV||(tV={}));var nV;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(nV||(nV={}));var rV;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(rV||(rV={}));var iV;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(iV||(iV={}));var aV;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(aV||(aV={}));var oV;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(oV||(oV={}));var sV;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(sV||(sV={}));var lV;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(lV||(lV={}));var uV;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(uV||(uV={}));var cV;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cV||(cV={}));var fV;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(fV||(fV={}));var hV;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(hV||(hV={}));var dV;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(dV||(dV={}));var pV;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(pV||(pV={}));var vV;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(vV||(vV={}));var gV;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(gV||(gV={}));var mV;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(mV||(mV={}));var yV;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(yV||(yV={}));var xV;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(xV||(xV={}));var _V;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(_V||(_V={}));var bV;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(bV||(bV={}));var SV;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(SV||(SV={}));var wV;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(wV||(wV={}));var TV;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(TV||(TV={}));var MV;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(MV||(MV={}));var AV;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(AV||(AV={}));var CV;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(CV||(CV={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var EV;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(EV||(EV={}));const Xde=async n=>"API Key is missing. Please check your configuration.",qde=async(n,e)=>"API Key is missing.",Zde=({isOpen:n,onClose:e,tasks:t})=>{const[r,i]=fe.useState(""),[a,o]=fe.useState([{role:"ai",text:"Hi! I'm ClickUp Brain. I can help you summarize tasks, suggest priorities, or answer questions about your workspace."}]),[s,l]=fe.useState(!1),u=fe.useRef(null);fe.useEffect(()=>{u.current&&u.current.scrollIntoView({behavior:"smooth"})},[a]);const c=async()=>{if(!r.trim())return;const h=r;i(""),o(v=>[...v,{role:"user",text:h}]),l(!0);const d=await qde();o(v=>[...v,{role:"ai",text:d}]),l(!1)},f=async h=>{l(!0),o(d=>[...d,{role:"user",text:"Generate a summary of my tasks."}]);{const d=await Xde();o(v=>[...v,{role:"ai",text:d}])}l(!1)};return n?E.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[1px] z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl h-[600px] flex flex-col border border-gray-200 overflow-hidden",children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gradient-to-r from-white to-purple-50/30",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("div",{className:"bg-clickup-purple/10 p-1.5 rounded-lg",children:E.jsx(Qoe,{className:"text-clickup-purple",size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-800",children:"ClickUp Brain"}),E.jsx("p",{className:"text-xs text-gray-500",children:"Powered by Gemini 2.5 Flash"})]})]}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-full transition-colors",children:E.jsx(q2,{size:20})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#fdfdfd]",children:[a.map((h,d)=>E.jsx("div",{className:`flex ${h.role==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 text-sm leading-relaxed shadow-sm ${h.role==="user"?"bg-clickup-purple text-white rounded-br-none":"bg-white border border-gray-200 text-gray-700 rounded-bl-none"}`,children:h.text})},d)),s&&E.jsx("div",{className:"flex justify-start",children:E.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl rounded-bl-none px-4 py-3 flex items-center space-x-2 shadow-sm",children:[E.jsx(cz,{size:16,className:"animate-spin text-clickup-purple"}),E.jsx("span",{className:"text-xs text-gray-500",children:"Brain is thinking..."})]})}),E.jsx("div",{ref:u})]}),a.length===1&&E.jsxs("div",{className:"px-4 pb-2 flex gap-2 overflow-x-auto",children:[E.jsxs("button",{onClick:()=>f(),className:"flex items-center space-x-1.5 px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg text-xs font-medium transition-colors border border-purple-200/50",children:[E.jsx(sf,{size:14}),E.jsx("span",{children:"Summarize Tasks"})]}),E.jsx("button",{onClick:()=>{i("What tasks are high priority?"),c()},className:"flex items-center space-x-1.5 px-3 py-2 bg-gray-50 hover:bg-gray-100 text-gray-600 rounded-lg text-xs font-medium transition-colors border border-gray-200/50",children:E.jsx("span",{children:"High Priority Items?"})})]}),E.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[E.jsxs("div",{className:"relative flex items-center",children:[E.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),onKeyDown:h=>h.key==="Enter"&&c(),placeholder:"Ask AI anything about your tasks...",className:"w-full pl-4 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple transition-all text-sm"}),E.jsx("button",{onClick:c,disabled:!r.trim()||s,className:"absolute right-2 p-1.5 bg-clickup-purple text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:E.jsx(Pq,{size:16})})]}),E.jsx("div",{className:"mt-2 text-center",children:E.jsx("p",{className:"text-[10px] text-gray-400",children:"AI can make mistakes. Please review generated responses."})})]})]})}):null},Kde=[{id:"standup",title:"AI StandUp",desc:"AI generated standup.",icon:sf,color:"bg-gradient-to-br from-indigo-500 to-purple-600",isNew:!0},{id:"recents",title:"Recents",desc:"A list of all the ClickUp objects and locations you've recently viewed.",icon:Rq,color:"bg-sky-500"},{id:"agenda",title:"Agenda",desc:"Visualize tasks and events on your different calendars in one place.",icon:Bp,color:"bg-pink-500"},{id:"mywork",title:"My Work",desc:"A list for all of your assigned tasks and reminders.",icon:WS,color:"bg-blue-500"},{id:"assigned",title:"Assigned to me",desc:"Consolidate your tasks across different lists that you have as an assignee.",icon:WS,color:"bg-blue-400"},{id:"personal",title:"Personal List",desc:"Keep track of your personal tasks in a list that is only visible to you.",icon:Aq,color:"bg-purple-500"},{id:"comments",title:"Assigned Comments",desc:"Resolve and view any comment that has been assigned to you.",icon:Oq,color:"bg-teal-500"},{id:"lineup",title:"Priorities (LineUp)",desc:"Prioritize your most important tasks into one concise list.",icon:Lq,color:"bg-indigo-500"},{id:"reminders",title:"Reminders",desc:"Organize and keep on top of all your reminders.",icon:iD,color:"bg-orange-500"}],Jde=({isOpen:n,onClose:e,onAddCard:t,onRemoveCard:r,addedCardTypes:i})=>{const{showToast:a}=pl();return n?E.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-96 bg-white border-l border-gray-200 shadow-2xl z-[2147483647] flex flex-col animate-in slide-in-from-right duration-300",children:[E.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[E.jsx("h2",{className:"text-base font-bold text-gray-800",children:"Add Cards"}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:E.jsx(q2,{size:18})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-4 bg-gray-50/50 custom-scrollbar",children:Kde.map(o=>{const s=i.includes(o.id);return E.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all group",children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsx("div",{className:`w-10 h-10 rounded-lg ${o.color} flex items-center justify-center text-white shadow-md`,children:E.jsx(o.icon,{size:20})}),E.jsx("button",{className:`flex items-center space-x-1.5 border text-[10px] font-bold px-3 py-1.5 rounded-md transition-all active:scale-95 ${s?"bg-green-50 border-green-200 text-green-600 hover:bg-red-50 hover:border-red-200 hover:text-red-600":"bg-white hover:bg-gray-50 border-gray-200 text-gray-600 hover:text-brand-primary hover:border-brand-primary"}`,onClick:()=>{s?(r(o.id),a(`Removed ${o.title} from Home`,"info")):(t({id:o.id,title:o.title,color:o.color}),a(`Added ${o.title} to Home`,"success"))},children:s?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"group-hover:hidden flex items-center space-x-1",children:E.jsx("span",{children:"ADDED"})}),E.jsx("span",{className:"hidden group-hover:flex items-center space-x-1",children:E.jsx("span",{children:"REMOVE"})})]}):E.jsxs(E.Fragment,{children:[E.jsx(Ti,{size:12}),E.jsx("span",{children:"ADD"})]})})]}),E.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[E.jsx("h3",{className:"text-sm font-bold text-gray-800 group-hover:text-brand-primary transition-colors",children:o.title}),o.isNew&&E.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white text-[9px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide shadow-sm",children:"New"})]}),E.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:o.desc})]},o.id)})})]}):null},Qde=({onLoginClick:n})=>E.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white font-sans selection:bg-brand-primary selection:text-white overflow-x-hidden",children:[E.jsxs("nav",{className:"flex items-center justify-between px-6 py-6 max-w-7xl mx-auto relative z-20",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-brand-primary to-indigo-500 rounded-lg flex items-center justify-center shadow-lg shadow-brand-primary/20",children:E.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M2 17L12 22L22 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),E.jsx("span",{className:"text-xl font-bold tracking-tight",children:"ClickUp Clone"})]}),E.jsxs("div",{className:"flex items-center space-x-6",children:[E.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Product"}),E.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Solutions"}),E.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Pricing"}),E.jsx("button",{onClick:n,className:"bg-white text-black px-5 py-2 rounded-full text-sm font-bold hover:bg-gray-200 transition-colors",children:"Log in"}),E.jsx("button",{className:"bg-gray-900 hover:bg-black px-5 py-2 rounded-full text-sm font-bold transition-all shadow-md text-white",children:"Sign Up"})]})]}),E.jsxs("div",{className:"relative pt-20 pb-32 px-6",children:[E.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[600px] bg-brand-primary/20 blur-[120px] rounded-full pointer-events-none z-0"}),E.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[E.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/5 border border-white/10 rounded-full px-3 py-1 mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[E.jsx(sf,{size:14,className:"text-brand-accent"}),E.jsx("span",{className:"text-xs font-medium text-brand-accent tracking-wide uppercase",children:"ClickUp Brain 3.0 is here"})]}),E.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight mb-6 leading-tight animate-in fade-in slide-in-from-bottom-6 duration-1000 delay-100",children:["One app to ",E.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary via-purple-400 to-brand-accent",children:"replace them all."})]}),E.jsx("p",{className:"text-lg md:text-xl text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200",children:"All your work in one place: Tasks, Docs, Chat, Goals, & more. Boost productivity with the power of Gemini AI integrated directly into your workflow."}),E.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4 animate-in fade-in slide-in-from-bottom-10 duration-1000 delay-300",children:[E.jsxs("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-gray-900 hover:bg-black text-white font-bold text-lg hover:shadow-lg transition-all hover:-translate-y-1 flex items-center justify-center",children:["Get Started",E.jsx(Yoe,{size:18,className:"ml-2"})]}),E.jsx("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-white/5 border border-white/10 text-white font-bold text-lg hover:bg-white/10 transition-all",children:"See Demo"})]})]}),E.jsxs("div",{className:"mt-20 max-w-6xl mx-auto relative z-10 animate-in fade-in zoom-in duration-1000 delay-500",children:[E.jsxs("div",{className:"rounded-xl border border-white/10 bg-[#1a1b21]/80 backdrop-blur-xl shadow-2xl overflow-hidden",children:[E.jsxs("div",{className:"h-10 border-b border-white/5 flex items-center space-x-2 px-4",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20"})]}),E.jsxs("div",{className:"aspect-[16/9] relative bg-[#0a0a0a] flex items-center justify-center group",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1a1b21] to-[#0a0a0a] opacity-50"}),E.jsxs("div",{className:"text-center z-10",children:[E.jsx(YS,{size:64,className:"mx-auto text-brand-primary mb-4 opacity-50"}),E.jsx("p",{className:"text-gray-500 font-medium",children:"Interactive Dashboard Experience"})]}),E.jsx("div",{className:"absolute bottom-0 w-full h-1/2 bg-gradient-to-t from-[#0a0a0a] to-transparent"})]})]}),E.jsx("div",{className:"absolute -right-12 top-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-bounce duration-[3000ms]",children:E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"p-2 bg-green-500/20 rounded text-green-400",children:E.jsx(jS,{size:20})}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-bold text-white",children:"Task Complete"}),E.jsx("div",{className:"text-xs text-gray-400",children:"Launch Website"})]})]})}),E.jsx("div",{className:"absolute -left-8 bottom-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-pulse duration-[4000ms]",children:E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"p-2 bg-purple-500/20 rounded text-purple-400",children:E.jsx(sf,{size:20})}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-bold text-white",children:"AI Summary"}),E.jsx("div",{className:"text-xs text-gray-400",children:"Generated 3 subtasks"})]})]})})]})]}),E.jsx("div",{className:"py-24 bg-[#0f1014] border-t border-white/5",children:E.jsx("div",{className:"max-w-7xl mx-auto px-6",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[E.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:E.jsx(YS,{className:"text-blue-400",size:24})}),E.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Everything View"}),E.jsx("p",{className:"text-gray-400 leading-relaxed",children:"See the big picture. View tasks across all your projects in a single customizable list."})]}),E.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[E.jsx("div",{className:"w-12 h-12 rounded-lg bg-brand-primary/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:E.jsx(pS,{className:"text-brand-primary",size:24})}),E.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Automation & AI"}),E.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Save time with custom automations and ClickUp Brain's generative capabilities."})]}),E.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[E.jsx("div",{className:"w-12 h-12 rounded-lg bg-emerald-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:E.jsx(Vle,{className:"text-emerald-400",size:24})}),E.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Enterprise Security"}),E.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Bank-grade security with 2FA, SSO, and strict permission controls for your team."})]})]})})}),E.jsx("footer",{className:"py-12 border-t border-white/10 text-center text-gray-500 text-sm",children:E.jsx("p",{children:" 2024 ClickUp Clone by Gemini. All rights reserved."})})]}),$de=[{email:"max@nabdchain.com",password:"1",user:{id:"u1",name:"Max Nabd",avatar:"MN",color:"#7B61FF"}},{email:"hasan@nabdchain.com",password:"1",user:{id:"u2",name:"Hasan Nabd",avatar:"HN",color:"#00E1D4"}}],T5={login:async(n,e)=>{await new Promise(r=>setTimeout(r,800));const t=$de.find(r=>r.email.toLowerCase()===n.toLowerCase()&&r.password===e);return t?(localStorage.setItem("clickup_user",JSON.stringify(t.user)),t.user):null},logout:()=>{localStorage.removeItem("clickup_user")},getCurrentUser:()=>{const n=localStorage.getItem("clickup_user");return n?JSON.parse(n):null}},epe=({onLoginSuccess:n,onBack:e})=>{const[t,r]=fe.useState(""),[i,a]=fe.useState(""),[o,s]=fe.useState(!1),[l,u]=fe.useState(""),c=async f=>{f.preventDefault(),u(""),s(!0);try{const h=await T5.login(t,i);h?n(h):u("Invalid email or password. Try max@nabdchain.com / 1")}catch{u("Something went wrong. Please try again.")}finally{s(!1)}};return E.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f7f8f9] px-4 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-brand-primary skew-y-3 origin-top-left transform -translate-y-20 z-0"}),E.jsxs("button",{onClick:e,className:"absolute top-6 left-6 flex items-center text-white z-10 hover:opacity-80 transition-opacity font-medium",children:[E.jsx(joe,{size:18,className:"mr-2"}),"Back to Home"]}),E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md z-10 animate-in fade-in zoom-in duration-300",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"w-12 h-12 bg-brand-primary rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-brand-primary/30",children:E.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome back!"}),E.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Enter your credentials to access your workspace."})]}),E.jsxs("form",{onSubmit:c,className:"space-y-5",children:[l&&E.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-600 p-3 rounded-lg text-sm flex items-start",children:[E.jsx(rD,{size:16,className:"mr-2 mt-0.5 shrink-0"}),l]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Email"}),E.jsx("input",{type:"email",value:t,onChange:f=>r(f.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"name@work-email.com",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Password"}),E.jsx("input",{type:"password",value:i,onChange:f=>a(f.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"Enter your password",required:!0})]}),E.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gray-900 hover:bg-black text-white font-bold py-3.5 rounded-xl shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center",children:o?E.jsx(cz,{className:"animate-spin"}):"Login"})]}),E.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:E.jsxs("p",{children:["Use ",E.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"max@nabdchain.com"})," and password ",E.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"1"})]})})]}),E.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 z-10",children:" 2024 ClickUp Clone. Secure Login."})]})},tpe=(n,e)=>{const[t,r]=fe.useState([]),[i,a]=fe.useState(!0),{showToast:o}=pl(),s=fe.useCallback(async()=>{try{a(!0);const d=(await Gg.getTasks()).sort((v,g)=>(v.order||0)-(g.order||0));r(d)}catch{o("Failed to load tasks from backend","error")}finally{a(!1)}},[o]);return fe.useEffect(()=>{n==="app"&&s()},[n,s]),{tasks:t,isLoading:i,handleStatusChange:async(h,d)=>{const v=[...t];r(g=>g.map(y=>y.id===h?{...y,status:d}:y));try{await Gg.updateTask(h,{status:d})}catch{r(v),o("Failed to update task status","error")}},handleUpdateTask:async(h,d)=>{const v=[...t];r(g=>g.map(y=>y.id===h?{...y,...d}:y));try{await Gg.updateTask(h,d),o("Task updated","success")}catch{r(v),o("Failed to update task","error")}},handleReorder:h=>{r(h)},handleQuickCreate:async()=>{const h=prompt("Enter task title:");if(h){o("Creating task...","info");try{const d=await Gg.createTask({title:h,status:K2.Todo,priority:"None",assignees:[],tags:e==="backend"?["Backend"]:[],description:"",order:t.length,spaceId:"default"});r(v=>[...v,d]),o("Task created successfully","success")}catch{o("Failed to create task","error")}}},fetchTasks:s}},npe=()=>{const[n,e]=fe.useState([]);return{homeCards:n,handleAddHomeCard:o=>{let s=600,l=400;o.id==="agenda"?l=500:o.id==="lineup"&&(l=400);const u=30,c=32,h=n.reduce((x,b)=>Math.max(x,b.y+b.h),20-u),d=c,v=h+u,g=n.reduce((x,b)=>Math.max(x,b.zIndex||0),0),y={instanceId:Date.now().toString(),typeId:o.id,title:o.title,color:o.color,x:d,y:v,w:s,h:l,zIndex:g+1};e(x=>[...x,y])},handleUpdateHomeCard:o=>{e(s=>s.map(l=>l.instanceId===o.instanceId?o:l))},handleRemoveHomeCard:o=>{e(s=>s.filter(l=>l.instanceId!==o))},handleRemoveHomeCardByType:o=>{e(s=>s.filter(l=>l.typeId!==o))}}},DV="http://localhost:3001",NV={getWidgets:async()=>(await fetch(`${DV}/widgets`)).json(),updateWidgets:async n=>{await fetch(`${DV}/widgets`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}},rpe=n=>{const[e,t]=fe.useState({}),r=fe.useCallback(async()=>{try{const a=await NV.getWidgets();a&&t(a)}catch(a){console.error("Failed to fetch widgets:",a)}},[]);return fe.useEffect(()=>{n==="app"&&r()},[n,r]),{pageWidgets:e,setPageWidgets:t,onUpdateWidget:(a,o)=>{const s={...e,[a]:o};t(s),NV.updateWidgets(s).catch(l=>console.error("Failed to save widgets:",l))}}},ipe=[],FZ={1:{id:"1",name:"Alex",avatar:"A",color:"#ef4444"},2:{id:"2",name:"Sam",avatar:"S",color:"#3b82f6"},3:{id:"3",name:"Jordan",avatar:"J",color:"#10b981"},me:{id:"me",name:"Me",avatar:"ME",color:"#7b68ee"}},ape=()=>E.jsx("div",{className:"space-y-2 text-sm",children:["Q4 Strategy Doc","Backend Sprint List","Design System Board","Marketing Campaign","User Research 2024","Deployment Scripts"].map((n,e)=>E.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer transition-colors group border border-transparent hover:border-gray-100",children:[E.jsx("div",{className:"w-8 h-8 bg-blue-50/50 rounded-md text-blue-500 flex items-center justify-center text-[10px] font-bold border border-blue-100 group-hover:bg-blue-100 group-hover:border-blue-200 transition-all",children:n[0]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"text-gray-700 font-medium truncate group-hover:text-brand-primary transition-colors",children:n}),E.jsxs("p",{className:"text-xs text-gray-400",children:["Accessed ",e+1," hour",e!==0?"s":""," ago"]})]})]},e))}),ope=()=>E.jsxs("div",{className:"space-y-3",children:[ipe.filter(n=>n.priority==="Urgent"||n.priority==="High").slice(0,5).map((n,e)=>E.jsxs("div",{className:"flex items-start space-x-3 group cursor-pointer",children:[E.jsx("div",{className:"mt-1 text-xs font-bold text-gray-300 w-4 text-right",children:e+1}),E.jsxs("div",{className:"flex-1 bg-white border border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md hover:border-brand-primary/30 transition-all",children:[E.jsxs("div",{className:"flex justify-between items-start mb-1",children:[E.jsx("span",{className:"text-xs font-semibold px-1.5 py-0.5 rounded bg-red-50 text-red-500 border border-red-100",children:n.priority}),E.jsx("span",{className:"text-[10px] text-gray-400",children:n.dueDate?new Date(n.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"No Date"})]}),E.jsx("p",{className:"text-sm font-medium text-gray-800 leading-tight group-hover:text-brand-primary transition-colors",children:n.title})]})]},n.id)),E.jsxs("button",{className:"w-full py-2.5 text-xs font-medium text-gray-400 border border-dashed border-gray-200 rounded-lg hover:bg-gray-50 hover:text-brand-primary hover:border-brand-primary/30 transition-colors flex items-center justify-center space-x-1",children:[E.jsx(Ti,{size:12}),E.jsx("span",{children:"Add Task to LineUp"})]})]}),spe=()=>E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 p-4",children:[E.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-full flex items-center justify-center shadow-inner border border-white",children:E.jsx(sf,{className:"text-brand-primary",size:28})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-800",children:"Daily Standup"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-[200px] mx-auto leading-relaxed",children:"Brain analyzes your activity to generate a smart status report."})]}),E.jsx("button",{className:"bg-gray-900 hover:bg-black text-white px-5 py-2 rounded-lg text-sm font-bold transition-all shadow-md hover:shadow-lg active:scale-95",children:"Generate with AI"})]}),lpe=()=>{const e=[{time:"09:30",end:"10:00",title:"Daily Standup",type:"meeting",color:"bg-blue-50 border-blue-100 text-blue-700",icon:$6},{time:"11:00",end:"12:30",title:"Design Review: Mobile App",type:"work",color:"bg-purple-50 border-purple-100 text-purple-700",icon:fz},{time:"14:00",end:"15:00",title:"Customer Sync",type:"meeting",color:"bg-green-50 border-green-100 text-green-700",icon:$6},{time:"16:30",end:"17:00",title:"Wrap up & Planning",type:"task",color:"bg-gray-50 border-gray-100 text-gray-600",icon:WS}];return E.jsxs("div",{className:"relative h-full flex flex-col",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-100",children:[E.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Today, Oct 24"}),E.jsx("button",{className:"text-[10px] bg-gray-50 border border-gray-200 px-2 py-1 rounded hover:bg-gray-100 text-gray-600 transition-colors",children:"Sync Calendar"})]}),E.jsxs("div",{className:"flex-1 relative overflow-y-auto scrollbar-hide pl-2 pr-2 space-y-4",children:[E.jsx("div",{className:"absolute left-[48px] top-0 bottom-0 w-[1px] bg-gray-200 z-0"}),E.jsxs("div",{className:"absolute left-[42px] w-full flex items-center z-10",style:{top:"45%"},children:[E.jsx("div",{className:"w-3 h-3 bg-brand-urgent rounded-full border-2 border-white shadow-sm"}),E.jsx("div",{className:"flex-1 h-[1px] bg-brand-urgent ml-1 opacity-50"}),E.jsx("span",{className:"text-[10px] text-brand-urgent font-bold bg-white px-1 ml-auto mr-2 shadow-sm rounded border border-red-100",children:"12:45 PM"})]}),e.map((t,r)=>E.jsxs("div",{className:"relative flex z-20 group",children:[E.jsxs("div",{className:"w-12 text-[10px] text-gray-400 text-right pr-3 pt-1 font-mono",children:[E.jsx("div",{children:t.time}),E.jsx("div",{className:"text-gray-300",children:t.end})]}),E.jsxs("div",{className:`flex-1 p-3 rounded-lg border ${t.color} shadow-sm hover:shadow-md transition-all cursor-pointer relative overflow-hidden hover:-translate-y-0.5`,children:[E.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${t.color.replace("bg-","bg-opacity-100 bg-").split(" ")[0].replace("50","500")}`}),E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("div",{className:"font-semibold text-sm mb-1",children:t.title}),E.jsx(t.icon,{size:14,className:"opacity-70"})]}),E.jsx("div",{className:"text-xs opacity-80",children:"Zoom  3 participants"})]})]},r)),E.jsxs("div",{className:"relative flex z-20 opacity-50 hover:opacity-100 transition-opacity cursor-pointer group",children:[E.jsx("div",{className:"w-12 text-[10px] text-gray-300 text-right pr-3 pt-2",children:"13:00"}),E.jsx("div",{className:"flex-1 p-3 rounded-lg border border-dashed border-gray-300 flex items-center justify-center text-xs text-gray-400 group-hover:bg-gray-50 h-16 transition-colors",children:"+ Schedule block"})]})]})]})},upe=({title:n})=>E.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-300 space-y-3",children:[E.jsx("div",{className:"p-4 rounded-full bg-gray-50 border border-gray-100",children:E.jsx(uz,{size:24,className:"opacity-30 text-gray-400"})}),E.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["No items in ",n]}),E.jsx("button",{className:"text-xs text-brand-primary font-semibold hover:underline",children:"Connect Source"})]}),cpe=({card:n,allCards:e,onUpdate:t,onRemove:r,containerWidth:i})=>{const[a,o]=fe.useState(!1),[s,l]=fe.useState(!1),u=fe.useRef(null),c=24,f=50,h=fe.useRef({x:0,y:0,initialX:0,initialY:0,initialW:0,initialH:0}),d=(x,b)=>{x.stopPropagation();const T=Math.max(...e.map(C=>C.zIndex||0),0);t({...n,zIndex:T+1}),h.current={x:x.clientX,y:x.clientY,initialX:n.x,initialY:n.y,initialW:n.w,initialH:n.h};const M=u.current;M&&M.setPointerCapture(x.pointerId),b==="drag"&&o(!0),b==="resize"&&l(!0)},v=x=>{if(!a&&!s)return;x.stopPropagation();const b=x.clientX-h.current.x,T=x.clientY-h.current.y;if(a&&u.current){let M=h.current.initialX+b,C=h.current.initialY+T;const D=i;M=Math.max(32,M),C=Math.max(0,C);const R=20;Math.abs(M%R)<f&&(M=Math.round(M/R)*R),Math.abs(C%R)<f&&(C=Math.round(C/R)*R),M=Math.max(32,Math.min(M,D-h.current.initialW-32)),C=Math.max(0,C),u.current.style.transform=`translate(${M-h.current.initialX}px, ${C-h.current.initialY}px)`,u.current.style.zIndex="100",u.current.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)";const I=u.current.getBoundingClientRect(),L=u.current.offsetParent;if(!L)return;const O=L.getBoundingClientRect(),B=I.left-O.left,V=I.top-O.left,F=I.width,k=I.height;e.forEach(Y=>{if(Y.instanceId!==n.instanceId)if(B<Y.x+Y.w&&B+F>Y.x&&V<Y.y+Y.h&&V+k>Y.y){const H=document.getElementById(`card-${Y.instanceId}`);H&&(H.style.transform=`translateY(${k+c}px)`,H.style.transition="transform 0.2s cubic-bezier(0.2, 0, 0, 1)")}else{const H=document.getElementById(`card-${Y.instanceId}`);H&&(H.style.transform="")}})}if(s&&u.current){let M=Math.max(300,h.current.initialW+b);const C=Math.max(200,h.current.initialH+T),D=i-n.x-32;M=Math.min(M,D),u.current.style.width=`${M}px`,u.current.style.height=`${C}px`}},g=x=>{if(!a&&!s)return;x.stopPropagation();const b=u.current;if(b){b.releasePointerCapture(x.pointerId);const T=b.getBoundingClientRect(),M=b.offsetParent;if(M){const C=M.getBoundingClientRect();let D=T.left-C.left,R=T.top-C.top,I=T.width,L=T.height;if(a){D=Math.round(D/20)*20,R=Math.round(R/20)*20,D=Math.max(32,Math.min(D,i-I-32)),R=Math.max(0,R);const B=[],V={x:D,y:R,w:I,h:L};e.filter(k=>k.instanceId!==n.instanceId).sort((k,Y)=>k.y-Y.y).forEach(k=>{if(V.x<k.x+k.w&&V.x+V.w>k.x&&V.y<k.y+k.h&&V.y+V.h>k.y){const H=V.y+V.h+c;B.push({...k,y:H}),k.y=H}const Y=document.getElementById(`card-${k.instanceId}`);Y&&(Y.style.transform="")}),t({...n,x:D,y:R,w:I,h:L},B)}else if(s){const O=i-D-32;I=Math.min(I,O),t({...n,x:D,y:R,w:I,h:L})}}}o(!1),l(!1)},y={standup:sf,recents:Rq,agenda:Bp,mywork:WS,assigned:WS,personal:Aq,comments:Oq,lineup:Lq,reminders:iD}[n.typeId]||uz;return E.jsxs("div",{id:`card-${n.instanceId}`,ref:u,className:`absolute bg-white rounded-xl flex flex-col overflow-hidden group transition-shadow duration-200 ${a?"shadow-2xl cursor-grabbing z-50 scale-[1.02] ring-2 ring-brand-primary ring-opacity-50":"shadow-card hover:shadow-card-hover z-10 border border-gray-200/60"}`,style:{left:n.x,top:n.y,width:n.w,height:n.h,zIndex:a?9999:n.zIndex,transition:a||s?"none":"box-shadow 0.2s, transform 0.3s ease-out, left 0.3s cubic-bezier(0.2, 0, 0, 1), top 0.3s cubic-bezier(0.2, 0, 0, 1)"},onPointerMove:v,onPointerUp:g,children:[E.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-50/80 cursor-grab active:cursor-grabbing bg-gradient-to-b from-white to-gray-50/50 select-none h-12",onPointerDown:x=>d(x,"drag"),children:[E.jsxs("div",{className:"flex items-center space-x-2.5 pointer-events-none",children:[E.jsx("div",{className:`w-7 h-7 rounded-lg ${n.color} flex items-center justify-center text-white shadow-md shadow-gray-200`,children:E.jsx(y,{size:14})}),E.jsx("span",{className:"text-sm font-bold text-gray-800 tracking-tight",children:n.title})]}),E.jsx("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("button",{onClick:x=>{x.stopPropagation(),r(n.instanceId)},className:"p-1.5 hover:bg-red-50 rounded-md text-gray-400 hover:text-red-500 transition-colors",children:E.jsx(q2,{size:14})})})]}),E.jsxs("div",{className:"flex-1 p-4 overflow-y-auto scrollbar-hide bg-white select-text cursor-auto",onPointerDown:x=>x.stopPropagation(),children:[n.typeId==="recents"&&E.jsx(ape,{}),n.typeId==="lineup"&&E.jsx(ope,{}),n.typeId==="standup"&&E.jsx(spe,{}),n.typeId==="agenda"&&E.jsx(lpe,{}),!["recents","lineup","standup","agenda"].includes(n.typeId)&&E.jsx(upe,{title:n.title})]}),E.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-nwse-resize flex items-end justify-end p-1 opacity-0 group-hover:opacity-100 transition-opacity",onPointerDown:x=>d(x,"resize"),children:E.jsx("div",{className:"w-2.5 h-2.5 border-r-2 border-b-2 border-gray-300 rounded-br-[2px] hover:border-brand-primary transition-colors"})})]})},fpe=({cards:n=[],onUpdateCard:e=i=>{},onRemoveCard:t=i=>{},onOpenCustomize:r=()=>{}})=>{const{showToast:i}=pl(),a=new Date().getHours(),o=fe.useRef(null),[s,l]=fe.useState(1600);fe.useEffect(()=>{o.current&&l(o.current.clientWidth);const f=()=>{o.current&&l(o.current.clientWidth)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);let u="Good morning";a>=12&&a<17?u="Good afternoon":a>=17&&(u="Good evening");const c=(f,h=[])=>{e(f),h.forEach(d=>e(d))};return n.length>0?E.jsx("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-hidden relative",children:E.jsxs("div",{className:"flex-1 relative overflow-auto scrollbar-hide w-full h-full",style:{backgroundImage:"radial-gradient(#E5E7EB 1.5px, transparent 1.5px)",backgroundSize:"32px 32px"},children:[E.jsx("div",{className:"px-8 py-6 mb-4",children:E.jsxs("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:[u,", Mohamed"]})}),E.jsxs("div",{ref:o,className:"w-full h-full min-h-[1000px] relative",children:[n.map(f=>E.jsx(cpe,{card:f,allCards:n,onUpdate:c,onRemove:t,containerWidth:s},f.instanceId)),E.jsx("div",{className:"absolute inset-0 z-0",onDoubleClick:r,title:"Double click to add card"})]})]})}):E.jsx("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-y-auto scrollbar-hide animate-in fade-in duration-500",children:E.jsxs("div",{className:"w-full mx-auto p-8 md:p-12 flex flex-col h-full",children:[E.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-8 tracking-tight",children:[u,", Gemini User"]}),E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[400px]",children:[E.jsxs("div",{className:"relative w-80 h-64 mb-12 opacity-90 hover:opacity-100 transition-all duration-500 cursor-pointer group",onClick:r,children:[E.jsxs("div",{className:"absolute top-0 left-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform -rotate-6 z-10 flex flex-col p-4 space-y-3 transition-transform group-hover:-translate-y-3 group-hover:-rotate-12",children:[E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full"}),E.jsx("div",{className:"w-24 h-2.5 bg-gray-100 rounded-full"})]}),E.jsxs("div",{className:"space-y-2 mt-2",children:[E.jsx("div",{className:"w-full h-2 bg-gray-50 rounded-full"}),E.jsx("div",{className:"w-3/4 h-2 bg-gray-50 rounded-full"})]})]}),E.jsxs("div",{className:"absolute top-8 right-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform rotate-6 z-0 flex flex-col p-4 items-end justify-between transition-transform group-hover:translate-x-3 group-hover:rotate-12",children:[E.jsx("div",{className:"w-10 h-2.5 bg-gray-100 rounded-full mb-2"}),E.jsx("div",{className:"w-full h-14 bg-gray-50 rounded-xl border border-gray-100 border-dashed flex items-center justify-center",children:E.jsx(uz,{size:20,className:"text-gray-200"})})]}),E.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-64 h-36 bg-white border border-gray-200 rounded-2xl shadow-2xl shadow-indigo-100 z-20 flex flex-col p-5 transition-transform group-hover:scale-105 ring-1 ring-black/5",children:[E.jsx("div",{className:"flex items-center justify-between mb-4",children:E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-primary"}),E.jsx("div",{className:"w-28 h-2.5 bg-gray-100 rounded-full"})]})}),E.jsx("div",{className:"flex-1 space-y-3",children:E.jsxs("div",{className:"flex items-center justify-between px-2",children:[E.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),E.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),E.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"})]})})]}),E.jsx("div",{className:"absolute -top-4 right-10 w-12 h-12 bg-white border border-gray-100 rounded-2xl shadow-lg flex items-center justify-center z-30 animate-bounce duration-[2000ms]",children:E.jsx(Ti,{className:"text-brand-primary",size:24})})]}),E.jsxs("h2",{className:"text-gray-500 text-center max-w-md mb-8 leading-relaxed text-lg font-medium",children:["Customize your workspace with drag-and-drop cards. ",E.jsx("br",{}),E.jsx("span",{className:"text-sm text-gray-400",children:"Build your perfect dashboard in seconds."})]}),E.jsx("button",{className:"bg-gray-900 hover:bg-black text-white px-8 py-3.5 rounded-xl font-bold text-sm transition-all shadow-md hover:shadow-lg active:scale-95 tracking-wide",onClick:r,children:"Customize Home"})]})]})})},PR="http://localhost:3001",zR={getMessages:async()=>(await fetch(`${PR}/messages`)).json(),markMessageRead:async n=>{await fetch(`${PR}/messages/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isRead:!0})})},sendMessage:async(n,e)=>{const t={id:`MSG-${Date.now()}`,senderId:"me",subject:n,preview:e.substring(0,50)+"...",content:e,timestamp:new Date().toISOString(),isRead:!0,tags:["sent"]};return(await fetch(`${PR}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}},hpe=({isLoading:n,messages:e,selectedId:t,filter:r,onLoadMessages:i,onSetFilter:a,onSelectMessage:o})=>{const s=e,l=c=>FZ[c]||{name:"Unknown",color:"#999",avatar:"?"},u=c=>{const f=new Date(c),h=new Date;return f.toDateString()===h.toDateString()?f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):f.toLocaleDateString([],{month:"short",day:"numeric"})};return E.jsxs("div",{className:"w-96 border-r border-gray-200 flex flex-col bg-gray-50/50",children:[E.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between bg-white",children:[E.jsxs("h2",{className:"font-bold text-lg flex items-center text-gray-700",children:[E.jsx(lz,{className:"mr-2 text-clickup-purple",size:20}),"Inbox"]}),E.jsxs("div",{className:"flex space-x-1",children:[E.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",onClick:i,children:E.jsx(cz,{size:16,className:n?"animate-spin":""})}),E.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",children:E.jsx(Vse,{size:16})})]})]}),E.jsx("div",{className:"p-3",children:E.jsxs("div",{className:"relative",children:[E.jsx(hz,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),E.jsx("input",{type:"text",placeholder:"Search messages...",className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple"})]})}),E.jsxs("div",{className:"flex px-3 border-b border-gray-200 bg-white",children:[E.jsx("button",{onClick:()=>a("inbox"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${r==="inbox"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Primary"}),E.jsx("button",{onClick:()=>a("sent"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${r==="sent"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Updates"})]}),E.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:n&&e.length===0?E.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"Loading..."}):s.length===0?E.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No messages here."}):s.map(c=>{const f=l(c.senderId);return E.jsxs("div",{onClick:()=>o(c.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors group relative ${t===c.id?"bg-purple-50 border-purple-100":"bg-white hover:bg-gray-50"} ${c.isRead?"":"bg-gray-50"}`,children:[!c.isRead&&E.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-clickup-purple rounded-full"}),E.jsxs("div",{className:"flex justify-between items-start mb-1",children:[E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white",style:{backgroundColor:f.color},children:f.avatar}),E.jsx("span",{className:`text-sm truncate max-w-[120px] ${c.isRead?"text-gray-600":"font-bold text-gray-900"}`,children:f.name})]}),E.jsx("span",{className:"text-[10px] text-gray-400",children:u(c.timestamp)})]}),E.jsx("div",{className:`text-sm mb-1 truncate ${c.isRead?"text-gray-700":"font-semibold text-gray-800"}`,children:c.subject}),E.jsx("div",{className:"text-xs text-gray-400 truncate",children:c.preview})]},c.id)})})]})},dpe=({selectedMessage:n,replyText:e,onReplyChange:t,onSendReply:r,onOpenCompose:i})=>{const a=o=>FZ[o]||{name:"Unknown",color:"#999",avatar:"?"};return E.jsx("div",{className:"flex-1 flex flex-col bg-white h-full min-w-0",children:n?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"p-6 border-b border-gray-200",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:n.subject}),E.jsxs("div",{className:"flex space-x-2 text-gray-400",children:[E.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",title:"Archive",children:E.jsx(Voe,{size:18})}),E.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full hover:text-red-500",title:"Delete",children:E.jsx($g,{size:18})})]})]}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm",style:{backgroundColor:a(n.senderId).color},children:a(n.senderId).avatar}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-baseline space-x-2",children:[E.jsx("span",{className:"font-bold text-gray-900",children:a(n.senderId).name}),E.jsxs("span",{className:"text-xs text-gray-500",children:["<user@",n.senderId,".com>"]})]}),E.jsxs("div",{className:"text-xs text-gray-400",children:["To: Me  ",new Date(n.timestamp).toLocaleString()]})]})]})]}),E.jsx("div",{className:"flex-1 p-8 overflow-y-auto text-gray-800 leading-relaxed whitespace-pre-wrap font-sans text-sm",children:n.content}),E.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:E.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm focus-within:ring-2 focus-within:ring-purple-100 focus-within:border-clickup-purple transition-all",children:[E.jsxs("div",{className:"p-2 border-b border-gray-100 bg-gray-50/50 flex items-center space-x-2 text-gray-400",children:[E.jsx(Rle,{size:14}),E.jsxs("span",{className:"text-xs font-medium",children:["Replying to ",a(n.senderId).name,"..."]})]}),E.jsx("textarea",{className:"w-full p-3 min-h-[80px] focus:outline-none text-sm resize-none",placeholder:"Write your reply...",value:e,onChange:o=>t(o.target.value)}),E.jsxs("div",{className:"flex items-center justify-between p-2",children:[E.jsx("div",{className:"flex space-x-2"}),E.jsxs("button",{onClick:r,disabled:!e.trim(),className:"bg-clickup-purple text-white px-4 py-1.5 rounded text-sm font-medium flex items-center space-x-2 disabled:opacity-50 hover:brightness-110 transition-all",children:[E.jsx("span",{children:"Send"}),E.jsx(Pq,{size:14})]})]})]})})]}):E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300 bg-gray-50/30",children:[E.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:E.jsx(lz,{size:48,className:"text-gray-300"})}),E.jsx("p",{className:"text-lg font-medium text-gray-400",children:"Select a message to read"}),E.jsx("p",{className:"text-sm max-w-xs text-center mt-2",children:"Stay on top of your communications directly within your workspace."}),E.jsxs("button",{onClick:i,className:"mt-6 px-6 py-2 bg-clickup-purple text-white rounded-full font-medium shadow-lg shadow-purple-200 hover:shadow-xl hover:scale-105 transition-all flex items-center",children:[E.jsx(Ti,{size:16,className:"mr-2"}),"New Message"]})]})})},ppe=()=>{const[n,e]=fe.useState([]),[t,r]=fe.useState(null),[i,a]=fe.useState(!0),[o,s]=fe.useState(""),[l,u]=fe.useState("inbox"),{showToast:c}=pl();fe.useEffect(()=>{f()},[]);const f=async()=>{a(!0);try{const g=await zR.getMessages();e(g.sort((y,x)=>new Date(x.timestamp).getTime()-new Date(y.timestamp).getTime()))}catch(g){console.error(g)}finally{a(!1)}},h=async g=>{r(g);const y=n.find(x=>x.id===g);y&&!y.isRead&&(e(x=>x.map(b=>b.id===g?{...b,isRead:!0}:b)),await zR.markMessageRead(g))},d=async()=>{if(!o.trim())return;const g=n.find(x=>x.id===t),y=g?`Re: ${g.subject}`:"New Message";c("Sending...","info");try{await zR.sendMessage(y,o),s(""),c("Reply sent!","success"),f()}catch{c("Failed to send","error")}},v=n.find(g=>g.id===t);return E.jsxs("div",{className:"flex h-full bg-white overflow-hidden animate-in fade-in duration-300",children:[E.jsx(hpe,{isLoading:i,messages:n,selectedId:t,filter:l,onLoadMessages:f,onSetFilter:u,onSelectMessage:h}),E.jsx(dpe,{selectedMessage:v,replyText:o,onReplyChange:s,onSendReply:d,onOpenCompose:()=>c("Compose Window Opened","info")})]})};var kR={exports:{}},nh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RV;function vpe(){return RV||(RV=1,nh.ConcurrentRoot=1,nh.ContinuousEventPriority=8,nh.DefaultEventPriority=32,nh.DiscreteEventPriority=2,nh.IdleEventPriority=268435456,nh.LegacyRoot=0,nh.NoEventPriority=0),nh}var LV;function gpe(){return LV||(LV=1,kR.exports=vpe()),kR.exports}var gC=gpe();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const nw="181",Eg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Dg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},GZ=0,M5=1,HZ=2,mpe=3,jZ=0,vD=1,yS=2,Uu=3,kh=0,fs=1,Zc=2,lf=0,em=1,KS=2,A5=3,C5=4,WZ=5,op=100,YZ=101,XZ=102,qZ=103,ZZ=104,KZ=200,JZ=201,QZ=202,$Z=203,eE=204,tE=205,eK=206,tK=207,nK=208,rK=209,iK=210,aK=211,oK=212,sK=213,lK=214,nE=0,rE=1,iE=2,cm=3,aE=4,oE=5,sE=6,lE=7,rw=0,uK=1,cK=2,uf=0,fK=1,hK=2,dK=3,Sz=4,pK=5,vK=6,gK=7,E5="attached",mK="detached",gD=300,Bh=301,Ep=302,JS=303,QS=304,e_=306,$S=1e3,Os=1001,e2=1002,ao=1003,wz=1004,ype=1004,Ky=1005,xpe=1005,Ji=1006,xS=1007,_pe=1007,$c=1008,bpe=1008,$l=1009,Tz=1010,Mz=1011,mx=1012,mD=1013,Uh=1014,Ps=1015,Mm=1016,yD=1017,xD=1018,yx=1020,Az=35902,Cz=35899,Ez=1021,Dz=1022,Po=1023,xx=1026,_x=1027,_D=1028,iw=1029,bD=1030,SD=1031,Spe=1032,wD=1033,_S=33776,bS=33777,SS=33778,wS=33779,uE=35840,cE=35841,fE=35842,hE=35843,dE=36196,pE=37492,vE=37496,gE=37808,mE=37809,yE=37810,xE=37811,_E=37812,bE=37813,SE=37814,wE=37815,TE=37816,ME=37817,AE=37818,CE=37819,EE=37820,DE=37821,NE=36492,RE=36494,LE=36495,IE=36283,OE=36284,PE=36285,zE=36286,yK=2200,xK=2201,_K=2202,t2=2300,kE=2301,mC=2302,Hg=2400,jg=2401,n2=2402,TD=2500,Nz=2501,wpe=0,Tpe=1,Mpe=2,bK=3200,SK=3201,Ape=3202,Cpe=3203,Up=0,wK=1,Sh="",Io="srgb",Dp="srgb-linear",r2="linear",Ur="srgb",Epe=0,Ng=7680,Dpe=7681,Npe=7682,Rpe=7683,Lpe=34055,Ipe=34056,Ope=5386,Ppe=512,zpe=513,kpe=514,Bpe=515,Upe=516,Vpe=517,Fpe=518,D5=519,TK=512,MK=513,AK=514,Rz=515,CK=516,EK=517,DK=518,NK=519,i2=35044,Gpe=35048,Hpe=35040,jpe=35045,Wpe=35049,Ype=35041,Xpe=35046,qpe=35050,Zpe=35042,Kpe="100",N5="300 es",al=2e3,bx=2001,Jpe={COMPUTE:"compute",RENDER:"render"},Qpe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},$pe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function RK(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const eve={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Jy(n,e){return new eve[n](e)}function a2(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function LK(){const n=a2("canvas");return n.style.display="block",n}const IV={};let Np=null;function tve(n){Np=n}function nve(){return Np}function o2(...n){const e="THREE."+n.shift();Np?Np("log",e,...n):console.log(e,...n)}function It(...n){const e="THREE."+n.shift();Np?Np("warn",e,...n):console.warn(e,...n)}function En(...n){const e="THREE."+n.shift();Np?Np("error",e,...n):console.error(e,...n)}function Sx(...n){const e=n.join(" ");e in IV||(IV[e]=!0,It(...n))}function rve(n,e,t){return new Promise(function(r,i){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}let _f=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const Co=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let OV=1234567;const tm=Math.PI/180,Tx=180/Math.PI;function cl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Co[n&255]+Co[n>>8&255]+Co[n>>16&255]+Co[n>>24&255]+"-"+Co[e&255]+Co[e>>8&255]+"-"+Co[e>>16&15|64]+Co[e>>24&255]+"-"+Co[t&63|128]+Co[t>>8&255]+"-"+Co[t>>16&255]+Co[t>>24&255]+Co[r&255]+Co[r>>8&255]+Co[r>>16&255]+Co[r>>24&255]).toLowerCase()}function wn(n,e,t){return Math.max(e,Math.min(t,n))}function Lz(n,e){return(n%e+e)%e}function ive(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function ave(n,e,t){return n!==e?(t-n)/(e-n):0}function TS(n,e,t){return(1-t)*n+t*e}function ove(n,e,t,r){return TS(n,e,1-Math.exp(-t*r))}function sve(n,e=1){return e-Math.abs(Lz(n,e*2)-e)}function lve(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function uve(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function cve(n,e){return n+Math.floor(Math.random()*(e-n+1))}function fve(n,e){return n+Math.random()*(e-n)}function hve(n){return n*(.5-Math.random())}function dve(n){n!==void 0&&(OV=n);let e=OV+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function pve(n){return n*tm}function vve(n){return n*Tx}function gve(n){return(n&n-1)===0&&n!==0}function mve(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function yve(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function xve(n,e,t,r,i){const a=Math.cos,o=Math.sin,s=a(t/2),l=o(t/2),u=a((e+r)/2),c=o((e+r)/2),f=a((e-r)/2),h=o((e-r)/2),d=a((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(s*c,l*f,l*h,s*u);break;case"YZY":n.set(l*h,s*c,l*f,s*u);break;case"ZXZ":n.set(l*f,l*h,s*c,s*u);break;case"XZX":n.set(s*c,l*v,l*d,s*u);break;case"YXY":n.set(l*d,s*c,l*v,s*u);break;case"ZYZ":n.set(l*v,l*d,s*c,s*u);break;default:It("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function cs(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Fn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const _ve={DEG2RAD:tm,RAD2DEG:Tx,generateUUID:cl,clamp:wn,euclideanModulo:Lz,mapLinear:ive,inverseLerp:ave,lerp:TS,damp:ove,pingpong:sve,smoothstep:lve,smootherstep:uve,randInt:cve,randFloat:fve,randFloatSpread:hve,seededRandom:dve,degToRad:pve,radToDeg:vve,isPowerOfTwo:gve,ceilPowerOfTwo:mve,floorPowerOfTwo:yve,setQuaternionFromProperEuler:xve,normalize:Fn,denormalize:cs};class st{constructor(e=0,t=0){st.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=wn(this.x,e.x,t.x),this.y=wn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=wn(this.x,e,t),this.y=wn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(wn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zo{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,o,s){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3],h=a[o+0],d=a[o+1],v=a[o+2],g=a[o+3];if(s<=0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(s>=1){e[t+0]=h,e[t+1]=d,e[t+2]=v,e[t+3]=g;return}if(f!==g||l!==h||u!==d||c!==v){let y=l*h+u*d+c*v+f*g;y<0&&(h=-h,d=-d,v=-v,g=-g,y=-y);let x=1-s;if(y<.9995){const b=Math.acos(y),T=Math.sin(b);x=Math.sin(x*b)/T,s=Math.sin(s*b)/T,l=l*x+h*s,u=u*x+d*s,c=c*x+v*s,f=f*x+g*s}else{l=l*x+h*s,u=u*x+d*s,c=c*x+v*s,f=f*x+g*s;const b=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=b,u*=b,c*=b,f*=b}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,a,o){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=a[o],h=a[o+1],d=a[o+2],v=a[o+3];return e[t]=s*v+c*f+l*d-u*h,e[t+1]=l*v+c*h+u*f-s*d,e[t+2]=u*v+c*d+s*h-l*f,e[t+3]=c*v-s*f-l*h-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),f=s(a/2),h=l(r/2),d=l(i/2),v=l(a/2);switch(o){case"XYZ":this._x=h*c*f+u*d*v,this._y=u*d*f-h*c*v,this._z=u*c*v+h*d*f,this._w=u*c*f-h*d*v;break;case"YXZ":this._x=h*c*f+u*d*v,this._y=u*d*f-h*c*v,this._z=u*c*v-h*d*f,this._w=u*c*f+h*d*v;break;case"ZXY":this._x=h*c*f-u*d*v,this._y=u*d*f+h*c*v,this._z=u*c*v+h*d*f,this._w=u*c*f-h*d*v;break;case"ZYX":this._x=h*c*f-u*d*v,this._y=u*d*f+h*c*v,this._z=u*c*v-h*d*f,this._w=u*c*f+h*d*v;break;case"YZX":this._x=h*c*f+u*d*v,this._y=u*d*f+h*c*v,this._z=u*c*v-h*d*f,this._w=u*c*f-h*d*v;break;case"XZY":this._x=h*c*f-u*d*v,this._y=u*d*f-h*c*v,this._z=u*c*v+h*d*f,this._w=u*c*f+h*d*v;break;default:It("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],o=t[1],s=t[5],l=t[9],u=t[2],c=t[6],f=t[10],h=r+s+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(c-l)*d,this._y=(a-u)*d,this._z=(o-i)*d}else if(r>s&&r>f){const d=2*Math.sqrt(1+r-s-f);this._w=(c-l)/d,this._x=.25*d,this._y=(i+o)/d,this._z=(a+u)/d}else if(s>f){const d=2*Math.sqrt(1+s-r-f);this._w=(a-u)/d,this._x=(i+o)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+f-r-s);this._w=(o-i)/d,this._x=(a+u)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,o=e._w,s=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+o*s+i*u-a*l,this._y=i*c+o*l+a*s-r*u,this._z=a*c+o*u+r*l-i*s,this._w=o*c-r*s-i*l-a*u,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let r=e._x,i=e._y,a=e._z,o=e._w,s=this.dot(e);s<0&&(r=-r,i=-i,a=-a,o=-o,s=-s);let l=1-t;if(s<.9995){const u=Math.acos(s),c=Math.sin(u);l=Math.sin(l*u)/c,t=Math.sin(t*u)/c,this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+a*t,this._w=this._w*l+o*t,this._onChangeCallback()}else this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+a*t,this._w=this._w*l+o*t,this.normalize();return this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ge{constructor(e=0,t=0,r=0){ge.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(PV.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(PV.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,u=2*(o*i-s*r),c=2*(s*t-a*i),f=2*(a*r-o*t);return this.x=t+l*u+o*f-s*c,this.y=r+l*c+s*u-a*f,this.z=i+l*f+a*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=wn(this.x,e.x,t.x),this.y=wn(this.y,e.y,t.y),this.z=wn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=wn(this.x,e,t),this.y=wn(this.y,e,t),this.z=wn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(wn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,o=t.x,s=t.y,l=t.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return BR.copy(this).projectOnVector(e),this.sub(BR)}reflect(e){return this.sub(BR.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const BR=new ge,PV=new zo;class Bn{constructor(e,t,r,i,a,o,s,l,u){Bn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,l,u)}set(e,t,r,i,a,o,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=a,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],d=r[5],v=r[8],g=i[0],y=i[3],x=i[6],b=i[1],T=i[4],M=i[7],C=i[2],D=i[5],R=i[8];return a[0]=o*g+s*b+l*C,a[3]=o*y+s*T+l*D,a[6]=o*x+s*M+l*R,a[1]=u*g+c*b+f*C,a[4]=u*y+c*T+f*D,a[7]=u*x+c*M+f*R,a[2]=h*g+d*b+v*C,a[5]=h*y+d*T+v*D,a[8]=h*x+d*M+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*s*u-r*a*c+r*s*l+i*a*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*o-s*u,h=s*l-c*a,d=u*a-o*l,v=t*f+r*h+i*d;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/v;return e[0]=f*g,e[1]=(i*u-c*r)*g,e[2]=(s*r-i*o)*g,e[3]=h*g,e[4]=(c*t-i*l)*g,e[5]=(i*a-s*t)*g,e[6]=d*g,e[7]=(r*l-u*t)*g,e[8]=(o*t-r*a)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*o+u*s)+o+e,-i*u,i*l,-i*(-u*o+l*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(UR.makeScale(e,t)),this}rotate(e){return this.premultiply(UR.makeRotation(-e)),this}translate(e,t){return this.premultiply(UR.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const UR=new Bn,zV=new Bn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),kV=new Bn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function bve(){const n={enabled:!0,workingColorSpace:Dp,spaces:{},convert:function(i,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===Ur&&(i.r=Nh(i.r),i.g=Nh(i.g),i.b=Nh(i.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Ur&&(i.r=lx(i.r),i.g=lx(i.g),i.b=lx(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Sh?r2:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,o){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return Sx("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return Sx("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Dp]:{primaries:e,whitePoint:r,transfer:r2,toXYZ:zV,fromXYZ:kV,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Io},outputColorSpaceConfig:{drawingBufferColorSpace:Io}},[Io]:{primaries:e,whitePoint:r,transfer:Ur,toXYZ:zV,fromXYZ:kV,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Io}}}),n}const pr=bve();function Nh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function lx(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let X0;class IK{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{X0===void 0&&(X0=a2("canvas")),X0.width=e.width,X0.height=e.height;const i=X0.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=X0}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=a2("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Nh(a[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Nh(t[r]/255)*255):t[r]=Nh(t[r]);return{data:t,width:e.width,height:e.height}}else return It("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Sve=0;class up{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Sve++}),this.uuid=cl(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(VR(i[o].image)):a.push(VR(i[o]))}else a=VR(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function VR(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?IK.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(It("Texture: Unable to serialize Texture."),{})}let wve=0;const FR=new ge;class Ui extends _f{constructor(e=Ui.DEFAULT_IMAGE,t=Ui.DEFAULT_MAPPING,r=Os,i=Os,a=Ji,o=$c,s=Po,l=$l,u=Ui.DEFAULT_ANISOTROPY,c=Sh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wve++}),this.uuid=cl(),this.name="",this.source=new up(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new st(0,0),this.repeat=new st(1,1),this.center=new st(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(FR).x}get height(){return this.source.getSize(FR).y}get depth(){return this.source.getSize(FR).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){It(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){It(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==gD)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case $S:e.x=e.x-Math.floor(e.x);break;case Os:e.x=e.x<0?0:1;break;case e2:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case $S:e.y=e.y-Math.floor(e.y);break;case Os:e.y=e.y<0?0:1;break;case e2:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ui.DEFAULT_IMAGE=null;Ui.DEFAULT_MAPPING=gD;Ui.DEFAULT_ANISOTROPY=1;class xr{constructor(e=0,t=0,r=0,i=1){xr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],d=l[5],v=l[9],g=l[2],y=l[6],x=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-g)<.01&&Math.abs(v-y)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+g)<.1&&Math.abs(v+y)<.1&&Math.abs(u+d+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(u+1)/2,M=(d+1)/2,C=(x+1)/2,D=(c+h)/4,R=(f+g)/4,I=(v+y)/4;return T>M&&T>C?T<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(T),i=D/r,a=R/r):M>C?M<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(M),r=D/i,a=I/i):C<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(C),r=R/a,i=I/a),this.set(r,i,a,t),this}let b=Math.sqrt((y-v)*(y-v)+(f-g)*(f-g)+(h-c)*(h-c));return Math.abs(b)<.001&&(b=1),this.x=(y-v)/b,this.y=(f-g)/b,this.z=(h-c)/b,this.w=Math.acos((u+d+x-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=wn(this.x,e.x,t.x),this.y=wn(this.y,e.y,t.y),this.z=wn(this.z,e.z,t.z),this.w=wn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=wn(this.x,e,t),this.y=wn(this.y,e,t),this.z=wn(this.z,e,t),this.w=wn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(wn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Iz extends _f{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ji,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new xr(0,0,e,t),this.scissorTest=!1,this.viewport=new xr(0,0,e,t);const i={width:e,height:t,depth:r.depth},a=new Ui(i);this.textures=[];const o=r.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Ji,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new up(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class df extends Iz{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class MD extends Ui{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ao,this.minFilter=ao,this.wrapR=Os,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Tve extends df{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new MD(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class AD extends Ui{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ao,this.minFilter=ao,this.wrapR=Os,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Mve extends df{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new AD(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class ko{constructor(e=new ge(1/0,1/0,1/0),t=new ge(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Lu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Lu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Lu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Lu):Lu.fromBufferAttribute(a,o),Lu.applyMatrix4(e.matrixWorld),this.expandByPoint(Lu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),lM.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),lM.copy(r.boundingBox)),lM.applyMatrix4(e.matrixWorld),this.union(lM)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Lu),Lu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(nb),uM.subVectors(this.max,nb),q0.subVectors(e.a,nb),Z0.subVectors(e.b,nb),K0.subVectors(e.c,nb),Ud.subVectors(Z0,q0),Vd.subVectors(K0,Z0),Fv.subVectors(q0,K0);let t=[0,-Ud.z,Ud.y,0,-Vd.z,Vd.y,0,-Fv.z,Fv.y,Ud.z,0,-Ud.x,Vd.z,0,-Vd.x,Fv.z,0,-Fv.x,-Ud.y,Ud.x,0,-Vd.y,Vd.x,0,-Fv.y,Fv.x,0];return!GR(t,q0,Z0,K0,uM)||(t=[1,0,0,0,1,0,0,0,1],!GR(t,q0,Z0,K0,uM))?!1:(cM.crossVectors(Ud,Vd),t=[cM.x,cM.y,cM.z],GR(t,q0,Z0,K0,uM))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Lu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Lu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(rh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),rh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),rh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),rh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),rh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),rh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),rh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),rh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(rh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const rh=[new ge,new ge,new ge,new ge,new ge,new ge,new ge,new ge],Lu=new ge,lM=new ko,q0=new ge,Z0=new ge,K0=new ge,Ud=new ge,Vd=new ge,Fv=new ge,nb=new ge,uM=new ge,cM=new ge,Gv=new ge;function GR(n,e,t,r,i){for(let a=0,o=n.length-3;a<=o;a+=3){Gv.fromArray(n,a);const s=i.x*Math.abs(Gv.x)+i.y*Math.abs(Gv.y)+i.z*Math.abs(Gv.z),l=e.dot(Gv),u=t.dot(Gv),c=r.dot(Gv);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Ave=new ko,rb=new ge,HR=new ge;class oo{constructor(e=new ge,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Ave.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;rb.subVectors(e,this.center);const t=rb.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(rb,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(HR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(rb.copy(e.center).add(HR)),this.expandByPoint(rb.copy(e.center).sub(HR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const ih=new ge,jR=new ge,fM=new ge,Fd=new ge,WR=new ge,hM=new ge,YR=new ge;class Am{constructor(e=new ge,t=new ge(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ih)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ih.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ih.copy(this.origin).addScaledVector(this.direction,t),ih.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){jR.copy(e).add(t).multiplyScalar(.5),fM.copy(t).sub(e).normalize(),Fd.copy(this.origin).sub(jR);const a=e.distanceTo(t)*.5,o=-this.direction.dot(fM),s=Fd.dot(this.direction),l=-Fd.dot(fM),u=Fd.lengthSq(),c=Math.abs(1-o*o);let f,h,d,v;if(c>0)if(f=o*l-s,h=o*s-l,v=a*c,f>=0)if(h>=-v)if(h<=v){const g=1/c;f*=g,h*=g,d=f*(f+o*h+2*s)+h*(o*f+h+2*l)+u}else h=a,f=Math.max(0,-(o*h+s)),d=-f*f+h*(h+2*l)+u;else h=-a,f=Math.max(0,-(o*h+s)),d=-f*f+h*(h+2*l)+u;else h<=-v?(f=Math.max(0,-(-o*a+s)),h=f>0?-a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u):h<=v?(f=0,h=Math.min(Math.max(-a,-l),a),d=h*(h+2*l)+u):(f=Math.max(0,-(o*a+s)),h=f>0?a:Math.min(Math.max(-a,-l),a),d=-f*f+h*(h+2*l)+u);else h=o>0?-a:a,f=Math.max(0,-(o*h+s)),d=-f*f+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(jR).addScaledVector(fM,h),d}intersectSphere(e,t){ih.subVectors(e.center,this.origin);const r=ih.dot(this.direction),i=ih.dot(ih)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,t):this.at(s,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,o,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(a=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(a=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),f>=0?(s=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(s=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,ih)!==null}intersectTriangle(e,t,r,i,a){WR.subVectors(t,e),hM.subVectors(r,e),YR.crossVectors(WR,hM);let o=this.direction.dot(YR),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Fd.subVectors(this.origin,e);const l=s*this.direction.dot(hM.crossVectors(Fd,hM));if(l<0)return null;const u=s*this.direction.dot(WR.cross(Fd));if(u<0||l+u>o)return null;const c=-s*Fd.dot(YR);return c<0?null:this.at(c/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class An{constructor(e,t,r,i,a,o,s,l,u,c,f,h,d,v,g,y){An.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,l,u,c,f,h,d,v,g,y)}set(e,t,r,i,a,o,s,l,u,c,f,h,d,v,g,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=a,x[5]=o,x[9]=s,x[13]=l,x[2]=u,x[6]=c,x[10]=f,x[14]=h,x[3]=d,x[7]=v,x[11]=g,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new An().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/J0.setFromMatrixColumn(e,0).length(),a=1/J0.setFromMatrixColumn(e,1).length(),o=1/J0.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const h=o*c,d=o*f,v=s*c,g=s*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=d+v*u,t[5]=h-g*u,t[9]=-s*l,t[2]=g-h*u,t[6]=v+d*u,t[10]=o*l}else if(e.order==="YXZ"){const h=l*c,d=l*f,v=u*c,g=u*f;t[0]=h+g*s,t[4]=v*s-d,t[8]=o*u,t[1]=o*f,t[5]=o*c,t[9]=-s,t[2]=d*s-v,t[6]=g+h*s,t[10]=o*l}else if(e.order==="ZXY"){const h=l*c,d=l*f,v=u*c,g=u*f;t[0]=h-g*s,t[4]=-o*f,t[8]=v+d*s,t[1]=d+v*s,t[5]=o*c,t[9]=g-h*s,t[2]=-o*u,t[6]=s,t[10]=o*l}else if(e.order==="ZYX"){const h=o*c,d=o*f,v=s*c,g=s*f;t[0]=l*c,t[4]=v*u-d,t[8]=h*u+g,t[1]=l*f,t[5]=g*u+h,t[9]=d*u-v,t[2]=-u,t[6]=s*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,d=o*u,v=s*l,g=s*u;t[0]=l*c,t[4]=g-h*f,t[8]=v*f+d,t[1]=f,t[5]=o*c,t[9]=-s*c,t[2]=-u*c,t[6]=d*f+v,t[10]=h-g*f}else if(e.order==="XZY"){const h=o*l,d=o*u,v=s*l,g=s*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=h*f+g,t[5]=o*c,t[9]=d*f-v,t[2]=v*f-d,t[6]=s*c,t[10]=g*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Cve,e,Eve)}lookAt(e,t,r){const i=this.elements;return Qs.subVectors(e,t),Qs.lengthSq()===0&&(Qs.z=1),Qs.normalize(),Gd.crossVectors(r,Qs),Gd.lengthSq()===0&&(Math.abs(r.z)===1?Qs.x+=1e-4:Qs.z+=1e-4,Qs.normalize(),Gd.crossVectors(r,Qs)),Gd.normalize(),dM.crossVectors(Qs,Gd),i[0]=Gd.x,i[4]=dM.x,i[8]=Qs.x,i[1]=Gd.y,i[5]=dM.y,i[9]=Qs.y,i[2]=Gd.z,i[6]=dM.z,i[10]=Qs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],d=r[13],v=r[2],g=r[6],y=r[10],x=r[14],b=r[3],T=r[7],M=r[11],C=r[15],D=i[0],R=i[4],I=i[8],L=i[12],O=i[1],B=i[5],V=i[9],F=i[13],k=i[2],Y=i[6],H=i[10],W=i[14],q=i[3],K=i[7],re=i[11],j=i[15];return a[0]=o*D+s*O+l*k+u*q,a[4]=o*R+s*B+l*Y+u*K,a[8]=o*I+s*V+l*H+u*re,a[12]=o*L+s*F+l*W+u*j,a[1]=c*D+f*O+h*k+d*q,a[5]=c*R+f*B+h*Y+d*K,a[9]=c*I+f*V+h*H+d*re,a[13]=c*L+f*F+h*W+d*j,a[2]=v*D+g*O+y*k+x*q,a[6]=v*R+g*B+y*Y+x*K,a[10]=v*I+g*V+y*H+x*re,a[14]=v*L+g*F+y*W+x*j,a[3]=b*D+T*O+M*k+C*q,a[7]=b*R+T*B+M*Y+C*K,a[11]=b*I+T*V+M*H+C*re,a[15]=b*L+T*F+M*W+C*j,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],d=e[14],v=e[3],g=e[7],y=e[11],x=e[15];return v*(+a*l*f-i*u*f-a*s*h+r*u*h+i*s*d-r*l*d)+g*(+t*l*d-t*u*h+a*o*h-i*o*d+i*u*c-a*l*c)+y*(+t*u*f-t*s*d-a*o*f+r*o*d+a*s*c-r*u*c)+x*(-i*s*c-t*l*f+t*s*h+i*o*f-r*o*h+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],v=e[12],g=e[13],y=e[14],x=e[15],b=f*y*u-g*h*u+g*l*d-s*y*d-f*l*x+s*h*x,T=v*h*u-c*y*u-v*l*d+o*y*d+c*l*x-o*h*x,M=c*g*u-v*f*u+v*s*d-o*g*d-c*s*x+o*f*x,C=v*f*l-c*g*l-v*s*h+o*g*h+c*s*y-o*f*y,D=t*b+r*T+i*M+a*C;if(D===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/D;return e[0]=b*R,e[1]=(g*h*a-f*y*a-g*i*d+r*y*d+f*i*x-r*h*x)*R,e[2]=(s*y*a-g*l*a+g*i*u-r*y*u-s*i*x+r*l*x)*R,e[3]=(f*l*a-s*h*a-f*i*u+r*h*u+s*i*d-r*l*d)*R,e[4]=T*R,e[5]=(c*y*a-v*h*a+v*i*d-t*y*d-c*i*x+t*h*x)*R,e[6]=(v*l*a-o*y*a-v*i*u+t*y*u+o*i*x-t*l*x)*R,e[7]=(o*h*a-c*l*a+c*i*u-t*h*u-o*i*d+t*l*d)*R,e[8]=M*R,e[9]=(v*f*a-c*g*a-v*r*d+t*g*d+c*r*x-t*f*x)*R,e[10]=(o*g*a-v*s*a+v*r*u-t*g*u-o*r*x+t*s*x)*R,e[11]=(c*s*a-o*f*a-c*r*u+t*f*u+o*r*d-t*s*d)*R,e[12]=C*R,e[13]=(c*g*i-v*f*i+v*r*h-t*g*h-c*r*y+t*f*y)*R,e[14]=(v*s*i-o*g*i-v*r*l+t*g*l+o*r*y-t*s*y)*R,e[15]=(o*f*i-c*s*i+c*r*l-t*f*l-o*r*h+t*s*h)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,o=e.x,s=e.y,l=e.z,u=a*o,c=a*s;return this.set(u*o+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*o,0,u*l-i*s,c*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,o=t._y,s=t._z,l=t._w,u=a+a,c=o+o,f=s+s,h=a*u,d=a*c,v=a*f,g=o*c,y=o*f,x=s*f,b=l*u,T=l*c,M=l*f,C=r.x,D=r.y,R=r.z;return i[0]=(1-(g+x))*C,i[1]=(d+M)*C,i[2]=(v-T)*C,i[3]=0,i[4]=(d-M)*D,i[5]=(1-(h+x))*D,i[6]=(y+b)*D,i[7]=0,i[8]=(v+T)*R,i[9]=(y-b)*R,i[10]=(1-(h+g))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=J0.set(i[0],i[1],i[2]).length();const o=J0.set(i[4],i[5],i[6]).length(),s=J0.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Iu.copy(this);const u=1/a,c=1/o,f=1/s;return Iu.elements[0]*=u,Iu.elements[1]*=u,Iu.elements[2]*=u,Iu.elements[4]*=c,Iu.elements[5]*=c,Iu.elements[6]*=c,Iu.elements[8]*=f,Iu.elements[9]*=f,Iu.elements[10]*=f,t.setFromRotationMatrix(Iu),r.x=a,r.y=o,r.z=s,this}makePerspective(e,t,r,i,a,o,s=al,l=!1){const u=this.elements,c=2*a/(t-e),f=2*a/(r-i),h=(t+e)/(t-e),d=(r+i)/(r-i);let v,g;if(l)v=a/(o-a),g=o*a/(o-a);else if(s===al)v=-(o+a)/(o-a),g=-2*o*a/(o-a);else if(s===bx)v=-o/(o-a),g=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=h,u[12]=0,u[1]=0,u[5]=f,u[9]=d,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=g,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,r,i,a,o,s=al,l=!1){const u=this.elements,c=2/(t-e),f=2/(r-i),h=-(t+e)/(t-e),d=-(r+i)/(r-i);let v,g;if(l)v=1/(o-a),g=o/(o-a);else if(s===al)v=-2/(o-a),g=-(o+a)/(o-a);else if(s===bx)v=-1/(o-a),g=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=0,u[12]=h,u[1]=0,u[5]=f,u[9]=0,u[13]=d,u[2]=0,u[6]=0,u[10]=v,u[14]=g,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const J0=new ge,Iu=new An,Cve=new ge(0,0,0),Eve=new ge(1,1,1),Gd=new ge,dM=new ge,Qs=new ge,BV=new An,UV=new zo;class hl{constructor(e=0,t=0,r=0,i=hl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],d=i[10];switch(t){case"XYZ":this._y=Math.asin(wn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-wn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(wn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-wn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,d),this._y=0);break;default:It("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return BV.makeRotationFromQuaternion(e),this.setFromRotationMatrix(BV,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return UV.setFromEuler(this),this.setFromQuaternion(UV,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}hl.DEFAULT_ORDER="XYZ";class Mx{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Dve=0;const VV=new ge,Q0=new zo,ah=new An,pM=new ge,ib=new ge,Nve=new ge,Rve=new zo,FV=new ge(1,0,0),GV=new ge(0,1,0),HV=new ge(0,0,1),jV={type:"added"},Lve={type:"removed"},$0={type:"childadded",child:null},XR={type:"childremoved",child:null};class gr extends _f{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Dve++}),this.uuid=cl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=gr.DEFAULT_UP.clone();const e=new ge,t=new hl,r=new zo,i=new ge(1,1,1);function a(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new An},normalMatrix:{value:new Bn}}),this.matrix=new An,this.matrixWorld=new An,this.matrixAutoUpdate=gr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=gr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Mx,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Q0.setFromAxisAngle(e,t),this.quaternion.multiply(Q0),this}rotateOnWorldAxis(e,t){return Q0.setFromAxisAngle(e,t),this.quaternion.premultiply(Q0),this}rotateX(e){return this.rotateOnAxis(FV,e)}rotateY(e){return this.rotateOnAxis(GV,e)}rotateZ(e){return this.rotateOnAxis(HV,e)}translateOnAxis(e,t){return VV.copy(e).applyQuaternion(this.quaternion),this.position.add(VV.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(FV,e)}translateY(e){return this.translateOnAxis(GV,e)}translateZ(e){return this.translateOnAxis(HV,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ah.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?pM.copy(e):pM.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ib.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ah.lookAt(ib,pM,this.up):ah.lookAt(pM,ib,this.up),this.quaternion.setFromRotationMatrix(ah),i&&(ah.extractRotation(i.matrixWorld),Q0.setFromRotationMatrix(ah),this.quaternion.premultiply(Q0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(En("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(jV),$0.child=e,this.dispatchEvent($0),$0.child=null):En("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Lve),XR.child=e,this.dispatchEvent(XR),XR.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ah.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ah.multiply(e.parent.matrixWorld)),e.applyMatrix4(ah),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(jV),$0.child=e,this.dispatchEvent($0),$0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ib,e,Nve),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ib,Rve,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(s=>({...s})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(t){const s=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),d=o(e.animations),v=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),d.length>0&&(r.animations=d),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}gr.DEFAULT_UP=new ge(0,1,0);gr.DEFAULT_MATRIX_AUTO_UPDATE=!0;gr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ou=new ge,oh=new ge,qR=new ge,sh=new ge,ey=new ge,ty=new ge,WV=new ge,ZR=new ge,KR=new ge,JR=new ge,QR=new xr,$R=new xr,eL=new xr;let sp=class jy{constructor(e=new ge,t=new ge,r=new ge){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Ou.subVectors(e,t),i.cross(Ou);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){Ou.subVectors(i,t),oh.subVectors(r,t),qR.subVectors(e,t);const o=Ou.dot(Ou),s=Ou.dot(oh),l=Ou.dot(qR),u=oh.dot(oh),c=oh.dot(qR),f=o*u-s*s;if(f===0)return a.set(0,0,0),null;const h=1/f,d=(u*l-s*c)*h,v=(o*c-s*l)*h;return a.set(1-d-v,v,d)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,sh)===null?!1:sh.x>=0&&sh.y>=0&&sh.x+sh.y<=1}static getInterpolation(e,t,r,i,a,o,s,l){return this.getBarycoord(e,t,r,i,sh)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,sh.x),l.addScaledVector(o,sh.y),l.addScaledVector(s,sh.z),l)}static getInterpolatedAttribute(e,t,r,i,a,o){return QR.setScalar(0),$R.setScalar(0),eL.setScalar(0),QR.fromBufferAttribute(e,t),$R.fromBufferAttribute(e,r),eL.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(QR,a.x),o.addScaledVector($R,a.y),o.addScaledVector(eL,a.z),o}static isFrontFacing(e,t,r,i){return Ou.subVectors(r,t),oh.subVectors(e,t),Ou.cross(oh).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ou.subVectors(this.c,this.b),oh.subVectors(this.a,this.b),Ou.cross(oh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return jy.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return jy.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,a){return jy.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return jy.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return jy.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let o,s;ey.subVectors(i,r),ty.subVectors(a,r),ZR.subVectors(e,r);const l=ey.dot(ZR),u=ty.dot(ZR);if(l<=0&&u<=0)return t.copy(r);KR.subVectors(e,i);const c=ey.dot(KR),f=ty.dot(KR);if(c>=0&&f<=c)return t.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(r).addScaledVector(ey,o);JR.subVectors(e,a);const d=ey.dot(JR),v=ty.dot(JR);if(v>=0&&d<=v)return t.copy(a);const g=d*u-l*v;if(g<=0&&u>=0&&v<=0)return s=u/(u-v),t.copy(r).addScaledVector(ty,s);const y=c*v-d*f;if(y<=0&&f-c>=0&&d-v>=0)return WV.subVectors(a,i),s=(f-c)/(f-c+(d-v)),t.copy(i).addScaledVector(WV,s);const x=1/(y+g+h);return o=g*x,s=h*x,t.copy(r).addScaledVector(ey,o).addScaledVector(ty,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}};const OK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Hd={h:0,s:0,l:0},vM={h:0,s:0,l:0};function tL(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ot{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Io){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,pr.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=pr.workingColorSpace){return this.r=e,this.g=t,this.b=r,pr.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=pr.workingColorSpace){if(e=Lz(e,1),t=wn(t,0,1),r=wn(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,o=2*r-a;this.r=tL(o,a,e+1/3),this.g=tL(o,a,e),this.b=tL(o,a,e-1/3)}return pr.colorSpaceToWorking(this,i),this}setStyle(e,t=Io){function r(a){a!==void 0&&parseFloat(a)<1&&It("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:It("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);It("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Io){const r=OK[e.toLowerCase()];return r!==void 0?this.setHex(r,t):It("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Nh(e.r),this.g=Nh(e.g),this.b=Nh(e.b),this}copyLinearToSRGB(e){return this.r=lx(e.r),this.g=lx(e.g),this.b=lx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Io){return pr.workingToColorSpace(Eo.copy(this),e),Math.round(wn(Eo.r*255,0,255))*65536+Math.round(wn(Eo.g*255,0,255))*256+Math.round(wn(Eo.b*255,0,255))}getHexString(e=Io){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=pr.workingColorSpace){pr.workingToColorSpace(Eo.copy(this),t);const r=Eo.r,i=Eo.g,a=Eo.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,u;const c=(s+o)/2;if(s===o)l=0,u=0;else{const f=o-s;switch(u=c<=.5?f/(o+s):f/(2-o-s),o){case r:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-r)/f+2;break;case a:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=pr.workingColorSpace){return pr.workingToColorSpace(Eo.copy(this),t),e.r=Eo.r,e.g=Eo.g,e.b=Eo.b,e}getStyle(e=Io){pr.workingToColorSpace(Eo.copy(this),e);const t=Eo.r,r=Eo.g,i=Eo.b;return e!==Io?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Hd),this.setHSL(Hd.h+e,Hd.s+t,Hd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Hd),e.getHSL(vM);const r=TS(Hd.h,vM.h,t),i=TS(Hd.s,vM.s,t),a=TS(Hd.l,vM.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Eo=new Ot;Ot.NAMES=OK;let Ive=0;class Vo extends _f{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ive++}),this.uuid=cl(),this.name="",this.type="Material",this.blending=em,this.side=kh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=eE,this.blendDst=tE,this.blendEquation=op,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ot(0,0,0),this.blendAlpha=0,this.depthFunc=cm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=D5,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ng,this.stencilZFail=Ng,this.stencilZPass=Ng,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){It(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){It(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==em&&(r.blending=this.blending),this.side!==kh&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==eE&&(r.blendSrc=this.blendSrc),this.blendDst!==tE&&(r.blendDst=this.blendDst),this.blendEquation!==op&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==cm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==D5&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ng&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ng&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ng&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(t){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Vp extends Vo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hl,this.combine=rw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const wh=Ove();function Ove(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function Ds(n){Math.abs(n)>65504&&It("DataUtils.toHalfFloat(): Value out of range."),n=wn(n,-65504,65504),wh.floatView[0]=n;const e=wh.uint32View[0],t=e>>23&511;return wh.baseTable[t]+((e&8388607)>>wh.shiftTable[t])}function Jb(n){const e=n>>10;return wh.uint32View[0]=wh.mantissaTable[wh.offsetTable[e]+(n&1023)]+wh.exponentTable[e],wh.floatView[0]}class Pve{static toHalfFloat(e){return Ds(e)}static fromHalfFloat(e){return Jb(e)}}const sa=new ge,gM=new st;let zve=0;class qr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:zve++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=i2,this.updateRanges=[],this.gpuType=Ps,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)gM.fromBufferAttribute(this,t),gM.applyMatrix3(e),this.setXY(t,gM.x,gM.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)sa.fromBufferAttribute(this,t),sa.applyMatrix3(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)sa.fromBufferAttribute(this,t),sa.applyMatrix4(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)sa.fromBufferAttribute(this,t),sa.applyNormalMatrix(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)sa.fromBufferAttribute(this,t),sa.transformDirection(e),this.setXYZ(t,sa.x,sa.y,sa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=cs(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Fn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=cs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Fn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=cs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Fn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=cs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Fn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=cs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Fn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Fn(t,this.array),r=Fn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Fn(t,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=Fn(t,this.array),r=Fn(r,this.array),i=Fn(i,this.array),a=Fn(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==i2&&(e.usage=this.usage),e}}class kve extends qr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Bve extends qr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Uve extends qr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Vve extends qr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class Oz extends qr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Fve extends qr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Pz extends qr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Gve extends qr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Jb(this.array[e*this.itemSize]);return this.normalized&&(t=cs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Fn(t,this.array)),this.array[e*this.itemSize]=Ds(t),this}getY(e){let t=Jb(this.array[e*this.itemSize+1]);return this.normalized&&(t=cs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Fn(t,this.array)),this.array[e*this.itemSize+1]=Ds(t),this}getZ(e){let t=Jb(this.array[e*this.itemSize+2]);return this.normalized&&(t=cs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Fn(t,this.array)),this.array[e*this.itemSize+2]=Ds(t),this}getW(e){let t=Jb(this.array[e*this.itemSize+3]);return this.normalized&&(t=cs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Fn(t,this.array)),this.array[e*this.itemSize+3]=Ds(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Fn(t,this.array),r=Fn(r,this.array)),this.array[e+0]=Ds(t),this.array[e+1]=Ds(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Fn(t,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.array[e+0]=Ds(t),this.array[e+1]=Ds(r),this.array[e+2]=Ds(i),this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=Fn(t,this.array),r=Fn(r,this.array),i=Fn(i,this.array),a=Fn(a,this.array)),this.array[e+0]=Ds(t),this.array[e+1]=Ds(r),this.array[e+2]=Ds(i),this.array[e+3]=Ds(a),this}}class Jt extends qr{constructor(e,t,r){super(new Float32Array(e),t,r)}}let Hve=0;const kl=new An,nL=new gr,ny=new ge,$s=new ko,ab=new ko,Fa=new ge;class Un extends _f{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Hve++}),this.uuid=cl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(RK(e)?Pz:Oz)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Bn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return kl.makeRotationFromQuaternion(e),this.applyMatrix4(kl),this}rotateX(e){return kl.makeRotationX(e),this.applyMatrix4(kl),this}rotateY(e){return kl.makeRotationY(e),this.applyMatrix4(kl),this}rotateZ(e){return kl.makeRotationZ(e),this.applyMatrix4(kl),this}translate(e,t,r){return kl.makeTranslation(e,t,r),this.applyMatrix4(kl),this}scale(e,t,r){return kl.makeScale(e,t,r),this.applyMatrix4(kl),this}lookAt(e){return nL.lookAt(e),nL.updateMatrix(),this.applyMatrix4(nL.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ny).negate(),this.translate(ny.x,ny.y,ny.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Jt(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&It("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ko);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){En("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ge(-1/0,-1/0,-1/0),new ge(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];$s.setFromBufferAttribute(a),this.morphTargetsRelative?(Fa.addVectors(this.boundingBox.min,$s.min),this.boundingBox.expandByPoint(Fa),Fa.addVectors(this.boundingBox.max,$s.max),this.boundingBox.expandByPoint(Fa)):(this.boundingBox.expandByPoint($s.min),this.boundingBox.expandByPoint($s.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&En('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){En("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ge,1/0);return}if(e){const r=this.boundingSphere.center;if($s.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const s=t[a];ab.setFromBufferAttribute(s),this.morphTargetsRelative?(Fa.addVectors($s.min,ab.min),$s.expandByPoint(Fa),Fa.addVectors($s.max,ab.max),$s.expandByPoint(Fa)):($s.expandByPoint(ab.min),$s.expandByPoint(ab.max))}$s.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)Fa.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Fa));if(t)for(let a=0,o=t.length;a<o;a++){const s=t[a],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)Fa.fromBufferAttribute(s,u),l&&(ny.fromBufferAttribute(e,u),Fa.add(ny)),i=Math.max(i,r.distanceToSquared(Fa))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&En('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){En("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let I=0;I<r.count;I++)s[I]=new ge,l[I]=new ge;const u=new ge,c=new ge,f=new ge,h=new st,d=new st,v=new st,g=new ge,y=new ge;function x(I,L,O){u.fromBufferAttribute(r,I),c.fromBufferAttribute(r,L),f.fromBufferAttribute(r,O),h.fromBufferAttribute(a,I),d.fromBufferAttribute(a,L),v.fromBufferAttribute(a,O),c.sub(u),f.sub(u),d.sub(h),v.sub(h);const B=1/(d.x*v.y-v.x*d.y);isFinite(B)&&(g.copy(c).multiplyScalar(v.y).addScaledVector(f,-d.y).multiplyScalar(B),y.copy(f).multiplyScalar(d.x).addScaledVector(c,-v.x).multiplyScalar(B),s[I].add(g),s[L].add(g),s[O].add(g),l[I].add(y),l[L].add(y),l[O].add(y))}let b=this.groups;b.length===0&&(b=[{start:0,count:e.count}]);for(let I=0,L=b.length;I<L;++I){const O=b[I],B=O.start,V=O.count;for(let F=B,k=B+V;F<k;F+=3)x(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const T=new ge,M=new ge,C=new ge,D=new ge;function R(I){C.fromBufferAttribute(i,I),D.copy(C);const L=s[I];T.copy(L),T.sub(C.multiplyScalar(C.dot(L))).normalize(),M.crossVectors(D,L);const B=M.dot(l[I])<0?-1:1;o.setXYZW(I,T.x,T.y,T.z,B)}for(let I=0,L=b.length;I<L;++I){const O=b[I],B=O.start,V=O.count;for(let F=B,k=B+V;F<k;F+=3)R(e.getX(F+0)),R(e.getX(F+1)),R(e.getX(F+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new qr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,d=r.count;h<d;h++)r.setXYZ(h,0,0,0);const i=new ge,a=new ge,o=new ge,s=new ge,l=new ge,u=new ge,c=new ge,f=new ge;if(e)for(let h=0,d=e.count;h<d;h+=3){const v=e.getX(h+0),g=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(t,v),a.fromBufferAttribute(t,g),o.fromBufferAttribute(t,y),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),s.fromBufferAttribute(r,v),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,y),s.add(c),l.add(c),u.add(c),r.setXYZ(v,s.x,s.y,s.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,d=t.count;h<d;h+=3)i.fromBufferAttribute(t,h+0),a.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Fa.fromBufferAttribute(e,t),Fa.normalize(),e.setXYZ(t,Fa.x,Fa.y,Fa.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,h=new u.constructor(l.length*c);let d=0,v=0;for(let g=0,y=l.length;g<y;g++){s.isInterleavedBufferAttribute?d=l[g]*s.data.stride+s.offset:d=l[g]*c;for(let x=0;x<c;x++)h[v++]=u[d++]}return new qr(h,c,f)}if(this.index===null)return It("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Un,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);t.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let c=0,f=u.length;c<f;c++){const h=u[c],d=e(h,r);l.push(d)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f];c.push(d.toJSON(e.data))}c.length>0&&(i[l]=c,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const a=e.morphAttributes;for(const u in a){const c=[],f=a[u];for(let h=0,d=f.length;h<d;h++)c.push(f[h].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const YV=new An,Hv=new Am,mM=new oo,XV=new ge,yM=new ge,xM=new ge,_M=new ge,rL=new ge,bM=new ge,qV=new ge,SM=new ge;class Ca extends gr{constructor(e=new Un,t=new Vp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){bM.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=s[l],f=a[l];c!==0&&(rL.fromBufferAttribute(f,e),o?bM.addScaledVector(rL,c):bM.addScaledVector(rL.sub(t),c))}t.add(bM)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),mM.copy(r.boundingSphere),mM.applyMatrix4(a),Hv.copy(e.ray).recast(e.near),!(mM.containsPoint(Hv.origin)===!1&&(Hv.intersectSphere(mM,XV)===null||Hv.origin.distanceToSquared(XV)>(e.far-e.near)**2))&&(YV.copy(a).invert(),Hv.copy(e.ray).applyMatrix4(YV),!(r.boundingBox!==null&&Hv.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Hv)))}_computeIntersections(e,t,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,h=a.groups,d=a.drawRange;if(s!==null)if(Array.isArray(o))for(let v=0,g=h.length;v<g;v++){const y=h[v],x=o[y.materialIndex],b=Math.max(y.start,d.start),T=Math.min(s.count,Math.min(y.start+y.count,d.start+d.count));for(let M=b,C=T;M<C;M+=3){const D=s.getX(M),R=s.getX(M+1),I=s.getX(M+2);i=wM(this,x,e,r,u,c,f,D,R,I),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const v=Math.max(0,d.start),g=Math.min(s.count,d.start+d.count);for(let y=v,x=g;y<x;y+=3){const b=s.getX(y),T=s.getX(y+1),M=s.getX(y+2);i=wM(this,o,e,r,u,c,f,b,T,M),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,g=h.length;v<g;v++){const y=h[v],x=o[y.materialIndex],b=Math.max(y.start,d.start),T=Math.min(l.count,Math.min(y.start+y.count,d.start+d.count));for(let M=b,C=T;M<C;M+=3){const D=M,R=M+1,I=M+2;i=wM(this,x,e,r,u,c,f,D,R,I),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,t.push(i))}}else{const v=Math.max(0,d.start),g=Math.min(l.count,d.start+d.count);for(let y=v,x=g;y<x;y+=3){const b=y,T=y+1,M=y+2;i=wM(this,o,e,r,u,c,f,b,T,M),i&&(i.faceIndex=Math.floor(y/3),t.push(i))}}}}function jve(n,e,t,r,i,a,o,s){let l;if(e.side===fs?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===kh,s),l===null)return null;SM.copy(s),SM.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(SM);return u<t.near||u>t.far?null:{distance:u,point:SM.clone(),object:n}}function wM(n,e,t,r,i,a,o,s,l,u){n.getVertexPosition(s,yM),n.getVertexPosition(l,xM),n.getVertexPosition(u,_M);const c=jve(n,e,t,r,yM,xM,_M,qV);if(c){const f=new ge;sp.getBarycoord(qV,yM,xM,_M,f),i&&(c.uv=sp.getInterpolatedAttribute(i,s,l,u,f,new st)),a&&(c.uv1=sp.getInterpolatedAttribute(a,s,l,u,f,new st)),o&&(c.normal=sp.getInterpolatedAttribute(o,s,l,u,f,new ge),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const h={a:s,b:l,c:u,normal:new ge,materialIndex:0};sp.getNormal(yM,xM,_M,h.normal),c.face=h,c.barycoord=f}return c}class Cm extends Un{constructor(e=1,t=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,d=0;v("z","y","x",-1,-1,r,t,e,o,a,0),v("z","y","x",1,-1,r,t,-e,o,a,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,a,4),v("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new Jt(u,3)),this.setAttribute("normal",new Jt(c,3)),this.setAttribute("uv",new Jt(f,2));function v(g,y,x,b,T,M,C,D,R,I,L){const O=M/R,B=C/I,V=M/2,F=C/2,k=D/2,Y=R+1,H=I+1;let W=0,q=0;const K=new ge;for(let re=0;re<H;re++){const j=re*B-F;for(let Q=0;Q<Y;Q++){const ne=Q*O-V;K[g]=ne*b,K[y]=j*T,K[x]=k,u.push(K.x,K.y,K.z),K[g]=0,K[y]=0,K[x]=D>0?1:-1,c.push(K.x,K.y,K.z),f.push(Q/R),f.push(1-re/I),W+=1}}for(let re=0;re<I;re++)for(let j=0;j<R;j++){const Q=h+j+Y*re,ne=h+j+Y*(re+1),se=h+(j+1)+Y*(re+1),he=h+(j+1)+Y*re;l.push(Q,ne,he),l.push(ne,se,he),q+=6}s.addGroup(d,q,L),d+=q,h+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cm(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ax(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(It("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function os(n){const e={};for(let t=0;t<n.length;t++){const r=Ax(n[t]);for(const i in r)e[i]=r[i]}return e}function Wve(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function PK(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:pr.workingColorSpace}const zK={clone:Ax,merge:os};var Yve=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Xve=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class dl extends Vo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Yve,this.fragmentShader=Xve,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ax(e.uniforms),this.uniformsGroups=Wve(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class CD extends gr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new An,this.projectionMatrix=new An,this.projectionMatrixInverse=new An,this.coordinateSystem=al,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const jd=new ge,ZV=new st,KV=new st;class Ki extends CD{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Tx*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(tm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Tx*2*Math.atan(Math.tan(tm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){jd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(jd.x,jd.y).multiplyScalar(-e/jd.z),jd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(jd.x,jd.y).multiplyScalar(-e/jd.z)}getViewSize(e,t){return this.getViewBounds(e,ZV,KV),t.subVectors(KV,ZV)}setViewOffset(e,t,r,i,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(tm*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ry=-90,iy=1;class kK extends gr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ki(ry,iy,e,t);i.layers=this.layers,this.add(i);const a=new Ki(ry,iy,e,t);a.layers=this.layers,this.add(a);const o=new Ki(ry,iy,e,t);o.layers=this.layers,this.add(o);const s=new Ki(ry,iy,e,t);s.layers=this.layers,this.add(s);const l=new Ki(ry,iy,e,t);l.layers=this.layers,this.add(l);const u=new Ki(ry,iy,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,o,s,l]=t;for(const u of t)this.remove(u);if(e===al)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===bx)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,u,c]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,s),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,u),r.texture.generateMipmaps=g,e.setRenderTarget(r,5,i),e.render(t,c),e.setRenderTarget(f,h,d),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class aw extends Ui{constructor(e=[],t=Bh,r,i,a,o,s,l,u,c){super(e,t,r,i,a,o,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class BK extends df{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new aw(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Cm(5,5,5),a=new dl({name:"CubemapFromEquirect",uniforms:Ax(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:fs,blending:lf});a.uniforms.tEquirect.value=t;const o=new Ca(i,a),s=t.minFilter;return t.minFilter===$c&&(t.minFilter=Ji),new kK(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(a)}}let Qy=class extends gr{constructor(){super(),this.isGroup=!0,this.type="Group"}};const qve={type:"move"};class yC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Qy,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Qy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ge,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ge),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Qy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ge,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ge),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const g of e.hand.values()){const y=t.getJointPose(g,r),x=this._getHandJoint(u,g);y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=y.radius),x.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),d=.02,v=.005;u.inputState.pinching&&h>d+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=d-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(qve)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Qy;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class ED{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ot(e),this.density=t}clone(){return new ED(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class DD{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ot(e),this.near=t,this.far=r}clone(){return new DD(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class zz extends gr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new hl,this.environmentIntensity=1,this.environmentRotation=new hl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class ND{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=i2,this.updateRanges=[],this.version=0,this.uuid=cl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=cl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const is=new ge;class fm{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)is.fromBufferAttribute(this,t),is.applyMatrix4(e),this.setXYZ(t,is.x,is.y,is.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)is.fromBufferAttribute(this,t),is.applyNormalMatrix(e),this.setXYZ(t,is.x,is.y,is.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)is.fromBufferAttribute(this,t),is.transformDirection(e),this.setXYZ(t,is.x,is.y,is.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=cs(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Fn(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=Fn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Fn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Fn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Fn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=cs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=cs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=cs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=cs(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Fn(t,this.array),r=Fn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Fn(t,this.array),r=Fn(r,this.array),i=Fn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Fn(t,this.array),r=Fn(r,this.array),i=Fn(i,this.array),a=Fn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){o2("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new qr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new fm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){o2("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class kz extends Vo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ot(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ay;const ob=new ge,oy=new ge,sy=new ge,ly=new st,sb=new st,UK=new An,TM=new ge,lb=new ge,MM=new ge,JV=new st,iL=new st,QV=new st;class VK extends gr{constructor(e=new kz){if(super(),this.isSprite=!0,this.type="Sprite",ay===void 0){ay=new Un;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ND(t,5);ay.setIndex([0,1,2,0,2,3]),ay.setAttribute("position",new fm(r,3,0,!1)),ay.setAttribute("uv",new fm(r,2,3,!1))}this.geometry=ay,this.material=e,this.center=new st(.5,.5),this.count=1}raycast(e,t){e.camera===null&&En('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),oy.setFromMatrixScale(this.matrixWorld),UK.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),sy.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&oy.multiplyScalar(-sy.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;AM(TM.set(-.5,-.5,0),sy,o,oy,i,a),AM(lb.set(.5,-.5,0),sy,o,oy,i,a),AM(MM.set(.5,.5,0),sy,o,oy,i,a),JV.set(0,0),iL.set(1,0),QV.set(1,1);let s=e.ray.intersectTriangle(TM,lb,MM,!1,ob);if(s===null&&(AM(lb.set(-.5,.5,0),sy,o,oy,i,a),iL.set(0,1),s=e.ray.intersectTriangle(TM,MM,lb,!1,ob),s===null))return;const l=e.ray.origin.distanceTo(ob);l<e.near||l>e.far||t.push({distance:l,point:ob.clone(),uv:sp.getInterpolation(ob,TM,lb,MM,JV,iL,QV,new st),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function AM(n,e,t,r,i,a){ly.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(sb.x=a*ly.x-i*ly.y,sb.y=i*ly.x+a*ly.y):sb.copy(ly),n.copy(e),n.x+=sb.x,n.y+=sb.y,n.applyMatrix4(UK)}const CM=new ge,$V=new ge;class FK extends gr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){CM.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(CM);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){CM.setFromMatrixPosition(e.matrixWorld),$V.setFromMatrixPosition(this.matrixWorld);const r=CM.distanceTo($V)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const eF=new ge,tF=new xr,nF=new xr,Zve=new ge,rF=new An,EM=new ge,aL=new oo,iF=new An,oL=new Am;class GK extends Ca{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=E5,this.bindMatrix=new An,this.bindMatrixInverse=new An,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ko),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,EM),this.boundingBox.expandByPoint(EM)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new oo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,EM),this.boundingSphere.expandByPoint(EM)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),aL.copy(this.boundingSphere),aL.applyMatrix4(i),e.ray.intersectsSphere(aL)!==!1&&(iF.copy(i).invert(),oL.copy(e.ray).applyMatrix4(iF),!(this.boundingBox!==null&&oL.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,oL)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===E5?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===mK?this.bindMatrixInverse.copy(this.bindMatrix).invert():It("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;tF.fromBufferAttribute(i.attributes.skinIndex,e),nF.fromBufferAttribute(i.attributes.skinWeight,e),eF.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=nF.getComponent(a);if(o!==0){const s=tF.getComponent(a);rF.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector(Zve.copy(eF).applyMatrix4(rF),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Bz extends gr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Wu extends Ui{constructor(e=null,t=1,r=1,i,a,o,s,l,u=ao,c=ao,f,h){super(null,o,s,l,u,c,i,a,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const aF=new An,Kve=new An;class RD{constructor(e=[],t=[]){this.uuid=cl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){It("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new An)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new An;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:Kve;aF.multiplyMatrices(s,t[a]),aF.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new RD(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Wu(t,e,e,Po,Ps);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=t[a];o===void 0&&(It("Skeleton: No bone found with UUID:",a),o=new Bz),this.bones.push(o),this.boneInverses.push(new An().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const o=t[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Cx extends qr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const uy=new An,oF=new An,DM=[],sF=new ko,Jve=new An,ub=new Ca,cb=new oo;class HK extends Ca{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Cx(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Jve)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ko),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,uy),sF.copy(e.boundingBox).applyMatrix4(uy),this.boundingBox.union(sF)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new oo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,uy),cb.copy(e.boundingSphere).applyMatrix4(uy),this.boundingSphere.union(cb)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let s=0;s<r.length;s++)r[s]=i[o+s]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(ub.geometry=this.geometry,ub.material=this.material,ub.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),cb.copy(this.boundingSphere),cb.applyMatrix4(r),e.ray.intersectsSphere(cb)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,uy),oF.multiplyMatrices(r,uy),ub.matrixWorld=oF,ub.raycast(e,DM);for(let o=0,s=DM.length;o<s;o++){const l=DM[o];l.instanceId=a,l.object=this,t.push(l)}DM.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Cx(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Wu(new Float32Array(i*this.count),i,this.count,_D,Ps));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const s=this.geometry.morphTargetsRelative?1:1-o,l=i*e;a[l]=s,a.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const sL=new ge,Qve=new ge,$ve=new Bn;class bh{constructor(e=new ge(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=sL.subVectors(r,t).cross(Qve.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(sL),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||$ve.getNormalMatrix(e),i=this.coplanarPoint(sL).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const jv=new oo,ege=new st(.5,.5),NM=new ge;class t_{constructor(e=new bh,t=new bh,r=new bh,i=new bh,a=new bh,o=new bh){this.planes=[e,t,r,i,a,o]}set(e,t,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=al,r=!1){const i=this.planes,a=e.elements,o=a[0],s=a[1],l=a[2],u=a[3],c=a[4],f=a[5],h=a[6],d=a[7],v=a[8],g=a[9],y=a[10],x=a[11],b=a[12],T=a[13],M=a[14],C=a[15];if(i[0].setComponents(u-o,d-c,x-v,C-b).normalize(),i[1].setComponents(u+o,d+c,x+v,C+b).normalize(),i[2].setComponents(u+s,d+f,x+g,C+T).normalize(),i[3].setComponents(u-s,d-f,x-g,C-T).normalize(),r)i[4].setComponents(l,h,y,M).normalize(),i[5].setComponents(u-l,d-h,x-y,C-M).normalize();else if(i[4].setComponents(u-l,d-h,x-y,C-M).normalize(),t===al)i[5].setComponents(u+l,d+h,x+y,C+M).normalize();else if(t===bx)i[5].setComponents(l,h,y,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),jv.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),jv.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(jv)}intersectsSprite(e){jv.center.set(0,0,0);const t=ege.distanceTo(e.center);return jv.radius=.7071067811865476+t,jv.applyMatrix4(e.matrixWorld),this.intersectsSphere(jv)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(NM.x=i.normal.x>0?e.max.x:e.min.x,NM.y=i.normal.y>0?e.max.y:e.min.y,NM.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(NM)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const kc=new An,Bc=new t_;class LD{constructor(){this.coordinateSystem=al}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(kc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Bc.setFromProjectionMatrix(kc,i.coordinateSystem,i.reversedDepth),Bc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(kc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Bc.setFromProjectionMatrix(kc,i.coordinateSystem,i.reversedDepth),Bc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(kc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Bc.setFromProjectionMatrix(kc,i.coordinateSystem,i.reversedDepth),Bc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(kc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Bc.setFromProjectionMatrix(kc,i.coordinateSystem,i.reversedDepth),Bc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(kc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Bc.setFromProjectionMatrix(kc,i.coordinateSystem,i.reversedDepth),Bc.containsPoint(e))return!0}return!1}clone(){return new LD}}function lL(n,e){return n-e}function tge(n,e){return n.z-e.z}function nge(n,e){return e.z-n.z}class rge{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const s=a[this.index];o.push(s),this.index++,s.start=e,s.count=t,s.z=r,s.index=i}reset(){this.list.length=0,this.index=0}}const Cs=new An,ige=new Ot(1,1,1),lF=new t_,age=new LD,RM=new ko,Wv=new oo,fb=new ge,uF=new ge,oge=new ge,uL=new rge,Do=new Ca,LM=[];function sge(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function Yv(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class jK extends Ca{constructor(e,t,r=t*2,i){super(new Un,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Wu(t,e,e,Po,Ps);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new Wu(t,e,e,iw,Uh);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Wu(t,e,e,Po,Ps);r.colorSpace=pr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:s,itemSize:l,normalized:u}=o,c=new s.constructor(r*l),f=new qr(c,l,u);t.setAttribute(a,f)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new qr(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=t.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ko);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,Cs),this.getBoundingBoxAt(a,RM).applyMatrix4(Cs),e.union(RM)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oo);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,Cs),this.getBoundingSphereAt(a,Wv).applyMatrix4(Cs),e.union(Wv)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(lL),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;Cs.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(ige.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(lL),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=t.getIndex(),s=this._geometryInfo[e];if(i&&o.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.reservedVertexCount;s.vertexCount=t.getAttribute("position").count;for(const c in r.attributes){const f=t.getAttribute(c),h=r.getAttribute(c);sge(f,h,l);const d=f.itemSize;for(let v=f.count,g=u;v<g;v++){const y=l+v;for(let x=0;x<d;x++)h.setComponent(y,x,0)}h.needsUpdate=!0,h.addUpdateRange(l*d,u*d)}if(i){const c=s.indexStart,f=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let h=0;h<o.count;h++)a.setX(c+h,l+o.getX(h));for(let h=o.count,d=f;h<d;h++)a.setX(c+h,l);a.needsUpdate=!0,a.addUpdateRange(c,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,t.boundingBox!==null&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,t.boundingSphere!==null&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,a=r.length;i<a;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((o,s)=>s).sort((o,s)=>r[o].vertexStart-r[s].vertexStart),a=this.geometry;for(let o=0,s=r.length;o<s;o++){const l=i[o],u=r[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==t){const{indexStart:c,vertexStart:f,reservedIndexCount:h}=u,d=a.index,v=d.array,g=e-f;for(let y=c;y<c+h;y++)v[y]=v[y]+g;d.array.copyWithin(t,c,c+h),d.addUpdateRange(t,h),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:f}=u,h=a.attributes;for(const d in h){const v=h[d],{array:g,itemSize:y}=v;g.copyWithin(e*y,c*y,(c+f)*y),v.addUpdateRange(e*y,f*y)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart,this._nextIndexStart=a.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new ko,o=r.index,s=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let c=l;o&&(c=o.getX(c)),a.expandByPoint(fb.fromBufferAttribute(s,c))}i.boundingBox=a}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new oo;this.getBoundingBoxAt(e,RM),RM.getCenter(a.center);const o=r.index,s=r.attributes.position;let l=0;for(let u=i.start,c=i.start+i.count;u<c;u++){let f=u;o&&(f=o.getX(f)),fb.fromBufferAttribute(s,f),l=Math.max(l,a.center.distanceToSquared(fb))}a.radius=Math.sqrt(l),i.boundingSphere=a}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(lL);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);Yv(this._multiDrawCounts,i),Yv(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Yv(o.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Yv(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Yv(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Un,this._initializeGeometry(a));const o=this.geometry;a.index&&Yv(a.index.array,o.index.array);for(const s in a.attributes)Yv(a.attributes[s].array,o.attributes[s].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Do.material=this.material,Do.geometry.index=o.index,Do.geometry.attributes=o.attributes,Do.geometry.boundingBox===null&&(Do.geometry.boundingBox=new ko),Do.geometry.boundingSphere===null&&(Do.geometry.boundingSphere=new oo);for(let s=0,l=r.length;s<l;s++){if(!r[s].visible||!r[s].active)continue;const u=r[s].geometryIndex,c=i[u];Do.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(s,Do.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,Do.geometry.boundingBox),this.getBoundingSphereAt(u,Do.geometry.boundingSphere),Do.raycast(e,LM);for(let f=0,h=LM.length;f<h;f++){const d=LM[f];d.object=this,d.batchId=s,t.push(d)}LM.length=0}Do.material=null,Do.geometry.index=null,Do.geometry.attributes={},Do.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,d=this._indirectTexture,v=d.image.data,g=r.isArrayCamera?age:lF;h&&!r.isArrayCamera&&(Cs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),lF.setFromProjectionMatrix(Cs,r.coordinateSystem,r.reversedDepth));let y=0;if(this.sortObjects){Cs.copy(this.matrixWorld).invert(),fb.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Cs),uF.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Cs);for(let T=0,M=l.length;T<M;T++)if(l[T].visible&&l[T].active){const C=l[T].geometryIndex;this.getMatrixAt(T,Cs),this.getBoundingSphereAt(C,Wv).applyMatrix4(Cs);let D=!1;if(h&&(D=!g.intersectsSphere(Wv,r)),!D){const R=f[C],I=oge.subVectors(Wv.center,fb).dot(uF);uL.push(R.start,R.count,I,T)}}const x=uL.list,b=this.customSort;b===null?x.sort(a.transparent?nge:tge):b.call(this,x,r);for(let T=0,M=x.length;T<M;T++){const C=x[T];u[y]=C.start*s,c[y]=C.count,v[y]=C.index,y++}uL.reset()}else for(let x=0,b=l.length;x<b;x++)if(l[x].visible&&l[x].active){const T=l[x].geometryIndex;let M=!1;if(h&&(this.getMatrixAt(x,Cs),this.getBoundingSphereAt(T,Wv).applyMatrix4(Cs),M=!g.intersectsSphere(Wv,r)),!M){const C=f[T];u[y]=C.start*s,c[y]=C.count,v[y]=x,y++}}d.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class ms extends Vo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const BE=new ge,UE=new ge,cF=new An,hb=new Am,IM=new oo,cL=new ge,fF=new ge;let Rp=class extends gr{constructor(e=new Un,t=new ms){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)BE.fromBufferAttribute(t,i-1),UE.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=BE.distanceTo(UE);e.setAttribute("lineDistance",new Jt(r,1))}else It("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),IM.copy(r.boundingSphere),IM.applyMatrix4(i),IM.radius+=a,e.ray.intersectsSphere(IM)===!1)return;cF.copy(i).invert(),hb.copy(e.ray).applyMatrix4(cF);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,c=r.index,h=r.attributes.position;if(c!==null){const d=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let g=d,y=v-1;g<y;g+=u){const x=c.getX(g),b=c.getX(g+1),T=OM(this,e,hb,l,x,b,g);T&&t.push(T)}if(this.isLineLoop){const g=c.getX(v-1),y=c.getX(d),x=OM(this,e,hb,l,g,y,v-1);x&&t.push(x)}}else{const d=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let g=d,y=v-1;g<y;g+=u){const x=OM(this,e,hb,l,g,g+1,g);x&&t.push(x)}if(this.isLineLoop){const g=OM(this,e,hb,l,v-1,d,v-1);g&&t.push(g)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}};function OM(n,e,t,r,i,a,o){const s=n.geometry.attributes.position;if(BE.fromBufferAttribute(s,i),UE.fromBufferAttribute(s,a),t.distanceSqToSegment(BE,UE,cL,fF)>r)return;cL.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(cL);if(!(u<e.near||u>e.far))return{distance:u,point:fF.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const hF=new ge,dF=new ge;class bf extends Rp{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)hF.fromBufferAttribute(t,i),dF.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+hF.distanceTo(dF);e.setAttribute("lineDistance",new Jt(r,1))}else It("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class WK extends Rp{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Uz extends Vo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ot(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const pF=new An,R5=new Am,PM=new oo,zM=new ge;class YK extends gr{constructor(e=new Un,t=new Uz){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),PM.copy(r.boundingSphere),PM.applyMatrix4(i),PM.radius+=a,e.ray.intersectsSphere(PM)===!1)return;pF.copy(i).invert(),R5.copy(e.ray).applyMatrix4(pF);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),d=Math.min(u.count,o.start+o.count);for(let v=h,g=d;v<g;v++){const y=u.getX(v);zM.fromBufferAttribute(f,y),vF(zM,y,l,i,e,t,this)}}else{const h=Math.max(0,o.start),d=Math.min(f.count,o.start+o.count);for(let v=h,g=d;v<g;v++)zM.fromBufferAttribute(f,v),vF(zM,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function vF(n,e,t,r,i,a,o){const s=R5.distanceSqToPoint(n);if(s<t){const l=new ge;R5.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class XK extends Ui{constructor(e,t,r,i,a=Ji,o=Ji,s,l,u){super(e,t,r,i,a,o,s,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;function f(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class lge extends XK{constructor(e,t,r,i,a,o,s,l){super({},e,t,r,i,a,o,s,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class uge extends Ui{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ao,this.minFilter=ao,this.generateMipmaps=!1,this.needsUpdate=!0}}class ID extends Ui{constructor(e,t,r,i,a,o,s,l,u,c,f,h){super(null,o,s,l,u,c,i,a,f,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class cge extends ID{constructor(e,t,r,i,a,o){super(e,t,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Os,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class fge extends ID{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Bh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class hge extends Ui{constructor(e,t,r,i,a,o,s,l,u){super(e,t,r,i,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Vz extends Ui{constructor(e,t,r=Uh,i,a,o,s=ao,l=ao,u,c=xx,f=1){if(c!==xx&&c!==_x)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:t,depth:f};super(h,i,a,o,s,l,c,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new up(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Fz extends Ui{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class OD extends Un{constructor(e=1,t=1,r=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:a},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const o=[],s=[],l=[],u=[],c=t/2,f=Math.PI/2*e,h=t,d=2*f+h,v=r*2+a,g=i+1,y=new ge,x=new ge;for(let b=0;b<=v;b++){let T=0,M=0,C=0,D=0;if(b<=r){const L=b/r,O=L*Math.PI/2;M=-c-e*Math.cos(O),C=e*Math.sin(O),D=-e*Math.cos(O),T=L*f}else if(b<=r+a){const L=(b-r)/a;M=-c+L*t,C=e,D=0,T=f+L*h}else{const L=(b-r-a)/r,O=L*Math.PI/2;M=c+e*Math.sin(O),C=e*Math.cos(O),D=e*Math.sin(O),T=f+h+L*f}const R=Math.max(0,Math.min(1,T/d));let I=0;b===0?I=.5/i:b===v&&(I=-.5/i);for(let L=0;L<=i;L++){const O=L/i,B=O*Math.PI*2,V=Math.sin(B),F=Math.cos(B);x.x=-C*F,x.y=M,x.z=C*V,s.push(x.x,x.y,x.z),y.set(-C*F,D,C*V),y.normalize(),l.push(y.x,y.y,y.z),u.push(O+I,R)}if(b>0){const L=(b-1)*g;for(let O=0;O<i;O++){const B=L+O,V=L+O+1,F=b*g+O,k=b*g+O+1;o.push(B,V,F),o.push(V,k,F)}}}this.setIndex(o),this.setAttribute("position",new Jt(s,3)),this.setAttribute("normal",new Jt(l,3)),this.setAttribute("uv",new Jt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OD(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class PD extends Un{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],o=[],s=[],l=[],u=new ge,c=new st;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const d=r+f/t*i;u.x=e*Math.cos(d),u.y=e*Math.sin(d),o.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new Jt(o,3)),this.setAttribute("normal",new Jt(s,3)),this.setAttribute("uv",new Jt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PD(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ow extends Un{constructor(e=1,t=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const c=[],f=[],h=[],d=[];let v=0;const g=[],y=r/2;let x=0;b(),o===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(c),this.setAttribute("position",new Jt(f,3)),this.setAttribute("normal",new Jt(h,3)),this.setAttribute("uv",new Jt(d,2));function b(){const M=new ge,C=new ge;let D=0;const R=(t-e)/r;for(let I=0;I<=a;I++){const L=[],O=I/a,B=O*(t-e)+e;for(let V=0;V<=i;V++){const F=V/i,k=F*l+s,Y=Math.sin(k),H=Math.cos(k);C.x=B*Y,C.y=-O*r+y,C.z=B*H,f.push(C.x,C.y,C.z),M.set(Y,R,H).normalize(),h.push(M.x,M.y,M.z),d.push(F,1-O),L.push(v++)}g.push(L)}for(let I=0;I<i;I++)for(let L=0;L<a;L++){const O=g[L][I],B=g[L+1][I],V=g[L+1][I+1],F=g[L][I+1];(e>0||L!==0)&&(c.push(O,B,F),D+=3),(t>0||L!==a-1)&&(c.push(B,V,F),D+=3)}u.addGroup(x,D,0),x+=D}function T(M){const C=v,D=new st,R=new ge;let I=0;const L=M===!0?e:t,O=M===!0?1:-1;for(let V=1;V<=i;V++)f.push(0,y*O,0),h.push(0,O,0),d.push(.5,.5),v++;const B=v;for(let V=0;V<=i;V++){const k=V/i*l+s,Y=Math.cos(k),H=Math.sin(k);R.x=L*H,R.y=y*O,R.z=L*Y,f.push(R.x,R.y,R.z),h.push(0,O,0),D.x=Y*.5+.5,D.y=H*.5*O+.5,d.push(D.x,D.y),v++}for(let V=0;V<i;V++){const F=C+V,k=B+V;M===!0?c.push(k,k+1,F):c.push(k+1,k,F),I+=3}u.addGroup(x,I,M===!0?1:2),x+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ow(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sw extends ow{constructor(e=1,t=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,t,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new sw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fp extends Un{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],o=[];s(i),u(r),c(),this.setAttribute("position",new Jt(a,3)),this.setAttribute("normal",new Jt(a.slice(),3)),this.setAttribute("uv",new Jt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(b){const T=new ge,M=new ge,C=new ge;for(let D=0;D<t.length;D+=3)d(t[D+0],T),d(t[D+1],M),d(t[D+2],C),l(T,M,C,b)}function l(b,T,M,C){const D=C+1,R=[];for(let I=0;I<=D;I++){R[I]=[];const L=b.clone().lerp(M,I/D),O=T.clone().lerp(M,I/D),B=D-I;for(let V=0;V<=B;V++)V===0&&I===D?R[I][V]=L:R[I][V]=L.clone().lerp(O,V/B)}for(let I=0;I<D;I++)for(let L=0;L<2*(D-I)-1;L++){const O=Math.floor(L/2);L%2===0?(h(R[I][O+1]),h(R[I+1][O]),h(R[I][O])):(h(R[I][O+1]),h(R[I+1][O+1]),h(R[I+1][O]))}}function u(b){const T=new ge;for(let M=0;M<a.length;M+=3)T.x=a[M+0],T.y=a[M+1],T.z=a[M+2],T.normalize().multiplyScalar(b),a[M+0]=T.x,a[M+1]=T.y,a[M+2]=T.z}function c(){const b=new ge;for(let T=0;T<a.length;T+=3){b.x=a[T+0],b.y=a[T+1],b.z=a[T+2];const M=y(b)/2/Math.PI+.5,C=x(b)/Math.PI+.5;o.push(M,1-C)}v(),f()}function f(){for(let b=0;b<o.length;b+=6){const T=o[b+0],M=o[b+2],C=o[b+4],D=Math.max(T,M,C),R=Math.min(T,M,C);D>.9&&R<.1&&(T<.2&&(o[b+0]+=1),M<.2&&(o[b+2]+=1),C<.2&&(o[b+4]+=1))}}function h(b){a.push(b.x,b.y,b.z)}function d(b,T){const M=b*3;T.x=e[M+0],T.y=e[M+1],T.z=e[M+2]}function v(){const b=new ge,T=new ge,M=new ge,C=new ge,D=new st,R=new st,I=new st;for(let L=0,O=0;L<a.length;L+=9,O+=6){b.set(a[L+0],a[L+1],a[L+2]),T.set(a[L+3],a[L+4],a[L+5]),M.set(a[L+6],a[L+7],a[L+8]),D.set(o[O+0],o[O+1]),R.set(o[O+2],o[O+3]),I.set(o[O+4],o[O+5]),C.copy(b).add(T).add(M).divideScalar(3);const B=y(C);g(D,O+0,b,B),g(R,O+2,T,B),g(I,O+4,M,B)}}function g(b,T,M,C){C<0&&b.x===1&&(o[T]=b.x-1),M.x===0&&M.z===0&&(o[T]=C/2/Math.PI+.5)}function y(b){return Math.atan2(b.z,-b.x)}function x(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fp(e.vertices,e.indices,e.radius,e.details)}}class zD extends Fp{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zD(e.radius,e.detail)}}const kM=new ge,BM=new ge,fL=new ge,UM=new sp;class qK extends Un{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(tm*t),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},d=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:g,b:y,c:x}=UM;if(g.fromBufferAttribute(s,u[0]),y.fromBufferAttribute(s,u[1]),x.fromBufferAttribute(s,u[2]),UM.getNormal(fL),f[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let b=0;b<3;b++){const T=(b+1)%3,M=f[b],C=f[T],D=UM[c[b]],R=UM[c[T]],I=`${M}_${C}`,L=`${C}_${M}`;L in h&&h[L]?(fL.dot(h[L].normal)<=a&&(d.push(D.x,D.y,D.z),d.push(R.x,R.y,R.z)),h[L]=null):I in h||(h[I]={index0:u[b],index1:u[T],normal:fL.clone()})}}for(const v in h)if(h[v]){const{index0:g,index1:y}=h[v];kM.fromBufferAttribute(s,g),BM.fromBufferAttribute(s,y),d.push(kM.x,kM.y,kM.z),d.push(BM.x,BM.y,BM.z)}this.setAttribute("position",new Jt(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class nc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){It("Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const a=r.length;let o;t?o=t:o=e*r[a-1];let s=0,l=a-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-o,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const c=r[i],h=r[i+1]-c,d=(o-c)/h;return(i+d)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=t||(o.isVector2?new st:new ge);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new ge,i=[],a=[],o=[],s=new ge,l=new An;for(let d=0;d<=e;d++){const v=d/e;i[d]=this.getTangentAt(v,new ge)}a[0]=new ge,o[0]=new ge;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let d=1;d<=e;d++){if(a[d]=a[d-1].clone(),o[d]=o[d-1].clone(),s.crossVectors(i[d-1],i[d]),s.length()>Number.EPSILON){s.normalize();const v=Math.acos(wn(i[d-1].dot(i[d]),-1,1));a[d].applyMatrix4(l.makeRotationAxis(s,v))}o[d].crossVectors(i[d],a[d])}if(t===!0){let d=Math.acos(wn(a[0].dot(a[e]),-1,1));d/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(d=-d);for(let v=1;v<=e;v++)a[v].applyMatrix4(l.makeRotationAxis(i[v],d*v)),o[v].crossVectors(i[v],a[v])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class kD extends nc{constructor(e=0,t=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,t=new st){const r=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=u-this.aY;l=h*c-d*f+this.aX,u=h*f+d*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ZK extends kD{constructor(e,t,r,i,a,o){super(e,t,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Gz(){let n=0,e=0,t=0,r=0;function i(a,o,s,l){n=a,e=s,t=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){i(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,c,f){let h=(o-a)/u-(s-a)/(u+c)+(s-o)/c,d=(s-o)/c-(l-o)/(c+f)+(l-s)/f;h*=c,d*=c,i(o,s,h,d)},calc:function(a){const o=a*a,s=o*a;return n+e*a+t*o+r*s}}}const VM=new ge,hL=new Gz,dL=new Gz,pL=new Gz;class KK extends nc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new ge){const r=t,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%a]:(VM.subVectors(i[0],i[1]).add(i[0]),u=VM);const f=i[s%a],h=i[(s+1)%a];if(this.closed||s+2<a?c=i[(s+2)%a]:(VM.subVectors(i[a-1],i[a-2]).add(i[a-1]),c=VM),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),d),g=Math.pow(f.distanceToSquared(h),d),y=Math.pow(h.distanceToSquared(c),d);g<1e-4&&(g=1),v<1e-4&&(v=g),y<1e-4&&(y=g),hL.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,v,g,y),dL.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,v,g,y),pL.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,v,g,y)}else this.curveType==="catmullrom"&&(hL.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),dL.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),pL.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(hL.calc(l),dL.calc(l),pL.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ge().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function gF(n,e,t,r,i){const a=(r-e)*.5,o=(i-t)*.5,s=n*n,l=n*s;return(2*t-2*r+a+o)*l+(-3*t+3*r-2*a-o)*s+a*n+t}function dge(n,e){const t=1-n;return t*t*e}function pge(n,e){return 2*(1-n)*n*e}function vge(n,e){return n*n*e}function MS(n,e,t,r){return dge(n,e)+pge(n,t)+vge(n,r)}function gge(n,e){const t=1-n;return t*t*t*e}function mge(n,e){const t=1-n;return 3*t*t*n*e}function yge(n,e){return 3*(1-n)*n*n*e}function xge(n,e){return n*n*n*e}function AS(n,e,t,r,i){return gge(n,e)+mge(n,t)+yge(n,r)+xge(n,i)}class Hz extends nc{constructor(e=new st,t=new st,r=new st,i=new st){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new st){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(AS(e,i.x,a.x,o.x,s.x),AS(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class JK extends nc{constructor(e=new ge,t=new ge,r=new ge,i=new ge){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ge){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(AS(e,i.x,a.x,o.x,s.x),AS(e,i.y,a.y,o.y,s.y),AS(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class jz extends nc{constructor(e=new st,t=new st){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new st){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new st){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class QK extends nc{constructor(e=new ge,t=new ge){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ge){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ge){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Wz extends nc{constructor(e=new st,t=new st,r=new st){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new st){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(MS(e,i.x,a.x,o.x),MS(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Yz extends nc{constructor(e=new ge,t=new ge,r=new ge){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ge){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(MS(e,i.x,a.x,o.x),MS(e,i.y,a.y,o.y),MS(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xz extends nc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new st){const r=t,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(gF(s,l.x,u.x,c.x,f.x),gF(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new st().fromArray(i))}return this}}var VE=Object.freeze({__proto__:null,ArcCurve:ZK,CatmullRomCurve3:KK,CubicBezierCurve:Hz,CubicBezierCurve3:JK,EllipseCurve:kD,LineCurve:jz,LineCurve3:QK,QuadraticBezierCurve:Wz,QuadraticBezierCurve3:Yz,SplineCurve:Xz});class $K extends nc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new VE[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new VE[i.type]().fromJSON(i))}return this}}let FE=class extends $K{constructor(e){super(),this.type="Path",this.currentPoint=new st,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new jz(this.currentPoint.clone(),new st(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new Wz(this.currentPoint.clone(),new st(e,t),new st(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,o){const s=new Hz(this.currentPoint.clone(),new st(e,t),new st(r,i),new st(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Xz(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,t+l,r,i,a,o),this}absarc(e,t,r,i,a,o){return this.absellipse(e,t,r,r,i,a,o),this}ellipse(e,t,r,i,a,o,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,a,o,s,l),this}absellipse(e,t,r,i,a,o,s,l){const u=new kD(e,t,r,i,a,o,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class nm extends FE{constructor(e){super(e),this.uuid=cl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new FE().fromJSON(i))}return this}}function _ge(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=eJ(n,0,i,t,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u;if(r&&(a=Mge(n,e,a,t)),n.length>80*t){s=n[0],l=n[1];let c=s,f=l;for(let h=t;h<i;h+=t){const d=n[h],v=n[h+1];d<s&&(s=d),v<l&&(l=v),d>c&&(c=d),v>f&&(f=v)}u=Math.max(c-s,f-l),u=u!==0?32767/u:0}return s2(a,o,t,s,l,u,0),o}function eJ(n,e,t,r,i){let a;if(i===zge(n,e,t,r)>0)for(let o=e;o<t;o+=r)a=mF(o/r|0,n[o],n[o+1],a);else for(let o=t-r;o>=e;o-=r)a=mF(o/r|0,n[o],n[o+1],a);return a&&Ex(a,a.next)&&(u2(a),a=a.next),a}function hm(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Ex(t,t.next)||wi(t.prev,t,t.next)===0)){if(u2(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function s2(n,e,t,r,i,a,o){if(!n)return;!o&&a&&Nge(n,r,i,a);let s=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(a?Sge(n,r,i,a):bge(n)){e.push(l.i,n.i,u.i),u2(n),n=u.next,s=u.next;continue}if(n=u,n===s){o?o===1?(n=wge(hm(n),e),s2(n,e,t,r,i,a,2)):o===2&&Tge(n,e,t,r,i,a):s2(hm(n),e,t,r,i,a,1);break}}}function bge(n){const e=n.prev,t=n,r=n.next;if(wi(e,t,r)>=0)return!1;const i=e.x,a=t.x,o=r.x,s=e.y,l=t.y,u=r.y,c=Math.min(i,a,o),f=Math.min(s,l,u),h=Math.max(i,a,o),d=Math.max(s,l,u);let v=r.next;for(;v!==e;){if(v.x>=c&&v.x<=h&&v.y>=f&&v.y<=d&&Qb(i,s,a,l,o,u,v.x,v.y)&&wi(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Sge(n,e,t,r){const i=n.prev,a=n,o=n.next;if(wi(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,c=i.y,f=a.y,h=o.y,d=Math.min(s,l,u),v=Math.min(c,f,h),g=Math.max(s,l,u),y=Math.max(c,f,h),x=L5(d,v,e,t,r),b=L5(g,y,e,t,r);let T=n.prevZ,M=n.nextZ;for(;T&&T.z>=x&&M&&M.z<=b;){if(T.x>=d&&T.x<=g&&T.y>=v&&T.y<=y&&T!==i&&T!==o&&Qb(s,c,l,f,u,h,T.x,T.y)&&wi(T.prev,T,T.next)>=0||(T=T.prevZ,M.x>=d&&M.x<=g&&M.y>=v&&M.y<=y&&M!==i&&M!==o&&Qb(s,c,l,f,u,h,M.x,M.y)&&wi(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;T&&T.z>=x;){if(T.x>=d&&T.x<=g&&T.y>=v&&T.y<=y&&T!==i&&T!==o&&Qb(s,c,l,f,u,h,T.x,T.y)&&wi(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;M&&M.z<=b;){if(M.x>=d&&M.x<=g&&M.y>=v&&M.y<=y&&M!==i&&M!==o&&Qb(s,c,l,f,u,h,M.x,M.y)&&wi(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function wge(n,e){let t=n;do{const r=t.prev,i=t.next.next;!Ex(r,i)&&nJ(r,t,t.next,i)&&l2(r,i)&&l2(i,r)&&(e.push(r.i,t.i,i.i),u2(t),u2(t.next),t=n=i),t=t.next}while(t!==n);return hm(t)}function Tge(n,e,t,r,i,a){let o=n;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&Ige(o,s)){let l=rJ(o,s);o=hm(o,o.next),l=hm(l,l.next),s2(o,e,t,r,i,a,0),s2(l,e,t,r,i,a,0);return}s=s.next}o=o.next}while(o!==n)}function Mge(n,e,t,r){const i=[];for(let a=0,o=e.length;a<o;a++){const s=e[a]*r,l=a<o-1?e[a+1]*r:n.length,u=eJ(n,s,l,r,!1);u===u.next&&(u.steiner=!0),i.push(Lge(u))}i.sort(Age);for(let a=0;a<i.length;a++)t=Cge(i[a],t);return t}function Age(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function Cge(n,e){const t=Ege(n,e);if(!t)return e;const r=rJ(t,n);return hm(r,r.next),hm(t,t.next)}function Ege(n,e){let t=e;const r=n.x,i=n.y;let a=-1/0,o;if(Ex(n,t))return t;do{if(Ex(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const f=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=r&&f>a&&(a=f,o=t.x<t.next.x?t:t.next,f===r))return o}t=t.next}while(t!==e);if(!o)return null;const s=o,l=o.x,u=o.y;let c=1/0;t=o;do{if(r>=t.x&&t.x>=l&&r!==t.x&&tJ(i<u?r:a,i,l,u,i<u?a:r,i,t.x,t.y)){const f=Math.abs(i-t.y)/(r-t.x);l2(t,n)&&(f<c||f===c&&(t.x>o.x||t.x===o.x&&Dge(o,t)))&&(o=t,c=f)}t=t.next}while(t!==s);return o}function Dge(n,e){return wi(n.prev,n,e.prev)<0&&wi(e.next,n,n.next)<0}function Nge(n,e,t,r){let i=n;do i.z===0&&(i.z=L5(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Rge(i)}function Rge(n){let e,t=1;do{let r=n,i;n=null;let a=null;for(e=0;r;){e++;let o=r,s=0;for(let u=0;u<t&&(s++,o=o.nextZ,!!o);u++);let l=t;for(;s>0||l>0&&o;)s!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,s--):(i=o,o=o.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;r=o}a.nextZ=null,t*=2}while(e>1);return n}function L5(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Lge(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function tJ(n,e,t,r,i,a,o,s){return(i-o)*(e-s)>=(n-o)*(a-s)&&(n-o)*(r-s)>=(t-o)*(e-s)&&(t-o)*(a-s)>=(i-o)*(r-s)}function Qb(n,e,t,r,i,a,o,s){return!(n===o&&e===s)&&tJ(n,e,t,r,i,a,o,s)}function Ige(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Oge(n,e)&&(l2(n,e)&&l2(e,n)&&Pge(n,e)&&(wi(n.prev,n,e.prev)||wi(n,e.prev,e))||Ex(n,e)&&wi(n.prev,n,n.next)>0&&wi(e.prev,e,e.next)>0)}function wi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Ex(n,e){return n.x===e.x&&n.y===e.y}function nJ(n,e,t,r){const i=GM(wi(n,e,t)),a=GM(wi(n,e,r)),o=GM(wi(t,r,n)),s=GM(wi(t,r,e));return!!(i!==a&&o!==s||i===0&&FM(n,t,e)||a===0&&FM(n,r,e)||o===0&&FM(t,n,r)||s===0&&FM(t,e,r))}function FM(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function GM(n){return n>0?1:n<0?-1:0}function Oge(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&nJ(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function l2(n,e){return wi(n.prev,n,n.next)<0?wi(n,e,n.next)>=0&&wi(n,n.prev,e)>=0:wi(n,e,n.prev)<0||wi(n,n.next,e)<0}function Pge(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function rJ(n,e){const t=I5(n.i,n.x,n.y),r=I5(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function mF(n,e,t,r){const i=I5(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function u2(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function I5(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function zge(n,e,t,r){let i=0;for(let a=e,o=t-r;a<t;a+=r)i+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return i}class kge{static triangulate(e,t,r=2){return _ge(e,t,r)}}class Gu{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Gu.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];yF(e),xF(r,e);let o=e.length;t.forEach(yF);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,xF(r,t[l]);const s=kge.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function yF(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function xF(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class BD extends Un{constructor(e=new nm([new st(.5,.5),new st(-.5,.5),new st(-.5,-.5),new st(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];o(u)}this.setAttribute("position",new Jt(i,3)),this.setAttribute("uv",new Jt(a,2)),this.computeVertexNormals();function o(s){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,d=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:d-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,b=t.UVGenerator!==void 0?t.UVGenerator:Bge;let T,M=!1,C,D,R,I;x&&(T=x.getSpacedPoints(c),M=!0,h=!1,C=x.computeFrenetFrames(c,!1),D=new ge,R=new ge,I=new ge),h||(y=0,d=0,v=0,g=0);const L=s.extractPoints(u);let O=L.shape;const B=L.holes;if(!Gu.isClockWise(O)){O=O.reverse();for(let X=0,te=B.length;X<te;X++){const ve=B[X];Gu.isClockWise(ve)&&(B[X]=ve.reverse())}}function F(X){const ve=10000000000000001e-36;let oe=X[0];for(let ae=1;ae<=X.length;ae++){const de=ae%X.length,Ae=X[de],Ce=Ae.x-oe.x,be=Ae.y-oe.y,ie=Ce*Ce+be*be,ee=Math.max(Math.abs(Ae.x),Math.abs(Ae.y),Math.abs(oe.x),Math.abs(oe.y)),me=ve*ee*ee;if(ie<=me){X.splice(de,1),ae--;continue}oe=Ae}}F(O),B.forEach(F);const k=B.length,Y=O;for(let X=0;X<k;X++){const te=B[X];O=O.concat(te)}function H(X,te,ve){return te||En("ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(te,ve)}const W=O.length;function q(X,te,ve){let oe,ae,de;const Ae=X.x-te.x,Ce=X.y-te.y,be=ve.x-X.x,ie=ve.y-X.y,ee=Ae*Ae+Ce*Ce,me=Ae*ie-Ce*be;if(Math.abs(me)>Number.EPSILON){const Ne=Math.sqrt(ee),qe=Math.sqrt(be*be+ie*ie),Ie=te.x-Ce/Ne,Mt=te.y+Ae/Ne,xt=ve.x-ie/qe,Ct=ve.y+be/qe,Dt=((xt-Ie)*ie-(Ct-Mt)*be)/(Ae*ie-Ce*be);oe=Ie+Ae*Dt-X.x,ae=Mt+Ce*Dt-X.y;const Je=oe*oe+ae*ae;if(Je<=2)return new st(oe,ae);de=Math.sqrt(Je/2)}else{let Ne=!1;Ae>Number.EPSILON?be>Number.EPSILON&&(Ne=!0):Ae<-Number.EPSILON?be<-Number.EPSILON&&(Ne=!0):Math.sign(Ce)===Math.sign(ie)&&(Ne=!0),Ne?(oe=-Ce,ae=Ae,de=Math.sqrt(ee)):(oe=Ae,ae=Ce,de=Math.sqrt(ee/2))}return new st(oe/de,ae/de)}const K=[];for(let X=0,te=Y.length,ve=te-1,oe=X+1;X<te;X++,ve++,oe++)ve===te&&(ve=0),oe===te&&(oe=0),K[X]=q(Y[X],Y[ve],Y[oe]);const re=[];let j,Q=K.concat();for(let X=0,te=k;X<te;X++){const ve=B[X];j=[];for(let oe=0,ae=ve.length,de=ae-1,Ae=oe+1;oe<ae;oe++,de++,Ae++)de===ae&&(de=0),Ae===ae&&(Ae=0),j[oe]=q(ve[oe],ve[de],ve[Ae]);re.push(j),Q=Q.concat(j)}let ne;if(y===0)ne=Gu.triangulateShape(Y,B);else{const X=[],te=[];for(let ve=0;ve<y;ve++){const oe=ve/y,ae=d*Math.cos(oe*Math.PI/2),de=v*Math.sin(oe*Math.PI/2)+g;for(let Ae=0,Ce=Y.length;Ae<Ce;Ae++){const be=H(Y[Ae],K[Ae],de);Me(be.x,be.y,-ae),oe===0&&X.push(be)}for(let Ae=0,Ce=k;Ae<Ce;Ae++){const be=B[Ae];j=re[Ae];const ie=[];for(let ee=0,me=be.length;ee<me;ee++){const Ne=H(be[ee],j[ee],de);Me(Ne.x,Ne.y,-ae),oe===0&&ie.push(Ne)}oe===0&&te.push(ie)}}ne=Gu.triangulateShape(X,te)}const se=ne.length,he=v+g;for(let X=0;X<W;X++){const te=h?H(O[X],Q[X],he):O[X];M?(R.copy(C.normals[0]).multiplyScalar(te.x),D.copy(C.binormals[0]).multiplyScalar(te.y),I.copy(T[0]).add(R).add(D),Me(I.x,I.y,I.z)):Me(te.x,te.y,0)}for(let X=1;X<=c;X++)for(let te=0;te<W;te++){const ve=h?H(O[te],Q[te],he):O[te];M?(R.copy(C.normals[X]).multiplyScalar(ve.x),D.copy(C.binormals[X]).multiplyScalar(ve.y),I.copy(T[X]).add(R).add(D),Me(I.x,I.y,I.z)):Me(ve.x,ve.y,f/c*X)}for(let X=y-1;X>=0;X--){const te=X/y,ve=d*Math.cos(te*Math.PI/2),oe=v*Math.sin(te*Math.PI/2)+g;for(let ae=0,de=Y.length;ae<de;ae++){const Ae=H(Y[ae],K[ae],oe);Me(Ae.x,Ae.y,f+ve)}for(let ae=0,de=B.length;ae<de;ae++){const Ae=B[ae];j=re[ae];for(let Ce=0,be=Ae.length;Ce<be;Ce++){const ie=H(Ae[Ce],j[Ce],oe);M?Me(ie.x,ie.y+T[c-1].y,T[c-1].x+ve):Me(ie.x,ie.y,f+ve)}}}pe(),xe();function pe(){const X=i.length/3;if(h){let te=0,ve=W*te;for(let oe=0;oe<se;oe++){const ae=ne[oe];Re(ae[2]+ve,ae[1]+ve,ae[0]+ve)}te=c+y*2,ve=W*te;for(let oe=0;oe<se;oe++){const ae=ne[oe];Re(ae[0]+ve,ae[1]+ve,ae[2]+ve)}}else{for(let te=0;te<se;te++){const ve=ne[te];Re(ve[2],ve[1],ve[0])}for(let te=0;te<se;te++){const ve=ne[te];Re(ve[0]+W*c,ve[1]+W*c,ve[2]+W*c)}}r.addGroup(X,i.length/3-X,0)}function xe(){const X=i.length/3;let te=0;Te(Y,te),te+=Y.length;for(let ve=0,oe=B.length;ve<oe;ve++){const ae=B[ve];Te(ae,te),te+=ae.length}r.addGroup(X,i.length/3-X,1)}function Te(X,te){let ve=X.length;for(;--ve>=0;){const oe=ve;let ae=ve-1;ae<0&&(ae=X.length-1);for(let de=0,Ae=c+y*2;de<Ae;de++){const Ce=W*de,be=W*(de+1),ie=te+oe+Ce,ee=te+ae+Ce,me=te+ae+be,Ne=te+oe+be;Ue(ie,ee,me,Ne)}}}function Me(X,te,ve){l.push(X),l.push(te),l.push(ve)}function Re(X,te,ve){et(X),et(te),et(ve);const oe=i.length/3,ae=b.generateTopUV(r,i,oe-3,oe-2,oe-1);ct(ae[0]),ct(ae[1]),ct(ae[2])}function Ue(X,te,ve,oe){et(X),et(te),et(oe),et(te),et(ve),et(oe);const ae=i.length/3,de=b.generateSideWallUV(r,i,ae-6,ae-3,ae-2,ae-1);ct(de[0]),ct(de[1]),ct(de[3]),ct(de[1]),ct(de[2]),ct(de[3])}function et(X){i.push(l[X*3+0]),i.push(l[X*3+1]),i.push(l[X*3+2])}function ct(X){a.push(X.x),a.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Uge(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=t[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new VE[i.type]().fromJSON(i)),new BD(r,e.options)}}const Bge={generateTopUV:function(n,e,t,r,i){const a=e[t*3],o=e[t*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new st(a,o),new st(s,l),new st(u,c)]},generateSideWallUV:function(n,e,t,r,i,a){const o=e[t*3],s=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],d=e[i*3+1],v=e[i*3+2],g=e[a*3],y=e[a*3+1],x=e[a*3+2];return Math.abs(s-c)<Math.abs(o-u)?[new st(o,1-l),new st(u,1-f),new st(h,1-v),new st(g,1-x)]:[new st(s,1-l),new st(c,1-f),new st(d,1-v),new st(y,1-x)]}};function Uge(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class UD extends Fp{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new UD(e.radius,e.detail)}}class VD extends Un{constructor(e=[new st(0,-.5),new st(.5,0),new st(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=wn(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],c=1/t,f=new ge,h=new st,d=new ge,v=new ge,g=new ge;let y=0,x=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:y=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,d.x=x*1,d.y=-y,d.z=x*0,g.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:y=e[b+1].x-e[b].x,x=e[b+1].y-e[b].y,d.x=x*1,d.y=-y,d.z=x*0,v.copy(d),d.x+=g.x,d.y+=g.y,d.z+=g.z,d.normalize(),l.push(d.x,d.y,d.z),g.copy(v)}for(let b=0;b<=t;b++){const T=r+b*c*i,M=Math.sin(T),C=Math.cos(T);for(let D=0;D<=e.length-1;D++){f.x=e[D].x*M,f.y=e[D].y,f.z=e[D].x*C,o.push(f.x,f.y,f.z),h.x=b/t,h.y=D/(e.length-1),s.push(h.x,h.y);const R=l[3*D+0]*M,I=l[3*D+1],L=l[3*D+0]*C;u.push(R,I,L)}}for(let b=0;b<t;b++)for(let T=0;T<e.length-1;T++){const M=T+b*e.length,C=M,D=M+e.length,R=M+e.length+1,I=M+1;a.push(C,D,I),a.push(R,I,D)}this.setIndex(a),this.setAttribute("position",new Jt(o,3)),this.setAttribute("uv",new Jt(s,2)),this.setAttribute("normal",new Jt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new VD(e.points,e.segments,e.phiStart,e.phiLength)}}class lw extends Fp{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new lw(e.radius,e.detail)}}class n_ extends Un{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,o=t/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,f=e/s,h=t/l,d=[],v=[],g=[],y=[];for(let x=0;x<c;x++){const b=x*h-o;for(let T=0;T<u;T++){const M=T*f-a;v.push(M,-b,0),g.push(0,0,1),y.push(T/s),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let b=0;b<s;b++){const T=b+u*x,M=b+u*(x+1),C=b+1+u*(x+1),D=b+1+u*x;d.push(T,M,D),d.push(M,C,D)}this.setIndex(d),this.setAttribute("position",new Jt(v,3)),this.setAttribute("normal",new Jt(g,3)),this.setAttribute("uv",new Jt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n_(e.width,e.height,e.widthSegments,e.heightSegments)}}class FD extends Un{constructor(e=.5,t=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let f=e;const h=(t-e)/i,d=new ge,v=new st;for(let g=0;g<=i;g++){for(let y=0;y<=r;y++){const x=a+y/r*o;d.x=f*Math.cos(x),d.y=f*Math.sin(x),l.push(d.x,d.y,d.z),u.push(0,0,1),v.x=(d.x/t+1)/2,v.y=(d.y/t+1)/2,c.push(v.x,v.y)}f+=h}for(let g=0;g<i;g++){const y=g*(r+1);for(let x=0;x<r;x++){const b=x+y,T=b,M=b+r+1,C=b+r+2,D=b+1;s.push(T,M,D),s.push(M,C,D)}}this.setIndex(s),this.setAttribute("position",new Jt(l,3)),this.setAttribute("normal",new Jt(u,3)),this.setAttribute("uv",new Jt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new FD(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class GD extends Un{constructor(e=new nm([new st(0,.5),new st(-.5,-.5),new st(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Jt(i,3)),this.setAttribute("normal",new Jt(a,3)),this.setAttribute("uv",new Jt(o,2));function u(c){const f=i.length/3,h=c.extractPoints(t);let d=h.shape;const v=h.holes;Gu.isClockWise(d)===!1&&(d=d.reverse());for(let y=0,x=v.length;y<x;y++){const b=v[y];Gu.isClockWise(b)===!0&&(v[y]=b.reverse())}const g=Gu.triangulateShape(d,v);for(let y=0,x=v.length;y<x;y++){const b=v[y];d=d.concat(b)}for(let y=0,x=d.length;y<x;y++){const b=d[y];i.push(b.x,b.y,0),a.push(0,0,1),o.push(b.x,b.y)}for(let y=0,x=g.length;y<x;y++){const b=g[y],T=b[0]+f,M=b[1]+f,C=b[2]+f;r.push(T,M,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Vge(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=t[e.shapes[i]];r.push(o)}return new GD(r,e.curveSegments)}}function Vge(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class uw extends Un{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let u=0;const c=[],f=new ge,h=new ge,d=[],v=[],g=[],y=[];for(let x=0;x<=r;x++){const b=[],T=x/r;let M=0;x===0&&o===0?M=.5/t:x===r&&l===Math.PI&&(M=-.5/t);for(let C=0;C<=t;C++){const D=C/t;f.x=-e*Math.cos(i+D*a)*Math.sin(o+T*s),f.y=e*Math.cos(o+T*s),f.z=e*Math.sin(i+D*a)*Math.sin(o+T*s),v.push(f.x,f.y,f.z),h.copy(f).normalize(),g.push(h.x,h.y,h.z),y.push(D+M,1-T),b.push(u++)}c.push(b)}for(let x=0;x<r;x++)for(let b=0;b<t;b++){const T=c[x][b+1],M=c[x][b],C=c[x+1][b],D=c[x+1][b+1];(x!==0||o>0)&&d.push(T,M,D),(x!==r-1||l<Math.PI)&&d.push(M,C,D)}this.setIndex(d),this.setAttribute("position",new Jt(v,3)),this.setAttribute("normal",new Jt(g,3)),this.setAttribute("uv",new Jt(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class HD extends Fp{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new HD(e.radius,e.detail)}}class jD extends Un{constructor(e=1,t=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const o=[],s=[],l=[],u=[],c=new ge,f=new ge,h=new ge;for(let d=0;d<=r;d++)for(let v=0;v<=i;v++){const g=v/i*a,y=d/r*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(g),f.y=(e+t*Math.cos(y))*Math.sin(g),f.z=t*Math.sin(y),s.push(f.x,f.y,f.z),c.x=e*Math.cos(g),c.y=e*Math.sin(g),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(v/i),u.push(d/r)}for(let d=1;d<=r;d++)for(let v=1;v<=i;v++){const g=(i+1)*d+v-1,y=(i+1)*(d-1)+v-1,x=(i+1)*(d-1)+v,b=(i+1)*d+v;o.push(g,y,b),o.push(y,x,b)}this.setIndex(o),this.setAttribute("position",new Jt(s,3)),this.setAttribute("normal",new Jt(l,3)),this.setAttribute("uv",new Jt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jD(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class WD extends Un{constructor(e=1,t=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],f=new ge,h=new ge,d=new ge,v=new ge,g=new ge,y=new ge,x=new ge;for(let T=0;T<=r;++T){const M=T/r*a*Math.PI*2;b(M,a,o,e,d),b(M+.01,a,o,e,v),y.subVectors(v,d),x.addVectors(v,d),g.crossVectors(y,x),x.crossVectors(g,y),g.normalize(),x.normalize();for(let C=0;C<=i;++C){const D=C/i*Math.PI*2,R=-t*Math.cos(D),I=t*Math.sin(D);f.x=d.x+(R*x.x+I*g.x),f.y=d.y+(R*x.y+I*g.y),f.z=d.z+(R*x.z+I*g.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),u.push(h.x,h.y,h.z),c.push(T/r),c.push(C/i)}}for(let T=1;T<=r;T++)for(let M=1;M<=i;M++){const C=(i+1)*(T-1)+(M-1),D=(i+1)*T+(M-1),R=(i+1)*T+M,I=(i+1)*(T-1)+M;s.push(C,D,I),s.push(D,R,I)}this.setIndex(s),this.setAttribute("position",new Jt(l,3)),this.setAttribute("normal",new Jt(u,3)),this.setAttribute("uv",new Jt(c,2));function b(T,M,C,D,R){const I=Math.cos(T),L=Math.sin(T),O=C/M*T,B=Math.cos(O);R.x=D*(2+B)*.5*I,R.y=D*(2+B)*L*.5,R.z=D*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WD(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class YD extends Un{constructor(e=new Yz(new ge(-1,-1,0),new ge(-1,1,0),new ge(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new ge,l=new ge,u=new st;let c=new ge;const f=[],h=[],d=[],v=[];g(),this.setIndex(v),this.setAttribute("position",new Jt(f,3)),this.setAttribute("normal",new Jt(h,3)),this.setAttribute("uv",new Jt(d,2));function g(){for(let T=0;T<t;T++)y(T);y(a===!1?t:0),b(),x()}function y(T){c=e.getPointAt(T/t,c);const M=o.normals[T],C=o.binormals[T];for(let D=0;D<=i;D++){const R=D/i*Math.PI*2,I=Math.sin(R),L=-Math.cos(R);l.x=L*M.x+I*C.x,l.y=L*M.y+I*C.y,l.z=L*M.z+I*C.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function x(){for(let T=1;T<=t;T++)for(let M=1;M<=i;M++){const C=(i+1)*(T-1)+(M-1),D=(i+1)*T+(M-1),R=(i+1)*T+M,I=(i+1)*(T-1)+M;v.push(C,D,I),v.push(D,R,I)}}function b(){for(let T=0;T<=t;T++)for(let M=0;M<=i;M++)u.x=T/t,u.y=M/i,d.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new YD(new VE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class iJ extends Un{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new ge,a=new ge;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,d=f.count;for(let v=h,g=h+d;v<g;v+=3)for(let y=0;y<3;y++){const x=s.getX(v+y),b=s.getX(v+(y+1)%3);i.fromBufferAttribute(o,x),a.fromBufferAttribute(o,b),_F(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;i.fromBufferAttribute(o,c),a.fromBufferAttribute(o,f),_F(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Jt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function _F(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var bF=Object.freeze({__proto__:null,BoxGeometry:Cm,CapsuleGeometry:OD,CircleGeometry:PD,ConeGeometry:sw,CylinderGeometry:ow,DodecahedronGeometry:zD,EdgesGeometry:qK,ExtrudeGeometry:BD,IcosahedronGeometry:UD,LatheGeometry:VD,OctahedronGeometry:lw,PlaneGeometry:n_,PolyhedronGeometry:Fp,RingGeometry:FD,ShapeGeometry:GD,SphereGeometry:uw,TetrahedronGeometry:HD,TorusGeometry:jD,TorusKnotGeometry:WD,TubeGeometry:YD,WireframeGeometry:iJ});class aJ extends Vo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ot(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class oJ extends dl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class qz extends Vo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Up,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sJ extends qz{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new st(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class lJ extends Vo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ot(16777215),this.specular=new Ot(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Up,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hl,this.combine=rw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uJ extends Vo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ot(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Up,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class cJ extends Vo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Up,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class fJ extends Vo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Up,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new hl,this.combine=rw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zz extends Vo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=bK,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Kz extends Vo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class hJ extends Vo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ot(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Up,this.normalScale=new st(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dJ extends ms{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wg(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function pJ(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function vJ(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function O5(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,o=0;o!==r;++a){const s=t[a]*e;for(let l=0;l!==e;++l)i[o++]=n[s+l]}return i}function Jz(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),t.push(...o)),a=n[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),t.push(o)),a=n[i++];while(a!==void 0)}function Fge(n,e,t,r,i=30){const a=n.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],h=[];for(let d=0;d<u.times.length;++d){const v=u.times[d]*i;if(!(v<t||v>=r)){f.push(u.times[d]);for(let g=0;g<c;++g)h.push(u.values[d*c+g])}}f.length!==0&&(u.times=Wg(f,u.times.constructor),u.values=Wg(h,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function Gge(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=t.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===s.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const v=s.times.length-1;let g;if(a<=s.times[0]){const x=c,b=f-c;g=s.values.slice(x,b)}else if(a>=s.times[v]){const x=v*f+c,b=x+f-c;g=s.values.slice(x,b)}else{const x=s.createInterpolant(),b=c,T=f-c;x.evaluate(a),g=x.resultBuffer.slice(b,T)}l==="quaternion"&&new zo().fromArray(g).normalize().conjugate().toArray(g);const y=u.times.length;for(let x=0;x<y;++x){const b=x*d+h;if(l==="quaternion")zo.multiplyQuaternionsFlat(u.values,b,g,0,u.values,b);else{const T=d-h*2;for(let M=0;M<T;++M)u.values[b+M]-=g[M]}}}return n.blendMode=Nz,n}class Hge{static convertArray(e,t){return Wg(e,t)}static isTypedArray(e){return pJ(e)}static getKeyframeOrder(e){return vJ(e)}static sortedArray(e,t,r){return O5(e,t,r)}static flattenJSON(e,t,r,i){Jz(e,t,r,i)}static subclip(e,t,r,i,a=30){return Fge(e,t,r,i,a)}static makeClipAdditive(e,t=0,r=e,i=30){return Gge(e,t,r,i)}}class cw{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=a)){const s=t[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<t[s]?o=s:r=s+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)t[o]=r[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class gJ extends cw{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Hg,endingEnd:Hg}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case jg:a=e,s=2*t-r;break;case n2:a=i.length-2,s=t+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case jg:o=e,l=2*r-t;break;case n2:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-s),this._weightNext=u/(l-r),this._offsetPrev=a*c,this._offsetNext=o*c}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,v=(r-t)/(i-t),g=v*v,y=g*v,x=-h*y+2*h*g-h*v,b=(1+h)*y+(-1.5-2*h)*g+(-.5+h)*v+1,T=(-1-d)*y+(1.5+d)*g+.5*v,M=d*y-d*g;for(let C=0;C!==s;++C)a[C]=x*o[c+C]+b*o[u+C]+T*o[l+C]+M*o[f+C];return a}}class Qz extends cw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-t)/(i-t),f=1-c;for(let h=0;h!==s;++h)a[h]=o[u+h]*f+o[l+h]*c;return a}}class mJ extends cw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class iu{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wg(t,this.TimeBufferType),this.values=Wg(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Wg(e.times,Array),values:Wg(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new mJ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Qz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new gJ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case t2:t=this.InterpolantFactoryMethodDiscrete;break;case kE:t=this.InterpolantFactoryMethodLinear;break;case mC:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return It("KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return t2;case this.InterpolantFactoryMethodLinear:return kE;case this.InterpolantFactoryMethodSmooth:return mC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>t;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(En("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(En("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){En("KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){En("KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&pJ(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){En("KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===mC,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const f=s*r,h=f-r,d=f+r;for(let v=0;v!==r;++v){const g=t[f+v];if(g!==t[h+v]||g!==t[d+v]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const f=s*r,h=o*r;for(let d=0;d!==r;++d)t[h+d]=t[f+d]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[s+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}iu.prototype.ValueTypeName="";iu.prototype.TimeBufferType=Float32Array;iu.prototype.ValueBufferType=Float32Array;iu.prototype.DefaultInterpolation=kE;class Em extends iu{constructor(e,t,r){super(e,t,r)}}Em.prototype.ValueTypeName="bool";Em.prototype.ValueBufferType=Array;Em.prototype.DefaultInterpolation=t2;Em.prototype.InterpolantFactoryMethodLinear=void 0;Em.prototype.InterpolantFactoryMethodSmooth=void 0;class $z extends iu{constructor(e,t,r,i){super(e,t,r,i)}}$z.prototype.ValueTypeName="color";class c2 extends iu{constructor(e,t,r,i){super(e,t,r,i)}}c2.prototype.ValueTypeName="number";class yJ extends cw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-t)/(i-t);let u=e*s;for(let c=u+s;u!==c;u+=4)zo.slerpFlat(a,0,o,u-s,o,u,l);return a}}class fw extends iu{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new yJ(this.times,this.values,this.getValueSize(),e)}}fw.prototype.ValueTypeName="quaternion";fw.prototype.InterpolantFactoryMethodSmooth=void 0;class Dm extends iu{constructor(e,t,r){super(e,t,r)}}Dm.prototype.ValueTypeName="string";Dm.prototype.ValueBufferType=Array;Dm.prototype.DefaultInterpolation=t2;Dm.prototype.InterpolantFactoryMethodLinear=void 0;Dm.prototype.InterpolantFactoryMethodSmooth=void 0;class f2 extends iu{constructor(e,t,r,i){super(e,t,r,i)}}f2.prototype.ValueTypeName="vector";class h2{constructor(e="",t=-1,r=[],i=TD){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=cl(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)t.push(Wge(r[o]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,o=r.length;a!==o;++a)t.push(iu.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const c=vJ(l);l=O5(l,1,c),u=O5(u,1,c),!i&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new c2(".morphTargetInfluences["+t[s].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,r));return o}static parseAnimation(e,t){if(It("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return En("AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,d,v,g){if(d.length!==0){const y=[],x=[];Jz(d,y,x,v),y.length!==0&&g.push(new f(h,y,x))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let v;for(v=0;v<h.length;v++)if(h[v].morphTargets)for(let g=0;g<h[v].morphTargets.length;g++)d[h[v].morphTargets[g]]=-1;for(const g in d){const y=[],x=[];for(let b=0;b!==h[v].morphTargets.length;++b){const T=h[v];y.push(T.time),x.push(T.morphTarget===g?1:0)}i.push(new c2(".morphTargetInfluence["+g+"]",y,x))}l=d.length*o}else{const d=".bones["+t[f].name+"]";r(f2,d+".position",h,"pos",i),r(fw,d+".quaternion",h,"rot",i),r(f2,d+".scale",h,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function jge(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return c2;case"vector":case"vector2":case"vector3":case"vector4":return f2;case"color":return $z;case"quaternion":return fw;case"bool":case"boolean":return Em;case"string":return Dm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Wge(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=jge(n.type);if(n.times===void 0){const t=[],r=[];Jz(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const ef={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class ek{constructor(e,t,r){const i=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this._abortController=null,this.itemStart=function(c){s++,a===!1&&i.onStart!==void 0&&i.onStart(c,o,s),a=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const d=u[f],v=u[f+1];if(d.global&&(d.lastIndex=0),d.test(c))return v}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const xJ=new ek;class Bs{constructor(e){this.manager=e!==void 0?e:xJ,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Bs.DEFAULT_MATERIAL_NAME="__DEFAULT";const lh={};class Yge extends Error{constructor(e,t){super(e),this.response=t}}class Vh extends Bs{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=ef.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(lh[e]!==void 0){lh[e].push({onLoad:t,onProgress:r,onError:i});return}lh[e]=[],lh[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&It("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=lh[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),d=h?parseInt(h):0,v=d!==0;let g=0;const y=new ReadableStream({start(x){b();function b(){f.read().then(({done:T,value:M})=>{if(T)x.close();else{g+=M.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:g,total:d});for(let D=0,R=c.length;D<R;D++){const I=c[D];I.onProgress&&I.onProgress(C)}x.enqueue(M),b()}},T=>{x.error(T)})}}});return new Response(y)}else throw new Yge(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return u.arrayBuffer().then(v=>d.decode(v))}}}).then(u=>{ef.add(`file:${e}`,u);const c=lh[e];delete lh[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onLoad&&d.onLoad(u)}}).catch(u=>{const c=lh[e];if(c===void 0)throw this.manager.itemError(e),u;delete lh[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Xge extends Bs{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Vh(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):En(l),a.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=h2.parse(e[r]);t.push(i)}return t}}class qge extends Bs{constructor(e){super(e)}load(e,t,r,i){const a=this,o=[],s=new ID,l=new Vh(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const d=a.parse(h,!0);o[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(s.minFilter=Ji),s.image=o,s.format=d.format,s.needsUpdate=!0,t&&t(s))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=a.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let v=0;v<d;v++){o[v]={mipmaps:[]};for(let g=0;g<h.mipmapCount;g++)o[v].mipmaps.push(h.mipmaps[v*h.mipmapCount+g]),o[v].format=h.format,o[v].width=h.width,o[v].height=h.height}s.image=o}else s.image.width=h.width,s.image.height=h.height,s.mipmaps=h.mipmaps;h.mipmapCount===1&&(s.minFilter=Ji),s.format=h.format,s.needsUpdate=!0,t&&t(s)},r,i);return s}}const cy=new WeakMap;class d2 extends Bs{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=ef.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0);else{let f=cy.get(o);f===void 0&&(f=[],cy.set(o,f)),f.push({onLoad:t,onError:i})}return o}const s=a2("img");function l(){c(),t&&t(this);const f=cy.get(this)||[];for(let h=0;h<f.length;h++){const d=f[h];d.onLoad&&d.onLoad(this)}cy.delete(this),a.manager.itemEnd(e)}function u(f){c(),i&&i(f),ef.remove(`image:${e}`);const h=cy.get(this)||[];for(let d=0;d<h.length;d++){const v=h[d];v.onError&&v.onError(f)}cy.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),ef.add(`image:${e}`,s),a.manager.itemStart(e),s.src=e,s}}class Zge extends Bs{constructor(e){super(e)}load(e,t,r,i){const a=new aw;a.colorSpace=Io;const o=new d2(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(e[u],function(c){a.images[u]=c,s++,s===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class Kge extends Bs{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Wu,s=new Vh(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(i!==void 0)i(c);else{c(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Os,o.wrapT=u.wrapT!==void 0?u.wrapT:Os,o.magFilter=u.magFilter!==void 0?u.magFilter:Ji,o.minFilter=u.minFilter!==void 0?u.minFilter:Ji,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=$c),u.mipmapCount===1&&(o.minFilter=Ji),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u)},r,i),o}}class Jge extends Bs{constructor(e){super(e)}load(e,t,r,i){const a=new Ui,o=new d2(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class Gp extends gr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ot(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class _J extends Gp{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(gr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ot(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const vL=new An,SF=new ge,wF=new ge;class tk{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new st(512,512),this.mapType=$l,this.map=null,this.mapPass=null,this.matrix=new An,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new t_,this._frameExtents=new st(1,1),this._viewportCount=1,this._viewports=[new xr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;SF.setFromMatrixPosition(e.matrixWorld),t.position.copy(SF),wF.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(wF),t.updateMatrixWorld(),vL.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vL,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(vL)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Qge extends tk{constructor(){super(new Ki(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,r=Tx*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bJ extends Gp{constructor(e,t,r=0,i=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(gr.DEFAULT_UP),this.updateMatrix(),this.target=new gr,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Qge}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const TF=new An,db=new ge,gL=new ge;class $ge extends tk{constructor(){super(new Ki(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new st(4,2),this._viewportCount=6,this._viewports=[new xr(2,1,1,1),new xr(0,1,1,1),new xr(3,1,1,1),new xr(1,1,1,1),new xr(3,0,1,1),new xr(1,0,1,1)],this._cubeDirections=[new ge(1,0,0),new ge(-1,0,0),new ge(0,0,1),new ge(0,0,-1),new ge(0,1,0),new ge(0,-1,0)],this._cubeUps=[new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,0,1),new ge(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),db.setFromMatrixPosition(e.matrixWorld),r.position.copy(db),gL.copy(r.position),gL.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(gL),r.updateMatrixWorld(),i.makeTranslation(-db.x,-db.y,-db.z),TF.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(TF,r.coordinateSystem,r.reversedDepth)}}class SJ extends Gp{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new $ge}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class yp extends CD{constructor(e=-1,t=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class eme extends tk{constructor(){super(new yp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class wJ extends Gp{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(gr.DEFAULT_UP),this.updateMatrix(),this.target=new gr,this.shadow=new eme}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class TJ extends Gp{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class MJ extends Gp{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class AJ{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ge)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(r*a)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*r*a),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class CJ extends Gp{constructor(e=new AJ,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class XD extends Bs{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,o=new Vh(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):En(l),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&It("MaterialLoader: Undefined texture",a),t[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ot().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new Ot().setHex(o.value);break;case"v2":i.uniforms[a].value=new st().fromArray(o.value);break;case"v3":i.uniforms[a].value=new ge().fromArray(o.value);break;case"v4":i.uniforms[a].value=new xr().fromArray(o.value);break;case"m3":i.uniforms[a].value=new Bn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new An().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new st().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new st().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return XD.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:aJ,SpriteMaterial:kz,RawShaderMaterial:oJ,ShaderMaterial:dl,PointsMaterial:Uz,MeshPhysicalMaterial:sJ,MeshStandardMaterial:qz,MeshPhongMaterial:lJ,MeshToonMaterial:uJ,MeshNormalMaterial:cJ,MeshLambertMaterial:fJ,MeshDepthMaterial:Zz,MeshDistanceMaterial:Kz,MeshBasicMaterial:Vp,MeshMatcapMaterial:hJ,LineDashedMaterial:dJ,LineBasicMaterial:ms,Material:Vo};return new t[e]}}class P5{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class EJ extends Un{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class DJ extends Bs{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Vh(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):En(l),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(d,v){if(t[v]!==void 0)return t[v];const y=d.interleavedBuffers[v],x=a(d,y.buffer),b=Jy(y.type,x),T=new ND(b,y.stride);return T.uuid=y.uuid,t[v]=T,T}function a(d,v){if(r[v]!==void 0)return r[v];const y=d.arrayBuffers[v],x=new Uint32Array(y).buffer;return r[v]=x,x}const o=e.isInstancedBufferGeometry?new EJ:new Un,s=e.data.index;if(s!==void 0){const d=Jy(s.type,s.array);o.setIndex(new qr(d,1))}const l=e.data.attributes;for(const d in l){const v=l[d];let g;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);g=new fm(y,v.itemSize,v.offset,v.normalized)}else{const y=Jy(v.type,v.array),x=v.isInstancedBufferAttribute?Cx:qr;g=new x(y,v.itemSize,v.normalized)}v.name!==void 0&&(g.name=v.name),v.usage!==void 0&&g.setUsage(v.usage),o.setAttribute(d,g)}const u=e.data.morphAttributes;if(u)for(const d in u){const v=u[d],g=[];for(let y=0,x=v.length;y<x;y++){const b=v[y];let T;if(b.isInterleavedBufferAttribute){const M=i(e.data,b.data);T=new fm(M,b.itemSize,b.offset,b.normalized)}else{const M=Jy(b.type,b.array);T=new qr(M,b.itemSize,b.normalized)}b.name!==void 0&&(T.name=b.name),g.push(T)}o.morphAttributes[d]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,v=f.length;d!==v;++d){const g=f[d];o.addGroup(g.start,g.count,g.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(o.boundingSphere=new oo().fromJSON(h)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class tme extends Bs{constructor(e){super(e)}load(e,t,r,i){const a=this,o=this.path===""?P5.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new Vh(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),En("ObjectLoader: Can't load "+e);return}a.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?P5.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Vh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,a,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),t!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new nm().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new RD().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new DJ;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in bF?s=bF[l.type].fromJSON(l,t):It(`ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new XD;a.setTextures(t);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=h2.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Jy(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new ek(t);a=new d2(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const d=[];for(let v=0,g=h.length;v<g;v++){const y=h[v],x=s(y);x!==null&&(x instanceof HTMLImageElement?d.push(x):d.push(new Wu(x.data,x.width,x.height)))}i[f.uuid]=new up(d)}else{const d=s(f.url);i[f.uuid]=new up(d)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:Jy(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new d2(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f],v=await a(d);v!==null&&(v instanceof HTMLImageElement?c.push(v):c.push(new Wu(v.data,v.width,v.height)))}r[l.uuid]=new up(c)}else{const c=await a(l.url);r[l.uuid]=new up(c)}}}return r}parseTextures(e,t){function r(a,o){return typeof a=="number"?a:(It("ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&It('ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&It("ObjectLoader: Undefined image",s.image);const l=t[s.image],u=l.data;let c;Array.isArray(u)?(c=new aw,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Wu:c=new Ui,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,nme)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],MF),c.wrapT=r(s.wrap[1],MF)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,AF)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,AF)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,t,r,i,a){let o;function s(h){return t[h]===void 0&&It("ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let v=0,g=h.length;v<g;v++){const y=h[v];r[y]===void 0&&It("ObjectLoader: Undefined material",y),d.push(r[y])}return d}return r[h]===void 0&&It("ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&It("ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":o=new zz,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ot(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new DD(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new ED(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ki(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new yp(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new TJ(e.color,e.intensity);break;case"DirectionalLight":o=new wJ(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new SJ(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new MJ(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new bJ(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new _J(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new CJ().fromJSON(e);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),o=new GK(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),o=new Ca(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,v=e.instanceColor;o=new HK(c,f,h),o.instanceMatrix=new Cx(new Float32Array(d.array),16),v!==void 0&&(o.instanceColor=new Cx(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),o=new jK(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=c,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(g=>{let y=null,x=null;return g.boundingBox!==void 0&&(y=new ko().fromJSON(g.boundingBox)),g.boundingSphere!==void 0&&(x=new oo().fromJSON(g.boundingSphere)),{...g,boundingBox:y,boundingSphere:x}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new oo().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new ko().fromJSON(e.boundingBox));break;case"LOD":o=new FK;break;case"Line":o=new Rp(s(e.geometry),l(e.material));break;case"LineLoop":o=new WK(s(e.geometry),l(e.material));break;case"LineSegments":o=new bf(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new YK(s(e.geometry),l(e.material));break;case"Sprite":o=new VK(l(e.material));break;case"Group":o=new Qy;break;case"Bone":o=new Bz;break;default:o=new gr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)o.add(this.parseObject(h[d],t,r,i,a))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const v=h[d];o.animations.push(a[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const v=h[d],g=o.getObjectByProperty("uuid",v.object);g!==void 0&&o.addLevel(g,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?It("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new gr}})}}const nme={UVMapping:gD,CubeReflectionMapping:Bh,CubeRefractionMapping:Ep,EquirectangularReflectionMapping:JS,EquirectangularRefractionMapping:QS,CubeUVReflectionMapping:e_},MF={RepeatWrapping:$S,ClampToEdgeWrapping:Os,MirroredRepeatWrapping:e2},AF={NearestFilter:ao,NearestMipmapNearestFilter:wz,NearestMipmapLinearFilter:Ky,LinearFilter:Ji,LinearMipmapNearestFilter:xS,LinearMipmapLinearFilter:$c},mL=new WeakMap;class rme extends Bs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&It("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&It("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=ef.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(u=>{if(mL.has(o)===!0)i&&i(mL.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(u),a.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,s.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return ef.add(`image-bitmap:${e}`,u),t&&t(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),mL.set(l,u),ef.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});ef.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let HM;class nk{static getContext(){return HM===void 0&&(HM=new(window.AudioContext||window.webkitAudioContext)),HM}static setContext(e){HM=e}}class ime extends Bs{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Vh(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);nk.getContext().decodeAudioData(u,function(f){t(f)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):En(l),a.manager.itemError(e)}}}const CF=new An,EF=new An,Xv=new An;class ame{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ki,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ki,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Xv.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(tm*t.fov*.5)/t.zoom;let s,l;EF.elements[12]=-i,CF.elements[12]=i,s=-o*t.aspect+a,l=o*t.aspect+a,Xv.elements[0]=2*t.near/(l-s),Xv.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Xv),s=-o*t.aspect-a,l=o*t.aspect-a,Xv.elements[0]=2*t.near/(l-s),Xv.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Xv)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(EF),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(CF)}}class NJ extends Ki{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class rk{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const qv=new ge,yL=new zo,ome=new ge,Zv=new ge,Kv=new ge;class sme extends gr{constructor(){super(),this.type="AudioListener",this.context=nk.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new rk}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qv,yL,ome),Zv.set(0,0,-1).applyQuaternion(yL),Kv.set(0,1,0).applyQuaternion(yL),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(qv.x,r),t.positionY.linearRampToValueAtTime(qv.y,r),t.positionZ.linearRampToValueAtTime(qv.z,r),t.forwardX.linearRampToValueAtTime(Zv.x,r),t.forwardY.linearRampToValueAtTime(Zv.y,r),t.forwardZ.linearRampToValueAtTime(Zv.z,r),t.upX.linearRampToValueAtTime(Kv.x,r),t.upY.linearRampToValueAtTime(Kv.y,r),t.upZ.linearRampToValueAtTime(Kv.z,r)}else t.setPosition(qv.x,qv.y,qv.z),t.setOrientation(Zv.x,Zv.y,Zv.z,Kv.x,Kv.y,Kv.z)}}class RJ extends gr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){It("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){It("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){It("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){It("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){It("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(It("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){It("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(It("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Jv=new ge,DF=new zo,lme=new ge,Qv=new ge;class ume extends RJ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Jv,DF,lme),Qv.set(0,0,1).applyQuaternion(DF);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Jv.x,r),t.positionY.linearRampToValueAtTime(Jv.y,r),t.positionZ.linearRampToValueAtTime(Jv.z,r),t.orientationX.linearRampToValueAtTime(Qv.x,r),t.orientationY.linearRampToValueAtTime(Qv.y,r),t.orientationZ.linearRampToValueAtTime(Qv.z,r)}else t.setPosition(Jv.x,Jv.y,Jv.z),t.setOrientation(Qv.x,Qv.y,Qv.z)}}class cme{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class LJ{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,o;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=t}else{o+=t;const s=t/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,o=i;a!==o;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){zo.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const o=this._workIndex*a;zo.multiplyQuaternionsFlat(e,o,e,t,e,r),zo.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,t,r,i,a){for(let o=0;o!==a;++o){const s=t+o;e[s]=e[s]+e[r+o]*i}}}const ik="\\[\\]\\.:\\/",fme=new RegExp("["+ik+"]","g"),ak="[^"+ik+"]",hme="[^"+ik.replace("\\.","")+"]",dme=/((?:WC+[\/:])*)/.source.replace("WC",ak),pme=/(WCOD+)?/.source.replace("WCOD",hme),vme=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ak),gme=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ak),mme=new RegExp("^"+dme+pme+vme+gme+"$"),yme=["material","materials","bones","map"];class xme{constructor(e,t,r){const i=r||yr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class yr{constructor(e,t,r){this.path=t,this.parsedPath=r||yr.parseTrackName(t),this.node=yr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new yr.Composite(e,t,r):new yr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(fme,"")}static parseTrackName(e){const t=mme.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);yme.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===t||s.uuid===t)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=yr.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){It("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){En("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){En("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){En("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){En("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){En("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){En("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){En("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;En("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){En("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){En("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}yr.Composite=xme;yr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};yr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};yr.prototype.GetterByBindingType=[yr.prototype._getValue_direct,yr.prototype._getValue_array,yr.prototype._getValue_arrayElement,yr.prototype._getValue_toArray];yr.prototype.SetterByBindingTypeAndVersioning=[[yr.prototype._setValue_direct,yr.prototype._setValue_direct_setNeedsUpdate,yr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_array,yr.prototype._setValue_array_setNeedsUpdate,yr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_arrayElement,yr.prototype._setValue_arrayElement_setNeedsUpdate,yr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yr.prototype._setValue_fromArray,yr.prototype._setValue_fromArray_setNeedsUpdate,yr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class _me{constructor(){this.isAnimationObjectGroup=!0,this.uuid=cl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],d=h.uuid;let v=t[d];if(v===void 0){v=l++,t[d]=v,e.push(h);for(let g=0,y=o;g!==y;++g)a[g].push(new yr(h,r[g],i[g]))}else if(v<u){s=e[v];const g=--u,y=e[g];t[y.uuid]=v,e[v]=y,t[d]=g,e[g]=h;for(let x=0,b=o;x!==b;++x){const T=a[x],M=T[g];let C=T[v];T[v]=M,C===void 0&&(C=new yr(h,r[x],i[x])),T[g]=C}}else e[v]!==s&&En("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,c=t[u];if(c!==void 0&&c>=a){const f=a++,h=e[f];t[h.uuid]=c,e[c]=h,t[u]=f,e[f]=l;for(let d=0,v=i;d!==v;++d){const g=r[d],y=g[f],x=g[c];g[c]=y,g[f]=x}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<a){const h=--a,d=e[h],v=--o,g=e[v];t[d.uuid]=f,e[f]=d,t[g.uuid]=h,e[h]=g,e.pop();for(let y=0,x=i;y!==x;++y){const b=r[y],T=b[h],M=b[v];b[f]=T,b[h]=M,b.pop()}}else{const h=--o,d=e[h];h>0&&(t[d.uuid]=f),e[f]=d,e.pop();for(let v=0,g=i;v!==g;++v){const y=r[v];y[f]=y[h],y.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=a.length,r[e]=i,o.push(e),s.push(t),a.push(f);for(let h=c,d=l.length;h!==d;++h){const v=l[h];f[h]=new yr(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=e[s];t[u]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class IJ{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,o=a.length,s=new Array(o),l={endingStart:Hg,endingEnd:Hg};for(let u=0;u!==o;++u){const c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xK,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Nz:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case TD:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===_K;if(e===0)return a===-1?i:o&&(a&1)===1?t-i:i;if(r===yK){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const s=Math.floor(i/t);i-=t*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=jg,i.endingEnd=jg):(e?i.endingStart=this.zeroSlopeAtStart?jg:Hg:i.endingStart=n2,t?i.endingEnd=this.zeroSlopeAtEnd?jg:Hg:i.endingEnd=n2)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=t,s[1]=a+e,l[1]=r,this}}const bme=new Float32Array(1);class Sme extends _f{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const h=i[f],d=h.name;let v=c[d];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,d));continue}const g=t&&t._propertyBindings[f].binding.parsedPath;v=new LJ(yr.create(r,d,g),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,d),o[f]=v}s[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new Qz(new Float32Array(2),new Float32Array(2),1,bme),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let o=typeof e=="string"?h2.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=TD),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new IJ(this,o,t,r);return this._bindAction(c,u),this._addInactiveAction(c,s,a),c}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?h2.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class wme extends Iz{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new AD(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class ok{constructor(e){this.value=e}clone(){return new ok(this.value.clone===void 0?this.value:this.value.clone())}}let Tme=0;class Mme extends _f{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Tme++}),this.name="",this.usage=i2,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const a=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Ame extends ND{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Cme{constructor(e,t,r,i,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const NF=new An;class OJ{constructor(e,t,r=0,i=1/0){this.ray=new Am(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Mx,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):En("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return NF.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(NF),this}intersectObject(e,t=!0,r=[]){return z5(e,this,r,t),r.sort(RF),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)z5(e[i],this,r,t);return r.sort(RF),r}}function RF(n,e){return n.distance-e.distance}function z5(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const a=n.children;for(let o=0,s=a.length;o<s;o++)z5(a[o],e,t,!0)}}class Eme{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Dme.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function Dme(){this._document.hidden===!1&&this.reset()}class GE{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=wn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(wn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Nme{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class sk{constructor(e,t,r,i){sk.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=r,a[3]=i,this}}const LF=new st;class Rme{constructor(e=new st(1/0,1/0),t=new st(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=LF.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,LF).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const IF=new ge,jM=new ge,fy=new ge,hy=new ge,xL=new ge,Lme=new ge,Ime=new ge;class Ome{constructor(e=new ge,t=new ge){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){IF.subVectors(e,this.start),jM.subVectors(this.end,this.start);const r=jM.dot(jM);let a=jM.dot(IF)/r;return t&&(a=wn(a,0,1)),a}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=Lme,r=Ime){const i=10000000000000001e-32;let a,o;const s=this.start,l=e.start,u=this.end,c=e.end;fy.subVectors(u,s),hy.subVectors(c,l),xL.subVectors(s,l);const f=fy.dot(fy),h=hy.dot(hy),d=hy.dot(xL);if(f<=i&&h<=i)return t.copy(s),r.copy(l),t.sub(r),t.dot(t);if(f<=i)a=0,o=d/h,o=wn(o,0,1);else{const v=fy.dot(xL);if(h<=i)o=0,a=wn(-v/f,0,1);else{const g=fy.dot(hy),y=f*h-g*g;y!==0?a=wn((g*d-v*h)/y,0,1):a=0,o=(g*a+d)/h,o<0?(o=0,a=wn(-v/f,0,1)):o>1&&(o=1,a=wn((g-v)/f,0,1))}}return t.copy(s).add(fy.multiplyScalar(a)),r.copy(l).add(hy.multiplyScalar(o)),t.sub(r),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const OF=new ge;class Pme extends gr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Un,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new Jt(i,3));const a=new ms({fog:!1,toneMapped:!1});this.cone=new bf(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),OF.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(OF),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Wd=new ge,WM=new An,_L=new An;class zme extends bf{constructor(e){const t=PJ(e),r=new Un,i=[],a=[];for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}r.setAttribute("position",new Jt(i,3)),r.setAttribute("color",new Jt(a,3));const o=new ms({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const s=new Ot(255),l=new Ot(65280);this.setColors(s,l)}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");_L.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const s=t[a];s.parent&&s.parent.isBone&&(WM.multiplyMatrices(_L,s.matrixWorld),Wd.setFromMatrixPosition(WM),i.setXYZ(o,Wd.x,Wd.y,Wd.z),WM.multiplyMatrices(_L,s.parent.matrixWorld),Wd.setFromMatrixPosition(WM),i.setXYZ(o+1,Wd.x,Wd.y,Wd.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function PJ(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...PJ(n.children[t]));return e}class kme extends Ca{constructor(e,t,r){const i=new uw(t,4,2),a=new Vp({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Bme=new ge,PF=new Ot,zF=new Ot;class Ume extends gr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new lw(t);i.rotateY(Math.PI*.5),this.material=new Vp({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new qr(o,3)),this.add(new Ca(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");PF.copy(this.light.color),zF.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const a=r<i/2?PF:zF;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Bme.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Vme extends bf{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ot(r),i=new Ot(i);const a=t/2,o=e/t,s=e/2,l=[],u=[];for(let h=0,d=0,v=-s;h<=t;h++,v+=o){l.push(-s,0,v,s,0,v),l.push(v,0,-s,v,0,s);const g=h===a?r:i;g.toArray(u,d),d+=3,g.toArray(u,d),d+=3,g.toArray(u,d),d+=3,g.toArray(u,d),d+=3}const c=new Un;c.setAttribute("position",new Jt(l,3)),c.setAttribute("color",new Jt(u,3));const f=new ms({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Fme extends bf{constructor(e=10,t=16,r=8,i=64,a=4473924,o=8947848){a=new Ot(a),o=new Ot(o);const s=[],l=[];if(t>1)for(let f=0;f<t;f++){const h=f/t*(Math.PI*2),d=Math.sin(h)*e,v=Math.cos(h)*e;s.push(0,0,0),s.push(d,0,v);const g=f&1?a:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let f=0;f<r;f++){const h=f&1?a:o,d=e-e/r*f;for(let v=0;v<i;v++){let g=v/i*(Math.PI*2),y=Math.sin(g)*d,x=Math.cos(g)*d;s.push(y,0,x),l.push(h.r,h.g,h.b),g=(v+1)/i*(Math.PI*2),y=Math.sin(g)*d,x=Math.cos(g)*d,s.push(y,0,x),l.push(h.r,h.g,h.b)}}const u=new Un;u.setAttribute("position",new Jt(s,3)),u.setAttribute("color",new Jt(l,3));const c=new ms({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const kF=new ge,YM=new ge,BF=new ge;class Gme extends gr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Un;i.setAttribute("position",new Jt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new ms({fog:!1,toneMapped:!1});this.lightPlane=new Rp(i,a),this.add(this.lightPlane),i=new Un,i.setAttribute("position",new Jt([0,0,0,0,0,1],3)),this.targetLine=new Rp(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),kF.setFromMatrixPosition(this.light.matrixWorld),YM.setFromMatrixPosition(this.light.target.matrixWorld),BF.subVectors(YM,kF),this.lightPlane.lookAt(YM),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(YM),this.targetLine.scale.z=BF.length()}}const XM=new ge,Ii=new CD;class Hme extends bf{constructor(e){const t=new Un,r=new ms({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(v,g){l(v),l(g)}function l(v){i.push(0,0,0),a.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new Jt(i,3)),t.setAttribute("color",new Jt(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Ot(16755200),c=new Ot(16711680),f=new Ot(43775),h=new Ot(16777215),d=new Ot(3355443);this.setColors(u,c,f,h,d)}setColors(e,t,r,i,a){const s=this.geometry.getAttribute("color");return s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;let a,o;if(Ii.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===al)a=-1,o=1;else if(this.camera.coordinateSystem===bx)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);qi("c",t,e,Ii,0,0,a),qi("t",t,e,Ii,0,0,o),qi("n1",t,e,Ii,-r,-i,a),qi("n2",t,e,Ii,r,-i,a),qi("n3",t,e,Ii,-r,i,a),qi("n4",t,e,Ii,r,i,a),qi("f1",t,e,Ii,-r,-i,o),qi("f2",t,e,Ii,r,-i,o),qi("f3",t,e,Ii,-r,i,o),qi("f4",t,e,Ii,r,i,o),qi("u1",t,e,Ii,r*.7,i*1.1,a),qi("u2",t,e,Ii,-r*.7,i*1.1,a),qi("u3",t,e,Ii,0,i*2,a),qi("cf1",t,e,Ii,-r,0,o),qi("cf2",t,e,Ii,r,0,o),qi("cf3",t,e,Ii,0,-i,o),qi("cf4",t,e,Ii,0,i,o),qi("cn1",t,e,Ii,-r,0,a),qi("cn2",t,e,Ii,r,0,a),qi("cn3",t,e,Ii,0,-i,a),qi("cn4",t,e,Ii,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function qi(n,e,t,r,i,a,o){XM.set(i,a,o).unproject(r);const s=e[n];if(s!==void 0){const l=t.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],XM.x,XM.y,XM.z)}}const qM=new ko;class jme extends bf{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new Un;a.setIndex(new qr(r,1)),a.setAttribute("position",new qr(i,3)),super(a,new ms({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&qM.setFromObject(this.object),qM.isEmpty())return;const e=qM.min,t=qM.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Wme extends bf{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Un;a.setIndex(new qr(r,1)),a.setAttribute("position",new Jt(i,3)),super(a,new ms({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yme extends Rp{constructor(e,t=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Un;o.setAttribute("position",new Jt(a,3)),o.computeBoundingSphere(),super(o,new ms({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Un;l.setAttribute("position",new Jt(s,3)),l.computeBoundingSphere(),this.add(new Ca(l,new Vp({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const UF=new ge;let ZM,bL;class Xme extends gr{constructor(e=new ge(0,0,1),t=new ge(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",ZM===void 0&&(ZM=new Un,ZM.setAttribute("position",new Jt([0,0,0,0,1,0],3)),bL=new sw(.5,1,5,1),bL.translate(0,-.5,0)),this.position.copy(t),this.line=new Rp(ZM,new ms({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ca(bL,new Vp({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{UF.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(UF,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class qme extends bf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Un;i.setAttribute("position",new Jt(t,3)),i.setAttribute("color",new Jt(r,3));const a=new ms({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new Ot,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zme{constructor(){this.type="ShapePath",this.color=new Ot,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new FE,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,o){return this.currentPath.bezierCurveTo(e,t,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const b=[];for(let T=0,M=x.length;T<M;T++){const C=x[T],D=new nm;D.curves=C.curves,b.push(D)}return b}function r(x,b){const T=b.length;let M=!1;for(let C=T-1,D=0;D<T;C=D++){let R=b[C],I=b[D],L=I.x-R.x,O=I.y-R.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(R=b[D],L=-L,I=b[C],O=-O),x.y<R.y||x.y>I.y)continue;if(x.y===R.y){if(x.x===R.x)return!0}else{const B=O*(x.x-R.x)-L*(x.y-R.y);if(B===0)return!0;if(B<0)continue;M=!M}}else{if(x.y!==R.y)continue;if(I.x<=x.x&&x.x<=R.x||R.x<=x.x&&x.x<=I.x)return!0}}return M}const i=Gu.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new nm,l.curves=s.curves,u.push(l),u;let c=!i(a[0].getPoints());c=e?!c:c;const f=[],h=[];let d=[],v=0,g;h[v]=void 0,d[v]=[];for(let x=0,b=a.length;x<b;x++)s=a[x],g=s.getPoints(),o=i(g),o=e?!o:o,o?(!c&&h[v]&&v++,h[v]={s:new nm,p:g},h[v].s.curves=s.curves,c&&v++,d[v]=[]):d[v].push({h:s,p:g[0]});if(!h[0])return t(a);if(h.length>1){let x=!1,b=0;for(let T=0,M=h.length;T<M;T++)f[T]=[];for(let T=0,M=h.length;T<M;T++){const C=d[T];for(let D=0;D<C.length;D++){const R=C[D];let I=!0;for(let L=0;L<h.length;L++)r(R.p,h[L].p)&&(T!==L&&b++,I?(I=!1,f[L].push(R)):x=!0);I&&f[T].push(R)}}b>0&&x===!1&&(d=f)}let y;for(let x=0,b=h.length;x<b;x++){l=h[x].s,u.push(l),y=d[x];for(let T=0,M=y.length;T<M;T++)l.holes.push(y[T].h)}return u}}class Kme extends _f{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){It("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Jme(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function Qme(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function $me(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function k5(n,e,t,r){const i=e0e(r);switch(t){case Ez:return n*e;case _D:return n*e/i.components*i.byteLength;case iw:return n*e/i.components*i.byteLength;case bD:return n*e*2/i.components*i.byteLength;case SD:return n*e*2/i.components*i.byteLength;case Dz:return n*e*3/i.components*i.byteLength;case Po:return n*e*4/i.components*i.byteLength;case wD:return n*e*4/i.components*i.byteLength;case _S:case bS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case SS:case wS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case cE:case hE:return Math.max(n,16)*Math.max(e,8)/4;case uE:case fE:return Math.max(n,8)*Math.max(e,8)/2;case dE:case pE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case vE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case gE:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case mE:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case yE:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case xE:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case _E:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case bE:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case SE:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case wE:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case TE:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case ME:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case AE:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case CE:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case EE:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case DE:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case NE:case RE:case LE:return Math.ceil(n/4)*Math.ceil(e/4)*16;case IE:case OE:return Math.ceil(n/4)*Math.ceil(e/4)*8;case PE:case zE:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function e0e(n){switch(n){case $l:case Tz:return{byteLength:1,components:1};case mx:case Mz:case Mm:return{byteLength:2,components:1};case yD:case xD:return{byteLength:2,components:4};case Uh:case mD:case Ps:return{byteLength:4,components:1};case Az:case Cz:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class t0e{static contain(e,t){return Jme(e,t)}static cover(e,t){return Qme(e,t)}static fill(e){return $me(e)}static getByteLength(e,t,r,i){return k5(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:nw}}));typeof window<"u"&&(window.__THREE__?It("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=nw);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function zJ(){let n=null,e=!1,t=null,r=null;function i(a,o){t(a,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function n0e(n){const e=new WeakMap;function t(s,l){const u=s.array,c=s.usage,f=u.byteLength,h=n.createBuffer();n.bindBuffer(l,h),n.bufferData(l,u,c),s.onUploadCallback();let d;if(u instanceof Float32Array)d=n.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)d=n.HALF_FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?d=n.HALF_FLOAT:d=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)d=n.SHORT;else if(u instanceof Uint32Array)d=n.UNSIGNED_INT;else if(u instanceof Int32Array)d=n.INT;else if(u instanceof Int8Array)d=n.BYTE;else if(u instanceof Uint8Array)d=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)d=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:d,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,u){const c=l.array,f=l.updateRanges;if(n.bindBuffer(u,s),f.length===0)n.bufferSubData(u,0,c);else{f.sort((d,v)=>d.start-v.start);let h=0;for(let d=1;d<f.length;d++){const v=f[h],g=f[d];g.start<=v.start+v.count+1?v.count=Math.max(v.count,g.start+g.count-v.start):(++h,f[h]=g)}f.length=h+1;for(let d=0,v=f.length;d<v;d++){const g=f[d];n.bufferSubData(u,g.start*c.BYTES_PER_ELEMENT,c,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(n.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const c=e.get(s);(!c||c.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const u=e.get(s);if(u===void 0)e.set(s,t(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:i,remove:a,update:o}}var r0e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,i0e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,a0e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,o0e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,s0e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,l0e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,u0e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,c0e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,f0e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,h0e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,d0e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,p0e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,v0e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,g0e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,m0e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,y0e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,x0e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,_0e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,b0e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,S0e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,w0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,T0e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,M0e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,A0e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,C0e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,E0e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,D0e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,N0e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,R0e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,L0e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,I0e="gl_FragColor = linearToOutputTexel( gl_FragColor );",O0e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,P0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,z0e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,k0e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,B0e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,U0e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,V0e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,F0e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,G0e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,H0e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,j0e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,W0e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Y0e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,X0e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,q0e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Z0e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,K0e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,J0e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Q0e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,$0e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,eye=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,tye=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,nye=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,rye=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,iye=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,aye=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,oye=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sye=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,lye=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,uye=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,cye=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,fye=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,hye=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dye=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,pye=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,vye=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,gye=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,mye=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,yye=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,xye=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,_ye=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,bye=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Sye=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wye=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Tye=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Mye=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Aye=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Cye=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Eye=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Dye=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Nye=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Rye=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Lye=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Iye=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Oye=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Pye=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zye=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kye=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Bye=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Uye=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Vye=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Fye=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Gye=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Hye=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,jye=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Wye=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Yye=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Xye=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,qye=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Zye=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Kye=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Jye=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Qye=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,$ye=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,exe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,txe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const nxe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,rxe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ixe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,axe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oxe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sxe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lxe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uxe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,cxe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fxe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hxe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,dxe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pxe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vxe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gxe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,mxe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yxe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xxe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_xe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,bxe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sxe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wxe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Txe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mxe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Axe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Cxe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Exe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dxe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nxe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Rxe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lxe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ixe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Oxe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Pxe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Wn={alphahash_fragment:r0e,alphahash_pars_fragment:i0e,alphamap_fragment:a0e,alphamap_pars_fragment:o0e,alphatest_fragment:s0e,alphatest_pars_fragment:l0e,aomap_fragment:u0e,aomap_pars_fragment:c0e,batching_pars_vertex:f0e,batching_vertex:h0e,begin_vertex:d0e,beginnormal_vertex:p0e,bsdfs:v0e,iridescence_fragment:g0e,bumpmap_pars_fragment:m0e,clipping_planes_fragment:y0e,clipping_planes_pars_fragment:x0e,clipping_planes_pars_vertex:_0e,clipping_planes_vertex:b0e,color_fragment:S0e,color_pars_fragment:w0e,color_pars_vertex:T0e,color_vertex:M0e,common:A0e,cube_uv_reflection_fragment:C0e,defaultnormal_vertex:E0e,displacementmap_pars_vertex:D0e,displacementmap_vertex:N0e,emissivemap_fragment:R0e,emissivemap_pars_fragment:L0e,colorspace_fragment:I0e,colorspace_pars_fragment:O0e,envmap_fragment:P0e,envmap_common_pars_fragment:z0e,envmap_pars_fragment:k0e,envmap_pars_vertex:B0e,envmap_physical_pars_fragment:Z0e,envmap_vertex:U0e,fog_vertex:V0e,fog_pars_vertex:F0e,fog_fragment:G0e,fog_pars_fragment:H0e,gradientmap_pars_fragment:j0e,lightmap_pars_fragment:W0e,lights_lambert_fragment:Y0e,lights_lambert_pars_fragment:X0e,lights_pars_begin:q0e,lights_toon_fragment:K0e,lights_toon_pars_fragment:J0e,lights_phong_fragment:Q0e,lights_phong_pars_fragment:$0e,lights_physical_fragment:eye,lights_physical_pars_fragment:tye,lights_fragment_begin:nye,lights_fragment_maps:rye,lights_fragment_end:iye,logdepthbuf_fragment:aye,logdepthbuf_pars_fragment:oye,logdepthbuf_pars_vertex:sye,logdepthbuf_vertex:lye,map_fragment:uye,map_pars_fragment:cye,map_particle_fragment:fye,map_particle_pars_fragment:hye,metalnessmap_fragment:dye,metalnessmap_pars_fragment:pye,morphinstance_vertex:vye,morphcolor_vertex:gye,morphnormal_vertex:mye,morphtarget_pars_vertex:yye,morphtarget_vertex:xye,normal_fragment_begin:_ye,normal_fragment_maps:bye,normal_pars_fragment:Sye,normal_pars_vertex:wye,normal_vertex:Tye,normalmap_pars_fragment:Mye,clearcoat_normal_fragment_begin:Aye,clearcoat_normal_fragment_maps:Cye,clearcoat_pars_fragment:Eye,iridescence_pars_fragment:Dye,opaque_fragment:Nye,packing:Rye,premultiplied_alpha_fragment:Lye,project_vertex:Iye,dithering_fragment:Oye,dithering_pars_fragment:Pye,roughnessmap_fragment:zye,roughnessmap_pars_fragment:kye,shadowmap_pars_fragment:Bye,shadowmap_pars_vertex:Uye,shadowmap_vertex:Vye,shadowmask_pars_fragment:Fye,skinbase_vertex:Gye,skinning_pars_vertex:Hye,skinning_vertex:jye,skinnormal_vertex:Wye,specularmap_fragment:Yye,specularmap_pars_fragment:Xye,tonemapping_fragment:qye,tonemapping_pars_fragment:Zye,transmission_fragment:Kye,transmission_pars_fragment:Jye,uv_pars_fragment:Qye,uv_pars_vertex:$ye,uv_vertex:exe,worldpos_vertex:txe,background_vert:nxe,background_frag:rxe,backgroundCube_vert:ixe,backgroundCube_frag:axe,cube_vert:oxe,cube_frag:sxe,depth_vert:lxe,depth_frag:uxe,distanceRGBA_vert:cxe,distanceRGBA_frag:fxe,equirect_vert:hxe,equirect_frag:dxe,linedashed_vert:pxe,linedashed_frag:vxe,meshbasic_vert:gxe,meshbasic_frag:mxe,meshlambert_vert:yxe,meshlambert_frag:xxe,meshmatcap_vert:_xe,meshmatcap_frag:bxe,meshnormal_vert:Sxe,meshnormal_frag:wxe,meshphong_vert:Txe,meshphong_frag:Mxe,meshphysical_vert:Axe,meshphysical_frag:Cxe,meshtoon_vert:Exe,meshtoon_frag:Dxe,points_vert:Nxe,points_frag:Rxe,shadow_vert:Lxe,shadow_frag:Ixe,sprite_vert:Oxe,sprite_frag:Pxe},Lt={common:{diffuse:{value:new Ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bn},alphaMap:{value:null},alphaMapTransform:{value:new Bn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bn}},envmap:{envMap:{value:null},envMapRotation:{value:new Bn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bn},normalScale:{value:new st(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Bn},alphaTest:{value:0},uvTransform:{value:new Bn}},sprite:{diffuse:{value:new Ot(16777215)},opacity:{value:1},center:{value:new st(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bn},alphaMap:{value:null},alphaMapTransform:{value:new Bn},alphaTest:{value:0}}},Fu={basic:{uniforms:os([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.fog]),vertexShader:Wn.meshbasic_vert,fragmentShader:Wn.meshbasic_frag},lambert:{uniforms:os([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new Ot(0)}}]),vertexShader:Wn.meshlambert_vert,fragmentShader:Wn.meshlambert_frag},phong:{uniforms:os([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new Ot(0)},specular:{value:new Ot(1118481)},shininess:{value:30}}]),vertexShader:Wn.meshphong_vert,fragmentShader:Wn.meshphong_frag},standard:{uniforms:os([Lt.common,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.roughnessmap,Lt.metalnessmap,Lt.fog,Lt.lights,{emissive:{value:new Ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wn.meshphysical_vert,fragmentShader:Wn.meshphysical_frag},toon:{uniforms:os([Lt.common,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.gradientmap,Lt.fog,Lt.lights,{emissive:{value:new Ot(0)}}]),vertexShader:Wn.meshtoon_vert,fragmentShader:Wn.meshtoon_frag},matcap:{uniforms:os([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,{matcap:{value:null}}]),vertexShader:Wn.meshmatcap_vert,fragmentShader:Wn.meshmatcap_frag},points:{uniforms:os([Lt.points,Lt.fog]),vertexShader:Wn.points_vert,fragmentShader:Wn.points_frag},dashed:{uniforms:os([Lt.common,Lt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wn.linedashed_vert,fragmentShader:Wn.linedashed_frag},depth:{uniforms:os([Lt.common,Lt.displacementmap]),vertexShader:Wn.depth_vert,fragmentShader:Wn.depth_frag},normal:{uniforms:os([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,{opacity:{value:1}}]),vertexShader:Wn.meshnormal_vert,fragmentShader:Wn.meshnormal_frag},sprite:{uniforms:os([Lt.sprite,Lt.fog]),vertexShader:Wn.sprite_vert,fragmentShader:Wn.sprite_frag},background:{uniforms:{uvTransform:{value:new Bn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Wn.background_vert,fragmentShader:Wn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Bn}},vertexShader:Wn.backgroundCube_vert,fragmentShader:Wn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Wn.cube_vert,fragmentShader:Wn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wn.equirect_vert,fragmentShader:Wn.equirect_frag},distanceRGBA:{uniforms:os([Lt.common,Lt.displacementmap,{referencePosition:{value:new ge},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wn.distanceRGBA_vert,fragmentShader:Wn.distanceRGBA_frag},shadow:{uniforms:os([Lt.lights,Lt.fog,{color:{value:new Ot(0)},opacity:{value:1}}]),vertexShader:Wn.shadow_vert,fragmentShader:Wn.shadow_frag}};Fu.physical={uniforms:os([Fu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bn},clearcoatNormalScale:{value:new st(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bn},sheen:{value:0},sheenColor:{value:new Ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bn},transmissionSamplerSize:{value:new st},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bn},attenuationDistance:{value:0},attenuationColor:{value:new Ot(0)},specularColor:{value:new Ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bn},anisotropyVector:{value:new st},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Bn}}]),vertexShader:Wn.meshphysical_vert,fragmentShader:Wn.meshphysical_frag};const KM={r:0,b:0,g:0},$v=new hl,zxe=new An;function kxe(n,e,t,r,i,a,o){const s=new Ot(0);let l=a===!0?0:1,u,c,f=null,h=0,d=null;function v(T){let M=T.isScene===!0?T.background:null;return M&&M.isTexture&&(M=(T.backgroundBlurriness>0?t:e).get(M)),M}function g(T){let M=!1;const C=v(T);C===null?x(s,l):C&&C.isColor&&(x(C,1),M=!0);const D=n.xr.getEnvironmentBlendMode();D==="additive"?r.buffers.color.setClear(0,0,0,1,o):D==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function y(T,M){const C=v(M);C&&(C.isCubeTexture||C.mapping===e_)?(c===void 0&&(c=new Ca(new Cm(1,1,1),new dl({name:"BackgroundCubeMaterial",uniforms:Ax(Fu.backgroundCube.uniforms),vertexShader:Fu.backgroundCube.vertexShader,fragmentShader:Fu.backgroundCube.fragmentShader,side:fs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(D,R,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),$v.copy(M.backgroundRotation),$v.x*=-1,$v.y*=-1,$v.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&($v.y*=-1,$v.z*=-1),c.material.uniforms.envMap.value=C,c.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(zxe.makeRotationFromEuler($v)),c.material.toneMapped=pr.getTransfer(C.colorSpace)!==Ur,(f!==C||h!==C.version||d!==n.toneMapping)&&(c.material.needsUpdate=!0,f=C,h=C.version,d=n.toneMapping),c.layers.enableAll(),T.unshift(c,c.geometry,c.material,0,0,null)):C&&C.isTexture&&(u===void 0&&(u=new Ca(new n_(2,2),new dl({name:"BackgroundMaterial",uniforms:Ax(Fu.background.uniforms),vertexShader:Fu.background.vertexShader,fragmentShader:Fu.background.fragmentShader,side:kh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=C,u.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,u.material.toneMapped=pr.getTransfer(C.colorSpace)!==Ur,C.matrixAutoUpdate===!0&&C.updateMatrix(),u.material.uniforms.uvTransform.value.copy(C.matrix),(f!==C||h!==C.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,f=C,h=C.version,d=n.toneMapping),u.layers.enableAll(),T.unshift(u,u.geometry,u.material,0,0,null))}function x(T,M){T.getRGB(KM,PK(n)),r.buffers.color.setClear(KM.r,KM.g,KM.b,M,o)}function b(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return s},setClearColor:function(T,M=1){s.set(T),l=M,x(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(T){l=T,x(s,l)},render:g,addToRenderList:y,dispose:b}}function Bxe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=h(null);let a=i,o=!1;function s(O,B,V,F,k){let Y=!1;const H=f(F,V,B);a!==H&&(a=H,u(a.object)),Y=d(O,F,V,k),Y&&v(O,F,V,k),k!==null&&e.update(k,n.ELEMENT_ARRAY_BUFFER),(Y||o)&&(o=!1,M(O,B,V,F),k!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(k).buffer))}function l(){return n.createVertexArray()}function u(O){return n.bindVertexArray(O)}function c(O){return n.deleteVertexArray(O)}function f(O,B,V){const F=V.wireframe===!0;let k=r[O.id];k===void 0&&(k={},r[O.id]=k);let Y=k[B.id];Y===void 0&&(Y={},k[B.id]=Y);let H=Y[F];return H===void 0&&(H=h(l()),Y[F]=H),H}function h(O){const B=[],V=[],F=[];for(let k=0;k<t;k++)B[k]=0,V[k]=0,F[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:V,attributeDivisors:F,object:O,attributes:{},index:null}}function d(O,B,V,F){const k=a.attributes,Y=B.attributes;let H=0;const W=V.getAttributes();for(const q in W)if(W[q].location>=0){const re=k[q];let j=Y[q];if(j===void 0&&(q==="instanceMatrix"&&O.instanceMatrix&&(j=O.instanceMatrix),q==="instanceColor"&&O.instanceColor&&(j=O.instanceColor)),re===void 0||re.attribute!==j||j&&re.data!==j.data)return!0;H++}return a.attributesNum!==H||a.index!==F}function v(O,B,V,F){const k={},Y=B.attributes;let H=0;const W=V.getAttributes();for(const q in W)if(W[q].location>=0){let re=Y[q];re===void 0&&(q==="instanceMatrix"&&O.instanceMatrix&&(re=O.instanceMatrix),q==="instanceColor"&&O.instanceColor&&(re=O.instanceColor));const j={};j.attribute=re,re&&re.data&&(j.data=re.data),k[q]=j,H++}a.attributes=k,a.attributesNum=H,a.index=F}function g(){const O=a.newAttributes;for(let B=0,V=O.length;B<V;B++)O[B]=0}function y(O){x(O,0)}function x(O,B){const V=a.newAttributes,F=a.enabledAttributes,k=a.attributeDivisors;V[O]=1,F[O]===0&&(n.enableVertexAttribArray(O),F[O]=1),k[O]!==B&&(n.vertexAttribDivisor(O,B),k[O]=B)}function b(){const O=a.newAttributes,B=a.enabledAttributes;for(let V=0,F=B.length;V<F;V++)B[V]!==O[V]&&(n.disableVertexAttribArray(V),B[V]=0)}function T(O,B,V,F,k,Y,H){H===!0?n.vertexAttribIPointer(O,B,V,k,Y):n.vertexAttribPointer(O,B,V,F,k,Y)}function M(O,B,V,F){g();const k=F.attributes,Y=V.getAttributes(),H=B.defaultAttributeValues;for(const W in Y){const q=Y[W];if(q.location>=0){let K=k[W];if(K===void 0&&(W==="instanceMatrix"&&O.instanceMatrix&&(K=O.instanceMatrix),W==="instanceColor"&&O.instanceColor&&(K=O.instanceColor)),K!==void 0){const re=K.normalized,j=K.itemSize,Q=e.get(K);if(Q===void 0)continue;const ne=Q.buffer,se=Q.type,he=Q.bytesPerElement,pe=se===n.INT||se===n.UNSIGNED_INT||K.gpuType===mD;if(K.isInterleavedBufferAttribute){const xe=K.data,Te=xe.stride,Me=K.offset;if(xe.isInstancedInterleavedBuffer){for(let Re=0;Re<q.locationSize;Re++)x(q.location+Re,xe.meshPerAttribute);O.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Re=0;Re<q.locationSize;Re++)y(q.location+Re);n.bindBuffer(n.ARRAY_BUFFER,ne);for(let Re=0;Re<q.locationSize;Re++)T(q.location+Re,j/q.locationSize,se,re,Te*he,(Me+j/q.locationSize*Re)*he,pe)}else{if(K.isInstancedBufferAttribute){for(let xe=0;xe<q.locationSize;xe++)x(q.location+xe,K.meshPerAttribute);O.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let xe=0;xe<q.locationSize;xe++)y(q.location+xe);n.bindBuffer(n.ARRAY_BUFFER,ne);for(let xe=0;xe<q.locationSize;xe++)T(q.location+xe,j/q.locationSize,se,re,j*he,j/q.locationSize*xe*he,pe)}}else if(H!==void 0){const re=H[W];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(q.location,re);break;case 3:n.vertexAttrib3fv(q.location,re);break;case 4:n.vertexAttrib4fv(q.location,re);break;default:n.vertexAttrib1fv(q.location,re)}}}}b()}function C(){I();for(const O in r){const B=r[O];for(const V in B){const F=B[V];for(const k in F)c(F[k].object),delete F[k];delete B[V]}delete r[O]}}function D(O){if(r[O.id]===void 0)return;const B=r[O.id];for(const V in B){const F=B[V];for(const k in F)c(F[k].object),delete F[k];delete B[V]}delete r[O.id]}function R(O){for(const B in r){const V=r[B];if(V[O.id]===void 0)continue;const F=V[O.id];for(const k in F)c(F[k].object),delete F[k];delete V[O.id]}}function I(){L(),o=!0,a!==i&&(a=i,u(a.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:I,resetDefaultState:L,dispose:C,releaseStatesOfGeometry:D,releaseStatesOfProgram:R,initAttributes:g,enableAttribute:y,disableUnusedAttributes:b}}function Uxe(n,e,t){let r;function i(u){r=u}function a(u,c){n.drawArrays(r,u,c),t.update(c,r,1)}function o(u,c,f){f!==0&&(n.drawArraysInstanced(r,u,c,f),t.update(c,r,f))}function s(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,f);let d=0;for(let v=0;v<f;v++)d+=c[v];t.update(d,r,1)}function l(u,c,f,h){if(f===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let v=0;v<u.length;v++)o(u[v],c[v],h[v]);else{d.multiDrawArraysInstancedWEBGL(r,u,0,c,0,h,0,f);let v=0;for(let g=0;g<f;g++)v+=c[g]*h[g];t.update(v,r,1)}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function Vxe(n,e,t,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(R){return!(R!==Po&&r.convert(R)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(R){const I=R===Mm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(R!==$l&&r.convert(R)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&R!==Ps&&!I)}function l(R){if(R==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const c=l(u);c!==u&&(It("WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=t.logarithmicDepthBuffer===!0,h=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),v=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),b=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),T=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),C=v>0,D=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,reversedDepthBuffer:h,maxTextures:d,maxVertexTextures:v,maxTextureSize:g,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:b,maxVaryings:T,maxFragmentUniforms:M,vertexTextures:C,maxSamples:D}}function Fxe(n){const e=this;let t=null,r=0,i=!1,a=!1;const o=new bh,s=new Bn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||r!==0||i;return i=h,r=f.length,d},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){t=c(f,h,0)},this.setState=function(f,h,d){const v=f.clippingPlanes,g=f.clipIntersection,y=f.clipShadows,x=n.get(f);if(!i||v===null||v.length===0||a&&!y)a?c(null):u();else{const b=a?0:r,T=b*4;let M=x.clippingState||null;l.value=M,M=c(v,h,T,d);for(let C=0;C!==T;++C)M[C]=t[C];x.clippingState=M,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=b}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,d,v){const g=f!==null?f.length:0;let y=null;if(g!==0){if(y=l.value,v!==!0||y===null){const x=d+g*4,b=h.matrixWorldInverse;s.getNormalMatrix(b),(y===null||y.length<x)&&(y=new Float32Array(x));for(let T=0,M=d;T!==g;++T,M+=4)o.copy(f[T]).applyMatrix4(b,s),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function Gxe(n){let e=new WeakMap;function t(o,s){return s===JS?o.mapping=Bh:s===QS&&(o.mapping=Ep),o}function r(o){if(o&&o.isTexture){const s=o.mapping;if(s===JS||s===QS)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new BK(l.height);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const cp=4,VF=[.125,.215,.35,.446,.526,.582],kg=20,Hxe=256,pb=new yp,FF=new Ot;let SL=null,wL=0,TL=0,ML=!1;const jxe=new ge;class B5{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,r=.1,i=100,a={}){const{size:o=256,position:s=jxe}=a;SL=this._renderer.getRenderTarget(),wL=this._renderer.getActiveCubeFace(),TL=this._renderer.getActiveMipmapLevel(),ML=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,s),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=HF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(SL,wL,TL),this._renderer.xr.enabled=ML,e.scissorTest=!1,dy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Bh||e.mapping===Ep?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),SL=this._renderer.getRenderTarget(),wL=this._renderer.getActiveCubeFace(),TL=this._renderer.getActiveMipmapLevel(),ML=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ji,minFilter:Ji,generateMipmaps:!1,type:Mm,format:Po,colorSpace:Dp,depthBuffer:!1},i=GF(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=GF(e,t,r);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=Wxe(a)),this._blurMaterial=Xxe(a,e,t),this._ggxMaterial=Yxe(a,e,t)}return i}_compileMaterial(e){const t=new Ca(new Un,e);this._renderer.compile(t,pb)}_sceneToCubeUV(e,t,r,i,a){const l=new Ki(90,1,t,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,d=f.toneMapping;f.getClearColor(FF),f.toneMapping=uf,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Ca(new Cm,new Vp({name:"PMREM.Background",side:fs,depthWrite:!1,depthTest:!1})));const g=this._backgroundBox,y=g.material;let x=!1;const b=e.background;b?b.isColor&&(y.color.copy(b),e.background=null,x=!0):(y.color.copy(FF),x=!0);for(let T=0;T<6;T++){const M=T%3;M===0?(l.up.set(0,u[T],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+c[T],a.y,a.z)):M===1?(l.up.set(0,0,u[T]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+c[T],a.z)):(l.up.set(0,u[T],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+c[T]));const C=this._cubeSize;dy(i,M*C,T>2?C:0,C,C),f.setRenderTarget(i),x&&f.render(g,l),f.render(e,l)}f.toneMapping=d,f.autoClear=h,e.background=b}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Bh||e.mapping===Ep;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=jF()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=HF());const a=i?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=a;const s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;dy(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,pb)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=r}_applyGGXFilter(e,t,r){const i=this._renderer,a=this._pingPongRenderTarget,o=this._ggxMaterial,s=this._lodMeshes[r];s.material=o;const l=o.uniforms,u=r/(this._lodMeshes.length-1),c=t/(this._lodMeshes.length-1),f=Math.sqrt(u*u-c*c),h=.05+u*.95,d=f*h,{_lodMax:v}=this,g=this._sizeLods[r],y=3*g*(r>v-cp?r-v+cp:0),x=4*(this._cubeSize-g);l.envMap.value=e.texture,l.roughness.value=d,l.mipInt.value=v-t,dy(a,y,x,3*g,2*g),i.setRenderTarget(a),i.render(s,pb),l.envMap.value=a.texture,l.roughness.value=0,l.mipInt.value=v-r,dy(e,y,x,3*g,2*g),i.setRenderTarget(e),i.render(s,pb)}_blur(e,t,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&En("blur direction must be either latitudinal or longitudinal!");const c=3,f=this._lodMeshes[i];f.material=u;const h=u.uniforms,d=this._sizeLods[r]-1,v=isFinite(a)?Math.PI/(2*d):2*Math.PI/(2*kg-1),g=a/v,y=isFinite(a)?1+Math.floor(c*g):kg;y>kg&&It(`sigmaRadians, ${a}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${kg}`);const x=[];let b=0;for(let R=0;R<kg;++R){const I=R/g,L=Math.exp(-I*I/2);x.push(L),R===0?b+=L:R<y&&(b+=2*L)}for(let R=0;R<x.length;R++)x[R]=x[R]/b;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=x,h.latitudinal.value=o==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:T}=this;h.dTheta.value=v,h.mipInt.value=T-r;const M=this._sizeLods[i],C=3*M*(i>T-cp?i-T+cp:0),D=4*(this._cubeSize-M);dy(t,C,D,3*M,2*M),l.setRenderTarget(t),l.render(f,pb)}}function Wxe(n){const e=[],t=[],r=[];let i=n;const a=n-cp+1+VF.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);e.push(s);let l=1/s;o>n-cp?l=VF[o-n+cp-1]:o===0&&(l=0),t.push(l);const u=1/(s-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,v=6,g=3,y=2,x=1,b=new Float32Array(g*v*d),T=new Float32Array(y*v*d),M=new Float32Array(x*v*d);for(let D=0;D<d;D++){const R=D%3*2/3-1,I=D>2?0:-1,L=[R,I,0,R+2/3,I,0,R+2/3,I+1,0,R,I,0,R+2/3,I+1,0,R,I+1,0];b.set(L,g*v*D),T.set(h,y*v*D);const O=[D,D,D,D,D,D];M.set(O,x*v*D)}const C=new Un;C.setAttribute("position",new qr(b,g)),C.setAttribute("uv",new qr(T,y)),C.setAttribute("faceIndex",new qr(M,x)),r.push(new Ca(C,null)),i>cp&&i--}return{lodMeshes:r,sizeLods:e,sigmas:t}}function GF(n,e,t){const r=new df(n,e,t);return r.texture.mapping=e_,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function dy(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Yxe(n,e,t){return new dl({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Hxe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:qD(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:lf,depthTest:!1,depthWrite:!1})}function Xxe(n,e,t){const r=new Float32Array(kg),i=new ge(0,1,0);return new dl({name:"SphericalGaussianBlur",defines:{n:kg,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:qD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:lf,depthTest:!1,depthWrite:!1})}function HF(){return new dl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:qD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:lf,depthTest:!1,depthWrite:!1})}function jF(){return new dl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:qD(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:lf,depthTest:!1,depthWrite:!1})}function qD(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function qxe(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===JS||l===QS,c=l===Bh||l===Ep;if(u||c){let f=e.get(s);const h=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==h)return t===null&&(t=new B5(n)),f=u?t.fromEquirectangular(s,f):t.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const d=s.image;return u&&d&&d.height>0||c&&d&&i(d)?(t===null&&(t=new B5(n)),f=u?t.fromEquirectangular(s):t.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",a),f.texture):null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function a(s){const l=s.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Zxe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];const i=n.getExtension(r);return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&Sx("WebGLRenderer: "+r+" extension not supported."),i}}}function Kxe(n,e,t,r){const i={},a=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",o),delete i[h.id];const d=a.get(h);d&&(e.remove(d),a.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function s(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const d in h)e.update(h[d],n.ARRAY_BUFFER)}function u(f){const h=[],d=f.index,v=f.attributes.position;let g=0;if(d!==null){const b=d.array;g=d.version;for(let T=0,M=b.length;T<M;T+=3){const C=b[T+0],D=b[T+1],R=b[T+2];h.push(C,D,D,R,R,C)}}else if(v!==void 0){const b=v.array;g=v.version;for(let T=0,M=b.length/3-1;T<M;T+=3){const C=T+0,D=T+1,R=T+2;h.push(C,D,D,R,R,C)}}else return;const y=new(RK(h)?Pz:Oz)(h,1);y.version=g;const x=a.get(f);x&&e.remove(x),a.set(f,y)}function c(f){const h=a.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&u(f)}else u(f);return a.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function Jxe(n,e,t){let r;function i(h){r=h}let a,o;function s(h){a=h.type,o=h.bytesPerElement}function l(h,d){n.drawElements(r,d,a,h*o),t.update(d,r,1)}function u(h,d,v){v!==0&&(n.drawElementsInstanced(r,d,a,h*o,v),t.update(d,r,v))}function c(h,d,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,d,0,a,h,0,v);let y=0;for(let x=0;x<v;x++)y+=d[x];t.update(y,r,1)}function f(h,d,v,g){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<h.length;x++)u(h[x]/o,d[x],g[x]);else{y.multiDrawElementsInstancedWEBGL(r,d,0,a,h,0,g,0,v);let x=0;for(let b=0;b<v;b++)x+=d[b]*g[b];t.update(x,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function Qxe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=s*(a/3);break;case n.LINES:t.lines+=s*(a/2);break;case n.LINE_STRIP:t.lines+=s*(a-1);break;case n.LINE_LOOP:t.lines+=s*a;break;case n.POINTS:t.points+=s*a;break;default:En("WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function $xe(n,e,t){const r=new WeakMap,i=new xr;function a(o,s,l){const u=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0;let h=r.get(s);if(h===void 0||h.count!==f){let O=function(){I.dispose(),r.delete(s),s.removeEventListener("dispose",O)};var d=O;h!==void 0&&h.texture.dispose();const v=s.morphAttributes.position!==void 0,g=s.morphAttributes.normal!==void 0,y=s.morphAttributes.color!==void 0,x=s.morphAttributes.position||[],b=s.morphAttributes.normal||[],T=s.morphAttributes.color||[];let M=0;v===!0&&(M=1),g===!0&&(M=2),y===!0&&(M=3);let C=s.attributes.position.count*M,D=1;C>e.maxTextureSize&&(D=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const R=new Float32Array(C*D*4*f),I=new MD(R,C,D,f);I.type=Ps,I.needsUpdate=!0;const L=M*4;for(let B=0;B<f;B++){const V=x[B],F=b[B],k=T[B],Y=C*D*4*B;for(let H=0;H<V.count;H++){const W=H*L;v===!0&&(i.fromBufferAttribute(V,H),R[Y+W+0]=i.x,R[Y+W+1]=i.y,R[Y+W+2]=i.z,R[Y+W+3]=0),g===!0&&(i.fromBufferAttribute(F,H),R[Y+W+4]=i.x,R[Y+W+5]=i.y,R[Y+W+6]=i.z,R[Y+W+7]=0),y===!0&&(i.fromBufferAttribute(k,H),R[Y+W+8]=i.x,R[Y+W+9]=i.y,R[Y+W+10]=i.z,R[Y+W+11]=k.itemSize===4?i.w:1)}}h={count:f,texture:I,size:new st(C,D)},r.set(s,h),s.addEventListener("dispose",O)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let y=0;y<u.length;y++)v+=u[y];const g=s.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",g),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:a}}function e_e(n,e,t,r){let i=new WeakMap;function a(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function o(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:a,dispose:o}}const kJ=new Ui,WF=new Vz(1,1),BJ=new MD,UJ=new AD,VJ=new aw,YF=[],XF=[],qF=new Float32Array(16),ZF=new Float32Array(9),KF=new Float32Array(4);function r_(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=YF[i];if(a===void 0&&(a=new Float32Array(i),YF[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=t,n[o].toArray(a,s)}return a}function Ea(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Da(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function ZD(n,e){let t=XF[e];t===void 0&&(t=new Int32Array(e),XF[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function t_e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function n_e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ea(t,e))return;n.uniform2fv(this.addr,e),Da(t,e)}}function r_e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ea(t,e))return;n.uniform3fv(this.addr,e),Da(t,e)}}function i_e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ea(t,e))return;n.uniform4fv(this.addr,e),Da(t,e)}}function a_e(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ea(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Da(t,e)}else{if(Ea(t,r))return;KF.set(r),n.uniformMatrix2fv(this.addr,!1,KF),Da(t,r)}}function o_e(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ea(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Da(t,e)}else{if(Ea(t,r))return;ZF.set(r),n.uniformMatrix3fv(this.addr,!1,ZF),Da(t,r)}}function s_e(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ea(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Da(t,e)}else{if(Ea(t,r))return;qF.set(r),n.uniformMatrix4fv(this.addr,!1,qF),Da(t,r)}}function l_e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function u_e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ea(t,e))return;n.uniform2iv(this.addr,e),Da(t,e)}}function c_e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ea(t,e))return;n.uniform3iv(this.addr,e),Da(t,e)}}function f_e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ea(t,e))return;n.uniform4iv(this.addr,e),Da(t,e)}}function h_e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function d_e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ea(t,e))return;n.uniform2uiv(this.addr,e),Da(t,e)}}function p_e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ea(t,e))return;n.uniform3uiv(this.addr,e),Da(t,e)}}function v_e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ea(t,e))return;n.uniform4uiv(this.addr,e),Da(t,e)}}function g_e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let a;this.type===n.SAMPLER_2D_SHADOW?(WF.compareFunction=Rz,a=WF):a=kJ,t.setTexture2D(e||a,i)}function m_e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||UJ,i)}function y_e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||VJ,i)}function x_e(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||BJ,i)}function __e(n){switch(n){case 5126:return t_e;case 35664:return n_e;case 35665:return r_e;case 35666:return i_e;case 35674:return a_e;case 35675:return o_e;case 35676:return s_e;case 5124:case 35670:return l_e;case 35667:case 35671:return u_e;case 35668:case 35672:return c_e;case 35669:case 35673:return f_e;case 5125:return h_e;case 36294:return d_e;case 36295:return p_e;case 36296:return v_e;case 35678:case 36198:case 36298:case 36306:case 35682:return g_e;case 35679:case 36299:case 36307:return m_e;case 35680:case 36300:case 36308:case 36293:return y_e;case 36289:case 36303:case 36311:case 36292:return x_e}}function b_e(n,e){n.uniform1fv(this.addr,e)}function S_e(n,e){const t=r_(e,this.size,2);n.uniform2fv(this.addr,t)}function w_e(n,e){const t=r_(e,this.size,3);n.uniform3fv(this.addr,t)}function T_e(n,e){const t=r_(e,this.size,4);n.uniform4fv(this.addr,t)}function M_e(n,e){const t=r_(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function A_e(n,e){const t=r_(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function C_e(n,e){const t=r_(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function E_e(n,e){n.uniform1iv(this.addr,e)}function D_e(n,e){n.uniform2iv(this.addr,e)}function N_e(n,e){n.uniform3iv(this.addr,e)}function R_e(n,e){n.uniform4iv(this.addr,e)}function L_e(n,e){n.uniform1uiv(this.addr,e)}function I_e(n,e){n.uniform2uiv(this.addr,e)}function O_e(n,e){n.uniform3uiv(this.addr,e)}function P_e(n,e){n.uniform4uiv(this.addr,e)}function z_e(n,e,t){const r=this.cache,i=e.length,a=ZD(t,i);Ea(r,a)||(n.uniform1iv(this.addr,a),Da(r,a));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||kJ,a[o])}function k_e(n,e,t){const r=this.cache,i=e.length,a=ZD(t,i);Ea(r,a)||(n.uniform1iv(this.addr,a),Da(r,a));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||UJ,a[o])}function B_e(n,e,t){const r=this.cache,i=e.length,a=ZD(t,i);Ea(r,a)||(n.uniform1iv(this.addr,a),Da(r,a));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||VJ,a[o])}function U_e(n,e,t){const r=this.cache,i=e.length,a=ZD(t,i);Ea(r,a)||(n.uniform1iv(this.addr,a),Da(r,a));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||BJ,a[o])}function V_e(n){switch(n){case 5126:return b_e;case 35664:return S_e;case 35665:return w_e;case 35666:return T_e;case 35674:return M_e;case 35675:return A_e;case 35676:return C_e;case 5124:case 35670:return E_e;case 35667:case 35671:return D_e;case 35668:case 35672:return N_e;case 35669:case 35673:return R_e;case 5125:return L_e;case 36294:return I_e;case 36295:return O_e;case 36296:return P_e;case 35678:case 36198:case 36298:case 36306:case 35682:return z_e;case 35679:case 36299:case 36307:return k_e;case 35680:case 36300:case 36308:case 36293:return B_e;case 36289:case 36303:case 36311:case 36292:return U_e}}class F_e{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=__e(t.type)}}class G_e{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=V_e(t.type)}}class H_e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,t[s.id],r)}}}const AL=/(\w+)(\])?(\[|\.)?/g;function JF(n,e){n.seq.push(e),n.map[e.id]=e}function j_e(n,e,t){const r=n.name,i=r.length;for(AL.lastIndex=0;;){const a=AL.exec(r),o=AL.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===i){JF(t,u===void 0?new F_e(s,n,e):new G_e(s,n,e));break}else{let f=t.map[s];f===void 0&&(f=new H_e(s),JF(t,f)),t=f}}}class xC{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),o=e.getUniformLocation(t,a.name);j_e(a,o,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,o=t.length;a!==o;++a){const s=t[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function QF(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const W_e=37297;let Y_e=0;function X_e(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${t[o]}`)}return r.join(`
`)}const $F=new Bn;function q_e(n){pr._getMatrix($F,pr.workingColorSpace,n);const e=`mat3( ${$F.elements.map(t=>t.toFixed(4))} )`;switch(pr.getTransfer(n)){case r2:return[e,"LinearTransferOETF"];case Ur:return[e,"sRGBTransferOETF"];default:return It("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function eG(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+X_e(n.getShaderSource(e),s)}else return a}function Z_e(n,e){const t=q_e(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function K_e(n,e){let t;switch(e){case fK:t="Linear";break;case hK:t="Reinhard";break;case dK:t="Cineon";break;case Sz:t="ACESFilmic";break;case vK:t="AgX";break;case gK:t="Neutral";break;case pK:t="Custom";break;default:It("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const JM=new ge;function J_e(){pr.getLuminanceCoefficients(JM);const n=JM.x.toFixed(4),e=JM.y.toFixed(4),t=JM.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Q_e(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter($b).join(`
`)}function $_e(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function e1e(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),o=a.name;let s=1;a.type===n.FLOAT_MAT2&&(s=2),a.type===n.FLOAT_MAT3&&(s=3),a.type===n.FLOAT_MAT4&&(s=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:s}}return t}function $b(n){return n!==""}function tG(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function nG(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const t1e=/^[ \t]*#include +<([\w\d./]+)>/gm;function U5(n){return n.replace(t1e,r1e)}const n1e=new Map;function r1e(n,e){let t=Wn[e];if(t===void 0){const r=n1e.get(e);if(r!==void 0)t=Wn[r],It('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return U5(t)}const i1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rG(n){return n.replace(i1e,a1e)}function a1e(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function iG(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function o1e(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===vD?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===yS?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Uu&&(e="SHADOWMAP_TYPE_VSM"),e}function s1e(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Bh:case Ep:e="ENVMAP_TYPE_CUBE";break;case e_:e="ENVMAP_TYPE_CUBE_UV";break}return e}function l1e(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ep:e="ENVMAP_MODE_REFRACTION";break}return e}function u1e(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case rw:e="ENVMAP_BLENDING_MULTIPLY";break;case uK:e="ENVMAP_BLENDING_MIX";break;case cK:e="ENVMAP_BLENDING_ADD";break}return e}function c1e(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function f1e(n,e,t,r){const i=n.getContext(),a=t.defines;let o=t.vertexShader,s=t.fragmentShader;const l=o1e(t),u=s1e(t),c=l1e(t),f=u1e(t),h=c1e(t),d=Q_e(t),v=$_e(a),g=i.createProgram();let y,x,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter($b).join(`
`),y.length>0&&(y+=`
`),x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter($b).join(`
`),x.length>0&&(x+=`
`)):(y=[iG(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($b).join(`
`),x=[iG(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==uf?"#define TONE_MAPPING":"",t.toneMapping!==uf?Wn.tonemapping_pars_fragment:"",t.toneMapping!==uf?K_e("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Wn.colorspace_pars_fragment,Z_e("linearToOutputTexel",t.outputColorSpace),J_e(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter($b).join(`
`)),o=U5(o),o=tG(o,t),o=nG(o,t),s=U5(s),s=tG(s,t),s=nG(s,t),o=rG(o),s=rG(s),t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,y=[d,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===N5?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===N5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const T=b+y+o,M=b+x+s,C=QF(i,i.VERTEX_SHADER,T),D=QF(i,i.FRAGMENT_SHADER,M);i.attachShader(g,C),i.attachShader(g,D),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g);function R(B){if(n.debug.checkShaderErrors){const V=i.getProgramInfoLog(g)||"",F=i.getShaderInfoLog(C)||"",k=i.getShaderInfoLog(D)||"",Y=V.trim(),H=F.trim(),W=k.trim();let q=!0,K=!0;if(i.getProgramParameter(g,i.LINK_STATUS)===!1)if(q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,g,C,D);else{const re=eG(i,C,"vertex"),j=eG(i,D,"fragment");En("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+Y+`
`+re+`
`+j)}else Y!==""?It("WebGLProgram: Program Info Log:",Y):(H===""||W==="")&&(K=!1);K&&(B.diagnostics={runnable:q,programLog:Y,vertexShader:{log:H,prefix:y},fragmentShader:{log:W,prefix:x}})}i.deleteShader(C),i.deleteShader(D),I=new xC(i,g),L=e1e(i,g)}let I;this.getUniforms=function(){return I===void 0&&R(this),I};let L;this.getAttributes=function(){return L===void 0&&R(this),L};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(g,W_e)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Y_e++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=C,this.fragmentShader=D,this}let h1e=0;class d1e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new p1e(e),t.set(e,r)),r}}class p1e{constructor(e){this.id=h1e++,this.code=e,this.usedTimes=0}}function v1e(n,e,t,r,i,a,o){const s=new Mx,l=new d1e,u=new Set,c=[],f=i.logarithmicDepthBuffer,h=i.vertexTextures;let d=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(L){return u.add(L),L===0?"uv":`uv${L}`}function y(L,O,B,V,F){const k=V.fog,Y=F.geometry,H=L.isMeshStandardMaterial?V.environment:null,W=(L.isMeshStandardMaterial?t:e).get(L.envMap||H),q=W&&W.mapping===e_?W.image.height:null,K=v[L.type];L.precision!==null&&(d=i.getMaxPrecision(L.precision),d!==L.precision&&It("WebGLProgram.getParameters:",L.precision,"not supported, using",d,"instead."));const re=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,j=re!==void 0?re.length:0;let Q=0;Y.morphAttributes.position!==void 0&&(Q=1),Y.morphAttributes.normal!==void 0&&(Q=2),Y.morphAttributes.color!==void 0&&(Q=3);let ne,se,he,pe;if(K){const dn=Fu[K];ne=dn.vertexShader,se=dn.fragmentShader}else ne=L.vertexShader,se=L.fragmentShader,l.update(L),he=l.getVertexShaderID(L),pe=l.getFragmentShaderID(L);const xe=n.getRenderTarget(),Te=n.state.buffers.depth.getReversed(),Me=F.isInstancedMesh===!0,Re=F.isBatchedMesh===!0,Ue=!!L.map,et=!!L.matcap,ct=!!W,X=!!L.aoMap,te=!!L.lightMap,ve=!!L.bumpMap,oe=!!L.normalMap,ae=!!L.displacementMap,de=!!L.emissiveMap,Ae=!!L.metalnessMap,Ce=!!L.roughnessMap,be=L.anisotropy>0,ie=L.clearcoat>0,ee=L.dispersion>0,me=L.iridescence>0,Ne=L.sheen>0,qe=L.transmission>0,Ie=be&&!!L.anisotropyMap,Mt=ie&&!!L.clearcoatMap,xt=ie&&!!L.clearcoatNormalMap,Ct=ie&&!!L.clearcoatRoughnessMap,Dt=me&&!!L.iridescenceMap,Je=me&&!!L.iridescenceThicknessMap,ut=Ne&&!!L.sheenColorMap,kt=Ne&&!!L.sheenRoughnessMap,ye=!!L.specularMap,Fe=!!L.specularColorMap,ft=!!L.specularIntensityMap,_e=qe&&!!L.transmissionMap,ht=qe&&!!L.thicknessMap,dt=!!L.gradientMap,at=!!L.alphaMap,rt=L.alphaTest>0,tt=!!L.alphaHash,wt=!!L.extensions;let Bt=uf;L.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(Bt=n.toneMapping);const hn={shaderID:K,shaderType:L.type,shaderName:L.name,vertexShader:ne,fragmentShader:se,defines:L.defines,customVertexShaderID:he,customFragmentShaderID:pe,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:d,batching:Re,batchingColor:Re&&F._colorsTexture!==null,instancing:Me,instancingColor:Me&&F.instanceColor!==null,instancingMorph:Me&&F.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:xe===null?n.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:Dp,alphaToCoverage:!!L.alphaToCoverage,map:Ue,matcap:et,envMap:ct,envMapMode:ct&&W.mapping,envMapCubeUVHeight:q,aoMap:X,lightMap:te,bumpMap:ve,normalMap:oe,displacementMap:h&&ae,emissiveMap:de,normalMapObjectSpace:oe&&L.normalMapType===wK,normalMapTangentSpace:oe&&L.normalMapType===Up,metalnessMap:Ae,roughnessMap:Ce,anisotropy:be,anisotropyMap:Ie,clearcoat:ie,clearcoatMap:Mt,clearcoatNormalMap:xt,clearcoatRoughnessMap:Ct,dispersion:ee,iridescence:me,iridescenceMap:Dt,iridescenceThicknessMap:Je,sheen:Ne,sheenColorMap:ut,sheenRoughnessMap:kt,specularMap:ye,specularColorMap:Fe,specularIntensityMap:ft,transmission:qe,transmissionMap:_e,thicknessMap:ht,gradientMap:dt,opaque:L.transparent===!1&&L.blending===em&&L.alphaToCoverage===!1,alphaMap:at,alphaTest:rt,alphaHash:tt,combine:L.combine,mapUv:Ue&&g(L.map.channel),aoMapUv:X&&g(L.aoMap.channel),lightMapUv:te&&g(L.lightMap.channel),bumpMapUv:ve&&g(L.bumpMap.channel),normalMapUv:oe&&g(L.normalMap.channel),displacementMapUv:ae&&g(L.displacementMap.channel),emissiveMapUv:de&&g(L.emissiveMap.channel),metalnessMapUv:Ae&&g(L.metalnessMap.channel),roughnessMapUv:Ce&&g(L.roughnessMap.channel),anisotropyMapUv:Ie&&g(L.anisotropyMap.channel),clearcoatMapUv:Mt&&g(L.clearcoatMap.channel),clearcoatNormalMapUv:xt&&g(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ct&&g(L.clearcoatRoughnessMap.channel),iridescenceMapUv:Dt&&g(L.iridescenceMap.channel),iridescenceThicknessMapUv:Je&&g(L.iridescenceThicknessMap.channel),sheenColorMapUv:ut&&g(L.sheenColorMap.channel),sheenRoughnessMapUv:kt&&g(L.sheenRoughnessMap.channel),specularMapUv:ye&&g(L.specularMap.channel),specularColorMapUv:Fe&&g(L.specularColorMap.channel),specularIntensityMapUv:ft&&g(L.specularIntensityMap.channel),transmissionMapUv:_e&&g(L.transmissionMap.channel),thicknessMapUv:ht&&g(L.thicknessMap.channel),alphaMapUv:at&&g(L.alphaMap.channel),vertexTangents:!!Y.attributes.tangent&&(oe||be),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!Y.attributes.uv&&(Ue||at),fog:!!k,useFog:L.fog===!0,fogExp2:!!k&&k.isFogExp2,flatShading:L.flatShading===!0&&L.wireframe===!1,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:Te,skinning:F.isSkinnedMesh===!0,morphTargets:Y.morphAttributes.position!==void 0,morphNormals:Y.morphAttributes.normal!==void 0,morphColors:Y.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:Q,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:Bt,decodeVideoTexture:Ue&&L.map.isVideoTexture===!0&&pr.getTransfer(L.map.colorSpace)===Ur,decodeVideoTextureEmissive:de&&L.emissiveMap.isVideoTexture===!0&&pr.getTransfer(L.emissiveMap.colorSpace)===Ur,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===Zc,flipSided:L.side===fs,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:wt&&L.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(wt&&L.extensions.multiDraw===!0||Re)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return hn.vertexUv1s=u.has(1),hn.vertexUv2s=u.has(2),hn.vertexUv3s=u.has(3),u.clear(),hn}function x(L){const O=[];if(L.shaderID?O.push(L.shaderID):(O.push(L.customVertexShaderID),O.push(L.customFragmentShaderID)),L.defines!==void 0)for(const B in L.defines)O.push(B),O.push(L.defines[B]);return L.isRawShaderMaterial===!1&&(b(O,L),T(O,L),O.push(n.outputColorSpace)),O.push(L.customProgramCacheKey),O.join()}function b(L,O){L.push(O.precision),L.push(O.outputColorSpace),L.push(O.envMapMode),L.push(O.envMapCubeUVHeight),L.push(O.mapUv),L.push(O.alphaMapUv),L.push(O.lightMapUv),L.push(O.aoMapUv),L.push(O.bumpMapUv),L.push(O.normalMapUv),L.push(O.displacementMapUv),L.push(O.emissiveMapUv),L.push(O.metalnessMapUv),L.push(O.roughnessMapUv),L.push(O.anisotropyMapUv),L.push(O.clearcoatMapUv),L.push(O.clearcoatNormalMapUv),L.push(O.clearcoatRoughnessMapUv),L.push(O.iridescenceMapUv),L.push(O.iridescenceThicknessMapUv),L.push(O.sheenColorMapUv),L.push(O.sheenRoughnessMapUv),L.push(O.specularMapUv),L.push(O.specularColorMapUv),L.push(O.specularIntensityMapUv),L.push(O.transmissionMapUv),L.push(O.thicknessMapUv),L.push(O.combine),L.push(O.fogExp2),L.push(O.sizeAttenuation),L.push(O.morphTargetsCount),L.push(O.morphAttributeCount),L.push(O.numDirLights),L.push(O.numPointLights),L.push(O.numSpotLights),L.push(O.numSpotLightMaps),L.push(O.numHemiLights),L.push(O.numRectAreaLights),L.push(O.numDirLightShadows),L.push(O.numPointLightShadows),L.push(O.numSpotLightShadows),L.push(O.numSpotLightShadowsWithMaps),L.push(O.numLightProbes),L.push(O.shadowMapType),L.push(O.toneMapping),L.push(O.numClippingPlanes),L.push(O.numClipIntersection),L.push(O.depthPacking)}function T(L,O){s.disableAll(),O.supportsVertexTextures&&s.enable(0),O.instancing&&s.enable(1),O.instancingColor&&s.enable(2),O.instancingMorph&&s.enable(3),O.matcap&&s.enable(4),O.envMap&&s.enable(5),O.normalMapObjectSpace&&s.enable(6),O.normalMapTangentSpace&&s.enable(7),O.clearcoat&&s.enable(8),O.iridescence&&s.enable(9),O.alphaTest&&s.enable(10),O.vertexColors&&s.enable(11),O.vertexAlphas&&s.enable(12),O.vertexUv1s&&s.enable(13),O.vertexUv2s&&s.enable(14),O.vertexUv3s&&s.enable(15),O.vertexTangents&&s.enable(16),O.anisotropy&&s.enable(17),O.alphaHash&&s.enable(18),O.batching&&s.enable(19),O.dispersion&&s.enable(20),O.batchingColor&&s.enable(21),O.gradientMap&&s.enable(22),L.push(s.mask),s.disableAll(),O.fog&&s.enable(0),O.useFog&&s.enable(1),O.flatShading&&s.enable(2),O.logarithmicDepthBuffer&&s.enable(3),O.reversedDepthBuffer&&s.enable(4),O.skinning&&s.enable(5),O.morphTargets&&s.enable(6),O.morphNormals&&s.enable(7),O.morphColors&&s.enable(8),O.premultipliedAlpha&&s.enable(9),O.shadowMapEnabled&&s.enable(10),O.doubleSided&&s.enable(11),O.flipSided&&s.enable(12),O.useDepthPacking&&s.enable(13),O.dithering&&s.enable(14),O.transmission&&s.enable(15),O.sheen&&s.enable(16),O.opaque&&s.enable(17),O.pointsUvs&&s.enable(18),O.decodeVideoTexture&&s.enable(19),O.decodeVideoTextureEmissive&&s.enable(20),O.alphaToCoverage&&s.enable(21),L.push(s.mask)}function M(L){const O=v[L.type];let B;if(O){const V=Fu[O];B=zK.clone(V.uniforms)}else B=L.uniforms;return B}function C(L,O){let B;for(let V=0,F=c.length;V<F;V++){const k=c[V];if(k.cacheKey===O){B=k,++B.usedTimes;break}}return B===void 0&&(B=new f1e(n,O,L,a),c.push(B)),B}function D(L){if(--L.usedTimes===0){const O=c.indexOf(L);c[O]=c[c.length-1],c.pop(),L.destroy()}}function R(L){l.remove(L)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:x,getUniforms:M,acquireProgram:C,releaseProgram:D,releaseShaderCache:R,programs:c,dispose:I}}function g1e(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let s=n.get(o);return s===void 0&&(s={},n.set(o,s)),s}function r(o){n.delete(o)}function i(o,s,l){n.get(o)[s]=l}function a(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:a}}function m1e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function aG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function oG(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function o(f,h,d,v,g,y){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:h,material:d,groupOrder:v,renderOrder:f.renderOrder,z:g,group:y},n[e]=x):(x.id=f.id,x.object=f,x.geometry=h,x.material=d,x.groupOrder=v,x.renderOrder=f.renderOrder,x.z=g,x.group=y),e++,x}function s(f,h,d,v,g,y){const x=o(f,h,d,v,g,y);d.transmission>0?r.push(x):d.transparent===!0?i.push(x):t.push(x)}function l(f,h,d,v,g,y){const x=o(f,h,d,v,g,y);d.transmission>0?r.unshift(x):d.transparent===!0?i.unshift(x):t.unshift(x)}function u(f,h){t.length>1&&t.sort(f||m1e),r.length>1&&r.sort(h||aG),i.length>1&&i.sort(h||aG)}function c(){for(let f=e,h=n.length;f<h;f++){const d=n[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:s,unshift:l,finish:c,sort:u}}function y1e(){let n=new WeakMap;function e(r,i){const a=n.get(r);let o;return a===void 0?(o=new oG,n.set(r,[o])):i>=a.length?(o=new oG,a.push(o)):o=a[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function x1e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ge,color:new Ot};break;case"SpotLight":t={position:new ge,direction:new ge,color:new Ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ge,color:new Ot,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ge,skyColor:new Ot,groundColor:new Ot};break;case"RectAreaLight":t={color:new Ot,position:new ge,halfWidth:new ge,halfHeight:new ge};break}return n[e.id]=t,t}}}function _1e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new st,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let b1e=0;function S1e(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function w1e(n){const e=new x1e,t=_1e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new ge);const i=new ge,a=new An,o=new An;function s(u){let c=0,f=0,h=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let d=0,v=0,g=0,y=0,x=0,b=0,T=0,M=0,C=0,D=0,R=0;u.sort(S1e);for(let L=0,O=u.length;L<O;L++){const B=u[L],V=B.color,F=B.intensity,k=B.distance,Y=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)c+=V.r*F,f+=V.g*F,h+=V.b*F;else if(B.isLightProbe){for(let H=0;H<9;H++)r.probe[H].addScaledVector(B.sh.coefficients[H],F);R++}else if(B.isDirectionalLight){const H=e.get(B);if(H.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const W=B.shadow,q=t.get(B);q.shadowIntensity=W.intensity,q.shadowBias=W.bias,q.shadowNormalBias=W.normalBias,q.shadowRadius=W.radius,q.shadowMapSize=W.mapSize,r.directionalShadow[d]=q,r.directionalShadowMap[d]=Y,r.directionalShadowMatrix[d]=B.shadow.matrix,b++}r.directional[d]=H,d++}else if(B.isSpotLight){const H=e.get(B);H.position.setFromMatrixPosition(B.matrixWorld),H.color.copy(V).multiplyScalar(F),H.distance=k,H.coneCos=Math.cos(B.angle),H.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),H.decay=B.decay,r.spot[g]=H;const W=B.shadow;if(B.map&&(r.spotLightMap[C]=B.map,C++,W.updateMatrices(B),B.castShadow&&D++),r.spotLightMatrix[g]=W.matrix,B.castShadow){const q=t.get(B);q.shadowIntensity=W.intensity,q.shadowBias=W.bias,q.shadowNormalBias=W.normalBias,q.shadowRadius=W.radius,q.shadowMapSize=W.mapSize,r.spotShadow[g]=q,r.spotShadowMap[g]=Y,M++}g++}else if(B.isRectAreaLight){const H=e.get(B);H.color.copy(V).multiplyScalar(F),H.halfWidth.set(B.width*.5,0,0),H.halfHeight.set(0,B.height*.5,0),r.rectArea[y]=H,y++}else if(B.isPointLight){const H=e.get(B);if(H.color.copy(B.color).multiplyScalar(B.intensity),H.distance=B.distance,H.decay=B.decay,B.castShadow){const W=B.shadow,q=t.get(B);q.shadowIntensity=W.intensity,q.shadowBias=W.bias,q.shadowNormalBias=W.normalBias,q.shadowRadius=W.radius,q.shadowMapSize=W.mapSize,q.shadowCameraNear=W.camera.near,q.shadowCameraFar=W.camera.far,r.pointShadow[v]=q,r.pointShadowMap[v]=Y,r.pointShadowMatrix[v]=B.shadow.matrix,T++}r.point[v]=H,v++}else if(B.isHemisphereLight){const H=e.get(B);H.skyColor.copy(B.color).multiplyScalar(F),H.groundColor.copy(B.groundColor).multiplyScalar(F),r.hemi[x]=H,x++}}y>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Lt.LTC_FLOAT_1,r.rectAreaLTC2=Lt.LTC_FLOAT_2):(r.rectAreaLTC1=Lt.LTC_HALF_1,r.rectAreaLTC2=Lt.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=h;const I=r.hash;(I.directionalLength!==d||I.pointLength!==v||I.spotLength!==g||I.rectAreaLength!==y||I.hemiLength!==x||I.numDirectionalShadows!==b||I.numPointShadows!==T||I.numSpotShadows!==M||I.numSpotMaps!==C||I.numLightProbes!==R)&&(r.directional.length=d,r.spot.length=g,r.rectArea.length=y,r.point.length=v,r.hemi.length=x,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=M+C-D,r.spotLightMap.length=C,r.numSpotLightShadowsWithMaps=D,r.numLightProbes=R,I.directionalLength=d,I.pointLength=v,I.spotLength=g,I.rectAreaLength=y,I.hemiLength=x,I.numDirectionalShadows=b,I.numPointShadows=T,I.numSpotShadows=M,I.numSpotMaps=C,I.numLightProbes=R,r.version=b1e++)}function l(u,c){let f=0,h=0,d=0,v=0,g=0;const y=c.matrixWorldInverse;for(let x=0,b=u.length;x<b;x++){const T=u[x];if(T.isDirectionalLight){const M=r.directional[f];M.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),f++}else if(T.isSpotLight){const M=r.spot[d];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),d++}else if(T.isRectAreaLight){const M=r.rectArea[v];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(y),o.identity(),a.copy(T.matrixWorld),a.premultiply(y),o.extractRotation(a),M.halfWidth.set(T.width*.5,0,0),M.halfHeight.set(0,T.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),v++}else if(T.isPointLight){const M=r.point[h];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(y),h++}else if(T.isHemisphereLight){const M=r.hemi[g];M.direction.setFromMatrixPosition(T.matrixWorld),M.direction.transformDirection(y),g++}}}return{setup:s,setupView:l,state:r}}function sG(n){const e=new w1e(n),t=[],r=[];function i(c){u.camera=c,t.length=0,r.length=0}function a(c){t.push(c)}function o(c){r.push(c)}function s(){e.setup(t)}function l(c){e.setupView(t,c)}const u={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:s,setupLightsView:l,pushLight:a,pushShadow:o}}function T1e(n){let e=new WeakMap;function t(i,a=0){const o=e.get(i);let s;return o===void 0?(s=new sG(n),e.set(i,[s])):a>=o.length?(s=new sG(n),o.push(s)):s=o[a],s}function r(){e=new WeakMap}return{get:t,dispose:r}}const M1e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,A1e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function C1e(n,e,t){let r=new t_;const i=new st,a=new st,o=new xr,s=new Zz({depthPacking:SK}),l=new Kz,u={},c=t.maxTextureSize,f={[kh]:fs,[fs]:kh,[Zc]:Zc},h=new dl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new st},radius:{value:4}},vertexShader:M1e,fragmentShader:A1e}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const v=new Un;v.setAttribute("position",new qr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Ca(v,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vD;let x=this.type;this.render=function(D,R,I){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||D.length===0)return;const L=n.getRenderTarget(),O=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),V=n.state;V.setBlending(lf),V.buffers.depth.getReversed()===!0?V.buffers.color.setClear(0,0,0,0):V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);const F=x!==Uu&&this.type===Uu,k=x===Uu&&this.type!==Uu;for(let Y=0,H=D.length;Y<H;Y++){const W=D[Y],q=W.shadow;if(q===void 0){It("WebGLShadowMap:",W,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;i.copy(q.mapSize);const K=q.getFrameExtents();if(i.multiply(K),a.copy(q.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/K.x),i.x=a.x*K.x,q.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/K.y),i.y=a.y*K.y,q.mapSize.y=a.y)),q.map===null||F===!0||k===!0){const j=this.type!==Uu?{minFilter:ao,magFilter:ao}:{};q.map!==null&&q.map.dispose(),q.map=new df(i.x,i.y,j),q.map.texture.name=W.name+".shadowMap",q.camera.updateProjectionMatrix()}n.setRenderTarget(q.map),n.clear();const re=q.getViewportCount();for(let j=0;j<re;j++){const Q=q.getViewport(j);o.set(a.x*Q.x,a.y*Q.y,a.x*Q.z,a.y*Q.w),V.viewport(o),q.updateMatrices(W,j),r=q.getFrustum(),M(R,I,q.camera,W,this.type)}q.isPointLightShadow!==!0&&this.type===Uu&&b(q,I),q.needsUpdate=!1}x=this.type,y.needsUpdate=!1,n.setRenderTarget(L,O,B)};function b(D,R){const I=e.update(g);h.defines.VSM_SAMPLES!==D.blurSamples&&(h.defines.VSM_SAMPLES=D.blurSamples,d.defines.VSM_SAMPLES=D.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),D.mapPass===null&&(D.mapPass=new df(i.x,i.y)),h.uniforms.shadow_pass.value=D.map.texture,h.uniforms.resolution.value=D.mapSize,h.uniforms.radius.value=D.radius,n.setRenderTarget(D.mapPass),n.clear(),n.renderBufferDirect(R,null,I,h,g,null),d.uniforms.shadow_pass.value=D.mapPass.texture,d.uniforms.resolution.value=D.mapSize,d.uniforms.radius.value=D.radius,n.setRenderTarget(D.map),n.clear(),n.renderBufferDirect(R,null,I,d,g,null)}function T(D,R,I,L){let O=null;const B=I.isPointLight===!0?D.customDistanceMaterial:D.customDepthMaterial;if(B!==void 0)O=B;else if(O=I.isPointLight===!0?l:s,n.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0||R.alphaToCoverage===!0){const V=O.uuid,F=R.uuid;let k=u[V];k===void 0&&(k={},u[V]=k);let Y=k[F];Y===void 0&&(Y=O.clone(),k[F]=Y,R.addEventListener("dispose",C)),O=Y}if(O.visible=R.visible,O.wireframe=R.wireframe,L===Uu?O.side=R.shadowSide!==null?R.shadowSide:R.side:O.side=R.shadowSide!==null?R.shadowSide:f[R.side],O.alphaMap=R.alphaMap,O.alphaTest=R.alphaToCoverage===!0?.5:R.alphaTest,O.map=R.map,O.clipShadows=R.clipShadows,O.clippingPlanes=R.clippingPlanes,O.clipIntersection=R.clipIntersection,O.displacementMap=R.displacementMap,O.displacementScale=R.displacementScale,O.displacementBias=R.displacementBias,O.wireframeLinewidth=R.wireframeLinewidth,O.linewidth=R.linewidth,I.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const V=n.properties.get(O);V.light=I}return O}function M(D,R,I,L,O){if(D.visible===!1)return;if(D.layers.test(R.layers)&&(D.isMesh||D.isLine||D.isPoints)&&(D.castShadow||D.receiveShadow&&O===Uu)&&(!D.frustumCulled||r.intersectsObject(D))){D.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,D.matrixWorld);const F=e.update(D),k=D.material;if(Array.isArray(k)){const Y=F.groups;for(let H=0,W=Y.length;H<W;H++){const q=Y[H],K=k[q.materialIndex];if(K&&K.visible){const re=T(D,K,L,O);D.onBeforeShadow(n,D,R,I,F,re,q),n.renderBufferDirect(I,null,F,re,D,q),D.onAfterShadow(n,D,R,I,F,re,q)}}}else if(k.visible){const Y=T(D,k,L,O);D.onBeforeShadow(n,D,R,I,F,Y,null),n.renderBufferDirect(I,null,F,Y,D,null),D.onAfterShadow(n,D,R,I,F,Y,null)}}const V=D.children;for(let F=0,k=V.length;F<k;F++)M(V[F],R,I,L,O)}function C(D){D.target.removeEventListener("dispose",C);for(const I in u){const L=u[I],O=D.target.uuid;O in L&&(L[O].dispose(),delete L[O])}}}const E1e={[nE]:rE,[iE]:sE,[aE]:lE,[cm]:oE,[rE]:nE,[sE]:iE,[lE]:aE,[oE]:cm};function D1e(n,e){function t(){let _e=!1;const ht=new xr;let dt=null;const at=new xr(0,0,0,0);return{setMask:function(rt){dt!==rt&&!_e&&(n.colorMask(rt,rt,rt,rt),dt=rt)},setLocked:function(rt){_e=rt},setClear:function(rt,tt,wt,Bt,hn){hn===!0&&(rt*=Bt,tt*=Bt,wt*=Bt),ht.set(rt,tt,wt,Bt),at.equals(ht)===!1&&(n.clearColor(rt,tt,wt,Bt),at.copy(ht))},reset:function(){_e=!1,dt=null,at.set(-1,0,0,0)}}}function r(){let _e=!1,ht=!1,dt=null,at=null,rt=null;return{setReversed:function(tt){if(ht!==tt){const wt=e.get("EXT_clip_control");tt?wt.clipControlEXT(wt.LOWER_LEFT_EXT,wt.ZERO_TO_ONE_EXT):wt.clipControlEXT(wt.LOWER_LEFT_EXT,wt.NEGATIVE_ONE_TO_ONE_EXT),ht=tt;const Bt=rt;rt=null,this.setClear(Bt)}},getReversed:function(){return ht},setTest:function(tt){tt?xe(n.DEPTH_TEST):Te(n.DEPTH_TEST)},setMask:function(tt){dt!==tt&&!_e&&(n.depthMask(tt),dt=tt)},setFunc:function(tt){if(ht&&(tt=E1e[tt]),at!==tt){switch(tt){case nE:n.depthFunc(n.NEVER);break;case rE:n.depthFunc(n.ALWAYS);break;case iE:n.depthFunc(n.LESS);break;case cm:n.depthFunc(n.LEQUAL);break;case aE:n.depthFunc(n.EQUAL);break;case oE:n.depthFunc(n.GEQUAL);break;case sE:n.depthFunc(n.GREATER);break;case lE:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}at=tt}},setLocked:function(tt){_e=tt},setClear:function(tt){rt!==tt&&(ht&&(tt=1-tt),n.clearDepth(tt),rt=tt)},reset:function(){_e=!1,dt=null,at=null,rt=null,ht=!1}}}function i(){let _e=!1,ht=null,dt=null,at=null,rt=null,tt=null,wt=null,Bt=null,hn=null;return{setTest:function(dn){_e||(dn?xe(n.STENCIL_TEST):Te(n.STENCIL_TEST))},setMask:function(dn){ht!==dn&&!_e&&(n.stencilMask(dn),ht=dn)},setFunc:function(dn,br,Xn){(dt!==dn||at!==br||rt!==Xn)&&(n.stencilFunc(dn,br,Xn),dt=dn,at=br,rt=Xn)},setOp:function(dn,br,Xn){(tt!==dn||wt!==br||Bt!==Xn)&&(n.stencilOp(dn,br,Xn),tt=dn,wt=br,Bt=Xn)},setLocked:function(dn){_e=dn},setClear:function(dn){hn!==dn&&(n.clearStencil(dn),hn=dn)},reset:function(){_e=!1,ht=null,dt=null,at=null,rt=null,tt=null,wt=null,Bt=null,hn=null}}}const a=new t,o=new r,s=new i,l=new WeakMap,u=new WeakMap;let c={},f={},h=new WeakMap,d=[],v=null,g=!1,y=null,x=null,b=null,T=null,M=null,C=null,D=null,R=new Ot(0,0,0),I=0,L=!1,O=null,B=null,V=null,F=null,k=null;const Y=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,W=0;const q=n.getParameter(n.VERSION);q.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(q)[1]),H=W>=1):q.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),H=W>=2);let K=null,re={};const j=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),ne=new xr().fromArray(j),se=new xr().fromArray(Q);function he(_e,ht,dt,at){const rt=new Uint8Array(4),tt=n.createTexture();n.bindTexture(_e,tt),n.texParameteri(_e,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(_e,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let wt=0;wt<dt;wt++)_e===n.TEXTURE_3D||_e===n.TEXTURE_2D_ARRAY?n.texImage3D(ht,0,n.RGBA,1,1,at,0,n.RGBA,n.UNSIGNED_BYTE,rt):n.texImage2D(ht+wt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,rt);return tt}const pe={};pe[n.TEXTURE_2D]=he(n.TEXTURE_2D,n.TEXTURE_2D,1),pe[n.TEXTURE_CUBE_MAP]=he(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[n.TEXTURE_2D_ARRAY]=he(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),pe[n.TEXTURE_3D]=he(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),xe(n.DEPTH_TEST),o.setFunc(cm),ve(!1),oe(M5),xe(n.CULL_FACE),X(lf);function xe(_e){c[_e]!==!0&&(n.enable(_e),c[_e]=!0)}function Te(_e){c[_e]!==!1&&(n.disable(_e),c[_e]=!1)}function Me(_e,ht){return f[_e]!==ht?(n.bindFramebuffer(_e,ht),f[_e]=ht,_e===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=ht),_e===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=ht),!0):!1}function Re(_e,ht){let dt=d,at=!1;if(_e){dt=h.get(ht),dt===void 0&&(dt=[],h.set(ht,dt));const rt=_e.textures;if(dt.length!==rt.length||dt[0]!==n.COLOR_ATTACHMENT0){for(let tt=0,wt=rt.length;tt<wt;tt++)dt[tt]=n.COLOR_ATTACHMENT0+tt;dt.length=rt.length,at=!0}}else dt[0]!==n.BACK&&(dt[0]=n.BACK,at=!0);at&&n.drawBuffers(dt)}function Ue(_e){return v!==_e?(n.useProgram(_e),v=_e,!0):!1}const et={[op]:n.FUNC_ADD,[YZ]:n.FUNC_SUBTRACT,[XZ]:n.FUNC_REVERSE_SUBTRACT};et[qZ]=n.MIN,et[ZZ]=n.MAX;const ct={[KZ]:n.ZERO,[JZ]:n.ONE,[QZ]:n.SRC_COLOR,[eE]:n.SRC_ALPHA,[iK]:n.SRC_ALPHA_SATURATE,[nK]:n.DST_COLOR,[eK]:n.DST_ALPHA,[$Z]:n.ONE_MINUS_SRC_COLOR,[tE]:n.ONE_MINUS_SRC_ALPHA,[rK]:n.ONE_MINUS_DST_COLOR,[tK]:n.ONE_MINUS_DST_ALPHA,[aK]:n.CONSTANT_COLOR,[oK]:n.ONE_MINUS_CONSTANT_COLOR,[sK]:n.CONSTANT_ALPHA,[lK]:n.ONE_MINUS_CONSTANT_ALPHA};function X(_e,ht,dt,at,rt,tt,wt,Bt,hn,dn){if(_e===lf){g===!0&&(Te(n.BLEND),g=!1);return}if(g===!1&&(xe(n.BLEND),g=!0),_e!==WZ){if(_e!==y||dn!==L){if((x!==op||M!==op)&&(n.blendEquation(n.FUNC_ADD),x=op,M=op),dn)switch(_e){case em:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case KS:n.blendFunc(n.ONE,n.ONE);break;case A5:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case C5:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:En("WebGLState: Invalid blending: ",_e);break}else switch(_e){case em:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case KS:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case A5:En("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case C5:En("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:En("WebGLState: Invalid blending: ",_e);break}b=null,T=null,C=null,D=null,R.set(0,0,0),I=0,y=_e,L=dn}return}rt=rt||ht,tt=tt||dt,wt=wt||at,(ht!==x||rt!==M)&&(n.blendEquationSeparate(et[ht],et[rt]),x=ht,M=rt),(dt!==b||at!==T||tt!==C||wt!==D)&&(n.blendFuncSeparate(ct[dt],ct[at],ct[tt],ct[wt]),b=dt,T=at,C=tt,D=wt),(Bt.equals(R)===!1||hn!==I)&&(n.blendColor(Bt.r,Bt.g,Bt.b,hn),R.copy(Bt),I=hn),y=_e,L=!1}function te(_e,ht){_e.side===Zc?Te(n.CULL_FACE):xe(n.CULL_FACE);let dt=_e.side===fs;ht&&(dt=!dt),ve(dt),_e.blending===em&&_e.transparent===!1?X(lf):X(_e.blending,_e.blendEquation,_e.blendSrc,_e.blendDst,_e.blendEquationAlpha,_e.blendSrcAlpha,_e.blendDstAlpha,_e.blendColor,_e.blendAlpha,_e.premultipliedAlpha),o.setFunc(_e.depthFunc),o.setTest(_e.depthTest),o.setMask(_e.depthWrite),a.setMask(_e.colorWrite);const at=_e.stencilWrite;s.setTest(at),at&&(s.setMask(_e.stencilWriteMask),s.setFunc(_e.stencilFunc,_e.stencilRef,_e.stencilFuncMask),s.setOp(_e.stencilFail,_e.stencilZFail,_e.stencilZPass)),de(_e.polygonOffset,_e.polygonOffsetFactor,_e.polygonOffsetUnits),_e.alphaToCoverage===!0?xe(n.SAMPLE_ALPHA_TO_COVERAGE):Te(n.SAMPLE_ALPHA_TO_COVERAGE)}function ve(_e){O!==_e&&(_e?n.frontFace(n.CW):n.frontFace(n.CCW),O=_e)}function oe(_e){_e!==GZ?(xe(n.CULL_FACE),_e!==B&&(_e===M5?n.cullFace(n.BACK):_e===HZ?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Te(n.CULL_FACE),B=_e}function ae(_e){_e!==V&&(H&&n.lineWidth(_e),V=_e)}function de(_e,ht,dt){_e?(xe(n.POLYGON_OFFSET_FILL),(F!==ht||k!==dt)&&(n.polygonOffset(ht,dt),F=ht,k=dt)):Te(n.POLYGON_OFFSET_FILL)}function Ae(_e){_e?xe(n.SCISSOR_TEST):Te(n.SCISSOR_TEST)}function Ce(_e){_e===void 0&&(_e=n.TEXTURE0+Y-1),K!==_e&&(n.activeTexture(_e),K=_e)}function be(_e,ht,dt){dt===void 0&&(K===null?dt=n.TEXTURE0+Y-1:dt=K);let at=re[dt];at===void 0&&(at={type:void 0,texture:void 0},re[dt]=at),(at.type!==_e||at.texture!==ht)&&(K!==dt&&(n.activeTexture(dt),K=dt),n.bindTexture(_e,ht||pe[_e]),at.type=_e,at.texture=ht)}function ie(){const _e=re[K];_e!==void 0&&_e.type!==void 0&&(n.bindTexture(_e.type,null),_e.type=void 0,_e.texture=void 0)}function ee(){try{n.compressedTexImage2D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function me(){try{n.compressedTexImage3D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function Ne(){try{n.texSubImage2D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function qe(){try{n.texSubImage3D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function Ie(){try{n.compressedTexSubImage2D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function Mt(){try{n.compressedTexSubImage3D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function xt(){try{n.texStorage2D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function Ct(){try{n.texStorage3D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function Dt(){try{n.texImage2D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function Je(){try{n.texImage3D(...arguments)}catch(_e){_e("WebGLState:",_e)}}function ut(_e){ne.equals(_e)===!1&&(n.scissor(_e.x,_e.y,_e.z,_e.w),ne.copy(_e))}function kt(_e){se.equals(_e)===!1&&(n.viewport(_e.x,_e.y,_e.z,_e.w),se.copy(_e))}function ye(_e,ht){let dt=u.get(ht);dt===void 0&&(dt=new WeakMap,u.set(ht,dt));let at=dt.get(_e);at===void 0&&(at=n.getUniformBlockIndex(ht,_e.name),dt.set(_e,at))}function Fe(_e,ht){const at=u.get(ht).get(_e);l.get(ht)!==at&&(n.uniformBlockBinding(ht,at,_e.__bindingPointIndex),l.set(ht,at))}function ft(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},K=null,re={},f={},h=new WeakMap,d=[],v=null,g=!1,y=null,x=null,b=null,T=null,M=null,C=null,D=null,R=new Ot(0,0,0),I=0,L=!1,O=null,B=null,V=null,F=null,k=null,ne.set(0,0,n.canvas.width,n.canvas.height),se.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),s.reset()}return{buffers:{color:a,depth:o,stencil:s},enable:xe,disable:Te,bindFramebuffer:Me,drawBuffers:Re,useProgram:Ue,setBlending:X,setMaterial:te,setFlipSided:ve,setCullFace:oe,setLineWidth:ae,setPolygonOffset:de,setScissorTest:Ae,activeTexture:Ce,bindTexture:be,unbindTexture:ie,compressedTexImage2D:ee,compressedTexImage3D:me,texImage2D:Dt,texImage3D:Je,updateUBOMapping:ye,uniformBlockBinding:Fe,texStorage2D:xt,texStorage3D:Ct,texSubImage2D:Ne,texSubImage3D:qe,compressedTexSubImage2D:Ie,compressedTexSubImage3D:Mt,scissor:ut,viewport:kt,reset:ft}}function N1e(n,e,t,r,i,a,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new st,c=new WeakMap;let f;const h=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(ie,ee){return d?new OffscreenCanvas(ie,ee):a2("canvas")}function g(ie,ee,me){let Ne=1;const qe=be(ie);if((qe.width>me||qe.height>me)&&(Ne=me/Math.max(qe.width,qe.height)),Ne<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const Ie=Math.floor(Ne*qe.width),Mt=Math.floor(Ne*qe.height);f===void 0&&(f=v(Ie,Mt));const xt=ee?v(Ie,Mt):f;return xt.width=Ie,xt.height=Mt,xt.getContext("2d").drawImage(ie,0,0,Ie,Mt),It("WebGLRenderer: Texture has been resized from ("+qe.width+"x"+qe.height+") to ("+Ie+"x"+Mt+")."),xt}else return"data"in ie&&It("WebGLRenderer: Image in DataTexture is too big ("+qe.width+"x"+qe.height+")."),ie;return ie}function y(ie){return ie.generateMipmaps}function x(ie){n.generateMipmap(ie)}function b(ie){return ie.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ie.isWebGL3DRenderTarget?n.TEXTURE_3D:ie.isWebGLArrayRenderTarget||ie.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function T(ie,ee,me,Ne,qe=!1){if(ie!==null){if(n[ie]!==void 0)return n[ie];It("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let Ie=ee;if(ee===n.RED&&(me===n.FLOAT&&(Ie=n.R32F),me===n.HALF_FLOAT&&(Ie=n.R16F),me===n.UNSIGNED_BYTE&&(Ie=n.R8)),ee===n.RED_INTEGER&&(me===n.UNSIGNED_BYTE&&(Ie=n.R8UI),me===n.UNSIGNED_SHORT&&(Ie=n.R16UI),me===n.UNSIGNED_INT&&(Ie=n.R32UI),me===n.BYTE&&(Ie=n.R8I),me===n.SHORT&&(Ie=n.R16I),me===n.INT&&(Ie=n.R32I)),ee===n.RG&&(me===n.FLOAT&&(Ie=n.RG32F),me===n.HALF_FLOAT&&(Ie=n.RG16F),me===n.UNSIGNED_BYTE&&(Ie=n.RG8)),ee===n.RG_INTEGER&&(me===n.UNSIGNED_BYTE&&(Ie=n.RG8UI),me===n.UNSIGNED_SHORT&&(Ie=n.RG16UI),me===n.UNSIGNED_INT&&(Ie=n.RG32UI),me===n.BYTE&&(Ie=n.RG8I),me===n.SHORT&&(Ie=n.RG16I),me===n.INT&&(Ie=n.RG32I)),ee===n.RGB_INTEGER&&(me===n.UNSIGNED_BYTE&&(Ie=n.RGB8UI),me===n.UNSIGNED_SHORT&&(Ie=n.RGB16UI),me===n.UNSIGNED_INT&&(Ie=n.RGB32UI),me===n.BYTE&&(Ie=n.RGB8I),me===n.SHORT&&(Ie=n.RGB16I),me===n.INT&&(Ie=n.RGB32I)),ee===n.RGBA_INTEGER&&(me===n.UNSIGNED_BYTE&&(Ie=n.RGBA8UI),me===n.UNSIGNED_SHORT&&(Ie=n.RGBA16UI),me===n.UNSIGNED_INT&&(Ie=n.RGBA32UI),me===n.BYTE&&(Ie=n.RGBA8I),me===n.SHORT&&(Ie=n.RGBA16I),me===n.INT&&(Ie=n.RGBA32I)),ee===n.RGB&&(me===n.UNSIGNED_INT_5_9_9_9_REV&&(Ie=n.RGB9_E5),me===n.UNSIGNED_INT_10F_11F_11F_REV&&(Ie=n.R11F_G11F_B10F)),ee===n.RGBA){const Mt=qe?r2:pr.getTransfer(Ne);me===n.FLOAT&&(Ie=n.RGBA32F),me===n.HALF_FLOAT&&(Ie=n.RGBA16F),me===n.UNSIGNED_BYTE&&(Ie=Mt===Ur?n.SRGB8_ALPHA8:n.RGBA8),me===n.UNSIGNED_SHORT_4_4_4_4&&(Ie=n.RGBA4),me===n.UNSIGNED_SHORT_5_5_5_1&&(Ie=n.RGB5_A1)}return(Ie===n.R16F||Ie===n.R32F||Ie===n.RG16F||Ie===n.RG32F||Ie===n.RGBA16F||Ie===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function M(ie,ee){let me;return ie?ee===null||ee===Uh||ee===yx?me=n.DEPTH24_STENCIL8:ee===Ps?me=n.DEPTH32F_STENCIL8:ee===mx&&(me=n.DEPTH24_STENCIL8,It("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ee===null||ee===Uh||ee===yx?me=n.DEPTH_COMPONENT24:ee===Ps?me=n.DEPTH_COMPONENT32F:ee===mx&&(me=n.DEPTH_COMPONENT16),me}function C(ie,ee){return y(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==ao&&ie.minFilter!==Ji?Math.log2(Math.max(ee.width,ee.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?ee.mipmaps.length:1}function D(ie){const ee=ie.target;ee.removeEventListener("dispose",D),I(ee),ee.isVideoTexture&&c.delete(ee)}function R(ie){const ee=ie.target;ee.removeEventListener("dispose",R),O(ee)}function I(ie){const ee=r.get(ie);if(ee.__webglInit===void 0)return;const me=ie.source,Ne=h.get(me);if(Ne){const qe=Ne[ee.__cacheKey];qe.usedTimes--,qe.usedTimes===0&&L(ie),Object.keys(Ne).length===0&&h.delete(me)}r.remove(ie)}function L(ie){const ee=r.get(ie);n.deleteTexture(ee.__webglTexture);const me=ie.source,Ne=h.get(me);delete Ne[ee.__cacheKey],o.memory.textures--}function O(ie){const ee=r.get(ie);if(ie.depthTexture&&(ie.depthTexture.dispose(),r.remove(ie.depthTexture)),ie.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++){if(Array.isArray(ee.__webglFramebuffer[Ne]))for(let qe=0;qe<ee.__webglFramebuffer[Ne].length;qe++)n.deleteFramebuffer(ee.__webglFramebuffer[Ne][qe]);else n.deleteFramebuffer(ee.__webglFramebuffer[Ne]);ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[Ne])}else{if(Array.isArray(ee.__webglFramebuffer))for(let Ne=0;Ne<ee.__webglFramebuffer.length;Ne++)n.deleteFramebuffer(ee.__webglFramebuffer[Ne]);else n.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let Ne=0;Ne<ee.__webglColorRenderbuffer.length;Ne++)ee.__webglColorRenderbuffer[Ne]&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer[Ne]);ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}const me=ie.textures;for(let Ne=0,qe=me.length;Ne<qe;Ne++){const Ie=r.get(me[Ne]);Ie.__webglTexture&&(n.deleteTexture(Ie.__webglTexture),o.memory.textures--),r.remove(me[Ne])}r.remove(ie)}let B=0;function V(){B=0}function F(){const ie=B;return ie>=i.maxTextures&&It("WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+i.maxTextures),B+=1,ie}function k(ie){const ee=[];return ee.push(ie.wrapS),ee.push(ie.wrapT),ee.push(ie.wrapR||0),ee.push(ie.magFilter),ee.push(ie.minFilter),ee.push(ie.anisotropy),ee.push(ie.internalFormat),ee.push(ie.format),ee.push(ie.type),ee.push(ie.generateMipmaps),ee.push(ie.premultiplyAlpha),ee.push(ie.flipY),ee.push(ie.unpackAlignment),ee.push(ie.colorSpace),ee.join()}function Y(ie,ee){const me=r.get(ie);if(ie.isVideoTexture&&Ae(ie),ie.isRenderTargetTexture===!1&&ie.isExternalTexture!==!0&&ie.version>0&&me.__version!==ie.version){const Ne=ie.image;if(Ne===null)It("WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)It("WebGLRenderer: Texture marked for update but image is incomplete");else{pe(me,ie,ee);return}}else ie.isExternalTexture&&(me.__webglTexture=ie.sourceTexture?ie.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,me.__webglTexture,n.TEXTURE0+ee)}function H(ie,ee){const me=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&me.__version!==ie.version){pe(me,ie,ee);return}else ie.isExternalTexture&&(me.__webglTexture=ie.sourceTexture?ie.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,me.__webglTexture,n.TEXTURE0+ee)}function W(ie,ee){const me=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&me.__version!==ie.version){pe(me,ie,ee);return}t.bindTexture(n.TEXTURE_3D,me.__webglTexture,n.TEXTURE0+ee)}function q(ie,ee){const me=r.get(ie);if(ie.version>0&&me.__version!==ie.version){xe(me,ie,ee);return}t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture,n.TEXTURE0+ee)}const K={[$S]:n.REPEAT,[Os]:n.CLAMP_TO_EDGE,[e2]:n.MIRRORED_REPEAT},re={[ao]:n.NEAREST,[wz]:n.NEAREST_MIPMAP_NEAREST,[Ky]:n.NEAREST_MIPMAP_LINEAR,[Ji]:n.LINEAR,[xS]:n.LINEAR_MIPMAP_NEAREST,[$c]:n.LINEAR_MIPMAP_LINEAR},j={[TK]:n.NEVER,[NK]:n.ALWAYS,[MK]:n.LESS,[Rz]:n.LEQUAL,[AK]:n.EQUAL,[DK]:n.GEQUAL,[CK]:n.GREATER,[EK]:n.NOTEQUAL};function Q(ie,ee){if(ee.type===Ps&&e.has("OES_texture_float_linear")===!1&&(ee.magFilter===Ji||ee.magFilter===xS||ee.magFilter===Ky||ee.magFilter===$c||ee.minFilter===Ji||ee.minFilter===xS||ee.minFilter===Ky||ee.minFilter===$c)&&It("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ie,n.TEXTURE_WRAP_S,K[ee.wrapS]),n.texParameteri(ie,n.TEXTURE_WRAP_T,K[ee.wrapT]),(ie===n.TEXTURE_3D||ie===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ie,n.TEXTURE_WRAP_R,K[ee.wrapR]),n.texParameteri(ie,n.TEXTURE_MAG_FILTER,re[ee.magFilter]),n.texParameteri(ie,n.TEXTURE_MIN_FILTER,re[ee.minFilter]),ee.compareFunction&&(n.texParameteri(ie,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ie,n.TEXTURE_COMPARE_FUNC,j[ee.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ee.magFilter===ao||ee.minFilter!==Ky&&ee.minFilter!==$c||ee.type===Ps&&e.has("OES_texture_float_linear")===!1)return;if(ee.anisotropy>1||r.get(ee).__currentAnisotropy){const me=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ie,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ee.anisotropy,i.getMaxAnisotropy())),r.get(ee).__currentAnisotropy=ee.anisotropy}}}function ne(ie,ee){let me=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,ee.addEventListener("dispose",D));const Ne=ee.source;let qe=h.get(Ne);qe===void 0&&(qe={},h.set(Ne,qe));const Ie=k(ee);if(Ie!==ie.__cacheKey){qe[Ie]===void 0&&(qe[Ie]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,me=!0),qe[Ie].usedTimes++;const Mt=qe[ie.__cacheKey];Mt!==void 0&&(qe[ie.__cacheKey].usedTimes--,Mt.usedTimes===0&&L(ee)),ie.__cacheKey=Ie,ie.__webglTexture=qe[Ie].texture}return me}function se(ie,ee,me){return Math.floor(Math.floor(ie/me)/ee)}function he(ie,ee,me,Ne){const Ie=ie.updateRanges;if(Ie.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,ee.width,ee.height,me,Ne,ee.data);else{Ie.sort((Je,ut)=>Je.start-ut.start);let Mt=0;for(let Je=1;Je<Ie.length;Je++){const ut=Ie[Mt],kt=Ie[Je],ye=ut.start+ut.count,Fe=se(kt.start,ee.width,4),ft=se(ut.start,ee.width,4);kt.start<=ye+1&&Fe===ft&&se(kt.start+kt.count-1,ee.width,4)===Fe?ut.count=Math.max(ut.count,kt.start+kt.count-ut.start):(++Mt,Ie[Mt]=kt)}Ie.length=Mt+1;const xt=n.getParameter(n.UNPACK_ROW_LENGTH),Ct=n.getParameter(n.UNPACK_SKIP_PIXELS),Dt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,ee.width);for(let Je=0,ut=Ie.length;Je<ut;Je++){const kt=Ie[Je],ye=Math.floor(kt.start/4),Fe=Math.ceil(kt.count/4),ft=ye%ee.width,_e=Math.floor(ye/ee.width),ht=Fe,dt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,ft),n.pixelStorei(n.UNPACK_SKIP_ROWS,_e),t.texSubImage2D(n.TEXTURE_2D,0,ft,_e,ht,dt,me,Ne,ee.data)}ie.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,xt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ct),n.pixelStorei(n.UNPACK_SKIP_ROWS,Dt)}}function pe(ie,ee,me){let Ne=n.TEXTURE_2D;(ee.isDataArrayTexture||ee.isCompressedArrayTexture)&&(Ne=n.TEXTURE_2D_ARRAY),ee.isData3DTexture&&(Ne=n.TEXTURE_3D);const qe=ne(ie,ee),Ie=ee.source;t.bindTexture(Ne,ie.__webglTexture,n.TEXTURE0+me);const Mt=r.get(Ie);if(Ie.version!==Mt.__version||qe===!0){t.activeTexture(n.TEXTURE0+me);const xt=pr.getPrimaries(pr.workingColorSpace),Ct=ee.colorSpace===Sh?null:pr.getPrimaries(ee.colorSpace),Dt=ee.colorSpace===Sh||xt===Ct?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ee.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ee.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);let Je=g(ee.image,!1,i.maxTextureSize);Je=Ce(ee,Je);const ut=a.convert(ee.format,ee.colorSpace),kt=a.convert(ee.type);let ye=T(ee.internalFormat,ut,kt,ee.colorSpace,ee.isVideoTexture);Q(Ne,ee);let Fe;const ft=ee.mipmaps,_e=ee.isVideoTexture!==!0,ht=Mt.__version===void 0||qe===!0,dt=Ie.dataReady,at=C(ee,Je);if(ee.isDepthTexture)ye=M(ee.format===_x,ee.type),ht&&(_e?t.texStorage2D(n.TEXTURE_2D,1,ye,Je.width,Je.height):t.texImage2D(n.TEXTURE_2D,0,ye,Je.width,Je.height,0,ut,kt,null));else if(ee.isDataTexture)if(ft.length>0){_e&&ht&&t.texStorage2D(n.TEXTURE_2D,at,ye,ft[0].width,ft[0].height);for(let rt=0,tt=ft.length;rt<tt;rt++)Fe=ft[rt],_e?dt&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,Fe.width,Fe.height,ut,kt,Fe.data):t.texImage2D(n.TEXTURE_2D,rt,ye,Fe.width,Fe.height,0,ut,kt,Fe.data);ee.generateMipmaps=!1}else _e?(ht&&t.texStorage2D(n.TEXTURE_2D,at,ye,Je.width,Je.height),dt&&he(ee,Je,ut,kt)):t.texImage2D(n.TEXTURE_2D,0,ye,Je.width,Je.height,0,ut,kt,Je.data);else if(ee.isCompressedTexture)if(ee.isCompressedArrayTexture){_e&&ht&&t.texStorage3D(n.TEXTURE_2D_ARRAY,at,ye,ft[0].width,ft[0].height,Je.depth);for(let rt=0,tt=ft.length;rt<tt;rt++)if(Fe=ft[rt],ee.format!==Po)if(ut!==null)if(_e){if(dt)if(ee.layerUpdates.size>0){const wt=k5(Fe.width,Fe.height,ee.format,ee.type);for(const Bt of ee.layerUpdates){const hn=Fe.data.subarray(Bt*wt/Fe.data.BYTES_PER_ELEMENT,(Bt+1)*wt/Fe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,Bt,Fe.width,Fe.height,1,ut,hn)}ee.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,0,Fe.width,Fe.height,Je.depth,ut,Fe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,rt,ye,Fe.width,Fe.height,Je.depth,0,Fe.data,0,0);else It("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else _e?dt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,rt,0,0,0,Fe.width,Fe.height,Je.depth,ut,kt,Fe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,rt,ye,Fe.width,Fe.height,Je.depth,0,ut,kt,Fe.data)}else{_e&&ht&&t.texStorage2D(n.TEXTURE_2D,at,ye,ft[0].width,ft[0].height);for(let rt=0,tt=ft.length;rt<tt;rt++)Fe=ft[rt],ee.format!==Po?ut!==null?_e?dt&&t.compressedTexSubImage2D(n.TEXTURE_2D,rt,0,0,Fe.width,Fe.height,ut,Fe.data):t.compressedTexImage2D(n.TEXTURE_2D,rt,ye,Fe.width,Fe.height,0,Fe.data):It("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):_e?dt&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,Fe.width,Fe.height,ut,kt,Fe.data):t.texImage2D(n.TEXTURE_2D,rt,ye,Fe.width,Fe.height,0,ut,kt,Fe.data)}else if(ee.isDataArrayTexture)if(_e){if(ht&&t.texStorage3D(n.TEXTURE_2D_ARRAY,at,ye,Je.width,Je.height,Je.depth),dt)if(ee.layerUpdates.size>0){const rt=k5(Je.width,Je.height,ee.format,ee.type);for(const tt of ee.layerUpdates){const wt=Je.data.subarray(tt*rt/Je.data.BYTES_PER_ELEMENT,(tt+1)*rt/Je.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,tt,Je.width,Je.height,1,ut,kt,wt)}ee.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Je.width,Je.height,Je.depth,ut,kt,Je.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ye,Je.width,Je.height,Je.depth,0,ut,kt,Je.data);else if(ee.isData3DTexture)_e?(ht&&t.texStorage3D(n.TEXTURE_3D,at,ye,Je.width,Je.height,Je.depth),dt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Je.width,Je.height,Je.depth,ut,kt,Je.data)):t.texImage3D(n.TEXTURE_3D,0,ye,Je.width,Je.height,Je.depth,0,ut,kt,Je.data);else if(ee.isFramebufferTexture){if(ht)if(_e)t.texStorage2D(n.TEXTURE_2D,at,ye,Je.width,Je.height);else{let rt=Je.width,tt=Je.height;for(let wt=0;wt<at;wt++)t.texImage2D(n.TEXTURE_2D,wt,ye,rt,tt,0,ut,kt,null),rt>>=1,tt>>=1}}else if(ft.length>0){if(_e&&ht){const rt=be(ft[0]);t.texStorage2D(n.TEXTURE_2D,at,ye,rt.width,rt.height)}for(let rt=0,tt=ft.length;rt<tt;rt++)Fe=ft[rt],_e?dt&&t.texSubImage2D(n.TEXTURE_2D,rt,0,0,ut,kt,Fe):t.texImage2D(n.TEXTURE_2D,rt,ye,ut,kt,Fe);ee.generateMipmaps=!1}else if(_e){if(ht){const rt=be(Je);t.texStorage2D(n.TEXTURE_2D,at,ye,rt.width,rt.height)}dt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ut,kt,Je)}else t.texImage2D(n.TEXTURE_2D,0,ye,ut,kt,Je);y(ee)&&x(Ne),Mt.__version=Ie.version,ee.onUpdate&&ee.onUpdate(ee)}ie.__version=ee.version}function xe(ie,ee,me){if(ee.image.length!==6)return;const Ne=ne(ie,ee),qe=ee.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ie.__webglTexture,n.TEXTURE0+me);const Ie=r.get(qe);if(qe.version!==Ie.__version||Ne===!0){t.activeTexture(n.TEXTURE0+me);const Mt=pr.getPrimaries(pr.workingColorSpace),xt=ee.colorSpace===Sh?null:pr.getPrimaries(ee.colorSpace),Ct=ee.colorSpace===Sh||Mt===xt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ee.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ee.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ct);const Dt=ee.isCompressedTexture||ee.image[0].isCompressedTexture,Je=ee.image[0]&&ee.image[0].isDataTexture,ut=[];for(let tt=0;tt<6;tt++)!Dt&&!Je?ut[tt]=g(ee.image[tt],!0,i.maxCubemapSize):ut[tt]=Je?ee.image[tt].image:ee.image[tt],ut[tt]=Ce(ee,ut[tt]);const kt=ut[0],ye=a.convert(ee.format,ee.colorSpace),Fe=a.convert(ee.type),ft=T(ee.internalFormat,ye,Fe,ee.colorSpace),_e=ee.isVideoTexture!==!0,ht=Ie.__version===void 0||Ne===!0,dt=qe.dataReady;let at=C(ee,kt);Q(n.TEXTURE_CUBE_MAP,ee);let rt;if(Dt){_e&&ht&&t.texStorage2D(n.TEXTURE_CUBE_MAP,at,ft,kt.width,kt.height);for(let tt=0;tt<6;tt++){rt=ut[tt].mipmaps;for(let wt=0;wt<rt.length;wt++){const Bt=rt[wt];ee.format!==Po?ye!==null?_e?dt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,wt,0,0,Bt.width,Bt.height,ye,Bt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,wt,ft,Bt.width,Bt.height,0,Bt.data):It("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_e?dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,wt,0,0,Bt.width,Bt.height,ye,Fe,Bt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,wt,ft,Bt.width,Bt.height,0,ye,Fe,Bt.data)}}}else{if(rt=ee.mipmaps,_e&&ht){rt.length>0&&at++;const tt=be(ut[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,at,ft,tt.width,tt.height)}for(let tt=0;tt<6;tt++)if(Je){_e?dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,ut[tt].width,ut[tt].height,ye,Fe,ut[tt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,ft,ut[tt].width,ut[tt].height,0,ye,Fe,ut[tt].data);for(let wt=0;wt<rt.length;wt++){const hn=rt[wt].image[tt].image;_e?dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,wt+1,0,0,hn.width,hn.height,ye,Fe,hn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,wt+1,ft,hn.width,hn.height,0,ye,Fe,hn.data)}}else{_e?dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,ye,Fe,ut[tt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,ft,ye,Fe,ut[tt]);for(let wt=0;wt<rt.length;wt++){const Bt=rt[wt];_e?dt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,wt+1,0,0,ye,Fe,Bt.image[tt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,wt+1,ft,ye,Fe,Bt.image[tt])}}}y(ee)&&x(n.TEXTURE_CUBE_MAP),Ie.__version=qe.version,ee.onUpdate&&ee.onUpdate(ee)}ie.__version=ee.version}function Te(ie,ee,me,Ne,qe,Ie){const Mt=a.convert(me.format,me.colorSpace),xt=a.convert(me.type),Ct=T(me.internalFormat,Mt,xt,me.colorSpace),Dt=r.get(ee),Je=r.get(me);if(Je.__renderTarget=ee,!Dt.__hasExternalTextures){const ut=Math.max(1,ee.width>>Ie),kt=Math.max(1,ee.height>>Ie);qe===n.TEXTURE_3D||qe===n.TEXTURE_2D_ARRAY?t.texImage3D(qe,Ie,Ct,ut,kt,ee.depth,0,Mt,xt,null):t.texImage2D(qe,Ie,Ct,ut,kt,0,Mt,xt,null)}t.bindFramebuffer(n.FRAMEBUFFER,ie),de(ee)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ne,qe,Je.__webglTexture,0,ae(ee)):(qe===n.TEXTURE_2D||qe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&qe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ne,qe,Je.__webglTexture,Ie),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Me(ie,ee,me){if(n.bindRenderbuffer(n.RENDERBUFFER,ie),ee.depthBuffer){const Ne=ee.depthTexture,qe=Ne&&Ne.isDepthTexture?Ne.type:null,Ie=M(ee.stencilBuffer,qe),Mt=ee.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,xt=ae(ee);de(ee)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,xt,Ie,ee.width,ee.height):me?n.renderbufferStorageMultisample(n.RENDERBUFFER,xt,Ie,ee.width,ee.height):n.renderbufferStorage(n.RENDERBUFFER,Ie,ee.width,ee.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Mt,n.RENDERBUFFER,ie)}else{const Ne=ee.textures;for(let qe=0;qe<Ne.length;qe++){const Ie=Ne[qe],Mt=a.convert(Ie.format,Ie.colorSpace),xt=a.convert(Ie.type),Ct=T(Ie.internalFormat,Mt,xt,Ie.colorSpace),Dt=ae(ee);me&&de(ee)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Dt,Ct,ee.width,ee.height):de(ee)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Dt,Ct,ee.width,ee.height):n.renderbufferStorage(n.RENDERBUFFER,Ct,ee.width,ee.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Re(ie,ee){if(ee&&ee.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ie),!(ee.depthTexture&&ee.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ne=r.get(ee.depthTexture);Ne.__renderTarget=ee,(!Ne.__webglTexture||ee.depthTexture.image.width!==ee.width||ee.depthTexture.image.height!==ee.height)&&(ee.depthTexture.image.width=ee.width,ee.depthTexture.image.height=ee.height,ee.depthTexture.needsUpdate=!0),Y(ee.depthTexture,0);const qe=Ne.__webglTexture,Ie=ae(ee);if(ee.depthTexture.format===xx)de(ee)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,qe,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,qe,0);else if(ee.depthTexture.format===_x)de(ee)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,qe,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,qe,0);else throw new Error("Unknown depthTexture format")}function Ue(ie){const ee=r.get(ie),me=ie.isWebGLCubeRenderTarget===!0;if(ee.__boundDepthTexture!==ie.depthTexture){const Ne=ie.depthTexture;if(ee.__depthDisposeCallback&&ee.__depthDisposeCallback(),Ne){const qe=()=>{delete ee.__boundDepthTexture,delete ee.__depthDisposeCallback,Ne.removeEventListener("dispose",qe)};Ne.addEventListener("dispose",qe),ee.__depthDisposeCallback=qe}ee.__boundDepthTexture=Ne}if(ie.depthTexture&&!ee.__autoAllocateDepthBuffer){if(me)throw new Error("target.depthTexture not supported in Cube render targets");const Ne=ie.texture.mipmaps;Ne&&Ne.length>0?Re(ee.__webglFramebuffer[0],ie):Re(ee.__webglFramebuffer,ie)}else if(me){ee.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)if(t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer[Ne]),ee.__webglDepthbuffer[Ne]===void 0)ee.__webglDepthbuffer[Ne]=n.createRenderbuffer(),Me(ee.__webglDepthbuffer[Ne],ie,!1);else{const qe=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=ee.__webglDepthbuffer[Ne];n.bindRenderbuffer(n.RENDERBUFFER,Ie),n.framebufferRenderbuffer(n.FRAMEBUFFER,qe,n.RENDERBUFFER,Ie)}}else{const Ne=ie.texture.mipmaps;if(Ne&&Ne.length>0?t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer),ee.__webglDepthbuffer===void 0)ee.__webglDepthbuffer=n.createRenderbuffer(),Me(ee.__webglDepthbuffer,ie,!1);else{const qe=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=ee.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ie),n.framebufferRenderbuffer(n.FRAMEBUFFER,qe,n.RENDERBUFFER,Ie)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function et(ie,ee,me){const Ne=r.get(ie);ee!==void 0&&Te(Ne.__webglFramebuffer,ie,ie.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),me!==void 0&&Ue(ie)}function ct(ie){const ee=ie.texture,me=r.get(ie),Ne=r.get(ee);ie.addEventListener("dispose",R);const qe=ie.textures,Ie=ie.isWebGLCubeRenderTarget===!0,Mt=qe.length>1;if(Mt||(Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture()),Ne.__version=ee.version,o.memory.textures++),Ie){me.__webglFramebuffer=[];for(let xt=0;xt<6;xt++)if(ee.mipmaps&&ee.mipmaps.length>0){me.__webglFramebuffer[xt]=[];for(let Ct=0;Ct<ee.mipmaps.length;Ct++)me.__webglFramebuffer[xt][Ct]=n.createFramebuffer()}else me.__webglFramebuffer[xt]=n.createFramebuffer()}else{if(ee.mipmaps&&ee.mipmaps.length>0){me.__webglFramebuffer=[];for(let xt=0;xt<ee.mipmaps.length;xt++)me.__webglFramebuffer[xt]=n.createFramebuffer()}else me.__webglFramebuffer=n.createFramebuffer();if(Mt)for(let xt=0,Ct=qe.length;xt<Ct;xt++){const Dt=r.get(qe[xt]);Dt.__webglTexture===void 0&&(Dt.__webglTexture=n.createTexture(),o.memory.textures++)}if(ie.samples>0&&de(ie)===!1){me.__webglMultisampledFramebuffer=n.createFramebuffer(),me.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,me.__webglMultisampledFramebuffer);for(let xt=0;xt<qe.length;xt++){const Ct=qe[xt];me.__webglColorRenderbuffer[xt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,me.__webglColorRenderbuffer[xt]);const Dt=a.convert(Ct.format,Ct.colorSpace),Je=a.convert(Ct.type),ut=T(Ct.internalFormat,Dt,Je,Ct.colorSpace,ie.isXRRenderTarget===!0),kt=ae(ie);n.renderbufferStorageMultisample(n.RENDERBUFFER,kt,ut,ie.width,ie.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+xt,n.RENDERBUFFER,me.__webglColorRenderbuffer[xt])}n.bindRenderbuffer(n.RENDERBUFFER,null),ie.depthBuffer&&(me.__webglDepthRenderbuffer=n.createRenderbuffer(),Me(me.__webglDepthRenderbuffer,ie,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ie){t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture),Q(n.TEXTURE_CUBE_MAP,ee);for(let xt=0;xt<6;xt++)if(ee.mipmaps&&ee.mipmaps.length>0)for(let Ct=0;Ct<ee.mipmaps.length;Ct++)Te(me.__webglFramebuffer[xt][Ct],ie,ee,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+xt,Ct);else Te(me.__webglFramebuffer[xt],ie,ee,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+xt,0);y(ee)&&x(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Mt){for(let xt=0,Ct=qe.length;xt<Ct;xt++){const Dt=qe[xt],Je=r.get(Dt);let ut=n.TEXTURE_2D;(ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(ut=ie.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ut,Je.__webglTexture),Q(ut,Dt),Te(me.__webglFramebuffer,ie,Dt,n.COLOR_ATTACHMENT0+xt,ut,0),y(Dt)&&x(ut)}t.unbindTexture()}else{let xt=n.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(xt=ie.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(xt,Ne.__webglTexture),Q(xt,ee),ee.mipmaps&&ee.mipmaps.length>0)for(let Ct=0;Ct<ee.mipmaps.length;Ct++)Te(me.__webglFramebuffer[Ct],ie,ee,n.COLOR_ATTACHMENT0,xt,Ct);else Te(me.__webglFramebuffer,ie,ee,n.COLOR_ATTACHMENT0,xt,0);y(ee)&&x(xt),t.unbindTexture()}ie.depthBuffer&&Ue(ie)}function X(ie){const ee=ie.textures;for(let me=0,Ne=ee.length;me<Ne;me++){const qe=ee[me];if(y(qe)){const Ie=b(ie),Mt=r.get(qe).__webglTexture;t.bindTexture(Ie,Mt),x(Ie),t.unbindTexture()}}}const te=[],ve=[];function oe(ie){if(ie.samples>0){if(de(ie)===!1){const ee=ie.textures,me=ie.width,Ne=ie.height;let qe=n.COLOR_BUFFER_BIT;const Ie=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Mt=r.get(ie),xt=ee.length>1;if(xt)for(let Dt=0;Dt<ee.length;Dt++)t.bindFramebuffer(n.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Mt.__webglMultisampledFramebuffer);const Ct=ie.texture.mipmaps;Ct&&Ct.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Mt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Mt.__webglFramebuffer);for(let Dt=0;Dt<ee.length;Dt++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(qe|=n.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(qe|=n.STENCIL_BUFFER_BIT)),xt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Mt.__webglColorRenderbuffer[Dt]);const Je=r.get(ee[Dt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Je,0)}n.blitFramebuffer(0,0,me,Ne,0,0,me,Ne,qe,n.NEAREST),l===!0&&(te.length=0,ve.length=0,te.push(n.COLOR_ATTACHMENT0+Dt),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(te.push(Ie),ve.push(Ie),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ve)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,te))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),xt)for(let Dt=0;Dt<ee.length;Dt++){t.bindFramebuffer(n.FRAMEBUFFER,Mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.RENDERBUFFER,Mt.__webglColorRenderbuffer[Dt]);const Je=r.get(ee[Dt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Dt,n.TEXTURE_2D,Je,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Mt.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const ee=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ee])}}}function ae(ie){return Math.min(i.maxSamples,ie.samples)}function de(ie){const ee=r.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ee.__useRenderToTexture!==!1}function Ae(ie){const ee=o.render.frame;c.get(ie)!==ee&&(c.set(ie,ee),ie.update())}function Ce(ie,ee){const me=ie.colorSpace,Ne=ie.format,qe=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||me!==Dp&&me!==Sh&&(pr.getTransfer(me)===Ur?(Ne!==Po||qe!==$l)&&It("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):En("WebGLTextures: Unsupported texture color space:",me)),ee}function be(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(u.width=ie.naturalWidth||ie.width,u.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(u.width=ie.displayWidth,u.height=ie.displayHeight):(u.width=ie.width,u.height=ie.height),u}this.allocateTextureUnit=F,this.resetTextureUnits=V,this.setTexture2D=Y,this.setTexture2DArray=H,this.setTexture3D=W,this.setTextureCube=q,this.rebindTextures=et,this.setupRenderTarget=ct,this.updateRenderTargetMipmap=X,this.updateMultisampleRenderTarget=oe,this.setupDepthRenderbuffer=Ue,this.setupFrameBufferTexture=Te,this.useMultisampledRTT=de}function FJ(n,e){function t(r,i=Sh){let a;const o=pr.getTransfer(i);if(r===$l)return n.UNSIGNED_BYTE;if(r===yD)return n.UNSIGNED_SHORT_4_4_4_4;if(r===xD)return n.UNSIGNED_SHORT_5_5_5_1;if(r===Az)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===Cz)return n.UNSIGNED_INT_10F_11F_11F_REV;if(r===Tz)return n.BYTE;if(r===Mz)return n.SHORT;if(r===mx)return n.UNSIGNED_SHORT;if(r===mD)return n.INT;if(r===Uh)return n.UNSIGNED_INT;if(r===Ps)return n.FLOAT;if(r===Mm)return n.HALF_FLOAT;if(r===Ez)return n.ALPHA;if(r===Dz)return n.RGB;if(r===Po)return n.RGBA;if(r===xx)return n.DEPTH_COMPONENT;if(r===_x)return n.DEPTH_STENCIL;if(r===_D)return n.RED;if(r===iw)return n.RED_INTEGER;if(r===bD)return n.RG;if(r===SD)return n.RG_INTEGER;if(r===wD)return n.RGBA_INTEGER;if(r===_S||r===bS||r===SS||r===wS)if(o===Ur)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===_S)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===bS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===SS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===wS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===_S)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===bS)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===SS)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===wS)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===uE||r===cE||r===fE||r===hE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===uE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===cE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===fE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===hE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===dE||r===pE||r===vE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===dE||r===pE)return o===Ur?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===vE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===gE||r===mE||r===yE||r===xE||r===_E||r===bE||r===SE||r===wE||r===TE||r===ME||r===AE||r===CE||r===EE||r===DE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===gE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===mE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===yE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===xE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===_E)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===bE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===SE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===wE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===TE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===ME)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===AE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===CE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===EE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===DE)return o===Ur?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===NE||r===RE||r===LE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===NE)return o===Ur?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===RE)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===LE)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===IE||r===OE||r===PE||r===zE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===IE)return a.COMPRESSED_RED_RGTC1_EXT;if(r===OE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===PE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===zE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===yx?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const R1e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,L1e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class I1e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new Fz(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new dl({vertexShader:R1e,fragmentShader:L1e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ca(new n_(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class O1e extends _f{constructor(e,t){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,u=null,c=null,f=null,h=null,d=null,v=null;const g=typeof XRWebGLBinding<"u",y=new I1e,x={},b=t.getContextAttributes();let T=null,M=null;const C=[],D=[],R=new st;let I=null;const L=new Ki;L.viewport=new xr;const O=new Ki;O.viewport=new xr;const B=[L,O],V=new NJ;let F=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(pe){let xe=C[pe];return xe===void 0&&(xe=new yC,C[pe]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(pe){let xe=C[pe];return xe===void 0&&(xe=new yC,C[pe]=xe),xe.getGripSpace()},this.getHand=function(pe){let xe=C[pe];return xe===void 0&&(xe=new yC,C[pe]=xe),xe.getHandSpace()};function Y(pe){const xe=D.indexOf(pe.inputSource);if(xe===-1)return;const Te=C[xe];Te!==void 0&&(Te.update(pe.inputSource,pe.frame,u||o),Te.dispatchEvent({type:pe.type,data:pe.inputSource}))}function H(){i.removeEventListener("select",Y),i.removeEventListener("selectstart",Y),i.removeEventListener("selectend",Y),i.removeEventListener("squeeze",Y),i.removeEventListener("squeezestart",Y),i.removeEventListener("squeezeend",Y),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",W);for(let pe=0;pe<C.length;pe++){const xe=D[pe];xe!==null&&(D[pe]=null,C[pe].disconnect(xe))}F=null,k=null,y.reset();for(const pe in x)delete x[pe];e.setRenderTarget(T),d=null,h=null,f=null,i=null,M=null,he.stop(),r.isPresenting=!1,e.setPixelRatio(I),e.setSize(R.width,R.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(pe){a=pe,r.isPresenting===!0&&It("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(pe){s=pe,r.isPresenting===!0&&It("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(pe){u=pe},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f===null&&g&&(f=new XRWebGLBinding(i,t)),f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(pe){if(i=pe,i!==null){if(T=e.getRenderTarget(),i.addEventListener("select",Y),i.addEventListener("selectstart",Y),i.addEventListener("selectend",Y),i.addEventListener("squeeze",Y),i.addEventListener("squeezestart",Y),i.addEventListener("squeezeend",Y),i.addEventListener("end",H),i.addEventListener("inputsourceschange",W),b.xrCompatible!==!0&&await t.makeXRCompatible(),I=e.getPixelRatio(),e.getSize(R),g&&"createProjectionLayer"in XRWebGLBinding.prototype){let Te=null,Me=null,Re=null;b.depth&&(Re=b.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Te=b.stencil?_x:xx,Me=b.stencil?yx:Uh);const Ue={colorFormat:t.RGBA8,depthFormat:Re,scaleFactor:a};f=this.getBinding(),h=f.createProjectionLayer(Ue),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),M=new df(h.textureWidth,h.textureHeight,{format:Po,type:$l,depthTexture:new Vz(h.textureWidth,h.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,Te),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const Te={antialias:b.antialias,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:a};d=new XRWebGLLayer(i,t,Te),i.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),M=new df(d.framebufferWidth,d.framebufferHeight,{format:Po,type:$l,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(s),he.setContext(i),he.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function W(pe){for(let xe=0;xe<pe.removed.length;xe++){const Te=pe.removed[xe],Me=D.indexOf(Te);Me>=0&&(D[Me]=null,C[Me].disconnect(Te))}for(let xe=0;xe<pe.added.length;xe++){const Te=pe.added[xe];let Me=D.indexOf(Te);if(Me===-1){for(let Ue=0;Ue<C.length;Ue++)if(Ue>=D.length){D.push(Te),Me=Ue;break}else if(D[Ue]===null){D[Ue]=Te,Me=Ue;break}if(Me===-1)break}const Re=C[Me];Re&&Re.connect(Te)}}const q=new ge,K=new ge;function re(pe,xe,Te){q.setFromMatrixPosition(xe.matrixWorld),K.setFromMatrixPosition(Te.matrixWorld);const Me=q.distanceTo(K),Re=xe.projectionMatrix.elements,Ue=Te.projectionMatrix.elements,et=Re[14]/(Re[10]-1),ct=Re[14]/(Re[10]+1),X=(Re[9]+1)/Re[5],te=(Re[9]-1)/Re[5],ve=(Re[8]-1)/Re[0],oe=(Ue[8]+1)/Ue[0],ae=et*ve,de=et*oe,Ae=Me/(-ve+oe),Ce=Ae*-ve;if(xe.matrixWorld.decompose(pe.position,pe.quaternion,pe.scale),pe.translateX(Ce),pe.translateZ(Ae),pe.matrixWorld.compose(pe.position,pe.quaternion,pe.scale),pe.matrixWorldInverse.copy(pe.matrixWorld).invert(),Re[10]===-1)pe.projectionMatrix.copy(xe.projectionMatrix),pe.projectionMatrixInverse.copy(xe.projectionMatrixInverse);else{const be=et+Ae,ie=ct+Ae,ee=ae-Ce,me=de+(Me-Ce),Ne=X*ct/ie*be,qe=te*ct/ie*be;pe.projectionMatrix.makePerspective(ee,me,Ne,qe,be,ie),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert()}}function j(pe,xe){xe===null?pe.matrixWorld.copy(pe.matrix):pe.matrixWorld.multiplyMatrices(xe.matrixWorld,pe.matrix),pe.matrixWorldInverse.copy(pe.matrixWorld).invert()}this.updateCamera=function(pe){if(i===null)return;let xe=pe.near,Te=pe.far;y.texture!==null&&(y.depthNear>0&&(xe=y.depthNear),y.depthFar>0&&(Te=y.depthFar)),V.near=O.near=L.near=xe,V.far=O.far=L.far=Te,(F!==V.near||k!==V.far)&&(i.updateRenderState({depthNear:V.near,depthFar:V.far}),F=V.near,k=V.far),V.layers.mask=pe.layers.mask|6,L.layers.mask=V.layers.mask&3,O.layers.mask=V.layers.mask&5;const Me=pe.parent,Re=V.cameras;j(V,Me);for(let Ue=0;Ue<Re.length;Ue++)j(Re[Ue],Me);Re.length===2?re(V,L,O):V.projectionMatrix.copy(L.projectionMatrix),Q(pe,V,Me)};function Q(pe,xe,Te){Te===null?pe.matrix.copy(xe.matrixWorld):(pe.matrix.copy(Te.matrixWorld),pe.matrix.invert(),pe.matrix.multiply(xe.matrixWorld)),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.updateMatrixWorld(!0),pe.projectionMatrix.copy(xe.projectionMatrix),pe.projectionMatrixInverse.copy(xe.projectionMatrixInverse),pe.isPerspectiveCamera&&(pe.fov=Tx*2*Math.atan(1/pe.projectionMatrix.elements[5]),pe.zoom=1)}this.getCamera=function(){return V},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(pe){l=pe,h!==null&&(h.fixedFoveation=pe),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=pe)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(V)},this.getCameraTexture=function(pe){return x[pe]};let ne=null;function se(pe,xe){if(c=xe.getViewerPose(u||o),v=xe,c!==null){const Te=c.views;d!==null&&(e.setRenderTargetFramebuffer(M,d.framebuffer),e.setRenderTarget(M));let Me=!1;Te.length!==V.cameras.length&&(V.cameras.length=0,Me=!0);for(let ct=0;ct<Te.length;ct++){const X=Te[ct];let te=null;if(d!==null)te=d.getViewport(X);else{const oe=f.getViewSubImage(h,X);te=oe.viewport,ct===0&&(e.setRenderTargetTextures(M,oe.colorTexture,oe.depthStencilTexture),e.setRenderTarget(M))}let ve=B[ct];ve===void 0&&(ve=new Ki,ve.layers.enable(ct),ve.viewport=new xr,B[ct]=ve),ve.matrix.fromArray(X.transform.matrix),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.projectionMatrix.fromArray(X.projectionMatrix),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert(),ve.viewport.set(te.x,te.y,te.width,te.height),ct===0&&(V.matrix.copy(ve.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale)),Me===!0&&V.cameras.push(ve)}const Re=i.enabledFeatures;if(Re&&Re.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&g){f=r.getBinding();const ct=f.getDepthInformation(Te[0]);ct&&ct.isValid&&ct.texture&&y.init(ct,i.renderState)}if(Re&&Re.includes("camera-access")&&g){e.state.unbindTexture(),f=r.getBinding();for(let ct=0;ct<Te.length;ct++){const X=Te[ct].camera;if(X){let te=x[X];te||(te=new Fz,x[X]=te);const ve=f.getCameraImage(X);te.sourceTexture=ve}}}}for(let Te=0;Te<C.length;Te++){const Me=D[Te],Re=C[Te];Me!==null&&Re!==void 0&&Re.update(Me,xe,u||o)}ne&&ne(pe,xe),xe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:xe}),v=null}const he=new zJ;he.setAnimationLoop(se),this.setAnimationLoop=function(pe){ne=pe},this.dispose=function(){}}}const eg=new hl,P1e=new An;function z1e(n,e){function t(y,x){y.matrixAutoUpdate===!0&&y.updateMatrix(),x.value.copy(y.matrix)}function r(y,x){x.color.getRGB(y.fogColor.value,PK(n)),x.isFog?(y.fogNear.value=x.near,y.fogFar.value=x.far):x.isFogExp2&&(y.fogDensity.value=x.density)}function i(y,x,b,T,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?a(y,x):x.isMeshToonMaterial?(a(y,x),f(y,x)):x.isMeshPhongMaterial?(a(y,x),c(y,x)):x.isMeshStandardMaterial?(a(y,x),h(y,x),x.isMeshPhysicalMaterial&&d(y,x,M)):x.isMeshMatcapMaterial?(a(y,x),v(y,x)):x.isMeshDepthMaterial?a(y,x):x.isMeshDistanceMaterial?(a(y,x),g(y,x)):x.isMeshNormalMaterial?a(y,x):x.isLineBasicMaterial?(o(y,x),x.isLineDashedMaterial&&s(y,x)):x.isPointsMaterial?l(y,x,b,T):x.isSpriteMaterial?u(y,x):x.isShadowMaterial?(y.color.value.copy(x.color),y.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function a(y,x){y.opacity.value=x.opacity,x.color&&y.diffuse.value.copy(x.color),x.emissive&&y.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(y.map.value=x.map,t(x.map,y.mapTransform)),x.alphaMap&&(y.alphaMap.value=x.alphaMap,t(x.alphaMap,y.alphaMapTransform)),x.bumpMap&&(y.bumpMap.value=x.bumpMap,t(x.bumpMap,y.bumpMapTransform),y.bumpScale.value=x.bumpScale,x.side===fs&&(y.bumpScale.value*=-1)),x.normalMap&&(y.normalMap.value=x.normalMap,t(x.normalMap,y.normalMapTransform),y.normalScale.value.copy(x.normalScale),x.side===fs&&y.normalScale.value.negate()),x.displacementMap&&(y.displacementMap.value=x.displacementMap,t(x.displacementMap,y.displacementMapTransform),y.displacementScale.value=x.displacementScale,y.displacementBias.value=x.displacementBias),x.emissiveMap&&(y.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,y.emissiveMapTransform)),x.specularMap&&(y.specularMap.value=x.specularMap,t(x.specularMap,y.specularMapTransform)),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest);const b=e.get(x),T=b.envMap,M=b.envMapRotation;T&&(y.envMap.value=T,eg.copy(M),eg.x*=-1,eg.y*=-1,eg.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(eg.y*=-1,eg.z*=-1),y.envMapRotation.value.setFromMatrix4(P1e.makeRotationFromEuler(eg)),y.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=x.reflectivity,y.ior.value=x.ior,y.refractionRatio.value=x.refractionRatio),x.lightMap&&(y.lightMap.value=x.lightMap,y.lightMapIntensity.value=x.lightMapIntensity,t(x.lightMap,y.lightMapTransform)),x.aoMap&&(y.aoMap.value=x.aoMap,y.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,y.aoMapTransform))}function o(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,x.map&&(y.map.value=x.map,t(x.map,y.mapTransform))}function s(y,x){y.dashSize.value=x.dashSize,y.totalSize.value=x.dashSize+x.gapSize,y.scale.value=x.scale}function l(y,x,b,T){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.size.value=x.size*b,y.scale.value=T*.5,x.map&&(y.map.value=x.map,t(x.map,y.uvTransform)),x.alphaMap&&(y.alphaMap.value=x.alphaMap,t(x.alphaMap,y.alphaMapTransform)),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest)}function u(y,x){y.diffuse.value.copy(x.color),y.opacity.value=x.opacity,y.rotation.value=x.rotation,x.map&&(y.map.value=x.map,t(x.map,y.mapTransform)),x.alphaMap&&(y.alphaMap.value=x.alphaMap,t(x.alphaMap,y.alphaMapTransform)),x.alphaTest>0&&(y.alphaTest.value=x.alphaTest)}function c(y,x){y.specular.value.copy(x.specular),y.shininess.value=Math.max(x.shininess,1e-4)}function f(y,x){x.gradientMap&&(y.gradientMap.value=x.gradientMap)}function h(y,x){y.metalness.value=x.metalness,x.metalnessMap&&(y.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,y.metalnessMapTransform)),y.roughness.value=x.roughness,x.roughnessMap&&(y.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,y.roughnessMapTransform)),x.envMap&&(y.envMapIntensity.value=x.envMapIntensity)}function d(y,x,b){y.ior.value=x.ior,x.sheen>0&&(y.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),y.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(y.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,y.sheenColorMapTransform)),x.sheenRoughnessMap&&(y.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,y.sheenRoughnessMapTransform))),x.clearcoat>0&&(y.clearcoat.value=x.clearcoat,y.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(y.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,y.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(y.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===fs&&y.clearcoatNormalScale.value.negate())),x.dispersion>0&&(y.dispersion.value=x.dispersion),x.iridescence>0&&(y.iridescence.value=x.iridescence,y.iridescenceIOR.value=x.iridescenceIOR,y.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(y.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,y.iridescenceMapTransform)),x.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),x.transmission>0&&(y.transmission.value=x.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),x.transmissionMap&&(y.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,y.transmissionMapTransform)),y.thickness.value=x.thickness,x.thicknessMap&&(y.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=x.attenuationDistance,y.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(y.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(y.anisotropyMap.value=x.anisotropyMap,t(x.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=x.specularIntensity,y.specularColor.value.copy(x.specularColor),x.specularColorMap&&(y.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,y.specularColorMapTransform)),x.specularIntensityMap&&(y.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,x){x.matcap&&(y.matcap.value=x.matcap)}function g(y,x){const b=e.get(x).light;y.referencePosition.value.setFromMatrixPosition(b.matrixWorld),y.nearDistance.value=b.shadow.camera.near,y.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function k1e(n,e,t,r){let i={},a={},o=[];const s=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(b,T){const M=T.program;r.uniformBlockBinding(b,M)}function u(b,T){let M=i[b.id];M===void 0&&(v(b),M=c(b),i[b.id]=M,b.addEventListener("dispose",y));const C=T.program;r.updateUBOMapping(b,C);const D=e.render.frame;a[b.id]!==D&&(h(b),a[b.id]=D)}function c(b){const T=f();b.__bindingPointIndex=T;const M=n.createBuffer(),C=b.__size,D=b.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,C,D),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,T,M),M}function f(){for(let b=0;b<s;b++)if(o.indexOf(b)===-1)return o.push(b),b;return En("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(b){const T=i[b.id],M=b.uniforms,C=b.__cache;n.bindBuffer(n.UNIFORM_BUFFER,T);for(let D=0,R=M.length;D<R;D++){const I=Array.isArray(M[D])?M[D]:[M[D]];for(let L=0,O=I.length;L<O;L++){const B=I[L];if(d(B,D,L,C)===!0){const V=B.__offset,F=Array.isArray(B.value)?B.value:[B.value];let k=0;for(let Y=0;Y<F.length;Y++){const H=F[Y],W=g(H);typeof H=="number"||typeof H=="boolean"?(B.__data[0]=H,n.bufferSubData(n.UNIFORM_BUFFER,V+k,B.__data)):H.isMatrix3?(B.__data[0]=H.elements[0],B.__data[1]=H.elements[1],B.__data[2]=H.elements[2],B.__data[3]=0,B.__data[4]=H.elements[3],B.__data[5]=H.elements[4],B.__data[6]=H.elements[5],B.__data[7]=0,B.__data[8]=H.elements[6],B.__data[9]=H.elements[7],B.__data[10]=H.elements[8],B.__data[11]=0):(H.toArray(B.__data,k),k+=W.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,V,B.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function d(b,T,M,C){const D=b.value,R=T+"_"+M;if(C[R]===void 0)return typeof D=="number"||typeof D=="boolean"?C[R]=D:C[R]=D.clone(),!0;{const I=C[R];if(typeof D=="number"||typeof D=="boolean"){if(I!==D)return C[R]=D,!0}else if(I.equals(D)===!1)return I.copy(D),!0}return!1}function v(b){const T=b.uniforms;let M=0;const C=16;for(let R=0,I=T.length;R<I;R++){const L=Array.isArray(T[R])?T[R]:[T[R]];for(let O=0,B=L.length;O<B;O++){const V=L[O],F=Array.isArray(V.value)?V.value:[V.value];for(let k=0,Y=F.length;k<Y;k++){const H=F[k],W=g(H),q=M%C,K=q%W.boundary,re=q+K;M+=K,re!==0&&C-re<W.storage&&(M+=C-re),V.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),V.__offset=M,M+=W.storage}}}const D=M%C;return D>0&&(M+=C-D),b.__size=M,b.__cache={},this}function g(b){const T={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(T.boundary=4,T.storage=4):b.isVector2?(T.boundary=8,T.storage=8):b.isVector3||b.isColor?(T.boundary=16,T.storage=12):b.isVector4?(T.boundary=16,T.storage=16):b.isMatrix3?(T.boundary=48,T.storage=48):b.isMatrix4?(T.boundary=64,T.storage=64):b.isTexture?It("WebGLRenderer: Texture samplers can not be part of an uniforms group."):It("WebGLRenderer: Unsupported uniform value type.",b),T}function y(b){const T=b.target;T.removeEventListener("dispose",y);const M=o.indexOf(T.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[T.id]),delete i[T.id],delete a[T.id]}function x(){for(const b in i)n.deleteBuffer(i[b]);o=[],i={},a={}}return{bind:l,update:u,dispose:x}}const B1e=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let uh=null;function U1e(){return uh===null&&(uh=new Wu(B1e,32,32,bD,Mm),uh.minFilter=Ji,uh.magFilter=Ji,uh.wrapS=Os,uh.wrapT=Os,uh.generateMipmaps=!1,uh.needsUpdate=!0),uh}class GJ{constructor(e={}){const{canvas:t=LK(),context:r=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let d;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=r.getContextAttributes().alpha}else d=o;const v=new Set([wD,SD,iw]),g=new Set([$l,Uh,mx,yx,yD,xD]),y=new Uint32Array(4),x=new Int32Array(4);let b=null,T=null;const M=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=uf,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const D=this;let R=!1;this._outputColorSpace=Io;let I=0,L=0,O=null,B=-1,V=null;const F=new xr,k=new xr;let Y=null;const H=new Ot(0);let W=0,q=t.width,K=t.height,re=1,j=null,Q=null;const ne=new xr(0,0,q,K),se=new xr(0,0,q,K);let he=!1;const pe=new t_;let xe=!1,Te=!1;const Me=new An,Re=new ge,Ue=new xr,et={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ct=!1;function X(){return O===null?re:1}let te=r;function ve(le,Le){return t.getContext(le,Le)}try{const le={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${nw}`),t.addEventListener("webglcontextlost",rt,!1),t.addEventListener("webglcontextrestored",tt,!1),t.addEventListener("webglcontextcreationerror",wt,!1),te===null){const Le="webgl2";if(te=ve(Le,le),te===null)throw ve(Le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(le){throw le("WebGLRenderer: "+le.message),le}let oe,ae,de,Ae,Ce,be,ie,ee,me,Ne,qe,Ie,Mt,xt,Ct,Dt,Je,ut,kt,ye,Fe,ft,_e,ht;function dt(){oe=new Zxe(te),oe.init(),ft=new FJ(te,oe),ae=new Vxe(te,oe,e,ft),de=new D1e(te,oe),ae.reversedDepthBuffer&&h&&de.buffers.depth.setReversed(!0),Ae=new Qxe(te),Ce=new g1e,be=new N1e(te,oe,de,Ce,ae,ft,Ae),ie=new Gxe(D),ee=new qxe(D),me=new n0e(te),_e=new Bxe(te,me),Ne=new Kxe(te,me,Ae,_e),qe=new e_e(te,Ne,me,Ae),kt=new $xe(te,ae,be),Dt=new Fxe(Ce),Ie=new v1e(D,ie,ee,oe,ae,_e,Dt),Mt=new z1e(D,Ce),xt=new y1e,Ct=new T1e(oe),ut=new kxe(D,ie,ee,de,qe,d,l),Je=new C1e(D,qe,ae),ht=new k1e(te,Ae,ae,de),ye=new Uxe(te,oe,Ae),Fe=new Jxe(te,oe,Ae),Ae.programs=Ie.programs,D.capabilities=ae,D.extensions=oe,D.properties=Ce,D.renderLists=xt,D.shadowMap=Je,D.state=de,D.info=Ae}dt();const at=new O1e(D,te);this.xr=at,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const le=oe.get("WEBGL_lose_context");le&&le.loseContext()},this.forceContextRestore=function(){const le=oe.get("WEBGL_lose_context");le&&le.restoreContext()},this.getPixelRatio=function(){return re},this.setPixelRatio=function(le){le!==void 0&&(re=le,this.setSize(q,K,!1))},this.getSize=function(le){return le.set(q,K)},this.setSize=function(le,Le,Ye=!0){if(at.isPresenting){It("WebGLRenderer: Can't change size while VR device is presenting.");return}q=le,K=Le,t.width=Math.floor(le*re),t.height=Math.floor(Le*re),Ye===!0&&(t.style.width=le+"px",t.style.height=Le+"px"),this.setViewport(0,0,le,Le)},this.getDrawingBufferSize=function(le){return le.set(q*re,K*re).floor()},this.setDrawingBufferSize=function(le,Le,Ye){q=le,K=Le,re=Ye,t.width=Math.floor(le*Ye),t.height=Math.floor(Le*Ye),this.setViewport(0,0,le,Le)},this.getCurrentViewport=function(le){return le.copy(F)},this.getViewport=function(le){return le.copy(ne)},this.setViewport=function(le,Le,Ye,Ve){le.isVector4?ne.set(le.x,le.y,le.z,le.w):ne.set(le,Le,Ye,Ve),de.viewport(F.copy(ne).multiplyScalar(re).round())},this.getScissor=function(le){return le.copy(se)},this.setScissor=function(le,Le,Ye,Ve){le.isVector4?se.set(le.x,le.y,le.z,le.w):se.set(le,Le,Ye,Ve),de.scissor(k.copy(se).multiplyScalar(re).round())},this.getScissorTest=function(){return he},this.setScissorTest=function(le){de.setScissorTest(he=le)},this.setOpaqueSort=function(le){j=le},this.setTransparentSort=function(le){Q=le},this.getClearColor=function(le){return le.copy(ut.getClearColor())},this.setClearColor=function(){ut.setClearColor(...arguments)},this.getClearAlpha=function(){return ut.getClearAlpha()},this.setClearAlpha=function(){ut.setClearAlpha(...arguments)},this.clear=function(le=!0,Le=!0,Ye=!0){let Ve=0;if(le){let Pe=!1;if(O!==null){const _t=O.texture.format;Pe=v.has(_t)}if(Pe){const _t=O.texture.type,Et=g.has(_t),Gt=ut.getClearColor(),Yt=ut.getClearAlpha(),un=Gt.r,pn=Gt.g,nn=Gt.b;Et?(y[0]=un,y[1]=pn,y[2]=nn,y[3]=Yt,te.clearBufferuiv(te.COLOR,0,y)):(x[0]=un,x[1]=pn,x[2]=nn,x[3]=Yt,te.clearBufferiv(te.COLOR,0,x))}else Ve|=te.COLOR_BUFFER_BIT}Le&&(Ve|=te.DEPTH_BUFFER_BIT),Ye&&(Ve|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(Ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",rt,!1),t.removeEventListener("webglcontextrestored",tt,!1),t.removeEventListener("webglcontextcreationerror",wt,!1),ut.dispose(),xt.dispose(),Ct.dispose(),Ce.dispose(),ie.dispose(),ee.dispose(),qe.dispose(),_e.dispose(),ht.dispose(),Ie.dispose(),at.dispose(),at.removeEventListener("sessionstart",ta),at.removeEventListener("sessionend",da),ni.stop()};function rt(le){le.preventDefault(),o2("WebGLRenderer: Context Lost."),R=!0}function tt(){o2("WebGLRenderer: Context Restored."),R=!1;const le=Ae.autoReset,Le=Je.enabled,Ye=Je.autoUpdate,Ve=Je.needsUpdate,Pe=Je.type;dt(),Ae.autoReset=le,Je.enabled=Le,Je.autoUpdate=Ye,Je.needsUpdate=Ve,Je.type=Pe}function wt(le){En("WebGLRenderer: A WebGL context could not be created. Reason: ",le.statusMessage)}function Bt(le){const Le=le.target;Le.removeEventListener("dispose",Bt),hn(Le)}function hn(le){dn(le),Ce.remove(le)}function dn(le){const Le=Ce.get(le).programs;Le!==void 0&&(Le.forEach(function(Ye){Ie.releaseProgram(Ye)}),le.isShaderMaterial&&Ie.releaseShaderCache(le))}this.renderBufferDirect=function(le,Le,Ye,Ve,Pe,_t){Le===null&&(Le=et);const Et=Pe.isMesh&&Pe.matrixWorld.determinant()<0,Gt=Um(le,Le,Ye,Ve,Pe);de.setMaterial(Ve,Et);let Yt=Ye.index,un=1;if(Ve.wireframe===!0){if(Yt=Ne.getWireframeAttribute(Ye),Yt===void 0)return;un=2}const pn=Ye.drawRange,nn=Ye.attributes.position;let Ln=pn.start*un,ir=(pn.start+pn.count)*un;_t!==null&&(Ln=Math.max(Ln,_t.start*un),ir=Math.min(ir,(_t.start+_t.count)*un)),Yt!==null?(Ln=Math.max(Ln,0),ir=Math.min(ir,Yt.count)):nn!=null&&(Ln=Math.max(Ln,0),ir=Math.min(ir,nn.count));const ar=ir-Ln;if(ar<0||ar===1/0)return;_e.setup(Pe,Ve,Gt,Ye,Yt);let Kn,Sr=ye;if(Yt!==null&&(Kn=me.get(Yt),Sr=Fe,Sr.setIndex(Kn)),Pe.isMesh)Ve.wireframe===!0?(de.setLineWidth(Ve.wireframeLinewidth*X()),Sr.setMode(te.LINES)):Sr.setMode(te.TRIANGLES);else if(Pe.isLine){let ln=Ve.linewidth;ln===void 0&&(ln=1),de.setLineWidth(ln*X()),Pe.isLineSegments?Sr.setMode(te.LINES):Pe.isLineLoop?Sr.setMode(te.LINE_LOOP):Sr.setMode(te.LINE_STRIP)}else Pe.isPoints?Sr.setMode(te.POINTS):Pe.isSprite&&Sr.setMode(te.TRIANGLES);if(Pe.isBatchedMesh)if(Pe._multiDrawInstances!==null)Sx("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Sr.renderMultiDrawInstances(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount,Pe._multiDrawInstances);else if(oe.get("WEBGL_multi_draw"))Sr.renderMultiDraw(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount);else{const ln=Pe._multiDrawStarts,Lr=Pe._multiDrawCounts,Jn=Pe._multiDrawCount,Di=Yt?me.get(Yt).bytesPerElement:1,uu=Ce.get(Ve).currentProgram.getUniforms();for(let zr=0;zr<Jn;zr++)uu.setValue(te,"_gl_DrawID",zr),Sr.render(ln[zr]/Di,Lr[zr])}else if(Pe.isInstancedMesh)Sr.renderInstances(Ln,ar,Pe.count);else if(Ye.isInstancedBufferGeometry){const ln=Ye._maxInstanceCount!==void 0?Ye._maxInstanceCount:1/0,Lr=Math.min(Ye.instanceCount,ln);Sr.renderInstances(Ln,ar,Lr)}else Sr.render(Ln,ar)};function br(le,Le,Ye){le.transparent===!0&&le.side===Zc&&le.forceSinglePass===!1?(le.side=fs,le.needsUpdate=!0,vi(le,Le,Ye),le.side=kh,le.needsUpdate=!0,vi(le,Le,Ye),le.side=Zc):vi(le,Le,Ye)}this.compile=function(le,Le,Ye=null){Ye===null&&(Ye=le),T=Ct.get(Ye),T.init(Le),C.push(T),Ye.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Le.layers)&&(T.pushLight(Pe),Pe.castShadow&&T.pushShadow(Pe))}),le!==Ye&&le.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Le.layers)&&(T.pushLight(Pe),Pe.castShadow&&T.pushShadow(Pe))}),T.setupLights();const Ve=new Set;return le.traverse(function(Pe){if(!(Pe.isMesh||Pe.isPoints||Pe.isLine||Pe.isSprite))return;const _t=Pe.material;if(_t)if(Array.isArray(_t))for(let Et=0;Et<_t.length;Et++){const Gt=_t[Et];br(Gt,Ye,Pe),Ve.add(Gt)}else br(_t,Ye,Pe),Ve.add(_t)}),T=C.pop(),Ve},this.compileAsync=function(le,Le,Ye=null){const Ve=this.compile(le,Le,Ye);return new Promise(Pe=>{function _t(){if(Ve.forEach(function(Et){Ce.get(Et).currentProgram.isReady()&&Ve.delete(Et)}),Ve.size===0){Pe(le);return}setTimeout(_t,10)}oe.get("KHR_parallel_shader_compile")!==null?_t():setTimeout(_t,10)})};let Xn=null;function ho(le){Xn&&Xn(le)}function ta(){ni.stop()}function da(){ni.start()}const ni=new zJ;ni.setAnimationLoop(ho),typeof self<"u"&&ni.setContext(self),this.setAnimationLoop=function(le){Xn=le,at.setAnimationLoop(le),le===null?ni.stop():ni.start()},at.addEventListener("sessionstart",ta),at.addEventListener("sessionend",da),this.render=function(le,Le){if(Le!==void 0&&Le.isCamera!==!0){En("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(R===!0)return;if(le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Le.parent===null&&Le.matrixWorldAutoUpdate===!0&&Le.updateMatrixWorld(),at.enabled===!0&&at.isPresenting===!0&&(at.cameraAutoUpdate===!0&&at.updateCamera(Le),Le=at.getCamera()),le.isScene===!0&&le.onBeforeRender(D,le,Le,O),T=Ct.get(le,C.length),T.init(Le),C.push(T),Me.multiplyMatrices(Le.projectionMatrix,Le.matrixWorldInverse),pe.setFromProjectionMatrix(Me,al,Le.reversedDepth),Te=this.localClippingEnabled,xe=Dt.init(this.clippingPlanes,Te),b=xt.get(le,M.length),b.init(),M.push(b),at.enabled===!0&&at.isPresenting===!0){const _t=D.xr.getDepthSensingMesh();_t!==null&&po(_t,Le,-1/0,D.sortObjects)}po(le,Le,0,D.sortObjects),b.finish(),D.sortObjects===!0&&b.sort(j,Q),ct=at.enabled===!1||at.isPresenting===!1||at.hasDepthSensing()===!1,ct&&ut.addToRenderList(b,le),this.info.render.frame++,xe===!0&&Dt.beginShadows();const Ye=T.state.shadowsArray;Je.render(Ye,le,Le),xe===!0&&Dt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ve=b.opaque,Pe=b.transmissive;if(T.setupLights(),Le.isArrayCamera){const _t=Le.cameras;if(Pe.length>0)for(let Et=0,Gt=_t.length;Et<Gt;Et++){const Yt=_t[Et];Fi(Ve,Pe,le,Yt)}ct&&ut.render(le);for(let Et=0,Gt=_t.length;Et<Gt;Et++){const Yt=_t[Et];pi(b,le,Yt,Yt.viewport)}}else Pe.length>0&&Fi(Ve,Pe,le,Le),ct&&ut.render(le),pi(b,le,Le);O!==null&&L===0&&(be.updateMultisampleRenderTarget(O),be.updateRenderTargetMipmap(O)),le.isScene===!0&&le.onAfterRender(D,le,Le),_e.resetDefaultState(),B=-1,V=null,C.pop(),C.length>0?(T=C[C.length-1],xe===!0&&Dt.setGlobalState(D.clippingPlanes,T.state.camera)):T=null,M.pop(),M.length>0?b=M[M.length-1]:b=null};function po(le,Le,Ye,Ve){if(le.visible===!1)return;if(le.layers.test(Le.layers)){if(le.isGroup)Ye=le.renderOrder;else if(le.isLOD)le.autoUpdate===!0&&le.update(Le);else if(le.isLight)T.pushLight(le),le.castShadow&&T.pushShadow(le);else if(le.isSprite){if(!le.frustumCulled||pe.intersectsSprite(le)){Ve&&Ue.setFromMatrixPosition(le.matrixWorld).applyMatrix4(Me);const Et=qe.update(le),Gt=le.material;Gt.visible&&b.push(le,Et,Gt,Ye,Ue.z,null)}}else if((le.isMesh||le.isLine||le.isPoints)&&(!le.frustumCulled||pe.intersectsObject(le))){const Et=qe.update(le),Gt=le.material;if(Ve&&(le.boundingSphere!==void 0?(le.boundingSphere===null&&le.computeBoundingSphere(),Ue.copy(le.boundingSphere.center)):(Et.boundingSphere===null&&Et.computeBoundingSphere(),Ue.copy(Et.boundingSphere.center)),Ue.applyMatrix4(le.matrixWorld).applyMatrix4(Me)),Array.isArray(Gt)){const Yt=Et.groups;for(let un=0,pn=Yt.length;un<pn;un++){const nn=Yt[un],Ln=Gt[nn.materialIndex];Ln&&Ln.visible&&b.push(le,Et,Ln,Ye,Ue.z,nn)}}else Gt.visible&&b.push(le,Et,Gt,Ye,Ue.z,null)}}const _t=le.children;for(let Et=0,Gt=_t.length;Et<Gt;Et++)po(_t[Et],Le,Ye,Ve)}function pi(le,Le,Ye,Ve){const{opaque:Pe,transmissive:_t,transparent:Et}=le;T.setupLightsView(Ye),xe===!0&&Dt.setGlobalState(D.clippingPlanes,Ye),Ve&&de.viewport(F.copy(Ve)),Pe.length>0&&Ei(Pe,Le,Ye),_t.length>0&&Ei(_t,Le,Ye),Et.length>0&&Ei(Et,Le,Ye),de.buffers.depth.setTest(!0),de.buffers.depth.setMask(!0),de.buffers.color.setMask(!0),de.setPolygonOffset(!1)}function Fi(le,Le,Ye,Ve){if((Ye.isScene===!0?Ye.overrideMaterial:null)!==null)return;T.state.transmissionRenderTarget[Ve.id]===void 0&&(T.state.transmissionRenderTarget[Ve.id]=new df(1,1,{generateMipmaps:!0,type:oe.has("EXT_color_buffer_half_float")||oe.has("EXT_color_buffer_float")?Mm:$l,minFilter:$c,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:pr.workingColorSpace}));const _t=T.state.transmissionRenderTarget[Ve.id],Et=Ve.viewport||F;_t.setSize(Et.z*D.transmissionResolutionScale,Et.w*D.transmissionResolutionScale);const Gt=D.getRenderTarget(),Yt=D.getActiveCubeFace(),un=D.getActiveMipmapLevel();D.setRenderTarget(_t),D.getClearColor(H),W=D.getClearAlpha(),W<1&&D.setClearColor(16777215,.5),D.clear(),ct&&ut.render(Ye);const pn=D.toneMapping;D.toneMapping=uf;const nn=Ve.viewport;if(Ve.viewport!==void 0&&(Ve.viewport=void 0),T.setupLightsView(Ve),xe===!0&&Dt.setGlobalState(D.clippingPlanes,Ve),Ei(le,Ye,Ve),be.updateMultisampleRenderTarget(_t),be.updateRenderTargetMipmap(_t),oe.has("WEBGL_multisampled_render_to_texture")===!1){let Ln=!1;for(let ir=0,ar=Le.length;ir<ar;ir++){const Kn=Le[ir],{object:Sr,geometry:ln,material:Lr,group:Jn}=Kn;if(Lr.side===Zc&&Sr.layers.test(Ve.layers)){const Di=Lr.side;Lr.side=fs,Lr.needsUpdate=!0,Vn(Sr,Ye,Ve,ln,Lr,Jn),Lr.side=Di,Lr.needsUpdate=!0,Ln=!0}}Ln===!0&&(be.updateMultisampleRenderTarget(_t),be.updateRenderTargetMipmap(_t))}D.setRenderTarget(Gt,Yt,un),D.setClearColor(H,W),nn!==void 0&&(Ve.viewport=nn),D.toneMapping=pn}function Ei(le,Le,Ye){const Ve=Le.isScene===!0?Le.overrideMaterial:null;for(let Pe=0,_t=le.length;Pe<_t;Pe++){const Et=le[Pe],{object:Gt,geometry:Yt,group:un}=Et;let pn=Et.material;pn.allowOverride===!0&&Ve!==null&&(pn=Ve),Gt.layers.test(Ye.layers)&&Vn(Gt,Le,Ye,Yt,pn,un)}}function Vn(le,Le,Ye,Ve,Pe,_t){le.onBeforeRender(D,Le,Ye,Ve,Pe,_t),le.modelViewMatrix.multiplyMatrices(Ye.matrixWorldInverse,le.matrixWorld),le.normalMatrix.getNormalMatrix(le.modelViewMatrix),Pe.onBeforeRender(D,Le,Ye,Ve,le,_t),Pe.transparent===!0&&Pe.side===Zc&&Pe.forceSinglePass===!1?(Pe.side=fs,Pe.needsUpdate=!0,D.renderBufferDirect(Ye,Le,Ve,Pe,le,_t),Pe.side=kh,Pe.needsUpdate=!0,D.renderBufferDirect(Ye,Le,Ve,Pe,le,_t),Pe.side=Zc):D.renderBufferDirect(Ye,Le,Ve,Pe,le,_t),le.onAfterRender(D,Le,Ye,Ve,Pe,_t)}function vi(le,Le,Ye){Le.isScene!==!0&&(Le=et);const Ve=Ce.get(le),Pe=T.state.lights,_t=T.state.shadowsArray,Et=Pe.state.version,Gt=Ie.getParameters(le,Pe.state,_t,Le,Ye),Yt=Ie.getProgramCacheKey(Gt);let un=Ve.programs;Ve.environment=le.isMeshStandardMaterial?Le.environment:null,Ve.fog=Le.fog,Ve.envMap=(le.isMeshStandardMaterial?ee:ie).get(le.envMap||Ve.environment),Ve.envMapRotation=Ve.environment!==null&&le.envMap===null?Le.environmentRotation:le.envMapRotation,un===void 0&&(le.addEventListener("dispose",Bt),un=new Map,Ve.programs=un);let pn=un.get(Yt);if(pn!==void 0){if(Ve.currentProgram===pn&&Ve.lightsStateVersion===Et)return Mf(le,Gt),pn}else Gt.uniforms=Ie.getUniforms(le),le.onBeforeCompile(Gt,D),pn=Ie.acquireProgram(Gt,Yt),un.set(Yt,pn),Ve.uniforms=Gt.uniforms;const nn=Ve.uniforms;return(!le.isShaderMaterial&&!le.isRawShaderMaterial||le.clipping===!0)&&(nn.clippingPlanes=Dt.uniform),Mf(le,Gt),Ve.needsLights=Qh(le),Ve.lightsStateVersion=Et,Ve.needsLights&&(nn.ambientLightColor.value=Pe.state.ambient,nn.lightProbe.value=Pe.state.probe,nn.directionalLights.value=Pe.state.directional,nn.directionalLightShadows.value=Pe.state.directionalShadow,nn.spotLights.value=Pe.state.spot,nn.spotLightShadows.value=Pe.state.spotShadow,nn.rectAreaLights.value=Pe.state.rectArea,nn.ltc_1.value=Pe.state.rectAreaLTC1,nn.ltc_2.value=Pe.state.rectAreaLTC2,nn.pointLights.value=Pe.state.point,nn.pointLightShadows.value=Pe.state.pointShadow,nn.hemisphereLights.value=Pe.state.hemi,nn.directionalShadowMap.value=Pe.state.directionalShadowMap,nn.directionalShadowMatrix.value=Pe.state.directionalShadowMatrix,nn.spotShadowMap.value=Pe.state.spotShadowMap,nn.spotLightMatrix.value=Pe.state.spotLightMatrix,nn.spotLightMap.value=Pe.state.spotLightMap,nn.pointShadowMap.value=Pe.state.pointShadowMap,nn.pointShadowMatrix.value=Pe.state.pointShadowMatrix),Ve.currentProgram=pn,Ve.uniformsList=null,pn}function Us(le){if(le.uniformsList===null){const Le=le.currentProgram.getUniforms();le.uniformsList=xC.seqWithValue(Le.seq,le.uniforms)}return le.uniformsList}function Mf(le,Le){const Ye=Ce.get(le);Ye.outputColorSpace=Le.outputColorSpace,Ye.batching=Le.batching,Ye.batchingColor=Le.batchingColor,Ye.instancing=Le.instancing,Ye.instancingColor=Le.instancingColor,Ye.instancingMorph=Le.instancingMorph,Ye.skinning=Le.skinning,Ye.morphTargets=Le.morphTargets,Ye.morphNormals=Le.morphNormals,Ye.morphColors=Le.morphColors,Ye.morphTargetsCount=Le.morphTargetsCount,Ye.numClippingPlanes=Le.numClippingPlanes,Ye.numIntersection=Le.numClipIntersection,Ye.vertexAlphas=Le.vertexAlphas,Ye.vertexTangents=Le.vertexTangents,Ye.toneMapping=Le.toneMapping}function Um(le,Le,Ye,Ve,Pe){Le.isScene!==!0&&(Le=et),be.resetTextureUnits();const _t=Le.fog,Et=Ve.isMeshStandardMaterial?Le.environment:null,Gt=O===null?D.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:Dp,Yt=(Ve.isMeshStandardMaterial?ee:ie).get(Ve.envMap||Et),un=Ve.vertexColors===!0&&!!Ye.attributes.color&&Ye.attributes.color.itemSize===4,pn=!!Ye.attributes.tangent&&(!!Ve.normalMap||Ve.anisotropy>0),nn=!!Ye.morphAttributes.position,Ln=!!Ye.morphAttributes.normal,ir=!!Ye.morphAttributes.color;let ar=uf;Ve.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&(ar=D.toneMapping);const Kn=Ye.morphAttributes.position||Ye.morphAttributes.normal||Ye.morphAttributes.color,Sr=Kn!==void 0?Kn.length:0,ln=Ce.get(Ve),Lr=T.state.lights;if(xe===!0&&(Te===!0||le!==V)){const ji=le===V&&Ve.id===B;Dt.setState(Ve,le,ji)}let Jn=!1;Ve.version===ln.__version?(ln.needsLights&&ln.lightsStateVersion!==Lr.state.version||ln.outputColorSpace!==Gt||Pe.isBatchedMesh&&ln.batching===!1||!Pe.isBatchedMesh&&ln.batching===!0||Pe.isBatchedMesh&&ln.batchingColor===!0&&Pe.colorTexture===null||Pe.isBatchedMesh&&ln.batchingColor===!1&&Pe.colorTexture!==null||Pe.isInstancedMesh&&ln.instancing===!1||!Pe.isInstancedMesh&&ln.instancing===!0||Pe.isSkinnedMesh&&ln.skinning===!1||!Pe.isSkinnedMesh&&ln.skinning===!0||Pe.isInstancedMesh&&ln.instancingColor===!0&&Pe.instanceColor===null||Pe.isInstancedMesh&&ln.instancingColor===!1&&Pe.instanceColor!==null||Pe.isInstancedMesh&&ln.instancingMorph===!0&&Pe.morphTexture===null||Pe.isInstancedMesh&&ln.instancingMorph===!1&&Pe.morphTexture!==null||ln.envMap!==Yt||Ve.fog===!0&&ln.fog!==_t||ln.numClippingPlanes!==void 0&&(ln.numClippingPlanes!==Dt.numPlanes||ln.numIntersection!==Dt.numIntersection)||ln.vertexAlphas!==un||ln.vertexTangents!==pn||ln.morphTargets!==nn||ln.morphNormals!==Ln||ln.morphColors!==ir||ln.toneMapping!==ar||ln.morphTargetsCount!==Sr)&&(Jn=!0):(Jn=!0,ln.__version=Ve.version);let Di=ln.currentProgram;Jn===!0&&(Di=vi(Ve,Le,Pe));let uu=!1,zr=!1,ml=!1;const kr=Di.getUniforms(),Gi=ln.uniforms;if(de.useProgram(Di.program)&&(uu=!0,zr=!0,ml=!0),Ve.id!==B&&(B=Ve.id,zr=!0),uu||V!==le){de.buffers.depth.getReversed()&&le.reversedDepth!==!0&&(le._reversedDepth=!0,le.updateProjectionMatrix()),kr.setValue(te,"projectionMatrix",le.projectionMatrix),kr.setValue(te,"viewMatrix",le.matrixWorldInverse);const oi=kr.map.cameraPosition;oi!==void 0&&oi.setValue(te,Re.setFromMatrixPosition(le.matrixWorld)),ae.logarithmicDepthBuffer&&kr.setValue(te,"logDepthBufFC",2/(Math.log(le.far+1)/Math.LN2)),(Ve.isMeshPhongMaterial||Ve.isMeshToonMaterial||Ve.isMeshLambertMaterial||Ve.isMeshBasicMaterial||Ve.isMeshStandardMaterial||Ve.isShaderMaterial)&&kr.setValue(te,"isOrthographic",le.isOrthographicCamera===!0),V!==le&&(V=le,zr=!0,ml=!0)}if(Pe.isSkinnedMesh){kr.setOptional(te,Pe,"bindMatrix"),kr.setOptional(te,Pe,"bindMatrixInverse");const ji=Pe.skeleton;ji&&(ji.boneTexture===null&&ji.computeBoneTexture(),kr.setValue(te,"boneTexture",ji.boneTexture,be))}Pe.isBatchedMesh&&(kr.setOptional(te,Pe,"batchingTexture"),kr.setValue(te,"batchingTexture",Pe._matricesTexture,be),kr.setOptional(te,Pe,"batchingIdTexture"),kr.setValue(te,"batchingIdTexture",Pe._indirectTexture,be),kr.setOptional(te,Pe,"batchingColorTexture"),Pe._colorsTexture!==null&&kr.setValue(te,"batchingColorTexture",Pe._colorsTexture,be));const Hi=Ye.morphAttributes;if((Hi.position!==void 0||Hi.normal!==void 0||Hi.color!==void 0)&&kt.update(Pe,Ye,Di),(zr||ln.receiveShadow!==Pe.receiveShadow)&&(ln.receiveShadow=Pe.receiveShadow,kr.setValue(te,"receiveShadow",Pe.receiveShadow)),Ve.isMeshGouraudMaterial&&Ve.envMap!==null&&(Gi.envMap.value=Yt,Gi.flipEnvMap.value=Yt.isCubeTexture&&Yt.isRenderTargetTexture===!1?-1:1),Ve.isMeshStandardMaterial&&Ve.envMap===null&&Le.environment!==null&&(Gi.envMapIntensity.value=Le.environmentIntensity),Gi.dfgLUT!==void 0&&(Gi.dfgLUT.value=U1e()),zr&&(kr.setValue(te,"toneMappingExposure",D.toneMappingExposure),ln.needsLights&&A_(Gi,ml),_t&&Ve.fog===!0&&Mt.refreshFogUniforms(Gi,_t),Mt.refreshMaterialUniforms(Gi,Ve,re,K,T.state.transmissionRenderTarget[le.id]),xC.upload(te,Us(ln),Gi,be)),Ve.isShaderMaterial&&Ve.uniformsNeedUpdate===!0&&(xC.upload(te,Us(ln),Gi,be),Ve.uniformsNeedUpdate=!1),Ve.isSpriteMaterial&&kr.setValue(te,"center",Pe.center),kr.setValue(te,"modelViewMatrix",Pe.modelViewMatrix),kr.setValue(te,"normalMatrix",Pe.normalMatrix),kr.setValue(te,"modelMatrix",Pe.matrixWorld),Ve.isShaderMaterial||Ve.isRawShaderMaterial){const ji=Ve.uniformsGroups;for(let oi=0,Vs=ji.length;oi<Vs;oi++){const ys=ji[oi];ht.update(ys,Di),ht.bind(ys,Di)}}return Di}function A_(le,Le){le.ambientLightColor.needsUpdate=Le,le.lightProbe.needsUpdate=Le,le.directionalLights.needsUpdate=Le,le.directionalLightShadows.needsUpdate=Le,le.pointLights.needsUpdate=Le,le.pointLightShadows.needsUpdate=Le,le.spotLights.needsUpdate=Le,le.spotLightShadows.needsUpdate=Le,le.rectAreaLights.needsUpdate=Le,le.hemisphereLights.needsUpdate=Le}function Qh(le){return le.isMeshLambertMaterial||le.isMeshToonMaterial||le.isMeshPhongMaterial||le.isMeshStandardMaterial||le.isShadowMaterial||le.isShaderMaterial&&le.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(le,Le,Ye){const Ve=Ce.get(le);Ve.__autoAllocateDepthBuffer=le.resolveDepthBuffer===!1,Ve.__autoAllocateDepthBuffer===!1&&(Ve.__useRenderToTexture=!1),Ce.get(le.texture).__webglTexture=Le,Ce.get(le.depthTexture).__webglTexture=Ve.__autoAllocateDepthBuffer?void 0:Ye,Ve.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(le,Le){const Ye=Ce.get(le);Ye.__webglFramebuffer=Le,Ye.__useDefaultFramebuffer=Le===void 0};const lu=te.createFramebuffer();this.setRenderTarget=function(le,Le=0,Ye=0){O=le,I=Le,L=Ye;let Ve=!0,Pe=null,_t=!1,Et=!1;if(le){const Yt=Ce.get(le);if(Yt.__useDefaultFramebuffer!==void 0)de.bindFramebuffer(te.FRAMEBUFFER,null),Ve=!1;else if(Yt.__webglFramebuffer===void 0)be.setupRenderTarget(le);else if(Yt.__hasExternalTextures)be.rebindTextures(le,Ce.get(le.texture).__webglTexture,Ce.get(le.depthTexture).__webglTexture);else if(le.depthBuffer){const nn=le.depthTexture;if(Yt.__boundDepthTexture!==nn){if(nn!==null&&Ce.has(nn)&&(le.width!==nn.image.width||le.height!==nn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");be.setupDepthRenderbuffer(le)}}const un=le.texture;(un.isData3DTexture||un.isDataArrayTexture||un.isCompressedArrayTexture)&&(Et=!0);const pn=Ce.get(le).__webglFramebuffer;le.isWebGLCubeRenderTarget?(Array.isArray(pn[Le])?Pe=pn[Le][Ye]:Pe=pn[Le],_t=!0):le.samples>0&&be.useMultisampledRTT(le)===!1?Pe=Ce.get(le).__webglMultisampledFramebuffer:Array.isArray(pn)?Pe=pn[Ye]:Pe=pn,F.copy(le.viewport),k.copy(le.scissor),Y=le.scissorTest}else F.copy(ne).multiplyScalar(re).floor(),k.copy(se).multiplyScalar(re).floor(),Y=he;if(Ye!==0&&(Pe=lu),de.bindFramebuffer(te.FRAMEBUFFER,Pe)&&Ve&&de.drawBuffers(le,Pe),de.viewport(F),de.scissor(k),de.setScissorTest(Y),_t){const Yt=Ce.get(le.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Yt.__webglTexture,Ye)}else if(Et){const Yt=Le;for(let un=0;un<le.textures.length;un++){const pn=Ce.get(le.textures[un]);te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0+un,pn.__webglTexture,Ye,Yt)}}else if(le!==null&&Ye!==0){const Yt=Ce.get(le.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Yt.__webglTexture,Ye)}B=-1},this.readRenderTargetPixels=function(le,Le,Ye,Ve,Pe,_t,Et,Gt=0){if(!(le&&le.isWebGLRenderTarget)){En("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Yt=Ce.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Et!==void 0&&(Yt=Yt[Et]),Yt){de.bindFramebuffer(te.FRAMEBUFFER,Yt);try{const un=le.textures[Gt],pn=un.format,nn=un.type;if(!ae.textureFormatReadable(pn)){En("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ae.textureTypeReadable(nn)){En("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Le>=0&&Le<=le.width-Ve&&Ye>=0&&Ye<=le.height-Pe&&(le.textures.length>1&&te.readBuffer(te.COLOR_ATTACHMENT0+Gt),te.readPixels(Le,Ye,Ve,Pe,ft.convert(pn),ft.convert(nn),_t))}finally{const un=O!==null?Ce.get(O).__webglFramebuffer:null;de.bindFramebuffer(te.FRAMEBUFFER,un)}}},this.readRenderTargetPixelsAsync=async function(le,Le,Ye,Ve,Pe,_t,Et,Gt=0){if(!(le&&le.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Yt=Ce.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Et!==void 0&&(Yt=Yt[Et]),Yt)if(Le>=0&&Le<=le.width-Ve&&Ye>=0&&Ye<=le.height-Pe){de.bindFramebuffer(te.FRAMEBUFFER,Yt);const un=le.textures[Gt],pn=un.format,nn=un.type;if(!ae.textureFormatReadable(pn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ae.textureTypeReadable(nn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ln=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,Ln),te.bufferData(te.PIXEL_PACK_BUFFER,_t.byteLength,te.STREAM_READ),le.textures.length>1&&te.readBuffer(te.COLOR_ATTACHMENT0+Gt),te.readPixels(Le,Ye,Ve,Pe,ft.convert(pn),ft.convert(nn),0);const ir=O!==null?Ce.get(O).__webglFramebuffer:null;de.bindFramebuffer(te.FRAMEBUFFER,ir);const ar=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await rve(te,ar,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,Ln),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,_t),te.deleteBuffer(Ln),te.deleteSync(ar),_t}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(le,Le=null,Ye=0){const Ve=Math.pow(2,-Ye),Pe=Math.floor(le.image.width*Ve),_t=Math.floor(le.image.height*Ve),Et=Le!==null?Le.x:0,Gt=Le!==null?Le.y:0;be.setTexture2D(le,0),te.copyTexSubImage2D(te.TEXTURE_2D,Ye,0,0,Et,Gt,Pe,_t),de.unbindTexture()};const Af=te.createFramebuffer(),gi=te.createFramebuffer();this.copyTextureToTexture=function(le,Le,Ye=null,Ve=null,Pe=0,_t=null){_t===null&&(Pe!==0?(Sx("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),_t=Pe,Pe=0):_t=0);let Et,Gt,Yt,un,pn,nn,Ln,ir,ar;const Kn=le.isCompressedTexture?le.mipmaps[_t]:le.image;if(Ye!==null)Et=Ye.max.x-Ye.min.x,Gt=Ye.max.y-Ye.min.y,Yt=Ye.isBox3?Ye.max.z-Ye.min.z:1,un=Ye.min.x,pn=Ye.min.y,nn=Ye.isBox3?Ye.min.z:0;else{const Hi=Math.pow(2,-Pe);Et=Math.floor(Kn.width*Hi),Gt=Math.floor(Kn.height*Hi),le.isDataArrayTexture?Yt=Kn.depth:le.isData3DTexture?Yt=Math.floor(Kn.depth*Hi):Yt=1,un=0,pn=0,nn=0}Ve!==null?(Ln=Ve.x,ir=Ve.y,ar=Ve.z):(Ln=0,ir=0,ar=0);const Sr=ft.convert(Le.format),ln=ft.convert(Le.type);let Lr;Le.isData3DTexture?(be.setTexture3D(Le,0),Lr=te.TEXTURE_3D):Le.isDataArrayTexture||Le.isCompressedArrayTexture?(be.setTexture2DArray(Le,0),Lr=te.TEXTURE_2D_ARRAY):(be.setTexture2D(Le,0),Lr=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,Le.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Le.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,Le.unpackAlignment);const Jn=te.getParameter(te.UNPACK_ROW_LENGTH),Di=te.getParameter(te.UNPACK_IMAGE_HEIGHT),uu=te.getParameter(te.UNPACK_SKIP_PIXELS),zr=te.getParameter(te.UNPACK_SKIP_ROWS),ml=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,Kn.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Kn.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,un),te.pixelStorei(te.UNPACK_SKIP_ROWS,pn),te.pixelStorei(te.UNPACK_SKIP_IMAGES,nn);const kr=le.isDataArrayTexture||le.isData3DTexture,Gi=Le.isDataArrayTexture||Le.isData3DTexture;if(le.isDepthTexture){const Hi=Ce.get(le),ji=Ce.get(Le),oi=Ce.get(Hi.__renderTarget),Vs=Ce.get(ji.__renderTarget);de.bindFramebuffer(te.READ_FRAMEBUFFER,oi.__webglFramebuffer),de.bindFramebuffer(te.DRAW_FRAMEBUFFER,Vs.__webglFramebuffer);for(let ys=0;ys<Yt;ys++)kr&&(te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Ce.get(le).__webglTexture,Pe,nn+ys),te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Ce.get(Le).__webglTexture,_t,ar+ys)),te.blitFramebuffer(un,pn,Et,Gt,Ln,ir,Et,Gt,te.DEPTH_BUFFER_BIT,te.NEAREST);de.bindFramebuffer(te.READ_FRAMEBUFFER,null),de.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else if(Pe!==0||le.isRenderTargetTexture||Ce.has(le)){const Hi=Ce.get(le),ji=Ce.get(Le);de.bindFramebuffer(te.READ_FRAMEBUFFER,Af),de.bindFramebuffer(te.DRAW_FRAMEBUFFER,gi);for(let oi=0;oi<Yt;oi++)kr?te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,Hi.__webglTexture,Pe,nn+oi):te.framebufferTexture2D(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Hi.__webglTexture,Pe),Gi?te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,ji.__webglTexture,_t,ar+oi):te.framebufferTexture2D(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,ji.__webglTexture,_t),Pe!==0?te.blitFramebuffer(un,pn,Et,Gt,Ln,ir,Et,Gt,te.COLOR_BUFFER_BIT,te.NEAREST):Gi?te.copyTexSubImage3D(Lr,_t,Ln,ir,ar+oi,un,pn,Et,Gt):te.copyTexSubImage2D(Lr,_t,Ln,ir,un,pn,Et,Gt);de.bindFramebuffer(te.READ_FRAMEBUFFER,null),de.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else Gi?le.isDataTexture||le.isData3DTexture?te.texSubImage3D(Lr,_t,Ln,ir,ar,Et,Gt,Yt,Sr,ln,Kn.data):Le.isCompressedArrayTexture?te.compressedTexSubImage3D(Lr,_t,Ln,ir,ar,Et,Gt,Yt,Sr,Kn.data):te.texSubImage3D(Lr,_t,Ln,ir,ar,Et,Gt,Yt,Sr,ln,Kn):le.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,_t,Ln,ir,Et,Gt,Sr,ln,Kn.data):le.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,_t,Ln,ir,Kn.width,Kn.height,Sr,Kn.data):te.texSubImage2D(te.TEXTURE_2D,_t,Ln,ir,Et,Gt,Sr,ln,Kn);te.pixelStorei(te.UNPACK_ROW_LENGTH,Jn),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,Di),te.pixelStorei(te.UNPACK_SKIP_PIXELS,uu),te.pixelStorei(te.UNPACK_SKIP_ROWS,zr),te.pixelStorei(te.UNPACK_SKIP_IMAGES,ml),_t===0&&Le.generateMipmaps&&te.generateMipmap(Lr),de.unbindTexture()},this.initRenderTarget=function(le){Ce.get(le).__webglFramebuffer===void 0&&be.setupRenderTarget(le)},this.initTexture=function(le){le.isCubeTexture?be.setTextureCube(le,0):le.isData3DTexture?be.setTexture3D(le,0):le.isDataArrayTexture||le.isCompressedArrayTexture?be.setTexture2DArray(le,0):be.setTexture2D(le,0),de.unbindTexture()},this.resetState=function(){I=0,L=0,O=null,de.reset(),_e.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return al}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=pr._getDrawingBufferColorSpace(e),t.unpackColorSpace=pr._getUnpackColorSpace()}}const V1e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Sz,AddEquation:op,AddOperation:cK,AdditiveAnimationBlendMode:Nz,AdditiveBlending:KS,AgXToneMapping:vK,AlphaFormat:Ez,AlwaysCompare:NK,AlwaysDepth:rE,AlwaysStencilFunc:D5,AmbientLight:TJ,AnimationAction:IJ,AnimationClip:h2,AnimationLoader:Xge,AnimationMixer:Sme,AnimationObjectGroup:_me,AnimationUtils:Hge,ArcCurve:ZK,ArrayCamera:NJ,ArrowHelper:Xme,AttachedBindMode:E5,Audio:RJ,AudioAnalyser:cme,AudioContext:nk,AudioListener:sme,AudioLoader:ime,AxesHelper:qme,BackSide:fs,BasicDepthPacking:bK,BasicShadowMap:jZ,BatchedMesh:jK,Bone:Bz,BooleanKeyframeTrack:Em,Box2:Rme,Box3:ko,Box3Helper:Wme,BoxGeometry:Cm,BoxHelper:jme,BufferAttribute:qr,BufferGeometry:Un,BufferGeometryLoader:DJ,ByteType:Tz,Cache:ef,Camera:CD,CameraHelper:Hme,CanvasTexture:hge,CapsuleGeometry:OD,CatmullRomCurve3:KK,CineonToneMapping:dK,CircleGeometry:PD,ClampToEdgeWrapping:Os,Clock:rk,Color:Ot,ColorKeyframeTrack:$z,ColorManagement:pr,CompressedArrayTexture:cge,CompressedCubeTexture:fge,CompressedTexture:ID,CompressedTextureLoader:qge,ConeGeometry:sw,ConstantAlphaFactor:sK,ConstantColorFactor:aK,Controls:Kme,CubeCamera:kK,CubeReflectionMapping:Bh,CubeRefractionMapping:Ep,CubeTexture:aw,CubeTextureLoader:Zge,CubeUVReflectionMapping:e_,CubicBezierCurve:Hz,CubicBezierCurve3:JK,CubicInterpolant:gJ,CullFaceBack:M5,CullFaceFront:HZ,CullFaceFrontBack:mpe,CullFaceNone:GZ,Curve:nc,CurvePath:$K,CustomBlending:WZ,CustomToneMapping:pK,CylinderGeometry:ow,Cylindrical:Nme,Data3DTexture:AD,DataArrayTexture:MD,DataTexture:Wu,DataTextureLoader:Kge,DataUtils:Pve,DecrementStencilOp:Rpe,DecrementWrapStencilOp:Ipe,DefaultLoadingManager:xJ,DepthFormat:xx,DepthStencilFormat:_x,DepthTexture:Vz,DetachedBindMode:mK,DirectionalLight:wJ,DirectionalLightHelper:Gme,DiscreteInterpolant:mJ,DodecahedronGeometry:zD,DoubleSide:Zc,DstAlphaFactor:eK,DstColorFactor:nK,DynamicCopyUsage:qpe,DynamicDrawUsage:Gpe,DynamicReadUsage:Wpe,EdgesGeometry:qK,EllipseCurve:kD,EqualCompare:AK,EqualDepth:aE,EqualStencilFunc:kpe,EquirectangularReflectionMapping:JS,EquirectangularRefractionMapping:QS,Euler:hl,EventDispatcher:_f,ExternalTexture:Fz,ExtrudeGeometry:BD,FileLoader:Vh,Float16BufferAttribute:Gve,Float32BufferAttribute:Jt,FloatType:Ps,Fog:DD,FogExp2:ED,FramebufferTexture:uge,FrontSide:kh,Frustum:t_,FrustumArray:LD,GLBufferAttribute:Cme,GLSL1:Kpe,GLSL3:N5,GreaterCompare:CK,GreaterDepth:sE,GreaterEqualCompare:DK,GreaterEqualDepth:oE,GreaterEqualStencilFunc:Fpe,GreaterStencilFunc:Upe,GridHelper:Vme,Group:Qy,HalfFloatType:Mm,HemisphereLight:_J,HemisphereLightHelper:Ume,IcosahedronGeometry:UD,ImageBitmapLoader:rme,ImageLoader:d2,ImageUtils:IK,IncrementStencilOp:Npe,IncrementWrapStencilOp:Lpe,InstancedBufferAttribute:Cx,InstancedBufferGeometry:EJ,InstancedInterleavedBuffer:Ame,InstancedMesh:HK,Int16BufferAttribute:Vve,Int32BufferAttribute:Fve,Int8BufferAttribute:kve,IntType:mD,InterleavedBuffer:ND,InterleavedBufferAttribute:fm,Interpolant:cw,InterpolateDiscrete:t2,InterpolateLinear:kE,InterpolateSmooth:mC,InterpolationSamplingMode:$pe,InterpolationSamplingType:Qpe,InvertStencilOp:Ope,KeepStencilOp:Ng,KeyframeTrack:iu,LOD:FK,LatheGeometry:VD,Layers:Mx,LessCompare:MK,LessDepth:iE,LessEqualCompare:Rz,LessEqualDepth:cm,LessEqualStencilFunc:Bpe,LessStencilFunc:zpe,Light:Gp,LightProbe:CJ,Line:Rp,Line3:Ome,LineBasicMaterial:ms,LineCurve:jz,LineCurve3:QK,LineDashedMaterial:dJ,LineLoop:WK,LineSegments:bf,LinearFilter:Ji,LinearInterpolant:Qz,LinearMipMapLinearFilter:bpe,LinearMipMapNearestFilter:_pe,LinearMipmapLinearFilter:$c,LinearMipmapNearestFilter:xS,LinearSRGBColorSpace:Dp,LinearToneMapping:fK,LinearTransfer:r2,Loader:Bs,LoaderUtils:P5,LoadingManager:ek,LoopOnce:yK,LoopPingPong:_K,LoopRepeat:xK,MOUSE:Eg,Material:Vo,MaterialLoader:XD,MathUtils:_ve,Matrix2:sk,Matrix3:Bn,Matrix4:An,MaxEquation:ZZ,Mesh:Ca,MeshBasicMaterial:Vp,MeshDepthMaterial:Zz,MeshDistanceMaterial:Kz,MeshLambertMaterial:fJ,MeshMatcapMaterial:hJ,MeshNormalMaterial:cJ,MeshPhongMaterial:lJ,MeshPhysicalMaterial:sJ,MeshStandardMaterial:qz,MeshToonMaterial:uJ,MinEquation:qZ,MirroredRepeatWrapping:e2,MixOperation:uK,MultiplyBlending:C5,MultiplyOperation:rw,NearestFilter:ao,NearestMipMapLinearFilter:xpe,NearestMipMapNearestFilter:ype,NearestMipmapLinearFilter:Ky,NearestMipmapNearestFilter:wz,NeutralToneMapping:gK,NeverCompare:TK,NeverDepth:nE,NeverStencilFunc:Ppe,NoBlending:lf,NoColorSpace:Sh,NoToneMapping:uf,NormalAnimationBlendMode:TD,NormalBlending:em,NotEqualCompare:EK,NotEqualDepth:lE,NotEqualStencilFunc:Vpe,NumberKeyframeTrack:c2,Object3D:gr,ObjectLoader:tme,ObjectSpaceNormalMap:wK,OctahedronGeometry:lw,OneFactor:JZ,OneMinusConstantAlphaFactor:lK,OneMinusConstantColorFactor:oK,OneMinusDstAlphaFactor:tK,OneMinusDstColorFactor:rK,OneMinusSrcAlphaFactor:tE,OneMinusSrcColorFactor:$Z,OrthographicCamera:yp,PCFShadowMap:vD,PCFSoftShadowMap:yS,PMREMGenerator:B5,Path:FE,PerspectiveCamera:Ki,Plane:bh,PlaneGeometry:n_,PlaneHelper:Yme,PointLight:SJ,PointLightHelper:kme,Points:YK,PointsMaterial:Uz,PolarGridHelper:Fme,PolyhedronGeometry:Fp,PositionalAudio:ume,PropertyBinding:yr,PropertyMixer:LJ,QuadraticBezierCurve:Wz,QuadraticBezierCurve3:Yz,Quaternion:zo,QuaternionKeyframeTrack:fw,QuaternionLinearInterpolant:yJ,RED_GREEN_RGTC2_Format:PE,RED_RGTC1_Format:IE,REVISION:nw,RGBADepthPacking:SK,RGBAFormat:Po,RGBAIntegerFormat:wD,RGBA_ASTC_10x10_Format:CE,RGBA_ASTC_10x5_Format:TE,RGBA_ASTC_10x6_Format:ME,RGBA_ASTC_10x8_Format:AE,RGBA_ASTC_12x10_Format:EE,RGBA_ASTC_12x12_Format:DE,RGBA_ASTC_4x4_Format:gE,RGBA_ASTC_5x4_Format:mE,RGBA_ASTC_5x5_Format:yE,RGBA_ASTC_6x5_Format:xE,RGBA_ASTC_6x6_Format:_E,RGBA_ASTC_8x5_Format:bE,RGBA_ASTC_8x6_Format:SE,RGBA_ASTC_8x8_Format:wE,RGBA_BPTC_Format:NE,RGBA_ETC2_EAC_Format:vE,RGBA_PVRTC_2BPPV1_Format:hE,RGBA_PVRTC_4BPPV1_Format:fE,RGBA_S3TC_DXT1_Format:bS,RGBA_S3TC_DXT3_Format:SS,RGBA_S3TC_DXT5_Format:wS,RGBDepthPacking:Ape,RGBFormat:Dz,RGBIntegerFormat:Spe,RGB_BPTC_SIGNED_Format:RE,RGB_BPTC_UNSIGNED_Format:LE,RGB_ETC1_Format:dE,RGB_ETC2_Format:pE,RGB_PVRTC_2BPPV1_Format:cE,RGB_PVRTC_4BPPV1_Format:uE,RGB_S3TC_DXT1_Format:_S,RGDepthPacking:Cpe,RGFormat:bD,RGIntegerFormat:SD,RawShaderMaterial:oJ,Ray:Am,Raycaster:OJ,RectAreaLight:MJ,RedFormat:_D,RedIntegerFormat:iw,ReinhardToneMapping:hK,RenderTarget:Iz,RenderTarget3D:wme,RepeatWrapping:$S,ReplaceStencilOp:Dpe,ReverseSubtractEquation:XZ,RingGeometry:FD,SIGNED_RED_GREEN_RGTC2_Format:zE,SIGNED_RED_RGTC1_Format:OE,SRGBColorSpace:Io,SRGBTransfer:Ur,Scene:zz,ShaderChunk:Wn,ShaderLib:Fu,ShaderMaterial:dl,ShadowMaterial:aJ,Shape:nm,ShapeGeometry:GD,ShapePath:Zme,ShapeUtils:Gu,ShortType:Mz,Skeleton:RD,SkeletonHelper:zme,SkinnedMesh:GK,Source:up,Sphere:oo,SphereGeometry:uw,Spherical:GE,SphericalHarmonics3:AJ,SplineCurve:Xz,SpotLight:bJ,SpotLightHelper:Pme,Sprite:VK,SpriteMaterial:kz,SrcAlphaFactor:eE,SrcAlphaSaturateFactor:iK,SrcColorFactor:QZ,StaticCopyUsage:Xpe,StaticDrawUsage:i2,StaticReadUsage:jpe,StereoCamera:ame,StreamCopyUsage:Zpe,StreamDrawUsage:Hpe,StreamReadUsage:Ype,StringKeyframeTrack:Dm,SubtractEquation:YZ,SubtractiveBlending:A5,TOUCH:Dg,TangentSpaceNormalMap:Up,TetrahedronGeometry:HD,Texture:Ui,TextureLoader:Jge,TextureUtils:t0e,Timer:Eme,TimestampQuery:Jpe,TorusGeometry:jD,TorusKnotGeometry:WD,Triangle:sp,TriangleFanDrawMode:Mpe,TriangleStripDrawMode:Tpe,TrianglesDrawMode:wpe,TubeGeometry:YD,UVMapping:gD,Uint16BufferAttribute:Oz,Uint32BufferAttribute:Pz,Uint8BufferAttribute:Bve,Uint8ClampedBufferAttribute:Uve,Uniform:ok,UniformsGroup:Mme,UniformsLib:Lt,UniformsUtils:zK,UnsignedByteType:$l,UnsignedInt101111Type:Cz,UnsignedInt248Type:yx,UnsignedInt5999Type:Az,UnsignedIntType:Uh,UnsignedShort4444Type:yD,UnsignedShort5551Type:xD,UnsignedShortType:mx,VSMShadowMap:Uu,Vector2:st,Vector3:ge,Vector4:xr,VectorKeyframeTrack:f2,VideoFrameTexture:lge,VideoTexture:XK,WebGL3DRenderTarget:Mve,WebGLArrayRenderTarget:Tve,WebGLCoordinateSystem:al,WebGLCubeRenderTarget:BK,WebGLRenderTarget:df,WebGLRenderer:GJ,WebGLUtils:FJ,WebGPUCoordinateSystem:bx,WebXRController:yC,WireframeGeometry:iJ,WrapAroundEnding:n2,ZeroCurvatureEnding:Hg,ZeroFactor:KZ,ZeroSlopeEnding:jg,ZeroStencilOp:Epe,createCanvasElement:LK,error:En,getConsoleFunction:nve,log:o2,setConsoleFunction:tve,warn:It,warnOnce:Sx},Symbol.toStringTag,{value:"Module"}));var CL={exports:{}},EL={},DL={exports:{}},NL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lG;function F1e(){if(lG)return NL;lG=1;var n=qx();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function s(f,h){var d=h(),v=r({inst:{value:d,getSnapshot:h}}),g=v[0].inst,y=v[1];return a(function(){g.value=d,g.getSnapshot=h,l(g)&&y({inst:g})},[f,d,h]),i(function(){return l(g)&&y({inst:g}),f(function(){l(g)&&y({inst:g})})},[f]),o(d),d}function l(f){var h=f.getSnapshot;f=f.value;try{var d=h();return!t(f,d)}catch{return!0}}function u(f,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:s;return NL.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:c,NL}var uG;function G1e(){return uG||(uG=1,DL.exports=F1e()),DL.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cG;function H1e(){if(cG)return EL;cG=1;var n=qx(),e=G1e();function t(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=n.useRef,o=n.useEffect,s=n.useMemo,l=n.useDebugValue;return EL.useSyncExternalStoreWithSelector=function(u,c,f,h,d){var v=a(null);if(v.current===null){var g={hasValue:!1,value:null};v.current=g}else g=v.current;v=s(function(){function x(D){if(!b){if(b=!0,T=D,D=h(D),d!==void 0&&g.hasValue){var R=g.value;if(d(R,D))return M=R}return M=D}if(R=M,r(T,D))return R;var I=h(D);return d!==void 0&&d(R,I)?(T=D,R):(T=D,M=I)}var b=!1,T,M,C=f===void 0?null:f;return[function(){return x(c())},C===null?void 0:function(){return x(C())}]},[c,f,h,d]);var y=i(u,v[0],v[1]);return o(function(){g.hasValue=!0,g.value=y},[y]),l(y),y},EL}var fG;function j1e(){return fG||(fG=1,CL.exports=H1e()),CL.exports}var W1e=j1e();const Y1e=Xx(W1e),hG=n=>{let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const h=e;e=c??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(d=>d(e,h))}},i=()=>e,s={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(r,i,s);return s},X1e=(n=>n?hG(n):hG),{useSyncExternalStoreWithSelector:q1e}=Y1e,Z1e=n=>n;function K1e(n,e=Z1e,t){const r=q1e(n.subscribe,n.getState,n.getInitialState,e,t);return Xr.useDebugValue(r),r}const dG=(n,e)=>{const t=X1e(n),r=(i,a=e)=>K1e(t,i,a);return Object.assign(r,t),r},J1e=((n,e)=>n?dG(n,e):dG);var RL={exports:{}},LL={exports:{}},IL={exports:{}},OL={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pG;function Q1e(){return pG||(pG=1,(function(n){function e(H,W){var q=H.length;H.push(W);e:for(;0<q;){var K=q-1>>>1,re=H[K];if(0<i(re,W))H[K]=W,H[q]=re,q=K;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],q=H.pop();if(q!==W){H[0]=q;e:for(var K=0,re=H.length,j=re>>>1;K<j;){var Q=2*(K+1)-1,ne=H[Q],se=Q+1,he=H[se];if(0>i(ne,q))se<re&&0>i(he,ne)?(H[K]=he,H[se]=q,K=se):(H[K]=ne,H[Q]=q,K=Q);else if(se<re&&0>i(he,q))H[K]=he,H[se]=q,K=se;else break e}}return W}function i(H,W){var q=H.sortIndex-W.sortIndex;return q!==0?q:H.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,d=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function T(H){for(var W=t(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=H)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function M(H){if(g=!1,T(H),!v)if(t(l)!==null)v=!0,k();else{var W=t(u);W!==null&&Y(M,W.startTime-H)}}var C=!1,D=-1,R=5,I=-1;function L(){return!(n.unstable_now()-I<R)}function O(){if(C){var H=n.unstable_now();I=H;var W=!0;try{e:{v=!1,g&&(g=!1,x(D),D=-1),d=!0;var q=h;try{t:{for(T(H),f=t(l);f!==null&&!(f.expirationTime>H&&L());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var re=K(f.expirationTime<=H);if(H=n.unstable_now(),typeof re=="function"){f.callback=re,T(H),W=!0;break t}f===t(l)&&r(l),T(H)}else r(l);f=t(l)}if(f!==null)W=!0;else{var j=t(u);j!==null&&Y(M,j.startTime-H),W=!1}}break e}finally{f=null,h=q,d=!1}W=void 0}}finally{W?B():C=!1}}}var B;if(typeof b=="function")B=function(){b(O)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=O,B=function(){F.postMessage(null)}}else B=function(){y(O,0)};function k(){C||(C=!0,B())}function Y(H,W){D=y(function(){H(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){v||d||(v=!0,k())},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(H){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var q=h;h=W;try{return H()}finally{h=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=h;h=H;try{return W()}finally{h=q}},n.unstable_scheduleCallback=function(H,W,q){var K=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?K+q:K):q=K,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=q+re,H={id:c++,callback:W,priorityLevel:H,startTime:q,expirationTime:re,sortIndex:-1},q>K?(H.sortIndex=q,e(u,H),t(l)===null&&H===t(u)&&(g?(x(D),D=-1):g=!0,Y(M,q-K))):(H.sortIndex=re,e(l,H),v||d||(v=!0,k())),H},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(H){var W=h;return function(){var q=h;h=W;try{return H.apply(this,arguments)}finally{h=q}}}})(OL)),OL}var vG;function HJ(){return vG||(vG=1,IL.exports=Q1e()),IL.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gG;function $1e(){return gG||(gG=1,(function(n){n.exports=function(e){function t(_,S,N,z){return new Q_(_,S,N,z)}function r(){}function i(_){var S="https://react.dev/errors/"+_;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)S+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+_+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(_){return _===null||typeof _!="object"?null:(_=a1&&_[a1]||_["@@iterator"],typeof _=="function"?_:null)}function o(_){if(_==null)return null;if(typeof _=="function")return _.$$typeof===Vf?null:_.displayName||_.name||null;if(typeof _=="string")return _;switch(_){case pd:return"Fragment";case js:return"Portal";case i1:return"Profiler";case r1:return"StrictMode";case f0:return"Suspense";case wc:return"SuspenseList"}if(typeof _=="object")switch(_.$$typeof){case Ml:return(_.displayName||"Context")+".Provider";case Sc:return(_._context.displayName||"Context")+".Consumer";case vd:var S=_.render;return _=_.displayName,_||(_=S.displayName||S.name||"",_=_!==""?"ForwardRef("+_+")":"ForwardRef"),_;case gv:return S=_.displayName||null,S!==null?S:o(_.type)||"Memo";case Ws:S=_._payload,_=_._init;try{return o(_(S))}catch{}}return null}function s(_){if(h0===void 0)try{throw Error()}catch(N){var S=N.stack.trim().match(/\n( *(at )?)/);h0=S&&S[1]||"",o1=-1<N.stack.indexOf(`
    at`)?" (<anonymous>)":-1<N.stack.indexOf("@")?"@unknown:0:0":""}return`
`+h0+_+o1}function l(_,S){if(!_||Tc)return"";Tc=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var z={DetermineComponentFrameRoot:function(){try{if(S){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(Cn){var Ut=Cn}Reflect.construct(_,[],Rt)}else{try{Rt.call()}catch(Cn){Ut=Cn}_.call(Rt.prototype)}}else{try{throw Error()}catch(Cn){Ut=Cn}(Rt=_())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(Cn){if(Cn&&Ut&&typeof Cn.stack=="string")return[Cn.stack,Ut.stack]}return[null,null]}};z.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var G=Object.getOwnPropertyDescriptor(z.DetermineComponentFrameRoot,"name");G&&G.configurable&&Object.defineProperty(z.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Z=z.DetermineComponentFrameRoot(),ce=Z[0],Se=Z[1];if(ce&&Se){var Be=ce.split(`
`),it=Se.split(`
`);for(G=z=0;z<Be.length&&!Be[z].includes("DetermineComponentFrameRoot");)z++;for(;G<it.length&&!it[G].includes("DetermineComponentFrameRoot");)G++;if(z===Be.length||G===it.length)for(z=Be.length-1,G=it.length-1;1<=z&&0<=G&&Be[z]!==it[G];)G--;for(;1<=z&&0<=G;z--,G--)if(Be[z]!==it[G]){if(z!==1||G!==1)do if(z--,G--,0>G||Be[z]!==it[G]){var bt=`
`+Be[z].replace(" at new "," at ");return _.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",_.displayName)),bt}while(1<=z&&0<=G);break}}}finally{Tc=!1,Error.prepareStackTrace=N}return(N=_?_.displayName||_.name:"")?s(N):""}function u(_){switch(_.tag){case 26:case 27:case 5:return s(_.type);case 16:return s("Lazy");case 13:return s("Suspense");case 19:return s("SuspenseList");case 0:case 15:return _=l(_.type,!1),_;case 11:return _=l(_.type.render,!1),_;case 1:return _=l(_.type,!0),_;default:return""}}function c(_){try{var S="";do S+=u(_),_=_.return;while(_);return S}catch(N){return`
Error generating stack: `+N.message+`
`+N.stack}}function f(_){var S=_,N=_;if(_.alternate)for(;S.return;)S=S.return;else{_=S;do S=_,(S.flags&4098)!==0&&(N=S.return),_=S.return;while(_)}return S.tag===3?N:null}function h(_){if(f(_)!==_)throw Error(i(188))}function d(_){var S=_.alternate;if(!S){if(S=f(_),S===null)throw Error(i(188));return S!==_?null:_}for(var N=_,z=S;;){var G=N.return;if(G===null)break;var Z=G.alternate;if(Z===null){if(z=G.return,z!==null){N=z;continue}break}if(G.child===Z.child){for(Z=G.child;Z;){if(Z===N)return h(G),_;if(Z===z)return h(G),S;Z=Z.sibling}throw Error(i(188))}if(N.return!==z.return)N=G,z=Z;else{for(var ce=!1,Se=G.child;Se;){if(Se===N){ce=!0,N=G,z=Z;break}if(Se===z){ce=!0,z=G,N=Z;break}Se=Se.sibling}if(!ce){for(Se=Z.child;Se;){if(Se===N){ce=!0,N=Z,z=G;break}if(Se===z){ce=!0,z=Z,N=G;break}Se=Se.sibling}if(!ce)throw Error(i(189))}}if(N.alternate!==z)throw Error(i(190))}if(N.tag!==3)throw Error(i(188));return N.stateNode.current===N?_:S}function v(_){var S=_.tag;if(S===5||S===26||S===27||S===6)return _;for(_=_.child;_!==null;){if(S=v(_),S!==null)return S;_=_.sibling}return null}function g(_){var S=_.tag;if(S===5||S===26||S===27||S===6)return _;for(_=_.child;_!==null;){if(_.tag!==4&&(S=g(_),S!==null))return S;_=_.sibling}return null}function y(_){return{current:_}}function x(_){0>wu||(_.current=Mv[wu],Mv[wu]=null,wu--)}function b(_,S){wu++,Mv[wu]=_.current,_.current=S}function T(_){return _>>>=0,_===0?32:31-(Av(_)/CT|0)|0}function M(_){var S=_&42;if(S!==0)return S;switch(_&-_){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return _&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return _}}function C(_,S){var N=_.pendingLanes;if(N===0)return 0;var z=0,G=_.suspendedLanes,Z=_.pingedLanes,ce=_.warmLanes;_=_.finishedLanes!==0;var Se=N&134217727;return Se!==0?(N=Se&~G,N!==0?z=M(N):(Z&=Se,Z!==0?z=M(Z):_||(ce=Se&~ce,ce!==0&&(z=M(ce))))):(Se=N&~G,Se!==0?z=M(Se):Z!==0?z=M(Z):_||(ce=N&~ce,ce!==0&&(z=M(ce)))),z===0?0:S!==0&&S!==z&&(S&G)===0&&(G=z&-z,ce=S&-S,G>=ce||G===32&&(ce&4194176)!==0)?S:z}function D(_,S){return(_.pendingLanes&~(_.suspendedLanes&~_.pingedLanes)&S)===0}function R(_,S){switch(_){case 1:case 2:case 4:case 8:return S+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I(){var _=xd;return xd<<=1,(xd&4194176)===0&&(xd=128),_}function L(){var _=Cv;return Cv<<=1,(Cv&62914560)===0&&(Cv=4194304),_}function O(_){for(var S=[],N=0;31>N;N++)S.push(_);return S}function B(_,S){_.pendingLanes|=S,S!==268435456&&(_.suspendedLanes=0,_.pingedLanes=0,_.warmLanes=0)}function V(_,S,N,z,G,Z){var ce=_.pendingLanes;_.pendingLanes=N,_.suspendedLanes=0,_.pingedLanes=0,_.warmLanes=0,_.expiredLanes&=N,_.entangledLanes&=N,_.errorRecoveryDisabledLanes&=N,_.shellSuspendCounter=0;var Se=_.entanglements,Be=_.expirationTimes,it=_.hiddenUpdates;for(N=ce&~N;0<N;){var bt=31-xo(N),Rt=1<<bt;Se[bt]=0,Be[bt]=-1;var Ut=it[bt];if(Ut!==null)for(it[bt]=null,bt=0;bt<Ut.length;bt++){var Cn=Ut[bt];Cn!==null&&(Cn.lane&=-536870913)}N&=~Rt}z!==0&&F(_,z,0),Z!==0&&G===0&&_.tag!==0&&(_.suspendedLanes|=Z&~(ce&~S))}function F(_,S,N){_.pendingLanes|=S,_.suspendedLanes&=~S;var z=31-xo(S);_.entangledLanes|=S,_.entanglements[z]=_.entanglements[z]|1073741824|N&4194218}function k(_,S){var N=_.entangledLanes|=S;for(_=_.entanglements;N;){var z=31-xo(N),G=1<<z;G&S|_[z]&S&&(_[z]|=S),N&=~G}}function Y(_){return _&=-_,2<_?8<_?(_&134217727)!==0?32:268435456:8:2}function H(_){if(_o&&typeof _o.onCommitFiberRoot=="function")try{_o.onCommitFiberRoot(bd,_,void 0,(_.current.flags&128)===128)}catch{}}function W(_){if(typeof RT=="function"&&k1(_),_o&&typeof _o.setStrictMode=="function")try{_o.setStrictMode(bd,_)}catch{}}function q(_,S){return _===S&&(_!==0||1/_===1/S)||_!==_&&S!==S}function K(_,S){if(typeof _=="object"&&_!==null){var N=D0.get(_);return N!==void 0?N:(S={value:_,source:S,stack:c(S)},D0.set(_,S),S)}return{value:_,source:S,stack:c(S)}}function re(_,S){$r[ui++]=Nv,$r[ui++]=Dv,Dv=_,Nv=S}function j(_,S,N){qo[Zo++]=Nl,qo[Zo++]=bs,qo[Zo++]=Ys,Ys=_;var z=Nl;_=bs;var G=32-xo(z)-1;z&=~(1<<G),N+=1;var Z=32-xo(S)+G;if(30<Z){var ce=G-G%5;Z=(z&(1<<ce)-1).toString(32),z>>=ce,G-=ce,Nl=1<<32-xo(S)+G|N<<G|z,bs=Z+_}else Nl=1<<Z|N<<G|z,bs=_}function Q(_){_.return!==null&&(re(_,1),j(_,1,0))}function ne(_){for(;_===Dv;)Dv=$r[--ui],$r[ui]=null,Nv=$r[--ui],$r[ui]=null;for(;_===Ys;)Ys=qo[--Zo],qo[Zo]=null,bs=qo[--Zo],qo[Zo]=null,Nl=qo[--Zo],qo[Zo]=null}function se(_,S){b(Xs,S),b(Rv,_),b(oa,null),_=Ff(S),x(oa),b(oa,_)}function he(){x(oa),x(Rv),x(Xs)}function pe(_){_.memoizedState!==null&&b(Sd,_);var S=oa.current,N=oT(S,_.type);S!==N&&(b(Rv,_),b(oa,N))}function xe(_){Rv.current===_&&(x(oa),x(Rv)),Sd.current===_&&(x(Sd),Cl?xn._currentValue=yo:xn._currentValue2=yo)}function Te(_){var S=Error(i(418,""));throw ct(K(S,_)),Lv}function Me(_,S){if(!Qa)throw Error(i(175));FN(_.stateNode,_.type,_.memoizedProps,S,_)||Te(_)}function Re(_){for(ka=_.return;ka;)switch(ka.tag){case 3:case 27:Ss=!0;return;case 5:case 13:Ss=!1;return;default:ka=ka.return}}function Ue(_){if(!Qa||_!==ka)return!1;if(!ur)return Re(_),ur=!0,!1;var S=!1;if(ya?_.tag!==3&&_.tag!==27&&(_.tag!==5||ST(_.type)&&!Cc(_.type,_.memoizedProps))&&(S=!0):_.tag!==3&&(_.tag!==5||ST(_.type)&&!Cc(_.type,_.memoizedProps))&&(S=!0),S&&_a&&Te(_),Re(_),_.tag===13){if(!Qa)throw Error(i(316));if(_=_.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_a=_T(_)}else _a=ka?T1(_.stateNode):null;return!0}function et(){Qa&&(_a=ka=null,ur=!1)}function ct(_){Ko===null?Ko=[_]:Ko.push(_)}function X(){for(var _=Dc,S=wd=Dc=0;S<_;){var N=Jo[S];Jo[S++]=null;var z=Jo[S];Jo[S++]=null;var G=Jo[S];Jo[S++]=null;var Z=Jo[S];if(Jo[S++]=null,z!==null&&G!==null){var ce=z.pending;ce===null?G.next=G:(G.next=ce.next,ce.next=G),z.pending=G}Z!==0&&ae(N,G,Z)}}function te(_,S,N,z){Jo[Dc++]=_,Jo[Dc++]=S,Jo[Dc++]=N,Jo[Dc++]=z,wd|=z,_.lanes|=z,_=_.alternate,_!==null&&(_.lanes|=z)}function ve(_,S,N,z){return te(_,S,N,z),de(_)}function oe(_,S){return te(_,null,null,S),de(_)}function ae(_,S,N){_.lanes|=N;var z=_.alternate;z!==null&&(z.lanes|=N);for(var G=!1,Z=_.return;Z!==null;)Z.childLanes|=N,z=Z.alternate,z!==null&&(z.childLanes|=N),Z.tag===22&&(_=Z.stateNode,_===null||_._visibility&1||(G=!0)),_=Z,Z=Z.return;G&&S!==null&&_.tag===3&&(Z=_.stateNode,G=31-xo(N),Z=Z.hiddenUpdates,_=Z[G],_===null?Z[G]=[S]:_.push(S),S.lane=N|536870912)}function de(_){if(50<Qf)throw Qf=0,to=null,Error(i(185));for(var S=_.return;S!==null;)_=S,S=_.return;return _.tag===3?_.stateNode:null}function Ae(_){_!==Wf&&_.next===null&&(Wf===null?Td=Wf=_:Wf=Wf.next=_),Ov=!0,Iv||(Iv=!0,Ne(be))}function Ce(_,S){if(!qs&&Ov){qs=!0;do for(var N=!1,z=Td;z!==null;){if(_!==0){var G=z.pendingLanes;if(G===0)var Z=0;else{var ce=z.suspendedLanes,Se=z.pingedLanes;Z=(1<<31-xo(42|_)+1)-1,Z&=G&~(ce&~Se),Z=Z&201326677?Z&201326677|1:Z?Z|2:0}Z!==0&&(N=!0,me(z,Z))}else Z=Hn,Z=C(z,z===Yn?Z:0),(Z&3)===0||D(z,Z)||(N=!0,me(z,Z));z=z.next}while(N);qs=!1}}function be(){Ov=Iv=!1;var _=0;Nc!==0&&(Ec()&&(_=Nc),Nc=0);for(var S=xa(),N=null,z=Td;z!==null;){var G=z.next,Z=ie(z,S);Z===0?(z.next=null,N===null?Td=G:N.next=G,G===null&&(Wf=N)):(N=z,(_!==0||(Z&3)!==0)&&(Ov=!0)),z=G}Ce(_)}function ie(_,S){for(var N=_.suspendedLanes,z=_.pingedLanes,G=_.expirationTimes,Z=_.pendingLanes&-62914561;0<Z;){var ce=31-xo(Z),Se=1<<ce,Be=G[ce];Be===-1?((Se&N)===0||(Se&z)!==0)&&(G[ce]=R(Se,S)):Be<=S&&(_.expiredLanes|=Se),Z&=~Se}if(S=Yn,N=Hn,N=C(_,_===S?N:0),z=_.callbackNode,N===0||_===S&&Or===2||_.cancelPendingCommit!==null)return z!==null&&z!==null&&Ev(z),_.callbackNode=null,_.callbackPriority=0;if((N&3)===0||D(_,N)){if(S=N&-N,S===_.callbackPriority)return S;switch(z!==null&&Ev(z),Y(N)){case 2:case 8:N=NT;break;case 32:N=C0;break;case 268435456:N=E0;break;default:N=C0}return z=ee.bind(null,_),N=_d(N,z),_.callbackPriority=S,_.callbackNode=N,S}return z!==null&&z!==null&&Ev(z),_.callbackPriority=2,_.callbackNode=null,2}function ee(_,S){var N=_.callbackNode;if(ia()&&_.callbackNode!==N)return null;var z=Hn;return z=C(_,_===Yn?z:0),z===0?null:(fv(_,z,S),ie(_,xa()),_.callbackNode!=null&&_.callbackNode===N?ee.bind(null,_):null)}function me(_,S){if(ia())return null;fv(_,S,!0)}function Ne(_){Ni?g0(function(){(an&6)!==0?_d(z1,_):_()}):_d(z1,_)}function qe(){return Nc===0&&(Nc=I()),Nc}function Ie(_,S){if(Pv===null){var N=Pv=[];N0=0,bo=qe(),Rc={status:"pending",value:void 0,then:function(z){N.push(z)}}}return N0++,S.then(Mt,Mt),S}function Mt(){if(--N0===0&&Pv!==null){Rc!==null&&(Rc.status="fulfilled");var _=Pv;Pv=null,bo=0,Rc=null;for(var S=0;S<_.length;S++)(0,_[S])()}}function xt(_,S){var N=[],z={status:"pending",value:null,reason:null,then:function(G){N.push(G)}};return _.then(function(){z.status="fulfilled",z.value=S;for(var G=0;G<N.length;G++)(0,N[G])(S)},function(G){for(z.status="rejected",z.reason=G,G=0;G<N.length;G++)(0,N[G])(void 0)}),z}function Ct(_){_.updateQueue={baseState:_.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dt(_,S){_=_.updateQueue,S.updateQueue===_&&(S.updateQueue={baseState:_.baseState,firstBaseUpdate:_.firstBaseUpdate,lastBaseUpdate:_.lastBaseUpdate,shared:_.shared,callbacks:null})}function Je(_){return{lane:_,tag:0,payload:null,callback:null,next:null}}function ut(_,S,N){var z=_.updateQueue;if(z===null)return null;if(z=z.shared,(an&2)!==0){var G=z.pending;return G===null?S.next=S:(S.next=G.next,G.next=S),z.pending=S,S=de(_),ae(_,null,N),S}return te(_,z,S,N),de(_)}function kt(_,S,N){if(S=S.updateQueue,S!==null&&(S=S.shared,(N&4194176)!==0)){var z=S.lanes;z&=_.pendingLanes,N|=z,S.lanes=N,k(_,N)}}function ye(_,S){var N=_.updateQueue,z=_.alternate;if(z!==null&&(z=z.updateQueue,N===z)){var G=null,Z=null;if(N=N.firstBaseUpdate,N!==null){do{var ce={lane:N.lane,tag:N.tag,payload:N.payload,callback:null,next:null};Z===null?G=Z=ce:Z=Z.next=ce,N=N.next}while(N!==null);Z===null?G=Z=S:Z=Z.next=S}else G=Z=S;N={baseState:z.baseState,firstBaseUpdate:G,lastBaseUpdate:Z,shared:z.shared,callbacks:z.callbacks},_.updateQueue=N;return}_=N.lastBaseUpdate,_===null?N.firstBaseUpdate=S:_.next=S,N.lastBaseUpdate=S}function Fe(){if(Md){var _=Rc;if(_!==null)throw _}}function ft(_,S,N,z){Md=!1;var G=_.updateQueue;Tu=!1;var Z=G.firstBaseUpdate,ce=G.lastBaseUpdate,Se=G.shared.pending;if(Se!==null){G.shared.pending=null;var Be=Se,it=Be.next;Be.next=null,ce===null?Z=it:ce.next=it,ce=Be;var bt=_.alternate;bt!==null&&(bt=bt.updateQueue,Se=bt.lastBaseUpdate,Se!==ce&&(Se===null?bt.firstBaseUpdate=it:Se.next=it,bt.lastBaseUpdate=Be))}if(Z!==null){var Rt=G.baseState;ce=0,bt=it=Be=null,Se=Z;do{var Ut=Se.lane&-536870913,Cn=Ut!==Se.lane;if(Cn?(Hn&Ut)===Ut:(z&Ut)===Ut){Ut!==0&&Ut===bo&&(Md=!0),bt!==null&&(bt=bt.next={lane:0,tag:Se.tag,payload:Se.payload,callback:null,next:null});e:{var Mo=_,Uv=Se;Ut=S;var $f=N;switch(Uv.tag){case 1:if(Mo=Uv.payload,typeof Mo=="function"){Rt=Mo.call($f,Rt,Ut);break e}Rt=Mo;break e;case 3:Mo.flags=Mo.flags&-65537|128;case 0:if(Mo=Uv.payload,Ut=typeof Mo=="function"?Mo.call($f,Rt,Ut):Mo,Ut==null)break e;Rt=Uf({},Rt,Ut);break e;case 2:Tu=!0}}Ut=Se.callback,Ut!==null&&(_.flags|=64,Cn&&(_.flags|=8192),Cn=G.callbacks,Cn===null?G.callbacks=[Ut]:Cn.push(Ut))}else Cn={lane:Ut,tag:Se.tag,payload:Se.payload,callback:Se.callback,next:null},bt===null?(it=bt=Cn,Be=Rt):bt=bt.next=Cn,ce|=Ut;if(Se=Se.next,Se===null){if(Se=G.shared.pending,Se===null)break;Cn=Se,Se=Cn.next,Cn.next=null,G.lastBaseUpdate=Cn,G.shared.pending=null}}while(!0);bt===null&&(Be=Rt),G.baseState=Be,G.firstBaseUpdate=it,G.lastBaseUpdate=bt,Z===null&&(G.shared.lanes=0),ts|=ce,_.lanes=ce,_.memoizedState=Rt}}function _e(_,S){if(typeof _!="function")throw Error(i(191,_));_.call(S)}function ht(_,S){var N=_.callbacks;if(N!==null)for(_.callbacks=null,_=0;_<N.length;_++)_e(N[_],S)}function dt(_,S){if(Xo(_,S))return!0;if(typeof _!="object"||_===null||typeof S!="object"||S===null)return!1;var N=Object.keys(_),z=Object.keys(S);if(N.length!==z.length)return!1;for(z=0;z<N.length;z++){var G=N[z];if(!zv.call(S,G)||!Xo(_[G],S[G]))return!1}return!0}function at(_){return _=_.status,_==="fulfilled"||_==="rejected"}function rt(){}function tt(_,S,N){switch(N=_[N],N===void 0?_.push(S):N!==S&&(S.then(rt,rt),S=N),S.status){case"fulfilled":return S.value;case"rejected":throw _=S.reason,_===Er?Error(i(483)):_;default:if(typeof S.status=="string")S.then(rt,rt);else{if(_=Yn,_!==null&&100<_.shellSuspendCounter)throw Error(i(482));_=S,_.status="pending",_.then(function(z){if(S.status==="pending"){var G=S;G.status="fulfilled",G.value=z}},function(z){if(S.status==="pending"){var G=S;G.status="rejected",G.reason=z}})}switch(S.status){case"fulfilled":return S.value;case"rejected":throw _=S.reason,_===Er?Error(i(483)):_}throw Yf=S,Er}}function wt(){if(Yf===null)throw Error(i(459));var _=Yf;return Yf=null,_}function Bt(_){var S=ws;return ws+=1,Rl===null&&(Rl=[]),tt(Rl,_,S)}function hn(_,S){S=S.props.ref,_.ref=S!==void 0?S:null}function dn(_,S){throw S.$$typeof===n1?Error(i(525)):(_=Object.prototype.toString.call(S),Error(i(31,_==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":_)))}function br(_){var S=_._init;return S(_._payload)}function Xn(_){function S(We,ze){if(_){var Ze=We.deletions;Ze===null?(We.deletions=[ze],We.flags|=16):Ze.push(ze)}}function N(We,ze){if(!_)return null;for(;ze!==null;)S(We,ze),ze=ze.sibling;return null}function z(We){for(var ze=new Map;We!==null;)We.key!==null?ze.set(We.key,We):ze.set(We.index,We),We=We.sibling;return ze}function G(We,ze){return We=Pa(We,ze),We.index=0,We.sibling=null,We}function Z(We,ze,Ze){return We.index=Ze,_?(Ze=We.alternate,Ze!==null?(Ze=Ze.index,Ze<ze?(We.flags|=33554434,ze):Ze):(We.flags|=33554434,ze)):(We.flags|=1048576,ze)}function ce(We){return _&&We.alternate===null&&(We.flags|=33554434),We}function Se(We,ze,Ze,yt){return ze===null||ze.tag!==6?(ze=bc(Ze,We.mode,yt),ze.return=We,ze):(ze=G(ze,Ze),ze.return=We,ze)}function Be(We,ze,Ze,yt){var en=Ze.type;return en===pd?bt(We,ze,Ze.props.children,yt,Ze.key):ze!==null&&(ze.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===Ws&&br(en)===ze.type)?(ze=G(ze,Ze.props),hn(ze,Ze),ze.return=We,ze):(ze=xs(Ze.type,Ze.key,Ze.props,null,We.mode,yt),hn(ze,Ze),ze.return=We,ze)}function it(We,ze,Ze,yt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Ze.containerInfo||ze.stateNode.implementation!==Ze.implementation?(ze=dd(Ze,We.mode,yt),ze.return=We,ze):(ze=G(ze,Ze.children||[]),ze.return=We,ze)}function bt(We,ze,Ze,yt,en){return ze===null||ze.tag!==7?(ze=yu(Ze,We.mode,yt,en),ze.return=We,ze):(ze=G(ze,Ze),ze.return=We,ze)}function Rt(We,ze,Ze){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ze=bc(""+ze,We.mode,Ze),ze.return=We,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case xu:return Ze=xs(ze.type,ze.key,ze.props,null,We.mode,Ze),hn(Ze,ze),Ze.return=We,Ze;case js:return ze=dd(ze,We.mode,Ze),ze.return=We,ze;case Ws:var yt=ze._init;return ze=yt(ze._payload),Rt(We,ze,Ze)}if(Mc(ze)||a(ze))return ze=yu(ze,We.mode,Ze,null),ze.return=We,ze;if(typeof ze.then=="function")return Rt(We,Bt(ze),Ze);if(ze.$$typeof===Ml)return Rt(We,ov(We,ze),Ze);dn(We,ze)}return null}function Ut(We,ze,Ze,yt){var en=ze!==null?ze.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return en!==null?null:Se(We,ze,""+Ze,yt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case xu:return Ze.key===en?Be(We,ze,Ze,yt):null;case js:return Ze.key===en?it(We,ze,Ze,yt):null;case Ws:return en=Ze._init,Ze=en(Ze._payload),Ut(We,ze,Ze,yt)}if(Mc(Ze)||a(Ze))return en!==null?null:bt(We,ze,Ze,yt,null);if(typeof Ze.then=="function")return Ut(We,ze,Bt(Ze),yt);if(Ze.$$typeof===Ml)return Ut(We,ze,ov(We,Ze),yt);dn(We,Ze)}return null}function Cn(We,ze,Ze,yt,en){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return We=We.get(Ze)||null,Se(ze,We,""+yt,en);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case xu:return We=We.get(yt.key===null?Ze:yt.key)||null,Be(ze,We,yt,en);case js:return We=We.get(yt.key===null?Ze:yt.key)||null,it(ze,We,yt,en);case Ws:var jr=yt._init;return yt=jr(yt._payload),Cn(We,ze,Ze,yt,en)}if(Mc(yt)||a(yt))return We=We.get(Ze)||null,bt(ze,We,yt,en,null);if(typeof yt.then=="function")return Cn(We,ze,Ze,Bt(yt),en);if(yt.$$typeof===Ml)return Cn(We,ze,Ze,ov(ze,yt),en);dn(ze,yt)}return null}function Mo(We,ze,Ze,yt){for(var en=null,jr=null,_n=ze,fr=ze=0,Xi=null;_n!==null&&fr<Ze.length;fr++){_n.index>fr?(Xi=_n,_n=null):Xi=_n.sibling;var hr=Ut(We,_n,Ze[fr],yt);if(hr===null){_n===null&&(_n=Xi);break}_&&_n&&hr.alternate===null&&S(We,_n),ze=Z(hr,ze,fr),jr===null?en=hr:jr.sibling=hr,jr=hr,_n=Xi}if(fr===Ze.length)return N(We,_n),ur&&re(We,fr),en;if(_n===null){for(;fr<Ze.length;fr++)_n=Rt(We,Ze[fr],yt),_n!==null&&(ze=Z(_n,ze,fr),jr===null?en=_n:jr.sibling=_n,jr=_n);return ur&&re(We,fr),en}for(_n=z(_n);fr<Ze.length;fr++)Xi=Cn(_n,We,fr,Ze[fr],yt),Xi!==null&&(_&&Xi.alternate!==null&&_n.delete(Xi.key===null?fr:Xi.key),ze=Z(Xi,ze,fr),jr===null?en=Xi:jr.sibling=Xi,jr=Xi);return _&&_n.forEach(function(Ru){return S(We,Ru)}),ur&&re(We,fr),en}function Uv(We,ze,Ze,yt){if(Ze==null)throw Error(i(151));for(var en=null,jr=null,_n=ze,fr=ze=0,Xi=null,hr=Ze.next();_n!==null&&!hr.done;fr++,hr=Ze.next()){_n.index>fr?(Xi=_n,_n=null):Xi=_n.sibling;var Ru=Ut(We,_n,hr.value,yt);if(Ru===null){_n===null&&(_n=Xi);break}_&&_n&&Ru.alternate===null&&S(We,_n),ze=Z(Ru,ze,fr),jr===null?en=Ru:jr.sibling=Ru,jr=Ru,_n=Xi}if(hr.done)return N(We,_n),ur&&re(We,fr),en;if(_n===null){for(;!hr.done;fr++,hr=Ze.next())hr=Rt(We,hr.value,yt),hr!==null&&(ze=Z(hr,ze,fr),jr===null?en=hr:jr.sibling=hr,jr=hr);return ur&&re(We,fr),en}for(_n=z(_n);!hr.done;fr++,hr=Ze.next())hr=Cn(_n,We,fr,hr.value,yt),hr!==null&&(_&&hr.alternate!==null&&_n.delete(hr.key===null?fr:hr.key),ze=Z(hr,ze,fr),jr===null?en=hr:jr.sibling=hr,jr=hr);return _&&_n.forEach(function(U0){return S(We,U0)}),ur&&re(We,fr),en}function $f(We,ze,Ze,yt){if(typeof Ze=="object"&&Ze!==null&&Ze.type===pd&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case xu:e:{for(var en=Ze.key;ze!==null;){if(ze.key===en){if(en=Ze.type,en===pd){if(ze.tag===7){N(We,ze.sibling),yt=G(ze,Ze.props.children),yt.return=We,We=yt;break e}}else if(ze.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===Ws&&br(en)===ze.type){N(We,ze.sibling),yt=G(ze,Ze.props),hn(yt,Ze),yt.return=We,We=yt;break e}N(We,ze);break}else S(We,ze);ze=ze.sibling}Ze.type===pd?(yt=yu(Ze.props.children,We.mode,yt,Ze.key),yt.return=We,We=yt):(yt=xs(Ze.type,Ze.key,Ze.props,null,We.mode,yt),hn(yt,Ze),yt.return=We,We=yt)}return ce(We);case js:e:{for(en=Ze.key;ze!==null;){if(ze.key===en)if(ze.tag===4&&ze.stateNode.containerInfo===Ze.containerInfo&&ze.stateNode.implementation===Ze.implementation){N(We,ze.sibling),yt=G(ze,Ze.children||[]),yt.return=We,We=yt;break e}else{N(We,ze);break}else S(We,ze);ze=ze.sibling}yt=dd(Ze,We.mode,yt),yt.return=We,We=yt}return ce(We);case Ws:return en=Ze._init,Ze=en(Ze._payload),$f(We,ze,Ze,yt)}if(Mc(Ze))return Mo(We,ze,Ze,yt);if(a(Ze)){if(en=a(Ze),typeof en!="function")throw Error(i(150));return Ze=en.call(Ze),Uv(We,ze,Ze,yt)}if(typeof Ze.then=="function")return $f(We,ze,Bt(Ze),yt);if(Ze.$$typeof===Ml)return $f(We,ze,ov(We,Ze),yt);dn(We,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,ze!==null&&ze.tag===6?(N(We,ze.sibling),yt=G(ze,Ze),yt.return=We,We=yt):(N(We,ze),yt=bc(Ze,We.mode,yt),yt.return=We,We=yt),ce(We)):N(We,ze)}return function(We,ze,Ze,yt){try{ws=0;var en=$f(We,ze,Ze,yt);return Rl=null,en}catch(_n){if(_n===Er)throw _n;var jr=t(29,_n,null,We.mode);return jr.lanes=yt,jr.return=We,jr}finally{}}}function ho(_,S){_=Zs,b(Qo,_),b(Ll,S),Zs=_|S.baseLanes}function ta(){b(Qo,Zs),b(Ll,Ll.current)}function da(){Zs=Qo.current,x(Ll),x(Qo)}function ni(_){var S=_.alternate;b(Ri,Ri.current&1),b($o,_),Ts===null&&(S===null||Ll.current!==null||S.memoizedState!==null)&&(Ts=_)}function po(_){if(_.tag===22){if(b(Ri,Ri.current),b($o,_),Ts===null){var S=_.alternate;S!==null&&S.memoizedState!==null&&(Ts=_)}}else pi()}function pi(){b(Ri,Ri.current),b($o,$o.current)}function Fi(_){x($o),Ts===_&&(Ts=null),x(Ri)}function Ei(_){for(var S=_;S!==null;){if(S.tag===13){var N=S.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||b0(N)||Tv(N)))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===_)break;for(;S.sibling===null;){if(S.return===null||S.return===_)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}function Vn(){throw Error(i(321))}function vi(_,S){if(S===null)return!1;for(var N=0;N<S.length&&N<_.length;N++)if(!Xo(_[N],S[N]))return!1;return!0}function Us(_,S,N,z,G,Z){return Il=Z,zn=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,vn.H=_===null||_.memoizedState===null?Li:Ba,Mu=!1,Z=N(z,G),Mu=!1,ei&&(Z=Um(S,N,z,G)),Mf(_),Z}function Mf(_){vn.H=cr;var S=mr!==null&&mr.next!==null;if(Il=0,yi=mr=zn=null,Ms=!1,ci=0,Ad=null,S)throw Error(i(300));_===null||xi||(_=_.dependencies,_!==null&&cc(_)&&(xi=!0))}function Um(_,S,N,z){zn=_;var G=0;do{if(ei&&(Ad=null),ci=0,ei=!1,25<=G)throw Error(i(301));if(G+=1,yi=mr=null,_.updateQueue!=null){var Z=_.updateQueue;Z.lastEffect=null,Z.events=null,Z.stores=null,Z.memoCache!=null&&(Z.memoCache.index=0)}vn.H=Ic,Z=S(N,z)}while(ei);return Z}function A_(){var _=vn.H,S=_.useState()[0];return S=typeof S.then=="function"?Le(S):S,_=_.useState()[0],(mr!==null?mr.memoizedState:null)!==_&&(zn.flags|=1024),S}function Qh(){var _=kv!==0;return kv=0,_}function lu(_,S,N){S.updateQueue=_.updateQueue,S.flags&=-2053,_.lanes&=~N}function Af(_){if(Ms){for(_=_.memoizedState;_!==null;){var S=_.queue;S!==null&&(S.pending=null),_=_.next}Ms=!1}Il=0,yi=mr=zn=null,ei=!1,ci=kv=0,Ad=null}function gi(){var _={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yi===null?zn.memoizedState=yi=_:yi=yi.next=_,yi}function le(){if(mr===null){var _=zn.alternate;_=_!==null?_.memoizedState:null}else _=mr.next;var S=yi===null?zn.memoizedState:yi.next;if(S!==null)yi=S,mr=_;else{if(_===null)throw zn.alternate===null?Error(i(467)):Error(i(310));mr=_,_={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},yi===null?zn.memoizedState=yi=_:yi=yi.next=_}return yi}function Le(_){var S=ci;return ci+=1,Ad===null&&(Ad=[]),_=tt(Ad,_,S),S=zn,(yi===null?S.memoizedState:yi.next)===null&&(S=S.alternate,vn.H=S===null||S.memoizedState===null?Li:Ba),_}function Ye(_){if(_!==null&&typeof _=="object"){if(typeof _.then=="function")return Le(_);if(_.$$typeof===Ml)return va(_)}throw Error(i(438,String(_)))}function Ve(_){var S=null,N=zn.updateQueue;if(N!==null&&(S=N.memoCache),S==null){var z=zn.alternate;z!==null&&(z=z.updateQueue,z!==null&&(z=z.memoCache,z!=null&&(S={data:z.data.map(function(G){return G.slice()}),index:0})))}if(S==null&&(S={data:[],index:0}),N===null&&(N=L0(),zn.updateQueue=N),N.memoCache=S,N=S.data[S.index],N===void 0)for(N=S.data[S.index]=Array(_),z=0;z<_;z++)N[z]=aT;return S.index++,N}function Pe(_,S){return typeof S=="function"?S(_):S}function _t(_){var S=le();return Et(S,mr,_)}function Et(_,S,N){var z=_.queue;if(z===null)throw Error(i(311));z.lastRenderedReducer=N;var G=_.baseQueue,Z=z.pending;if(Z!==null){if(G!==null){var ce=G.next;G.next=Z.next,Z.next=ce}S.baseQueue=G=Z,z.pending=null}if(Z=_.baseState,G===null)_.memoizedState=Z;else{S=G.next;var Se=ce=null,Be=null,it=S,bt=!1;do{var Rt=it.lane&-536870913;if(Rt!==it.lane?(Hn&Rt)===Rt:(Il&Rt)===Rt){var Ut=it.revertLane;if(Ut===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),Rt===bo&&(bt=!0);else if((Il&Ut)===Ut){it=it.next,Ut===bo&&(bt=!0);continue}else Rt={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Be===null?(Se=Be=Rt,ce=Z):Be=Be.next=Rt,zn.lanes|=Ut,ts|=Ut;Rt=it.action,Mu&&N(Z,Rt),Z=it.hasEagerState?it.eagerState:N(Z,Rt)}else Ut={lane:Rt,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Be===null?(Se=Be=Ut,ce=Z):Be=Be.next=Ut,zn.lanes|=Rt,ts|=Rt;it=it.next}while(it!==null&&it!==S);if(Be===null?ce=Z:Be.next=Se,!Xo(Z,_.memoizedState)&&(xi=!0,bt&&(N=Rc,N!==null)))throw N;_.memoizedState=Z,_.baseState=ce,_.baseQueue=Be,z.lastRenderedState=Z}return G===null&&(z.lanes=0),[_.memoizedState,z.dispatch]}function Gt(_){var S=le(),N=S.queue;if(N===null)throw Error(i(311));N.lastRenderedReducer=_;var z=N.dispatch,G=N.pending,Z=S.memoizedState;if(G!==null){N.pending=null;var ce=G=G.next;do Z=_(Z,ce.action),ce=ce.next;while(ce!==G);Xo(Z,S.memoizedState)||(xi=!0),S.memoizedState=Z,S.baseQueue===null&&(S.baseState=Z),N.lastRenderedState=Z}return[Z,z]}function Yt(_,S,N){var z=zn,G=le(),Z=ur;if(Z){if(N===void 0)throw Error(i(407));N=N()}else N=S();var ce=!Xo((mr||G).memoizedState,N);if(ce&&(G.memoizedState=N,xi=!0),G=G.queue,Kp(nn.bind(null,z,G,_),[_]),G.getSnapshot!==S||ce||yi!==null&&yi.memoizedState.tag&1){if(z.flags|=2048,oi(9,pn.bind(null,z,G,N,S),{destroy:void 0},null),Yn===null)throw Error(i(349));Z||(Il&60)!==0||un(z,S,N)}return N}function un(_,S,N){_.flags|=16384,_={getSnapshot:S,value:N},S=zn.updateQueue,S===null?(S=L0(),zn.updateQueue=S,S.stores=[_]):(N=S.stores,N===null?S.stores=[_]:N.push(_))}function pn(_,S,N,z){S.value=N,S.getSnapshot=z,Ln(S)&&ir(_)}function nn(_,S,N){return N(function(){Ln(S)&&ir(_)})}function Ln(_){var S=_.getSnapshot;_=_.value;try{var N=S();return!Xo(_,N)}catch{return!0}}function ir(_){var S=oe(_,2);S!==null&&Oa(S,_,2)}function ar(_){var S=gi();if(typeof _=="function"){var N=_;if(_=N(),Mu){W(!0);try{N()}finally{W(!1)}}}return S.memoizedState=S.baseState=_,S.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pe,lastRenderedState:_},S}function Kn(_,S,N,z){return _.baseState=N,Et(_,mr,typeof z=="function"?z:Pe)}function Sr(_,S,N,z,G){if(Df(_))throw Error(i(485));if(_=S.action,_!==null){var Z={payload:G,action:_,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ce){Z.listeners.push(ce)}};vn.T!==null?N(!0):Z.isTransition=!1,z(Z),N=S.pending,N===null?(Z.next=S.pending=Z,ln(S,Z)):(Z.next=N.next,S.pending=N.next=Z)}}function ln(_,S){var N=S.action,z=S.payload,G=_.state;if(S.isTransition){var Z=vn.T,ce={};vn.T=ce;try{var Se=N(G,z),Be=vn.S;Be!==null&&Be(ce,Se),Lr(_,S,Se)}catch(it){Di(_,S,it)}finally{vn.T=Z}}else try{Z=N(G,z),Lr(_,S,Z)}catch(it){Di(_,S,it)}}function Lr(_,S,N){N!==null&&typeof N=="object"&&typeof N.then=="function"?N.then(function(z){Jn(_,S,z)},function(z){return Di(_,S,z)}):Jn(_,S,N)}function Jn(_,S,N){S.status="fulfilled",S.value=N,uu(S),_.state=N,S=_.pending,S!==null&&(N=S.next,N===S?_.pending=null:(N=N.next,S.next=N,ln(_,N)))}function Di(_,S,N){var z=_.pending;if(_.pending=null,z!==null){z=z.next;do S.status="rejected",S.reason=N,uu(S),S=S.next;while(S!==z)}_.action=null}function uu(_){_=_.listeners;for(var S=0;S<_.length;S++)(0,_[S])()}function zr(_,S){return S}function ml(_,S){if(ur){var N=Yn.formState;if(N!==null){e:{var z=zn;if(ur){if(_a){var G=hT(_a,Ss);if(G){_a=T1(G),z=dT(G);break e}}Te(z)}z=!1}z&&(S=N[0])}}N=gi(),N.memoizedState=N.baseState=S,z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:S},N.queue=z,N=Hm.bind(null,zn,z),z.dispatch=N,z=ar(!1);var Z=jm.bind(null,zn,!1,z.queue);return z=gi(),G={state:S,dispatch:null,action:_,pending:null},z.queue=G,N=Sr.bind(null,zn,G,Z,N),G.dispatch=N,z.memoizedState=_,[S,N,!1]}function kr(_){var S=le();return Gi(S,mr,_)}function Gi(_,S,N){S=Et(_,S,zr)[0],_=_t(Pe)[0],S=typeof S=="object"&&S!==null&&typeof S.then=="function"?Le(S):S;var z=le(),G=z.queue,Z=G.dispatch;return N!==z.memoizedState&&(zn.flags|=2048,oi(9,Hi.bind(null,G,N),{destroy:void 0},null)),[S,Z,_]}function Hi(_,S){_.action=S}function ji(_){var S=le(),N=mr;if(N!==null)return Gi(S,N,_);le(),S=S.memoizedState,N=le();var z=N.queue.dispatch;return N.memoizedState=_,[S,z,!1]}function oi(_,S,N,z){return _={tag:_,create:S,inst:N,deps:z,next:null},S=zn.updateQueue,S===null&&(S=L0(),zn.updateQueue=S),N=S.lastEffect,N===null?S.lastEffect=_.next=_:(z=N.next,N.next=_,_.next=z,S.lastEffect=_),_}function Vs(){return le().memoizedState}function ys(_,S,N,z){var G=gi();zn.flags|=_,G.memoizedState=oi(1|S,N,{destroy:void 0},z===void 0?null:z)}function Zp(_,S,N,z){var G=le();z=z===void 0?null:z;var Z=G.memoizedState.inst;mr!==null&&z!==null&&vi(z,mr.memoizedState.deps)?G.memoizedState=oi(S,N,Z,z):(zn.flags|=_,G.memoizedState=oi(1|S,N,Z,z))}function C_(_,S){ys(8390656,8,_,S)}function Kp(_,S){Zp(2048,8,_,S)}function Ow(_,S){return Zp(4,2,_,S)}function Pw(_,S){return Zp(4,4,_,S)}function Jp(_,S){if(typeof S=="function"){_=_();var N=S(_);return function(){typeof N=="function"?N():S(null)}}if(S!=null)return _=_(),S.current=_,function(){S.current=null}}function yl(_,S,N){N=N!=null?N.concat([_]):null,Zp(4,4,Jp.bind(null,S,_),N)}function Qp(){}function Vm(_,S){var N=le();S=S===void 0?null:S;var z=N.memoizedState;return S!==null&&vi(S,z[1])?z[0]:(N.memoizedState=[_,S],_)}function Cf(_,S){var N=le();S=S===void 0?null:S;var z=N.memoizedState;if(S!==null&&vi(S,z[1]))return z[0];if(z=_(),Mu){W(!0);try{_()}finally{W(!1)}}return N.memoizedState=[z,S],z}function ac(_,S,N){return N===void 0||(Il&1073741824)!==0?_.memoizedState=S:(_.memoizedState=N,_=bl(),zn.lanes|=_,ts|=_,N)}function E_(_,S,N,z){return Xo(N,S)?N:Ll.current!==null?(_=ac(_,N,z),Xo(_,S)||(xi=!0),_):(Il&42)===0?(xi=!0,_.memoizedState=N):(_=bl(),zn.lanes|=_,ts|=_,S)}function Fm(_,S,N,z,G){var Z=Wi();za(Z!==0&&8>Z?Z:8);var ce=vn.T,Se={};vn.T=Se,jm(_,!1,S,N);try{var Be=G(),it=vn.S;if(it!==null&&it(Se,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var bt=xt(Be,z);sc(_,S,bt,Ja(_))}else sc(_,S,z,Ja(_))}catch(Rt){sc(_,S,{then:function(){},status:"rejected",reason:Rt},Ja())}finally{za(Z),vn.T=ce}}function D_(_){var S=_.memoizedState;if(S!==null)return S;S={memoizedState:yo,baseState:yo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pe,lastRenderedState:yo},next:null};var N={};return S.next={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pe,lastRenderedState:N},next:null},_.memoizedState=S,_=_.alternate,_!==null&&(_.memoizedState=S),S}function Ef(){return va(xn)}function xl(){return le().memoizedState}function Gm(){return le().memoizedState}function $p(_){for(var S=_.return;S!==null;){switch(S.tag){case 24:case 3:var N=Ja();_=Je(N);var z=ut(S,_,N);z!==null&&(Oa(z,S,N),kt(z,S,N)),S={cache:Zm()},_.payload=S;return}S=S.return}}function oc(_,S,N){var z=Ja();N={lane:z,revertLane:0,action:N,hasEagerState:!1,eagerState:null,next:null},Df(_)?ev(S,N):(N=ve(_,S,N,z),N!==null&&(Oa(N,_,z),N_(N,S,z)))}function Hm(_,S,N){var z=Ja();sc(_,S,N,z)}function sc(_,S,N,z){var G={lane:z,revertLane:0,action:N,hasEagerState:!1,eagerState:null,next:null};if(Df(_))ev(S,G);else{var Z=_.alternate;if(_.lanes===0&&(Z===null||Z.lanes===0)&&(Z=S.lastRenderedReducer,Z!==null))try{var ce=S.lastRenderedState,Se=Z(ce,N);if(G.hasEagerState=!0,G.eagerState=Se,Xo(Se,ce))return te(_,S,G,0),Yn===null&&X(),!1}catch{}finally{}if(N=ve(_,S,G,z),N!==null)return Oa(N,_,z),N_(N,S,z),!0}return!1}function jm(_,S,N,z){if(z={lane:2,revertLane:qe(),action:z,hasEagerState:!1,eagerState:null,next:null},Df(_)){if(S)throw Error(i(479))}else S=ve(_,N,z,2),S!==null&&Oa(S,_,2)}function Df(_){var S=_.alternate;return _===zn||S!==null&&S===zn}function ev(_,S){ei=Ms=!0;var N=_.pending;N===null?S.next=S:(S.next=N.next,N.next=S),_.pending=S}function N_(_,S,N){if((N&4194176)!==0){var z=S.lanes;z&=_.pendingLanes,N|=z,S.lanes=N,k(_,N)}}function La(_,S,N,z){S=_.memoizedState,N=N(z,S),N=N==null?S:Uf({},S,N),_.memoizedState=N,_.lanes===0&&(_.updateQueue.baseState=N)}function lc(_,S,N,z,G,Z,ce){return _=_.stateNode,typeof _.shouldComponentUpdate=="function"?_.shouldComponentUpdate(z,Z,ce):S.prototype&&S.prototype.isPureReactComponent?!dt(N,z)||!dt(G,Z):!0}function tv(_,S,N,z){_=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(N,z),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(N,z),S.state!==_&&I0.enqueueReplaceState(S,S.state,null)}function Fs(_,S){var N=S;if("ref"in S){N={};for(var z in S)z!=="ref"&&(N[z]=S[z])}if(_=_.defaultProps){N===S&&(N=Uf({},N));for(var G in _)N[G]===void 0&&(N[G]=_[G])}return N}function Wm(_,S){try{var N=_.onUncaughtError;N(S.value,{componentStack:S.stack})}catch(z){setTimeout(function(){throw z})}}function Ym(_,S,N){try{var z=_.onCaughtError;z(N.value,{componentStack:N.stack,errorBoundary:S.tag===1?S.stateNode:null})}catch(G){setTimeout(function(){throw G})}}function nv(_,S,N){return N=Je(N),N.tag=3,N.payload={element:null},N.callback=function(){Wm(_,S)},N}function $h(_){return _=Je(_),_.tag=3,_}function rv(_,S,N,z){var G=N.type.getDerivedStateFromError;if(typeof G=="function"){var Z=z.value;_.payload=function(){return G(Z)},_.callback=function(){Ym(S,N,z)}}var ce=N.stateNode;ce!==null&&typeof ce.componentDidCatch=="function"&&(_.callback=function(){Ym(S,N,z),typeof G!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var Se=z.stack;this.componentDidCatch(z.value,{componentStack:Se!==null?Se:""})})}function zw(_,S,N,z,G){if(N.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){if(S=N.alternate,S!==null&&Nf(S,N,G,!0),N=$o.current,N!==null){switch(N.tag){case 13:return Ts===null?mo():N.alternate===null&&sr===0&&(sr=3),N.flags&=-257,N.flags|=65536,N.lanes=G,z===R0?N.flags|=16384:(S=N.updateQueue,S===null?N.updateQueue=new Set([z]):S.add(z),u0(_,z,G)),!1;case 22:return N.flags|=65536,z===R0?N.flags|=16384:(S=N.updateQueue,S===null?(S={transitions:null,markerInstances:null,retryQueue:new Set([z])},N.updateQueue=S):(N=S.retryQueue,N===null?S.retryQueue=new Set([z]):N.add(z)),u0(_,z,G)),!1}throw Error(i(435,N.tag))}return u0(_,z,G),mo(),!1}if(ur)return S=$o.current,S!==null?((S.flags&65536)===0&&(S.flags|=256),S.flags|=65536,S.lanes=G,z!==Lv&&(_=Error(i(422),{cause:z}),ct(K(_,N)))):(z!==Lv&&(S=Error(i(423),{cause:z}),ct(K(S,N))),_=_.current.alternate,_.flags|=65536,G&=-G,_.lanes|=G,z=K(z,N),G=nv(_.stateNode,z,G),ye(_,G),sr!==4&&(sr=2)),!1;var Z=Error(i(520),{cause:z});if(Z=K(Z,N),Ed===null?Ed=[Z]:Ed.push(Z),sr!==4&&(sr=2),S===null)return!0;z=K(z,N),N=S;do{switch(N.tag){case 3:return N.flags|=65536,_=G&-G,N.lanes|=_,_=nv(N.stateNode,z,_),ye(N,_),!1;case 1:if(S=N.type,Z=N.stateNode,(N.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(rs===null||!rs.has(Z))))return N.flags|=65536,G&=-G,N.lanes|=G,G=$h(G),rv(G,_,N,z),ye(N,G),!1}N=N.return}while(N!==null);return!1}function pa(_,S,N,z){S.child=_===null?U1(S,null,N,z):Lc(S,_.child,N,z)}function kw(_,S,N,z,G){N=N.render;var Z=S.ref;if("ref"in z){var ce={};for(var Se in z)Se!=="ref"&&(ce[Se]=z[Se])}else ce=z;return Rf(S),z=Us(_,S,N,ce,Z,G),Se=Qh(),_!==null&&!xi?(lu(_,S,G),cu(_,S,G)):(ur&&Se&&Q(S),S.flags|=1,pa(_,S,z,G),S.child)}function Bw(_,S,N,z,G){if(_===null){var Z=N.type;return typeof Z=="function"&&!gu(Z)&&Z.defaultProps===void 0&&N.compare===null?(S.tag=15,S.type=Z,Xm(_,S,Z,z,G)):(_=xs(N.type,null,z,S,S.mode,G),_.ref=S.ref,_.return=S,S.child=_)}if(Z=_.child,!k_(_,G)){var ce=Z.memoizedProps;if(N=N.compare,N=N!==null?N:dt,N(ce,z)&&_.ref===S.ref)return cu(_,S,G)}return S.flags|=1,_=Pa(Z,z),_.ref=S.ref,_.return=S,S.child=_}function Xm(_,S,N,z,G){if(_!==null){var Z=_.memoizedProps;if(dt(Z,z)&&_.ref===S.ref)if(xi=!1,S.pendingProps=z=Z,k_(_,G))(_.flags&131072)!==0&&(xi=!0);else return S.lanes=_.lanes,cu(_,S,G)}return R_(_,S,N,z,G)}function Uw(_,S,N){var z=S.pendingProps,G=z.children,Z=(S.stateNode._pendingVisibility&2)!==0,ce=_!==null?_.memoizedState:null;if(iv(_,S),z.mode==="hidden"||Z){if((S.flags&128)!==0){if(z=ce!==null?ce.baseLanes|N:N,_!==null){for(G=S.child=_.child,Z=0;G!==null;)Z=Z|G.lanes|G.childLanes,G=G.sibling;S.childLanes=Z&~z}else S.childLanes=0,S.child=null;return Vw(_,S,z,N)}if((N&536870912)!==0)S.memoizedState={baseLanes:0,cachePool:null},_!==null&&Km(S,ce!==null?ce.cachePool:null),ce!==null?ho(S,ce):ta(),po(S);else return S.lanes=S.childLanes=536870912,Vw(_,S,ce!==null?ce.baseLanes|N:N,N)}else ce!==null?(Km(S,ce.cachePool),ho(S,ce),pi(),S.memoizedState=null):(_!==null&&Km(S,null),ta(),pi());return pa(_,S,G,N),S.child}function Vw(_,S,N,z){var G=fc();return G=G===null?null:{parent:Cl?wr._currentValue:wr._currentValue2,pool:G},S.memoizedState={baseLanes:N,cachePool:G},_!==null&&Km(S,null),ta(),po(S),_!==null&&Nf(_,S,z,!0),null}function iv(_,S){var N=S.ref;if(N===null)_!==null&&_.ref!==null&&(S.flags|=2097664);else{if(typeof N!="function"&&typeof N!="object")throw Error(i(284));(_===null||_.ref!==N)&&(S.flags|=2097664)}}function R_(_,S,N,z,G){return Rf(S),N=Us(_,S,N,z,void 0,G),z=Qh(),_!==null&&!xi?(lu(_,S,G),cu(_,S,G)):(ur&&z&&Q(S),S.flags|=1,pa(_,S,N,G),S.child)}function Fw(_,S,N,z,G,Z){return Rf(S),S.updateQueue=null,N=Um(S,z,N,G),Mf(_),z=Qh(),_!==null&&!xi?(lu(_,S,Z),cu(_,S,Z)):(ur&&z&&Q(S),S.flags|=1,pa(_,S,N,Z),S.child)}function L_(_,S,N,z,G){if(Rf(S),S.stateNode===null){var Z=jf,ce=N.contextType;typeof ce=="object"&&ce!==null&&(Z=va(ce)),Z=new N(z,Z),S.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,Z.updater=I0,S.stateNode=Z,Z._reactInternals=S,Z=S.stateNode,Z.props=z,Z.state=S.memoizedState,Z.refs={},Ct(S),ce=N.contextType,Z.context=typeof ce=="object"&&ce!==null?va(ce):jf,Z.state=S.memoizedState,ce=N.getDerivedStateFromProps,typeof ce=="function"&&(La(S,N,ce,z),Z.state=S.memoizedState),typeof N.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(ce=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),ce!==Z.state&&I0.enqueueReplaceState(Z,Z.state,null),ft(S,z,Z,G),Fe(),Z.state=S.memoizedState),typeof Z.componentDidMount=="function"&&(S.flags|=4194308),z=!0}else if(_===null){Z=S.stateNode;var Se=S.memoizedProps,Be=Fs(N,Se);Z.props=Be;var it=Z.context,bt=N.contextType;ce=jf,typeof bt=="object"&&bt!==null&&(ce=va(bt));var Rt=N.getDerivedStateFromProps;bt=typeof Rt=="function"||typeof Z.getSnapshotBeforeUpdate=="function",Se=S.pendingProps!==Se,bt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(Se||it!==ce)&&tv(S,Z,z,ce),Tu=!1;var Ut=S.memoizedState;Z.state=Ut,ft(S,z,Z,G),Fe(),it=S.memoizedState,Se||Ut!==it||Tu?(typeof Rt=="function"&&(La(S,N,Rt,z),it=S.memoizedState),(Be=Tu||lc(S,N,Be,z,Ut,it,ce))?(bt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(S.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=z,S.memoizedState=it),Z.props=z,Z.state=it,Z.context=ce,z=Be):(typeof Z.componentDidMount=="function"&&(S.flags|=4194308),z=!1)}else{Z=S.stateNode,Dt(_,S),ce=S.memoizedProps,bt=Fs(N,ce),Z.props=bt,Rt=S.pendingProps,Ut=Z.context,it=N.contextType,Be=jf,typeof it=="object"&&it!==null&&(Be=va(it)),Se=N.getDerivedStateFromProps,(it=typeof Se=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ce!==Rt||Ut!==Be)&&tv(S,Z,z,Be),Tu=!1,Ut=S.memoizedState,Z.state=Ut,ft(S,z,Z,G),Fe();var Cn=S.memoizedState;ce!==Rt||Ut!==Cn||Tu||_!==null&&_.dependencies!==null&&cc(_.dependencies)?(typeof Se=="function"&&(La(S,N,Se,z),Cn=S.memoizedState),(bt=Tu||lc(S,N,bt,z,Ut,Cn,Be)||_!==null&&_.dependencies!==null&&cc(_.dependencies))?(it||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(z,Cn,Be),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(z,Cn,Be)),typeof Z.componentDidUpdate=="function"&&(S.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof Z.componentDidUpdate!="function"||ce===_.memoizedProps&&Ut===_.memoizedState||(S.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ce===_.memoizedProps&&Ut===_.memoizedState||(S.flags|=1024),S.memoizedProps=z,S.memoizedState=Cn),Z.props=z,Z.state=Cn,Z.context=Be,z=bt):(typeof Z.componentDidUpdate!="function"||ce===_.memoizedProps&&Ut===_.memoizedState||(S.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ce===_.memoizedProps&&Ut===_.memoizedState||(S.flags|=1024),z=!1)}return Z=z,iv(_,S),z=(S.flags&128)!==0,Z||z?(Z=S.stateNode,N=z&&typeof N.getDerivedStateFromError!="function"?null:Z.render(),S.flags|=1,_!==null&&z?(S.child=Lc(S,_.child,null,G),S.child=Lc(S,null,N,G)):pa(_,S,N,G),S.memoizedState=Z.state,_=S.child):_=cu(_,S,G),_}function Gw(_,S,N,z){return et(),S.flags|=256,pa(_,S,N,z),S.child}function I_(_){return{baseLanes:_,cachePool:Xw()}}function O_(_,S,N){return _=_!==null?_.childLanes&~N:0,S&&(_|=To),_}function Hw(_,S,N){var z=S.pendingProps,G=!1,Z=(S.flags&128)!==0,ce;if((ce=Z)||(ce=_!==null&&_.memoizedState===null?!1:(Ri.current&2)!==0),ce&&(G=!0,S.flags&=-129),ce=(S.flags&32)!==0,S.flags&=-33,_===null){if(ur){if(G?ni(S):pi(),ur){var Se=_a,Be;(Be=Se)&&(Se=yT(Se,Ss),Se!==null?(S.memoizedState={dehydrated:Se,treeContext:Ys!==null?{id:Nl,overflow:bs}:null,retryLane:536870912},Be=t(18,null,null,0),Be.stateNode=Se,Be.return=S,S.child=Be,ka=S,_a=null,Be=!0):Be=!1),Be||Te(S)}if(Se=S.memoizedState,Se!==null&&(Se=Se.dehydrated,Se!==null))return Tv(Se)?S.lanes=16:S.lanes=536870912,null;Fi(S)}return Se=z.children,z=z.fallback,G?(pi(),G=S.mode,Se=P_({mode:"hidden",children:Se},G),z=yu(z,G,N,null),Se.return=S,z.return=S,Se.sibling=z,S.child=Se,G=S.child,G.memoizedState=I_(N),G.childLanes=O_(_,ce,N),S.memoizedState=Ua,z):(ni(S),av(S,Se))}if(Be=_.memoizedState,Be!==null&&(Se=Be.dehydrated,Se!==null)){if(Z)S.flags&256?(ni(S),S.flags&=-257,S=z_(_,S,N)):S.memoizedState!==null?(pi(),S.child=_.child,S.flags|=128,S=null):(pi(),G=z.fallback,Se=S.mode,z=P_({mode:"visible",children:z.children},Se),G=yu(G,Se,N,null),G.flags|=2,z.return=S,G.return=S,z.sibling=G,S.child=z,Lc(S,_.child,null,N),z=S.child,z.memoizedState=I_(N),z.childLanes=O_(_,ce,N),S.memoizedState=Ua,S=G);else if(ni(S),Tv(Se))ce=fT(Se).digest,z=Error(i(419)),z.stack="",z.digest=ce,ct({value:z,source:null,stack:null}),S=z_(_,S,N);else if(xi||Nf(_,S,N,!1),ce=(N&_.childLanes)!==0,xi||ce){if(ce=Yn,ce!==null){if(z=N&-N,(z&42)!==0)z=1;else switch(z){case 2:z=1;break;case 8:z=4;break;case 32:z=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:z=64;break;case 268435456:z=134217728;break;default:z=0}if(z=(z&(ce.suspendedLanes|N))!==0?0:z,z!==0&&z!==Be.retryLane)throw Be.retryLane=z,oe(_,z),Oa(ce,_,z),IT}b0(Se)||mo(),S=z_(_,S,N)}else b0(Se)?(S.flags|=128,S.child=_.child,S=kf.bind(null,_),VN(Se,S),S=null):(_=Be.treeContext,Qa&&(_a=vT(Se),ka=S,ur=!0,Ko=null,Ss=!1,_!==null&&(qo[Zo++]=Nl,qo[Zo++]=bs,qo[Zo++]=Ys,Nl=_.id,bs=_.overflow,Ys=S)),S=av(S,z.children),S.flags|=4096);return S}return G?(pi(),G=z.fallback,Se=S.mode,Be=_.child,Z=Be.sibling,z=Pa(Be,{mode:"hidden",children:z.children}),z.subtreeFlags=Be.subtreeFlags&31457280,Z!==null?G=Pa(Z,G):(G=yu(G,Se,N,null),G.flags|=2),G.return=S,z.return=S,z.sibling=G,S.child=z,z=G,G=S.child,Se=_.child.memoizedState,Se===null?Se=I_(N):(Be=Se.cachePool,Be!==null?(Z=Cl?wr._currentValue:wr._currentValue2,Be=Be.parent!==Z?{parent:Z,pool:Z}:Be):Be=Xw(),Se={baseLanes:Se.baseLanes|N,cachePool:Be}),G.memoizedState=Se,G.childLanes=O_(_,ce,N),S.memoizedState=Ua,z):(ni(S),N=_.child,_=N.sibling,N=Pa(N,{mode:"visible",children:z.children}),N.return=S,N.sibling=null,_!==null&&(ce=S.deletions,ce===null?(S.deletions=[_],S.flags|=16):ce.push(_)),S.child=N,S.memoizedState=null,N)}function av(_,S){return S=P_({mode:"visible",children:S},_.mode),S.return=_,_.child=S}function P_(_,S){return c0(_,S,0,null)}function z_(_,S,N){return Lc(S,_.child,null,N),_=av(S,S.pendingProps.children),_.flags|=2,S.memoizedState=null,_}function jw(_,S,N){_.lanes|=S;var z=_.alternate;z!==null&&(z.lanes|=S),B_(_.return,S,N)}function qm(_,S,N,z,G){var Z=_.memoizedState;Z===null?_.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:z,tail:N,tailMode:G}:(Z.isBackwards=S,Z.rendering=null,Z.renderingStartTime=0,Z.last=z,Z.tail=N,Z.tailMode=G)}function Ww(_,S,N){var z=S.pendingProps,G=z.revealOrder,Z=z.tail;if(pa(_,S,z.children,N),z=Ri.current,(z&2)!==0)z=z&1|2,S.flags|=128;else{if(_!==null&&(_.flags&128)!==0)e:for(_=S.child;_!==null;){if(_.tag===13)_.memoizedState!==null&&jw(_,N,S);else if(_.tag===19)jw(_,N,S);else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===S)break e;for(;_.sibling===null;){if(_.return===null||_.return===S)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}z&=1}switch(b(Ri,z),G){case"forwards":for(N=S.child,G=null;N!==null;)_=N.alternate,_!==null&&Ei(_)===null&&(G=N),N=N.sibling;N=G,N===null?(G=S.child,S.child=null):(G=N.sibling,N.sibling=null),qm(S,!1,G,N,Z);break;case"backwards":for(N=null,G=S.child,S.child=null;G!==null;){if(_=G.alternate,_!==null&&Ei(_)===null){S.child=G;break}_=G.sibling,G.sibling=N,N=G,G=_}qm(S,!0,N,null,Z);break;case"together":qm(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function cu(_,S,N){if(_!==null&&(S.dependencies=_.dependencies),ts|=S.lanes,(N&S.childLanes)===0)if(_!==null){if(Nf(_,S,N,!1),(N&S.childLanes)===0)return null}else return null;if(_!==null&&S.child!==_.child)throw Error(i(153));if(S.child!==null){for(_=S.child,N=Pa(_,_.pendingProps),S.child=N,N.return=S;_.sibling!==null;)_=_.sibling,N=N.sibling=Pa(_,_.pendingProps),N.return=S;N.sibling=null}return S.child}function k_(_,S){return(_.lanes&S)!==0?!0:(_=_.dependencies,!!(_!==null&&cc(_)))}function kN(_,S,N){switch(S.tag){case 3:se(S,S.stateNode.containerInfo),uc(S,wr,_.memoizedState.cache),et();break;case 27:case 5:pe(S);break;case 4:se(S,S.stateNode.containerInfo);break;case 10:uc(S,S.type,S.memoizedProps.value);break;case 13:var z=S.memoizedState;if(z!==null)return z.dehydrated!==null?(ni(S),S.flags|=128,null):(N&S.child.childLanes)!==0?Hw(_,S,N):(ni(S),_=cu(_,S,N),_!==null?_.sibling:null);ni(S);break;case 19:var G=(_.flags&128)!==0;if(z=(N&S.childLanes)!==0,z||(Nf(_,S,N,!1),z=(N&S.childLanes)!==0),G){if(z)return Ww(_,S,N);S.flags|=128}if(G=S.memoizedState,G!==null&&(G.rendering=null,G.tail=null,G.lastEffect=null),b(Ri,Ri.current),z)break;return null;case 22:case 23:return S.lanes=0,Uw(_,S,N);case 24:uc(S,wr,_.memoizedState.cache)}return cu(_,S,N)}function Yw(_,S,N){if(_!==null)if(_.memoizedProps!==S.pendingProps)xi=!0;else{if(!k_(_,N)&&(S.flags&128)===0)return xi=!1,kN(_,S,N);xi=(_.flags&131072)!==0}else xi=!1,ur&&(S.flags&1048576)!==0&&j(S,Nv,S.index);switch(S.lanes=0,S.tag){case 16:e:{_=S.pendingProps;var z=S.elementType,G=z._init;if(z=G(z._payload),S.type=z,typeof z=="function")gu(z)?(_=Fs(z,_),S.tag=1,S=L_(null,S,z,_,N)):(S.tag=0,S=R_(null,S,z,_,N));else{if(z!=null){if(G=z.$$typeof,G===vd){S.tag=11,S=kw(null,S,z,_,N);break e}else if(G===gv){S.tag=14,S=Bw(null,S,z,_,N);break e}}throw S=o(z)||z,Error(i(306,S,""))}}return S;case 0:return R_(_,S,S.type,S.pendingProps,N);case 1:return z=S.type,G=Fs(z,S.pendingProps),L_(_,S,z,G,N);case 3:e:{if(se(S,S.stateNode.containerInfo),_===null)throw Error(i(387));var Z=S.pendingProps;G=S.memoizedState,z=G.element,Dt(_,S),ft(S,Z,null,N);var ce=S.memoizedState;if(Z=ce.cache,uc(S,wr,Z),Z!==G.cache&&U_(S,[wr],N,!0),Fe(),Z=ce.element,Qa&&G.isDehydrated)if(G={element:Z,isDehydrated:!1,cache:ce.cache},S.updateQueue.baseState=G,S.memoizedState=G,S.flags&256){S=Gw(_,S,Z,N);break e}else if(Z!==z){z=K(Error(i(424)),S),ct(z),S=Gw(_,S,Z,N);break e}else for(Qa&&(_a=pT(S.stateNode.containerInfo),ka=S,ur=!0,Ko=null,Ss=!0),N=U1(S,null,Z,N),S.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(et(),Z===z){S=cu(_,S,N);break e}pa(_,S,Z,N)}S=S.child}return S;case 26:if(Yo)return iv(_,S),_===null?(N=A0(S.type,null,S.pendingProps,null))?S.memoizedState=N:ur||(S.stateNode=GN(S.type,S.pendingProps,Xs.current,S)):S.memoizedState=A0(S.type,_.memoizedProps,S.pendingProps,_.memoizedState),null;case 27:if(ya)return pe(S),_===null&&ya&&ur&&(z=S.stateNode=P1(S.type,S.pendingProps,Xs.current,oa.current,!1),ka=S,Ss=!0,_a=S0(z)),z=S.pendingProps.children,_!==null||ur?pa(_,S,z,N):S.child=Lc(S,null,z,N),iv(_,S),S.child;case 5:return _===null&&ur&&(wT(S.type,S.pendingProps,oa.current),(G=z=_a)&&(z=gT(z,S.type,S.pendingProps,Ss),z!==null?(S.stateNode=z,ka=S,_a=S0(z),Ss=!1,G=!0):G=!1),G||Te(S)),pe(S),G=S.type,Z=S.pendingProps,ce=_!==null?_.memoizedProps:null,z=Z.children,Cc(G,Z)?z=null:ce!==null&&Cc(G,ce)&&(S.flags|=32),S.memoizedState!==null&&(G=Us(_,S,A_,null,null,N),Cl?xn._currentValue=G:xn._currentValue2=G),iv(_,S),pa(_,S,z,N),S.child;case 6:return _===null&&ur&&(TT(S.pendingProps,oa.current),(_=N=_a)&&(N=mT(N,S.pendingProps,Ss),N!==null?(S.stateNode=N,ka=S,_a=null,_=!0):_=!1),_||Te(S)),null;case 13:return Hw(_,S,N);case 4:return se(S,S.stateNode.containerInfo),z=S.pendingProps,_===null?S.child=Lc(S,null,z,N):pa(_,S,z,N),S.child;case 11:return kw(_,S,S.type,S.pendingProps,N);case 7:return pa(_,S,S.pendingProps,N),S.child;case 8:return pa(_,S,S.pendingProps.children,N),S.child;case 12:return pa(_,S,S.pendingProps.children,N),S.child;case 10:return z=S.pendingProps,uc(S,S.type,z.value),pa(_,S,z.children,N),S.child;case 9:return G=S.type._context,z=S.pendingProps.children,Rf(S),G=va(G),z=z(G),S.flags|=1,pa(_,S,z,N),S.child;case 14:return Bw(_,S,S.type,S.pendingProps,N);case 15:return Xm(_,S,S.type,S.pendingProps,N);case 19:return Ww(_,S,N);case 22:return Uw(_,S,N);case 24:return Rf(S),z=va(wr),_===null?(G=fc(),G===null&&(G=Yn,Z=Zm(),G.pooledCache=Z,Z.refCount++,Z!==null&&(G.pooledCacheLanes|=N),G=Z),S.memoizedState={parent:z,cache:G},Ct(S),uc(S,wr,G)):((_.lanes&N)!==0&&(Dt(_,S),ft(S,null,null,N),Fe()),G=_.memoizedState,Z=S.memoizedState,G.parent!==z?(G={parent:z,cache:z},S.memoizedState=G,S.lanes===0&&(S.memoizedState=S.updateQueue.baseState=G),uc(S,wr,z)):(z=Z.cache,uc(S,wr,z),z!==G.cache&&U_(S,[wr],N,!0))),pa(_,S,S.pendingProps.children,N),S.child;case 29:throw S.pendingProps}throw Error(i(156,S.tag))}function uc(_,S,N){Cl?(b(So,S._currentValue),S._currentValue=N):(b(So,S._currentValue2),S._currentValue2=N)}function fu(_){var S=So.current;Cl?_._currentValue=S:_._currentValue2=S,x(So)}function B_(_,S,N){for(;_!==null;){var z=_.alternate;if((_.childLanes&S)!==S?(_.childLanes|=S,z!==null&&(z.childLanes|=S)):z!==null&&(z.childLanes&S)!==S&&(z.childLanes|=S),_===N)break;_=_.return}}function U_(_,S,N,z){var G=_.child;for(G!==null&&(G.return=_);G!==null;){var Z=G.dependencies;if(Z!==null){var ce=G.child;Z=Z.firstContext;e:for(;Z!==null;){var Se=Z;Z=G;for(var Be=0;Be<S.length;Be++)if(Se.context===S[Be]){Z.lanes|=N,Se=Z.alternate,Se!==null&&(Se.lanes|=N),B_(Z.return,N,_),z||(ce=null);break e}Z=Se.next}}else if(G.tag===18){if(ce=G.return,ce===null)throw Error(i(341));ce.lanes|=N,Z=ce.alternate,Z!==null&&(Z.lanes|=N),B_(ce,N,_),ce=null}else ce=G.child;if(ce!==null)ce.return=G;else for(ce=G;ce!==null;){if(ce===_){ce=null;break}if(G=ce.sibling,G!==null){G.return=ce.return,ce=G;break}ce=ce.return}G=ce}}function Nf(_,S,N,z){_=null;for(var G=S,Z=!1;G!==null;){if(!Z){if((G.flags&524288)!==0)Z=!0;else if((G.flags&262144)!==0)break}if(G.tag===10){var ce=G.alternate;if(ce===null)throw Error(i(387));if(ce=ce.memoizedProps,ce!==null){var Se=G.type;Xo(G.pendingProps.value,ce.value)||(_!==null?_.push(Se):_=[Se])}}else if(G===Sd.current){if(ce=G.alternate,ce===null)throw Error(i(387));ce.memoizedState.memoizedState!==G.memoizedState.memoizedState&&(_!==null?_.push(xn):_=[xn])}G=G.return}_!==null&&U_(S,_,N,z),S.flags|=262144}function cc(_){for(_=_.firstContext;_!==null;){var S=_.context;if(!Xo(Cl?S._currentValue:S._currentValue2,_.memoizedValue))return!0;_=_.next}return!1}function Rf(_){Oc=_,fi=null,_=_.dependencies,_!==null&&(_.firstContext=null)}function va(_){return V_(Oc,_)}function ov(_,S){return Oc===null&&Rf(_),V_(_,S)}function V_(_,S){var N=Cl?S._currentValue:S._currentValue2;if(S={context:S,memoizedValue:N,next:null},fi===null){if(_===null)throw Error(i(308));fi=S,_.dependencies={lanes:0,firstContext:S},_.flags|=524288}else fi=fi.next=S;return N}function Zm(){return{controller:new OT,data:new Map,refCount:0}}function ed(_){_.refCount--,_.refCount===0&&Au(Xf,function(){_.controller.abort()})}function fc(){var _=Cu.current;return _!==null?_:Yn.pooledCache}function Km(_,S){S===null?b(Cu,Cu.current):b(Cu,S.pool)}function Xw(){var _=fc();return _===null?null:{parent:Cl?wr._currentValue:wr._currentValue2,pool:_}}function Fo(_){_.flags|=4}function F_(_,S){if(_!==null&&_.child===S.child)return!1;if((S.flags&16)!==0)return!0;for(_=S.child;_!==null;){if((_.flags&13878)!==0||(_.subtreeFlags&13878)!==0)return!0;_=_.sibling}return!1}function Jm(_,S,N,z){if(ma)for(N=S.child;N!==null;){if(N.tag===5||N.tag===6)Al(_,N.stateNode);else if(!(N.tag===4||ya&&N.tag===27)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===S)break;for(;N.sibling===null;){if(N.return===null||N.return===S)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else if(jo)for(var G=S.child;G!==null;){if(G.tag===5){var Z=G.stateNode;N&&z&&(Z=S1(Z,G.type,G.memoizedProps)),Al(_,Z)}else if(G.tag===6)Z=G.stateNode,N&&z&&(Z=w1(Z,G.memoizedProps)),Al(_,Z);else if(G.tag!==4){if(G.tag===22&&G.memoizedState!==null)Z=G.child,Z!==null&&(Z.return=G),Jm(_,G,!0,!0);else if(G.child!==null){G.child.return=G,G=G.child;continue}}if(G===S)break;for(;G.sibling===null;){if(G.return===null||G.return===S)return;G=G.return}G.sibling.return=G.return,G=G.sibling}}function td(_,S,N,z){if(jo)for(var G=S.child;G!==null;){if(G.tag===5){var Z=G.stateNode;N&&z&&(Z=S1(Z,G.type,G.memoizedProps)),_1(_,Z)}else if(G.tag===6)Z=G.stateNode,N&&z&&(Z=w1(Z,G.memoizedProps)),_1(_,Z);else if(G.tag!==4){if(G.tag===22&&G.memoizedState!==null)Z=G.child,Z!==null&&(Z.return=G),td(_,G,!(G.memoizedProps!==null&&G.memoizedProps.mode==="manual"),!0);else if(G.child!==null){G.child.return=G,G=G.child;continue}}if(G===S)break;for(;G.sibling===null;){if(G.return===null||G.return===S)return;G=G.return}G.sibling.return=G.return,G=G.sibling}}function nd(_,S){if(jo&&F_(_,S)){_=S.stateNode;var N=_.containerInfo,z=_0();td(z,S,!1,!1),_.pendingChildren=z,Fo(S),cT(N,z)}}function G_(_,S,N,z){if(ma)_.memoizedProps!==z&&Fo(S);else if(jo){var G=_.stateNode,Z=_.memoizedProps;if((_=F_(_,S))||Z!==z){var ce=oa.current;Z=x1(G,N,Z,z,!_,null),Z===G?S.stateNode=G:(_u(Z,N,z,ce)&&Fo(S),S.stateNode=Z,_?Jm(Z,S,!1,!1):Fo(S))}else S.stateNode=G}}function rd(_,S,N){if(sT(S,N)){if(_.flags|=16777216,!bu(S,N))if(hv())_.flags|=8192;else throw Yf=R0,B1}else _.flags&=-16777217}function H_(_,S){if(MT(S)){if(_.flags|=16777216,!I1(S))if(hv())_.flags|=8192;else throw Yf=R0,B1}else _.flags&=-16777217}function sv(_,S){S!==null&&(_.flags|=4),_.flags&16384&&(S=_.tag!==22?L():536870912,_.lanes|=S,Du|=S)}function Lf(_,S){if(!ur)switch(_.tailMode){case"hidden":S=_.tail;for(var N=null;S!==null;)S.alternate!==null&&(N=S),S=S.sibling;N===null?_.tail=null:N.sibling=null;break;case"collapsed":N=_.tail;for(var z=null;N!==null;)N.alternate!==null&&(z=N),N=N.sibling;z===null?S||_.tail===null?_.tail=null:_.tail.sibling=null:z.sibling=null}}function Jr(_){var S=_.alternate!==null&&_.alternate.child===_.child,N=0,z=0;if(S)for(var G=_.child;G!==null;)N|=G.lanes|G.childLanes,z|=G.subtreeFlags&31457280,z|=G.flags&31457280,G.return=_,G=G.sibling;else for(G=_.child;G!==null;)N|=G.lanes|G.childLanes,z|=G.subtreeFlags,z|=G.flags,G.return=_,G=G.sibling;return _.subtreeFlags|=z,_.childLanes=N,S}function qw(_,S,N){var z=S.pendingProps;switch(ne(S),S.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(S),null;case 1:return Jr(S),null;case 3:return N=S.stateNode,z=null,_!==null&&(z=_.memoizedState.cache),S.memoizedState.cache!==z&&(S.flags|=2048),fu(wr),he(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(_===null||_.child===null)&&(Ue(S)?Fo(S):_===null||_.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,Ko!==null&&(du(Ko),Ko=null))),nd(_,S),Jr(S),null;case 26:if(Yo){N=S.type;var G=S.memoizedState;return _===null?(Fo(S),G!==null?(Jr(S),H_(S,G)):(Jr(S),rd(S,N,z))):G?G!==_.memoizedState?(Fo(S),Jr(S),H_(S,G)):(Jr(S),S.flags&=-16777217):(ma?_.memoizedProps!==z&&Fo(S):G_(_,S,N,z),Jr(S),rd(S,N,z)),null}case 27:if(ya){if(xe(S),N=Xs.current,G=S.type,_!==null&&S.stateNode!=null)ma?_.memoizedProps!==z&&Fo(S):G_(_,S,G,z);else{if(!z){if(S.stateNode===null)throw Error(i(166));return Jr(S),null}_=oa.current,Ue(S)?Me(S,_):(_=P1(G,z,N,_,!0),S.stateNode=_,Fo(S))}return Jr(S),null}case 5:if(xe(S),N=S.type,_!==null&&S.stateNode!=null)G_(_,S,N,z);else{if(!z){if(S.stateNode===null)throw Error(i(166));return Jr(S),null}_=oa.current,Ue(S)?Me(S,_):(G=l1(N,z,Xs.current,_,S),Jm(G,S,!1,!1),S.stateNode=G,_u(G,N,z,_)&&Fo(S))}return Jr(S),rd(S,S.type,S.pendingProps),null;case 6:if(_&&S.stateNode!=null)N=_.memoizedProps,ma?N!==z&&Fo(S):jo&&(N!==z?(S.stateNode=p0(z,Xs.current,oa.current,S),Fo(S)):S.stateNode=_.stateNode);else{if(typeof z!="string"&&S.stateNode===null)throw Error(i(166));if(_=Xs.current,N=oa.current,Ue(S)){if(!Qa)throw Error(i(176));if(_=S.stateNode,N=S.memoizedProps,z=null,G=ka,G!==null)switch(G.tag){case 27:case 5:z=G.memoizedProps}xT(_,N,S,z)||Te(S)}else S.stateNode=p0(z,_,N,S)}return Jr(S),null;case 13:if(z=S.memoizedState,_===null||_.memoizedState!==null&&_.memoizedState.dehydrated!==null){if(G=Ue(S),z!==null&&z.dehydrated!==null){if(_===null){if(!G)throw Error(i(318));if(!Qa)throw Error(i(344));if(G=S.memoizedState,G=G!==null?G.dehydrated:null,!G)throw Error(i(317));md(G,S)}else et(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;Jr(S),G=!1}else Ko!==null&&(du(Ko),Ko=null),G=!0;if(!G)return S.flags&256?(Fi(S),S):(Fi(S),null)}if(Fi(S),(S.flags&128)!==0)return S.lanes=N,S;if(N=z!==null,_=_!==null&&_.memoizedState!==null,N){z=S.child,G=null,z.alternate!==null&&z.alternate.memoizedState!==null&&z.alternate.memoizedState.cachePool!==null&&(G=z.alternate.memoizedState.cachePool.pool);var Z=null;z.memoizedState!==null&&z.memoizedState.cachePool!==null&&(Z=z.memoizedState.cachePool.pool),Z!==G&&(z.flags|=2048)}return N!==_&&N&&(S.child.flags|=8192),sv(S,S.updateQueue),Jr(S),null;case 4:return he(),nd(_,S),_===null&&f1(S.stateNode.containerInfo),Jr(S),null;case 10:return fu(S.type),Jr(S),null;case 19:if(x(Ri),G=S.memoizedState,G===null)return Jr(S),null;if(z=(S.flags&128)!==0,Z=G.rendering,Z===null)if(z)Lf(G,!1);else{if(sr!==0||_!==null&&(_.flags&128)!==0)for(_=S.child;_!==null;){if(Z=Ei(_),Z!==null){for(S.flags|=128,Lf(G,!1),_=Z.updateQueue,S.updateQueue=_,sv(S,_),S.subtreeFlags=0,_=N,N=S.child;N!==null;)mu(N,_),N=N.sibling;return b(Ri,Ri.current&1|2),S.child}_=_.sibling}G.tail!==null&&xa()>ai&&(S.flags|=128,z=!0,Lf(G,!1),S.lanes=4194304)}else{if(!z)if(_=Ei(Z),_!==null){if(S.flags|=128,z=!0,_=_.updateQueue,S.updateQueue=_,sv(S,_),Lf(G,!0),G.tail===null&&G.tailMode==="hidden"&&!Z.alternate&&!ur)return Jr(S),null}else 2*xa()-G.renderingStartTime>ai&&N!==536870912&&(S.flags|=128,z=!0,Lf(G,!1),S.lanes=4194304);G.isBackwards?(Z.sibling=S.child,S.child=Z):(_=G.last,_!==null?_.sibling=Z:S.child=Z,G.last=Z)}return G.tail!==null?(S=G.tail,G.rendering=S,G.tail=S.sibling,G.renderingStartTime=xa(),S.sibling=null,_=Ri.current,b(Ri,z?_&1|2:_&1),S):(Jr(S),null);case 22:case 23:return Fi(S),da(),z=S.memoizedState!==null,_!==null?_.memoizedState!==null!==z&&(S.flags|=8192):z&&(S.flags|=8192),z?(N&536870912)!==0&&(S.flags&128)===0&&(Jr(S),S.subtreeFlags&6&&(S.flags|=8192)):Jr(S),N=S.updateQueue,N!==null&&sv(S,N.retryQueue),N=null,_!==null&&_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(N=_.memoizedState.cachePool.pool),z=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(z=S.memoizedState.cachePool.pool),z!==N&&(S.flags|=2048),_!==null&&x(Cu),null;case 24:return N=null,_!==null&&(N=_.memoizedState.cache),S.memoizedState.cache!==N&&(S.flags|=2048),fu(wr),Jr(S),null;case 25:return null}throw Error(i(156,S.tag))}function Zw(_,S){switch(ne(S),S.tag){case 1:return _=S.flags,_&65536?(S.flags=_&-65537|128,S):null;case 3:return fu(wr),he(),_=S.flags,(_&65536)!==0&&(_&128)===0?(S.flags=_&-65537|128,S):null;case 26:case 27:case 5:return xe(S),null;case 13:if(Fi(S),_=S.memoizedState,_!==null&&_.dehydrated!==null){if(S.alternate===null)throw Error(i(340));et()}return _=S.flags,_&65536?(S.flags=_&-65537|128,S):null;case 19:return x(Ri),null;case 4:return he(),null;case 10:return fu(S.type),null;case 22:case 23:return Fi(S),da(),_!==null&&x(Cu),_=S.flags,_&65536?(S.flags=_&-65537|128,S):null;case 24:return fu(wr),null;case 25:return null;default:return null}}function j_(_,S){switch(ne(S),S.tag){case 3:fu(wr),he();break;case 26:case 27:case 5:xe(S);break;case 4:he();break;case 13:Fi(S);break;case 19:x(Ri);break;case 10:fu(S.type);break;case 22:case 23:Fi(S),da(),_!==null&&x(Cu);break;case 24:fu(wr)}}function lv(_,S){try{var N=S.updateQueue,z=N!==null?N.lastEffect:null;if(z!==null){var G=z.next;N=G;do{if((N.tag&_)===_){z=void 0;var Z=N.create,ce=N.inst;z=Z(),ce.destroy=z}N=N.next}while(N!==G)}}catch(Se){Qn(S,S.return,Se)}}function hc(_,S,N){try{var z=S.updateQueue,G=z!==null?z.lastEffect:null;if(G!==null){var Z=G.next;z=Z;do{if((z.tag&_)===_){var ce=z.inst,Se=ce.destroy;if(Se!==void 0){ce.destroy=void 0,G=S;var Be=N;try{Se()}catch(it){Qn(G,Be,it)}}}z=z.next}while(z!==Z)}}catch(it){Qn(S,S.return,it)}}function Kw(_){var S=_.updateQueue;if(S!==null){var N=_.stateNode;try{ht(S,N)}catch(z){Qn(_,_.return,z)}}}function Jw(_,S,N){N.props=Fs(_.type,_.memoizedProps),N.state=_.memoizedState;try{N.componentWillUnmount()}catch(z){Qn(_,S,z)}}function If(_,S){try{var N=_.ref;if(N!==null){var z=_.stateNode;switch(_.tag){case 26:case 27:case 5:var G=gd(z);break;default:G=z}typeof N=="function"?_.refCleanup=N(G):N.current=G}}catch(Z){Qn(_,S,Z)}}function Qr(_,S){var N=_.ref,z=_.refCleanup;if(N!==null)if(typeof z=="function")try{z()}catch(G){Qn(_,S,G)}finally{_.refCleanup=null,_=_.alternate,_!=null&&(_.refCleanup=null)}else if(typeof N=="function")try{N(null)}catch(G){Qn(_,S,G)}else N.current=null}function id(_){var S=_.type,N=_.memoizedProps,z=_.stateNode;try{UN(z,S,N,_)}catch(G){Qn(_,_.return,G)}}function W_(_,S,N){try{v1(_.stateNode,_.type,N,S,_)}catch(z){Qn(_,_.return,z)}}function Y_(_){return _.tag===5||_.tag===3||(Yo?_.tag===26:!1)||(ya?_.tag===27:!1)||_.tag===4}function Qm(_){e:for(;;){for(;_.sibling===null;){if(_.return===null||Y_(_.return))return null;_=_.return}for(_.sibling.return=_.return,_=_.sibling;_.tag!==5&&_.tag!==6&&(!ya||_.tag!==27)&&_.tag!==18;){if(_.flags&2||_.child===null||_.tag===4)continue e;_.child.return=_,_=_.child}if(!(_.flags&2))return _.stateNode}}function $m(_,S,N){var z=_.tag;if(z===5||z===6)_=_.stateNode,S?m1(N,_,S):lT(N,_);else if(!(z===4||ya&&z===27)&&(_=_.child,_!==null))for($m(_,S,N),_=_.sibling;_!==null;)$m(_,S,N),_=_.sibling}function ad(_,S,N){var z=_.tag;if(z===5||z===6)_=_.stateNode,S?g1(N,_,S):p1(N,_);else if(!(z===4||ya&&z===27)&&(_=_.child,_!==null))for(ad(_,S,N),_=_.sibling;_!==null;)ad(_,S,N),_=_.sibling}function Qw(_,S,N){_=_.containerInfo;try{b1(_,N)}catch(z){Qn(S,S.return,z)}}function od(_,S){for(Ac(_.containerInfo),hi=S;hi!==null;)if(_=hi,S=_.child,(_.subtreeFlags&1028)!==0&&S!==null)S.return=_,hi=S;else for(;hi!==null;){_=hi;var N=_.alternate;switch(S=_.flags,_.tag){case 0:break;case 11:case 15:break;case 1:if((S&1024)!==0&&N!==null){S=void 0;var z=_,G=N.memoizedProps;N=N.memoizedState;var Z=z.stateNode;try{var ce=Fs(z.type,G,z.elementType===z.type);S=Z.getSnapshotBeforeUpdate(ce,N),Z.__reactInternalSnapshotBeforeUpdate=S}catch(Se){Qn(z,z.return,Se)}}break;case 3:(S&1024)!==0&&ma&&x0(_.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((S&1024)!==0)throw Error(i(163))}if(S=_.sibling,S!==null){S.return=_.return,hi=S;break}hi=_.return}return ce=qf,qf=!1,ce}function e0(_,S,N){var z=N.flags;switch(N.tag){case 0:case 11:case 15:_l(_,N),z&4&&lv(5,N);break;case 1:if(_l(_,N),z&4)if(_=N.stateNode,S===null)try{_.componentDidMount()}catch(Se){Qn(N,N.return,Se)}else{var G=Fs(N.type,S.memoizedProps);S=S.memoizedState;try{_.componentDidUpdate(G,S,_.__reactInternalSnapshotBeforeUpdate)}catch(Se){Qn(N,N.return,Se)}}z&64&&Kw(N),z&512&&If(N,N.return);break;case 3:if(_l(_,N),z&64&&(z=N.updateQueue,z!==null)){if(_=null,N.child!==null)switch(N.child.tag){case 27:case 5:_=gd(N.child.stateNode);break;case 1:_=N.child.stateNode}try{ht(z,_)}catch(Se){Qn(N,N.return,Se)}}break;case 26:if(Yo){_l(_,N),z&512&&If(N,N.return);break}case 27:case 5:_l(_,N),S===null&&z&4&&id(N),z&512&&If(N,N.return);break;case 12:_l(_,N);break;case 13:_l(_,N),z&4&&dc(_,N);break;case 22:if(G=N.memoizedState!==null||Yi,!G){S=S!==null&&S.memoizedState!==null||ii;var Z=Yi,ce=ii;Yi=G,(ii=S)&&!ce?vc(_,N,(N.subtreeFlags&8772)!==0):_l(_,N),Yi=Z,ii=ce}z&512&&(N.memoizedProps.mode==="manual"?If(N,N.return):Qr(N,N.return));break;default:_l(_,N)}}function sd(_){var S=_.alternate;S!==null&&(_.alternate=null,sd(S)),_.child=null,_.deletions=null,_.sibling=null,_.tag===5&&(S=_.stateNode,S!==null&&h1(S)),_.stateNode=null,_.return=null,_.dependencies=null,_.memoizedProps=null,_.memoizedState=null,_.pendingProps=null,_.stateNode=null,_.updateQueue=null}function Go(_,S,N){for(N=N.child;N!==null;)t0(_,S,N),N=N.sibling}function t0(_,S,N){if(_o&&typeof _o.onCommitFiberUnmount=="function")try{_o.onCommitFiberUnmount(bd,N)}catch{}switch(N.tag){case 26:if(Yo){ii||Qr(N,S),Go(_,S,N),N.memoizedState?E1(N.memoizedState):N.stateNode&&R1(N.stateNode);break}case 27:if(ya){ii||Qr(N,S);var z=_i,G=wo;_i=N.stateNode,Go(_,S,N),AT(N.stateNode),_i=z,wo=G;break}case 5:ii||Qr(N,S);case 6:if(ma){if(z=_i,G=wo,_i=null,Go(_,S,N),_i=z,wo=G,_i!==null)if(wo)try{mi(_i,N.stateNode)}catch(Z){Qn(N,S,Z)}else try{$a(_i,N.stateNode)}catch(Z){Qn(N,S,Z)}}else Go(_,S,N);break;case 18:ma&&_i!==null&&(wo?M1(_i,N.stateNode):bT(_i,N.stateNode));break;case 4:ma?(z=_i,G=wo,_i=N.stateNode.containerInfo,wo=!0,Go(_,S,N),_i=z,wo=G):(jo&&Qw(N.stateNode,N,_0()),Go(_,S,N));break;case 0:case 11:case 14:case 15:ii||hc(2,N,S),ii||hc(4,N,S),Go(_,S,N);break;case 1:ii||(Qr(N,S),z=N.stateNode,typeof z.componentWillUnmount=="function"&&Jw(N,S,z)),Go(_,S,N);break;case 21:Go(_,S,N);break;case 22:ii||Qr(N,S),ii=(z=ii)||N.memoizedState!==null,Go(_,S,N),ii=z;break;default:Go(_,S,N)}}function dc(_,S){if(Qa&&S.memoizedState===null&&(_=S.alternate,_!==null&&(_=_.memoizedState,_!==null&&(_=_.dehydrated,_!==null))))try{T0(_)}catch(N){Qn(S,S.return,N)}}function ld(_){switch(_.tag){case 13:case 19:var S=_.stateNode;return S===null&&(S=_.stateNode=new Cd),S;case 22:return _=_.stateNode,S=_._retryCache,S===null&&(S=_._retryCache=new Cd),S;default:throw Error(i(435,_.tag))}}function uv(_,S){var N=ld(_);S.forEach(function(z){var G=J_.bind(null,_,z);N.has(z)||(N.add(z),z.then(G,G))})}function Za(_,S){var N=S.deletions;if(N!==null)for(var z=0;z<N.length;z++){var G=N[z],Z=_,ce=S;if(ma){var Se=ce;e:for(;Se!==null;){switch(Se.tag){case 27:case 5:_i=Se.stateNode,wo=!1;break e;case 3:_i=Se.stateNode.containerInfo,wo=!0;break e;case 4:_i=Se.stateNode.containerInfo,wo=!0;break e}Se=Se.return}if(_i===null)throw Error(i(160));t0(Z,ce,G),_i=null,wo=!1}else t0(Z,ce,G);Z=G.alternate,Z!==null&&(Z.return=null),G.return=null}if(S.subtreeFlags&13878)for(S=S.child;S!==null;)pc(S,_),S=S.sibling}function pc(_,S){var N=_.alternate,z=_.flags;switch(_.tag){case 0:case 11:case 14:case 15:Za(S,_),vo(_),z&4&&(hc(3,_,_.return),lv(3,_),hc(5,_,_.return));break;case 1:Za(S,_),vo(_),z&512&&(ii||N===null||Qr(N,N.return)),z&64&&Yi&&(_=_.updateQueue,_!==null&&(z=_.callbacks,z!==null&&(N=_.shared.hiddenCallbacks,_.shared.hiddenCallbacks=N===null?z:N.concat(z))));break;case 26:if(Yo){var G=eo;Za(S,_),vo(_),z&512&&(ii||N===null||Qr(N,N.return)),z&4&&(z=N!==null?N.memoizedState:null,S=_.memoizedState,N===null?S===null?_.stateNode===null?_.stateNode=D1(G,_.type,_.memoizedProps,_):N1(G,_.type,_.stateNode):_.stateNode=C1(G,S,_.memoizedProps):z!==S?(z===null?N.stateNode!==null&&R1(N.stateNode):E1(z),S===null?N1(G,_.type,_.stateNode):C1(G,S,_.memoizedProps)):S===null&&_.stateNode!==null&&W_(_,_.memoizedProps,N.memoizedProps));break}case 27:if(ya&&z&4&&_.alternate===null){G=_.stateNode;var Z=_.memoizedProps;try{HN(G),jN(_.type,Z,G,_)}catch(bt){Qn(_,_.return,bt)}}case 5:if(Za(S,_),vo(_),z&512&&(ii||N===null||Qr(N,N.return)),ma){if(_.flags&32){S=_.stateNode;try{Sv(S)}catch(bt){Qn(_,_.return,bt)}}z&4&&_.stateNode!=null&&(S=_.memoizedProps,W_(_,S,N!==null?N.memoizedProps:S)),z&1024&&(Pc=!0)}break;case 6:if(Za(S,_),vo(_),z&4&&ma){if(_.stateNode===null)throw Error(i(162));z=_.memoizedProps,N=N!==null?N.memoizedProps:z,S=_.stateNode;try{uT(S,N,z)}catch(bt){Qn(_,_.return,bt)}}break;case 3:if(Yo?(L1(),G=eo,eo=M0(S.containerInfo),Za(S,_),eo=G):Za(S,_),vo(_),z&4){if(ma&&Qa&&N!==null&&N.memoizedState.isDehydrated)try{w0(S.containerInfo)}catch(bt){Qn(_,_.return,bt)}if(jo){z=S.containerInfo,N=S.pendingChildren;try{b1(z,N)}catch(bt){Qn(_,_.return,bt)}}}Pc&&(Pc=!1,X_(_));break;case 4:Yo?(N=eo,eo=M0(_.stateNode.containerInfo),Za(S,_),vo(_),eo=N):(Za(S,_),vo(_)),z&4&&jo&&Qw(_.stateNode,_,_.stateNode.pendingChildren);break;case 12:Za(S,_),vo(_);break;case 13:Za(S,_),vo(_),_.child.flags&8192&&_.memoizedState!==null!=(N!==null&&N.memoizedState!==null)&&(Ol=xa()),z&4&&(z=_.updateQueue,z!==null&&(_.updateQueue=null,uv(_,z)));break;case 22:z&512&&(ii||N===null||Qr(N,N.return)),G=_.memoizedState!==null;var ce=N!==null&&N.memoizedState!==null,Se=Yi,Be=ii;if(Yi=Se||G,ii=Be||ce,Za(S,_),ii=Be,Yi=Se,vo(_),S=_.stateNode,S._current=_,S._visibility&=-3,S._visibility|=S._pendingVisibility&2,z&8192&&(S._visibility=G?S._visibility&-2:S._visibility|1,G&&(S=Yi||ii,N===null||ce||S||ud(_)),ma&&(_.memoizedProps===null||_.memoizedProps.mode!=="manual"))){e:if(N=null,ma)for(S=_;;){if(S.tag===5||Yo&&S.tag===26||ya&&S.tag===27){if(N===null){ce=N=S;try{Z=ce.stateNode,G?wv(Z):y1(ce.stateNode,ce.memoizedProps)}catch(bt){Qn(ce,ce.return,bt)}}}else if(S.tag===6){if(N===null){ce=S;try{var it=ce.stateNode;G?y0(it):Su(it,ce.memoizedProps)}catch(bt){Qn(ce,ce.return,bt)}}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===_)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===_)break e;for(;S.sibling===null;){if(S.return===null||S.return===_)break e;N===S&&(N=null),S=S.return}N===S&&(N=null),S.sibling.return=S.return,S=S.sibling}}z&4&&(z=_.updateQueue,z!==null&&(N=z.retryQueue,N!==null&&(z.retryQueue=null,uv(_,N))));break;case 19:Za(S,_),vo(_),z&4&&(z=_.updateQueue,z!==null&&(_.updateQueue=null,uv(_,z)));break;case 21:break;default:Za(S,_),vo(_)}}function vo(_){var S=_.flags;if(S&2){try{if(ma&&(!ya||_.tag!==27)){e:{for(var N=_.return;N!==null;){if(Y_(N)){var z=N;break e}N=N.return}throw Error(i(160))}switch(z.tag){case 27:if(ya){var G=z.stateNode,Z=Qm(_);ad(_,Z,G);break}case 5:var ce=z.stateNode;z.flags&32&&(Sv(ce),z.flags&=-33);var Se=Qm(_);ad(_,Se,ce);break;case 3:case 4:var Be=z.stateNode.containerInfo,it=Qm(_);$m(_,it,Be);break;default:throw Error(i(161))}}}catch(bt){Qn(_,_.return,bt)}_.flags&=-3}S&4096&&(_.flags&=-4097)}function X_(_){if(_.subtreeFlags&1024)for(_=_.child;_!==null;){var S=_;X_(S),S.tag===5&&S.flags&1024&&Ir(S.stateNode),_=_.sibling}}function _l(_,S){if(S.subtreeFlags&8772)for(S=S.child;S!==null;)e0(_,S.alternate,S),S=S.sibling}function ud(_){for(_=_.child;_!==null;){var S=_;switch(S.tag){case 0:case 11:case 14:case 15:hc(4,S,S.return),ud(S);break;case 1:Qr(S,S.return);var N=S.stateNode;typeof N.componentWillUnmount=="function"&&Jw(S,S.return,N),ud(S);break;case 26:case 27:case 5:Qr(S,S.return),ud(S);break;case 22:Qr(S,S.return),S.memoizedState===null&&ud(S);break;default:ud(S)}_=_.sibling}}function vc(_,S,N){for(N=N&&(S.subtreeFlags&8772)!==0,S=S.child;S!==null;){var z=S.alternate,G=_,Z=S,ce=Z.flags;switch(Z.tag){case 0:case 11:case 15:vc(G,Z,N),lv(4,Z);break;case 1:if(vc(G,Z,N),z=Z,G=z.stateNode,typeof G.componentDidMount=="function")try{G.componentDidMount()}catch(it){Qn(z,z.return,it)}if(z=Z,G=z.updateQueue,G!==null){var Se=z.stateNode;try{var Be=G.shared.hiddenCallbacks;if(Be!==null)for(G.shared.hiddenCallbacks=null,G=0;G<Be.length;G++)_e(Be[G],Se)}catch(it){Qn(z,z.return,it)}}N&&ce&64&&Kw(Z),If(Z,Z.return);break;case 26:case 27:case 5:vc(G,Z,N),N&&z===null&&ce&4&&id(Z),If(Z,Z.return);break;case 12:vc(G,Z,N);break;case 13:vc(G,Z,N),N&&ce&4&&dc(G,Z);break;case 22:Z.memoizedState===null&&vc(G,Z,N),If(Z,Z.return);break;default:vc(G,Z,N)}S=S.sibling}}function q_(_,S){var N=null;_!==null&&_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(N=_.memoizedState.cachePool.pool),_=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(_=S.memoizedState.cachePool.pool),_!==N&&(_!=null&&_.refCount++,N!=null&&ed(N))}function n0(_,S){_=null,S.alternate!==null&&(_=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==_&&(S.refCount++,_!=null&&ed(_))}function hu(_,S,N,z){if(S.subtreeFlags&10256)for(S=S.child;S!==null;)r0(_,S,N,z),S=S.sibling}function r0(_,S,N,z){var G=S.flags;switch(S.tag){case 0:case 11:case 15:hu(_,S,N,z),G&2048&&lv(9,S);break;case 3:hu(_,S,N,z),G&2048&&(_=null,S.alternate!==null&&(_=S.alternate.memoizedState.cache),S=S.memoizedState.cache,S!==_&&(S.refCount++,_!=null&&ed(_)));break;case 12:if(G&2048){hu(_,S,N,z),_=S.stateNode;try{var Z=S.memoizedProps,ce=Z.id,Se=Z.onPostCommit;typeof Se=="function"&&Se(ce,S.alternate===null?"mount":"update",_.passiveEffectDuration,-0)}catch(Be){Qn(S,S.return,Be)}}else hu(_,S,N,z);break;case 23:break;case 22:Z=S.stateNode,S.memoizedState!==null?Z._visibility&4?hu(_,S,N,z):gc(_,S):Z._visibility&4?hu(_,S,N,z):(Z._visibility|=4,Ia(_,S,N,z,(S.subtreeFlags&10256)!==0)),G&2048&&q_(S.alternate,S);break;case 24:hu(_,S,N,z),G&2048&&n0(S.alternate,S);break;default:hu(_,S,N,z)}}function Ia(_,S,N,z,G){for(G=G&&(S.subtreeFlags&10256)!==0,S=S.child;S!==null;){var Z=_,ce=S,Se=N,Be=z,it=ce.flags;switch(ce.tag){case 0:case 11:case 15:Ia(Z,ce,Se,Be,G),lv(8,ce);break;case 23:break;case 22:var bt=ce.stateNode;ce.memoizedState!==null?bt._visibility&4?Ia(Z,ce,Se,Be,G):gc(Z,ce):(bt._visibility|=4,Ia(Z,ce,Se,Be,G)),G&&it&2048&&q_(ce.alternate,ce);break;case 24:Ia(Z,ce,Se,Be,G),G&&it&2048&&n0(ce.alternate,ce);break;default:Ia(Z,ce,Se,Be,G)}S=S.sibling}}function gc(_,S){if(S.subtreeFlags&10256)for(S=S.child;S!==null;){var N=_,z=S,G=z.flags;switch(z.tag){case 22:gc(N,z),G&2048&&q_(z.alternate,z);break;case 24:gc(N,z),G&2048&&n0(z.alternate,z);break;default:gc(N,z)}S=S.sibling}}function na(_){if(_.subtreeFlags&Zf)for(_=_.child;_!==null;)Of(_),_=_.sibling}function Of(_){switch(_.tag){case 26:na(_),_.flags&Zf&&(_.memoizedState!==null?O1(eo,_.memoizedState,_.memoizedProps):si(_.type,_.memoizedProps));break;case 5:na(_),_.flags&Zf&&si(_.type,_.memoizedProps);break;case 3:case 4:if(Yo){var S=eo;eo=M0(_.stateNode.containerInfo),na(_),eo=S}else na(_);break;case 22:_.memoizedState===null&&(S=_.alternate,S!==null&&S.memoizedState!==null?(S=Zf,Zf=16777216,na(_),Zf=S):na(_));break;default:na(_)}}function i0(_){var S=_.alternate;if(S!==null&&(_=S.child,_!==null)){S.child=null;do S=_.sibling,_.sibling=null,_=S;while(_!==null)}}function mc(_){var S=_.deletions;if((_.flags&16)!==0){if(S!==null)for(var N=0;N<S.length;N++){var z=S[N];hi=z,yc(z,_)}i0(_)}if(_.subtreeFlags&10256)for(_=_.child;_!==null;)cv(_),_=_.sibling}function cv(_){switch(_.tag){case 0:case 11:case 15:mc(_),_.flags&2048&&hc(9,_,_.return);break;case 3:mc(_);break;case 12:mc(_);break;case 22:var S=_.stateNode;_.memoizedState!==null&&S._visibility&4&&(_.return===null||_.return.tag!==13)?(S._visibility&=-5,cd(_)):mc(_);break;default:mc(_)}}function cd(_){var S=_.deletions;if((_.flags&16)!==0){if(S!==null)for(var N=0;N<S.length;N++){var z=S[N];hi=z,yc(z,_)}i0(_)}for(_=_.child;_!==null;){switch(S=_,S.tag){case 0:case 11:case 15:hc(8,S,S.return),cd(S);break;case 22:N=S.stateNode,N._visibility&4&&(N._visibility&=-5,cd(S));break;default:cd(S)}_=_.sibling}}function yc(_,S){for(;hi!==null;){var N=hi;switch(N.tag){case 0:case 11:case 15:hc(8,N,S);break;case 23:case 22:if(N.memoizedState!==null&&N.memoizedState.cachePool!==null){var z=N.memoizedState.cachePool.pool;z!=null&&z.refCount++}break;case 24:ed(N.memoizedState.cache)}if(z=N.child,z!==null)z.return=N,hi=z;else e:for(N=_;hi!==null;){z=hi;var G=z.sibling,Z=z.return;if(sd(z),z===N){hi=null;break e}if(G!==null){G.return=Z,hi=G;break e}hi=Z}}}function a0(_){var S=c1(_);if(S!=null){if(typeof S.memoizedProps["data-testname"]!="string")throw Error(i(364));return S}if(_=Hf(_),_===null)throw Error(i(362));return _.stateNode.current}function fd(_,S){var N=_.tag;switch(S.$$typeof){case Bv:if(_.type===S.value)return!0;break;case z0:e:{for(S=S.value,_=[_,0],N=0;N<_.length;){var z=_[N++],G=z.tag,Z=_[N++],ce=S[Z];if(G!==5&&G!==26&&G!==27||!Dl(z)){for(;ce!=null&&fd(z,ce);)Z++,ce=S[Z];if(Z===S.length){S=!0;break e}else for(z=z.child;z!==null;)_.push(z,Z),z=z.sibling}}S=!1}return S;case k0:if((N===5||N===26||N===27)&&BN(_.stateNode,S.value))return!0;break;case Tr:if((N===5||N===6||N===26||N===27)&&(_=bv(_),_!==null&&0<=_.indexOf(S.value)))return!0;break;case or:if((N===5||N===26||N===27)&&(_=_.memoizedProps["data-testname"],typeof _=="string"&&_.toLowerCase()===S.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function xc(_){switch(_.$$typeof){case Bv:return"<"+(o(_.value)||"Unknown")+">";case z0:return":has("+(xc(_)||"")+")";case k0:return'[role="'+_.value+'"]';case Tr:return'"'+_.value+'"';case or:return'[data-testname="'+_.value+'"]';default:throw Error(i(365))}}function $w(_,S){var N=[];_=[_,0];for(var z=0;z<_.length;){var G=_[z++],Z=G.tag,ce=_[z++],Se=S[ce];if(Z!==5&&Z!==26&&Z!==27||!Dl(G)){for(;Se!=null&&fd(G,Se);)ce++,Se=S[ce];if(ce===S.length)N.push(G);else for(G=G.child;G!==null;)_.push(G,ce),G=G.sibling}}return N}function Ka(_,S){if(!El)throw Error(i(363));_=a0(_),_=$w(_,S),S=[],_=Array.from(_);for(var N=0;N<_.length;){var z=_[N++],G=z.tag;if(G===5||G===26||G===27)Dl(z)||S.push(z.stateNode);else for(z=z.child;z!==null;)_.push(z),z=z.sibling}return S}function Ja(){if((an&2)!==0&&Hn!==0)return Hn&-Hn;if(vn.T!==null){var _=bo;return _!==0?_:qe()}return _s()}function bl(){To===0&&(To=(Hn&536870912)===0||ur?I():536870912);var _=$o.current;return _!==null&&(_.flags|=32),To}function Oa(_,S,N){(_===Yn&&Or===2||_.cancelPendingCommit!==null)&&(Hs(_,0),Gs(_,Hn,To,!1)),B(_,N),((an&2)===0||_!==Yn)&&(_===Yn&&((an&2)===0&&(Ks|=N),sr===4&&Gs(_,Hn,To,!1)),Ae(_))}function fv(_,S,N){if((an&6)!==0)throw Error(i(327));var z=!N&&(S&60)===0&&(S&_.expiredLanes)===0||D(_,S),G=z?Tl(_,S):Sl(_,S,!0),Z=z;do{if(G===0){es&&!z&&Gs(_,S,0,!1);break}else if(G===6)Gs(_,S,0,!Mr);else{if(N=_.current.alternate,Z&&!eT(N)){G=Sl(_,S,!1),Z=!1;continue}if(G===2){if(Z=S,_.errorRecoveryDisabledLanes&Z)var ce=0;else ce=_.pendingLanes&-536870913,ce=ce!==0?ce:ce&536870912?536870912:0;if(ce!==0){S=ce;e:{var Se=_;G=Ed;var Be=Qa&&Se.current.memoizedState.isDehydrated;if(Be&&(Hs(Se,ce).flags|=256),ce=Sl(Se,ce,!1),ce!==2){if(Eu&&!Be){Se.errorRecoveryDisabledLanes|=Z,Ks|=Z,G=4;break e}Z=ns,ns=G,Z!==null&&du(Z)}G=ce}if(Z=!1,G!==2)continue}}if(G===1){Hs(_,0),Gs(_,S,0,!0);break}e:{switch(z=_,G){case 0:case 1:throw Error(i(345));case 4:if((S&4194176)===S){Gs(z,S,To,!Mr);break e}break;case 2:ns=null;break;case 3:case 5:break;default:throw Error(i(329))}if(z.finishedWork=N,z.finishedLanes=S,(S&62914560)===S&&(Z=Ol+300-xa(),10<Z)){if(Gs(z,S,To,!Mr),C(z,0)!==0)break e;z.timeoutHandle=u1(o0.bind(null,z,N,ns,Js,Dd,S,To,Ks,Du,Mr,2,-0,0),Z);break e}o0(z,N,ns,Js,Dd,S,To,Ks,Du,Mr,0,-0,0)}}break}while(!0);Ae(_)}function du(_){ns===null?ns=_:ns.push.apply(ns,_)}function o0(_,S,N,z,G,Z,ce,Se,Be,it,bt,Rt,Ut){var Cn=S.subtreeFlags;if((Cn&8192||(Cn&16785408)===16785408)&&(Wo(),Of(S),S=v0(),S!==null)){_.cancelPendingCommit=S(Hr.bind(null,_,N,z,G,ce,Se,Be,1,Rt,Ut)),Gs(_,Z,ce,!it);return}Hr(_,N,z,G,ce,Se,Be,bt,Rt,Ut)}function eT(_){for(var S=_;;){var N=S.tag;if((N===0||N===11||N===15)&&S.flags&16384&&(N=S.updateQueue,N!==null&&(N=N.stores,N!==null)))for(var z=0;z<N.length;z++){var G=N[z],Z=G.getSnapshot;G=G.value;try{if(!Xo(Z(),G))return!1}catch{return!1}}if(N=S.child,S.subtreeFlags&16384&&N!==null)N.return=S,S=N;else{if(S===_)break;for(;S.sibling===null;){if(S.return===null||S.return===_)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function Gs(_,S,N,z){S&=~Va,S&=~Ks,_.suspendedLanes|=S,_.pingedLanes&=~S,z&&(_.warmLanes|=S),z=_.expirationTimes;for(var G=S;0<G;){var Z=31-xo(G),ce=1<<Z;z[Z]=-1,G&=~ce}N!==0&&F(_,N,S)}function Z_(){return(an&6)===0?(Ce(0),!1):!0}function go(){if(Nn!==null){if(Or===0)var _=Nn.return;else _=Nn,fi=Oc=null,Af(_),Rl=null,ws=0,_=Nn;for(;_!==null;)j_(_.alternate,_),_=_.return;Nn=null}}function Hs(_,S){_.finishedWork=null,_.finishedLanes=0;var N=_.timeoutHandle;N!==Gf&&(_.timeoutHandle=Gf,_v(N)),N=_.cancelPendingCommit,N!==null&&(_.cancelPendingCommit=null,N()),go(),Yn=_,Nn=N=Pa(_.current,null),Hn=S,Or=0,bi=null,Mr=!1,es=D(_,S),Eu=!1,Du=To=Va=Ks=ts=sr=0,ns=Ed=null,Dd=!1,(S&8)!==0&&(S|=S&32);var z=_.entangledLanes;if(z!==0)for(_=_.entanglements,z&=S;0<z;){var G=31-xo(z),Z=1<<G;S|=_[G],z&=~Z}return Zs=S,X(),N}function Pf(_,S){zn=null,vn.H=cr,S===Er?(S=wt(),Or=3):S===B1?(S=wt(),Or=4):Or=S===IT?8:S!==null&&typeof S=="object"&&typeof S.then=="function"?6:1,bi=S,Nn===null&&(sr=1,Wm(_,K(S,_.current)))}function hv(){var _=$o.current;return _===null?!0:(Hn&4194176)===Hn?Ts===null:(Hn&62914560)===Hn||(Hn&536870912)!==0?_===Ts:!1}function hd(){var _=vn.H;return vn.H=cr,_===null?cr:_}function Ho(){var _=vn.A;return vn.A=P0,_}function mo(){sr=4,Mr||(Hn&4194176)!==Hn&&$o.current!==null||(es=!0),(ts&134217727)===0&&(Ks&134217727)===0||Yn===null||Gs(Yn,Hn,To,!1)}function Sl(_,S,N){var z=an;an|=2;var G=hd(),Z=Ho();(Yn!==_||Hn!==S)&&(Js=null,Hs(_,S)),S=!1;var ce=sr;e:do try{if(Or!==0&&Nn!==null){var Se=Nn,Be=bi;switch(Or){case 8:go(),ce=6;break e;case 3:case 2:case 6:$o.current===null&&(S=!0);var it=Or;if(Or=0,bi=null,_c(_,Se,Be,it),N&&es){ce=0;break e}break;default:it=Or,Or=0,bi=null,_c(_,Se,Be,it)}}wl(),ce=sr;break}catch(bt){Pf(_,bt)}while(!0);return S&&_.shellSuspendCounter++,fi=Oc=null,an=z,vn.H=G,vn.A=Z,Nn===null&&(Yn=null,Hn=0,X()),ce}function wl(){for(;Nn!==null;)K_(Nn)}function Tl(_,S){var N=an;an|=2;var z=hd(),G=Ho();Yn!==_||Hn!==S?(Js=null,ai=xa()+500,Hs(_,S)):es=D(_,S);e:do try{if(Or!==0&&Nn!==null){S=Nn;var Z=bi;t:switch(Or){case 1:Or=0,bi=null,_c(_,S,Z,1);break;case 2:if(at(Z)){Or=0,bi=null,s0(S);break}S=function(){Or===2&&Yn===_&&(Or=7),Ae(_)},Z.then(S,S);break e;case 3:Or=7;break e;case 4:Or=5;break e;case 7:at(Z)?(Or=0,bi=null,s0(S)):(Or=0,bi=null,_c(_,S,Z,7));break;case 5:var ce=null;switch(Nn.tag){case 26:ce=Nn.memoizedState;case 5:case 27:var Se=Nn,Be=Se.type,it=Se.pendingProps;if(ce?I1(ce):bu(Be,it)){Or=0,bi=null;var bt=Se.sibling;if(bt!==null)Nn=bt;else{var Rt=Se.return;Rt!==null?(Nn=Rt,dv(Rt)):Nn=null}break t}}Or=0,bi=null,_c(_,S,Z,5);break;case 6:Or=0,bi=null,_c(_,S,Z,6);break;case 8:go(),sr=6;break e;default:throw Error(i(462))}}pu();break}catch(Ut){Pf(_,Ut)}while(!0);return fi=Oc=null,vn.H=z,vn.A=G,an=N,Nn!==null?0:(Yn=null,Hn=0,X(),sr)}function pu(){for(;Nn!==null&&!ET();)K_(Nn)}function K_(_){var S=Yw(_.alternate,_,Zs);_.memoizedProps=_.pendingProps,S===null?dv(_):Nn=S}function s0(_){var S=_,N=S.alternate;switch(S.tag){case 15:case 0:S=Fw(N,S,S.pendingProps,S.type,void 0,Hn);break;case 11:S=Fw(N,S,S.pendingProps,S.type.render,S.ref,Hn);break;case 5:Af(S);default:j_(N,S),S=Nn=mu(S,Zs),S=Yw(N,S,Zs)}_.memoizedProps=_.pendingProps,S===null?dv(_):Nn=S}function _c(_,S,N,z){fi=Oc=null,Af(S),Rl=null,ws=0;var G=S.return;try{if(zw(_,G,S,N,Hn)){sr=1,Wm(_,K(N,_.current)),Nn=null;return}}catch(Z){if(G!==null)throw Nn=G,Z;sr=1,Wm(_,K(N,_.current)),Nn=null;return}S.flags&32768?(ur||z===1?_=!0:es||(Hn&536870912)!==0?_=!1:(Mr=_=!0,(z===2||z===3||z===6)&&(z=$o.current,z!==null&&z.tag===13&&(z.flags|=16384))),ra(S,_)):dv(S)}function dv(_){var S=_;do{if((S.flags&32768)!==0){ra(S,Mr);return}_=S.return;var N=qw(S.alternate,S,Zs);if(N!==null){Nn=N;return}if(S=S.sibling,S!==null){Nn=S;return}Nn=S=_}while(S!==null);sr===0&&(sr=5)}function ra(_,S){do{var N=Zw(_.alternate,_);if(N!==null){N.flags&=32767,Nn=N;return}if(N=_.return,N!==null&&(N.flags|=32768,N.subtreeFlags=0,N.deletions=null),!S&&(_=_.sibling,_!==null)){Nn=_;return}Nn=_=N}while(_!==null);sr=6,Nn=null}function Hr(_,S,N,z,G,Z,ce,Se,Be,it){var bt=vn.T,Rt=Wi();try{za(2),vn.T=null,nr(_,S,N,z,Rt,G,Z,ce,Se,Be,it)}finally{vn.T=bt,za(Rt)}}function nr(_,S,N,z,G,Z,ce,Se){do ia();while(Nu!==null);if((an&6)!==0)throw Error(i(327));var Be=_.finishedWork;if(z=_.finishedLanes,Be===null)return null;if(_.finishedWork=null,_.finishedLanes=0,Be===_.current)throw Error(i(177));_.callbackNode=null,_.callbackPriority=0,_.cancelPendingCommit=null;var it=Be.lanes|Be.childLanes;if(it|=wd,V(_,z,it,Z,ce,Se),_===Yn&&(Nn=Yn=null,Hn=0),(Be.subtreeFlags&10256)===0&&(Be.flags&10256)===0||As||(As=!0,B0=it,Jf=N,pv(C0,function(){return ia(),null})),N=(Be.flags&15990)!==0,(Be.subtreeFlags&15990)!==0||N?(N=vn.T,vn.T=null,Z=Wi(),za(2),ce=an,an|=4,od(_,Be),pc(Be,_),s1(_.containerInfo),_.current=Be,e0(_,Be.alternate,Be),DT(),an=ce,za(Z),vn.T=N):_.current=Be,As?(As=!1,Nu=_,Kf=z):vu(_,it),it=_.pendingLanes,it===0&&(rs=null),H(Be.stateNode),Ae(_),S!==null)for(G=_.onRecoverableError,Be=0;Be<S.length;Be++)it=S[Be],G(it.value,{componentStack:it.stack});return(Kf&3)!==0&&ia(),it=_.pendingLanes,(z&4194218)!==0&&(it&42)!==0?_===to?Qf++:(Qf=0,to=_):Qf=0,Ce(0),null}function vu(_,S){(_.pooledCacheLanes&=S)===0&&(S=_.pooledCache,S!=null&&(_.pooledCache=null,ed(S)))}function ia(){if(Nu!==null){var _=Nu,S=B0;B0=0;var N=Y(Kf),z=32>N?32:N;N=vn.T;var G=Wi();try{if(za(z),vn.T=null,Nu===null)var Z=!1;else{z=Jf,Jf=null;var ce=Nu,Se=Kf;if(Nu=null,Kf=0,(an&6)!==0)throw Error(i(331));var Be=an;if(an|=4,cv(ce.current),r0(ce,ce.current,Se,z),an=Be,Ce(0,!1),_o&&typeof _o.onPostCommitFiberRoot=="function")try{_o.onPostCommitFiberRoot(bd,ce)}catch{}Z=!0}return Z}finally{za(G),vn.T=N,vu(_,S)}}return!1}function l0(_,S,N){S=K(N,S),S=nv(_.stateNode,S,2),_=ut(_,S,2),_!==null&&(B(_,2),Ae(_))}function Qn(_,S,N){if(_.tag===3)l0(_,_,N);else for(;S!==null;){if(S.tag===3){l0(S,_,N);break}else if(S.tag===1){var z=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof z.componentDidCatch=="function"&&(rs===null||!rs.has(z))){_=K(N,_),N=$h(2),z=ut(S,N,2),z!==null&&(rv(N,z,S,_),B(z,2),Ae(z));break}}S=S.return}}function u0(_,S,N){var z=_.pingCache;if(z===null){z=_.pingCache=new $n;var G=new Set;z.set(S,G)}else G=z.get(S),G===void 0&&(G=new Set,z.set(S,G));G.has(N)||(Eu=!0,G.add(N),_=tT.bind(null,_,S,N),S.then(_,_))}function tT(_,S,N){var z=_.pingCache;z!==null&&z.delete(S),_.pingedLanes|=_.suspendedLanes&N,_.warmLanes&=~N,Yn===_&&(Hn&N)===N&&(sr===4||sr===3&&(Hn&62914560)===Hn&&300>xa()-Ol?(an&2)===0&&Hs(_,0):Va|=N,Du===Hn&&(Du=0)),Ae(_)}function zf(_,S){S===0&&(S=L()),_=oe(_,S),_!==null&&(B(_,S),Ae(_))}function kf(_){var S=_.memoizedState,N=0;S!==null&&(N=S.retryLane),zf(_,N)}function J_(_,S){var N=0;switch(_.tag){case 13:var z=_.stateNode,G=_.memoizedState;G!==null&&(N=G.retryLane);break;case 19:z=_.stateNode;break;case 22:z=_.stateNode._retryCache;break;default:throw Error(i(314))}z!==null&&z.delete(S),zf(_,N)}function pv(_,S){return _d(_,S)}function Q_(_,S,N,z){this.tag=_,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=z,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gu(_){return _=_.prototype,!(!_||!_.isReactComponent)}function Pa(_,S){var N=_.alternate;return N===null?(N=t(_.tag,S,_.key,_.mode),N.elementType=_.elementType,N.type=_.type,N.stateNode=_.stateNode,N.alternate=_,_.alternate=N):(N.pendingProps=S,N.type=_.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=_.flags&31457280,N.childLanes=_.childLanes,N.lanes=_.lanes,N.child=_.child,N.memoizedProps=_.memoizedProps,N.memoizedState=_.memoizedState,N.updateQueue=_.updateQueue,S=_.dependencies,N.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},N.sibling=_.sibling,N.index=_.index,N.ref=_.ref,N.refCleanup=_.refCleanup,N}function mu(_,S){_.flags&=31457282;var N=_.alternate;return N===null?(_.childLanes=0,_.lanes=S,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=N.childLanes,_.lanes=N.lanes,_.child=N.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=N.memoizedProps,_.memoizedState=N.memoizedState,_.updateQueue=N.updateQueue,_.type=N.type,S=N.dependencies,_.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),_}function xs(_,S,N,z,G,Z){var ce=0;if(z=_,typeof _=="function")gu(_)&&(ce=1);else if(typeof _=="string")ce=Yo&&ya?A1(_,N,oa.current)?26:yd(_)?27:5:Yo?A1(_,N,oa.current)?26:5:ya&&yd(_)?27:5;else e:switch(_){case pd:return yu(N.children,G,Z,S);case r1:ce=8,G|=24;break;case i1:return _=t(12,N,S,G|2),_.elementType=i1,_.lanes=Z,_;case f0:return _=t(13,N,S,G),_.elementType=f0,_.lanes=Z,_;case wc:return _=t(19,N,S,G),_.elementType=wc,_.lanes=Z,_;case mv:return c0(N,G,Z,S);default:if(typeof _=="object"&&_!==null)switch(_.$$typeof){case iT:case Ml:ce=10;break e;case Sc:ce=9;break e;case vd:ce=11;break e;case gv:ce=14;break e;case Ws:ce=16,z=null;break e}ce=29,N=Error(i(130,_===null?"null":typeof _,"")),z=null}return S=t(ce,N,S,G),S.elementType=_,S.type=z,S.lanes=Z,S}function yu(_,S,N,z){return _=t(7,_,z,S),_.lanes=N,_}function c0(_,S,N,z){_=t(22,_,z,S),_.elementType=mv,_.lanes=N;var G={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var Z=G._current;if(Z===null)throw Error(i(456));if((G._pendingVisibility&2)===0){var ce=oe(Z,2);ce!==null&&(G._pendingVisibility|=2,Oa(ce,Z,2))}},attach:function(){var Z=G._current;if(Z===null)throw Error(i(456));if((G._pendingVisibility&2)!==0){var ce=oe(Z,2);ce!==null&&(G._pendingVisibility&=-3,Oa(ce,Z,2))}}};return _.stateNode=G,_}function bc(_,S,N){return _=t(6,_,null,S),_.lanes=N,_}function dd(_,S,N){return S=t(4,_.children!==null?_.children:[],_.key,S),S.lanes=N,S.stateNode={containerInfo:_.containerInfo,pendingChildren:null,implementation:_.implementation},S}function Bf(_,S,N,z,G,Z,ce,Se){this.tag=1,this.containerInfo=_,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Gf,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=z,this.onUncaughtError=G,this.onCaughtError=Z,this.onRecoverableError=ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Se,this.incompleteTransitions=new Map}function aa(_,S,N,z,G,Z,ce,Se,Be,it,bt,Rt){return _=new Bf(_,S,N,ce,Se,Be,it,Rt),S=1,Z===!0&&(S|=24),Z=t(3,null,null,S),_.current=Z,Z.stateNode=_,S=Zm(),S.refCount++,_.pooledCache=S,S.refCount++,Z.memoizedState={element:z,isDehydrated:N,cache:S},Ct(Z),_}function vv(_){return _?(_=jf,_):jf}function $_(_){var S=_._reactInternals;if(S===void 0)throw typeof _.render=="function"?Error(i(188)):(_=Object.keys(_).join(","),Error(i(268,_)));return _=d(S),_=_!==null?v(_):null,_===null?null:gd(_.stateNode)}function nT(_,S,N,z,G,Z){G=vv(G),z.context===null?z.context=G:z.pendingContext=G,z=Je(S),z.payload={element:N},Z=Z===void 0?null:Z,Z!==null&&(z.callback=Z),N=ut(_,z,S),N!==null&&(Oa(N,_,S),kt(N,_,S))}function rT(_,S){if(_=_.memoizedState,_!==null&&_.dehydrated!==null){var N=_.retryLane;_.retryLane=N!==0&&N<S?N:S}}function e1(_,S){rT(_,S),(_=_.alternate)&&rT(_,S)}var rn={},t1=qx(),ga=HJ(),Uf=Object.assign,n1=Symbol.for("react.element"),xu=Symbol.for("react.transitional.element"),js=Symbol.for("react.portal"),pd=Symbol.for("react.fragment"),r1=Symbol.for("react.strict_mode"),i1=Symbol.for("react.profiler"),iT=Symbol.for("react.provider"),Sc=Symbol.for("react.consumer"),Ml=Symbol.for("react.context"),vd=Symbol.for("react.forward_ref"),f0=Symbol.for("react.suspense"),wc=Symbol.for("react.suspense_list"),gv=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),mv=Symbol.for("react.offscreen"),aT=Symbol.for("react.memo_cache_sentinel"),a1=Symbol.iterator,Vf=Symbol.for("react.client.reference"),vn=t1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,h0,o1,Tc=!1,Mc=Array.isArray,d0=e.rendererVersion,yv=e.rendererPackageName,xv=e.extraDevToolsConfig,gd=e.getPublicInstance,Ff=e.getRootHostContext,oT=e.getChildHostContext,Ac=e.prepareForCommit,s1=e.resetAfterCommit,l1=e.createInstance,Al=e.appendInitialChild,_u=e.finalizeInitialChildren,Cc=e.shouldSetTextContent,p0=e.createTextInstance,u1=e.scheduleTimeout,_v=e.cancelTimeout,Gf=e.noTimeout,Cl=e.isPrimaryRenderer;e.warnsIfNotActing;var ma=e.supportsMutation,jo=e.supportsPersistence,Qa=e.supportsHydration,c1=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var f1=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var za=e.setCurrentUpdatePriority,Wi=e.getCurrentUpdatePriority,_s=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Ec=e.shouldAttemptEagerTransition,h1=e.detachDeletedInstance;e.requestPostPaintCallback;var sT=e.maySuspendCommit,bu=e.preloadInstance,Wo=e.startSuspendingCommit,si=e.suspendInstance,v0=e.waitForCommitToBeReady,yo=e.NotPendingTransition,xn=e.HostTransitionContext,Ir=e.resetFormInstance;e.bindToConsole;var Ni=e.supportsMicrotasks,g0=e.scheduleMicrotask,El=e.supportsTestSelectors,Hf=e.findFiberRoot,m0=e.getBoundingRect,bv=e.getTextContent,Dl=e.isHiddenSubtree,BN=e.matchAccessibilityRole,li=e.setFocusIfFocusable,d1=e.setupIntersectionObserver,p1=e.appendChild,lT=e.appendChildToContainer,uT=e.commitTextUpdate,UN=e.commitMount,v1=e.commitUpdate,g1=e.insertBefore,m1=e.insertInContainerBefore,$a=e.removeChild,mi=e.removeChildFromContainer,Sv=e.resetTextContent,wv=e.hideInstance,y0=e.hideTextInstance,y1=e.unhideInstance,Su=e.unhideTextInstance,x0=e.clearContainer,x1=e.cloneInstance,_0=e.createContainerChildSet,_1=e.appendChildToContainerChildSet,cT=e.finalizeContainerChildren,b1=e.replaceContainerChildren,S1=e.cloneHiddenInstance,w1=e.cloneHiddenTextInstance,b0=e.isSuspenseInstancePending,Tv=e.isSuspenseInstanceFallback,fT=e.getSuspenseInstanceFallbackErrorDetails,VN=e.registerSuspenseInstanceRetry,hT=e.canHydrateFormStateMarker,dT=e.isFormStateMarkerMatching,T1=e.getNextHydratableSibling,S0=e.getFirstHydratableChild,pT=e.getFirstHydratableChildWithinContainer,vT=e.getFirstHydratableChildWithinSuspenseInstance,gT=e.canHydrateInstance,mT=e.canHydrateTextInstance,yT=e.canHydrateSuspenseInstance,FN=e.hydrateInstance,xT=e.hydrateTextInstance,md=e.hydrateSuspenseInstance,_T=e.getNextHydratableInstanceAfterSuspenseInstance,w0=e.commitHydratedContainer,T0=e.commitHydratedSuspenseInstance,bT=e.clearSuspenseBoundary,M1=e.clearSuspenseBoundaryFromContainer,ST=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var wT=e.validateHydratableInstance,TT=e.validateHydratableTextInstance,Yo=e.supportsResources,A1=e.isHostHoistableType,M0=e.getHoistableRoot,A0=e.getResource,C1=e.acquireResource,E1=e.releaseResource,D1=e.hydrateHoistable,N1=e.mountHoistable,R1=e.unmountHoistable,GN=e.createHoistableInstance,L1=e.prepareToCommitHoistables,MT=e.mayResourceSuspendCommit,I1=e.preloadResource,O1=e.suspendResource,ya=e.supportsSingletons,P1=e.resolveSingletonInstance,HN=e.clearSingleton,jN=e.acquireSingletonInstance,AT=e.releaseSingletonInstance,yd=e.isHostSingletonType,Mv=[],wu=-1,jf={},xo=Math.clz32?Math.clz32:T,Av=Math.log,CT=Math.LN2,xd=128,Cv=4194304,_d=ga.unstable_scheduleCallback,Ev=ga.unstable_cancelCallback,ET=ga.unstable_shouldYield,DT=ga.unstable_requestPaint,xa=ga.unstable_now,z1=ga.unstable_ImmediatePriority,NT=ga.unstable_UserBlockingPriority,C0=ga.unstable_NormalPriority,E0=ga.unstable_IdlePriority,RT=ga.log,k1=ga.unstable_setDisableYieldValue,bd=null,_o=null,Xo=typeof Object.is=="function"?Object.is:q,D0=new WeakMap,$r=[],ui=0,Dv=null,Nv=0,qo=[],Zo=0,Ys=null,Nl=1,bs="",oa=y(null),Rv=y(null),Xs=y(null),Sd=y(null),ka=null,_a=null,ur=!1,Ko=null,Ss=!1,Lv=Error(i(519)),Jo=[],Dc=0,wd=0,Td=null,Wf=null,Iv=!1,Ov=!1,qs=!1,Nc=0,Pv=null,N0=0,bo=0,Rc=null,Tu=!1,Md=!1,zv=Object.prototype.hasOwnProperty,Er=Error(i(460)),B1=Error(i(474)),R0={then:function(){}},Yf=null,Rl=null,ws=0,Lc=Xn(!0),U1=Xn(!1),Ll=y(null),Qo=y(0),$o=y(null),Ts=null,Ri=y(0),Il=0,zn=null,mr=null,yi=null,Ms=!1,ei=!1,Mu=!1,kv=0,ci=0,Ad=null,LT=0,L0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},cr={readContext:va,use:Ye,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useLayoutEffect:Vn,useInsertionEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useSyncExternalStore:Vn,useId:Vn};cr.useCacheRefresh=Vn,cr.useMemoCache=Vn,cr.useHostTransitionStatus=Vn,cr.useFormState=Vn,cr.useActionState=Vn,cr.useOptimistic=Vn;var Li={readContext:va,use:Ye,useCallback:function(_,S){return gi().memoizedState=[_,S===void 0?null:S],_},useContext:va,useEffect:C_,useImperativeHandle:function(_,S,N){N=N!=null?N.concat([_]):null,ys(4194308,4,Jp.bind(null,S,_),N)},useLayoutEffect:function(_,S){return ys(4194308,4,_,S)},useInsertionEffect:function(_,S){ys(4,2,_,S)},useMemo:function(_,S){var N=gi();S=S===void 0?null:S;var z=_();if(Mu){W(!0);try{_()}finally{W(!1)}}return N.memoizedState=[z,S],z},useReducer:function(_,S,N){var z=gi();if(N!==void 0){var G=N(S);if(Mu){W(!0);try{N(S)}finally{W(!1)}}}else G=S;return z.memoizedState=z.baseState=G,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_,lastRenderedState:G},z.queue=_,_=_.dispatch=oc.bind(null,zn,_),[z.memoizedState,_]},useRef:function(_){var S=gi();return _={current:_},S.memoizedState=_},useState:function(_){_=ar(_);var S=_.queue,N=Hm.bind(null,zn,S);return S.dispatch=N,[_.memoizedState,N]},useDebugValue:Qp,useDeferredValue:function(_,S){var N=gi();return ac(N,_,S)},useTransition:function(){var _=ar(!1);return _=Fm.bind(null,zn,_.queue,!0,!1),gi().memoizedState=_,[!1,_]},useSyncExternalStore:function(_,S,N){var z=zn,G=gi();if(ur){if(N===void 0)throw Error(i(407));N=N()}else{if(N=S(),Yn===null)throw Error(i(349));(Hn&60)!==0||un(z,S,N)}G.memoizedState=N;var Z={value:N,getSnapshot:S};return G.queue=Z,C_(nn.bind(null,z,Z,_),[_]),z.flags|=2048,oi(9,pn.bind(null,z,Z,N,S),{destroy:void 0},null),N},useId:function(){var _=gi(),S=Yn.identifierPrefix;if(ur){var N=bs,z=Nl;N=(z&~(1<<32-xo(z)-1)).toString(32)+N,S=":"+S+"R"+N,N=kv++,0<N&&(S+="H"+N.toString(32)),S+=":"}else N=LT++,S=":"+S+"r"+N.toString(32)+":";return _.memoizedState=S},useCacheRefresh:function(){return gi().memoizedState=$p.bind(null,zn)}};Li.useMemoCache=Ve,Li.useHostTransitionStatus=Ef,Li.useFormState=ml,Li.useActionState=ml,Li.useOptimistic=function(_){var S=gi();S.memoizedState=S.baseState=_;var N={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return S.queue=N,S=jm.bind(null,zn,!0,N),N.dispatch=S,[_,S]};var Ba={readContext:va,use:Ye,useCallback:Vm,useContext:va,useEffect:Kp,useImperativeHandle:yl,useInsertionEffect:Ow,useLayoutEffect:Pw,useMemo:Cf,useReducer:_t,useRef:Vs,useState:function(){return _t(Pe)},useDebugValue:Qp,useDeferredValue:function(_,S){var N=le();return E_(N,mr.memoizedState,_,S)},useTransition:function(){var _=_t(Pe)[0],S=le().memoizedState;return[typeof _=="boolean"?_:Le(_),S]},useSyncExternalStore:Yt,useId:xl};Ba.useCacheRefresh=Gm,Ba.useMemoCache=Ve,Ba.useHostTransitionStatus=Ef,Ba.useFormState=kr,Ba.useActionState=kr,Ba.useOptimistic=function(_,S){var N=le();return Kn(N,mr,_,S)};var Ic={readContext:va,use:Ye,useCallback:Vm,useContext:va,useEffect:Kp,useImperativeHandle:yl,useInsertionEffect:Ow,useLayoutEffect:Pw,useMemo:Cf,useReducer:Gt,useRef:Vs,useState:function(){return Gt(Pe)},useDebugValue:Qp,useDeferredValue:function(_,S){var N=le();return mr===null?ac(N,_,S):E_(N,mr.memoizedState,_,S)},useTransition:function(){var _=Gt(Pe)[0],S=le().memoizedState;return[typeof _=="boolean"?_:Le(_),S]},useSyncExternalStore:Yt,useId:xl};Ic.useCacheRefresh=Gm,Ic.useMemoCache=Ve,Ic.useHostTransitionStatus=Ef,Ic.useFormState=ji,Ic.useActionState=ji,Ic.useOptimistic=function(_,S){var N=le();return mr!==null?Kn(N,mr,_,S):(N.baseState=_,[_,N.queue.dispatch])};var I0={isMounted:function(_){return(_=_._reactInternals)?f(_)===_:!1},enqueueSetState:function(_,S,N){_=_._reactInternals;var z=Ja(),G=Je(z);G.payload=S,N!=null&&(G.callback=N),S=ut(_,G,z),S!==null&&(Oa(S,_,z),kt(S,_,z))},enqueueReplaceState:function(_,S,N){_=_._reactInternals;var z=Ja(),G=Je(z);G.tag=1,G.payload=S,N!=null&&(G.callback=N),S=ut(_,G,z),S!==null&&(Oa(S,_,z),kt(S,_,z))},enqueueForceUpdate:function(_,S){_=_._reactInternals;var N=Ja(),z=Je(N);z.tag=2,S!=null&&(z.callback=S),S=ut(_,z,N),S!==null&&(Oa(S,_,N),kt(S,_,N))}},V1=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(S))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},IT=Error(i(461)),xi=!1,Ua={dehydrated:null,treeContext:null,retryLane:0},So=y(null),Oc=null,fi=null,OT=typeof AbortController<"u"?AbortController:function(){var _=[],S=this.signal={aborted:!1,addEventListener:function(N,z){_.push(z)}};this.abort=function(){S.aborted=!0,_.forEach(function(N){return N()})}},Au=ga.unstable_scheduleCallback,Xf=ga.unstable_NormalPriority,wr={$$typeof:Ml,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},O0=vn.S;vn.S=function(_,S){typeof S=="object"&&S!==null&&typeof S.then=="function"&&Ie(_,S),O0!==null&&O0(_,S)};var Cu=y(null),Yi=!1,ii=!1,Pc=!1,Cd=typeof WeakSet=="function"?WeakSet:Set,hi=null,qf=!1,_i=null,wo=!1,eo=null,Zf=8192,P0={getCacheForType:function(_){var S=va(wr),N=S.data.get(_);return N===void 0&&(N=_(),S.data.set(_,N)),N}},Bv=0,z0=1,k0=2,or=3,Tr=4;if(typeof Symbol=="function"&&Symbol.for){var kn=Symbol.for;Bv=kn("selector.component"),z0=kn("selector.has_pseudo_class"),k0=kn("selector.role"),or=kn("selector.test_id"),Tr=kn("selector.text")}var $n=typeof WeakMap=="function"?WeakMap:Map,an=0,Yn=null,Nn=null,Hn=0,Or=0,bi=null,Mr=!1,es=!1,Eu=!1,Zs=0,sr=0,ts=0,Ks=0,Va=0,To=0,Du=0,Ed=null,ns=null,Dd=!1,Ol=0,ai=1/0,Js=null,rs=null,As=!1,Nu=null,Kf=0,B0=0,Jf=null,Qf=0,to=null;return rn.attemptContinuousHydration=function(_){if(_.tag===13){var S=oe(_,67108864);S!==null&&Oa(S,_,67108864),e1(_,67108864)}},rn.attemptHydrationAtCurrentPriority=function(_){if(_.tag===13){var S=Ja(),N=oe(_,S);N!==null&&Oa(N,_,S),e1(_,S)}},rn.attemptSynchronousHydration=function(_){switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=M(_.pendingLanes);if(S!==0){for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var N=1<<31-xo(S);_.entanglements[1]|=N,S&=~N}Ae(_),(an&6)===0&&(ai=xa()+500,Ce(0))}}break;case 13:S=oe(_,2),S!==null&&Oa(S,_,2),Z_(),e1(_,2)}},rn.batchedUpdates=function(_,S){return _(S)},rn.createComponentSelector=function(_){return{$$typeof:Bv,value:_}},rn.createContainer=function(_,S,N,z,G,Z,ce,Se,Be,it){return aa(_,S,!1,null,N,z,Z,ce,Se,Be,it,null)},rn.createHasPseudoClassSelector=function(_){return{$$typeof:z0,value:_}},rn.createHydrationContainer=function(_,S,N,z,G,Z,ce,Se,Be,it,bt,Rt,Ut){return _=aa(N,z,!0,_,G,Z,Se,Be,it,bt,Rt,Ut),_.context=vv(null),N=_.current,z=Ja(),G=Je(z),G.callback=S??null,ut(N,G,z),_.current.lanes=z,B(_,z),Ae(_),_},rn.createPortal=function(_,S,N){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:z==null?null:""+z,children:_,containerInfo:S,implementation:N}},rn.createRoleSelector=function(_){return{$$typeof:k0,value:_}},rn.createTestNameSelector=function(_){return{$$typeof:or,value:_}},rn.createTextSelector=function(_){return{$$typeof:Tr,value:_}},rn.defaultOnCaughtError=function(_){console.error(_)},rn.defaultOnRecoverableError=function(_){V1(_)},rn.defaultOnUncaughtError=function(_){V1(_)},rn.deferredUpdates=function(_){var S=vn.T,N=Wi();try{return za(32),vn.T=null,_()}finally{za(N),vn.T=S}},rn.discreteUpdates=function(_,S,N,z,G){var Z=vn.T,ce=Wi();try{return za(2),vn.T=null,_(S,N,z,G)}finally{za(ce),vn.T=Z,an===0&&(ai=xa()+500)}},rn.findAllNodes=Ka,rn.findBoundingRects=function(_,S){if(!El)throw Error(i(363));S=Ka(_,S),_=[];for(var N=0;N<S.length;N++)_.push(m0(S[N]));for(S=_.length-1;0<S;S--){N=_[S];for(var z=N.x,G=z+N.width,Z=N.y,ce=Z+N.height,Se=S-1;0<=Se;Se--)if(S!==Se){var Be=_[Se],it=Be.x,bt=it+Be.width,Rt=Be.y,Ut=Rt+Be.height;if(z>=it&&Z>=Rt&&G<=bt&&ce<=Ut){_.splice(S,1);break}else if(z!==it||N.width!==Be.width||Ut<Z||Rt>ce){if(!(Z!==Rt||N.height!==Be.height||bt<z||it>G)){it>z&&(Be.width+=it-z,Be.x=z),bt<G&&(Be.width=G-it),_.splice(S,1);break}}else{Rt>Z&&(Be.height+=Rt-Z,Be.y=Z),Ut<ce&&(Be.height=ce-Rt),_.splice(S,1);break}}}return _},rn.findHostInstance=$_,rn.findHostInstanceWithNoPortals=function(_){return _=d(_),_=_!==null?g(_):null,_===null?null:gd(_.stateNode)},rn.findHostInstanceWithWarning=function(_){return $_(_)},rn.flushPassiveEffects=ia,rn.flushSyncFromReconciler=function(_){var S=an;an|=1;var N=vn.T,z=Wi();try{if(za(2),vn.T=null,_)return _()}finally{za(z),vn.T=N,an=S,(an&6)===0&&Ce(0)}},rn.flushSyncWork=Z_,rn.focusWithin=function(_,S){if(!El)throw Error(i(363));for(_=a0(_),S=$w(_,S),S=Array.from(S),_=0;_<S.length;){var N=S[_++],z=N.tag;if(!Dl(N)){if((z===5||z===26||z===27)&&li(N.stateNode))return!0;for(N=N.child;N!==null;)S.push(N),N=N.sibling}}return!1},rn.getFindAllNodesFailureDescription=function(_,S){if(!El)throw Error(i(363));var N=0,z=[];_=[a0(_),0];for(var G=0;G<_.length;){var Z=_[G++],ce=Z.tag,Se=_[G++],Be=S[Se];if((ce!==5&&ce!==26&&ce!==27||!Dl(Z))&&(fd(Z,Be)&&(z.push(xc(Be)),Se++,Se>N&&(N=Se)),Se<S.length))for(Z=Z.child;Z!==null;)_.push(Z,Se),Z=Z.sibling}if(N<S.length){for(_=[];N<S.length;N++)_.push(xc(S[N]));return`findAllNodes was able to match part of the selector:
  `+(z.join(" > ")+`

No matching component was found for:
  `)+_.join(" > ")}return null},rn.getPublicRootInstance=function(_){if(_=_.current,!_.child)return null;switch(_.child.tag){case 27:case 5:return gd(_.child.stateNode);default:return _.child.stateNode}},rn.injectIntoDevTools=function(){var _={bundleType:0,version:d0,rendererPackageName:yv,currentDispatcherRef:vn,findFiberByHostInstance:c1,reconcilerVersion:"19.0.0"};if(xv!==null&&(_.rendererConfig=xv),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")_=!1;else{var S=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(S.isDisabled||!S.supportsFiber)_=!0;else{try{bd=S.inject(_),_o=S}catch{}_=!!S.checkDCE}}return _},rn.isAlreadyRendering=function(){return!1},rn.observeVisibleRects=function(_,S,N,z){if(!El)throw Error(i(363));_=Ka(_,S);var G=d1(_,N,z).disconnect;return{disconnect:function(){G()}}},rn.shouldError=function(){return null},rn.shouldSuspend=function(){return!1},rn.startHostTransition=function(_,S,N,z){if(_.tag!==5)throw Error(i(476));var G=D_(_).queue;Fm(_,G,S,yo,N===null?r:function(){var Z=D_(_).next.queue;return sc(_,Z,{},Ja()),N(z)})},rn.updateContainer=function(_,S,N,z){var G=S.current,Z=Ja();return nT(G,Z,_,S,N,z),Z},rn.updateContainerSync=function(_,S,N,z){return S.tag===0&&ia(),nT(S.current,2,_,S,N,z),2},rn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(LL)),LL.exports}var mG;function ebe(){return mG||(mG=1,RL.exports=$1e()),RL.exports}var tbe=ebe();const nbe=Xx(tbe);var yG=HJ();function lk(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=lk(r,e,t);if(i)return i;r=e?null:r.sibling}}function jJ(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const uk=jJ(fe.createContext(null));let WJ=class extends fe.Component{render(){return fe.createElement(uk.Provider,{value:this._reactInternals},this.props.children)}};function YJ(){const n=fe.useContext(uk);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=fe.useId();return fe.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=lk(t,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[n,e])}const rbe=Symbol.for("react.context"),ibe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===rbe;function abe(){const n=YJ(),[e]=fe.useState(()=>new Map);e.clear();let t=n;for(;t;){const r=t.type;ibe(r)&&r!==uk&&!e.has(r)&&e.set(r,fe.use(jJ(r))),t=t.return}return e}function obe(){const n=abe();return fe.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>fe.createElement(e,null,fe.createElement(t.Provider,{...r,value:n.get(t)})),e=>fe.createElement(WJ,{...e})),[n])}function XJ(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const qJ=n=>n&&n.isOrthographicCamera,sbe=n=>n&&n.hasOwnProperty("current"),lbe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),hw=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?fe.useLayoutEffect:fe.useEffect;function ZJ(n){const e=fe.useRef(n);return hw(()=>void(e.current=n),[n]),e}function ube(){const n=YJ(),e=obe();return fe.useMemo(()=>({children:t})=>{const i=!!lk(n,!0,a=>a.type===fe.StrictMode)?fe.StrictMode:fe.Fragment;return E.jsx(i,{children:E.jsx(e,{children:t})})},[n,e])}function cbe({set:n}){return hw(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const fbe=(n=>(n=class extends fe.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function KJ(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function py(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Si={obj:n=>n===Object(n)&&!Si.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Si.str(n)||Si.num(n)||Si.boo(n))return n===e;const a=Si.obj(n);if(a&&r==="reference")return n===e;const o=Si.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(s in i?e:n)if(!Si.equ(n[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:n)if(n[s]!==e[s])return!1;if(Si.und(s)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function hbe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const JJ=["children","key","ref"];function dbe(n){const e={};for(const t in n)JJ.includes(t)||(e[t]=n[t]);return e}function HE(n,e,t,r){const i=n;let a=i==null?void 0:i.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:dbe(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function p2(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const r=e.split("-");for(const i of r){if(typeof t!="object"||t===null){if(t!==void 0){const a=r.slice(r.indexOf(i)).join("-");return{root:t,key:a,target:void 0}}return{root:n,key:e,target:void 0}}e=i,n=t,t=t[e]}return{root:n,key:e,target:t}}const xG=/-\d+$/;function jE(n,e){if(Si.str(e.props.attach)){if(xG.test(e.props.attach)){const i=e.props.attach.replace(xG,""),{root:a,key:o}=p2(n.object,i);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:r}=p2(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Si.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function WE(n,e){if(Si.str(e.props.attach)){const{root:t,key:r}=p2(n.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[r]:t[r]=i}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const V5=[...JJ,"args","dispose","attach","object","onUpdate","dispose"],_G=new Map;function pbe(n){let e=_G.get(n.constructor);try{e||(e=new n.constructor,_G.set(n.constructor,e))}catch{}return e}function vbe(n,e){const t={};for(const r in e)if(!V5.includes(r)&&!Si.equ(e[r],n.props[r])){t[r]=e[r];for(const i in e)i.startsWith(`${r}-`)&&(t[i]=e[i])}for(const r in n.props){if(V5.includes(r)||e.hasOwnProperty(r))continue;const{root:i,key:a}=p2(n.object,r);if(i.constructor&&i.constructor.length===0){const o=pbe(i);Si.und(o)||(t[a]=o[a])}else t[a]=0}return t}const gbe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],mbe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function lp(n,e){var t;const r=n.__r3f,i=r&&XJ(r).getState(),a=r==null?void 0:r.eventCount;for(const s in e){let l=e[s];if(V5.includes(s))continue;if(r&&mbe.test(s)){typeof l=="function"?r.handlers[s]=l:delete r.handlers[s],r.eventCount=Object.keys(r.handlers).length;continue}if(l===void 0)continue;let{root:u,key:c,target:f}=p2(n,s);if(f===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${s}". Ensure it is an object before setting "${c}".`);if(f instanceof Mx&&l instanceof Mx)f.mask=l.mask;else if(f instanceof Ot&&lbe(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var o;u[c]=l,i&&!i.linear&&gbe.includes(c)&&(o=u[c])!=null&&o.isTexture&&u[c].format===Po&&u[c].type===$l&&(u[c].colorSpace=Io)}}if(r!=null&&r.parent&&i!=null&&i.internal&&(t=r.object)!=null&&t.isObject3D&&a!==r.eventCount){const s=r.object,l=i.internal.interaction.indexOf(s);l>-1&&i.internal.interaction.splice(l,1),r.eventCount&&s.raycast!==null&&i.internal.interaction.push(s)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&i_(r),n}function i_(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function ybe(n,e){n.manual||(qJ(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Ns=n=>n==null?void 0:n.isObject3D;function QM(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function QJ(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function xbe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{QJ(t.capturedMap,e,r,i)})}function _be(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=n.getState(),f=new Set,h=[],d=u?u(c.internal.interaction):c.internal.interaction;for(let x=0;x<d.length;x++){const b=py(d[x]);b&&(b.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function v(x){const b=py(x);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var T;b.events.compute==null||b.events.compute(l,b,(T=b.previousRoot)==null?void 0:T.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(x,!0):[]}let g=d.flatMap(v).sort((x,b)=>{const T=py(x.object),M=py(b.object);return!T||!M?x.distance-b.distance:M.events.priority-T.events.priority||x.distance-b.distance}).filter(x=>{const b=QM(x);return f.has(b)?!1:(f.add(b),!0)});c.events.filter&&(g=c.events.filter(g,c));for(const x of g){let b=x.object;for(;b;){var y;(y=b.__r3f)!=null&&y.eventCount&&h.push({...x,eventObject:b}),b=b.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let x of c.internal.capturedMap.get(l.pointerId).values())f.has(QM(x.intersection))||h.push(x.intersection);return h}function i(l,u,c,f){if(l.length){const h={stopped:!1};for(const d of l){let v=py(d.object);if(v||d.object.traverseAncestors(g=>{const y=py(g);if(y)return v=y,!1}),v){const{raycaster:g,pointer:y,camera:x,internal:b}=v,T=new ge(y.x,y.y,0).unproject(x),M=L=>{var O,B;return(O=(B=b.capturedMap.get(L))==null?void 0:B.has(d.eventObject))!=null?O:!1},C=L=>{const O={intersection:d,target:u.target};b.capturedMap.has(L)?b.capturedMap.get(L).set(d.eventObject,O):b.capturedMap.set(L,new Map([[d.eventObject,O]])),u.target.setPointerCapture(L)},D=L=>{const O=b.capturedMap.get(L);O&&QJ(b.capturedMap,d.eventObject,O,L)};let R={};for(let L in u){let O=u[L];typeof O!="function"&&(R[L]=O)}let I={...d,...R,pointer:y,intersections:l,stopped:h.stopped,delta:c,unprojectedPoint:T,ray:g.ray,camera:x,stopPropagation(){const L="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!L||L.has(d.eventObject))&&(I.stopped=h.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(O=>O.eventObject===d.eventObject))){const O=l.slice(0,l.indexOf(d));a([...O,d])}},target:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:D},currentTarget:{hasPointerCapture:M,setPointerCapture:C,releasePointerCapture:D},nativeEvent:u};if(f(I),h.stopped===!0)break}}}return l}function a(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f;if(u.hovered.delete(QM(c)),h!=null&&h.eventCount){const d=h.handlers,v={...c,intersections:l};d.onPointerOut==null||d.onPointerOut(v),d.onPointerLeave==null||d.onPointerLeave(v)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:h}=n.getState();h.lastEvent.current=c;const d=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,d?t:void 0),x=v?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=y.map(T=>T.eventObject)),v&&!y.length&&x<=2&&(o(c,h.interaction),f&&f(c)),d&&a(y);function b(T){const M=T.eventObject,C=M.__r3f;if(!(C!=null&&C.eventCount))return;const D=C.handlers;if(d){if(D.onPointerOver||D.onPointerEnter||D.onPointerOut||D.onPointerLeave){const R=QM(T),I=h.hovered.get(R);I?I.stopped&&T.stopPropagation():(h.hovered.set(R,T),D.onPointerOver==null||D.onPointerOver(T),D.onPointerEnter==null||D.onPointerEnter(T))}D.onPointerMove==null||D.onPointerMove(T)}else{const R=D[l];R?(!v||h.initialHits.includes(M))&&(o(c,h.interaction.filter(I=>!h.initialHits.includes(I))),R(T)):v&&h.initialHits.includes(M)&&o(c,h.interaction.filter(I=>!h.initialHits.includes(I)))}}i(y,c,x,b)}}return{handlePointer:s}}const bG=n=>!!(n!=null&&n.render),$J=fe.createContext(null),bbe=(n,e)=>{const t=J1e((s,l)=>{const u=new ge,c=new ge,f=new ge;function h(x=l().camera,b=c,T=l().size){const{width:M,height:C,top:D,left:R}=T,I=M/C;b.isVector3?f.copy(b):f.set(...b);const L=x.getWorldPosition(u).distanceTo(f);if(qJ(x))return{width:M/x.zoom,height:C/x.zoom,top:D,left:R,factor:1,distance:L,aspect:I};{const O=x.fov*Math.PI/180,B=2*Math.tan(O/2)*L,V=B*(M/C);return{width:V,height:B,top:D,left:R,factor:M/V,distance:L,aspect:I}}}let d;const v=x=>s(b=>({performance:{...b.performance,current:x}})),g=new st;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(x=1)=>n(l(),x),advance:(x,b)=>e(x,b,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new rk,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();d&&clearTimeout(d),x.performance.current!==x.performance.min&&v(x.performance.min),d=setTimeout(()=>v(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:x=>s(b=>({...b,events:{...b.events,...x}})),setSize:(x,b,T=0,M=0)=>{const C=l().camera,D={width:x,height:b,top:T,left:M};s(R=>({size:D,viewport:{...R.viewport,...h(C,c,D)}}))},setDpr:x=>s(b=>{const T=KJ(x);return{viewport:{...b.viewport,dpr:T,initialDpr:b.viewport.initialDpr||T}}}),setFrameloop:(x="always")=>{const b=l().clock;b.stop(),b.elapsedTime=0,x!=="never"&&(b.start(),b.elapsedTime=0),s(()=>({frameloop:x}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:fe.createRef(),active:!1,frames:0,priority:0,subscribe:(x,b,T)=>{const M=l().internal;return M.priority=M.priority+(b>0?1:0),M.subscribers.push({ref:x,priority:b,store:T}),M.subscribers=M.subscribers.sort((C,D)=>C.priority-D.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(b>0?1:0),C.subscribers=C.subscribers.filter(D=>D.ref!==x))}}}}}),r=t.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=t.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){i=l,a=u.dpr,ybe(s,l),u.dpr>0&&c.setPixelRatio(u.dpr);const h=typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,h)}s!==o&&(o=s,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>n(s)),t};function eQ(){const n=fe.useContext($J);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Yd(n=t=>t,e){return eQ()(n,e)}function KD(n,e=0){const t=eQ(),r=t.getState().internal.subscribe,i=ZJ(n);return hw(()=>r(i,e,t),[e,r,t]),null}function Sbe(n){const e=nbe(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:fe.version}),e}const tQ=0,Dx={},wbe=/^three(?=[A-Z])/,JD=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Tbe=0;const Mbe=n=>typeof n=="function";function Abe(n){if(Mbe(n)){const e=`${Tbe++}`;return Dx[e]=n,e}else Object.assign(Dx,n)}function nQ(n,e){const t=JD(n),r=Dx[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Cbe(n,e,t){var r;return n=JD(n)in Dx?n:n.replace(wbe,""),nQ(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,HE(e.object,t,n,e)}function Ebe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?WE(n.parent,n):Ns(n.object)&&(n.object.visible=!1),n.isHidden=!0,i_(n)}}function rQ(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?jE(n.parent,n):Ns(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,i_(n)}}function ck(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var i,a;const o=Dx[JD(e.type)];e.object=(i=e.props.object)!=null?i:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(lp(e.object,e.props),e.props.attach)jE(n,e);else if(Ns(e.object)&&Ns(n.object)){const o=n.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const s=n.object.children.indexOf(e.object);if(s!==-1){n.object.children.splice(s,1);const l=s<o?o-1:o;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)ck(e,o);i_(e)}}function PL(n,e){e&&(e.parent=n,n.children.push(e),ck(n,e))}function SG(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),ck(n,e,t)}function iQ(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():yG.unstable_scheduleCallback(yG.unstable_IdlePriority,e)}}function F5(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?WE(n,e):Ns(e.object)&&Ns(n.object)&&(n.object.remove(e.object),xbe(XJ(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];F5(e,o,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&iQ(e.object),t===void 0&&i_(e)}function Dbe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const _C=[];function Nbe(){for(const[t]of _C){const r=t.parent;if(r){t.props.attach?WE(r,t):Ns(t.object)&&Ns(r.object)&&r.object.remove(t.object);for(const i of t.children)i.props.attach?WE(t,i):Ns(i.object)&&Ns(t.object)&&t.object.remove(i.object)}t.isHidden&&rQ(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&iQ(t.object)}for(const[t,r,i]of _C){t.props=r;const a=t.parent;if(a){var n,e;const o=Dx[JD(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Dbe(i,t.object),lp(t.object,t.props),t.props.attach?jE(a,t):Ns(t.object)&&Ns(a.object)&&a.object.add(t.object);for(const s of t.children)s.props.attach?jE(t,s):Ns(s.object)&&Ns(t.object)&&t.object.add(s.object);i_(t)}}_C.length=0}const zL=()=>{},wG={};let $M=tQ;const Rbe=0,Lbe=4,G5=Sbe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Cbe,removeChild:F5,appendChild:PL,appendInitialChild:PL,insertBefore:SG,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||PL(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||F5(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||SG(r,e,t)},getRootHostContext:()=>wG,getChildHostContext:()=>wG,commitUpdate(n,e,t,r,i){var a,o,s;nQ(e,r);let l=!1;if((n.type==="primitive"&&t.object!==r.object||((a=r.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(s=r.args)!=null&&s.some((c,f)=>{var h;return c!==((h=t.args)==null?void 0:h[f])}))&&(l=!0),l)_C.push([n,{...r},i]);else{const c=vbe(n,r);Object.keys(c).length&&(Object.assign(n.props,c),lp(n.object,c))}(i.sibling===null||(i.flags&Lbe)===Rbe)&&Nbe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>HE(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Ebe,unhideInstance:rQ,createTextInstance:zL,hideTextInstance:zL,unhideTextInstance:zL,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:fe.createContext(null),setCurrentUpdatePriority(n){$M=n},getCurrentUpdatePriority(){return $M},resolveUpdatePriority(){var n;if($M!==tQ)return $M;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return gC.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return gC.ContinuousEventPriority;default:return gC.DefaultEventPriority}},resetFormInstance(){}}),dm=new Map,vy={objects:"shallow",strict:!1};function Ibe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Obe(n){const e=dm.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||bbe(W5,MG),o=t||G5.createContainer(a,gC.ConcurrentRoot,null,!1,null,"",i,i,i,null);e||dm.set(n,{fiber:o,store:a});let s,l,u=!1,c=null;return{async configure(f={}){let h;c=new Promise(j=>h=j);let{gl:d,size:v,scene:g,events:y,onCreated:x,shadows:b=!1,linear:T=!1,flat:M=!1,legacy:C=!1,orthographic:D=!1,frameloop:R="always",dpr:I=[1,2],performance:L,raycaster:O,camera:B,onPointerMissed:V}=f,F=a.getState(),k=F.gl;if(!F.gl){const j={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Q=typeof d=="function"?await d(j):d;bG(Q)?k=Q:k=new GJ({...j,...d}),F.set({gl:k})}let Y=F.raycaster;Y||F.set({raycaster:Y=new OJ});const{params:H,...W}=O||{};if(Si.equ(W,Y,vy)||lp(Y,{...W}),Si.equ(H,Y.params,vy)||lp(Y,{params:{...Y.params,...H}}),!F.camera||F.camera===l&&!Si.equ(l,B,vy)){l=B;const j=B==null?void 0:B.isCamera,Q=j?B:D?new yp(0,0,0,0,.1,1e3):new Ki(75,0,.1,1e3);j||(Q.position.z=5,B&&(lp(Q,B),Q.manual||("aspect"in B||"left"in B||"right"in B||"bottom"in B||"top"in B)&&(Q.manual=!0,Q.updateProjectionMatrix())),!F.camera&&!(B!=null&&B.rotation)&&Q.lookAt(0,0,0)),F.set({camera:Q}),Y.camera=Q}if(!F.scene){let j;g!=null&&g.isScene?(j=g,HE(j,a,"",{})):(j=new zz,HE(j,a,"",{}),g&&lp(j,g)),F.set({scene:j})}y&&!F.events.handlers&&F.set({events:y(a)});const q=Ibe(n,v);if(Si.equ(q,F.size,vy)||F.setSize(q.width,q.height,q.top,q.left),I&&F.viewport.dpr!==KJ(I)&&F.setDpr(I),F.frameloop!==R&&F.setFrameloop(R),F.onPointerMissed||F.set({onPointerMissed:V}),L&&!Si.equ(L,F.performance,vy)&&F.set(j=>({performance:{...j.performance,...L}})),!F.xr){var K;const j=(se,he)=>{const pe=a.getState();pe.frameloop!=="never"&&MG(se,!0,pe,he)},Q=()=>{const se=a.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?j:null),se.gl.xr.isPresenting||W5(se)},ne={connect(){const se=a.getState().gl;se.xr.addEventListener("sessionstart",Q),se.xr.addEventListener("sessionend",Q)},disconnect(){const se=a.getState().gl;se.xr.removeEventListener("sessionstart",Q),se.xr.removeEventListener("sessionend",Q)}};typeof((K=k.xr)==null?void 0:K.addEventListener)=="function"&&ne.connect(),F.set({xr:ne})}if(k.shadowMap){const j=k.shadowMap.enabled,Q=k.shadowMap.type;if(k.shadowMap.enabled=!!b,Si.boo(b))k.shadowMap.type=yS;else if(Si.str(b)){var re;const ne={basic:jZ,percentage:vD,soft:yS,variance:Uu};k.shadowMap.type=(re=ne[b])!=null?re:yS}else Si.obj(b)&&Object.assign(k.shadowMap,b);(j!==k.shadowMap.enabled||Q!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}return pr.enabled=!C,u||(k.outputColorSpace=T?Dp:Io,k.toneMapping=M?uf:Sz),F.legacy!==C&&F.set(()=>({legacy:C})),F.linear!==T&&F.set(()=>({linear:T})),F.flat!==M&&F.set(()=>({flat:M})),d&&!Si.fun(d)&&!bG(d)&&!Si.equ(d,k,vy)&&lp(k,d),s=x,u=!0,h(),this},render(f){return!u&&!c&&this.configure(),c.then(()=>{G5.updateContainer(E.jsx(Pbe,{store:a,children:f,onCreated:s,rootElement:n}),o,null,()=>{})}),a},unmount(){aQ(n)}}}function Pbe({store:n,children:e,onCreated:t,rootElement:r}){return hw(()=>{const i=n.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),E.jsx($J.Provider,{value:n,children:e})}function aQ(n,e){const t=dm.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),G5.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),hbe(i.scene),dm.delete(n)}catch{}},500)})}}const zbe=new Set,kbe=new Set,Bbe=new Set;function kL(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function CS(n,e){switch(n){case"before":return kL(zbe,e);case"after":return kL(kbe,e);case"tail":return kL(Bbe,e)}}let BL,UL;function H5(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),BL=e.internal.subscribers;for(let i=0;i<BL.length;i++)UL=BL[i],UL.ref.current(UL.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let YE=!1,j5=!1,VL,TG,gy;function oQ(n){TG=requestAnimationFrame(oQ),YE=!0,VL=0,CS("before",n),j5=!0;for(const t of dm.values()){var e;gy=t.store.getState(),gy.internal.active&&(gy.frameloop==="always"||gy.internal.frames>0)&&!((e=gy.gl.xr)!=null&&e.isPresenting)&&(VL+=H5(n,gy))}if(j5=!1,CS("after",n),VL===0)return CS("tail",n),YE=!1,cancelAnimationFrame(TG)}function W5(n,e=1){var t;if(!n)return dm.forEach(r=>W5(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):j5?n.internal.frames=2:n.internal.frames=1,YE||(YE=!0,requestAnimationFrame(oQ)))}function MG(n,e=!0,t,r){if(e&&CS("before",n),t)H5(n,t,r);else for(const i of dm.values())H5(n,i.store.getState());e&&CS("after",n)}const FL={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Ube(n){const{handlePointer:e}=_be(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(FL).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:r,events:i}=n.getState();if(i.disconnect==null||i.disconnect(),r(a=>({events:{...a.events,connected:t}})),i.handlers)for(const a in i.handlers){const o=i.handlers[a],[s,l]=FL[a];t.addEventListener(s,o,{passive:l})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const i in r.handlers){const a=r.handlers[i],[o]=FL[i];r.connected.removeEventListener(o,a)}t(i=>({events:{...i.events,connected:void 0}}))}}}}function AG(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function Vbe({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=fe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=fe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,c=fe.useRef(!1);fe.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,h,d]=fe.useMemo(()=>{const x=()=>{if(!s.current.element)return;const{left:b,top:T,width:M,height:C,bottom:D,right:R,x:I,y:L}=s.current.element.getBoundingClientRect(),O={left:b,top:T,width:M,height:C,bottom:D,right:R,x:I,y:L};s.current.element instanceof HTMLElement&&r&&(O.height=s.current.element.offsetHeight,O.width=s.current.element.offsetWidth),Object.freeze(O),c.current&&!jbe(s.current.lastBounds,O)&&o(s.current.lastBounds=O)};return[x,u?AG(x,u):x,l?AG(x,l):x]},[o,r,l,u]);function v(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",d,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function g(){s.current.element&&(s.current.resizeObserver=new i(d),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(x=>x.addEventListener("scroll",d,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{d()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const y=x=>{!x||x===s.current.element||(v(),s.current.element=x,s.current.scrollContainers=sQ(x),g())};return Gbe(d,!!e),Fbe(h),fe.useEffect(()=>{v(),g()},[e,d,h]),fe.useEffect(()=>v,[]),[y,a,f]}function Fbe(n){fe.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Gbe(n,e){fe.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function sQ(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...sQ(n.parentElement)]}const Hbe=["x","y","top","bottom","left","right","width","height"],jbe=(n,e)=>Hbe.every(t=>n[t]===e[t]);function Wbe({ref:n,children:e,fallback:t,resize:r,style:i,gl:a,events:o=Ube,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:v,dpr:g,performance:y,raycaster:x,camera:b,scene:T,onPointerMissed:M,onCreated:C,...D}){fe.useMemo(()=>Abe(V1e),[]);const R=ube(),[I,L]=Vbe({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=fe.useRef(null),B=fe.useRef(null);fe.useImperativeHandle(n,()=>O.current);const V=ZJ(M),[F,k]=fe.useState(!1),[Y,H]=fe.useState(!1);if(F)throw F;if(Y)throw Y;const W=fe.useRef(null);hw(()=>{const K=O.current;if(L.width>0&&L.height>0&&K){W.current||(W.current=Obe(K));async function re(){await W.current.configure({gl:a,scene:T,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:v,dpr:g,performance:y,raycaster:x,camera:b,size:L,onPointerMissed:(...j)=>V.current==null?void 0:V.current(...j),onCreated:j=>{j.events.connect==null||j.events.connect(s?sbe(s)?s.current:s:B.current),l&&j.setEvents({compute:(Q,ne)=>{const se=Q[l+"X"],he=Q[l+"Y"];ne.pointer.set(se/ne.size.width*2-1,-(he/ne.size.height)*2+1),ne.raycaster.setFromCamera(ne.pointer,ne.camera)}}),C==null||C(j)}}),W.current.render(E.jsx(R,{children:E.jsx(fbe,{set:H,children:E.jsx(fe.Suspense,{fallback:E.jsx(cbe,{set:k}),children:e??null})})}))}re()}}),fe.useEffect(()=>{const K=O.current;if(K)return()=>aQ(K)},[]);const q=s?"none":"auto";return E.jsx("div",{ref:B,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...i},...D,children:E.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:E.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}function lQ(n){return E.jsx(WJ,{children:E.jsx(Wbe,{...n})})}function Y5(){return Y5=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Y5.apply(null,arguments)}var Ybe=Object.defineProperty,Xbe=(n,e,t)=>e in n?Ybe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qbe=(n,e,t)=>(Xbe(n,e+"",t),t);class Zbe{constructor(){qbe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var Kbe=Object.defineProperty,Jbe=(n,e,t)=>e in n?Kbe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gn=(n,e,t)=>(Jbe(n,typeof e!="symbol"?e+"":e,t),t);const eA=new Am,CG=new bh,Qbe=Math.cos(70*(Math.PI/180)),EG=(n,e)=>(n%e+e)%e;let $be=class extends Zbe{constructor(e,t){super(),gn(this,"object"),gn(this,"domElement"),gn(this,"enabled",!0),gn(this,"target",new ge),gn(this,"minDistance",0),gn(this,"maxDistance",1/0),gn(this,"minZoom",0),gn(this,"maxZoom",1/0),gn(this,"minPolarAngle",0),gn(this,"maxPolarAngle",Math.PI),gn(this,"minAzimuthAngle",-1/0),gn(this,"maxAzimuthAngle",1/0),gn(this,"enableDamping",!1),gn(this,"dampingFactor",.05),gn(this,"enableZoom",!0),gn(this,"zoomSpeed",1),gn(this,"enableRotate",!0),gn(this,"rotateSpeed",1),gn(this,"enablePan",!0),gn(this,"panSpeed",1),gn(this,"screenSpacePanning",!0),gn(this,"keyPanSpeed",7),gn(this,"zoomToCursor",!1),gn(this,"autoRotate",!1),gn(this,"autoRotateSpeed",2),gn(this,"reverseOrbit",!1),gn(this,"reverseHorizontalOrbit",!1),gn(this,"reverseVerticalOrbit",!1),gn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gn(this,"mouseButtons",{LEFT:Eg.ROTATE,MIDDLE:Eg.DOLLY,RIGHT:Eg.PAN}),gn(this,"touches",{ONE:Dg.ROTATE,TWO:Dg.DOLLY_PAN}),gn(this,"target0"),gn(this,"position0"),gn(this,"zoom0"),gn(this,"_domElementKeyEvents",null),gn(this,"getPolarAngle"),gn(this,"getAzimuthalAngle"),gn(this,"setPolarAngle"),gn(this,"setAzimuthalAngle"),gn(this,"getDistance"),gn(this,"getZoomScale"),gn(this,"listenToKeyEvents"),gn(this,"stopListenToKeyEvents"),gn(this,"saveState"),gn(this,"reset"),gn(this,"update"),gn(this,"connect"),gn(this,"dispose"),gn(this,"dollyIn"),gn(this,"dollyOut"),gn(this,"getScale"),gn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ye=>{let Fe=EG(ye,2*Math.PI),ft=c.phi;ft<0&&(ft+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let _e=Math.abs(Fe-ft);2*Math.PI-_e<_e&&(Fe<ft?Fe+=2*Math.PI:ft+=2*Math.PI),f.phi=Fe-ft,r.update()},this.setAzimuthalAngle=ye=>{let Fe=EG(ye,2*Math.PI),ft=c.theta;ft<0&&(ft+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let _e=Math.abs(Fe-ft);2*Math.PI-_e<_e&&(Fe<ft?Fe+=2*Math.PI:ft+=2*Math.PI),f.theta=Fe-ft,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ye=>{ye.addEventListener("keydown",Ie),this._domElementKeyEvents=ye},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ie),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const ye=new ge,Fe=new ge(0,1,0),ft=new zo().setFromUnitVectors(e.up,Fe),_e=ft.clone().invert(),ht=new ge,dt=new zo,at=2*Math.PI;return function(){const tt=r.object.position;ft.setFromUnitVectors(e.up,Fe),_e.copy(ft).invert(),ye.copy(tt).sub(r.target),ye.applyQuaternion(ft),c.setFromVector3(ye),r.autoRotate&&l===s.NONE&&k(V()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let wt=r.minAzimuthAngle,Bt=r.maxAzimuthAngle;isFinite(wt)&&isFinite(Bt)&&(wt<-Math.PI?wt+=at:wt>Math.PI&&(wt-=at),Bt<-Math.PI?Bt+=at:Bt>Math.PI&&(Bt-=at),wt<=Bt?c.theta=Math.max(wt,Math.min(Bt,c.theta)):c.theta=c.theta>(wt+Bt)/2?Math.max(wt,c.theta):Math.min(Bt,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(d,r.dampingFactor):r.target.add(d),r.zoomToCursor&&L||r.object.isOrthographicCamera?c.radius=ne(c.radius):c.radius=ne(c.radius*h),ye.setFromSpherical(c),ye.applyQuaternion(_e),tt.copy(r.target).add(ye),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,d.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),d.set(0,0,0));let hn=!1;if(r.zoomToCursor&&L){let dn=null;if(r.object instanceof Ki&&r.object.isPerspectiveCamera){const br=ye.length();dn=ne(br*h);const Xn=br-dn;r.object.position.addScaledVector(R,Xn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const br=new ge(I.x,I.y,0);br.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),hn=!0;const Xn=new ge(I.x,I.y,0);Xn.unproject(r.object),r.object.position.sub(Xn).add(br),r.object.updateMatrixWorld(),dn=ye.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;dn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(dn).add(r.object.position):(eA.origin.copy(r.object.position),eA.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(eA.direction))<Qbe?e.lookAt(r.target):(CG.setFromNormalAndCoplanarPoint(r.object.up,r.target),eA.intersectPlane(CG,r.target))))}else r.object instanceof yp&&r.object.isOrthographicCamera&&(hn=h!==1,hn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,L=!1,hn||ht.distanceToSquared(r.object.position)>u||8*(1-dt.dot(r.object.quaternion))>u?(r.dispatchEvent(i),ht.copy(r.object.position),dt.copy(r.object.quaternion),hn=!1,!0):!1}})(),this.connect=ye=>{r.domElement=ye,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ct),r.domElement.addEventListener("pointerdown",be),r.domElement.addEventListener("pointercancel",ee),r.domElement.addEventListener("wheel",qe)},this.dispose=()=>{var ye,Fe,ft,_e,ht,dt;r.domElement&&(r.domElement.style.touchAction="auto"),(ye=r.domElement)==null||ye.removeEventListener("contextmenu",Ct),(Fe=r.domElement)==null||Fe.removeEventListener("pointerdown",be),(ft=r.domElement)==null||ft.removeEventListener("pointercancel",ee),(_e=r.domElement)==null||_e.removeEventListener("wheel",qe),(ht=r.domElement)==null||ht.ownerDocument.removeEventListener("pointermove",ie),(dt=r.domElement)==null||dt.ownerDocument.removeEventListener("pointerup",ee),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ie)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new GE,f=new GE;let h=1;const d=new ge,v=new st,g=new st,y=new st,x=new st,b=new st,T=new st,M=new st,C=new st,D=new st,R=new ge,I=new st;let L=!1;const O=[],B={};function V(){return 2*Math.PI/60/60*r.autoRotateSpeed}function F(){return Math.pow(.95,r.zoomSpeed)}function k(ye){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ye:f.theta-=ye}function Y(ye){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ye:f.phi-=ye}const H=(()=>{const ye=new ge;return function(ft,_e){ye.setFromMatrixColumn(_e,0),ye.multiplyScalar(-ft),d.add(ye)}})(),W=(()=>{const ye=new ge;return function(ft,_e){r.screenSpacePanning===!0?ye.setFromMatrixColumn(_e,1):(ye.setFromMatrixColumn(_e,0),ye.crossVectors(r.object.up,ye)),ye.multiplyScalar(ft),d.add(ye)}})(),q=(()=>{const ye=new ge;return function(ft,_e){const ht=r.domElement;if(ht&&r.object instanceof Ki&&r.object.isPerspectiveCamera){const dt=r.object.position;ye.copy(dt).sub(r.target);let at=ye.length();at*=Math.tan(r.object.fov/2*Math.PI/180),H(2*ft*at/ht.clientHeight,r.object.matrix),W(2*_e*at/ht.clientHeight,r.object.matrix)}else ht&&r.object instanceof yp&&r.object.isOrthographicCamera?(H(ft*(r.object.right-r.object.left)/r.object.zoom/ht.clientWidth,r.object.matrix),W(_e*(r.object.top-r.object.bottom)/r.object.zoom/ht.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function K(ye){r.object instanceof Ki&&r.object.isPerspectiveCamera||r.object instanceof yp&&r.object.isOrthographicCamera?h=ye:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function re(ye){K(h/ye)}function j(ye){K(h*ye)}function Q(ye){if(!r.zoomToCursor||!r.domElement)return;L=!0;const Fe=r.domElement.getBoundingClientRect(),ft=ye.clientX-Fe.left,_e=ye.clientY-Fe.top,ht=Fe.width,dt=Fe.height;I.x=ft/ht*2-1,I.y=-(_e/dt)*2+1,R.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function ne(ye){return Math.max(r.minDistance,Math.min(r.maxDistance,ye))}function se(ye){v.set(ye.clientX,ye.clientY)}function he(ye){Q(ye),M.set(ye.clientX,ye.clientY)}function pe(ye){x.set(ye.clientX,ye.clientY)}function xe(ye){g.set(ye.clientX,ye.clientY),y.subVectors(g,v).multiplyScalar(r.rotateSpeed);const Fe=r.domElement;Fe&&(k(2*Math.PI*y.x/Fe.clientHeight),Y(2*Math.PI*y.y/Fe.clientHeight)),v.copy(g),r.update()}function Te(ye){C.set(ye.clientX,ye.clientY),D.subVectors(C,M),D.y>0?re(F()):D.y<0&&j(F()),M.copy(C),r.update()}function Me(ye){b.set(ye.clientX,ye.clientY),T.subVectors(b,x).multiplyScalar(r.panSpeed),q(T.x,T.y),x.copy(b),r.update()}function Re(ye){Q(ye),ye.deltaY<0?j(F()):ye.deltaY>0&&re(F()),r.update()}function Ue(ye){let Fe=!1;switch(ye.code){case r.keys.UP:q(0,r.keyPanSpeed),Fe=!0;break;case r.keys.BOTTOM:q(0,-r.keyPanSpeed),Fe=!0;break;case r.keys.LEFT:q(r.keyPanSpeed,0),Fe=!0;break;case r.keys.RIGHT:q(-r.keyPanSpeed,0),Fe=!0;break}Fe&&(ye.preventDefault(),r.update())}function et(){if(O.length==1)v.set(O[0].pageX,O[0].pageY);else{const ye=.5*(O[0].pageX+O[1].pageX),Fe=.5*(O[0].pageY+O[1].pageY);v.set(ye,Fe)}}function ct(){if(O.length==1)x.set(O[0].pageX,O[0].pageY);else{const ye=.5*(O[0].pageX+O[1].pageX),Fe=.5*(O[0].pageY+O[1].pageY);x.set(ye,Fe)}}function X(){const ye=O[0].pageX-O[1].pageX,Fe=O[0].pageY-O[1].pageY,ft=Math.sqrt(ye*ye+Fe*Fe);M.set(0,ft)}function te(){r.enableZoom&&X(),r.enablePan&&ct()}function ve(){r.enableZoom&&X(),r.enableRotate&&et()}function oe(ye){if(O.length==1)g.set(ye.pageX,ye.pageY);else{const ft=kt(ye),_e=.5*(ye.pageX+ft.x),ht=.5*(ye.pageY+ft.y);g.set(_e,ht)}y.subVectors(g,v).multiplyScalar(r.rotateSpeed);const Fe=r.domElement;Fe&&(k(2*Math.PI*y.x/Fe.clientHeight),Y(2*Math.PI*y.y/Fe.clientHeight)),v.copy(g)}function ae(ye){if(O.length==1)b.set(ye.pageX,ye.pageY);else{const Fe=kt(ye),ft=.5*(ye.pageX+Fe.x),_e=.5*(ye.pageY+Fe.y);b.set(ft,_e)}T.subVectors(b,x).multiplyScalar(r.panSpeed),q(T.x,T.y),x.copy(b)}function de(ye){const Fe=kt(ye),ft=ye.pageX-Fe.x,_e=ye.pageY-Fe.y,ht=Math.sqrt(ft*ft+_e*_e);C.set(0,ht),D.set(0,Math.pow(C.y/M.y,r.zoomSpeed)),re(D.y),M.copy(C)}function Ae(ye){r.enableZoom&&de(ye),r.enablePan&&ae(ye)}function Ce(ye){r.enableZoom&&de(ye),r.enableRotate&&oe(ye)}function be(ye){var Fe,ft;r.enabled!==!1&&(O.length===0&&((Fe=r.domElement)==null||Fe.ownerDocument.addEventListener("pointermove",ie),(ft=r.domElement)==null||ft.ownerDocument.addEventListener("pointerup",ee)),Dt(ye),ye.pointerType==="touch"?Mt(ye):me(ye))}function ie(ye){r.enabled!==!1&&(ye.pointerType==="touch"?xt(ye):Ne(ye))}function ee(ye){var Fe,ft,_e;Je(ye),O.length===0&&((Fe=r.domElement)==null||Fe.releasePointerCapture(ye.pointerId),(ft=r.domElement)==null||ft.ownerDocument.removeEventListener("pointermove",ie),(_e=r.domElement)==null||_e.ownerDocument.removeEventListener("pointerup",ee)),r.dispatchEvent(o),l=s.NONE}function me(ye){let Fe;switch(ye.button){case 0:Fe=r.mouseButtons.LEFT;break;case 1:Fe=r.mouseButtons.MIDDLE;break;case 2:Fe=r.mouseButtons.RIGHT;break;default:Fe=-1}switch(Fe){case Eg.DOLLY:if(r.enableZoom===!1)return;he(ye),l=s.DOLLY;break;case Eg.ROTATE:if(ye.ctrlKey||ye.metaKey||ye.shiftKey){if(r.enablePan===!1)return;pe(ye),l=s.PAN}else{if(r.enableRotate===!1)return;se(ye),l=s.ROTATE}break;case Eg.PAN:if(ye.ctrlKey||ye.metaKey||ye.shiftKey){if(r.enableRotate===!1)return;se(ye),l=s.ROTATE}else{if(r.enablePan===!1)return;pe(ye),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function Ne(ye){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;xe(ye);break;case s.DOLLY:if(r.enableZoom===!1)return;Te(ye);break;case s.PAN:if(r.enablePan===!1)return;Me(ye);break}}function qe(ye){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ye.preventDefault(),r.dispatchEvent(a),Re(ye),r.dispatchEvent(o))}function Ie(ye){r.enabled===!1||r.enablePan===!1||Ue(ye)}function Mt(ye){switch(ut(ye),O.length){case 1:switch(r.touches.ONE){case Dg.ROTATE:if(r.enableRotate===!1)return;et(),l=s.TOUCH_ROTATE;break;case Dg.PAN:if(r.enablePan===!1)return;ct(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Dg.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;te(),l=s.TOUCH_DOLLY_PAN;break;case Dg.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ve(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function xt(ye){switch(ut(ye),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;oe(ye),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;ae(ye),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ae(ye),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(ye),r.update();break;default:l=s.NONE}}function Ct(ye){r.enabled!==!1&&ye.preventDefault()}function Dt(ye){O.push(ye)}function Je(ye){delete B[ye.pointerId];for(let Fe=0;Fe<O.length;Fe++)if(O[Fe].pointerId==ye.pointerId){O.splice(Fe,1);return}}function ut(ye){let Fe=B[ye.pointerId];Fe===void 0&&(Fe=new st,B[ye.pointerId]=Fe),Fe.set(ye.pageX,ye.pageY)}function kt(ye){const Fe=ye.pointerId===O[0].pointerId?O[1]:O[0];return B[Fe.pointerId]}this.dollyIn=(ye=F())=>{j(ye),r.update()},this.dollyOut=(ye=F())=>{re(ye),r.update()},this.getScale=()=>h,this.setScale=ye=>{K(ye),r.update()},this.getZoomScale=()=>F(),t!==void 0&&this.connect(t),this.update()}};const eSe=()=>parseInt(nw.replace(/\D+/g,"")),tSe=eSe(),uQ=fe.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...u},c)=>{const f=Yd(D=>D.invalidate),h=Yd(D=>D.camera),d=Yd(D=>D.gl),v=Yd(D=>D.events),g=Yd(D=>D.setEvents),y=Yd(D=>D.set),x=Yd(D=>D.get),b=Yd(D=>D.performance),T=e||h,M=r||v.connected||d.domElement,C=fe.useMemo(()=>new $be(T),[T]);return KD(()=>{C.enabled&&C.update()},-1),fe.useEffect(()=>(a&&C.connect(a===!0?M:a),C.connect(M),()=>void C.dispose()),[a,M,t,C,f]),fe.useEffect(()=>{const D=L=>{f(),t&&b.regress(),o&&o(L)},R=L=>{s&&s(L)},I=L=>{l&&l(L)};return C.addEventListener("change",D),C.addEventListener("start",R),C.addEventListener("end",I),()=>{C.removeEventListener("start",R),C.removeEventListener("end",I),C.removeEventListener("change",D)}},[o,s,l,C,f,g]),fe.useEffect(()=>{if(n){const D=x().controls;return y({controls:C}),()=>y({controls:D})}},[n,C]),fe.createElement("primitive",Y5({ref:c,object:C,enableDamping:i},u))});class nSe extends dl{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${tSe>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const rSe=n=>new ge().setFromSpherical(new GE(n,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),cQ=fe.forwardRef(({radius:n=100,depth:e=50,count:t=5e3,saturation:r=0,factor:i=4,fade:a=!1,speed:o=1},s)=>{const l=fe.useRef(null),[u,c,f]=fe.useMemo(()=>{const d=[],v=[],g=Array.from({length:t},()=>(.5+.5*Math.random())*i),y=new Ot;let x=n+e;const b=e/t;for(let T=0;T<t;T++)x-=b*Math.random(),d.push(...rSe(x).toArray()),y.setHSL(T/t,r,.9),v.push(y.r,y.g,y.b);return[new Float32Array(d),new Float32Array(v),new Float32Array(g)]},[t,e,i,n,r]);KD(d=>l.current&&(l.current.uniforms.time.value=d.clock.elapsedTime*o));const[h]=fe.useState(()=>new nSe);return fe.createElement("points",{ref:s},fe.createElement("bufferGeometry",null,fe.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),fe.createElement("bufferAttribute",{attach:"attributes-color",args:[c,3]}),fe.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),fe.createElement("primitive",{ref:l,object:h,attach:"material",blending:KS,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),iSe=`
  attribute float scale;
  attribute vec3 customColor;
  varying vec3 vColor;
  varying float vDistance;
  
  void main() {
    vColor = customColor;
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    
    // Distance from center for some shader tricks
    vDistance = length(position);
    
    gl_PointSize = scale * (600.0 / -mvPosition.z);
    gl_Position = projectionMatrix * mvPosition;
  }
`,aSe=`
  varying vec3 vColor;
  varying float vDistance;
  
  void main() {
    // Circular particle
    float r = distance(gl_PointCoord, vec2(0.5));
    if (r > 0.5) discard;
    
    // Glow calculation - sharper core, softer glow
    float strength = 1.0 - (r * 2.0);
    strength = pow(strength, 4.0); // Sharper falloff for less "bloom"
    
    // Add "sparkle" variation
    float sparkle = 1.0;
    
    vec3 finalColor = vColor;
    
    // Boost brightness at the center of the particle
    finalColor += vec3(0.2) * strength;
    
    gl_FragColor = vec4(finalColor, strength * 0.5); // More transparent for darker look
  }
`,oSe=()=>{const n=fe.useRef(null),e=fe.useMemo(()=>{const r=new Float32Array(36e4),i=new Float32Array(12e4*3),a=new Float32Array(12e4),o=new Ot("#ffffff"),s=new Ot("#cccccc"),l=new Ot("#666666"),u=new Ot("#1a1a1a"),c=new Ot("#000000");for(let f=0;f<12e4;f++){const h=f*3,d=Math.random()*30,v=3,g=2.5,y=f%v*(Math.PI*2/v),x=d*g*.2,b=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(d*.3+1),T=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(d*.2+.5),M=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(d*.3+1);r[h]=Math.cos(y+x)*d+b,r[h+1]=T,r[h+2]=Math.sin(y+x)*d+M;const C=o.clone();d<5?C.lerp(s,d/5):d<12?C.copy(s).lerp(l,(d-5)/7):d<20?C.copy(l).lerp(u,(d-12)/8):C.copy(u).lerp(c,(d-20)/10),C.r+=(Math.random()-.5)*.15,C.g+=(Math.random()-.5)*.15,C.b+=(Math.random()-.5)*.15,i[h]=C.r,i[h+1]=C.g,i[h+2]=C.b,a[f]=Math.random()*2,Math.random()<.005&&(a[f]*=4,i[h]+=.5,i[h+1]+=.5,i[h+2]+=.5)}return{positions:r,colors:i,scales:a,count:12e4}},[]);return KD(t=>{n.current&&(n.current.rotation.y=t.clock.getElapsedTime()*.03)}),E.jsxs("points",{ref:n,children:[E.jsxs("bufferGeometry",{children:[E.jsx("bufferAttribute",{attach:"attributes-position",count:e.count,array:e.positions,itemSize:3}),E.jsx("bufferAttribute",{attach:"attributes-customColor",count:e.count,array:e.colors,itemSize:3}),E.jsx("bufferAttribute",{attach:"attributes-scale",count:e.count,array:e.scales,itemSize:1})]}),E.jsx("shaderMaterial",{vertexShader:iSe,fragmentShader:aSe,transparent:!0,depthWrite:!1,blending:KS})]})},sSe=()=>{const[n,e]=fe.useState(0),[t,r]=fe.useState(!1),i=[{title:"Andromeda-X",description:"A rare barred spiral galaxy located in the Deep Field. Known for its vibrant high-energy core and extensive star-forming regions composed of exotic matter.",stats:[{label:"Star Count",value:"~400 Billion",icon:sf,color:"text-purple-300",bg:"bg-purple-500/20"},{label:"Energy Output",value:"Type III Civilization",icon:pS,color:"text-blue-300",bg:"bg-blue-500/20"},{label:"Rotation Speed",value:"220 km/s",icon:AR,color:"text-pink-300",bg:"bg-pink-500/20"}]},{title:"Milky Way Core",description:"The supermassive black hole Sagittarius A* resides here, surrounded by a dense cluster of ancient stars and high-velocity gas clouds orbiting at relativistic speeds.",stats:[{label:"Mass",value:"4.1 Million Suns",icon:pS,color:"text-yellow-300",bg:"bg-yellow-500/20"},{label:"Diameter",value:"100,000 Light Years",icon:AR,color:"text-green-300",bg:"bg-green-500/20"},{label:"Age",value:"13.6 Billion Years",icon:sf,color:"text-orange-300",bg:"bg-orange-500/20"}]},{title:"Nebula Cluster",description:"A stellar nursery where new stars are born from collapsing clouds of dust and hydrogen gas. The vibrant colors indicate different ionized elements like oxygen and sulfur.",stats:[{label:"Temperature",value:"10,000 K",icon:pS,color:"text-red-300",bg:"bg-red-500/20"},{label:"Span",value:"50 Light Years",icon:AR,color:"text-cyan-300",bg:"bg-cyan-500/20"},{label:"Composition",value:"Hydrogen / Helium",icon:sf,color:"text-indigo-300",bg:"bg-indigo-500/20"}]}];fe.useEffect(()=>{const o=setInterval(()=>{r(!0),setTimeout(()=>{e(s=>(s+1)%i.length),r(!1)},500)},8e3);return()=>clearInterval(o)},[]);const a=i[n];return E.jsxs("div",{className:"absolute bottom-0 left-0 w-full pointer-events-none flex justify-center pb-6",children:[E.jsx("div",{className:"w-full max-w-7xl mx-6 pointer-events-auto",children:E.jsxs("div",{className:"bg-black/80 backdrop-blur-2xl border border-white/10 rounded-xl p-4 text-white shadow-2xl relative overflow-hidden group transition-all duration-500 hover:bg-black/90",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-30"}),E.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-white/5 rounded-full blur-3xl group-hover:bg-white/10 transition-colors duration-1000"}),E.jsxs("div",{className:`relative z-10 transition-opacity duration-500 ${t?"opacity-0 translate-y-2":"opacity-100 translate-y-0"}`,children:[E.jsxs("div",{className:"flex flex-row items-center justify-between gap-8",children:[E.jsxs("div",{className:"flex-1 text-left flex items-center gap-6",children:[E.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight shrink-0 min-w-[200px]",children:a.title}),E.jsx("div",{className:"h-8 w-[1px] bg-white/10"}),E.jsx("p",{className:"text-xs text-gray-400 leading-relaxed font-light max-w-2xl line-clamp-2",children:a.description})]}),E.jsx("div",{className:"flex flex-row gap-4 shrink-0",children:a.stats.map((o,s)=>E.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 transition-colors",children:[E.jsx("div",{className:`p-1.5 rounded-md ${o.bg} ${o.color} shadow-inner`,children:E.jsx(o.icon,{size:14,className:"animate-pulse"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider font-bold",children:o.label}),E.jsx("p",{className:"text-xs font-bold text-gray-200",children:o.value})]})]},s))})]}),E.jsx("div",{className:"absolute bottom-0 left-0 h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent w-full opacity-20",children:E.jsx("div",{className:"h-full bg-white/40 w-full origin-left animate-[progress_8s_linear]"},n)})]})]})}),E.jsx("style",{children:`
                @keyframes progress {
                    from { transform: scaleX(0); }
                    to { transform: scaleX(1); }
                }
            `})]})},lSe=()=>E.jsxs("div",{className:"w-full h-full bg-[#050508] relative overflow-hidden",children:[E.jsxs(lQ,{camera:{position:[0,25,45],fov:40},children:[E.jsx("color",{attach:"background",args:["#020203"]}),E.jsx(uQ,{enableDamping:!0,dampingFactor:.05,minDistance:10,maxDistance:100,autoRotate:!1,autoRotateSpeed:.5}),E.jsx(cQ,{radius:200,depth:50,count:5e3,factor:4,saturation:.8,fade:!0,speed:.5}),E.jsx(oSe,{}),E.jsx("ambientLight",{intensity:.1}),E.jsx("pointLight",{position:[0,0,0],intensity:2,distance:30,color:"#ffccaa"})]}),E.jsx(sSe,{}),E.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:E.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-white/10 uppercase",children:"Galaxy"})})]}),uSe=()=>{const e=fe.useRef(null),t=fe.useMemo(()=>new gr,[]),r=fe.useMemo(()=>{const i=[];for(let a=0;a<1e3;a++){const o=Math.random()*100,s=20+Math.random()*100,l=.01+Math.random()/200,u=-50+Math.random()*100,c=-50+Math.random()*100,f=-50+Math.random()*100;i.push({t:o,factor:s,speed:l,xFactor:u,yFactor:c,zFactor:f,mx:0,my:0})}return i},[1e3]);return KD(i=>{e.current&&(r.forEach((a,o)=>{let{t:s,factor:l,speed:u,xFactor:c,yFactor:f,zFactor:h}=a;s=a.t+=u/2;const d=Math.cos(s)+Math.sin(s*1)/10,v=Math.sin(s)+Math.cos(s*2)/10,g=Math.cos(s);a.mx+=(i.mouse.x*100-a.mx)*.01,a.my+=(i.mouse.y*100-a.my)*.01,t.position.set(a.mx/10*d+c+Math.cos(s/10*l)+Math.sin(s*1)*l/10,a.my/10*v+f+Math.sin(s/10*l)+Math.cos(s*2)*l/10,a.my/10*v+h+Math.cos(s/10*l)+Math.sin(s*3)*l/10),t.scale.set(g,g,g),t.rotation.set(g*5,g*5,g*5),t.updateMatrix(),e.current.setMatrixAt(o,t.matrix)}),e.current.instanceMatrix.needsUpdate=!0)}),E.jsxs("instancedMesh",{ref:e,args:[void 0,void 0,1e3],children:[E.jsx("sphereGeometry",{args:[.05,8,8]}),E.jsx("meshStandardMaterial",{color:"#88ccff",transparent:!0,opacity:.6,roughness:0,metalness:.1})]})},DG=()=>E.jsxs("div",{className:"w-full h-full bg-[#001e36] relative overflow-hidden",children:[E.jsxs(lQ,{camera:{position:[0,0,20],fov:50},children:[E.jsx("color",{attach:"background",args:["#001e36"]}),E.jsx("fog",{attach:"fog",args:["#001e36",5,40]}),E.jsx(uQ,{enableDamping:!0,dampingFactor:.05,minDistance:5,maxDistance:30,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3}),E.jsx("ambientLight",{intensity:.4,color:"#004466"}),E.jsx("directionalLight",{position:[0,50,0],intensity:1.5,color:"#ccffff"}),E.jsx("pointLight",{position:[0,10,0],intensity:1,color:"#00ffff",distance:20}),E.jsx(uSe,{}),E.jsx(cQ,{radius:50,depth:50,count:2e3,factor:2,saturation:0,fade:!0,speed:.5})]}),E.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:E.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-cyan-100/20 uppercase drop-shadow-lg",children:"Deep Ocean"})})]}),cSe=[{name:"White",bg:"bg-white",border:"border-gray-200"},{name:"Blue",bg:"bg-blue-50",border:"border-blue-200"},{name:"Green",bg:"bg-green-50",border:"border-green-200"},{name:"Yellow",bg:"bg-yellow-50",border:"border-yellow-200"},{name:"Purple",bg:"bg-purple-50",border:"border-purple-200"},{name:"Red",bg:"bg-red-50",border:"border-red-200"}],NG=[{name:"Yellow",bg:"bg-yellow-100",border:"border-yellow-200"},{name:"Blue",bg:"bg-blue-100",border:"border-blue-200"},{name:"Green",bg:"bg-green-100",border:"border-green-200"},{name:"Pink",bg:"bg-pink-100",border:"border-pink-200"}],RG=[{id:"1",x:0,y:0,text:"Central Idea",color:"bg-white border-gray-200",width:180,height:60,type:"default"}],fSe=()=>{const[n,e]=fe.useState(RG),[t,r]=fe.useState([]),[i,a]=fe.useState(1),[o,s]=fe.useState({x:0,y:0}),[l,u]=fe.useState([{nodes:RG,edges:[]}]),[c,f]=fe.useState(0),h=fe.useRef(n),d=fe.useRef(t);fe.useEffect(()=>{h.current=n},[n]),fe.useEffect(()=>{d.current=t},[t]);const v=fe.useRef({isDraggingCanvas:!1,dragStart:{x:0,y:0},draggingNodeId:null,nodeDragOffset:{x:0,y:0},connectingNodeId:null}),[g,y]=fe.useState(null),[x,b]=fe.useState(null),[T,M]=fe.useState({x:0,y:0}),C=fe.useRef(null),D=fe.useRef(null),R=fe.useRef(!1);fe.useEffect(()=>{if(!R.current&&C.current){const ne=C.current.getBoundingClientRect();s({x:ne.width/2-90,y:ne.height/2-30}),R.current=!0}},[]);const I=fe.useCallback(()=>{const ne=h.current,se=d.current,he={nodes:JSON.parse(JSON.stringify(ne)),edges:JSON.parse(JSON.stringify(se))};u(pe=>{const xe=pe.slice(0,c+1);return xe.push(he),xe}),f(pe=>pe+1)},[c]),L=fe.useRef(I);fe.useEffect(()=>{L.current=I},[I]);const O=()=>{if(c>0){const ne=l[c-1];e(ne.nodes),r(ne.edges),f(c-1)}},B=()=>{if(c<l.length-1){const ne=l[c+1];e(ne.nodes),r(ne.edges),f(c+1)}},V=fe.useRef({offset:o,scale:i});fe.useEffect(()=>{V.current={offset:o,scale:i}},[o,i]);const F=fe.useCallback((ne,se)=>{var Te;const he=D.current||((Te=C.current)==null?void 0:Te.getBoundingClientRect());if(!he)return{x:0,y:0};const{offset:pe,scale:xe}=V.current;return{x:(ne-he.left-pe.x)/xe,y:(se-he.top-pe.y)/xe}},[]);fe.useEffect(()=>{const ne=he=>{const pe=v.current;if(!pe.isDraggingCanvas&&!pe.draggingNodeId&&!pe.connectingNodeId)return;he.preventDefault();const xe=F(he.clientX,he.clientY);pe.connectingNodeId&&M(xe),pe.isDraggingCanvas?s({x:he.clientX-pe.dragStart.x,y:he.clientY-pe.dragStart.y}):pe.draggingNodeId&&e(Te=>Te.map(Me=>Me.id===pe.draggingNodeId?{...Me,x:xe.x-pe.nodeDragOffset.x,y:xe.y-pe.nodeDragOffset.y}:Me))},se=()=>{const he=v.current;he.draggingNodeId&&setTimeout(()=>{L.current()},0),he.isDraggingCanvas=!1,he.draggingNodeId=null,he.connectingNodeId=null,b(null),D.current=null};return window.addEventListener("mousemove",ne),window.addEventListener("mouseup",se),()=>{window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",se)}},[F]);const k=ne=>{if(C.current&&(D.current=C.current.getBoundingClientRect()),ne.button===1||ne.button===0&&ne.altKey||ne.button===0&&ne.shiftKey){v.current.isDraggingCanvas=!0,v.current.dragStart={x:ne.clientX-o.x,y:ne.clientY-o.y};return}y(null)},Y=ne=>{if(ne.ctrlKey||ne.metaKey){ne.preventDefault();const se=Math.exp(-ne.deltaY*.001),he=Math.min(Math.max(.1,i*se),5),pe=C.current.getBoundingClientRect(),xe=(ne.clientX-pe.left-o.x)/i,Te=(ne.clientY-pe.top-o.y)/i,Me=ne.clientX-pe.left-xe*he,Re=ne.clientY-pe.top-Te*he;a(he),s({x:Me,y:Re})}else s(se=>({x:se.x-ne.deltaX,y:se.y-ne.deltaY}))},H=(ne="default")=>{const se=Date.now().toString();if(!C.current)return;const he=C.current.getBoundingClientRect(),pe={x:(he.left+he.width/2-he.left-o.x)/i,y:(he.top+he.height/2-he.top-o.y)/i};let xe=180,Te=60,Me="bg-white border-gray-200",Re="New Node";if(ne==="circle"&&(xe=120,Te=120),ne==="diamond"&&(xe=140,Te=140),ne==="sticky"){xe=200,Te=200;const et=NG[Math.floor(Math.random()*NG.length)];Me=`${et.bg} ${et.border}`,Re=""}ne==="text"&&(xe=200,Te=40,Me="bg-transparent border-transparent",Re="Type something...");const Ue={id:se,x:pe.x-xe/2,y:pe.y-Te/2,text:Re,color:Me,width:xe,height:Te,type:ne};e(et=>[...et,Ue]),setTimeout(()=>L.current(),0)},W=()=>{g&&(e(ne=>ne.filter(se=>se.id!==g)),r(ne=>ne.filter(se=>se.from!==g&&se.to!==g)),y(null),setTimeout(()=>L.current(),0))},q=ne=>{g&&(e(se=>se.map(he=>he.id===g?{...he,color:ne}:he)),setTimeout(()=>L.current(),0))},K=(ne,se)=>{ne.stopPropagation(),ne.preventDefault(),C.current&&(D.current=C.current.getBoundingClientRect()),y(se.id),v.current.draggingNodeId=se.id;const he=F(ne.clientX,ne.clientY);v.current.nodeDragOffset={x:he.x-se.x,y:he.y-se.y}},re=(ne,se)=>{ne.stopPropagation(),v.current.connectingNodeId=se,b(se)},j=(ne,se)=>{ne.stopPropagation();const he=v.current.connectingNodeId;he&&he!==se&&(t.some(xe=>xe.from===he&&xe.to===se||xe.from===se&&xe.to===he)||(r(xe=>[...xe,{id:`${he}-${se}`,from:he,to:se}]),setTimeout(()=>L.current(),0))),v.current.connectingNodeId=null,b(null)},Q=ne=>{const se=`absolute flex items-center justify-center group cursor-grab active:cursor-grabbing ${ne.color} `,he=g===ne.id?"ring-2 ring-brand-primary ring-offset-2 shadow-xl z-30":"shadow-sm hover:shadow-md z-10",pe=ne.type==="text"?"":"border";return ne.type==="circle"?`${se} ${pe} rounded-full aspect-square ${he}`:ne.type==="diamond"?`${se} ${pe} rotate-45 rounded-xl aspect-square ${he}`:ne.type==="sticky"?`${se} ${pe} shadow-md rounded-sm ${he} items-start p-4`:ne.type==="text"?`${se} ${he} justify-start px-2`:`${se} ${pe} rounded-xl ${he}`};return E.jsxs("div",{className:"flex-1 h-full bg-[#f8fafc] relative overflow-hidden flex flex-col font-sans",children:[E.jsxs("div",{ref:C,className:"flex-1 relative overflow-hidden bg-[#f8fafc]",onMouseDown:k,onWheel:Y,style:{cursor:v.current.isDraggingCanvas?"grabbing":"default"},children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-40",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${24*i}px ${24*i}px`,backgroundPosition:`${o.x}px ${o.y}px`}}),E.jsxs("div",{style:{transform:`translate(${o.x}px, ${o.y}px) scale(${i})`,transformOrigin:"0 0",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:[E.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full overflow-visible pointer-events-none z-0",children:[Array.isArray(t)&&t.map(ne=>{const se=n.find(Te=>Te.id===ne.from),he=n.find(Te=>Te.id===ne.to);if(!se||!he)return null;const pe={x:se.x+se.width/2,y:se.y+se.height/2},xe={x:he.x+he.width/2,y:he.y+he.height/2};return E.jsx("path",{d:`M ${pe.x} ${pe.y} C ${pe.x} ${pe.y+50}, ${xe.x} ${xe.y-50}, ${xe.x} ${xe.y}`,stroke:"#94a3b8",strokeWidth:"2",fill:"none"},ne.id)}),x&&(()=>{const ne=n.find(se=>se.id===x);return ne?E.jsx("path",{d:`M ${ne.x+ne.width/2} ${ne.y+ne.height/2} L ${T.x} ${T.y}`,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"5,5",fill:"none"}):null})()]}),Array.isArray(n)&&n.map(ne=>E.jsxs("div",{className:Q(ne),style:{left:ne.x,top:ne.y,width:ne.width,height:ne.height},onMouseDown:se=>K(se,ne),onMouseUp:se=>j(se,ne.id),children:[E.jsx("div",{className:ne.type==="diamond"?"-rotate-45 flex items-center justify-center w-full h-full":"w-full h-full",children:E.jsx("textarea",{value:ne.text,onChange:se=>e(he=>he.map(pe=>pe.id===ne.id?{...pe,text:se.target.value}:pe)),onBlur:()=>L.current(),className:`bg-transparent w-full h-full outline-none resize-none cursor-text text-gray-800 font-medium placeholder-gray-400 ${ne.type==="sticky"?"text-left text-lg p-2 leading-relaxed":ne.type==="text"?"text-left text-xl":"text-center flex items-center justify-center"}`,style:{border:"none",padding:ne.type==="default"?"0 10px":void 0},onClick:se=>se.stopPropagation(),placeholder:ne.type==="sticky"?"Type your note...":ne.type==="text"?"Type text...":"Label"})}),ne.type!=="text"&&E.jsx("div",{className:`absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-crosshair hover:bg-brand-primary hover:text-white hover:border-brand-primary transition-all z-30 transform hover:scale-110 ${ne.type==="diamond"?"translate-x-4":""}`,onMouseDown:se=>re(se,ne.id),children:E.jsx(Ti,{size:12})})]},ne.id))]})]}),E.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex items-center space-x-4 z-50 pointer-events-none",children:[E.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto",children:[E.jsx("button",{onClick:O,disabled:c<=0,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:E.jsx(vue,{size:18})}),E.jsx("button",{onClick:B,disabled:c>=l.length-1,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:E.jsx(Dle,{size:18})})]}),g&&E.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto animate-in fade-in zoom-in duration-200",children:cSe.map(ne=>E.jsx("button",{onClick:()=>q(`${ne.bg} ${ne.border}`),className:`w-6 h-6 rounded-full border border-gray-200 ${ne.bg.replace("bg-","bg-")} hover:scale-110 transition-transform`,title:ne.name},ne.name))})]}),E.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center space-x-2 z-50 animate-in slide-in-from-bottom-4 duration-300",children:[E.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[E.jsx("button",{onClick:()=>a(ne=>Math.max(.1,ne-.1)),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:E.jsx(dS,{size:18})}),E.jsxs("span",{className:"text-xs font-bold w-12 text-center text-gray-700",children:[Math.round(i*100),"%"]}),E.jsx("button",{onClick:()=>a(ne=>ne+.1),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:E.jsx(Ti,{size:18})})]}),E.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),E.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[E.jsx("button",{onClick:()=>H("default"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Rectangle",children:E.jsx(Qle,{size:20})}),E.jsx("button",{onClick:()=>H("circle"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Circle",children:E.jsx(Mse,{size:20})}),E.jsx("button",{onClick:()=>H("diamond"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Diamond",children:E.jsx(Pse,{size:20})}),E.jsx("button",{onClick:()=>H("sticky"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Sticky Note",children:E.jsx(tue,{size:20})}),E.jsx("button",{onClick:()=>H("text"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Text",children:E.jsx(Fq,{size:20})})]}),E.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),E.jsx("div",{className:"flex items-center space-x-1 px-2",children:E.jsx("button",{onClick:W,disabled:!g,className:`p-2.5 rounded-xl transition-all group relative ${g?"hover:bg-red-50 text-gray-600 hover:text-red-500":"text-gray-300 cursor-not-allowed"}`,children:E.jsx($g,{size:20})})})]}),E.jsx("div",{className:"absolute top-4 right-4 bg-white/80 backdrop-blur px-3 py-1.5 rounded-full text-[10px] font-medium text-gray-400 border border-gray-100 shadow-sm pointer-events-none select-none",children:"Hold Shift + Drag to pan"})]})},hSe=[{id:"1",title:"Q4 Revenue Targets",progress:65,owner:"Max",color:"#7b68ee",dueDate:"2025-12-31"},{id:"2",title:"Launch Mobile App",progress:30,owner:"Team",color:"#e44356",dueDate:"2025-11-30"},{id:"3",title:"Hire 5 Engineers",progress:80,owner:"HR",color:"#22c55e",dueDate:"2025-10-15"}],dSe=()=>{const{showToast:n}=pl(),[e,t]=fe.useState(hSe),r=()=>{const i=prompt("Goal Name:");if(!i)return;const a={id:Date.now().toString(),title:i,progress:0,owner:"Me",color:"#3b82f6",dueDate:new Date().toISOString()};t([...e,a]),n("Goal created!","success")};return E.jsx("div",{className:"flex-1 flex flex-col bg-gray-50/50 p-8 overflow-y-auto h-full",children:E.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8",children:[E.jsxs("div",{children:[E.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[E.jsx(Vq,{className:"mr-3 text-clickup-purple"})," Goals"]}),E.jsx("p",{className:"text-gray-500 mt-1",children:"Track your OKRs and high-level objectives."})]}),E.jsxs("button",{onClick:r,className:"px-4 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[E.jsx(Ti,{size:18,className:"mr-2"})," New Goal"]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(i=>E.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow group cursor-pointer",children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:text-clickup-purple group-hover:bg-purple-50 transition-colors",children:E.jsx(cue,{size:20})}),E.jsx("button",{className:"text-gray-300 hover:text-gray-600",children:E.jsx(X2,{size:16})})]}),E.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 group-hover:text-clickup-purple transition-colors",children:i.title}),E.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-6",children:[E.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600 font-medium mr-2",children:i.owner}),E.jsxs("span",{children:["Due ",new Date(i.dueDate).toLocaleDateString()]})]}),E.jsxs("div",{className:"relative pt-1",children:[E.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[E.jsx("div",{children:E.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-purple-600 bg-purple-200",children:"Progress"})}),E.jsx("div",{className:"text-right",children:E.jsxs("span",{className:"text-xs font-semibold inline-block text-purple-600",children:[i.progress,"%"]})})]}),E.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-purple-100",children:E.jsx("div",{style:{width:`${i.progress}%`,backgroundColor:i.color},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transition-all duration-1000 ease-out"})})]}),E.jsxs("div",{className:"flex items-center text-xs text-gray-400 mt-2",children:[E.jsx(HC,{size:12,className:"mr-1 text-green-500"})," On Track"]})]},i.id)),E.jsxs("button",{onClick:r,className:"border-2 border-dashed border-gray-200 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 hover:border-clickup-purple hover:text-clickup-purple hover:bg-purple-50/50 transition-all min-h-[200px]",children:[E.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-50 flex items-center justify-center mb-3 group-hover:bg-white",children:E.jsx(Ti,{size:24})}),E.jsx("span",{className:"font-medium",children:"Create New Goal"})]})]})]})})},pSe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(YS,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Overview Dashboard"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"Track high-level metrics and project health here. This module is currently being built."})]}),vSe=[{id:"1",name:"TechSolutions Inc.",category:"Electronics",rating:4.8,reviews:1240,description:"Premium supplier of office electronics, monitors, and peripherals.",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$500"},{id:"2",name:"GreenLeaf Office Supplies",category:"Office Supplies",rating:4.5,reviews:856,description:"Eco-friendly paper, pens, and general office consumables.",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$100"},{id:"3",name:"BuildRight Construction",category:"Construction",rating:4.9,reviews:2100,description:"Heavy machinery rentals and construction material supply.",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"3-5 days",minOrder:"$5000"},{id:"4",name:"CleanMaster Services",category:"Services",rating:4.2,reviews:430,description:"Professional cleaning services for corporate offices.",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Scheduled",minOrder:"Contract"},{id:"5",name:"Global Logistics Co.",category:"Logistics",rating:4.6,reviews:920,description:"International shipping and freight forwarding solutions.",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Varies",minOrder:"$1000"},{id:"6",name:"SecureGuard Systems",category:"Security",rating:4.7,reviews:650,description:"Security cameras, access control systems, and monitoring.",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$2000"},{id:"7",name:"FreshFoods Catering",category:"Food & Beverage",rating:4.4,reviews:320,description:"Corporate catering and pantry stocking services.",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Daily",minOrder:"$200"},{id:"8",name:"PrintPro Solutions",category:"Printing",rating:4.3,reviews:510,description:"High-volume printing, marketing materials, and signage.",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$50"},{id:"9",name:"RapidCourier",category:"Logistics",rating:4.1,reviews:215,description:"Local courier services for documents and small packages.",image:"https://images.unsplash.com/photo-1566576912902-48f5d9307657?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-4 hours",minOrder:"$20"},{id:"10",name:"OfficeComfort Furniture",category:"Office Supplies",rating:4.7,reviews:1100,description:"Ergonomic chairs, desks, and office furniture solutions.",image:"https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$500"},{id:"11",name:"SparkleClean Janitorial",category:"Services",rating:4,reviews:150,description:"Daily janitorial services for small to medium businesses.",image:"https://images.unsplash.com/photo-1527515545081-5db817172677?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Daily",minOrder:"$100"},{id:"12",name:"EventMasters",category:"Services",rating:4.9,reviews:890,description:"Full-service corporate event planning and management.",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=300&q=80",priceRange:"$$$$",deliveryTime:"Scheduled",minOrder:"$5000"},{id:"13",name:"SafeHands Security",category:"Security",rating:4.5,reviews:420,description:"Manned guarding and security patrol services.",image:"https://images.unsplash.com/photo-1590133605136-51a069095816?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Immediate",minOrder:"Contract"},{id:"14",name:"GourmetDelights",category:"Food & Beverage",rating:4.8,reviews:560,description:"Premium snacks, coffee, and beverages for office pantries.",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Weekly",minOrder:"$150"},{id:"15",name:"ConstructCo Materials",category:"Construction",rating:4.3,reviews:780,description:"Bulk supply of cement, steel, and other raw materials.",image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"2-3 days",minOrder:"$2000"}],vb=[{id:1,title:"Summer Construction Sale",subtitle:"Up to 30% off on raw materials",image:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&w=1200&q=80",color:"from-orange-500 to-red-500"},{id:2,title:"Premium Office Furniture",subtitle:"Transform your workspace today",image:"https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=1200&q=80",color:"from-blue-500 to-indigo-500"},{id:3,title:"Eco-Friendly Supplies",subtitle:"Sustainable solutions for your business",image:"https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?auto=format&fit=crop&w=1200&q=80",color:"from-green-500 to-emerald-500"}],gSe=[{id:1,name:"Portland Cement",price:"$12/bag",supplier:"ConstructCo",image:"https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=300&q=80"},{id:2,name:"Steel Rebar",price:"$450/ton",supplier:"MetalWorks",image:"https://images.unsplash.com/photo-1535813547-99c456a41d4a?auto=format&fit=crop&w=300&q=80"},{id:3,name:"Office Paper A4",price:"$45/box",supplier:"GreenLeaf",image:"https://images.unsplash.com/photo-1586075010923-2dd4570fb338?auto=format&fit=crop&w=300&q=80"},{id:4,name:"Ergonomic Chair",price:"$250/unit",supplier:"OfficeComfort",image:"https://images.unsplash.com/photo-1505843490538-5133c6c7d0e1?auto=format&fit=crop&w=300&q=80"},{id:5,name:"Safety Helmets",price:"$25/unit",supplier:"SafeGear",image:"https://images.unsplash.com/photo-1584646369054-1372485973b1?auto=format&fit=crop&w=300&q=80"},{id:6,name:"Copper Wire",price:"$8/m",supplier:"TechSolutions",image:"https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?auto=format&fit=crop&w=300&q=80"}],mSe=["All","Electronics","Office Supplies","Construction","Services","Logistics","Security","Food & Beverage","Printing"],ySe=()=>{const{showToast:n}=pl(),[e,t]=fe.useState("All"),[r,i]=fe.useState(""),[a,o]=fe.useState(vSe),[s,l]=fe.useState(0),[u,c]=fe.useState(1),f=12,h=()=>l(g=>(g+1)%vb.length),d=()=>l(g=>(g-1+vb.length)%vb.length),v=a.filter(g=>{const y=e==="All"||g.category===e,x=g.name.toLowerCase().includes(r.toLowerCase())||g.description.toLowerCase().includes(r.toLowerCase());return y&&x});return E.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 overflow-hidden font-sans text-gray-800",children:[E.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shrink-0 z-20 shadow-sm",children:[E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Local Marketplace"}),E.jsx("div",{className:"h-6 w-[1px] bg-gray-200 hidden md:block"}),E.jsxs("div",{className:"hidden md:flex items-center text-gray-500 text-sm hover:text-gray-900 cursor-pointer transition-colors bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-100 hover:border-gray-300",children:[E.jsx(fz,{size:16,className:"mr-2 text-clickup-purple"}),E.jsx("span",{className:"font-medium",children:"Riyadh, SA"}),E.jsx(Yl,{size:14,className:"ml-2 opacity-50"})]})]}),E.jsx("div",{className:"flex items-center space-x-4 flex-1 max-w-xl mx-4 md:mx-8",children:E.jsxs("div",{className:"relative flex-1 group",children:[E.jsx(hz,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-clickup-purple transition-colors"}),E.jsx("input",{type:"text",placeholder:"Search for suppliers, services, or products...",className:"w-full bg-gray-100 border border-transparent focus:bg-white focus:border-clickup-purple/50 focus:ring-4 focus:ring-clickup-purple/10 rounded-xl pl-10 pr-4 py-2.5 text-sm transition-all outline-none placeholder:text-gray-400",value:r,onChange:g=>i(g.target.value)})]})}),E.jsx("div",{className:"flex items-center space-x-3",children:E.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 rounded-lg text-sm font-medium text-gray-700 transition-all active:scale-95",children:[E.jsx(Dq,{size:16}),E.jsx("span",{className:"hidden md:inline",children:"Filters"})]})})]}),E.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[E.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-6 overflow-y-auto hidden lg:block shrink-0",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Categories"}),E.jsx("ul",{className:"space-y-1",children:mSe.map(g=>E.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-lg cursor-pointer text-sm transition-all ${e===g?"bg-purple-50 text-clickup-purple font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>t(g),children:[E.jsx("span",{children:g}),e===g&&E.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-clickup-purple"})]},g))})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Rating"}),E.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(g=>E.jsxs("div",{className:"flex items-center group cursor-pointer px-2 py-1 rounded hover:bg-gray-50",children:[E.jsx("div",{className:"flex text-yellow-400 mr-2",children:[...Array(5)].map((y,x)=>E.jsx(MR,{size:14,fill:x<g?"currentColor":"none",className:x<g?"":"text-gray-200"},x))}),E.jsx("span",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"& Up"})]},g))})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Price Range"}),E.jsx("div",{className:"flex gap-2",children:["$","$$","$$$"].map(g=>E.jsx("button",{className:"flex-1 px-3 py-1.5 border border-gray-200 rounded-md text-sm text-gray-600 hover:border-clickup-purple hover:text-clickup-purple transition-colors",children:g},g))})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-gray-50/50",children:[E.jsxs("div",{className:"mb-8 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[E.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Total Spend"}),E.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"$124.5k"}),E.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded-full w-fit",children:[E.jsx(HC,{size:12,className:"mr-1"}),"+12.5%"]})]}),E.jsx("div",{className:"p-3 bg-blue-50 rounded-xl text-blue-600",children:E.jsx(Eq,{size:24})})]}),E.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Active Suppliers"}),E.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"48"}),E.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded-full w-fit",children:[E.jsx(HC,{size:12,className:"mr-1"}),"+4 new"]})]}),E.jsx("div",{className:"p-3 bg-purple-50 rounded-xl text-purple-600",children:E.jsx(jC,{size:24})})]}),E.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Open Orders"}),E.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"15"}),E.jsxs("div",{className:"flex items-center mt-2 text-xs font-medium text-yellow-600 bg-yellow-50 px-2 py-0.5 rounded-full w-fit",children:[E.jsx(rD,{size:12,className:"mr-1"}),"3 pending"]})]}),E.jsx("div",{className:"p-3 bg-orange-50 rounded-xl text-orange-600",children:E.jsx(kq,{size:24})})]}),E.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Avg Rating"}),E.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:"4.8"}),E.jsx("div",{className:"flex items-center mt-2 text-xs font-medium text-gray-500",children:"Based on 1.2k reviews"})]}),E.jsx("div",{className:"p-3 bg-yellow-50 rounded-xl text-yellow-600",children:E.jsx(MR,{size:24,fill:"currentColor"})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm lg:col-span-1",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsx("h3",{className:"font-bold text-gray-800",children:"Spend by Category"}),E.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:E.jsx(Wle,{size:16})})]}),E.jsxs("div",{className:"flex items-center justify-center relative h-48",children:[E.jsx("div",{className:"w-40 h-40 rounded-full",style:{background:"conic-gradient(#7B68EE 0% 35%, #3B82F6 35% 60%, #10B981 60% 80%, #F59E0B 80% 100%)"}}),E.jsxs("div",{className:"absolute w-28 h-28 bg-white rounded-full flex items-center justify-center flex-col",children:[E.jsx("span",{className:"text-xs text-gray-400",children:"Total"}),E.jsx("span",{className:"font-bold text-gray-800",children:"$124k"})]})]}),E.jsxs("div",{className:"mt-6 space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-between text-sm",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-clickup-purple mr-2"}),"Electronics"]}),E.jsx("span",{className:"font-medium text-gray-700",children:"35%"})]}),E.jsxs("div",{className:"flex items-center justify-between text-sm",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),"Services"]}),E.jsx("span",{className:"font-medium text-gray-700",children:"25%"})]}),E.jsxs("div",{className:"flex items-center justify-between text-sm",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),"Supplies"]}),E.jsx("span",{className:"font-medium text-gray-700",children:"20%"})]}),E.jsxs("div",{className:"flex items-center justify-between text-sm",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),"Other"]}),E.jsx("span",{className:"font-medium text-gray-700",children:"20%"})]})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm lg:col-span-2",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsx("h3",{className:"font-bold text-gray-800",children:"Monthly Procurement Activity"}),E.jsx("div",{className:"flex items-center space-x-2",children:E.jsx("span",{className:"text-xs text-gray-400",children:"Last 6 Months"})})]}),E.jsx("div",{className:"h-64 flex items-end justify-between space-x-4 px-2",children:["May","Jun","Jul","Aug","Sep","Oct"].map((g,y)=>{const x=[40,65,45,80,55,90][y];return E.jsxs("div",{className:"flex flex-col items-center flex-1 group",children:[E.jsx("div",{className:"w-full relative flex items-end h-52 bg-gray-50 rounded-t-lg overflow-hidden",children:E.jsx("div",{className:"w-full bg-clickup-purple/80 group-hover:bg-clickup-purple transition-all duration-500 rounded-t-lg relative",style:{height:`${x}%`},children:E.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:["$",x*1.5,"k"]})})}),E.jsx("span",{className:"text-xs text-gray-400 mt-3 font-medium",children:g})]},g)})})]})]})]}),E.jsxs("div",{className:"mb-8 relative rounded-2xl overflow-hidden h-40 shadow-sm",children:[E.jsx("img",{src:"https://images.unsplash.com/photo-1586864387967-d02ef85d93e8?auto=format&fit=crop&w=1200&q=80",alt:"Marketplace Banner",className:"w-full h-full object-cover"}),E.jsxs("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-transparent flex flex-col justify-center px-8 text-white",children:[E.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Find Trusted Local Suppliers"}),E.jsx("p",{className:"text-sm opacity-90 max-w-md",children:"Connect with top-rated vendors in your area for all your business needs."})]})]}),E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:[e==="All"?"All Suppliers":e,E.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-400",children:["(",v.length," results)"]})]}),E.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[E.jsx("span",{children:"Sort by:"}),E.jsxs("button",{className:"font-medium text-gray-800 flex items-center hover:text-clickup-purple",children:["Recommended ",E.jsx(Yl,{size:14,className:"ml-1"})]})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6 mb-8",children:v.slice((u-1)*f,u*f).map(g=>E.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg hover:border-purple-100 transition-all duration-300 group flex flex-col",children:[E.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[E.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),E.jsx("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-2.5 py-1 text-[10px] font-bold rounded-full text-gray-700 shadow-sm border border-white/50",children:g.deliveryTime}),E.jsx("div",{className:"absolute top-3 left-3 bg-black/50 backdrop-blur-md px-2.5 py-1 text-[10px] font-bold rounded-full text-white shadow-sm",children:g.category})]}),E.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("h3",{className:"text-base font-bold text-gray-900 group-hover:text-clickup-purple transition-colors line-clamp-1",children:g.name}),E.jsxs("div",{className:"flex items-center bg-yellow-50 px-1.5 py-0.5 rounded text-yellow-700 border border-yellow-100",children:[E.jsx(MR,{size:10,fill:"currentColor",className:"mr-1"}),E.jsx("span",{className:"text-xs font-bold",children:g.rating})]})]}),E.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2 flex-1 leading-relaxed",children:g.description}),E.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4 pt-4 border-t border-gray-50",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Min Order"}),E.jsx("span",{className:"font-medium text-gray-700",children:g.minOrder})]}),E.jsxs("div",{className:"flex flex-col items-end",children:[E.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Reviews"}),E.jsx("span",{className:"font-medium text-gray-700",children:g.reviews})]})]}),E.jsxs("button",{className:"w-full bg-gray-900 hover:bg-clickup-purple text-white py-2.5 rounded-xl text-sm font-medium shadow-sm hover:shadow-md active:scale-[0.98] transition-all flex items-center justify-center group-hover:bg-clickup-purple",onClick:()=>n(`Request sent to ${g.name}`,"success"),children:[E.jsx("span",{children:"Connect Supplier"}),E.jsx(qoe,{size:14,className:"ml-2 opacity-70"})]})]})]},g.id))}),v.length>f&&E.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-12",children:[E.jsx("button",{className:`p-2 rounded-lg border ${u===1?"bg-gray-50 text-gray-300 border-gray-100 cursor-not-allowed":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>c(g=>Math.max(g-1,1)),disabled:u===1,children:E.jsx(m5,{size:18})}),[...Array(Math.ceil(v.length/f))].map((g,y)=>E.jsx("button",{className:`w-8 h-8 rounded-lg text-sm font-medium transition-colors ${u===y+1?"bg-clickup-purple text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>c(y+1),children:y+1},y)),E.jsx("button",{className:`p-2 rounded-lg border ${u===Math.ceil(v.length/f)?"bg-gray-50 text-gray-300 border-gray-100 cursor-not-allowed":"bg-white text-gray-600 border-gray-200 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>c(g=>Math.min(g+1,Math.ceil(v.length/f))),disabled:u===Math.ceil(v.length/f),children:E.jsx(_h,{size:18})})]}),E.jsxs("div",{className:"mb-8 relative group rounded-2xl overflow-hidden h-48 md:h-64 shadow-md",children:[E.jsx("div",{className:"absolute inset-0 flex transition-transform duration-500 ease-out",style:{transform:`translateX(-${s*100}%)`},children:vb.map(g=>E.jsxs("div",{className:"w-full h-full flex-shrink-0 relative",children:[E.jsx("img",{src:g.image,alt:g.title,className:"w-full h-full object-cover"}),E.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${g.color} opacity-80 mix-blend-multiply`}),E.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-8 md:px-16 text-white",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-2",children:g.title}),E.jsx("p",{className:"text-lg md:text-xl opacity-90",children:g.subtitle}),E.jsx("button",{className:"mt-6 bg-white text-gray-900 px-6 py-2 rounded-lg font-bold text-sm hover:bg-gray-100 transition-colors w-fit",children:"Explore Now"})]})]},g.id))}),E.jsx("button",{onClick:d,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 backdrop-blur-sm p-2 rounded-full text-white transition-all opacity-0 group-hover:opacity-100",children:E.jsx(m5,{size:24})}),E.jsx("button",{onClick:h,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 backdrop-blur-sm p-2 rounded-full text-white transition-all opacity-0 group-hover:opacity-100",children:E.jsx(_h,{size:24})}),E.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:vb.map((g,y)=>E.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${s===y?"bg-white w-6":"bg-white/50"}`},y))})]}),E.jsxs("div",{className:"mb-8",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:[E.jsx(ble,{size:20,className:"mr-2 text-clickup-purple"}),"Featured Materials"]}),E.jsx("button",{className:"text-sm text-clickup-purple hover:underline font-medium",children:"View All"})]}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:gSe.map(g=>E.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all group cursor-pointer",children:[E.jsx("div",{className:"h-24 bg-gray-100 relative overflow-hidden",children:E.jsx("img",{src:g.image,alt:g.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),E.jsxs("div",{className:"p-3",children:[E.jsx("h3",{className:"text-sm font-bold text-gray-800 truncate",title:g.name,children:g.name}),E.jsx("p",{className:"text-xs text-gray-500 truncate",children:g.supplier}),E.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[E.jsx("span",{className:"text-xs font-bold text-clickup-purple bg-purple-50 px-1.5 py-0.5 rounded",children:g.price}),E.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 hover:bg-clickup-purple hover:text-white transition-colors",children:E.jsx(Mq,{size:12})})]})]})]},g.id))})]})]})]})]})},xSe=[{name:"Default",value:"transparent"},{name:"Red",value:"#fee2e2"},{name:"Green",value:"#dcfce7"},{name:"Blue",value:"#dbeafe"},{name:"Yellow",value:"#fef9c3"},{name:"Purple",value:"#f3e8ff"},{name:"Orange",value:"#ffedd5"}],_Se=({id:n,title:e,columns:t,showBorder:r,headerColor:i,onDelete:a,onRenameTable:o,onRenameColumn:s,onAddColumn:l,onUpdateColumnType:u,onDeleteColumn:c,onUpdateColumnColor:f,onUpdateRow:h,rows:d})=>{const[v,g]=fe.useState(d||[{id:"1",data:{}},{id:"2",data:{}},{id:"3",data:{}}]);fe.useEffect(()=>{d&&g(d)},[d]);const y=()=>{g([...v,{id:Math.random().toString(36).substr(2,9),data:{}}])},x=(M,C,D)=>{const R=v.map(I=>{if(I.id===M){const L={...I.data,[C]:D};return h&&h(M,L),{...I,data:L}}return I});g(R)},b=M=>{g(v.filter(C=>C.id!==M))},T=(M,C)=>{g(v.map(D=>D.id===M?{...D,color:C}:D))};return E.jsxs("div",{className:"mb-8 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[E.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center bg-white",children:[E.jsx("input",{type:"text",value:e,onChange:M=>o&&o(M.target.value),className:"text-lg font-semibold text-gray-800 bg-transparent border-none focus:ring-0 p-0 w-full mr-4",placeholder:"Table Name"}),E.jsxs("div",{className:"flex items-center space-x-2",children:[a&&E.jsx("button",{onClick:a,className:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded hover:bg-red-50",title:"Delete Table",children:E.jsx($g,{size:18})}),E.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded hover:bg-gray-100",children:E.jsx(X2,{size:20})})]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsx("div",{className:"min-w-full inline-block align-middle",children:E.jsxs("div",{className:`border-b border-gray-200 ${r?"border-l border-r":""}`,children:[E.jsxs("div",{className:"flex",style:{backgroundColor:i},children:[t.map(M=>E.jsx("div",{className:`px-4 py-3 relative group/header ${r?"border-r border-gray-200 last:border-r-0":""}`,style:{width:M.width,minWidth:M.width},children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[E.jsx("div",{className:"text-gray-400"}),E.jsx("input",{type:"text",value:M.name,onChange:C=>s&&s(M.id,C.target.value),className:"bg-transparent border-none focus:ring-0 p-0 w-full text-xs font-bold text-gray-600 uppercase tracking-wider"})]}),E.jsx("button",{onClick:()=>c&&c(M.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1 opacity-0 group-hover/header:opacity-100",title:"Delete Column",children:E.jsx($g,{size:12})})]})},M.id)),E.jsx("div",{className:"px-2 py-2 flex items-center justify-center border-l border-transparent hover:border-gray-200 w-10",children:E.jsx("button",{onClick:l,className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Add Column",children:E.jsx(Ti,{size:16})})})]}),E.jsx("div",{className:"bg-white divide-y divide-gray-200",children:v.map(M=>E.jsxs("div",{className:"flex hover:bg-gray-50 transition-colors group",style:{backgroundColor:M.color||"transparent"},children:[t.map(C=>E.jsx("div",{className:`p-0 ${r?"border-r border-gray-200 last:border-r-0":""}`,style:{width:C.width,minWidth:C.width,backgroundColor:C.color||"transparent"},children:C.type==="checkbox"?E.jsx("div",{className:"w-full h-full flex items-center justify-center py-2",children:E.jsx("input",{type:"checkbox",checked:M.data[C.id]||!1,onChange:D=>x(M.id,C.id,D.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}):E.jsx("input",{type:C.type==="number"?"number":C.type==="date"?"date":"text",value:M.data[C.id]||"",onChange:D=>x(M.id,C.id,D.target.value),className:"w-full h-full px-4 py-3 bg-transparent border-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 text-sm text-gray-900",placeholder:"..."})},C.id)),E.jsxs("div",{className:"w-16 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity space-x-1",children:[E.jsxs("div",{className:"relative group/color",children:[E.jsx("button",{className:"text-gray-400 hover:text-indigo-600 p-1 rounded hover:bg-indigo-50",children:E.jsx(wle,{size:14})}),E.jsx("div",{className:"absolute bottom-full right-0 mb-1 bg-white rounded-lg shadow-xl border border-gray-100 p-2 hidden group-hover/color:grid grid-cols-4 gap-1 w-32 z-50",children:xSe.map(C=>E.jsx("button",{onClick:()=>T(M.id,C.value),className:`w-5 h-5 rounded-full border border-gray-200 ${M.color===C.value?"ring-2 ring-indigo-500":""}`,style:{backgroundColor:C.value},title:C.name},C.value))})]}),E.jsx("button",{onClick:()=>b(M.id),className:"text-gray-400 hover:text-red-500 p-1 rounded hover:bg-red-50",title:"Delete Row",children:E.jsx($g,{size:14})})]})]},M.id))})]})})}),E.jsx("div",{className:"px-4 py-2 border-t border-gray-200 bg-gray-50",children:E.jsx("button",{onClick:y,className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Add Row",children:E.jsx(Ti,{size:16})})})]})},bSe=({title:n,value:e,icon:t,trend:r,subtext:i,iconColorClass:a="text-blue-600",iconBgClass:o="bg-blue-50",isEmpty:s,onConnect:l})=>{if(s)return E.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-dashed border-gray-300 shadow-sm flex flex-col items-center justify-center h-full min-h-[140px] hover:bg-gray-50 transition-colors cursor-pointer group",onClick:l,children:[E.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-100 transition-colors",children:E.jsx(t,{size:20,className:"text-gray-400 group-hover:text-blue-500"})}),E.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600",children:"Connect Data"})]});const u=()=>{if(!r)return"text-gray-500 bg-gray-50";switch(r.direction){case"up":return"text-green-600 bg-green-50";case"down":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},c=()=>{if(!r)return null;switch(r.direction){case"up":return E.jsx(HC,{size:12,className:"mr-1"});case"down":return E.jsx(sue,{size:12,className:"mr-1"});default:return E.jsx(dS,{size:12,className:"mr-1"})}};return E.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:n}),E.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-1",children:e}),r&&E.jsxs("div",{className:`flex items-center mt-2 text-xs font-medium px-2 py-0.5 rounded-full w-fit ${u()}`,children:[c(),r.label||r.value]}),i&&E.jsx("div",{className:"flex items-center mt-2 text-xs font-medium text-gray-500",children:i})]}),E.jsx("div",{className:`p-3 rounded-xl ${o} ${a}`,children:E.jsx(t,{size:24})})]})};var X5=function(n,e){return X5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},X5(n,e)};function fQ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");X5(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ES=function(){return ES=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ES.apply(this,arguments)};function SSe(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function LG(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(n,e||[])).next())})}function IG(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var q5=function(n,e){return q5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},q5(n,e)};function Oe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");q5(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var wSe=(function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n})(),TSe=(function(){function n(){this.browser=new wSe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n})(),Dn=new TSe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Dn.wxa=!0,Dn.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Dn.worker=!0:!Dn.hasGlobalWindow||"Deno"in window||typeof navigator<"u"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Node.js")>-1?(Dn.node=!0,Dn.svgSupported=!0):MSe(navigator.userAgent,Dn);function MSe(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),o&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11);var s=e.domSupported=typeof document<"u";if(s){var l=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in l||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in l)&&!("OTransition"in l),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}}var fk=12,hQ="sans-serif",Fh=fk+"px "+hQ,ASe=20,CSe=100,ESe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function DSe(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),i=(n.charCodeAt(t)-ASe)/CSe;e[r]=i}return e}var NSe=DSe(ESe),ks={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var n,e;return function(t,r){if(!n){var i=ks.createCanvas();n=i&&i.getContext("2d")}if(n)return e!==r&&(e=n.font=r||Fh),n.measureText(t);t=t||"",r=r||Fh;var a=/((?:\d+)?\.?\d*)px/.exec(r),o=a&&+a[1]||fk,s=0;if(r.indexOf("mono")>=0)s=o*t.length;else for(var l=0;l<t.length;l++){var u=NSe[t[l]];s+=u==null?o:u*o}return{width:s}}})(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}};function dQ(n){for(var e in ks)n[e]&&(ks[e]=n[e])}var pQ=eu(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),vQ=eu(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),a_=Object.prototype.toString,QD=Array.prototype,RSe=QD.forEach,LSe=QD.filter,hk=QD.slice,ISe=QD.map,OG=(function(){}).constructor,tA=OG?OG.prototype:null,dk="__proto__",OSe=2311;function pk(){return OSe++}function $D(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function Pt(n){if(n==null||typeof n!="object")return n;var e=n,t=a_.call(n);if(t==="[object Array]"){if(!ux(n)){e=[];for(var r=0,i=n.length;r<i;r++)e[r]=Pt(n[r])}}else if(vQ[t]){if(!ux(n)){var a=n.constructor;if(a.from)e=a.from(n);else{e=new a(n.length);for(var r=0,i=n.length;r<i;r++)e[r]=n[r]}}}else if(!pQ[t]&&!ux(n)&&!pm(n)){e={};for(var o in n)n.hasOwnProperty(o)&&o!==dk&&(e[o]=Pt(n[o]))}return e}function sn(n,e,t){if(!Ft(e)||!Ft(n))return t?Pt(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==dk){var i=n[r],a=e[r];Ft(a)&&Ft(i)&&!Ke(a)&&!Ke(i)&&!pm(a)&&!pm(i)&&!Z5(a)&&!Z5(i)&&!ux(a)&&!ux(i)?sn(i,a,t):(t||!(r in n))&&(n[r]=Pt(e[r]))}return n}function eN(n,e){for(var t=n[0],r=1,i=n.length;r<i;r++)t=sn(t,n[r],e);return t}function je(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==dk&&(n[t]=e[t]);return n}function Vt(n,e,t){for(var r=Rn(e),i=0,a=r.length;i<a;i++){var o=r[i];(t?e[o]!=null:n[o]==null)&&(n[o]=e[o])}return n}var PSe=ks.createCanvas;function on(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function vk(n,e){var t=n.prototype;function r(){}r.prototype=e.prototype,n.prototype=new r;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);n.prototype.constructor=n,n.superClass=e}function Ci(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}else Vt(n,e,t)}function lo(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function J(n,e,t){if(n&&e)if(n.forEach&&n.forEach===RSe)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);else for(var a in n)n.hasOwnProperty(a)&&e.call(t,n[a],a,n)}function $e(n,e,t){if(!n)return[];if(!e)return tN(n);if(n.map&&n.map===ISe)return n.map(e,t);for(var r=[],i=0,a=n.length;i<a;i++)r.push(e.call(t,n[i],i,n));return r}function eu(n,e,t,r){if(n&&e){for(var i=0,a=n.length;i<a;i++)t=e.call(r,t,n[i],i,n);return t}}function Zn(n,e,t){if(!n)return[];if(!e)return tN(n);if(n.filter&&n.filter===LSe)return n.filter(e,t);for(var r=[],i=0,a=n.length;i<a;i++)e.call(t,n[i],i,n)&&r.push(n[i]);return r}function Hp(n,e,t){if(n&&e){for(var r=0,i=n.length;r<i;r++)if(e.call(t,n[r],r,n))return n[r]}}function Rn(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function zSe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(hk.call(arguments)))}}var mt=tA&&Nt(tA.bind)?tA.call.bind(tA.bind):zSe;function tn(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(hk.call(arguments)))}}function Ke(n){return Array.isArray?Array.isArray(n):a_.call(n)==="[object Array]"}function Nt(n){return typeof n=="function"}function vt(n){return typeof n=="string"}function XE(n){return a_.call(n)==="[object String]"}function Pn(n){return typeof n=="number"}function Ft(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function Z5(n){return!!pQ[a_.call(n)]}function ds(n){return!!vQ[a_.call(n)]}function pm(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function dw(n){return n.colorStops!=null}function gQ(n){return n.image!=null}function mQ(n){return a_.call(n)==="[object RegExp]"}function so(n){return n!==n}function Ya(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(n[t]!=null)return n[t]}function At(n,e){return n??e}function zs(n,e,t){return n??e??t}function tN(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return hk.apply(n,e)}function pw(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function uo(n,e){if(!n)throw new Error(e)}function ol(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var yQ="__ec_primitive__";function v2(n){n[yQ]=!0}function ux(n){return n[yQ]}var kSe=(function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return Rn(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n})(),xQ=typeof Map=="function";function BSe(){return xQ?new Map:new kSe}var _Q=(function(){function n(e){var t=Ke(e);this.data=BSe();var r=this;e instanceof n?e.each(i):e&&J(e,i);function i(a,o){t?r.set(a,o):r.set(o,a)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,i){e.call(t,r,i)})},n.prototype.keys=function(){var e=this.data.keys();return xQ?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n})();function Tt(n){return new _Q(n)}function Nx(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];for(var i=n.length,r=0;r<e.length;r++)t[r+i]=e[r];return t}function vw(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&je(t,e),t}function gk(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function St(n,e){return n.hasOwnProperty(e)}function Mi(){}var DS=180/Math.PI,USe=Number.EPSILON||Math.pow(2,-52);const VSe=Object.freeze(Object.defineProperty({__proto__:null,EPSILON:USe,HashMap:_Q,RADIAN_TO_DEGREE:DS,assert:uo,bind:mt,clone:Pt,concatArray:Nx,createCanvas:PSe,createHashMap:Tt,createObject:vw,curry:tn,defaults:Vt,disableUserSelect:gk,each:J,eqNaN:so,extend:je,filter:Zn,find:Hp,guid:pk,hasOwn:St,indexOf:on,inherits:vk,isArray:Ke,isArrayLike:lo,isBuiltInObject:Z5,isDom:pm,isFunction:Nt,isGradientObject:dw,isImagePatternObject:gQ,isNumber:Pn,isObject:Ft,isPrimitive:ux,isRegExp:mQ,isString:vt,isStringSafe:XE,isTypedArray:ds,keys:Rn,logError:$D,map:$e,merge:sn,mergeAll:eN,mixin:Ci,noop:Mi,normalizeCssArray:pw,reduce:eu,retrieve:Ya,retrieve2:At,retrieve3:zs,setAsPrimitive:v2,slice:tN,trim:ol},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var K5=function(n,e){return K5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},K5(n,e)};function Zr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");K5(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function jp(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function Ro(n,e){return n[0]=e[0],n[1]=e[1],n}function cf(n){return[n[0],n[1]]}function nN(n,e,t){return n[0]=e,n[1]=t,n}function J5(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function qE(n,e,t,r){return n[0]=e[0]+t[0]*r,n[1]=e[1]+t[1]*r,n}function fp(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function g2(n){return Math.sqrt(mk(n))}var FSe=g2;function mk(n){return n[0]*n[0]+n[1]*n[1]}var GSe=mk;function HSe(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function jSe(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function WSe(n,e){return n[0]*e[0]+n[1]*e[1]}function NS(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function Nm(n,e){var t=g2(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function ZE(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var Mh=ZE;function bQ(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var xp=bQ;function YSe(n,e){return n[0]=-e[0],n[1]=-e[1],n}function RS(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function Ai(n,e,t){var r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function Ah(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Ch(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}const XSe=Object.freeze(Object.defineProperty({__proto__:null,add:J5,applyTransform:Ai,clone:cf,copy:Ro,create:jp,dist:Mh,distSquare:xp,distance:ZE,distanceSquare:bQ,div:jSe,dot:WSe,len:g2,lenSquare:mk,length:FSe,lengthSquare:GSe,lerp:RS,max:Ch,min:Ah,mul:HSe,negate:YSe,normalize:Nm,scale:NS,scaleAndAdd:qE,set:nN,sub:fp},Symbol.toStringTag,{value:"Module"}));var my=(function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n})(),qSe=(function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new my(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,i=e.offsetY,a=r-this._x,o=i-this._y;this._x=r,this._y=i,t.drift(a,o,e),this.handler.dispatchToElement(new my(t,e),"drag",e.event);var s=this.handler.findHover(r,i,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.handler.dispatchToElement(new my(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new my(s,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new my(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new my(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n})(),au=(function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=r,r=t,t=null),!r||!e)return this;var o=this._$eventProcessor;t!=null&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===r)return this;var l={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},u=a[e].length-1,c=a[e][u];return c&&c.callAtLast?a[e].splice(u,0,l):a[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var i=[],a=0,o=r[e].length;a<o;a++)r[e][a].h!==t&&i.push(r[e][a]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=t.length,s=i.length,l=0;l<s;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var o=t.length,s=t[o-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,t[0]);break;case 2:c.h.call(s,t[0],t[1]);break;default:c.h.apply(s,t.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n})(),ZSe=Math.log(2);function Q5(n,e,t,r,i,a){var o=r+"-"+i,s=n.length;if(a.hasOwnProperty(o))return a[o];if(e===1){var l=Math.round(Math.log((1<<s)-1&~i)/ZSe);return n[t][l]}for(var u=r|1<<t,c=t+1;r&1<<c;)c++;for(var f=0,h=0,d=0;h<s;h++){var v=1<<h;v&i||(f+=(d%2?-1:1)*n[t][h]*Q5(n,e-1,c,u,i|v,a),d++)}return a[o]=f,f}function PG(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},i=Q5(t,8,0,0,0,r);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*Q5(t,7,o===0?1:0,1<<o,1<<s,r)/i*e[o];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var KE="___zrEVENTSAVED",GL=[];function KSe(n,e,t,r,i){return $5(GL,e,r,i,!0)&&$5(n,t,GL[0],GL[1])}function JSe(n,e){n&&t(n),e&&t(e);function t(r){var i=r[KE];i&&(i.clearMarkers&&i.clearMarkers(),delete r[KE])}}function $5(n,e,t,r,i){if(e.getBoundingClientRect&&Dn.domSupported&&!SQ(e)){var a=e[KE]||(e[KE]={}),o=QSe(e,a),s=$Se(o,a,i);if(s)return s(n,t,r),!0}return!1}function QSe(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,u=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[u]+":0",r[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),n.appendChild(o),t.push(o)}return e.clearMarkers=function(){J(t,function(c){c.parentNode&&c.parentNode.removeChild(c)})},t}function $Se(n,e,t){for(var r=t?"invTrans":"trans",i=e[r],a=e.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=n[u].getBoundingClientRect(),f=2*u,h=c.left,d=c.top;o.push(h,d),l=l&&a&&h===a[f]&&d===a[f+1],s.push(n[u].offsetLeft,n[u].offsetTop)}return l&&i?i:(e.srcCoords=o,e[r]=t?PG(s,o):PG(o,s))}function SQ(n){return n.nodeName.toUpperCase()==="CANVAS"}var e2e=/([&<>"'])/g,t2e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Oo(n){return n==null?"":(n+"").replace(e2e,function(e,t){return t2e[t]})}var n2e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,HL=[],r2e=Dn.browser.firefox&&+Dn.browser.version.split(".")[0]<39;function eP(n,e,t,r){return t=t||{},r?zG(n,e,t):r2e&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):zG(n,e,t),t}function zG(n,e,t){if(Dn.domSupported&&n.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(SQ(n)){var a=n.getBoundingClientRect();t.zrX=r-a.left,t.zrY=i-a.top;return}else if($5(HL,n,r,i)){t.zrX=HL[0],t.zrY=HL[1];return}}t.zrX=t.zrY=0}function yk(n){return n||window.event}function Gl(n,e,t){if(e=yk(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var o=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];o&&eP(n,o,e,t)}else{eP(n,e,e,t);var a=i2e(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&n2e.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function i2e(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;if(t==null||r==null)return e;var i=Math.abs(r!==0?r:t),a=r>0?-1:r<0?1:t>0?-1:1;return 3*i*a}function tP(n,e,t,r){n.addEventListener(e,t,r)}function a2e(n,e,t,r){n.removeEventListener(e,t,r)}var Gh=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function kG(n){return n.which===2||n.which===3}var o2e=(function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},o=0,s=i.length;o<s;o++){var l=i[o],u=eP(r,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},n.prototype._recognize=function(e){for(var t in jL)if(jL.hasOwnProperty(t)){var r=jL[t](this._track,e);if(r)return r}},n})();function BG(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function s2e(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var jL={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,i=(n[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=BG(r)/BG(i);!isFinite(a)&&(a=1),e.pinchScale=a;var o=s2e(r);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:n[0].target,event:e}}}}};function Ma(){return[1,0,0,1,0,0]}function gw(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function mw(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Yu(n,e,t){var r=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],o=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=r,n[1]=i,n[2]=a,n[3]=o,n[4]=s,n[5]=l,n}function $u(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Zh(n,e,t,r){r===void 0&&(r=[0,0]);var i=e[0],a=e[2],o=e[4],s=e[1],l=e[3],u=e[5],c=Math.sin(t),f=Math.cos(t);return n[0]=i*f+s*c,n[1]=-i*c+s*f,n[2]=a*f+l*c,n[3]=-a*c+f*l,n[4]=f*(o-r[0])+c*(u-r[1])+r[0],n[5]=f*(u-r[1])-c*(o-r[0])+r[1],n}function rN(n,e,t){var r=t[0],i=t[1];return n[0]=e[0]*r,n[1]=e[1]*i,n[2]=e[2]*r,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*i,n}function tu(n,e){var t=e[0],r=e[2],i=e[4],a=e[1],o=e[3],s=e[5],l=t*o-a*r;return l?(l=1/l,n[0]=o*l,n[1]=-a*l,n[2]=-r*l,n[3]=t*l,n[4]=(r*s-o*i)*l,n[5]=(a*i-t*s)*l,n):null}function wQ(n){var e=Ma();return mw(e,n),e}const l2e=Object.freeze(Object.defineProperty({__proto__:null,clone:wQ,copy:mw,create:Ma,identity:gw,invert:tu,mul:Yu,rotate:Zh,scale:rN,translate:$u},Symbol.toStringTag,{value:"Module"}));var jt=(function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,i){e.x=t.x+r.x*i,e.y=t.y+r.y*i},n.lerp=function(e,t,r,i){var a=1-i;e.x=a*t.x+i*r.x,e.y=a*t.y+i*r.y},n})(),Yg=Math.min,$y=Math.max,nP=Math.abs,UG=["x","y"],u2e=["width","height"],tg=new jt,ng=new jt,rg=new jt,ig=new jt,nl=TQ(),eS=nl.minTv,rP=nl.maxTv,LS=[0,0],Wt=(function(){function n(e,t,r,i){n.set(this,e,t,r,i)}return n.set=function(e,t,r,i,a){return i<0&&(t=t+i,i=-i),a<0&&(r=r+a,a=-a),e.x=t,e.y=r,e.width=i,e.height=a,e},n.prototype.union=function(e){var t=Yg(e.x,this.x),r=Yg(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=$y(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=$y(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,i=e.height/t.height,a=Ma();return $u(a,a,[-t.x,-t.y]),rN(a,a,[r,i]),$u(a,a,[e.x,e.y]),a},n.prototype.intersect=function(e,t,r){return n.intersect(this,e,t,r)},n.intersect=function(e,t,r,i){r&&jt.set(r,0,0);var a=i&&i.outIntersectRect||null,o=i&&i.clamp;if(a&&(a.x=a.y=a.width=a.height=NaN),!e||!t)return!1;e instanceof n||(e=n.set(c2e,e.x,e.y,e.width,e.height)),t instanceof n||(t=n.set(f2e,t.x,t.y,t.width,t.height));var s=!!r;nl.reset(i,s);var l=nl.touchThreshold,u=e.x+l,c=e.x+e.width-l,f=e.y+l,h=e.y+e.height-l,d=t.x+l,v=t.x+t.width-l,g=t.y+l,y=t.y+t.height-l;if(u>c||f>h||d>v||g>y)return!1;var x=!(c<d||v<u||h<g||y<f);return(s||a)&&(LS[0]=1/0,LS[1]=0,VG(u,c,d,v,0,s,a,o),VG(f,h,g,y,1,s,a,o),s&&jt.copy(r,x?nl.useDir?nl.dirMinTv:eS:rP)),x},n.contain=function(e,t,r){return t>=e.x&&t<=e.x+e.width&&r>=e.y&&r<=e.y+e.height},n.prototype.contain=function(e,t){return n.contain(this,e,t)},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e},n.applyTransform=function(e,t,r){if(!r){e!==t&&n.copy(e,t);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],o=r[4],s=r[5];e.x=t.x*i+o,e.y=t.y*a+s,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}tg.x=rg.x=t.x,tg.y=ig.y=t.y,ng.x=ig.x=t.x+t.width,ng.y=rg.y=t.y+t.height,tg.transform(r),ig.transform(r),ng.transform(r),rg.transform(r),e.x=Yg(tg.x,ng.x,rg.x,ig.x),e.y=Yg(tg.y,ng.y,rg.y,ig.y);var l=$y(tg.x,ng.x,rg.x,ig.x),u=$y(tg.y,ng.y,rg.y,ig.y);e.width=l-e.x,e.height=u-e.y},n})(),c2e=new Wt(0,0,0,0),f2e=new Wt(0,0,0,0);function VG(n,e,t,r,i,a,o,s){var l=nP(e-t),u=nP(r-n),c=Yg(l,u),f=UG[i],h=UG[1-i],d=u2e[i];e<t||r<n?l<u?(a&&(rP[f]=-l),s&&(o[f]=e,o[d]=0)):(a&&(rP[f]=u),s&&(o[f]=n,o[d]=0)):(o&&(o[f]=$y(n,t),o[d]=Yg(e,r)-o[f]),a&&(c<LS[0]||nl.useDir)&&(LS[0]=Yg(c,LS[0]),(l<u||!nl.bidirectional)&&(eS[f]=l,eS[h]=0,nl.useDir&&nl.calcDirMTV()),(l>=u||!nl.bidirectional)&&(eS[f]=-u,eS[h]=0,nl.useDir&&nl.calcDirMTV())))}function TQ(){var n=0,e=new jt,t=new jt,r={minTv:new jt,maxTv:new jt,useDir:!1,dirMinTv:new jt,touchThreshold:0,bidirectional:!0,negativeSize:!1,reset:function(a,o){r.touchThreshold=0,a&&a.touchThreshold!=null&&(r.touchThreshold=$y(0,a.touchThreshold)),r.negativeSize=!1,o&&(r.minTv.set(1/0,1/0),r.maxTv.set(0,0),r.useDir=!1,a&&a.direction!=null&&(r.useDir=!0,r.dirMinTv.copy(r.minTv),t.copy(r.minTv),n=a.direction,r.bidirectional=a.bidirectional==null||!!a.bidirectional,r.bidirectional||e.set(Math.cos(n),Math.sin(n))))},calcDirMTV:function(){var a=r.minTv,o=r.dirMinTv,s=a.y*a.y+a.x*a.x,l=Math.sin(n),u=Math.cos(n),c=l*a.y+u*a.x;if(i(c)){i(a.x)&&i(a.y)&&o.set(0,0);return}if(t.x=s*u/c,t.y=s*l/c,i(t.x)&&i(t.y)){o.set(0,0);return}(r.bidirectional||e.dot(t)>0)&&t.len()<o.len()&&o.copy(t)}};function i(a){return nP(a)<1e-10}return r}var MQ="silent";function h2e(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:d2e}}function d2e(){Gh(this.event)}var p2e=(function(n){Zr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(au),gb=(function(){function n(e,t){this.x=e,this.y=t}return n})(),v2e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],WL=new Wt(0,0,0,0),AQ=(function(n){Zr(e,n);function e(t,r,i,a,o){var s=n.call(this)||this;return s._hovered=new gb(0,0),s.storage=t,s.painter=r,s.painterRoot=a,s._pointerSize=o,i=i||new p2e,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new qSe(s),s}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(J(v2e,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,a=CQ(this,r,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new gb(r,i):this.findHover(r,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==s&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new gb(0,0)},e.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var o="on"+r,s=h2e(r,t,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(r,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(r,s)}))}},e.prototype.findHover=function(t,r,i){var a=this.storage.getDisplayList(),o=new gb(t,r);if(FG(a,o,t,r,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new Wt(t-u,r-u,l,l),f=a.length-1;f>=0;f--){var h=a[f];h!==i&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(WL.copy(h.getBoundingRect()),h.transform&&WL.applyTransform(h.transform),WL.intersect(c)&&s.push(h))}if(s.length)for(var d=4,v=Math.PI/12,g=Math.PI*2,y=0;y<u;y+=d)for(var x=0;x<g;x+=v){var b=t+y*Math.cos(x),T=r+y*Math.sin(x);if(FG(s,o,b,T,i),o.target)return o}}return o},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new o2e);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var o=a.type;t.gestureEvent=o;var s=new gb;s.target=a.target,this.dispatchToElement(s,o,a.event)}},e})(au);J(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){AQ.prototype[n]=function(e){var t=e.zrX,r=e.zrY,i=CQ(this,t,r),a,o;if((n!=="mouseup"||!i)&&(a=this.findHover(t,r),o=a.target),n==="mousedown")this._downEl=o,this._downPoint=[e.zrX,e.zrY],this._upEl=o;else if(n==="mouseup")this._upEl=o;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||Mh(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,e)}});function g2e(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(e,t))return!1}r.silent&&(i=!0);var s=r.__hostTarget;r=s?r.ignoreHostSilent?null:s:r.parent}return i?MQ:!0}return!1}function FG(n,e,t,r,i){for(var a=n.length-1;a>=0;a--){var o=n[a],s=void 0;if(o!==i&&!o.ignore&&(s=g2e(o,t,r))&&(!e.topTarget&&(e.topTarget=o),s!==MQ)){e.target=o;break}}}function CQ(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var EQ=32,mb=7;function m2e(n){for(var e=0;n>=EQ;)e|=n&1,n>>=1;return n+e}function GG(n,e,t,r){var i=e+1;if(i===t)return 1;if(r(n[i++],n[e])<0){for(;i<t&&r(n[i],n[i-1])<0;)i++;y2e(n,e,i)}else for(;i<t&&r(n[i],n[i-1])>=0;)i++;return i-e}function y2e(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}function HG(n,e,t,r,i){for(r===e&&r++;r<t;r++){for(var a=n[r],o=e,s=r,l;o<s;)l=o+s>>>1,i(a,n[l])<0?s=l:o=l+1;var u=r-o;switch(u){case 3:n[o+3]=n[o+2];case 2:n[o+2]=n[o+1];case 1:n[o+1]=n[o];break;default:for(;u>0;)n[o+u]=n[o+u-1],u--}n[o]=a}}function YL(n,e,t,r,i,a){var o=0,s=0,l=1;if(a(n,e[t+i])>0){for(s=r-i;l<s&&a(n,e[t+i+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(n,e[t+i-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}for(o++;o<l;){var c=o+(l-o>>>1);a(n,e[t+c])>0?o=c+1:l=c}return l}function XL(n,e,t,r,i,a){var o=0,s=0,l=1;if(a(n,e[t+i])<0){for(s=i+1;l<s&&a(n,e[t+i-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}else{for(s=r-i;l<s&&a(n,e[t+i+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var c=o+(l-o>>>1);a(n,e[t+c])<0?l=c:o=c+1}return l}function x2e(n,e){var t=mb,r,i,a=0,o=[];r=[],i=[];function s(d,v){r[a]=d,i[a]=v,a+=1}function l(){for(;a>1;){var d=a-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;c(d)}}function u(){for(;a>1;){var d=a-2;d>0&&i[d-1]<i[d+1]&&d--,c(d)}}function c(d){var v=r[d],g=i[d],y=r[d+1],x=i[d+1];i[d]=g+x,d===a-3&&(r[d+1]=r[d+2],i[d+1]=i[d+2]),a--;var b=XL(n[y],n,v,g,0,e);v+=b,g-=b,g!==0&&(x=YL(n[v+g-1],n,y,x,x-1,e),x!==0&&(g<=x?f(v,g,y,x):h(v,g,y,x)))}function f(d,v,g,y){var x=0;for(x=0;x<v;x++)o[x]=n[d+x];var b=0,T=g,M=d;if(n[M++]=n[T++],--y===0){for(x=0;x<v;x++)n[M+x]=o[b+x];return}if(v===1){for(x=0;x<y;x++)n[M+x]=n[T+x];n[M+y]=o[b];return}for(var C=t,D,R,I;;){D=0,R=0,I=!1;do if(e(n[T],o[b])<0){if(n[M++]=n[T++],R++,D=0,--y===0){I=!0;break}}else if(n[M++]=o[b++],D++,R=0,--v===1){I=!0;break}while((D|R)<C);if(I)break;do{if(D=XL(n[T],o,b,v,0,e),D!==0){for(x=0;x<D;x++)n[M+x]=o[b+x];if(M+=D,b+=D,v-=D,v<=1){I=!0;break}}if(n[M++]=n[T++],--y===0){I=!0;break}if(R=YL(o[b],n,T,y,0,e),R!==0){for(x=0;x<R;x++)n[M+x]=n[T+x];if(M+=R,T+=R,y-=R,y===0){I=!0;break}}if(n[M++]=o[b++],--v===1){I=!0;break}C--}while(D>=mb||R>=mb);if(I)break;C<0&&(C=0),C+=2}if(t=C,t<1&&(t=1),v===1){for(x=0;x<y;x++)n[M+x]=n[T+x];n[M+y]=o[b]}else{if(v===0)throw new Error;for(x=0;x<v;x++)n[M+x]=o[b+x]}}function h(d,v,g,y){var x=0;for(x=0;x<y;x++)o[x]=n[g+x];var b=d+v-1,T=y-1,M=g+y-1,C=0,D=0;if(n[M--]=n[b--],--v===0){for(C=M-(y-1),x=0;x<y;x++)n[C+x]=o[x];return}if(y===1){for(M-=v,b-=v,D=M+1,C=b+1,x=v-1;x>=0;x--)n[D+x]=n[C+x];n[M]=o[T];return}for(var R=t;;){var I=0,L=0,O=!1;do if(e(o[T],n[b])<0){if(n[M--]=n[b--],I++,L=0,--v===0){O=!0;break}}else if(n[M--]=o[T--],L++,I=0,--y===1){O=!0;break}while((I|L)<R);if(O)break;do{if(I=v-XL(o[T],n,d,v,v-1,e),I!==0){for(M-=I,b-=I,v-=I,D=M+1,C=b+1,x=I-1;x>=0;x--)n[D+x]=n[C+x];if(v===0){O=!0;break}}if(n[M--]=o[T--],--y===1){O=!0;break}if(L=y-YL(n[b],o,0,y,y-1,e),L!==0){for(M-=L,T-=L,y-=L,D=M+1,C=T+1,x=0;x<L;x++)n[D+x]=o[C+x];if(y<=1){O=!0;break}}if(n[M--]=n[b--],--v===0){O=!0;break}R--}while(I>=mb||L>=mb);if(O)break;R<0&&(R=0),R+=2}if(t=R,t<1&&(t=1),y===1){for(M-=v,b-=v,D=M+1,C=b+1,x=v-1;x>=0;x--)n[D+x]=n[C+x];n[M]=o[T]}else{if(y===0)throw new Error;for(C=M-(y-1),x=0;x<y;x++)n[C+x]=o[x]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function bC(n,e,t,r){t||(t=0),r||(r=n.length);var i=r-t;if(!(i<2)){var a=0;if(i<EQ){a=GG(n,t,r,e),HG(n,t,r,t+a,e);return}var o=x2e(n,e),s=m2e(i);do{if(a=GG(n,t,r,e),a<s){var l=i;l>s&&(l=s),HG(n,t,t+l,t+a,e),a=l}o.pushRun(t,a),o.mergeRuns(),i-=a,t+=a}while(i!==0);o.forceMergeRuns()}}var rl=1,tS=2,Wy=4,jG=!1;function qL(){jG||(jG=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function WG(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var _2e=(function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=WG}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);r.length=this._displayListLen,bC(r,WG)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath(),a=t&&t.length,o=0,s=e.__clipPaths;if(!e.ignoreClip&&(a||i)){if(s||(s=e.__clipPaths=[]),a)for(var l=0;l<t.length;l++)s[o++]=t[l];for(var u=i,c=e;u;)u.parent=c,u.updateTransform(),s[o++]=u,c=u,u=u.getClipPath()}if(s&&(s.length=o),e.childrenRef){for(var f=e.childrenRef(),h=0;h<f.length;h++){var d=f[h];e.__dirty&&(d.__dirty|=rl),this._updateAndAddDisplayable(d,s,r)}e.__dirty=0}else{var v=e;isNaN(v.z)&&(qL(),v.z=0),isNaN(v.z2)&&(qL(),v.z2=0),isNaN(v.zlevel)&&(qL(),v.zlevel=0),this._displayList[this._displayListLen++]=v}var g=e.getDecalElement&&e.getDecalElement();g&&this._updateAndAddDisplayable(g,s,r);var y=e.getTextGuideLine();y&&this._updateAndAddDisplayable(y,s,r);var x=e.getTextContent();x&&this._updateAndAddDisplayable(x,s,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var i=on(this._roots,e);i>=0&&this._roots.splice(i,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n})(),JE;JE=Dn.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var IS={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)))},elasticOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-IS.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?IS.bounceIn(n*2)*.5:IS.bounceOut(n*2-1)*.5+.5}},nA=Math.pow,_p=Math.sqrt,QE=1e-8,DQ=1e-4,YG=_p(3),rA=1/3,Kc=jp(),ql=jp(),cx=jp();function hp(n){return n>-QE&&n<QE}function NQ(n){return n>QE||n<-QE}function Sa(n,e,t,r,i){var a=1-i;return a*a*(a*n+3*i*e)+i*i*(i*r+3*a*t)}function XG(n,e,t,r,i){var a=1-i;return 3*(((e-n)*a+2*(t-e)*i)*a+(r-t)*i*i)}function $E(n,e,t,r,i,a){var o=r+3*(e-t)-n,s=3*(t-e*2+n),l=3*(e-n),u=n-i,c=s*s-3*o*l,f=s*l-9*o*u,h=l*l-3*s*u,d=0;if(hp(c)&&hp(f))if(hp(s))a[0]=0;else{var v=-l/s;v>=0&&v<=1&&(a[d++]=v)}else{var g=f*f-4*c*h;if(hp(g)){var y=f/c,v=-s/o+y,x=-y/2;v>=0&&v<=1&&(a[d++]=v),x>=0&&x<=1&&(a[d++]=x)}else if(g>0){var b=_p(g),T=c*s+1.5*o*(-f+b),M=c*s+1.5*o*(-f-b);T<0?T=-nA(-T,rA):T=nA(T,rA),M<0?M=-nA(-M,rA):M=nA(M,rA);var v=(-s-(T+M))/(3*o);v>=0&&v<=1&&(a[d++]=v)}else{var C=(2*c*s-3*o*f)/(2*_p(c*c*c)),D=Math.acos(C)/3,R=_p(c),I=Math.cos(D),v=(-s-2*R*I)/(3*o),x=(-s+R*(I+YG*Math.sin(D)))/(3*o),L=(-s+R*(I-YG*Math.sin(D)))/(3*o);v>=0&&v<=1&&(a[d++]=v),x>=0&&x<=1&&(a[d++]=x),L>=0&&L<=1&&(a[d++]=L)}}return d}function RQ(n,e,t,r,i){var a=6*t-12*e+6*n,o=9*e+3*r-3*n-9*t,s=3*e-3*n,l=0;if(hp(o)){if(NQ(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*o*s;if(hp(c))i[0]=-a/(2*o);else if(c>0){var f=_p(c),u=(-a+f)/(2*o),h=(-a-f)/(2*o);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function Lp(n,e,t,r,i,a){var o=(e-n)*i+n,s=(t-e)*i+e,l=(r-t)*i+t,u=(s-o)*i+o,c=(l-s)*i+s,f=(c-u)*i+u;a[0]=n,a[1]=o,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=r}function LQ(n,e,t,r,i,a,o,s,l,u,c){var f,h=.005,d=1/0,v,g,y,x;Kc[0]=l,Kc[1]=u;for(var b=0;b<1;b+=.05)ql[0]=Sa(n,t,i,o,b),ql[1]=Sa(e,r,a,s,b),y=xp(Kc,ql),y<d&&(f=b,d=y);d=1/0;for(var T=0;T<32&&!(h<DQ);T++)v=f-h,g=f+h,ql[0]=Sa(n,t,i,o,v),ql[1]=Sa(e,r,a,s,v),y=xp(ql,Kc),v>=0&&y<d?(f=v,d=y):(cx[0]=Sa(n,t,i,o,g),cx[1]=Sa(e,r,a,s,g),x=xp(cx,Kc),g<=1&&x<d?(f=g,d=x):h*=.5);return c&&(c[0]=Sa(n,t,i,o,f),c[1]=Sa(e,r,a,s,f)),_p(d)}function b2e(n,e,t,r,i,a,o,s,l){for(var u=n,c=e,f=0,h=1/l,d=1;d<=l;d++){var v=d*h,g=Sa(n,t,i,o,v),y=Sa(e,r,a,s,v),x=g-u,b=y-c;f+=Math.sqrt(x*x+b*b),u=g,c=y}return f}function Wa(n,e,t,r){var i=1-r;return i*(i*n+2*r*e)+r*r*t}function iP(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function S2e(n,e,t,r,i){var a=n-2*e+t,o=2*(e-n),s=n-r,l=0;if(hp(a)){if(NQ(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*a*s;if(hp(c)){var u=-o/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=_p(c),u=(-o+f)/(2*a),h=(-o-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),h>=0&&h<=1&&(i[l++]=h)}}return l}function IQ(n,e,t){var r=n+t-2*e;return r===0?.5:(n-e)/r}function m2(n,e,t,r,i){var a=(e-n)*r+n,o=(t-e)*r+e,s=(o-a)*r+a;i[0]=n,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=t}function OQ(n,e,t,r,i,a,o,s,l){var u,c=.005,f=1/0;Kc[0]=o,Kc[1]=s;for(var h=0;h<1;h+=.05){ql[0]=Wa(n,t,i,h),ql[1]=Wa(e,r,a,h);var d=xp(Kc,ql);d<f&&(u=h,f=d)}f=1/0;for(var v=0;v<32&&!(c<DQ);v++){var g=u-c,y=u+c;ql[0]=Wa(n,t,i,g),ql[1]=Wa(e,r,a,g);var d=xp(ql,Kc);if(g>=0&&d<f)u=g,f=d;else{cx[0]=Wa(n,t,i,y),cx[1]=Wa(e,r,a,y);var x=xp(cx,Kc);y<=1&&x<f?(u=y,f=x):c*=.5}}return l&&(l[0]=Wa(n,t,i,u),l[1]=Wa(e,r,a,u)),_p(f)}function w2e(n,e,t,r,i,a,o){for(var s=n,l=e,u=0,c=1/o,f=1;f<=o;f++){var h=f*c,d=Wa(n,t,i,h),v=Wa(e,r,a,h),g=d-s,y=v-l;u+=Math.sqrt(g*g+y*y),s=d,l=v}return u}var T2e=/cubic-bezier\(([0-9,\.e ]+)\)/;function xk(n){var e=n&&T2e.exec(n);if(e){var t=e[1].split(","),r=+ol(t[0]),i=+ol(t[1]),a=+ol(t[2]),o=+ol(t[3]);if(isNaN(r+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:$E(0,r,a,1,l,s)&&Sa(0,i,o,1,s[0])}}}var M2e=(function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Mi,this.ondestroy=e.ondestroy||Mi,this.onrestart=e.onrestart||Mi,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var r=this._life,i=e-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Nt(e)?e:IS[e]||xk(e)},n})(),PQ=(function(){function n(e){this.value=e}return n})(),A2e=(function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new PQ(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n})(),Rx=(function(){function n(e){this._list=new A2e,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,i=this._map,a=null;if(i[e]==null){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new PQ(t),s.key=e,r.insertEntry(s),i[e]=s}return a},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n})(),qG={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Xu(n){return n=Math.round(n),n<0?0:n>255?255:n}function C2e(n){return n=Math.round(n),n<0?0:n>360?360:n}function y2(n){return n<0?0:n>1?1:n}function SC(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?Xu(parseFloat(e)/100*255):Xu(parseInt(e,10))}function Rh(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?y2(parseFloat(e)/100):y2(parseFloat(e))}function ZL(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function dp(n,e,t){return n+(e-n)*t}function Fl(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function aP(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var zQ=new Rx(20),iA=null;function yy(n,e){iA&&aP(iA,e),iA=zQ.put(n,iA||e.slice())}function Bo(n,e){if(n){e=e||[];var t=zQ.get(n);if(t)return aP(e,t);n=n+"";var r=n.replace(/ /g,"").toLowerCase();if(r in qG)return aP(e,qG[r]),yy(n,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){Fl(e,0,0,0,1);return}return Fl(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),yy(n,e),e}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){Fl(e,0,0,0,1);return}return Fl(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),yy(n,e),e}return}var o=r.indexOf("("),s=r.indexOf(")");if(o!==-1&&s+1===i){var l=r.substr(0,o),u=r.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Fl(e,+u[0],+u[1],+u[2],1):Fl(e,0,0,0,1);c=Rh(u.pop());case"rgb":if(u.length>=3)return Fl(e,SC(u[0]),SC(u[1]),SC(u[2]),u.length===3?c:Rh(u[3])),yy(n,e),e;Fl(e,0,0,0,1);return;case"hsla":if(u.length!==4){Fl(e,0,0,0,1);return}return u[3]=Rh(u[3]),oP(u,e),yy(n,e),e;case"hsl":if(u.length!==3){Fl(e,0,0,0,1);return}return oP(u,e),yy(n,e),e;default:return}}Fl(e,0,0,0,1)}}function oP(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=Rh(n[1]),i=Rh(n[2]),a=i<=.5?i*(r+1):i+r-i*r,o=i*2-a;return e=e||[],Fl(e,Xu(ZL(o,a,t+1/3)*255),Xu(ZL(o,a,t)*255),Xu(ZL(o,a,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function E2e(n){if(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),a=Math.max(e,t,r),o=a-i,s=(a+i)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(a+i):u=o/(2-a-i);var c=((a-e)/6+o/2)/o,f=((a-t)/6+o/2)/o,h=((a-r)/6+o/2)/o;e===a?l=h-f:t===a?l=1/3+c-h:r===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var d=[l*360,u,s];return n[3]!=null&&d.push(n[3]),d}}function e3(n,e){var t=Bo(n);if(t){for(var r=0;r<3;r++)e<0?t[r]=t[r]*(1-e)|0:t[r]=(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return Jl(t,t.length===4?"rgba":"rgb")}}function D2e(n){var e=Bo(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function OS(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){t=t||[];var r=n*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=e[i],s=e[a],l=r-i;return t[0]=Xu(dp(o[0],s[0],l)),t[1]=Xu(dp(o[1],s[1],l)),t[2]=Xu(dp(o[2],s[2],l)),t[3]=y2(dp(o[3],s[3],l)),t}}var N2e=OS;function _k(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){var r=n*(e.length-1),i=Math.floor(r),a=Math.ceil(r),o=Bo(e[i]),s=Bo(e[a]),l=r-i,u=Jl([Xu(dp(o[0],s[0],l)),Xu(dp(o[1],s[1],l)),Xu(dp(o[2],s[2],l)),y2(dp(o[3],s[3],l))],"rgba");return t?{color:u,leftIndex:i,rightIndex:a,value:r}:u}}var R2e=_k;function Lh(n,e,t,r){var i=Bo(n);if(n)return i=E2e(i),e!=null&&(i[0]=C2e(Nt(e)?e(i[0]):e)),t!=null&&(i[1]=Rh(Nt(t)?t(i[1]):t)),r!=null&&(i[2]=Rh(Nt(r)?r(i[2]):r)),Jl(oP(i),"rgba")}function x2(n,e){var t=Bo(n);if(t&&e!=null)return t[3]=y2(e),Jl(t,"rgba")}function Jl(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function _2(n,e){var t=Bo(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function L2e(){return Jl([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var ZG=new Rx(100);function t3(n){if(vt(n)){var e=ZG.get(n);return e||(e=e3(n,-.1),ZG.put(n,e)),e}else if(dw(n)){var t=je({},n);return t.colorStops=$e(n.colorStops,function(r){return{offset:r.offset,color:e3(r.color,-.1)}}),t}return n}const I2e=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:OS,fastMapToColor:N2e,lerp:_k,lift:e3,liftColor:t3,lum:_2,mapToColor:R2e,modifyAlpha:x2,modifyHSL:Lh,parse:Bo,parseCssFloat:Rh,parseCssInt:SC,random:L2e,stringify:Jl,toHex:D2e},Symbol.toStringTag,{value:"Module"}));var n3=Math.round;function b2(n){var e;if(!n||n==="transparent")n="none";else if(typeof n=="string"&&n.indexOf("rgba")>-1){var t=Bo(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:n,opacity:e??1}}var KG=1e-4;function pp(n){return n<KG&&n>-KG}function aA(n){return n3(n*1e3)/1e3}function sP(n){return n3(n*1e4)/1e4}function O2e(n){return"matrix("+aA(n[0])+","+aA(n[1])+","+aA(n[2])+","+aA(n[3])+","+sP(n[4])+","+sP(n[5])+")"}var P2e={left:"start",right:"end",center:"middle",middle:"middle"};function z2e(n,e,t){return t==="top"?n+=e/2:t==="bottom"&&(n-=e/2),n}function k2e(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}function B2e(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function kQ(n){return n&&!!n.image}function U2e(n){return n&&!!n.svgElement}function bk(n){return kQ(n)||U2e(n)}function BQ(n){return n.type==="linear"}function UQ(n){return n.type==="radial"}function VQ(n){return n&&(n.type==="linear"||n.type==="radial")}function iN(n){return"url(#"+n+")"}function FQ(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function GQ(n){var e=n.x||0,t=n.y||0,r=(n.rotation||0)*DS,i=At(n.scaleX,1),a=At(n.scaleY,1),o=n.skewX||0,s=n.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),r&&l.push("rotate("+r+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(o||s)&&l.push("skew("+n3(o*DS)+"deg, "+n3(s*DS)+"deg)"),l.join(" ")}var V2e=(function(){return Dn.hasGlobalWindow&&Nt(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})(),lP=Array.prototype.slice;function yh(n,e,t){return(e-n)*t+n}function KL(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=yh(e[a],t[a],r);return n}function F2e(n,e,t,r){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){n[o]||(n[o]=[]);for(var s=0;s<a;s++)n[o][s]=yh(e[o][s],t[o][s],r)}return n}function oA(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=e[a]+t[a]*r;return n}function JG(n,e,t,r){for(var i=e.length,a=i&&e[0].length,o=0;o<i;o++){n[o]||(n[o]=[]);for(var s=0;s<a;s++)n[o][s]=e[o][s]+t[o][s]*r}return n}function G2e(n,e){for(var t=n.length,r=e.length,i=t>r?e:n,a=Math.min(t,r),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(t,r);s++)i.push({offset:o.offset,color:o.color.slice()})}function H2e(n,e,t){var r=n,i=e;if(!(!r.push||!i.push)){var a=r.length,o=i.length;if(a!==o){var s=a>o;if(s)r.length=o;else for(var l=a;l<o;l++)r.push(t===1?i[l]:lP.call(i[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(t===1)isNaN(r[l])&&(r[l]=i[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=i[l][c])}}function PS(n){if(lo(n)){var e=n.length;if(lo(n[0])){for(var t=[],r=0;r<e;r++)t.push(lP.call(n[r]));return t}return lP.call(n)}return n}function wC(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function j2e(n){return lo(n&&n[0])?2:1}var sA=0,TC=1,HQ=2,nS=3,uP=4,cP=5,QG=6;function $G(n){return n===uP||n===cP}function lA(n){return n===TC||n===HQ}var yb=[0,0,0,0],W2e=(function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=QG,l=t;if(lo(t)){var u=j2e(t);s=u,(u===1&&!Pn(t[0])||u===2&&!Pn(t[0][0]))&&(o=!0)}else if(Pn(t)&&!so(t))s=sA;else if(vt(t))if(!isNaN(+t))s=sA;else{var c=Bo(t);c&&(l=c,s=nS)}else if(dw(t)){var f=je({},l);f.colorStops=$e(t.colorStops,function(d){return{offset:d.offset,color:Bo(d.color)}}),BQ(t)?s=uP:UQ(t)&&(s=cP),l=f}a===0?this.valType=s:(s!==this.valType||s===QG)&&(o=!0),this.discrete=this.discrete||o;var h={time:e,value:l,rawValue:t,percent:0};return r&&(h.easing=r,h.easingFunc=Nt(r)?r:IS[r]||xk(r)),i.push(h),h},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(g,y){return g.time-y.time});for(var i=this.valType,a=r.length,o=r[a-1],s=this.discrete,l=lA(i),u=$G(i),c=0;c<a;c++){var f=r[c],h=f.value,d=o.value;f.percent=f.time/e,s||(l&&c!==a-1?H2e(h,d,i):u&&G2e(h.colorStops,d.colorStops))}if(!s&&i!==cP&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var v=r[0].value,c=0;c<a;c++)i===sA?r[c].additiveValue=r[c].value-v:i===nS?r[c].additiveValue=oA([],r[c].value,v,-1):lA(i)&&(r[c].additiveValue=i===TC?oA([],r[c].value,v,-1):JG([],r[c].value,v,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=a===nS,c,f=this._lastFr,h=Math.min,d,v;if(s===1)d=v=o[0];else{if(t<0)c=0;else if(t<this._lastFrP){var g=h(f+1,s-1);for(c=g;c>=0&&!(o[c].percent<=t);c--);c=h(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>t);c++);c=h(c-1,s-2)}v=o[c+1],d=o[c]}if(d&&v){this._lastFr=c,this._lastFrP=t;var y=v.percent-d.percent,x=y===0?1:h((t-d.percent)/y,1);v.easingFunc&&(x=v.easingFunc(x));var b=r?this._additiveValue:u?yb:e[l];if((lA(a)||u)&&!b&&(b=this._additiveValue=[]),this.discrete)e[l]=x<1?d.rawValue:v.rawValue;else if(lA(a))a===TC?KL(b,d[i],v[i],x):F2e(b,d[i],v[i],x);else if($G(a)){var T=d[i],M=v[i],C=a===uP;e[l]={type:C?"linear":"radial",x:yh(T.x,M.x,x),y:yh(T.y,M.y,x),colorStops:$e(T.colorStops,function(R,I){var L=M.colorStops[I];return{offset:yh(R.offset,L.offset,x),color:wC(KL([],R.color,L.color,x))}}),global:M.global},C?(e[l].x2=yh(T.x2,M.x2,x),e[l].y2=yh(T.y2,M.y2,x)):e[l].r=yh(T.r,M.r,x)}else if(u)KL(b,d[i],v[i],x),r||(e[l]=wC(b));else{var D=yh(d[i],v[i],x);r?this._additiveValue=D:e[l]=D}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,i=this._additiveValue;t===sA?e[r]=e[r]+i:t===nS?(Bo(e[r],yb),oA(yb,yb,i,1),e[r]=wC(yb)):t===TC?oA(e[r],e[r],i,1):t===HQ&&JG(e[r],e[r],i,1)},n})(),Sk=(function(){function n(e,t,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){$D("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,Rn(t),r)},n.prototype.whenWithKeys=function(e,t,r,i){for(var a=this._tracks,o=0;o<r.length;o++){var s=r[o],l=a[s];if(!l){l=a[s]=new W2e(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,h=f[f.length-1];u=h&&h.value,c.valType===nS&&u&&(u=wC(u))}else u=this._target[s];if(u==null)continue;e>0&&l.addKeyframe(0,PS(u),i),this._trackKeys.push(s)}l.addKeyframe(e,PS(t[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(e);a&&(t=a)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(t._target[s.propName]=f.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var h=new M2e({life:i,loop:this._loop,delay:this._delay||0,onframe:function(d){t._started=2;var v=t._additiveAnimators;if(v){for(var g=!1,y=0;y<v.length;y++)if(v[y]._clip){g=!0;break}g||(t._additiveAnimators=null)}for(var y=0;y<r.length;y++)r[y].step(t._target,d);var x=t._onframeCbs;if(x)for(var y=0;y<x.length;y++)x[y](t._target,d)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return $e(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var o=r[e[a]];o&&!o.isFinished()&&(t?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[r?0:s.length-1];l&&(e[a]=PS(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||Rn(e);for(var r=0;r<t.length;r++){var i=t[r],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n})();function ex(){return new Date().getTime()}var Y2e=(function(n){Zr(e,n);function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,t=t||{},r.stage=t.stage||{},r}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=ex()-this._pausedTime,i=r-this._time,a=this._head;a;){var o=a.next,s=a.step(r,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function r(){t._running&&(JE(r),!t._paused&&t.update())}JE(r)},e.prototype.start=function(){this._running||(this._time=ex(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=ex(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=ex()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,r){r=r||{},this.start();var i=new Sk(t,r.loop);return this.addAnimator(i),i},e})(au),X2e=300,JL=Dn.domSupported,QL=(function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=$e(n,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:n,touch:e,pointer:r}})(),eH={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},tH=!1;function fP(n){var e=n.pointerType;return e==="pen"||e==="touch"}function q2e(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function $L(n){n&&(n.zrByTouch=!0)}function Z2e(n,e){return Gl(n.dom,new K2e(n,e),!0)}function jQ(n,e){for(var t=e,r=!1;t&&t.nodeType!==9&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var K2e=(function(){function n(e,t){this.stopPropagation=Mi,this.stopImmediatePropagation=Mi,this.preventDefault=Mi,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n})(),ku={mousedown:function(n){n=Gl(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Gl(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Gl(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=Gl(this.dom,n);var e=n.toElement||n.relatedTarget;jQ(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){tH=!0,n=Gl(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){tH||(n=Gl(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=Gl(this.dom,n),$L(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),ku.mousemove.call(this,n),ku.mousedown.call(this,n)},touchmove:function(n){n=Gl(this.dom,n),$L(n),this.handler.processGesture(n,"change"),ku.mousemove.call(this,n)},touchend:function(n){n=Gl(this.dom,n),$L(n),this.handler.processGesture(n,"end"),ku.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<X2e&&ku.click.call(this,n)},pointerdown:function(n){ku.mousedown.call(this,n)},pointermove:function(n){fP(n)||ku.mousemove.call(this,n)},pointerup:function(n){ku.mouseup.call(this,n)},pointerout:function(n){fP(n)||ku.mouseout.call(this,n)}};J(["click","dblclick","contextmenu"],function(n){ku[n]=function(e){e=Gl(this.dom,e),this.trigger(n,e)}});var hP={pointermove:function(n){fP(n)||hP.mousemove.call(this,n)},pointerup:function(n){hP.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function J2e(n,e){var t=e.domHandlers;Dn.pointerEventsSupported?J(QL.pointer,function(r){MC(e,r,function(i){t[r].call(n,i)})}):(Dn.touchEventsSupported&&J(QL.touch,function(r){MC(e,r,function(i){t[r].call(n,i),q2e(e)})}),J(QL.mouse,function(r){MC(e,r,function(i){i=yk(i),e.touching||t[r].call(n,i)})}))}function Q2e(n,e){Dn.pointerEventsSupported?J(eH.pointer,t):Dn.touchEventsSupported||J(eH.mouse,t);function t(r){function i(a){a=yk(a),jQ(n,a.target)||(a=Z2e(n,a),e.domHandlers[r].call(n,a))}MC(e,r,i,{capture:!0})}}function MC(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,tP(n.domTarget,e,t,r)}function eI(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&a2e(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var nH=(function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n})(),$2e=(function(n){Zr(e,n);function e(t,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new nH(t,ku),JL&&(i._globalHandlerScope=new nH(document,hP)),J2e(i,i._localHandlerScope),i}return e.prototype.dispose=function(){eI(this._localHandlerScope),JL&&eI(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,JL&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?Q2e(this,r):eI(r)}},e})(au),WQ=1;Dn.hasGlobalWindow&&(WQ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var r3=WQ,dP=.4,pP="#333",vP="#ccc",ewe="#eee",rH=gw,iH=5e-5;function ag(n){return n>iH||n<-iH}var og=[],xy=[],tI=Ma(),nI=Math.abs,Eh=(function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return ag(this.rotation)||ag(this.x)||ag(this.y)||ag(this.scaleX-1)||ag(this.scaleY-1)||ag(this.skewX)||ag(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;if(!(t||e)){r&&(rH(r),this.invTransform=null);return}r=r||Ma(),t?this.getLocalTransform(r):rH(r),e&&(t?Yu(r,e,r):mw(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(og);var r=og[0]<0?-1:1,i=og[1]<0?-1:1,a=((og[0]-r)*t+r)/og[0]||0,o=((og[1]-i)*t+i)/og[1]||0;e[0]*=a,e[1]*=a,e[2]*=o,e[3]*=o}this.invTransform=this.invTransform||Ma(),tu(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Ma(),Yu(xy,e.invTransform,t),t=xy);var r=this.originX,i=this.originY;(r||i)&&(tI[4]=r,tI[5]=i,Yu(xy,t,tI),xy[4]-=r,xy[5]-=i,t=xy),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],i=this.invTransform;return i&&Ai(r,r,i),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],i=this.transform;return i&&Ai(r,r,i),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&nI(e[0]-1)>1e-10&&nI(e[3]-1)>1e-10?Math.sqrt(nI(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){i3(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,i=e.originY||0,a=e.scaleX,o=e.scaleY,s=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(r||i||s||l){var v=r+s,g=i+l;t[4]=-v*a-h*g*o,t[5]=-g*o-d*v*a}else t[4]=t[5]=0;return t[0]=a,t[3]=o,t[1]=d*a,t[2]=h*o,u&&Zh(t,t,u),t[4]+=r+c,t[5]+=i+f,t},n.initDefaultProps=(function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),n})(),pf=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function i3(n,e){for(var t=0;t<pf.length;t++){var r=pf[t];n[r]=e[r]}}function ff(n){uA||(uA=new Rx(100)),n=n||Fh;var e=uA.get(n);return e||(e={font:n,strWidthCache:new Rx(500),asciiWidthMap:null,asciiWidthMapTried:!1,stWideCharWidth:ks.measureText("",n).width,asciiCharWidth:ks.measureText("a",n).width},uA.put(n,e)),e}var uA;function twe(n){if(!(rI>=aH)){n=n||Fh;for(var e=[],t=+new Date,r=0;r<=127;r++)e[r]=ks.measureText(String.fromCharCode(r),n).width;var i=+new Date-t;return i>16?rI=aH:i>2&&rI++,e}}var rI=0,aH=5;function YQ(n,e){return n.asciiWidthMapTried||(n.asciiWidthMap=twe(n.font),n.asciiWidthMapTried=!0),0<=e&&e<=127?n.asciiWidthMap!=null?n.asciiWidthMap[e]:n.asciiCharWidth:n.stWideCharWidth}function hf(n,e){var t=n.strWidthCache,r=t.get(e);return r==null&&(r=ks.measureText(e,n.font).width,t.put(e,r)),r}function oH(n,e,t,r){var i=hf(ff(e),n),a=yw(e),o=Lx(0,i,t),s=rm(0,a,r),l=new Wt(o,s,i,a);return l}function aN(n,e,t,r){var i=((n||"")+"").split(`
`),a=i.length;if(a===1)return oH(i[0],e,t,r);for(var o=new Wt(0,0,0,0),s=0;s<i.length;s++){var l=oH(i[s],e,t,r);s===0?o.copy(l):o.union(l)}return o}function Lx(n,e,t,r){return t==="right"?r?n+=e:n-=e:t==="center"&&(r?n+=e/2:n-=e/2),n}function rm(n,e,t,r){return t==="middle"?r?n+=e/2:n-=e/2:t==="bottom"&&(r?n+=e:n-=e),n}function yw(n){return ff(n).stWideCharWidth}function ec(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function a3(n,e,t){var r=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,o=t.width,s=a/2,l=t.x,u=t.y,c="left",f="top";if(r instanceof Array)l+=ec(r[0],t.width),u+=ec(r[1],t.height),c=null,f=null;else switch(r){case"left":l-=i,u+=s,c="right",f="middle";break;case"right":l+=i+o,u+=s,f="middle";break;case"top":l+=o/2,u-=i,c="center",f="bottom";break;case"bottom":l+=o/2,u+=a+i,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=i,u+=s,f="middle";break;case"insideRight":l+=o-i,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=i,c="center";break;case"insideBottom":l+=o/2,u+=a-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=o-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,f="bottom";break;case"insideBottomRight":l+=o-i,u+=a-i,c="right",f="bottom";break}return n=n||{},n.x=l,n.y=u,n.align=c,n.verticalAlign=f,n}var iI="__zr_normal__",aI=pf.concat(["ignore"]),nwe=eu(pf,function(n,e){return n[e]=!0,n},{ignore:!1}),_y={},rwe=new Wt(0,0,0,0),cA=[],oN=(function(){function n(e){this.id=pk(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=t.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var u=!1;a.copyTransform(t);var c=r.position!=null,f=r.autoOverflowArea,h=void 0;if((f||c)&&(h=rwe,r.layoutRect?h.copy(r.layoutRect):h.copy(this.getBoundingRect()),i||h.applyTransform(this.transform)),c){this.calculateTextPosition?this.calculateTextPosition(_y,r,h):a3(_y,r,h),a.x=_y.x,a.y=_y.y,o=_y.align,s=_y.verticalAlign;var d=r.origin;if(d&&r.rotation!=null){var v=void 0,g=void 0;d==="center"?(v=h.width*.5,g=h.height*.5):(v=ec(d[0],h.width),g=ec(d[1],h.height)),u=!0,a.originX=-a.x+v+(i?0:h.x),a.originY=-a.y+g+(i?0:h.y)}}r.rotation!=null&&(a.rotation=r.rotation);var y=r.offset;y&&(a.x+=y[0],a.y+=y[1],u||(a.originX=-y[0],a.originY=-y[1]));var x=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={});if(f){var b=x.overflowRect=x.overflowRect||new Wt(0,0,0,0);a.getLocalTransform(cA),tu(cA,cA),Wt.copy(b,h),b.applyTransform(cA)}else x.overflowRect=null;var T=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,M=void 0,C=void 0,D=void 0;T&&this.canBeInsideText()?(M=r.insideFill,C=r.insideStroke,(M==null||M==="auto")&&(M=this.getInsideTextFill()),(C==null||C==="auto")&&(C=this.getInsideTextStroke(M),D=!0)):(M=r.outsideFill,C=r.outsideStroke,(M==null||M==="auto")&&(M=this.getOutsideFill()),(C==null||C==="auto")&&(C=this.getOutsideStroke(M),D=!0)),M=M||"#000",(M!==x.fill||C!==x.stroke||D!==x.autoStroke||o!==x.align||s!==x.verticalAlign)&&(l=!0,x.fill=M,x.stroke=C,x.autoStroke=D,x.align=o,x.verticalAlign=s,t.setDefaultTextStyle(x)),t.__dirty|=rl,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?vP:pP},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r=typeof t=="string"&&Bo(t);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*i+(a?0:255)*(1-i);return r[3]=1,Jl(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},je(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(Ft(e))for(var r=e,i=Rn(r),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,e[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==iI)){var o=i.targetName,s=o?t[o]:t;i.saveTo(s)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,aI)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var i=0;i<r.length;i++){var a=r[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(iI,!1,e)},n.prototype.useState=function(e,t,r,i){var a=e===iI,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(on(s,e)>=0&&(t||s.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!a){$D("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,t,r,c),h&&h.useState(e,t,r,c),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~rl),u}}},n.prototype.useStates=function(e,t,r){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,o=e.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(e[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&i.push(c)}var f=i[o-1],h=!!(f&&f.hoverLayer||r);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),v=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!t&&!this.__inHover&&v&&v.duration>0,v);var g=this._textContent,y=this._textGuide;g&&g.useStates(e,t,h),y&&y.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~rl)}},n.prototype.isSilent=function(){for(var e=this;e;){if(e.silent)return!0;var t=e.__hostTarget;e=t?e.ignoreHostSilent?null:t:e.parent}return!1},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=on(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var i=this.currentStates.slice(),a=on(i,e),o=on(i,t)>=0;a>=0?o?i.splice(a,1):i[a]=t:r&&!o&&i.push(t),this.useStates(i)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},r,i=0;i<e.length;i++){var a=e[i];je(t,a),a.textConfig&&(r=r||{},je(r,a.textConfig))}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,i,a,o){var s=!(t&&i);t&&t.textConfig?(this.textConfig=je({},i?this.textConfig:r.textConfig),je(this.textConfig,t.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<aI.length;c++){var f=aI[c],h=a&&nwe[f];t&&t[f]!=null?h?(u=!0,l[f]=t[f]):this[f]=t[f]:s&&r[f]!=null&&(h?(u=!0,l[f]=r[f]):this[f]=r[f])}if(!a)for(var c=0;c<this.animators.length;c++){var d=this.animators[c],v=d.targetName;d.getLoop()||d.__changeFinalValue(v?(t||r)[v]:t||r)}u&&this._transitionState(e,l,o)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Eh,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),je(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=rl;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var i=e?this[e]:this,a=new Sk(i,t,r);return e&&(a.targetName=e),this.addAnimator(a,e),a},n.prototype.addAnimator=function(e,t){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,o=on(a,e);o>=0&&a.splice(o,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,i=r.length,a=[],o=0;o<i;o++){var s=r[o];!e||e===s.scope?s.stop(t):a.push(s)}return this.animators=a,this},n.prototype.animateTo=function(e,t,r){oI(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){oI(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,i){for(var a=oI(this,t,r,i),o=0;o<a.length;o++)a[o].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=(function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.ignoreHostSilent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=rl;function t(r,i,a,o){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[a]=l[0],this[o]=l[1],this[i]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))})(),n})();Ci(oN,au);Ci(oN,Eh);function oI(n,e,t,r,i){t=t||{};var a=[];XQ(n,"",n,e,t,r,a,i);var o=a.length,s=!1,l=t.done,u=t.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),a.length>0&&t.during&&a[0].during(function(v,g){t.during(g)});for(var h=0;h<a.length;h++){var d=a[h];c&&d.done(c),f&&d.aborted(f),t.force&&d.duration(t.duration),d.start(t.easing)}return a}function sI(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function iwe(n){return lo(n[0])}function awe(n,e,t){if(lo(e[t]))if(lo(n[t])||(n[t]=[]),ds(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),sI(n[t],e[t],r))}else{var i=e[t],a=n[t],o=i.length;if(iwe(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?sI(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else sI(a,i,o);a.length=i.length}else n[t]=e[t]}function owe(n,e){return n===e||lo(n)&&lo(e)&&swe(n,e)}function swe(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function XQ(n,e,t,r,i,a,o,s){for(var l=Rn(r),u=i.duration,c=i.delay,f=i.additive,h=i.setToFinal,d=!Ft(a),v=n.animators,g=[],y=0;y<l.length;y++){var x=l[y],b=r[x];if(b!=null&&t[x]!=null&&(d||a[x]))if(Ft(b)&&!lo(b)&&!dw(b)){if(e){s||(t[x]=b,n.updateDuringAnimation(e));continue}XQ(n,x,t[x],b,i,a&&a[x],o,s)}else g.push(x);else s||(t[x]=b,n.updateDuringAnimation(e),g.push(x))}var T=g.length;if(!f&&T)for(var M=0;M<v.length;M++){var C=v[M];if(C.targetName===e){var D=C.stopTracks(g);if(D){var R=on(v,C);v.splice(R,1)}}}if(i.force||(g=Zn(g,function(B){return!owe(r[B],t[B])}),T=g.length),T>0||i.force&&!o.length){var I=void 0,L=void 0,O=void 0;if(s){L={},h&&(I={});for(var M=0;M<T;M++){var x=g[M];L[x]=t[x],h?I[x]=r[x]:t[x]=r[x]}}else if(h){O={};for(var M=0;M<T;M++){var x=g[M];O[x]=PS(t[x]),awe(t,r,x)}}var C=new Sk(t,!1,!1,f?Zn(v,function(V){return V.targetName===e}):null);C.targetName=e,i.scope&&(C.scope=i.scope),h&&I&&C.whenWithKeys(0,I,g),O&&C.whenWithKeys(0,O,g),C.whenWithKeys(u??500,s?L:r,g).delay(c||0),n.addAnimator(C,e),o.push(C)}}var zt=(function(n){Zr(e,n);function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var i=on(this._children,t);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(t,r){var i=this._children,a=i[r];if(t&&t!==this&&t.parent!==this&&t!==a){i[r]=t,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,i=this._children,a=on(i,t);return a<0?this:(i.splice(a,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var a=t[i];r&&a.removeSelfFromZr(r),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];t.call(r,o,a)}return this},e.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=t.call(r,a);a.isGroup&&!o&&a.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var r=new Wt(0,0,0,0),i=t||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(Wt.applyTransform(r,u,c),o=o||r.clone(),o.union(r)):(o=o||u.clone(),o.union(u))}}return o||r},e})(oN);zt.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var AC={},Xg={};function lwe(n){delete Xg[n]}function uwe(n){if(!n)return!1;if(typeof n=="string")return _2(n,1)<dP;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,i=0;i<r;i++)t+=_2(e[i].color,1);return t/=r,t<dP}return!1}var cwe=(function(){function n(e,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var a=new _2e,o=r.renderer||"canvas";AC[o]||(o=Rn(AC)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new AC[o](t,a,r,e),l=r.ssr||s.ssrOnly;this.storage=a,this.painter=s;var u=!Dn.node&&!Dn.worker&&!l?new $2e(s.getViewportRoot(),s.root):null,c=r.useCoarsePointer,f=c==null||c==="auto"?Dn.touchEventsSupported:!!c,h=44,d;f&&(d=At(r.pointerSize,h)),this.handler=new AQ(a,s,u,s.root,d),this.animation=new Y2e({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh())},n.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=uwe(e))},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},n.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},n.prototype.flush=function(){this._disposed||this._flush(!1)},n.prototype._flush=function(e){var t,r=ex();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=ex();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},n.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},n.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},n.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},n.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){if(!this._disposed)return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this._disposed||this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this._disposed||this.handler.off(e,t)},n.prototype.trigger=function(e,t){this._disposed||this.handler.trigger(e,t)},n.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof zt&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},n.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,lwe(this.id))},n})();function gP(n,e){var t=new cwe(pk(),n,e);return Xg[t.id]=t,t}function fwe(n){n.dispose()}function hwe(){for(var n in Xg)Xg.hasOwnProperty(n)&&Xg[n].dispose();Xg={}}function dwe(n){return Xg[n]}function qQ(n,e){AC[n]=e}var mP;function ZQ(n){if(typeof mP=="function")return mP(n)}function KQ(n){mP=n}var pwe="6.0.0";const vwe=Object.freeze(Object.defineProperty({__proto__:null,dispose:fwe,disposeAll:hwe,getElementSSRData:ZQ,getInstance:dwe,init:gP,registerPainter:qQ,registerSSRDataGetter:KQ,version:pwe},Symbol.toStringTag,{value:"Module"}));var sH=1e-4,JQ=20;function gwe(n){return n.replace(/^\s+|\s+$/g,"")}var fl=Math.min,zi=Math.max,tf=Math.abs;function er(n,e,t,r){var i=e[0],a=e[1],o=t[0],s=t[1],l=a-i,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(r)if(l>0){if(n<=i)return o;if(n>=a)return s}else{if(n>=i)return o;if(n<=a)return s}else{if(n===i)return o;if(n===a)return s}return(n-i)/l*u+o}var pt=mwe;function mwe(n,e,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return o3(n,e,t)}function o3(n,e,t){return vt(n)?gwe(n).match(/%$/)?parseFloat(n)/100*e+(t||0):parseFloat(n):n==null?NaN:+n}function ki(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),JQ),n=(+n).toFixed(e),t?n:+n}function sl(n){return n.sort(function(e,t){return e-t}),n}function Hu(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return QQ(n)}function QQ(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-r)}function wk(n,e){var t=Math.log,r=Math.LN10,i=Math.floor(t(n[1]-n[0])/r),a=Math.round(t(tf(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function ywe(n,e,t){if(!n[e])return 0;var r=$Q(n,t);return r[e]||0}function $Q(n,e){var t=eu(n,function(d,v){return d+(isNaN(v)?0:v)},0);if(t===0)return[];for(var r=Math.pow(10,e),i=$e(n,function(d){return(isNaN(d)?0:d)/t*r*100}),a=r*100,o=$e(i,function(d){return Math.floor(d)}),s=eu(o,function(d,v){return d+v},0),l=$e(i,function(d,v){return d-o[v]});s<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,h=l.length;f<h;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return $e(o,function(d){return d/r})}function xwe(n,e){var t=Math.max(Hu(n),Hu(e)),r=n+e;return t>JQ?r:ki(r,t)}var yP=9007199254740991;function Tk(n){var e=Math.PI*2;return(n%e+e)%e}function Ix(n){return n>-sH&&n<sH}var _we=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Sf(n){if(n instanceof Date)return n;if(vt(n)){var e=_we.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function e$(n){return Math.pow(10,sN(n))}function sN(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function Mk(n,e){var t=sN(n),r=Math.pow(10,t),i=n/r,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,n=a*r,t>=-20?+n.toFixed(t<0?-t:0):n}function CC(n,e){var t=(n.length-1)*e+1,r=Math.floor(t),i=+n[r-1],a=t-r;return a?i+a*(n[r]-i):i}function xP(n){n.sort(function(l,u){return s(l,u,0)?-1:1});for(var e=-1/0,t=1,r=0;r<n.length;){for(var i=n[r].interval,a=n[r].close,o=0;o<2;o++)i[o]<=e&&(i[o]=e,a[o]=o?1:1-t),e=i[o],t=a[o];i[0]===i[1]&&a[0]*a[1]!==1?n.splice(r,1):r++}return n;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function vf(n){var e=parseFloat(n);return e==n&&(e!==0||!vt(n)||n.indexOf("x")<=0)?e:NaN}function Ak(n){return!isNaN(vf(n))}function t$(){return Math.round(Math.random()*9)}function n$(n,e){return e===0?n:n$(e,n%e)}function lH(n,e){return n==null?e:e==null?n:n*e/n$(n,e)}var bwe="[ECharts] ",Swe=typeof console<"u"&&console.warn&&console.log;function wwe(n,e,t){Swe&&console[n](bwe+e)}function r$(n,e){wwe("error",n)}function tr(n){throw new Error(n)}function uH(n,e,t){return(e-n)*t+n}var i$="series\0",a$="\0_ec_\0";function Nr(n){return n instanceof Array?n:n==null?[]:[n]}function vm(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,i=t.length;r<i;r++){var a=t[r];!n.emphasis[e].hasOwnProperty(a)&&n[e].hasOwnProperty(a)&&(n.emphasis[e][a]=n[e][a])}}}var cH=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function o_(n){return Ft(n)&&!Ke(n)&&!(n instanceof Date)?n.value:n}function Twe(n){return Ft(n)&&!(n instanceof Array)}function o$(n,e,t){var r=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";n=n||[],e=(e||[]).slice();var o=Tt();J(e,function(l,u){if(!Ft(l)){e[u]=null;return}});var s=Mwe(n,o,t);return(r||i)&&Awe(s,n,o,e),r&&Cwe(s,e),r||i?Ewe(s,e,i):a&&Dwe(s,e),Nwe(s),s}function Mwe(n,e,t){var r=[];if(t==="replaceAll")return r;for(var i=0;i<n.length;i++){var a=n[i];a&&a.id!=null&&e.set(a.id,i),r.push({existing:t==="replaceMerge"||S2(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function Awe(n,e,t,r){J(r,function(i,a){if(!(!i||i.id==null)){var o=zS(i.id),s=t.get(o);if(s!=null){var l=n[s];uo(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=e[s],r[a]=null}}})}function Cwe(n,e){J(e,function(t,r){if(!(!t||t.name==null))for(var i=0;i<n.length;i++){var a=n[i].existing;if(!n[i].newOption&&a&&(a.id==null||t.id==null)&&!S2(t)&&!S2(a)&&s$("name",a,t)){n[i].newOption=t,e[r]=null;return}}})}function Ewe(n,e,t){J(e,function(r){if(r){for(var i,a=0;(i=n[a])&&(i.newOption||S2(i.existing)||i.existing&&r.id!=null&&!s$("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),a++}})}function Dwe(n,e){J(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function Nwe(n){var e=Tt();J(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),J(n,function(t){var r=t.newOption;uo(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),J(n,function(t,r){var i=t.existing,a=t.newOption,o=t.keyInfo;if(Ft(a)){if(o.name=a.name!=null?zS(a.name):i?i.name:i$+r,i)o.id=zS(i.id);else if(a.id!=null)o.id=zS(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,t)}})}function s$(n,e,t){var r=ua(e[n],null),i=ua(t[n],null);return r!=null&&i!=null&&r===i}function zS(n){return ua(n,"")}function ua(n,e){return n==null?e:vt(n)?n:Pn(n)||XE(n)?n+"":e}function Ck(n){var e=n.name;return!!(e&&e.indexOf(i$))}function S2(n){return n&&n.id!=null&&zS(n.id).indexOf(a$)===0}function Rwe(n){return a$+n}function Lwe(n,e,t){J(n,function(r){var i=r.newOption;Ft(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=Iwe(e,i,r.existing,t))})}function Iwe(n,e,t,r){var i=e.type?e.type:t?t.subType:r.determineSubType(n,e);return i}function Owe(n,e){var t={},r={};return i(n||[],t),i(e||[],r,t),[a(t),a(r)];function i(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=ua(o[u].seriesId,null);if(f==null)return;for(var h=Nr(o[u].dataIndex),d=l&&l[f],v=0,g=h.length;v<g;v++){var y=h[v];d&&d[y]?d[y]=null:(s[f]||(s[f]={}))[y]=1}}}function a(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=a(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function gm(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Ke(e.dataIndex)?$e(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Ke(e.name)?$e(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function Sn(){var n="__ec_inner_"+Pwe++;return function(e){return e[n]||(e[n]={})}}var Pwe=t$();function fx(n,e,t){var r=Ek(e,t),i=r.mainTypeSpecified,a=r.queryOptionMap,o=r.others,s=o,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var f=s_(n,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function Ek(n,e){var t;if(vt(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var i=Tt(),a={},o=!1;return J(t,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&on(e.includeMainTypes,c)<0)){o=o||!!c;var h=i.get(c)||i.set(c,{});h[f]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var di={useDefault:!0,enableAll:!1,enableNone:!1},zwe={useDefault:!1,enableAll:!0,enableNone:!0};function s_(n,e,t,r){r=r||di;var i=t.index,a=t.id,o=t.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=n.getComponent(e))?[l]:[],s}if(i==="none"||i===!1){if(r.enableNone)return s.models=[],s;i=-1}return i==="all"&&(r.enableAll?i=a=o=null:i=-1),s.models=n.queryComponents({mainType:e,index:i,id:a,name:o}),s}function l$(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function kwe(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function Bwe(n){return n==="auto"?Dn.domSupported?"html":"richText":n||"html"}function _P(n,e){var t=Tt(),r=[];return J(n,function(i){var a=e(i);(t.get(a)||(r.push(a),t.set(a,[]))).push(i)}),{keys:r,buckets:t}}function u$(n,e,t,r,i){var a=e==null||e==="auto";if(r==null)return r;if(Pn(r)){var o=uH(t||0,r,i);return ki(o,a?Math.max(Hu(t||0),Hu(r)):e)}else{if(vt(r))return i<1?t:r;for(var s=[],l=t,u=r,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var h=n.getDimensionInfo(f);if(h&&h.type==="ordinal")s[f]=(i<1&&l?l:u)[f];else{var d=l&&l[f]?l[f]:0,v=u[f],o=uH(d,v,i);s[f]=ki(o,a?Math.max(Hu(d),Hu(v)):e)}}return s}}var bp=(function(){function n(){}return n.prototype.reset=function(e,t,r,i){return this._list=e,this._step=i=i||1,this._idx=t,this._end=r??(i>0?e.length:0),this.item=null,this.key=NaN,this},n.prototype.next=function(){return(this._step>0?this._idx<this._end:this._idx>=this._end)?(this.item=this._list[this._idx],this.key=this._idx=this._idx+this._step,!0):!1},n})();function lI(n){n.option=n.parentModel=n.ecModel=null}var Uwe=".",sg="___EC__COMPONENT__CONTAINER___",c$="___EC__EXTENDED_CLASS___";function nf(n){var e={main:"",sub:""};if(n){var t=n.split(Uwe);e.main=t[0]||"",e.sub=t[1]||""}return e}function Vwe(n){uo(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function Fwe(n){return!!(n&&n[c$])}function Dk(n,e){n.$constructor=n,n.extend=function(t){var r=this,i;return Gwe(r)?i=(function(a){Oe(o,a);function o(){return a.apply(this,arguments)||this}return o})(r):(i=function(){(t.$constructor||r).apply(this,arguments)},vk(i,this)),je(i.prototype,t),i[c$]=!0,i.extend=this.extend,i.superCall=Wwe,i.superApply=Ywe,i.superClass=r,i}}function Gwe(n){return Nt(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function f$(n,e){n.extend=e.extend}var Hwe=Math.round(Math.random()*10);function jwe(n){var e=["__\0is_clz",Hwe++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function Wwe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function Ywe(n,e,t){return this.superClass.prototype[e].apply(n,t)}function lN(n){var e={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){Vwe(i),r.prototype.type=i;var a=nf(i);if(!a.sub)e[a.main]=r;else if(a.sub!==sg){var o=t(a);o[a.sub]=r}}return r},n.getClass=function(r,i,a){var o=e[r];if(o&&o[sg]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return o},n.getClassesByMainType=function(r){var i=nf(r),a=[],o=e[i.main];return o&&o[sg]?J(o,function(s,l){l!==sg&&a.push(s)}):a.push(o),a},n.hasClass=function(r){var i=nf(r);return!!e[i.main]},n.getAllClassMainTypes=function(){var r=[];return J(e,function(i,a){r.push(a)}),r},n.hasSubTypes=function(r){var i=nf(r),a=e[i.main];return a&&a[sg]};function t(r){var i=e[r.main];return(!i||!i[sg])&&(i=e[r.main]={},i[sg]=!0),i}}function mm(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,i,a){for(var o={},s=0;s<n.length;s++){var l=n[s][1];if(!(i&&on(i,l)>=0||a&&on(a,l)<0)){var u=r.getShallow(l,e);u!=null&&(o[n[s][0]]=u)}}return o}}var Xwe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],qwe=mm(Xwe),Zwe=(function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return qwe(this,e,t)},n})(),bP=new Rx(50);function Kwe(n){if(typeof n=="string"){var e=bP.get(n);return e&&e.image}else return n}function Nk(n,e,t,r,i){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var a=bP.get(n),o={hostEl:t,cb:r,cbPayload:i};return a?(e=a.image,!uN(e)&&a.pending.push(o)):(e=ks.loadImage(n,fH,fH),e.__zrImageSrc=n,bP.put(n,e.__cachedImgObj={image:e,pending:[o]})),e}else return n;else return e}function fH(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function uN(n){return n&&n.width&&n.height}var uI=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Jwe(n,e,t,r,i){var a={};return h$(a,n,e,t,r,i),a.text}function h$(n,e,t,r,i,a){if(!t){n.text="",n.isTruncated=!1;return}var o=(e+"").split(`
`);a=d$(t,r,i,a);for(var s=!1,l={},u=0,c=o.length;u<c;u++)p$(l,o[u],a),o[u]=l.textLine,s=s||l.isTruncated;n.text=o.join(`
`),n.isTruncated=s}function d$(n,e,t,r){r=r||{};var i=je({},r);t=At(t,"..."),i.maxIterations=At(r.maxIterations,2);var a=i.minChar=At(r.minChar,0),o=i.fontMeasureInfo=ff(e),s=o.asciiCharWidth;i.placeholder=At(r.placeholder,"");for(var l=n=Math.max(0,n-1),u=0;u<a&&l>=s;u++)l-=s;var c=hf(o,t);return c>l&&(t="",c=0),l=n-c,i.ellipsis=t,i.ellipsisWidth=c,i.contentWidth=l,i.containerWidth=n,i}function p$(n,e,t){var r=t.containerWidth,i=t.contentWidth,a=t.fontMeasureInfo;if(!r){n.textLine="",n.isTruncated=!1;return}var o=hf(a,e);if(o<=r){n.textLine=e,n.isTruncated=!1;return}for(var s=0;;s++){if(o<=i||s>=t.maxIterations){e+=t.ellipsis;break}var l=s===0?Qwe(e,i,a):o>0?Math.floor(e.length*i/o):0;e=e.substr(0,l),o=hf(a,e)}e===""&&(e=t.placeholder),n.textLine=e,n.isTruncated=!0}function Qwe(n,e,t){for(var r=0,i=0,a=n.length;i<a&&r<e;i++)r+=YQ(t,n.charCodeAt(i));return i}function $we(n,e,t,r){var i=Rk(n),a=e.overflow,o=e.padding,s=o?o[1]+o[3]:0,l=o?o[0]+o[2]:0,u=e.font,c=a==="truncate",f=yw(u),h=At(e.lineHeight,f),d=e.lineOverflow==="truncate",v=!1,g=e.width;g==null&&t!=null&&(g=t-s);var y=e.height;y==null&&r!=null&&(y=r-l);var x;g!=null&&(a==="break"||a==="breakAll")?x=i?v$(i,e.font,g,a==="breakAll",0).lines:[]:x=i?i.split(`
`):[];var b=x.length*h;if(y==null&&(y=b),b>y&&d){var T=Math.floor(y/h);v=v||x.length>T,x=x.slice(0,T),b=x.length*h}if(i&&c&&g!=null)for(var M=d$(g,u,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),C={},D=0;D<x.length;D++)p$(C,x[D],M),x[D]=C.textLine,v=v||C.isTruncated;for(var R=y,I=0,L=ff(u),D=0;D<x.length;D++)I=Math.max(hf(L,x[D]),I);g==null&&(g=I);var O=g;return R+=l,O+=s,{lines:x,height:y,outerWidth:O,outerHeight:R,lineHeight:h,calculatedLineHeight:f,contentWidth:I,contentHeight:b,width:g,isTruncated:v}}var eTe=(function(){function n(){}return n})(),hH=(function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n})(),tTe=(function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return n})();function nTe(n,e,t,r,i){var a=new tTe,o=Rk(n);if(!o)return a;var s=e.padding,l=s?s[1]+s[3]:0,u=s?s[0]+s[2]:0,c=e.width;c==null&&t!=null&&(c=t-l);var f=e.height;f==null&&r!=null&&(f=r-u);for(var h=e.overflow,d=(h==="break"||h==="breakAll")&&c!=null?{width:c,accumWidth:0,breakAll:h==="breakAll"}:null,v=uI.lastIndex=0,g;(g=uI.exec(o))!=null;){var y=g.index;y>v&&cI(a,o.substring(v,y),e,d),cI(a,g[2],e,d,g[1]),v=uI.lastIndex}v<o.length&&cI(a,o.substring(v,o.length),e,d);var x=[],b=0,T=0,M=h==="truncate",C=e.lineOverflow==="truncate",D={};function R(pe,xe,Te){pe.width=xe,pe.lineHeight=Te,b+=Te,T=Math.max(T,xe)}e:for(var I=0;I<a.lines.length;I++){for(var L=a.lines[I],O=0,B=0,V=0;V<L.tokens.length;V++){var F=L.tokens[V],k=F.styleName&&e.rich[F.styleName]||{},Y=F.textPadding=k.padding,H=Y?Y[1]+Y[3]:0,W=F.font=k.font||e.font;F.contentHeight=yw(W);var q=At(k.height,F.contentHeight);if(F.innerHeight=q,Y&&(q+=Y[0]+Y[2]),F.height=q,F.lineHeight=zs(k.lineHeight,e.lineHeight,q),F.align=k&&k.align||i,F.verticalAlign=k&&k.verticalAlign||"middle",C&&f!=null&&b+F.lineHeight>f){var K=a.lines.length;V>0?(L.tokens=L.tokens.slice(0,V),R(L,B,O),a.lines=a.lines.slice(0,I+1)):a.lines=a.lines.slice(0,I),a.isTruncated=a.isTruncated||a.lines.length<K;break e}var re=k.width,j=re==null||re==="auto";if(typeof re=="string"&&re.charAt(re.length-1)==="%")F.percentWidth=re,x.push(F),F.contentWidth=hf(ff(W),F.text);else{if(j){var Q=k.backgroundColor,ne=Q&&Q.image;ne&&(ne=Kwe(ne),uN(ne)&&(F.width=Math.max(F.width,ne.width*q/ne.height)))}var se=M&&c!=null?c-B:null;se!=null&&se<F.width?!j||se<H?(F.text="",F.width=F.contentWidth=0):(h$(D,F.text,se-H,W,e.ellipsis,{minChar:e.truncateMinChar}),F.text=D.text,a.isTruncated=a.isTruncated||D.isTruncated,F.width=F.contentWidth=hf(ff(W),F.text)):F.contentWidth=hf(ff(W),F.text)}F.width+=H,B+=F.width,k&&(O=Math.max(O,F.lineHeight))}R(L,B,O)}a.outerWidth=a.width=At(c,T),a.outerHeight=a.height=At(f,b),a.contentHeight=b,a.contentWidth=T,a.outerWidth+=l,a.outerHeight+=u;for(var I=0;I<x.length;I++){var F=x[I],he=F.percentWidth;F.width=parseInt(he,10)/100*a.width}return a}function cI(n,e,t,r,i){var a=e==="",o=i&&t.rich[i]||{},s=n.lines,l=o.font||t.font,u=!1,c,f;if(r){var h=o.padding,d=h?h[1]+h[3]:0;if(o.width!=null&&o.width!=="auto"){var v=ec(o.width,r.width)+d;s.length>0&&v+r.accumWidth>r.width&&(c=e.split(`
`),u=!0),r.accumWidth=v}else{var g=v$(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=g.accumWidth+d,f=g.linesWidths,c=g.lines}}c||(c=e.split(`
`));for(var y=ff(l),x=0;x<c.length;x++){var b=c[x],T=new eTe;if(T.styleName=i,T.text=b,T.isLineHolder=!b&&!a,typeof o.width=="number"?T.width=o.width:T.width=f?f[x]:hf(y,b),!x&&!u){var M=(s[s.length-1]||(s[0]=new hH)).tokens,C=M.length;C===1&&M[0].isLineHolder?M[0]=T:(b||!C||a)&&M.push(T)}else s.push(new hH([T]))}}function rTe(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var iTe=eu(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function aTe(n){return rTe(n)?!!iTe[n]:!0}function v$(n,e,t,r,i){for(var a=[],o=[],s="",l="",u=0,c=0,f=ff(e),h=0;h<n.length;h++){var d=n.charAt(h);if(d===`
`){l&&(s+=l,c+=u),a.push(s),o.push(c),s="",l="",u=0,c=0;continue}var v=YQ(f,d.charCodeAt(0)),g=r?!1:!aTe(d);if(a.length?c+v>t:i+c+v>t){c?(s||l)&&(g?(s||(s=l,l="",u=0,c=u),a.push(s),o.push(c-u),l+=d,u+=v,s="",c=u):(l&&(s+=l,l="",u=0),a.push(s),o.push(c),s=d,c=v)):g?(a.push(l),o.push(u),l=d,u=v):(a.push(d),o.push(v));continue}c+=v,g?(l+=d,u+=v):(l&&(s+=l,l="",u=0),s+=d)}return l&&(s+=l),s&&(a.push(s),o.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}function dH(n,e,t,r,i,a){if(n.baseX=t,n.baseY=r,n.outerWidth=n.outerHeight=null,!!e){var o=e.width*2,s=e.height*2;Wt.set(pH,Lx(t,o,i),rm(r,s,a),o,s),Wt.intersect(e,pH,null,vH);var l=vH.outIntersectRect;n.outerWidth=l.width,n.outerHeight=l.height,n.baseX=Lx(l.x,l.width,i,!0),n.baseY=rm(l.y,l.height,a,!0)}}var pH=new Wt(0,0,0,0),vH={outIntersectRect:{},clamp:!0};function Rk(n){return n!=null?n+="":n=""}function oTe(n){var e=Rk(n.text),t=n.font,r=hf(ff(t),e),i=yw(t);return SP(n,r,i,null)}function SP(n,e,t,r){var i=new Wt(Lx(n.x||0,e,n.textAlign),rm(n.y||0,t,n.textBaseline),e,t),a=r??(g$(n)?n.lineWidth:0);return a>0&&(i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a),i}function g$(n){var e=n.stroke;return e!=null&&e!=="none"&&n.lineWidth>0}var wP="__zr_style_"+Math.round(Math.random()*10),im={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},cN={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};im[wP]=!0;var gH=["z","z2","invisible"],sTe=["invisible"],nu=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var r=Rn(t),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(t[a]):n.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&lTe(this,t,r)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths&&this.__clipPaths.length){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Wt(0,0,0,0)),r?Wt.applyTransform(t,i,r):t.copy(i),(o||s||l)&&(t.width+=o*2+Math.abs(s),t.height+=o*2+Math.abs(l),t.x=Math.min(t.x,t.x+s-o),t.y=Math.min(t.y,t.y+l-o));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Wt(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){t!=="style"?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return typeof t=="string"?this.style[t]=r:je(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=tS,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&tS)},e.prototype.styleUpdated=function(){this.__dirty&=~tS},e.prototype.createStyle=function(t){return vw(im,t)},e.prototype.useStyle=function(t){t[wP]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[wP]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,gH)},e.prototype._applyStateObj=function(t,r,i,a,o,s){n.prototype._applyStateObj.call(this,t,r,i,a,o,s);var l=!(r&&a),u;if(r&&r.style?o?a?u=r.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,r.style)):l&&(u=i.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=Rn(c),h=0;h<f.length;h++){var d=f[h];d in u&&(u[d]=u[d],this.style[d]=c[d])}for(var v=Rn(u),h=0;h<v.length;h++){var d=v[h];this.style[d]=this.style[d]}this._transitionState(t,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var g=this.__inHover?sTe:gH,h=0;h<g.length;h++){var d=g[h];r&&r[d]!=null?this[d]=r[d]:l&&i[d]!=null&&(this[d]=i[d])}},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var o=t[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(t,r){return je(t,r),t},e.prototype.getAnimationStyleProps=function(){return cN},e.initDefaultProps=(function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=rl|tS})(),e})(oN),fI=new Wt(0,0,0,0),hI=new Wt(0,0,0,0);function lTe(n,e,t){return fI.copy(n.getBoundingRect()),n.transform&&fI.applyTransform(n.transform),hI.width=e,hI.height=t,!fI.intersect(hI)}var Rs=Math.min,Ls=Math.max,dI=Math.sin,pI=Math.cos,lg=Math.PI*2,fA=jp(),hA=jp(),dA=jp();function fN(n,e,t){if(n.length!==0){for(var r=n[0],i=r[0],a=r[0],o=r[1],s=r[1],l=1;l<n.length;l++)r=n[l],i=Rs(i,r[0]),a=Ls(a,r[0]),o=Rs(o,r[1]),s=Ls(s,r[1]);e[0]=i,e[1]=o,t[0]=a,t[1]=s}}function mH(n,e,t,r,i,a){i[0]=Rs(n,t),i[1]=Rs(e,r),a[0]=Ls(n,t),a[1]=Ls(e,r)}var yH=[],xH=[];function uTe(n,e,t,r,i,a,o,s,l,u){var c=RQ,f=Sa,h=c(n,t,i,o,yH);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<h;d++){var v=f(n,t,i,o,yH[d]);l[0]=Rs(v,l[0]),u[0]=Ls(v,u[0])}h=c(e,r,a,s,xH);for(var d=0;d<h;d++){var g=f(e,r,a,s,xH[d]);l[1]=Rs(g,l[1]),u[1]=Ls(g,u[1])}l[0]=Rs(n,l[0]),u[0]=Ls(n,u[0]),l[0]=Rs(o,l[0]),u[0]=Ls(o,u[0]),l[1]=Rs(e,l[1]),u[1]=Ls(e,u[1]),l[1]=Rs(s,l[1]),u[1]=Ls(s,u[1])}function cTe(n,e,t,r,i,a,o,s){var l=IQ,u=Wa,c=Ls(Rs(l(n,t,i),1),0),f=Ls(Rs(l(e,r,a),1),0),h=u(n,t,i,c),d=u(e,r,a,f);o[0]=Rs(n,i,h),o[1]=Rs(e,a,d),s[0]=Ls(n,i,h),s[1]=Ls(e,a,d)}function fTe(n,e,t,r,i,a,o,s,l){var u=Ah,c=Ch,f=Math.abs(i-a);if(f%lg<1e-4&&f>1e-4){s[0]=n-t,s[1]=e-r,l[0]=n+t,l[1]=e+r;return}if(fA[0]=pI(i)*t+n,fA[1]=dI(i)*r+e,hA[0]=pI(a)*t+n,hA[1]=dI(a)*r+e,u(s,fA,hA),c(l,fA,hA),i=i%lg,i<0&&(i=i+lg),a=a%lg,a<0&&(a=a+lg),i>a&&!o?a+=lg:i<a&&o&&(i+=lg),o){var h=a;a=i,i=h}for(var d=0;d<a;d+=Math.PI/2)d>i&&(dA[0]=pI(d)*t+n,dA[1]=dI(d)*r+e,u(s,dA,s),c(l,dA,l))}var Pr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ug=[],cg=[],Uc=[],Xd=[],Vc=[],Fc=[],vI=Math.min,gI=Math.max,fg=Math.cos,hg=Math.sin,ch=Math.abs,TP=Math.PI,tp=TP*2,mI=typeof Float32Array<"u",xb=[];function yI(n){var e=Math.round(n/TP*1e8)/1e8;return e%2*TP}function hN(n,e){var t=yI(n[0]);t<0&&(t+=tp);var r=t-n[0],i=n[1];i+=r,!e&&i-t>=tp?i=t+tp:e&&t-i>=tp?i=t-tp:!e&&t>i?i=t+(tp-yI(t-i)):e&&t<i&&(i=t-(tp-yI(i-t))),n[0]=t,n[1]=i}var gf=(function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){r=r||0,r>0&&(this._ux=ch(r/r3/e)||0,this._uy=ch(r/r3/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Pr.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=ch(e-this._xi),i=ch(t-this._yi),a=r>this._ux||i>this._uy;if(this.addData(Pr.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var o=r*r+i*i;o>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=o)}return this},n.prototype.bezierCurveTo=function(e,t,r,i,a,o){return this._drawPendingPt(),this.addData(Pr.C,e,t,r,i,a,o),this._ctx&&this._ctx.bezierCurveTo(e,t,r,i,a,o),this._xi=a,this._yi=o,this},n.prototype.quadraticCurveTo=function(e,t,r,i){return this._drawPendingPt(),this.addData(Pr.Q,e,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(e,t,r,i,a,o){this._drawPendingPt(),xb[0]=i,xb[1]=a,hN(xb,o),i=xb[0],a=xb[1];var s=a-i;return this.addData(Pr.A,e,t,r,r,i,s,0,o?0:1),this._ctx&&this._ctx.arc(e,t,r,i,a,o),this._xi=fg(a)*r+e,this._yi=hg(a)*r+t,this},n.prototype.arcTo=function(e,t,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,i,a),this},n.prototype.rect=function(e,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,i),this.addData(Pr.R,e,t,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Pr.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){if(this._saveData){var t=e.length;!(this.data&&this.data.length===t)&&mI&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t}},n.prototype.appendPath=function(e){if(this._saveData){e instanceof Array||(e=[e]);for(var t=e.length,r=0,i=this._len,a=0;a<t;a++)r+=e[a].len();var o=this.data;if(mI&&(o instanceof Float32Array||!o)&&(this.data=new Float32Array(i+r),i>0&&o))for(var s=0;s<i;s++)this.data[s]=o[s];for(var a=0;a<t;a++)for(var l=e[a].data,s=0;s<l.length;s++)this.data[i++]=l[s];this._len=i}},n.prototype.addData=function(e,t,r,i,a,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,mI&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){Uc[0]=Uc[1]=Vc[0]=Vc[1]=Number.MAX_VALUE,Xd[0]=Xd[1]=Fc[0]=Fc[1]=-Number.MAX_VALUE;var e=this.data,t=0,r=0,i=0,a=0,o;for(o=0;o<this._len;){var s=e[o++],l=o===1;switch(l&&(t=e[o],r=e[o+1],i=t,a=r),s){case Pr.M:t=i=e[o++],r=a=e[o++],Vc[0]=i,Vc[1]=a,Fc[0]=i,Fc[1]=a;break;case Pr.L:mH(t,r,e[o],e[o+1],Vc,Fc),t=e[o++],r=e[o++];break;case Pr.C:uTe(t,r,e[o++],e[o++],e[o++],e[o++],e[o],e[o+1],Vc,Fc),t=e[o++],r=e[o++];break;case Pr.Q:cTe(t,r,e[o++],e[o++],e[o],e[o+1],Vc,Fc),t=e[o++],r=e[o++];break;case Pr.A:var u=e[o++],c=e[o++],f=e[o++],h=e[o++],d=e[o++],v=e[o++]+d;o+=1;var g=!e[o++];l&&(i=fg(d)*f+u,a=hg(d)*h+c),fTe(u,c,f,h,d,v,g,Vc,Fc),t=fg(v)*f+u,r=hg(v)*h+c;break;case Pr.R:i=t=e[o++],a=r=e[o++];var y=e[o++],x=e[o++];mH(i,a,i+y,a+x,Vc,Fc);break;case Pr.Z:t=i,r=a;break}Ah(Uc,Uc,Vc),Ch(Xd,Xd,Fc)}return o===0&&(Uc[0]=Uc[1]=Xd[0]=Xd[1]=0),new Wt(Uc[0],Uc[1],Xd[0]-Uc[0],Xd[1]-Uc[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,h=0;h<t;){var d=e[h++],v=h===1;v&&(a=e[h],o=e[h+1],s=a,l=o);var g=-1;switch(d){case Pr.M:a=s=e[h++],o=l=e[h++];break;case Pr.L:{var y=e[h++],x=e[h++],b=y-a,T=x-o;(ch(b)>r||ch(T)>i||h===t-1)&&(g=Math.sqrt(b*b+T*T),a=y,o=x);break}case Pr.C:{var M=e[h++],C=e[h++],y=e[h++],x=e[h++],D=e[h++],R=e[h++];g=b2e(a,o,M,C,y,x,D,R,10),a=D,o=R;break}case Pr.Q:{var M=e[h++],C=e[h++],y=e[h++],x=e[h++];g=w2e(a,o,M,C,y,x,10),a=y,o=x;break}case Pr.A:var I=e[h++],L=e[h++],O=e[h++],B=e[h++],V=e[h++],F=e[h++],k=F+V;h+=1,v&&(s=fg(V)*O+I,l=hg(V)*B+L),g=gI(O,B)*vI(tp,Math.abs(F)),a=fg(k)*O+I,o=hg(k)*B+L;break;case Pr.R:{s=a=e[h++],l=o=e[h++];var Y=e[h++],H=e[h++];g=Y*2+H*2;break}case Pr.Z:{var b=s-a,T=l-o;g=Math.sqrt(b*b+T*T),a=s,o=l;break}}g>=0&&(u[f++]=g,c+=g)}return this._pathLen=c,c},n.prototype.rebuildPath=function(e,t){var r=this.data,i=this._ux,a=this._uy,o=this._len,s,l,u,c,f,h,d=t<1,v,g,y=0,x=0,b,T=0,M,C;if(!(d&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,g=this._pathLen,b=t*g,!b)))e:for(var D=0;D<o;){var R=r[D++],I=D===1;switch(I&&(u=r[D],c=r[D+1],s=u,l=c),R!==Pr.L&&T>0&&(e.lineTo(M,C),T=0),R){case Pr.M:s=u=r[D++],l=c=r[D++],e.moveTo(u,c);break;case Pr.L:{f=r[D++],h=r[D++];var L=ch(f-u),O=ch(h-c);if(L>i||O>a){if(d){var B=v[x++];if(y+B>b){var V=(b-y)/B;e.lineTo(u*(1-V)+f*V,c*(1-V)+h*V);break e}y+=B}e.lineTo(f,h),u=f,c=h,T=0}else{var F=L*L+O*O;F>T&&(M=f,C=h,T=F)}break}case Pr.C:{var k=r[D++],Y=r[D++],H=r[D++],W=r[D++],q=r[D++],K=r[D++];if(d){var B=v[x++];if(y+B>b){var V=(b-y)/B;Lp(u,k,H,q,V,ug),Lp(c,Y,W,K,V,cg),e.bezierCurveTo(ug[1],cg[1],ug[2],cg[2],ug[3],cg[3]);break e}y+=B}e.bezierCurveTo(k,Y,H,W,q,K),u=q,c=K;break}case Pr.Q:{var k=r[D++],Y=r[D++],H=r[D++],W=r[D++];if(d){var B=v[x++];if(y+B>b){var V=(b-y)/B;m2(u,k,H,V,ug),m2(c,Y,W,V,cg),e.quadraticCurveTo(ug[1],cg[1],ug[2],cg[2]);break e}y+=B}e.quadraticCurveTo(k,Y,H,W),u=H,c=W;break}case Pr.A:var re=r[D++],j=r[D++],Q=r[D++],ne=r[D++],se=r[D++],he=r[D++],pe=r[D++],xe=!r[D++],Te=Q>ne?Q:ne,Me=ch(Q-ne)>.001,Re=se+he,Ue=!1;if(d){var B=v[x++];y+B>b&&(Re=se+he*(b-y)/B,Ue=!0),y+=B}if(Me&&e.ellipse?e.ellipse(re,j,Q,ne,pe,se,Re,xe):e.arc(re,j,Te,se,Re,xe),Ue)break e;I&&(s=fg(se)*Q+re,l=hg(se)*ne+j),u=fg(Re)*Q+re,c=hg(Re)*ne+j;break;case Pr.R:s=u=r[D],l=c=r[D+1],f=r[D++],h=r[D++];var et=r[D++],ct=r[D++];if(d){var B=v[x++];if(y+B>b){var X=b-y;e.moveTo(f,h),e.lineTo(f+vI(X,et),h),X-=et,X>0&&e.lineTo(f+et,h+vI(X,ct)),X-=ct,X>0&&e.lineTo(f+gI(et-X,0),h+ct),X-=et,X>0&&e.lineTo(f,h+gI(ct-X,0));break e}y+=B}e.rect(f,h,et,ct);break;case Pr.Z:if(d){var B=v[x++];if(y+B>b){var V=(b-y)/B;e.lineTo(u*(1-V)+s*V,c*(1-V)+l*V);break e}y+=B}e.closePath(),u=s,c=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.prototype.canSave=function(){return!!this._saveData},n.CMD=Pr,n.initDefaultProps=(function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),n})();function ip(n,e,t,r,i,a,o){if(i===0)return!1;var s=i,l=0,u=n;if(o>e+s&&o>r+s||o<e-s&&o<r-s||a>n+s&&a>t+s||a<n-s&&a<t-s)return!1;if(n!==t)l=(e-r)/(n-t),u=(n*r-t*e)/(n-t);else return Math.abs(a-n)<=s/2;var c=l*a-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function hTe(n,e,t,r,i,a,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>e+f&&c>r+f&&c>a+f&&c>s+f||c<e-f&&c<r-f&&c<a-f&&c<s-f||u>n+f&&u>t+f&&u>i+f&&u>o+f||u<n-f&&u<t-f&&u<i-f&&u<o-f)return!1;var h=LQ(n,e,t,r,i,a,o,s,u,c,null);return h<=f/2}function m$(n,e,t,r,i,a,o,s,l){if(o===0)return!1;var u=o;if(l>e+u&&l>r+u&&l>a+u||l<e-u&&l<r-u&&l<a-u||s>n+u&&s>t+u&&s>i+u||s<n-u&&s<t-u&&s<i-u)return!1;var c=OQ(n,e,t,r,i,a,s,l,null);return c<=u/2}var _H=Math.PI*2;function ll(n){return n%=_H,n<0&&(n+=_H),n}var _b=Math.PI*2;function dTe(n,e,t,r,i,a,o,s,l){if(o===0)return!1;var u=o;s-=n,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(r-i)%_b<1e-4)return!0;if(a){var f=r;r=ll(i),i=ll(f)}else r=ll(r),i=ll(i);r>i&&(i+=_b);var h=Math.atan2(l,s);return h<0&&(h+=_b),h>=r&&h<=i||h+_b>=r&&h+_b<=i}function xh(n,e,t,r,i,a){if(a>e&&a>r||a<e&&a<r||r===e)return 0;var o=(a-e)/(r-e),s=r<e?1:-1;(o===1||o===0)&&(s=r<e?.5:-.5);var l=o*(t-n)+n;return l===i?1/0:l>i?s:0}var qd=gf.CMD,dg=Math.PI*2,pTe=1e-4;function vTe(n,e){return Math.abs(n-e)<pTe}var ss=[-1,-1,-1],jl=[-1,-1];function gTe(){var n=jl[0];jl[0]=jl[1],jl[1]=n}function mTe(n,e,t,r,i,a,o,s,l,u){if(u>e&&u>r&&u>a&&u>s||u<e&&u<r&&u<a&&u<s)return 0;var c=$E(e,r,a,s,u,ss);if(c===0)return 0;for(var f=0,h=-1,d=void 0,v=void 0,g=0;g<c;g++){var y=ss[g],x=y===0||y===1?.5:1,b=Sa(n,t,i,o,y);b<l||(h<0&&(h=RQ(e,r,a,s,jl),jl[1]<jl[0]&&h>1&&gTe(),d=Sa(e,r,a,s,jl[0]),h>1&&(v=Sa(e,r,a,s,jl[1]))),h===2?y<jl[0]?f+=d<e?x:-x:y<jl[1]?f+=v<d?x:-x:f+=s<v?x:-x:y<jl[0]?f+=d<e?x:-x:f+=s<d?x:-x)}return f}function yTe(n,e,t,r,i,a,o,s){if(s>e&&s>r&&s>a||s<e&&s<r&&s<a)return 0;var l=S2e(e,r,a,s,ss);if(l===0)return 0;var u=IQ(e,r,a);if(u>=0&&u<=1){for(var c=0,f=Wa(e,r,a,u),h=0;h<l;h++){var d=ss[h]===0||ss[h]===1?.5:1,v=Wa(n,t,i,ss[h]);v<o||(ss[h]<u?c+=f<e?d:-d:c+=a<f?d:-d)}return c}else{var d=ss[0]===0||ss[0]===1?.5:1,v=Wa(n,t,i,ss[0]);return v<o?0:a<e?d:-d}}function xTe(n,e,t,r,i,a,o,s){if(s-=e,s>t||s<-t)return 0;var l=Math.sqrt(t*t-s*s);ss[0]=-l,ss[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u>=dg-1e-4){r=0,i=dg;var c=a?1:-1;return o>=ss[0]+n&&o<=ss[1]+n?c:0}if(r>i){var f=r;r=i,i=f}r<0&&(r+=dg,i+=dg);for(var h=0,d=0;d<2;d++){var v=ss[d];if(v+n>o){var g=Math.atan2(s,v),c=a?1:-1;g<0&&(g=dg+g),(g>=r&&g<=i||g+dg>=r&&g+dg<=i)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),h+=c)}}return h}function y$(n,e,t,r,i){for(var a=n.data,o=n.len(),s=0,l=0,u=0,c=0,f=0,h,d,v=0;v<o;){var g=a[v++],y=v===1;switch(g===qd.M&&v>1&&(t||(s+=xh(l,u,c,f,r,i))),y&&(l=a[v],u=a[v+1],c=l,f=u),g){case qd.M:c=a[v++],f=a[v++],l=c,u=f;break;case qd.L:if(t){if(ip(l,u,a[v],a[v+1],e,r,i))return!0}else s+=xh(l,u,a[v],a[v+1],r,i)||0;l=a[v++],u=a[v++];break;case qd.C:if(t){if(hTe(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],e,r,i))return!0}else s+=mTe(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],r,i)||0;l=a[v++],u=a[v++];break;case qd.Q:if(t){if(m$(l,u,a[v++],a[v++],a[v],a[v+1],e,r,i))return!0}else s+=yTe(l,u,a[v++],a[v++],a[v],a[v+1],r,i)||0;l=a[v++],u=a[v++];break;case qd.A:var x=a[v++],b=a[v++],T=a[v++],M=a[v++],C=a[v++],D=a[v++];v+=1;var R=!!(1-a[v++]);h=Math.cos(C)*T+x,d=Math.sin(C)*M+b,y?(c=h,f=d):s+=xh(l,u,h,d,r,i);var I=(r-x)*M/T+x;if(t){if(dTe(x,b,M,C,C+D,R,e,I,i))return!0}else s+=xTe(x,b,M,C,C+D,R,I,i);l=Math.cos(C+D)*T+x,u=Math.sin(C+D)*M+b;break;case qd.R:c=l=a[v++],f=u=a[v++];var L=a[v++],O=a[v++];if(h=c+L,d=f+O,t){if(ip(c,f,h,f,e,r,i)||ip(h,f,h,d,e,r,i)||ip(h,d,c,d,e,r,i)||ip(c,d,c,f,e,r,i))return!0}else s+=xh(h,f,h,d,r,i),s+=xh(c,d,c,f,r,i);break;case qd.Z:if(t){if(ip(l,u,c,f,e,r,i))return!0}else s+=xh(l,u,c,f,r,i);l=c,u=f;break}}return!t&&!vTe(u,f)&&(s+=xh(l,u,c,f,r,i)||0),s!==0}function _Te(n,e,t){return y$(n,0,!1,e,t)}function bTe(n,e,t,r){return y$(n,e,!0,t,r)}var s3=Vt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},im),STe={style:Vt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},cN.style)},xI=pf.concat(["invisible","culling","z","z2","zlevel","parent"]),Mn=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var s=0;s<xI.length;++s)i[xI[s]]=this[xI[s]];i.__dirty|=rl}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=Rn(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var o=r[a],s=t[o];o==="style"?this.style?je(this.style,s):this.useStyle(s):o==="shape"?je(this.shape,s):n.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(vt(t)){var r=_2(t,0);return r>.5?pP:r>.2?ewe:vP}else if(t)return vP}return pP},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(vt(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=_2(t,0)<dP;if(a===o)return r}},e.prototype.buildPath=function(t,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~Wy},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new gf(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&Wy)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){s.copy(t);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return t},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect(),o=this.style;if(t=i[0],r=i[1],a.contain(t,r)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),bTe(s,l/u,t,r)))return!0}if(this.hasFill())return _Te(s,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Wy,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){t==="shape"?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=r:je(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Wy)},e.prototype.createStyle=function(t){return vw(s3,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=je({},this.shape))},e.prototype._applyStateObj=function(t,r,i,a,o,s){n.prototype._applyStateObj.call(this,t,r,i,a,o,s);var l=!(r&&a),u;if(r&&r.shape?o?a?u=r.shape:(u=je({},i.shape),je(u,r.shape)):(u=je({},a?this.shape:i.shape),je(u,r.shape)):l&&(u=i.shape),u)if(o){this.shape=je({},this.shape);for(var c={},f=Rn(u),h=0;h<f.length;h++){var d=f[h];typeof u[d]=="object"?this.shape[d]=u[d]:c[d]=u[d]}this._transitionState(t,{shape:c},s)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var o=t[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return STe},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=(function(a){Zr(o,a);function o(s){var l=a.call(this,s)||this;return t.init&&t.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return Pt(t.style)},o.prototype.getDefaultShape=function(){return Pt(t.shape)},o})(e);for(var i in t)typeof t[i]=="function"&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=(function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=rl|tS|Wy})(),e})(nu),wTe=Vt({strokeFirst:!0,font:Fh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},s3),Ox=(function(n){Zr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){return g$(this.style)},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(t){return vw(wTe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){return this._rect||(this._rect=oTe(this.style)),this._rect},e.initDefaultProps=(function(){var t=e.prototype;t.dirtyRectTolerance=10})(),e})(nu);Ox.prototype.type="tspan";var TTe=Vt({x:0,y:0},im),MTe={style:Vt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},cN.style)};function ATe(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var Ra=(function(n){Zr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return vw(TTe,t)},e.prototype._getSize=function(t){var r=this.style,i=r[t];if(i!=null)return i;var a=ATe(r.image)?r.image:this.__image;if(!a)return 0;var o=t==="width"?"height":"width",s=r[o];return s==null?a[t]:a[t]/a[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return MTe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Wt(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e})(nu);Ra.prototype.type="image";function CTe(n,e){var t=e.x,r=e.y,i=e.width,a=e.height,o=e.r,s,l,u,c;i<0&&(t=t+i,i=-i),a<0&&(r=r+a,a=-a),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>i&&(f=s+l,s*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),s+c>a&&(f=s+c,s*=a/f,c*=a/f),n.moveTo(t+s,r),n.lineTo(t+i-l,r),l!==0&&n.arc(t+i-l,r+l,l,-Math.PI/2,0),n.lineTo(t+i,r+a-u),u!==0&&n.arc(t+i-u,r+a-u,u,0,Math.PI/2),n.lineTo(t+c,r+a),c!==0&&n.arc(t+c,r+a-c,c,Math.PI/2,Math.PI),n.lineTo(t,r+s),s!==0&&n.arc(t+s,r+s,s,Math.PI,Math.PI*1.5)}var tx=Math.round;function dN(n,e,t){if(e){var r=e.x1,i=e.x2,a=e.y1,o=e.y2;n.x1=r,n.x2=i,n.y1=a,n.y2=o;var s=t&&t.lineWidth;return s&&(tx(r*2)===tx(i*2)&&(n.x1=n.x2=ul(r,s,!0)),tx(a*2)===tx(o*2)&&(n.y1=n.y2=ul(a,s,!0))),n}}function x$(n,e,t){if(e){var r=e.x,i=e.y,a=e.width,o=e.height;n.x=r,n.y=i,n.width=a,n.height=o;var s=t&&t.lineWidth;return s&&(n.x=ul(r,s,!0),n.y=ul(i,s,!0),n.width=Math.max(ul(r+a,s,!1)-n.x,a===0?0:1),n.height=Math.max(ul(i+o,s,!1)-n.y,o===0?0:1)),n}}function ul(n,e,t){if(!e)return n;var r=tx(n*2);return(r+tx(e))%2===0?r/2:(r+(t?1:-1))/2}var ETe=(function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n})(),DTe={},mn=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new ETe},e.prototype.buildPath=function(t,r){var i,a,o,s;if(this.subPixelOptimize){var l=x$(DTe,r,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,o=r.width,s=r.height;r.r?CTe(t,r):t.rect(i,a,o,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})(Mn);mn.prototype.type="rect";var bH={fill:"#000"},SH=2,Gc={},NTe={style:Vt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},cN.style)},On=(function(n){Zr(e,n);function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=bH,r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,ITe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Wt(0,0,0,0),r=this._children,i=[],a=null,o=0;o<r.length;o++){var s=r[o],l=s.getBoundingRect(),u=s.getLocalTransform(i);u?(t.copy(l),t.applyTransform(u),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||bH},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,a=t.rich||i&&{};return je(t,r),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,r){for(var i=Rn(r),a=0;a<i.length;a++){var o=i[a];t[o]=t[o]||{},je(t[o],r[o])}},e.prototype.getAnimationStyleProps=function(){return NTe},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||Fh,i=t.padding,a=this._defaultStyle,o=t.x||0,s=t.y||0,l=t.align||a.align||"left",u=t.verticalAlign||a.verticalAlign||"top";dH(Gc,a.overflowRect,o,s,l,u),o=Gc.baseX,s=Gc.baseY;var c=DH(t),f=$we(c,t,Gc.outerWidth,Gc.outerHeight),h=_I(t),d=!!t.backgroundColor,v=f.outerHeight,g=f.outerWidth,y=f.lines,x=f.lineHeight;this.isTruncated=!!f.isTruncated;var b=o,T=rm(s,f.contentHeight,u);if(h||i){var M=Lx(o,g,l),C=rm(s,v,u);h&&this._renderBackground(t,t,M,C,g,v)}T+=x/2,i&&(b=EH(o,l,i),u==="top"?T+=i[0]:u==="bottom"&&(T-=i[2]));for(var D=0,R=!1,I=!1,L=CH("fill"in t?t.fill:(I=!0,a.fill)),O=AH("stroke"in t?t.stroke:!d&&(!a.autoStroke||I)?(D=SH,R=!0,a.stroke):null),B=t.textShadowBlur>0,V=0;V<y.length;V++){var F=this._getOrCreateChild(Ox),k=F.createStyle();F.useStyle(k),k.text=y[V],k.x=b,k.y=T,k.textAlign=l,k.textBaseline="middle",k.opacity=t.opacity,k.strokeFirst=!0,B&&(k.shadowBlur=t.textShadowBlur||0,k.shadowColor=t.textShadowColor||"transparent",k.shadowOffsetX=t.textShadowOffsetX||0,k.shadowOffsetY=t.textShadowOffsetY||0),k.stroke=O,k.fill=L,O&&(k.lineWidth=t.lineWidth||D,k.lineDash=t.lineDash,k.lineDashOffset=t.lineDashOffset||0),k.font=r,TH(k,t),T+=x,F.setBoundingRect(SP(k,f.contentWidth,f.calculatedLineHeight,R?0:null))}},e.prototype._updateRichTexts=function(){var t=this.style,r=this._defaultStyle,i=t.align||r.align,a=t.verticalAlign||r.verticalAlign,o=t.x||0,s=t.y||0;dH(Gc,r.overflowRect,o,s,i,a),o=Gc.baseX,s=Gc.baseY;var l=DH(t),u=nTe(l,t,Gc.outerWidth,Gc.outerHeight,i),c=u.width,f=u.outerWidth,h=u.outerHeight,d=t.padding;this.isTruncated=!!u.isTruncated;var v=Lx(o,f,i),g=rm(s,h,a),y=v,x=g;d&&(y+=d[3],x+=d[0]);var b=y+c;_I(t)&&this._renderBackground(t,t,v,g,f,h);for(var T=!!t.backgroundColor,M=0;M<u.lines.length;M++){for(var C=u.lines[M],D=C.tokens,R=D.length,I=C.lineHeight,L=C.width,O=0,B=y,V=b,F=R-1,k=void 0;O<R&&(k=D[O],!k.align||k.align==="left");)this._placeToken(k,t,I,x,B,"left",T),L-=k.width,B+=k.width,O++;for(;F>=0&&(k=D[F],k.align==="right");)this._placeToken(k,t,I,x,V,"right",T),L-=k.width,V-=k.width,F--;for(B+=(c-(B-y)-(b-V)-L)/2;O<=F;)k=D[O],this._placeToken(k,t,I,x,B+k.width/2,"center",T),B+=k.width,O++;x+=I}},e.prototype._placeToken=function(t,r,i,a,o,s,l){var u=r.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,f=a+i/2;c==="top"?f=a+t.height/2:c==="bottom"&&(f=a+i-t.height/2);var h=!t.isLineHolder&&_I(u);h&&this._renderBackground(u,r,s==="right"?o-t.width:s==="center"?o-t.width/2:o,f-t.height/2,t.width,t.height);var d=!!u.backgroundColor,v=t.textPadding;v&&(o=EH(o,s,v),f-=t.height/2-v[0]-t.innerHeight/2);var g=this._getOrCreateChild(Ox),y=g.createStyle();g.useStyle(y);var x=this._defaultStyle,b=!1,T=0,M=!1,C=CH("fill"in u?u.fill:"fill"in r?r.fill:(b=!0,x.fill)),D=AH("stroke"in u?u.stroke:"stroke"in r?r.stroke:!d&&!l&&(!x.autoStroke||b)?(T=SH,M=!0,x.stroke):null),R=u.textShadowBlur>0||r.textShadowBlur>0;y.text=t.text,y.x=o,y.y=f,R&&(y.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,y.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",y.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,y.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),y.textAlign=s,y.textBaseline="middle",y.font=t.font||Fh,y.opacity=zs(u.opacity,r.opacity,1),TH(y,u),D&&(y.lineWidth=zs(u.lineWidth,r.lineWidth,T),y.lineDash=At(u.lineDash,r.lineDash),y.lineDashOffset=r.lineDashOffset||0,y.stroke=D),C&&(y.fill=C),g.setBoundingRect(SP(y,t.contentWidth,t.contentHeight,M?0:null))},e.prototype._renderBackground=function(t,r,i,a,o,s){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,f=l&&l.image,h=l&&!f,d=t.borderRadius,v=this,g,y;if(h||t.lineHeight||u&&c){g=this._getOrCreateChild(mn),g.useStyle(g.createStyle()),g.style.fill=null;var x=g.shape;x.x=i,x.y=a,x.width=o,x.height=s,x.r=d,g.dirtyShape()}if(h){var b=g.style;b.fill=l||null,b.fillOpacity=At(t.fillOpacity,1)}else if(f){y=this._getOrCreateChild(Ra),y.onload=function(){v.dirtyStyle()};var T=y.style;T.image=l.image,T.x=i,T.y=a,T.width=o,T.height=s}if(u&&c){var b=g.style;b.lineWidth=u,b.stroke=c,b.strokeOpacity=At(t.strokeOpacity,1),b.lineDash=t.borderDash,b.lineDashOffset=t.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var M=(g||y).style;M.shadowBlur=t.shadowBlur||0,M.shadowColor=t.shadowColor||"transparent",M.shadowOffsetX=t.shadowOffsetX||0,M.shadowOffsetY=t.shadowOffsetY||0,M.opacity=zs(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return b$(t)&&(r=[t.fontStyle,t.fontWeight,_$(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&ol(r)||t.textFont||t.font},e})(nu),RTe={left:!0,right:1,center:1},LTe={top:1,bottom:1,middle:1},wH=["fontStyle","fontWeight","fontSize","fontFamily"];function _$(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?fk+"px":n+"px"}function TH(n,e){for(var t=0;t<wH.length;t++){var r=wH[t],i=e[r];i!=null&&(n[r]=i)}}function b$(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function ITe(n){return MH(n),J(n.rich,MH),n}function MH(n){if(n){n.font=On.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||RTe[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||LTe[t]?t:"top";var r=n.padding;r&&(n.padding=pw(n.padding))}}function AH(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function CH(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function EH(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function DH(n){var e=n.text;return e!=null&&(e+=""),e}function _I(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var Xt=Sn(),MP=function(n,e,t,r){if(r){var i=Xt(r);i.dataIndex=t,i.dataType=e,i.seriesIndex=n,i.ssrType="chart",r.type==="group"&&r.traverse(function(a){var o=Xt(a);o.seriesIndex=n,o.dataIndex=t,o.dataType=e,o.ssrType="chart"})}},NH=1,RH={},S$=Sn(),Lk=Sn(),Ik=0,xw=1,pN=2,ps=["emphasis","blur","select"],w2=["normal","emphasis","blur","select"],l_=10,OTe=9,am="highlight",EC="downplay",l3="select",AP="unselect",u3="toggleSelect",Ok="selectchanged";function by(n){return n!=null&&n!=="none"}function vN(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function w$(n){vN(n,"emphasis",pN)}function T$(n){n.hoverState===pN&&vN(n,"normal",Ik)}function Pk(n){vN(n,"blur",xw)}function M$(n){n.hoverState===xw&&vN(n,"normal",Ik)}function PTe(n){n.selected=!0}function zTe(n){n.selected=!1}function LH(n,e,t){e(n,t)}function Kh(n,e,t){LH(n,e,t),n.isGroup&&n.traverse(function(r){LH(r,e,t)})}function c3(n,e){switch(e){case"emphasis":n.hoverState=pN;break;case"normal":n.hoverState=Ik;break;case"blur":n.hoverState=xw;break;case"select":n.selected=!0}}function kTe(n,e,t,r){for(var i=n.style,a={},o=0;o<e.length;o++){var s=e[o],l=i[s];a[s]=l??(r&&r[s])}for(var o=0;o<n.animators.length;o++){var u=n.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(a,e)}return a}function BTe(n,e,t,r){var i=t&&on(t,"select")>=0,a=!1;if(n instanceof Mn){var o=S$(n),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(by(s)||by(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(a=!0,r=je({},r),u=je({},u),u.fill=s):!by(u.fill)&&by(s)?(a=!0,r=je({},r),u=je({},u),u.fill=t3(s)):!by(u.stroke)&&by(l)&&(a||(r=je({},r),u=je({},u)),u.stroke=t3(l)),r.style=u}}if(r&&r.z2==null){a||(r=je({},r));var c=n.z2EmphasisLift;r.z2=n.z2+(c??l_)}return r}function UTe(n,e,t){if(t&&t.z2==null){t=je({},t);var r=n.z2SelectLift;t.z2=n.z2+(r??OTe)}return t}function VTe(n,e,t){var r=on(n.currentStates,e)>=0,i=n.style.opacity,a=r?null:kTe(n,["opacity"],e,{opacity:1});t=t||{};var o=t.style||{};return o.opacity==null&&(t=je({},t),o=je({opacity:r?i:a.opacity*.1},o),t.style=o),t}function bI(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return BTe(this,n,e,t);if(n==="blur")return VTe(this,n,t);if(n==="select")return UTe(this,n,t)}return t}function ym(n){n.stateProxy=bI;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=bI),t&&(t.stateProxy=bI)}function IH(n,e){!D$(n,e)&&!n.__highByOuter&&Kh(n,w$)}function OH(n,e){!D$(n,e)&&!n.__highByOuter&&Kh(n,T$)}function Hh(n,e){n.__highByOuter|=1<<(e||0),Kh(n,w$)}function jh(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Kh(n,T$)}function A$(n){Kh(n,Pk)}function zk(n){Kh(n,M$)}function C$(n){Kh(n,PTe)}function E$(n){Kh(n,zTe)}function D$(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function N$(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(i,a){var o=Lk(a),s=i==="series",l=s?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!s&&r.push(l),o.isBlured&&(l.group.traverse(function(u){M$(u)}),s&&t.push(a)),o.isBlured=!1}),J(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function CP(n,e,t,r){var i=r.getModel();t=t||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var h=u.getItemGraphicEl(c[f]);h&&zk(h)}}if(n!=null&&!(!e||e==="none")){var o=i.getSeriesByIndex(n),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&s?f===s:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!h||e==="series"&&c)){var d=r.getViewOfSeriesModel(u);if(d.group.traverse(function(y){y.__highByOuter&&c&&e==="self"||Pk(y)}),lo(e))a(u.getData(),e);else if(Ft(e))for(var v=Rn(e),g=0;g<v.length;g++)a(u.getData(v[g]),e[v[g]]);l.push(u),Lk(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=r.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function EP(n,e,t){if(!(n==null||e==null)){var r=t.getModel().getComponent(n,e);if(r){Lk(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){Pk(a)})}}}function FTe(n,e,t){var r=n.seriesIndex,i=n.getData(e.dataType);if(i){var a=gm(i,e);a=(Ke(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var u=Xt(o);CP(r,u.focus,u.blurScope,t)}else{var c=n.get(["emphasis","focus"]),f=n.get(["emphasis","blurScope"]);c!=null&&CP(r,c,f,t)}}}function kk(n,e,t,r){var i={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return i;var a=r.getModel().getComponent(n,e);if(!a)return i;var o=r.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(t),l,u=0;u<s.length;u++)if(Xt(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function GTe(n,e,t){var r=Xt(n),i=kk(r.componentMainType,r.componentIndex,r.componentHighDownName,t),a=i.dispatchers,o=i.focusSelf;a?(o&&EP(r.componentMainType,r.componentIndex,t),J(a,function(s){return IH(s,e)})):(CP(r.seriesIndex,r.focus,r.blurScope,t),r.focus==="self"&&EP(r.componentMainType,r.componentIndex,t),IH(n,e))}function HTe(n,e,t){N$(t);var r=Xt(n),i=kk(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?J(i,function(a){return OH(a,e)}):OH(n,e)}function jTe(n,e,t){if(NP(e)){var r=e.dataType,i=n.getData(r),a=gm(i,e);Ke(a)||(a=[a]),n[e.type===u3?"toggleSelect":e.type===l3?"select":"unselect"](a,r)}}function PH(n){var e=n.getAllData();J(e,function(t){var r=t.data,i=t.type;r.eachItemGraphicEl(function(a,o){n.isSelected(o,i)?C$(a):E$(a)})})}function WTe(n){var e=[];return n.eachSeries(function(t){var r=t.getAllData();J(r,function(i){i.data;var a=i.type,o=t.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:t.seriesIndex};a!=null&&(s.dataType=a),e.push(s)}})}),e}function Sp(n,e,t){qg(n,!0),Kh(n,ym),DP(n,e,t)}function YTe(n){qg(n,!1)}function ti(n,e,t,r){r?YTe(n):Sp(n,e,t)}function DP(n,e,t){var r=Xt(n);e!=null?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}var zH=["emphasis","blur","select"],XTe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ca(n,e,t,r){t=t||"itemStyle";for(var i=0;i<zH.length;i++){var a=zH[i],o=e.getModel([a,t]),s=n.ensureState(a);s.style=r?r(o):o[XTe[t]]()}}function qg(n,e){var t=e===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function T2(n){return!!(n&&n.__highDownDispatcher)}function qTe(n,e,t){var r=Xt(n);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=t}function ZTe(n){var e=RH[n];return e==null&&NH<=32&&(e=RH[n]=NH++),e}function NP(n){var e=n.type;return e===l3||e===AP||e===u3}function kH(n){var e=n.type;return e===am||e===EC}function KTe(n){var e=S$(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var Sy=gf.CMD,JTe=[[],[],[]],BH=Math.sqrt,QTe=Math.atan2;function R$(n,e){if(e){var t=n.data,r=n.len(),i,a,o,s,l,u,c=Sy.M,f=Sy.C,h=Sy.L,d=Sy.R,v=Sy.A,g=Sy.Q;for(o=0,s=0;o<r;){switch(i=t[o++],s=o,a=0,i){case c:a=1;break;case h:a=1;break;case f:a=3;break;case g:a=2;break;case v:var y=e[4],x=e[5],b=BH(e[0]*e[0]+e[1]*e[1]),T=BH(e[2]*e[2]+e[3]*e[3]),M=QTe(-e[1]/T,e[0]/b);t[o]*=b,t[o++]+=y,t[o]*=T,t[o++]+=x,t[o++]*=b,t[o++]*=T,t[o++]+=M,t[o++]+=M,o+=2,s=o;break;case d:u[0]=t[o++],u[1]=t[o++],Ai(u,u,e),t[s++]=u[0],t[s++]=u[1],u[0]+=t[o++],u[1]+=t[o++],Ai(u,u,e),t[s++]=u[0],t[s++]=u[1]}for(l=0;l<a;l++){var C=JTe[l];C[0]=t[o++],C[1]=t[o++],Ai(C,C,e),t[s++]=C[0],t[s++]=C[1]}}n.increaseVersion()}}var SI=Math.sqrt,pA=Math.sin,vA=Math.cos,bb=Math.PI;function UH(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function RP(n,e){return(n[0]*e[0]+n[1]*e[1])/(UH(n)*UH(e))}function VH(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(RP(n,e))}function FH(n,e,t,r,i,a,o,s,l,u,c){var f=l*(bb/180),h=vA(f)*(n-t)/2+pA(f)*(e-r)/2,d=-1*pA(f)*(n-t)/2+vA(f)*(e-r)/2,v=h*h/(o*o)+d*d/(s*s);v>1&&(o*=SI(v),s*=SI(v));var g=(i===a?-1:1)*SI((o*o*(s*s)-o*o*(d*d)-s*s*(h*h))/(o*o*(d*d)+s*s*(h*h)))||0,y=g*o*d/s,x=g*-s*h/o,b=(n+t)/2+vA(f)*y-pA(f)*x,T=(e+r)/2+pA(f)*y+vA(f)*x,M=VH([1,0],[(h-y)/o,(d-x)/s]),C=[(h-y)/o,(d-x)/s],D=[(-1*h-y)/o,(-1*d-x)/s],R=VH(C,D);if(RP(C,D)<=-1&&(R=bb),RP(C,D)>=1&&(R=0),R<0){var I=Math.round(R/bb*1e6)/1e6;R=bb*2+I%2*bb}c.addData(u,b,T,o,s,M,R,f,a)}var $Te=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,eMe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function tMe(n){var e=new gf;if(!n)return e;var t=0,r=0,i=t,a=r,o,s=gf.CMD,l=n.match($Te);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),h=void 0,d=c.match(eMe)||[],v=d.length,g=0;g<v;g++)d[g]=parseFloat(d[g]);for(var y=0;y<v;){var x=void 0,b=void 0,T=void 0,M=void 0,C=void 0,D=void 0,R=void 0,I=t,L=r,O=void 0,B=void 0;switch(f){case"l":t+=d[y++],r+=d[y++],h=s.L,e.addData(h,t,r);break;case"L":t=d[y++],r=d[y++],h=s.L,e.addData(h,t,r);break;case"m":t+=d[y++],r+=d[y++],h=s.M,e.addData(h,t,r),i=t,a=r,f="l";break;case"M":t=d[y++],r=d[y++],h=s.M,e.addData(h,t,r),i=t,a=r,f="L";break;case"h":t+=d[y++],h=s.L,e.addData(h,t,r);break;case"H":t=d[y++],h=s.L,e.addData(h,t,r);break;case"v":r+=d[y++],h=s.L,e.addData(h,t,r);break;case"V":r=d[y++],h=s.L,e.addData(h,t,r);break;case"C":h=s.C,e.addData(h,d[y++],d[y++],d[y++],d[y++],d[y++],d[y++]),t=d[y-2],r=d[y-1];break;case"c":h=s.C,e.addData(h,d[y++]+t,d[y++]+r,d[y++]+t,d[y++]+r,d[y++]+t,d[y++]+r),t+=d[y-2],r+=d[y-1];break;case"S":x=t,b=r,O=e.len(),B=e.data,o===s.C&&(x+=t-B[O-4],b+=r-B[O-3]),h=s.C,I=d[y++],L=d[y++],t=d[y++],r=d[y++],e.addData(h,x,b,I,L,t,r);break;case"s":x=t,b=r,O=e.len(),B=e.data,o===s.C&&(x+=t-B[O-4],b+=r-B[O-3]),h=s.C,I=t+d[y++],L=r+d[y++],t+=d[y++],r+=d[y++],e.addData(h,x,b,I,L,t,r);break;case"Q":I=d[y++],L=d[y++],t=d[y++],r=d[y++],h=s.Q,e.addData(h,I,L,t,r);break;case"q":I=d[y++]+t,L=d[y++]+r,t+=d[y++],r+=d[y++],h=s.Q,e.addData(h,I,L,t,r);break;case"T":x=t,b=r,O=e.len(),B=e.data,o===s.Q&&(x+=t-B[O-4],b+=r-B[O-3]),t=d[y++],r=d[y++],h=s.Q,e.addData(h,x,b,t,r);break;case"t":x=t,b=r,O=e.len(),B=e.data,o===s.Q&&(x+=t-B[O-4],b+=r-B[O-3]),t+=d[y++],r+=d[y++],h=s.Q,e.addData(h,x,b,t,r);break;case"A":T=d[y++],M=d[y++],C=d[y++],D=d[y++],R=d[y++],I=t,L=r,t=d[y++],r=d[y++],h=s.A,FH(I,L,t,r,D,R,T,M,C,h,e);break;case"a":T=d[y++],M=d[y++],C=d[y++],D=d[y++],R=d[y++],I=t,L=r,t+=d[y++],r+=d[y++],h=s.A,FH(I,L,t,r,D,R,T,M,C,h,e);break}}(f==="z"||f==="Z")&&(h=s.Z,e.addData(h),t=i,r=a),o=h}return e.toStatic(),e}var L$=(function(n){Zr(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e})(Mn);function I$(n){return n.setData!=null}function O$(n,e){var t=tMe(n),r=je({},e);return r.buildPath=function(i){var a=I$(i);if(a&&i.canSave()){i.appendPath(t);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=a?i.getContext():i;o&&t.rebuildPath(o,1)}},r.applyTransform=function(i){R$(t,i),this.dirtyShape()},r}function P$(n,e){return new L$(O$(n,e))}function nMe(n,e){var t=O$(n,e),r=(function(i){Zr(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return a})(L$);return r}function rMe(n,e){for(var t=[],r=n.length,i=0;i<r;i++){var a=n[i];t.push(a.getUpdatedPathProxy(!0))}var o=new Mn(e);return o.createPathProxy(),o.buildPath=function(s){if(I$(s)){s.appendPath(t);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function Bk(n,e){e=e||{};var t=new Mn;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?R$(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var iMe=(function(){function n(){this.cx=0,this.cy=0,this.r=0}return n})(),wf=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new iMe},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e})(Mn);wf.prototype.type="circle";var aMe=(function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n})(),_w=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new aMe},e.prototype.buildPath=function(t,r){var i=.5522848,a=r.cx,o=r.cy,s=r.rx,l=r.ry,u=s*i,c=l*i;t.moveTo(a-s,o),t.bezierCurveTo(a-s,o-c,a-u,o-l,a,o-l),t.bezierCurveTo(a+u,o-l,a+s,o-c,a+s,o),t.bezierCurveTo(a+s,o+c,a+u,o+l,a,o+l),t.bezierCurveTo(a-u,o+l,a-s,o+c,a-s,o),t.closePath()},e})(Mn);_w.prototype.type="ellipse";var z$=Math.PI,wI=z$*2,pg=Math.sin,wy=Math.cos,oMe=Math.acos,No=Math.atan2,GH=Math.abs,kS=Math.sqrt,rS=Math.max,Hc=Math.min,zu=1e-4;function sMe(n,e,t,r,i,a,o,s){var l=t-n,u=r-e,c=o-i,f=s-a,h=f*l-c*u;if(!(h*h<zu))return h=(c*(e-a)-f*(n-i))/h,[n+h*l,e+h*u]}function gA(n,e,t,r,i,a,o){var s=n-t,l=e-r,u=(o?a:-a)/kS(s*s+l*l),c=u*l,f=-u*s,h=n+c,d=e+f,v=t+c,g=r+f,y=(h+v)/2,x=(d+g)/2,b=v-h,T=g-d,M=b*b+T*T,C=i-a,D=h*g-v*d,R=(T<0?-1:1)*kS(rS(0,C*C*M-D*D)),I=(D*T-b*R)/M,L=(-D*b-T*R)/M,O=(D*T+b*R)/M,B=(-D*b+T*R)/M,V=I-y,F=L-x,k=O-y,Y=B-x;return V*V+F*F>k*k+Y*Y&&(I=O,L=B),{cx:I,cy:L,x0:-c,y0:-f,x1:I*(i/C-1),y1:L*(i/C-1)}}function lMe(n){var e;if(Ke(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function uMe(n,e){var t,r=rS(e.r,0),i=rS(e.r0||0,0),a=r>0,o=i>0;if(!(!a&&!o)){if(a||(r=i,i=0),i>r){var s=r;r=i,i=s}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,f=e.cy,h=!!e.clockwise,d=GH(u-l),v=d>wI&&d%wI;if(v>zu&&(d=v),!(r>zu))n.moveTo(c,f);else if(d>wI-zu)n.moveTo(c+r*wy(l),f+r*pg(l)),n.arc(c,f,r,l,u,!h),i>zu&&(n.moveTo(c+i*wy(u),f+i*pg(u)),n.arc(c,f,i,u,l,h));else{var g=void 0,y=void 0,x=void 0,b=void 0,T=void 0,M=void 0,C=void 0,D=void 0,R=void 0,I=void 0,L=void 0,O=void 0,B=void 0,V=void 0,F=void 0,k=void 0,Y=r*wy(l),H=r*pg(l),W=i*wy(u),q=i*pg(u),K=d>zu;if(K){var re=e.cornerRadius;re&&(t=lMe(re),g=t[0],y=t[1],x=t[2],b=t[3]);var j=GH(r-i)/2;if(T=Hc(j,x),M=Hc(j,b),C=Hc(j,g),D=Hc(j,y),L=R=rS(T,M),O=I=rS(C,D),(R>zu||I>zu)&&(B=r*wy(u),V=r*pg(u),F=i*wy(l),k=i*pg(l),d<z$)){var Q=sMe(Y,H,F,k,B,V,W,q);if(Q){var ne=Y-Q[0],se=H-Q[1],he=B-Q[0],pe=V-Q[1],xe=1/pg(oMe((ne*he+se*pe)/(kS(ne*ne+se*se)*kS(he*he+pe*pe)))/2),Te=kS(Q[0]*Q[0]+Q[1]*Q[1]);L=Hc(R,(r-Te)/(xe+1)),O=Hc(I,(i-Te)/(xe-1))}}}if(!K)n.moveTo(c+Y,f+H);else if(L>zu){var Me=Hc(x,L),Re=Hc(b,L),Ue=gA(F,k,Y,H,r,Me,h),et=gA(B,V,W,q,r,Re,h);n.moveTo(c+Ue.cx+Ue.x0,f+Ue.cy+Ue.y0),L<R&&Me===Re?n.arc(c+Ue.cx,f+Ue.cy,L,No(Ue.y0,Ue.x0),No(et.y0,et.x0),!h):(Me>0&&n.arc(c+Ue.cx,f+Ue.cy,Me,No(Ue.y0,Ue.x0),No(Ue.y1,Ue.x1),!h),n.arc(c,f,r,No(Ue.cy+Ue.y1,Ue.cx+Ue.x1),No(et.cy+et.y1,et.cx+et.x1),!h),Re>0&&n.arc(c+et.cx,f+et.cy,Re,No(et.y1,et.x1),No(et.y0,et.x0),!h))}else n.moveTo(c+Y,f+H),n.arc(c,f,r,l,u,!h);if(!(i>zu)||!K)n.lineTo(c+W,f+q);else if(O>zu){var Me=Hc(g,O),Re=Hc(y,O),Ue=gA(W,q,B,V,i,-Re,h),et=gA(Y,H,F,k,i,-Me,h);n.lineTo(c+Ue.cx+Ue.x0,f+Ue.cy+Ue.y0),O<I&&Me===Re?n.arc(c+Ue.cx,f+Ue.cy,O,No(Ue.y0,Ue.x0),No(et.y0,et.x0),!h):(Re>0&&n.arc(c+Ue.cx,f+Ue.cy,Re,No(Ue.y0,Ue.x0),No(Ue.y1,Ue.x1),!h),n.arc(c,f,i,No(Ue.cy+Ue.y1,Ue.cx+Ue.x1),No(et.cy+et.y1,et.cx+et.x1),h),Me>0&&n.arc(c+et.cx,f+et.cy,Me,No(et.y1,et.x1),No(et.y0,et.x0),!h))}else n.lineTo(c+W,f+q),n.arc(c,f,i,u,l,h)}n.closePath()}}}var cMe=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n})(),co=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new cMe},e.prototype.buildPath=function(t,r){uMe(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})(Mn);co.prototype.type="sector";var fMe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n})(),u_=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new fMe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,o=Math.PI*2;t.moveTo(i+r.r,a),t.arc(i,a,r.r,0,o,!1),t.moveTo(i+r.r0,a),t.arc(i,a,r.r0,0,o,!0)},e})(Mn);u_.prototype.type="ring";function hMe(n,e,t,r){var i=[],a=[],o=[],s=[],l,u,c,f;if(r){c=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,d=n.length;h<d;h++)Ah(c,c,n[h]),Ch(f,f,n[h]);Ah(c,c,r[0]),Ch(f,f,r[1])}for(var h=0,d=n.length;h<d;h++){var v=n[h];if(t)l=n[h?h-1:d-1],u=n[(h+1)%d];else if(h===0||h===d-1){i.push(cf(n[h]));continue}else l=n[h-1],u=n[h+1];fp(a,u,l),NS(a,a,e);var g=ZE(v,l),y=ZE(v,u),x=g+y;x!==0&&(g/=x,y/=x),NS(o,a,-g),NS(s,a,y);var b=J5([],v,o),T=J5([],v,s);r&&(Ch(b,b,c),Ah(b,b,f),Ch(T,T,c),Ah(T,T,f)),i.push(b),i.push(T)}return t&&i.push(i.shift()),i}function k$(n,e,t){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=hMe(i,r,t,e.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(t?o:o-1);s++){var l=a[s*2],u=a[s*2+1],c=i[(s+1)%o];n.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{n.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)n.lineTo(i[s][0],i[s][1])}t&&n.closePath()}}var dMe=(function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n})(),fo=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new dMe},e.prototype.buildPath=function(t,r){k$(t,r,!0)},e})(Mn);fo.prototype.type="polygon";var pMe=(function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n})(),Xa=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new pMe},e.prototype.buildPath=function(t,r){k$(t,r,!1)},e})(Mn);Xa.prototype.type="polyline";var vMe={},gMe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})(),Bi=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gMe},e.prototype.buildPath=function(t,r){var i,a,o,s;if(this.subPixelOptimize){var l=dN(vMe,r,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=r.x1,a=r.y1,o=r.x2,s=r.y2;var u=r.percent;u!==0&&(t.moveTo(i,a),u<1&&(o=i*(1-u)+o*u,s=a*(1-u)+s*u),t.lineTo(o,s))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e})(Mn);Bi.prototype.type="line";var Es=[],mMe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n})();function HH(n,e,t){var r=n.cpx2,i=n.cpy2;return r!=null||i!=null?[(t?XG:Sa)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?XG:Sa)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?iP:Wa)(n.x1,n.cpx1,n.x2,e),(t?iP:Wa)(n.y1,n.cpy1,n.y2,e)]}var c_=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new mMe},e.prototype.buildPath=function(t,r){var i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,f=r.cpy2,h=r.percent;h!==0&&(t.moveTo(i,a),c==null||f==null?(h<1&&(m2(i,l,o,h,Es),l=Es[1],o=Es[2],m2(a,u,s,h,Es),u=Es[1],s=Es[2]),t.quadraticCurveTo(l,u,o,s)):(h<1&&(Lp(i,l,c,o,h,Es),l=Es[1],c=Es[2],o=Es[3],Lp(a,u,f,s,h,Es),u=Es[1],f=Es[2],s=Es[3]),t.bezierCurveTo(l,u,c,f,o,s)))},e.prototype.pointAt=function(t){return HH(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=HH(this.shape,t,!0);return Nm(r,r)},e})(Mn);c_.prototype.type="bezier-curve";var yMe=(function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),bw=(function(n){Zr(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new yMe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,o=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(s),f=Math.sin(s);t.moveTo(c*o+i,f*o+a),t.arc(i,a,o,s,l,!u)},e})(Mn);bw.prototype.type="arc";var Sw=(function(n){Zr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Mn.prototype.getBoundingRect.call(this)},e})(Mn),B$=(function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n})(),Rm=(function(n){Zr(e,n);function e(t,r,i,a,o,s){var l=n.call(this,o)||this;return l.x=t??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return e})(B$),Uk=(function(n){Zr(e,n);function e(t,r,i,a,o){var s=n.call(this,a)||this;return s.x=t??.5,s.y=r??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return e})(B$),TI=Math.min,xMe=Math.max,mA=Math.abs,vg=[0,0],gg=[0,0],Ha=TQ(),yA=Ha.minTv,xA=Ha.maxTv,U$=(function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new jt;for(var r=0;r<2;r++)this._axes[r]=new jt;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,i=this._axes,a=e.x,o=e.y,s=a+e.width,l=o+e.height;if(r[0].set(a,o),r[1].set(s,o),r[2].set(s,l),r[3].set(a,l),t)for(var u=0;u<4;u++)r[u].transform(t);jt.sub(i[0],r[1],r[0]),jt.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(r[0])},n.prototype.intersect=function(e,t,r){var i=!0,a=!t;return t&&jt.set(t,0,0),Ha.reset(r,!a),!this._intersectCheckOneSide(this,e,a,1)&&(i=!1,a)||!this._intersectCheckOneSide(e,this,a,-1)&&(i=!1,a)||!a&&!Ha.negativeSize&&jt.copy(t,i?Ha.useDir?Ha.dirMinTv:yA:xA),i},n.prototype._intersectCheckOneSide=function(e,t,r,i){for(var a=!0,o=0;o<2;o++){var s=e._axes[o];if(e._getProjMinMaxOnAxis(o,e._corners,vg),e._getProjMinMaxOnAxis(o,t._corners,gg),Ha.negativeSize||vg[1]<gg[0]||vg[0]>gg[1]){if(a=!1,Ha.negativeSize||r)return a;var l=mA(gg[0]-vg[1]),u=mA(vg[0]-gg[1]);TI(l,u)>xA.len()&&(l<u?jt.scale(xA,s,-l*i):jt.scale(xA,s,u*i))}else if(!r){var l=mA(gg[0]-vg[1]),u=mA(vg[0]-gg[1]);(Ha.useDir||TI(l,u)<yA.len())&&((l<u||!Ha.bidirectional)&&(jt.scale(yA,s,l*i),Ha.useDir&&Ha.calcDirMTV()),(l>=u||!Ha.bidirectional)&&(jt.scale(yA,s,-u*i),Ha.useDir&&Ha.calcDirMTV()))}}return a},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var i=this._axes[e],a=this._origin,o=t[0].dot(i)+a[e],s=o,l=o,u=1;u<t.length;u++){var c=t[u].dot(i)+a[e];s=TI(c,s),l=xMe(c,l)}r[0]=s+Ha.touchThreshold,r[1]=l-Ha.touchThreshold,Ha.negativeSize=r[1]<r[0]},n})(),_Me=[],V$=(function(n){Zr(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Wt(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(_Me)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(t,r))return!0}return!1},e})(nu),F$=Sn();function f_(n,e,t,r,i){var a;if(e&&e.ecModel){var o=e.ecModel.getUpdatePayload();a=o&&o.animation}var s=e&&e.isAnimationEnabled(),l=n==="update";if(s){var u=void 0,c=void 0,f=void 0;r?(u=At(r.duration,200),c=At(r.easing,"cubicOut"),f=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),Nt(f)&&(f=f(t,i)),Nt(u)&&(u=u(t));var h={duration:u||0,delay:f,easing:c};return h}else return null}function Vk(n,e,t,r,i,a,o){var s=!1,l;Nt(i)?(o=a,a=i,i=null):Ft(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=n==="leave";u||e.stopAnimation("leave");var c=f_(n,r,i,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var f=c.duration,h=c.delay,d=c.easing,v={duration:f,delay:h||0,easing:d,done:a,force:!!a||!!o,setToFinal:!u,scope:n,during:o};s?e.animateFrom(t,v):e.animateTo(t,v)}else e.stopAnimation(),!s&&e.attr(t),o&&o(1),a&&a()}function Gn(n,e,t,r,i,a){Vk("update",n,e,t,r,i,a)}function Gr(n,e,t,r,i,a){Vk("enter",n,e,t,r,i,a)}function hx(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function Ip(n,e,t,r,i,a){hx(n)||Vk("leave",n,e,t,r,i,a)}function jH(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),Ip(n,{style:{opacity:0}},e,t,r)}function Ih(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||jH(i,e,t,r)}):jH(n,e,t,r)}function ru(n){F$(n).oldStyle=n.style}function bMe(n){return F$(n).oldStyle}var LP={},Qt=["x","y"],$i=["width","height"];function G$(n){return Mn.extend(n)}var SMe=nMe;function H$(n,e){return SMe(n,e)}function ou(n,e){LP[n]=e}function M2(n){if(LP.hasOwnProperty(n))return LP[n]}function Px(n,e,t,r){var i=P$(n,e);return t&&(r==="center"&&(t=j$(t,i.getBoundingRect())),Gk(i,t)),i}function Fk(n,e,t){var r=new Ra({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};r.setStyle(j$(e,a))}}});return r}function j$(n,e){var t=e.width/e.height,r=n.height*t,i;r<=n.width?i=n.height:(r=n.width,i=r/t);var a=n.x+n.width/2,o=n.y+n.height/2;return{x:a-r/2,y:o-i/2,width:r,height:i}}var il=rMe;function Gk(n,e){if(n.applyTransform){var t=n.getBoundingRect(),r=t.calculateTransform(e);n.applyTransform(r)}}function zx(n,e){return dN(n,n,{lineWidth:e}),n}function wMe(n,e){return x$(n,n,e),n}var DC=ul;function wp(n,e){for(var t=gw([]);n&&n!==e;)Yu(t,n.getLocalTransform(),t),n=n.parent;return t}function qu(n,e,t){return e&&!lo(e)&&(e=Eh.getLocalTransform(e)),t&&(e=tu([],e)),Ai([],n,e)}function gN(n,e,t){var r=e[4]===0||e[5]===0||e[0]===0?1:tf(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:tf(2*e[4]/e[2]),a=[n==="left"?-r:n==="right"?r:0,n==="top"?-i:n==="bottom"?i:0];return a=qu(a,e,t),tf(a[0])>tf(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function WH(n){return!n.isGroup}function TMe(n){return n.shape!=null}function ww(n,e,t){if(!n||!e)return;function r(o){var s={};return o.traverse(function(l){WH(l)&&l.anid&&(s[l.anid]=l)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return TMe(o)&&(s.shape=Pt(o.shape)),s}var a=r(n);e.traverse(function(o){if(WH(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),Gn(o,l,t,Xt(o).dataIndex)}}})}function Hk(n,e){return $e(n,function(t){var r=t[0];r=zi(r,e.x),r=fl(r,e.x+e.width);var i=t[1];return i=zi(i,e.y),i=fl(i,e.y+e.height),[r,i]})}function W$(n,e){var t=zi(n.x,e.x),r=fl(n.x+n.width,e.x+e.width),i=zi(n.y,e.y),a=fl(n.y+n.height,e.y+e.height);if(r>=t&&a>=i)return{x:t,y:i,width:r-t,height:a-i}}function h_(n,e,t){var r=je({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(i.image=n.slice(8),Vt(i,t),new Ra(r)):Px(n.replace("path://",""),r,t,"center")}function iS(n,e,t,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(Y$(n,e,t,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function Y$(n,e,t,r,i,a,o,s){var l=t-n,u=r-e,c=o-i,f=s-a,h=MI(c,f,l,u);if(MMe(h))return!1;var d=n-i,v=e-a,g=MI(d,v,l,u)/h;if(g<0||g>1)return!1;var y=MI(d,v,c,f)/h;return!(y<0||y>1)}function MI(n,e,t,r){return n*r-t*e}function MMe(n){return n<=1e-6&&n>=-1e-6}function xm(n,e,t,r,i){return e==null||(Pn(e)?ri[0]=ri[1]=ri[2]=ri[3]=e:(ri[0]=e[0],ri[1]=e[1],ri[2]=e[2],ri[3]=e[3]),r&&(ri[0]=zi(0,ri[0]),ri[1]=zi(0,ri[1]),ri[2]=zi(0,ri[2]),ri[3]=zi(0,ri[3])),t&&(ri[0]=-ri[0],ri[1]=-ri[1],ri[2]=-ri[2],ri[3]=-ri[3]),YH(n,ri,"x","width",3,1,i&&i[0]||0),YH(n,ri,"y","height",0,2,i&&i[1]||0)),n}var ri=[0,0,0,0];function YH(n,e,t,r,i,a,o){var s=e[a]+e[i],l=n[r];n[r]+=s,o=zi(0,fl(o,l)),n[r]<o?(n[r]=o,n[t]+=e[i]>=0?-e[i]:e[a]>=0?l+e[a]:tf(s)>1e-8?(l-o)*e[i]/s:0):n[t]-=e[i]}function Jh(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,i=vt(e)?{formatter:e}:e,a=t.mainType,o=t.componentIndex,s={componentType:a,name:r,$vars:["name"]};s[a+"Index"]=o;var l=n.formatterParamsExtra;l&&J(Rn(l),function(c){St(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=Xt(n.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:r,option:Vt({content:r,encodeHTMLContent:!0,formatterParams:s},i)}}function IP(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Wp(n,e){if(n)if(Ke(n))for(var t=0;t<n.length;t++)IP(n[t],e);else IP(n,e)}function jk(n){return!n||tf(n[1])<_A&&tf(n[2])<_A||tf(n[0])<_A&&tf(n[3])<_A}var _A=1e-5;function A2(n,e){return n?Wt.copy(n,e):e.clone()}function Wk(n,e){return e?mw(n||Ma(),e):void 0}function _m(n){return{z:n.get("z")||0,zlevel:n.get("zlevel")||0}}function X$(n){var e=-1/0,t=1/0;IP(n,function(a){r(a),r(a.getTextContent()),r(a.getTextGuideLine())});function r(a){if(!(!a||a.isGroup)){var o=a.currentStates;if(o.length)for(var s=0;s<o.length;s++)i(a.states[o[s]]);i(a)}}function i(a){if(a){var o=a.z2;o>e&&(e=o),o<t&&(t=o)}}return t>e&&(t=e=0),{min:t,max:e}}function mN(n,e,t){q$(n,e,t,-1/0)}function q$(n,e,t,r){if(n.ignoreModelZ)return r;var i=n.getTextContent(),a=n.getTextGuideLine(),o=n.isGroup;if(o)for(var s=n.childrenRef(),l=0;l<s.length;l++)r=zi(q$(s[l],e,t,r),r);else n.z=e,n.zlevel=t,r=zi(n.z2||0,r);if(i&&(i.z=e,i.zlevel=t,isFinite(r)&&(i.z2=r+2)),a){var u=n.textGuideLineConfig;a.z=e,a.zlevel=t,isFinite(r)&&(a.z2=r+(u&&u.showAbove?1:-1))}return r}ou("circle",wf);ou("ellipse",_w);ou("sector",co);ou("ring",u_);ou("polygon",fo);ou("polyline",Xa);ou("rect",mn);ou("line",Bi);ou("bezierCurve",c_);ou("arc",bw);const Lm=Object.freeze(Object.defineProperty({__proto__:null,Arc:bw,BezierCurve:c_,BoundingRect:Wt,Circle:wf,CompoundPath:Sw,Ellipse:_w,Group:zt,Image:Ra,IncrementalDisplayable:V$,Line:Bi,LinearGradient:Rm,OrientedBoundingRect:U$,Path:Mn,Point:jt,Polygon:fo,Polyline:Xa,RadialGradient:Uk,Rect:mn,Ring:u_,Sector:co,Text:On,WH:$i,XY:Qt,applyTransform:qu,calcZ2Range:X$,clipPointsByRect:Hk,clipRectByRect:W$,createIcon:h_,ensureCopyRect:A2,ensureCopyTransform:Wk,expandOrShrinkRect:xm,extendPath:H$,extendShape:G$,getShapeClass:M2,getTransform:wp,groupTransition:ww,initProps:Gr,isBoundingRectAxisAligned:jk,isElementRemoved:hx,lineLineIntersect:Y$,linePolygonIntersect:iS,makeImage:Fk,makePath:Px,mergePath:il,registerShape:ou,removeElement:Ip,removeElementWithFadeOut:Ih,resizePath:Gk,retrieveZInfo:_m,setTooltipConfig:Jh,subPixelOptimize:DC,subPixelOptimizeLine:zx,subPixelOptimizeRect:wMe,transformDirection:gN,traverseElements:Wp,traverseUpdateZ:mN,updateProps:Gn},Symbol.toStringTag,{value:"Module"}));var yN={};function Z$(n,e){for(var t=0;t<ps.length;t++){var r=ps[t],i=e[r],a=n.ensureState(r);a.style=a.style||{},a.style.text=i}var o=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(o,!0)}function OP(n,e,t){var r=n.labelFetcher,i=n.labelDataIndex,a=n.labelDimIndex,o=e.normal,s;r&&(s=r.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),t!=null?{interpolatedValue:t}:null)),s==null&&(s=Nt(n.defaultText)?n.defaultText(i,n,t):n.defaultText);for(var l={normal:s},u=0;u<ps.length;u++){var c=ps[u],f=e[c];l[c]=At(r?r.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,s)}return l}function Na(n,e,t,r){t=t||yN;for(var i=n instanceof On,a=!1,o=0;o<w2.length;o++){var s=e[w2[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=i?n:n.getTextContent();if(a){i||(l||(l=new On,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=OP(t,e),c=e.normal,f=!!c.getShallow("show"),h=Dr(c,r&&r.normal,t,!1,!i);h.text=u.normal,i||n.setTextConfig(f3(c,t,!1));for(var o=0;o<ps.length;o++){var d=ps[o],s=e[d];if(s){var v=l.ensureState(d),g=!!At(s.getShallow("show"),f);if(g!==f&&(v.ignore=!g),v.style=Dr(s,r&&r[d],t,!0,!i),v.style.text=u[d],!i){var y=n.ensureState(d);y.textConfig=f3(s,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),t.enableTextSetter&&(d_(l).setLabelText=function(x){var b=OP(t,e,x);Z$(l,b)})}else l&&(l.ignore=!0);n.dirty()}function fa(n,e){e=e||"label";for(var t={normal:n.getModel(e)},r=0;r<ps.length;r++){var i=ps[r];t[i]=n.getModel([i,e])}return t}function Dr(n,e,t,r,i){var a={};return AMe(a,n,t,r,i),e&&je(a,e),a}function f3(n,e,t){e=e||{};var r={},i,a=n.getShallow("rotate"),o=At(n.getShallow("distance"),t?null:5),s=n.getShallow("offset");return i=n.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),s!=null&&(r.offset=s),a!=null&&(a*=Math.PI/180,r.rotation=a),o!=null&&(r.distance=o),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",e.autoOverflowArea!=null&&(r.autoOverflowArea=e.autoOverflowArea),e.layoutRect!=null&&(r.layoutRect=e.layoutRect),r}function AMe(n,e,t,r,i){t=t||yN;var a=e.ecModel,o=a&&a.option.textStyle,s=CMe(e),l;if(s){l={};var u="richInheritPlainLabel",c=At(e.get(u),a?a.get(u):void 0);for(var f in s)if(s.hasOwnProperty(f)){var h=e.getModel(["rich",f]);KH(l[f]={},h,o,e,c,t,r,i,!1,!0)}}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var v=e.get("lineOverflow");v&&(n.lineOverflow=v);var g=n,y=e.get("minMargin");if(y!=null)y=Pn(y)?y/2:0,g.margin=[y,y,y,y],g.__marginType=nx.minMargin;else{var x=e.get("textMargin");x!=null&&(g.margin=pw(x),g.__marginType=nx.textMargin)}KH(n,e,o,null,null,t,r,i,!0,!1)}function CMe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||yN).rich;if(t){e=e||{};for(var r=Rn(t),i=0;i<r.length;i++){var a=r[i];e[a]=1}}n=n.parentModel}return e}var XH=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],qH=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],ZH=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function KH(n,e,t,r,i,a,o,s,l,u){t=!o&&t||yN;var c=a&&a.inheritColor,f=e.getShallow("color"),h=e.getShallow("textBorderColor"),d=At(e.getShallow("opacity"),t.opacity);(f==="inherit"||f==="auto")&&(c?f=c:f=null),(h==="inherit"||h==="auto")&&(c?h=c:h=null),s||(f=f||t.color,h=h||t.textBorderColor),f!=null&&(n.fill=f),h!=null&&(n.stroke=h);var v=At(e.getShallow("textBorderWidth"),t.textBorderWidth);v!=null&&(n.lineWidth=v);var g=At(e.getShallow("textBorderType"),t.textBorderType);g!=null&&(n.lineDash=g);var y=At(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);y!=null&&(n.lineDashOffset=y),!o&&d==null&&!u&&(d=a&&a.defaultOpacity),d!=null&&(n.opacity=d),!o&&!s&&n.fill==null&&a.inheritColor&&(n.fill=a.inheritColor);for(var x=0;x<XH.length;x++){var b=XH[x],T=i!==!1&&r?zs(e.getShallow(b),r.getShallow(b),t[b]):At(e.getShallow(b),t[b]);T!=null&&(n[b]=T)}for(var x=0;x<qH.length;x++){var b=qH[x],T=e.getShallow(b);T!=null&&(n[b]=T)}if(n.verticalAlign==null){var M=e.getShallow("baseline");M!=null&&(n.verticalAlign=M)}if(!l||!a.disableBox){for(var x=0;x<ZH.length;x++){var b=ZH[x],T=e.getShallow(b);T!=null&&(n[b]=T)}var C=e.getShallow("borderType");C!=null&&(n.borderDash=C),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&c&&(n.backgroundColor=c),(n.borderColor==="auto"||n.borderColor==="inherit")&&c&&(n.borderColor=c)}}function Yk(n,e){var t=e&&e.getModel("textStyle");return ol([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var d_=Sn();function K$(n,e,t,r){if(n){var i=d_(n);i.prevValue=i.value,i.value=t;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}function J$(n,e,t,r,i){var a=d_(n);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=At(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=u$(t,a.precision,s,l,c);a.interpolatedValue=c===1?null:f;var h=OP({labelDataIndex:e,labelFetcher:i,defaultText:o?o(f):f+""},a.statesModels,f);Z$(n,h)}n.percent=0,(a.prevValue==null?Gr:Gn)(n,{percent:1},r,e,null,u)}var nx={minMargin:1,textMargin:2},EMe=["textStyle","color"],AI=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],CI=new On,DMe=(function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(EMe):null)},n.prototype.getFont=function(){return Yk({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<AI.length;r++)t[AI[r]]=this.getShallow(AI[r]);return CI.useStyle(t),CI.update(),CI.getBoundingRect()},n})(),Q$=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],NMe=mm(Q$),RMe=(function(){function n(){}return n.prototype.getLineStyle=function(e){return NMe(this,e)},n})(),$$=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],LMe=mm($$),IMe=(function(){function n(){}return n.prototype.getItemStyle=function(e,t){return LMe(this,e,t)},n})(),Tn=(function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){},n.prototype.mergeOption=function(e,t){sn(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,i=r==null?r:r[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},n.prototype.getModel=function(e,t){var r=e!=null,i=r?this.parsePath(e):null,a=r?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new n(a,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(Pt(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Dn.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n})();Dk(Tn);jwe(Tn);Ci(Tn,RMe);Ci(Tn,IMe);Ci(Tn,Zwe);Ci(Tn,DMe);var OMe=Math.round(Math.random()*10);function p_(n){return[n||"",OMe++].join("_")}function PMe(n){var e={};n.registerSubTypeDefaulter=function(t,r){var i=nf(t);e[i.main]=r},n.determineSubType=function(t,r){var i=r.type;if(!i){var a=nf(t).main;n.hasSubTypes(t)&&e[a]&&(i=e[a](r))}return i}}function zMe(n,e){n.topologicalTravel=function(a,o,s,l){if(!a.length)return;var u=t(o),c=u.graph,f=u.noEntryList,h={};for(J(a,function(b){h[b]=!0});f.length;){var d=f.pop(),v=c[d],g=!!h[d];g&&(s.call(l,d,v.originalDeps.slice()),delete h[d]),J(v.successor,g?x:y)}J(h,function(){var b="";throw new Error(b)});function y(b){c[b].entryCount--,c[b].entryCount===0&&f.push(b)}function x(b){h[b]=!0,y(b)}};function t(a){var o={},s=[];return J(a,function(l){var u=r(o,l),c=u.originalDeps=e(l),f=i(c,a);u.entryCount=f.length,u.entryCount===0&&s.push(l),J(f,function(h){on(u.predecessor,h)<0&&u.predecessor.push(h);var d=r(o,h);on(d.successor,h)<0&&d.successor.push(l)})}),{graph:o,noEntryList:s}}function r(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return J(a,function(l){on(o,l)>=0&&s.push(l)}),s}}function Yp(n,e){return sn(sn({},n,!0),e,!0)}const kMe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},BMe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var h3="ZH",Xk="EN",dx=Xk,NC={},qk={},eee=Dn.domSupported?(function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage||dx).toUpperCase();return n.indexOf(h3)>-1?h3:dx})():dx;function Zk(n,e){n=n.toUpperCase(),qk[n]=new Tn(e),NC[n]=e}function UMe(n){if(vt(n)){var e=NC[n.toUpperCase()]||{};return n===h3||n===Xk?Pt(e):sn(Pt(e),Pt(NC[dx]),!1)}else return sn(Pt(n),Pt(NC[dx]),!1)}function PP(n){return qk[n]}function VMe(){return qk[dx]}Zk(Xk,kMe);Zk(h3,BMe);var zP=null;function FMe(n){zP||(zP=n)}function Qi(){return zP}var Kk=1e3,Jk=Kk*60,BS=Jk*60,Kl=BS*24,JH=Kl*365,GMe={year:/({yyyy}|{yy})/,month:/({MMMM}|{MMM}|{MM}|{M})/,day:/({dd}|{d})/,hour:/({HH}|{H}|{hh}|{h})/,minute:/({mm}|{m})/,second:/({ss}|{s})/,millisecond:/({SSS}|{S})/},RC={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}"},HMe="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}",bA="{yyyy}-{MM}-{dd}",QH={year:"{yyyy}",month:"{yyyy}-{MM}",day:bA,hour:bA+" "+RC.hour,minute:bA+" "+RC.minute,second:bA+" "+RC.second,millisecond:HMe},tl=["year","month","day","hour","minute","second","millisecond"],jMe=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function WMe(n){return!vt(n)&&!Nt(n)?YMe(n):n}function YMe(n){n=n||{};var e={},t=!0;return J(tl,function(r){t&&(t=n[r]==null)}),J(tl,function(r,i){var a=n[r];e[r]={};for(var o=null,s=i;s>=0;s--){var l=tl[s],u=Ft(a)&&!Ke(a)?a[l]:a,c=void 0;Ke(u)?(c=u.slice(),o=c[0]||""):vt(u)?(o=u,c=[o]):(o==null?o=RC[r]:GMe[l].test(o)||(o=e[l][l][0]+" "+o),c=[o],t&&(c[1]="{primary|"+o+"}")),e[r][l]=c}}),e}function ls(n,e){return n+="","0000".substr(0,e-n.length)+n}function US(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function XMe(n){return n===US(n)}function qMe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Tw(n,e,t,r){var i=Sf(n),a=i[tee(t)](),o=i[Qk(t)]()+1,s=Math.floor((o-1)/3)+1,l=i[$k(t)](),u=i["get"+(t?"UTC":"")+"Day"](),c=i[eB(t)](),f=(c-1)%12+1,h=i[tB(t)](),d=i[nB(t)](),v=i[rB(t)](),g=c>=12?"pm":"am",y=g.toUpperCase(),x=r instanceof Tn?r:PP(r||eee)||VMe(),b=x.getModel("time"),T=b.get("month"),M=b.get("monthAbbr"),C=b.get("dayOfWeek"),D=b.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,y+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,ls(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,T[o-1]).replace(/{MMM}/g,M[o-1]).replace(/{MM}/g,ls(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,ls(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,C[u]).replace(/{ee}/g,D[u]).replace(/{e}/g,u+"").replace(/{HH}/g,ls(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,ls(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,ls(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,ls(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,ls(v,3)).replace(/{S}/g,v+"")}function ZMe(n,e,t,r,i){var a=null;if(vt(t))a=t;else if(Nt(t)){var o={time:n.time,level:n.time.level},s=Qi();s&&s.makeAxisLabelFormatterParamBreak(o,n.break),a=t(n.value,e,o)}else{var l=n.time;if(l){var u=t[l.lowerTimeUnit][l.upperTimeUnit];a=u[Math.min(l.level,u.length-1)]||""}else{var c=rx(n.value,i);a=t[c][c][0]}}return Tw(new Date(n.value),a,i,r)}function rx(n,e){var t=Sf(n),r=t[Qk(e)]()+1,i=t[$k(e)](),a=t[eB(e)](),o=t[tB(e)](),s=t[nB(e)](),l=t[rB(e)](),u=l===0,c=u&&s===0,f=c&&o===0,h=f&&a===0,d=h&&i===1,v=d&&r===1;return v?"year":d?"month":h?"day":f?"hour":c?"minute":u?"second":"millisecond"}function d3(n,e,t){switch(e){case"year":n[nee(t)](0);case"month":n[ree(t)](1);case"day":n[iee(t)](0);case"hour":n[aee(t)](0);case"minute":n[oee(t)](0);case"second":n[see(t)](0)}return n}function tee(n){return n?"getUTCFullYear":"getFullYear"}function Qk(n){return n?"getUTCMonth":"getMonth"}function $k(n){return n?"getUTCDate":"getDate"}function eB(n){return n?"getUTCHours":"getHours"}function tB(n){return n?"getUTCMinutes":"getMinutes"}function nB(n){return n?"getUTCSeconds":"getSeconds"}function rB(n){return n?"getUTCMilliseconds":"getMilliseconds"}function KMe(n){return n?"setUTCFullYear":"setFullYear"}function nee(n){return n?"setUTCMonth":"setMonth"}function ree(n){return n?"setUTCDate":"setDate"}function iee(n){return n?"setUTCHours":"setHours"}function aee(n){return n?"setUTCMinutes":"setMinutes"}function oee(n){return n?"setUTCSeconds":"setSeconds"}function see(n){return n?"setUTCMilliseconds":"setMilliseconds"}function JMe(n,e,t,r,i,a,o,s){var l=new On({style:{text:n,font:e,align:t,verticalAlign:r,padding:i,rich:a,overflow:o?"truncate":null,lineHeight:s}});return l.getBoundingRect()}function iB(n){if(!Ak(n))return vt(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function aB(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var v_=pw;function kP(n,e,t){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&ol(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=e==="time",s=n instanceof Date;if(o||s){var l=o?Sf(n):n;if(isNaN(+l)){if(s)return"-"}else return Tw(l,r,t)}if(e==="ordinal")return XE(n)?i(n):Pn(n)&&a(n)?n+"":"-";var u=vf(n);return a(u)?iB(u):XE(n)?i(n):typeof n=="boolean"?n+"":"-"}var $H=["a","b","c","d","e","f","g"],EI=function(n,e){return"{"+n+(e??"")+"}"};function oB(n,e,t){Ke(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var o=$H[a];n=n.replace(EI(o),EI(o,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var u=e[s][i[l]];n=n.replace(EI($H[l],s),t?Oo(u):u)}return n}function QMe(n,e,t){return J(e,function(r,i){n=n.replace("{"+i+"}",r)}),n}function lee(n,e){var t=vt(n)?{color:n,extraCssText:e}:n||{},r=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Oo(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Oo(r)+";"+(e||"")+'"></span>';var o=t.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function $Me(n,e,t){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var r=Sf(e),i=t?"getUTC":"get",a=r[i+"FullYear"](),o=r[i+"Month"]()+1,s=r[i+"Date"](),l=r[i+"Hours"](),u=r[i+"Minutes"](),c=r[i+"Seconds"](),f=r[i+"Milliseconds"]();return n=n.replace("MM",ls(o,2)).replace("M",o).replace("yyyy",a).replace("yy",ls(a%100+"",2)).replace("dd",ls(s,2)).replace("d",s).replace("hh",ls(l,2)).replace("h",l).replace("mm",ls(u,2)).replace("m",u).replace("ss",ls(c,2)).replace("s",c).replace("SSS",ls(f,3)),n}function eAe(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function bm(n,e){return e=e||"transparent",vt(n)?n:Ft(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function p3(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var LC={},DI={},g_=(function(){function n(){this._normalMasterList=[],this._nonSeriesBoxMasterList=[]}return n.prototype.create=function(e,t){this._nonSeriesBoxMasterList=r(LC),this._normalMasterList=r(DI);function r(i,a){var o=[];return J(i,function(s,l){var u=s.create(e,t);o=o.concat(u||[])}),o}},n.prototype.update=function(e,t){J(this._normalMasterList,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._normalMasterList.concat(this._nonSeriesBoxMasterList)},n.register=function(e,t){if(e==="matrix"||e==="calendar"){LC[e]=t;return}DI[e]=t},n.get=function(e){return DI[e]||LC[e]},n})();function tAe(n){return!!LC[n]}var BP={coord:1,coord2:2};function nAe(n){uee.set(n.fullType,{getCoord2:void 0}).getCoord2=n.getCoord2}var uee=Tt();function rAe(n){var e=n.getShallow("coord",!0),t=BP.coord;if(e==null){var r=uee.get(n.type);r&&r.getCoord2&&(t=BP.coord2,e=r.getCoord2(n))}return{coord:e,from:t}}var Jc={none:0,dataCoordSys:1,boxCoordSys:2};function cee(n,e){var t=n.getShallow("coordinateSystem"),r=n.getShallow("coordinateSystemUsage",!0),i=Jc.none;if(t){var a=n.mainType==="series";r==null&&(r=a?"data":"box"),r==="data"?(i=Jc.dataCoordSys,a||(i=Jc.none)):r==="box"&&(i=Jc.boxCoordSys,!a&&!tAe(t)&&(i=Jc.none))}return{coordSysType:t,kind:i}}function Mw(n){var e=n.targetModel,t=n.coordSysType,r=n.coordSysProvider,i=n.isDefaultDataCoordSys;n.allowNotFound;var a=cee(e),o=a.kind,s=a.coordSysType;if(i&&o!==Jc.dataCoordSys&&(o=Jc.dataCoordSys,s=t),o===Jc.none||s!==t)return!1;var l=r(t,e);return l?(o===Jc.dataCoordSys?e.coordinateSystem=l:e.boxCoordinateSystem=l,!0):!1}var fee=function(n,e){var t=e.getReferringComponents(n,di).models[0];return t&&t.coordinateSystem},IC=J,hee=["left","right","top","bottom","width","height"],Zg=[["width","left","right"],["height","top","bottom"]];function sB(n,e,t,r,i){var a=0,o=0;r==null&&(r=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),f=e.childAt(u+1),h=f&&f.getBoundingRect(),d,v;if(n==="horizontal"){var g=c.width+(h?-h.x+c.x:0);d=a+g,d>r||l.newline?(a=0,d=g,o+=s+t,s=c.height):s=Math.max(s,c.height)}else{var y=c.height+(h?-h.y+c.y:0);v=o+y,v>i||l.newline?(a+=s+t,o=0,v=y,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),n==="horizontal"?a=d+t:o=v+t)})}var om=sB;tn(sB,"vertical");tn(sB,"horizontal");function dee(n,e){return{left:n.getShallow("left",e),top:n.getShallow("top",e),right:n.getShallow("right",e),bottom:n.getShallow("bottom",e),width:n.getShallow("width",e),height:n.getShallow("height",e)}}function iAe(n,e){var t=ha(n,e,{enableLayoutOnlyByCenter:!0}),r=n.getBoxLayoutParams(),i,a;if(t.type===aS.point)a=t.refPoint,i=Kr(r,{width:e.getWidth(),height:e.getHeight()});else{var o=n.get("center"),s=Ke(o)?o:[o,o];i=Kr(r,t.refContainer),a=t.boxCoordFrom===BP.coord2?t.refPoint:[pt(s[0],i.width)+i.x,pt(s[1],i.height)+i.y]}return{viewRect:i,center:a}}function pee(n,e){var t=iAe(n,e),r=t.viewRect,i=t.center,a=n.get("radius");Ke(a)||(a=[0,a]);var o=pt(r.width,e.getWidth()),s=pt(r.height,e.getHeight()),l=Math.min(o,s),u=pt(a[0],l/2),c=pt(a[1],l/2);return{cx:i[0],cy:i[1],r0:u,r:c,viewRect:r}}function Kr(n,e,t){t=v_(t||0);var r=e.width,i=e.height,a=pt(n.left,r),o=pt(n.top,i),s=pt(n.right,r),l=pt(n.bottom,i),u=pt(n.width,r),c=pt(n.height,i),f=t[2]+t[0],h=t[1]+t[3],d=n.aspect;switch(isNaN(u)&&(u=r-s-h-a),isNaN(c)&&(c=i-l-f-o),d!=null&&(isNaN(u)&&isNaN(c)&&(d>r/i?u=r*.8:c=i*.8),isNaN(u)&&(u=d*c),isNaN(c)&&(c=u/d)),isNaN(a)&&(a=r-s-u-h),isNaN(o)&&(o=i-l-c-f),n.left||n.right){case"center":a=r/2-u/2-t[3];break;case"right":a=r-u-h;break}switch(n.top||n.bottom){case"middle":case"center":o=i/2-c/2-t[0];break;case"bottom":o=i-c-f;break}a=a||0,o=o||0,isNaN(u)&&(u=r-h-a-(s||0)),isNaN(c)&&(c=i-f-o-(l||0));var v=new Wt((e.x||0)+a+t[3],(e.y||0)+o+t[0],u,c);return v.margin=t,v}function vee(n,e,t){var r=n.getShallow("preserveAspect",!0);if(!r)return e;var i=e.width/e.height;if(Math.abs(Math.atan(t)-Math.atan(i))<1e-9)return e;var a=n.getShallow("preserveAspectAlign",!0),o=n.getShallow("preserveAspectVerticalAlign",!0),s={width:e.width,height:e.height},l=r==="cover";return i>t&&!l||i<t&&l?(s.width=e.height*t,a==="left"?s.left=0:a==="right"?s.right=0:s.left="center"):(s.height=e.width/t,o==="top"?s.top=0:o==="bottom"?s.bottom=0:s.top="middle"),Kr(s,e)}var aS={rect:1,point:2};function ha(n,e,t){var r,i,a,o=n.boxCoordinateSystem,s;if(o){var l=rAe(n),u=l.coord,c=l.from;if(o.dataToLayout){a=aS.rect,s=c;var f=o.dataToLayout(u);r=f.contentRect||f.rect}else t&&t.enableLayoutOnlyByCenter&&o.dataToPoint&&(a=aS.point,s=c,i=o.dataToPoint(u))}return a==null&&(a=aS.rect),a===aS.rect&&(r||(r={x:0,y:0,width:e.getWidth(),height:e.getHeight()}),i=[r.x+r.width/2,r.y+r.height/2]),{type:a,refContainer:r,refPoint:i,boxCoordFrom:s}}function xN(n,e,t,r,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||n,a.x=n.x,a.y=n.y,!o&&!s)return!1;var u;if(l==="raw")u=n.type==="group"?new Wt(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var c=n.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=Kr(Vt({width:u.width,height:u.height},e),t,r),h=o?f.x-u.x:0,d=s?f.y-u.y:0;return l==="raw"?(a.x=h,a.y=d):(a.x+=h,a.y+=d),a===n&&n.markRedraw(),!0}function aAe(n,e){return n[Zg[e][0]]!=null||n[Zg[e][1]]!=null&&n[Zg[e][2]]!=null}function C2(n){var e=n.layoutMode||n.constructor.layoutMode;return Ft(e)?e:e?{type:e}:null}function mf(n,e,t){var r=t&&t.ignoreSize;!Ke(r)&&(r=[r,r]);var i=o(Zg[0],0),a=o(Zg[1],1);l(Zg[0],n,i),l(Zg[1],n,a);function o(u,c){var f={},h=0,d={},v=0,g=2;if(IC(u,function(b){d[b]=n[b]}),IC(u,function(b){St(e,b)&&(f[b]=d[b]=e[b]),s(f,b)&&h++,s(d,b)&&v++}),r[c])return s(e,u[1])?d[u[2]]=null:s(e,u[2])&&(d[u[1]]=null),d;if(v===g||!h)return d;if(h>=g)return f;for(var y=0;y<u.length;y++){var x=u[y];if(!St(f,x)&&St(n,x)){f[x]=n[x];break}}return f}function s(u,c){return u[c]!=null&&u[c]!=="auto"}function l(u,c,f){IC(u,function(h){c[h]=f[h]})}}function Im(n){return gee({},n)}function gee(n,e){return e&&n&&IC(hee,function(t){St(e,t)&&(n[t]=e[t])}),n}var oAe=Sn(),bn=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this,t,r,i)||this;return a.uid=p_("ec_cpt_model"),a}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=C2(this),a=i?Im(t):{},o=r.getTheme();sn(t,o.get(this.mainType)),sn(t,this.getDefaultOption()),i&&mf(t,a,i)},e.prototype.mergeOption=function(t,r){sn(this.option,t,!0);var i=C2(this);i&&mf(this.option,t,i)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Fwe(t))return t.defaultOption;var r=oAe(this);if(!r.defaultOption){for(var i=[],a=t;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=sn(s,i[l],!0);r.defaultOption=s}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var i=t+"Index",a=t+"Id";return s_(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},r)},e.prototype.getBoxLayoutParams=function(){return dee(this,!1)},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=(function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0})(),e})(Tn);f$(bn,Tn);lN(bn);PMe(bn);zMe(bn,sAe);function sAe(n){var e=[];return J(bn.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=$e(e,function(t){return nf(t).main}),n!=="dataset"&&on(e,"dataset")<=0&&e.unshift("dataset"),e}var De={color:{},darkColor:{},size:{}},Oi=De.color={theme:["#5070dd","#b6d634","#505372","#ff994d","#0ca8df","#ffd10a","#fb628b","#785db0","#3fbe95"],neutral00:"#fff",neutral05:"#f4f7fd",neutral10:"#e8ebf0",neutral15:"#dbdee4",neutral20:"#cfd2d7",neutral25:"#c3c5cb",neutral30:"#b7b9be",neutral35:"#aaacb2",neutral40:"#9ea0a5",neutral45:"#929399",neutral50:"#86878c",neutral55:"#797b7f",neutral60:"#6d6e73",neutral65:"#616266",neutral70:"#54555a",neutral75:"#48494d",neutral80:"#3c3c41",neutral85:"#303034",neutral90:"#232328",neutral95:"#17171b",neutral99:"#000",accent05:"#eff1f9",accent10:"#e0e4f2",accent15:"#d0d6ec",accent20:"#c0c9e6",accent25:"#b1bbdf",accent30:"#a1aed9",accent35:"#91a0d3",accent40:"#8292cc",accent45:"#7285c6",accent50:"#6578ba",accent55:"#5c6da9",accent60:"#536298",accent65:"#4a5787",accent70:"#404c76",accent75:"#374165",accent80:"#2e3654",accent85:"#252b43",accent90:"#1b2032",accent95:"#121521",transparent:"rgba(0,0,0,0)",highlight:"rgba(255,231,130,0.8)"};je(Oi,{primary:Oi.neutral80,secondary:Oi.neutral70,tertiary:Oi.neutral60,quaternary:Oi.neutral50,disabled:Oi.neutral20,border:Oi.neutral30,borderTint:Oi.neutral20,borderShade:Oi.neutral40,background:Oi.neutral05,backgroundTint:"rgba(234,237,245,0.5)",backgroundTransparent:"rgba(255,255,255,0)",backgroundShade:Oi.neutral10,shadow:"rgba(0,0,0,0.2)",shadowTint:"rgba(129,130,136,0.2)",axisLine:Oi.neutral70,axisLineTint:Oi.neutral40,axisTick:Oi.neutral70,axisTickMinor:Oi.neutral60,axisLabel:Oi.neutral70,axisSplitLine:Oi.neutral15,axisMinorSplitLine:Oi.neutral05});for(var mg in Oi)if(Oi.hasOwnProperty(mg)){var e9=Oi[mg];mg==="theme"?De.darkColor.theme=Oi.theme.slice():mg==="highlight"?De.darkColor.highlight="rgba(255,231,130,0.4)":mg.indexOf("accent")===0?De.darkColor[mg]=Lh(e9,null,function(n){return n*.5},function(n){return Math.min(1,1.3-n)}):De.darkColor[mg]=Lh(e9,null,function(n){return n*.9},function(n){return 1-Math.pow(n,1.5)})}De.size={xxs:2,xs:5,s:10,m:15,l:20,xl:30,xxl:40,xxxl:50};var mee="";typeof navigator<"u"&&(mee=navigator.platform||"");var Ty="rgba(0, 0, 0, 0.2)",yee=De.color.theme[0],lAe=Lh(yee,null,null,.9);const uAe={darkMode:"auto",colorBy:"series",color:De.color.theme,gradientColor:[lAe,yee],aria:{decal:{decals:[{color:Ty,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Ty,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Ty,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Ty,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Ty,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Ty,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:mee.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var xee=Tt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),vl="original",qa="arrayRows",gl="objectRows",rc="keyedColumns",Tp="typedArray",_ee="unknown",Zu="column",Om="row",ro={Must:1,Might:2,Not:3},bee=Sn();function cAe(n){bee(n).datasetMap=Tt()}function See(n,e,t){var r={},i=uB(e);if(!i||!n)return r;var a=[],o=[],s=e.ecModel,l=bee(s).datasetMap,u=i.uid+"_"+t.seriesLayoutBy,c,f;n=n.slice(),J(n,function(g,y){var x=Ft(g)?g:n[y]={name:g};x.type==="ordinal"&&c==null&&(c=y,f=v(x)),r[x.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});J(n,function(g,y){var x=g.name,b=v(g);if(c==null){var T=h.valueWayDim;d(r[x],T,b),d(o,T,b),h.valueWayDim+=b}else if(c===y)d(r[x],0,b),d(a,0,b);else{var T=h.categoryWayDim;d(r[x],T,b),d(o,T,b),h.categoryWayDim+=b}});function d(g,y,x){for(var b=0;b<x;b++)g.push(y+b)}function v(g){var y=g.dimsDef;return y?y.length:1}return a.length&&(r.itemName=a),o.length&&(r.seriesName=o),r}function lB(n,e,t){var r={},i=uB(n);if(!i)return r;var a=e.sourceFormat,o=e.dimensionsDefine,s;(a===gl||a===rc)&&J(o,function(c,f){(Ft(c)?c.name:c)==="name"&&(s=f)});var l=(function(){for(var c={},f={},h=[],d=0,v=Math.min(5,t);d<v;d++){var g=Tee(e.data,a,e.seriesLayoutBy,o,e.startIndex,d);h.push(g);var y=g===ro.Not;if(y&&c.v==null&&d!==s&&(c.v=d),(c.n==null||c.n===c.v||!y&&h[c.n]===ro.Not)&&(c.n=d),x(c)&&h[c.n]!==ro.Not)return c;y||(g===ro.Might&&f.v==null&&d!==s&&(f.v=d),(f.n==null||f.n===f.v)&&(f.n=d))}function x(b){return b.v!=null&&b.n!=null}return x(c)?c:x(f)?f:null})();if(l){r.value=[l.v];var u=s??l.n;r.itemName=[u],r.seriesName=[u]}return r}function uB(n){var e=n.get("data",!0);if(!e)return s_(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},di).models[0]}function fAe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:s_(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},di).models}function wee(n,e){return Tee(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function Tee(n,e,t,r,i,a){var o,s=5;if(ds(n))return ro.Not;var l,u;if(r){var c=r[a];Ft(c)?(l=c.name,u=c.type):vt(c)&&(l=c)}if(u!=null)return u==="ordinal"?ro.Must:ro.Not;if(e===qa){var f=n;if(t===Om){for(var h=f[a],d=0;d<(h||[]).length&&d<s;d++)if((o=M(h[i+d]))!=null)return o}else for(var d=0;d<f.length&&d<s;d++){var v=f[i+d];if(v&&(o=M(v[a]))!=null)return o}}else if(e===gl){var g=n;if(!l)return ro.Not;for(var d=0;d<g.length&&d<s;d++){var y=g[d];if(y&&(o=M(y[l]))!=null)return o}}else if(e===rc){var x=n;if(!l)return ro.Not;var h=x[l];if(!h||ds(h))return ro.Not;for(var d=0;d<h.length&&d<s;d++)if((o=M(h[d]))!=null)return o}else if(e===vl)for(var b=n,d=0;d<b.length&&d<s;d++){var y=b[d],T=o_(y);if(!Ke(T))return ro.Not;if((o=M(T[a]))!=null)return o}function M(C){var D=vt(C);if(C!=null&&Number.isFinite(Number(C))&&C!=="")return D?ro.Might:ro.Not;if(D&&C!=="-")return ro.Must}return ro.Not}var UP=Tt();function hAe(n,e){uo(UP.get(n)==null&&e),UP.set(n,e)}function dAe(n,e,t){var r=UP.get(e);if(!r)return t;var i=r(n);return i?t.concat(i):t}var t9=Sn(),pAe=Sn(),cB=(function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var i=Nr(this.get("color",!0)),a=this.get("colorLayer",!0);return Mee(this,t9,i,a,e,t,r)},n.prototype.clearColorPalette=function(){gAe(this,t9)},n})();function VP(n,e,t,r){var i=Nr(n.get(["aria","decal","decals"]));return Mee(n,pAe,i,null,e,t,r)}function vAe(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}function Mee(n,e,t,r,i,a,o){a=a||n;var s=e(a),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=o==null||!r?t:vAe(r,o);if(c=c||t,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),s.paletteIdx=(l+1)%c.length,f}}function gAe(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var SA,Sb,n9,r9="\0_ec_inner",mAe=1,fB=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,i,a,o,s){a=a||{},this.option=null,this._theme=new Tn(a),this._locale=new Tn(o),this._optionManager=s},e.prototype.setOption=function(t,r,i){var a=o9(r);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,r){return this._resetOption(t,o9(r))},e.prototype._resetOption=function(t,r){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var o=a.mountOption(t==="recreate");!this.option||t==="recreate"?n9(this,o):(this.restoreData(),this._mergeOption(o,r)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&J(l,function(u){i=!0,this._mergeOption(u,r)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=Tt(),u=r&&r.replaceMergeMainTypeMap;cAe(this),J(t,function(f,h){f!=null&&(bn.hasClass(h)?h&&(s.push(h),l.set(h,!0)):i[h]=i[h]==null?Pt(f):sn(i[h],f,!0))}),u&&u.each(function(f,h){bn.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),bn.topologicalTravel(s,bn.getAllClassMainTypes(),c,this);function c(f){var h=dAe(this,f,Nr(t[f])),d=a.get(f),v=d?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",g=o$(d,h,v);Lwe(g,f,bn),i[f]=null,a.set(f,null),o.set(f,0);var y=[],x=[],b=0,T;J(g,function(M,C){var D=M.existing,R=M.newOption;if(!R)D&&(D.mergeOption({},this),D.optionUpdated({},!1));else{var I=f==="series",L=bn.getClass(f,M.keyInfo.subType,!I);if(!L)return;if(f==="tooltip"){if(T)return;T=!0}if(D&&D.constructor===L)D.name=M.keyInfo.name,D.mergeOption(R,this),D.optionUpdated(R,!1);else{var O=je({componentIndex:C},M.keyInfo);D=new L(R,this,this,O),je(D,O),M.brandNew&&(D.__requireNewView=!0),D.init(R,this,this),D.optionUpdated(null,!0)}}D?(y.push(D.option),x.push(D),b++):(y.push(void 0),x.push(void 0))},this),i[f]=y,a.set(f,x),o.set(f,b),f==="series"&&SA(this)}this._seriesIndices||SA(this)},e.prototype.getOption=function(){var t=Pt(this.option);return J(t,function(r,i){if(bn.hasClass(i)){for(var a=Nr(r),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!S2(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,t[i]=a}}),delete t[r9],t},e.prototype.setTheme=function(t){this._theme=new Tn(t),this._resetOption("recreate",null)},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var i=t.index,a=t.id,o=t.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return i!=null?(l=[],J(Nr(i),function(u){s[u]&&l.push(s[u])})):a!=null?l=i9("id",a,s):o!=null?l=i9("name",o,s):l=Zn(s,function(u){return!!u}),a9(l,t)},e.prototype.findComponents=function(t){var r=t.query,i=t.mainType,a=s(r),o=a?this.queryComponents(a):Zn(this._componentsMap.get(i),function(u){return!!u});return l(a9(o,t));function s(u){var c=i+"Index",f=i+"Id",h=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[h]!=null)?{mainType:i,index:u[c],id:u[f],name:u[h]}:null}function l(u){return t.filter?Zn(u,t.filter):u}},e.prototype.eachComponent=function(t,r,i){var a=this._componentsMap;if(Nt(t)){var o=r,s=t;a.each(function(f,h){for(var d=0;f&&d<f.length;d++){var v=f[d];v&&s.call(o,h,v,v.componentIndex)}})}else for(var l=vt(t)?a.get(t):Ft(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=ua(t,null);return Zn(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Zn(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return Zn(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){Sb(this),J(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(r,a,i)},this)},e.prototype.eachRawSeries=function(t,r){J(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,i){Sb(this),J(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===t&&r.call(i,o,a)},this)},e.prototype.eachRawSeriesByType=function(t,r,i){return J(this.getSeriesByType(t),r,i)},e.prototype.isSeriesFiltered=function(t){return Sb(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){Sb(this);var i=[];J(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];t.call(r,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Tt(i)},e.prototype.restoreData=function(t){SA(this);var r=this._componentsMap,i=[];r.each(function(a,o){bn.hasClass(o)&&i.push(o)}),bn.topologicalTravel(i,bn.getAllClassMainTypes(),function(a){J(r.get(a),function(o){o&&(a!=="series"||!yAe(o,t))&&o.restoreData()})})},e.internalField=(function(){SA=function(t){var r=t._seriesIndices=[];J(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=Tt(r)},Sb=function(t){},n9=function(t,r){t.option={},t.option[r9]=mAe,t._componentsMap=Tt({series:[]}),t._componentsCount=Tt();var i=r.aria;Ft(i)&&i.enabled==null&&(i.enabled=!0),xAe(r,t._theme.option),sn(r,uAe,!1),t._mergeOption(r,null)}})(),e})(Tn);function yAe(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,i=e.seriesName;return t!=null&&n.componentIndex!==t||r!=null&&n.id!==r||i!=null&&n.name!==i}}function xAe(n,e){var t=n.color&&!n.colorLayer;J(e,function(r,i){i==="colorLayer"&&t||i==="color"&&n.color||bn.hasClass(i)||(typeof r=="object"?n[i]=n[i]?sn(n[i],r,!1):Pt(r):n[i]==null&&(n[i]=r))})}function i9(n,e,t){if(Ke(e)){var r=Tt();return J(e,function(a){if(a!=null){var o=ua(a,null);o!=null&&r.set(a,!0)}}),Zn(t,function(a){return a&&r.get(a[n])})}else{var i=ua(e,null);return Zn(t,function(a){return a&&i!=null&&a[n]===i})}}function a9(n,e){return e.hasOwnProperty("subType")?Zn(n,function(t){return t&&t.subType===e.subType}):n}function o9(n){var e=Tt();return n&&J(Nr(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Ci(fB,cB);var _Ae=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Aee=(function(){function n(e){J(_Ae,function(t){this[t]=mt(e[t],e)},this)}return n})(),bAe=/^(min|max)?(.+)$/,SAe=(function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(J(Nr(e.series),function(o){o&&o.data&&ds(o.data)&&v2(o.data)}),J(Nr(e.dataset),function(o){o&&o.source&&ds(o.source)&&v2(o.source)})),e=Pt(e);var i=this._optionBackup,a=wAe(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Pt(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(t=Pt(r[i.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,u=i.length;l<u;l++)TAe(i[l].query,t,r)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!AAe(o,this._currentMediaIndices)&&(s=$e(o,function(c){return Pt(c===-1?a.option:i[c].option)})),this._currentMediaIndices=o,s},n})();function wAe(n,e,t){var r=[],i,a,o=n.baseOption,s=n.timeline,l=n.options,u=n.media,c=!!n.media,f=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||c)&&(n.options=n.media=null),a=n),c&&Ke(u)&&J(u,function(d){d&&d.option&&(d.query?r.push(d):i||(i=d))}),h(a),J(l,function(d){return h(d)}),J(r,function(d){return h(d.option)});function h(d){J(e,function(v){v(d,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function TAe(n,e,t){var r={width:e,height:t,aspectratio:e/t},i=!0;return J(n,function(a,o){var s=o.match(bAe);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();MAe(r[u],a,l)||(i=!1)}}),i}function MAe(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function AAe(n,e){return n.join(",")===e.join(",")}var Pu=J,E2=Ft,s9=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function NI(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=s9.length;t<r;t++){var i=s9[t],a=e.normal,o=e.emphasis;a&&a[i]&&(n[i]=n[i]||{},n[i].normal?sn(n[i].normal,a[i]):n[i].normal=a[i],a[i]=null),o&&o[i]&&(n[i]=n[i]||{},n[i].emphasis?sn(n[i].emphasis,o[i]):n[i].emphasis=o[i],o[i]=null)}}function Lo(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,i=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,Vt(n[e],r)):n[e]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[e]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function oS(n){Lo(n,"itemStyle"),Lo(n,"lineStyle"),Lo(n,"areaStyle"),Lo(n,"label"),Lo(n,"labelLine"),Lo(n,"upperLabel"),Lo(n,"edgeLabel")}function Zi(n,e){var t=E2(n)&&n[e],r=E2(t)&&t.textStyle;if(r)for(var i=0,a=cH.length;i<a;i++){var o=cH[i];r.hasOwnProperty(o)&&(t[o]=r[o])}}function Hl(n){n&&(oS(n),Zi(n,"label"),n.emphasis&&Zi(n.emphasis,"label"))}function CAe(n){if(E2(n)){NI(n),oS(n),Zi(n,"label"),Zi(n,"upperLabel"),Zi(n,"edgeLabel"),n.emphasis&&(Zi(n.emphasis,"label"),Zi(n.emphasis,"upperLabel"),Zi(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(NI(e),Hl(e));var t=n.markLine;t&&(NI(t),Hl(t));var r=n.markArea;r&&Hl(r);var i=n.data;if(n.type==="graph"){i=i||n.nodes;var a=n.links||n.edges;if(a&&!ds(a))for(var o=0;o<a.length;o++)Hl(a[o]);J(n.categories,function(u){oS(u)})}if(i&&!ds(i))for(var o=0;o<i.length;o++)Hl(i[o]);if(e=n.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)Hl(s[o]);if(t=n.markLine,t&&t.data)for(var l=t.data,o=0;o<l.length;o++)Ke(l[o])?(Hl(l[o][0]),Hl(l[o][1])):Hl(l[o]);n.type==="gauge"?(Zi(n,"axisLabel"),Zi(n,"title"),Zi(n,"detail")):n.type==="treemap"?(Lo(n.breadcrumb,"itemStyle"),J(n.levels,function(u){oS(u)})):n.type==="tree"&&oS(n.leaves)}}function fh(n){return Ke(n)?n:n?[n]:[]}function l9(n){return(Ke(n)?n[0]:n)||{}}function EAe(n,e){Pu(fh(n.series),function(r){E2(r)&&CAe(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),Pu(t,function(r){Pu(fh(n[r]),function(i){i&&(Zi(i,"axisLabel"),Zi(i.axisPointer,"label"))})}),Pu(fh(n.parallel),function(r){var i=r&&r.parallelAxisDefault;Zi(i,"axisLabel"),Zi(i&&i.axisPointer,"label")}),Pu(fh(n.calendar),function(r){Lo(r,"itemStyle"),Zi(r,"dayLabel"),Zi(r,"monthLabel"),Zi(r,"yearLabel")}),Pu(fh(n.radar),function(r){Zi(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),Pu(fh(n.geo),function(r){E2(r)&&(Hl(r),Pu(fh(r.regions),function(i){Hl(i)}))}),Pu(fh(n.timeline),function(r){Hl(r),Lo(r,"label"),Lo(r,"itemStyle"),Lo(r,"controlStyle",!0);var i=r.data;Ke(i)&&J(i,function(a){Ft(a)&&(Lo(a,"label"),Lo(a,"itemStyle"))})}),Pu(fh(n.toolbox),function(r){Lo(r,"iconStyle"),Pu(r.feature,function(i){Lo(i,"iconStyle")})}),Zi(l9(n.axisPointer),"label"),Zi(l9(n.tooltip).axisPointer,"label")}function DAe(n,e){for(var t=e.split(","),r=n,i=0;i<t.length&&(r=r&&r[t[i]],r!=null);i++);return r}function NAe(n,e,t,r){for(var i=e.split(","),a=n,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];a[i[s]]==null&&(a[i[s]]=t)}function u9(n){n&&J(RAe,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var RAe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],LAe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],RI=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function wb(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<RI.length;t++){var r=RI[t][1],i=RI[t][0];e[r]!=null&&(e[i]=e[r])}}function c9(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function f9(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function IAe(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function Cee(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&Cee(n[t].children,e)}function Eee(n,e){EAe(n,e),n.series=Nr(n.series),J(n.series,function(t){if(Ft(t)){var r=t.type;if(r==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(r==="pie"||r==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),c9(t.label);var i=t.data;if(i&&!ds(i))for(var a=0;a<i.length;a++)c9(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(r==="gauge"){var o=DAe(t,"pointer.color");o!=null&&NAe(t,"itemStyle.color",o)}else if(r==="bar"){wb(t),wb(t.backgroundStyle),wb(t.emphasis);var i=t.data;if(i&&!ds(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(wb(i[a]),wb(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),f9(t),Cee(t.data,f9)}else r==="graph"||r==="sankey"?IAe(t):r==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Vt(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),u9(t)}}),n.dataRange&&(n.visualMap=n.dataRange),J(LAe,function(t){var r=n[t];r&&(Ke(r)||(r=[r]),J(r,function(i){u9(i)}))})}function OAe(n){var e=Tt();n.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]),a=t.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.push(o)}}),e.each(function(t){if(t.length!==0){var r=t[0].seriesModel,i=r.get("stackOrder")||"seriesAsc";i==="seriesDesc"&&t.reverse(),J(t,function(a,o){a.data.setCalculationInfo("stackedOnSeries",o>0?t[o-1].seriesModel:null)}),PAe(t)}})}function PAe(n){J(n,function(e,t){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(u,c,f){var h=o.get(e.stackedDimension,f);if(isNaN(h))return i;var d,v;s?v=o.getRawIndex(f):d=o.get(e.stackedByDimension,f);for(var g=NaN,y=t-1;y>=0;y--){var x=n[y];if(s||(v=x.data.rawIndexOf(x.stackedByDimension,d)),v>=0){var b=x.data.getByRawIndex(x.stackResultDimension,v);if(l==="all"||l==="positive"&&b>0||l==="negative"&&b<0||l==="samesign"&&h>=0&&b>0||l==="samesign"&&h<=0&&b<0){h=xwe(h,b),g=b;break}}}return r[0]=h,r[1]=g,r})})}var _N=(function(){function n(e){this.data=e.data||(e.sourceFormat===rc?{}:[]),this.sourceFormat=e.sourceFormat||_ee,this.seriesLayoutBy=e.seriesLayoutBy||Zu,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];i.type==null&&wee(this,r)===ro.Must&&(i.type="ordinal")}}return n})();function hB(n){return n instanceof _N}function FP(n,e,t){t=t||Dee(n);var r=e.seriesLayoutBy,i=kAe(n,t,r,e.sourceHeader,e.dimensions),a=new _N({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Pt(e)});return a}function dB(n){return new _N({data:n,sourceFormat:ds(n)?Tp:vl})}function zAe(n){return new _N({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:Pt(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function Dee(n){var e=_ee;if(ds(n))e=Tp;else if(Ke(n)){n.length===0&&(e=qa);for(var t=0,r=n.length;t<r;t++){var i=n[t];if(i!=null){if(Ke(i)||ds(i)){e=qa;break}else if(Ft(i)){e=gl;break}}}}else if(Ft(n)){for(var a in n)if(St(n,a)&&lo(n[a])){e=rc;break}}return e}function kAe(n,e,t,r,i){var a,o;if(!n)return{dimensionsDefine:h9(i),startIndex:o,dimensionsDetectedCount:a};if(e===qa){var s=n;r==="auto"||r==null?d9(function(u){u!=null&&u!=="-"&&(vt(u)?o==null&&(o=1):o=0)},t,s,10):o=Pn(r)?r:r?1:0,!i&&o===1&&(i=[],d9(function(u,c){i[c]=u!=null?u+"":""},t,s,1/0)),a=i?i.length:t===Om?s.length:s[0]?s[0].length:null}else if(e===gl)i||(i=BAe(n));else if(e===rc)i||(i=[],J(n,function(u,c){i.push(c)}));else if(e===vl){var l=o_(n[0]);a=Ke(l)&&l.length||1}return{startIndex:o,dimensionsDefine:h9(i),dimensionsDetectedCount:a}}function BAe(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return Rn(t)}function h9(n){if(n){var e=Tt();return $e(n,function(t,r){t=Ft(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function d9(n,e,t,r){if(e===Om)for(var i=0;i<t.length&&i<r;i++)n(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<r;i++)n(a[i],i)}function Nee(n){var e=n.sourceFormat;return e===gl||e===rc}var yg,xg,_g,bg,p9,v9,Ree=(function(){function n(e,t){var r=hB(e)?e:dB(e);this._source=r;var i=this._data=r.data,a=r.sourceFormat;r.seriesLayoutBy,a===Tp&&(this._offset=0,this._dimSize=t,this._data=i),v9(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=(function(){var e=n.prototype;e.pure=!1,e.persistent=!0})(),n.internalField=(function(){var e;v9=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,d=p9[pB(u,c)];if(je(o,d),u===Tp)o.getItem=t,o.count=i,o.fillStorage=r;else{var v=Lee(u,c);o.getItem=mt(v,null,s,f,h);var g=Iee(u,c);o.count=mt(g,null,s,f,h)}};var t=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},r=function(o,s,l,u){for(var c=this._data,f=this._dimSize,h=0;h<f;h++){for(var d=u[h],v=d[0]==null?1/0:d[0],g=d[1]==null?-1/0:d[1],y=s-o,x=l[h],b=0;b<y;b++){var T=c[b*f+h];x[o+b]=T,T<v&&(v=T),T>g&&(g=T)}d[0]=v,d[1]=g}},i=function(){return this._data?this._data.length/this._dimSize:0};p9=(e={},e[qa+"_"+Zu]={pure:!0,appendData:a},e[qa+"_"+Om]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[gl]={pure:!0,appendData:a},e[rc]={pure:!0,appendData:function(o){var s=this._data;J(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},e[vl]={appendData:a},e[Tp]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}})(),n})(),wA=function(n){Ke(n)||r$("series.data or dataset.source must be an array.")};yg={},yg[qa+"_"+Zu]=wA,yg[qa+"_"+Om]=wA,yg[gl]=wA,yg[rc]=function(n,e){for(var t=0;t<e.length;t++){var r=e[t].name;r==null&&r$("dimension name must not be null/undefined.")}},yg[vl]=wA;var g9=function(n,e,t,r){return n[r]},UAe=(xg={},xg[qa+"_"+Zu]=function(n,e,t,r){return n[r+e]},xg[qa+"_"+Om]=function(n,e,t,r,i){r+=e;for(var a=i||[],o=n,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[r]:null}return a},xg[gl]=g9,xg[rc]=function(n,e,t,r,i){for(var a=i||[],o=0;o<t.length;o++){var s=t[o].name,l=s!=null?n[s]:null;a[o]=l?l[r]:null}return a},xg[vl]=g9,xg);function Lee(n,e){var t=UAe[pB(n,e)];return t}var m9=function(n,e,t){return n.length},VAe=(_g={},_g[qa+"_"+Zu]=function(n,e,t){return Math.max(0,n.length-e)},_g[qa+"_"+Om]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},_g[gl]=m9,_g[rc]=function(n,e,t){var r=t[0].name,i=r!=null?n[r]:null;return i?i.length:0},_g[vl]=m9,_g);function Iee(n,e){var t=VAe[pB(n,e)];return t}var LI=function(n,e,t){return n[e]},FAe=(bg={},bg[qa]=LI,bg[gl]=function(n,e,t){return n[t]},bg[rc]=LI,bg[vl]=function(n,e,t){var r=o_(n);return r instanceof Array?r[e]:r},bg[Tp]=LI,bg);function Oee(n){var e=FAe[n];return e}function pB(n,e){return n===qa?n+"_"+e:n}function kx(n,e,t){if(n){var r=n.getRawDataItem(e);if(r!=null){var i=n.getStore(),a=i.getSource().sourceFormat;if(t!=null){var o=n.getDimensionIndex(t),s=i.getDimensionProperty(o);return Oee(a)(r,o,s)}else{var l=r;return a===vl&&(l=o_(r)),l}}}}var GAe=/\{@(.+?)\}/g,bN=(function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),i=this.getRawValue(e,t),a=r.getRawIndex(e),o=r.getName(e),s=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),u=l&&l[r.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,h=f==="series",d=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:a,data:s,dataType:t,value:i,color:u,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,i,a,o){t=t||"normal";var s=this.getData(r),l=this.getDataParams(e,r);if(o&&(l.value=o.interpolatedValue),i!=null&&Ke(l.value)&&(l.value=l.value[i]),!a){var u=s.getItemModel(e);a=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Nt(a))return l.status=t,l.dimensionIndex=i,a(l);if(vt(a)){var c=oB(a,l);return c.replace(GAe,function(f,h){var d=h.length,v=h;v.charAt(0)==="["&&v.charAt(d-1)==="]"&&(v=+v.slice(1,d-1));var g=kx(s,e,v);if(o&&Ke(o.interpolatedValue)){var y=s.getDimensionIndex(v);y>=0&&(g=o.interpolatedValue[y])}return g!=null?g+"":""})}},n.prototype.getRawValue=function(e,t){return kx(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n})();function y9(n){var e,t;return Ft(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function VS(n){return new HAe(n)}var HAe=(function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(o!==l||s!==u)&&(a="reset");function c(b){return!(b>=1)&&(b=1),b}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,v=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!r&&(f||d<v)){var g=this._progress;if(Ke(g))for(var y=0;y<g.length;y++)this._doProgress(g[y],d,v,l,u);else this._doProgress(g,d,v,l,u)}this._dueIndex=v;var x=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=x}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,i,a){x9.reset(t,r,i,a),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:x9.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,r;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(r=t.forceFirstProgress,t=t.progress),Ke(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n})(),x9=(function(){var n,e,t,r,i,a={reset:function(l,u,c,f){e=l,n=u,t=c,r=f,i=Math.ceil(r/t),a.next=t>1&&r>0?s:o}};return a;function o(){return e<n?e++:null}function s(){var l=e%i*t+Math.ceil(e/i),u=e>=n?null:l<r?l:e;return e++,u}})();function Mp(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!Pn(n)&&n!=null&&n!=="-"&&(n=+Sf(n)),n==null||n===""?NaN:Number(n))}var jAe=Tt({number:function(n){return parseFloat(n)},time:function(n){return+Sf(n)},trim:function(n){return vt(n)?ol(n):n}});function Pee(n){return jAe.get(n)}var zee={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},WAe=(function(){function n(e,t){if(!Pn(t)){var r="";tr(r)}this._opFn=zee[e],this._rvalFloat=vf(t)}return n.prototype.evaluate=function(e){return Pn(e)?this._opFn(e,this._rvalFloat):this._opFn(vf(e),this._rvalFloat)},n})(),kee=(function(){function n(e,t){var r=e==="desc";this._resultLT=r?1:-1,t==null&&(t=r?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=Pn(e)?e:vf(e),i=Pn(t)?t:vf(t),a=isNaN(r),o=isNaN(i);if(a&&(r=this._incomparable),o&&(i=this._incomparable),a&&o){var s=vt(e),l=vt(t);s&&(r=l?e:0),l&&(i=s?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n})(),YAe=(function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=vf(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var r=typeof e;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(t=vf(e)===this._rvalFloat)}return this._isEQ?t:!t},n})();function XAe(n,e){return n==="eq"||n==="ne"?new YAe(n==="eq",e):St(zee,n)?new WAe(n,e):null}var qAe=(function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return Mp(e,t)},n})();function ZAe(n,e){var t=new qAe,r=n.data,i=t.sourceFormat=n.sourceFormat,a=n.startIndex,o="";n.seriesLayoutBy!==Zu&&tr(o);var s=[],l={},u=n.dimensionsDefine;if(u)J(u,function(g,y){var x=g.name,b={index:y,name:x,displayName:g.displayName};if(s.push(b),x!=null){var T="";St(l,x)&&tr(T),l[x]=b}});else for(var c=0;c<n.dimensionsDetectedCount;c++)s.push({index:c});var f=Lee(i,Zu);e.__isBuiltIn&&(t.getRawDataItem=function(g){return f(r,a,s,g)},t.getRawData=mt(KAe,null,n)),t.cloneRawData=mt(JAe,null,n);var h=Iee(i,Zu);t.count=mt(h,null,r,a,s);var d=Oee(i);t.retrieveValue=function(g,y){var x=f(r,a,s,g);return v(x,y)};var v=t.retrieveValueFromItem=function(g,y){if(g!=null){var x=s[y];if(x)return d(g,y,x.name)}};return t.getDimensionInfo=mt(QAe,null,s,l),t.cloneAllDimensionInfo=mt($Ae,null,s),t}function KAe(n){var e=n.sourceFormat;if(!vB(e)){var t="";tr(t)}return n.data}function JAe(n){var e=n.sourceFormat,t=n.data;if(!vB(e)){var r="";tr(r)}if(e===qa){for(var i=[],a=0,o=t.length;a<o;a++)i.push(t[a].slice());return i}else if(e===gl){for(var i=[],a=0,o=t.length;a<o;a++)i.push(je({},t[a]));return i}}function QAe(n,e,t){if(t!=null){if(Pn(t)||!isNaN(t)&&!St(e,t))return n[t];if(St(e,t))return e[t]}}function $Ae(n){return Pt(n)}var Bee=Tt();function eCe(n){n=Pt(n);var e=n.type,t="";e||tr(t);var r=e.split(":");r.length!==2&&tr(t);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),n.__isBuiltIn=i,Bee.set(e,n)}function tCe(n,e,t){var r=Nr(n),i=r.length,a="";i||tr(a);for(var o=0,s=i;o<s;o++){var l=r[o];e=nCe(l,e),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function nCe(n,e,t,r){var i="";e.length||tr(i),Ft(n)||tr(i);var a=n.type,o=Bee.get(a);o||tr(i);var s=$e(e,function(u){return ZAe(u,o)}),l=Nr(o.transform({upstream:s[0],upstreamList:s,config:Pt(n.config)}));return $e(l,function(u,c){var f="";Ft(u)||tr(f),u.data||tr(f);var h=Dee(u.data);vB(h)||tr(f);var d,v=e[0];if(v&&c===0&&!u.dimensions){var g=v.startIndex;g&&(u.data=v.data.slice(0,g).concat(u.data)),d={seriesLayoutBy:Zu,sourceHeader:g,dimensions:v.metaRawOption.dimensions}}else d={seriesLayoutBy:Zu,sourceHeader:0,dimensions:u.dimensions};return FP(u.data,d,null)})}function vB(n){return n===qa||n===gl}var SN="undefined",rCe=typeof Uint32Array===SN?Array:Uint32Array,iCe=typeof Uint16Array===SN?Array:Uint16Array,Uee=typeof Int32Array===SN?Array:Int32Array,_9=typeof Float64Array===SN?Array:Float64Array,Vee={float:_9,int:Uee,ordinal:Array,number:Array,time:_9},II;function My(n){return n>65535?rCe:iCe}function Ay(){return[1/0,-1/0]}function aCe(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function b9(n,e,t,r,i){var a=Vee[t||"float"];if(i){var o=n[e],s=o&&o.length;if(s!==r){for(var l=new a(r),u=0;u<s;u++)l[u]=o[u];n[e]=l}}else n[e]=new a(r)}var GP=(function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Tt()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=II[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],Nee(i),this._dimensions=$e(t,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},r.set(e,a),this._chunks[a]=new Vee[t||"float"](this._rawCount),this._rawExtent[a]=Ay(),a},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,o=i.ordinalOffset||0,s=r.length;o===0&&(a[e]=Ay());for(var l=a[e],u=o;u<s;u++){var c=r[u]=t.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=t,i.ordinalOffset=s,i.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],r=t.ordinalMeta;return r},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(e.length,t||0),u=0;u<a;u++){var c=i[u];b9(r,u,c.type,l,!0)}for(var f=[],h=s;h<l;h++)for(var d=h-s,v=0;v<a;v++){var c=i[v],g=II.arrayRows.call(this,e[d]||f,c.property,d,v);r[v][h]=g;var y=o[v];g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(e,t,r){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=$e(o,function(b){return b.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=Ay()),b9(a,c,f.type,t,r)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var h=[],d=e;d<t;d++){h=i.getItem(d,h);for(var v=0;v<s;v++){var g=a[v],y=this._dimValueGetter(h,u[v],d,v);g[d]=y;var x=l[v];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,o=i.length;a<o;a++)r.push(this.get(i[a],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],r=0;if(t)for(var i=0,a=this.count();i<a;i++){var o=this.get(e,i);isNaN(o)||(r+=o)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var r=t.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(t[o]<e)i=o+1;else if(t[o]>e)a=o-1;else return o}return-1},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=t.constructor,i=this._count;if(r===Array){e=new r(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new r(t.buffer,0,i)}else{var r=My(this._rawCount);e=new r(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=My(r._rawCount),o=new a(i),s=[],l=e.length,u=0,c=e[0],f=r._chunks,h=0;h<i;h++){var d=void 0,v=r.getRawIndex(h);if(l===0)d=t(h);else if(l===1){var g=f[c][v];d=t(g,h)}else{for(var y=0;y<l;y++)s[y]=f[e[y]][v];s[y]=h,d=t.apply(null,s)}d&&(o[u++]=v)}return u<i&&(r._indices=o),r._count=u,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var i=Rn(e),a=i.length;if(!a)return this;var o=t.count(),s=My(t._rawCount),l=new s(o),u=0,c=i[0],f=e[c][0],h=e[c][1],d=t._chunks,v=!1;if(!t._indices){var g=0;if(a===1){for(var y=d[i[0]],x=0;x<r;x++){var b=y[x];(b>=f&&b<=h||isNaN(b))&&(l[u++]=g),g++}v=!0}else if(a===2){for(var y=d[i[0]],T=d[i[1]],M=e[i[1]][0],C=e[i[1]][1],x=0;x<r;x++){var b=y[x],D=T[x];(b>=f&&b<=h||isNaN(b))&&(D>=M&&D<=C||isNaN(D))&&(l[u++]=g),g++}v=!0}}if(!v)if(a===1)for(var x=0;x<o;x++){var R=t.getRawIndex(x),b=d[i[0]][R];(b>=f&&b<=h||isNaN(b))&&(l[u++]=R)}else for(var x=0;x<o;x++){for(var I=!0,R=t.getRawIndex(x),L=0;L<a;L++){var O=i[L],b=d[O][R];(b<e[O][0]||b>e[O][1])&&(I=!1)}I&&(l[u++]=t.getRawIndex(x))}return u<o&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var i=e._chunks,a=[],o=t.length,s=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=Ay();for(var f=0;f<s;f++){for(var h=e.getRawIndex(f),d=0;d<o;d++)l[d]=i[t[d]][h];l[o]=f;var v=r&&r.apply(null,l);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var c=0;c<v.length;c++){var g=t[c],y=v[c],x=u[g],b=i[g];b&&(b[h]=y),y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}}},n.prototype.lttbDownSample=function(e,t){var r=this.clone([e],!0),i=r._chunks,a=i[e],o=this.count(),s=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,f,h,d=new(My(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));d[s++]=u;for(var v=1;v<o-1;v+=l){for(var g=Math.min(v+l,o-1),y=Math.min(v+l*2,o),x=(y+g)/2,b=0,T=g;T<y;T++){var M=this.getRawIndex(T),C=a[M];isNaN(C)||(b+=C)}b/=y-g;var D=v,R=Math.min(v+l,o),I=v-1,L=a[u];c=-1,h=D;for(var O=-1,B=0,T=D;T<R;T++){var M=this.getRawIndex(T),C=a[M];if(isNaN(C)){B++,O<0&&(O=M);continue}f=Math.abs((I-x)*(C-L)-(I-T)*(b-L)),f>c&&(c=f,h=M)}B>0&&B<R-D&&(d[s++]=Math.min(O,h),h=Math.max(O,h)),d[s++]=h,u=h}return d[s++]=this.getRawIndex(o-1),r._count=s,r._indices=d,r.getRawIndex=this._getRawIdx,r},n.prototype.minmaxDownSample=function(e,t){for(var r=this.clone([e],!0),i=r._chunks,a=Math.floor(1/t),o=i[e],s=this.count(),l=new(My(this._rawCount))(Math.ceil(s/a)*2),u=0,c=0;c<s;c+=a){var f=c,h=o[this.getRawIndex(f)],d=c,v=o[this.getRawIndex(d)],g=a;c+a>s&&(g=s-c);for(var y=0;y<g;y++){var x=this.getRawIndex(c+y),b=o[x];b<h&&(h=b,f=c+y),b>v&&(v=b,d=c+y)}var T=this.getRawIndex(f),M=this.getRawIndex(d);f<d?(l[u++]=T,l[u++]=M):(l[u++]=M,l[u++]=T)}return r._count=u,r._indices=l,r._updateGetRawIdx(),r},n.prototype.downSample=function(e,t,r,i){for(var a=this.clone([e],!0),o=a._chunks,s=[],l=Math.floor(1/t),u=o[e],c=this.count(),f=a._rawExtent[e]=Ay(),h=new(My(this._rawCount))(Math.ceil(c/l)),d=0,v=0;v<c;v+=l){l>c-v&&(l=c-v,s.length=l);for(var g=0;g<l;g++){var y=this.getRawIndex(v+g);s[g]=u[y]}var x=r(s),b=this.getRawIndex(Math.min(v+i(s,x)||0,c-1));u[b]=x,x<f[0]&&(f[0]=x),x>f[1]&&(f[1]=x),h[d++]=b}return a._count=d,a._indices=h,a._updateGetRawIdx(),a},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(r){case 0:t(a);break;case 1:t(i[e[0]][s],a);break;case 2:t(i[e[0]][s],i[e[1]][s],a);break;default:for(var l=0,u=[];l<r;l++)u[l]=i[e[l]][s];u[l]=a,t.apply(null,u)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=Ay();if(!t)return r;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=r;for(var s=o[0],l=o[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=t[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[e]=o,o},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][t]);return r},n.prototype.clone=function(e,t){var r=new n,i=this._chunks,a=e&&eu(e,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)r._chunks[o]=a[o]?aCe(i[o]):i[o];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Pt(this._extent),e._rawExtent=Pt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=(function(){function e(t,r,i,a){return Mp(t[a],this._dimensions[a])}II={arrayRows:e,objectRows:function(t,r,i,a){return Mp(t[r],this._dimensions[a])},keyedColumns:e,original:function(t,r,i,a){var o=t&&(t.value==null?t:t.value);return Mp(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(t,r,i,a){return t[a]}}})(),n})(),Fee=(function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length,i,a;if(TA(e)){var o=e,s=void 0,l=void 0,u=void 0;if(r){var c=t[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),l=ds(s)?Tp:vl,a=[];var f=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},d=At(f.seriesLayoutBy,h.seriesLayoutBy)||null,v=At(f.sourceHeader,h.sourceHeader),g=At(f.dimensions,h.dimensions),y=d!==h.seriesLayoutBy||!!v!=!!h.sourceHeader||g;i=y?[FP(s,{seriesLayoutBy:d,sourceHeader:v,dimensions:g},l)]:[]}else{var x=e;if(r){var b=this._applyTransform(t);i=b.sourceList,a=b.upstreamSignList}else{var T=x.get("source",!0);i=[FP(T,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&w9(a)}var o,s=[],l=[];return J(e,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&w9(f),s.push(c),l.push(u._getVersionSign())}),r?o=tCe(r,s,{datasetIndex:t.componentIndex}):i!=null&&(o=[zAe(s[0])]),{sourceList:o,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[r];if(!s){var l=this._getUpstreamSourceManagers()[0];TA(this._sourceHost)&&l?s=l._innerGetDataStore(e,t,r):(s=new GP,s.initData(new Ree(t,e.length),e)),o[r]=s}return s},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(TA(e)){var t=uB(e);return t?[t.getSourceManager()]:[]}else return $e(fAe(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,r,i;if(TA(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},n})();function S9(n){var e=n.option.transform;e&&v2(n.option.transform)}function TA(n){return n.mainType==="series"}function w9(n){throw new Error(n)}var oCe="line-height:1";function Gee(n){var e=n.lineHeight;return e==null?oCe:"line-height:"+Oo(e+"")+"px"}function Hee(n,e){var t=n.color||De.color.tertiary,r=n.fontSize||12,i=n.fontWeight||"400",a=n.color||De.color.secondary,o=n.fontSize||14,s=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Oo(r+"")+"px;color:"+Oo(t)+";font-weight:"+Oo(i+""),valueStyle:"font-size:"+Oo(o+"")+"px;color:"+Oo(a)+";font-weight:"+Oo(s+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var sCe=[0,10,20,30],lCe=["",`
`,`

`,`


`];function ea(n,e){return e.type=n,e}function HP(n){return n.type==="section"}function jee(n){return HP(n)?uCe:cCe}function Wee(n){if(HP(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return J(n.blocks,function(i){var a=Wee(i);a>=e&&(e=a+ +(r&&(!a||HP(i)&&!i.noHeader)))}),e}return 0}function uCe(n,e,t,r){var i=e.noHeader,a=fCe(Wee(e)),o=[],s=e.blocks||[];uo(!s||Ke(s)),s=s||[];var l=n.orderMode;if(e.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(St(u,l)){var c=new kee(u[l],null);s.sort(function(g,y){return c.evaluate(g.sortParam,y.sortParam)})}else l==="seriesDesc"&&s.reverse()}J(s,function(g,y){var x=e.valueFormatter,b=jee(g)(x?je(je({},n),{valueFormatter:x}):n,g,y>0?a.html:0,r);b!=null&&o.push(b)});var f=n.renderMode==="richText"?o.join(a.richText):jP(r,o.join(""),i?t:a.html);if(i)return f;var h=kP(e.header,"ordinal",n.useUTC),d=Hee(r,n.renderMode).nameStyle,v=Gee(r);return n.renderMode==="richText"?Yee(n,h,d)+a.richText+f:jP(r,'<div style="'+d+";"+v+';">'+Oo(h)+"</div>"+f,t)}function cCe(n,e,t,r){var i=n.renderMode,a=e.noName,o=e.noValue,s=!e.markerType,l=e.name,u=n.useUTC,c=e.valueFormatter||n.valueFormatter||function(M){return M=Ke(M)?M:[M],$e(M,function(C,D){return kP(C,Ke(d)?d[D]:d,u)})};if(!(a&&o)){var f=s?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||De.color.secondary,i),h=a?"":kP(l,"ordinal",u),d=e.valueType,v=o?[]:c(e.value,e.dataIndex),g=!s||!a,y=!s&&a,x=Hee(r,i),b=x.nameStyle,T=x.valueStyle;return i==="richText"?(s?"":f)+(a?"":Yee(n,h,b))+(o?"":pCe(n,v,g,y,T)):jP(r,(s?"":f)+(a?"":hCe(h,!s,b))+(o?"":dCe(v,g,y,T)),t)}}function T9(n,e,t,r,i,a){if(n){var o=jee(n),s={useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter};return o(s,n,0,a)}}function fCe(n){return{html:sCe[n],richText:lCe[n]}}function jP(n,e,t){var r='<div style="clear:both"></div>',i="margin: "+t+"px 0 0",a=Gee(n);return'<div style="'+i+";"+a+';">'+e+r+"</div>"}function hCe(n,e,t){var r=e?"margin-left:2px":"";return'<span style="'+t+";"+r+'">'+Oo(n)+"</span>"}function dCe(n,e,t,r){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return n=Ke(n)?n:[n],'<span style="'+a+";"+r+'">'+$e(n,function(o){return Oo(o)}).join("&nbsp;&nbsp;")+"</span>"}function Yee(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function pCe(n,e,t,r,i){var a=[i],o=r?10:20;return t&&a.push({padding:[0,0,0,o],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(Ke(e)?e.join("  "):e,a)}function Xee(n,e){var t=n.getData().getItemVisual(e,"style"),r=t[n.visualDrawType];return bm(r)}function qee(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var OI=(function(){function n(){this.richTextStyles={},this._nextStyleNameId=t$()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var i=r==="richText"?this._generateStyleName():null,a=lee({color:t,type:e,renderMode:r,markerId:i});return vt(a)?a:(this.richTextStyles[i]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};Ke(t)?J(t,function(a){return je(r,a)}):je(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},n})();function Zee(n){var e=n.series,t=n.dataIndex,r=n.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=e.getRawValue(t),l=Ke(s),u=Xee(e,t),c,f,h,d;if(o>1||l&&!o){var v=vCe(s,e,t,a,u);c=v.inlineValues,f=v.inlineValueTypes,h=v.blocks,d=v.inlineValues[0]}else if(o){var g=i.getDimensionInfo(a[0]);d=c=kx(i,t,a[0]),f=g.type}else d=c=l?s[0]:s;var y=Ck(e),x=y&&e.name||"",b=i.getName(t),T=r?x:b;return ea("section",{header:x,noHeader:r||!y,sortParam:d,blocks:[ea("nameValue",{markerType:"item",markerColor:u,name:T,noName:!ol(T),value:c,valueType:f,dataIndex:t})].concat(h||[])})}function vCe(n,e,t,r,i){var a=e.getData(),o=eu(n,function(f,h,d){var v=a.getDimensionInfo(d);return f=f||v&&v.tooltip!==!1&&v.displayName!=null},!1),s=[],l=[],u=[];r.length?J(r,function(f){c(kx(a,t,f),f)}):J(n,c);function c(f,h){var d=a.getDimensionInfo(h);!d||d.otherDims.tooltip===!1||(o?u.push(ea("nameValue",{markerType:"subItem",markerColor:i,name:d.displayName,value:f,valueType:d.type})):(s.push(f),l.push(d.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Zd=Sn();function MA(n,e){return n.getName(e)||n.getId(e)}var OC="__universalTransitionEnabled",_r=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=VS({count:mCe,reset:yCe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=Zd(this).sourceManager=new Fee(this);a.prepareSource();var o=this.getInitialData(t,i);A9(o,this),this.dataTask.context.data=o,Zd(this).dataBeforeProcessed=o,M9(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=C2(this),a=i?Im(t):{},o=this.subType;bn.hasClass(o)&&(o+="Series"),sn(t,r.getTheme().get(this.subType)),sn(t,this.getDefaultOption()),vm(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&mf(t,a,i)},e.prototype.mergeOption=function(t,r){t=sn(this.option,t,!0),this.fillDataTextStyle(t.data);var i=C2(this);i&&mf(this.option,t,i);var a=Zd(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(t,r);A9(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Zd(this).dataBeforeProcessed=o,M9(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!ds(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&vm(t[i],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){var r=this.getRawData();r.appendData(t.data)},e.prototype.getData=function(t){var r=WP(this);if(r){var i=r.context.data;return t==null||!i.getLinkedData?i:i.getLinkedData(t)}else return Zd(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=WP(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}Zd(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Tt(t)},e.prototype.getSourceManager=function(){return Zd(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Zd(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.indicesOfNearest=function(t,r,i,a){var o=this.getData(),s=this.coordinateSystem,l=s&&s.getAxis(t);if(!s||!l)return[];var u=l.dataToCoord(i);a==null&&(a=1/0);var c=[],f=1/0,h=-1,d=0;return o.each(r,function(v,g){var y=l.dataToCoord(v),x=u-y,b=Math.abs(x);b<=a&&((b<f||b===f&&x>=0&&h<0)&&(f=b,h=x,d=0),x===h&&(c[d++]=g))}),c.length=d,c},e.prototype.formatTooltip=function(t,r,i){return Zee({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Dn.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,i){var a=this.ecModel,o=cB.prototype.getColorFromPalette.call(this,t,r,i);return o||(o=a.getColorFromPalette(t,r,i)),o},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<t.length;s++){var l=t[s],u=MA(o,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,r){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=Rn(t),i=[],a=0;a<r.length;a++){var o=t[r[a]];o>=0&&i.push(o)}return i},e.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[MA(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[OC])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,r){var i,a,o=this.option,s=o.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){Ft(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=r[c],h=MA(t,f);u[h]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(f)}}else if(s==="single"||s===!0){var d=r[l-1],h=MA(t,d);o.selectedMap=(i={},i[h]=!0,i),this._selectedDataIndicesMap=(a={},a[h]=t.getRawIndex(d),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return bn.registerClass(t)},e.protoInitialize=(function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"})(),e})(bn);Ci(_r,bN);Ci(_r,cB);f$(_r,bn);function M9(n){var e=n.name;Ck(n)||(n.name=gCe(n)||e)}function gCe(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return J(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function mCe(n){return n.model.getRawData().count()}function yCe(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),xCe}function xCe(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function A9(n,e){J(Nx(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,tn(_Ce,e))})}function _Ce(n,e){var t=WP(n);return t&&t.setOutputEnd((e||this).count()),e}function WP(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}var Rr=(function(){function n(){this.group=new zt,this.uid=p_("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){},n.prototype.updateLayout=function(e,t,r,i){},n.prototype.updateVisual=function(e,t,r,i){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n})();Dk(Rr);lN(Rr);function m_(){var n=Sn();return function(e){var t=n(e),r=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,o=t.large=!!(r&&r.large),s=t.progressiveRender=!!(r&&r.progressiveRender);return(i!==o||a!==s)&&"reset"}}var Kee=Sn(),bCe=m_(),vr=(function(){function n(){this.group=new zt,this.uid=p_("viewChart"),this.renderTask=VS({plan:SCe,reset:wCe}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.highlight=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&E9(a,i,"emphasis")},n.prototype.downplay=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&E9(a,i,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateLayout=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.eachRendered=function(e){Wp(this.group,e)},n.markUpdateMethod=function(e,t){Kee(e).updateMethod=t},n.protoInitialize=(function(){var e=n.prototype;e.type="chart"})(),n})();function C9(n,e,t){n&&T2(n)&&(e==="emphasis"?Hh:jh)(n,t)}function E9(n,e,t){var r=gm(n,e),i=e&&e.highlightKey!=null?ZTe(e.highlightKey):null;r!=null?J(Nr(r),function(a){C9(n.getItemGraphicEl(a),t,i)}):n.eachItemGraphicEl(function(a){C9(a,t,i)})}Dk(vr);lN(vr);function SCe(n){return bCe(n.model)}function wCe(n){var e=n.model,t=n.ecModel,r=n.api,i=n.payload,a=e.pipelineContext.progressiveRender,o=n.view,s=i&&Kee(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](e,t,r,i),TCe[l]}var TCe={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},v3="\0__throttleOriginMethod",D9="\0__throttleRate",N9="\0__throttleType";function wN(n,e,t){var r,i=0,a=0,o=null,s,l,u,c;e=e||0;function f(){a=new Date().getTime(),o=null,n.apply(l,u||[])}var h=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];r=new Date().getTime(),l=this,u=d;var g=c||e,y=c||t;c=null,s=r-(y?i:a)-g,clearTimeout(o),y?o=setTimeout(f,g):s>=0?f():o=setTimeout(f,-s),i=r};return h.clear=function(){o&&(clearTimeout(o),o=null)},h.debounceNextCall=function(d){c=d},h}function y_(n,e,t,r){var i=n[e];if(i){var a=i[v3]||i,o=i[N9],s=i[D9];if(s!==t||o!==r){if(t==null||!r)return n[e]=a;i=n[e]=wN(a,t,r==="debounce"),i[v3]=a,i[N9]=r,i[D9]=t}return i}}function D2(n,e){var t=n[e];t&&t[v3]&&(t.clear&&t.clear(),n[e]=t[v3])}var R9=Sn(),L9={itemStyle:mm($$,!0),lineStyle:mm(Q$,!0)},MCe={lineStyle:"stroke",itemStyle:"fill"};function Jee(n,e){var t=n.visualStyleMapper||L9[e];return t||(console.warn("Unknown style type '"+e+"'."),L9.itemStyle)}function Qee(n,e){var t=n.visualDrawType||MCe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var ACe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),a=Jee(n,r),o=a(i),s=i.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=Qee(n,r),u=o[l],c=Nt(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var h=n.getColorFromPalette(n.name,null,e.getSeriesCount());o[l]||(o[l]=h,t.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||Nt(o.fill)?h:o.fill,o.stroke=o.stroke==="auto"||Nt(o.stroke)?h:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(d,v){var g=n.getDataParams(v),y=je({},o);y[l]=c(g),d.setItemVisual(v,"style",y)}}}},Tb=new Tn,CCe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=Jee(n,r),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[r]){Tb.option=l[r];var u=i(Tb),c=o.ensureUniqueItemVisual(s,"style");je(c,u),Tb.option.decal&&(o.setItemVisual(s,"decal",Tb.option.decal),Tb.option.decal.dirty=!0),a in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},ECe={performRawSeries:!0,overallReset:function(n){var e=Tt();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,a=e.get(i);a||(a={},e.set(i,a)),R9(t).scope=a}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var r=t.getRawData(),i={},a=t.getData(),o=R9(t).scope,s=t.visualStyleAccessPath||"itemStyle",l=Qee(t,s);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),r.each(function(u){var c=i[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var h=a.ensureUniqueItemVisual(c,"style"),d=r.getName(u)||u+"",v=r.count();h[l]=t.getColorFromPalette(d,o,v)}})}})}},AA=Math.PI;function DCe(n,e){e=e||{},Vt(e,{text:"loading",textColor:De.color.primary,fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255,255,255,0.8)",showSpinner:!0,color:De.color.theme[0],spinnerRadius:10,lineWidth:5,zlevel:0});var t=new zt,r=new mn({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var i=new On({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new mn({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var o;return e.showSpinner&&(o=new bw({shape:{startAngle:-AA/2,endAngle:-AA/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:AA*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:AA*3/2}).delay(300).start("circularInOut"),t.add(o)),t.resize=function(){var s=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(n.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),c=n.getHeight()/2;e.showSpinner&&o.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var $ee=(function(){function n(e,t,r,i){this._stageTaskMap=Tt(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,o=a?r.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),o=r.progressiveEnabled&&t.incrementalPrepareRender&&a>=r.threshold,s=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:o,modDataCount:l,large:s}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=Tt();e.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;r.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;J(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),o="";uo(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,t,r),i.overallReset&&this._createOverallStageTask(i,a,t,r)},this)},n.prototype.prepareView=function(e,t,r,i){var a=e.renderTask,o=a.context;o.model=t,o.ecModel=r,o.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,i){i=i||{};var a=!1,o=this;J(e,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,h=c.overallTask;if(h){var d,v=h.agentStubMap;v.each(function(y){s(i,y)&&(y.dirty(),d=!0)}),d&&h.dirty(),o.updatePayload(h,r);var g=o.getPerformArgs(h,i.block);v.each(function(y){y.perform(g)}),h.perform(g)&&(a=!0)}else f&&f.each(function(y,x){s(i,y)&&y.dirty();var b=o.getPerformArgs(y,i.block);b.skip=!l.performRawSeries&&t.isSeriesFiltered(y.context.model),o.updatePayload(y,r),y.perform(b)&&(a=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,i){var a=this,o=t.seriesTaskMap,s=t.seriesTaskMap=Tt(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,i).each(c);function c(f){var h=f.uid,d=s.set(h,o&&o.get(h)||VS({plan:OCe,reset:PCe,count:kCe}));d.context={model:f,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(f,d)}},n.prototype._createOverallStageTask=function(e,t,r,i){var a=this,o=t.overallTask=t.overallTask||VS({reset:NCe});o.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=Tt(),u=e.seriesType,c=e.getTargetSeries,f=!0,h=!1,d="";uo(!e.createOnAllSeries,d),u?r.eachRawSeriesByType(u,v):c?c(r,i).each(v):(f=!1,J(r.getSeries(),v));function v(g){var y=g.uid,x=l.set(y,s&&s.get(y)||(h=!0,VS({reset:RCe,onDirty:ICe})));x.context={model:g,overallProgress:f},x.agent=o,x.__block=f,a._pipe(g,x)}h&&o.dirty()},n.prototype._pipe=function(e,t){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},n.wrapStageHandler=function(e,t){return Nt(e)&&(e={overallReset:e,seriesType:BCe(e)}),e.uid=p_("stageHandler"),t&&(e.visualType=t),e},n})();function NCe(n){n.overallReset(n.ecModel,n.api,n.payload)}function RCe(n){return n.overallProgress&&LCe}function LCe(){this.agent.dirty(),this.getDownstream().dirty()}function ICe(){this.agent&&this.agent.dirty()}function OCe(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function PCe(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Nr(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?$e(e,function(t,r){return ete(r)}):zCe}var zCe=ete(0);function ete(n){return function(e,t){var r=t.data,i=t.resetDefines[n];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function kCe(n){return n.data.count()}function BCe(n){g3=null;try{n(N2,tte)}catch{}return g3}var N2={},tte={},g3;nte(N2,fB);nte(tte,Aee);N2.eachSeriesByType=N2.eachRawSeriesByType=function(n){g3=n};N2.eachComponent=function(n){n.mainType==="series"&&n.subType&&(g3=n.subType)};function nte(n,e){for(var t in e.prototype)n[t]=Mi}var Ht=De.darkColor,UCe=Ht.background,Mb=function(){return{axisLine:{lineStyle:{color:Ht.axisLine}},splitLine:{lineStyle:{color:Ht.axisSplitLine}},splitArea:{areaStyle:{color:[Ht.backgroundTint,Ht.backgroundTransparent]}},minorSplitLine:{lineStyle:{color:Ht.axisMinorSplitLine}},axisLabel:{color:Ht.axisLabel},axisName:{}}},I9={label:{color:Ht.secondary},itemStyle:{borderColor:Ht.borderTint},dividerLineStyle:{color:Ht.border}},rte={darkMode:!0,color:Ht.theme,backgroundColor:UCe,axisPointer:{lineStyle:{color:Ht.border},crossStyle:{color:Ht.borderShade},label:{color:Ht.tertiary}},legend:{textStyle:{color:Ht.secondary},pageTextStyle:{color:Ht.tertiary}},textStyle:{color:Ht.secondary},title:{textStyle:{color:Ht.primary},subtextStyle:{color:Ht.quaternary}},toolbox:{iconStyle:{borderColor:Ht.accent50}},tooltip:{backgroundColor:Ht.neutral20,defaultBorderColor:Ht.border,textStyle:{color:Ht.tertiary}},dataZoom:{borderColor:Ht.accent10,textStyle:{color:Ht.tertiary},brushStyle:{color:Ht.backgroundTint},handleStyle:{color:Ht.neutral00,borderColor:Ht.accent20},moveHandleStyle:{color:Ht.accent40},emphasis:{handleStyle:{borderColor:Ht.accent50}},dataBackground:{lineStyle:{color:Ht.accent30},areaStyle:{color:Ht.accent20}},selectedDataBackground:{lineStyle:{color:Ht.accent50},areaStyle:{color:Ht.accent30}}},visualMap:{textStyle:{color:Ht.secondary},handleStyle:{borderColor:Ht.neutral30}},timeline:{lineStyle:{color:Ht.accent10},label:{color:Ht.tertiary},controlStyle:{color:Ht.accent30,borderColor:Ht.accent30}},calendar:{itemStyle:{color:Ht.neutral00,borderColor:Ht.neutral20},dayLabel:{color:Ht.tertiary},monthLabel:{color:Ht.secondary},yearLabel:{color:Ht.secondary}},matrix:{x:I9,y:I9,backgroundColor:{borderColor:Ht.axisLine},body:{itemStyle:{borderColor:Ht.borderTint}}},timeAxis:Mb(),logAxis:Mb(),valueAxis:Mb(),categoryAxis:Mb(),line:{symbol:"circle"},graph:{color:Ht.theme},gauge:{title:{color:Ht.secondary},axisLine:{lineStyle:{color:[[1,Ht.neutral05]]}},axisLabel:{color:Ht.axisLabel},detail:{color:Ht.primary}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}},funnel:{itemStyle:{borderColor:Ht.background}},radar:(function(){var n=Mb();return n.axisName={color:Ht.axisLabel},n.axisLine.lineStyle.color=Ht.neutral20,n})(),treemap:{breadcrumb:{itemStyle:{color:Ht.neutral20,textStyle:{color:Ht.secondary}},emphasis:{itemStyle:{color:Ht.neutral30}}}},sunburst:{itemStyle:{borderColor:Ht.background}},map:{itemStyle:{borderColor:Ht.border,areaColor:Ht.neutral10},label:{color:Ht.tertiary},emphasis:{label:{color:Ht.primary},itemStyle:{areaColor:Ht.highlight}},select:{label:{color:Ht.primary},itemStyle:{areaColor:Ht.highlight}}},geo:{itemStyle:{borderColor:Ht.border,areaColor:Ht.neutral10},emphasis:{label:{color:Ht.primary},itemStyle:{areaColor:Ht.highlight}},select:{label:{color:Ht.primary},itemStyle:{color:Ht.highlight}}}};rte.categoryAxis.splitLine.show=!1;var VCe=(function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},i={};if(vt(e)){var a=nf(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};J(e,function(l,u){for(var c=!1,f=0;f<o.length;f++){var h=o[f],d=u.lastIndexOf(h);if(d>0&&d===u.length-h.length){var v=u.slice(0,d);v!=="data"&&(t.mainType=v,t[h.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,i,a));function c(f,h,d,v){return f[d]==null||h[v||d]===f[d]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n})(),YP=["symbol","symbolSize","symbolRotate","symbolOffset"],O9=YP.concat(["symbolKeepAspect"]),FCe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},i={},a=!1,o=0;o<YP.length;o++){var s=YP[o],l=n.get(s);Nt(l)?(a=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(je({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),e.isSeriesFiltered(n))return;var u=Rn(i);function c(f,h){for(var d=n.getRawValue(h),v=n.getDataParams(h),g=0;g<u.length;g++){var y=u[g];f.setItemVisual(h,y,i[y](d,v))}}return{dataEach:a?c:null}}},GCe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function r(i,a){for(var o=i.getItemModel(a),s=0;s<O9.length;s++){var l=O9[s],u=o.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:t.hasItemOption?r:null}}};function gB(n,e,t){switch(t){case"color":var r=n.getItemVisual(e,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function Aw(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function ite(n,e,t,r){switch(t){case"color":var i=n.ensureUniqueItemVisual(e,"style");i[n.getVisual("drawType")]=r,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,r);break}}function ate(n,e){function t(r,i){var a=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(o){a.push(o.seriesIndex)}),a}J([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(i,a,o){i=je({},i),o.dispatchAction(je(i,{type:r[1],seriesIndex:t(a,i)}))})})}function Cy(n,e,t,r,i){var a=n+e;t.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),h=gm(f,i.fromActionPayload);t.trigger(a,{type:a,seriesId:o.id,name:Ke(h)?f.getName(h[0]):f.getName(h),selected:vt(l)?l:je({},l)})}})}function HCe(n,e,t){n.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(Cy("map","selectchanged",e,i,r),Cy("pie","selectchanged",e,i,r)):r.fromAction==="select"?(Cy("map","selected",e,i,r),Cy("pie","selected",e,i,r)):r.fromAction==="unselect"&&(Cy("map","unselected",e,i,r),Cy("pie","unselected",e,i,r))})}function Kg(n,e,t){for(var r;n&&!(e(n)&&(r=n,t));)n=n.__hostTarget||n.parent;return r}var jCe=Math.round(Math.random()*9),WCe=typeof Object.defineProperty=="function",YCe=(function(){function n(){this._id="__ec_inner_"+jCe++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return WCe?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n})(),XCe=Mn.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r+a),n.lineTo(t-i,r+a),n.closePath()}}),qCe=Mn.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r),n.lineTo(t,r+a),n.lineTo(t-i,r),n.closePath()}}),ZCe=Mn.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),o=i/2,s=o*o/(a-o),l=r-a+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),h=Math.cos(u),d=o*.6,v=o*.7;n.moveTo(t-c,l+s),n.arc(t,l,o,Math.PI-u,Math.PI*2+u),n.bezierCurveTo(t+c-f*d,l+s+h*d,t,r-v,t,r),n.bezierCurveTo(t,r-v,t-c+f*d,l+s+h*d,t-c,l+s),n.closePath()}}),KCe=Mn.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.width,i=e.x,a=e.y,o=r/3*2;n.moveTo(i,a),n.lineTo(i+o,a+t),n.lineTo(i,a+t/4*3),n.lineTo(i-o,a+t),n.lineTo(i,a),n.closePath()}}),JCe={line:Bi,rect:mn,roundRect:mn,square:mn,circle:wf,diamond:qCe,pin:ZCe,arrow:KCe,triangle:XCe},QCe={line:function(n,e,t,r,i){i.x1=n,i.y1=e+r/2,i.x2=n+t,i.y2=e+r/2},rect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r},roundRect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(n,e,t,r,i){var a=Math.min(t,r);i.x=n,i.y=e,i.width=a,i.height=a},circle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.r=Math.min(t,r)/2},diamond:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r},pin:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},arrow:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},triangle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r}},m3={};J(JCe,function(n,e){m3[e]=new n});var $Ce=Mn.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=a3(n,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=t.y+t.height*.4),r},buildPath:function(n,e,t){var r=e.symbolType;if(r!=="none"){var i=m3[r];i||(r="rect",i=m3[r]),QCe[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(n,i.shape,t)}}});function eEe(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||De.color.neutral00,t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function Vi(n,e,t,r,i,a,o){var s=n.indexOf("empty")===0;s&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=Fk(n.slice(8),new Wt(e,t,r,i),o?"center":"cover"):n.indexOf("path://")===0?l=Px(n.slice(7),{},new Wt(e,t,r,i),o?"center":"cover"):l=new $Ce({shape:{symbolType:n,x:e,y:t,width:r,height:i}}),l.__isEmptyBrush=s,l.setColor=eEe,a&&l.setColor(a),l}function x_(n){return Ke(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Pm(n,e){if(n!=null)return Ke(n)||(n=[n,n]),[pt(n[0],e[0])||0,pt(At(n[1],n[0]),e[1])||0]}function Jg(n){return isFinite(n)}function tEe(n,e,t){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,o=e.y2==null?0:e.y2;e.global||(r=r*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,o=o*t.height+t.y),r=Jg(r)?r:0,i=Jg(i)?i:1,a=Jg(a)?a:0,o=Jg(o)?o:0;var s=n.createLinearGradient(r,a,i,o);return s}function nEe(n,e,t){var r=t.width,i=t.height,a=Math.min(r,i),o=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(o=o*r+t.x,s=s*i+t.y,l=l*a),o=Jg(o)?o:.5,s=Jg(s)?s:.5,l=l>=0&&Jg(l)?l:.5;var u=n.createRadialGradient(o,s,0,o,s,l);return u}function XP(n,e,t){for(var r=e.type==="radial"?nEe(n,e,t):tEe(n,e,t),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function rEe(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function CA(n){return parseInt(n,10)}function ix(n,e,t){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],o=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var s=document.defaultView.getComputedStyle(n);return(n[i]||CA(s[r])||CA(n.style[r]))-(CA(s[a])||0)-(CA(s[o])||0)|0}function iEe(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:Pn(n)?[n]:Ke(n)?n:null}function mB(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&iEe(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var i=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&i!==1&&(t=$e(t,function(a){return a/i}),r/=i)}return[t,r]}var aEe=new gf(!0);function y3(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function P9(n){return typeof n=="string"&&n!=="none"}function x3(n){var e=n.fill;return e!=null&&e!=="none"}function z9(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function k9(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function qP(n,e,t){var r=Nk(e.image,e.__image,t);if(uN(r)){var i=n.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*DS),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function oEe(n,e,t,r){var i,a=y3(t),o=x3(t),s=t.strokePercent,l=s<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||aEe,f=e.__dirty;if(!r){var h=t.fill,d=t.stroke,v=o&&!!h.colorStops,g=a&&!!d.colorStops,y=o&&!!h.image,x=a&&!!d.image,b=void 0,T=void 0,M=void 0,C=void 0,D=void 0;(v||g)&&(D=e.getBoundingRect()),v&&(b=f?XP(n,h,D):e.__canvasFillGradient,e.__canvasFillGradient=b),g&&(T=f?XP(n,d,D):e.__canvasStrokeGradient,e.__canvasStrokeGradient=T),y&&(M=f||!e.__canvasFillPattern?qP(n,h,e):e.__canvasFillPattern,e.__canvasFillPattern=M),x&&(C=f||!e.__canvasStrokePattern?qP(n,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=C),v?n.fillStyle=b:y&&(M?n.fillStyle=M:o=!1),g?n.strokeStyle=T:x&&(C?n.strokeStyle=C:a=!1)}var R=e.getGlobalScale();c.setScale(R[0],R[1],e.segmentIgnoreThreshold);var I,L;n.setLineDash&&t.lineDash&&(i=mB(e),I=i[0],L=i[1]);var O=!0;(u||f&Wy)&&(c.setDPR(n.dpr),l?c.setContext(null):(c.setContext(n),O=!1),c.reset(),e.buildPath(c,e.shape,r),c.toStatic(),e.pathUpdated()),O&&c.rebuildPath(n,l?s:1),I&&(n.setLineDash(I),n.lineDashOffset=L),r||(t.strokeFirst?(a&&k9(n,t),o&&z9(n,t)):(o&&z9(n,t),a&&k9(n,t))),I&&n.setLineDash([])}function sEe(n,e,t){var r=e.__image=Nk(t.image,e.__image,e,e.onload);if(!(!r||!uN(r))){var i=t.x||0,a=t.y||0,o=e.getWidth(),s=e.getHeight(),l=r.width/r.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=r.width,s=r.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;n.drawImage(r,u,c,t.sWidth,t.sHeight,i,a,o,s)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,f=o-u,h=s-c;n.drawImage(r,u,c,f,h,i,a,o,s)}else n.drawImage(r,i,a,o,s)}}function lEe(n,e,t){var r,i=t.text;if(i!=null&&(i+=""),i){n.font=t.font||Fh,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var a=void 0,o=void 0;n.setLineDash&&t.lineDash&&(r=mB(e),a=r[0],o=r[1]),a&&(n.setLineDash(a),n.lineDashOffset=o),t.strokeFirst?(y3(t)&&n.strokeText(i,t.x,t.y),x3(t)&&n.fillText(i,t.x,t.y)):(x3(t)&&n.fillText(i,t.x,t.y),y3(t)&&n.strokeText(i,t.x,t.y)),a&&n.setLineDash([])}}var B9=["shadowBlur","shadowOffsetX","shadowOffsetY"],U9=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function ote(n,e,t,r,i){var a=!1;if(!r&&(t=t||{},e===t))return!1;if(r||e.opacity!==t.opacity){Is(n,i),a=!0;var o=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(o)?im.opacity:o}(r||e.blend!==t.blend)&&(a||(Is(n,i),a=!0),n.globalCompositeOperation=e.blend||im.blend);for(var s=0;s<B9.length;s++){var l=B9[s];(r||e[l]!==t[l])&&(a||(Is(n,i),a=!0),n[l]=n.dpr*(e[l]||0))}return(r||e.shadowColor!==t.shadowColor)&&(a||(Is(n,i),a=!0),n.shadowColor=e.shadowColor||im.shadowColor),a}function V9(n,e,t,r,i){var a=R2(e,i.inHover),o=r?null:t&&R2(t,i.inHover)||{};if(a===o)return!1;var s=ote(n,a,o,r,i);if((r||a.fill!==o.fill)&&(s||(Is(n,i),s=!0),P9(a.fill)&&(n.fillStyle=a.fill)),(r||a.stroke!==o.stroke)&&(s||(Is(n,i),s=!0),P9(a.stroke)&&(n.strokeStyle=a.stroke)),(r||a.opacity!==o.opacity)&&(s||(Is(n,i),s=!0),n.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==u&&(s||(Is(n,i),s=!0),n.lineWidth=u)}for(var c=0;c<U9.length;c++){var f=U9[c],h=f[0];(r||a[h]!==o[h])&&(s||(Is(n,i),s=!0),n[h]=a[h]||f[1])}return s}function uEe(n,e,t,r,i){return ote(n,R2(e,i.inHover),t&&R2(t,i.inHover),r,i)}function ste(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}function cEe(n,e,t){for(var r=!1,i=0;i<n.length;i++){var a=n[i];r=r||a.isZeroArea(),ste(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=r}function fEe(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var F9=1,G9=2,H9=3,j9=4;function hEe(n){var e=x3(n),t=y3(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function Is(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function R2(n,e){return e&&n.__hoverStyle||n.style}function yB(n,e){Qg(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Qg(n,e,t,r){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~rl,e.__isRendered=!1;return}var a=e.__clipPaths,o=t.prevElClipPaths,s=!1,l=!1;if((!o||rEe(a,o))&&(o&&o.length&&(Is(n,t),n.restore(),l=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Is(n,t),n.save(),cEe(a,n,t),s=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=s=!0);var c=e instanceof Mn&&e.autoBatch&&hEe(e.style);s||fEe(i,u.transform)?(Is(n,t),ste(n,e)):c||Is(n,t);var f=R2(e,t.inHover);e instanceof Mn?(t.lastDrawType!==F9&&(l=!0,t.lastDrawType=F9),V9(n,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&n.beginPath(),oEe(n,e,f,c),c&&(t.batchFill=f.fill||"",t.batchStroke=f.stroke||"")):e instanceof Ox?(t.lastDrawType!==H9&&(l=!0,t.lastDrawType=H9),V9(n,e,u,l,t),lEe(n,e,f)):e instanceof Ra?(t.lastDrawType!==G9&&(l=!0,t.lastDrawType=G9),uEe(n,e,u,l,t),sEe(n,e,f)):e.getTemporalDisplayables&&(t.lastDrawType!==j9&&(l=!0,t.lastDrawType=j9),dEe(n,e,t)),c&&r&&Is(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function dEe(n,e,t){var r=e.getDisplayables(),i=e.getTemporalDisplayables();n.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},o,s;for(o=e.getCursor(),s=r.length;o<s;o++){var l=r[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Qg(n,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Qg(n,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var PI=new YCe,W9=new Rx(100),Y9=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Bx(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";n.dirty&&PI.delete(n);var a=PI.get(n);if(a)return a;var o=Vt(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/t,PI.set(n,s),n.dirty=!1,s;function l(u){for(var c=[t],f=!0,h=0;h<Y9.length;++h){var d=o[Y9[h]];if(d!=null&&!Ke(d)&&!vt(d)&&!Pn(d)&&typeof d!="boolean"){f=!1;break}c.push(d)}var v;if(f){v=c.join(",")+(i?"-svg":"");var g=W9.get(v);g&&(i?u.svgElement=g:u.image=g)}var y=ute(o.dashArrayX),x=pEe(o.dashArrayY),b=lte(o.symbol),T=vEe(y),M=cte(x),C=!i&&ks.createCanvas(),D=i&&{tag:"g",attrs:{},key:"dcl",children:[]},R=L(),I;C&&(C.width=R.width*t,C.height=R.height*t,I=C.getContext("2d")),O(),f&&W9.put(v,C||D),u.image=C,u.svgElement=D,u.svgWidth=R.width,u.svgHeight=R.height;function L(){for(var B=1,V=0,F=T.length;V<F;++V)B=lH(B,T[V]);for(var k=1,V=0,F=b.length;V<F;++V)k=lH(k,b[V].length);B*=k;var Y=M*T.length*b.length;return{width:Math.max(1,Math.min(B,o.maxTileWidth)),height:Math.max(1,Math.min(Y,o.maxTileHeight))}}function O(){I&&(I.clearRect(0,0,C.width,C.height),o.backgroundColor&&(I.fillStyle=o.backgroundColor,I.fillRect(0,0,C.width,C.height)));for(var B=0,V=0;V<x.length;++V)B+=x[V];if(B<=0)return;for(var F=-M,k=0,Y=0,H=0;F<R.height;){if(k%2===0){for(var W=Y/2%b.length,q=0,K=0,re=0;q<R.width*2;){for(var j=0,V=0;V<y[H].length;++V)j+=y[H][V];if(j<=0)break;if(K%2===0){var Q=(1-o.symbolSize)*.5,ne=q+y[H][K]*Q,se=F+x[k]*Q,he=y[H][K]*o.symbolSize,pe=x[k]*o.symbolSize,xe=re/2%b[W].length;Te(ne,se,he,pe,b[W][xe])}q+=y[H][K],++re,++K,K===y[H].length&&(K=0)}++H,H===y.length&&(H=0)}F+=x[k],++Y,++k,k===x.length&&(k=0)}function Te(Me,Re,Ue,et,ct){var X=i?1:t,te=Vi(ct,Me*X,Re*X,Ue*X,et*X,o.color,o.symbolKeepAspect);if(i){var ve=r.painter.renderOneToVNode(te);ve&&D.children.push(ve)}else yB(I,te)}}}}function lte(n){if(!n||n.length===0)return[["rect"]];if(vt(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!vt(n[t])){e=!1;break}if(e)return lte([n]);for(var r=[],t=0;t<n.length;++t)vt(n[t])?r.push([n[t]]):r.push(n[t]);return r}function ute(n){if(!n||n.length===0)return[[0,0]];if(Pn(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,r=0;r<n.length;++r)if(!Pn(n[r])){t=!1;break}if(t)return ute([n]);for(var i=[],r=0;r<n.length;++r)if(Pn(n[r])){var e=Math.ceil(n[r]);i.push([e,e])}else{var e=$e(n[r],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function pEe(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Pn(n)){var e=Math.ceil(n);return[e,e]}var t=$e(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}function vEe(n){return $e(n,function(e){return cte(e)})}function cte(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function gEe(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");if(s){var l=r.ensureUniqueItemVisual(o,"style");l.decal=Bx(s,e)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=Bx(i,e)}}})}var Bu=new au,fte={};function mEe(n,e){fte[n]=e}function hte(n){return fte[n]}var dte={};function pte(n,e){dte[n]=e}function yEe(n){return dte[n]}var xEe="6.0.0",_Ee={zrender:"6.0.0"},bEe=1,SEe=800,wEe=900,TEe=1e3,MEe=2e3,AEe=5e3,vte=1e3,CEe=1100,xB=2e3,gte=3e3,EEe=4e3,TN=4500,DEe=4600,NEe=5e3,REe=6e3,mte=7e3,yte={PROCESSOR:{FILTER:TEe,SERIES_FILTER:SEe,STATISTIC:AEe},VISUAL:{LAYOUT:vte,PROGRESSIVE_LAYOUT:CEe,GLOBAL:xB,CHART:gte,POST_CHART_LAYOUT:DEe,COMPONENT:EEe,BRUSH:NEe,CHART_ITEM:TN,ARIA:REe,DECAL:mte}},la="__flagInMainProcess",EA="__mainProcessVersion",Ga="__pendingUpdate",zI="__needsUpdateStatus",X9=/^[a-zA-Z0-9_]+$/,kI="__connectUpdateStatus",q9=0,LEe=1,IEe=2;function xte(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return bte(this,n,e)}}function _te(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bte(this,n,e)}}function bte(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),au.prototype[e].apply(n,t)}var Ste=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(au),wte=Ste.prototype;wte.on=_te("on");wte.off=_te("off");var Sg,BI,DA,hh,NA,UI,VI,Ey,Dy,Z9,K9,FI,J9,RA,Q9,Tte,Bl,$9,Ny,_3=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this,new VCe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},a._dom=t;var o="canvas",s="auto",l=!1;a[EA]=1,i.ssr&&KQ(function(h){var d=Xt(h),v=d.dataIndex;if(v!=null){var g=Tt();return g.set("series_index",d.seriesIndex),g.set("data_index",v),d.ssrType&&g.set("ssr_type",d.ssrType),g}});var u=a._zr=gP(t,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:At(i.useDirtyRect,l),useCoarsePointer:At(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=wN(mt(u.flush,u),17),a._updateTheme(r),a._locale=UMe(i.locale||eee),a._coordSysMgr=new g_;var c=a._api=Q9(a);function f(h,d){return h.__prio-d.__prio}return bC(S3,f),bC(JP,f),a._scheduler=new $ee(a,c,JP,S3),a._messageCenter=new Ste,a._initEvents(),a.resize=mt(a.resize,a),u.animation.on("frame",a._onframe,a),Z9(u,a),K9(u,a),v2(a),a}return e.prototype._onframe=function(){if(!this._disposed){$9(this);var t=this._scheduler;if(this[Ga]){var r=this[Ga].silent;this[la]=!0,Ny(this);try{Sg(this),hh.update.call(this,null,this[Ga].updateParams)}catch(l){throw this[la]=!1,this[Ga]=null,l}this._zr.flush(),this[la]=!1,this[Ga]=null,Ey.call(this,r),Dy.call(this,r)}else if(t.unfinished){var i=bEe,a=this._model,o=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),UI(this,a),t.performVisualTasks(a),RA(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,i){if(!this[la]){if(this._disposed){this.id;return}var a,o,s;if(Ft(r)&&(i=r.lazyUpdate,a=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[la]=!0,Ny(this),!this._model||r){var l=new SAe(this._api),u=this._theme,c=this._model=new fB;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:o},QP);var f={seriesTransition:s,optionChanged:!0};if(i)this[Ga]={silent:a,updateParams:f},this[la]=!1,this.getZr().wakeUp();else{try{Sg(this),hh.update.call(this,null,f)}catch(h){throw this[Ga]=null,this[la]=!1,h}this._ssr||this._zr.flush(),this[Ga]=null,this[la]=!1,Ey.call(this,a),Dy.call(this,a)}}},e.prototype.setTheme=function(t,r){if(!this[la]){if(this._disposed){this.id;return}var i=this._model;if(i){var a=r&&r.silent,o=null;this[Ga]&&(a==null&&(a=this[Ga].silent),o=this[Ga].updateParams,this[Ga]=null),this[la]=!0,Ny(this);try{this._updateTheme(t),i.setTheme(this._theme),Sg(this),hh.update.call(this,{type:"setTheme"},o)}catch(s){throw this[la]=!1,s}this[la]=!1,Ey.call(this,a),Dy.call(this,a)}}},e.prototype._updateTheme=function(t){vt(t)&&(t=Mte[t]),t&&(t=Pt(t),t&&Eee(t,!0),this._theme=t)},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Dn.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){var t=this._zr,r=t.storage.getDisplayList();return J(r,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var r=t.excludeComponents,i=this._model,a=[],o=this;J(r,function(l){i.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return J(a,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var r=t.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(w3[i]){var l=s,u=s,c=-s,f=-s,h=[],d=t&&t.pixelRatio||this.getDevicePixelRatio();J(sm,function(T,M){if(T.group===i){var C=r?T.getZr().painter.getSvgDom().innerHTML:T.renderToCanvas(Pt(t)),D=T.getDom().getBoundingClientRect();l=a(D.left,l),u=a(D.top,u),c=o(D.right,c),f=o(D.bottom,f),h.push({dom:C,left:D.left,top:D.top})}}),l*=d,u*=d,c*=d,f*=d;var v=c-l,g=f-u,y=ks.createCanvas(),x=gP(y,{renderer:r?"svg":"canvas"});if(x.resize({width:v,height:g}),r){var b="";return J(h,function(T){var M=T.left-l,C=T.top-u;b+='<g transform="translate('+M+","+C+')">'+T.dom+"</g>"}),x.painter.getSvgRoot().innerHTML=b,t.connectedBackgroundColor&&x.painter.setBackgroundColor(t.connectedBackgroundColor),x.refreshImmediately(),x.painter.toDataURL()}else return t.connectedBackgroundColor&&x.add(new mn({shape:{x:0,y:0,width:v,height:g},style:{fill:t.connectedBackgroundColor}})),J(h,function(T){var M=new Ra({style:{x:T.left*d-l,y:T.top*d-u,image:T.dom}});x.add(M)}),x.refreshImmediately(),y.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,r,i){return NA(this,"convertToPixel",t,r,i)},e.prototype.convertToLayout=function(t,r,i){return NA(this,"convertToLayout",t,r,i)},e.prototype.convertFromPixel=function(t,r,i){return NA(this,"convertFromPixel",t,r,i)},e.prototype.containPixel=function(t,r){if(this._disposed){this.id;return}var i=this._model,a,o=fx(i,t);return J(o,function(s,l){l.indexOf("Models")>=0&&J(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(r,u))}},this)},this),!!a},e.prototype.getVisual=function(t,r){var i=this._model,a=fx(i,t,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?gB(s,l,r):Aw(s,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;J(OEe,function(i){var a=function(o){var s=t.getModel(),l=o.target,u,c=i==="globalout";if(c?u={}:l&&Kg(l,function(g){var y=Xt(g);if(y&&y.dataIndex!=null){var x=y.dataModel||s.getSeriesByIndex(y.seriesIndex);return u=x&&x.getDataParams(y.dataIndex,y.dataType,l)||{},!0}else if(y.eventData)return u=je({},y.eventData),!0},!0),u){var f=u.componentType,h=u.componentIndex;(f==="markLine"||f==="markPoint"||f==="markArea")&&(f="series",h=u.seriesIndex);var d=f&&h!=null&&s.getComponent(f,h),v=d&&t[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];u.event=o,u.type=i,t._$eventProcessor.eventInfo={targetEl:l,packedEvent:u,model:d,view:v},t.trigger(i,u)}};a.zrEventfulCallAtLast=!0,t._zr.on(i,a,t)});var r=this._messageCenter;J(KP,function(i,a){r.on(a,function(o){t.trigger(a,o)})}),HCe(r,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&l$(this.getDom(),bB,"");var r=this,i=r._api,a=r._model;J(r._componentsViews,function(o){o.dispose(a,i)}),J(r._chartsViews,function(o){o.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete sm[r.id]},e.prototype.resize=function(t){if(!this[la]){if(this._disposed){this.id;return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=t&&t.silent;this[Ga]&&(a==null&&(a=this[Ga].silent),i=!0,this[Ga]=null),this[la]=!0,Ny(this);try{i&&Sg(this),hh.update.call(this,{type:"resize",animation:je({duration:0},t&&t.animation)})}catch(o){throw this[la]=!1,o}this[la]=!1,Ey.call(this,a),Dy.call(this,a)}}},e.prototype.showLoading=function(t,r){if(this._disposed){this.id;return}if(Ft(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!$P[t]){var i=$P[t](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var r=je({},t);return r.type=ZP[t.type],r},e.prototype.dispatchAction=function(t,r){if(this._disposed){this.id;return}if(Ft(r)||(r={silent:!!r}),!!b3[t.type]&&this._model){if(this[la]){this._pendingActions.push(t);return}var i=r.silent;VI.call(this,t,i);var a=r.flush;a?this._zr.flush():a!==!1&&Dn.browser.weChat&&this._throttledZrFlush(),Ey.call(this,i),Dy.call(this,i)}},e.prototype.updateLabelLayout=function(){Bu.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var r=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){Sg=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),BI(f,!0),BI(f,!1),h.plan()},BI=function(f,h){for(var d=f._model,v=f._scheduler,g=h?f._componentsViews:f._chartsViews,y=h?f._componentsMap:f._chartsMap,x=f._zr,b=f._api,T=0;T<g.length;T++)g[T].__alive=!1;h?d.eachComponent(function(D,R){D!=="series"&&M(R)}):d.eachSeries(M);function M(D){var R=D.__requireNewView;D.__requireNewView=!1;var I="_ec_"+D.id+"_"+D.type,L=!R&&y[I];if(!L){var O=nf(D.type),B=h?Rr.getClass(O.main,O.sub):vr.getClass(O.sub);L=new B,L.init(d,b),y[I]=L,g.push(L),x.add(L.group)}D.__viewId=L.__id=I,L.__alive=!0,L.__model=D,L.group.__ecComponentInfo={mainType:D.mainType,index:D.componentIndex},!h&&v.prepareView(L,D,d,b)}for(var T=0;T<g.length;){var C=g[T];C.__alive?T++:(!h&&C.renderTask.dispose(),x.remove(C.group),C.dispose(d,b),g.splice(T,1),y[C.__id]===C&&delete y[C.__id],C.__id=C.group.__ecComponentInfo=null)}},DA=function(f,h,d,v,g){var y=f._model;if(y.setUpdatePayload(d),!v){J([].concat(f._componentsViews).concat(f._chartsViews),C);return}var x={};x[v+"Id"]=d[v+"Id"],x[v+"Index"]=d[v+"Index"],x[v+"Name"]=d[v+"Name"];var b={mainType:v,query:x};g&&(b.subType=g);var T=d.excludeSeriesId,M;T!=null&&(M=Tt(),J(Nr(T),function(D){var R=ua(D,null);R!=null&&M.set(R,!0)})),y&&y.eachComponent(b,function(D){var R=M&&M.get(D.id)!=null;if(!R)if(kH(d))if(D instanceof _r)d.type===am&&!d.notBlur&&!D.get(["emphasis","disabled"])&&FTe(D,d,f._api);else{var I=kk(D.mainType,D.componentIndex,d.name,f._api),L=I.focusSelf,O=I.dispatchers;d.type===am&&L&&!d.notBlur&&EP(D.mainType,D.componentIndex,f._api),O&&J(O,function(B){d.type===am?Hh(B):jh(B)})}else NP(d)&&D instanceof _r&&(jTe(D,d,f._api),PH(D),Bl(f))},f),y&&y.eachComponent(b,function(D){var R=M&&M.get(D.id)!=null;R||C(f[v==="series"?"_chartsMap":"_componentsMap"][D.__viewId])},f);function C(D){D&&D.__alive&&D[h]&&D[h](D.__model,y,f._api,d)}},hh={prepareAndUpdate:function(f){Sg(this),hh.update.call(this,f,f&&{optionChanged:f.newOption!=null})},update:function(f,h){var d=this._model,v=this._api,g=this._zr,y=this._coordSysMgr,x=this._scheduler;if(d){d.setUpdatePayload(f),x.restoreData(d,f),x.performSeriesTasks(d),y.create(d,v),x.performDataProcessorTasks(d,f),UI(this,d),y.update(d,v),r(d),x.performVisualTasks(d,f);var b=d.get("backgroundColor")||"transparent";g.setBackgroundColor(b);var T=d.get("darkMode");T!=null&&T!=="auto"&&g.setDarkMode(T),FI(this,d,v,f,h),Bu.trigger("afterupdate",d,v)}},updateTransform:function(f){var h=this,d=this._model,v=this._api;if(d){d.setUpdatePayload(f);var g=[];d.eachComponent(function(x,b){if(x!=="series"){var T=h.getViewOfComponentModel(b);if(T&&T.__alive)if(T.updateTransform){var M=T.updateTransform(b,d,v,f);M&&M.update&&g.push(T)}else g.push(T)}});var y=Tt();d.eachSeries(function(x){var b=h._chartsMap[x.__viewId];if(b.updateTransform){var T=b.updateTransform(x,d,v,f);T&&T.update&&y.set(x.uid,1)}else y.set(x.uid,1)}),r(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0,dirtyMap:y}),RA(this,d,v,f,{},y),Bu.trigger("afterupdate",d,v)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),vr.markUpdateMethod(f,"updateView"),r(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),FI(this,h,this._api,f,{}),Bu.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,d=this._model;d&&(d.setUpdatePayload(f),d.eachSeries(function(v){v.getData().clearAllVisual()}),vr.markUpdateMethod(f,"updateVisual"),r(d),this._scheduler.performVisualTasks(d,f,{visualType:"visual",setDirty:!0}),d.eachComponent(function(v,g){if(v!=="series"){var y=h.getViewOfComponentModel(g);y&&y.__alive&&y.updateVisual(g,d,h._api,f)}}),d.eachSeries(function(v){var g=h._chartsMap[v.__viewId];g.updateVisual(v,d,h._api,f)}),Bu.trigger("afterupdate",d,this._api))},updateLayout:function(f){hh.update.call(this,f)}};function t(f,h,d,v,g){if(f._disposed){f.id;return}for(var y=f._model,x=f._coordSysMgr.getCoordinateSystems(),b,T=fx(y,d),M=0;M<x.length;M++){var C=x[M];if(C[h]&&(b=C[h](y,T,v,g))!=null)return b}}NA=t,UI=function(f,h){var d=f._chartsMap,v=f._scheduler;h.eachSeries(function(g){v.updateStreamModes(g,d[g.__viewId])})},VI=function(f,h){var d=this,v=this.getModel(),g=f.type,y=f.escapeConnect,x=b3[g],b=(x.update||"update").split(":"),T=b.pop(),M=b[0]!=null&&nf(b[0]);this[la]=!0,Ny(this);var C=[f],D=!1;f.batch&&(D=!0,C=$e(f.batch,function(H){return H=Vt(je({},H),f),H.batch=null,H}));var R=[],I,L=[],O=x.nonRefinedEventType,B=NP(f),V=kH(f);if(V&&N$(this._api),J(C,function(H){var W=x.action(H,v,d._api);if(x.refineEvent?L.push(W):I=W,I=I||je({},H),I.type=O,R.push(I),V){var q=Ek(f),K=q.queryOptionMap,re=q.mainTypeSpecified,j=re?K.keys()[0]:"series";DA(d,T,H,j),Bl(d)}else B?(DA(d,T,H,"series"),Bl(d)):M&&DA(d,T,H,M.main,M.sub)}),T!=="none"&&!V&&!B&&!M)try{this[Ga]?(Sg(this),hh.update.call(this,f),this[Ga]=null):hh[T].call(this,f)}catch(H){throw this[la]=!1,H}if(D?I={type:O,escapeConnect:y,batch:R}:I=R[0],this[la]=!1,!h){var F=void 0;if(x.refineEvent){var k=x.refineEvent(L,f,v,this._api).eventContent;uo(Ft(k)),F=Vt({type:x.refinedEventType},k),F.fromAction=f.type,F.fromActionPayload=f,F.escapeConnect=!0}var Y=this._messageCenter;Y.trigger(I.type,I),F&&Y.trigger(F.type,F)}},Ey=function(f){for(var h=this._pendingActions;h.length;){var d=h.shift();VI.call(this,d,f)}},Dy=function(f){!f&&this.trigger("updated")},Z9=function(f,h){f.on("rendered",function(d){h.trigger("rendered",d),f.animation.isFinished()&&!h[Ga]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},K9=function(f,h){f.on("mouseover",function(d){var v=d.target,g=Kg(v,T2);g&&(GTe(g,d,h._api),Bl(h))}).on("mouseout",function(d){var v=d.target,g=Kg(v,T2);g&&(HTe(g,d,h._api),Bl(h))}).on("click",function(d){var v=d.target,g=Kg(v,function(b){return Xt(b).dataIndex!=null},!0);if(g){var y=g.selected?"unselect":"select",x=Xt(g);h._api.dispatchAction({type:y,dataType:x.dataType,dataIndexInside:x.dataIndex,seriesIndex:x.seriesIndex,isFromClick:!0})}})};function r(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function i(f){var h=[],d=[],v=!1;if(f.eachComponent(function(b,T){var M=T.get("zlevel")||0,C=T.get("z")||0,D=T.getZLevelKey();v=v||!!D,(b==="series"?d:h).push({zlevel:M,z:C,idx:T.componentIndex,type:b,key:D})}),v){var g=h.concat(d),y,x;bC(g,function(b,T){return b.zlevel===T.zlevel?b.z-T.z:b.zlevel-T.zlevel}),J(g,function(b){var T=f.getComponent(b.type,b.idx),M=b.zlevel,C=b.key;y!=null&&(M=Math.max(y,M)),C?(M===y&&C!==x&&M++,x=C):x&&(M===y&&M++,x=""),y=M,T.setZLevel(M)})}}FI=function(f,h,d,v,g){i(h),J9(f,h,d,v,g),J(f._chartsViews,function(y){y.__alive=!1}),RA(f,h,d,v,g),J(f._chartsViews,function(y){y.__alive||y.remove(h,d)})},J9=function(f,h,d,v,g,y){J(y||f._componentsViews,function(x){var b=x.__model;u(b,x),x.render(b,h,d,v),l(b,x),c(b,x)})},RA=function(f,h,d,v,g,y){var x=f._scheduler;g=je(g||{},{updatedSeries:h.getSeries()}),Bu.trigger("series:beforeupdate",h,d,g);var b=!1;h.eachSeries(function(T){var M=f._chartsMap[T.__viewId];M.__alive=!0;var C=M.renderTask;x.updatePayload(C,v),u(T,M),y&&y.get(T.uid)&&C.dirty(),C.perform(x.getPerformArgs(C))&&(b=!0),M.group.silent=!!T.get("silent"),s(T,M),PH(T)}),x.unfinished=b||x.unfinished,Bu.trigger("series:layoutlabels",h,d,g),Bu.trigger("series:transition",h,d,g),h.eachSeries(function(T){var M=f._chartsMap[T.__viewId];l(T,M),c(T,M)}),o(f,h),Bu.trigger("series:afterupdate",h,d,g)},Bl=function(f){f[zI]=!0,f.getZr().wakeUp()},Ny=function(f){f[EA]=(f[EA]+1)%1e3},$9=function(f){f[zI]&&(f.getZr().storage.traverse(function(h){hx(h)||a(h)}),f[zI]=!1)};function a(f){for(var h=[],d=f.currentStates,v=0;v<d.length;v++){var g=d[v];g==="emphasis"||g==="blur"||g==="select"||h.push(g)}f.selected&&f.states.select&&h.push("select"),f.hoverState===pN&&f.states.emphasis?h.push("emphasis"):f.hoverState===xw&&f.states.blur&&h.push("blur"),f.useStates(h)}function o(f,h){var d=f._zr,v=d.storage,g=0;v.traverse(function(y){y.isGroup||g++}),g>h.get("hoverLayerThreshold")&&!Dn.node&&!Dn.worker&&h.eachSeries(function(y){if(!y.preventUsingHoverLayer){var x=f._chartsMap[y.__viewId];x.__alive&&x.eachRendered(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}})}function s(f,h){var d=f.get("blendMode")||null;h.eachRendered(function(v){v.isGroup||(v.style.blend=d)})}function l(f,h){if(!f.preventAutoZ){var d=_m(f);h.eachRendered(function(v){return mN(v,d.z,d.zlevel),!0})}}function u(f,h){h.eachRendered(function(d){if(!hx(d)){var v=d.getTextContent(),g=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function c(f,h){var d=f.getModel("stateAnimation"),v=f.isAnimationEnabled(),g=d.get("duration"),y=g>0?{duration:g,delay:d.get("delay"),easing:d.get("easing")}:null;h.eachRendered(function(x){if(x.states&&x.states.emphasis){if(hx(x))return;if(x instanceof Mn&&KTe(x),x.__dirty){var b=x.prevStates;b&&x.useStates(b)}if(v){x.stateTransition=y;var T=x.getTextContent(),M=x.getTextGuideLine();T&&(T.stateTransition=y),M&&(M.stateTransition=y)}x.__dirty&&a(x)}})}Q9=function(f){return new((function(h){Oe(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(v){for(;v;){var g=v.__ecComponentInfo;if(g!=null)return f._model.getComponent(g.mainType,g.index);v=v.parent}},d.prototype.enterEmphasis=function(v,g){Hh(v,g),Bl(f)},d.prototype.leaveEmphasis=function(v,g){jh(v,g),Bl(f)},d.prototype.enterBlur=function(v){A$(v),Bl(f)},d.prototype.leaveBlur=function(v){zk(v),Bl(f)},d.prototype.enterSelect=function(v){C$(v),Bl(f)},d.prototype.leaveSelect=function(v){E$(v),Bl(f)},d.prototype.getModel=function(){return f.getModel()},d.prototype.getViewOfComponentModel=function(v){return f.getViewOfComponentModel(v)},d.prototype.getViewOfSeriesModel=function(v){return f.getViewOfSeriesModel(v)},d.prototype.getMainProcessVersion=function(){return f[EA]},d})(Aee))(f)},Tte=function(f){function h(d,v){for(var g=0;g<d.length;g++){var y=d[g];y[kI]=v}}J(ZP,function(d,v){f._messageCenter.on(v,function(g){if(w3[f.group]&&f[kI]!==q9){if(g&&g.escapeConnect)return;var y=f.makeActionFromEvent(g),x=[];J(sm,function(b){b!==f&&b.group===f.group&&x.push(b)}),h(x,q9),J(x,function(b){b[kI]!==LEe&&b.dispatchAction(y)}),h(x,IEe)}})})}})(),e})(au),_B=_3.prototype;_B.on=xte("on");_B.off=xte("off");_B.one=function(n,e,t){var r=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];e&&e.apply&&e.apply(this,a),r.off(n,i)}this.on.call(this,n,i,t)};var OEe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var b3={},ZP={},KP={},JP=[],QP=[],S3=[],Mte={},$P={},sm={},w3={},PEe=+new Date-0,zEe=+new Date-0,bB="_echarts_instance_";function kEe(n,e,t){var r=!(t&&t.ssr);if(r){var i=SB(n);if(i)return i}var a=new _3(n,e,t);return a.id="ec_"+PEe++,sm[a.id]=a,r&&l$(n,bB,a.id),Tte(a),Bu.trigger("afterinit",a),a}function BEe(n){if(Ke(n)){var e=n;n=null,J(e,function(t){t.group!=null&&(n=t.group)}),n=n||"g_"+zEe++,J(e,function(t){t.group=n})}return w3[n]=!0,n}function Ate(n){w3[n]=!1}var UEe=Ate;function VEe(n){vt(n)?n=sm[n]:n instanceof _3||(n=SB(n)),n instanceof _3&&!n.isDisposed()&&n.dispose()}function SB(n){return sm[kwe(n,bB)]}function FEe(n){return sm[n]}function wB(n,e){Mte[n]=e}function TB(n){on(QP,n)<0&&QP.push(n)}function MB(n,e){AB(JP,n,e,MEe)}function Cte(n){MN("afterinit",n)}function Ete(n){MN("afterupdate",n)}function MN(n,e){Bu.on(n,e)}function ic(n,e,t){var r,i,a,o,s;Nt(e)&&(t=e,e=""),Ft(n)?(r=n.type,i=n.event,o=n.update,s=n.publishNonRefinedEvent,t||(t=n.action),a=n.refineEvent):(r=n,i=e);function l(c){return c.toLowerCase()}i=l(i||r);var u=a?l(r):i;b3[r]||(uo(X9.test(r)&&X9.test(i)),a&&uo(i!==r),b3[r]={actionType:r,refinedEventType:i,nonRefinedEventType:u,update:o,action:t,refineEvent:a},KP[i]=1,a&&s&&(KP[u]=1),ZP[u]=r)}function Dte(n,e){g_.register(n,e)}function GEe(n){var e=g_.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function HEe(n,e){pte(n,e)}function Nte(n,e){AB(S3,n,e,vte,"layout")}function Xp(n,e){AB(S3,n,e,gte,"visual")}var ej=[];function AB(n,e,t,r,i){if((Nt(e)||Ft(e))&&(t=e,e=r),!(on(ej,t)>=0)){ej.push(t);var a=$ee.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,n.push(a)}}function CB(n,e){$P[n]=e}function jEe(n){dQ({createCanvas:n})}function Rte(n,e,t){var r=hte("registerMap");r&&r(n,e,t)}function WEe(n){var e=hte("getMap");return e&&e(n)}var Lte=eCe;Xp(xB,ACe);Xp(TN,CCe);Xp(TN,ECe);Xp(xB,FCe);Xp(TN,GCe);Xp(mte,gEe);TB(Eee);MB(wEe,OAe);CB("default",DCe);ic({type:am,event:am,update:am},Mi);ic({type:EC,event:EC,update:EC},Mi);ic({type:l3,event:Ok,update:l3,action:Mi,refineEvent:EB,publishNonRefinedEvent:!0});ic({type:AP,event:Ok,update:AP,action:Mi,refineEvent:EB,publishNonRefinedEvent:!0});ic({type:u3,event:Ok,update:u3,action:Mi,refineEvent:EB,publishNonRefinedEvent:!0});function EB(n,e,t,r){return{eventContent:{selected:WTe(t),isFromClick:e.isFromClick||!1}}}wB("default",{});wB("dark",rte);var YEe={},tj=[],XEe={registerPreprocessor:TB,registerProcessor:MB,registerPostInit:Cte,registerPostUpdate:Ete,registerUpdateLifecycle:MN,registerAction:ic,registerCoordinateSystem:Dte,registerLayout:Nte,registerVisual:Xp,registerTransform:Lte,registerLoading:CB,registerMap:Rte,registerImpl:mEe,PRIORITY:yte,ComponentModel:bn,ComponentView:Rr,SeriesModel:_r,ChartView:vr,registerComponentModel:function(n){bn.registerClass(n)},registerComponentView:function(n){Rr.registerClass(n)},registerSeriesModel:function(n){_r.registerClass(n)},registerChartView:function(n){vr.registerClass(n)},registerCustomSeries:function(n,e){pte(n,e)},registerSubTypeDefaulter:function(n,e){bn.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){qQ(n,e)}};function fn(n){if(Ke(n)){J(n,function(e){fn(e)});return}on(tj,n)>=0||(tj.push(n),Nt(n)&&(n={install:n}),n.install(XEe))}function Ab(n){return n==null?0:n.length||1}function nj(n){return n}var Wh=(function(){function n(e,t,r,i,a,o){this._old=e,this._new=t,this._oldKeyGetter=r||nj,this._newKeyGetter=i||nj,this.context=a,this._diffModeMultiple=o==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var s=i[o],l=r[s],u=Ab(l);if(u>1){var c=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(c,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,r)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},a=[],o=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],u=r[l],c=i[l],f=Ab(u),h=Ab(c);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&h===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var d=0;d<f;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=t[i],o=Ab(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);t[i]=null}},n.prototype._initIndexMap=function(e,t,r,i){for(var a=this._diffModeMultiple,o=0;o<e.length;o++){var s="_ec_"+this[i](e[o],o);if(a||(r[o]=s),!!t){var l=t[s],u=Ab(l);u===0?(t[s]=o,a&&r.push(s)):u===1?t[s]=[l,o]:l.push(o)}}},n})(),qEe=(function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n})();function ZEe(n,e){var t={},r=t.encode={},i=Tt(),a=[],o=[],s={};J(n.dimensions,function(h){var d=n.getDimensionInfo(h),v=d.coordDim;if(v){var g=d.coordDimIndex;GI(r,v)[g]=h,d.isExtraCoord||(i.set(v,1),KEe(d.type)&&(a[0]=h),GI(s,v)[g]=n.getDimensionIndex(d.name)),d.defaultTooltip&&o.push(h)}xee.each(function(y,x){var b=GI(r,x),T=d.otherDims[x];T!=null&&T!==!1&&(b[T]=d.name)})});var l=[],u={};i.each(function(h,d){var v=r[d];u[d]=v[0],l=l.concat(v)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=$e(l,function(h){return n.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(a=c.slice());var f=r.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=o,t.userOutput=new qEe(s,e),t}function GI(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function T3(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function KEe(n){return!(n==="ordinal"||n==="time")}var PC=(function(){function n(e){this.otherDims={},e!=null&&je(this,e)}return n})(),JEe=Sn(),QEe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Ite=(function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=zte(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return At(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Nee(this.source),r=!kte(e),i="",a=[],o=0,s=0;o<e;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=t?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var h=this.getSourceDimension(o);h&&(l=t?h.name:null,u=h.type)}a.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=QEe[u]||"f",c&&(i+=c.uid),i+="$"}var d=this.source,v=[d.seriesLayoutBy,d.startIndex,i].join("$$");return{dimensions:a,hash:v}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),r++;else{var o=this.getSourceDimension(t);o&&(i=o.name)}e.push(i)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n})();function Ote(n){return n instanceof Ite}function Pte(n){for(var e=Tt(),t=0;t<(n||[]).length;t++){var r=n[t],i=Ft(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function zte(n){var e=JEe(n);return e.dimNameMap||(e.dimNameMap=Pte(n.dimensionsDefine))}function kte(n){return n>30}var Cb=Ft,Kd=$e,$Ee=typeof Int32Array>"u"?Array:Int32Array,e3e="e\0\0",rj=-1,t3e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],n3e=["_approximateExtent"],ij,LA,Eb,Db,HI,Nb,jI,Uo=(function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,i=!1;Ote(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var a={},o=[],s={},l=!1,u={},c=0;c<r.length;c++){var f=r[c],h=vt(f)?new PC({name:f}):f instanceof PC?f:new PC(f),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var v=h.otherDims=h.otherDims||{};o.push(d),a[d]=h,u[d]!=null&&(l=!0),h.createInvertedIndices&&(s[d]=[]);var g=c;Pn(h.storeDimIndex)&&(g=h.storeDimIndex),v.itemName===0&&(this._nameDimIdx=g),v.itemId===0&&(this._idDimIdx=g),i&&(h.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var y=this._dimIdxToName=Tt();J(o,function(x){y.set(a[x].storeDimIndex,x)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(Pn(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var i=this,a;if(e instanceof GP&&(a=e),!a){var o=this.dimensions,s=hB(e)||lo(e)?new Ree(e,o.length):e;a=new GP;var l=Kd(o,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(s,l,r)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=ZEe(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t&&t.length),i=r.start,a=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=i;s<a;s++){var l=s-i;this._nameList[s]=t[l],o&&jI(this,s)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Tp&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===vl;if(l&&!i.pure)for(var u=[],c=e;c<t;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&Twe(f)&&(this.hasItemOption=!0),f){var h=f.name;a[c]==null&&h!=null&&(a[c]=ua(h,null));var d=f.id;o[c]==null&&d!=null&&(o[c]=ua(d,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)jI(this,c);ij(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){Cb(e)?je(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=Eb(this,this._nameDimIdx,t)),r==null&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},n.prototype.getId=function(e){return LA(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,i=this._store;return Ke(e)?i.getValues(Kd(e,function(a){return r._getStoreDimIndex(a)}),t):i.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r&&r[t];return i==null||isNaN(i)?rj:i},n.prototype.each=function(e,t,r){Nt(e)&&(r=t,t=e,e=[]);var i=r||this,a=Kd(Db(e),this._getStoreDimIndex,this);this._store.each(a,i?mt(t,i):t)},n.prototype.filterSelf=function(e,t,r){Nt(e)&&(r=t,t=e,e=[]);var i=r||this,a=Kd(Db(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?mt(t,i):t),this},n.prototype.selectRange=function(e){var t=this,r={},i=Rn(e);return J(i,function(a){var o=t._getStoreDimIndex(a);r[o]=e[a]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){Nt(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},n.prototype.map=function(e,t,r,i){var a=r||i||this,o=Kd(Db(e),this._getStoreDimIndex,this),s=Nb(this);return s._store=this._store.map(o,a?mt(t,a):t),s},n.prototype.modify=function(e,t,r,i){var a=r||i||this,o=Kd(Db(e),this._getStoreDimIndex,this);this._store.modify(o,a?mt(t,a):t)},n.prototype.downSample=function(e,t,r,i){var a=Nb(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),a},n.prototype.minmaxDownSample=function(e,t){var r=Nb(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),t),r},n.prototype.lttbDownSample=function(e,t){var r=Nb(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new Tn(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new Wh(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return LA(e,r)},function(r){return LA(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},Cb(e)?je(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),Ke(a)?a=a.slice():Cb(a)&&(a=je({},a)),i[t]=a),a},n.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Cb(t)?je(i,t):i[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){Cb(e)?je(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?je(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;MP(r,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){J(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:Kd(this.dimensions,this._getDimInfo,this),this.hostModel)),HI(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];Nt(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(tN(arguments)))})},n.internalField=(function(){ij=function(e){var t=e._invertedIndicesMap;J(t,function(r,i){var a=e._dimInfos[i],o=a.ordinalMeta,s=e._store;if(o){r=t[i]=new $Ee(o.categories.length);for(var l=0;l<r.length;l++)r[l]=rj;for(var l=0;l<s.count();l++)r[s.get(a.storeDimIndex,l)]=l}})},Eb=function(e,t,r){return ua(e._getCategory(t,r),null)},LA=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=Eb(e,e._idDimIdx,t)),r==null&&(r=e3e+t),r},Db=function(e){return Ke(e)||(e=e!=null?[e]:[]),e},Nb=function(e){var t=new n(e._schema?e._schema:Kd(e.dimensions,e._getDimInfo,e),e.hostModel);return HI(t,e),t},HI=function(e,t){J(t3e.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,J(n3e,function(r){e[r]=Pt(t[r])}),e._calculationInfo=je({},t._calculationInfo)},jI=function(e,t){var r=e._nameList,i=e._idList,a=e._nameDimIdx,o=e._idDimIdx,s=r[t],l=i[t];if(s==null&&a!=null&&(r[t]=s=Eb(e,a,t)),l==null&&o!=null&&(i[t]=l=Eb(e,o,t)),l==null&&s!=null){var u=e._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),i[t]=l}}})(),n})();function r3e(n,e){return __(n,e).dimensions}function __(n,e){hB(n)||(n=dB(n)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],i=Tt(),a=[],o=a3e(n,t,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&kte(o),l=r===n.dimensionsDefine,u=l?zte(n):Pte(r),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(n,o));for(var f=Tt(c),h=new Uee(o),d=0;d<h.length;d++)h[d]=-1;function v(L){var O=h[L];if(O<0){var B=r[L],V=Ft(B)?B:{name:B},F=new PC,k=V.name;k!=null&&u.get(k)!=null&&(F.name=F.displayName=k),V.type!=null&&(F.type=V.type),V.displayName!=null&&(F.displayName=V.displayName);var Y=a.length;return h[L]=Y,F.storeDimIndex=L,a.push(F),F}return a[O]}if(!s)for(var d=0;d<o;d++)v(d);f.each(function(L,O){var B=Nr(L).slice();if(B.length===1&&!vt(B[0])&&B[0]<0){f.set(O,!1);return}var V=f.set(O,[]);J(B,function(F,k){var Y=vt(F)?u.get(F):F;Y!=null&&Y<o&&(V[k]=Y,y(v(Y),O,k))})});var g=0;J(t,function(L){var O,B,V,F;if(vt(L))O=L,F={};else{F=L,O=F.name;var k=F.ordinalMeta;F.ordinalMeta=null,F=je({},F),F.ordinalMeta=k,B=F.dimsDef,V=F.otherDims,F.name=F.coordDim=F.coordDimIndex=F.dimsDef=F.otherDims=null}var Y=f.get(O);if(Y!==!1){if(Y=Nr(Y),!Y.length)for(var H=0;H<(B&&B.length||1);H++){for(;g<o&&v(g).coordDim!=null;)g++;g<o&&Y.push(g++)}J(Y,function(W,q){var K=v(W);if(l&&F.type!=null&&(K.type=F.type),y(Vt(K,F),O,q),K.name==null&&B){var re=B[q];!Ft(re)&&(re={name:re}),K.name=K.displayName=re.name,K.defaultTooltip=re.defaultTooltip}V&&Vt(K.otherDims,V)})}});function y(L,O,B){xee.get(O)!=null?L.otherDims[O]=B:(L.coordDim=O,L.coordDimIndex=B,i.set(O,!0))}var x=e.generateCoord,b=e.generateCoordCount,T=b!=null;b=x?b||1:0;var M=x||"value";function C(L){L.name==null&&(L.name=L.coordDim)}if(s)J(a,function(L){C(L)}),a.sort(function(L,O){return L.storeDimIndex-O.storeDimIndex});else for(var D=0;D<o;D++){var R=v(D),I=R.coordDim;I==null&&(R.coordDim=o3e(M,i,T),R.coordDimIndex=0,(!x||b<=0)&&(R.isExtraCoord=!0),b--),C(R),R.type==null&&(wee(n,D)===ro.Must||R.isExtraCoord&&(R.otherDims.itemName!=null||R.otherDims.seriesName!=null))&&(R.type="ordinal")}return i3e(a),new Ite({source:n,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function i3e(n){for(var e=Tt(),t=0;t<n.length;t++){var r=n[t],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function a3e(n,e,t,r){var i=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return J(e,function(a){var o;Ft(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function o3e(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}var s3e=(function(){function n(e){this.coordSysDims=[],this.axisMap=Tt(),this.categoryAxisMap=Tt(),this.coordSysName=e}return n})();function l3e(n){var e=n.get("coordinateSystem"),t=new s3e(e),r=u3e[e];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}var u3e={cartesian2d:function(n,e,t,r){var i=n.getReferringComponents("xAxis",di).models[0],a=n.getReferringComponents("yAxis",di).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),Ry(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),Ry(a)&&(r.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,r){var i=n.getReferringComponents("singleAxis",di).models[0];e.coordSysDims=["single"],t.set("single",i),Ry(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(n,e,t,r){var i=n.getReferringComponents("polar",di).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",o),Ry(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),Ry(o)&&(r.set("angle",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,r){var i=n.ecModel,a=i.getComponent("parallel",n.get("parallelIndex")),o=e.coordSysDims=a.dimensions.slice();J(a.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),c=o[l];t.set(c,u),Ry(u)&&(r.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})},matrix:function(n,e,t,r){var i=n.getReferringComponents("matrix",di).models[0];e.coordSysDims=["x","y"];var a=i.getDimensionModel("x"),o=i.getDimensionModel("y");t.set("x",a),t.set("y",o),r.set("x",a),r.set("y",o)}};function Ry(n){return n.get("type")==="category"}function Bte(n,e,t){t=t||{};var r=t.byIndex,i=t.stackedCoordDimension,a,o,s;c3e(e)?a=e:(o=e.schema,a=o.dimensions,s=e.store);var l=!!(n&&n.get("stack")),u,c,f,h;if(J(a,function(b,T){vt(b)&&(a[T]=b={name:b}),l&&!b.isExtraCoord&&(!r&&!u&&b.ordinalMeta&&(u=b),!c&&b.type!=="ordinal"&&b.type!=="time"&&(!i||i===b.coordDim)&&(c=b))}),c&&!r&&!u&&(r=!0),c){f="__\0ecstackresult_"+n.id,h="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var d=c.coordDim,v=c.type,g=0;J(a,function(b){b.coordDim===d&&g++});var y={name:f,coordDim:d,coordDimIndex:g,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},x={name:h,coordDim:h,coordDimIndex:g+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(y.storeDimIndex=s.ensureCalculationDimension(h,v),x.storeDimIndex=s.ensureCalculationDimension(f,v)),o.appendCalculationDimension(y),o.appendCalculationDimension(x)):(a.push(y),a.push(x))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:h,stackResultDimension:f}}function c3e(n){return!Ote(n.schema)}function Yh(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function DB(n,e){return Yh(n,e)?n.getCalculationInfo("stackResultDimension"):e}function f3e(n,e){var t=n.get("coordinateSystem"),r=g_.get(t),i;return e&&e.coordSysDims&&(i=$e(e.coordSysDims,function(a){var o={name:a},s=e.axisMap.get(a);if(s){var l=s.get("type");o.type=T3(l)}return o})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function h3e(n,e,t){var r,i;return t&&J(n,function(a,o){var s=a.coordDim,l=t.categoryAxisMap.get(s);l&&(r==null&&(r=o),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(n[r].otherDims.itemName=0),r}function Tf(n,e,t){t=t||{};var r=e.getSourceManager(),i,a=!1;n?(a=!0,i=dB(n)):(i=r.getSource(),a=i.sourceFormat===vl);var o=l3e(e),s=f3e(e,o),l=t.useEncodeDefaulter,u=Nt(l)?l:l?tn(See,s,e):null,c={coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=__(i,c),h=h3e(f.dimensions,t.createInvertedIndices,o),d=a?null:r.getSharedDataStore(f),v=Bte(e,{schema:f,store:d}),g=new Uo(f,e);g.setCalculationInfo(v);var y=h!=null&&d3e(i)?function(x,b,T,M){return M===h?T:this.defaultDimValueGetter(x,b,T,M)}:null;return g.hasItemOption=!1,g.initData(a?i:d,null,y),g}function d3e(n){if(n.sourceFormat===vl){var e=p3e(n.data||[]);return!Ke(o_(e))}}function p3e(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}function e4(n){return n.type==="interval"||n.type==="log"}function v3e(n,e,t,r,i){var a={},o=a.interval=Mk(e/t,!0);r!=null&&o<r&&(o=a.interval=r),i!=null&&o>i&&(o=a.interval=i);var s=a.intervalPrecision=L2(o),l=a.niceTickExtent=[ki(Math.ceil(n[0]/o)*o,s),ki(Math.floor(n[1]/o)*o,s)];return g3e(l,n),a}function WI(n){var e=Math.pow(10,sN(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,ki(t*e)}function L2(n){return Hu(n)+2}function aj(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function g3e(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),aj(n,0,e),aj(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function NB(n,e){return n>=e[0]&&n<=e[1]}var m3e=(function(){function n(){this.normalize=oj,this.scale=sj}return n.prototype.updateMethods=function(e){e.hasBreaks()?(this.normalize=mt(e.normalize,e),this.scale=mt(e.scale,e)):(this.normalize=oj,this.scale=sj)},n})();function oj(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function sj(n,e){return n*(e[1]-e[0])+e[0]}function t4(n,e,t){var r=Math.log(n);return[Math.log(t?e[0]:Math.max(0,e[0]))/r,Math.log(t?e[1]:Math.max(0,e[1]))/r]}var qp=(function(){function n(e){this._calculator=new m3e,this._setting=e||{},this._extent=[1/0,-1/0];var t=Qi();t&&(this._brkCtx=t.createScaleBreakContext(),this._brkCtx.update(this._extent))}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype._innerUnionExtent=function(e){var t=this._extent;this._innerSetExtent(e[0]<t[0]?e[0]:t[0],e[1]>t[1]?e[1]:t[1])},n.prototype.unionExtentFromData=function(e,t){this._innerUnionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){this._innerSetExtent(e,t)},n.prototype._innerSetExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t),this._brkCtx&&this._brkCtx.update(r)},n.prototype.setBreaksFromOption=function(e){var t=Qi();t&&this._innerSetBreak(t.parseAxisBreakOption(e,mt(this.parse,this)))},n.prototype._innerSetBreak=function(e){this._brkCtx&&(this._brkCtx.setBreaks(e),this._calculator.updateMethods(this._brkCtx),this._brkCtx.update(this._extent))},n.prototype._innerGetBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},n.prototype.hasBreaks=function(){return this._brkCtx?this._brkCtx.hasBreaks():!1},n.prototype._getExtentSpanWithBreaks=function(){return this._brkCtx&&this._brkCtx.hasBreaks()?this._brkCtx.getExtentSpan():this._extent[1]-this._extent[0]},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n})();lN(qp);var y3e=0,I2=(function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++y3e,this._onCollect=e.onCollect}return n.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&$e(r,x3e);return new n({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!vt(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,this._onCollect&&this._onCollect(e,t),t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t),this._onCollect&&this._onCollect(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Tt(this.categories))},n})();function x3e(n){return Ft(n)&&n.value!=null?n.value:n+""}var Ux=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new I2({})),Ke(i)&&(i=new I2({categories:$e(i,function(a){return Ft(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:vt(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return NB(t,this._extent)&&t>=0&&t<this._ordinalMeta.categories.length},e.prototype.normalize=function(t){return t=this._getTickNumber(t),this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(this._calculator.scale(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];i[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(qp);qp.registerClass(Ux);var Jd=ki,Xh=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t==null||t===""?NaN:Number(t)},e.prototype.contain=function(t){return NB(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=L2(t)},e.prototype.getTicks=function(t){t=t||{};var r=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=Qi(),l=[];if(!r)return l;if(t.breakTicks==="only_break"&&s)return s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l;var u=1e4;i[0]<a[0]&&(t.expandToNicedExtent?l.push({value:Jd(a[0]-r,o)}):l.push({value:i[0]}));for(var c=function(v,g){return Math.round((g-v)/r)},f=a[0];f<=a[1];){if(l.push({value:f}),f=Jd(f+r,o),this._brkCtx){var h=this._brkCtx.calcNiceTickMultiple(f,c);h>=0&&(f=Jd(f+h*r,o))}if(l.length>0&&f===l[l.length-1].value)break;if(l.length>u)return[]}var d=l.length?l[l.length-1].value:a[1];return i[1]>d&&(t.expandToNicedExtent?l.push({value:Jd(d+r,o)}):l.push({value:i[1]})),s&&s.pruneTicksByBreak(t.pruneByBreak,l,this._brkCtx.breaks,function(v){return v.value},this._interval,this._extent),t.breakTicks!=="none"&&s&&s.addBreaksToTicks(l,this._brkCtx.breaks,this._extent),l},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks({expandToNicedExtent:!0}),i=[],a=this.getExtent(),o=1;o<r.length;o++){var s=r[o],l=r[o-1];if(!(l.break||s.break)){for(var u=0,c=[],f=s.value-l.value,h=f/t,d=L2(h);u<t-1;){var v=Jd(l.value+(u+1)*h,d);v>a[0]&&v<a[1]&&c.push(v),u++}var g=Qi();g&&g.pruneTicksByBreak("auto",c,this._getNonTransBreaks(),function(y){return y},this._interval,a),i.push(c)}}return i},e.prototype._getNonTransBreaks=function(){return this._brkCtx?this._brkCtx.breaks:[]},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=Hu(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Jd(t.value,i,!0);return iB(a)},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var a=this._extent.slice(),o=this._getExtentSpanWithBreaks();if(isFinite(o)){o<0&&(o=-o,a.reverse(),this._innerSetExtent(a[0],a[1]),a=this._extent.slice());var s=v3e(a,o,t,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent.slice();if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this._innerSetExtent(r[0],r[1]),r=this._extent.slice(),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval,s=this._intervalPrecision;t.fixMin||(r[0]=Jd(Math.floor(r[0]/o)*o,s)),t.fixMax||(r[1]=Jd(Math.ceil(r[1]/o)*o,s)),this._innerSetExtent(r[0],r[1])},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e})(qp);qp.registerClass(Xh);var Ute=typeof Float32Array<"u",_3e=Ute?Float32Array:Array;function rf(n){return Ke(n)?Ute?new Float32Array(n):n:new _3e(n)}var n4="__ec_stack_";function Vte(n){return n.get("stack")||n4+n.seriesIndex}function RB(n){return n.dim+n.index}function b3e(n){var e=[],t=n.axis,r="axis0";if(t.type==="category"){for(var i=t.getBandWidth(),a=0;a<n.count;a++)e.push(Vt({bandWidth:i,axisKey:r,stackId:n4+a},n));for(var o=Hte(e),s=[],a=0;a<n.count;a++){var l=o[r][n4+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function Fte(n,e){var t=[];return e.eachSeriesByType(n,function(r){Yte(r)&&t.push(r)}),t}function S3e(n){var e={};J(n,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),h=c.dim+"_"+c.index,d=f.getDimensionIndex(f.mapDimension(c.dim)),v=f.getStore(),g=0,y=v.count();g<y;++g){var x=v.get(d,g);e[h]?e[h].push(x):e[h]=[x]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,u){return l-u});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}t[r]=a}}return t}function Gte(n){var e=S3e(n),t=[];return J(n,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=e[l],c=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),h=Math.abs(f[1]-f[0]);s=u?c/h*u:c}else{var d=r.getData();s=Math.abs(o[1]-o[0])/d.count()}var v=pt(r.get("barWidth"),s),g=pt(r.get("barMaxWidth"),s),y=pt(r.get("barMinWidth")||(Xte(r)?.5:1),s),x=r.get("barGap"),b=r.get("barCategoryGap"),T=r.get("defaultBarGap");t.push({bandWidth:s,barWidth:v,barMaxWidth:g,barMinWidth:y,barGap:x,barCategoryGap:b,defaultBarGap:T,axisKey:RB(a),stackId:Vte(r)})}),Hte(t)}function Hte(n){var e={};J(n,function(r,i){var a=r.axisKey,o=r.bandWidth,s=e[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:r.defaultBarGap||0,stacks:{}},l=s.stacks;e[a]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=r.barMaxWidth;f&&(l[u].maxWidth=f);var h=r.barMinWidth;h&&(l[u].minWidth=h);var d=r.barGap;d!=null&&(s.gap=d);var v=r.barCategoryGap;v!=null&&(s.categoryGap=v)});var t={};return J(e,function(r,i){t[i]={};var a=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=Rn(a).length;s=Math.max(35-l*4,15)+"%"}var u=pt(s,o),c=pt(r.gap,1),f=r.remainedWidth,h=r.autoWidthCount,d=(f-u)/(h+(h-1)*c);d=Math.max(d,0),J(a,function(x){var b=x.maxWidth,T=x.minWidth;if(x.width){var M=x.width;b&&(M=Math.min(M,b)),T&&(M=Math.max(M,T)),x.width=M,f-=M+c*M,h--}else{var M=d;b&&b<M&&(M=Math.min(b,f)),T&&T>M&&(M=T),M!==d&&(x.width=M,f-=M+c*M,h--)}}),d=(f-u)/(h+(h-1)*c),d=Math.max(d,0);var v=0,g;J(a,function(x,b){x.width||(x.width=d),g=x,v+=x.width*(1+c)}),g&&(v-=g.width*c);var y=-v/2;J(a,function(x,b){t[i][b]=t[i][b]||{bandWidth:o,offset:y,width:x.width},y+=x.width*(1+c)})}),t}function w3e(n,e,t){if(n&&e){var r=n[RB(e)];return r}}function jte(n,e){var t=Fte(n,e),r=Gte(t);J(t,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),l=Vte(i),u=r[RB(s)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function Wte(n){return{seriesType:n,plan:m_(),reset:function(e){if(Yte(e)){var t=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),o=t.getDimensionIndex(t.mapDimension(a.dim)),s=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),u=t.mapDimension(a.dim),c=t.getCalculationInfo("stackResultDimension"),f=Yh(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),h=a.isHorizontal(),d=T3e(i,a),v=Xte(e),g=e.get("barMinHeight")||0,y=c&&t.getDimensionIndex(c),x=t.getLayout("size"),b=t.getLayout("offset");return{progress:function(T,M){for(var C=T.count,D=v&&rf(C*3),R=v&&l&&rf(C*3),I=v&&rf(C),L=r.master.getRect(),O=h?L.width:L.height,B,V=M.getStore(),F=0;(B=T.next())!=null;){var k=V.get(f?y:o,B),Y=V.get(s,B),H=d,W=void 0;f&&(W=+k-V.get(o,B));var q=void 0,K=void 0,re=void 0,j=void 0;if(h){var Q=r.dataToPoint([k,Y]);if(f){var ne=r.dataToPoint([W,Y]);H=ne[0]}q=H,K=Q[1]+b,re=Q[0]-H,j=x,Math.abs(re)<g&&(re=(re<0?-1:1)*g)}else{var Q=r.dataToPoint([Y,k]);if(f){var ne=r.dataToPoint([Y,W]);H=ne[1]}q=Q[0]+b,K=H,re=x,j=Q[1]-H,Math.abs(j)<g&&(j=(j<=0?-1:1)*g)}v?(D[F]=q,D[F+1]=K,D[F+2]=h?re:j,R&&(R[F]=h?L.x:q,R[F+1]=h?K:L.y,R[F+2]=O),I[B]=B):M.setItemLayout(B,{x:q,y:K,width:re,height:j}),F+=3}v&&M.setLayout({largePoints:D,largeDataIndices:I,largeBackgroundPoints:R,valueAxisHorizontal:h})}}}}}}function Yte(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function Xte(n){return n.pipelineContext&&n.pipelineContext.large}function T3e(n,e){var t=e.model.get("startValue");return t||(t=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?t>0?t:1:t))}var M3e=function(n,e,t,r){for(;t<r;){var i=t+r>>>1;n[i][1]<e?t=i+1:r=i}return t},LB=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return Tw(t.value,QH[qMe(US(this._minLevelUnit))]||QH.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return ZMe(t,r,i,o,a)},e.prototype.getTicks=function(t){t=t||{};var r=this._interval,i=this._extent,a=Qi(),o=[];if(!r)return o;var s=this.getSetting("useUTC");if(a&&t.breakTicks==="only_break")return Qi().addBreaksToTicks(o,this._brkCtx.breaks,this._extent),o;var l=rx(i[1],s);o.push({value:i[0],time:{level:0,upperTimeUnit:l,lowerTimeUnit:l}});var u=L3e(this._minLevelUnit,this._approxInterval,s,i,this._getExtentSpanWithBreaks(),this._brkCtx);o=o.concat(u);var c=rx(i[1],s);o.push({value:i[1],time:{level:0,upperTimeUnit:c,lowerTimeUnit:c}});var f=this.getSetting("useUTC"),h=tl.length-1,d=0;return J(o,function(v){h=Math.min(h,on(tl,v.time.upperTimeUnit)),d=Math.max(d,v.time.level)}),a&&Qi().pruneTicksByBreak(t.pruneByBreak,o,this._brkCtx.breaks,function(v){return v.value},this._approxInterval,this._extent),a&&t.breakTicks!=="none"&&Qi().addBreaksToTicks(o,this._brkCtx.breaks,this._extent,function(v){for(var g=Math.max(on(tl,rx(v.vmin,f)),on(tl,rx(v.vmax,f))),y=0,x=0;x<tl.length;x++)if(!qte(tl[x],v.vmin,v.vmax,f)){y=x;break}var b=Math.min(y,h),T=Math.max(b,g);return{level:d,lowerTimeUnit:tl[T],upperTimeUnit:tl[b]}}),o},e.prototype.calcNiceExtent=function(t){var r=this.getExtent();if(r[0]===r[1]&&(r[0]-=Kl,r[1]+=Kl),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-Kl}this._innerSetExtent(r[0],r[1]),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){t=t||10;var a=this._getExtentSpanWithBreaks();this._approxInterval=a/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=IA.length,s=Math.min(M3e(IA,this._approxInterval,0,o),o-1);this._interval=IA[s][1],this._intervalPrecision=L2(this._interval),this._minLevelUnit=IA[Math.max(s-1,0)][0]},e.prototype.parse=function(t){return Pn(t)?t:+Sf(t)},e.prototype.contain=function(t){return NB(t,this._extent)},e.prototype.normalize=function(t){return this._calculator.normalize(t,this._extent)},e.prototype.scale=function(t){return this._calculator.scale(t,this._extent)},e.type="time",e})(Xh),IA=[["second",Kk],["minute",Jk],["hour",BS],["quarter-day",BS*6],["half-day",BS*12],["day",Kl*1.2],["half-week",Kl*3.5],["week",Kl*7],["month",Kl*31],["quarter",Kl*95],["half-year",JH/2],["year",JH]];function qte(n,e,t,r){return d3(new Date(e),n,r).getTime()===d3(new Date(t),n,r).getTime()}function A3e(n,e){return n/=Kl,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function C3e(n){var e=30*Kl;return n/=e,n>6?6:n>3?3:n>2?2:1}function E3e(n){return n/=BS,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function lj(n,e){return n/=e?Jk:Kk,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function D3e(n){return Mk(n,!0)}function N3e(n,e,t){var r=Math.max(0,on(tl,e)-1);return d3(new Date(n),tl[r],t).getTime()}function R3e(n,e){var t=new Date(0);t[n](1);var r=t.getTime();t[n](1+e);var i=t.getTime()-r;return function(a,o){return Math.max(0,Math.round((o-a)/i))}}function L3e(n,e,t,r,i,a){var o=1e4,s=jMe,l=0;function u(F,k,Y,H,W,q,K){for(var re=R3e(W,F),j=k,Q=new Date(j);j<Y&&j<=r[1]&&(K.push({value:j}),!(l++>o));)if(Q[W](Q[H]()+F),j=Q.getTime(),a){var ne=a.calcNiceTickMultiple(j,re);ne>0&&(Q[W](Q[H]()+ne*F),j=Q.getTime())}K.push({value:j,notAdd:!0})}function c(F,k,Y){var H=[],W=!k.length;if(!qte(US(F),r[0],r[1],t)){W&&(k=[{value:N3e(r[0],F,t)},{value:r[1]}]);for(var q=0;q<k.length-1;q++){var K=k[q].value,re=k[q+1].value;if(K!==re){var j=void 0,Q=void 0,ne=void 0,se=!1;switch(F){case"year":j=Math.max(1,Math.round(e/Kl/365)),Q=tee(t),ne=KMe(t);break;case"half-year":case"quarter":case"month":j=C3e(e),Q=Qk(t),ne=nee(t);break;case"week":case"half-week":case"day":j=A3e(e),Q=$k(t),ne=ree(t),se=!0;break;case"half-day":case"quarter-day":case"hour":j=E3e(e),Q=eB(t),ne=iee(t);break;case"minute":j=lj(e,!0),Q=tB(t),ne=aee(t);break;case"second":j=lj(e,!1),Q=nB(t),ne=oee(t);break;case"millisecond":j=D3e(e),Q=rB(t),ne=see(t);break}re>=r[0]&&K<=r[1]&&u(j,K,re,Q,ne,se,H),F==="year"&&Y.length>1&&q===0&&Y.unshift({value:Y[0].value-j})}}for(var q=0;q<H.length;q++)Y.push(H[q])}}for(var f=[],h=[],d=0,v=0,g=0;g<s.length;++g){var y=US(s[g]);if(XMe(s[g])){c(s[g],f[f.length-1]||[],h);var x=s[g+1]?US(s[g+1]):null;if(y!==x){if(h.length){v=d,h.sort(function(F,k){return F.value-k.value});for(var b=[],T=0;T<h.length;++T){var M=h[T].value;(T===0||h[T-1].value!==M)&&(b.push(h[T]),M>=r[0]&&M<=r[1]&&d++)}var C=i/e;if(d>C*1.5&&v>C/1.5||(f.push(b),d>C||n===s[g]))break}h=[]}}}for(var D=Zn($e(f,function(F){return Zn(F,function(k){return k.value>=r[0]&&k.value<=r[1]&&!k.notAdd})}),function(F){return F.length>0}),R=[],I=D.length-1,g=0;g<D.length;++g)for(var L=D[g],O=0;O<L.length;++O){var B=rx(L[O].value,t);R.push({value:L[O].value,time:{level:I-g,upperTimeUnit:B,lowerTimeUnit:B}})}R.sort(function(F,k){return F.value-k.value});for(var V=[],g=0;g<R.length;++g)(g===0||R[g].value!==R[g-1].value)&&V.push(R[g]);return V}qp.registerClass(LB);var r4=ki,I3e=Math.floor,O3e=Math.ceil,OA=Math.pow,PA=Math.log,Zte=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Xh,t}return e.prototype.getTicks=function(t){t=t||{};var r=this._extent.slice(),i=this._originalScale.getExtent(),a=n.prototype.getTicks.call(this,t),o=this.base,s=this._originalScale._innerGetBreaks(),l=Qi();return $e(a,function(u){var c=u.value,f=null,h=OA(o,c);c===r[0]&&this._fixMin?f=i[0]:c===r[1]&&this._fixMax&&(f=i[1]);var d;if(l){var v=l.getTicksLogTransformBreak(u,o,s,zA);d=v.vBreak,f==null&&(f=v.brkRoundingCriterion)}return f!=null&&(h=zA(h,f)),{value:h,break:d}},this)},e.prototype._getNonTransBreaks=function(){return this._originalScale._innerGetBreaks()},e.prototype.setExtent=function(t,r){this._originalScale.setExtent(t,r);var i=t4(this.base,[t,r]);n.prototype.setExtent.call(this,i[0],i[1])},e.prototype.getExtent=function(){var t=this.base,r=n.prototype.getExtent.call(this);r[0]=OA(t,r[0]),r[1]=OA(t,r[1]);var i=this._originalScale.getExtent();return this._fixMin&&(r[0]=zA(r[0],i[0])),this._fixMax&&(r[1]=zA(r[1],i[1])),r},e.prototype.unionExtentFromData=function(t,r){this._originalScale.unionExtentFromData(t,r);var i=t4(this.base,t.getApproximateExtent(r),!0);this._innerUnionExtent(i)},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent.slice(),i=this._getExtentSpanWithBreaks();if(!(!isFinite(i)||i<=0)){var a=e$(i),o=t/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[r4(O3e(r[0]/a)*a),r4(I3e(r[1]/a)*a)];this._interval=a,this._intervalPrecision=L2(a),this._niceExtent=s}},e.prototype.calcNiceExtent=function(t){n.prototype.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.contain=function(t){return t=PA(t)/PA(this.base),n.prototype.contain.call(this,t)},e.prototype.normalize=function(t){return t=PA(t)/PA(this.base),n.prototype.normalize.call(this,t)},e.prototype.scale=function(t){return t=n.prototype.scale.call(this,t),OA(this.base,t)},e.prototype.setBreaksFromOption=function(t){var r=Qi();if(r){var i=r.logarithmicParseBreaksFromOption(t,this.base,mt(this.parse,this)),a=i.parsedOriginal,o=i.parsedLogged;this._originalScale._innerSetBreak(a),this._innerSetBreak(o)}},e.type="log",e})(Xh);function zA(n,e){return r4(n,Hu(e))}qp.registerClass(Zte);var P3e=(function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);a==null&&(a=t.get("startValue",!0));var o=this._modelMinRaw=a;Nt(o)?this._modelMinNum=kA(e,o({min:r[0],max:r[1]})):o!=="dataMin"&&(this._modelMinNum=kA(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(Nt(s)?this._modelMaxNum=kA(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=kA(e,s)),i)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),u=Ke(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[ec(u[0],1),ec(u[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=e?null:r-t||Math.abs(t),s=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=e?i?0:NaN:t-a[0]*o),l==null&&(l=e?i?i-1:NaN:r+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=so(s)||so(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var h=this._determinedMin,d=this._determinedMax;return h!=null&&(s=h,u=!0),d!=null&&(l=d,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},n.prototype.modifyDataMinMax=function(e,t){this[k3e[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var r=z3e[e];this[r]=t},n.prototype.freeze=function(){this.frozen=!0},n})(),z3e={min:"_determinedMin",max:"_determinedMax"},k3e={min:"_dataMin",max:"_dataMax"};function Kte(n,e,t){var r=n.rawExtentInfo;return r||(r=new P3e(n,e,t),n.rawExtentInfo=r,r)}function kA(n,e){return e==null?null:so(e)?NaN:n.parse(e)}function Jte(n,e){var t=n.type,r=Kte(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,a=r.max,o=e.ecModel;if(o&&t==="time"){var s=Fte("bar",o),l=!1;if(J(s,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=Gte(s),c=B3e(i,a,e,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function B3e(n,e,t,r){var i=t.axis.getExtent(),a=Math.abs(i[1]-i[0]),o=w3e(r,t.axis);if(o===void 0)return{min:n,max:e};var s=1/0;J(o,function(d){s=Math.min(d.offset,s)});var l=-1/0;J(o,function(d){l=Math.max(d.offset+d.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-n,f=1-(s+l)/a,h=c/f-c;return e+=h*(l/u),n-=h*(s/u),{min:n,max:e}}function Sm(n,e){var t=e,r=Jte(n,t),i=r.extent,a=t.get("splitNumber");n instanceof Zte&&(n.base=t.get("logBase"));var o=n.type,s=t.get("interval"),l=o==="interval"||o==="time";n.setBreaksFromOption($te(t)),n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),s!=null&&n.setInterval&&n.setInterval(s)}function Cw(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new Ux({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new LB({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(qp.getClass(e)||Xh)}}function U3e(n){var e=n.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function b_(n){var e=n.getLabelModel().get("formatter");if(n.type==="time"){var t=WMe(e);return function(i,a){return n.scale.getFormattedLabel(i,a,t)}}else{if(vt(e))return function(i){var a=n.scale.getLabel(i),o=e.replace("{value}",a??"");return o};if(Nt(e)){if(n.type==="category")return function(i,a){return e(M3(n,i),i.value-n.scale.getExtent()[0],null)};var r=Qi();return function(i,a){var o=null;return r&&(o=r.makeAxisLabelFormatterParamBreak(o,i.break)),e(M3(n,i),a,o)}}else return function(i){return n.scale.getLabel(i)}}}function M3(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function IB(n){var e=n.get("interval");return e??"auto"}function Qte(n){return n.type==="category"&&IB(n.getLabelModel())===0}function A3(n,e){var t={};return J(n.mapDimensionsAll(e),function(r){t[DB(n,r)]=!0}),Rn(t)}function V3e(n,e,t){e&&J(A3(e,t),function(r){var i=e.getApproximateExtent(r);i[0]<n[0]&&(n[0]=i[0]),i[1]>n[1]&&(n[1]=i[1])})}function Vx(n){return n==="middle"||n==="center"}function O2(n){return n.getShallow("show")}function $te(n){var e=n.get("breaks",!0);if(e!=null)return!Qi()||!F3e(n.axis)?void 0:e}function F3e(n){return(n.dim==="x"||n.dim==="y"||n.dim==="z"||n.dim==="single")&&n.type!=="category"}var S_=(function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n})();function G3e(n){return Tf(null,n)}var H3e={isDimensionStacked:Yh,enableDataStack:Bte,getStackedDimension:DB};function j3e(n,e){var t=e;e instanceof Tn||(t=new Tn(e));var r=Cw(t);return r.setExtent(n[0],n[1]),Sm(r,t),r}function W3e(n){Ci(n,S_)}function Y3e(n,e){return e=e||{},Dr(n,null,null,e.state!=="normal")}const X3e=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:r3e,createList:G3e,createScale:j3e,createSymbol:Vi,createTextStyle:Y3e,dataStack:H3e,enableHoverEmphasis:Sp,getECData:Xt,getLayoutRect:Kr,mixinAxisModelCommonMethods:W3e},Symbol.toStringTag,{value:"Module"}));var q3e=1e-8;function uj(n,e){return Math.abs(n-e)<q3e}function Bg(n,e,t){var r=0,i=n[0];if(!i)return!1;for(var a=1;a<n.length;a++){var o=n[a];r+=xh(i[0],i[1],o[0],o[1],e,t),i=o}var s=n[0];return(!uj(i[0],s[0])||!uj(i[1],s[1]))&&(r+=xh(i[0],i[1],s[0],s[1],e,t)),r!==0}var Z3e=[];function YI(n,e){for(var t=0;t<n.length;t++)Ai(n[t],n[t],e)}function cj(n,e,t,r){for(var i=0;i<n.length;i++){var a=n[i];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Ah(e,e,a),Ch(t,t,a))}}function K3e(n){for(var e=0,t=0,r=0,i=n.length,a=n[i-1][0],o=n[i-1][1],s=0;s<i;s++){var l=n[s][0],u=n[s][1],c=a*u-l*o;e+=c,t+=(a+l)*c,r+=(o+u)*c,a=l,o=u}return e?[t/e/3,r/e/3,e]:[n[0][0]||0,n[0][1]||0]}var ene=(function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n})(),fj=(function(){function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return n})(),hj=(function(){function n(e){this.type="linestring",this.points=e}return n})(),tne=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.type="geoJSON",a.geometries=r,a._center=i&&[i[0],i[1]],a}return e.prototype.calcCenter=function(){for(var t=this.geometries,r,i=0,a=0;a<t.length;a++){var o=t[a],s=o.exterior,l=s&&s.length;l>i&&(r=o,i=l)}if(r)return K3e(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var r=this._rect;if(r&&!t)return r;var i=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return J(o,function(s){s.type==="polygon"?cj(s.exterior,i,a,t):J(s.points,function(l){cj(l,i,a,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),r=new Wt(i[0],i[1],a[0]-i[0],a[1]-i[1]),t||(this._rect=r),r},e.prototype.contain=function(t){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(t[0],t[1]))return!1;e:for(var a=0,o=i.length;a<o;a++){var s=i[a];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(Bg(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(Bg(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,r,i,a){var o=this.getBoundingRect(),s=o.width/o.height;i?a||(a=i/s):i=s*a;for(var l=new Wt(t,r,i,a),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var h=c[f];h.type==="polygon"?(YI(h.exterior,u),J(h.interiors,function(d){YI(d,u)})):J(h.points,function(d){YI(d,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var r=new e(t,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},e})(ene),J3e=(function(n){Oe(e,n);function e(t,r){var i=n.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,r=t.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],a=gw(Z3e),o=t;o&&!o.isGeoSVGGraphicRoot;)Yu(a,o.getLocalTransform(),a),o=o.parent;return tu(a,a),Ai(i,i,a),i},e})(ene);function Q3e(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;t==null&&(t=1024);var r=e.features;return J(r,function(i){var a=i.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=nne(s,o,t);break;case"Polygon":XI(s,o,t);break;case"MultiLineString":XI(s,o,t);break;case"MultiPolygon":J(s,function(l,u){return XI(l,o[u],t)})}}),e.UTF8Encoding=!1,e}function XI(n,e,t){for(var r=0;r<n.length;r++)n[r]=nne(n[r],e[r],t)}function nne(n,e,t){for(var r=[],i=e[0],a=e[1],o=0;o<n.length;o+=2){var s=n.charCodeAt(o)-64,l=n.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=i,l+=a,i=s,a=l,r.push([s/t,l/t])}return r}function i4(n,e){return n=Q3e(n),$e(Zn(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties,i=t.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new fj(o[0],o.slice(1)));break;case"MultiPolygon":J(i.coordinates,function(l){l[0]&&a.push(new fj(l[0],l.slice(1)))});break;case"LineString":a.push(new hj([i.coordinates]));break;case"MultiLineString":a.push(new hj(i.coordinates))}var s=new tne(r[e||"name"],a,r.cp);return s.properties=r,s})}const $3e=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:yP,asc:sl,getPercentWithPrecision:ywe,getPixelPrecision:wk,getPrecision:Hu,getPrecisionSafe:QQ,isNumeric:Ak,isRadianAroundZero:Ix,linearMap:er,nice:Mk,numericToNumber:vf,parseDate:Sf,parsePercent:pt,quantile:CC,quantity:e$,quantityExponent:sN,reformIntervals:xP,remRadian:Tk,round:ki},Symbol.toStringTag,{value:"Module"})),eDe=Object.freeze(Object.defineProperty({__proto__:null,format:Tw,parse:Sf,roundTime:d3},Symbol.toStringTag,{value:"Module"})),tDe=Object.freeze(Object.defineProperty({__proto__:null,Arc:bw,BezierCurve:c_,BoundingRect:Wt,Circle:wf,CompoundPath:Sw,Ellipse:_w,Group:zt,Image:Ra,IncrementalDisplayable:V$,Line:Bi,LinearGradient:Rm,Polygon:fo,Polyline:Xa,RadialGradient:Uk,Rect:mn,Ring:u_,Sector:co,Text:On,clipPointsByRect:Hk,clipRectByRect:W$,createIcon:h_,extendPath:H$,extendShape:G$,getShapeClass:M2,getTransform:wp,initProps:Gr,makeImage:Fk,makePath:Px,mergePath:il,registerShape:ou,resizePath:Gk,updateProps:Gn},Symbol.toStringTag,{value:"Module"})),nDe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:iB,capitalFirst:eAe,encodeHTML:Oo,formatTime:$Me,formatTpl:oB,getTextRect:JMe,getTooltipMarker:lee,normalizeCssArray:v_,toCamelCase:aB,truncateText:Jwe},Symbol.toStringTag,{value:"Module"})),rDe=Object.freeze(Object.defineProperty({__proto__:null,bind:mt,clone:Pt,curry:tn,defaults:Vt,each:J,extend:je,filter:Zn,indexOf:on,inherits:vk,isArray:Ke,isFunction:Nt,isObject:Ft,isString:vt,map:$e,merge:sn,reduce:eu},Symbol.toStringTag,{value:"Module"}));var iDe=Sn(),FS=Sn(),tc={estimate:1,determine:2};function C3(n){return{out:{noPxChangeTryDetermine:[]},kind:n}}function rne(n,e){var t=$e(e,function(r){return n.scale.parse(r)});return n.type==="time"&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function aDe(n,e){var t=n.getLabelModel().get("customValues");if(t){var r=b_(n),i=n.scale.getExtent(),a=rne(n,t),o=Zn(a,function(s){return s>=i[0]&&s<=i[1]});return{labels:$e(o,function(s){var l={value:s};return{formattedLabel:r(l),rawLabel:n.scale.getLabel(l),tickValue:s,time:void 0,break:void 0}})}}return n.type==="category"?sDe(n,e):uDe(n)}function oDe(n,e,t){var r=n.getTickModel().get("customValues");if(r){var i=n.scale.getExtent(),a=rne(n,r);return{ticks:Zn(a,function(o){return o>=i[0]&&o<=i[1]})}}return n.type==="category"?lDe(n,e):{ticks:$e(n.scale.getTicks(t),function(o){return o.value})}}function sDe(n,e){var t=n.getLabelModel(),r=ine(n,t,e);return!t.get("show")||n.scale.isBlank()?{labels:[]}:r}function ine(n,e,t){var r=fDe(n),i=IB(e),a=t.kind===tc.estimate;if(!a){var o=one(r,i);if(o)return o}var s,l;Nt(i)?s=une(n,i):(l=i==="auto"?hDe(n,t):i,s=lne(n,l));var u={labels:s,labelCategoryInterval:l};return a?t.out.noPxChangeTryDetermine.push(function(){return a4(r,i,u),!0}):a4(r,i,u),u}function lDe(n,e){var t=cDe(n),r=IB(e),i=one(t,r);if(i)return i;var a,o;if((!e.get("show")||n.scale.isBlank())&&(a=[]),Nt(r))a=une(n,r,!0);else if(r==="auto"){var s=ine(n,n.getLabelModel(),C3(tc.determine));o=s.labelCategoryInterval,a=$e(s.labels,function(l){return l.tickValue})}else o=r,a=lne(n,o,!0);return a4(t,r,{ticks:a,tickCategoryInterval:o})}function uDe(n){var e=n.scale.getTicks(),t=b_(n);return{labels:$e(e,function(r,i){return{formattedLabel:t(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value,time:r.time,break:r.break}})}}var cDe=ane("axisTick"),fDe=ane("axisLabel");function ane(n){return function(t){return FS(t)[n]||(FS(t)[n]={list:[]})}}function one(n,e){for(var t=0;t<n.list.length;t++)if(n.list[t].key===e)return n.list[t].value}function a4(n,e,t){return n.list.push({key:e,value:t}),t}function hDe(n,e){if(e.kind===tc.estimate){var t=n.calculateCategoryInterval(e);return e.out.noPxChangeTryDetermine.push(function(){return FS(n).autoInterval=t,!0}),t}var r=FS(n).autoInterval;return r??(FS(n).autoInterval=n.calculateCategoryInterval(e))}function dDe(n,e){var t=e.kind,r=vDe(n),i=b_(n),a=(r.axisRotate-r.labelRotate)/180*Math.PI,o=n.scale,s=o.getExtent(),l=o.count();if(s[1]-s[0]<1)return 0;var u=1,c=40;l>c&&(u=Math.max(1,Math.floor(l/c)));for(var f=s[0],h=n.dataToCoord(f+1)-n.dataToCoord(f),d=Math.abs(h*Math.cos(a)),v=Math.abs(h*Math.sin(a)),g=0,y=0;f<=s[1];f+=u){var x=0,b=0,T=aN(i({value:f}),r.font,"center","top");x=T.width*1.3,b=T.height*1.3,g=Math.max(g,x,7),y=Math.max(y,b,7)}var M=g/d,C=y/v;isNaN(M)&&(M=1/0),isNaN(C)&&(C=1/0);var D=Math.max(0,Math.floor(Math.min(M,C)));if(t===tc.estimate)return e.out.noPxChangeTryDetermine.push(mt(pDe,null,n,D,l)),D;var R=sne(n,D,l);return R??D}function pDe(n,e,t){return sne(n,e,t)==null}function sne(n,e,t){var r=iDe(n.model),i=n.getExtent(),a=r.lastAutoInterval,o=r.lastTickCount;if(a!=null&&o!=null&&Math.abs(a-e)<=1&&Math.abs(o-t)<=1&&a>e&&r.axisExtent0===i[0]&&r.axisExtent1===i[1])return a;r.lastTickCount=t,r.lastAutoInterval=e,r.axisExtent0=i[0],r.axisExtent1=i[1]}function vDe(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function lne(n,e,t){var r=b_(n),i=n.scale,a=i.getExtent(),o=n.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=Qte(n),h=o.get("showMinLabel")||f,d=o.get("showMaxLabel")||f;h&&u!==a[0]&&g(a[0]);for(var v=u;v<=a[1];v+=l)g(v);d&&v-l!==a[1]&&g(a[1]);function g(y){var x={value:y};s.push(t?y:{formattedLabel:r(x),rawLabel:i.getLabel(x),tickValue:y,time:void 0,break:void 0})}return s}function une(n,e,t){var r=n.scale,i=b_(n),a=[];return J(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;e(o.value,s)&&a.push(t?l:{formattedLabel:i(o),rawLabel:s,tickValue:l,time:void 0,break:void 0})}),a}var dj=[0,1],su=(function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},n.prototype.containData=function(e){return this.scale.contain(this.scale.parse(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return wk(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(i.parse(e)),this.onBand&&i.type==="ordinal"&&(r=r.slice(),pj(r,i.count())),er(e,dj,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),pj(r,i.count()));var a=er(e,r,dj,t);return this.scale.scale(a)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=oDe(this,t,{breakTicks:e.breakTicks,pruneByBreak:e.pruneByBreak}),i=r.ticks,a=$e(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=t.get("alignWithLabel");return gDe(this,a,o,e.clamp),a},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=$e(r,function(a){return $e(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},n.prototype.getViewLabels=function(e){return e=e||C3(tc.determine),aDe(this,e).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(e){return e=e||C3(tc.determine),dDe(this,e)},n})();function pj(n,e){var t=n[1]-n[0],r=e,i=t/r/2;n[0]+=i,n[1]-=i}function gDe(n,e,t,r){var i=e.length;if(!n.onBand||t||!i)return;var a=n.getExtent(),o,s;if(i===1)e[0].coord=a[0],e[0].onBand=!0,o=e[1]={coord:a[1],tickValue:e[0].tickValue,onBand:!0};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;J(e,function(d){d.coord-=u/2,d.onBand=!0});var c=n.scale.getExtent();s=1+c[1]-e[i-1].tickValue,o={coord:e[i-1].coord+u*s,tickValue:c[1]+1,onBand:!0},e.push(o)}var f=a[0]>a[1];h(e[0].coord,a[0])&&(r?e[0].coord=a[0]:e.shift()),r&&h(a[0],e[0].coord)&&e.unshift({coord:a[0],onBand:!0}),h(a[1],o.coord)&&(r?o.coord=a[1]:e.pop()),r&&h(o.coord,a[1])&&e.push({coord:a[1],onBand:!0});function h(d,v){return d=ki(d),v=ki(v),f?d>v:d<v}}function mDe(n){var e=bn.extend(n);return bn.registerClass(e),e}function yDe(n){var e=Rr.extend(n);return Rr.registerClass(e),e}function xDe(n){var e=_r.extend(n);return _r.registerClass(e),e}function _De(n){var e=vr.extend(n);return vr.registerClass(e),e}var Rb=Math.PI*2,wg=gf.CMD,bDe=["top","right","bottom","left"];function SDe(n,e,t,r,i){var a=t.width,o=t.height;switch(n){case"top":r.set(t.x+a/2,t.y-e),i.set(0,-1);break;case"bottom":r.set(t.x+a/2,t.y+o+e),i.set(0,1);break;case"left":r.set(t.x-e,t.y+o/2),i.set(-1,0);break;case"right":r.set(t.x+a+e,t.y+o/2),i.set(1,0);break}}function wDe(n,e,t,r,i,a,o,s,l){o-=n,s-=e;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*t+n,f=s*t+e;if(Math.abs(r-i)%Rb<1e-4)return l[0]=c,l[1]=f,u-t;if(a){var h=r;r=ll(i),i=ll(h)}else r=ll(r),i=ll(i);r>i&&(i+=Rb);var d=Math.atan2(s,o);if(d<0&&(d+=Rb),d>=r&&d<=i||d+Rb>=r&&d+Rb<=i)return l[0]=c,l[1]=f,u-t;var v=t*Math.cos(r)+n,g=t*Math.sin(r)+e,y=t*Math.cos(i)+n,x=t*Math.sin(i)+e,b=(v-o)*(v-o)+(g-s)*(g-s),T=(y-o)*(y-o)+(x-s)*(x-s);return b<T?(l[0]=v,l[1]=g,Math.sqrt(b)):(l[0]=y,l[1]=x,Math.sqrt(T))}function E3(n,e,t,r,i,a,o,s){var l=i-n,u=a-e,c=t-n,f=r-e,h=Math.sqrt(c*c+f*f);c/=h,f/=h;var d=l*c+u*f,v=d/h;s&&(v=Math.min(Math.max(v,0),1)),v*=h;var g=o[0]=n+v*c,y=o[1]=e+v*f;return Math.sqrt((g-i)*(g-i)+(y-a)*(y-a))}function cne(n,e,t,r,i,a,o){t<0&&(n=n+t,t=-t),r<0&&(e=e+r,r=-r);var s=n+t,l=e+r,u=o[0]=Math.min(Math.max(i,n),s),c=o[1]=Math.min(Math.max(a,e),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var Vu=[];function TDe(n,e,t){var r=cne(e.x,e.y,e.width,e.height,n.x,n.y,Vu);return t.set(Vu[0],Vu[1]),r}function MDe(n,e,t){for(var r=0,i=0,a=0,o=0,s,l,u=1/0,c=e.data,f=n.x,h=n.y,d=0;d<c.length;){var v=c[d++];d===1&&(r=c[d],i=c[d+1],a=r,o=i);var g=u;switch(v){case wg.M:a=c[d++],o=c[d++],r=a,i=o;break;case wg.L:g=E3(r,i,c[d],c[d+1],f,h,Vu,!0),r=c[d++],i=c[d++];break;case wg.C:g=LQ(r,i,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],f,h,Vu),r=c[d++],i=c[d++];break;case wg.Q:g=OQ(r,i,c[d++],c[d++],c[d],c[d+1],f,h,Vu),r=c[d++],i=c[d++];break;case wg.A:var y=c[d++],x=c[d++],b=c[d++],T=c[d++],M=c[d++],C=c[d++];d+=1;var D=!!(1-c[d++]);s=Math.cos(M)*b+y,l=Math.sin(M)*T+x,d<=1&&(a=s,o=l);var R=(f-y)*T/b+y;g=wDe(y,x,T,M,M+C,D,R,h,Vu),r=Math.cos(M+C)*b+y,i=Math.sin(M+C)*T+x;break;case wg.R:a=r=c[d++],o=i=c[d++];var I=c[d++],L=c[d++];g=cne(a,o,I,L,f,h,Vu);break;case wg.Z:g=E3(r,i,a,o,f,h,Vu,!0),r=a,i=o;break}g<u&&(u=g,t.set(Vu[0],Vu[1]))}return u}var ju=new jt,Fr=new jt,Pi=new jt,af=new jt,Qc=new jt;function vj(n,e){if(n){var t=n.getTextGuideLine(),r=n.getTextContent();if(r&&t){var i=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||bDe,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=i.anchor,c=n.getComputedTransform(),f=c&&tu([],c),h=e.get("length2")||0;u&&Pi.copy(u);for(var d=0;d<o.length;d++){var v=o[d];SDe(v,0,s,ju,af),jt.scaleAndAdd(Fr,ju,af,h),Fr.transform(f);var g=n.getBoundingRect(),y=u?u.distance(Fr):n instanceof Mn?MDe(Fr,n.path,Pi):TDe(Fr,g,Pi);y<l&&(l=y,Fr.transform(c),Pi.transform(c),Pi.toArray(a[0]),Fr.toArray(a[1]),ju.toArray(a[2]))}fne(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var D3=[],us=new jt;function fne(n,e){if(e<=180&&e>0){e=e/180*Math.PI,ju.fromArray(n[0]),Fr.fromArray(n[1]),Pi.fromArray(n[2]),jt.sub(af,ju,Fr),jt.sub(Qc,Pi,Fr);var t=af.len(),r=Qc.len();if(!(t<.001||r<.001)){af.scale(1/t),Qc.scale(1/r);var i=af.dot(Qc),a=Math.cos(e);if(a<i){var o=E3(Fr.x,Fr.y,Pi.x,Pi.y,ju.x,ju.y,D3,!1);us.fromArray(D3),us.scaleAndAdd(Qc,o/Math.tan(Math.PI-e));var s=Pi.x!==Fr.x?(us.x-Fr.x)/(Pi.x-Fr.x):(us.y-Fr.y)/(Pi.y-Fr.y);if(isNaN(s))return;s<0?jt.copy(us,Fr):s>1&&jt.copy(us,Pi),us.toArray(n[1])}}}}function ADe(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,ju.fromArray(n[0]),Fr.fromArray(n[1]),Pi.fromArray(n[2]),jt.sub(af,Fr,ju),jt.sub(Qc,Pi,Fr);var r=af.len(),i=Qc.len();if(!(r<.001||i<.001)){af.scale(1/r),Qc.scale(1/i);var a=af.dot(e),o=Math.cos(t);if(a<o){var s=E3(Fr.x,Fr.y,Pi.x,Pi.y,ju.x,ju.y,D3,!1);us.fromArray(D3);var l=Math.PI/2,u=Math.acos(Qc.dot(e)),c=l+u-t;if(c>=l)jt.copy(us,Pi);else{us.scaleAndAdd(Qc,s/Math.tan(Math.PI/2-c));var f=Pi.x!==Fr.x?(us.x-Fr.x)/(Pi.x-Fr.x):(us.y-Fr.y)/(Pi.y-Fr.y);if(isNaN(f))return;f<0?jt.copy(us,Fr):f>1&&jt.copy(us,Pi)}us.toArray(n[1])}}}}function qI(n,e,t,r){var i=t==="normal",a=i?n:n.ensureState(t);a.ignore=e;var o=r.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();i?n.useStyle(s):a.style=s}function CDe(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=Mh(r[0],r[1]),a=Mh(r[1],r[2]);if(!i||!a){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var o=Math.min(i,a)*t,s=RS([],r[1],r[0],o/i),l=RS([],r[1],r[2],o/a),u=RS([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)n.lineTo(r[c][0],r[c][1])}function OB(n,e,t){var r=n.getTextGuideLine(),i=n.getTextContent();if(!i){r&&n.removeTextGuideLine();return}for(var a=e.normal,o=a.get("show"),s=i.ignore,l=0;l<w2.length;l++){var u=w2[l],c=e[u],f=u==="normal";if(c){var h=c.get("show"),d=f?s:At(i.states[u]&&i.states[u].ignore,s);if(d||!At(h,o)){var v=f?r:r&&r.states[u];v&&(v.ignore=!0),r&&qI(r,!0,u,c);continue}r||(r=new Xa,n.setTextGuideLine(r),!f&&(s||!o)&&qI(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),qI(r,!1,u,c)}}if(r){Vt(r.style,t),r.style.fill=null;var g=a.get("showAbove"),y=n.textGuideLineConfig=n.textGuideLineConfig||{};y.showAbove=g||!1,r.buildPath=CDe}}function PB(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},r=0;r<ps.length;r++){var i=ps[r];t[i]=n.getModel([i,e])}return t}var gj=["label","labelLine","layoutOption","priority","defaultAttr","marginForce","minMarginForce","marginDefault","suggestIgnore"],EDe=1,N3=2,hne=EDe|N3;function R3(n,e,t){t=t||hne,e?n.dirty|=t:n.dirty&=~t}function dne(n,e){return e=e||hne,n.dirty==null||!!(n.dirty&e)}function yf(n){if(n)return dne(n)&&pne(n,n.label,n),n}function pne(n,e,t){var r=e.getComputedTransform();n.transform=Wk(n.transform,r);var i=n.localRect=A2(n.localRect,e.getBoundingRect()),a=e.style,o=a.margin,s=t&&t.marginForce,l=t&&t.minMarginForce,u=t&&t.marginDefault,c=a.__marginType;c==null&&u&&(o=u,c=nx.textMargin);for(var f=0;f<4;f++)ZI[f]=c===nx.minMargin&&l&&l[f]!=null?l[f]:s&&s[f]!=null?s[f]:o?o[f]:0;c===nx.textMargin&&xm(i,ZI,!1,!1);var h=n.rect=A2(n.rect,i);return r&&h.applyTransform(r),c===nx.minMargin&&xm(h,ZI,!1,!1),n.axisAligned=jk(r),(n.label=n.label||{}).ignore=e.ignore,R3(n,!1),R3(n,!0,N3),n}var ZI=[0,0,0,0];function DDe(n,e,t){return n.transform=Wk(n.transform,t),n.localRect=A2(n.localRect,e),n.rect=A2(n.rect,e),t&&n.rect.applyTransform(t),n.axisAligned=jk(t),n.obb=void 0,(n.label=n.label||{}).ignore=!1,n}function o4(n,e){if(n){n.label.x+=e.x,n.label.y+=e.y,n.label.markRedraw();var t=n.transform;t&&(t[4]+=e.x,t[5]+=e.y);var r=n.rect;r&&(r.x+=e.x,r.y+=e.y);var i=n.obb;i&&i.fromBoundingRect(n.localRect,t)}}function s4(n,e){for(var t=0;t<gj.length;t++){var r=gj[t];n[r]==null&&(n[r]=e[r])}return yf(n)}function mj(n){var e=n.obb;return(!e||dne(n,N3))&&(n.obb=e=e||new U$,e.fromBoundingRect(n.localRect,n.transform),R3(n,!1,N3)),e}function l4(n,e,t,r,i){var a=n.length,o=Qt[e],s=$i[e];if(a<2)return!1;n.sort(function(R,I){return R.rect[o]-I.rect[o]});for(var l=0,u,c=!1,f=0;f<a;f++){var h=n[f],d=h.rect;u=d[o]-l,u<0&&(d[o]-=u,h.label[o]-=u,c=!0),l=d[o]+d[s]}var v=n[0],g=n[a-1],y,x;b(),y<0&&C(-y,.8),x<0&&C(x,.8),b(),T(y,x,1),T(x,y,-1),b(),y<0&&D(-y),x<0&&D(x);function b(){y=v.rect[o]-t,x=r-g.rect[o]-g.rect[s]}function T(R,I,L){if(R<0){var O=Math.min(I,-R);if(O>0){M(O*L,0,a);var B=O+R;B<0&&C(-B*L,1)}else C(-R*L,1)}}function M(R,I,L){R!==0&&(c=!0);for(var O=I;O<L;O++){var B=n[O],V=B.rect;V[o]+=R,B.label[o]+=R}}function C(R,I){for(var L=[],O=0,B=1;B<a;B++){var V=n[B-1].rect,F=Math.max(n[B].rect[o]-V[o]-V[s],0);L.push(F),O+=F}if(O){var k=Math.min(Math.abs(R)/O,I);if(R>0)for(var B=0;B<a-1;B++){var Y=L[B]*k;M(Y,0,B+1)}else for(var B=a-1;B>0;B--){var Y=L[B-1]*k;M(-Y,B,a)}}}function D(R){var I=R<0?-1:1;R=Math.abs(R);for(var L=Math.ceil(R/(a-1)),O=0;O<a-1;O++)if(I>0?M(L,0,O+1):M(-L,a-O-1,a),R-=L,R<=0)return}return c}function NDe(n){for(var e=0;e<n.length;e++){var t=n[e],r=t.defaultAttr,i=t.labelLine;t.label.attr("ignore",r.ignore),i&&i.attr("ignore",r.labelGuideIgnore)}}function vne(n){var e=[];n.sort(function(u,c){return(c.suggestIgnore?1:0)-(u.suggestIgnore?1:0)||c.priority-u.priority});function t(u){if(!u.ignore){var c=u.ensureState("emphasis");c.ignore==null&&(c.ignore=!1)}u.ignore=!0}for(var r=0;r<n.length;r++){var i=yf(n[r]);if(!i.label.ignore){for(var a=i.label,o=i.labelLine,s=!1,l=0;l<e.length;l++)if(AN(i,e[l],null,{touchThreshold:.05})){s=!0;break}s?(t(a),o&&t(o)):e.push(i)}}}function AN(n,e,t,r){return!n||!e||n.label&&n.label.ignore||e.label&&e.label.ignore||!n.rect.intersect(e.rect,t,r)?!1:n.axisAligned&&e.axisAligned?!0:mj(n).intersect(mj(e),t,r)}function RDe(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function LDe(n,e){var t=n.label,r=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:RDe(r&&r.shape.points)}}var yj=["align","verticalAlign","width","height","fontSize"],as=new Eh,KI=Sn(),IDe=Sn();function BA(n,e,t){for(var r=0;r<t.length;r++){var i=t[r];e[i]!=null&&(n[i]=e[i])}}var UA=["x","y","rotation"],ODe=(function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,r,i,a){var o=i.style,s=i.__hostTarget,l=s.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();Wt.applyTransform(c,c,u),u?as.setLocalTransform(u):(as.x=as.y=as.rotation=as.originX=as.originY=0,as.scaleX=as.scaleY=1),as.rotation=ll(as.rotation);var f=i.__hostTarget,h;if(f){h=f.getBoundingRect().plain();var d=f.getComputedTransform();Wt.applyTransform(h,h,d)}var v=h&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:r,dataIndex:e,dataType:t,layoutOptionOrCb:a,layoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:as.x,y:as.y,scaleX:as.scaleX,scaleY:as.scaleY,rotation:as.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model,i=r.get("labelLayout");(Nt(i)||Rn(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=Xt(a);o&&!o.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,r,o,i)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),r=e.getHeight();function i(T,M){return function(){vj(T,M)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;Nt(o.layoutOptionOrCb)?c=o.layoutOptionOrCb(LDe(o,l)):c=o.layoutOptionOrCb,c=c||{},o.layoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(s.x=pt(c.x,t),s.setStyle("x",0),h=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=pt(c.y,r),s.setStyle("y",0),h=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),h=!1)}var v=KI(s);v.needsUpdateLabelLine=h,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var g=0;g<yj.length;g++){var y=yj[g];s.setStyle(y,c[y]!=null?c[y]:u.style[y])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var x=o.seriesModel;if(o.dataIndex!=null){var b=o.seriesModel.getData(o.dataType);x=b.getItemModel(o.dataIndex)}s.on("drag",i(l,x.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),r=e.getHeight(),i=[];J(this._labelList,function(l){l.defaultAttr.ignore||i.push(s4({},l))});var a=Zn(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=Zn(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});l4(a,0,0,t),l4(o,1,0,r);var s=Zn(i,function(l){return l.layoutOption.hideOverlap});NDe(s),vne(s)},n.prototype.processLabelsOverall=function(){var e=this;J(this._chartViewList,function(t){var r=t.__model,i=t.ignoreLabelLineUpdate,a=r.isAnimationEnabled();t.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,l=o.getTextContent();!s&&l&&(s=KI(l).needsUpdateLabelLine),s&&e._updateLabelLine(o,r),a&&e._animateLabels(o,r)})})},n.prototype._updateLabelLine=function(e,t){var r=e.getTextContent(),i=Xt(e),a=i.dataIndex;if(r&&a!=null){var o=t.getData(i.dataType),s=o.getItemModel(a),l={},u=o.getItemVisual(a,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");OB(e,PB(s),l),vj(e,f)}},n.prototype._animateLabels=function(e,t){var r=e.getTextContent(),i=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!hx(e))){var a=KI(r),o=a.oldLayout,s=Xt(e),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=t.getData(s.dataType);if(o){r.attr(o);var h=e.prevStates;h&&(on(h,"select")>=0&&r.attr(a.oldLayoutSelect),on(h,"emphasis")>=0&&r.attr(a.oldLayoutEmphasis)),Gn(r,u,t,l)}else if(r.attr(u),!d_(r).valueAnimation){var f=At(r.style.opacity,1);r.style.opacity=0,Gr(r,{style:{opacity:f}},t,l)}if(a.oldLayout=u,r.states.select){var d=a.oldLayoutSelect={};BA(d,u,UA),BA(d,r.states.select,UA)}if(r.states.emphasis){var v=a.oldLayoutEmphasis={};BA(v,u,UA),BA(v,r.states.emphasis,UA)}J$(r,l,c,t,t)}if(i&&!i.ignore&&!i.invisible){var a=IDe(i),o=a.oldLayout,g={points:i.shape.points};o?(i.attr({shape:o}),Gn(i,{shape:g},t)):(i.setShape(g),i.style.strokePercent=0,Gr(i,{style:{strokePercent:1}},t)),a.oldLayout=g}},n})(),JI=Sn();function PDe(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){var i=JI(t).labelManager;i||(i=JI(t).labelManager=new ODe),i.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,r){var i=JI(t).labelManager;r.updatedSeries.forEach(function(a){i.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}var QI=Math.sin,$I=Math.cos,gne=Math.PI,Tg=Math.PI*2,zDe=180/gne,mne=(function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,r,i,a,o){this._add("C",e,t,r,i,a,o)},n.prototype.quadraticCurveTo=function(e,t,r,i){this._add("Q",e,t,r,i)},n.prototype.arc=function(e,t,r,i,a,o){this.ellipse(e,t,r,r,0,i,a,o)},n.prototype.ellipse=function(e,t,r,i,a,o,s,l){var u=s-o,c=!l,f=Math.abs(u),h=pp(f-Tg)||(c?u>=Tg:-u>=Tg),d=u>0?u%Tg:u%Tg+Tg,v=!1;h?v=!0:pp(f)?v=!1:v=d>=gne==!!c;var g=e+r*$I(o),y=t+i*QI(o);this._start&&this._add("M",g,y);var x=Math.round(a*zDe);if(h){var b=1/this._p,T=(c?1:-1)*(Tg-b);this._add("A",r,i,x,1,+c,e+r*$I(o+T),t+i*QI(o+T)),b>.01&&this._add("A",r,i,x,0,+c,g,y)}else{var M=e+r*$I(s),C=t+i*QI(s);this._add("A",r,i,x,+v,+c,M,C)}},n.prototype.rect=function(e,t,r,i){this._add("M",e,t),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,r,i,a,o,s,l,u){for(var c=[],f=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d)){this._invalid=!0;return}c.push(Math.round(d*f)/f)}this._d.push(e+c.join(" ")),this._start=e==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n})(),zB="none",kDe=Math.round;function BDe(n){var e=n.fill;return e!=null&&e!==zB}function UDe(n){var e=n.stroke;return e!=null&&e!==zB}var u4=["lineCap","miterLimit","lineJoin"],VDe=$e(u4,function(n){return"stroke-"+n.toLowerCase()});function FDe(n,e,t,r){var i=e.opacity==null?1:e.opacity;if(t instanceof Ra){n("opacity",i);return}if(BDe(e)){var a=b2(e.fill);n("fill",a.color);var o=e.fillOpacity!=null?e.fillOpacity*a.opacity*i:a.opacity*i;o<1&&n("fill-opacity",o)}else n("fill",zB);if(UDe(e)){var s=b2(e.stroke);n("stroke",s.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*i:s.opacity*i,f=e.strokeFirst;if(u!==1&&n("stroke-width",u),f&&n("paint-order",f?"stroke":"fill"),c<1&&n("stroke-opacity",c),e.lineDash){var h=mB(t),d=h[0],v=h[1];d&&(v=kDe(v||0),n("stroke-dasharray",d.join(",")),(v||r)&&n("stroke-dashoffset",v))}for(var g=0;g<u4.length;g++){var y=u4[g];if(e[y]!==s3[y]){var x=e[y]||s3[y];x&&n(VDe[g],x)}}}}var yne="http://www.w3.org/2000/svg",xne="http://www.w3.org/1999/xlink",GDe="http://www.w3.org/2000/xmlns/",HDe="http://www.w3.org/XML/1998/namespace",xj="ecmeta_";function _ne(n){return document.createElementNS(yne,n)}function Ta(n,e,t,r,i){return{tag:n,attrs:t||{},children:r,text:i,key:e}}function jDe(n,e){var t=[];if(e)for(var r in e){var i=e[r],a=r;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),t.push(a))}return"<"+n+" "+t.join(" ")+">"}function WDe(n){return"</"+n+">"}function kB(n,e){e=e||{};var t=e.newline?`
`:"";function r(i){var a=i.children,o=i.tag,s=i.attrs,l=i.text;return jDe(o,s)+(o!=="style"?Oo(l):l||"")+(a?""+t+$e(a,function(u){return r(u)}).join(t)+t:"")+WDe(o)}return r(n)}function YDe(n,e,t){t=t||{};var r=t.newline?`
`:"",i=" {"+r,a=r+"}",o=$e(Rn(n),function(l){return l+i+$e(Rn(n[l]),function(u){return u+":"+n[l][u]+";"}).join(r)+a}).join(r),s=$e(Rn(e),function(l){return"@keyframes "+l+i+$e(Rn(e[l]),function(u){return u+i+$e(Rn(e[l][u]),function(c){var f=e[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(r)+a}).join(r)+a}).join(r);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(r)}function c4(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function _j(n,e,t,r){return Ta("svg","root",{width:n,height:e,xmlns:yne,"xmlns:xlink":xne,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+n+" "+e:!1},t)}var XDe=0;function bne(){return XDe++}var bj={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Rg="transform-origin";function qDe(n,e,t){var r=je({},n.shape);je(r,e),n.buildPath(t,r);var i=new mne;return i.reset(FQ(n)),t.rebuildPath(i,1),i.generateStr(),i.getStr()}function ZDe(n,e){var t=e.originX,r=e.originY;(t||r)&&(n[Rg]=t+"px "+r+"px")}var KDe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Sne(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function JDe(n,e,t){var r=n.shape.paths,i={},a,o;if(J(r,function(l){var u=c4(t.zrId);u.animation=!0,CN(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,h=Rn(c),d=h.length;if(d){o=h[d-1];var v=c[o];for(var g in v){var y=v[g];i[g]=i[g]||{d:""},i[g].d+=y.d||""}for(var x in f){var b=f[x].animation;b.indexOf(o)>=0&&(a=b)}}}),!!a){e.d=!1;var s=Sne(i,t);return a.replace(o,s)}}function Sj(n){return vt(n)?bj[n]?"cubic-bezier("+bj[n]+")":xk(n)?n:"":""}function CN(n,e,t,r){var i=n.animators,a=i.length,o=[];if(n instanceof Sw){var s=JDe(n,e,t);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],h=Sj(c.getClip().easing),d=c.getDelay();h?f.push(h):f.push("linear"),d&&f.push(d/1e3+"s"),c.getLoop()&&f.push("infinite");var v=f.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(c)}function g(b){var T=b[1],M=T.length,C={},D={},R={},I="animation-timing-function";function L(Te,Me,Re){for(var Ue=Te.getTracks(),et=Te.getMaxTime(),ct=0;ct<Ue.length;ct++){var X=Ue[ct];if(X.needsAnimate()){var te=X.keyframes,ve=X.propName;if(Re&&(ve=Re(ve)),ve)for(var oe=0;oe<te.length;oe++){var ae=te[oe],de=Math.round(ae.time/et*100)+"%",Ae=Sj(ae.easing),Ce=ae.rawValue;(vt(Ce)||Pn(Ce))&&(Me[de]=Me[de]||{},Me[de][ve]=ae.rawValue,Ae&&(Me[de][I]=Ae))}}}}for(var O=0;O<M;O++){var B=T[O],V=B.targetName;V?V==="shape"&&L(B,D):!r&&L(B,C)}for(var F in C){var k={};i3(k,n),je(k,C[F]);var Y=GQ(k),H=C[F][I];R[F]=Y?{transform:Y}:{},ZDe(R[F],k),H&&(R[F][I]=H)}var W,q=!0;for(var F in D){R[F]=R[F]||{};var K=!W,H=D[F][I];K&&(W=new gf);var re=W.len();W.reset(),R[F].d=qDe(n,D[F],W);var j=W.len();if(!K&&re!==j){q=!1;break}H&&(R[F][I]=H)}if(!q)for(var F in R)delete R[F].d;if(!r)for(var O=0;O<M;O++){var B=T[O],V=B.targetName;V==="style"&&L(B,R,function(Ue){return KDe[Ue]})}for(var Q=Rn(R),ne=!0,se,O=1;O<Q.length;O++){var he=Q[O-1],pe=Q[O];if(R[he][Rg]!==R[pe][Rg]){ne=!1;break}se=R[he][Rg]}if(ne&&se){for(var F in R)R[F][Rg]&&delete R[F][Rg];e[Rg]=se}if(Zn(Q,function(Te){return Rn(R[Te]).length>0}).length){var xe=Sne(R,t);return xe+" "+b[0]+" both"}}for(var y in l){var s=g(l[y]);s&&o.push(s)}if(o.length){var x=t.zrId+"-cls-"+bne();t.cssNodes["."+x]={animation:o.join(",")},e.class=x}}function QDe(n,e,t){if(!n.ignore)if(n.isSilent()){var r={"pointer-events":"none"};wj(r,e,t)}else{var i=n.states.emphasis&&n.states.emphasis.style?n.states.emphasis.style:{},a=i.fill;if(!a){var o=n.style&&n.style.fill,s=n.states.select&&n.states.select.style&&n.states.select.style.fill,l=n.currentStates.indexOf("select")>=0&&s||o;l&&(a=t3(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&n.transform?n.transform[0]:1;u=u/c}var r={cursor:"pointer"};a&&(r.fill=a),i.stroke&&(r.stroke=i.stroke),u&&(r["stroke-width"]=u),wj(r,e,t)}}function wj(n,e,t,r){var i=JSON.stringify(n),a=t.cssStyleCache[i];a||(a=t.zrId+"-cls-"+bne(),t.cssStyleCache[i]=a,t.cssNodes["."+a+":hover"]=n),e.class=e.class?e.class+" "+a:a}var P2=Math.round;function wne(n){return n&&vt(n.src)}function Tne(n){return n&&Nt(n.toDataURL)}function BB(n,e,t,r){FDe(function(i,a){var o=i==="fill"||i==="stroke";o&&VQ(a)?Ane(e,n,i,r):o&&bk(a)?Cne(t,n,i,r):n[i]=a,o&&r.ssr&&a==="none"&&(n["pointer-events"]="visible")},e,t,!1),aNe(t,n,r)}function UB(n,e){var t=ZQ(e);t&&(t.each(function(r,i){r!=null&&(n[(xj+i).toLowerCase()]=r+"")}),e.isSilent()&&(n[xj+"silent"]="true"))}function Tj(n){return pp(n[0]-1)&&pp(n[1])&&pp(n[2])&&pp(n[3]-1)}function $De(n){return pp(n[4])&&pp(n[5])}function VB(n,e,t){if(e&&!($De(e)&&Tj(e))){var r=1e4;n.transform=Tj(e)?"translate("+P2(e[4]*r)/r+" "+P2(e[5]*r)/r+")":O2e(e)}}function Mj(n,e,t){for(var r=n.points,i=[],a=0;a<r.length;a++)i.push(P2(r[a][0]*t)/t),i.push(P2(r[a][1]*t)/t);e.points=i.join(" ")}function Aj(n){return!n.smooth}function eNe(n){var e=$e(n,function(t){return typeof t=="string"?[t,t]:t});return function(t,r,i){for(var a=0;a<e.length;a++){var o=e[a],s=t[o[0]];s!=null&&(r[o[1]]=P2(s*i)/i)}}}var tNe={circle:[eNe(["cx","cy","r"])],polyline:[Mj,Aj],polygon:[Mj,Aj]};function nNe(n){for(var e=n.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function Mne(n,e){var t=n.style,r=n.shape,i=tNe[n.type],a={},o=e.animation,s="path",l=n.style.strokePercent,u=e.compress&&FQ(n)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](r))&&!(o&&nNe(n))&&!(l<1)){s=n.type;var c=Math.pow(10,u);i[0](r,a,c)}else{var f=!n.path||n.shapeChanged();n.path||n.createPathProxy();var h=n.path;f&&(h.beginPath(),n.buildPath(h,n.shape),n.pathUpdated());var d=h.getVersion(),v=n,g=v.__svgPathBuilder;(v.__svgPathVersion!==d||!g||l!==v.__svgPathStrokePercent)&&(g||(g=v.__svgPathBuilder=new mne),g.reset(u),h.rebuildPath(g,l),g.generateStr(),v.__svgPathVersion=d,v.__svgPathStrokePercent=l),a.d=g.getStr()}return VB(a,n.transform),BB(a,t,n,e),UB(a,n),e.animation&&CN(n,a,e),e.emphasis&&QDe(n,a,e),Ta(s,n.id+"",a)}function rNe(n,e){var t=n.style,r=t.image;if(r&&!vt(r)&&(wne(r)?r=r.src:Tne(r)&&(r=r.toDataURL())),!!r){var i=t.x||0,a=t.y||0,o=t.width,s=t.height,l={href:r,width:o,height:s};return i&&(l.x=i),a&&(l.y=a),VB(l,n.transform),BB(l,t,n,e),UB(l,n),e.animation&&CN(n,l,e),Ta("image",n.id+"",l)}}function iNe(n,e){var t=n.style,r=t.text;if(r!=null&&(r+=""),!(!r||isNaN(t.x)||isNaN(t.y))){var i=t.font||Fh,a=t.x||0,o=z2e(t.y||0,yw(i),t.textBaseline),s=P2e[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(b$(t)){var u="",c=t.fontStyle,f=_$(t.fontSize);if(!parseFloat(f))return;var h=t.fontFamily||hQ,d=t.fontWeight;u+="font-size:"+f+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),d&&d!=="normal"&&(u+="font-weight:"+d+";"),l.style=u}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),VB(l,n.transform),BB(l,t,n,e),UB(l,n),e.animation&&CN(n,l,e),Ta("text",n.id+"",l,void 0,r)}}function Cj(n,e){if(n instanceof Mn)return Mne(n,e);if(n instanceof Ra)return rNe(n,e);if(n instanceof Ox)return iNe(n,e)}function aNe(n,e,t){var r=n.style;if(k2e(r)){var i=B2e(n),a=t.shadowCache,o=a[i];if(!o){var s=n.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=r.shadowOffsetX||0,f=r.shadowOffsetY||0,h=r.shadowBlur,d=b2(r.shadowColor),v=d.opacity,g=d.color,y=h/2/l,x=h/2/u,b=y+" "+x;o=t.zrId+"-s"+t.shadowIdx++,t.defs[o]=Ta("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Ta("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:b,"flood-color":g,"flood-opacity":v})]),a[i]=o}e.filter=iN(o)}}function Ane(n,e,t,r){var i=n[t],a,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(BQ(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(UQ(i))a="radialGradient",o.cx=At(i.x,.5),o.cy=At(i.y,.5),o.r=At(i.r,.5);else return;for(var s=i.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=sP(s[u].offset)*100+"%",h=s[u].color,d=b2(h),v=d.color,g=d.opacity,y={offset:f};y["stop-color"]=v,g<1&&(y["stop-opacity"]=g),l.push(Ta("stop",u+"",y))}var x=Ta(a,"",o,l),b=kB(x),T=r.gradientCache,M=T[b];M||(M=r.zrId+"-g"+r.gradientIdx++,T[b]=M,o.id=M,r.defs[M]=Ta(a,M,o,l)),e[t]=iN(M)}function Cne(n,e,t,r){var i=n.style[t],a=n.getBoundingRect(),o={},s=i.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(kQ(i)){var h=i.imageWidth,d=i.imageHeight,v=void 0,g=i.image;if(vt(g)?v=g:wne(g)?v=g.src:Tne(g)&&(v=g.toDataURL()),typeof Image>"u"){var y="Image width/height must been given explictly in svg-ssr renderer.";uo(h,y),uo(d,y)}else if(h==null||d==null){var x=function(O,B){if(O){var V=O.elm,F=h||B.width,k=d||B.height;O.tag==="pattern"&&(u?(k=1,F/=a.width):c&&(F=1,k/=a.height)),O.attrs.width=F,O.attrs.height=k,V&&(V.setAttribute("width",F),V.setAttribute("height",k))}},b=Nk(v,null,n,function(O){l||x(D,O),x(f,O)});b&&b.width&&b.height&&(h=h||b.width,d=d||b.height)}f=Ta("image","img",{href:v,width:h,height:d}),o.width=h,o.height=d}else i.svgElement&&(f=Pt(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(f){var T,M;l?T=M=1:u?(M=1,T=o.width/a.width):c?(T=1,M=o.height/a.height):o.patternUnits="userSpaceOnUse",T!=null&&!isNaN(T)&&(o.width=T),M!=null&&!isNaN(M)&&(o.height=M);var C=GQ(i);C&&(o.patternTransform=C);var D=Ta("pattern","",o,[f]),R=kB(D),I=r.patternCache,L=I[R];L||(L=r.zrId+"-p"+r.patternIdx++,I[R]=L,o.id=L,D=r.defs[L]=Ta("pattern",L,o,[f])),e[t]=iN(L)}}function oNe(n,e,t){var r=t.clipPathCache,i=t.defs,a=r[n.id];if(!a){a=t.zrId+"-c"+t.clipPathIdx++;var o={id:a};r[n.id]=a,i[a]=Ta("clipPath",a,o,[Mne(n,t)])}e["clip-path"]=iN(a)}function Ej(n){return document.createTextNode(n)}function Ug(n,e,t){n.insertBefore(e,t)}function Dj(n,e){n.removeChild(e)}function Nj(n,e){n.appendChild(e)}function Ene(n){return n.parentNode}function Dne(n){return n.nextSibling}function eO(n,e){n.textContent=e}var Rj=58,sNe=120,lNe=Ta("","");function f4(n){return n===void 0}function qc(n){return n!==void 0}function uNe(n,e,t){for(var r={},i=e;i<=t;++i){var a=n[i].key;a!==void 0&&(r[a]=i)}return r}function sS(n,e){var t=n.key===e.key,r=n.tag===e.tag;return r&&t}function z2(n){var e,t=n.children,r=n.tag;if(qc(r)){var i=n.elm=_ne(r);if(FB(lNe,n),Ke(t))for(e=0;e<t.length;++e){var a=t[e];a!=null&&Nj(i,z2(a))}else qc(n.text)&&!Ft(n.text)&&Nj(i,Ej(n.text))}else n.elm=Ej(n.text);return n.elm}function Nne(n,e,t,r,i){for(;r<=i;++r){var a=t[r];a!=null&&Ug(n,z2(a),e)}}function L3(n,e,t,r){for(;t<=r;++t){var i=e[t];if(i!=null)if(qc(i.tag)){var a=Ene(i.elm);Dj(a,i.elm)}else Dj(n,i.elm)}}function FB(n,e){var t,r=e.elm,i=n&&n.attrs||{},a=e.attrs||{};if(i!==a){for(t in a){var o=a[t],s=i[t];s!==o&&(o===!0?r.setAttribute(t,""):o===!1?r.removeAttribute(t):t==="style"?r.style.cssText=o:t.charCodeAt(0)!==sNe?r.setAttribute(t,o):t==="xmlns:xlink"||t==="xmlns"?r.setAttributeNS(GDe,t,o):t.charCodeAt(3)===Rj?r.setAttributeNS(HDe,t,o):t.charCodeAt(5)===Rj?r.setAttributeNS(xne,t,o):r.setAttribute(t,o))}for(t in i)t in a||r.removeAttribute(t)}}function cNe(n,e,t){for(var r=0,i=0,a=e.length-1,o=e[0],s=e[a],l=t.length-1,u=t[0],c=t[l],f,h,d,v;r<=a&&i<=l;)o==null?o=e[++r]:s==null?s=e[--a]:u==null?u=t[++i]:c==null?c=t[--l]:sS(o,u)?(Yy(o,u),o=e[++r],u=t[++i]):sS(s,c)?(Yy(s,c),s=e[--a],c=t[--l]):sS(o,c)?(Yy(o,c),Ug(n,o.elm,Dne(s.elm)),o=e[++r],c=t[--l]):sS(s,u)?(Yy(s,u),Ug(n,s.elm,o.elm),s=e[--a],u=t[++i]):(f4(f)&&(f=uNe(e,r,a)),h=f[u.key],f4(h)?Ug(n,z2(u),o.elm):(d=e[h],d.tag!==u.tag?Ug(n,z2(u),o.elm):(Yy(d,u),e[h]=void 0,Ug(n,d.elm,o.elm))),u=t[++i]);(r<=a||i<=l)&&(r>a?(v=t[l+1]==null?null:t[l+1].elm,Nne(n,v,t,i,l)):L3(n,e,r,a))}function Yy(n,e){var t=e.elm=n.elm,r=n.children,i=e.children;n!==e&&(FB(n,e),f4(e.text)?qc(r)&&qc(i)?r!==i&&cNe(t,r,i):qc(i)?(qc(n.text)&&eO(t,""),Nne(t,null,i,0,i.length-1)):qc(r)?L3(t,r,0,r.length-1):qc(n.text)&&eO(t,""):n.text!==e.text&&(qc(r)&&L3(t,r,0,r.length-1),eO(t,e.text)))}function fNe(n,e){if(sS(n,e))Yy(n,e);else{var t=n.elm,r=Ene(t);z2(e),r!==null&&(Ug(r,e.elm,Dne(t)),L3(r,[n],0,0))}return e}var hNe=0,dNe=(function(){function n(e,t,r){if(this.type="svg",this.refreshHover=Lj(),this.configLayer=Lj(),this.storage=t,this._opts=r=je({},r),this.root=e,this._id="zr"+hNe++,this._oldVNode=_j(r.width,r.height),e&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=_ne("svg");FB(null,this._oldVNode),i.appendChild(a),e.appendChild(i)}this.resize(r.width,r.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",fNe(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return Cj(e,c4(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),r=this._width,i=this._height,a=c4(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var o=[],s=this._bgVNode=pNe(r,i,this._backgroundColor,a);s&&o.push(s);var l=e.compress?null:this._mainVNode=Ta("g","main",{},[]);this._paintList(t,a,l?l.children:o),l&&o.push(l);var u=$e(Rn(a.defs),function(h){return a.defs[h]});if(u.length&&o.push(Ta("defs","defs",{},u)),e.animation){var c=YDe(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=Ta("style","stl",{},[],c);o.push(f)}}return _j(r,i,o,e.useViewBox)},n.prototype.renderToString=function(e){return e=e||{},kB(this.renderToVNode({animation:At(e.cssAnimation,!0),emphasis:At(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:At(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,r){for(var i=e.length,a=[],o=0,s,l,u=0,c=0;c<i;c++){var f=e[c];if(!f.invisible){var h=f.__clipPaths,d=h&&h.length||0,v=l&&l.length||0,g=void 0;for(g=Math.max(d-1,v-1);g>=0&&!(h&&l&&h[g]===l[g]);g--);for(var y=v-1;y>g;y--)o--,s=a[o-1];for(var x=g+1;x<d;x++){var b={};oNe(h[x],b,t);var T=Ta("g","clip-g-"+u++,b,[]);(s?s.children:r).push(T),a[o++]=T,s=T}l=h;var M=Cj(f,t);M&&(s?s.children:r).push(M)}}},n.prototype.resize=function(e,t){var r=this._opts,i=this.root,a=this._viewport;if(e!=null&&(r.width=e),t!=null&&(r.height=t),i&&a&&(a.style.display="none",e=ix(i,0,r),t=ix(i,1,r),a.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,a){var o=a.style;o.width=e+"px",o.height=t+"px"}if(bk(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),r="data:image/svg+xml;";return e?(t=V2e(t),t&&r+"base64,"+t):r+"charset=UTF-8,"+encodeURIComponent(t)},n})();function Lj(n){return function(){}}function pNe(n,e,t,r){var i;if(t&&t!=="none")if(i=Ta("rect","bg",{width:n,height:e,x:"0",y:"0"}),VQ(t))Ane({fill:t},i.attrs,"fill",r);else if(bk(t))Cne({style:{fill:t},dirty:Mi,getBoundingRect:function(){return{width:n,height:e}}},i.attrs,"fill",r);else{var a=b2(t),o=a.color,s=a.opacity;i.attrs.fill=o,s<1&&(i.attrs["fill-opacity"]=s)}return i}function vNe(n){n.registerPainter("svg",dNe)}function Ij(n,e,t){var r=ks.createCanvas(),i=e.getWidth(),a=e.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*t,r.height=a*t,r}var tO=(function(n){Zr(e,n);function e(t,r,i){var a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||r3,typeof t=="string"?o=Ij(t,r,i):Ft(t)&&(o=t,t=o.id),a.id=t,a.dom=o;var s=o.style;return s&&(gk(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=r,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Ij("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Wt(0,0,0,0);function c(b){if(!(!b.isFinite()||b.isZero()))if(o.length===0){var T=new Wt(0,0,0,0);T.copy(b),o.push(T)}else{for(var M=!1,C=1/0,D=0,R=0;R<o.length;++R){var I=o[R];if(I.intersect(b)){var L=new Wt(0,0,0,0);L.copy(I),L.union(b),o[R]=L,M=!0;break}else if(l){u.copy(b),u.union(I);var O=b.width*b.height,B=I.width*I.height,V=u.width*u.height,F=V-O-B;F<C&&(C=F,D=R)}}if(l&&(o[D].union(b),M=!0),!M){var T=new Wt(0,0,0,0);T.copy(b),o.push(T)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=t[f];if(h){var d=h.shouldBePainted(i,a,!0,!0),v=h.__isRendered&&(h.__dirty&rl||!d)?h.getPrevPaintRect():null;v&&c(v);var g=d&&(h.__dirty&rl||!h.__isRendered)?h.getPaintRect():null;g&&c(g)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=r[f],d=h&&h.shouldBePainted(i,a,!0,!0);if(h&&(!d||!h.__zr)&&h.__isRendered){var v=h.getPrevPaintRect();v&&c(v)}}var y;do{y=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var x=f+1;x<o.length;)o[f].intersect(o[x])?(y=!0,o[f].union(o[x]),o.splice(x,1)):x++;f++}}while(y);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=t+"px",o.height=r+"px"),a.width=t*i,a.height=r*i,s&&(s.width=t*i,s.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var a=this.dom,o=this.ctx,s=a.width,l=a.height;r=r||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,f=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/f,l/f));var d=this.domBack;function v(g,y,x,b){if(o.clearRect(g,y,x,b),r&&r!=="transparent"){var T=void 0;if(dw(r)){var M=r.global||r.__width===x&&r.__height===b;T=M&&r.__canvasGradient||XP(o,r,{x:0,y:0,width:x,height:b}),r.__canvasGradient=T,r.__width=x,r.__height=b}else gQ(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,T=qP(o,r,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));o.save(),o.fillStyle=T||r,o.fillRect(g,y,x,b),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(d,g,y,x,b),o.restore())}!i||u?v(0,0,s,l):i.length&&J(i,function(g){v(g.x*f,g.y*f,g.width*f,g.height*f)})},e})(au),Oj=1e5,Mg=314159,VA=.01,gNe=.001;function mNe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function yNe(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var xNe=(function(){function n(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=je({},r||{}),this.dpr=r.devicePixelRatio||r3,this._singleCanvas=a,this.root=e;var o=e.style;o&&(gk(e),e.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=e,f=c.width,h=c.height;r.width!=null&&(f=r.width),r.height!=null&&(h=r.height),this.dpr=r.devicePixelRatio||1,c.width=f*this.dpr,c.height=h*this.dpr,this._width=f,this._height=h;var d=new tO(c,this,this.dpr);d.__builtin__=!0,d.initContext(),l[Mg]=d,d.zlevel=Mg,s.push(Mg),this._domRoot=e}else{this._width=ix(e,0,r),this._height=ix(e,1,r);var u=this._domRoot=yNe(this._width,this._height);e.appendChild(u)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=a===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<t;o++){var s=e[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(Oj)),a||(a=r.ctx,a.save()),Qg(a,s,i,o===t-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(Oj)},n.prototype.paintOne=function(e,t){yB(e,t)},n.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,r),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;JE(function(){l._paintList(e,t,r,i)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(Mg).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&a.push(u)}for(var c=!0,f=!1,h=function(g){var y=a[g],x=y.ctx,b=o&&y.createRepaintRects(e,t,d._width,d._height),T=r?y.__startIndex:y.__drawIndex,M=!r&&y.incremental&&Date.now,C=M&&Date.now(),D=y.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,D,b);else if(T===y.__startIndex){var R=e[T];(!R.incremental||!R.notClear||r)&&y.clear(!1,D,b)}T===-1&&(console.error("For some unknown reason. drawIndex is -1"),T=y.__startIndex);var I,L=function(F){var k={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(I=T;I<y.__endIndex;I++){var Y=e[I];if(Y.__inHover&&(f=!0),i._doPaintEl(Y,y,o,F,k,I===y.__endIndex-1),M){var H=Date.now()-C;if(H>15)break}}k.prevElClipPaths&&x.restore()};if(b)if(b.length===0)I=y.__endIndex;else for(var O=d.dpr,B=0;B<b.length;++B){var V=b[B];x.save(),x.beginPath(),x.rect(V.x*O,V.y*O,V.width*O,V.height*O),x.clip(),L(V),x.restore()}else x.save(),L(),x.restore();y.__drawIndex=I,y.__drawIndex<y.__endIndex&&(c=!1)},d=this,v=0;v<a.length;v++)h(v);return Dn.wxa&&J(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:f}},n.prototype._doPaintEl=function(e,t,r,i,a,o){var s=t.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Qg(s,e,a,o),e.setPrevPaintRect(l))}else Qg(s,e,a,o)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Mg);var r=this._layers[e];return r||(r=new tO("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?sn(r,this._layerConfig[e],!0):this._layerConfig[e-VA]&&sn(r,this._layerConfig[e-VA],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,l=-1;if(!r[e]&&mNe(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);s=r[i[l]]}if(i.splice(l+1,0,e),r[e]=t,!t.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(t.dom,u.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];e.call(t,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__&&e.call(t,o,a)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__||e.call(t,o,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function t(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,c=void 0;s!==u&&(s=u,o=0),i.incremental?(c=this.getLayer(u+gNe,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?VA:0),this._needsManuallyCompositing),c.__builtin__||$D("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),a=c),i.__dirty&rl&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,J(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?sn(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+VA){var o=this._layers[a];sn(o,r[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(on(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=ix(a,0,i),t=ix(a,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Mg).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Mg].dom;var t=new tO("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];Qg(r,c,o,l===u-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n})();function _Ne(n){n.registerPainter("canvas",xNe)}var bNe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return Tf(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new zt,i=Vi("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(i),i.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,l=t.itemHeight*.8,u=Vi(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);r.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?o:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill=De.color.neutral00,u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:6,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(_r);function Fx(n,e){var t=n.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var i=kx(n,e,t[0]);return i!=null?i+"":null}else if(r){for(var a=[],o=0;o<t.length;o++)a.push(kx(n,e,t[o]));return a.join(" ")}}function Rne(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!Ke(e))return e+"";for(var r=[],i=0;i<t.length;i++){var a=n.getDimensionIndex(t[i]);a>=0&&r.push(e[a])}return r.join(" ")}var Ew=(function(n){Oe(e,n);function e(t,r,i,a){var o=n.call(this)||this;return o.updateData(t,r,i,a),o}return e.prototype._createSymbol=function(t,r,i,a,o,s){this.removeAll();var l=Vi(t,-1,-1,2,2,null,s);l.attr({z2:At(o,100),culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),l.drift=SNe,this._symbolType=t,this.add(l)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Hh(this.childAt(0))},e.prototype.downplay=function(){jh(this.childAt(0))},e.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},e.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},e.prototype.updateData=function(t,r,i,a){this.silent=!1;var o=t.getItemVisual(r,"symbol")||"circle",s=t.hostModel,l=e.getSymbolSize(t,r),u=e.getSymbolZ2(t,r),c=o!==this._symbolType,f=a&&a.disableAnimation;if(c){var h=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,t,r,l,u,h)}else{var d=this.childAt(0);d.silent=!1;var v={scaleX:l[0]/2,scaleY:l[1]/2};f?d.attr(v):Gn(d,v,s,r),ru(d)}if(this._updateCommon(t,r,l,i,a),c){var d=this.childAt(0);if(!f){var v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Gr(d,v,s,r)}}f&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,i,a,o){var s=this.childAt(0),l=t.hostModel,u,c,f,h,d,v,g,y,x;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,h=a.focus,d=a.blurScope,g=a.labelStatesModels,y=a.hoverScale,x=a.cursorStyle,v=a.emphasisDisabled),!a||t.hasItemOption){var b=a&&a.itemModel?a.itemModel:t.getItemModel(r),T=b.getModel("emphasis");u=T.getModel("itemStyle").getItemStyle(),f=b.getModel(["select","itemStyle"]).getItemStyle(),c=b.getModel(["blur","itemStyle"]).getItemStyle(),h=T.get("focus"),d=T.get("blurScope"),v=T.get("disabled"),g=fa(b),y=T.getShallow("scale"),x=b.getShallow("cursor")}var M=t.getItemVisual(r,"symbolRotate");s.attr("rotation",(M||0)*Math.PI/180||0);var C=Pm(t.getItemVisual(r,"symbolOffset"),i);C&&(s.x=C[0],s.y=C[1]),x&&s.attr("cursor",x);var D=t.getItemVisual(r,"style"),R=D.fill;if(s instanceof Ra){var I=s.style;s.useStyle(je({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},D))}else s.__isEmptyBrush?s.useStyle(je({},D)):s.useStyle(D),s.style.decal=null,s.setColor(R,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var L=t.getItemVisual(r,"liftZ"),O=this._z2;L!=null?O==null&&(this._z2=s.z2,s.z2+=L):O!=null&&(s.z2=O,this._z2=null);var B=o&&o.useNameLabel;Na(s,g,{labelFetcher:l,labelDataIndex:r,defaultText:V,inheritColor:R,defaultOpacity:D.opacity});function V(Y){return B?t.getName(Y):Fx(t,Y)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var F=s.ensureState("emphasis");F.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var k=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;F.scaleX=this._sizeX*k,F.scaleY=this._sizeY*k,this.setSymbolScale(1),ti(this,h,d,v)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,i){var a=this.childAt(0),o=Xt(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&Ip(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Ip(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:t,removeOpt:s})},e.getSymbolSize=function(t,r){return x_(t.getItemVisual(r,"symbolSize"))},e.getSymbolZ2=function(t,r){return t.getItemVisual(r,"z2")},e})(zt);function SNe(n,e){this.parent.drift(n,e)}function nO(n,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function Pj(n){return n!=null&&!Ft(n)&&(n={isIgnore:n}),n||{}}function zj(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:fa(e),cursorStyle:e.get("cursor")}}var Dw=(function(){function n(e){this.group=new zt,this._SymbolCtor=e||Ew}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=Pj(t);var r=this.group,i=e.hostModel,a=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=zj(e),u={disableAnimation:s},c=t.getSymbolPoint||function(f){return e.getItemLayout(f)};a||r.removeAll(),e.diff(a).add(function(f){var h=c(f);if(nO(e,h,f,t)){var d=new o(e,f,l,u);d.setPosition(h),e.setItemGraphicEl(f,d),r.add(d)}}).update(function(f,h){var d=a.getItemGraphicEl(h),v=c(f);if(!nO(e,v,f,t)){r.remove(d);return}var g=e.getItemVisual(f,"symbol")||"circle",y=d&&d.getSymbolType&&d.getSymbolType();if(!d||y&&y!==g)r.remove(d),d=new o(e,f,l,u),d.setPosition(v);else{d.updateData(e,f,l,u);var x={x:v[0],y:v[1]};s?d.attr(x):Gn(d,x,i)}r.add(d),e.setItemGraphicEl(f,d)}).remove(function(f){var h=a.getItemGraphicEl(f);h&&h.fadeOut(function(){r.remove(h)},i)}).execute(),this._getSymbolPoint=c,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,i){var a=e._getSymbolPoint(i);r.setPosition(a),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=zj(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=Pj(r);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var o=t.getItemLayout(a);if(nO(t,o,a,r)){var s=new this._SymbolCtor(t,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(e){Wp(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},r.hostModel)}):t.removeAll()},n})();function Lne(n,e,t){var r=n.getBaseAxis(),i=n.getOtherAxis(r),a=wNe(i,t),o=r.dim,s=i.dim,l=e.mapDimension(s),u=e.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=$e(n.dimensions,function(v){return e.mapDimension(v)}),h=!1,d=e.getCalculationInfo("stackResultDimension");return Yh(e,f[0])&&(h=!0,f[0]=d),Yh(e,f[1])&&(h=!0,f[1]=d),{dataDimsForPoint:f,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function wNe(n,e){var t=0,r=n.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:Pn(e)&&!isNaN(e)?t=e:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function Ine(n,e,t,r){var i=NaN;n.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=n.valueStart);var a=n.baseDataOffset,o=[];return o[a]=t.get(n.baseDim,r),o[1-a]=i,e.dataToPoint(o)}function TNe(n,e){var t=[];return e.diff(n).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,i){t.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function MNe(n,e,t,r,i,a,o,s){for(var l=TNe(n,e),u=[],c=[],f=[],h=[],d=[],v=[],g=[],y=Lne(i,e,o),x=n.getLayout("points")||[],b=e.getLayout("points")||[],T=0;T<l.length;T++){var M=l[T],C=!0,D=void 0,R=void 0;switch(M.cmd){case"=":D=M.idx*2,R=M.idx1*2;var I=x[D],L=x[D+1],O=b[R],B=b[R+1];(isNaN(I)||isNaN(L))&&(I=O,L=B),u.push(I,L),c.push(O,B),f.push(t[D],t[D+1]),h.push(r[R],r[R+1]),g.push(e.getRawIndex(M.idx1));break;case"+":var V=M.idx,F=y.dataDimsForPoint,k=i.dataToPoint([e.get(F[0],V),e.get(F[1],V)]);R=V*2,u.push(k[0],k[1]),c.push(b[R],b[R+1]);var Y=Ine(y,i,e,V);f.push(Y[0],Y[1]),h.push(r[R],r[R+1]),g.push(e.getRawIndex(V));break;case"-":C=!1}C&&(d.push(M),v.push(v.length))}v.sort(function(he,pe){return g[he]-g[pe]});for(var H=u.length,W=rf(H),q=rf(H),K=rf(H),re=rf(H),j=[],T=0;T<v.length;T++){var Q=v[T],ne=T*2,se=Q*2;W[ne]=u[se],W[ne+1]=u[se+1],q[ne]=c[se],q[ne+1]=c[se+1],K[ne]=f[se],K[ne+1]=f[se+1],re[ne]=h[se],re[ne+1]=h[se+1],j[T]=d[Q]}return{current:W,next:q,stackedOnCurrent:K,stackedOnNext:re,status:j}}var Qd=Math.min,$d=Math.max;function lm(n,e){return isNaN(n)||isNaN(e)}function h4(n,e,t,r,i,a,o,s,l){for(var u,c,f,h,d,v,g=t,y=0;y<r;y++){var x=e[g*2],b=e[g*2+1];if(g>=i||g<0)break;if(lm(x,b)){if(l){g+=a;continue}break}if(g===t)n[a>0?"moveTo":"lineTo"](x,b),f=x,h=b;else{var T=x-u,M=b-c;if(T*T+M*M<.5){g+=a;continue}if(o>0){for(var C=g+a,D=e[C*2],R=e[C*2+1];D===x&&R===b&&y<r;)y++,C+=a,g+=a,D=e[C*2],R=e[C*2+1],x=e[g*2],b=e[g*2+1],T=x-u,M=b-c;var I=y+1;if(l)for(;lm(D,R)&&I<r;)I++,C+=a,D=e[C*2],R=e[C*2+1];var L=.5,O=0,B=0,V=void 0,F=void 0;if(I>=r||lm(D,R))d=x,v=b;else{O=D-u,B=R-c;var k=x-u,Y=D-x,H=b-c,W=R-b,q=void 0,K=void 0;if(s==="x"){q=Math.abs(k),K=Math.abs(Y);var re=O>0?1:-1;d=x-re*q*o,v=b,V=x+re*K*o,F=b}else if(s==="y"){q=Math.abs(H),K=Math.abs(W);var j=B>0?1:-1;d=x,v=b-j*q*o,V=x,F=b+j*K*o}else q=Math.sqrt(k*k+H*H),K=Math.sqrt(Y*Y+W*W),L=K/(K+q),d=x-O*o*(1-L),v=b-B*o*(1-L),V=x+O*o*L,F=b+B*o*L,V=Qd(V,$d(D,x)),F=Qd(F,$d(R,b)),V=$d(V,Qd(D,x)),F=$d(F,Qd(R,b)),O=V-x,B=F-b,d=x-O*q/K,v=b-B*q/K,d=Qd(d,$d(u,x)),v=Qd(v,$d(c,b)),d=$d(d,Qd(u,x)),v=$d(v,Qd(c,b)),O=x-d,B=b-v,V=x+O*K/q,F=b+B*K/q}n.bezierCurveTo(f,h,d,v,x,b),f=V,h=F}else n.lineTo(x,b)}u=x,c=b,g+=a}return y}var One=(function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n})(),ANe=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:De.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new One},e.prototype.buildPath=function(t,r){var i=r.points,a=0,o=i.length/2;if(r.connectNulls){for(;o>0&&lm(i[o*2-2],i[o*2-1]);o--);for(;a<o&&lm(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=h4(t,i,a,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=gf.CMD,s,l,u=r==="x",c=[],f=0;f<a.length;){var h=a[f++],d=void 0,v=void 0,g=void 0,y=void 0,x=void 0,b=void 0,T=void 0;switch(h){case o.M:s=a[f++],l=a[f++];break;case o.L:if(d=a[f++],v=a[f++],T=u?(t-s)/(d-s):(t-l)/(v-l),T<=1&&T>=0){var M=u?(v-l)*T+l:(d-s)*T+s;return u?[t,M]:[M,t]}s=d,l=v;break;case o.C:d=a[f++],v=a[f++],g=a[f++],y=a[f++],x=a[f++],b=a[f++];var C=u?$E(s,d,g,x,t,c):$E(l,v,y,b,t,c);if(C>0)for(var D=0;D<C;D++){var R=c[D];if(R<=1&&R>=0){var M=u?Sa(l,v,y,b,R):Sa(s,d,g,x,R);return u?[t,M]:[M,t]}}s=x,l=b;break}}},e})(Mn),CNe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(One),Pne=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new CNe},e.prototype.buildPath=function(t,r){var i=r.points,a=r.stackedOnPoints,o=0,s=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&lm(i[s*2-2],i[s*2-1]);s--);for(;o<s&&lm(i[o*2],i[o*2+1]);o++);}for(;o<s;){var u=h4(t,i,o,s,s,1,r.smooth,l,r.connectNulls);h4(t,a,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,t.closePath()}},e})(Mn);function zne(n,e,t,r,i){var a=n.getArea(),o=a.x,s=a.y,l=a.width,u=a.height,c=t.get(["lineStyle","width"])||0;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new mn({shape:{x:o,y:s,width:l,height:u}});if(e){var h=n.getBaseAxis(),d=h.isHorizontal(),v=h.inverse;d?(v&&(f.shape.x+=l),f.shape.width=0):(v||(f.shape.y+=u),f.shape.height=0);var g=Nt(i)?function(y){i(y,f)}:null;Gr(f,{shape:{width:l,height:u,x:o,y:s}},t,null,r,g)}return f}function kne(n,e,t){var r=n.getArea(),i=ki(r.r0,1),a=ki(r.r,1),o=new co({shape:{cx:ki(n.cx,1),cy:ki(n.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var s=n.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=i,Gr(o,{shape:{endAngle:r.endAngle,r:a}},t)}return o}function Nw(n,e,t,r,i){if(n){if(n.type==="polar")return kne(n,e,t);if(n.type==="cartesian2d")return zne(n,e,t,r,i)}else return null;return null}function Op(n,e){return n.type===e}function kj(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function Bj(n){for(var e=1/0,t=1/0,r=-1/0,i=-1/0,a=0;a<n.length;){var o=n[a++],s=n[a++];isNaN(o)||(e=Math.min(o,e),r=Math.max(o,r)),isNaN(s)||(t=Math.min(s,t),i=Math.max(s,i))}return[[e,t],[r,i]]}function Uj(n,e){var t=Bj(n),r=t[0],i=t[1],a=Bj(e),o=a[0],s=a[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function Vj(n){return Pn(n)?n:n?.5:0}function ENe(n,e,t){if(!t.valueDim)return[];for(var r=e.count(),i=rf(r*2),a=0;a<r;a++){var o=Ine(t,n,e,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function ep(n,e,t,r,i){var a=t.getBaseAxis(),o=a.dim==="x"||a.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],h=[];if(i){for(l=0;l<n.length;l+=2){var d=e||n;!isNaN(d[l])&&!isNaN(d[l+1])&&h.push(n[l],n[l+1])}n=h}for(l=0;l<n.length-2;l+=2)switch(f[0]=n[l+2],f[1]=n[l+3],c[0]=n[l],c[1]=n[l+1],s.push(c[0],c[1]),r){case"end":u[o]=f[o],u[1-o]=c[1-o],s.push(u[0],u[1]);break;case"middle":var v=(c[o]+f[o])/2,g=[];u[o]=g[o]=v,u[1-o]=c[1-o],g[1-o]=f[1-o],s.push(u[0],u[1]),s.push(g[0],g[1]);break;default:u[o]=c[o],u[1-o]=f[1-o],s.push(u[0],u[1])}return s.push(n[l++],n[l++]),s}function DNe(n,e){var t=[],r=n.length,i,a;function o(c,f,h){var d=c.coord,v=(h-d)/(f.coord-d),g=_k(v,[c.color,f.color]);return{coord:h,color:g}}for(var s=0;s<r;s++){var l=n[s],u=l.coord;if(u<0)i=l;else if(u>e){a?t.push(o(a,l,e)):i&&t.push(o(i,l,0),o(i,l,e));break}else i&&(t.push(o(i,l,0)),i=null),t.push(l),a=l}return t}function NNe(n,e,t){var r=n.getVisual("visualMeta");if(!(!r||!r.length||!n.count())&&e.type==="cartesian2d"){for(var i,a,o=r.length-1;o>=0;o--){var s=n.getDimensionInfo(r[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=r[o];break}}if(a){var l=e.getAxis(i),u=$e(a.stops,function(T){return{coord:l.toGlobalCoord(l.dataToCoord(T.value)),color:T.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var h=DNe(u,i==="x"?t.getWidth():t.getHeight()),d=h.length;if(!d&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var v=10,g=h[0].coord-v,y=h[d-1].coord+v,x=y-g;if(x<.001)return"transparent";J(h,function(T){T.offset=(T.coord-g)/x}),h.push({offset:d?h[d-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:d?h[0].offset:.5,color:f[0]||"transparent"});var b=new Rm(0,0,0,0,h,!0);return b[i]=g,b[i+"2"]=y,b}}}function RNe(n,e,t){var r=n.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var a=t.getAxesByScale("ordinal")[0];if(a&&!(i&&LNe(a,e))){var o=e.mapDimension(a.dim),s={};return J(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(o,l))}}}}function LNe(n,e){var t=n.getExtent(),r=Math.abs(t[1]-t[0])/n.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(Ew.getSymbolSize(e,o)[n.isHorizontal()?1:0]*1.5>r)return!1;return!0}function INe(n,e){return isNaN(n)||isNaN(e)}function ONe(n){for(var e=n.length/2;e>0&&INe(n[e*2-2],n[e*2-1]);e--);return e-1}function Fj(n,e){return[n[e*2],n[e*2+1]]}function PNe(n,e,t){for(var r=n.length/2,i=t==="x"?0:1,a,o,s=0,l=-1,u=0;u<r;u++)if(o=n[u*2+i],!(isNaN(o)||isNaN(n[u*2+1-i]))){if(u===0){a=o;continue}if(a<=e&&o>=e||a>=e&&o<=e){l=u;break}s=u,a=o}return{range:[s,l],t:(e-a)/(o-a)}}function Bne(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<ps.length;e++)if(n.get([ps[e],"endLabel","show"]))return!0;return!1}function rO(n,e,t,r){if(Op(e,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=Bne(r)?function(d,v){n._endLabelOnDuring(d,v,o,s,a,i,e)}:null,u=e.getBaseAxis().isHorizontal(),c=zne(e,t,r,function(){var d=n._endLabel;d&&t&&s.originalX!=null&&d.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var f=c.shape,h=Math.max(f.width,f.height);u?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,c),c}else return kne(e,t,r)}function zNe(n,e){var t=e.getBaseAxis(),r=t.isHorizontal(),i=t.inverse,a=r?i?"right":"left":"center",o=r?"middle":i?"top":"bottom";return{normal:{align:n.get("align")||a,verticalAlign:n.get("verticalAlign")||o}}}var kNe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new zt,r=new Dw;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t,this._changePolyState=mt(this._changePolyState,this)},e.prototype.render=function(t,r,i){var a=t.coordinateSystem,o=this.group,s=t.getData(),l=t.getModel("lineStyle"),u=t.getModel("areaStyle"),c=s.getLayout("points")||[],f=a.type==="polar",h=this._coordSys,d=this._symbolDraw,v=this._polyline,g=this._polygon,y=this._lineGroup,x=!r.ssr&&t.get("animation"),b=!u.isEmpty(),T=u.get("origin"),M=Lne(a,s,T),C=b&&ENe(a,s,M),D=t.get("showSymbol"),R=t.get("connectNulls"),I=D&&!f&&RNe(t,s,a),L=this._data;L&&L.eachItemGraphicEl(function(he,pe){he.__temp&&(o.remove(he),L.setItemGraphicEl(pe,null))}),D||d.remove(),o.add(y);var O=f?!1:t.get("step"),B;a&&a.getArea&&t.get("clip",!0)&&(B=a.getArea(),B.width!=null?(B.x-=.1,B.y-=.1,B.width+=.2,B.height+=.2):B.r0&&(B.r0-=.5,B.r+=.5)),this._clipShapeForSymbol=B;var V=NNe(s,a,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(v&&h.type===a.type&&O===this._step))D&&d.updateData(s,{isIgnore:I,clipShape:B,disableAnimation:!0,getSymbolPoint:function(he){return[c[he*2],c[he*2+1]]}}),x&&this._initSymbolLabelAnimation(s,a,B),O&&(C&&(C=ep(C,c,a,O,R)),c=ep(c,null,a,O,R)),v=this._newPolyline(c),b?g=this._newPolygon(c,C):g&&(y.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,bm(V)),y.setClipPath(rO(this,a,!0,t));else{b&&!g?g=this._newPolygon(c,C):g&&!b&&(y.remove(g),g=this._polygon=null),f||this._initOrUpdateEndLabel(t,a,bm(V));var F=y.getClipPath();if(F){var k=rO(this,a,!1,t);Gr(F,{shape:k.shape},t)}else y.setClipPath(rO(this,a,!0,t));D&&d.updateData(s,{isIgnore:I,clipShape:B,disableAnimation:!0,getSymbolPoint:function(he){return[c[he*2],c[he*2+1]]}}),(!kj(this._stackedOnPoints,C)||!kj(this._points,c))&&(x?this._doUpdateAnimation(s,C,a,i,O,T,R):(O&&(C&&(C=ep(C,c,a,O,R)),c=ep(c,null,a,O,R)),v.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:C})))}var Y=t.getModel("emphasis"),H=Y.get("focus"),W=Y.get("blurScope"),q=Y.get("disabled");if(v.useStyle(Vt(l.getLineStyle(),{fill:"none",stroke:V,lineJoin:"bevel"})),ca(v,t,"lineStyle"),v.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var K=v.getState("emphasis").style;K.lineWidth=+v.style.lineWidth+1}Xt(v).seriesIndex=t.seriesIndex,ti(v,H,W,q);var re=Vj(t.get("smooth")),j=t.get("smoothMonotone");if(v.setShape({smooth:re,smoothMonotone:j,connectNulls:R}),g){var Q=s.getCalculationInfo("stackedOnSeries"),ne=0;g.useStyle(Vt(u.getAreaStyle(),{fill:V,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),Q&&(ne=Vj(Q.get("smooth"))),g.setShape({smooth:re,stackedOnSmooth:ne,smoothMonotone:j,connectNulls:R}),ca(g,t,"areaStyle"),Xt(g).seriesIndex=t.seriesIndex,ti(g,H,W,q)}var se=this._changePolyState;s.eachItemGraphicEl(function(he){he&&(he.onHoverStateChange=se)}),this._polyline.onHoverStateChange=se,this._data=s,this._coordSys=a,this._stackedOnPoints=C,this._points=c,this._step=O,this._valueOrigin=T,t.get("triggerLineEvent")&&(this.packEventData(t,v),g&&this.packEventData(t,g))},e.prototype.packEventData=function(t,r){Xt(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,i,a){var o=t.getData(),s=gm(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var h=t.get("zlevel")||0,d=t.get("z")||0;u=new Ew(o,s),u.x=c,u.y=f,u.setZ(h,d);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=h,v.z=d,v.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else vr.prototype.highlight.call(this,t,r,i,a)},e.prototype.downplay=function(t,r,i,a){var o=t.getData(),s=gm(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else vr.prototype.downplay.call(this,t,r,i,a)},e.prototype._changePolyState=function(t){var r=this._polygon;c3(this._polyline,t),r&&c3(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new ANe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Pne({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,r,i){var a,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):r.type==="polar"&&(a=s.dim==="angle",o=!0);var u=t.hostModel,c=u.get("animationDuration");Nt(c)&&(c=c(null));var f=u.get("animationDelay")||0,h=Nt(f)?f(null):f;t.eachItemGraphicEl(function(d,v){var g=d;if(g){var y=[d.x,d.y],x=void 0,b=void 0,T=void 0;if(i)if(o){var M=i,C=r.pointToCoord(y);a?(x=M.startAngle,b=M.endAngle,T=-C[1]/180*Math.PI):(x=M.r0,b=M.r,T=C[0])}else{var D=i;a?(x=D.x,b=D.x+D.width,T=d.x):(x=D.y+D.height,b=D.y,T=d.y)}var R=b===x?0:(T-x)/(b-x);l&&(R=1-R);var I=Nt(f)?f(v):c*R+h,L=g.getSymbolPath(),O=L.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),O&&O.animateFrom({style:{opacity:0}},{duration:300,delay:I}),L.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,i){var a=t.getModel("endLabel");if(Bne(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new On({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=ONe(l);c>=0&&(Na(s,fa(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:c,defaultText:function(f,h,d){return d!=null?Rne(o,d):Fx(o,f)},enableTextSetter:!0},zNe(a,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,i,a,o,s,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=i.getLayout("points"),h=i.hostModel,d=h.get("connectNulls"),v=s.get("precision"),g=s.get("distance")||0,y=l.getBaseAxis(),x=y.isHorizontal(),b=y.inverse,T=r.shape,M=b?x?T.x:T.y+T.height:x?T.x+T.width:T.y,C=(x?g:0)*(b?-1:1),D=(x?0:-g)*(b?-1:1),R=x?"x":"y",I=PNe(f,M,R),L=I.range,O=L[1]-L[0],B=void 0;if(O>=1){if(O>1&&!d){var V=Fj(f,L[0]);u.attr({x:V[0]+C,y:V[1]+D}),o&&(B=h.getRawValue(L[0]))}else{var V=c.getPointOn(M,R);V&&u.attr({x:V[0]+C,y:V[1]+D});var F=h.getRawValue(L[0]),k=h.getRawValue(L[1]);o&&(B=u$(i,v,F,k,I.t))}a.lastFrameIndex=L[0]}else{var Y=t===1||a.lastFrameIndex>0?L[0]:0,V=Fj(f,Y);o&&(B=h.getRawValue(Y)),u.attr({x:V[0]+C,y:V[1]+D})}if(o){var H=d_(u);typeof H.setLabelText=="function"&&H.setLabelText(B)}}},e.prototype._doUpdateAnimation=function(t,r,i,a,o,s,l){var u=this._polyline,c=this._polygon,f=t.hostModel,h=MNe(this._data,t,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),d=h.current,v=h.stackedOnCurrent,g=h.next,y=h.stackedOnNext;if(o&&(v=ep(h.stackedOnCurrent,h.current,i,o,l),d=ep(h.current,null,i,o,l),y=ep(h.stackedOnNext,h.next,i,o,l),g=ep(h.next,null,i,o,l)),Uj(d,g)>3e3||c&&Uj(v,y)>3e3){u.stopAnimation(),u.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:y}));return}u.shape.__points=h.current,u.shape.points=d;var x={shape:{points:g}};h.current!==d&&(x.shape.__points=h.next),u.stopAnimation(),Gn(u,x,f),c&&(c.setShape({points:d,stackedOnPoints:v}),c.stopAnimation(),Gn(c,{shape:{stackedOnPoints:y}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var b=[],T=h.status,M=0;M<T.length;M++){var C=T[M].cmd;if(C==="="){var D=t.getItemGraphicEl(T[M].idx1);D&&b.push({el:D,ptIdx:M})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var R=u.shape.__points,I=0;I<b.length;I++){var L=b[I].el,O=b[I].ptIdx*2;L.x=R[O],L.y=R[O+1],L.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(r.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(vr);function Rw(n,e){return{seriesType:n,plan:m_(),reset:function(t){var r=t.getData(),i=t.coordinateSystem,a=t.pipelineContext,o=e||a.large;if(i){var s=$e(i.dimensions,function(d){return r.mapDimension(d)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");Yh(r,s[0])&&(s[0]=u),Yh(r,s[1])&&(s[1]=u);var c=r.getStore(),f=r.getDimensionIndex(s[0]),h=r.getDimensionIndex(s[1]);return l&&{progress:function(d,v){for(var g=d.end-d.start,y=o&&rf(g*l),x=[],b=[],T=d.start,M=0;T<d.end;T++){var C=void 0;if(l===1){var D=c.get(f,T);C=i.dataToPoint(D,null,b)}else x[0]=c.get(f,T),x[1]=c.get(h,T),C=i.dataToPoint(x,null,b);o?(y[M++]=C[0],y[M++]=C[1]):v.setItemLayout(T,C.slice())}o&&v.setLayout("points",y)}}}}}}var BNe={average:function(n){for(var e=0,t=0,r=0;r<n.length;r++)isNaN(n[r])||(e+=n[r],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},UNe=function(n){return Math.round(n.length/2)};function Une(n){return{seriesType:n,reset:function(e,t,r){var i=e.getData(),a=e.get("sampling"),o=e.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=r.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(f||1),d=Math.round(s/h);if(isFinite(d)&&d>1){a==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/d)):a==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/d));var v=void 0;vt(a)?v=BNe[a]:Nt(a)&&(v=a),v&&e.setData(i.downSample(i.mapDimension(u.dim),1/d,v,UNe))}}}}}function VNe(n){n.registerChartView(kNe),n.registerSeriesModel(bNe),n.registerLayout(Rw("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Une("line"))}var k2=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return Tf(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(t),s=a.dataToPoint(o);if(i)J(a.getAxes(),function(h,d){if(h.type==="category"&&r!=null){var v=h.getTicksCoords(),g=h.getTickModel().get("alignWithLabel"),y=o[d],x=r[d]==="x1"||r[d]==="y1";if(x&&!g&&(y+=1),v.length<2)return;if(v.length===2){s[d]=h.toGlobalCoord(h.getExtent()[x?1:0]);return}for(var b=void 0,T=void 0,M=1,C=0;C<v.length;C++){var D=v[C].coord,R=C===v.length-1?v[C-1].tickValue+M:v[C].tickValue;if(R===y){T=D;break}else if(R<y)b=D;else if(b!=null&&R>y){T=(D+b)/2;break}C===1&&(M=R-v[0].tickValue)}T==null&&(b?b&&(T=v[v.length-1].coord):T=v[0].coord),s[d]=h.toGlobalCoord(T)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",defaultBarGap:"10%"},e})(_r);_r.registerClass(k2);var FNe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return Tf(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,i){return i.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Yp(k2.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:De.color.primary,borderWidth:2}},realtimeSort:!1}),e})(k2),GNe=(function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n})(),I3=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new GNe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,c=r.startAngle,f=r.endAngle,h=r.clockwise,d=Math.PI*2,v=h?f-c<d:c-f<d;v||(c=f-(h?d:-d));var g=Math.cos(c),y=Math.sin(c),x=Math.cos(f),b=Math.sin(f);v?(t.moveTo(g*o+i,y*o+a),t.arc(g*u+i,y*u+a,l,-Math.PI+c,c,!h)):t.moveTo(g*s+i,y*s+a),t.arc(i,a,s,c,f,!h),t.arc(x*u+i,b*u+a,l,f-Math.PI*2,f-Math.PI,!h),o!==0&&t.arc(i,a,o,f,c,h)},e})(Mn);function HNe(n,e){e=e||{};var t=e.isRoundCap;return function(r,i,a){var o=i.position;if(!o||o instanceof Array)return a3(r,i,a);var s=n(o),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,h=u.r,d=u.r0,v=(h+d)/2,g=u.startAngle,y=u.endAngle,x=(g+y)/2,b=t?Math.abs(h-d)/2:0,T=Math.cos,M=Math.sin,C=c+h*T(g),D=f+h*M(g),R="left",I="top";switch(s){case"startArc":C=c+(d-l)*T(x),D=f+(d-l)*M(x),R="center",I="top";break;case"insideStartArc":C=c+(d+l)*T(x),D=f+(d+l)*M(x),R="center",I="bottom";break;case"startAngle":C=c+v*T(g)+FA(g,l+b,!1),D=f+v*M(g)+GA(g,l+b,!1),R="right",I="middle";break;case"insideStartAngle":C=c+v*T(g)+FA(g,-l+b,!1),D=f+v*M(g)+GA(g,-l+b,!1),R="left",I="middle";break;case"middle":C=c+v*T(x),D=f+v*M(x),R="center",I="middle";break;case"endArc":C=c+(h+l)*T(x),D=f+(h+l)*M(x),R="center",I="bottom";break;case"insideEndArc":C=c+(h-l)*T(x),D=f+(h-l)*M(x),R="center",I="top";break;case"endAngle":C=c+v*T(y)+FA(y,l+b,!0),D=f+v*M(y)+GA(y,l+b,!0),R="left",I="middle";break;case"insideEndAngle":C=c+v*T(y)+FA(y,-l+b,!0),D=f+v*M(y)+GA(y,-l+b,!0),R="right",I="middle";break;default:return a3(r,i,a)}return r=r||{},r.x=C,r.y=D,r.align=R,r.verticalAlign=I,r}}function jNe(n,e,t,r){if(Pn(r)){n.setTextConfig({rotation:r});return}else if(Ke(e)){n.setTextConfig({rotation:0});return}var i=n.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:n.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),n.setTextConfig({rotation:c})}function FA(n,e,t){return e*Math.sin(n)*(t?-1:1)}function GA(n,e,t){return e*Math.cos(n)*(t?1:-1)}function of(n,e,t){var r=n.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;Ke(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:$e(r,function(a){return ec(a,i)})}}var iO=Math.max,aO=Math.min;function WNe(n,e){var t=n.getArea&&n.getArea();if(Op(n,"cartesian2d")){var r=n.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var YNe=(function(n){Oe(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var o=t.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,i):this._renderNormal(t,r,i,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){Wp(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,i,a){var o=this.group,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var h=t.isAnimationEnabled()?t:null,d=XNe(t,u);d&&this._enableRealtimeSort(d,s,i);var v=t.get("clip",!0)||d,g=WNe(u,s);o.removeClipPath();var y=t.get("roundCap",!0),x=t.get("showBackground",!0),b=t.getModel("backgroundStyle"),T=b.get("borderRadius")||0,M=[],C=this._backgroundEls,D=a&&a.isInitSort,R=a&&a.type==="changeAxisOrder";function I(B){var V=HA[u.type](s,B);if(!V)return null;var F=eRe(u,f,V);return F.useStyle(b.getItemStyle()),u.type==="cartesian2d"?F.setShape("r",T):F.setShape("cornerRadius",T),M[B]=F,F}s.diff(l).add(function(B){var V=s.getItemModel(B),F=HA[u.type](s,B,V);if(F&&(x&&I(B),!(!s.hasValue(B)||!Yj[u.type](F)))){var k=!1;v&&(k=Gj[u.type](g,F));var Y=Hj[u.type](t,s,B,F,f,h,c.model,!1,y);d&&(Y.forceLabelAnimation=!0),Xj(Y,s,B,V,F,t,f,u.type==="polar"),D?Y.attr({shape:F}):d?jj(d,h,Y,F,B,f,!1,!1):Gr(Y,{shape:F},t,B),s.setItemGraphicEl(B,Y),o.add(Y),Y.ignore=k}}).update(function(B,V){var F=s.getItemModel(B),k=HA[u.type](s,B,F);if(k){if(x){var Y=void 0;C.length===0?Y=I(V):(Y=C[V],Y.useStyle(b.getItemStyle()),u.type==="cartesian2d"?Y.setShape("r",T):Y.setShape("cornerRadius",T),M[B]=Y);var H=HA[u.type](s,B),W=Fne(f,H,u);Gn(Y,{shape:W},h,B)}var q=l.getItemGraphicEl(V);if(!s.hasValue(B)||!Yj[u.type](k)){o.remove(q);return}var K=!1;v&&(K=Gj[u.type](g,k),K&&o.remove(q));var re=q&&(q.type==="sector"&&y||q.type==="sausage"&&!y);if(re&&(q&&Ih(q,t,V),q=null),q?ru(q):q=Hj[u.type](t,s,B,k,f,h,c.model,!0,y),d&&(q.forceLabelAnimation=!0),R){var j=q.getTextContent();if(j){var Q=d_(j);Q.prevValue!=null&&(Q.prevValue=Q.value)}}else Xj(q,s,B,F,k,t,f,u.type==="polar");D?q.attr({shape:k}):d?jj(d,h,q,k,B,f,!0,R):Gn(q,{shape:k},t,B,null),s.setItemGraphicEl(B,q),q.ignore=K,o.add(q)}}).remove(function(B){var V=l.getItemGraphicEl(B);V&&Ih(V,t,B)}).execute();var L=this._backgroundGroup||(this._backgroundGroup=new zt);L.removeAll();for(var O=0;O<M.length;++O)L.add(M[O]);o.add(L),this._backgroundEls=M,this._data=s},e.prototype._renderLarge=function(t,r,i){this._clear(),Zj(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),Zj(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&Nw(t.coordinateSystem,!1,t),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,i){var a=this;if(r.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,i),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,i){var a=[];return t.each(t.mapDimension(r.dim),function(o,s){var l=i(s);l=l??NaN,a.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:$e(a,function(o){return o.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,i){for(var a=i.scale,o=t.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(o,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:r(t.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var i=r.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},e.prototype._updateSortWithinSameData=function(t,r,i,a){if(this._isOrderChangedWithinSameData(t,r,i)){var o=this._dataSort(t,i,r);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},e.prototype._dispatchInitSort=function(t,r,i){var a=r.baseAxis,o=this._dataSort(t,a,function(s){return t.get(t.mapDimension(r.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){Ih(a,t,Xt(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(vr),Gj={cartesian2d:function(n,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=n.x+n.width,a=n.y+n.height,o=iO(e.x,n.x),s=aO(e.x+e.width,i),l=iO(e.y,n.y),u=aO(e.y+e.height,a),c=s<o,f=u<l;return e.x=c&&o>i?s:o,e.y=f&&l>a?u:l,e.width=c?0:s-o,e.height=f?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var i=aO(e.r,n.r),a=iO(e.r0,n.r0);e.r=i,e.r0=a;var o=i-a<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return o}},Hj={cartesian2d:function(n,e,t,r,i,a,o,s,l){var u=new mn({shape:je({},r),z2:1});if(u.__dataIndex=t,u.name="item",a){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(n,e,t,r,i,a,o,s,l){var u=!i&&l?I3:co,c=new u({shape:r,z2:1});c.name="item";var f=Vne(i);if(c.calculateTextPosition=HNe(f,{isRoundCap:u===I3}),a){var h=c.shape,d=i?"r":"endAngle",v={};h[d]=i?r.r0:r.startAngle,v[d]=r[d],(s?Gn:Gr)(c,{shape:v},a)}return c}};function XNe(n,e){var t=n.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function jj(n,e,t,r,i,a,o,s){var l,u;a?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?Gn:Gr)(t,{shape:l},e,i,null);var c=e?n.baseAxis.model:null;(o?Gn:Gr)(t,{shape:u},c,i)}function Wj(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var qNe=["x","y","width","height"],ZNe=["cx","cy","r","startAngle","endAngle"],Yj={cartesian2d:function(n){return!Wj(n,qNe)},polar:function(n){return!Wj(n,ZNe)}},HA={cartesian2d:function(n,e,t){var r=n.getItemLayout(e);if(!r)return null;var i=t?JNe(t,r):0,a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+o*i/2,width:r.width-a*i,height:r.height-o*i}},polar:function(n,e,t){var r=n.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function KNe(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function Vne(n){return(function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}})(n)}function Xj(n,e,t,r,i,a,o,s){var l=e.getItemVisual(t,"style");if(s){if(!a.get("roundCap")){var c=n.shape,f=of(r.getModel("itemStyle"),c,!0);je(c,f),n.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",u)}n.useStyle(l);var h=r.getShallow("cursor");h&&n.attr("cursor",h);var d=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=fa(r);Na(n,v,{labelFetcher:a,labelDataIndex:t,defaultText:Fx(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var g=n.getTextContent();if(s&&g){var y=r.get(["label","position"]);n.textConfig.inside=y==="middle"?!0:null,jNe(n,y==="outside"?d:y,Vne(o),r.get(["label","rotate"]))}K$(g,v,a.getRawValue(t),function(b){return Rne(e,b)});var x=r.getModel(["emphasis"]);ti(n,x.get("focus"),x.get("blurScope"),x.get("disabled")),ca(n,r),KNe(i)&&(n.style.fill="none",n.style.stroke="none",J(n.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function JNe(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,a)}var QNe=(function(){function n(){}return n})(),qj=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new QNe},e.prototype.buildPath=function(t,r){for(var i=r.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],t.rect(s[0],s[1],l[0],l[1])},e})(Mn);function Zj(n,e,t,r){var i=n.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=n.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new qj({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var f=new qj({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,e.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,Xt(f).seriesIndex=n.seriesIndex,n.get("silent")||(f.on("mousedown",Kj),f.on("mousemove",Kj)),t&&t.push(f)}var Kj=wN(function(n){var e=this,t=$Ne(e,n.offsetX,n.offsetY);Xt(e).dataIndex=t>=0?t:null},30,!1);function $Ne(n,e,t){for(var r=n.baseDimIdx,i=1-r,a=n.shape.points,o=n.largeDataIndices,s=[],l=[],u=n.barWidth,c=0,f=a.length/3;c<f;c++){var h=c*3;if(l[r]=u,l[i]=a[h+2],s[r]=a[h+r],s[i]=a[h+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),e>=s[0]&&e<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return o[c]}return-1}function Fne(n,e,t){if(Op(t,"cartesian2d")){var r=e,i=t.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}else{var i=t.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:n?i.r0:a.r0,r:n?i.r:a.r,startAngle:n?a.startAngle:0,endAngle:n?a.endAngle:Math.PI*2}}}function eRe(n,e,t){var r=n.type==="polar"?co:mn;return new r({shape:Fne(e,t,n),silent:!0,z2:0})}function tRe(n){n.registerChartView(YNe),n.registerSeriesModel(FNe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,tn(jte,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Wte("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Une("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var Jj=Math.PI*2,jA=Math.PI/180;function nRe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.getData(),a=i.mapDimension("value"),o=pee(r,t),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=o.viewRect,h=-r.get("startAngle")*jA,d=r.get("endAngle"),v=r.get("padAngle")*jA;d=d==="auto"?h-Jj:-d*jA;var g=r.get("minAngle")*jA,y=g+v,x=0;i.each(a,function(W){!isNaN(W)&&x++});var b=i.getSum(a),T=Math.PI/(b||x)*2,M=r.get("clockwise"),C=r.get("roseType"),D=r.get("stillShowZeroSum"),R=i.getDataExtent(a);R[0]=0;var I=M?1:-1,L=[h,d],O=I*v/2;hN(L,!M),h=L[0],d=L[1];var B=Gne(r);B.startAngle=h,B.endAngle=d,B.clockwise=M,B.cx=s,B.cy=l,B.r=u,B.r0=c;var V=Math.abs(d-h),F=V,k=0,Y=h;if(i.setLayout({viewRect:f,r:u}),i.each(a,function(W,q){var K;if(isNaN(W)){i.setItemLayout(q,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:M,cx:s,cy:l,r0:c,r:C?NaN:u});return}C!=="area"?K=b===0&&D?T:W*T:K=V/x,K<y?(K=y,F-=y):k+=W;var re=Y+I*K,j=0,Q=0;v>K?(j=Y+I*K/2,Q=j):(j=Y+O,Q=re-O),i.setItemLayout(q,{angle:K,startAngle:j,endAngle:Q,clockwise:M,cx:s,cy:l,r0:c,r:C?er(W,R,[c,u]):u}),Y=re}),F<Jj&&x)if(F<=.001){var H=V/x;i.each(a,function(W,q){if(!isNaN(W)){var K=i.getItemLayout(q);K.angle=H;var re=0,j=0;H<v?(re=h+I*(q+1/2)*H,j=re):(re=h+I*q*H+O,j=h+I*(q+1)*H-O),K.startAngle=re,K.endAngle=j}})}else T=F/k,Y=h,i.each(a,function(W,q){if(!isNaN(W)){var K=i.getItemLayout(q),re=K.angle===y?y:W*T,j=0,Q=0;re<v?(j=Y+I*re/2,Q=j):(j=Y+O,Q=Y+I*re-O),K.startAngle=j,K.endAngle=Q,Y+=I*re}})})}var Gne=Sn();function w_(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var rRe=Math.PI/180;function Qj(n,e,t,r,i,a,o,s,l,u){if(n.length<2)return;function c(g){for(var y=g.rB,x=y*y,b=0;b<g.list.length;b++){var T=g.list[b],M=Math.abs(T.label.y-t),C=r+T.len,D=C*C,R=Math.sqrt(Math.abs((1-M*M/x)*D)),I=e+(R+T.len2)*i,L=I-T.label.x,O=T.targetTextWidth-L*i;Hne(T,O,!0),T.label.x=I}}function f(g){for(var y={list:[],maxY:0},x={list:[],maxY:0},b=0;b<g.length;b++)if(g[b].labelAlignTo==="none"){var T=g[b],M=T.label.y>t?x:y,C=Math.abs(T.label.y-t);if(C>=M.maxY){var D=T.label.x-e-T.len2*i,R=r+T.len,I=Math.abs(D)<R?Math.sqrt(C*C/(1-D*D/R/R)):R;M.rB=I,M.maxY=C}M.list.push(T)}c(y),c(x)}for(var h=n.length,d=0;d<h;d++)if(n[d].position==="outer"&&n[d].labelAlignTo==="labelLine"){var v=n[d].label.x-u;n[d].linePoints[1][0]+=v,n[d].label.x=u}l4(n,1,l,l+o)&&f(n)}function iRe(n,e,t,r,i,a,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<n.length;h++){var d=n[h].label;oO(n[h])||(d.x<e?(c=Math.min(c,d.x),l.push(n[h])):(f=Math.max(f,d.x),u.push(n[h])))}for(var h=0;h<n.length;h++){var v=n[h];if(!oO(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var d=v.label,g=v.linePoints,y=void 0;v.labelAlignTo==="edge"?d.x<e?y=g[2][0]-v.labelDistance-o-v.edgeDistance:y=o+i-v.edgeDistance-g[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?d.x<e?y=c-o-v.bleedMargin:y=o+i-f-v.bleedMargin:d.x<e?y=d.x-o-v.bleedMargin:y=o+i-d.x-v.bleedMargin,v.targetTextWidth=y,Hne(v,y,!1)}}Qj(u,e,t,r,1,i,a,o,s,f),Qj(l,e,t,r,-1,i,a,o,s,c);for(var h=0;h<n.length;h++){var v=n[h];if(!oO(v)&&v.linePoints){var d=v.label,g=v.linePoints,x=v.labelAlignTo==="edge",b=d.style.padding,T=b?b[1]+b[3]:0,M=d.style.backgroundColor?0:T,C=v.rect.width+M,D=g[1][0]-g[2][0];x?d.x<e?g[2][0]=o+v.edgeDistance+C+v.labelDistance:g[2][0]=o+i-v.edgeDistance-C-v.labelDistance:(d.x<e?g[2][0]=d.x+v.labelDistance:g[2][0]=d.x-v.labelDistance,g[1][0]=g[2][0]+D),g[1][1]=g[2][1]=d.y}}}function Hne(n,e,t){if(n.labelStyleWidth==null){var r=n.label,i=r.style,a=n.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=a.width+(o?0:l);if(e<c||t){if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var f=r.getBoundingRect();r.setStyle("width",Math.ceil(f.width)),r.setStyle("backgroundColor",o)}else{var h=e-l,d=e<c?h:t?h>n.unconstrainedWidth?null:h:null;r.setStyle("width",d)}jne(a,r)}}}function jne(n,e){$j.rect=n,pne($j,e,aRe)}var aRe={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},$j={};function oO(n){return n.position==="center"}function oRe(n){var e=n.getData(),t=[],r,i,a=!1,o=(n.get("minShowLabelAngle")||0)*rRe,s=e.getLayout("viewRect"),l=e.getLayout("r"),u=s.width,c=s.x,f=s.y,h=s.height;function d(D){D.ignore=!0}function v(D){if(!D.ignore)return!0;for(var R in D.states)if(D.states[R].ignore===!1)return!0;return!1}e.each(function(D){var R=e.getItemGraphicEl(D),I=R.shape,L=R.getTextContent(),O=R.getTextGuideLine(),B=e.getItemModel(D),V=B.getModel("label"),F=V.get("position")||B.get(["emphasis","label","position"]),k=V.get("distanceToLabelLine"),Y=V.get("alignTo"),H=pt(V.get("edgeDistance"),u),W=V.get("bleedMargin");W==null&&(W=Math.min(u,h)>200?10:2);var q=B.getModel("labelLine"),K=q.get("length");K=pt(K,u);var re=q.get("length2");if(re=pt(re,u),Math.abs(I.endAngle-I.startAngle)<o){J(L.states,d),L.ignore=!0,O&&(J(O.states,d),O.ignore=!0);return}if(v(L)){var j=(I.startAngle+I.endAngle)/2,Q=Math.cos(j),ne=Math.sin(j),se,he,pe,xe;r=I.cx,i=I.cy;var Te=F==="inside"||F==="inner";if(F==="center")se=I.cx,he=I.cy,xe="center";else{var Me=(Te?(I.r+I.r0)/2*Q:I.r*Q)+r,Re=(Te?(I.r+I.r0)/2*ne:I.r*ne)+i;if(se=Me+Q*3,he=Re+ne*3,!Te){var Ue=Me+Q*(K+l-I.r),et=Re+ne*(K+l-I.r),ct=Ue+(Q<0?-1:1)*re,X=et;Y==="edge"?se=Q<0?c+H:c+u-H:se=ct+(Q<0?-k:k),he=X,pe=[[Me,Re],[Ue,et],[ct,X]]}xe=Te?"center":Y==="edge"?Q>0?"right":"left":Q>0?"left":"right"}var te=Math.PI,ve=0,oe=V.get("rotate");if(Pn(oe))ve=oe*(te/180);else if(F==="center")ve=0;else if(oe==="radial"||oe===!0){var ae=Q<0?-j+te:-j;ve=ae}else if(oe==="tangential"&&F!=="outside"&&F!=="outer"){var de=Math.atan2(Q,ne);de<0&&(de=te*2+de);var Ae=ne>0;Ae&&(de=te+de),ve=de-te}if(a=!!ve,L.x=se,L.y=he,L.rotation=ve,L.setStyle({verticalAlign:"middle"}),Te){L.setStyle({align:xe});var be=L.states.select;be&&(be.x+=L.x,be.y+=L.y)}else{var Ce=new Wt(0,0,0,0);jne(Ce,L),t.push({label:L,labelLine:O,position:F,len:K,len2:re,minTurnAngle:q.get("minTurnAngle"),maxSurfaceAngle:q.get("maxSurfaceAngle"),surfaceNormal:new jt(Q,ne),linePoints:pe,textAlign:xe,labelDistance:k,labelAlignTo:Y,edgeDistance:H,bleedMargin:W,rect:Ce,unconstrainedWidth:Ce.width,labelStyleWidth:L.style.width})}R.setTextConfig({inside:Te})}}),!a&&n.get("avoidLabelOverlap")&&iRe(t,r,i,l,u,h,c,f);for(var g=0;g<t.length;g++){var y=t[g],x=y.label,b=y.labelLine,T=isNaN(x.x)||isNaN(x.y);if(x){x.setStyle({align:y.textAlign}),T&&(J(x.states,d),x.ignore=!0);var M=x.states.select;M&&(M.x+=x.x,M.y+=x.y)}if(b){var C=y.linePoints;T||!C?(J(b.states,d),b.ignore=!0):(fne(C,y.minTurnAngle),ADe(C,y.surfaceNormal,y.maxSurfaceAngle),b.setShape({points:C}),x.__hostTarget.textGuideLineConfig={anchor:new jt(C[0][0],C[0][1])})}}}var sRe=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this)||this;a.z2=2;var o=new On;return a.setTextContent(o),a.updateData(t,r,i,!0),a}return e.prototype.updateData=function(t,r,i,a){var o=this,s=t.hostModel,l=t.getItemModel(r),u=l.getModel("emphasis"),c=t.getItemLayout(r),f=je(of(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(a){o.setShape(f);var h=s.getShallow("animationType");s.ecModel.ssr?(Gr(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):h==="scale"?(o.shape.r=c.r0,Gr(o,{shape:{r:c.r}},s,r)):i!=null?(o.setShape({startAngle:i,endAngle:i}),Gr(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(o.shape.endAngle=c.startAngle,Gn(o,{shape:{endAngle:c.endAngle}},s,r))}else ru(o),Gn(o,{shape:f},s,r);o.useStyle(t.getItemVisual(r,"style")),ca(o,l);var d=(c.startAngle+c.endAngle)/2,v=s.get("selectedOffset"),g=Math.cos(d)*v,y=Math.sin(d)*v,x=l.getShallow("cursor");x&&o.attr("cursor",x),this._updateLabel(s,t,r),o.ensureState("emphasis").shape=je({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},of(u.getModel("itemStyle"),c)),je(o.ensureState("select"),{x:g,y,shape:of(l.getModel(["select","itemStyle"]),c)}),je(o.ensureState("blur"),{shape:of(l.getModel(["blur","itemStyle"]),c)});var b=o.getTextGuideLine(),T=o.getTextContent();b&&je(b.ensureState("select"),{x:g,y}),je(T.ensureState("select"),{x:g,y}),ti(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var a=this,o=r.getItemModel(i),s=o.getModel("labelLine"),l=r.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;Na(a,fa(o),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=o.get(["label","position"]);if(h!=="outside"&&h!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new Xa,this.setTextGuideLine(d)),OB(this,PB(o),{stroke:u,opacity:zs(s.get(["lineStyle","opacity"]),c,1)})}},e})(co),lRe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i,a){var o=t.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&t.get("showEmptyCircle")){var h=Gne(t),d=new co({shape:Pt(h)});d.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}o.diff(s).add(function(v){var g=new sRe(o,v,u);o.setItemGraphicEl(v,g),l.add(g)}).update(function(v,g){var y=s.getItemGraphicEl(g);y.updateData(o,v,u),y.off("click"),l.add(y),o.setItemGraphicEl(v,y)}).remove(function(v){var g=s.getItemGraphicEl(v);Ih(g,t,v)}).execute(),oRe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},e.type="pie",e})(vr);function T_(n,e,t){e=Ke(e)&&{coordDimensions:e}||je({encodeDefine:n.getEncode()},e);var r=n.getSource(),i=__(r,e).dimensions,a=new Uo(i,n);return a.initData(r,t),a}var M_=(function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},n})(),uRe=Sn(),Wne=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new M_(mt(this.getData,this),mt(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return T_(this,{coordDimensions:["value"],encodeDefaulter:tn(lB,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),i=uRe(r),a=i.seats;if(!a){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),a=i.seats=$Q(o,r.hostModel.get("percentPrecision"))}var s=n.prototype.getDataParams.call(this,t);return s.percent=a[t]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(t){vm(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e})(_r);nAe({fullType:Wne.type,getCoord2:function(n){return n.getShallow("center")}});function cRe(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),o=r.get(a,i);return!(Pn(o)&&!isNaN(o)&&o<0)})}}}function fRe(n){n.registerChartView(lRe),n.registerSeriesModel(Wne),ate("pie",n.registerAction),n.registerLayout(tn(nRe,"pie")),n.registerProcessor(w_("pie")),n.registerProcessor(cRe("pie"))}var hRe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return Tf(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:De.color.primary}},universalTransition:{divideShape:"clone"}},e})(_r),Yne=4,dRe=(function(){function n(){}return n})(),pRe=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.getDefaultShape=function(){return new dRe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,r){var i=r.points,a=r.size,o=this.symbolProxy,s=o.shape,l=t.getContext?t.getContext():t,u=l&&a[0]<Yne,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var h=i[f++],d=i[f++];isNaN(h)||isNaN(d)||c&&!c.contain(h,d)||(s.x=h-a[0]/2,s.y=d-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(t,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,r=t.points,i=t.size,a=this._ctx,o=this.softClipShape,s;if(a){for(s=this._off;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},e.prototype.findDataIndex=function(t,r){for(var i=this.shape,a=i.points,o=i.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-s/2,h=a[c+1]-l/2;if(t>=f&&r>=h&&t<=f+s&&r<=h+l)return u}return-1},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(t=i[0],r=i[1],a.contain(t,r)){var o=this.hoverDataIdx=this.findDataIndex(t,r);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,i=r.points,a=r.size,o=a[0],s=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,h=0;h<i.length;){var d=i[h++],v=i[h++];l=Math.min(d,l),c=Math.max(d,c),u=Math.min(v,u),f=Math.max(v,f)}t=this._rect=new Wt(l-o/2,u-s/2,c-l+o,f-u+s)}return t},e})(Mn),vRe=(function(){function n(){this.group=new zt}return n.prototype.updateData=function(e,t){this._clear();var r=this._create();r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,a=r.startIndex*4*2;t=new Float32Array(t.buffer,a,i)}r.setShape("points",t),r.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,r){var i=this._newAdded[0],a=t.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+a.length);l.set(o),l.set(a,s),i.endIndex=e.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,t,r)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new pRe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,r){var i=t.hostModel;r=r||{};var a=t.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=r.clipShape||null,e.symbolProxy=Vi(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<Yne;e.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),l=s&&s.fill;l&&e.setColor(l);var u=Xt(e);u.seriesIndex=i.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(u.dataIndex=f+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n})(),gRe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this._updateSymbolDraw(a,t);o.updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,i){var a=t.getData(),o=this._updateSymbolDraw(a,t);o.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(t,r,i){this._symbolDraw.incrementalUpdate(t,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=t.end===r.getData().count()},e.prototype.updateTransform=function(t,r,i){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=Rw("").reset(t,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){if(t.get("clip",!0)){var r=t.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},e.prototype._updateSymbolDraw=function(t,r){var i=this._symbolDraw,a=r.pipelineContext,o=a.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new vRe:new Dw,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(vr),Xne={left:0,right:0,top:0,bottom:0},O3=["25%","25%"],mRe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.mergeDefaultAndTheme=function(t,r){var i=Im(t.outerBounds);n.prototype.mergeDefaultAndTheme.apply(this,arguments),i&&t.outerBounds&&mf(t.outerBounds,i)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.apply(this,arguments),this.option.outerBounds&&t.outerBounds&&mf(this.option.outerBounds,t.outerBounds)},e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"15%",top:65,right:"10%",bottom:80,containLabel:!1,outerBoundsMode:"auto",outerBounds:Xne,outerBoundsContain:"all",outerBoundsClampWidth:O3[0],outerBoundsClampHeight:O3[1],backgroundColor:De.color.transparent,borderWidth:1,borderColor:De.color.neutral30},e})(bn),d4=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",di).models[0]},e.type="cartesian2dAxis",e})(bn);Ci(d4,S_);var qne={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:De.color.axisLine,width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15],breakLine:!0},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12,color:De.color.axisLabel,textMargin:[0,3]},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:De.color.axisSplitLine,width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:[De.color.backgroundTint,De.color.backgroundTransparent]}},breakArea:{show:!0,itemStyle:{color:De.color.neutral00,borderColor:De.color.border,borderWidth:1,borderType:[3,3],opacity:.6},zigzagAmplitude:4,zigzagMinSpan:4,zigzagMaxSpan:20,zigzagZ:100,expandOnClick:!0},breakLabelLayout:{moveOverlap:"auto"}},yRe=sn({boundaryGap:!0,deduplication:null,jitter:0,jitterOverlap:!0,jitterMargin:2,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto",show:"auto"},axisLabel:{interval:"auto"}},qne),GB=sn({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:De.color.axisMinorSplitLine,width:1}}},qne),xRe=sn({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},GB),_Re=Vt({logBase:10},GB);const Zne={category:yRe,value:GB,time:xRe,log:_Re};var bRe={value:1,category:1,time:1,log:1},p4=null;function SRe(n){p4||(p4=n)}function Lw(){return p4}function Gx(n,e,t,r){J(bRe,function(i,a){var o=sn(sn({},Zne[a],!0),r,!0),s=(function(l){Oe(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var h=C2(this),d=h?Im(c):{},v=f.getTheme();sn(c,v.get(a+"Axis")),sn(c,this.getDefaultOption()),c.type=e7(c),h&&mf(c,d,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=I2.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.prototype.updateAxisBreaks=function(c){var f=Lw();return f?f.updateModelAxisBreak(this,c):{breaks:[]}},u.type=e+"Axis."+a,u.defaultOption=o,u})(t);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(e+"Axis",e7)}function e7(n){return n.type||(n.data?"category":"value")}var wRe=(function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return $e(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Zn(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n})(),v4=["x","y"];function t7(n){return(n.type==="interval"||n.type==="time")&&!n.hasBreaks()}var TRe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=v4,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!t7(t)||!t7(r))){var i=t.getExtent(),a=r.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,h=o[0]-i[0]*c,d=o[1]-a[0]*f,v=this._transform=[c,0,0,f,h,d];this._invTransform=tu([],v)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var i=this.dataToPoint(t),a=this.dataToPoint(r),o=this.getArea(),s=new Wt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},e.prototype.dataToPoint=function(t,r,i){i=i||[];var a=t[0],o=t[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return Ai(i,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(t[0]),u=a.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(t,r,i){if(i=i||[],this._invTransform)return Ai(i,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),r),i[1]=o.coordToData(o.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(t){t=t||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1])-t,o=Math.min(i[0],i[1])-t,s=Math.max(r[0],r[1])-a+t,l=Math.max(i[0],i[1])-o+t;return new Wt(a,o,s,l)},e})(wRe),Kne=(function(n){Oe(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e})(su),EN="expandAxisBreak",Jne="collapseAxisBreak",Qne="toggleAxisBreak",HB="axisbreakchanged",MRe={type:EN,event:HB,update:"update",refineEvent:jB},ARe={type:Jne,event:HB,update:"update",refineEvent:jB},CRe={type:Qne,event:HB,update:"update",refineEvent:jB};function jB(n,e,t,r){var i=[];return J(n,function(a){i=i.concat(a.eventBreaks)}),{eventContent:{breaks:i}}}function ERe(n){n.registerAction(MRe,e),n.registerAction(ARe,e),n.registerAction(CRe,e);function e(t,r){var i=[],a=fx(r,t);function o(s,l){J(a[s],function(u){var c=u.updateAxisBreaks(t);J(c.breaks,function(f){var h;i.push(Vt((h={},h[l]=u.componentIndex,h),f))})})}return o("xAxisModels","xAxisIndex"),o("yAxisModels","yAxisIndex"),o("singleAxisModels","singleAxisIndex"),{eventBreaks:i}}}var vp=Math.PI,DRe=[[1,2,1,2],[5,3,5,3],[8,3,8,3]],NRe=[[0,1,0,1],[0,3,0,3],[0,3,0,3]],Hx=Sn(),$ne=Sn(),ere=(function(){function n(e){this.recordMap={},this.resolveAxisNameOverlap=e}return n.prototype.ensureRecord=function(e){var t=e.axis.dim,r=e.componentIndex,i=this.recordMap,a=i[t]||(i[t]=[]);return a[r]||(a[r]={ready:{}})},n})();function RRe(n,e,t,r){var i=t.axis,a=e.ensureRecord(t),o=[],s,l=WB(n.axisName)&&Vx(n.nameLocation);J(r,function(v){var g=yf(v);if(!(!g||g.label.ignore)){o.push(g);var y=a.transGroup;l&&(y.transform?tu(Lb,y.transform):gw(Lb),g.transform&&Yu(Lb,Lb,g.transform),Wt.copy(WA,g.localRect),WA.applyTransform(Lb),s?s.union(WA):Wt.copy(s=new Wt(0,0,0,0),WA))}});var u=Math.abs(a.dirVec.x)>.1?"x":"y",c=a.transGroup[u];if(o.sort(function(v,g){return Math.abs(v.label[u]-c)-Math.abs(g.label[u]-c)}),l&&s){var f=i.getExtent(),h=Math.min(f[0],f[1]),d=Math.max(f[0],f[1])-h;s.union(new Wt(h,0,d,1))}a.stOccupiedRect=s,a.labelInfoList=o}var Lb=Ma(),WA=new Wt(0,0,0,0),tre=function(n,e,t,r,i,a){if(Vx(n.nameLocation)){var o=a.stOccupiedRect;o&&nre(DDe({},o,a.transGroup.transform),r,i)}else rre(a.labelInfoList,a.dirVec,r,i)};function nre(n,e,t){var r=new jt;AN(n,e,r,{direction:Math.atan2(t.y,t.x),bidirectional:!1,touchThreshold:.05})&&o4(e,r)}function rre(n,e,t,r){for(var i=jt.dot(r,e)>=0,a=0,o=n.length;a<o;a++){var s=n[i?a:o-1-a];s.label.ignore||nre(s,t,r)}}var hs=(function(){function n(e,t,r,i){this.group=new zt,this._axisModel=e,this._api=t,this._local={},this._shared=i||new ere(tre),this._resetCfgDetermined(r)}return n.prototype.updateCfg=function(e){var t=this._cfg.raw;t.position=e.position,t.labelOffset=e.labelOffset,this._resetCfgDetermined(t)},n.prototype.__getRawCfg=function(){return this._cfg.raw},n.prototype._resetCfgDetermined=function(e){var t=this._axisModel,r=t.getDefaultOption?t.getDefaultOption():{},i=At(e.axisName,t.get("name")),a=t.get("nameMoveOverlap");(a==null||a==="auto")&&(a=At(e.defaultNameMoveOverlap,!0));var o={raw:e,position:e.position,rotation:e.rotation,nameDirection:At(e.nameDirection,1),tickDirection:At(e.tickDirection,1),labelDirection:At(e.labelDirection,1),labelOffset:At(e.labelOffset,0),silent:At(e.silent,!0),axisName:i,nameLocation:zs(t.get("nameLocation"),r.nameLocation,"end"),shouldNameMoveOverlap:WB(i)&&a,optionHideOverlap:t.get(["axisLabel","hideOverlap"]),showMinorTicks:t.get(["minorTick","show"])};this._cfg=o;var s=new zt({x:o.position[0],y:o.position[1],rotation:o.rotation});s.updateTransform(),this._transformGroup=s;var l=this._shared.ensureRecord(t);l.transGroup=this._transformGroup,l.dirVec=new jt(Math.cos(-o.rotation),Math.sin(-o.rotation))},n.prototype.build=function(e,t){var r=this;return e||(e={axisLine:!0,axisTickLabelEstimate:!1,axisTickLabelDetermine:!0,axisName:!0}),J(LRe,function(i){e[i]&&IRe[i](r._cfg,r._local,r._shared,r._axisModel,r.group,r._transformGroup,r._api,t||{})}),this},n.innerTextLayout=function(e,t,r){var i=Tk(t-e),a,o;return Ix(i)?(o=r>0?"top":"bottom",a="center"):Ix(i-vp)?(o=r>0?"bottom":"top",a="center"):(o="middle",i>0&&i<vp?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n})(),LRe=["axisLine","axisTickLabelEstimate","axisTickLabelDetermine","axisName"],IRe={axisLine:function(n,e,t,r,i,a,o){var s=r.get(["axisLine","show"]);if(s==="auto"&&(s=!0,n.raw.axisLineAutoShow!=null&&(s=!!n.raw.axisLineAutoShow)),!!s){var l=r.axis.getExtent(),u=a.transform,c=[l[0],0],f=[l[1],0],h=c[0]>f[0];u&&(Ai(c,c,u),Ai(f,f,u));var d=je({lineCap:"round"},r.getModel(["axisLine","lineStyle"]).getLineStyle()),v={strokeContainThreshold:n.raw.strokeContainThreshold||5,silent:!0,z2:1,style:d};if(r.get(["axisLine","breakLine"])&&r.axis.scale.hasBreaks())Lw().buildAxisBreakLine(r,i,a,v);else{var g=new Bi(je({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]}},v));zx(g.shape,g.style.lineWidth),g.anid="line",i.add(g)}var y=r.get(["axisLine","symbol"]);if(y!=null){var x=r.get(["axisLine","symbolSize"]);vt(y)&&(y=[y,y]),(vt(x)||Pn(x))&&(x=[x,x]);var b=Pm(r.get(["axisLine","symbolOffset"])||0,x),T=x[0],M=x[1];J([{rotate:n.rotation+Math.PI/2,offset:b[0],r:0},{rotate:n.rotation-Math.PI/2,offset:b[1],r:Math.sqrt((c[0]-f[0])*(c[0]-f[0])+(c[1]-f[1])*(c[1]-f[1]))}],function(C,D){if(y[D]!=="none"&&y[D]!=null){var R=Vi(y[D],-T/2,-M/2,T,M,d.stroke,!0),I=C.r+C.offset,L=h?f:c;R.attr({rotation:C.rotate,x:L[0]+I*Math.cos(n.rotation),y:L[1]-I*Math.sin(n.rotation),silent:!0,z2:11}),i.add(R)}})}}},axisTickLabelEstimate:function(n,e,t,r,i,a,o,s){var l=r7(e,i,s);l&&n7(n,e,t,r,i,a,o,tc.estimate)},axisTickLabelDetermine:function(n,e,t,r,i,a,o,s){var l=r7(e,i,s);l&&n7(n,e,t,r,i,a,o,tc.determine);var u=kRe(n,i,a,r);zRe(n,e.labelLayoutList,u),BRe(n,i,a,r,n.tickDirection)},axisName:function(n,e,t,r,i,a,o,s){var l=t.ensureRecord(r);e.nameEl&&(i.remove(e.nameEl),e.nameEl=l.nameLayout=l.nameLocation=null);var u=n.axisName;if(WB(u)){var c=n.nameLocation,f=n.nameDirection,h=r.getModel("nameTextStyle"),d=r.get("nameGap")||0,v=r.axis.getExtent(),g=r.axis.inverse?-1:1,y=new jt(0,0),x=new jt(0,0);c==="start"?(y.x=v[0]-g*d,x.x=-g):c==="end"?(y.x=v[1]+g*d,x.x=g):(y.x=(v[0]+v[1])/2,y.y=n.labelOffset+f*d,x.y=f);var b=Ma();x.transform(Zh(b,b,n.rotation));var T=r.get("nameRotate");T!=null&&(T=T*vp/180);var M,C;Vx(c)?M=hs.innerTextLayout(n.rotation,T??n.rotation,f):(M=ORe(n.rotation,c,T||0,v),C=n.raw.axisNameAvailableWidth,C!=null&&(C=Math.abs(C/Math.sin(M.rotation)),!isFinite(C)&&(C=null)));var D=h.getFont(),R=r.get("nameTruncate",!0)||{},I=R.ellipsis,L=Ya(n.raw.nameTruncateMaxWidth,R.maxWidth,C),O=s.nameMarginLevel||0,B=new On({x:y.x,y:y.y,rotation:M.rotation,silent:hs.isLabelSilent(r),style:Dr(h,{text:u,font:D,overflow:"truncate",width:L,ellipsis:I,fill:h.getTextColor()||r.get(["axisLine","lineStyle","color"]),align:h.get("align")||M.textAlign,verticalAlign:h.get("verticalAlign")||M.textVerticalAlign}),z2:1});if(Jh({el:B,componentModel:r,itemName:u}),B.__fullText=u,B.anid="name",r.get("triggerEvent")){var V=hs.makeAxisEventDataBase(r);V.targetType="axisName",V.name=u,Xt(B).eventData=V}a.add(B),B.updateTransform(),e.nameEl=B;var F=l.nameLayout=yf({label:B,priority:B.z2,defaultAttr:{ignore:B.ignore},marginDefault:Vx(c)?DRe[O]:NRe[O]});if(l.nameLocation=c,i.add(B),B.decomposeTransform(),n.shouldNameMoveOverlap&&F){var k=t.ensureRecord(r);t.resolveAxisNameOverlap(n,t,r,F,x,k)}}}};function n7(n,e,t,r,i,a,o,s){are(e)||URe(n,e,i,s,r,o);var l=e.labelLayoutList;VRe(n,r,l,a),HRe(r,n.rotation,l);var u=n.optionHideOverlap;PRe(r,l,u),u&&vne(Zn(l,function(c){return c&&!c.label.ignore})),RRe(n,t,r,l)}function ORe(n,e,t,r){var i=Tk(t-n),a,o,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return Ix(i-vp/2)?(o=l?"bottom":"top",a="center"):Ix(i-vp*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",i<vp*1.5&&i>vp/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function PRe(n,e,t){if(Qte(n.axis))return;function r(s,l,u){var c=yf(e[l]),f=yf(e[u]);if(!(!c||!f)){if(s===!1||c.suggestIgnore){lS(c.label);return}if(f.suggestIgnore){lS(f.label);return}var h=.1;if(!t){var d=[0,0,0,0];c=s4({marginForce:d},c),f=s4({marginForce:d},f)}AN(c,f,null,{touchThreshold:h})&&lS(s?f.label:c.label)}}var i=n.get(["axisLabel","showMinLabel"]),a=n.get(["axisLabel","showMaxLabel"]),o=e.length;r(i,0,1),r(a,o-1,o-2)}function zRe(n,e,t){n.showMinorTicks||J(e,function(r){if(r&&r.label.ignore)for(var i=0;i<t.length;i++){var a=t[i],o=$ne(a),s=Hx(r.label);if(o.tickValue!=null&&!o.onBand&&o.tickValue===s.tickValue){lS(a);return}}})}function lS(n){n&&(n.ignore=!0)}function ire(n,e,t,r,i){for(var a=[],o=[],s=[],l=0;l<n.length;l++){var u=n[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=t,e&&(Ai(o,o,e),Ai(s,s,e));var c=new Bi({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});zx(c.shape,c.style.lineWidth),c.anid=i+"_"+n[l].tickValue,a.push(c);var f=$ne(c);f.onBand=!!n[l].onBand,f.tickValue=n[l].tickValue}return a}function kRe(n,e,t,r){var i=r.axis,a=r.getModel("axisTick"),o=a.get("show");if(o==="auto"&&(o=!0,n.raw.axisTickAutoShow!=null&&(o=!!n.raw.axisTickAutoShow)),!o||i.scale.isBlank())return[];for(var s=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=i.getTicksCoords(),c=ire(u,t.transform,l,Vt(s.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}function BRe(n,e,t,r,i){var a=r.axis,o=r.getModel("minorTick");if(!(!n.showMinorTicks||a.scale.isBlank())){var s=a.getMinorTicksCoords();if(s.length)for(var l=o.getModel("lineStyle"),u=i*o.get("length"),c=Vt(l.getLineStyle(),Vt(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),f=0;f<s.length;f++)for(var h=ire(s[f],t.transform,u,c,"minorticks_"+f),d=0;d<h.length;d++)e.add(h[d])}}function r7(n,e,t){if(are(n)){var r=n.axisLabelsCreationContext,i=r.out.noPxChangeTryDetermine;if(t.noPxChange){for(var a=!0,o=0;o<i.length;o++)a=a&&i[o]();if(a)return!1}i.length&&(e.remove(n.labelGroup),g4(n,null,null,null))}return!0}function URe(n,e,t,r,i,a){var o=i.axis,s=Ya(n.raw.axisLabelShow,i.get(["axisLabel","show"])),l=new zt;t.add(l);var u=C3(r);if(!s||o.scale.isBlank()){g4(e,[],l,u);return}var c=i.getModel("axisLabel"),f=o.getViewLabels(u),h=(Ya(n.raw.labelRotate,c.get("rotate"))||0)*vp/180,d=hs.innerTextLayout(n.rotation,h,n.labelDirection),v=i.getCategories&&i.getCategories(!0),g=[],y=i.get("triggerEvent"),x=1/0,b=-1/0;J(f,function(M,C){var D,R=o.scale.type==="ordinal"?o.scale.getRawOrdinalNumber(M.tickValue):M.tickValue,I=M.formattedLabel,L=M.rawLabel,O=c;if(v&&v[R]){var B=v[R];Ft(B)&&B.textStyle&&(O=new Tn(B.textStyle,c,i.ecModel))}var V=O.getTextColor()||i.get(["axisLine","lineStyle","color"]),F=O.getShallow("align",!0)||d.textAlign,k=At(O.getShallow("alignMinLabel",!0),F),Y=At(O.getShallow("alignMaxLabel",!0),F),H=O.getShallow("verticalAlign",!0)||O.getShallow("baseline",!0)||d.textVerticalAlign,W=At(O.getShallow("verticalAlignMinLabel",!0),H),q=At(O.getShallow("verticalAlignMaxLabel",!0),H),K=10+(((D=M.time)===null||D===void 0?void 0:D.level)||0);x=Math.min(x,K),b=Math.max(b,K);var re=new On({x:0,y:0,rotation:0,silent:hs.isLabelSilent(i),z2:K,style:Dr(O,{text:I,align:C===0?k:C===f.length-1?Y:F,verticalAlign:C===0?W:C===f.length-1?q:H,fill:Nt(V)?V(o.type==="category"?L:o.type==="value"?R+"":R,C):V})});re.anid="label_"+R;var j=Hx(re);if(j.break=M.break,j.tickValue=R,j.layoutRotation=d.rotation,Jh({el:re,componentModel:i,itemName:I,formatterParamsExtra:{isTruncated:function(){return re.isTruncated},value:L,tickIndex:C}}),y){var Q=hs.makeAxisEventDataBase(i);Q.targetType="axisLabel",Q.value=L,Q.tickIndex=C,M.break&&(Q.break={start:M.break.parsedBreak.vmin,end:M.break.parsedBreak.vmax}),o.type==="category"&&(Q.dataIndex=R),Xt(re).eventData=Q,M.break&&GRe(i,a,re,M.break)}g.push(re),l.add(re)});var T=$e(g,function(M){return{label:M,priority:Hx(M).break?M.z2+(b-x+1):M.z2,defaultAttr:{ignore:M.ignore}}});g4(e,T,l,u)}function are(n){return!!n.labelLayoutList}function g4(n,e,t,r){n.labelLayoutList=e,n.labelGroup=t,n.axisLabelsCreationContext=r}function VRe(n,e,t,r){var i=e.get(["axisLabel","margin"]);J(t,function(a,o){var s=yf(a);if(s){var l=s.label,u=Hx(l);s.suggestIgnore=l.ignore,l.ignore=!1,i3(dh,FRe),dh.x=e.axis.dataToCoord(u.tickValue),dh.y=n.labelOffset+n.labelDirection*i,dh.rotation=u.layoutRotation,r.add(dh),dh.updateTransform(),r.remove(dh),dh.decomposeTransform(),i3(l,dh),l.markRedraw(),R3(s,!0),yf(s)}})}var dh=new mn,FRe=new mn;function WB(n){return!!n}function GRe(n,e,t,r){t.on("click",function(i){var a={type:EN,breaks:[{start:r.parsedBreak.breakOption.start,end:r.parsedBreak.breakOption.end}]};a[n.axis.dim+"AxisIndex"]=n.componentIndex,e.dispatchAction(a)})}function HRe(n,e,t){var r=Qi();if(r){var i=r.retrieveAxisBreakPairs(t,function(o){return o&&Hx(o.label).break},!0),a=n.get(["breakLabelLayout","moveOverlap"],!0);(a===!0||a==="auto")&&J(i,function(o){Lw().adjustBreakLabelPair(n.axis.inverse,e,[yf(t[o[0]]),yf(t[o[1]])])})}}function P3(n,e,t){t=t||{};var r=e.axis,i={},a=r.getAxesOnZeroOf()[0],o=r.position,s=a?"onZero":o,l=r.dim,u=[n.x,n.x+n.width,n.y,n.y+n.height],c={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,h=l==="x"?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(a){var d=a.toGlobalCoord(a.dataToCoord(0));h[c.onZero]=Math.max(Math.min(d,h[1]),h[0])}i.position=[l==="y"?h[c[s]]:u[0],l==="x"?h[c[s]]:u[3]],i.rotation=Math.PI/2*(l==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};i.labelDirection=i.tickDirection=i.nameDirection=v[o],i.labelOffset=a?h[c[o]]-h[c.onZero]:0,e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Ya(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var g=e.get(["axisLabel","rotate"]);return i.labelRotate=s==="top"?-g:g,i.z2=1,i}function jRe(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function i7(n){var e={xAxisModel:null,yAxisModel:null};return J(e,function(t,r){var i=r.replace(/Model$/,""),a=n.getReferringComponents(i,di).models[0];e[r]=a}),e}function WRe(n,e,t,r,i,a){for(var o=P3(n,t),s=!1,l=!1,u=0;u<e.length;u++)e4(e[u].getOtherAxis(t.axis).scale)&&(s=l=!0,t.axis.type==="category"&&t.axis.onBand&&(l=!1));return o.axisLineAutoShow=s,o.axisTickAutoShow=l,o.defaultNameMoveOverlap=a,new hs(t,r,o,i)}function YRe(n,e,t){var r=P3(e,t);n.updateCfg(r)}function ore(n,e,t){var r=Xh.prototype,i=r.getTicks.call(t),a=r.getTicks.call(t,{expandToNicedExtent:!0}),o=i.length-1,s=r.getInterval.call(t),l=Jte(n,e),u=l.extent,c=l.fixMin,f=l.fixMax;n.type==="log"&&(u=t4(n.base,u,!0)),n.setBreaksFromOption($te(e)),n.setExtent(u[0],u[1]),n.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var h=r.getExtent.call(n);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var d=r.getInterval.call(n),v=u[0],g=u[1];if(c&&f)d=(g-v)/o;else if(c)for(g=u[0]+d*o;g<u[1]&&isFinite(g)&&isFinite(u[1]);)d=WI(d),g=u[0]+d*o;else if(f)for(v=u[1]-d*o;v>u[0]&&isFinite(v)&&isFinite(u[0]);)d=WI(d),v=u[1]-d*o;else{var y=n.getTicks().length-1;y>o&&(d=WI(d));var x=d*o;g=Math.ceil(u[1]/d)*d,v=ki(g-x),v<0&&u[0]>=0?(v=0,g=ki(x)):g>0&&u[1]<=0&&(g=0,v=-ki(x))}var b=(i[0].value-a[0].value)/s,T=(i[o].value-a[o].value)/s;r.setExtent.call(n,v+d*b,g+d*T),r.setInterval.call(n,d),(b||T)&&r.setNiceExtent.call(n,v+d,g-d)}var a7=[[3,1],[0,2]],XRe=(function(){function n(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=v4,this._initCartesian(e,t,r),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function i(o){var s,l=Rn(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var h=+l[f],d=o[h],v=d.model,g=d.scale;e4(g)&&v.get("alignTicks")&&v.get("interval")==null?c.push(d):(Sm(g,v),e4(g)&&(s=d))}c.length&&(s||(s=c.pop(),Sm(s.scale,s.model)),J(c,function(y){ore(y.scale,y.model,s.scale)}))}}i(r.x),i(r.y);var a={};J(r.x,function(o){o7(r,"y",o,a)}),J(r.y,function(o){o7(r,"x",o,a)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,r){var i=ha(e,t),a=this._rect=Kr(e.getBoxLayoutParams(),i.refContainer),o=this._axesMap,s=this._coordsList,l=e.get("containLabel");if(m4(o,a),!r){var u=KRe(a,s,o,l,t),c=void 0;if(l)y4?(y4(this._axesList,a),m4(o,a)):c=u7(a.clone(),"axisLabel",null,a,o,u,i);else{var f=JRe(e,a,i),h=f.outerBoundsRect,d=f.parsedOuterBoundsContain,v=f.outerBoundsClamp;h&&(c=u7(h,d,v,a,o,u,i))}sre(a,o,tc.determine,null,c,i)}J(this._coordsList,function(g){g.calcAffineTransform()})},n.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}Ft(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",di).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",di).models[0],a=e.gridModel,o=this._coordsList,s,l;if(t)s=t.coordinateSystem,on(o,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,r){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,J(s.x,function(c,f){J(s.y,function(h,d){var v="x"+f+"y"+d,g=new TRe(v);g.master=i,g.model=e,i._coordsMap[v]=g,i._coordsList.push(g),g.addAxis(c),g.addAxis(h)})});function u(c){return function(f,h){if(sO(f,e)){var d=f.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=o.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=o.left?"right":"left"),o[d]=!0;var v=new Kne(c,Cw(f),[0,0],f.get("type"),d),g=v.type==="category";v.onBand=g&&f.get("boundaryGap"),v.inverse=f.get("inverse"),f.axis=v,v.model=f,v.grid=a,v.index=h,a._axesList.push(v),s[c][h]=v,l[c]++}}}},n.prototype._updateScale=function(e,t){J(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(jRe(i)){var a=i7(i),o=a.xAxisModel,s=a.yAxisModel;if(!sO(o,t)||!sO(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");r(u,c),r(u,f)}},this);function r(i,a){J(A3(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},n.prototype.getTooltipAxes=function(e){var t=[],r=[];return J(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),o=i.getOtherAxis(a);on(t,a)<0&&t.push(a),on(r,o)<0&&r.push(o)}),{baseAxes:t,otherAxes:r}},n.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,a){var o=new n(i,e,t);o.name="grid_"+a,o.resize(i,t,!0),i.coordinateSystem=o,r.push(o)}),e.eachSeries(function(i){Mw({targetModel:i,coordSysType:"cartesian2d",coordSysProvider:a});function a(){var o=i7(i),s=o.xAxisModel,l=o.yAxisModel,u=s.getCoordSysModel(),c=u.coordinateSystem;return c.getCartesian(s.componentIndex,l.componentIndex)}}),r},n.dimensions=v4,n})();function sO(n,e){return n.getCoordSysModel()===e}function o7(n,e,t,r){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=n[e],a,o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)s7(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&s7(i[u])&&!r[c(i[u])]){a=i[u];break}a&&(r[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function s7(n){return n&&n.type!=="category"&&n.type!=="time"&&U3e(n)}function qRe(n,e){var t=n.getExtent(),r=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(i){return i+e}:function(i){return r-i+e},n.toLocalCoord=n.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}function m4(n,e){J(n.x,function(t){return l7(t,e.x,e.width)}),J(n.y,function(t){return l7(t,e.y,e.height)})}function l7(n,e,t){var r=[0,t],i=n.inverse?1:0;n.setExtent(r[i],r[1-i]),qRe(n,e)}var y4;function ZRe(n){y4=n}function u7(n,e,t,r,i,a,o){sre(r,i,tc.estimate,e,!1,o);var s=[0,0,0,0];u(0),u(1),c(r,0,NaN),c(r,1,NaN);var l=Hp(s,function(h){return h>0})==null;return xm(r,s,!0,!0,t),m4(i,r),l;function u(h){J(i[Qt[h]],function(d){if(O2(d.model)){var v=a.ensureRecord(d.model),g=v.labelInfoList;if(g)for(var y=0;y<g.length;y++){var x=g[y],b=d.scale.normalize(Hx(x.label).tickValue);b=h===1?1-b:b,c(x.rect,h,b),c(x.rect,1-h,NaN)}var T=v.nameLayout;if(T){var b=Vx(v.nameLocation)?.5:NaN;c(T.rect,h,b),c(T.rect,1-h,NaN)}}})}function c(h,d,v){var g=n[Qt[d]]-h[Qt[d]],y=h[$i[d]]+h[Qt[d]]-(n[$i[d]]+n[Qt[d]]);g=f(g,1-v),y=f(y,v);var x=a7[d][0],b=a7[d][1];s[x]=zi(s[x],g),s[b]=zi(s[b],y)}function f(h,d){return h>0&&!so(d)&&d>1e-4&&(h/=d),h}}function KRe(n,e,t,r,i){var a=new ere(QRe);return J(t,function(o){return J(o,function(s){if(O2(s.model)){var l=!r;s.axisBuilder=WRe(n,e,s.model,i,a,l)}})}),a}function sre(n,e,t,r,i,a){var o=t===tc.determine;J(e,function(u){return J(u,function(c){O2(c.model)&&(YRe(c.axisBuilder,n,c.model),c.axisBuilder.build(o?{axisTickLabelDetermine:!0}:{axisTickLabelEstimate:!0},{noPxChange:i}))})});var s={x:0,y:0};l(0),l(1);function l(u){s[Qt[1-u]]=n[$i[u]]<=a.refContainer[$i[u]]*.5?0:1-u===1?2:1}J(e,function(u,c){return J(u,function(f){O2(f.model)&&((r==="all"||o)&&f.axisBuilder.build({axisName:!0},{nameMarginLevel:s[c]}),o&&f.axisBuilder.build({axisLine:!0}))})})}function JRe(n,e,t){var r,i=n.get("outerBoundsMode",!0);i==="same"?r=e.clone():(i==null||i==="auto")&&(r=Kr(n.get("outerBounds",!0)||Xne,t.refContainer));var a=n.get("outerBoundsContain",!0),o;a==null||a==="auto"||on(["all","axisLabel"],a)<0?o="all":o=a;var s=[o3(At(n.get("outerBoundsClampWidth",!0),O3[0]),e.width),o3(At(n.get("outerBoundsClampHeight",!0),O3[1]),e.height)];return{outerBoundsRect:r,parsedOuterBoundsContain:o,outerBoundsClamp:s}}var QRe=function(n,e,t,r,i,a){var o=t.axis.dim==="x"?"y":"x";tre(n,e,t,r,i,a),Vx(n.nameLocation)||J(e.recordMap[o],function(s){s&&s.labelInfoList&&s.dirVec&&rre(s.labelInfoList,s.dirVec,r,i)})};function $Re(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return eLe(t,n,e),t.seriesInvolved&&nLe(t,n),t}function eLe(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];J(t.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=B2(s.model),u=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",r);if(J(s.getAxes(),tn(g,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var h=f.get("trigger")==="axis",d=f.get(["axisPointer","type"])==="cross",v=s.getTooltipAxes(f.get(["axisPointer","axis"]));(h||d)&&J(v.baseAxes,tn(g,d?"cross":!0,h)),d&&J(v.otherAxes,tn(g,"cross",!1))}function g(y,x,b){var T=b.model.getModel("axisPointer",i),M=T.get("show");if(!(!M||M==="auto"&&!y&&!x4(T))){x==null&&(x=T.get("triggerTooltip")),T=y?tLe(b,f,i,e,y,x):T;var C=T.get("snap"),D=T.get("triggerEmphasis"),R=B2(b.model),I=x||C||b.type==="category",L=n.axesInfo[R]={key:R,axis:b,coordSys:s,axisPointerModel:T,triggerTooltip:x,triggerEmphasis:D,involveSeries:I,snap:C,useHandle:x4(T),seriesModels:[],linkGroup:null};u[R]=L,n.seriesInvolved=n.seriesInvolved||I;var O=rLe(a,b);if(O!=null){var B=o[O]||(o[O]={axesInfo:{}});B.axesInfo[R]=L,B.mapper=a[O].mapper,L.linkGroup=B}}}})}function tLe(n,e,t,r,i,a){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};J(s,function(h){l[h]=Pt(o.get(h))}),l.snap=n.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=o.get("crossStyle");f&&Vt(u,f.textStyle)}}return n.model.getModel("axisPointer",new Tn(l,t,r))}function nLe(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!r||!r.model||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||J(n.coordSysAxesInfo[B2(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(t),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}function rLe(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var a=n[i]||{};if(lO(a[r+"AxisId"],t.id)||lO(a[r+"AxisIndex"],t.componentIndex)||lO(a[r+"AxisName"],t.name))return i}}function lO(n,e){return n==="all"||Ke(n)&&on(n,e)>=0||n===e}function iLe(n){var e=YB(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,a=t.get("status"),o=t.get("value");o!=null&&(o=r.parse(o));var s=x4(t);a==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function YB(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[B2(n)]}function aLe(n){var e=YB(n);return e&&e.axisPointerModel}function x4(n){return!!n.get(["handle","show"])}function B2(n){return n.type+"||"+n.id}var c7={},zm=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.axisPointerClass&&iLe(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var o=aLe(t);o?(this._axisPointer||(this._axisPointer=new a)).render(t,o,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){c7[t]=r},e.getAxisPointerClass=function(t){return t&&c7[t]},e.type="axis",e})(Rr),_4=Sn();function lre(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0,breakTicks:"none",pruneByBreak:"preserve_extent_bound"});if(u.length){var c=s.length,f=_4(n).splitAreaColors,h=Tt(),d=0;if(f)for(var v=0;v<u.length;v++){var g=f.get(u[v].tickValue);if(g!=null){d=(g+(c-1)*v)%c;break}}var y=i.toGlobalCoord(u[0].coord),x=o.getAreaStyle();s=Ke(s)?s:[s];for(var v=1;v<u.length;v++){var b=i.toGlobalCoord(u[v].coord),T=void 0,M=void 0,C=void 0,D=void 0;i.isHorizontal()?(T=y,M=l.y,C=b-T,D=l.height,y=T+C):(T=l.x,M=y,C=l.width,D=b-M,y=M+D);var R=u[v-1].tickValue;R!=null&&h.set(R,d),e.add(new mn({anid:R!=null?"area_"+R:null,shape:{x:T,y:M,width:C,height:D},style:Vt({fill:s[d]},x),autoBatch:!0,silent:!0})),d=(d+1)%c}_4(n).splitAreaColors=h}}}function ure(n){_4(n).splitAreaColors=null}var oLe=["splitArea","splitLine","minorSplitLine","breakArea"],cre=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new zt,this.group.add(this._axisGroup),!!O2(t)){this._axisGroup.add(t.axis.axisBuilder.group),J(oLe,function(l){t.get([l,"show"])&&sLe[l](this,this._axisGroup,t,t.getCoordSysModel(),i)},this);var s=a&&a.type==="changeAxisOrder"&&a.isInitSort;s||ww(o,this._axisGroup,t),n.prototype.render.call(this,t,r,i,a)}},e.prototype.remove=function(){ure(this)},e.type="cartesianAxis",e})(zm),sLe={splitLine:function(n,e,t,r,i){var a=t.axis;if(!a.scale.isBlank()){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=o.get("showMinLine")!==!1,c=o.get("showMaxLine")!==!1;l=Ke(l)?l:[l];for(var f=r.coordinateSystem.getRect(),h=a.isHorizontal(),d=0,v=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),g=[],y=[],x=s.getLineStyle(),b=0;b<v.length;b++){var T=a.toGlobalCoord(v[b].coord);if(!(b===0&&!u||b===v.length-1&&!c)){var M=v[b].tickValue;h?(g[0]=T,g[1]=f.y,y[0]=T,y[1]=f.y+f.height):(g[0]=f.x,g[1]=T,y[0]=f.x+f.width,y[1]=T);var C=d++%l.length,D=new Bi({anid:M!=null?"line_"+M:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},style:Vt({stroke:l[C]},x),silent:!0});zx(D.shape,x.lineWidth),e.add(D)}}}},minorSplitLine:function(n,e,t,r,i){var a=t.axis,o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=r.coordinateSystem.getRect(),u=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var f=[],h=[],d=s.getLineStyle(),v=0;v<c.length;v++)for(var g=0;g<c[v].length;g++){var y=a.toGlobalCoord(c[v][g].coord);u?(f[0]=y,f[1]=l.y,h[0]=y,h[1]=l.y+l.height):(f[0]=l.x,f[1]=y,h[0]=l.x+l.width,h[1]=y);var x=new Bi({anid:"minor_line_"+c[v][g].tickValue,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:d,silent:!0});zx(x.shape,d.lineWidth),e.add(x)}},splitArea:function(n,e,t,r,i){lre(n,e,t,r)},breakArea:function(n,e,t,r,i){var a=Lw(),o=t.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,n,t,r.coordinateSystem.getRect(),i)}},fre=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e})(cre),lLe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=fre.type,t}return e.type="yAxis",e})(cre),uLe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new mn({shape:t.coordinateSystem.getRect(),style:Vt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(Rr),f7={offset:0};function hre(n){n.registerComponentView(uLe),n.registerComponentModel(mRe),n.registerCoordinateSystem("cartesian2d",XRe),Gx(n,"x",d4,f7),Gx(n,"y",d4,f7),n.registerComponentView(fre),n.registerComponentView(lLe),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function cLe(n,e){var t=n.coordinateSystem,r=t&&t.type,i=t&&t.getBaseAxis&&t.getBaseAxis(),a=i&&i.scale&&i.scale.type,o=r==="cartesian2d"&&a==="ordinal"||r==="single",s=e.model.get("jitter")>0;return o&&s}var fLe=Sn();function h7(n,e,t,r){if(n instanceof Kne){var i=n.scale.type;if(i!=="category"&&i!=="ordinal")return t}var a=n.model,o=a.get("jitter"),s=a.get("jitterOverlap"),l=a.get("jitterMargin")||0,u=n.scale.type==="ordinal"?n.getBandWidth():null;return o>0?s?dre(t,o,u,r):hLe(n,e,t,r,o,l):t}function dre(n,e,t,r){if(t===null)return n+(Math.random()-.5)*e;var i=t-r*2,a=Math.min(Math.max(0,e),i);return n+(Math.random()-.5)*a}function hLe(n,e,t,r,i,a){var o=fLe(n);o.items||(o.items=[]);var s=o.items,l=d7(s,e,t,r,i,a,1),u=d7(s,e,t,r,i,a,-1),c=Math.abs(l-t)<Math.abs(u-t)?l:u,f=n.scale.type==="ordinal"?n.getBandWidth():null,h=Math.abs(c-t);return h>i/2||f&&h>f/2-r?dre(t,i,f,r):(s.push({fixedCoord:e,floatCoord:c,r}),c)}function d7(n,e,t,r,i,a,o){for(var s=t,l=0;l<n.length;l++){var u=n[l],c=e-u.fixedCoord,f=s-u.floatCoord,h=c*c+f*f,d=r+u.r+a;if(h<d*d){var v=u.floatCoord+Math.sqrt(d*d-c*c)*o;if(Math.abs(v-t)>i/2)return Number.MAX_VALUE;if(o===1&&v>s||o===-1&&v<s){s=v,l=-1;continue}}}return s}function dLe(n){n.eachSeriesByType("scatter",function(e){var t=e.coordinateSystem;if(t&&(t.type==="cartesian2d"||t.type==="single")){var r=t.getBaseAxis?t.getBaseAxis():null,i=r&&cLe(e,r);if(i){var a=e.getData();a.each(function(o){var s=r.dim,l=r.orient,u=l==="horizontal"&&r.type!=="category"||l==="vertical"&&r.type==="category",c=a.getItemLayout(o),f=a.getItemVisual(o,"symbolSize"),h=f instanceof Array?(f[1]+f[0])/2:f;if(s==="y"||s==="single"&&u){var d=h7(r,c[0],c[1],h/2);a.setItemLayout(o,[c[0],d])}else if(s==="x"||s==="single"&&!u){var d=h7(r,c[1],c[0],h/2);a.setItemLayout(o,[d,c[1]])}})}}})}function pLe(n){fn(hre),n.registerSeriesModel(hRe),n.registerChartView(gRe),n.registerLayout(Rw("scatter"))}function vLe(n){n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,dLe)}function gLe(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),r=[],i=e.coordinateSystem;if(i){var a=i.getIndicatorAxes();J(a,function(o,s){t.each(t.mapDimension(a[s].dim),function(l,u){r[u]=r[u]||[];var c=i.dataToPoint(l,s);r[u][s]=p7(c)?c:v7(i)})}),t.each(function(o){var s=Hp(r[o],function(l){return p7(l)})||v7(i);r[o].push(s.slice()),t.setItemLayout(o,r[o])})}})}function p7(n){return!isNaN(n[0])&&!isNaN(n[1])}function v7(n){return[n.cx,n.cy]}function mLe(n){var e=n.polar;if(e){Ke(e)||(e=[e]);var t=[];J(e,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],Ke(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):t.push(r)}),n.polar=t}J(n.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var yLe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.coordinateSystem,o=this.group,s=t.getData(),l=this._data;function u(h,d){var v=h.getItemVisual(d,"symbol")||"circle";if(v!=="none"){var g=x_(h.getItemVisual(d,"symbolSize")),y=Vi(v,-1,-1,2,2),x=h.getItemVisual(d,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:x*Math.PI/180||0}),y}}function c(h,d,v,g,y,x){v.removeAll();for(var b=0;b<d.length-1;b++){var T=u(g,y);T&&(T.__dimIdx=b,h[b]?(T.setPosition(h[b]),Lm[x?"initProps":"updateProps"](T,{x:d[b][0],y:d[b][1]},t,y)):T.setPosition(d[b]),v.add(T))}}function f(h){return $e(h,function(d){return[a.cx,a.cy]})}s.diff(l).add(function(h){var d=s.getItemLayout(h);if(d){var v=new fo,g=new Xa,y={shape:{points:d}};v.shape.points=f(d),g.shape.points=f(d),Gr(v,y,t,h),Gr(g,y,t,h);var x=new zt,b=new zt;x.add(g),x.add(v),x.add(b),c(g.shape.points,d,b,s,h,!0),s.setItemGraphicEl(h,x)}}).update(function(h,d){var v=l.getItemGraphicEl(d),g=v.childAt(0),y=v.childAt(1),x=v.childAt(2),b={shape:{points:s.getItemLayout(h)}};b.shape.points&&(c(g.shape.points,b.shape.points,x,s,h,!1),ru(y),ru(g),Gn(g,b,t),Gn(y,b,t),s.setItemGraphicEl(h,v))}).remove(function(h){o.remove(l.getItemGraphicEl(h))}).execute(),s.eachItemGraphicEl(function(h,d){var v=s.getItemModel(d),g=h.childAt(0),y=h.childAt(1),x=h.childAt(2),b=s.getItemVisual(d,"style"),T=b.fill;o.add(h),g.useStyle(Vt(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:T})),ca(g,v,"lineStyle"),ca(y,v,"areaStyle");var M=v.getModel("areaStyle"),C=M.isEmpty()&&M.parentModel.isEmpty();y.ignore=C,J(["emphasis","select","blur"],function(R){var I=v.getModel([R,"areaStyle"]),L=I.isEmpty()&&I.parentModel.isEmpty();y.ensureState(R).ignore=L&&C;var O=v.getModel([R,"lineStyle"]).getLineStyle();g.ensureState(R).style=O;var B=I.getAreaStyle();y.ensureState(R).style=B;var V=v.getModel([R,"itemStyle"]).getItemStyle();x.eachChild(function(F){F.ensureState(R).style=Pt(V)})}),y.useStyle(Vt(v.getModel("areaStyle").getAreaStyle(),{fill:T,opacity:.7,decal:b.decal}));var D=v.getModel("emphasis");x.eachChild(function(R){if(R instanceof Ra){var I=R.style;R.useStyle(je({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},b))}else R.useStyle(b),R.setColor(T),R.style.strokeNoScale=!0;var L=s.getStore().get(s.getDimensionIndex(R.__dimIdx),d);(L==null||isNaN(L))&&(L=""),Na(R,fa(v),{labelFetcher:s.hostModel,labelDataIndex:d,labelDimIndex:R.__dimIdx,defaultText:L,inheritColor:T,defaultOpacity:b.opacity})}),ti(h,D.get("focus"),D.get("blurScope"),D.get("disabled"))}),this._data=s},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e})(vr),xLe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new M_(mt(this.getData,this),mt(this.getRawData,this))},e.prototype.getInitialData=function(t,r){return T_(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=Xee(this,t);return ea("section",{header:u,sortBlocks:!0,blocks:$e(s,function(f){var h=a.get(a.mapDimension(f.dim),t);return ea("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var r=this.getData(),i=this.coordinateSystem,a=r.getValues($e(i.dimensions,function(u){return r.mapDimension(u)}),t),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var l=i.getIndicatorAxes();return i.coordToPoint(l[o].dataToCoord(a[o]),o)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e})(_r),Ib=Zne.value;function YA(n,e){return Vt({show:e},n)}var _Le=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),h=this.get("triggerEvent"),d=$e(this.get("indicator")||[],function(v){v.max!=null&&v.max>0&&!v.min?v.min=0:v.min!=null&&v.min<0&&!v.max&&(v.max=0);var g=l;v.color!=null&&(g=Vt({color:v.color},l));var y=sn(Pt(v),{boundaryGap:t,splitNumber:r,scale:i,axisLine:a,axisTick:o,axisLabel:s,name:v.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:g,triggerEvent:h},!1);if(vt(c)){var x=y.name;y.name=c.replace("{value}",x??"")}else Nt(c)&&(y.name=c(y.name,y));var b=new Tn(y,null,this.ecModel);return Ci(b,S_.prototype),b.mainType="radar",b.componentIndex=this.componentIndex,b},this);this._indicatorModels=d},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"50%",startAngle:90,axisName:{show:!0,color:De.color.axisLabel},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:sn({lineStyle:{color:De.color.neutral20}},Ib.axisLine),axisLabel:YA(Ib.axisLabel,!1),axisTick:YA(Ib.axisTick,!1),splitLine:YA(Ib.splitLine,!0),splitArea:YA(Ib.splitArea,!0),indicator:[]},e})(bn),bLe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=this.group;a.removeAll(),this._buildAxes(t,i),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t,r){var i=t.coordinateSystem,a=i.getIndicatorAxes(),o=$e(a,function(s){var l=s.model.get("showName")?s.name:"",u=new hs(s.model,r,{axisName:l,position:[i.cx,i.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});J(o,function(s){s.build(),this.group.add(s.group)},this)},e.prototype._buildSplitLineAndArea=function(t){var r=t.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var a=t.get("shape"),o=t.getModel("splitLine"),s=t.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),h=l.get("color"),d=u.get("color"),v=Ke(h)?h:[h],g=Ke(d)?d:[d],y=[],x=[];function b(Y,H,W){var q=W%H.length;return Y[q]=Y[q]||[],q}if(a==="circle")for(var T=i[0].getTicksCoords(),M=r.cx,C=r.cy,D=0;D<T.length;D++){if(c){var R=b(y,v,D);y[R].push(new wf({shape:{cx:M,cy:C,r:T[D].coord}}))}if(f&&D<T.length-1){var R=b(x,g,D);x[R].push(new u_({shape:{cx:M,cy:C,r0:T[D].coord,r:T[D+1].coord}}))}}else for(var I,L=$e(i,function(Y,H){var W=Y.getTicksCoords();return I=I==null?W.length-1:Math.min(W.length-1,I),$e(W,function(q){return r.coordToPoint(q.coord,H)})}),O=[],D=0;D<=I;D++){for(var B=[],V=0;V<i.length;V++)B.push(L[V][D]);if(B[0]&&B.push(B[0].slice()),c){var R=b(y,v,D);y[R].push(new Xa({shape:{points:B}}))}if(f&&O){var R=b(x,g,D-1);x[R].push(new fo({shape:{points:B.concat(O)}}))}O=B.slice().reverse()}var F=l.getLineStyle(),k=u.getAreaStyle();J(x,function(Y,H){this.group.add(il(Y,{style:Vt({stroke:"none",fill:g[H%g.length]},k),silent:!0}))},this),J(y,function(Y,H){this.group.add(il(Y,{style:Vt({fill:"none",stroke:v[H%v.length]},F),silent:!0}))},this)},e.type="radar",e})(Rr),SLe=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this,t,r,i)||this;return a.type="value",a.angle=0,a.name="",a}return e})(su),wLe=(function(){function n(e,t,r){this.dimensions=[],this._model=e,this._indicatorAxes=$e(e.getIndicatorModels(),function(i,a){var o="indicator_"+a,s=new SLe(o,new Xh);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(e,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var r=this._indicatorAxes[t];return this.coordToPoint(r.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t],i=r.angle,a=this.cx+e*Math.cos(i),o=this.cy-e*Math.sin(i);return[a,o]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=Math.sqrt(t*t+r*r);t/=i,r/=i;for(var a=Math.atan2(-r,t),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(i))]},n.prototype.resize=function(e,t){var r=ha(e,t).refContainer,i=e.get("center"),a=Math.min(r.width,r.height)/2;this.cx=pt(i[0],r.width)+r.x,this.cy=pt(i[1],r.height)+r.y,this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");(vt(o)||Pn(o))&&(o=[0,o]),this.r0=pt(o[0],a),this.r=pt(o[1],a),J(this._indicatorAxes,function(s,l){s.setExtent(this.r0,this.r);var u=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),s.angle=u},this)},n.prototype.update=function(e,t){var r=this._indicatorAxes,i=this._model;J(r,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||e.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();J(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),o=new Xh;o.setExtent(0,a),o.setInterval(1),J(r,function(s,l){ore(s.scale,s.model,o)})},n.prototype.convertToPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var r=[];return e.eachComponent("radar",function(i){var a=new n(i,e,t);r.push(a),i.coordinateSystem=a}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},n.dimensions=[],n})();function TLe(n){n.registerCoordinateSystem("radar",wLe),n.registerComponentModel(_Le),n.registerComponentView(bLe),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(r){t.setItemVisual(r,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function MLe(n){fn(TLe),n.registerChartView(yLe),n.registerSeriesModel(xLe),n.registerLayout(gLe),n.registerProcessor(w_("radar")),n.registerPreprocessor(mLe)}var XB=Sn();function ALe(n,e,t){XB(n)[e]=t}function CLe(n,e,t){var r=XB(n),i=r[e];i===t&&(r[e]=null)}function g7(n,e){return!!XB(n)[e]}ic({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Mi);var ELe={axisPointer:1,tooltip:1,brush:1};function pre(n,e,t){var r=e.getComponentByElement(n.topTarget);if(!r||r===t||ELe.hasOwnProperty(r.mainType))return!1;var i=r.coordinateSystem;if(!i||i.model===t)return!1;var a=_m(r),o=_m(t);return!((a.zlevel-o.zlevel||a.z-o.z)<=0)}var km=(function(n){Oe(e,n);function e(t){var r=n.call(this)||this;r._zr=t;var i=mt(r._mousedownHandler,r),a=mt(r._mousemoveHandler,r),o=mt(r._mouseupHandler,r),s=mt(r._mousewheelHandler,r),l=mt(r._pinchHandler,r);return r.enable=function(u,c){var f=c.zInfo,h=_m(f.component),d=h.z,v=h.zlevel,g={component:f.component,z:d,zlevel:v,z2:At(f.z2,-1/0)},y=je({},c.triggerInfo);this._opt=Vt(je({},c),{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0,zInfoParsed:g,triggerInfo:y}),u==null&&(u=!0),(!this._enabled||this._controlType!==u)&&(this._enabled=!0,this.disable(),(u===!0||u==="move"||u==="pan")&&(Pb(t,"mousedown",i,g),Pb(t,"mousemove",a,g),Pb(t,"mouseup",o,g)),(u===!0||u==="scale"||u==="zoom")&&(Pb(t,"mousewheel",s,g),Pb(t,"pinch",l,g)))},r.disable=function(){this._enabled=!1,zb(t,"mousedown",i),zb(t,"mousemove",a),zb(t,"mouseup",o),zb(t,"mousewheel",s),zb(t,"pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype._checkPointer=function(t,r,i){var a=this._opt,o=a.zInfoParsed;if(pre(t,a.api,o.component))return!1;var s=a.triggerInfo,l=s.roamTrigger,u=!1;return l==="global"&&(u=!0),u||(u=s.isInSelf(t,r,i)),u&&s.isInClip&&!s.isInClip(t,r,i)&&(u=!1),u},e.prototype._decideCursorStyle=function(t,r,i,a){var o=t.target;if(!o&&this._checkPointer(t,r,i))return"grab";if(a)return o&&o.cursor||"default"},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(kG(t)||Ob(t))){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=t.offsetX,a=t.offsetY;this._checkPointer(t,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){var r=this._zr;if(!(t.gestureEvent==="pinch"||g7(r,"globalPan")||Ob(t))){var i=t.offsetX,a=t.offsetY;if(!this._dragging||!zC("moveOnMouseMove",t,this._opt)){var o=this._decideCursorStyle(t,i,a,!1);o&&r.setCursorStyle(o);return}r.setCursorStyle("grabbing");var s=this._x,l=this._y,u=i-s,c=a-l;this._x=i,this._y=a,this._opt.preventDefaultMouseMove&&Gh(t.event),t.__ecRoamConsumed=!0,m7(this,"pan","moveOnMouseMove",t,{dx:u,dy:c,oldX:s,oldY:l,newX:i,newY:a,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){if(!Ob(t)){var r=this._zr;if(!kG(t)){this._dragging=!1;var i=this._decideCursorStyle(t,t.offsetX,t.offsetY,!0);i&&r.setCursorStyle(i)}}},e.prototype._mousewheelHandler=function(t){if(!Ob(t)){var r=zC("zoomOnMouseWheel",t,this._opt),i=zC("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,o=Math.abs(a),s=t.offsetX,l=t.offsetY;if(!(a===0||!r&&!i)){if(r){var u=o>3?1.4:o>1?1.2:1.1,c=a>0?u:1/u;this._checkTriggerMoveZoom(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),h=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);this._checkTriggerMoveZoom(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:h,originX:s,originY:l,isAvailableBehavior:null})}}}},e.prototype._pinchHandler=function(t){if(!(g7(this._zr,"globalPan")||Ob(t))){var r=t.pinchScale>1?1.1:1/1.1;this._checkTriggerMoveZoom(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e.prototype._checkTriggerMoveZoom=function(t,r,i,a,o){t._checkPointer(a,o.originX,o.originY)&&(Gh(a.event),a.__ecRoamConsumed=!0,m7(t,r,i,a,o))},e})(au);function Ob(n){return n.__ecRoamConsumed}var DLe=Sn();function DN(n){var e=DLe(n);return e.roam=e.roam||{},e.uniform=e.uniform||{},e}function Pb(n,e,t,r){for(var i=DN(n),a=i.roam,o=a[e]=a[e]||[],s=0;s<o.length;s++){var l=o[s].zInfoParsed;if((l.zlevel-r.zlevel||l.z-r.z||l.z2-r.z2)<=0)break}o.splice(s,0,{listener:t,zInfoParsed:r}),NLe(n,e)}function zb(n,e,t){for(var r=DN(n),i=r.roam[e]||[],a=0;a<i.length;a++)if(i[a].listener===t){i.splice(a,1),i.length||RLe(n,e);return}}function NLe(n,e){var t=DN(n);t.uniform[e]||n.on(e,t.uniform[e]=function(r){var i=t.roam[e];if(i)for(var a=0;a<i.length;a++)i[a].listener(r)})}function RLe(n,e){var t=DN(n),r=t.uniform;r[e]&&(n.off(e,r[e]),r[e]=null)}function m7(n,e,t,r,i){i.isAvailableBehavior=mt(zC,null,t,r),n.trigger(e,i)}function zC(n,e,t){var r=t[n];return!n||r&&(!vt(r)||e.event[r+"Key"])}function qB(n,e,t){var r=n.target;r.x+=e,r.y+=t,r.dirty()}function ZB(n,e,t,r){var i=n.target,a=n.zoomLimit,o=n.zoom=n.zoom||1;o*=e,o=KB(o,a);var s=o/n.zoom;n.zoom=o,gre(i,t,r,s),i.dirty()}function vre(n,e,t,r,i,a){var o=new Wt(0,0,0,0);r.enable(n.get("roam"),{api:e,zInfo:{component:n},triggerInfo:{roamTrigger:n.get("roamTrigger"),isInSelf:function(u,c,f){return o.copy(t.getBoundingRect()),o.applyTransform(t.getComputedTransform()),o.contain(c,f)},isInClip:function(u,c,f){return!a||a.contain(c,f)}}}),i.zoomLimit=n.get("scaleLimit");var s=n.coordinateSystem;i.zoom=s?s.getZoom():1;var l=n.subType+"Roam";r.off("pan").off("zoom").on("pan",function(u){qB(i,u.dx,u.dy),e.dispatchAction({seriesId:n.id,type:l,dx:u.dx,dy:u.dy})}).on("zoom",function(u){ZB(i,u.scale,u.originX,u.originY),e.dispatchAction({seriesId:n.id,type:l,zoom:u.scale,originX:u.originX,originY:u.originY}),e.updateLabelLayout()})}function y7(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function NN(n,e,t){var r=n.getZoom(),i=n.getCenter(),a=e.zoom,o=n.projectedToPoint?n.projectedToPoint(i):n.dataToPoint(i);return e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,n.setCenter(y7(n,o))),a!=null&&(a=KB(r*a,t)/r,gre(n,e.originX,e.originY,a),n.updateTransform(),n.setCenter(y7(n,o)),n.setZoom(a*r)),{center:n.getCenter(),zoom:n.getZoom()}}function gre(n,e,t,r){n.x-=(e-n.x)*(r-1),n.y-=(t-n.y)*(r-1),n.scaleX*=r,n.scaleY*=r}function KB(n,e){if(e){var t=e.min||0,r=e.max||1/0;n=Math.max(Math.min(r,n),t)}return n}function mre(n){if(vt(n)){var e=new DOMParser;n=e.parseFromString(n,"text/xml")}var t=n;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var uO,z3={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},x7=Rn(z3),k3={"alignment-baseline":"textBaseline","stop-color":"stopColor"},_7=Rn(k3),LLe=(function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var r=mre(e);this._defsUsePending=[];var i=new zt;this._root=i;var a=[],o=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||t.width),l=parseFloat(r.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),el(r,i,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;PLe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var h=RN(o);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&s!=null&&l!=null&&(f=xre(c,{x:0,y:0,width:s,height:l}),!t.ignoreViewBox)){var d=i;i=new zt,i.add(d),d.scaleX=d.scaleY=f.scale,d.x=f.x,d.y=f.y}return!t.ignoreRootClip&&s!=null&&l!=null&&i.setClipPath(new mn({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},n.prototype._parseNode=function(e,t,r,i,a,o){var s=e.nodeName.toLowerCase(),l,u=i;if(s==="defs"&&(a=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=t;else{if(!a){var c=uO[s];if(c&&St(uO,s)){l=c.call(this,e,t);var f=e.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:s,el:l};r.push(h),s==="g"&&(u=h)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});t.add(l)}}var d=b7[s];if(d&&St(b7,s)){var v=d.call(this,e),g=e.getAttribute("id");g&&(this._defs[g]=v)}}if(l&&l.isGroup)for(var y=e.firstChild;y;)y.nodeType===1?this._parseNode(y,l,r,u,a,o):y.nodeType===3&&o&&this._parseText(y,l),y=y.nextSibling},n.prototype._parseText=function(e,t){var r=new Ox({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Ul(t,r),el(e,r,this._defsUsePending,!1,!1),ILe(r,t);var i=r.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,r.scaleX*=a/9,r.scaleY*=a/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=r.getBoundingRect();return this._textX+=s.width,t.add(r),r},n.internalField=(function(){uO={g:function(e,t){var r=new zt;return Ul(t,r),el(e,r,this._defsUsePending,!1,!1),r},rect:function(e,t){var r=new mn;return Ul(t,r),el(e,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(e,t){var r=new wf;return Ul(t,r),el(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),r.silent=!0,r},line:function(e,t){var r=new Bi;return Ul(t,r),el(e,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(e,t){var r=new _w;return Ul(t,r),el(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(e,t){var r=e.getAttribute("points"),i;r&&(i=T7(r));var a=new fo({shape:{points:i||[]},silent:!0});return Ul(t,a),el(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,t){var r=e.getAttribute("points"),i;r&&(i=T7(r));var a=new Xa({shape:{points:i||[]},silent:!0});return Ul(t,a),el(e,a,this._defsUsePending,!1,!1),a},image:function(e,t){var r=new Ra;return Ul(t,r),el(e,r,this._defsUsePending,!1,!1),r.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),r.silent=!0,r},text:function(e,t){var r=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var s=new zt;return Ul(t,s),el(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,t){var r=e.getAttribute("x"),i=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var a=e.getAttribute("dx")||"0",o=e.getAttribute("dy")||"0",s=new zt;return Ul(t,s),el(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(e,t){var r=e.getAttribute("d")||"",i=P$(r);return Ul(t,i),el(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}})(),n})(),b7={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),i=parseInt(n.getAttribute("y2")||"0",10),a=new Rm(e,t,r,i);return S7(n,a),w7(n,a),a},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),i=new Uk(e,t,r);return S7(n,i),w7(n,i),i}};function S7(n,e){var t=n.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function w7(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var r=t.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var a={};yre(t,a,a);var o=a.stopColor||t.getAttribute("stop-color")||"#000000",s=a.stopOpacity||t.getAttribute("stop-opacity");if(s){var l=Bo(o),u=l&&l[3];u&&(l[3]*=Rh(s),o=Jl(l,"rgba"))}e.colorStops.push({offset:i,color:o})}t=t.nextSibling}}function Ul(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Vt(e.__inheritedStyle,n.__inheritedStyle))}function T7(n){for(var e=RN(n),t=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),a=parseFloat(e[r+1]);t.push([i,a])}return t}function el(n,e,t,r,i){var a=e,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};n.nodeType===1&&(BLe(n,e),yre(n,o,s),r||ULe(n,o,s)),a.style=a.style||{},o.fill!=null&&(a.style.fill=M7(a,"fill",o.fill,t)),o.stroke!=null&&(a.style.stroke=M7(a,"stroke",o.stroke,t)),J(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(a.style[l]=parseFloat(o[l]))}),J(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(a.style[l]=o[l])}),i&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=$e(RN(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function ILe(n,e){var t=e.__selfStyle;if(t){var r=t.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),n.style.textBaseline=i}var a=e.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&(o==="middle"&&(s="center"),n.style.textAlign=s)}}var OLe=/^url\(\s*#(.*?)\)/;function M7(n,e,t,r){var i=t&&t.match(OLe);if(i){var a=ol(i[1]);r.push([n,e,a]);return}return t==="none"&&(t=null),t}function PLe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r[0].style[r[1]]=n[r[2]]}}var zLe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function RN(n){return n.match(zLe)||[]}var kLe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,cO=Math.PI/180;function BLe(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var r=[],i=null;t.replace(kLe,function(f,h,d){return r.push(h,d),""});for(var a=r.length-1;a>0;a-=2){var o=r[a],s=r[a-1],l=RN(o);switch(i=i||Ma(),s){case"translate":$u(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":rN(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Zh(i,i,-parseFloat(l[0])*cO,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*cO);Yu(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*cO);Yu(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var A7=/([^\s:;]+)\s*:\s*([^:;]+)/g;function yre(n,e,t){var r=n.getAttribute("style");if(r){A7.lastIndex=0;for(var i;(i=A7.exec(r))!=null;){var a=i[1],o=St(z3,a)?z3[a]:null;o&&(e[o]=i[2]);var s=St(k3,a)?k3[a]:null;s&&(t[s]=i[2])}}}function ULe(n,e,t){for(var r=0;r<x7.length;r++){var i=x7[r],a=n.getAttribute(i);a!=null&&(e[z3[i]]=a)}for(var r=0;r<_7.length;r++){var i=_7[r],a=n.getAttribute(i);a!=null&&(t[k3[i]]=a)}}function xre(n,e){var t=e.width/n.width,r=e.height/n.height,i=Math.min(t,r);return{scale:i,x:-(n.x+n.width/2)*i+(e.x+e.width/2),y:-(n.y+n.height/2)*i+(e.y+e.height/2)}}function VLe(n,e){var t=new LLe;return t.parse(n,e)}var FLe=Tt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GLe=(function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=Tt(),this._freedGraphics=[],this._mapName=e,this._parsedXML=mre(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=jLe(e.named),r=t.regions,i=t.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,r;try{t=e&&VLe(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=t.root,uo(r!=null)}catch(y){throw new Error(`Invalid svg format
`+y.message)}var i=new zt;i.add(r),i.isGeoSVGGraphicRoot=!0;var a=t.width,o=t.height,s=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,h=void 0;if(a!=null?(u=0,f=a):s&&(u=s.x,f=s.width),o!=null?(c=0,h=o):s&&(c=s.y,h=s.height),u==null||c==null){var d=r.getBoundingRect();u==null&&(u=d.x,f=d.width),c==null&&(c=d.y,h=d.height)}l=this._boundingRect=new Wt(u,c,f,h)}if(s){var v=xre(s,l);r.scaleX=r.scaleY=v.scale,r.x=v.x,r.y=v.y}i.setClipPath(new mn({shape:l.plain()}));var g=[];return J(t.named,function(y){FLe.get(y.svgNodeTagLower)!=null&&(g.push(y),HLe(y.el))}),{root:i,boundingRect:l,named:g}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,r),r)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);r&&(t.removeKey(e),this._freedGraphics.push(r))},n})();function HLe(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}function jLe(n){var e=[],t=Tt();return J(n,function(r){if(r.namedFrom==null){var i=new J3e(r.name,r.el);e.push(i),t.set(r.name,i)}}),{regions:e,regionsMap:t}}var b4=[126,25],C7="",Lg=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Ag=0;Ag<Lg.length;Ag++)for(var Ly=0;Ly<Lg[Ag].length;Ly++)Lg[Ag][Ly][0]/=10.5,Lg[Ag][Ly][1]/=-10.5/.75,Lg[Ag][Ly][0]+=b4[0],Lg[Ag][Ly][1]+=b4[1];function WLe(n,e){if(n==="china"){for(var t=0;t<e.length;t++)if(e[t].name===C7)return;e.push(new tne(C7,$e(Lg,function(r){return{type:"polygon",exterior:r}}),b4))}}var YLe={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function XLe(n,e){if(n==="china"){var t=YLe[e.name];if(t){var r=e.getCenter();r[0]+=t[0]/10.5,r[1]+=-t[1]/(10.5/.75),e.setCenter(r)}}}var qLe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function ZLe(n,e){n==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:qLe[0]})}var KLe="name",JLe=(function(){function n(e,t,r){this.type="geoJSON",this._parsedMap=Tt(),this._mapName=e,this._specialAreas=r,this._geoJSON=$Le(t)}return n.prototype.load=function(e,t){t=t||KLe;var r=this._parsedMap.get(t);if(!r){var i=this._parseToRegions(t);r=this._parsedMap.set(t,{regions:i,boundingRect:QLe(i)})}var a=Tt(),o=[];return J(r.regions,function(s){var l=s.name;e&&St(e,l)&&(s=s.cloneShallow(l=e[l])),o.push(s),a.set(l,s)}),{regions:o,boundingRect:r.boundingRect||new Wt(0,0,0,0),regionsMap:a}},n.prototype._parseToRegions=function(e){var t=this._mapName,r=this._geoJSON,i;try{i=r?i4(r,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return WLe(t,i),J(i,function(a){var o=a.name;XLe(t,a),ZLe(t,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),i},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n})();function QLe(n){for(var e,t=0;t<n.length;t++){var r=n[t].getBoundingRect();e=e||r.clone(),e.union(r)}return e}function $Le(n){return vt(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var kb=Tt();const qh={registerMap:function(n,e,t){if(e.svg){var r=new GLe(n,e.svg);kb.set(n,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?t=e.specialAreas:i=e;var r=new JLe(n,i,t);kb.set(n,r)}},getGeoResource:function(n){return kb.get(n)},getMapForUser:function(n){var e=kb.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(n,e,t){var r=kb.get(n);if(r)return r.load(e,t)}};var JB=["rect","circle","line","ellipse","polygon","polyline","path"],eIe=Tt(JB),tIe=Tt(JB.concat(["g"])),nIe=Tt(JB.concat(["g"])),_re=Sn();function XA(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function E7(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var bre=(function(){function n(e){var t=this.group=new zt,r=this._transformGroup=new zt;t.add(r),this.uid=p_("ec_map_draw"),this._controller=new km(e.getZr()),this._controllerHost={target:r},r.add(this._regionsGroup=new zt),r.add(this._svgGroup=new zt)}return n.prototype.draw=function(e,t,r,i,a){var o=e.mainType==="geo",s=e.getData&&e.getData();o&&t.eachComponent({mainType:"series",subType:"map"},function(T){!s&&T.getHostGeoModel()===e&&(s=T.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this._transformGroup,f=l.getTransformInfo(),h=f.raw,d=f.roam,v=!u.childAt(0)||a,g=e.getShallow("clip",!0),y;g?(y=l.getViewRect().clone(),this.group.setClipPath(new mn({shape:y.clone()}))):this.group.removeClipPath(),v?(c.x=d.x,c.y=d.y,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.dirty()):Gn(c,d,e);var x=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,b={api:r,geo:l,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:x,isGeo:o,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(b):l.resourceType==="geoSVG"&&this._buildSVG(b),this._updateController(e,y,t,r),this._updateMapSelectHandler(e,u,r,i)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Tt(),r=Tt(),i=this._regionsGroup,a=e.transformInfoRaw,o=e.mapOrGeoModel,s=e.data,l=e.geo.projection,u=l&&l.stream;function c(d,v){return v&&(d=v(d)),d&&[d[0]*a.scaleX+a.x,d[1]*a.scaleY+a.y]}function f(d){for(var v=[],g=!u&&l&&l.project,y=0;y<d.length;++y){var x=c(d[y],g);x&&v.push(x)}return v}function h(d){return{shape:{points:f(d)}}}i.removeAll(),J(e.geo.regions,function(d){var v=d.name,g=t.get(v),y=r.get(v)||{},x=y.dataIdx,b=y.regionModel;if(!g){g=t.set(v,new zt),i.add(g),x=s?s.indexOfName(v):null,b=e.isGeo?o.getRegionModel(v):s?s.getItemModel(x):null;var T=b.get("silent",!0);T!=null&&(g.silent=T),r.set(v,{dataIdx:x,regionModel:b})}var M=[],C=[];J(d.geometries,function(I){if(I.type==="polygon"){var L=[I.exterior].concat(I.interiors||[]);u&&(L=O7(L,u)),J(L,function(B){M.push(new fo(h(B)))})}else{var O=I.points;u&&(O=O7(O,u,!0)),J(O,function(B){C.push(new Xa(h(B)))})}});var D=c(d.getCenter(),l&&l.project);function R(I,L){if(I.length){var O=new Sw({culling:!0,segmentIgnoreThreshold:1,shape:{paths:I}});g.add(O),D7(e,O,x,b),N7(e,O,v,b,o,x,D),L&&(E7(O),J(O.states,E7))}}R(M),R(C,!0)}),t.each(function(d,v){var g=r.get(v),y=g.dataIdx,x=g.regionModel;R7(e,d,v,x,o,y),L7(e,d,v,x,o),I7(e,d,v,x,o)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,r=e.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=Tt(),a=!1;J(this._svgGraphicRecord.named,function(o){var s=o.name,l=e.mapOrGeoModel,u=e.data,c=o.svgNodeTagLower,f=o.el,h=u?u.indexOfName(s):null,d=l.getRegionModel(s);eIe.get(c)!=null&&f instanceof nu&&D7(e,f,h,d),f instanceof nu&&(f.culling=!0);var v=d.get("silent",!0);if(v!=null&&(f.silent=v),f.z2EmphasisLift=0,!o.namedFrom&&(nIe.get(c)!=null&&N7(e,f,s,d,l,h,null),R7(e,f,s,d,l,h),L7(e,f,s,d,l),tIe.get(c)!=null)){var g=I7(e,f,s,d,l);g==="self"&&(a=!0);var y=i.get(s)||i.set(s,[]);y.push(f)}},this),this._enableBlurEntireSVG(a,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){ym(a);var o=a.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),a.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var r=t.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(e);return a?[a]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=qh.getGeoResource(e);if(t&&t.type==="geoSVG"){var r=t.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=qh.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,r,i){var a=e.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=a.getZoom(),o.enable(e.get("roam")||!1,{api:i,zInfo:{component:e},triggerInfo:{roamTrigger:e.get("roamTrigger"),isInSelf:function(c,f,h){return a.containPoint([f,h])},isInClip:function(c,f,h){return!t||t.contain(f,h)}}});var l=e.mainType;function u(){var c={type:"geoRoam",componentType:l};return c[l+"Id"]=e.id,c}o.off("pan").on("pan",function(c){this._mouseDownFlag=!1,qB(s,c.dx,c.dy),i.dispatchAction(je(u(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,ZB(s,c.scale,c.originX,c.originY),i.dispatchAction(je(u(),{totalZoom:s.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this)},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=_re(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,r,i){var a=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},n})();function D7(n,e,t,r){var i=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=XA(i),u=XA(a),c=XA(s),f=XA(o),h=n.data;if(h){var d=h.getItemVisual(t,"style"),v=h.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),v&&(l.decal=Bx(v,n.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=f,ym(e)}function N7(n,e,t,r,i,a,o){var s=n.data,l=n.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?t:a,h=void 0;(!s||a>=0)&&(h=i);var d=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Na(e,fa(r),{labelFetcher:h,labelDataIndex:f,defaultText:t},d);var v=e.getTextContent();if(v&&(_re(v).ignore=v.ignore,e.textConfig&&o)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(o[0]-g.x)/g.width*100+"%",(o[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function R7(n,e,t,r,i,a){n.data?n.data.setItemGraphicEl(a,e):Xt(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:t,region:r&&r.option||{}}}function L7(n,e,t,r,i){n.data||Jh({el:e,componentModel:i,itemName:t,itemTooltipOption:r.get("tooltip")})}function I7(n,e,t,r,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var a=r.getModel("emphasis"),o=a.get("focus");return ti(e,o,a.get("blurScope"),a.get("disabled")),n.isGeo&&qTe(e,i,t),o}function O7(n,e,t){var r=[],i;function a(){i=[]}function o(){i.length&&(r.push(i),i=[])}var s=e({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!t&&s.polygonStart(),J(n,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!t&&s.polygonEnd(),r}var rIe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===t.id){var s=this._mapDraw;s&&o.add(s.group)}else if(t.needsDrawMap){var s=this._mapDraw||new bre(i);o.add(s.group),s.draw(t,r,i,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(t,r,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,r,i){var a=t.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,h=new wf({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:l_+1)});if(!f){var d=t.mainSeries.getData(),v=a.getName(l),g=d.indexOfName(v),y=a.getItemModel(l),x=y.getModel("label"),b=d.getItemGraphicEl(g);Na(h,fa(y),{labelFetcher:{getFormattedLabel:function(T,M){return t.getFormattedLabel(g,M)}},defaultText:v}),h.disableLabelAnimation=!0,x.get("position")||h.setTextConfig({position:"bottom"}),b.onHoverStateChange=function(T){c3(h,T)}}o.add(h)}}})},e.type="map",e})(vr),iIe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),a=this.coordinateSystem,o=a.getRegion(i);return o&&a.dataToPoint(o.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var r=T_(this,{coordDimensions:["value"],encodeDefaulter:tn(lB,this)}),i=Tt(),a=[],o=0,s=r.count();o<s;o++){var l=r.getName(o);i.set(l,o)}var u=qh.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return J(u.regions,function(c){var f=c.name,h=i.get(f),d=c.properties&&c.properties.echartsStyle,v;h==null?(v={name:f},a.push(v)):v=r.getRawDataItem(h),d&&sn(v,d)}),r.appendData(a),r},e.prototype.getHostGeoModel=function(){if(cee(this).kind!==Jc.boxCoordSys)return this.getReferringComponents("geo",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0]},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var r=this.getData();return r.get(r.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var r=this.getData();return r.getItemModel(r.indexOfName(t))},e.prototype.formatTooltip=function(t,r,i){for(var a=this.getData(),o=this.getRawValue(t),s=a.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),h=a.mapDimension("value");isNaN(l[c].originalData.get(h,f))||u.push(l[c].name)}return ea("section",{header:u.join(", "),noHeader:!u.length,blocks:[ea("nameValue",{name:s,value:o})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var r=t.icon||"roundRect",i=Vi(r,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill=De.color.neutral00,i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:De.color.tertiary},itemStyle:{borderWidth:.5,borderColor:De.color.border,areaColor:De.color.background},emphasis:{label:{show:!0,color:De.color.primary},itemStyle:{areaColor:De.color.highlight}},select:{label:{show:!0,color:De.color.primary},itemStyle:{color:De.color.highlight}},nameProperty:"name"},e})(_r);function aIe(n,e){var t={};return J(n,function(r){r.each(r.mapDimension("value"),function(i,a){var o="ec-"+r.getName(a);t[o]=t[o]||[],isNaN(i)||t[o].push(i)})}),n[0].map(n[0].mapDimension("value"),function(r,i){for(var a="ec-"+n[0].getName(i),o=0,s=1/0,l=-1/0,u=t[a].length,c=0;c<u;c++)s=Math.min(s,t[a][c]),l=Math.max(l,t[a][c]),o+=t[a][c];var f;return e==="min"?f=s:e==="max"?f=l:e==="average"?f=o/u:f=o,u===0?NaN:f})}function oIe(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getHostGeoModel(),i=r?"o"+r.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),J(e,function(t,r){for(var i=aIe($e(t,function(o){return o.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(i.cloneShallow()),t[a].mainSeries=t[0]})}function sIe(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getMapType();if(!(t.getHostGeoModel()||e[r])){var i={};J(t.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),h=s.getRegion(f);if(!(!h||isNaN(u))){var d=i[f]||0,v=s.dataToPoint(h.getCenter());i[f]=d+1,l.setItemLayout(c,{point:v,offset:d})}})});var a=t.getData();a.each(function(o){var s=a.getName(o),l=a.getItemLayout(o)||{};l.showLabel=!i[s],a.setItemLayout(o,l)}),e[r]=!0}})}var P7=Ai,Bm=(function(n){Oe(e,n);function e(t,r){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new Eh,i._rawTransformable=new Eh,i.name=t,i._opt=r,i}return e.prototype.setBoundingRect=function(t,r,i,a){return this._rect=new Wt(t,r,i,a),this._updateCenterAndZoom(),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,r,i,a){this._transformTo(t,r,i,a),this._viewRect=new Wt(t,r,i,a)},e.prototype._transformTo=function(t,r,i,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new Wt(t,r,i,a));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},e.prototype.setCenter=function(t){var r=this._opt;r&&r.api&&r.ecModel&&r.ecModel.getShallow("legacyViewCoordSysCenterBase")&&t&&(t=[pt(t[0],r.api.getWidth()),pt(t[1],r.api.getWidth())]),this._centerOption=Pt(t),this._updateCenterAndZoom()},e.prototype.setZoom=function(t){this._zoom=KB(t||1,this.zoomLimit),this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),r=t.x+t.width/2,i=t.y+t.height/2;return[r,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._centerOption,r=this._rect;t&&r&&(this._center=[pt(t[0],r.width,r.x),pt(t[1],r.height,r.y)]);var i=this._rawTransformable.getLocalTransform(),a=this._roamTransformable,o=this.getDefaultCenter(),s=this.getCenter(),l=this.getZoom();s=Ai([],s,i),o=Ai([],o,i),a.originX=s[0],a.originY=s[1],a.x=o[0]-s[0],a.y=o[1]-s[1],a.scaleX=a.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,r=this._rawTransformable;r.parent=t,t.updateTransform(),r.updateTransform(),mw(this.transform||(this.transform=[]),r.transform||Ma()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],tu(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,r=this._roamTransformable,i=new Eh;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,r,i){var a=r?this._rawTransform:this.transform;return i=i||[],a?P7(i,t,a):Ro(i,t)},e.prototype.pointToData=function(t,r,i){i=i||[];var a=this.invTransform;return a?P7(i,t,a):(i[0]=t[0],i[1]=t[1],i)},e.prototype.convertToPixel=function(t,r,i){var a=z7(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var a=z7(r);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e})(Eh);function z7(n){var e=n.seriesModel;return e?e.coordinateSystem:null}var lIe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Sre=["lng","lat"],S4=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this,t,{api:i.api,ecModel:i.ecModel})||this;a.dimensions=Sre,a.type="geo",a._nameCoordMap=Tt(),a.map=r;var o=i.projection,s=qh.load(r,i.nameMap,i.nameProperty),l=qh.getGeoResource(r);a.resourceType=l?l.type:null;var u=a.regions=s.regions,c=lIe[l.type];a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o;var f;if(o)for(var h=0;h<u.length;h++){var d=u[h].getBoundingRect(o);f=f||d.clone(),f.union(d)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:At(i.aspectScale,c.aspectScale),a._invertLongitute=o?!1:c.invertLongitute,a}return e.prototype._transformTo=function(t,r,i,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new Wt(t,r,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var r=this.regions,i=0;i<r.length;i++){var a=r[i];if(a.type==="geoJSON"&&a.contain(t))return r[i]}},e.prototype.addGeoCoord=function(t,r){this._nameCoordMap.set(t,r)},e.prototype.getGeoCoord=function(t){var r=this._regionsMap.get(t);return this._nameCoordMap.get(t)||r&&r.getCenter()},e.prototype.dataToPoint=function(t,r,i){if(vt(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,r,i)}},e.prototype.pointToData=function(t,r,i){var a=this.projection;return a&&(t=a.unproject(t)),t&&this.pointToProjected(t,i)},e.prototype.pointToProjected=function(t,r){return n.prototype.pointToData.call(this,t,0,r)},e.prototype.projectedToPoint=function(t,r,i){return n.prototype.dataToPoint.call(this,t,r,i)},e.prototype.convertToPixel=function(t,r,i){var a=k7(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var a=k7(r);return a===this?a.pointToData(i):null},e})(Bm);Ci(S4,Bm);function k7(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",di).models[0]||{}).coordinateSystem:null}function B7(n,e){var t=n.get("boundingCoords");if(t!=null){var r=t[0],i=t[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=r[0],s=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(C,D,R,I){for(var L=R-C,O=I-D,B=0;B<=100;B++){var V=B/100,F=a.project([C+L*V,D+O*V]);Ah(r,r,F),Ch(i,i,F)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var f=this.getBoundingRect(),h=n.get("layoutCenter"),d=n.get("layoutSize"),v=ha(n,e).refContainer,g=f.width/f.height*this.aspectScale,y=!1,x,b;h&&d&&(x=[pt(h[0],v.width)+v.x,pt(h[1],v.height)+v.y],b=pt(d,Math.min(v.width,v.height)),!isNaN(x[0])&&!isNaN(x[1])&&!isNaN(b)&&(y=!0));var T;if(y)T={},g>1?(T.width=b,T.height=b/g):(T.height=b,T.width=b*g),T.y=x[1]-T.height/2,T.x=x[0]-T.width/2;else{var M=n.getBoxLayoutParams();M.aspect=g,T=Kr(M,v),T=vee(n,T,g)}this.setViewRect(T.x,T.y,T.width,T.height),this.setCenter(n.get("center")),this.setZoom(n.get("zoom"))}function uIe(n,e){J(e.get("geoCoord"),function(t,r){n.addGeoCoord(r,t)})}var cIe=(function(){function n(){this.dimensions=Sre}return n.prototype.create=function(e,t){var r=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}e.eachComponent("geo",function(o,s){var l=o.get("map"),u=new S4(l+s,l,je({nameMap:o.get("nameMap"),api:t,ecModel:e},i(o)));u.zoomLimit=o.get("scaleLimit"),r.push(u),o.coordinateSystem=u,u.model=o,u.resize=B7,u.resize(o,t)}),e.eachSeries(function(o){Mw({targetModel:o,coordSysType:"geo",coordSysProvider:function(){var s=o.subType==="map"?o.getHostGeoModel():o.getReferringComponents("geo",di).models[0];return s&&s.coordinateSystem},allowNotFound:!0})});var a={};return e.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),J(a,function(o,s){var l=$e(o,function(c){return c.get("nameMap")}),u=new S4(s,s,je({nameMap:eN(l),api:t,ecModel:e},i(o[0])));u.zoomLimit=Ya.apply(null,$e(o,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=B7,u.resize(o[0],t),J(o,function(c){c.coordinateSystem=u,uIe(u,c)})}),r},n.prototype.getFilledRegions=function(e,t,r,i){for(var a=(e||[]).slice(),o=Tt(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);var l=qh.load(t,r,i);return J(l.regions,function(u){var c=u.name,f=o.get(c),h=u.properties&&u.properties.echartsStyle;f||(f={name:c},a.push(f)),h&&sn(f,h)}),a},n})(),wre=new cIe,fIe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i);var a=qh.getGeoResource(t.map);if(a&&a.type==="geoJSON"){var o=t.itemStyle=t.itemStyle||{};"color"in o||(o.color=t.defaultItemStyleColor||De.color.backgroundTint)}vm(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,r=this.option;r.regions=wre.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=eu(r.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new Tn(o,t,t.ecModel)),o.selected&&(i[s]=!0)),a},Tt()),r.selectedMap||(r.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Tn(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,r){var i=this.getRegionModel(t),a=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:t};if(Nt(a))return o.status=r,a(o);if(vt(a))return a.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var a=r.selectedMap||(r.selectedMap={});a[t]=!0}},e.prototype.unSelect=function(t){var r=this.option.selectedMap;r&&(r[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var r=this.option.selectedMap;return!!(r&&r[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:De.color.tertiary},itemStyle:{borderWidth:.5,borderColor:De.color.border},emphasis:{label:{show:!0,color:De.color.primary},itemStyle:{color:De.color.highlight}},select:{label:{show:!0,color:De.color.primary},itemStyle:{color:De.color.highlight}},regions:[]},e})(bn),hIe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,r){this._api=r},e.prototype.render=function(t,r,i,a){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new bre(i));var o=this._mapDraw;o.draw(t,r,i,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=t.get("silent"),this.group.add(o.group),this.updateSelectStatus(t,r,i)},e.prototype._handleRegionClick=function(t){var r;Kg(t.target,function(i){return(r=Xt(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},e.prototype.updateSelectStatus=function(t,r,i){var a=this;this._mapDraw.group.traverse(function(o){var s=Xt(o).eventData;if(s)return a._model.isSelected(s.name)?i.enterSelect(o):i.leaveSelect(o),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e})(Rr);function dIe(n,e,t){qh.registerMap(n,e,t)}function Tre(n){n.registerCoordinateSystem("geo",wre),n.registerComponentModel(fIe),n.registerComponentView(hIe),n.registerImpl("registerMap",dIe),n.registerImpl("getMap",function(t){return qh.getMapForUser(t)});function e(t,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(i,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[t](i.name);var u=l.coordinateSystem;J(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];J(o,function(f,h){o[h]&&c.push(h)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,r,i){var a=t.componentType;a||(t.geoId!=null?a="geo":t.seriesId!=null&&(a="series")),a||(a="series"),r.eachComponent({mainType:a,query:t},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=NN(s,t,o.get("scaleLimit"));o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),a==="series"&&J(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function pIe(n){fn(Tre),n.registerChartView(rIe),n.registerSeriesModel(iIe),n.registerLayout(sIe),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,oIe),ate("map",n.registerAction)}function vIe(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],r,i;r=t.pop();)if(i=r.children,r.isExpand&&i.length)for(var a=i.length,o=a-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},t.push(s)}}function gIe(n,e){var t=n.isExpand?n.children:[],r=n.parentNode.children,i=n.hierNode.i?r[n.hierNode.i-1]:null;if(t.length){yIe(n);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;i?(n.hierNode.prelim=i.hierNode.prelim+e(n,i),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else i&&(n.hierNode.prelim=i.hierNode.prelim+e(n,i));n.parentNode.hierNode.defaultAncestor=xIe(n,i,n.parentNode.hierNode.defaultAncestor||r[0],e)}function mIe(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function U7(n){return arguments.length?n:SIe}function uS(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function yIe(n){for(var e=n.children,t=e.length,r=0,i=0;--t>=0;){var a=e[t];a.hierNode.prelim+=r,a.hierNode.modifier+=r,i+=a.hierNode.change,r+=a.hierNode.shift+i}}function xIe(n,e,t,r){if(e){for(var i=n,a=n,o=a.parentNode.children[0],s=e,l=i.hierNode.modifier,u=a.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=fO(s),a=hO(a),s&&a;){i=fO(i),o=hO(o),i.hierNode.ancestor=n;var h=s.hierNode.prelim+f-a.hierNode.prelim-u+r(s,a);h>0&&(bIe(_Ie(s,n,t),n,h),u+=h,l+=h),f+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=o.hierNode.modifier}s&&!fO(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=f-l),a&&!hO(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-c,t=n)}return t}function fO(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function hO(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function _Ie(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function bIe(n,e,t){var r=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=r}function SIe(n,e){return n.parentNode===e.parentNode?1:2}var wIe=(function(){function n(){this.parentPoint=[],this.childPoints=[]}return n})(),TIe=(function(n){Oe(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:De.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new wIe},e.prototype.buildPath=function(t,r){var i=r.childPoints,a=i.length,o=r.parentPoint,s=i[0],l=i[a-1];if(a===1){t.moveTo(o[0],o[1]),t.lineTo(s[0],s[1]);return}var u=r.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,h=pt(r.forkPosition,1),d=[];d[c]=o[c],d[f]=o[f]+(l[f]-o[f])*h,t.moveTo(o[0],o[1]),t.lineTo(d[0],d[1]),t.moveTo(s[0],s[1]),d[c]=s[c],t.lineTo(d[0],d[1]),d[c]=l[c],t.lineTo(d[0],d[1]),t.lineTo(l[0],l[1]);for(var v=1;v<a-1;v++){var g=i[v];t.moveTo(g[0],g[1]),d[c]=g[c],t.lineTo(d[0],d[1])}},e})(Mn),MIe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new zt,t}return e.prototype.init=function(t,r){this._controller=new km(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,r,i){var a=t.getData(),o=t.layoutInfo,s=this._mainGroup,l=t.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(t,i),this._updateController(t,null,r,i);var u=this._data;a.diff(u).add(function(c){V7(a,c)&&F7(a,c,null,s,t)}).update(function(c,f){var h=u.getItemGraphicEl(f);if(!V7(a,c)){h&&H7(u,f,h,s,t);return}F7(a,c,h,s,t)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&H7(u,c,f,s,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:f})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,r){var i=t.getData(),a=[];i.each(function(f){var h=i.getItemLayout(f);h&&!isNaN(h.x)&&!isNaN(h.y)&&a.push([+h.x,+h.y])});var o=[],s=[];fN(a,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=t.coordinateSystem=new Bm(null,{api:r,ecModel:t.ecModel});c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(t.get("center")),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},e.prototype._updateController=function(t,r,i,a){var o=this;vre(t,a,this.group,this._controller,this._controllerHost,r),this._controller.on("zoom",function(s){o._updateNodeAndLinkScale(t)})},e.prototype._updateNodeAndLinkScale=function(t){var r=t.getData(),i=this._getNodeGlobalScale(t);r.eachItemGraphicEl(function(a,o){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(t){var r=t.coordinateSystem;if(r.type!=="view")return 1;var i=this._nodeScaleRatio,a=r.scaleX||1,o=r.getZoom(),s=(o-1)*i+1;return s/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e})(vr);function V7(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function F7(n,e,t,r,i){var a=!t,o=n.tree.getNodeByDataIndex(e),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:De.color.neutral00,c=n.tree.root,f=o.parentNode===c?o:o.parentNode||o,h=n.getItemGraphicEl(f.dataIndex),d=f.getLayout(),v=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:d,g=o.getLayout();a?(t=new Ew(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=v.x,t.y=v.y):t.updateData(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=g.rawX,t.__radialRawY=g.rawY,r.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Gn(t,{x:g.x,y:g.y},i);var y=t.getSymbolPath();if(i.get("layout")==="radial"){var x=c.children[0],b=x.getLayout(),T=x.children.length,M=void 0,C=void 0;if(g.x===b.x&&o.isExpand===!0&&x.children.length){var D={x:(x.children[0].getLayout().x+x.children[T-1].getLayout().x)/2,y:(x.children[0].getLayout().y+x.children[T-1].getLayout().y)/2};M=Math.atan2(D.y-b.y,D.x-b.x),M<0&&(M=Math.PI*2+M),C=D.x<b.x,C&&(M=M-Math.PI)}else M=Math.atan2(g.y-b.y,g.x-b.x),M<0&&(M=Math.PI*2+M),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(C=g.x<b.x,C&&(M=M-Math.PI)):(C=g.x>b.x,C||(M=M-Math.PI));var R=C?"left":"right",I=s.getModel("label"),L=I.get("rotate"),O=L*(Math.PI/180),B=y.getTextContent();B&&(y.setTextConfig({position:I.get("position")||R,rotation:L==null?-M:O,origin:"center"}),B.setStyle("verticalAlign","middle"))}var V=s.get(["emphasis","focus"]),F=V==="relative"?Nx(o.getAncestorsIndices(),o.getDescendantIndices()):V==="ancestor"?o.getAncestorsIndices():V==="descendant"?o.getDescendantIndices():null;F&&(Xt(t).focus=F),AIe(i,o,c,t,v,d,g,r),t.__edge&&(t.onHoverStateChange=function(k){if(k!=="blur"){var Y=o.parentNode&&n.getItemGraphicEl(o.parentNode.dataIndex);Y&&Y.hoverState===xw||c3(t.__edge,k)}})}function AIe(n,e,t,r,i,a,o,s){var l=e.getModel(),u=n.get("edgeShape"),c=n.get("layout"),f=n.getOrient(),h=n.get(["lineStyle","curveness"]),d=n.get("edgeForkPosition"),v=l.getModel("lineStyle").getLineStyle(),g=r.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(g||(g=r.__edge=new c_({shape:w4(c,f,h,i,i)})),Gn(g,{shape:w4(c,f,h,a,o)},n));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var y=e.children,x=[],b=0;b<y.length;b++){var T=y[b].getLayout();x.push([T.x,T.y])}g||(g=r.__edge=new TIe({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:d}})),Gn(g,{shape:{parentPoint:[o.x,o.y],childPoints:x}},n)}g&&!(u==="polyline"&&!e.isExpand)&&(g.useStyle(Vt({strokeNoScale:!0,fill:null},v)),ca(g,l,"lineStyle"),ym(g),s.add(g))}function G7(n,e,t,r,i){var a=e.tree.root,o=Mre(a,n),s=o.source,l=o.sourceLayout,u=e.getItemGraphicEl(n.dataIndex);if(u){var c=e.getItemGraphicEl(s.dataIndex),f=c.__edge,h=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),d=r.get("edgeShape"),v=r.get("layout"),g=r.get("orient"),y=r.get(["lineStyle","curveness"]);h&&(d==="curve"?Ip(h,{shape:w4(v,g,y,l,l),style:{opacity:0}},r,{cb:function(){t.remove(h)},removeOpt:i}):d==="polyline"&&r.get("layout")==="orthogonal"&&Ip(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){t.remove(h)},removeOpt:i}))}}function Mre(n,e){for(var t=e.parentNode===n?e:e.parentNode||e,r;r=t.getLayout(),r==null;)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:r}}function H7(n,e,t,r,i){var a=n.tree.getNodeByDataIndex(e),o=n.tree.root,s=Mre(o,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Ip(t,{x:s.x+1,y:s.y+1},i,{cb:function(){r.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){G7(u,n,r,i,l)}),G7(a,n,r,i,l)}function w4(n,e,t,r,i){var a,o,s,l,u,c,f,h;if(n==="radial"){u=r.rawX,f=r.rawY,c=i.rawX,h=i.rawY;var d=uS(u,f),v=uS(u,f+(h-f)*t),g=uS(c,h+(f-h)*t),y=uS(c,h);return{x1:d.x||0,y1:d.y||0,x2:y.x||0,y2:y.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:g.x||0,cpy2:g.y||0}}else u=r.x,f=r.y,c=i.x,h=i.y,(e==="LR"||e==="RL")&&(a=u+(c-u)*t,o=f,s=c+(u-c)*t,l=h),(e==="TB"||e==="BT")&&(a=u,o=f+(h-f)*t,s=c,l=h+(f-h)*t);return{x1:u,y1:f,x2:c,y2:h,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}var Ql=Sn();function Are(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,Cre(e,t,n),J(t,function(r){J(e.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,tn(CIe,n))})}),e.wrapMethod("cloneShallow",tn(DIe,n)),J(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,tn(EIe,n))}),uo(t[e.dataType]===e)}function CIe(n,e){if(LIe(this)){var t=je({},Ql(this).datas);t[this.dataType]=e,Cre(e,t,n)}else QB(e,this.dataType,Ql(this).mainData,n);return e}function EIe(n,e){return n.struct&&n.struct.update(),e}function DIe(n,e){return J(Ql(e).datas,function(t,r){t!==e&&QB(t.cloneShallow(),r,e,n)}),e}function NIe(n){var e=Ql(this).mainData;return n==null||e==null?e:Ql(e).datas[n]}function RIe(){var n=Ql(this).mainData;return n==null?[{data:n}]:$e(Rn(Ql(n).datas),function(e){return{type:e,data:Ql(n).datas[e]}})}function LIe(n){return Ql(n).mainData===n}function Cre(n,e,t){Ql(n).datas={},J(e,function(r,i){QB(r,i,n,t)})}function QB(n,e,t,r){Ql(t).datas[e]=n,Ql(n).mainData=t,n.dataType=e,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=n),n.getLinkedData=NIe,n.getLinkedDataAll=RIe}var IIe=(function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,r){Nt(e)&&(r=t,t=e,e=null),e=e||{},vt(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],o;i==="preorder"&&(o=t.call(r,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(e,t,r);i==="postorder"&&t.call(r,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].getNodeById(e);if(a)return a}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].contains(e);if(a)return a}},n.prototype.getAncestors=function(e){for(var t=[],r=e?this:this.parentNode;r;)t.push(r),r=r.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n})(),$B=(function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,r){this.root.eachNode(e,t,r)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,r=0,i=t.length;r<i;r++)t[r].dataIndex=-1;for(var r=0,i=e.count();r<i;r++)t[e.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,r){var i=new n(t),a=[],o=1;s(e);function s(c,f){var h=c.value;o=Math.max(o,Ke(h)?h.length:1),a.push(c);var d=new IIe(ua(c.name,""),i);f?OIe(d,f):i.root=d,i._nodes.push(d);var v=c.children;if(v)for(var g=0;g<v.length;g++)s(v[g],d)}i.root.updateDepthAndHeight(0);var l=__(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Uo(l,t);return u.initData(a),r&&r(u),Are({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},n})();function OIe(n,e){var t=e.children;n.parentNode!==e&&(t.push(n),n.parentNode=e)}function U2(n,e,t){if(n&&on(e,n.type)>=0){var r=t.getData().tree.root,i=n.targetNode;if(vt(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=n.targetNodeId;if(a!=null&&(i=r.getNodeById(a)))return{node:i}}}function Ere(n){for(var e=[];n;)n=n.parentNode,n&&e.push(n);return e.reverse()}function eU(n,e){var t=Ere(n);return on(t,e)>=0}function LN(n,e){for(var t=[];n;){var r=n.dataIndex;t.push({name:n.name,dataIndex:r,value:e.getRawValue(r)}),n=n.parentNode}return t.reverse(),t}var PIe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var r={name:t.name,children:t.data},i=t.leaves||{},a=new Tn(i,this,this.ecModel),o=$B.createTree(r,this,s);function s(f){f.wrapMethod("getItemModel",function(h,d){var v=o.getNodeByDataIndex(d);return v&&v.children.length&&v.isExpand||(h.parentModel=a),h})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var h=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=h&&h.collapsed!=null?!h.collapsed:f.depth<=c}),o.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,r,i){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(t),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return ea("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=LN(i,this),r.collapsed=!i.isExpand,r},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,roamTrigger:"global",nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:De.color.borderTint,width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e})(_r);function zIe(n,e,t){for(var r=[n],i=[],a;a=r.pop();)if(i.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)r.push(o[s])}for(;a=i.pop();)e(a,t)}function Bb(n,e){for(var t=[n],r;r=t.pop();)if(e(r),r.isExpand){var i=r.children;if(i.length)for(var a=i.length-1;a>=0;a--)t.push(i[a])}}function kIe(n,e){n.eachSeriesByType("tree",function(t){BIe(t,e)})}function BIe(n,e){var t=ha(n,e).refContainer,r=Kr(n.getBoxLayoutParams(),t);n.layoutInfo=r;var i=n.get("layout"),a=0,o=0,s=null;i==="radial"?(a=2*Math.PI,o=Math.min(r.height,r.width)/2,s=U7(function(M,C){return(M.parentNode===C.parentNode?1:2)/M.depth})):(a=r.width,o=r.height,s=U7());var l=n.getData().tree.root,u=l.children[0];if(u){vIe(l),zIe(u,gIe,s),l.hierNode.modifier=-u.hierNode.prelim,Bb(u,mIe);var c=u,f=u,h=u;Bb(u,function(M){var C=M.getLayout().x;C<c.getLayout().x&&(c=M),C>f.getLayout().x&&(f=M),M.depth>h.depth&&(h=M)});var d=c===f?1:s(c,f)/2,v=d-c.getLayout().x,g=0,y=0,x=0,b=0;if(i==="radial")g=a/(f.getLayout().x+d+v),y=o/(h.depth-1||1),Bb(u,function(M){x=(M.getLayout().x+v)*g,b=(M.depth-1)*y;var C=uS(x,b);M.setLayout({x:C.x,y:C.y,rawX:x,rawY:b},!0)});else{var T=n.getOrient();T==="RL"||T==="LR"?(y=o/(f.getLayout().x+d+v),g=a/(h.depth-1||1),Bb(u,function(M){b=(M.getLayout().x+v)*y,x=T==="LR"?(M.depth-1)*g:a-(M.depth-1)*g,M.setLayout({x,y:b},!0)})):(T==="TB"||T==="BT")&&(g=a/(f.getLayout().x+d+v),y=o/(h.depth-1||1),Bb(u,function(M){x=(M.getLayout().x+v)*g,b=T==="TB"?(M.depth-1)*y:o-(M.depth-1)*y,M.setLayout({x,y:b},!0)}))}}}function UIe(n){n.eachSeriesByType("tree",function(e){var t=e.getData(),r=t.tree;r.eachNode(function(i){var a=i.getModel(),o=a.getModel("itemStyle").getItemStyle(),s=t.ensureUniqueItemVisual(i.dataIndex,"style");je(s,o)})})}function VIe(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var i=e.dataIndex,a=r.getData().tree,o=a.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,o=NN(a,e,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}function FIe(n){n.registerChartView(MIe),n.registerSeriesModel(PIe),n.registerLayout(kIe),n.registerVisual(UIe),VIe(n)}var j7=["treemapZoomToNode","treemapRender","treemapMove"];function GIe(n){for(var e=0;e<j7.length;e++)n.registerAction({type:j7[e],update:"updateView"},Mi);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"treemap",query:t},i);function i(a,o){var s=["treemapZoomToNode","treemapRootToNode"],l=U2(t,s,a);if(l){var u=a.getViewRoot();u&&(t.direction=eU(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function Dre(n){var e=n.getData(),t=e.tree,r={};t.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var o=VP(n.ecModel,a.name||a.dataIndex+"",r);i.setVisual("decal",o)})}var HIe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,r){var i={name:t.name,children:t.data};Nre(i);var a=t.levels||[],o=this.designatedVisualItemStyle={},s=new Tn({itemStyle:o},this,r);a=t.levels=jIe(a,r);var l=$e(a||[],function(f){return new Tn(f,s,r)},this),u=$B.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(h,d){var v=u.getNodeByDataIndex(d),g=v?l[v.depth]:null;return h.parentModel=g||s,h})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return ea("nameValue",{name:s,value:o})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=LN(i,this),r.treePathInfo=r.treeAncestors,r},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},je(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var r=this._idIndexMap;r||(r=this._idIndexMap=Tt(),this._idIndexMapCount=0);var i=r.get(t);return i==null&&r.set(t,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){Dre(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,coordinateSystemUsage:"box",left:De.size.l,top:De.size.xxxl,right:De.size.l,bottom:De.size.xxxl,sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:{max:5,min:.2},roam:!0,roamTrigger:"global",nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",bottom:De.size.m,emptyItemWidth:25,itemStyle:{color:De.color.backgroundShade,textStyle:{color:De.color.secondary}},emphasis:{itemStyle:{color:De.color.background}}},label:{show:!0,distance:0,padding:5,position:"inside",color:De.color.neutral00,overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:De.color.neutral00,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e})(_r);function Nre(n){var e=0;J(n.children,function(r){Nre(r);var i=r.value;Ke(i)&&(i=i[0]),e+=i});var t=n.value;Ke(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),Ke(n.value)?n.value[0]=t:n.value=t}function jIe(n,e){var t=Nr(e.get("color")),r=Nr(e.get(["aria","decal","decals"]));if(t){n=n||[];var i,a;J(n,function(s){var l=new Tn(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var o=n[0]||(n[0]={});return i||(o.color=t.slice()),!a&&r&&(o.decal=r.slice()),n}}var WIe=8,W7=8,dO=5,YIe=(function(){function n(e){this.group=new zt,e.add(this.group)}return n.prototype.render=function(e,t,r,i){var a=e.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!r)){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f=ha(e,t).refContainer,h={left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},d={emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},v=Kr(h,f);this._prepare(r,d,u),this._renderContent(e,d,v,s,l,u,c,i),xN(o,h,f)}},n.prototype._prepare=function(e,t,r){for(var i=e;i;i=i.parentNode){var a=ua(i.getModel().get("name"),""),o=r.getTextRect(a),s=Math.max(o.width+WIe*2,t.emptyItemWidth);t.totalWidth+=s+W7,t.renderList.push({node:i,text:a,width:s})}},n.prototype._renderContent=function(e,t,r,i,a,o,s,l){for(var u=0,c=t.emptyItemWidth,f=e.get(["breadcrumb","height"]),h=t.totalWidth,d=t.renderList,v=a.getModel("itemStyle").getItemStyle(),g=d.length-1;g>=0;g--){var y=d[g],x=y.node,b=y.width,T=y.text;h>r.width&&(h-=b-c,b=c,T=null);var M=new fo({shape:{points:XIe(u,0,b,f,g===d.length-1,g===0)},style:Vt(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new On({style:Dr(o,{text:T})}),textConfig:{position:"inside"},z2:l_*1e4,onclick:tn(l,x)});M.disableLabelAnimation=!0,M.getTextContent().ensureState("emphasis").style=Dr(s,{text:T}),M.ensureState("emphasis").style=v,ti(M,a.get("focus"),a.get("blurScope"),a.get("disabled")),this.group.add(M),qIe(M,e,x),u+=b+W7}},n.prototype.remove=function(){this.group.removeAll()},n})();function XIe(n,e,t,r,i,a){var o=[[i?n:n-dO,e],[n+t,e],[n+t,e+r],[i?n:n-dO,e+r]];return!a&&o.splice(2,0,[n+t+dO,e+r/2]),!i&&o.push([n,e+r/2]),o}function qIe(n,e,t){Xt(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&LN(t,e)}}var ZIe=(function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,r,i,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:r,delay:i,easing:a}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,r=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:r,aborted:r})}return this},n})();function KIe(){return new ZIe}var T4=zt,Y7=mn,X7=3,q7="label",Z7="upperLabel",JIe=l_*10,QIe=l_*2,$Ie=l_*3,Ig=mm([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),K7=function(n){var e=Ig(n);return e.stroke=e.fill=e.lineWidth=null,e},B3=Sn(),eOe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=Ub(),t}return e.prototype.render=function(t,r,i,a){var o=r.findComponents({mainType:"series",subType:"treemap",query:a});if(!(on(o,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=r;var s=["treemapZoomToNode","treemapRootToNode"],l=U2(a,s,t),u=a&&a.type,c=t.layoutInfo,f=!this._oldTree,h=this._storage,d=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,v=this._giveContainerGroup(c),g=t.get("animation"),y=this._doRender(v,t,d);g&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(v,y,t,d):y.renderFinally(),this._resetController(i),this._renderBreadcrumb(t,i,l)}},e.prototype._giveContainerGroup=function(t){var r=this._containerGroup;return r||(r=this._containerGroup=new T4,this._initEvents(r),this.group.add(r)),r.x=t.x,r.y=t.y,r},e.prototype._doRender=function(t,r,i){var a=r.getData().tree,o=this._oldTree,s=Ub(),l=Ub(),u=this._storage,c=[];function f(b,T,M,C){return tOe(r,l,u,i,s,c,b,T,M,C)}g(a.root?[a.root]:[],o&&o.root?[o.root]:[],t,a===o||!o,0);var h=y(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var d=this.seriesModel.layoutInfo,v=a.root.getLayout();v.width===d.width&&v.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:h,renderFinally:x};function g(b,T,M,C,D){C?(T=b,J(b,function(L,O){!L.isRemoved()&&I(O,O)})):new Wh(T,b,R,R).add(I).update(I).remove(tn(I,null)).execute();function R(L){return L.getId()}function I(L,O){var B=L!=null?b[L]:null,V=O!=null?T[O]:null,F=f(B,V,M,D);F&&g(B&&B.viewChildren||[],V&&V.viewChildren||[],F,C,D+1)}}function y(b){var T=Ub();return b&&J(b,function(M,C){var D=T[C];J(M,function(R){R&&(D.push(R),B3(R).willDelete=!0)})}),T}function x(){J(h,function(b){J(b,function(T){T.parent&&T.parent.remove(T)})}),J(c,function(b){b.invisible=!0,b.dirty()})}},e.prototype._doAnimation=function(t,r,i,a){var o=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(Nt(o)?0:o)||0,u=(Nt(s)?null:s)||"cubicOut",c=KIe();J(r.willDeleteEls,function(f,h){J(f,function(d,v){if(!d.invisible){var g=d.parent,y,x=B3(g);if(a&&a.direction==="drillDown")y=g===a.rootNodeGroup?{shape:{x:0,y:0,width:x.nodeWidth,height:x.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var b=0,T=0;x.willDelete||(b=x.nodeWidth/2,T=x.nodeHeight/2),y=h==="nodeGroup"?{x:b,y:T,style:{opacity:0}}:{shape:{x:b,y:T,width:0,height:0},style:{opacity:0}}}y&&c.add(d,y,l,0,u)}})}),J(this._storage,function(f,h){J(f,function(d,v){var g=r.lastsForAnimation[h][v],y={};g&&(d instanceof zt?g.oldX!=null&&(y.x=d.x,y.y=d.y,d.x=g.oldX,d.y=g.oldY):(g.oldShape&&(y.shape=je({},d.shape),d.setShape(g.oldShape)),g.fadein?(d.setStyle("opacity",0),y.style={opacity:1}):d.style.opacity!==1&&(y.style={opacity:1})),c.add(d,y,l,0,u))})},this),this._state="animating",c.finished(mt(function(){this._state="ready",r.renderFinally()},this)).start()},e.prototype._resetController=function(t){var r=this,i=this._controller,a=this._controllerHost;a||(this._controllerHost={target:this.group},a=this._controllerHost);var o=this.seriesModel;i||(i=this._controller=new km(t.getZr()),i.on("pan",mt(this._onPan,this)),i.on("zoom",mt(this._onZoom,this))),i.enable(o.get("roam"),{api:t,zInfo:{component:o},triggerInfo:{roamTrigger:o.get("roamTrigger"),isInSelf:function(s,l,u){var c=r._containerGroup;return c?c.getBoundingRect().contain(l-c.x,u-c.y):!1}}}),a.zoomLimit=o.get("scaleLimit"),a.zoom=o.get("zoom")},e.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>X7||Math.abs(t.dy)>X7)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(t){var r=t.originX,i=t.originY,a=t.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new Wt(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var h=u.min||0,d=u.max||1/0;f=Math.max(Math.min(d,f),h)}var v=f/c.zoom;c.zoom=f;var g=this.seriesModel.layoutInfo;r-=g.x,i-=g.y;var y=Ma();$u(y,y,[-r,-i]),rN(y,y,[v,v]),$u(y,y,[r,i]),l.applyTransform(y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(t){var r=this;t.on("click",function(i){if(r._state==="ready"){var a=r.seriesModel.get("nodeClick",!0);if(a){var o=r.findTarget(i.offsetX,i.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)r._rootToNode(o);else if(a==="zoomToNode")r._zoomToNode(o);else if(a==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&p3(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,r,i){var a=this;i||(i=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new YIe(this.group))).render(t,r,i.node,function(o){a._state!=="animating"&&(eU(t.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Ub(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,r){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(t,r),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},e.type="treemap",e})(vr);function Ub(){return{nodeGroup:[],background:[],content:[]}}function tOe(n,e,t,r,i,a,o,s,l,u){if(!o)return;var c=o.getLayout(),f=n.getData(),h=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var d=c.width,v=c.height,g=c.borderWidth,y=c.invisible,x=o.getRawIndex(),b=s&&s.getRawIndex(),T=o.viewChildren,M=c.upperHeight,C=T&&T.length,D=h.getModel("itemStyle"),R=h.getModel(["emphasis","itemStyle"]),I=h.getModel(["blur","itemStyle"]),L=h.getModel(["select","itemStyle"]),O=D.get("borderRadius")||0,B=he("nodeGroup",T4);if(!B)return;if(l.add(B),B.x=c.x||0,B.y=c.y||0,B.markRedraw(),B3(B).nodeWidth=d,B3(B).nodeHeight=v,c.isAboveViewRoot)return B;var V=he("background",Y7,u,QIe);V&&re(B,V,C&&c.upperLabelHeight);var F=h.getModel("emphasis"),k=F.get("focus"),Y=F.get("blurScope"),H=F.get("disabled"),W=k==="ancestor"?o.getAncestorsIndices():k==="descendant"?o.getDescendantIndices():k;if(C)T2(B)&&qg(B,!1),V&&(qg(V,!H),f.setItemGraphicEl(o.dataIndex,V),DP(V,W,Y));else{var q=he("content",Y7,u,$Ie);q&&j(B,q),V.disableMorphing=!0,V&&T2(V)&&qg(V,!1),qg(B,!H),f.setItemGraphicEl(o.dataIndex,B);var K=h.getShallow("cursor");K&&q.attr("cursor",K),DP(B,W,Y)}return B;function re(Te,Me,Re){var Ue=Xt(Me);if(Ue.dataIndex=o.dataIndex,Ue.seriesIndex=n.seriesIndex,Me.setShape({x:0,y:0,width:d,height:v,r:O}),y)Q(Me);else{Me.invisible=!1;var et=o.getVisual("style"),ct=et.stroke,X=K7(D);X.fill=ct;var te=Ig(R);te.fill=R.get("borderColor");var ve=Ig(I);ve.fill=I.get("borderColor");var oe=Ig(L);if(oe.fill=L.get("borderColor"),Re){var ae=d-2*g;ne(Me,ct,et.opacity,{x:g,y:0,width:ae,height:M})}else Me.removeTextContent();Me.setStyle(X),Me.ensureState("emphasis").style=te,Me.ensureState("blur").style=ve,Me.ensureState("select").style=oe,ym(Me)}Te.add(Me)}function j(Te,Me){var Re=Xt(Me);Re.dataIndex=o.dataIndex,Re.seriesIndex=n.seriesIndex;var Ue=Math.max(d-2*g,0),et=Math.max(v-2*g,0);if(Me.culling=!0,Me.setShape({x:g,y:g,width:Ue,height:et,r:O}),y)Q(Me);else{Me.invisible=!1;var ct=o.getVisual("style"),X=ct.fill,te=K7(D);te.fill=X,te.decal=ct.decal;var ve=Ig(R),oe=Ig(I),ae=Ig(L);ne(Me,X,ct.opacity,null),Me.setStyle(te),Me.ensureState("emphasis").style=ve,Me.ensureState("blur").style=oe,Me.ensureState("select").style=ae,ym(Me)}Te.add(Me)}function Q(Te){!Te.invisible&&a.push(Te)}function ne(Te,Me,Re,Ue){var et=h.getModel(Ue?Z7:q7),ct=ua(h.get("name"),null),X=et.getShallow("show");Na(Te,fa(h,Ue?Z7:q7),{defaultText:X?ct:null,inheritColor:Me,defaultOpacity:Re,labelFetcher:n,labelDataIndex:o.dataIndex});var te=Te.getTextContent();if(te){var ve=te.style,oe=pw(ve.padding||0);Ue&&(Te.setTextConfig({layoutRect:Ue}),te.disableLabelLayout=!0),te.beforeUpdate=function(){var de=Math.max((Ue?Ue.width:Te.shape.width)-oe[1]-oe[3],0),Ae=Math.max((Ue?Ue.height:Te.shape.height)-oe[0]-oe[2],0);(ve.width!==de||ve.height!==Ae)&&te.setStyle({width:de,height:Ae})},ve.truncateMinChar=2,ve.lineOverflow="truncate",se(ve,Ue,c);var ae=te.getState("emphasis");se(ae?ae.style:null,Ue,c)}}function se(Te,Me,Re){var Ue=Te?Te.text:null;if(!Me&&Re.isLeafRoot&&Ue!=null){var et=n.get("drillDownIcon",!0);Te.text=et?et+" "+Ue:Ue}}function he(Te,Me,Re,Ue){var et=b!=null&&t[Te][b],ct=i[Te];return et?(t[Te][b]=null,pe(ct,et)):y||(et=new Me,et instanceof nu&&(et.z2=nOe(Re,Ue)),xe(ct,et)),e[Te][x]=et}function pe(Te,Me){var Re=Te[x]={};Me instanceof T4?(Re.oldX=Me.x,Re.oldY=Me.y):Re.oldShape=je({},Me.shape)}function xe(Te,Me){var Re=Te[x]={},Ue=o.parentNode,et=Me instanceof zt;if(Ue&&(!r||r.direction==="drillDown")){var ct=0,X=0,te=i.background[Ue.getRawIndex()];!r&&te&&te.oldShape&&(ct=te.oldShape.width,X=te.oldShape.height),et?(Re.oldX=0,Re.oldY=X):Re.oldShape={x:ct,y:X,width:0,height:0}}Re.fadein=!et}}function nOe(n,e){return n*JIe+e}var V2=J,rOe=Ft,U3=-1,Aa=(function(){function n(e){var t=e.mappingMethod,r=e.type,i=this.option=Pt(e);this.type=r,this.mappingMethod=t,this._normalizeData=oOe[t];var a=n.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],t==="piecewise"?(pO(i),iOe(i)):t==="category"?i.categories?aOe(i):pO(i,!0):(uo(t!=="linear"||i.dataExtent),pO(i))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return mt(this._normalizeData,this)},n.listVisualTypes=function(){return Rn(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,r){Ft(e)?J(e,t,r):t.call(r,e)},n.mapVisual=function(e,t,r){var i,a=Ke(e)?[]:Ft(e)?{}:(i=!0,null);return n.eachVisual(e,function(o,s){var l=t.call(r,o,s);i?a=l:a[s]=l}),a},n.retrieveVisuals=function(e){var t={},r;return e&&V2(n.visualHandlers,function(i,a){e.hasOwnProperty(a)&&(t[a]=e[a],r=!0)}),r?t:null},n.prepareVisualTypes=function(e){if(Ke(e))e=e.slice();else if(rOe(e)){var t=[];V2(e,function(r,i){t.push(i)}),e=t}else return[];return e.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},n.findPieceIndex=function(e,t,r){for(var i,a=1/0,o=0,s=t.length;o<s;o++){var l=t[o].value;if(l!=null){if(l===e||vt(l)&&l===e+"")return o;r&&h(l,o)}}for(var o=0,s=t.length;o<s;o++){var u=t[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(ZA(f[1],e,c[1]))return o}else if(c[1]===1/0){if(ZA(f[0],c[0],e))return o}else if(ZA(f[0],c[0],e)&&ZA(f[1],e,c[1]))return o;r&&h(c[0],o),r&&h(c[1],o)}}if(r)return e===1/0?t.length-1:e===-1/0?0:i;function h(d,v){var g=Math.abs(d-e);g<a&&(a=g,i=v)}},n.visualHandlers={color:{applyVisual:Vb("color"),getColorMapper:function(){var e=this.option;return mt(e.mappingMethod==="category"?function(t,r){return!r&&(t=this._normalizeData(t)),cS.call(this,t)}:function(t,r,i){var a=!!i;return!r&&(t=this._normalizeData(t)),i=OS(t,e.parsedVisual,i),a?i:Jl(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Jl(OS(e,this.option.parsedVisual),"rgba")},category:cS,piecewise:function(e,t){var r=A4.call(this,t);return r==null&&(r=Jl(OS(e,this.option.parsedVisual),"rgba")),r},fixed:Og}},colorHue:qA(function(e,t){return Lh(e,t)}),colorSaturation:qA(function(e,t){return Lh(e,null,t)}),colorLightness:qA(function(e,t){return Lh(e,null,null,t)}),colorAlpha:qA(function(e,t){return x2(e,t)}),decal:{applyVisual:Vb("decal"),_normalizedToVisual:{linear:null,category:cS,piecewise:null,fixed:null}},opacity:{applyVisual:Vb("opacity"),_normalizedToVisual:M4([0,1])},liftZ:{applyVisual:Vb("liftZ"),_normalizedToVisual:{linear:Og,category:Og,piecewise:Og,fixed:Og}},symbol:{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("symbol",i)},_normalizedToVisual:{linear:J7,category:cS,piecewise:function(e,t){var r=A4.call(this,t);return r==null&&(r=J7.call(this,e)),r},fixed:Og}},symbolSize:{applyVisual:Vb("symbolSize"),_normalizedToVisual:M4([0,1])}},n})();function iOe(n){var e=n.pieceList;n.hasSpecialVisual=!1,J(e,function(t,r){t.originIndex=r,t.visual!=null&&(n.hasSpecialVisual=!0)})}function aOe(n){var e=n.categories,t=n.categoryMap={},r=n.visual;if(V2(e,function(o,s){t[o]=s}),!Ke(r)){var i=[];Ft(r)?V2(r,function(o,s){var l=t[s];i[l??U3]=o}):i[U3]=r,r=Rre(n,i)}for(var a=e.length-1;a>=0;a--)r[a]==null&&(delete t[e[a]],e.pop())}function pO(n,e){var t=n.visual,r=[];Ft(t)?V2(t,function(a){r.push(a)}):t!=null&&r.push(t);var i={color:1,symbol:1};!e&&r.length===1&&!i.hasOwnProperty(n.type)&&(r[1]=r[0]),Rre(n,r)}function qA(n){return{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("color",n(t("color"),i))},_normalizedToVisual:M4([0,1])}}function J7(n){var e=this.option.visual;return e[Math.round(er(n,[0,1],[0,e.length-1],!0))]||{}}function Vb(n){return function(e,t,r){r(n,this.mapValueToVisual(e))}}function cS(n){var e=this.option.visual;return e[this.option.loop&&n!==U3?n%e.length:n]}function Og(){return this.option.visual[0]}function M4(n){return{linear:function(e){return er(e,n,this.option.visual,!0)},category:cS,piecewise:function(e,t){var r=A4.call(this,t);return r==null&&(r=er(e,n,this.option.visual,!0)),r},fixed:Og}}function A4(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=Aa.findPieceIndex(n,t),i=t[r];if(i&&i.visual)return i.visual[this.type]}}function Rre(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=$e(e,function(t){var r=Bo(t);return r||[0,0,0,1]})),e}var oOe={linear:function(n){return er(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=Aa.findPieceIndex(n,e,!0);if(t!=null)return er(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??U3},fixed:Mi};function ZA(n,e,t){return n?e<=t:e<t}var sOe="itemStyle",Lre=Sn();const lOe={seriesType:"treemap",reset:function(n){var e=n.getData().tree,t=e.root;t.isRemoved()||Ire(t,{},n.getViewRoot().getAncestors(),n)}};function Ire(n,e,t,r){var i=n.getModel(),a=n.getLayout(),o=n.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var s=i.getModel(sOe),l=uOe(s,e,r),u=o.ensureUniqueItemVisual(n.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),h;f!=null&&(h=Q7(l),c=cOe(f,h)),u.stroke=c;var d=n.viewChildren;if(!d||!d.length)h=Q7(l),u.fill=h;else{var v=fOe(n,i,a,s,l,d);J(d,function(g,y){if(g.depth>=t.length||g===t[g.depth]){var x=hOe(i,l,g,y,v,r);Ire(g,x,t,r)}})}}}function uOe(n,e,t){var r=je({},e),i=t.designatedVisualItemStyle;return J(["color","colorAlpha","colorSaturation"],function(a){i[a]=e[a];var o=n.get(a);i[a]=null,o!=null&&(r[a]=o)}),r}function Q7(n){var e=vO(n,"color");if(e){var t=vO(n,"colorAlpha"),r=vO(n,"colorSaturation");return r&&(e=Lh(e,null,null,r)),t&&(e=x2(e,t)),e}}function cOe(n,e){return e!=null?Lh(e,null,null,n):null}function vO(n,e){var t=n[e];if(t!=null&&t!=="none")return t}function fOe(n,e,t,r,i,a){if(!(!a||!a.length)){var o=gO(e,"color")||i.color!=null&&i.color!=="none"&&(gO(e,"colorAlpha")||gO(e,"colorSaturation"));if(o){var s=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var h=new Aa(f);return Lre(h).drColorMappingBy=c,h}}}function gO(n,e){var t=n.get(e);return Ke(t)&&t.length?{name:e,range:t}:null}function hOe(n,e,t,r,i,a){var o=je({},e);if(i){var s=i.type,l=s==="color"&&Lre(i).drColorMappingBy,u=l==="index"?r:l==="id"?a.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));o[s]=i.mapValueToVisual(u)}return o}var F2=Math.max,V3=Math.min,$7=Ya,tU=J,Ore=["itemStyle","borderWidth"],dOe=["itemStyle","gapWidth"],pOe=["upperLabel","show"],vOe=["upperLabel","height"];const gOe={seriesType:"treemap",reset:function(n,e,t,r){var i=n.option,a=ha(n,t).refContainer,o=Kr(n.getBoxLayoutParams(),a),s=i.size||[],l=pt($7(o.width,s[0]),a.width),u=pt($7(o.height,s[1]),a.height),c=r&&r.type,f=["treemapZoomToNode","treemapRootToNode"],h=U2(r,f,n),d=c==="treemapRender"||c==="treemapMove"?r.rootRect:null,v=n.getViewRoot(),g=Ere(v);if(c!=="treemapMove"){var y=c==="treemapZoomToNode"?SOe(n,h,v,l,u):d?[d.width,d.height]:[l,u],x=i.sort;x&&x!=="asc"&&x!=="desc"&&(x="desc");var b={squareRatio:i.squareRatio,sort:x,leafDepth:i.leafDepth};v.hostTree.clearLayouts();var T={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};v.setLayout(T),Pre(v,b,!1,0),T=v.getLayout(),tU(g,function(C,D){var R=(g[D+1]||v).getValue();C.setLayout(je({dataExtent:[R,R],borderWidth:0,upperHeight:0},T))})}var M=n.getData().tree.root;M.setLayout(wOe(o,d,h),!0),n.setLayoutInfo(o),zre(M,new Wt(-o.x,-o.y,t.getWidth(),t.getHeight()),g,v,0)}};function Pre(n,e,t,r){var i,a;if(!n.isRemoved()){var o=n.getLayout();i=o.width,a=o.height;var s=n.getModel(),l=s.get(Ore),u=s.get(dOe)/2,c=kre(s),f=Math.max(l,c),h=l-u,d=f-u;n.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=F2(i-2*h,0),a=F2(a-h-d,0);var v=i*a,g=mOe(n,s,v,e,t,r);if(g.length){var y={x:h,y:d,width:i,height:a},x=V3(i,a),b=1/0,T=[];T.area=0;for(var M=0,C=g.length;M<C;){var D=g[M];T.push(D),T.area+=D.getLayout().area;var R=bOe(T,x,e.squareRatio);R<=b?(M++,b=R):(T.area-=T.pop().getLayout().area,eW(T,x,y,u,!1),x=V3(y.width,y.height),T.length=T.area=0,b=1/0)}if(T.length&&eW(T,x,y,u,!0),!t){var I=s.get("childrenVisibleMin");I!=null&&v<I&&(t=!0)}for(var M=0,C=g.length;M<C;M++)Pre(g[M],e,t,r+1)}}}function mOe(n,e,t,r,i,a){var o=n.children||[],s=r.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=r.leafDepth!=null&&r.leafDepth<=a;if(i&&!l)return n.viewChildren=[];o=Zn(o,function(d){return!d.isRemoved()}),xOe(o,s);var u=_Oe(e,o,s);if(u.sum===0)return n.viewChildren=[];if(u.sum=yOe(e,t,u.sum,s,o),u.sum===0)return n.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var h=o[c].getValue()/u.sum*t;o[c].setLayout({area:h})}return l&&(o.length&&n.setLayout({isLeafRoot:!0},!0),o.length=0),n.viewChildren=o,n.setLayout({dataExtent:u.dataExtent},!0),o}function yOe(n,e,t,r,i){if(!r)return t;for(var a=n.get("visibleMin"),o=i.length,s=o,l=o-1;l>=0;l--){var u=i[r==="asc"?o-l-1:l].getValue();u/t*e<a&&(s=l,t-=u)}return r==="asc"?i.splice(0,o-s):i.splice(s,o-s),t}function xOe(n,e){return e&&n.sort(function(t,r){var i=e==="asc"?t.getValue()-r.getValue():r.getValue()-t.getValue();return i===0?e==="asc"?t.dataIndex-r.dataIndex:r.dataIndex-t.dataIndex:i}),n}function _Oe(n,e,t){for(var r=0,i=0,a=e.length;i<a;i++)r+=e[i].getValue();var o=n.get("visualDimension"),s;return!e||!e.length?s=[NaN,NaN]:o==="value"&&t?(s=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&s.reverse()):(s=[1/0,-1/0],tU(e,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:r,dataExtent:s}}function bOe(n,e,t){for(var r=0,i=1/0,a=0,o=void 0,s=n.length;a<s;a++)o=n[a].getLayout().area,o&&(o<i&&(i=o),o>r&&(r=o));var l=n.area*n.area,u=e*e*t;return l?F2(u*r/l,l/(u*i)):1/0}function eW(n,e,t,r,i){var a=e===t.width?0:1,o=1-a,s=["x","y"],l=["width","height"],u=t[s[a]],c=e?n.area/e:0;(i||c>t[l[o]])&&(c=t[l[o]]);for(var f=0,h=n.length;f<h;f++){var d=n[f],v={},g=c?d.getLayout().area/c:0,y=v[l[o]]=F2(c-2*r,0),x=t[s[a]]+t[l[a]]-u,b=f===h-1||x<g?x:g,T=v[l[a]]=F2(b-2*r,0);v[s[o]]=t[s[o]]+V3(r,y/2),v[s[a]]=u+V3(r,T/2),u+=b,d.setLayout(v,!0)}t[s[o]]+=c,t[l[o]]-=c}function SOe(n,e,t,r,i){var a=(e||{}).node,o=[r,i];if(!a||a===t)return o;for(var s,l=r*i,u=l*n.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,f=s.children,h=0,d=f.length;h<d;h++)c+=f[h].getValue();var v=a.getValue();if(v===0)return o;u*=c/v;var g=s.getModel(),y=g.get(Ore),x=Math.max(y,kre(g));u+=4*y*y+(3*y+x)*Math.pow(u,.5),u>yP&&(u=yP),a=s}u<l&&(u=l);var b=Math.pow(u/l,.5);return[r*b,i*b]}function wOe(n,e,t){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!t)return r;var i=t.node,a=i.getLayout();if(!a)return r;for(var o=[a.width/2,a.height/2],s=i;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:n.width/2-o[0],y:n.height/2-o[1]}}function zre(n,e,t,r,i){var a=n.getLayout(),o=t[i],s=o&&o===n;if(!(o&&!s||i===t.length&&n!==r)){n.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var l=new Wt(e.x-a.x,e.y-a.y,e.width,e.height);tU(n.viewChildren||[],function(u){zre(u,l,t,r,i+1)})}}function kre(n){return n.get(pOe)?n.get(vOe):0}function TOe(n){n.registerSeriesModel(HIe),n.registerChartView(eOe),n.registerVisual(lOe),n.registerLayout(gOe),GIe(n)}function MOe(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var r=t.getCategoriesData(),i=t.getGraph(),a=i.data,o=r.mapArray(r.getName);a.filterSelf(function(s){var l=a.getItemModel(s),u=l.getShallow("category");if(u!=null){Pn(u)&&(u=o[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function AOe(n){var e={};n.eachSeriesByType("graph",function(t){var r=t.getCategoriesData(),i=t.getData(),a={};r.each(function(o){var s=r.getName(o);a["ec-"+s]=o;var l=r.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(s,e)),r.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var h=l.getShallow(c[f],!0);h!=null&&r.setItemVisual(o,c[f],h)}}),r.count()&&i.each(function(o){var s=i.getItemModel(o),l=s.getShallow("category");if(l!=null){vt(l)&&(l=a["ec-"+l]);var u=r.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(o,"style");je(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],h=0;h<f.length;h++)i.setItemVisual(o,f[h],r.getItemVisual(l,f[h]))}})})}function KA(n){return n instanceof Array||(n=[n,n]),n}function COe(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),r=e.getEdgeData(),i=KA(e.get("edgeSymbol")),a=KA(e.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),r.setVisual("style",e.getModel("lineStyle").getLineStyle()),r.each(function(o){var s=r.getItemModel(o),l=t.getEdgeByIndex(o),u=KA(s.getShallow("symbol",!0)),c=KA(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),h=r.ensureUniqueItemVisual(o,"style");switch(je(h,f),h.stroke){case"source":{var d=l.node1.getVisual("style");h.stroke=d&&d.fill;break}case"target":{var d=l.node2.getVisual("style");h.stroke=d&&d.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var C4="-->",IN=function(n){return n.get("autoCurveness")||null},Bre=function(n,e){var t=IN(n),r=20,i=[];if(Pn(t))r=t;else if(Ke(t)){n.__curvenessList=t;return}e>r&&(r=e);var a=r%2?r+2:r+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));n.__curvenessList=i},G2=function(n,e,t){var r=[n.id,n.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[t.uid,r,i].join(C4)},Ure=function(n){var e=n.split(C4);return[e[0],e[2],e[1]].join(C4)},EOe=function(n,e){var t=G2(n.node1,n.node2,e);return e.__edgeMap[t]},DOe=function(n,e){var t=E4(G2(n.node1,n.node2,e),e),r=E4(G2(n.node2,n.node1,e),e);return t+r},E4=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function NOe(n){IN(n)&&(n.__curvenessList=[],n.__edgeMap={},Bre(n))}function ROe(n,e,t,r){if(IN(t)){var i=G2(n,e,t),a=t.__edgeMap,o=a[Ure(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(r)}}function nU(n,e,t,r){var i=IN(e),a=Ke(i);if(!i)return null;var o=EOe(n,e);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===t){s=l;break}var u=DOe(n,e);Bre(e,u),n.lineStyle=n.lineStyle||{};var c=G2(n.node1,n.node2,e),f=e.__curvenessList,h=a||u%2?0:1;if(o.isForward)return f[h+s];var d=Ure(c),v=E4(d,e),g=f[s+v+h];return r?a?i&&i[0]===0?(v+h)%2?g:-g:((v%2?0:1)+h)%2?g:-g:(v+h)%2?g:-g:f[s+v+h]}function Vre(n){var e=n.coordinateSystem;if(!(e&&e.type!=="view")){var t=n.getGraph();t.eachNode(function(r){var i=r.getModel();r.setLayout([+i.get("x"),+i.get("y")])}),rU(t,n)}}function rU(n,e){n.eachEdge(function(t,r){var i=zs(t.getModel().get(["lineStyle","curveness"]),-nU(t,e,r,!0),0),a=cf(t.node1.getLayout()),o=cf(t.node2.getLayout()),s=[a,o];+i&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),t.setLayout(s)})}function LOe(n,e){n.eachSeriesByType("graph",function(t){var r=t.get("layout"),i=t.coordinateSystem;if(i&&i.type!=="view"){var a=t.getData(),o=[];J(i.dimensions,function(h){o=o.concat(a.mapDimensionsAll(h))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=a.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(s,i.dataToPoint(l)):a.setItemLayout(s,[NaN,NaN])}rU(a.graph,t)}else(!r||r==="none")&&Vre(t)})}function fS(n){var e=n.coordinateSystem;if(e.type!=="view")return 1;var t=n.option.nodeScaleRatio,r=e.scaleX,i=e.getZoom(),a=(i-1)*t+1;return a/r}function hS(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var tW=Math.PI,mO=[];function iU(n,e,t,r){var i=n.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),o=n.getData(),s=o.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(t){var h=i.pointToData(r),d=h[0],v=h[1],g=[d-l,v-u];Nm(g,g),NS(g,g,c),t.setLayout([l+g[0],u+g[1]],!0);var y=n.get(["circular","rotateLabel"]);Fre(t,y,l,u)}IOe[e](n,s,o,c,l,u,f),s.eachEdge(function(x,b){var T=zs(x.getModel().get(["lineStyle","curveness"]),nU(x,n,b),0),M=cf(x.node1.getLayout()),C=cf(x.node2.getLayout()),D,R=(M[0]+C[0])/2,I=(M[1]+C[1])/2;+T&&(T*=3,D=[l*T+R*(1-T),u*T+I*(1-T)]),x.setLayout([M,C,D])})}}}var IOe={value:function(n,e,t,r,i,a,o){var s=0,l=t.getSum("value"),u=Math.PI*2/(l||o);e.eachNode(function(c){var f=c.getValue("value"),h=u*(l?f:1)/2;s+=h,c.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+a]),s+=h})},symbolSize:function(n,e,t,r,i,a,o){var s=0;mO.length=o;var l=fS(n);e.eachNode(function(f){var h=hS(f);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var d=Math.asin(h/2/r);isNaN(d)&&(d=tW/2),mO[f.dataIndex]=d,s+=d*2});var u=(2*tW-s)/o/2,c=0;e.eachNode(function(f){var h=u+mO[f.dataIndex];c+=h,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+a]),c+=h})}};function Fre(n,e,t,r){var i=n.getGraphicEl();if(i){var a=n.getModel(),o=a.get(["label","rotate"])||0,s=i.getSymbolPath();if(e){var l=n.getLayout(),u=Math.atan2(l[1]-r,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var h=s.ensureState("emphasis");je(h.textConfig||(h.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function OOe(n){n.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&iU(e,"symbolSize")})}var Iy=qE;function POe(n,e,t){for(var r=n,i=e,a=t.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],u=t.gravity==null?.1:t.gravity,c=0;c<r.length;c++){var f=r[c];f.p||(f.p=jp(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=cf(f.p),f.edges=null}var h=t.friction==null?.6:t.friction,d=h,v,g;return{warmUp:function(){d=h*.8},setFixed:function(y){r[y].fixed=!0},setUnfixed:function(y){r[y].fixed=!1},beforeStep:function(y){v=y},afterStep:function(y){g=y},step:function(y){v&&v(r,i);for(var x=[],b=r.length,T=0;T<i.length;T++){var M=i[T];if(!M.ignoreForceLayout){var C=M.n1,D=M.n2;fp(x,D.p,C.p);var R=g2(x)-M.d,I=D.w/(C.w+D.w);isNaN(I)&&(I=0),Nm(x,x),!C.fixed&&Iy(C.p,C.p,x,I*R*d),!D.fixed&&Iy(D.p,D.p,x,-(1-I)*R*d)}}for(var T=0;T<b;T++){var L=r[T];L.fixed||(fp(x,l,L.p),Iy(L.p,L.p,x,u*d))}for(var T=0;T<b;T++)for(var C=r[T],O=T+1;O<b;O++){var D=r[O];fp(x,D.p,C.p);var R=g2(x);R===0&&(nN(x,Math.random()-.5,Math.random()-.5),R=1);var B=(C.rep+D.rep)/R/R;!C.fixed&&Iy(C.pp,C.pp,x,B),!D.fixed&&Iy(D.pp,D.pp,x,-B)}for(var V=[],T=0;T<b;T++){var L=r[T];L.fixed||(fp(V,L.p,L.pp),Iy(L.p,L.p,V,d),Ro(L.pp,L.p))}d=d*.992;var F=d<.01;g&&g(r,i,F),y&&y(F)}}}function zOe(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var r=e.preservedPoints||{},i=e.getGraph(),a=i.data,o=i.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?a.each(function(T){var M=a.getId(T);a.setItemLayout(T,r[M]||[NaN,NaN])}):!l||l==="none"?Vre(e):l==="circular"&&iU(e,"value");var u=a.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),h=s.get("edgeLength"),d=Ke(f)?f:[f,f],v=Ke(h)?h:[h,h];v=[v[1],v[0]];var g=a.mapArray("value",function(T,M){var C=a.getItemLayout(M),D=er(T,u,d);return isNaN(D)&&(D=(d[0]+d[1])/2),{w:D,rep:D,fixed:a.getItemModel(M).get("fixed"),p:!C||isNaN(C[0])||isNaN(C[1])?null:C}}),y=o.mapArray("value",function(T,M){var C=i.getEdgeByIndex(M),D=er(T,c,v);isNaN(D)&&(D=(v[0]+v[1])/2);var R=C.getModel(),I=zs(C.getModel().get(["lineStyle","curveness"]),-nU(C,e,M,!0),0);return{n1:g[C.node1.dataIndex],n2:g[C.node2.dataIndex],d:D,curveness:I,ignoreForceLayout:R.get("ignoreForceLayout")}}),x=t.getBoundingRect(),b=POe(g,y,{rect:x,gravity:s.get("gravity"),friction:s.get("friction")});b.beforeStep(function(T,M){for(var C=0,D=T.length;C<D;C++)T[C].fixed&&Ro(T[C].p,i.getNodeByIndex(C).getLayout())}),b.afterStep(function(T,M,C){for(var D=0,R=T.length;D<R;D++)T[D].fixed||i.getNodeByIndex(D).setLayout(T[D].p),r[a.getId(D)]=T[D].p;for(var D=0,R=M.length;D<R;D++){var I=M[D],L=i.getEdgeByIndex(D),O=I.n1.p,B=I.n2.p,V=L.getLayout();V=V?V.slice():[],V[0]=V[0]||[],V[1]=V[1]||[],Ro(V[0],O),Ro(V[1],B),+I.curveness&&(V[2]=[(O[0]+B[0])/2-(O[1]-B[1])*I.curveness,(O[1]+B[1])/2-(B[0]-O[0])*I.curveness]),L.setLayout(V)}}),e.forceLayout=b,e.preservedPoints=r,b.step()}else e.forceLayout=null})}function kOe(n,e,t){var r=ha(n,e),i=je(n.getBoxLayoutParams(),{aspect:t}),a=Kr(i,r.refContainer);return vee(n,a,t)}function BOe(n,e){var t=[];return n.eachSeriesByType("graph",function(r){Mw({targetModel:r,coordSysType:"view",coordSysProvider:i,isDefaultDataCoordSys:!0});function i(){var a=r.getData(),o=a.mapArray(function(v){var g=a.getItemModel(v);return[+g.get("x"),+g.get("y")]}),s=[],l=[];fN(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=kOe(r,e,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],h=l[1]-s[1],d=new Bm(null,{api:e,ecModel:n});return d.zoomLimit=r.get("scaleLimit"),d.setBoundingRect(s[0],s[1],f,h),d.setViewRect(c.x,c.y,c.width,c.height),d.setCenter(r.get("center")),d.setZoom(r.get("zoom")),t.push(d),d}}),t}var nW=Bi.prototype,yO=c_.prototype,Gre=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n})();(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(Gre);function xO(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var Hre=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-line",r}return e.prototype.getDefaultStyle=function(){return{stroke:De.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new Gre},e.prototype.buildPath=function(t,r){xO(r)?nW.buildPath.call(this,t,r):yO.buildPath.call(this,t,r)},e.prototype.pointAt=function(t){return xO(this.shape)?nW.pointAt.call(this,t):yO.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var r=this.shape,i=xO(r)?[r.x2-r.x1,r.y2-r.y1]:yO.tangentAt.call(this,t);return Nm(i,i)},e})(Mn),_O=["fromSymbol","toSymbol"];function rW(n){return"_"+n+"Type"}function iW(n,e,t){var r=e.getItemVisual(t,n);if(!r||r==="none")return r;var i=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),o=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),l=x_(i),u=Pm(o||0,l);return r+l+u+(a||"")+(s||"")}function aW(n,e,t){var r=e.getItemVisual(t,n);if(!(!r||r==="none")){var i=e.getItemVisual(t,n+"Size"),a=e.getItemVisual(t,n+"Rotate"),o=e.getItemVisual(t,n+"Offset"),s=e.getItemVisual(t,n+"KeepAspect"),l=x_(i),u=Pm(o||0,l),c=Vi(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=n,c}}function UOe(n){var e=new Hre({name:"line",subPixelOptimize:!0});return D4(e.shape,n),e}function D4(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var aU=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this)||this;return a._createLine(t,r,i),a}return e.prototype._createLine=function(t,r,i){var a=t.hostModel,o=t.getItemLayout(r),s=t.getItemVisual(r,"z2"),l=UOe(o);l.shape.percent=0,Gr(l,{z2:At(s,0),shape:{percent:1}},a,r),this.add(l),J(_O,function(u){var c=aW(u,t,r);this.add(c),this[rW(u)]=iW(u,t,r)},this),this._updateCommonStl(t,r,i)},e.prototype.updateData=function(t,r,i){var a=t.hostModel,o=this.childOfName("line"),s=t.getItemLayout(r),l={shape:{}};D4(l.shape,s),Gn(o,l,a,r),J(_O,function(u){var c=iW(u,t,r),f=rW(u);if(this[f]!==c){this.remove(this.childOfName(u));var h=aW(u,t,r);this.add(h)}this[f]=c},this),this._updateCommonStl(t,r,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,r,i){var a=t.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,h=i&&i.focus,d=i&&i.blurScope;if(!i||t.hasItemOption){var v=t.getItemModel(r),g=v.getModel("emphasis");s=g.getModel("lineStyle").getLineStyle(),l=v.getModel(["blur","lineStyle"]).getLineStyle(),u=v.getModel(["select","lineStyle"]).getLineStyle(),f=g.get("disabled"),h=g.get("focus"),d=g.get("blurScope"),c=fa(v)}var y=t.getItemVisual(r,"style"),x=y.stroke;o.useStyle(y),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,J(_O,function(D){var R=this.childOfName(D);if(R){R.setColor(x),R.style.opacity=y.opacity;for(var I=0;I<ps.length;I++){var L=ps[I],O=o.getState(L);if(O){var B=O.style||{},V=R.ensureState(L),F=V.style||(V.style={});B.stroke!=null&&(F[R.__isEmptyBrush?"stroke":"fill"]=B.stroke),B.opacity!=null&&(F.opacity=B.opacity)}}R.markRedraw()}},this);var b=a.getRawValue(r);Na(this,c,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(D,R){return a.getFormattedLabel(D,R,t.dataType)}},inheritColor:x||De.color.neutral99,defaultOpacity:y.opacity,defaultText:(b==null?t.getName(r):isFinite(b)?ki(b):b)+""});var T=this.getTextContent();if(T){var M=c.normal;T.__align=T.style.align,T.__verticalAlign=T.style.verticalAlign,T.__position=M.get("position")||"middle";var C=M.get("distance");Ke(C)||(C=[C,C]),T.__labelDistance=C}this.setTextConfig({position:null,local:!0,inside:!1}),ti(this,h,d,f)},e.prototype.highlight=function(){Hh(this)},e.prototype.downplay=function(){jh(this)},e.prototype.updateLayout=function(t,r){this.setLinePoints(t.getItemLayout(r))},e.prototype.setLinePoints=function(t){var r=this.childOfName("line");D4(r.shape,t),r.dirty()},e.prototype.beforeUpdate=function(){var t=this,r=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),a=t.getTextContent();if(!r&&!i&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),h=fp([],f,c);Nm(h,h);function d(O,B){var V=O.__specifiedRotation;if(V==null){var F=l.tangentAt(B);O.attr("rotation",(B===1?-1:1)*Math.PI/2-Math.atan2(F[1],F[0]))}else O.attr("rotation",V)}if(r&&(r.setPosition(c),d(r,0),r.scaleX=r.scaleY=o*u,r.markRedraw()),i&&(i.setPosition(f),d(i,1),i.scaleX=i.scaleY=o*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var v=void 0,g=void 0,y=a.__labelDistance,x=y[0]*o,b=y[1]*o,T=u/2,M=l.tangentAt(T),C=[M[1],-M[0]],D=l.pointAt(T);C[1]>0&&(C[0]=-C[0],C[1]=-C[1]);var R=M[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var I=-Math.atan2(M[1],M[0]);f[0]<c[0]&&(I=Math.PI+I),a.rotation=I}var L=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":L=-b,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":L=b,g="top";break;default:L=0,g="middle"}switch(a.__position){case"end":a.x=h[0]*x+f[0],a.y=h[1]*b+f[1],v=h[0]>.8?"left":h[0]<-.8?"right":"center",g=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":a.x=-h[0]*x+c[0],a.y=-h[1]*b+c[1],v=h[0]>.8?"right":h[0]<-.8?"left":"center",g=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=x*R+c[0],a.y=c[1]+L,v=M[0]<0?"right":"left",a.originX=-x*R,a.originY=-L;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=D[0],a.y=D[1]+L,v="center",a.originY=-L;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-x*R+f[0],a.y=f[1]+L,v=M[0]>=0?"right":"left",a.originX=x*R,a.originY=-L;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||g,align:a.__align||v})}},e})(zt),oU=(function(){function n(e){this.group=new zt,this._LineCtor=e||aU}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var r=this,i=r.group,a=r._lineData;r._lineData=e,a||i.removeAll();var o=oW(e);e.diff(a).add(function(s){t._doAdd(e,s,o)}).update(function(s,l){t._doUpdate(a,e,l,s,o)}).remove(function(s){i.remove(a.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,r){t.updateLayout(e,r)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=oW(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function r(s){!s.isGroup&&!VOe(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var a=t.getItemLayout(i);if(bO(a)){var o=new this._LineCtor(t,i,this._seriesScope);o.traverse(r),this.group.add(o),t.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){Wp(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,r){var i=e.getItemLayout(t);if(bO(i)){var a=new this._LineCtor(e,t,r);e.setItemGraphicEl(t,a),this.group.add(a)}},n.prototype._doUpdate=function(e,t,r,i,a){var o=e.getItemGraphicEl(r);if(!bO(t.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(t,i,a):o=new this._LineCtor(t,i,a),t.setItemGraphicEl(i,o),this.group.add(o)},n})();function VOe(n){return n.animators&&n.animators.length>0}function oW(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:fa(e)}}function sW(n){return isNaN(n[0])||isNaN(n[1])}function bO(n){return n&&!sW(n[0])&&!sW(n[1])}var SO=[],wO=[],TO=[],Oy=Wa,MO=xp,lW=Math.abs;function uW(n,e,t){for(var r=n[0],i=n[1],a=n[2],o=1/0,s,l=t*t,u=.1,c=.1;c<=.9;c+=.1){SO[0]=Oy(r[0],i[0],a[0],c),SO[1]=Oy(r[1],i[1],a[1],c);var f=lW(MO(SO,e)-l);f<o&&(o=f,s=c)}for(var h=0;h<32;h++){var d=s+u;wO[0]=Oy(r[0],i[0],a[0],s),wO[1]=Oy(r[1],i[1],a[1],s),TO[0]=Oy(r[0],i[0],a[0],d),TO[1]=Oy(r[1],i[1],a[1],d);var f=MO(wO,e)-l;if(lW(f)<.01)break;var v=MO(TO,e)-l;u/=2,f<0?v>=0?s=s+u:s=s-u:v>=0?s=s-u:s=s+u}return s}function AO(n,e){var t=[],r=m2,i=[[],[],[]],a=[[],[]],o=[];e/=2,n.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[cf(u[0]),cf(u[1])],u[2]&&u.__original.push(cf(u[2])));var h=u.__original;if(u[2]!=null){if(Ro(i[0],h[0]),Ro(i[1],h[2]),Ro(i[2],h[1]),c&&c!=="none"){var d=hS(s.node1),v=uW(i,h[0],d*e);r(i[0][0],i[1][0],i[2][0],v,t),i[0][0]=t[3],i[1][0]=t[4],r(i[0][1],i[1][1],i[2][1],v,t),i[0][1]=t[3],i[1][1]=t[4]}if(f&&f!=="none"){var d=hS(s.node2),v=uW(i,h[1],d*e);r(i[0][0],i[1][0],i[2][0],v,t),i[1][0]=t[1],i[2][0]=t[2],r(i[0][1],i[1][1],i[2][1],v,t),i[1][1]=t[1],i[2][1]=t[2]}Ro(u[0],i[0]),Ro(u[1],i[2]),Ro(u[2],i[1])}else{if(Ro(a[0],h[0]),Ro(a[1],h[1]),fp(o,a[1],a[0]),Nm(o,o),c&&c!=="none"){var d=hS(s.node1);qE(a[0],a[0],o,d*e)}if(f&&f!=="none"){var d=hS(s.node2);qE(a[1],a[1],o,-d*e)}Ro(u[0],a[0]),Ro(u[1],a[1])}})}var jre=Sn();function FOe(n){if(n)return jre(n).bridge}function cW(n,e){n&&(jre(n).bridge=e)}function fW(n){return n.type==="view"}var GOe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){var i=new Dw,a=new oU,o=this.group,s=new zt;this._controller=new km(r.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),o.add(s),this._symbolDraw=i,this._lineDraw=a,this._mainGroup=s,this._firstRender=!0},e.prototype.render=function(t,r,i){var a=this,o=t.coordinateSystem,s=!1;this._model=t,this._api=i,this._active=!0;var l=this._getThumbnailInfo();l&&l.bridge.reset(i);var u=this._symbolDraw,c=this._lineDraw;if(fW(o)){var f={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?this._mainGroup.attr(f):Gn(this._mainGroup,f,t)}AO(t.getGraph(),fS(t));var h=t.getData();u.updateData(h);var d=t.getEdgeData();c.updateData(d),this._updateNodeAndLinkScale(),this._updateController(null,t,i),clearTimeout(this._layoutTimeout);var v=t.forceLayout,g=t.get(["force","layoutAnimation"]);v&&(s=!0,this._startForceLayoutIteration(v,i,g));var y=t.get("layout");h.graph.eachNode(function(M){var C=M.dataIndex,D=M.getGraphicEl(),R=M.getModel();if(D){D.off("drag").off("dragend");var I=R.get("draggable");I&&D.on("drag",function(O){switch(y){case"force":v.warmUp(),!a._layouting&&a._startForceLayoutIteration(v,i,g),v.setFixed(C),h.setItemLayout(C,[D.x,D.y]);break;case"circular":h.setItemLayout(C,[D.x,D.y]),M.setLayout({fixed:!0},!0),iU(t,"symbolSize",M,[O.offsetX,O.offsetY]),a.updateLayout(t);break;case"none":default:h.setItemLayout(C,[D.x,D.y]),rU(t.getGraph(),t),a.updateLayout(t);break}}).on("dragend",function(){v&&v.setUnfixed(C)}),D.setDraggable(I,!!R.get("cursor"));var L=R.get(["emphasis","focus"]);L==="adjacency"&&(Xt(D).focus=M.getAdjacentDataIndices())}}),h.graph.eachEdge(function(M){var C=M.getGraphicEl(),D=M.getModel().get(["emphasis","focus"]);C&&D==="adjacency"&&(Xt(C).focus={edge:[M.dataIndex],node:[M.node1.dataIndex,M.node2.dataIndex]})});var x=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),b=h.getLayout("cx"),T=h.getLayout("cy");h.graph.eachNode(function(M){Fre(M,x,b,T)}),this._firstRender=!1,s||this._renderThumbnail(t,i,this._symbolDraw,this._lineDraw)},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,r,i){var a=this,o=!1;(function s(){t.step(function(l){a.updateLayout(a._model),(l||!o)&&(o=!0,a._renderThumbnail(a._model,r,a._symbolDraw,a._lineDraw)),(a._layouting=!l)&&(i?a._layoutTimeout=setTimeout(s,16):s())})})()},e.prototype._updateController=function(t,r,i){var a=this._controller,o=this._controllerHost,s=r.coordinateSystem;if(!fW(s)){a.disable();return}a.enable(r.get("roam"),{api:i,zInfo:{component:r},triggerInfo:{roamTrigger:r.get("roamTrigger"),isInSelf:function(l,u,c){return s.containPoint([u,c])},isInClip:function(l,u,c){return!t||t.contain(u,c)}}}),o.zoomLimit=r.get("scaleLimit"),o.zoom=s.getZoom(),a.off("pan").off("zoom").on("pan",function(l){i.dispatchAction({seriesId:r.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){i.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY})})},e.prototype.updateViewOnPan=function(t,r,i){this._active&&(qB(this._controllerHost,i.dx,i.dy),this._updateThumbnailWindow())},e.prototype.updateViewOnZoom=function(t,r,i){this._active&&(ZB(this._controllerHost,i.zoom,i.originX,i.originY),this._updateNodeAndLinkScale(),AO(t.getGraph(),fS(t)),this._lineDraw.updateLayout(),r.updateLabelLayout(),this._updateThumbnailWindow())},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,r=t.getData(),i=fS(t);r.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},e.prototype.updateLayout=function(t){this._active&&(AO(t.getGraph(),fS(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout())},e.prototype.remove=function(){this._active=!1,clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove(),this._controller&&this._controller.disable()},e.prototype._getThumbnailInfo=function(){var t=this._model,r=t.coordinateSystem;if(r.type==="view"){var i=FOe(t);if(i)return{bridge:i,coordSys:r}}},e.prototype._updateThumbnailWindow=function(){var t=this._getThumbnailInfo();t&&t.bridge.updateWindow(t.coordSys.transform,this._api)},e.prototype._renderThumbnail=function(t,r,i,a){var o=this._getThumbnailInfo();if(o){var s=new zt,l=i.group.children(),u=a.group.children(),c=new zt,f=new zt;s.add(f),s.add(c);for(var h=0;h<l.length;h++){var d=l[h],v=d.children()[0],g=d.x,y=d.y,x=Pt(v.shape),b=je(x,{width:v.scaleX,height:v.scaleY,x:g-v.scaleX/2,y:y-v.scaleY/2}),T=Pt(v.style),M=new v.constructor({shape:b,style:T,z2:151});f.add(M)}for(var h=0;h<u.length;h++){var d=u[h],C=d.children()[0],T=Pt(C.style),b=Pt(C.shape),D=new Hre({style:T,shape:b,z2:151});c.add(D)}o.bridge.renderContent({api:r,roamType:t.get("roam"),viewportRect:null,group:s,targetTrans:o.coordSys.transform})}},e.type="graph",e})(vr);function Py(n){return"_EC_"+n}var HOe=(function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var r=this._nodesMap;if(!r[Py(e)]){var i=new Pg(e,t);return i.hostGraph=this,this.nodes.push(i),r[Py(e)]=i,i}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[Py(e)]},n.prototype.addEdge=function(e,t,r){var i=this._nodesMap,a=this._edgesMap;if(Pn(e)&&(e=this.nodes[e]),Pn(t)&&(t=this.nodes[t]),e instanceof Pg||(e=i[Py(e)]),t instanceof Pg||(t=i[Py(t)]),!(!e||!t)){var o=e.id+"-"+t.id,s=new Wre(e,t,r);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),a[o]=s,s}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof Pg&&(e=e.id),t instanceof Pg&&(t=t.id);var r=this._edgesMap;return this._directed?r[e+"-"+t]:r[e+"-"+t]||r[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var r=this.nodes,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&e.call(t,r[a],a)},n.prototype.eachEdge=function(e,t){for(var r=this.edges,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0&&e.call(t,r[a],a)},n.prototype.breadthFirstTraverse=function(e,t,r,i){if(t instanceof Pg||(t=this._nodesMap[Py(t)]),!!t){for(var a=r==="out"?"outEdges":r==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(i,t,null))for(var s=[t];s.length;)for(var l=s.shift(),u=l[a],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(e.call(i,f,l))return;s.push(f),f.__visited=!0}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,r=this.nodes,i=this.edges,a=0,o=r.length;a<o;a++)r[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)r[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(s){var l=i[t.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)i[t.getRawIndex(a)].dataIndex=a},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,r=this.edges,i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(var i=0;i<r.length;i++){var a=r[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},n})(),Pg=(function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var r=this.edges[t];r.dataIndex<0||(e.edge.push(r.dataIndex),e.node.push(r.node1.dataIndex,r.node2.dataIndex))}return e},n.prototype.getTrajectoryDataIndices=function(){for(var e=Tt(),t=Tt(),r=0,i=this.edges.length;r<i;r++){var a=this.edges[r];if(!(a.dataIndex<0)){e.set(a.dataIndex,!0);for(var o=[a.node1],s=[a.node2],l=0;l<o.length;){var u=o[l];l++,t.set(u.dataIndex,!0);for(var c=u.inEdges,f=0,h=c.length,d=void 0,v=void 0;f<h;f++)d=c[f],v=d.dataIndex,v>=0&&!e.hasKey(v)&&(e.set(v,!0),o.push(d.node1))}for(l=0;l<s.length;){var g=s[l];l++,t.set(g.dataIndex,!0);for(var y=g.outEdges,f=0,x=y.length,b=void 0,T=void 0;f<x;f++)b=y[f],T=b.dataIndex,T>=0&&!e.hasKey(T)&&(e.set(T,!0),s.push(b.node2))}}}return{edge:e.keys(),node:t.keys()}},n})(),Wre=(function(){function n(e,t,r){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=r??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,r=t.edgeData.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var e=Tt(),t=Tt();e.set(this.dataIndex,!0);for(var r=[this.node1],i=[this.node2],a=0;a<r.length;){var o=r[a];a++,t.set(o.dataIndex,!0);for(var s=o.inEdges,l=0,u=s.length,c=void 0,f=void 0;l<u;l++)c=o.inEdges[l],f=c.dataIndex,f>=0&&!e.hasKey(f)&&(e.set(f,!0),r.push(c.node1))}for(a=0;a<i.length;){var h=i[a];a++,t.set(h.dataIndex,!0);for(var d=h.outEdges,l=0,u=d.length,v=void 0,g=void 0;l<u;l++)v=h.outEdges[l],g=v.dataIndex,g>=0&&!e.hasKey(g)&&(e.set(g,!0),i.push(v.node2))}return{edge:e.keys(),node:t.keys()}},n})();function Yre(n,e){return{getValue:function(t){var r=this[n][e];return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,r){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,r)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,r){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,r)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}Ci(Pg,Yre("hostGraph","data"));Ci(Wre,Yre("hostGraph","edgeData"));function sU(n,e,t,r,i){for(var a=new HOe(r),o=0;o<n.length;o++)a.addNode(Ya(n[o].id,n[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<e.length;o++){var c=e[o],f=c.source,h=c.target;a.addEdge(f,h,u)&&(l.push(c),s.push(Ya(ua(c.id,null),f+" > "+h)),u++)}var d=t.get("coordinateSystem"),v;if(d==="cartesian2d"||d==="polar"||d==="matrix")v=Tf(n,t);else{var g=g_.get(d),y=g?g.dimensions||[]:[];on(y,"value")<0&&y.concat(["value"]);var x=__(n,{coordDimensions:y,encodeDefine:t.getEncode()}).dimensions;v=new Uo(x,t),v.initData(n)}var b=new Uo(["value"],t);return b.initData(l,s),i&&i(v,b),Are({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var jOe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new M_(i,i),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),vm(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,r){var i=t.edges||t.links||[],a=t.data||t.nodes||[],o=this;if(a&&i){NOe(this);var s=sU(a,i,this,!0,l);return J(s.edges,function(u){ROe(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(v){var g=o._categoriesModels,y=v.getShallow("category"),x=g[y];return x&&(x.parentModel=v.parentModel,v.parentModel=x),v});var f=Tn.prototype.getModel;function h(v,g){var y=f.call(this,v,g);return y.resolveParentPath=d,y}c.wrapMethod("getItemModel",function(v){return v.resolveParentPath=d,v.getModel=h,v});function d(v){if(v&&(v[0]==="label"||v[1]==="label")){var g=v.slice();return v[0]==="label"?g[0]="edgeLabel":v[1]==="label"&&(g[1]="edgeLabel"),g}return v}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,r,i){if(i==="edge"){var a=this.getData(),o=this.getDataParams(t,i),s=a.graph.getEdgeByIndex(t),l=a.getName(s.node1.dataIndex),u=a.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),ea("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=Zee({series:this,dataIndex:t,multipleSeries:r});return f},e.prototype._updateCategoriesData=function(){var t=$e(this.option.categories||[],function(i){return i.value!=null?i:je({value:0},i)}),r=new Uo(["value"],this);r.initData(t),this._categoriesData=r,this._categoriesModels=r.mapArray(function(i){return r.getItemModel(i)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:De.color.neutral50,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:De.color.primary}}},e})(_r);function WOe(n){n.registerChartView(GOe),n.registerSeriesModel(jOe),n.registerProcessor(MOe),n.registerVisual(AOe),n.registerVisual(COe),n.registerLayout(LOe),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,OOe),n.registerLayout(zOe),n.registerCoordinateSystem("graphView",{dimensions:Bm.dimensions,create:BOe}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Mi),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Mi),n.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",query:e},function(i){var a=r.getViewOfSeriesModel(i);a&&(e.dx!=null&&e.dy!=null&&a.updateViewOnPan(i,r,e),e.zoom!=null&&e.originX!=null&&e.originY!=null&&a.updateViewOnZoom(i,r,e));var o=i.coordinateSystem,s=NN(o,e,i.get("scaleLimit"));i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}var hW=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this)||this;Xt(a).dataType="node",a.z2=2;var o=new On;return a.setTextContent(o),a.updateData(t,r,i,!0),a}return e.prototype.updateData=function(t,r,i,a){var o=this,s=t.graph.getNodeByIndex(r),l=t.hostModel,u=s.getModel(),c=u.getModel("emphasis"),f=t.getItemLayout(r),h=je(of(u.getModel("itemStyle"),f,!0),f),d=this;if(isNaN(h.startAngle)){d.setShape(h);return}a?d.setShape(h):Gn(d,{shape:h},l,r);var v=je(of(u.getModel("itemStyle"),f,!0),f);o.setShape(v),o.useStyle(t.getItemVisual(r,"style")),ca(o,u),this._updateLabel(l,u,s),t.setItemGraphicEl(r,d),ca(d,u,"itemStyle");var g=c.get("focus");ti(this,g==="adjacency"?s.getAdjacentDataIndices():g,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var a=this.getTextContent(),o=i.getLayout(),s=(o.startAngle+o.endAngle)/2,l=Math.cos(s),u=Math.sin(s),c=r.getModel("label");a.ignore=!c.get("show");var f=fa(r),h=i.getVisual("style");Na(a,f,{labelFetcher:{getFormattedLabel:function(b,T,M,C,D,R){return t.getFormattedLabel(b,T,"node",C,zs(D,f.normal&&f.normal.get("formatter"),r.get("name")),R)}},labelDataIndex:i.dataIndex,defaultText:i.dataIndex+"",inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:"startArc"});var d=c.get("position")||"outside",v=c.get("distance")||0,g;d==="outside"?g=o.r+v:g=(o.r+o.r0)/2,this.textConfig={inside:d!=="outside"};var y=d!=="outside"?c.get("align")||"center":l>0?"left":"right",x=d!=="outside"?c.get("verticalAlign")||"middle":u>0?"top":"bottom";a.attr({x:l*g+o.cx,y:u*g+o.cy,rotation:0,style:{align:y,verticalAlign:x}})},e})(co),YOe=(function(n){Oe(e,n);function e(t,r,i,a){var o=n.call(this)||this;return Xt(o).dataType="edge",o.updateData(t,r,i,a,!0),o}return e.prototype.buildPath=function(t,r){t.moveTo(r.s1[0],r.s1[1]);var i=.7,a=r.clockwise;t.arc(r.cx,r.cy,r.r,r.sStartAngle,r.sEndAngle,!a),t.bezierCurveTo((r.cx-r.s2[0])*i+r.s2[0],(r.cy-r.s2[1])*i+r.s2[1],(r.cx-r.t1[0])*i+r.t1[0],(r.cy-r.t1[1])*i+r.t1[1],r.t1[0],r.t1[1]),t.arc(r.cx,r.cy,r.r,r.tStartAngle,r.tEndAngle,!a),t.bezierCurveTo((r.cx-r.t2[0])*i+r.t2[0],(r.cy-r.t2[1])*i+r.t2[1],(r.cx-r.s1[0])*i+r.s1[0],(r.cy-r.s1[1])*i+r.s1[1],r.s1[0],r.s1[1]),t.closePath()},e.prototype.updateData=function(t,r,i,a,o){var s=t.hostModel,l=r.graph.getEdgeByIndex(i),u=l.getLayout(),c=l.node1.getModel(),f=r.getItemModel(l.dataIndex),h=f.getModel("lineStyle"),d=f.getModel("emphasis"),v=d.get("focus"),g=je(of(c.getModel("itemStyle"),u,!0),u),y=this;if(isNaN(g.sStartAngle)||isNaN(g.tStartAngle)){y.setShape(g);return}o?(y.setShape(g),dW(y,l,t,h)):(ru(y),dW(y,l,t,h),Gn(y,{shape:g},s,i)),ti(this,v==="adjacency"?l.getAdjacentDataIndices():v,d.get("blurScope"),d.get("disabled")),ca(y,f,"lineStyle"),r.setItemGraphicEl(l.dataIndex,y)},e})(Mn);function dW(n,e,t,r){var i=e.node1,a=e.node2,o=n.style;n.setStyle(r.getLineStyle());var s=r.get("color");switch(s){case"source":o.fill=t.getItemVisual(i.dataIndex,"style").fill,o.decal=i.getVisual("style").decal;break;case"target":o.fill=t.getItemVisual(a.dataIndex,"style").fill,o.decal=a.getVisual("style").decal;break;case"gradient":var l=t.getItemVisual(i.dataIndex,"style").fill,u=t.getItemVisual(a.dataIndex,"style").fill;if(vt(l)&&vt(u)){var c=n.shape,f=(c.s1[0]+c.s2[0])/2,h=(c.s1[1]+c.s2[1])/2,d=(c.t1[0]+c.t2[0])/2,v=(c.t1[1]+c.t2[1])/2;o.fill=new Rm(f,h,d,v,[{offset:0,color:l},{offset:1,color:u}],!0)}break}}var XOe=Math.PI/180,qOe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,i){var a=t.getData(),o=this._data,s=this.group,l=-t.get("startAngle")*XOe;if(a.diff(o).add(function(c){var f=a.getItemLayout(c);if(f){var h=new hW(a,c,l);Xt(h).dataIndex=c,s.add(h)}}).update(function(c,f){var h=o.getItemGraphicEl(f),d=a.getItemLayout(c);if(!d){h&&Ih(h,t,f);return}h?h.updateData(a,c,l):h=new hW(a,c,l),s.add(h)}).remove(function(c){var f=o.getItemGraphicEl(c);f&&Ih(f,t,c)}).execute(),!o){var u=t.get("center");this.group.scaleX=.01,this.group.scaleY=.01,this.group.originX=pt(u[0],i.getWidth()),this.group.originY=pt(u[1],i.getHeight()),Gr(this.group,{scaleX:1,scaleY:1},t)}this._data=a,this.renderEdges(t,l)},e.prototype.renderEdges=function(t,r){var i=t.getData(),a=t.getEdgeData(),o=this._edgeData,s=this.group;a.diff(o).add(function(l){var u=new YOe(i,a,l,r);Xt(u).dataIndex=l,s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(i,a,l,r),s.add(c)}).remove(function(l){var u=o.getItemGraphicEl(l);u&&Ih(u,t,l)}).execute(),this._edgeData=a},e.prototype.dispose=function(){},e.type="chord",e})(vr),ZOe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this.legendVisualProvider=new M_(mt(this.getData,this),mt(this.getRawData,this))},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links)},e.prototype.getInitialData=function(t,r){var i=t.edges||t.links||[],a=t.data||t.nodes||[];if(a&&i){var o=sU(a,i,this,!0,s);return o.data}function s(l,u){var c=Tn.prototype.getModel;function f(d,v){var g=c.call(this,d,v);return g.resolveParentPath=h,g}u.wrapMethod("getItemModel",function(d){return d.resolveParentPath=h,d.getModel=f,d});function h(d){if(d&&(d[0]==="label"||d[1]==="label")){var v=d.slice();return d[0]==="label"?v[0]="edgeLabel":d[1]==="label"&&(v[1]="edgeLabel"),v}return d}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,r,i){var a=this.getDataParams(t,i);if(i==="edge"){var o=this.getData(),s=o.graph.getEdgeByIndex(t),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),ea("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}return ea("nameValue",{name:a.name,value:a.value,noValue:a.value==null})},e.prototype.getDataParams=function(t,r){var i=n.prototype.getDataParams.call(this,t,r);if(r==="node"){var a=this.getData(),o=this.getGraph().getNodeByIndex(t);if(i.name==null&&(i.name=a.getName(t)),i.value==null){var s=o.getLayout().value;i.value=s}}return i},e.type="series.chord",e.defaultOption={z:2,coordinateSystem:"none",legendHoverLink:!0,colorBy:"data",left:0,top:0,right:0,bottom:0,width:null,height:null,center:["50%","50%"],radius:["70%","80%"],clockwise:!0,startAngle:90,endAngle:"auto",minAngle:0,padAngle:3,itemStyle:{borderRadius:[0,0,5,5]},lineStyle:{width:0,color:"source",opacity:.2},label:{show:!0,position:"outside",distance:5},emphasis:{focus:"adjacency",lineStyle:{opacity:.5}}},e})(_r),CO=Math.PI/180;function KOe(n,e){n.eachSeriesByType("chord",function(t){JOe(t,e)})}function JOe(n,e){var t=n.getData(),r=t.graph,i=n.getEdgeData(),a=i.count();if(a){var o=pee(n,e),s=o.cx,l=o.cy,u=o.r,c=o.r0,f=Math.max((n.get("padAngle")||0)*CO,0),h=Math.max((n.get("minAngle")||0)*CO,0),d=-n.get("startAngle")*CO,v=d+Math.PI*2,g=n.get("clockwise"),y=g?1:-1,x=[d,v];hN(x,!g);var b=x[0],T=x[1],M=T-b,C=t.getSum("value")===0&&i.getSum("value")===0,D=[],R=0;r.eachEdge(function(q){var K=C?1:q.getValue("value");C&&(K>0||h)&&(R+=2);var re=q.node1.dataIndex,j=q.node2.dataIndex;D[re]=(D[re]||0)+K,D[j]=(D[j]||0)+K});var I=0;if(r.eachNode(function(q){var K=q.getValue("value");isNaN(K)||(D[q.dataIndex]=Math.max(K,D[q.dataIndex]||0)),!C&&(D[q.dataIndex]>0||h)&&R++,I+=D[q.dataIndex]||0}),!(R===0||I===0)){f*R>=Math.abs(M)&&(f=Math.max(0,(Math.abs(M)-h*R)/R)),(f+h)*R>=Math.abs(M)&&(h=(Math.abs(M)-f*R)/R);var L=(M-f*R*y)/I,O=0,B=0,V=0;r.eachNode(function(q){var K=D[q.dataIndex]||0,re=L*(I?K:1)*y;Math.abs(re)<h?O+=h-Math.abs(re):(B+=Math.abs(re)-h,V+=Math.abs(re)),q.setLayout({angle:re,value:K})});var F=!1;if(O>B){var k=O/B;r.eachNode(function(q){var K=q.getLayout().angle;Math.abs(K)>=h?q.setLayout({angle:K*k,ratio:k},!0):q.setLayout({angle:h,ratio:h===0?1:K/h},!0)})}else r.eachNode(function(q){if(!F){var K=q.getLayout().angle,re=Math.min(K/V,1),j=re*O;K-j<h&&(F=!0)}});var Y=O;r.eachNode(function(q){if(!(Y<=0)){var K=q.getLayout().angle;if(K>h&&h>0){var re=F?1:Math.min(K/V,1),j=K-h,Q=Math.min(j,Math.min(Y,O*re));Y-=Q,q.setLayout({angle:K-Q,ratio:(K-Q)/K},!0)}else h>0&&q.setLayout({angle:h,ratio:K===0?1:h/K},!0)}});var H=b,W=[];r.eachNode(function(q){var K=Math.max(q.getLayout().angle,h);q.setLayout({cx:s,cy:l,r0:c,r:u,startAngle:H,endAngle:H+K*y,clockwise:g},!0),W[q.dataIndex]=H,H+=(K+f)*y}),r.eachEdge(function(q){var K=C?1:q.getValue("value"),re=L*(I?K:1)*y,j=q.node1.dataIndex,Q=W[j]||0,ne=Math.abs((q.node1.getLayout().ratio||1)*re),se=Q+ne*y,he=[s+c*Math.cos(Q),l+c*Math.sin(Q)],pe=[s+c*Math.cos(se),l+c*Math.sin(se)],xe=q.node2.dataIndex,Te=W[xe]||0,Me=Math.abs((q.node2.getLayout().ratio||1)*re),Re=Te+Me*y,Ue=[s+c*Math.cos(Te),l+c*Math.sin(Te)],et=[s+c*Math.cos(Re),l+c*Math.sin(Re)];q.setLayout({s1:he,s2:pe,sStartAngle:Q,sEndAngle:se,t1:Ue,t2:et,tStartAngle:Te,tEndAngle:Re,cx:s,cy:l,r:c,value:K,clockwise:g}),W[j]=se,W[xe]=Re})}}}function QOe(n){n.registerChartView(qOe),n.registerSeriesModel(ZOe),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,KOe),n.registerProcessor(w_("chord"))}var $Oe=(function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n})(),e5e=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="pointer",r}return e.prototype.getDefaultShape=function(){return new $Oe},e.prototype.buildPath=function(t,r){var i=Math.cos,a=Math.sin,o=r.r,s=r.width,l=r.angle,u=r.x-i(l)*s*(s>=o/3?1:2),c=r.y-a(l)*s*(s>=o/3?1:2);l=r.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(r.x+i(l)*s,r.y+a(l)*s),t.lineTo(r.x+i(r.angle)*o,r.y+a(r.angle)*o),t.lineTo(r.x-i(l)*s,r.y-a(l)*s),t.lineTo(u,c)},e})(Mn);function t5e(n,e){var t=n.get("center"),r=e.getWidth(),i=e.getHeight(),a=Math.min(r,i),o=pt(t[0],e.getWidth()),s=pt(t[1],e.getHeight()),l=pt(n.get("radius"),a/2);return{cx:o,cy:s,r:l}}function JA(n,e){var t=n==null?"":n+"";return e&&(vt(e)?t=e.replace("{value}",t):Nt(e)&&(t=e(n))),t}var n5e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),o=t5e(t,i);this._renderMain(t,r,i,a,o),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,r,i,a,o){var s=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,f=t.getModel("axisLine"),h=f.get("roundCap"),d=h?I3:co,v=f.get("show"),g=f.getModel("lineStyle"),y=g.get("width"),x=[u,c];hN(x,!l),u=x[0],c=x[1];for(var b=c-u,T=u,M=[],C=0;v&&C<a.length;C++){var D=Math.min(Math.max(a[C][0],0),1);c=u+b*D;var R=new d({shape:{startAngle:T,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-y,r:o.r},silent:!0});R.setStyle({fill:a[C][1]}),R.setStyle(g.getLineStyle(["color","width"])),M.push(R),T=c}M.reverse(),J(M,function(L){return s.add(L)});var I=function(L){if(L<=0)return a[0][1];var O;for(O=0;O<a.length;O++)if(a[O][0]>=L&&(O===0?0:a[O-1][0])<L)return a[O][1];return a[O-1][1]};this._renderTicks(t,r,i,I,o,u,c,l,y),this._renderTitleAndDetail(t,r,i,I,o),this._renderAnchor(t,o),this._renderPointer(t,r,i,I,o,u,c,l,y)},e.prototype._renderTicks=function(t,r,i,a,o,s,l,u,c){for(var f=this.group,h=o.cx,d=o.cy,v=o.r,g=+t.get("min"),y=+t.get("max"),x=t.getModel("splitLine"),b=t.getModel("axisTick"),T=t.getModel("axisLabel"),M=t.get("splitNumber"),C=b.get("splitNumber"),D=pt(x.get("length"),v),R=pt(b.get("length"),v),I=s,L=(l-s)/M,O=L/C,B=x.getModel("lineStyle").getLineStyle(),V=b.getModel("lineStyle").getLineStyle(),F=x.get("distance"),k,Y,H=0;H<=M;H++){if(k=Math.cos(I),Y=Math.sin(I),x.get("show")){var W=F?F+c:c,q=new Bi({shape:{x1:k*(v-W)+h,y1:Y*(v-W)+d,x2:k*(v-D-W)+h,y2:Y*(v-D-W)+d},style:B,silent:!0});B.stroke==="auto"&&q.setStyle({stroke:a(H/M)}),f.add(q)}if(T.get("show")){var W=T.get("distance")+F,K=JA(ki(H/M*(y-g)+g),T.get("formatter")),re=a(H/M),j=k*(v-D-W)+h,Q=Y*(v-D-W)+d,ne=T.get("rotate"),se=0;ne==="radial"?(se=-I+2*Math.PI,se>Math.PI/2&&(se+=Math.PI)):ne==="tangential"?se=-I-Math.PI/2:Pn(ne)&&(se=ne*Math.PI/180),se===0?f.add(new On({style:Dr(T,{text:K,x:j,y:Q,verticalAlign:Y<-.8?"top":Y>.8?"bottom":"middle",align:k<-.4?"left":k>.4?"right":"center"},{inheritColor:re}),silent:!0})):f.add(new On({style:Dr(T,{text:K,x:j,y:Q,verticalAlign:"middle",align:"center"},{inheritColor:re}),silent:!0,originX:j,originY:Q,rotation:se}))}if(b.get("show")&&H!==M){var W=b.get("distance");W=W?W+c:c;for(var he=0;he<=C;he++){k=Math.cos(I),Y=Math.sin(I);var pe=new Bi({shape:{x1:k*(v-W)+h,y1:Y*(v-W)+d,x2:k*(v-R-W)+h,y2:Y*(v-R-W)+d},silent:!0,style:V});V.stroke==="auto"&&pe.setStyle({stroke:a((H+he/C)/M)}),f.add(pe),I+=O}I-=O}else I+=L}},e.prototype._renderPointer=function(t,r,i,a,o,s,l,u,c){var f=this.group,h=this._data,d=this._progressEls,v=[],g=t.get(["pointer","show"]),y=t.getModel("progress"),x=y.get("show"),b=t.getData(),T=b.mapDimension("value"),M=+t.get("min"),C=+t.get("max"),D=[M,C],R=[s,l];function I(O,B){var V=b.getItemModel(O),F=V.getModel("pointer"),k=pt(F.get("width"),o.r),Y=pt(F.get("length"),o.r),H=t.get(["pointer","icon"]),W=F.get("offsetCenter"),q=pt(W[0],o.r),K=pt(W[1],o.r),re=F.get("keepAspect"),j;return H?j=Vi(H,q-k/2,K-Y,k,Y,null,re):j=new e5e({shape:{angle:-Math.PI/2,width:k,r:Y,x:q,y:K}}),j.rotation=-(B+Math.PI/2),j.x=o.cx,j.y=o.cy,j}function L(O,B){var V=y.get("roundCap"),F=V?I3:co,k=y.get("overlap"),Y=k?y.get("width"):c/b.count(),H=k?o.r-Y:o.r-(O+1)*Y,W=k?o.r:o.r-O*Y,q=new F({shape:{startAngle:s,endAngle:B,cx:o.cx,cy:o.cy,clockwise:u,r0:H,r:W}});return k&&(q.z2=er(b.get(T,O),[M,C],[100,0],!0)),q}(x||g)&&(b.diff(h).add(function(O){var B=b.get(T,O);if(g){var V=I(O,s);Gr(V,{rotation:-((isNaN(+B)?R[0]:er(B,D,R,!0))+Math.PI/2)},t),f.add(V),b.setItemGraphicEl(O,V)}if(x){var F=L(O,s),k=y.get("clip");Gr(F,{shape:{endAngle:er(B,D,R,k)}},t),f.add(F),MP(t.seriesIndex,b.dataType,O,F),v[O]=F}}).update(function(O,B){var V=b.get(T,O);if(g){var F=h.getItemGraphicEl(B),k=F?F.rotation:s,Y=I(O,k);Y.rotation=k,Gn(Y,{rotation:-((isNaN(+V)?R[0]:er(V,D,R,!0))+Math.PI/2)},t),f.add(Y),b.setItemGraphicEl(O,Y)}if(x){var H=d[B],W=H?H.shape.endAngle:s,q=L(O,W),K=y.get("clip");Gn(q,{shape:{endAngle:er(V,D,R,K)}},t),f.add(q),MP(t.seriesIndex,b.dataType,O,q),v[O]=q}}).execute(),b.each(function(O){var B=b.getItemModel(O),V=B.getModel("emphasis"),F=V.get("focus"),k=V.get("blurScope"),Y=V.get("disabled");if(g){var H=b.getItemGraphicEl(O),W=b.getItemVisual(O,"style"),q=W.fill;if(H instanceof Ra){var K=H.style;H.useStyle(je({image:K.image,x:K.x,y:K.y,width:K.width,height:K.height},W))}else H.useStyle(W),H.type!=="pointer"&&H.setColor(q);H.setStyle(B.getModel(["pointer","itemStyle"]).getItemStyle()),H.style.fill==="auto"&&H.setStyle("fill",a(er(b.get(T,O),D,[0,1],!0))),H.z2EmphasisLift=0,ca(H,B),ti(H,F,k,Y)}if(x){var re=v[O];re.useStyle(b.getItemVisual(O,"style")),re.setStyle(B.getModel(["progress","itemStyle"]).getItemStyle()),re.z2EmphasisLift=0,ca(re,B),ti(re,F,k,Y)}}),this._progressEls=v)},e.prototype._renderAnchor=function(t,r){var i=t.getModel("anchor"),a=i.get("show");if(a){var o=i.get("size"),s=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=Vi(s,r.cx-o/2+pt(l[0],r.r),r.cy-o/2+pt(l[1],r.r),o,o,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,r,i,a,o){var s=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),f=+t.get("max"),h=new zt,d=[],v=[],g=t.isAnimationEnabled(),y=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(x){d[x]=new On({silent:!0}),v[x]=new On({silent:!0})}).update(function(x,b){d[x]=s._titleEls[b],v[x]=s._detailEls[b]}).execute(),l.each(function(x){var b=l.getItemModel(x),T=l.get(u,x),M=new zt,C=a(er(T,[c,f],[0,1],!0)),D=b.getModel("title");if(D.get("show")){var R=D.get("offsetCenter"),I=o.cx+pt(R[0],o.r),L=o.cy+pt(R[1],o.r),O=d[x];O.attr({z2:y?0:2,style:Dr(D,{x:I,y:L,text:l.getName(x),align:"center",verticalAlign:"middle"},{inheritColor:C})}),M.add(O)}var B=b.getModel("detail");if(B.get("show")){var V=B.get("offsetCenter"),F=o.cx+pt(V[0],o.r),k=o.cy+pt(V[1],o.r),Y=pt(B.get("width"),o.r),H=pt(B.get("height"),o.r),W=t.get(["progress","show"])?l.getItemVisual(x,"style").fill:C,O=v[x],q=B.get("formatter");O.attr({z2:y?0:2,style:Dr(B,{x:F,y:k,text:JA(T,q),width:isNaN(Y)?null:Y,height:isNaN(H)?null:H,align:"center",verticalAlign:"middle"},{inheritColor:W})}),K$(O,{normal:B},T,function(re){return JA(re,q)}),g&&J$(O,x,l,t,{getFormattedLabel:function(re,j,Q,ne,se,he){return JA(he?he.interpolatedValue:T,q)}}),M.add(O)}h.add(M)}),this.group.add(h),this._titleEls=d,this._detailEls=v},e.type="gauge",e})(vr),r5e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,r){return T_(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,De.color.neutral10]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:De.color.axisTick,width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:De.color.axisTickMinor,width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:De.color.axisLabel,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:De.color.neutral00,borderWidth:0,borderColor:De.color.theme[0]}},title:{show:!0,offsetCenter:[0,"20%"],color:De.color.secondary,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:De.color.transparent,borderWidth:0,borderColor:De.color.neutral40,width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:De.color.primary,fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e})(_r);function i5e(n){n.registerChartView(n5e),n.registerSeriesModel(r5e)}var a5e=["itemStyle","opacity"],o5e=(function(n){Oe(e,n);function e(t,r){var i=n.call(this)||this,a=i,o=new Xa,s=new On;return a.setTextContent(s),i.setTextGuideLine(o),i.updateData(t,r,!0),i}return e.prototype.updateData=function(t,r,i){var a=this,o=t.hostModel,s=t.getItemModel(r),l=t.getItemLayout(r),u=s.getModel("emphasis"),c=s.get(a5e);c=c??1,i||ru(a),a.useStyle(t.getItemVisual(r,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Gr(a,{style:{opacity:c}},o,r)):Gn(a,{style:{opacity:c},shape:{points:l.points}},o,r),ca(a,s),this._updateLabel(t,r),ti(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,r){var i=this,a=this.getTextGuideLine(),o=i.getTextContent(),s=t.hostModel,l=t.getItemModel(r),u=t.getItemLayout(r),c=u.label,f=t.getItemVisual(r,"style"),h=f.fill;Na(o,fa(l),{labelFetcher:t.hostModel,labelDataIndex:r,defaultOpacity:f.opacity,defaultText:t.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}});var d=l.getModel("label"),v=d.get("color"),g=v==="inherit"?h:null;i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:g,outsideFill:g});var y=c.linePoints;a.setShape({points:y}),i.textGuideLineConfig={anchor:y?new jt(y[0][0],y[0][1]):null},Gn(o,{style:{x:c.x,y:c.y}},s,r),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),OB(i,PB(l),{stroke:h})},e})(fo),s5e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this._data,s=this.group;a.diff(o).add(function(l){var u=new o5e(a,l);a.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(a,l),s.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);Ih(u,t,l)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e})(vr),l5e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new M_(mt(this.getData,this),mt(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,r){return T_(this,{coordDimensions:["value"],encodeDefaulter:tn(lB,this)})},e.prototype._defaultLabelLine=function(t){vm(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var r=this.getData(),i=n.prototype.getDataParams.call(this,t),a=r.mapDimension("value"),o=r.getSum(a);return i.percent=o?+(r.get(a,t)/o*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={coordinateSystemUsage:"box",z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:65,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:De.color.neutral00,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:De.color.primary}}},e})(_r);function u5e(n,e){for(var t=n.mapDimension("value"),r=n.mapArray(t,function(l){return l}),i=[],a=e==="ascending",o=0,s=n.count();o<s;o++)i[o]=o;return Nt(e)?i.sort(e):e!=="none"&&i.sort(function(l,u){return a?r[l]-r[u]:r[u]-r[l]}),i}function c5e(n){var e=n.hostModel,t=e.get("orient");n.each(function(r){var i=n.getItemModel(r),a=i.getModel("label"),o=a.get("position"),s=i.getModel("labelLine"),l=n.getItemLayout(r),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,h,d,v;if(c)o==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,d=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,d=(u[1][1]+u[2][1])/2,f="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,d=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),v=[[h,d],[h,d]];else{var g=void 0,y=void 0,x=void 0,b=void 0,T=s.get("length");o==="left"?(g=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,x=g-T,h=x-5,f="right"):o==="right"?(g=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,x=g+T,h=x+5,f="left"):o==="top"?(g=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,b=y-T,d=b-5,f="center"):o==="bottom"?(g=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,b=y+T,d=b+5,f="center"):o==="rightTop"?(g=t==="horizontal"?u[3][0]:u[1][0],y=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(b=y-T,d=b-5,f="center"):(x=g+T,h=x+5,f="top")):o==="rightBottom"?(g=u[2][0],y=u[2][1],t==="horizontal"?(b=y+T,d=b+5,f="center"):(x=g+T,h=x+5,f="bottom")):o==="leftTop"?(g=u[0][0],y=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(b=y-T,d=b-5,f="center"):(x=g-T,h=x-5,f="right")):o==="leftBottom"?(g=t==="horizontal"?u[1][0]:u[3][0],y=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(b=y+T,d=b+5,f="center"):(x=g-T,h=x-5,f="right")):(g=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,t==="horizontal"?(b=y+T,d=b+5,f="center"):(x=g+T,h=x+5,f="left")),t==="horizontal"?(x=g,h=x):(b=y,d=b),v=[[g,y],[x,b]]}l.label={linePoints:v,x:h,y:d,verticalAlign:"middle",textAlign:f,inside:c}})}function f5e(n,e){n.eachSeriesByType("funnel",function(t){var r=t.getData(),i=r.mapDimension("value"),a=t.get("sort"),o=ha(t,e),s=Kr(t.getBoxLayoutParams(),o.refContainer),l=t.get("orient"),u=s.width,c=s.height,f=u5e(r,a),h=s.x,d=s.y,v=l==="horizontal"?[pt(t.get("minSize"),c),pt(t.get("maxSize"),c)]:[pt(t.get("minSize"),u),pt(t.get("maxSize"),u)],g=r.getDataExtent(i),y=t.get("min"),x=t.get("max");y==null&&(y=Math.min(g[0],0)),x==null&&(x=g[1]);var b=t.get("funnelAlign"),T=t.get("gap"),M=l==="horizontal"?u:c,C=(M-T*(r.count()-1))/r.count(),D=function(Y,H){if(l==="horizontal"){var W=r.get(i,Y)||0,q=er(W,[y,x],v,!0),K=void 0;switch(b){case"top":K=d;break;case"center":K=d+(c-q)/2;break;case"bottom":K=d+(c-q);break}return[[H,K],[H,K+q]]}var re=r.get(i,Y)||0,j=er(re,[y,x],v,!0),Q;switch(b){case"left":Q=h;break;case"center":Q=h+(u-j)/2;break;case"right":Q=h+u-j;break}return[[Q,H],[Q+j,H]]};a==="ascending"&&(C=-C,T=-T,l==="horizontal"?h+=u:d+=c,f=f.reverse());for(var R=0;R<f.length;R++){var I=f[R],L=f[R+1],O=r.getItemModel(I);if(l==="horizontal"){var B=O.get(["itemStyle","width"]);B==null?B=C:(B=pt(B,u),a==="ascending"&&(B=-B));var V=D(I,h),F=D(L,h+B);h+=B+T,r.setItemLayout(I,{points:V.concat(F.slice().reverse())})}else{var k=O.get(["itemStyle","height"]);k==null?k=C:(k=pt(k,c),a==="ascending"&&(k=-k));var V=D(I,d),F=D(L,d+k);d+=k+T,r.setItemLayout(I,{points:V.concat(F.slice().reverse())})}}c5e(r)})}function h5e(n){n.registerChartView(s5e),n.registerSeriesModel(l5e),n.registerLayout(f5e),n.registerProcessor(w_("funnel"))}var d5e=.3,p5e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new zt,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,r,i,a){this._progressiveEls=null;var o=this._dataGroup,s=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,f=vW(t);s.diff(l).add(h).update(d).remove(v).execute();function h(y){var x=pW(s,o,y,c,u);EO(x,s,y,f)}function d(y,x){var b=l.getItemGraphicEl(x),T=Xre(s,y,c,u);s.setItemGraphicEl(y,b),Gn(b,{shape:{points:T}},t,y),ru(b),EO(b,s,y,f)}function v(y){var x=l.getItemGraphicEl(y);o.remove(x)}if(!this._initialized){this._initialized=!0;var g=v5e(u,t,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(g)}this._data=s},e.prototype.incrementalPrepareRender=function(t,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,r,i){for(var a=r.getData(),o=r.coordinateSystem,s=o.dimensions,l=vW(r),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var f=pW(a,this._dataGroup,c,s,o);f.incremental=!0,EO(f,a,c,l),u.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e})(vr);function v5e(n,e,t){var r=n.model,i=n.getRect(),a=new mn({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o=r.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),Gr(a,{shape:{width:i.width,height:i.height}},e,t),a}function Xre(n,e,t,r){for(var i=[],a=0;a<t.length;a++){var o=t[a],s=n.get(n.mapDimension(o),e);g5e(s,r.getAxis(o).type)||i.push(r.dataToPoint(s,o))}return i}function pW(n,e,t,r,i){var a=Xre(n,t,r,i),o=new Xa({shape:{points:a},z2:10});return e.add(o),n.setItemGraphicEl(t,o),o}function vW(n){var e=n.get("smooth",!0);return e===!0&&(e=d5e),e=vf(e),so(e)&&(e=0),{smooth:e}}function EO(n,e,t,r){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",r.smooth);var i=e.getItemModel(t),a=i.getModel("emphasis");ca(n,i,"lineStyle"),ti(n,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function g5e(n,e){return e==="category"?n==null:n==null||isNaN(n)}var m5e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,r){return Tf(null,this,{useEncodeDefaulter:mt(y5e,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var r=this.coordinateSystem,i=this.getData(),a=[];return r.eachActiveState(i,function(o,s){t===o&&a.push(i.getRawIndex(s))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e})(_r);function y5e(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return J(e.dimensions,function(r){var i=x5e(r);t[r]=i}),t}}function x5e(n){return+n.replace("dim","")}var _5e=["lineStyle","opacity"],b5e={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,r={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(i,a){t.eachActiveState(a,function(o,s){var l=r[o];if(o==="normal"&&a.hasItemOption){var u=a.getItemModel(s).get(_5e,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(s,"style");c.opacity=l},i.start,i.end)}}}};function S5e(n){w5e(n),T5e(n)}function w5e(n){if(!n.parallel){var e=!1;J(n.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(n.parallel=[{}])}}function T5e(n){var e=Nr(n.parallelAxis);J(e,function(t){if(Ft(t)){var r=t.parallelIndex||0,i=Nr(n.parallel)[r];i&&i.parallelAxisDefault&&sn(t,i.parallelAxisDefault,!1)}})}var M5e=5,A5e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this._model=t,this._api=i,this._handlers||(this._handlers={},J(C5e,function(a,o){i.getZr().on(o,this._handlers[o]=mt(a,this))},this)),y_(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,r){D2(this,"_throttledDispatchExpand"),J(this._handlers,function(i,a){r.getZr().off(a,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(je({type:"parallelAxisExpand"},t))},e.type="parallel",e})(Rr),C5e={mousedown:function(n){DO(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(DO(this,"click")&&e){var t=[n.offsetX,n.offsetY],r=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(r>M5e)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!DO(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=t.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function DO(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}var E5e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var r=this.option;t&&sn(r,t,!0),this._initDimensions()},e.prototype.contains=function(t,r){var i=t.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){J(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){t.hasOwnProperty(r)&&(this.option[r]=t[r])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],r=this.parallelAxisIndex=[],i=Zn(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);J(i,function(a){t.push("dim"+a.get("dim")),r.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e})(bn),D5e=(function(n){Oe(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r,i)||this;return s.type=a||"value",s.axisIndex=o,s}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e})(su);function Pp(n,e,t,r,i,a){n=n||0;var o=t[1]-t[0];if(i!=null&&(i=zy(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),r==="all"){var s=Math.abs(e[1]-e[0]);s=zy(s,[0,o]),i=a=zy(s,[i,a]),r=0}e[0]=zy(e[0],t),e[1]=zy(e[1],t);var l=NO(e,r);e[r]+=n;var u=i||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[r]=zy(e[r],c);var f;return f=NO(e,r),i!=null&&(f.sign!==l.sign||f.span<i)&&(e[1-r]=e[r]+l.sign*i),f=NO(e,r),a!=null&&f.span>a&&(e[1-r]=e[r]+f.sign*a),e}function NO(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function zy(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var RO=J,qre=Math.min,Zre=Math.max,gW=Math.floor,N5e=Math.ceil,mW=ki,R5e=Math.PI,L5e=(function(){function n(e,t,r){this.type="parallel",this._axesMap=Tt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var i=e.dimensions,a=e.parallelAxisIndex;RO(i,function(o,s){var l=a[s],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(o,new D5e(o,Cw(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),r=t.axisBase,i=t.layoutBase,a=t.pixelDimIndex,o=e[1-a],s=e[a];return o>=r&&o<=r+t.axisLength&&s>=i&&s<=i+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(r){if(e.contains(r,t)){var i=r.getData();RO(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(i,i.mapDimension(a)),Sm(o.scale,o.model)},this)}},this)},n.prototype.resize=function(e,t){var r=ha(e,t).refContainer;this._rect=Kr(e.getBoxLayoutParams(),r),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,r=["x","y"],i=["width","height"],a=e.get("layout"),o=a==="horizontal"?0:1,s=t[i[o]],l=[0,s],u=this.dimensions.length,c=QA(e.get("axisExpandWidth"),l),f=QA(e.get("axisExpandCount")||0,[0,u]),h=e.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,d=e.get("axisExpandWindow"),v;if(d)v=QA(d[1]-d[0],l),d[1]=d[0]+v;else{v=QA(c*(f-1),l);var g=e.get("axisExpandCenter")||gW(u/2);d=[c*g-v/2],d[1]=d[0]+v}var y=(s-v)/(u-f);y<3&&(y=0);var x=[gW(mW(d[0]/c,1))+1,N5e(mW(d[1]/c,1))-1],b=y/c*d[0];return{layout:a,pixelDimIndex:o,layoutBase:t[r[o]],layoutLength:s,axisBase:t[r[1-o]],axisLength:t[i[1-o]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:y,axisExpandWindow:d,axisCount:u,winInnerIndices:x,axisExpandWindow0Pos:b}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;t.each(function(o){var s=[0,i.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),RO(r,function(o,s){var l=(i.axisExpandable?O5e:I5e)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:R5e/2,vertical:0},f=[u[a].x+e.x,u[a].y+e.y],h=c[a],d=Ma();Zh(d,d,h),$u(d,d,f),this._axesLayout[o]={position:f,rotation:h,transform:d,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,r,i){r==null&&(r=0),i==null&&(i=e.count());var a=this._axesMap,o=this.dimensions,s=[],l=[];J(o,function(y){s.push(e.mapDimension(y)),l.push(a.get(y).model)});for(var u=this.hasAxisBrushed(),c=r;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var h=e.getValues(s,c),d=0,v=o.length;d<v;d++){var g=l[d].getActiveState(h[d]);if(g==="inactive"){f="inactive";break}}}t(f,c)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,r=!1,i=0,a=e.length;i<a;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(r=!0);return r},n.prototype.axisCoordToPoint=function(e,t){var r=this._axesLayout[t];return qu([e,0],r.transform)},n.prototype.getAxisLayout=function(e){return Pt(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),r=t.pixelDimIndex,i=t.axisExpandWindow.slice(),a=i[1]-i[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var s=e[r]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),h=f[0]!=null;if(c)h&&c&&s<a*f[0]?(u="jump",l=s-a*f[2]):h&&c&&s>a*(1-f[0])?(u="jump",l=s-a*(1-f[2])):(l=s-a*f[1])>=0&&(l=s-a*(1-f[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?Pp(l,i,o,"all"):u="none";else{var d=i[1]-i[0],v=o[1]*s/d;i=[Zre(0,v-d/2)],i[1]=qre(o[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:u}},n})();function QA(n,e){return qre(Zre(n,e[0]),e[1])}function I5e(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function O5e(n,e){var t=e.layoutLength,r=e.axisExpandWidth,i=e.axisCount,a=e.axisCollapseWidth,o=e.winInnerIndices,s,l=a,u=!1,c;return n<o[0]?(s=n*a,c=a):n<=o[1]?(s=e.axisExpandWindow0Pos+n*r-e.axisExpandWindow[0],l=r,u=!0):(s=t-(i-1-n)*a,c=a),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function P5e(n,e){var t=[];return n.eachComponent("parallel",function(r,i){var a=new L5e(r,n,e);a.name="parallel_"+i,a.resize(r,e),r.coordinateSystem=a,a.model=r,t.push(a)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",di).models[0];r.coordinateSystem=i.coordinateSystem}}),t}var z5e={create:P5e},N4=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return mm([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var r=this.activeIntervals=Pt(t);if(r)for(var i=r.length-1;i>=0;i--)sl(r[i])},e.prototype.getActiveState=function(t){var r=this.activeIntervals;if(!r.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var a=0,o=r.length;a<o;a++)if(r[a][0]<=t&&t<=r[a][1])return"active";return"inactive"},e})(bn);Ci(N4,S_);var wm=!0,H2=Math.min,jx=Math.max,k5e=Math.pow,B5e=1e4,U5e=6,V5e=6,yW="globalPan",F5e={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},G5e={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},xW={brushStyle:{lineWidth:2,stroke:De.color.backgroundTint,fill:De.color.borderTint},transformable:!0,brushMode:"single",removeOnClick:!1},H5e=0,lU=(function(n){Oe(e,n);function e(t){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=t,r.group=new zt,r._uid="brushController_"+H5e++,J(K5e,function(i,a){this._handlers[a]=mt(i,this)},r),r}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var r=this._zr;this._enableGlobalPan||ALe(r,yW,this._uid),J(this._handlers,function(i,a){r.on(a,i)}),this._brushType=t.brushType,this._brushOption=sn(Pt(xW),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;CLe(t,yW,this._uid),J(this._handlers,function(r,i){t.off(i,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var r=this._panels={};J(t,function(i){r[i.panelId]=Pt(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=$e(t,function(h){return sn(Pt(xW),h,!0)});var r="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new Wh(i,t,u,l).add(c).update(c).remove(f).execute(),this;function l(h,d){return(h.id!=null?h.id:r+d)+"-"+h.brushType}function u(h,d){return l(h.__brushOption,d)}function c(h,d){var v=t[h];if(d!=null&&i[d]===s)a[h]=i[d];else{var g=a[h]=d!=null?(i[d].__brushOption=v,i[d]):Jre(o,Kre(o,v));uU(o,g)}}function f(h){i[h]!==s&&o.group.remove(i[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),R4(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e})(au);function Kre(n,e){var t=ON[e.brushType].createCover(n,e);return t.__brushOption=e,$re(t,e),n.group.add(t),t}function Jre(n,e){var t=cU(e);return t.endCreating&&(t.endCreating(n,e),$re(e,e.__brushOption)),e}function Qre(n,e){var t=e.__brushOption;cU(e).updateCoverShape(n,e,t.range,t)}function $re(n,e){var t=e.z;t==null&&(t=B5e),n.traverse(function(r){r.z=t,r.z2=t})}function uU(n,e){cU(e).updateCommon(n,e),Qre(n,e)}function cU(n){return ON[n.__brushOption.brushType]}function fU(n,e,t){var r=n._panels;if(!r)return wm;var i,a=n._transform;return J(r,function(o){o.isTargetByCursor(e,t,a)&&(i=o)}),i}function eie(n,e){var t=n._panels;if(!t)return wm;var r=e.__brushOption.panelId;return r!=null?t[r]:wm}function R4(n){var e=n._covers,t=e.length;return J(e,function(r){n.group.remove(r)},n),e.length=0,!!t}function Tm(n,e){var t=$e(n._covers,function(r){var i=r.__brushOption,a=Pt(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function j5e(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],r=e[0],i=t[0]-r[0],a=t[1]-r[1],o=k5e(i*i+a*a,.5);return o>U5e}function tie(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function nie(n,e,t,r){var i=new zt;return i.add(new mn({name:"main",style:hU(t),silent:!0,draggable:!0,cursor:"move",drift:tn(_W,n,e,i,["n","s","w","e"]),ondragend:tn(Tm,e,{isEnd:!0})})),J(r,function(a){i.add(new mn({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:tn(_W,n,e,i,a),ondragend:tn(Tm,e,{isEnd:!0})}))}),i}function rie(n,e,t,r){var i=r.brushStyle.lineWidth||0,a=jx(i,V5e),o=t[0][0],s=t[1][0],l=o-i/2,u=s-i/2,c=t[0][1],f=t[1][1],h=c-a+i/2,d=f-a+i/2,v=c-o,g=f-s,y=v+i,x=g+i;ph(n,e,"main",o,s,v,g),r.transformable&&(ph(n,e,"w",l,u,a,x),ph(n,e,"e",h,u,a,x),ph(n,e,"n",l,u,y,a),ph(n,e,"s",l,d,y,a),ph(n,e,"nw",l,u,a,a),ph(n,e,"ne",h,u,a,a),ph(n,e,"sw",l,d,a,a),ph(n,e,"se",h,d,a,a))}function L4(n,e){var t=e.__brushOption,r=t.transformable,i=e.childAt(0);i.useStyle(hU(t)),i.attr({silent:!r,cursor:r?"move":"default"}),J([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=e.childOfName(a.join("")),s=a.length===1?I4(n,a[0]):Y5e(n,a);o&&o.attr({silent:!r,invisible:!r,cursor:r?G5e[s]+"-resize":null})})}function ph(n,e,t,r,i,a,o){var s=e.childOfName(t);s&&s.setShape(q5e(dU(n,e,[[r,i],[r+a,i+o]])))}function hU(n){return Vt({strokeNoScale:!0},n.brushStyle)}function iie(n,e,t,r){var i=[H2(n,t),H2(e,r)],a=[jx(n,t),jx(e,r)];return[[i[0],a[0]],[i[1],a[1]]]}function W5e(n){return wp(n.group)}function I4(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=gN(t[e],W5e(n));return r[i]}function Y5e(n,e){var t=[I4(n,e[0]),I4(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function _W(n,e,t,r,i,a){var o=t.__brushOption,s=n.toRectRange(o.range),l=aie(e,i,a);J(r,function(u){var c=F5e[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=n.fromRectRange(iie(s[0][0],s[1][0],s[0][1],s[1][1])),uU(e,t),Tm(e,{isEnd:!1})}function X5e(n,e,t,r){var i=e.__brushOption.range,a=aie(n,t,r);J(i,function(o){o[0]+=a[0],o[1]+=a[1]}),uU(n,e),Tm(n,{isEnd:!1})}function aie(n,e,t){var r=n.group,i=r.transformCoordToLocal(e,t),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function dU(n,e,t){var r=eie(n,e);return r&&r!==wm?r.clipPath(t,n._transform):Pt(t)}function q5e(n){var e=H2(n[0][0],n[1][0]),t=H2(n[0][1],n[1][1]),r=jx(n[0][0],n[1][0]),i=jx(n[0][1],n[1][1]);return{x:e,y:t,width:r-e,height:i-t}}function Z5e(n,e,t){if(!(!n._brushType||J5e(n,e.offsetX,e.offsetY))){var r=n._zr,i=n._covers,a=fU(n,e,t);if(!n._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===wm||s.panelId===a.panelId)&&ON[s.brushType].contain(i[o],t[0],t[1]))return}a&&r.setCursorStyle("crosshair")}}function O4(n){var e=n.event;e.preventDefault&&e.preventDefault()}function P4(n,e,t){return n.childOfName("main").contain(e,t)}function oie(n,e,t,r){var i=n._creatingCover,a=n._creatingPanel,o=n._brushOption,s;if(n._track.push(t.slice()),j5e(n)||i){if(a&&!i){o.brushMode==="single"&&R4(n);var l=Pt(o);l.brushType=bW(l.brushType,a),l.panelId=a===wm?null:a.panelId,i=n._creatingCover=Kre(n,l),n._covers.push(i)}if(i){var u=ON[bW(n._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(dU(n,i,n._track)),r&&(Jre(n,i),u.updateCommon(n,i)),Qre(n,i),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&fU(n,e,t)&&R4(n)&&(s={isEnd:r,removeOnClick:!0});return s}function bW(n,e){return n==="auto"?e.defaultBrushType:n}var K5e={mousedown:function(n){if(this._dragging)SW(this,n);else if(!n.target||!n.target.draggable){O4(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=fU(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,r=this.group.transformCoordToLocal(e,t);if(Z5e(this,n,r),this._dragging){O4(n);var i=oie(this,n,r,!1);i&&Tm(this,i)}},mouseup:function(n){SW(this,n)}};function SW(n,e){if(n._dragging){O4(e);var t=e.offsetX,r=e.offsetY,i=n.group.transformCoordToLocal(t,r),a=oie(n,e,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,a&&Tm(n,a)}}function J5e(n,e,t){var r=n._zr;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var ON={lineX:wW(0),lineY:wW(1),rect:{createCover:function(n,e){function t(r){return r}return nie({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=tie(n);return iie(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,r){rie(n,e,t,r)},updateCommon:L4,contain:P4},polygon:{createCover:function(n,e){var t=new zt;return t.add(new Xa({name:"main",style:hU(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new fo({name:"main",draggable:!0,drift:tn(X5e,n,e),ondragend:tn(Tm,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,r){e.childAt(0).setShape({points:dU(n,e,t)})},updateCommon:L4,contain:P4}};function wW(n){return{createCover:function(e,t){return nie({toRectRange:function(r){var i=[r,[0,100]];return n&&i.reverse(),i},fromRectRange:function(r){return r[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=tie(e),r=H2(t[0][n],t[1][n]),i=jx(t[0][n],t[1][n]);return[r,i]},updateCoverShape:function(e,t,r,i){var a,o=eie(e,t);if(o!==wm&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(n);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[r,a];n&&l.reverse(),rie(e,t,l,i)},updateCommon:L4,contain:P4}}function sie(n){return n=pU(n),function(e){return Hk(e,n)}}function lie(n,e){return n=pU(n),function(t){var r=e??t,i=r?n.width:n.height,a=r?n.x:n.y;return[a,a+(i||0)]}}function uie(n,e,t){var r=pU(n);return function(i,a){return r.contain(a[0],a[1])&&!pre(i,e,t)}}function pU(n){return Wt.create(n)}var Q5e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){n.prototype.init.apply(this,arguments),(this._brushController=new lU(r.getZr())).on("brush",mt(this._onBrush,this))},e.prototype.render=function(t,r,i,a){if(!$5e(t,r,a)){this.axisModel=t,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new zt,this.group.add(this._axisGroup),!!t.get("show")){var s=tPe(t,r),l=s.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,f=t.axis.dim,h=l.getAxisLayout(f),d=je({strokeContainThreshold:c},h),v=new hs(t,i,d);v.build(),this._axisGroup.add(v.group),this._refreshBrushController(d,u,t,s,c,i),ww(o,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,r,i,a,o,s){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=Wt.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:sie(f),isTargetByCursor:uie(f,s,a),getLinearBrushOtherExtent:lie(f,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(ePe(i))},e.prototype._onBrush=function(t){var r=t.areas,i=this.axisModel,a=i.axis,o=$e(r,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e})(Rr);function $5e(n,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}function ePe(n){var e=n.axis;return $e(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function tPe(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}var nPe={type:"axisAreaSelect",event:"axisAreaSelected"};function rPe(n){n.registerAction(nPe,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}var iPe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function cie(n){n.registerComponentView(A5e),n.registerComponentModel(E5e),n.registerCoordinateSystem("parallel",z5e),n.registerPreprocessor(S5e),n.registerComponentModel(N4),n.registerComponentView(Q5e),Gx(n,"parallel",N4,iPe),rPe(n)}function aPe(n){fn(cie),n.registerChartView(p5e),n.registerSeriesModel(m5e),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,b5e)}var oPe=(function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n})(),sPe=(function(n){Oe(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new oPe},e.prototype.buildPath=function(t,r){var i=r.extent;t.moveTo(r.x1,r.y1),t.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(t.lineTo(r.x2+i,r.y2),t.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(t.lineTo(r.x2,r.y2+i),t.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),t.closePath()},e.prototype.highlight=function(){Hh(this)},e.prototype.downplay=function(){jh(this)},e})(Mn),lPe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new zt,t._focusAdjacencyDisabled=!1,t}return e.prototype.init=function(t,r){this._controller=new km(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,r,i){var a=this,o=t.getGraph(),s=this._mainGroup,l=t.layoutInfo,u=l.width,c=l.height,f=t.getData(),h=t.getData("edge"),d=t.get("orient");this._model=t,s.removeAll(),s.x=l.x,s.y=l.y,this._updateViewCoordSys(t,i),vre(t,i,s,this._controller,this._controllerHost,null),o.eachEdge(function(v){var g=new sPe,y=Xt(g);y.dataIndex=v.dataIndex,y.seriesIndex=t.seriesIndex,y.dataType="edge";var x=v.getModel(),b=x.getModel("lineStyle"),T=b.get("curveness"),M=v.node1.getLayout(),C=v.node1.getModel(),D=C.get("localX"),R=C.get("localY"),I=v.node2.getLayout(),L=v.node2.getModel(),O=L.get("localX"),B=L.get("localY"),V=v.getLayout(),F,k,Y,H,W,q,K,re;g.shape.extent=Math.max(1,V.dy),g.shape.orient=d,d==="vertical"?(F=(D!=null?D*u:M.x)+V.sy,k=(R!=null?R*c:M.y)+M.dy,Y=(O!=null?O*u:I.x)+V.ty,H=B!=null?B*c:I.y,W=F,q=k*(1-T)+H*T,K=Y,re=k*T+H*(1-T)):(F=(D!=null?D*u:M.x)+M.dx,k=(R!=null?R*c:M.y)+V.sy,Y=O!=null?O*u:I.x,H=(B!=null?B*c:I.y)+V.ty,W=F*(1-T)+Y*T,q=k,K=F*T+Y*(1-T),re=H),g.setShape({x1:F,y1:k,x2:Y,y2:H,cpx1:W,cpy1:q,cpx2:K,cpy2:re}),g.useStyle(b.getItemStyle()),TW(g.style,d,v);var j=""+x.get("value"),Q=fa(x,"edgeLabel");Na(g,Q,{labelFetcher:{getFormattedLabel:function(he,pe,xe,Te,Me,Re){return t.getFormattedLabel(he,pe,"edge",Te,zs(Me,Q.normal&&Q.normal.get("formatter"),j),Re)}},labelDataIndex:v.dataIndex,defaultText:j}),g.setTextConfig({position:"inside"});var ne=x.getModel("emphasis");ca(g,x,"lineStyle",function(he){var pe=he.getItemStyle();return TW(pe,d,v),pe}),s.add(g),h.setItemGraphicEl(v.dataIndex,g);var se=ne.get("focus");ti(g,se==="adjacency"?v.getAdjacentDataIndices():se==="trajectory"?v.getTrajectoryDataIndices():se,ne.get("blurScope"),ne.get("disabled"))}),o.eachNode(function(v){var g=v.getLayout(),y=v.getModel(),x=y.get("localX"),b=y.get("localY"),T=y.getModel("emphasis"),M=y.get(["itemStyle","borderRadius"])||0,C=new mn({shape:{x:x!=null?x*u:g.x,y:b!=null?b*c:g.y,width:g.dx,height:g.dy,r:M},style:y.getModel("itemStyle").getItemStyle(),z2:10});Na(C,fa(y),{labelFetcher:{getFormattedLabel:function(R,I){return t.getFormattedLabel(R,I,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),C.disableLabelAnimation=!0,C.setStyle("fill",v.getVisual("color")),C.setStyle("decal",v.getVisual("style").decal),ca(C,y),s.add(C),f.setItemGraphicEl(v.dataIndex,C),Xt(C).dataType="node";var D=T.get("focus");ti(C,D==="adjacency"?v.getAdjacentDataIndices():D==="trajectory"?v.getTrajectoryDataIndices():D,T.get("blurScope"),T.get("disabled"))}),f.eachItemGraphicEl(function(v,g){var y=f.getItemModel(g);y.get("draggable")&&(v.drift=function(x,b){a._focusAdjacencyDisabled=!0,this.shape.x+=x,this.shape.y+=b,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:f.getRawIndex(g),localX:this.shape.x/u,localY:this.shape.y/c})},v.ondragend=function(){a._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&t.isAnimationEnabled()&&s.setClipPath(uPe(s.getBoundingRect(),t,function(){s.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._updateViewCoordSys=function(t,r){var i=t.layoutInfo,a=i.width,o=i.height,s=t.coordinateSystem=new Bm(null,{api:r,ecModel:t.ecModel});s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(0,0,a,o),s.setCenter(t.get("center")),s.setZoom(t.get("zoom")),this._controllerHost.target.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY})},e.type="sankey",e})(vr);function TW(n,e,t){switch(n.fill){case"source":n.fill=t.node1.getVisual("color"),n.decal=t.node1.getVisual("style").decal;break;case"target":n.fill=t.node2.getVisual("color"),n.decal=t.node2.getVisual("style").decal;break;case"gradient":var r=t.node1.getVisual("color"),i=t.node2.getVisual("color");vt(r)&&vt(i)&&(n.fill=new Rm(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:r,offset:0},{color:i,offset:1}]))}}function uPe(n,e,t){var r=new mn({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Gr(r,{shape:{width:n.width+20}},e,t),r}var cPe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){var i=t.edges||t.links||[],a=t.data||t.nodes||[],o=t.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new Tn(o[l],this,r));var u=sU(a,i,this,!0,c);return u.data;function c(f,h){f.wrapMethod("getItemModel",function(d,v){var g=d.parentModel,y=g.getData().getItemLayout(v);if(y){var x=y.depth,b=g.levelModels[x];b&&(d.parentModel=b)}return d}),h.wrapMethod("getItemModel",function(d,v){var g=d.parentModel,y=g.getGraph().getEdgeByIndex(v),x=y.node1.getLayout();if(x){var b=x.depth,T=g.levelModels[b];T&&(d.parentModel=T)}return d})}},e.prototype.setNodePosition=function(t,r){var i=this.option.data||this.option.nodes,a=i[t];a.localX=r[0],a.localY=r[1]},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,r,i){function a(d){return isNaN(d)||d==null}if(i==="edge"){var o=this.getDataParams(t,i),s=o.data,l=o.value,u=s.source+" -- "+s.target;return ea("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(t),f=c.getLayout().value,h=this.getDataParams(t,i).data.name;return ea("nameValue",{name:h!=null?h+"":null,value:f,noValue:a(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,r){var i=n.prototype.getDataParams.call(this,t,r);if(i.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(t),o=a.getLayout().value;i.value=o}return i},e.type="series.sankey",e.layoutMode="box",e.defaultOption={z:2,coordinateSystemUsage:"box",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,roam:!1,roamTrigger:"global",center:null,zoom:1,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:De.color.neutral50,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:De.color.primary}},animationEasing:"linear",animationDuration:1e3},e})(_r);function fPe(n,e){n.eachSeriesByType("sankey",function(t){var r=t.get("nodeWidth"),i=t.get("nodeGap"),a=ha(t,e).refContainer,o=Kr(t.getBoxLayoutParams(),a);t.layoutInfo=o;var s=o.width,l=o.height,u=t.getGraph(),c=u.nodes,f=u.edges;dPe(c);var h=Zn(c,function(y){return y.getLayout().value===0}),d=h.length!==0?0:t.get("layoutIterations"),v=t.get("orient"),g=t.get("nodeAlign");hPe(c,f,r,i,s,l,d,v,g)})}function hPe(n,e,t,r,i,a,o,s,l){pPe(n,e,t,i,a,s,l),yPe(n,e,a,i,r,o,s),CPe(n,s)}function dPe(n){J(n,function(e){var t=Ap(e.outEdges,F3),r=Ap(e.inEdges,F3),i=e.getValue()||0,a=Math.max(t,r,i);e.setLayout({value:a},!0)})}function pPe(n,e,t,r,i,a,o){for(var s=[],l=[],u=[],c=[],f=0,h=0;h<e.length;h++)s[h]=1;for(var h=0;h<n.length;h++)l[h]=n[h].inEdges.length,l[h]===0&&u.push(n[h]);for(var d=-1;u.length;){for(var v=0;v<u.length;v++){var g=u[v],y=g.hostGraph.data.getRawDataItem(g.dataIndex),x=y.depth!=null&&y.depth>=0;x&&y.depth>d&&(d=y.depth),g.setLayout({depth:x?y.depth:f},!0),a==="vertical"?g.setLayout({dy:t},!0):g.setLayout({dx:t},!0);for(var b=0;b<g.outEdges.length;b++){var T=g.outEdges[b],M=e.indexOf(T);s[M]=0;var C=T.node2,D=n.indexOf(C);--l[D]===0&&c.indexOf(C)<0&&c.push(C)}}++f,u=c,c=[]}for(var h=0;h<s.length;h++)if(s[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var R=d>f-1?d:f-1;o&&o!=="left"&&vPe(n,o,a,R);var I=a==="vertical"?(i-t)/R:(r-t)/R;mPe(n,I,a)}function fie(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return e.depth!=null&&e.depth>=0}function vPe(n,e,t,r){if(e==="right"){for(var i=[],a=n,o=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++o}J(n,function(f){fie(f)||f.setLayout({depth:Math.max(0,r-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&gPe(n,r)}function gPe(n,e){J(n,function(t){!fie(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function mPe(n,e,t){J(n,function(r){var i=r.getLayout().depth*e;t==="vertical"?r.setLayout({y:i},!0):r.setLayout({x:i},!0)})}function yPe(n,e,t,r,i,a,o){var s=xPe(n,o);_Pe(s,e,t,r,i,o),LO(s,i,t,r,o);for(var l=1;a>0;a--)l*=.99,bPe(s,l,o),LO(s,i,t,r,o),APe(s,l,o),LO(s,i,t,r,o)}function xPe(n,e){var t=[],r=e==="vertical"?"y":"x",i=_P(n,function(a){return a.getLayout()[r]});return i.keys.sort(function(a,o){return a-o}),J(i.keys,function(a){t.push(i.buckets.get(a))}),t}function _Pe(n,e,t,r,i,a){var o=1/0;J(n,function(s){var l=s.length,u=0;J(s,function(f){u+=f.getLayout().value});var c=a==="vertical"?(r-(l-1)*i)/u:(t-(l-1)*i)/u;c<o&&(o=c)}),J(n,function(s){J(s,function(l,u){var c=l.getLayout().value*o;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),J(e,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function LO(n,e,t,r,i){var a=i==="vertical"?"x":"y";J(n,function(o){o.sort(function(g,y){return g.getLayout()[a]-y.getLayout()[a]});for(var s,l,u,c=0,f=o.length,h=i==="vertical"?"dx":"dy",d=0;d<f;d++)l=o[d],u=c-l.getLayout()[a],u>0&&(s=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]+l.getLayout()[h]+e;var v=i==="vertical"?r:t;if(u=c-e-v,u>0){s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var d=f-2;d>=0;--d)l=o[d],u=l.getLayout()[a]+l.getLayout()[h]+e-c,u>0&&(s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]}})}function bPe(n,e,t){J(n.slice().reverse(),function(r){J(r,function(i){if(i.outEdges.length){var a=Ap(i.outEdges,SPe,t)/Ap(i.outEdges,F3);if(isNaN(a)){var o=i.outEdges.length;a=o?Ap(i.outEdges,wPe,t)/o:0}if(t==="vertical"){var s=i.getLayout().x+(a-zp(i,t))*e;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-zp(i,t))*e;i.setLayout({y:l},!0)}}})})}function SPe(n,e){return zp(n.node2,e)*n.getValue()}function wPe(n,e){return zp(n.node2,e)}function TPe(n,e){return zp(n.node1,e)*n.getValue()}function MPe(n,e){return zp(n.node1,e)}function zp(n,e){return e==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function F3(n){return n.getValue()}function Ap(n,e,t){for(var r=0,i=n.length,a=-1;++a<i;){var o=+e(n[a],t);isNaN(o)||(r+=o)}return r}function APe(n,e,t){J(n,function(r){J(r,function(i){if(i.inEdges.length){var a=Ap(i.inEdges,TPe,t)/Ap(i.inEdges,F3);if(isNaN(a)){var o=i.inEdges.length;a=o?Ap(i.inEdges,MPe,t)/o:0}if(t==="vertical"){var s=i.getLayout().x+(a-zp(i,t))*e;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-zp(i,t))*e;i.setLayout({y:l},!0)}}})})}function CPe(n,e){var t=e==="vertical"?"x":"y";J(n,function(r){r.outEdges.sort(function(i,a){return i.node2.getLayout()[t]-a.node2.getLayout()[t]}),r.inEdges.sort(function(i,a){return i.node1.getLayout()[t]-a.node1.getLayout()[t]})}),J(n,function(r){var i=0,a=0;J(r.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),J(r.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function EPe(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),r=t.nodes,i=t.edges;if(r.length){var a=1/0,o=-1/0;J(r,function(s){var l=s.getLayout().value;l<a&&(a=l),l>o&&(o=l)}),J(r,function(s){var l=new Aa({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:e.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}i.length&&J(i,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function DPe(n){n.registerChartView(lPe),n.registerSeriesModel(cPe),n.registerLayout(fPe),n.registerVisual(EPe),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(r){r.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),n.registerAction({type:"sankeyRoam",event:"sankeyRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){var a=i.coordinateSystem,o=NN(a,e,i.get("scaleLimit"));i.setCenter(o.center),i.setZoom(o.zoom)})})}var hie=(function(){function n(){}return n.prototype._hasEncodeRule=function(e){var t=this.getEncode();return t&&t.get(e)!=null},n.prototype.getInitialData=function(e,t){var r,i=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),s=a.get("type"),l;o==="category"?(e.layout="horizontal",r=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(e.layout="vertical",r=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],h=u[1-c],d=[i,a],v=d[c].get("type"),g=d[1-c].get("type"),y=e.data;if(y&&l){var x=[];J(y,function(M,C){var D;Ke(M)?(D=M.slice(),M.unshift(C)):Ke(M.value)?(D=je({},M),D.value=D.value.slice(),M.value.unshift(C)):D=M,x.push(D)}),e.data=x}var b=this.defaultValueDimensions,T=[{name:f,type:T3(v),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:T3(g),dimsDef:b.slice()}];return T_(this,{coordDimensions:T,dimensionsCount:b.length+1,encodeDefaulter:tn(See,T,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n})(),die=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:De.color.neutral00,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:De.color.shadow}},animationDuration:800},e})(_r);Ci(die,hie,!0);var NPe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=t.get("layout")==="horizontal"?1:0;a.diff(s).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=MW(c,a,u,l,!0);a.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!a.hasValue(u)){o.remove(f);return}var h=a.getItemLayout(u);f?(ru(f),pie(h,f,a,u)):f=MW(h,a,u,l),o.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=a},e.prototype.remove=function(t){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&r.remove(a)})},e.type="boxplot",e})(vr),RPe=(function(){function n(){}return n})(),LPe=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="boxplotBoxPath",r}return e.prototype.getDefaultShape=function(){return new RPe},e.prototype.buildPath=function(t,r){var i=r.points,a=0;for(t.moveTo(i[a][0],i[a][1]),a++;a<4;a++)t.lineTo(i[a][0],i[a][1]);for(t.closePath();a<i.length;a++)t.moveTo(i[a][0],i[a][1]),a++,t.lineTo(i[a][0],i[a][1])},e})(Mn);function MW(n,e,t,r,i){var a=n.ends,o=new LPe({shape:{points:i?IPe(a,r,n):a}});return pie(n,o,e,t,i),o}function pie(n,e,t,r,i){var a=t.hostModel,o=Lm[i?"initProps":"updateProps"];o(e,{shape:{points:n.ends}},a,r),e.useStyle(t.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=t.getItemModel(r),l=s.getModel("emphasis");ca(e,s),ti(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function IPe(n,e,t){return $e(n,function(r){return r=r.slice(),r[e]=t.initBaseline,r})}var GS=J;function OPe(n){var e=PPe(n);GS(e,function(t){var r=t.seriesModels;r.length&&(zPe(t),GS(r,function(i,a){kPe(i,t.boxOffsetList[a],t.boxWidthList[a])}))})}function PPe(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),a=on(t,i);a<0&&(a=t.length,t[a]=i,e[a]={axis:i,seriesModels:[]}),e[a].seriesModels.push(r)}),e}function zPe(n){var e=n.axis,t=n.seriesModels,r=t.length,i=n.boxWidthList=[],a=n.boxOffsetList=[],o=[],s;if(e.type==="category")s=e.getBandWidth();else{var l=0;GS(t,function(v){l=Math.max(l,v.getData().count())});var u=e.getExtent();s=Math.abs(u[1]-u[0])/l}GS(t,function(v){var g=v.get("boxWidth");Ke(g)||(g=[g,g]),o.push([pt(g[0],s)||0,pt(g[1],s)||0])});var c=s*.8-2,f=c/r*.3,h=(c-f*(r-1))/r,d=h/2-c/2;GS(t,function(v,g){a.push(d),d+=f+h,i.push(Math.min(Math.max(h,o[g][0]),o[g][1]))})}function kPe(n,e,t){var r=n.coordinateSystem,i=n.getData(),a=t/2,o=n.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=i.mapDimension(l[o]),c=i.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var h=i.get(u,f),d=T(h,c[2],f),v=T(h,c[0],f),g=T(h,c[1],f),y=T(h,c[3],f),x=T(h,c[4],f),b=[];M(b,g,!1),M(b,y,!0),b.push(v,g,x,y),C(b,v),C(b,x),C(b,d),i.setItemLayout(f,{initBaseline:d[s],ends:b})}function T(D,R,I){var L=i.get(R,I),O=[];O[o]=D,O[s]=L;var B;return isNaN(D)||isNaN(L)?B=[NaN,NaN]:(B=r.dataToPoint(O),B[o]+=e),B}function M(D,R,I){var L=R.slice(),O=R.slice();L[o]+=a,O[o]-=a,I?D.push(L,O):D.push(O,L)}function C(D,R){var I=R.slice(),L=R.slice();I[o]-=a,L[o]+=a,D.push(I,L)}}function BPe(n,e){e=e||{};for(var t=[],r=[],i=e.boundIQR,a=i==="none"||i===0,o=0;o<n.length;o++){var s=sl(n[o].slice()),l=CC(s,.25),u=CC(s,.5),c=CC(s,.75),f=s[0],h=s[s.length-1],d=(i??1.5)*(c-l),v=a?f:Math.max(f,l-d),g=a?h:Math.min(h,c+d),y=e.itemNameFormatter,x=Nt(y)?y({value:o}):vt(y)?y.replace("{value}",o+""):o+"";t.push([x,v,l,u,c,g]);for(var b=0;b<s.length;b++){var T=s[b];if(T<v||T>g){var M=[x,T];r.push(M)}}}return{boxData:t,outliers:r}}var UPe={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==qa){var r="";tr(r)}var i=BPe(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function VPe(n){n.registerSeriesModel(die),n.registerChartView(NPe),n.registerLayout(OPe),n.registerTransform(UPe)}var FPe=["itemStyle","borderColor"],GPe=["itemStyle","borderColor0"],HPe=["itemStyle","borderColorDoji"],jPe=["itemStyle","color"],WPe=["itemStyle","color0"];function vU(n,e){return e.get(n>0?jPe:WPe)}function gU(n,e){return e.get(n===0?HPe:n>0?FPe:GPe)}var YPe={seriesType:"candlestick",plan:m_(),performRawSeries:!0,reset:function(n,e){if(!e.isSeriesFiltered(n)){var t=n.pipelineContext.large;return!t&&{progress:function(r,i){for(var a;(a=r.next())!=null;){var o=i.getItemModel(a),s=i.getItemLayout(a).sign,l=o.getItemStyle();l.fill=vU(s,o),l.stroke=gU(s,o)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");je(u,l)}}}}}},XPe=["color","borderColor"],qPe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,r,i){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,r,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,r):this._incrementalRenderNormal(t,r)},e.prototype.eachRendered=function(t){Wp(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t){var r=t.getData(),i=this._data,a=this.group,o=r.getLayout("isSimpleBox"),s=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),r.diff(i).add(function(c){if(r.hasValue(c)){var f=r.getItemLayout(c);if(s&&AW(u,f))return;var h=IO(f,c,!0);Gr(h,{shape:{points:f.ends}},t,c),OO(h,r,c,o),a.add(h),r.setItemGraphicEl(c,h)}}).update(function(c,f){var h=i.getItemGraphicEl(f);if(!r.hasValue(c)){a.remove(h);return}var d=r.getItemLayout(c);if(s&&AW(u,d)){a.remove(h);return}h?(Gn(h,{shape:{points:d.ends}},t,c),ru(h)):h=IO(d),OO(h,r,c,o),a.add(h),r.setItemGraphicEl(c,h)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=r},e.prototype._renderLarge=function(t){this._clear(),CW(t,this.group);var r=t.get("clip",!0)?Nw(t.coordinateSystem,!1,t):null;r?this.group.setClipPath(r):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,r){for(var i=r.getData(),a=i.getLayout("isSimpleBox"),o;(o=t.next())!=null;){var s=i.getItemLayout(o),l=IO(s);OO(l,i,o,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,r){CW(r,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(vr),ZPe=(function(){function n(){}return n})(),KPe=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="normalCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new ZPe},e.prototype.buildPath=function(t,r){var i=r.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},e})(Mn);function IO(n,e,t){var r=n.ends;return new KPe({shape:{points:t?JPe(r,n):r},z2:100})}function AW(n,e){for(var t=!0,r=0;r<e.ends.length;r++)if(n.contain(e.ends[r][0],e.ends[r][1])){t=!1;break}return t}function OO(n,e,t,r){var i=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=r,ca(n,i);var a=e.getItemLayout(t).sign;J(n.states,function(s,l){var u=i.getModel(l),c=vU(a,u),f=gU(a,u)||c,h=s.style||(s.style={});c&&(h.fill=c),f&&(h.stroke=f)});var o=i.getModel("emphasis");ti(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function JPe(n,e){return $e(n,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var QPe=(function(){function n(){}return n})(),PO=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new QPe},e.prototype.buildPath=function(t,r){for(var i=r.points,a=0;a<i.length;)if(this.__sign===i[a++]){var o=i[a++];t.moveTo(o,i[a++]),t.lineTo(o,i[a++])}else a+=3},e})(Mn);function CW(n,e,t,r){var i=n.getData(),a=i.getLayout("largePoints"),o=new PO({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(o);var s=new PO({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new PO({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),zO(1,o,n),zO(-1,s,n),zO(0,l,n),r&&(o.incremental=!0,s.incremental=!0),t&&t.push(o,s)}function zO(n,e,t,r){var i=gU(n,t)||vU(n,t),a=t.getModel("itemStyle").getItemStyle(XPe);e.useStyle(a),e.style.fill=null,e.style.stroke=i}var vie=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,r,i){var a=r.getItemLayout(t);return a&&i.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(_r);Ci(vie,hie,!0);function $Pe(n){!n||!Ke(n.series)||J(n.series,function(e){Ft(e)&&e.type==="k"&&(e.type="candlestick")})}var e4e={seriesType:"candlestick",plan:m_(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),r=t4e(n,t),i=0,a=1,o=["x","y"],s=t.getDimensionIndex(t.mapDimension(o[i])),l=$e(t.mapDimensionsAll(o[a]),t.getDimensionIndex,t),u=l[0],c=l[1],f=l[2],h=l[3];if(t.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),s<0||l.length<4)return;return{progress:n.pipelineContext.large?v:d};function d(g,y){for(var x,b=y.getStore();(x=g.next())!=null;){var T=b.get(s,x),M=b.get(u,x),C=b.get(c,x),D=b.get(f,x),R=b.get(h,x),I=Math.min(M,C),L=Math.max(M,C),O=W(I,T),B=W(L,T),V=W(D,T),F=W(R,T),k=[];q(k,B,0),q(k,O,1),k.push(re(F),re(B),re(V),re(O));var Y=y.getItemModel(x),H=!!Y.get(["itemStyle","borderColorDoji"]);y.setItemLayout(x,{sign:EW(b,x,M,C,c,H),initBaseline:M>C?B[a]:O[a],ends:k,brushRect:K(D,R,T)})}function W(j,Q){var ne=[];return ne[i]=Q,ne[a]=j,isNaN(Q)||isNaN(j)?[NaN,NaN]:e.dataToPoint(ne)}function q(j,Q,ne){var se=Q.slice(),he=Q.slice();se[i]=DC(se[i]+r/2,1,!1),he[i]=DC(he[i]-r/2,1,!0),ne?j.push(se,he):j.push(he,se)}function K(j,Q,ne){var se=W(j,ne),he=W(Q,ne);return se[i]-=r/2,he[i]-=r/2,{x:se[0],y:se[1],width:r,height:he[1]-se[1]}}function re(j){return j[i]=DC(j[i],1),j}}function v(g,y){for(var x=rf(g.count*4),b=0,T,M=[],C=[],D,R=y.getStore(),I=!!n.get(["itemStyle","borderColorDoji"]);(D=g.next())!=null;){var L=R.get(s,D),O=R.get(u,D),B=R.get(c,D),V=R.get(f,D),F=R.get(h,D);if(isNaN(L)||isNaN(V)||isNaN(F)){x[b++]=NaN,b+=3;continue}x[b++]=EW(R,D,O,B,c,I),M[i]=L,M[a]=V,T=e.dataToPoint(M,null,C),x[b++]=T?T[0]:NaN,x[b++]=T?T[1]:NaN,M[a]=F,T=e.dataToPoint(M,null,C),x[b++]=T?T[1]:NaN}y.setLayout("largePoints",x)}}};function EW(n,e,t,r,i,a){var o;return t>r?o=-1:t<r?o=1:o=a?0:e>0?n.get(i,e-1)<=r?1:-1:1,o}function t4e(n,e){var t=n.getBaseAxis(),r,i=t.type==="category"?t.getBandWidth():(r=t.getExtent(),Math.abs(r[1]-r[0])/e.count()),a=pt(At(n.get("barMaxWidth"),i),i),o=pt(At(n.get("barMinWidth"),1),i),s=n.get("barWidth");return s!=null?pt(s,i):Math.max(Math.min(i/2,a),o)}function n4e(n){n.registerChartView(qPe),n.registerSeriesModel(vie),n.registerPreprocessor($Pe),n.registerVisual(YPe),n.registerLayout(e4e)}function DW(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(r){r.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var r4e=(function(n){Oe(e,n);function e(t,r){var i=n.call(this)||this,a=new Ew(t,r),o=new zt;return i.add(a),i.add(o),i.updateData(t,r),i}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var r=t.symbolType,i=t.color,a=t.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var l=Vi(r,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),o.add(l)}DW(o,t)},e.prototype.updateEffectAnimation=function(t){for(var r=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(r[s]!==t[s]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}DW(i,t)},e.prototype.highlight=function(){Hh(this)},e.prototype.downplay=function(){jh(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,r){var i=this,a=t.hostModel;this.childAt(0).updateData(t,r);var o=this.childAt(1),s=t.getItemModel(r),l=t.getItemVisual(r,"symbol"),u=x_(t.getItemVisual(r,"symbolSize")),c=t.getItemVisual(r,"style"),f=c&&c.fill,h=s.getModel("emphasis");o.setScale(u),o.traverse(function(y){y.setStyle("fill",f)});var d=Pm(t.getItemVisual(r,"symbolOffset"),u);d&&(o.x=d[0],o.y=d[1]);var v=t.getItemVisual(r,"symbolRotate");o.rotation=(v||0)*Math.PI/180||0;var g={};g.showEffectOn=a.get("showEffectOn"),g.rippleScale=s.get(["rippleEffect","scale"]),g.brushType=s.get(["rippleEffect","brushType"]),g.period=s.get(["rippleEffect","period"])*1e3,g.effectOffset=r/t.count(),g.z=a.getShallow("z")||0,g.zlevel=a.getShallow("zlevel")||0,g.symbolType=l,g.color=f,g.rippleEffectColor=s.get(["rippleEffect","color"]),g.rippleNumber=s.get(["rippleEffect","number"]),g.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){y==="emphasis"?g.showEffectOn!=="render"&&i.startEffectAnimation(g):y==="normal"&&g.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=g,ti(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e})(zt),i4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new Dw(r4e)},e.prototype.render=function(t,r,i){var a=t.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(o.group)},e.prototype._getClipShape=function(t){var r=t.coordinateSystem,i=r&&r.getArea&&r.getArea();return t.get("clip",!0)?i:null},e.prototype.updateTransform=function(t,r,i){var a=t.getData();this.group.dirty();var o=Rw("").reset(t,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var r=t.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=wQ(r.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e})(vr),a4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return Tf(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e})(_r);function o4e(n){n.registerChartView(i4e),n.registerSeriesModel(a4e),n.registerLayout(Rw("effectScatter"))}var gie=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this)||this;return a.add(a.createLine(t,r,i)),a._updateEffectSymbol(t,r),a}return e.prototype.createLine=function(t,r,i){return new aU(t,r,i)},e.prototype._updateEffectSymbol=function(t,r){var i=t.getItemModel(r),a=i.getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");Ke(o)||(o=[o,o]);var l=t.getItemVisual(r,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Vi(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(t,a,r))},e.prototype._updateEffectAnimation=function(t,r,i){var a=this.childAt(1);if(a){var o=t.getItemLayout(i),s=r.get("period")*1e3,l=r.get("loop"),u=r.get("roundTrip"),c=r.get("constantSpeed"),f=Ya(r.get("delay"),function(d){return d/t.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),c>0&&(s=this._getLineLength(a)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var h=void 0;Nt(f)?h=f(i):h=f,a.__t>0&&(h=-s*a.__t),this._animateSymbol(a,s,h,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,r,i,a,o){if(r>0){t.__t=0;var s=this,l=t.animate("",a).when(o?r*2:r,{__t:o?2:1}).delay(i).during(function(){s._updateSymbolPosition(t)});a||l.done(function(){s.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return Mh(t.__p1,t.__cp1)+Mh(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,r){t.__p1=r[0],t.__p2=r[1],t.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},e.prototype.updateData=function(t,r,i){this.childAt(0).updateData(t,r,i),this._updateEffectSymbol(t,r)},e.prototype._updateSymbolPosition=function(t){var r=t.__p1,i=t.__p2,a=t.__cp1,o=t.__t<1?t.__t:2-t.__t,s=[t.x,t.y],l=s.slice(),u=Wa,c=iP;s[0]=u(r[0],a[0],i[0],o),s[1]=u(r[1],a[1],i[1],o);var f=t.__t<1?c(r[0],a[0],i[0],o):c(i[0],a[0],r[0],1-o),h=t.__t<1?c(r[1],a[1],i[1],o):c(i[1],a[1],r[1],1-o);t.rotation=-Math.atan2(h,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=Mh(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*Mh(r,s):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=s[0],t.y=s[1]},e.prototype.updateLayout=function(t,r){this.childAt(0).updateLayout(t,r);var i=t.getItemModel(r).getModel("effect");this._updateEffectAnimation(t,i,r)},e})(zt),mie=(function(n){Oe(e,n);function e(t,r,i){var a=n.call(this)||this;return a._createPolyline(t,r,i),a}return e.prototype._createPolyline=function(t,r,i){var a=t.getItemLayout(r),o=new Xa({shape:{points:a}});this.add(o),this._updateCommonStl(t,r,i)},e.prototype.updateData=function(t,r,i){var a=t.hostModel,o=this.childAt(0),s={shape:{points:t.getItemLayout(r)}};Gn(o,s,a,r),this._updateCommonStl(t,r,i)},e.prototype._updateCommonStl=function(t,r,i){var a=this.childAt(0),o=t.getItemModel(r),s=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(t.getItemVisual(r,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var h=a.ensureState("emphasis");h.style=s,ti(this,l,u,c)},e.prototype.updateLayout=function(t,r){var i=this.childAt(0);i.setShape("points",t.getItemLayout(r))},e})(zt),s4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,r,i){return new mie(t,r,i)},e.prototype._updateAnimationPoints=function(t,r){this._points=r;for(var i=[0],a=0,o=1;o<r.length;o++){var s=r[o-1],l=r[o];a+=Mh(s,l),i.push(a)}if(a===0){this._length=0;return}for(var o=0;o<i.length;o++)i[o]/=a;this._offsets=i,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var r=t.__t<1?t.__t:2-t.__t,i=this._points,a=this._offsets,o=i.length;if(a){var s=this._lastFrame,l;if(r<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(a[l]<=r);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(a[l]>r);l++);l=Math.min(l-1,o-2)}var c=(r-a[l])/(a[l+1]-a[l]),f=i[l],h=i[l+1];t.x=f[0]*(1-c)+c*h[0],t.y=f[1]*(1-c)+c*h[1];var d=t.__t<1?h[0]-f[0]:f[0]-h[0],v=t.__t<1?h[1]-f[1]:f[1]-h[1];t.rotation=-Math.atan2(v,d)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,t.ignore=!1}},e})(gie),l4e=(function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n})(),u4e=(function(n){Oe(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:De.color.neutral99,fill:null}},e.prototype.getDefaultShape=function(){return new l4e},e.prototype.buildPath=function(t,r){var i=r.segs,a=r.curveness,o;if(r.polyline)for(o=this._off;o<i.length;){var s=i[o++];if(s>0){t.moveTo(i[o++],i[o++]);for(var l=1;l<s;l++)t.lineTo(i[o++],i[o++])}}else for(o=this._off;o<i.length;){var u=i[o++],c=i[o++],f=i[o++],h=i[o++];if(t.moveTo(u,c),a>0){var d=(u+f)/2-(c-h)*a,v=(c+h)/2-(f-u)*a;t.quadraticCurveTo(d,v,f,h)}else t.lineTo(f,h)}this.incremental&&(this._off=o,this.notClear=!0)},e.prototype.findDataIndex=function(t,r){var i=this.shape,a=i.segs,o=i.curveness,s=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],h=a[u++],d=1;d<c;d++){var v=a[u++],g=a[u++];if(ip(f,h,v,g,s,t,r))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],h=a[u++],v=a[u++],g=a[u++];if(o>0){var y=(f+v)/2-(h-g)*o,x=(h+g)/2-(v-f)*o;if(m$(f,h,y,x,v,g,s,t,r))return l}else if(ip(f,h,v,g,s,t,r))return l;l++}return-1},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(t=i[0],r=i[1],a.contain(t,r)){var o=this.hoverDataIdx=this.findDataIndex(t,r);return o>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,i=r.segs,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];a=Math.min(c,a),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}t=this._rect=new Wt(a,o,s,l)}return t},e})(Mn),c4e=(function(){function n(){this.group=new zt}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var r=this._newAdded[0],i=t.getLayout("linesPoints"),a=r&&r.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+i.length);s.set(a),s.set(i,o),r.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,t),l.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new u4e({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,r){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var o=Xt(e);o.seriesIndex=i.seriesIndex,e.on("mousemove",function(s){o.dataIndex=null;var l=e.hoverDataIdx;l>0&&(o.dataIndex=l+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n})(),yie={seriesType:"lines",plan:m_(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(i,a){var o=[];if(r){var s=void 0,l=i.end-i.start;if(t){for(var u=0,c=i.start;c<i.end;c++)u+=n.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,h=[],c=i.start;c<i.end;c++){var d=n.getLineCoords(c,o);t&&(s[f++]=d);for(var v=0;v<d;v++)h=e.dataToPoint(o[v],!1,h),s[f++]=h[0],s[f++]=h[1]}a.setLayout("linesPoints",s)}else for(var c=i.start;c<i.end;c++){var g=a.getItemModel(c),d=n.getLineCoords(c,o),y=[];if(t)for(var x=0;x<d;x++)y.push(e.dataToPoint(o[x]));else{y[0]=e.dataToPoint(o[0]),y[1]=e.dataToPoint(o[1]);var b=g.get(["lineStyle","curveness"]);+b&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*b,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*b])}a.setItemLayout(c,y)}}}}}},f4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this._updateLineDraw(a,t),s=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(a);var f=t.get("clip",!0)&&Nw(t.coordinateSystem,!1,t);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,i){var a=t.getData(),o=this._updateLineDraw(a,t);o.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(t,r,i){this._lineDraw.incrementalUpdate(t,r.getData()),this._finished=t.end===r.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,r,i){var a=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=yie.reset(t,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(t,r){var i=this._lineDraw,a=this._showEffect(r),o=!!r.get("polyline"),s=r.pipelineContext,l=s.large;return(!i||a!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new c4e:new oU(o?a?s4e:mie:a?gie:aU),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=l),this.group.add(i.group),i},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var r=t.getZr(),i=r.painter.getType()==="svg";!i&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.type="lines",e})(vr),h4e=typeof Uint32Array>"u"?Array:Uint32Array,d4e=typeof Float64Array>"u"?Array:Float64Array;function NW(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=$e(e,function(t){var r=[t[0].coord,t[1].coord],i={coords:r};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),eN([i,t[0],t[1]])}))}var p4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],NW(t);var r=this._processFlatCoordsArray(t.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(t.data=new Float32Array(r.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(NW(t),t.data){var r=this._processFlatCoordsArray(t.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(t.data=new Float32Array(r.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var r=this._processFlatCoordsArray(t.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=Nx(this._flatCoords,r.flatCoords),this._flatCoordsOffset=Nx(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),t.data=new Float32Array(r.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var r=this.getData().getItemModel(t),i=r.option instanceof Array?r.option:r.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],o=0;o<a;o++)r[o]=r[o]||[],r[o][0]=this._flatCoords[i+o*2],r[o][1]=this._flatCoords[i+o*2+1];return a}else{for(var s=this._getCoordsFromItemModel(t),o=0;o<s.length;o++)r[o]=r[o]||[],r[o][0]=s[o][0],r[o][1]=s[o][1];return s.length}},e.prototype._processFlatCoordsArray=function(t){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),Pn(t[0])){for(var i=t.length,a=new h4e(i),o=new d4e(i),s=0,l=0,u=0,c=0;c<i;){u++;var f=t[c++];a[l++]=s+r,a[l++]=f;for(var h=0;h<f;h++){var d=t[c++],v=t[c++];o[s++]=d,o[s++]=v}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,r){var i=new Uo(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(a,o,s,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=a.getItemModel(t),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),ea("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),r=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&r>0?r+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e})(_r);function $A(n){return n instanceof Array||(n=[n,n]),n}var v4e={seriesType:"lines",reset:function(n){var e=$A(n.get("symbol")),t=$A(n.get("symbolSize")),r=n.getData();r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",t&&t[0]),r.setVisual("toSymbolSize",t&&t[1]);function i(a,o){var s=a.getItemModel(o),l=$A(s.getShallow("symbol",!0)),u=$A(s.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(o,"fromSymbol",l[0]),l[1]&&a.setItemVisual(o,"toSymbol",l[1]),u[0]&&a.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:r.hasItemOption?i:null}}};function g4e(n){n.registerChartView(f4e),n.registerSeriesModel(p4e),n.registerLayout(yie),n.registerVisual(v4e)}var m4e=256,y4e=(function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=ks.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,r,i,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),d=e.length;f.width=t,f.height=r;for(var v=0;v<d;++v){var g=e[v],y=g[0],x=g[1],b=g[2],T=i(b);h.globalAlpha=T,h.drawImage(s,y-c,x-c)}if(!f.width||!f.height)return f;for(var M=h.getImageData(0,0,f.width,f.height),C=M.data,D=0,R=C.length,I=this.minOpacity,L=this.maxOpacity,O=L-I;D<R;){var T=C[D+3]/256,B=Math.floor(T*(m4e-1))*4;if(T>0){var V=o(T)?l:u;T>0&&(T=T*O+I),C[D++]=V[B],C[D++]=V[B+1],C[D++]=V[B+2],C[D++]=V[B+3]*T*256}else D+=4}return h.putImageData(M,0,0),f},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=ks.createCanvas()),t=this.pointSize+this.blurSize,r=t*2;e.width=r,e.height=r;var i=e.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor=De.color.neutral99,i.beginPath(),i.arc(-t,t,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),e},n.prototype._getGradient=function(e,t){for(var r=this._gradientPixels,i=r[t]||(r[t]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,s=0;s<256;s++)e[t](s/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},n})();function x4e(n,e,t){var r=n[1]-n[0];e=$e(e,function(o){return{interval:[(o.interval[0]-n[0])/r,(o.interval[1]-n[0])/r]}});var i=e.length,a=0;return function(o){var s;for(s=a;s<i;s++){var l=e[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}if(s===i)for(s=a-1;s>=0;s--){var l=e[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<i&&t[s]}}function _4e(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(r){return r>=e[0]&&r<=e[1]}}function RW(n){var e=n.dimensions;return e[0]==="lng"&&e[1]==="lat"}var b4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a;r.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===t&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"||o.type==="matrix"?this._renderOnGridLike(t,i,0,t.getData().count()):RW(o)&&this._renderOnGeo(o,t,a,i)},e.prototype.incrementalPrepareRender=function(t,r,i){this.group.removeAll()},e.prototype.incrementalRender=function(t,r,i,a){var o=r.coordinateSystem;o&&(RW(o)?this.render(r,i,a):(this._progressiveEls=[],this._renderOnGridLike(r,a,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Wp(this._progressiveEls||this.group,t)},e.prototype._renderOnGridLike=function(t,r,i,a,o){var s=t.coordinateSystem,l=Op(s,"cartesian2d"),u=Op(s,"matrix"),c,f,h,d;if(l){var v=s.getAxis("x"),g=s.getAxis("y");c=v.getBandWidth()+.5,f=g.getBandWidth()+.5,h=v.scale.getExtent(),d=g.scale.getExtent()}for(var y=this.group,x=t.getData(),b=t.getModel(["emphasis","itemStyle"]).getItemStyle(),T=t.getModel(["blur","itemStyle"]).getItemStyle(),M=t.getModel(["select","itemStyle"]).getItemStyle(),C=t.get(["itemStyle","borderRadius"]),D=fa(t),R=t.getModel("emphasis"),I=R.get("focus"),L=R.get("blurScope"),O=R.get("disabled"),B=l||u?[x.mapDimension("x"),x.mapDimension("y"),x.mapDimension("value")]:[x.mapDimension("time"),x.mapDimension("value")],V=i;V<a;V++){var F=void 0,k=x.getItemVisual(V,"style");if(l){var Y=x.get(B[0],V),H=x.get(B[1],V);if(isNaN(x.get(B[2],V))||isNaN(Y)||isNaN(H)||Y<h[0]||Y>h[1]||H<d[0]||H>d[1])continue;var W=s.dataToPoint([Y,H]);F=new mn({shape:{x:W[0]-c/2,y:W[1]-f/2,width:c,height:f},style:k})}else if(u){var q=s.dataToLayout([x.get(B[0],V),x.get(B[1],V)]).rect;if(so(q.x))continue;F=new mn({z2:1,shape:q,style:k})}else{if(isNaN(x.get(B[1],V)))continue;var K=s.dataToLayout([x.get(B[0],V)]),q=K.contentRect||K.rect;if(so(q.x)||so(q.y))continue;F=new mn({z2:1,shape:q,style:k})}if(x.hasItemOption){var re=x.getItemModel(V),j=re.getModel("emphasis");b=j.getModel("itemStyle").getItemStyle(),T=re.getModel(["blur","itemStyle"]).getItemStyle(),M=re.getModel(["select","itemStyle"]).getItemStyle(),C=re.get(["itemStyle","borderRadius"]),I=j.get("focus"),L=j.get("blurScope"),O=j.get("disabled"),D=fa(re)}F.shape.r=C;var Q=t.getRawValue(V),ne="-";Q&&Q[2]!=null&&(ne=Q[2]+""),Na(F,D,{labelFetcher:t,labelDataIndex:V,defaultOpacity:k.opacity,defaultText:ne}),F.ensureState("emphasis").style=b,F.ensureState("blur").style=T,F.ensureState("select").style=M,ti(F,I,L,O),F.incremental=o,o&&(F.states.emphasis.hoverLayer=!0),y.add(F),x.setItemGraphicEl(V,F),this._progressiveEls&&this._progressiveEls.push(F)}},e.prototype._renderOnGeo=function(t,r,i,a){var o=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new y4e;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var c=t.getViewRect().clone(),f=t.getRoamTransform();c.applyTransform(f);var h=Math.max(c.x,0),d=Math.max(c.y,0),v=Math.min(c.width+c.x,a.getWidth()),g=Math.min(c.height+c.y,a.getHeight()),y=v-h,x=g-d,b=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],T=l.mapArray(b,function(R,I,L){var O=t.dataToPoint([R,I]);return O[0]-=h,O[1]-=d,O.push(L),O}),M=i.getExtent(),C=i.type==="visualMap.continuous"?_4e(M,i.option.range):x4e(M,i.getPieceList(),i.option.selected);u.update(T,y,x,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},C);var D=new Ra({style:{width:y,height:x,x:h,y:d,image:u.canvas},silent:!0});this.group.add(D)},e.type="heatmap",e})(vr),S4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return Tf(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=g_.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:De.color.primary}}},e})(_r);function w4e(n){n.registerChartView(b4e),n.registerSeriesModel(S4e)}var T4e=["itemStyle","borderWidth"],LW=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],kO=new wf,M4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=this.group,o=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:LW[+c],categoryDim:LW[1-+c]};o.diff(s).add(function(v){if(o.hasValue(v)){var g=OW(o,v),y=IW(o,v,g,h),x=PW(o,h,y);o.setItemGraphicEl(v,x),a.add(x),kW(x,h,y)}}).update(function(v,g){var y=s.getItemGraphicEl(g);if(!o.hasValue(v)){a.remove(y);return}var x=OW(o,v),b=IW(o,v,x,h),T=Tie(o,b);y&&T!==y.__pictorialShapeStr&&(a.remove(y),o.setItemGraphicEl(v,null),y=null),y?L4e(y,h,b):y=PW(o,h,b,!0),o.setItemGraphicEl(v,y),y.__pictorialSymbolMeta=b,a.add(y),kW(y,h,b)}).remove(function(v){var g=s.getItemGraphicEl(v);g&&zW(s,v,g.__pictorialSymbolMeta.animationModel,g)}).execute();var d=t.get("clip",!0)?Nw(t.coordinateSystem,!1,t):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=o,this.group},e.prototype.remove=function(t,r){var i=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(o){zW(a,Xt(o).dataIndex,t,o)}):i.removeAll()},e.type="pictorialBar",e})(vr);function IW(n,e,t,r){var i=n.getItemLayout(e),a=t.get("symbolRepeat"),o=t.get("symbolClip"),s=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,f=t.isAnimationEnabled(),h={dataIndex:e,layout:i,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?t:null,hoverScale:f&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};A4e(t,a,i,r,h),C4e(n,e,i,a,o,h.boundingLength,h.pxSign,c,r,h),E4e(t,h.symbolScale,u,r,h);var d=h.symbolSize,v=Pm(t.get("symbolOffset"),d);return D4e(t,d,i,a,o,v,s,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function A4e(n,e,t,r,i){var a=r.valueDim,o=n.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(t[a.wh]<=0),c;if(Ke(o)){var f=[BO(s,o[0])-l,BO(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=BO(s,o)-l:e?c=r.coordSysExtent[a.index][u]-l:c=t[a.wh];i.boundingLength=c,e&&(i.repeatCutLength=t[a.wh]);var h=a.xy==="x",d=s.inverse;i.pxSign=h&&!d||!h&&d?c>=0?1:-1:c>0?1:-1}function BO(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function C4e(n,e,t,r,i,a,o,s,l,u){var c=l.valueDim,f=l.categoryDim,h=Math.abs(t[f.wh]),d=n.getItemVisual(e,"symbolSize"),v;Ke(d)?v=d.slice():d==null?v=["100%","100%"]:v=[d,d],v[f.index]=pt(v[f.index],h),v[c.index]=pt(v[c.index],r?h:Math.abs(a)),u.symbolSize=v;var g=u.symbolScale=[v[0]/s,v[1]/s];g[c.index]*=(l.isHorizontal?-1:1)*o}function E4e(n,e,t,r,i){var a=n.get(T4e)||0;a&&(kO.attr({scaleX:e[0],scaleY:e[1],rotation:t}),kO.updateTransform(),a/=kO.getLineScale(),a*=e[r.valueDim.index]),i.valueLineWidth=a||0}function D4e(n,e,t,r,i,a,o,s,l,u,c,f){var h=c.categoryDim,d=c.valueDim,v=f.pxSign,g=Math.max(e[d.index]+s,0),y=g;if(r){var x=Math.abs(l),b=Ya(n.get("symbolMargin"),"15%")+"",T=!1;b.lastIndexOf("!")===b.length-1&&(T=!0,b=b.slice(0,b.length-1));var M=pt(b,e[d.index]),C=Math.max(g+M*2,0),D=T?0:M*2,R=Ak(r),I=R?r:BW((x+D)/C),L=x-I*g;M=L/2/(T?I:Math.max(I-1,1)),C=g+M*2,D=T?0:M*2,!R&&r!=="fixed"&&(I=u?BW((Math.abs(u)+D)/C):0),y=I*C-D,f.repeatTimes=I,f.symbolMargin=M}var O=v*(y/2),B=f.pathPosition=[];B[h.index]=t[h.wh]/2,B[d.index]=o==="start"?O:o==="end"?l-O:l/2,a&&(B[0]+=a[0],B[1]+=a[1]);var V=f.bundlePosition=[];V[h.index]=t[h.xy],V[d.index]=t[d.xy];var F=f.barRectShape=je({},t);F[d.wh]=v*Math.max(Math.abs(t[d.wh]),Math.abs(B[d.index]+O)),F[h.wh]=t[h.wh];var k=f.clipShape={};k[h.xy]=-t[h.xy],k[h.wh]=c.ecSize[h.wh],k[d.xy]=0,k[d.wh]=t[d.wh]}function xie(n){var e=n.symbolPatternSize,t=Vi(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function _ie(n,e,t,r){var i=n.__pictorialBundle,a=t.symbolSize,o=t.valueLineWidth,s=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,f=a[e.valueDim.index]+o+t.symbolMargin*2;for(mU(n,function(g){g.__pictorialAnimationIndex=c,g.__pictorialRepeatTimes=u,c<u?px(g,null,v(c),t,r):px(g,null,{scaleX:0,scaleY:0},t,r,function(){i.remove(g)}),c++});c<u;c++){var h=xie(t);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,i.add(h);var d=v(c);px(h,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},t,r)}function v(g){var y=s.slice(),x=t.pxSign,b=g;return(t.symbolRepeatDirection==="start"?x>0:x<0)&&(b=u-1-g),y[l.index]=f*(b-u/2+.5)+s[l.index],{x:y[0],y:y[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function bie(n,e,t,r){var i=n.__pictorialBundle,a=n.__pictorialMainPath;a?px(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,r):(a=n.__pictorialMainPath=xie(t),i.add(a),px(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,r))}function Sie(n,e,t){var r=je({},e.barRectShape),i=n.__pictorialBarRect;i?px(i,null,{shape:r},e,t):(i=n.__pictorialBarRect=new mn({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,n.add(i))}function wie(n,e,t,r){if(t.symbolClip){var i=n.__pictorialClipPath,a=je({},t.clipShape),o=e.valueDim,s=t.animationModel,l=t.dataIndex;if(i)Gn(i,{shape:a},s,l);else{a[o.wh]=0,i=new mn({shape:a}),n.__pictorialBundle.setClipPath(i),n.__pictorialClipPath=i;var u={};u[o.wh]=t.clipShape[o.wh],Lm[r?"updateProps":"initProps"](i,{shape:u},s,l)}}}function OW(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=N4e,t.isAnimationEnabled=R4e,t}function N4e(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function R4e(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function PW(n,e,t,r){var i=new zt,a=new zt;return i.add(a),i.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?_ie(i,e,t):bie(i,e,t),Sie(i,t,r),wie(i,e,t,r),i.__pictorialShapeStr=Tie(n,t),i.__pictorialSymbolMeta=t,i}function L4e(n,e,t){var r=t.animationModel,i=t.dataIndex,a=n.__pictorialBundle;Gn(a,{x:t.bundlePosition[0],y:t.bundlePosition[1]},r,i),t.symbolRepeat?_ie(n,e,t,!0):bie(n,e,t,!0),Sie(n,t,!0),wie(n,e,t,!0)}function zW(n,e,t,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var a=[];mU(r,function(o){a.push(o)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(t=null),J(a,function(o){Ip(o,{scaleX:0,scaleY:0},t,e,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(e,null)}function Tie(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function mU(n,e,t){J(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&e.call(t,r)})}function px(n,e,t,r,i,a){e&&n.attr(e),r.symbolClip&&!i?t&&n.attr(t):t&&Lm[i?"updateProps":"initProps"](n,t,r.animationModel,r.dataIndex,a)}function kW(n,e,t){var r=t.dataIndex,i=t.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),h=a.get("scale");mU(n,function(g){if(g instanceof Ra){var y=g.style;g.useStyle(je({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},t.style))}else g.useStyle(t.style);var x=g.ensureState("emphasis");x.style=o,h&&(x.scaleX=g.scaleX*1.1,x.scaleY=g.scaleY*1.1),g.ensureState("blur").style=s,g.ensureState("select").style=l,u&&(g.cursor=u),g.z2=t.z2});var d=e.valueDim.posDesc[+(t.boundingLength>0)],v=n.__pictorialBarRect;v.ignoreClip=!0,Na(v,fa(i),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:Fx(e.seriesModel.getData(),r),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:d}),ti(n,c,f,a.get("disabled"))}function BW(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}var I4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Yp(k2.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:De.color.primary}}}),e})(k2);function O4e(n){n.registerChartView(M4e),n.registerSeriesModel(I4e),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,tn(jte,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Wte("pictorialBar"))}var P4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,r,i){var a=t.getData(),o=this,s=this.group,l=t.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function h(y){return y.name}var d=new Wh(this._layersSeries||[],l,h,h),v=[];d.add(mt(g,this,"add")).update(mt(g,this,"update")).remove(mt(g,this,"remove")).execute();function g(y,x,b){var T=o._layers;if(y==="remove"){s.remove(T[x]);return}for(var M=[],C=[],D,R=l[x].indices,I=0;I<R.length;I++){var L=a.getItemLayout(R[I]),O=L.x,B=L.y0,V=L.y;M.push(O,B),C.push(O,B+V),D=a.getItemVisual(R[I],"style")}var F,k=a.getItemLayout(R[0]),Y=t.getModel("label"),H=Y.get("margin"),W=t.getModel("emphasis");if(y==="add"){var q=v[x]=new zt;F=new Pne({shape:{points:M,stackedOnPoints:C,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),q.add(F),s.add(q),t.isAnimationEnabled()&&F.setClipPath(z4e(F.getBoundingRect(),t,function(){F.removeClipPath()}))}else{var q=T[b];F=q.childAt(0),s.add(q),v[x]=q,Gn(F,{shape:{points:M,stackedOnPoints:C}},t),ru(F)}Na(F,fa(t),{labelDataIndex:R[I-1],defaultText:a.getName(R[I-1]),inheritColor:D.fill},{normal:{verticalAlign:"middle"}}),F.setTextConfig({position:null,local:!0});var K=F.getTextContent();K&&(K.x=k.x-H,K.y=k.y0+k.y/2),F.useStyle(D),a.setItemGraphicEl(x,F),ca(F,t),ti(F,W.get("focus"),W.get("blurScope"),W.get("disabled"))}this._layersSeries=l,this._layers=v},e.type="themeRiver",e})(vr);function z4e(n,e,t){var r=new mn({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Gr(r,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,t),r}var UO=2,k4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new M_(mt(this.getData,this),mt(this.getRawData,this))},e.prototype.fixData=function(t){var r=t.length,i={},a=_P(t,function(h){return i.hasOwnProperty(h[0]+"")||(i[h[0]+""]=-1),h[2]}),o=[];a.buckets.each(function(h,d){o.push({name:d,dataList:h})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,t[r]=[f,0,u],r++)}return t},e.prototype.getInitialData=function(t,r){for(var i=this.getReferringComponents("singleAxis",di).models[0],a=i.get("type"),o=Zn(t.data,function(v){return v[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=Tt(),c=0,f=0;f<s.length;++f)l.push(s[f][UO]),u.get(s[f][UO])||(u.set(s[f][UO],c),c++);var h=__(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:T3(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new Uo(h,this);return d.initData(s),d},e.prototype.getLayerSeries=function(){for(var t=this.getData(),r=t.count(),i=[],a=0;a<r;++a)i[a]=a;var o=t.mapDimension("single"),s=_P(i,function(u){return t.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,h){return t.get(o,f)-t.get(o,h)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,r,i){Ke(t)||(t=t?[t]:[]);for(var a=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,h=-1,d=o[c].indices.length,v=0;v<d;++v){var g=a.get(t[0],o[c].indices[v]),y=Math.abs(g-r);y<=f&&(u=g,f=y,h=o[c].indices[v])}s.push(h)}return{dataIndices:s,nestestValue:u}},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=a.getName(t),s=a.get(a.mapDimension("value"),t);return ea("nameValue",{name:o,value:s})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e})(_r);function B4e(n,e){n.eachSeriesByType("themeRiver",function(t){var r=t.getData(),i=t.coordinateSystem,a={},o=i.getRect();a.rect=o;var s=t.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=s,l.orient==="horizontal"){s[0]=pt(s[0],o.height),s[1]=pt(s[1],o.height);var u=o.height-s[0]-s[1];UW(r,t,u)}else{s[0]=pt(s[0],o.width),s[1]=pt(s[1],o.width);var c=o.width-s[0]-s[1];UW(r,t,c)}r.setLayout("layoutInfo",a)})}function UW(n,e,t){if(n.count())for(var r=e.coordinateSystem,i=e.getLayerSeries(),a=n.mapDimension("single"),o=n.mapDimension("value"),s=$e(i,function(y){return $e(y.indices,function(x){var b=r.dataToPoint(n.get(a,x));return b[1]=n.get(o,x),b})}),l=U4e(s),u=l.y0,c=t/l.max,f=i.length,h=i[0].indices.length,d,v=0;v<h;++v){d=u[v]*c,n.setItemLayout(i[0].indices[v],{layerIndex:0,x:s[0][v][0],y0:d,y:s[0][v][1]*c});for(var g=1;g<f;++g)d+=s[g-1][v][1]*c,n.setItemLayout(i[g].indices[v],{layerIndex:g,x:s[g][v][0],y0:d,y:s[g][v][1]*c})}}function U4e(n){for(var e=n.length,t=n[0].length,r=[],i=[],a=0,o=0;o<t;++o){for(var s=0,l=0;l<e;++l)s+=n[l][o][1];s>a&&(a=s),r.push(s)}for(var u=0;u<t;++u)i[u]=(a-r[u])/2;a=0;for(var c=0;c<t;++c){var f=r[c]+i[c];f>a&&(a=f)}return{y0:i,max:a}}function V4e(n){n.registerChartView(P4e),n.registerSeriesModel(k4e),n.registerLayout(B4e),n.registerProcessor(w_("themeRiver"))}var F4e=2,G4e=4,VW=(function(n){Oe(e,n);function e(t,r,i,a){var o=n.call(this)||this;o.z2=F4e,o.textConfig={inside:!0},Xt(o).seriesIndex=r.seriesIndex;var s=new On({z2:G4e,silent:t.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,t,r,i,a),o}return e.prototype.updateData=function(t,r,i,a,o){this.node=r,r.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var s=this;Xt(s).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),c=r.getLayout(),f=je({},c);f.label=null;var h=r.getVisual("style");h.lineJoin="bevel";var d=r.getVisual("decal");d&&(h.decal=Bx(d,o));var v=of(l.getModel("itemStyle"),f,!0);je(f,v),J(ps,function(b){var T=s.ensureState(b),M=l.getModel([b,"itemStyle"]);T.style=M.getItemStyle();var C=of(M,f);C&&(T.shape=C)}),t?(s.setShape(f),s.shape.r=c.r0,Gr(s,{shape:{r:c.r}},i,r.dataIndex)):(Gn(s,{shape:f},i),ru(s)),s.useStyle(h),this._updateLabel(i);var g=l.getShallow("cursor");g&&s.attr("cursor",g),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var y=u.get("focus"),x=y==="relative"?Nx(r.getAncestorsIndices(),r.getDescendantIndices()):y==="ancestor"?r.getAncestorsIndices():y==="descendant"?r.getDescendantIndices():y;ti(this,x,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var r=this,i=this.node.getModel(),a=i.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,h=f.getTextContent(),d=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI,g=a.get("show")&&!(v!=null&&Math.abs(s)<v);h.ignore=!g,J(w2,function(x){var b=x==="normal"?i.getModel("label"):i.getModel([x,"label"]),T=x==="normal",M=T?h:h.ensureState(x),C=t.getFormattedLabel(d,x);T&&(C=C||r.node.name),M.style=Dr(b,{},null,x!=="normal",!0),C&&(M.style.text=C);var D=b.get("show");D!=null&&!T&&(M.ignore=!D);var R=y(b,"position"),I=T?f:f.states[x],L=I.style.fill;I.textConfig={outsideFill:b.get("color")==="inherit"?L:null,inside:R!=="outside"};var O,B=y(b,"distance")||0,V=y(b,"align"),F=y(b,"rotate"),k=Math.PI*.5,Y=Math.PI*1.5,H=ll(F==="tangential"?Math.PI/2-l:l),W=H>k&&!Ix(H-k)&&H<Y;R==="outside"?(O=o.r+B,V=W?"right":"left"):!V||V==="center"?(s===2*Math.PI&&o.r0===0?O=0:O=(o.r+o.r0)/2,V="center"):V==="left"?(O=o.r0+B,V=W?"right":"left"):V==="right"&&(O=o.r-B,V=W?"left":"right"),M.style.align=V,M.style.verticalAlign=y(b,"verticalAlign")||"middle",M.x=O*u+o.cx,M.y=O*c+o.cy;var q=0;F==="radial"?q=ll(-l)+(W?Math.PI:0):F==="tangential"?q=ll(Math.PI/2-l)+(W?Math.PI:0):Pn(F)&&(q=F*Math.PI/180),M.rotation=ll(q)});function y(x,b){var T=x.get(b);return T??a.get(b)}h.dirtyStyle()},e})(co),z4="sunburstRootToNode",FW="sunburstHighlight",H4e="sunburstUnhighlight";function j4e(n){n.registerAction({type:z4,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(i,a){var o=U2(e,[z4],i);if(o){var s=i.getViewRoot();s&&(e.direction=eU(s,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}}}),n.registerAction({type:FW,update:"none"},function(e,t,r){e=je({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(a){var o=U2(e,[FW],a);o&&(e.dataIndex=o.node.dataIndex)}r.dispatchAction(je(e,{type:"highlight"}))}),n.registerAction({type:H4e,update:"updateView"},function(e,t,r){e=je({},e),r.dispatchAction(je(e,{type:"downplay"}))})}var W4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){var o=this;this.seriesModel=t,this.api=i,this.ecModel=r;var s=t.getData(),l=s.tree.root,u=t.getViewRoot(),c=this.group,f=t.get("renderLabelForZeroData"),h=[];u.eachNode(function(b){h.push(b)});var d=this._oldChildren||[];v(h,d),x(l,u),this._initEvents(),this._oldChildren=h;function v(b,T){if(b.length===0&&T.length===0)return;new Wh(T,b,M,M).add(C).update(C).remove(tn(C,null)).execute();function M(D){return D.getId()}function C(D,R){var I=D==null?null:b[D],L=R==null?null:T[R];g(I,L)}}function g(b,T){if(!f&&b&&!b.getValue()&&(b=null),b!==l&&T!==l){if(T&&T.piece)b?(T.piece.updateData(!1,b,t,r,i),s.setItemGraphicEl(b.dataIndex,T.piece)):y(T);else if(b){var M=new VW(b,t,r,i);c.add(M),s.setItemGraphicEl(b.dataIndex,M)}}}function y(b){b&&b.piece&&(c.remove(b.piece),b.piece=null)}function x(b,T){T.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,b,t,r,i):(o.virtualPiece=new VW(b,t,r,i),c.add(o.virtualPiece)),T.piece.off("click"),o.virtualPiece.on("click",function(M){o._rootToNode(T.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(r){var i=!1,a=t.seriesModel.getViewRoot();a.eachNode(function(o){if(!i&&o.piece&&o.piece===r.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")t._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";p3(u,c)}}i=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:z4,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},e.type="sunburst",e})(vr),Y4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,r){var i={name:t.name,children:t.data};Mie(i);var a=this._levelModels=$e(t.levels||[],function(l){return new Tn(l,this,r)},this),o=$B.createTree(i,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),h=a[f.depth];return h&&(u.parentModel=h),u})}return o.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treePathInfo=LN(i,this),r},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var r=this.getRawData().tree.root;(!t||t!==r&&!r.contains(t))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){Dre(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e})(_r);function Mie(n){var e=0;J(n.children,function(r){Mie(r);var i=r.value;Ke(i)&&(i=i[0]),e+=i});var t=n.value;Ke(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),Ke(n.value)?n.value[0]=t:n.value=t}var GW=Math.PI/180;function X4e(n,e,t){e.eachSeriesByType(n,function(r){var i=r.get("center"),a=r.get("radius");Ke(a)||(a=[0,a]),Ke(i)||(i=[i,i]);var o=t.getWidth(),s=t.getHeight(),l=Math.min(o,s),u=pt(i[0],o),c=pt(i[1],s),f=pt(a[0],l/2),h=pt(a[1],l/2),d=-r.get("startAngle")*GW,v=r.get("minAngle")*GW,g=r.getData().tree.root,y=r.getViewRoot(),x=y.depth,b=r.get("sort");b!=null&&Aie(y,b);var T=0;J(y.children,function(H){!isNaN(H.getValue())&&T++});var M=y.getValue(),C=Math.PI/(M||T)*2,D=y.depth>0,R=y.height-(D?-1:1),I=(h-f)/(R||1),L=r.get("clockwise"),O=r.get("stillShowZeroSum"),B=L?1:-1,V=function(H,W){if(H){var q=W;if(H!==g){var K=H.getValue(),re=M===0&&O?C:K*C;re<v&&(re=v),q=W+B*re;var j=H.depth-x-(D?-1:1),Q=f+I*j,ne=f+I*(j+1),se=r.getLevelModel(H);if(se){var he=se.get("r0",!0),pe=se.get("r",!0),xe=se.get("radius",!0);xe!=null&&(he=xe[0],pe=xe[1]),he!=null&&(Q=pt(he,l/2)),pe!=null&&(ne=pt(pe,l/2))}H.setLayout({angle:re,startAngle:W,endAngle:q,clockwise:L,cx:u,cy:c,r0:Q,r:ne})}if(H.children&&H.children.length){var Te=0;J(H.children,function(Me){Te+=V(Me,W+Te)})}return q-W}};if(D){var F=f,k=f+I,Y=Math.PI*2;g.setLayout({angle:Y,startAngle:d,endAngle:d+Y,clockwise:L,cx:u,cy:c,r0:F,r:k})}V(y,d)})}function Aie(n,e){var t=n.children||[];n.children=q4e(t,e),t.length&&J(n.children,function(r){Aie(r,e)})}function q4e(n,e){if(Nt(e)){var t=$e(n,function(i,a){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:a}});return t.sort(function(i,a){return e(i.params,a.params)}),$e(t,function(i){return n[i.index]})}else{var r=e==="asc";return n.sort(function(i,a){var o=(i.getValue()-a.getValue())*(r?1:-1);return o===0?(i.dataIndex-a.dataIndex)*(r?-1:1):o})}}function Z4e(n){var e={};function t(r,i,a){if(r.depth===0)return De.color.neutral50;for(var o=r;o&&o.depth>1;)o=o.parentNode;var s=i.getColorFromPalette(o.name||o.dataIndex+"",e);return r.depth>1&&vt(s)&&(s=e3(s,(r.depth-1)/(a-1)*.5)),s}n.eachSeriesByType("sunburst",function(r){var i=r.getData(),a=i.tree;a.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(o,r,a.root.height));var u=i.ensureUniqueItemVisual(o.dataIndex,"style");je(u,l)})})}function K4e(n){n.registerChartView(W4e),n.registerSeriesModel(Y4e),n.registerLayout(tn(X4e,"sunburst")),n.registerProcessor(tn(w_,"sunburst")),n.registerVisual(Z4e),j4e(n)}var HW={color:"fill",borderColor:"stroke"},J4e={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Oh=Sn(),Q4e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,r){return Tf(null,this)},e.prototype.getDataParams=function(t,r,i){var a=n.prototype.getDataParams.call(this,t,r);return i&&(a.info=Oh(i).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar","matrix"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e})(_r);function $4e(n,e){return e=e||[0,0],$e(["x","y"],function(t,r){var i=this.getAxis(t),a=e[r],o=n[r]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function eze(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:mt($4e,n)}}}function tze(n,e){return e=e||[0,0],$e([0,1],function(t){var r=e[t],i=n[t]/2,a=[],o=[];return a[t]=r-i,o[t]=r+i,a[1-t]=o[1-t]=e[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(o)[t])},this)}function nze(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:mt(tze,n)}}}function rze(n,e){var t=this.getAxis(),r=e instanceof Array?e[0]:e,i=(n instanceof Array?n[0]:n)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(r-i)-t.dataToCoord(r+i))}function ize(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:mt(rze,n)}}}function aze(n,e){return e=e||[0,0],$e(["Radius","Angle"],function(t,r){var i="get"+t+"Axis",a=this[i](),o=e[r],s=n[r]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function oze(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:r[1],r0:r[0]},api:{coord:function(i){var a=e.dataToRadius(i[0]),o=t.dataToAngle(i[1]),s=n.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:mt(aze,n)}}}function sze(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(r,i){return n.dataToPoint(r,i)},layout:function(r,i){return n.dataToLayout(r,i)}}}}function lze(n){var e=n.getRect();return{coordSys:{type:"matrix",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t,r){return n.dataToPoint(t,r)},layout:function(t,r){return n.dataToLayout(t,r)}}}}function Cie(n,e,t,r){return n&&(n.legacy||n.legacy!==!1&&!t&&!r&&e!=="tspan"&&(e==="text"||St(n,"text")))}function Eie(n,e,t){var r=n,i,a,o;if(e==="text")o=r;else{o={},St(r,"text")&&(o.text=r.text),St(r,"rich")&&(o.rich=r.rich),St(r,"textFill")&&(o.fill=r.textFill),St(r,"textStroke")&&(o.stroke=r.textStroke),St(r,"fontFamily")&&(o.fontFamily=r.fontFamily),St(r,"fontSize")&&(o.fontSize=r.fontSize),St(r,"fontStyle")&&(o.fontStyle=r.fontStyle),St(r,"fontWeight")&&(o.fontWeight=r.fontWeight),a={type:"text",style:o,silent:!0},i={};var s=St(r,"textPosition");t?i.position=s?r.textPosition:"inside":s&&(i.position=r.textPosition),St(r,"textPosition")&&(i.position=r.textPosition),St(r,"textOffset")&&(i.offset=r.textOffset),St(r,"textRotation")&&(i.rotation=r.textRotation),St(r,"textDistance")&&(i.distance=r.textDistance)}return jW(o,n),J(o.rich,function(l){jW(l,l)}),{textConfig:i,textContent:a}}function jW(n,e){e&&(e.font=e.textFont||e.font,St(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),St(e,"textAlign")&&(n.align=e.textAlign),St(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),St(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),St(e,"textWidth")&&(n.width=e.textWidth),St(e,"textHeight")&&(n.height=e.textHeight),St(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),St(e,"textPadding")&&(n.padding=e.textPadding),St(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),St(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),St(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),St(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),St(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),St(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),St(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function WW(n,e,t){var r=n;r.textPosition=r.textPosition||t.position||"inside",t.offset!=null&&(r.textOffset=t.offset),t.rotation!=null&&(r.textRotation=t.rotation),t.distance!=null&&(r.textDistance=t.distance);var i=r.textPosition.indexOf("inside")>=0,a=n.fill||De.color.neutral99;YW(r,e);var o=r.textFill==null;return i?o&&(r.textFill=t.insideFill||De.color.neutral00,!r.textStroke&&t.insideStroke&&(r.textStroke=t.insideStroke),!r.textStroke&&(r.textStroke=a),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(o&&(r.textFill=n.fill||t.outsideFill||De.color.neutral00),!r.textStroke&&t.outsideStroke&&(r.textStroke=t.outsideStroke)),r.text=e.text,r.rich=e.rich,J(e.rich,function(s){YW(s,s)}),r}function YW(n,e){e&&(St(e,"fill")&&(n.textFill=e.fill),St(e,"stroke")&&(n.textStroke=e.fill),St(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),St(e,"font")&&(n.font=e.font),St(e,"fontStyle")&&(n.fontStyle=e.fontStyle),St(e,"fontWeight")&&(n.fontWeight=e.fontWeight),St(e,"fontSize")&&(n.fontSize=e.fontSize),St(e,"fontFamily")&&(n.fontFamily=e.fontFamily),St(e,"align")&&(n.textAlign=e.align),St(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),St(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),St(e,"width")&&(n.textWidth=e.width),St(e,"height")&&(n.textHeight=e.height),St(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),St(e,"padding")&&(n.textPadding=e.padding),St(e,"borderColor")&&(n.textBorderColor=e.borderColor),St(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),St(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),St(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),St(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),St(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),St(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),St(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),St(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),St(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),St(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var Die={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},XW=Rn(Die);eu(pf,function(n,e){return n[e]=1,n},{});pf.join(", ");var G3=["","style","shape","extra"],Wx=Sn();function yU(n,e,t,r,i){var a=n+"Animation",o=f_(n,r,i)||{},s=Wx(e).userDuring;return o.duration>0&&(o.during=s?mt(dze,{el:e,userDuring:s}):null,o.setToFinal=!0,o.scope=n),je(o,t[a]),o}function kC(n,e,t,r){r=r||{};var i=r.dataIndex,a=r.isInit,o=r.clearStyle,s=t.isAnimationEnabled(),l=Wx(n),u=e.style;l.userDuring=e.during;var c={},f={};if(vze(n,e,f),n.type==="compound")for(var h=n.shape.paths,d=e.shape.paths,v=0;v<d.length;v++){var g=d[v];VO("shape",g,h[v])}else VO("shape",e,f),VO("extra",e,f);if(!a&&s&&(pze(n,e,c),qW("shape",n,e,c),qW("extra",n,e,c),gze(n,e,u,c)),f.style=u,uze(n,f,o),fze(n,e),s)if(a){var y={};J(G3,function(b){var T=b?e[b]:e;T&&T.enterFrom&&(b&&(y[b]=y[b]||{}),je(b?y[b]:y,T.enterFrom))});var x=yU("enter",n,e,t,i);x.duration>0&&n.animateFrom(y,x)}else cze(n,e,i||0,t,c);Nie(n,e),u?n.dirty():n.markRedraw()}function Nie(n,e){for(var t=Wx(n).leaveToProps,r=0;r<G3.length;r++){var i=G3[r],a=i?e[i]:e;a&&a.leaveTo&&(t||(t=Wx(n).leaveToProps={}),i&&(t[i]=t[i]||{}),je(i?t[i]:t,a.leaveTo))}}function PN(n,e,t,r){if(n){var i=n.parent,a=Wx(n).leaveToProps;if(a){var o=yU("update",n,e,t,0);o.done=function(){i&&i.remove(n)},n.animateTo(a,o)}else i&&i.remove(n)}}function um(n){return n==="all"}function uze(n,e,t){var r=e.style;if(!n.isGroup&&r){if(t){n.useStyle({});for(var i=n.animators,a=0;a<i.length;a++){var o=i[a];o.targetName==="style"&&o.changeTarget(n.style)}}n.setStyle(r)}e&&(e.style=null,e&&n.attr(e),e.style=r)}function cze(n,e,t,r,i){if(i){var a=yU("update",n,e,r,t);a.duration>0&&n.animateFrom(i,a)}}function fze(n,e){St(e,"silent")&&(n.silent=e.silent),St(e,"ignore")&&(n.ignore=e.ignore),n instanceof nu&&St(e,"invisible")&&(n.invisible=e.invisible),n instanceof Mn&&St(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}var Yc={},hze={setTransform:function(n,e){return Yc.el[n]=e,this},getTransform:function(n){return Yc.el[n]},setShape:function(n,e){var t=Yc.el,r=t.shape||(t.shape={});return r[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=Yc.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=Yc.el,r=t.style;return r&&(r[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=Yc.el.style;if(e)return e[n]},setExtra:function(n,e){var t=Yc.el.extra||(Yc.el.extra={});return t[n]=e,this},getExtra:function(n){var e=Yc.el.extra;if(e)return e[n]}};function dze(){var n=this,e=n.el;if(e){var t=Wx(e).userDuring,r=n.userDuring;if(t!==r){n.el=n.userDuring=null;return}Yc.el=e,r(hze)}}function qW(n,e,t,r){var i=t[n];if(i){var a=e[n],o;if(a){var s=t.transition,l=i.transition;if(l)if(!o&&(o=r[n]={}),um(l))je(o,a);else for(var u=Nr(l),c=0;c<u.length;c++){var f=u[c],h=a[f];o[f]=h}else if(um(s)||on(s,n)>=0){!o&&(o=r[n]={});for(var d=Rn(a),c=0;c<d.length;c++){var f=d[c],h=a[f];mze(i[f],h)&&(o[f]=h)}}}}}function VO(n,e,t){var r=e[n];if(r)for(var i=t[n]={},a=Rn(r),o=0;o<a.length;o++){var s=a[o];i[s]=PS(r[s])}}function pze(n,e,t){for(var r=e.transition,i=um(r)?pf:Nr(r||[]),a=0;a<i.length;a++){var o=i[a];if(!(o==="style"||o==="shape"||o==="extra")){var s=n[o];t[o]=s}}}function vze(n,e,t){for(var r=0;r<XW.length;r++){var i=XW[r],a=Die[i],o=e[i];o&&(t[a[0]]=o[0],t[a[1]]=o[1])}for(var r=0;r<pf.length;r++){var s=pf[r];e[s]!=null&&(t[s]=e[s])}}function gze(n,e,t,r){if(t){var i=n.style,a;if(i){var o=t.transition,s=e.transition;if(o&&!um(o)){var l=Nr(o);!a&&(a=r.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];a[c]=f}}else if(n.getAnimationStyleProps&&(um(s)||um(o)||on(s,"style")>=0)){var h=n.getAnimationStyleProps(),d=h?h.style:null;if(d){!a&&(a=r.style={});for(var v=Rn(t),u=0;u<v.length;u++){var c=v[u];if(d[c]){var f=i[c];a[c]=f}}}}}}}function mze(n,e){return lo(n)?n!==e:n!=null&&isFinite(n)}var Rie=Sn(),yze=["percent","easing","shape","style","extra"];function Lie(n){n.stopAnimation("keyframe"),n.attr(Rie(n))}function H3(n,e,t){if(!(!t.isAnimationEnabled()||!e)){if(Ke(e)){J(e,function(s){H3(n,s,t)});return}var r=e.keyframes,i=e.duration;if(t&&i==null){var a=f_("enter",t,0);i=a&&a.duration}if(!(!r||!i)){var o=Rie(n);J(G3,function(s){if(!(s&&!n[s])){var l;r.sort(function(u,c){return u.percent-c.percent}),J(r,function(u){var c=n.animators,f=s?u[s]:u;if(f){var h=Rn(f);if(s||(h=Zn(h,function(g){return on(yze,g)<0})),!!h.length){l||(l=n.animate(s,e.loop,!0),l.scope="keyframe");for(var d=0;d<c.length;d++)c[d]!==l&&c[d].targetName===l.targetName&&c[d].stopTracks(h);s&&(o[s]=o[s]||{});var v=s?o[s]:o;J(h,function(g){v[g]=((s?n[s]:n)||{})[g]}),l.whenWithKeys(i*u.percent,f,h,u.easing)}}}),l&&l.delay(e.delay||0).duration(i).start(e.easing)}})}}}var Ph="emphasis",gp="normal",xU="blur",_U="select",kp=[gp,Ph,xU,_U],FO={normal:["itemStyle"],emphasis:[Ph,"itemStyle"],blur:[xU,"itemStyle"],select:[_U,"itemStyle"]},GO={normal:["label"],emphasis:[Ph,"label"],blur:[xU,"label"],select:[_U,"label"]},xze=["x","y"],_ze="e\0\0",Vl={normal:{},emphasis:{},blur:{},select:{}},bze={cartesian2d:eze,geo:nze,single:ize,polar:oze,calendar:sze,matrix:lze};function k4(n){return n instanceof Mn}function B4(n){return n instanceof nu}function Sze(n,e){e.copyTransform(n),B4(e)&&B4(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,k4(e)&&k4(n)&&e.setShape(n.shape))}var wze=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this._progressiveEls=null;var o=this._data,s=t.getData(),l=this.group,u=ZW(t,s,r,i);o||l.removeAll(),s.diff(o).add(function(f){HO(i,null,f,u(f,a),t,l,s)}).remove(function(f){var h=o.getItemGraphicEl(f);h&&PN(h,Oh(h).option,t)}).update(function(f,h){var d=o.getItemGraphicEl(h);HO(i,d,f,u(f,a),t,l,s)}).execute();var c=t.get("clip",!0)?Nw(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(t,r,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,r,i,a,o){var s=r.getData(),l=ZW(r,s,i,a),u=this._progressiveEls=[];function c(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var f=t.start;f<t.end;f++){var h=HO(null,null,f,l(f,o),r,this.group,s);h&&(h.traverse(c),u.push(h))}},e.prototype.eachRendered=function(t){Wp(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,r,i,a){var o=r.element;if(o==null||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},e.type="custom",e})(vr);function bU(n){var e=n.type,t;if(e==="path"){var r=n.shape,i=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=Pie(r);t=Px(a,null,i,r.layout||"center"),Oh(t).customPathData=a}else if(e==="image")t=new Ra({}),Oh(t).customImagePath=n.style.image;else if(e==="text")t=new On({});else if(e==="group")t=new zt;else if(e==="compoundPath"){var r=n.shape;if(!r||!r.paths){var o="";tr(o)}var s=$e(r.paths,function(c){if(c.type==="path")return Px(c.shape.pathData,c,null);var f=M2(c.type);if(!f){var h="";tr(h)}return new f});t=new Sw({shape:{paths:s}})}else{var l=M2(e);if(!l){var o="";tr(o)}t=new l}return Oh(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function SU(n,e,t,r,i,a,o){Lie(e);var s=i&&i.normal.cfg;s&&e.setTextConfig(s),r&&r.transition==null&&(r.transition=xze);var l=r&&r.style;if(l){if(e.type==="text"){var u=l;St(u,"textFill")&&(u.fill=u.textFill),St(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=k4(e)?l.decal:null;n&&f&&(f.dirty=!0,c=Bx(f,n)),l.__decalPattern=c}if(B4(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}kC(e,r,a,{dataIndex:t,isInit:o,clearStyle:!0}),H3(e,r.keyframeAnimation,a)}function Iie(n,e,t,r,i){var a=e.isGroup?null:e,o=i&&i[n].cfg;if(a){var s=a.ensureState(n);if(r===!1){var l=a.getState(n);l&&(l.style=null)}else s.style=r||null;o&&(s.textConfig=o),ym(a)}}function Tze(n,e,t){if(!n.isGroup){var r=n,i=t.currentZ,a=t.currentZLevel;r.z=i,r.zlevel=a;var o=e.z2;o!=null&&(r.z2=o||0);for(var s=0;s<kp.length;s++)Mze(r,e,kp[s])}}function Mze(n,e,t){var r=t===gp,i=r?e:j3(e,t),a=i?i.z2:null,o;a!=null&&(o=r?n:n.ensureState(t),o.z2=a||0)}function ZW(n,e,t,r){var i=n.get("renderItem");if(typeof i=="string"){var a=yEe(i);a&&(i=a)}var o=n.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):bze[o.type](o));for(var l=Vt({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:C,style:R,ordinalRawValue:D,styleEmphasis:I,visual:B,barLayout:V,currentSeriesIndices:F,font:k},s.api||{}),u={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:Aze(n.getData()),itemPayload:n.get("itemPayload")||{}},c,f,h={},d={},v={},g={},y=0;y<kp.length;y++){var x=kp[y];v[x]=n.getModel(FO[x]),g[x]=n.getModel(GO[x])}function b(Y){return Y===c?f||(f=e.getItemModel(Y)):e.getItemModel(Y)}function T(Y,H){return e.hasItemOption?Y===c?h[H]||(h[H]=b(Y).getModel(FO[H])):b(Y).getModel(FO[H]):v[H]}function M(Y,H){return e.hasItemOption?Y===c?d[H]||(d[H]=b(Y).getModel(GO[H])):b(Y).getModel(GO[H]):g[H]}return function(Y,H){return c=Y,f=null,h={},d={},i&&i(Vt({dataIndexInside:Y,dataIndex:e.getRawIndex(Y),actionType:H?H.type:null},u),l)};function C(Y,H){return H==null&&(H=c),e.getStore().get(e.getDimensionIndex(Y||0),H)}function D(Y,H){H==null&&(H=c),Y=Y||0;var W=e.getDimensionInfo(Y);if(!W){var q=e.getDimensionIndex(Y);return q>=0?e.getStore().get(q,H):void 0}var K=e.get(W.name,H),re=W&&W.ordinalMeta;return re?re.categories[K]:K}function R(Y,H){H==null&&(H=c);var W=e.getItemVisual(H,"style"),q=W&&W.fill,K=W&&W.opacity,re=T(H,gp).getItemStyle();q!=null&&(re.fill=q),K!=null&&(re.opacity=K);var j={inheritColor:vt(q)?q:De.color.neutral99},Q=M(H,gp),ne=Dr(Q,null,j,!1,!0);ne.text=Q.getShallow("show")?At(n.getFormattedLabel(H,gp),Fx(e,H)):null;var se=f3(Q,j,!1);return O(Y,re),re=WW(re,ne,se),Y&&L(re,Y),re.legacy=!0,re}function I(Y,H){H==null&&(H=c);var W=T(H,Ph).getItemStyle(),q=M(H,Ph),K=Dr(q,null,null,!0,!0);K.text=q.getShallow("show")?zs(n.getFormattedLabel(H,Ph),n.getFormattedLabel(H,gp),Fx(e,H)):null;var re=f3(q,null,!0);return O(Y,W),W=WW(W,K,re),Y&&L(W,Y),W.legacy=!0,W}function L(Y,H){for(var W in H)St(H,W)&&(Y[W]=H[W])}function O(Y,H){Y&&(Y.textFill&&(H.textFill=Y.textFill),Y.textPosition&&(H.textPosition=Y.textPosition))}function B(Y,H){if(H==null&&(H=c),St(HW,Y)){var W=e.getItemVisual(H,"style");return W?W[HW[Y]]:null}if(St(J4e,Y))return e.getItemVisual(H,Y)}function V(Y){if(o.type==="cartesian2d"){var H=o.getBaseAxis();return b3e(Vt({axis:H},Y))}}function F(){return t.getCurrentSeriesIndices()}function k(Y){return Yk(Y,t)}}function Aze(n){var e={};return J(n.dimensions,function(t){var r=n.getDimensionInfo(t);if(!r.isExtraCoord){var i=r.coordDim,a=e[i]=e[i]||[];a[r.coordDimIndex]=n.getDimensionIndex(t)}}),e}function HO(n,e,t,r,i,a,o){if(!r){a.remove(e);return}var s=wU(n,e,t,r,i,a);return s&&o.setItemGraphicEl(t,s),s&&ti(s,r.focus,r.blurScope,r.emphasisDisabled),s}function wU(n,e,t,r,i,a){var o=-1,s=e;e&&Oie(e,r,i)&&(o=on(a.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=bU(r),s&&Sze(s,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),r.tooltipDisabled&&(u.tooltipDisabled=!0),Vl.normal.cfg=Vl.normal.conOpt=Vl.emphasis.cfg=Vl.emphasis.conOpt=Vl.blur.cfg=Vl.blur.conOpt=Vl.select.cfg=Vl.select.conOpt=null,Vl.isLegacy=!1,Eze(u,t,r,i,l,Vl),Cze(u,t,r,i,l),SU(n,u,t,r,Vl,i,l),St(r,"info")&&(Oh(u).info=r.info);for(var c=0;c<kp.length;c++){var f=kp[c];if(f!==gp){var h=j3(r,f),d=TU(r,h,f);Iie(f,u,h,d,Vl)}}return Tze(u,r,i),r.type==="group"&&Dze(n,u,t,r,i),o>=0?a.replaceAt(u,o):a.add(u),u}function Oie(n,e,t){var r=Oh(n),i=e.type,a=e.shape,o=e.style;return t.isUniversalTransitionEnabled()||i!=null&&i!==r.customGraphicType||i==="path"&&Ize(a)&&Pie(a)!==r.customPathData||i==="image"&&St(o,"image")&&o.image!==r.customImagePath}function Cze(n,e,t,r,i){var a=t.clipPath;if(a===!1)n&&n.getClipPath()&&n.removeClipPath();else if(a){var o=n.getClipPath();o&&Oie(o,a,r)&&(o=null),o||(o=bU(a),n.setClipPath(o)),SU(null,o,e,a,null,r,i)}}function Eze(n,e,t,r,i,a){if(!(n.isGroup||n.type==="compoundPath")){KW(t,null,a),KW(t,Ph,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=n.getTextContent();if(o===!1)c&&n.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=bU(o),n.setTextContent(c)),SU(null,c,e,o,null,r,i);for(var f=o&&o.style,h=0;h<kp.length;h++){var d=kp[h];if(d!==gp){var v=a[d].conOpt;Iie(d,c,v,TU(o,v,d),null)}}f?c.dirty():c.markRedraw()}}}}function KW(n,e,t){var r=e?j3(n,e):n,i=e?TU(n,r,Ph):n.style,a=n.type,o=r?r.textConfig:null,s=n.textContent,l=s?e?j3(s,e):s:null;if(i&&(t.isLegacy||Cie(i,a,!!o,!!l))){t.isLegacy=!0;var u=Eie(i,a,!e);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var f=e?t[e]:t.normal;f.cfg=o,f.conOpt=l}function j3(n,e){return e?n?n[e]:null:n}function TU(n,e,t){var r=e&&e.style;return r==null&&t===Ph&&n&&(r=n.styleEmphasis),r}function Dze(n,e,t,r,i){var a=r.children,o=a?a.length:0,s=r.$mergeChildren,l=s==="byName"||r.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){Rze({api:n,oldChildren:e.children()||[],newChildren:a||[],dataIndex:t,seriesModel:i,group:e});return}u&&e.removeAll();for(var c=0;c<o;c++){var f=a[c],h=e.childAt(c);f?(f.ignore==null&&(f.ignore=!1),wU(n,h,t,f,i,e)):h.ignore=!0}for(var d=e.childCount()-1;d>=c;d--){var v=e.childAt(d);Nze(e,v,i)}}}function Nze(n,e,t){e&&PN(e,Oh(n).option,t)}function Rze(n){new Wh(n.oldChildren,n.newChildren,JW,JW,n).add(QW).update(QW).remove(Lze).execute()}function JW(n,e){var t=n&&n.name;return t??_ze+e}function QW(n,e){var t=this.context,r=n!=null?t.newChildren[n]:null,i=e!=null?t.oldChildren[e]:null;wU(t.api,i,t.dataIndex,r,t.seriesModel,t.group)}function Lze(n){var e=this.context,t=e.oldChildren[n];t&&PN(t,Oh(t).option,e.seriesModel)}function Pie(n){return n&&(n.pathData||n.d)}function Ize(n){return n&&(St(n,"pathData")||St(n,"d"))}function Oze(n){n.registerChartView(wze),n.registerSeriesModel(Q4e)}var Vg=Sn(),$W=Pt,jO=mt,MU=(function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var a=t.get("value"),o=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,e,t,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,t);if(!s)s=this._group=new zt,this.createPointerEl(s,u,e,t),this.createLabelEl(s,u,e,t),r.getZr().add(s);else{var h=tn(eY,t,f);this.updatePointerEl(s,u,h),this.updateLabelEl(s,u,h,t)}nY(s,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,a=i.type==="category",o=t.get("snap");if(!o&&!a)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=YB(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,i,a){},n.prototype.createPointerEl=function(e,t,r,i){var a=t.pointer;if(a){var o=Vg(e).pointerEl=new Lm[a.type]($W(t.pointer));e.add(o)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var a=Vg(e).labelEl=new On($W(t.label));e.add(a),tY(a,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=Vg(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var a=Vg(e).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),tY(a,i))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||o==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=h_(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Gh(u.event)},onmousedown:jO(this._onHandleDragMove,this,0,0),drift:jO(this._onHandleDragMove,this),ondragend:jO(this._onHandleDragEnd,this)}),r.add(i)),nY(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Ke(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,y_(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},n.prototype._moveHandleToValue=function(e,t){eY(this._axisPointerModel,!t&&this._moveAnimation,this._handle,WO(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(WO(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(WO(i)),Vg(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),D2(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n})();function eY(n,e,t,r){zie(Vg(t).lastProp,r)||(Vg(t).lastProp=r,e?Gn(t,r,n):(t.stopAnimation(),t.attr(r)))}function zie(n,e){if(Ft(n)&&Ft(e)){var t=!0;return J(e,function(r,i){t=t&&zie(n[i],r)}),!!t}else return n===e}function tY(n,e){n[e.get(["label","show"])?"show":"hide"]()}function WO(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function nY(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=t)})}function AU(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function kie(n,e,t,r,i){var a=t.get("value"),o=Bie(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=v_(s.get("padding")||0),u=s.getFont(),c=aN(o,u),f=i.position,h=c.width+l[1]+l[3],d=c.height+l[0]+l[2],v=i.align;v==="right"&&(f[0]-=h),v==="center"&&(f[0]-=h/2);var g=i.verticalAlign;g==="bottom"&&(f[1]-=d),g==="middle"&&(f[1]-=d/2),Pze(f,h,d,r);var y=s.get("backgroundColor");(!y||y==="auto")&&(y=e.get(["axisLine","lineStyle","color"])),n.label={x:f[0],y:f[1],style:Dr(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function Pze(n,e,t,r){var i=r.getWidth(),a=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function Bie(n,e,t,r,i){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:i.precision}),o=i.formatter;if(o){var s={value:M3(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};J(r,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),vt(o)?a=o.replace("{value}",a):Nt(o)&&(a=o(s))}return a}function CU(n,e,t){var r=Ma();return Zh(r,r,t.rotation),$u(r,r,t.position),qu([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function Uie(n,e,t,r,i,a){var o=hs.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),kie(e,r,i,a,{position:CU(r.axis,n,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function EU(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function Vie(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}function rY(n,e,t,r,i,a){return{cx:n,cy:e,r0:t,r,startAngle:i,endAngle:a,clockwise:!0}}var zze=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,o){var s=i.axis,l=s.grid,u=a.get("type"),c=iY(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var h=AU(a),d=kze[u](s,f,c);d.style=h,t.graphicKey=d.type,t.pointer=d}var v=P3(l.getRect(),i);Uie(r,t,v,i,a,o)},e.prototype.getHandleTransform=function(t,r,i){var a=P3(r.axis.grid.getRect(),r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=CU(r.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=iY(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[t.x,t.y];f[c]+=r[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var h=(u[1]+u[0])/2,d=[h,h];d[c]=f[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:t.rotation,cursorPoint:d,tooltipOption:v[c]}},e})(MU);function iY(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var kze={line:function(n,e,t){var r=EU([e,t[0]],[e,t[1]],aY(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:Vie([e-r/2,t[0]],[r,i],aY(n))}}};function aY(n){return n.dim==="x"?0:1}var Bze=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:De.color.border,width:1,type:"dashed"},shadowStyle:{color:De.color.shadowTint},label:{show:!0,formatter:null,precision:"auto",margin:3,color:De.color.neutral00,padding:[5,7,5,7],backgroundColor:De.color.accent60,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:De.color.accent40,throttle:40}},e})(bn),Dh=Sn(),Uze=J;function Fie(n,e,t){if(!Dn.node){var r=e.getZr();Dh(r).records||(Dh(r).records={}),Vze(r,e);var i=Dh(r).records[n]||(Dh(r).records[n]={});i.handler=t}}function Vze(n,e){if(Dh(n).initialized)return;Dh(n).initialized=!0,t("click",tn(oY,"click")),t("mousemove",tn(oY,"mousemove")),t("globalout",Gze);function t(r,i){n.on(r,function(a){var o=Hze(e);Uze(Dh(n).records,function(s){s&&i(s,a,o.dispatchAction)}),Fze(o.pendings,e)})}}function Fze(n,e){var t=n.showTip.length,r=n.hideTip.length,i;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function Gze(n,e,t){n.handler("leave",null,t)}function oY(n,e,t,r){e.handler(n,t,r)}function Hze(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function U4(n,e){if(!Dn.node){var t=e.getZr(),r=(Dh(t).records||{})[n];r&&(Dh(t).records[n]=null)}}var jze=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=r.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Fie("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){U4("axisPointer",r)},e.prototype.dispose=function(t,r){U4("axisPointer",r)},e.type="axisPointer",e})(Rr);function Gie(n,e){var t=[],r=n.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),o=gm(a,n);if(o==null||o<0||Ke(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,h=u.dim,d=f==="x"||f==="radius"?1:0,v=a.mapDimension(h),g=[];g[d]=a.get(v,o),g[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(g)||[]}else t=l.dataToPoint(a.getValues($e(l.dimensions,function(x){return a.mapDimension(x)}),o))||[];else if(s){var y=s.getBoundingRect().clone();y.applyTransform(s.transform),t=[y.x+y.width/2,y.y+y.height/2]}return{point:t,el:s}}var sY=Sn();function Wze(n,e,t){var r=n.currTrigger,i=[n.x,n.y],a=n,o=n.dispatchAction||mt(t.dispatchAction,t),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){BC(i)&&(i=Gie({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=BC(i),u=a.axesInfo,c=s.axesInfo,f=r==="leave"||BC(i),h={},d={},v={list:[],map:{}},g={showPointer:tn(Xze,d),showTooltip:tn(qze,v)};J(s.coordSysMap,function(x,b){var T=l||x.containPoint(i);J(s.coordSysAxesInfo[b],function(M,C){var D=M.axis,R=Qze(u,M);if(!f&&T&&(!u||R)){var I=R&&R.value;I==null&&!l&&(I=D.pointToData(i)),I!=null&&lY(M,I,g,!1,h)}})});var y={};return J(c,function(x,b){var T=x.linkGroup;T&&!d[b]&&J(T.axesInfo,function(M,C){var D=d[C];if(M!==x&&D){var R=D.value;T.mapper&&(R=x.axis.scale.parse(T.mapper(R,uY(M),uY(x)))),y[x.key]=R}})}),J(y,function(x,b){lY(c[b],x,g,!0,h)}),Zze(d,c,h),Kze(v,i,n,o),Jze(c,o,t),h}}function lY(n,e,t,r,i){var a=n.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var o=Yze(e,n),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&je(i,s[0]),!r&&n.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,s),t.showTooltip(n,o,l)}}function Yze(n,e){var t=e.axis,r=t.dim,i=n,a=[],o=Number.MAX_VALUE,s=-1;return J(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),f,h;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(c,n,t);h=d.dataIndices,f=d.nestestValue}else{if(h=l.indicesOfNearest(r,c[0],n,t.type==="category"?.5:null),!h.length)return;f=l.getData().get(c[0],h[0])}if(!(f==null||!isFinite(f))){var v=n-f,g=Math.abs(v);g<=o&&((g<o||v>=0&&s<0)&&(o=g,s=v,i=f,a.length=0),J(h,function(y){a.push({seriesIndex:l.seriesIndex,dataIndexInside:y,dataIndex:l.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:i}}function Xze(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function qze(n,e,t,r){var i=t.payloadBatch,a=e.axis,o=a.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=B2(l),c=n.map[u];c||(c=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function Zze(n,e,t){var r=t.axesInfo=[];J(e,function(i,a){var o=i.axisPointerModel.option,s=n[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function Kze(n,e,t,r){if(BC(e)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function Jze(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",a=sY(r)[i]||{},o=sY(r)[i]={};J(n,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&J(f.seriesDataIndices,function(h){var d=h.seriesIndex+" | "+h.dataIndex;o[d]=h})});var s=[],l=[];J(a,function(u,c){!o[c]&&l.push(u)}),J(o,function(u,c){!a[c]&&s.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Qze(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function uY(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function BC(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function Iw(n){zm.registerAxisPointerClass("CartesianAxisPointer",zze),n.registerComponentModel(Bze),n.registerComponentView(jze),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Ke(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=$Re(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Wze)}function $ze(n){fn(hre),fn(Iw)}var eke=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(r),h=a.get("type");if(h&&h!=="none"){var d=AU(a),v=nke[h](s,l,f,c);v.style=d,t.graphicKey=v.type,t.pointer=v}var g=a.get(["label","margin"]),y=tke(r,i,a,l,g);kie(t,i,a,o,y)},e})(MU);function tke(n,e,t,r,i){var a=e.axis,o=a.dataToCoord(n),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var h=Ma();Zh(h,h,s),$u(h,h,[r.cx,r.cy]),u=qu([o,-i],h);var d=e.getModel("axisLabel").get("rotate")||0,v=hs.innerTextLayout(s,d*Math.PI/180,-1);c=v.textAlign,f=v.textVerticalAlign}else{var g=l[1];u=r.coordToPoint([g+i,o]);var y=r.cx,x=r.cy;c=Math.abs(u[0]-y)/g<.3?"center":u[0]>y?"left":"right",f=Math.abs(u[1]-x)/g<.3?"middle":u[1]>x?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var nke={line:function(n,e,t,r){return n.dim==="angle"?{type:"Line",shape:EU(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,r){var i=Math.max(1,n.getBandWidth()),a=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:rY(e.cx,e.cy,r[0],r[1],(-t-i/2)*a,(-t+i/2)*a)}:{type:"Sector",shape:rY(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}},rke=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,i=this.ecModel;return i.eachComponent(t,function(a){a.getCoordSysModel()===this&&(r=a)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e})(bn),DU=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",di).models[0]},e.type="polarAxis",e})(bn);Ci(DU,S_);var ike=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e})(DU),ake=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e})(DU),NU=(function(n){Oe(e,n);function e(t,r){return n.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e})(su);NU.prototype.dataToRadius=su.prototype.dataToCoord;NU.prototype.radiusToData=su.prototype.coordToData;var oke=Sn(),RU=(function(n){Oe(e,n);function e(t,r){return n.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),i=t.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=a[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l),c=aN(s==null?"":s+"",r.getFont(),"center","top"),f=Math.max(c.height,7),h=f/u;isNaN(h)&&(h=1/0);var d=Math.max(0,Math.floor(h)),v=oke(t.model),g=v.lastAutoInterval,y=v.lastTickCount;return g!=null&&y!=null&&Math.abs(g-d)<=1&&Math.abs(y-o)<=1&&g>d?d=g:(v.lastTickCount=o,v.lastAutoInterval=d),d},e})(su);RU.prototype.dataToAngle=su.prototype.dataToCoord;RU.prototype.angleToData=su.prototype.coordToData;var Hie=["radius","angle"],ske=(function(){function n(e){this.dimensions=Hie,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new NU,this._angleAxis=new RU,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===e&&t.push(r),i.scale.type===e&&t.push(i),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t,r){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)],r)},n.prototype.pointToData=function(e,t,r){r=r||[];var i=this.pointToCoord(e);return r[0]=this._radiusAxis.radiusToData(i[0],t),r[1]=this._angleAxis.angleToData(i[1],t),r},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var l=Math.sqrt(t*t+r*r);t/=l,r/=l;for(var u=Math.atan2(-r,t)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},n.prototype.coordToPoint=function(e,t){t=t||[];var r=e[0],i=e[1]/180*Math.PI;return t[0]=Math.cos(i)*r+this.cx,t[1]=-Math.sin(i)*r+this.cy,t},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var i=e.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:e.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,h=this.r,d=this.r0;return h!==d&&f-o<=h*h&&f+o>=d*d},x:this.cx-r[1],y:this.cy-r[1],width:r[1]*2,height:r[1]*2}},n.prototype.convertToPixel=function(e,t,r){var i=cY(t);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=cY(t);return i===this?this.pointToData(r):null},n})();function cY(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function lke(n,e,t){var r=e.get("center"),i=ha(e,t).refContainer;n.cx=pt(r[0],i.width)+i.x,n.cy=pt(r[1],i.height)+i.y;var a=n.getRadiusAxis(),o=Math.min(i.width,i.height)/2,s=e.get("radius");s==null?s=[0,"100%"]:Ke(s)||(s=[0,s]);var l=[pt(s[0],o),pt(s[1],o)];a.inverse?a.setExtent(l[1],l[0]):a.setExtent(l[0],l[1])}function uke(n,e){var t=this,r=t.getAngleAxis(),i=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();J(A3(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),J(A3(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Sm(r.scale,r.model),Sm(i.scale,i.model),r.type==="category"&&!r.onBand){var a=r.getExtent(),o=360/r.scale.count();r.inverse?a[1]+=o:a[1]-=o,r.setExtent(a[0],a[1])}}function cke(n){return n.mainType==="angleAxis"}function fY(n,e){var t;if(n.type=e.get("type"),n.scale=Cw(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),cke(e)){n.inverse=n.inverse!==e.get("clockwise");var r=e.get("startAngle"),i=(t=e.get("endAngle"))!==null&&t!==void 0?t:r+(n.inverse?-360:360);n.setExtent(r,i)}e.axis=n,n.model=e}var fke={dimensions:Hie,create:function(n,e){var t=[];return n.eachComponent("polar",function(r,i){var a=new ske(i+"");a.update=uke;var o=a.getRadiusAxis(),s=a.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");fY(o,l),fY(s,u),lke(a,r,e),t.push(a),r.coordinateSystem=a,a.model=r}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",di).models[0];r.coordinateSystem=i.coordinateSystem}}),t}},hke=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function eC(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=n.coordToPoint([e[0],t]),i=n.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function tC(n){var e=n.getRadiusAxis();return e.inverse?0:1}function hY(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var dke=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),s=i.getTicksCoords({breakTicks:"none"}),l=i.getMinorTicksCoords(),u=$e(i.getViewLabels(),function(c){c=Pt(c);var f=i.scale,h=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(h),c});hY(u),hY(s),J(hke,function(c){t.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&pke[c](this.group,t,a,s,l,o,u)},this)}},e.type="angleAxis",e})(zm),pke={axisLine:function(n,e,t,r,i,a){var o=e.getModel(["axisLine","lineStyle"]),s=t.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=tC(t),f=c?0:1,h,d=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?h=new Lm[d]({shape:{cx:t.cx,cy:t.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):h=new u_({shape:{cx:t.cx,cy:t.cy,r:a[c],r0:a[f]},style:o.getLineStyle(),z2:1,silent:!0}),h.style.fill=null,n.add(h)},axisTick:function(n,e,t,r,i,a){var o=e.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=a[tC(t)],u=$e(r,function(c){return new Bi({shape:eC(t,[l,l+s],c.coord)})});n.add(il(u,{style:Vt(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,r,i,a){if(i.length){for(var o=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=a[tC(t)],c=[],f=0;f<i.length;f++)for(var h=0;h<i[f].length;h++)c.push(new Bi({shape:eC(t,[u,u+l],i[f][h].coord)}));n.add(il(c,{style:Vt(s.getModel("lineStyle").getLineStyle(),Vt(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,r,i,a,o){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");J(o,function(f,h){var d=l,v=f.tickValue,g=a[tC(t)],y=t.coordToPoint([g+u,f.coord]),x=t.cx,b=t.cy,T=Math.abs(y[0]-x)/g<.3?"center":y[0]>x?"left":"right",M=Math.abs(y[1]-b)/g<.3?"middle":y[1]>b?"top":"bottom";if(s&&s[v]){var C=s[v];Ft(C)&&C.textStyle&&(d=new Tn(C.textStyle,l,l.ecModel))}var D=new On({silent:hs.isLabelSilent(e),style:Dr(d,{x:y[0],y:y[1],fill:d.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:T,verticalAlign:M})});if(n.add(D),Jh({el:D,componentModel:e,itemName:f.formattedLabel,formatterParamsExtra:{isTruncated:function(){return D.isTruncated},value:f.rawLabel,tickIndex:h}}),c){var R=hs.makeAxisEventDataBase(e);R.targetType="axisLabel",R.value=f.rawLabel,Xt(D).eventData=R}},this)},splitLine:function(n,e,t,r,i,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<r.length;f++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Bi({shape:eC(t,a,r[f].coord)}))}for(var f=0;f<c.length;f++)n.add(il(c[f],{style:Vt({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,r,i,a){if(i.length){for(var o=e.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new Bi({shape:eC(t,a,i[u][c].coord)}));n.add(il(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,r,i,a){if(r.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,h=-r[0].coord*f,d=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),g=e.get("clockwise"),y=1,x=r.length;y<=x;y++){var b=y===x?r[0].coord:r[y].coord,T=u++%l.length;c[T]=c[T]||[],c[T].push(new co({shape:{cx:t.cx,cy:t.cy,r0:d,r:v,startAngle:h,endAngle:-b*f,clockwise:g},silent:!0})),h=-b*f}for(var y=0;y<c.length;y++)n.add(il(c[y],{style:Vt({fill:l[y%l.length]},s.getAreaStyle()),silent:!0}))}}},vke=["splitLine","splitArea","minorSplitLine"],gke=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var a=this._axisGroup,o=this._axisGroup=new zt;this.group.add(o);var s=t.axis,l=s.polar,u=l.getAngleAxis(),c=s.getTicksCoords(),f=s.getMinorTicksCoords(),h=u.getExtent()[0],d=s.getExtent(),v=yke(l,t,h),g=new hs(t,i,v);g.build(),o.add(g.group),ww(a,o,t),J(vke,function(y){t.get([y,"show"])&&!s.scale.isBlank()&&mke[y](this.group,t,l,h,d,c,f)},this)}},e.type="radiusAxis",e})(zm),mke={splitLine:function(n,e,t,r,i,a){var o=e.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=t.getAngleAxis(),f=Math.PI/180,h=c.getExtent(),d=Math.abs(h[1]-h[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],g=0;g<a.length;g++){var y=u++%l.length;v[y]=v[y]||[],v[y].push(new Lm[d]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[g].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:c.inverse}}))}for(var g=0;g<v.length;g++)n.add(il(v[g],{style:Vt({stroke:l[g%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,r,i,a,o){if(o.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new wf({shape:{cx:t.cx,cy:t.cy,r:o[c][f].coord}}));n.add(il(u,{style:Vt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,r,i,a){if(a.length){var o=e.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,h=1;h<a.length;h++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new co({shape:{cx:t.cx,cy:t.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[h].coord}for(var h=0;h<c.length;h++)n.add(il(c[h],{style:Vt({fill:l[h%l.length]},s.getAreaStyle()),silent:!0}))}}};function yke(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function jie(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function Wie(n,e){return e.dim+n.model.componentIndex}function xke(n,e,t){var r={},i=_ke(Zn(e.getSeriesByType(n),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),u=Wie(s,l),c=jie(a),f=i[u][c],h=f.offset,d=f.width,v=s.getOtherAxis(l),g=a.coordinateSystem.cx,y=a.coordinateSystem.cy,x=a.get("barMinHeight")||0,b=a.get("barMinAngle")||0;r[c]=r[c]||[];for(var T=o.mapDimension(v.dim),M=o.mapDimension(l.dim),C=Yh(o,T),D=l.dim!=="radius"||!a.get("roundCap",!0),R=v.model,I=R.get("startValue"),L=v.dataToCoord(I||0),O=0,B=o.count();O<B;O++){var V=o.get(T,O),F=o.get(M,O),k=V>=0?"p":"n",Y=L;C&&(r[c][F]||(r[c][F]={p:L,n:L}),Y=r[c][F][k]);var H=void 0,W=void 0,q=void 0,K=void 0;if(v.dim==="radius"){var re=v.dataToCoord(V)-L,j=l.dataToCoord(F);Math.abs(re)<x&&(re=(re<0?-1:1)*x),H=Y,W=Y+re,q=j-h,K=q-d,C&&(r[c][F][k]=W)}else{var Q=v.dataToCoord(V,D)-L,ne=l.dataToCoord(F);Math.abs(Q)<b&&(Q=(Q<0?-1:1)*b),H=ne+h,W=H+d,q=Y,K=Y+Q,C&&(r[c][F][k]=K)}o.setItemLayout(O,{cx:g,cy:y,r0:H,r:W,startAngle:-q*Math.PI/180,endAngle:-K*Math.PI/180,clockwise:q>=K})}}})}function _ke(n){var e={};J(n,function(r,i){var a=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=Wie(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=f.stacks;e[l]=f;var d=jie(r);h[d]||f.autoWidthCount++,h[d]=h[d]||{width:0,maxWidth:0};var v=pt(r.get("barWidth"),c),g=pt(r.get("barMaxWidth"),c),y=r.get("barGap"),x=r.get("barCategoryGap");v&&!h[d].width&&(v=Math.min(f.remainedWidth,v),h[d].width=v,f.remainedWidth-=v),g&&(h[d].maxWidth=g),y!=null&&(f.gap=y),x!=null&&(f.categoryGap=x)});var t={};return J(e,function(r,i){t[i]={};var a=r.stacks,o=r.bandWidth,s=pt(r.categoryGap,o),l=pt(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),J(a,function(g,y){var x=g.maxWidth;x&&x<f&&(x=Math.min(x,u),g.width&&(x=Math.min(x,g.width)),u-=x,g.width=x,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var h=0,d;J(a,function(g,y){g.width||(g.width=f),d=g,h+=g.width*(1+l)}),d&&(h-=d.width*l);var v=-h/2;J(a,function(g,y){t[i][y]=t[i][y]||{offset:v,width:g.width},v+=g.width*(1+l)})}),t}var bke={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Ske={splitNumber:5},wke=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e})(Rr);function Tke(n){fn(Iw),zm.registerAxisPointerClass("PolarAxisPointer",eke),n.registerCoordinateSystem("polar",fke),n.registerComponentModel(rke),n.registerComponentView(wke),Gx(n,"angle",ike,bke),Gx(n,"radius",ake,Ske),n.registerComponentView(dke),n.registerComponentView(gke),n.registerLayout(tn(xke,"bar"))}function V4(n,e){e=e||{};var t=n.coordinateSystem,r=n.axis,i={},a=r.position,o=r.orient,s=t.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[o==="vertical"?u.vertical[a]:l[0],o==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],n.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Ya(e.labelInside,n.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var h=n.get(["axisLabel","rotate"]);return i.labelRotate=a==="top"?-h:h,i.z2=1,i}var Mke=["splitArea","splitLine","breakArea"],Ake=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,r,i,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new zt;var l=V4(t),u=new hs(t,i,l);u.build(),o.add(this._axisGroup),o.add(u.group),J(Mke,function(c){t.get([c,"show"])&&Cke[c](this,this.group,this._axisGroup,t,i)},this),ww(s,this._axisGroup,t),n.prototype.render.call(this,t,r,i,a)},e.prototype.remove=function(){ure(this)},e.type="singleAxis",e})(zm),Cke={splitLine:function(n,e,t,r,i){var a=r.axis;if(!a.scale.isBlank()){var o=r.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color");l=l instanceof Array?l:[l];for(var u=s.get("width"),c=r.coordinateSystem.getRect(),f=a.isHorizontal(),h=[],d=0,v=a.getTicksCoords({tickModel:o,breakTicks:"none",pruneByBreak:"preserve_extent_bound"}),g=[],y=[],x=0;x<v.length;++x){var b=a.toGlobalCoord(v[x].coord);f?(g[0]=b,g[1]=c.y,y[0]=b,y[1]=c.y+c.height):(g[0]=c.x,g[1]=b,y[0]=c.x+c.width,y[1]=b);var T=new Bi({shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},silent:!0});zx(T.shape,u);var M=d++%l.length;h[M]=h[M]||[],h[M].push(T)}for(var C=s.getLineStyle(["color"]),x=0;x<h.length;++x)e.add(il(h[x],{style:Vt({stroke:l[x%l.length]},C),silent:!0}))}},splitArea:function(n,e,t,r,i){lre(n,t,r,r)},breakArea:function(n,e,t,r,i){var a=Lw(),o=r.axis.scale;a&&o.type!=="ordinal"&&a.rectCoordBuildBreakAxis(e,n,r,r.coordinateSystem.getRect(),i)}},UC=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}},jitter:0,jitterOverlap:!0,jitterMargin:2},e})(bn);Ci(UC,S_.prototype);var Eke=(function(n){Oe(e,n);function e(t,r,i,a,o){var s=n.call(this,t,r,i)||this;return s.type=a||"value",s.position=o||"bottom",s}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,r){return this.coordinateSystem.pointToData(t)[0]},e})(su),Yie=["single"],Dke=(function(){function n(e,t,r){this.type="single",this.dimension="single",this.dimensions=Yie,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var i=this.dimension,a=new Eke(i,Cw(e),[0,0],e.get("type"),e.get("position")),o=a.type==="category";a.onBand=o&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},n.prototype.update=function(e,t){e.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();J(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Sm(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){var r=ha(e,t).refContainer;this._rect=Kr(e.getBoxLayoutParams(),r),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,r=t.isHorizontal(),i=r?[0,e.width]:[0,e.height],a=t.inverse?1:0;t.setExtent(i[a],i[1-a]),this._updateAxisTransform(t,r?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var r=e.getExtent(),i=r[0]+r[1],a=e.isHorizontal();e.toGlobalCoord=a?function(o){return o+t}:function(o){return i-o+t},e.toLocalCoord=a?function(o){return o-t}:function(o){return i-o+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),r=this.getAxis(),i=r.orient;return i==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e,t,r){r=r||[];var i=this.getAxis();return r[0]=i.coordToData(i.toLocalCoord(e[i.orient==="horizontal"?0:1])),r},n.prototype.dataToPoint=function(e,t,r){var i=this.getAxis(),a=this.getRect();r=r||[];var o=i.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),r[o]=i.toGlobalCoord(i.dataToCoord(+e)),r[1-o]=o===0?a.y+a.height/2:a.x+a.width/2,r},n.prototype.convertToPixel=function(e,t,r){var i=dY(t);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=dY(t);return i===this?this.pointToData(r):null},n})();function dY(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function Nke(n,e){var t=[];return n.eachComponent("singleAxis",function(r,i){var a=new Dke(r,n,e);a.name="single_"+i,a.resize(r,e),r.coordinateSystem=a,t.push(a)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var i=r.getReferringComponents("singleAxis",di).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),t}var Rke={create:Nke,dimensions:Yie},pY=["x","y"],Lke=["width","height"],Ike=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,o){var s=i.axis,l=s.coordinateSystem,u=YO(l,1-W3(s)),c=l.dataToPoint(r)[0],f=a.get("type");if(f&&f!=="none"){var h=AU(a),d=Oke[f](s,c,u);d.style=h,t.graphicKey=d.type,t.pointer=d}var v=V4(i);Uie(r,t,v,i,a,o)},e.prototype.getHandleTransform=function(t,r,i){var a=V4(r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=CU(r.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var o=i.axis,s=o.coordinateSystem,l=W3(o),u=YO(s,l),c=[t.x,t.y];c[l]+=r[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=YO(s,1-l),h=(f[1]+f[0])/2,d=[h,h];return d[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},e})(MU),Oke={line:function(n,e,t){var r=EU([e,t[0]],[e,t[1]],W3(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=n.getBandWidth(),i=t[1]-t[0];return{type:"Rect",shape:Vie([e-r/2,t[0]],[r,i],W3(n))}}};function W3(n){return n.isHorizontal()?0:1}function YO(n,e){var t=n.getRect();return[t[pY[e]],t[pY[e]]+t[Lke[e]]]}var Pke=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e})(Rr);function zke(n){fn(Iw),zm.registerAxisPointerClass("SingleAxisPointer",Ike),n.registerComponentView(Pke),n.registerComponentView(Ake),n.registerComponentModel(UC),Gx(n,"single",UC,UC.defaultOption),n.registerCoordinateSystem("single",Rke)}var kke=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){var a=Im(t);n.prototype.init.apply(this,arguments),vY(t,a)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),vY(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.layoutMode="box",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:De.color.axisLine,width:1,type:"solid"}},itemStyle:{color:De.color.neutral00,borderWidth:1,borderColor:De.color.neutral10},dayLabel:{show:!0,firstDay:0,position:"start",margin:De.size.s,color:De.color.secondary},monthLabel:{show:!0,position:"start",margin:De.size.s,align:"center",formatter:null,color:De.color.secondary},yearLabel:{show:!0,position:null,margin:De.size.xl,formatter:null,color:De.color.quaternary,fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e})(bn);function vY(n,e){var t=n.cellSize,r;Ke(t)?r=t:r=n.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var i=$e([0,1],function(a){return aAe(e,a)&&(r[a]="auto"),r[a]!=null&&r[a]!=="auto"});mf(n,e,{type:"box",ignoreSize:i})}var Bke=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=this.group;a.removeAll();var o=t.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(t,s,a),this._renderLines(t,s,l,a),this._renderYearText(t,s,l,a),this._renderMonthText(t,u,l,a),this._renderWeekText(t,u,s,l,a)},e.prototype._renderDayRect=function(t,r,i){for(var a=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),u=r.start.time;u<=r.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToCalendarLayout([u],!1).tl,f=new mn({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});i.add(f)}},e.prototype._renderLines=function(t,r,i,a){var o=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=r.start,h=0;f.time<=r.end.time;h++){v(f.formatedDate),h===0&&(f=s.getDateInfo(r.start.y+"-"+r.start.m));var d=f.date;d.setMonth(d.getMonth()+1),f=s.getDateInfo(d)}v(s.getNextNDay(r.end.time,1).formatedDate);function v(g){o._firstDayOfMonth.push(s.getDateInfo(g)),o._firstDayPoints.push(s.dataToCalendarLayout([g],!1).tl);var y=o._getLinePointsOfOneWeek(t,g,i);o._tlpoints.push(y[0]),o._blpoints.push(y[y.length-1]),u&&o._drawSplitline(y,l,a)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,i),l,a),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,i),l,a)},e.prototype._getEdgesPoints=function(t,r,i){var a=[t[0].slice(),t[t.length-1].slice()],o=i==="horizontal"?0:1;return a[0][o]=a[0][o]-r/2,a[1][o]=a[1][o]+r/2,a},e.prototype._drawSplitline=function(t,r,i){var a=new Xa({z2:20,shape:{points:t},style:r});i.add(a)},e.prototype._getLinePointsOfOneWeek=function(t,r,i){for(var a=t.coordinateSystem,o=a.getDateInfo(r),s=[],l=0;l<7;l++){var u=a.getNextNDay(o.time,l),c=a.dataToCalendarLayout([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(t,r){return vt(t)&&t?QMe(t,r):Nt(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,i,a,o){var s=r[0],l=r[1],u=["center","bottom"];a==="bottom"?(l+=o,u=["center","top"]):a==="left"?s-=o:a==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,r,i,a){var o=t.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,h=i==="horizontal"?0:1,d={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],f],right:[u[h][0],f]},v=r.start.y;+r.end.y>+r.start.y&&(v=v+"-"+r.end.y);var g=o.get("formatter"),y={start:r.start.y,end:r.end.y,nameMap:v},x=this._formatterLabel(g,y),b=new On({z2:30,style:Dr(o,{text:x}),silent:o.get("silent")});b.attr(this._yearTextPositionControl(b,d[l],i,l,s)),a.add(b)}},e.prototype._monthTextPositionControl=function(t,r,i,a,o){var s="left",l="top",u=t[0],c=t[1];return i==="horizontal"?(c=c+o,r&&(s="center"),a==="start"&&(l="bottom")):(u=u+o,r&&(l="middle"),a==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(t,r,i,a){var o=t.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||vt(s))&&(s&&(r=PP(s)||r),s=r.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,d=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var v=c==="center",g=o.get("silent"),y=0;y<f[h].length-1;y++){var x=f[h][y].slice(),b=this._firstDayOfMonth[y];if(v){var T=this._firstDayPoints[y];x[d]=(T[d]+f[0][y+1][d])/2}var M=o.get("formatter"),C=s[+b.m-1],D={yyyy:b.y,yy:(b.y+"").slice(2),MM:b.m,M:+b.m,nameMap:C},R=this._formatterLabel(M,D),I=new On({z2:30,style:je(Dr(o,{text:R}),this._monthTextPositionControl(x,v,i,u,l)),silent:g});a.add(I)}}},e.prototype._weekTextPositionControl=function(t,r,i,a,o){var s="center",l="middle",u=t[0],c=t[1],f=i==="start";return r==="horizontal"?(u=u+a+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+a+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(t,r,i,a,o){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),h=l.getFirstDayOfWeek();if(!c||vt(c)){c&&(r=PP(c)||r);var d=r.get(["time","dayOfWeekShort"]);c=d||$e(r.get(["time","dayOfWeekAbbr"]),function(D){return D[0]})}var v=l.getNextNDay(i.end.time,7-i.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];f=pt(f,Math.min(g[1],g[0])),u==="start"&&(v=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var y=s.get("silent"),x=0;x<7;x++){var b=l.getNextNDay(v,x),T=l.dataToCalendarLayout([b.time],!1).center,M=x;M=Math.abs((x+h)%7);var C=new On({z2:30,style:je(Dr(s,{text:c[M]}),this._weekTextPositionControl(T,a,u,f,g)),silent:y});o.add(C)}}},e.type="calendar",e})(Rr),XO=864e5,Uke=(function(){function n(e,t,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e,this._update(t,r)}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){e=Sf(e);var t=e.getFullYear(),r=e.getMonth()+1,i=r<10?"0"+r:""+r,a=e.getDate(),o=a<10?"0"+a:""+a,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:o,day:s,time:e.getTime(),formatedDate:t+"-"+i+"-"+o,date:e}},n.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},n.prototype._update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];J([0,1],function(f){c(a,f)&&(o[i[f]]=a[f]*s[f])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=Kr(o,l);J([0,1],function(f){c(a,f)||(a[f]=u[i[f]]/s[f])});function c(f,h){return f[h]!=null&&f[h]!=="auto"}this._sw=a[0],this._sh=a[1]},n.prototype.dataToPoint=function(e,t,r){r=r||[],Ke(e)&&(e=e[0]),t==null&&(t=!0);var i=this.getDateInfo(e),a=this._rangeInfo,o=i.formatedDate;if(t&&!(i.time>=a.start.time&&i.time<a.end.time+XO))return r[0]=r[1]=NaN,r;var s=i.day,l=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient==="vertical"?(r[0]=this._rect.x+s*this._sw+this._sw/2,r[1]=this._rect.y+l*this._sh+this._sh/2):(r[0]=this._rect.x+l*this._sw+this._sw/2,r[1]=this._rect.y+s*this._sh+this._sh/2),r},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToLayout=function(e,t,r){r=r||{};var i=r.rect=r.rect||{},a=r.contentRect=r.contentRect||{},o=this.dataToPoint(e,t);return i.x=o[0]-this._sw/2,i.y=o[1]-this._sh/2,i.width=this._sw,i.height=this._sh,Wt.copy(a,i),xm(a,this._lineWidth/2,!0,!0),r},n.prototype.dataToCalendarLayout=function(e,t){var r=this.dataToPoint(e,t);return{center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,i):this._getDateByWeeksAndDay(t,r-1,i)},n.prototype.convertToPixel=function(e,t,r){var i=qO(t);return i===this?i.dataToPoint(r):null},n.prototype.convertToLayout=function(e,t,r){var i=qO(t);return i===this?i.dataToLayout(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=qO(t);return i===this?i.pointToData(r):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(Ke(e)&&e.length===1&&(e=e[0]),Ke(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),a=i.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);t=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var i=Math.floor(t[1].time/XO)-Math.floor(t[0].time/XO)+1,a=new Date(t[0].time),o=a.getDate(),s=t[1].date.getDate();a.setDate(o+i-1);var l=a.getDate();if(l!==s)for(var u=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-t[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+t[0].day+6)/7),f=r?-c+1:c-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:c,nthWeek:f,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,r){var i=this._getRangeInfo(r);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var a=(e-1)*7-i.fweek+t,o=new Date(i.start.time);return o.setDate(+i.start.d+a),this.getDateInfo(o)},n.create=function(e,t){var r=[];return e.eachComponent("calendar",function(i){var a=new n(i,e,t);r.push(a),i.coordinateSystem=a}),e.eachComponent(function(i,a){Mw({targetModel:a,coordSysType:"calendar",coordSysProvider:fee})}),r},n.dimensions=["time","value"],n})();function qO(n){var e=n.calendarModel,t=n.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}function Vke(n){n.registerComponentModel(kke),n.registerComponentView(Bke),n.registerCoordinateSystem("calendar",Uke)}var Th={level:1,leaf:2,nonLeaf:3},zh={none:0,all:1,body:2,corner:3};function F4(n,e,t){var r=e[Qt[t]].getCell(n);return!r&&Pn(n)&&n<0&&(r=e[Qt[1-t]].getUnitLayoutInfo(t,Math.round(n))),r}function Xie(n){var e=n||[];return e[0]=e[0]||[],e[1]=e[1]||[],e[0][0]=e[0][1]=e[1][0]=e[1][1]=NaN,e}function qie(n,e,t,r,i){gY(n[0],e,i,t,r,0),gY(n[1],e,i,t,r,1)}function gY(n,e,t,r,i,a){n[0]=1/0,n[1]=-1/0;var o=r[a],s=Ke(o)?o:[o],l=s.length,u=!!t;if(l>=1?(mY(n,e,s,u,i,a,0),l>1&&mY(n,e,s,u,i,a,l-1)):n[0]=n[1]=NaN,u){var c=-i[Qt[1-a]].getLocatorCount(a),f=i[Qt[a]].getLocatorCount(a)-1;t===zh.body?c=zi(0,c):t===zh.corner&&(f=fl(-1,f)),f<c&&(c=f=NaN),so(n[0])&&(n[0]=c),so(n[1])&&(n[1]=f),n[0]=zi(fl(n[0],f),c),n[1]=zi(fl(n[1],f),c)}}function mY(n,e,t,r,i,a,o){var s=F4(t[o],i,a);if(!s){n[0]=n[1]=NaN;return}var l=s.id[Qt[a]],u=l,c=jke(s);c&&(u+=c.span[Qt[a]]-1),n[0]=fl(n[0],l,u),n[1]=zi(n[1],l,u)}function nC(n,e){return so(n[e][0])||so(n[e][1])}function yY(n,e,t,r){e=e||Fke;for(var i=0;i<r;i++)e[i]=!1;for(;;){for(var a=!1,i=0;i<r;i++){var o=t[i];!e[i]&&o.cellMergeOwner&&Gke(n,o.locatorRange)&&(e[i]=!0,a=!0)}if(!a)break}}var Fke=[];function Gke(n,e){return!xY(n[0],e[0])||!xY(n[1],e[1])?!1:(n[0][0]=fl(n[0][0],e[0][0]),n[0][1]=zi(n[0][1],e[0][1]),n[1][0]=fl(n[1][0],e[1][0]),n[1][1]=zi(n[1][1],e[1][1]),!0)}function xY(n,e){return n[1]>=e[0]&&n[0]<=e[1]}function _Y(n,e){n.id.set(e[0][0],e[1][0]),n.span.set(e[0][1]-n.id.x+1,e[1][1]-n.id.y+1)}function Hke(n,e){n[0][0]=e[0][0],n[0][1]=e[0][1],n[1][0]=e[1][0],n[1][1]=e[1][1]}function bY(n,e,t,r){var i=F4(e[r][0],t,r),a=F4(e[r][1],t,r);n[Qt[r]]=n[$i[r]]=NaN,i&&a&&(n[Qt[r]]=i.xy,n[$i[r]]=a.xy+a.wh-i.xy)}function Fb(n,e,t,r){return n[Qt[e]]=t,n[Qt[1-e]]=r,n}function jke(n){return n&&(n.type===Th.leaf||n.type===Th.nonLeaf)?n:null}function Y3(){return{x:NaN,y:NaN,width:NaN,height:NaN}}var SY=(function(){function n(e,t){this._cells=[],this._levels=[],this.dim=e,this.dimIdx=e==="x"?0:1,this._model=t,this._uniqueValueGen=Wke(e);var r=t.get("data",!0);r!=null&&!Ke(r)&&(r=[]),r?this._initByDimModelData(r):this._initBySeriesData()}return n.prototype._initByDimModelData=function(e){var t=this,r=t._cells,i=t._levels,a=[],o=0;t._leavesCount=s(e,0,0),l();return;function s(u,c,f){var h=0;return u&&J(u,function(d,v){var g;vt(d)?g={value:d}:Ft(d)?(g=d,d.value!=null&&!vt(d.value)&&(g={value:null})):g={value:null};var y={type:Th.nonLeaf,ordinal:NaN,level:f,firstLeafLocator:c,id:new jt,span:Fb(new jt,t.dimIdx,1,1),option:g,xy:NaN,wh:NaN,dim:t,rect:Y3()};o++,(a[c]||(a[c]=[])).push(y),i[f]||(i[f]={type:Th.level,xy:NaN,wh:NaN,option:null,id:new jt,dim:t});var x=s(g.children,c,f+1),b=Math.max(1,x);y.span[Qt[t.dimIdx]]=b,h+=b,c+=b}),h}function l(){for(var u=[];r.length<o;)for(var c=0;c<a.length;c++){var f=a[c].pop();if(f){f.ordinal=u.length;var h=f.option.value;u.push(h),r.push(f),t._uniqueValueGen.calcDupBase(h)}}t._uniqueValueGen.ensureValueUnique(u,r);var d=t._ordinalMeta=new I2({categories:u,needCollect:!1,deduplication:!1});t._scale=new Ux({ordinalMeta:d});for(var v=0;v<t._leavesCount;v++){var g=t._cells[v];g.type=Th.leaf,g.span[Qt[1-t.dimIdx]]=t._levels.length-g.level}t._initCellsId(),t._initLevelIdOptions()}},n.prototype._initBySeriesData=function(){var e=this;e._leavesCount=0,e._levels=[{type:Th.level,xy:NaN,wh:NaN,option:null,id:new jt,dim:e}],e._initLevelIdOptions();var t=e._ordinalMeta=new I2({needCollect:!0,deduplication:!0,onCollect:function(r,i){var a=e._cells[i]={type:Th.leaf,ordinal:i,level:0,firstLeafLocator:i,id:new jt,span:Fb(new jt,e.dimIdx,1,1),option:{value:r+""},xy:NaN,wh:NaN,dim:e,rect:Y3()};e._leavesCount++,e._setCellId(a)}});e._scale=new Ux({ordinalMeta:t})},n.prototype._setCellId=function(e){var t=this._levels.length,r=this.dimIdx;Fb(e.id,r,e.firstLeafLocator,e.level-t)},n.prototype._initCellsId=function(){var e=this._levels.length,t=this.dimIdx;J(this._cells,function(r){Fb(r.id,t,r.firstLeafLocator,r.level-e)})},n.prototype._initLevelIdOptions=function(){var e=this._levels.length,t=this.dimIdx,r=this._model.get("levels",!0);r=Ke(r)?r:[],J(this._levels,function(i,a){Fb(i.id,t,0,a-e),i.option=r[a]})},n.prototype.shouldShow=function(){return!!this._model.getShallow("show",!0)},n.prototype.resetLayoutIterator=function(e,t,r,i){if(e=e||new bp,t===this.dimIdx){var a=this._leavesCount,o=r!=null?Math.max(0,r):0;i=i!=null?Math.min(i,a):a,e.reset(this._cells,o,o+i)}else{var a=this._levels.length,o=r!=null?Math.max(0,r+a):0;i=i!=null?Math.min(i,a):a,e.reset(this._levels,o,o+i)}return e},n.prototype.resetCellIterator=function(e){return(e||new bp).reset(this._cells,0)},n.prototype.resetLevelIterator=function(e){return(e||new bp).reset(this._levels,0)},n.prototype.getLayout=function(e,t,r){var i=this.getUnitLayoutInfo(t,r);e[Qt[t]]=i?i.xy:NaN,e[$i[t]]=i?i.wh:NaN},n.prototype.getUnitLayoutInfo=function(e,t){return e===this.dimIdx?t<this._leavesCount?this._cells[t]:void 0:this._levels[t+this._levels.length]},n.prototype.getCell=function(e){var t=this._scale.parse(e);return so(t)?void 0:this._cells[t]},n.prototype.getLocatorCount=function(e){return e===this.dimIdx?this._leavesCount:this._levels.length},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n})();function Wke(n){var e=n.toUpperCase(),t=new RegExp("^"+e+"([0-9]+)$"),r=0;function i(s){var l;s!=null&&(l=s.match(t))&&(r=zi(r,+l[1]+1))}function a(){return""+e+r++}function o(s,l){for(var u=Tt(),c=0;c<s.length;c++){var f=s[c];(f==null||u.get(f)!=null)&&(s[c]=f=a(),l[c].option=Vt({value:f},l[c].option)),u.set(f,!0)}}return{calcDupBase:i,ensureValueUnique:o}}var wY=(function(){function n(e,t,r){this._model=t,this._dims=r,this._kind=e,this._cellMergeOwnerList=[]}return n.prototype._ensureCellMap=function(){var e=this,t=e._cellMap;return t||(t=e._cellMap=Tt(),r()),t;function r(){var a=[],o=e._model.getShallow("data");o&&!Ke(o)&&(o=null),J(o,function(v,g){if(!(!Ft(v)||!Ke(v.coord))){var y=Xie([]),x=null;if(qie(y,x,v.coord,e._dims,v.coordClamp?zh[e._kind]:zh.none),!(nC(y,0)||nC(y,1))){var b=v&&v.mergeCells,T={id:new jt,span:new jt,locatorRange:y,option:v,cellMergeOwner:b};_Y(T,y),a.push(T)}}});for(var s=[],l=0;l<a.length;l++){var u=a[l];if(u.cellMergeOwner){var c=u.locatorRange;yY(c,s,a,l);for(var f=0;f<l;f++)s[f]&&(a[f].cellMergeOwner=!1);if(c[0][0]!==u.id.x||c[1][0]!==u.id.y){u.cellMergeOwner=!1;var h=je({},u.option);h.coord=null;var d={id:new jt,span:new jt,locatorRange:c,option:h,cellMergeOwner:!0};_Y(d,c),a.push(d)}}}J(a,function(v){var g=i(v.id.x,v.id.y);if(v.cellMergeOwner&&(g.cellMergeOwner=!0,g.span=v.span,g.locatorRange=v.locatorRange,g.spanRect=Y3(),e._cellMergeOwnerList.push(g)),!(!v.cellMergeOwner&&!v.option))for(var y=0;y<v.span.y;y++)for(var x=0;x<v.span.x;x++){var b=i(v.id.x+x,v.id.y+y);b.option=v.option,v.cellMergeOwner&&(b.inSpanOf=g)}})}function i(a,o){var s=TY(a,o),l=t.get(s);return l||(l=t.set(s,{id:new jt(a,o),option:null,inSpanOf:null,span:null,spanRect:null,locatorRange:null,cellMergeOwner:!1})),l}},n.prototype.getCell=function(e){return this._ensureCellMap().get(TY(e[0],e[1]))},n.prototype.travelExistingCells=function(e){this._ensureCellMap().each(e)},n.prototype.expandRangeByCellMerge=function(e){if(!nC(e,0)&&!nC(e,1)&&e[0][0]===e[0][1]&&e[1][0]===e[1][1]){ZO[0]=e[0][0],ZO[1]=e[1][0];var t=this.getCell(ZO),r=t&&t.inSpanOf;if(r){Hke(e,r.locatorRange);return}}var i=this._cellMergeOwnerList;yY(e,null,i,i.length)},n})(),ZO=[];function TY(n,e){return n+"|"+e}var LU={show:!0,color:De.color.secondary,overflow:"break",lineOverflow:"truncate",padding:[2,3,2,3],distance:0};function IU(n){return{color:"none",borderWidth:1,borderColor:n?"none":De.color.borderTint}}var MY={show:!0,label:LU,itemStyle:IU(!1),silent:void 0,dividerLineStyle:{width:1,color:De.color.border}},Yke={label:LU,itemStyle:IU(!1),silent:void 0},Xke={label:LU,itemStyle:IU(!0),silent:void 0},qke={z:-50,left:"10%",top:"10%",right:"10%",bottom:"10%",x:MY,y:MY,body:Yke,corner:Xke,backgroundStyle:{color:"none",borderColor:De.color.axisLine,borderWidth:1}},Zke=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this._dimModels={x:new AY(this.get("x",!0)||{}),y:new AY(this.get("y",!0)||{})};t.x.option.type=t.y.option.type="category";var r=t.x.dim=new SY("x",t.x),i=t.y.dim=new SY("y",t.y),a={x:r,y:i};this._body=new wY("body",new Tn(this.getShallow("body")),a),this._corner=new wY("corner",new Tn(this.getShallow("corner")),a)},e.prototype.getDimensionModel=function(t){return this._dimModels[t]},e.prototype.getBody=function(){return this._body},e.prototype.getCorner=function(){return this._corner},e.type="matrix",e.layoutMode="box",e.defaultOption=qke,e})(bn),AY=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getOrdinalMeta=function(){return this.dim.getOrdinalMeta()},e})(Tn),rC=Math.round,Kke=0,Jke=99,Qke={normal:25,special:100},$ke={normal:50,special:125},eBe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r){this.group.removeAll();var i=this.group,a=t.coordinateSystem,o=a.getRect(),s=t.getDimensionModel("x"),l=t.getDimensionModel("y"),u=s.dim,c=l.dim;tBe(i,t,r),nBe(i,t,u,c,r);var f=t.getShallow("borderZ2",!0),h=At(f,Jke),d=h-1,v=t.getModel("backgroundStyle").getItemStyle(["borderWidth"]);v.lineWidth=0;var g=t.getModel("backgroundStyle").getItemStyle(["color","decal","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]);g.fill="none";var y=G4(o.clone(),v,Kke),x=G4(o.clone(),g,h);y.silent=!0,x.silent=!0,i.add(y),i.add(x);var b=u.getUnitLayoutInfo(0,0),T=c.getUnitLayoutInfo(1,0);b&&T&&(u.shouldShow()&&i.add(CY({x1:o.x,y1:T.xy,x2:o.x+o.width,y2:T.xy},s.getModel("dividerLineStyle").getLineStyle(),d)),c.shouldShow()&&i.add(CY({x1:b.xy,y1:o.y,x2:b.xy,y2:o.y+o.height},l.getModel("dividerLineStyle").getLineStyle(),d)))},e.type="matrix",e})(Rr);function tBe(n,e,t){r(0),r(1);function r(i){var a=e.getDimensionModel(Qt[i]),o=a.dim;if(o.shouldShow())for(var s=a.getModel("itemStyle"),l=a.getModel("label"),u=e.getShallow("tooltip",!0),c=[],f=o.resetCellIterator();f.next();){var h=f.item,d={};Wt.copy(d,h.rect),nN(c,h.id.x,h.id.y),Zie(c,e,n,t,h.option,s,l,a,d,h.option.value,$ke,u)}}}function nBe(n,e,t,r,i){a("body",e.getBody(),t,r),t.shouldShow()&&r.shouldShow()&&a("corner",e.getCorner(),r,t);function a(o,s,l,u){var c=new Tn(e.getShallow(o,!0)),f=c.getModel("itemStyle"),h=c.getModel("label"),d=new bp,v=new bp,g=[],y=e.getShallow("tooltip",!0);for(u.resetLayoutIterator(v,1);v.next();)for(l.resetLayoutIterator(d,0);d.next();){var x=d.item,b=v.item;nN(g,x.id.x,b.id.y);var T=s.getCell(g);if(!(T&&T.inSpanOf&&T.inSpanOf!==T)){var M={};T&&T.span?Wt.copy(M,T.spanRect):(x.dim.getLayout(M,0,g[0]),b.dim.getLayout(M,1,g[1]));var C=T?T.option:null;Zie(g,e,n,i,C,f,h,c,M,C?C.value:null,Qke,y)}}}}function Zie(n,e,t,r,i,a,o,s,l,u,c,f){var h;iC.option=i?i.itemStyle:null,iC.parentModel=a,ky.option=i,ky.parentModel=s;var d=At(ky.getShallow("z2"),i&&i.itemStyle?c.special:c.normal),v=f&&f.show,g=G4(l,iC.getItemStyle(),d);t.add(g);var y=ky.get("cursor");y!=null&&g.attr("cursor",y);var x;if(u!=null){var b=u+"";if(By.option=i?i.label:null,By.parentModel=o,By.ecModel=r,Na(g,{normal:By},{defaultText:b,autoOverflowArea:!0,layoutRect:Pt(g.shape)}),x=g.getTextContent(),x){x.z2=d+1;var T=x.style;if(T&&T.overflow&&T.overflow!=="none"&&T.lineOverflow){var M={};Wt.copy(M,l),xm(M,(((h=g.style)===null||h===void 0?void 0:h.lineWidth)||0)/2,!0,!0),g.updateInnerText(),x.getLocalTransform(aC),tu(aC,aC),Wt.applyTransform(M,M,aC),x.setClipPath(new mn({shape:M}))}}Jh({el:g,componentModel:e,itemName:b,itemTooltipOption:f,formatterParamsExtra:{xyLocator:n.slice()}})}if(x){var C=By.get("silent");C==null&&(C=!v),x.silent=C,x.ignoreHostSilent=!0}var D=ky.get("silent");D==null&&(D=!g.style||g.style.fill==="none"||!g.style.fill),g.silent=D,lI(ky),lI(iC),lI(By)}var ky=new Tn,iC=new Tn,By=new Tn,aC=[];function G4(n,e,t){var r=e.lineWidth;if(r){var i=n.x+n.width,a=n.y+n.height;n.x=ul(n.x,r,!0),n.y=ul(n.y,r,!0),n.width=ul(i,r,!0)-n.x,n.height=ul(a,r,!0)-n.y}return new mn({shape:n,style:e,z2:t})}function CY(n,e,t){var r=e.lineWidth;return r&&(rC(n.x1*2)===rC(n.x2*2)&&(n.x1=n.x2=ul(n.x1,r,!0)),rC(n.y1*2)===rC(n.y2*2)&&(n.y1=n.y2=ul(n.y1,r,!0))),new Bi({shape:n,style:e,silent:!0,z2:t})}var rBe=(function(){function n(e,t,r){this.dimensions=n.dimensions,this.type="matrix",this._model=e;var i=this._dimModels={x:e.getDimensionModel("x"),y:e.getDimensionModel("y")};this._dims={x:i.x.dim,y:i.y.dim},this._resize(e,r)}return n.getDimensionsInfo=function(){return[{name:"x",type:"ordinal"},{name:"y",type:"ordinal"},{name:"value"}]},n.create=function(e,t){var r=[];return e.eachComponent("matrix",function(i){var a=new n(i,e,t);r.push(a),i.coordinateSystem=a}),e.eachComponent(function(i,a){Mw({targetModel:a,coordSysType:"matrix",coordSysProvider:fee})}),r},n.prototype.getRect=function(){return this._rect},n.prototype._resize=function(e,t){var r=this._dims,i=this._dimModels,a=this._rect=Kr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});EY(i,r,a,0),EY(i,r,a,1),DY(0,r),DY(1,r),NY(this._model.getBody(),r),NY(this._model.getCorner(),r)},n.prototype.dataToPoint=function(e,t,r){return r=r||[],this.dataToLayout(e,t,Gb),r[0]=Gb.rect.x+Gb.rect.width/2,r[1]=Gb.rect.y+Gb.rect.height/2,r},n.prototype.dataToLayout=function(e,t,r){var i=this._dims;r=r||{};var a=r.rect=r.rect||{};a.x=a.y=a.width=a.height=NaN;var o=r.matrixXYLocatorRange=Xie(r.matrixXYLocatorRange);return Ke(e)&&(qie(o,null,e,i,At(t&&t.clamp,zh.none)),(!t||!t.ignoreMergeCells)&&((!t||t.clamp!==zh.corner)&&this._model.getBody().expandRangeByCellMerge(o),(!t||t.clamp!==zh.body)&&this._model.getCorner().expandRangeByCellMerge(o)),bY(a,o,i,0),bY(a,o,i,1)),r},n.prototype.pointToData=function(e,t,r){var i=this._dims;return RY(jc,0,i,e,t&&t.clamp),RY(jc,1,i,e,t&&t.clamp),r=r||[],r[0]=r[1]=NaN,jc.y===io.inCorner&&jc.x===io.inBody?LY(jc,r,0,i):jc.x===io.inCorner&&jc.y===io.inBody?LY(jc,r,1,i):(IY(jc,r,0,i),IY(jc,r,1,i)),r},n.prototype.convertToPixel=function(e,t,r,i){var a=JO(t);return a===this?a.dataToPoint(r,i):void 0},n.prototype.convertToLayout=function(e,t,r,i){var a=JO(t);return a===this?a.dataToLayout(r,i):void 0},n.prototype.convertFromPixel=function(e,t,r,i){var a=JO(t);return a===this?a.pointToData(r,i):void 0},n.prototype.containPoint=function(e){return this._rect.contain(e[0],e[1])},n.dimensions=["x","y","value"],n})(),Gb={rect:Y3()},oC=new bp,KO=new bp;function EY(n,e,t,r){for(var i=1-r,a=e[Qt[r]],o=e[Qt[i]],s=o.shouldShow(),l=a.resetCellIterator();l.next();)l.item.wh=l.item.xy=NaN;for(var u=o.resetLayoutIterator(null,r);u.next();)u.item.wh=u.item.xy=NaN;for(var c=t[$i[r]],f=a.getLocatorCount(r)+o.getLocatorCount(r),h=new Tn,d=o.resetLevelIterator();d.next();)h.option=d.item.option,h.parentModel=n[Qt[i]],y(d.item,s?h.get("levelSize"):0);for(var v=new Tn,g=a.resetCellIterator();g.next();)g.item.type===Th.leaf&&(v.option=g.item.option,v.parentModel=void 0,y(g.item,v.get("size")));function y(R,I){var L=iBe(I,r,t);so(L)||(R.wh=H4(L,c),c=H4(c-R.wh),f--)}var x=f?c/f:0,b=!f&&c>=1,T=t[Qt[r]],M=a.getLocatorCount(r)-1,C=new bp;for(o.resetLayoutIterator(C,r);C.next();)D(C.item);for(a.resetLayoutIterator(C,r);C.next();)D(C.item);function D(R){so(R.wh)&&(R.wh=x),R.xy=T,R.id[Qt[r]]===M&&!b&&(R.wh=t[Qt[r]]+t[$i[r]]-R.xy),T+=R.wh}}function DY(n,e){for(var t=e[Qt[n]].resetCellIterator();t.next();){var r=t.item;X3(r.rect,n,r.id,r.span,e),X3(r.rect,1-n,r.id,r.span,e),r.type===Th.nonLeaf&&(r.xy=r.rect[Qt[n]],r.wh=r.rect[$i[n]])}}function NY(n,e){n.travelExistingCells(function(t){var r=t.span;if(r){var i=t.spanRect,a=t.id;X3(i,0,a,r,e),X3(i,1,a,r,e)}})}function X3(n,e,t,r,i){n[$i[e]]=0;var a=t[Qt[e]],o=a<0?i[Qt[1-e]]:i[Qt[e]],s=o.getUnitLayoutInfo(e,t[Qt[e]]);if(n[Qt[e]]=s.xy,n[$i[e]]=s.wh,r[Qt[e]]>1){var l=o.getUnitLayoutInfo(e,t[Qt[e]]+r[Qt[e]]-1);n[$i[e]]=l.xy+l.wh-s.xy}}function iBe(n,e,t){var r=o3(n,t[$i[e]]);return H4(r,t[$i[e]])}function H4(n,e){return Math.max(Math.min(n,At(e,1/0)),0)}function JO(n){var e=n.matrixModel,t=n.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}var io={inBody:1,inCorner:2,outside:3},jc={x:null,y:null,point:[]};function RY(n,e,t,r,i){var a=t[Qt[e]],o=t[Qt[1-e]],s=a.getUnitLayoutInfo(e,a.getLocatorCount(e)-1),l=a.getUnitLayoutInfo(e,0),u=o.getUnitLayoutInfo(e,-o.getLocatorCount(e)),c=o.shouldShow()?o.getUnitLayoutInfo(e,-1):null,f=n.point[e]=r[e];if(!l&&!c){n[Qt[e]]=io.outside;return}if(i===zh.body){l?(n[Qt[e]]=io.inBody,f=fl(s.xy+s.wh,zi(l.xy,f)),n.point[e]=f):n[Qt[e]]=io.outside;return}else if(i===zh.corner){c?(n[Qt[e]]=io.inCorner,f=fl(c.xy+c.wh,zi(u.xy,f)),n.point[e]=f):n[Qt[e]]=io.outside;return}var h=l?l.xy:c?c.xy+c.wh:NaN,d=u?u.xy:h,v=s?s.xy+s.wh:h;if(f<d){if(!i){n[Qt[e]]=io.outside;return}f=d}else if(f>v){if(!i){n[Qt[e]]=io.outside;return}f=v}n.point[e]=f,n[Qt[e]]=h<=f&&f<=v?io.inBody:d<=f&&f<=h?io.inCorner:io.outside}function LY(n,e,t,r){var i=1-t;if(n[Qt[t]]!==io.outside)for(r[Qt[t]].resetCellIterator(KO);KO.next();){var a=KO.item;if(OY(n.point[t],a.rect,t)&&OY(n.point[i],a.rect,i)){e[t]=a.ordinal,e[i]=a.id[Qt[i]];return}}}function IY(n,e,t,r){if(n[Qt[t]]!==io.outside){var i=n[Qt[t]]===io.inCorner?r[Qt[1-t]]:r[Qt[t]];for(i.resetLayoutIterator(oC,t);oC.next();)if(aBe(n.point[t],oC.item)){e[t]=oC.item.id[Qt[t]];return}}}function aBe(n,e){return e.xy<=n&&n<=e.xy+e.wh}function OY(n,e,t){return e[Qt[t]]<=n&&n<=e[Qt[t]]+e[$i[t]]}function oBe(n){n.registerComponentModel(Zke),n.registerComponentView(eBe),n.registerCoordinateSystem("matrix",rBe)}function sBe(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function PY(n,e){var t;return J(e,function(r){n[r]!=null&&n[r]!=="auto"&&(t=!0)}),t}function lBe(n,e,t){var r=je({},t),i=n[e],a=t.$action||"merge";a==="merge"?i?(sn(i,r,!0),mf(i,r,{ignoreSize:!0}),gee(t,i),sC(t,i),sC(t,i,"shape"),sC(t,i,"style"),sC(t,i,"extra"),t.clipPath=i.clipPath):n[e]=r:a==="replace"?n[e]=r:a==="remove"&&i&&(n[e]=null)}var Kie=["transition","enterFrom","leaveTo"],uBe=Kie.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function sC(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),!(!n||!e))for(var r=t?Kie:uBe,i=0;i<r.length;i++){var a=r[i];n[a]==null&&e[a]!=null&&(n[a]=e[a])}}function cBe(n,e){if(n&&(n.hv=e.hv=[PY(e,["left","right"]),PY(e,["top","bottom"])],n.type==="group")){var t=n,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var fBe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var i=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,r),this.option.elements=i},e.prototype.optionUpdated=function(t,r){var i=this.option,a=(r?i:t).elements,o=i.elements=r?[]:i.elements,s=[];this._flatten(a,s,null);var l=o$(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];J(l,function(c,f){var h=c.newOption;h&&(u.push(h),sBe(c,h),lBe(o,f,h),cBe(o[f],h))},this),i.elements=Zn(o,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,r,i){J(t,function(a){if(a){i&&(a.parentOption=i),r.push(a);var o=a.children;o&&o.length&&this._flatten(o,r,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e})(bn),zY={path:null,compoundPath:null,group:zt,image:Ra,text:On},Wl=Sn(),hBe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=Tt()},e.prototype.render=function(t,r,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(r){var i=this._elMap,a=this.group,o=t.get("z"),s=t.get("zlevel");J(r,function(l){var u=ua(l.id,null),c=u!=null?i.get(u):null,f=ua(l.parentId,null),h=f!=null?i.get(f):a,d=l.type,v=l.style;d==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var g=l.textContent,y=l.textConfig;if(v&&Cie(v,d,!!y,!!g)){var x=Eie(v,d,!0);!y&&x.textConfig&&(y=l.textConfig=x.textConfig),!g&&x.textContent&&(g=x.textContent)}var b=dBe(l),T=l.$action||"merge",M=T==="merge",C=T==="replace";if(M){var D=!c,R=c;D?R=kY(u,h,l.type,i):(R&&(Wl(R).isNew=!1),Lie(R)),R&&(kC(R,b,t,{isInit:D}),BY(R,l,o,s))}else if(C){VC(c,l,i,t);var I=kY(u,h,l.type,i);I&&(kC(I,b,t,{isInit:!0}),BY(I,l,o,s))}else T==="remove"&&(Nie(c,l),VC(c,l,i,t));var L=i.get(u);if(L&&g)if(M){var O=L.getTextContent();O?O.attr(g):L.setTextContent(new On(g))}else C&&L.setTextContent(new On(g));if(L){var B=l.clipPath;if(B){var V=B.type,F=void 0,D=!1;if(M){var k=L.getClipPath();D=!k||Wl(k).type!==V,F=D?j4(V):k}else C&&(D=!0,F=j4(V));L.setClipPath(F),kC(F,B,t,{isInit:D}),H3(F,B.keyframeAnimation,t)}var Y=Wl(L);L.setTextConfig(y),Y.option=l,pBe(L,t,l),Jh({el:L,componentModel:t,itemName:L.name,itemTooltipOption:l.tooltip}),H3(L,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var i=t.option.elements,a=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],h=ua(f.id,null),d=h!=null?o.get(h):null;if(!(!d||!d.isGroup)){var v=d.parent,g=v===a,y=Wl(d),x=Wl(v);y.width=pt(y.option.width,g?s:x.width)||0,y.height=pt(y.option.height,g?l:x.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],h=ua(f.id,null),d=h!=null?o.get(h):null;if(d){var v=d.parent,x=Wl(v),b=v===a?{width:s,height:l}:{width:x.width,height:x.height},T={},M=xN(d,f,b,null,{hv:f.hv,boundingMode:f.bounding},T);if(!Wl(d).isNew&&M){for(var C=f.transition,D={},R=0;R<u.length;R++){var I=u[R],L=T[I];C&&(um(C)||on(C,I)>=0)?D[I]=L:d[I]=L}Gn(d,D,t,0)}else d.attr(T)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(i){VC(i,Wl(i).option,r,t._lastGraphicModel)}),this._elMap=Tt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e})(Rr);function j4(n){var e=St(zY,n)?zY[n]:M2(n),t=new e({});return Wl(t).type=n,t}function kY(n,e,t,r){var i=j4(t);return e.add(i),r.set(n,i),Wl(i).id=n,Wl(i).isNew=!0,i}function VC(n,e,t,r){var i=n&&n.parent;i&&(n.type==="group"&&n.traverse(function(a){VC(a,e,t,r)}),PN(n,e,r),t.removeKey(Wl(n).id))}function BY(n,e,t,r){n.isGroup||J([["cursor",nu.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(i){var a=i[0];St(e,a)?n[a]=At(e[a],i[1]):n[a]==null&&(n[a]=i[1])}),J(Rn(e),function(i){if(i.indexOf("on")===0){var a=e[i];n[i]=Nt(a)?a:null}}),St(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}function dBe(n){return n=je({},n),J(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(hee),function(e){delete n[e]}),n}function pBe(n,e,t){var r=Xt(n).eventData;!n.silent&&!n.ignore&&!r&&(r=Xt(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),r&&(r.info=t.info)}function vBe(n){n.registerComponentModel(fBe),n.registerComponentView(hBe),n.registerPreprocessor(function(e){var t=e.graphic;Ke(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var UY=["x","y","radius","angle","single"],gBe=["cartesian2d","polar","singleAxis"];function mBe(n){var e=n.get("coordinateSystem");return on(gBe,e)>=0}function mp(n){return n+"Axis"}function yBe(n,e){var t=Tt(),r=[],i=Tt();n.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||s(c)});var a;do a=!1,n.eachComponent("dataZoom",o);while(a);function o(c){!i.get(c.uid)&&l(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),r.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(h,d){var v=t.get(h);v&&v[d]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,h){(t.get(f)||t.set(f,[]))[h]=!0})}return r}function Jie(n){var e=n.ecModel,t={infoList:[],infoMap:Tt()};return n.eachTargetAxis(function(r,i){var a=e.getComponent(mp(r),i);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,l=t.infoMap.get(s);l||(l={model:o,axisModels:[]},t.infoList.push(l),t.infoMap.set(s,l)),l.axisModels.push(a)}}}),t}var QO=(function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n})(),j2=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,i){var a=VY(t);this.settledOption=a,this.mergeDefaultAndTheme(t,i),this._doInit(a)},e.prototype.mergeOption=function(t){var r=VY(t);sn(this.option,t,!0),sn(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;J([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(r[a[0]]=i[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=Tt(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return J(UY,function(i){var a=this.getReferringComponents(mp(i),zwe);if(a.specified){r=!0;var o=new QO;J(a.models,function(s){o.add(s.componentIndex)}),t.set(i,o)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var i=this.ecModel,a=!0;if(a){var o=r==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});l(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var f=u[0];if(f){var h=new QO;if(h.add(f.componentIndex),t.set(c,h),a=!1,c==="x"||c==="y"){var d=f.getReferringComponents("grid",di).models[0];d&&J(u,function(v){f.componentIndex!==v.componentIndex&&d===v.getReferringComponents("grid",di).models[0]&&h.add(v.componentIndex)})}}}a&&J(UY,function(u){if(a){var c=i.findComponents({mainType:mp(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var f=new QO;f.add(c[0].componentIndex),t.set(u,f),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,i=this.get("rangeMode");J([["start","startValue"],["end","endValue"]],function(a,o){var s=t[a[0]]!=null,l=t[a[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":i?r[o]=i[o]:s&&(r[o]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,i){t==null&&(t=this.ecModel.getComponent(mp(r),i))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(i,a){J(i.indexList,function(o){t.call(r,a,o)})})},e.prototype.getAxisProxy=function(t,r){var i=this.getAxisModel(t,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[r])return this.ecModel.getComponent(mp(t),r)},e.prototype.setRawRange=function(t){var r=this.option,i=this.settledOption;J([["start","startValue"],["end","endValue"]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(r[a[0]]=i[a[0]]=t[a[0]],r[a[1]]=i[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;J(["start","startValue","end","endValue"],function(i){r[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(bn);function VY(n){var e={};return J(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}var xBe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(j2),OU=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.dataZoomModel=t,this.ecModel=r,this.api=i},e.type="dataZoom",e})(Rr),_Be=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e})(OU),Xy=J,FY=sl,bBe=(function(){function n(e,t,r,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=r}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(mBe(t)){var r=mp(this._dimName),i=t.getReferringComponents(r,di).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Pt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;Xy(["start","end"],function(h,d){var v=e[h],g=e[h+"Value"];a[d]==="percent"?(v==null&&(v=o[d]),g=i.parse(er(v,o,t))):(u=!0,g=g==null?t[d]:i.parse(g),v=er(g,t,o)),l[d]=g==null||isNaN(g)?t[d]:g,s[d]=v==null||isNaN(v)?o[d]:v}),FY(l),FY(s);var c=this._minMaxSpan;u?f(l,s,t,o,!1):f(s,l,o,t,!0);function f(h,d,v,g,y){var x=y?"Span":"ValueSpan";Pp(0,h,v,"all",c["min"+x],c["max"+x]);for(var b=0;b<2;b++)d[b]=er(h[b],v,g,!0),y&&(d[b]=i.parse(d[b]))}return{valueWindow:l,percentWindow:s}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=SBe(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),a=e.get("filterMode"),o=this._valueWindow;if(a==="none")return;Xy(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if(a==="weakFilter"){var f=u.getStore(),h=$e(c,function(d){return u.getDimensionIndex(d)},u);u.filterSelf(function(d){for(var v,g,y,x=0;x<c.length;x++){var b=f.get(h[x],d),T=!isNaN(b),M=b<o[0],C=b>o[1];if(T&&!M&&!C)return!0;T&&(y=!0),M&&(v=!0),C&&(g=!0)}return y&&v&&g})}else Xy(c,function(d){if(a==="empty")l.setData(u=u.map(d,function(g){return s(g)?g:NaN}));else{var v={};v[d]=o,u.selectRange(v)}});Xy(c,function(d){u.setApproximateExtent(o,d)})}});function s(l){return l>=o[0]&&l<=o[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;Xy(["min","max"],function(i){var a=t.get(i+"Span"),o=t.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=er(r[0]+o,r,[0,100],!0):a!=null&&(o=er(a,[0,100],r,!0)-r[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=o},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var i=wk(r,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;t[0]!==0&&a.setDeterminedMinMax("min",+r[0].toFixed(i)),t[1]!==100&&a.setDeterminedMinMax("max",+r[1].toFixed(i)),a.freeze()}},n})();function SBe(n,e,t){var r=[1/0,-1/0];Xy(t,function(o){V3e(r,o.getData(),e)});var i=n.getAxisModel(),a=Kte(i.axis.scale,i,r).calculate();return[a.min,a.max]}var wBe={getTargetSeries:function(n){function e(i){n.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=n.getComponent(mp(o),s);i(o,s,l,a)})})}e(function(i,a,o,s){o.__dzAxisProxy=null});var t=[];e(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new bBe(i,a,s,n),t.push(o.__dzAxisProxy))});var r=Tt();return J(t,function(i){J(i.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).reset(t)}),t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),a=r.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function TBe(n){n.registerAction("dataZoom",function(e,t){var r=yBe(t,e);J(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var GY=!1;function PU(n){GY||(GY=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,wBe),TBe(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function MBe(n){n.registerComponentModel(xBe),n.registerComponentView(_Be),PU(n)}var Zl=(function(){function n(){}return n})(),Qie={};function qy(n,e){Qie[n]=e}function $ie(n){return Qie[n]}var ABe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;J(this.option.feature,function(r,i){var a=$ie(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),sn(r,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:De.color.border,borderRadius:0,borderWidth:0,padding:De.size.m,itemSize:15,itemGap:De.size.s,showTitle:!0,iconStyle:{borderColor:De.color.accent50,color:"none"},emphasis:{iconStyle:{borderColor:De.color.accent50}},tooltip:{show:!1,position:"bottom"}},e})(bn);function eae(n,e){var t=v_(e.get("padding")),r=e.getItemStyle(["color","opacity"]);r.fill=e.get("backgroundColor");var i=new mn({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1});return i}var CBe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,a){var o=this.group;if(o.removeAll(),!t.get("show"))return;var s=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),f=[];J(u,function(b,T){f.push(T)}),new Wh(this._featureNames||[],f).add(h).update(h).remove(tn(h,null)).execute(),this._featureNames=f;function h(b,T){var M=f[b],C=f[T],D=u[M],R=new Tn(D,t,t.ecModel),I;if(a&&a.newTitle!=null&&a.featureName===M&&(D.title=a.newTitle),M&&!C){if(EBe(M))I={onclick:R.option.onclick,featureName:M};else{var L=$ie(M);if(!L)return;I=new L}c[M]=I}else if(I=c[C],!I)return;I.uid=p_("toolbox-feature"),I.model=R,I.ecModel=r,I.api=i;var O=I instanceof Zl;if(!M&&C){O&&I.dispose&&I.dispose(r,i);return}if(!R.get("show")||O&&I.unusable){O&&I.remove&&I.remove(r,i);return}d(R,I,M),R.setIconStatus=function(B,V){var F=this.option,k=this.iconPaths;F.iconStatus=F.iconStatus||{},F.iconStatus[B]=V,k[B]&&(V==="emphasis"?Hh:jh)(k[B])},I instanceof Zl&&I.render&&I.render(R,r,i,a)}function d(b,T,M){var C=b.getModel("iconStyle"),D=b.getModel(["emphasis","iconStyle"]),R=T instanceof Zl&&T.getIcons?T.getIcons():b.get("icon"),I=b.get("title")||{},L,O;vt(R)?(L={},L[M]=R):L=R,vt(I)?(O={},O[M]=I):O=I;var B=b.iconPaths={};J(L,function(V,F){var k=h_(V,{},{x:-s/2,y:-s/2,width:s,height:s});k.setStyle(C.getItemStyle());var Y=k.ensureState("emphasis");Y.style=D.getItemStyle();var H=new On({style:{text:O[F],align:D.get("textAlign"),borderRadius:D.get("textBorderRadius"),padding:D.get("textPadding"),fill:null,font:Yk({fontStyle:D.get("textFontStyle"),fontFamily:D.get("textFontFamily"),fontSize:D.get("textFontSize"),fontWeight:D.get("textFontWeight")},r)},ignore:!0});k.setTextContent(H),Jh({el:k,componentModel:t,itemName:F,formatterParamsExtra:{title:O[F]}}),k.__title=O[F],k.on("mouseover",function(){var W=D.getItemStyle(),q=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";H.setStyle({fill:D.get("textFill")||W.fill||W.stroke||De.color.neutral99,backgroundColor:D.get("textBackgroundColor")}),k.setTextConfig({position:D.get("textPosition")||q}),H.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){b.get(["iconStatus",F])!=="emphasis"&&i.leaveEmphasis(this),H.hide()}),(b.get(["iconStatus",F])==="emphasis"?Hh:jh)(k),o.add(k),k.on("click",mt(T.onclick,T,r,i,F)),B[F]=k})}var v=ha(t,i).refContainer,g=t.getBoxLayoutParams(),y=t.get("padding"),x=Kr(g,v,y);om(t.get("orient"),o,t.get("itemGap"),x.width,x.height),xN(o,g,v,y),o.add(eae(o.getBoundingRect(),t)),l||o.eachChild(function(b){var T=b.__title,M=b.ensureState("emphasis"),C=M.textConfig||(M.textConfig={}),D=b.getTextContent(),R=D&&D.ensureState("emphasis");if(R&&!Nt(R)&&T){var I=R.style||(R.style={}),L=aN(T,On.makeFont(I)),O=b.x+o.x,B=b.y+o.y+s,V=!1;B+L.height>i.getHeight()&&(C.position="top",V=!0);var F=V?-5-L.height:s+10;O+L.width/2>i.getWidth()?(C.position=["100%",F],I.align="right"):O-L.width/2<0&&(C.position=[0,F],I.align="left")}})},e.prototype.updateView=function(t,r,i,a){J(this._features,function(o){o instanceof Zl&&o.updateView&&o.updateView(o.model,r,i,a)})},e.prototype.remove=function(t,r){J(this._features,function(i){i instanceof Zl&&i.remove&&i.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){J(this._features,function(i){i instanceof Zl&&i.dispose&&i.dispose(t,r)})},e.type="toolbox",e})(Rr);function EBe(n){return n.indexOf("my")===0}var DBe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var i=this.model,a=i.get("name")||t.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||De.color.neutral00,connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Dn.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var h=l.split(","),d=h[0].indexOf("base64")>-1,v=o?decodeURIComponent(h[1]):h[1];d&&(v=window.atob(v));var g=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var y=v.length,x=new Uint8Array(y);y--;)x[y]=v.charCodeAt(y);var b=new Blob([x]);window.navigator.msSaveOrOpenBlob(b,g)}else{var T=document.createElement("iframe");document.body.appendChild(T);var M=T.contentWindow,C=M.document;C.open("image/svg+xml","replace"),C.write(v),C.close(),M.focus(),C.execCommand("SaveAs",!0,g),document.body.removeChild(T)}}else{var D=i.get("lang"),R='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(D&&D[0]||"")+'" /></body>',I=window.open();I.document.write(R),I.document.title=a}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:De.color.neutral00,name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e})(Zl),HY="__ec_magicType_stack__",NBe=[["line","bar"],["stack"]],RBe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),i={};return J(t.get("type"),function(a){r[a]&&(i[a]=r[a])}),i},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,i){var a=this.model,o=a.get(["seriesIndex",i]);if(jY[i]){var s={series:[]},l=function(f){var h=f.subType,d=f.id,v=jY[i](h,d,f,a);v&&(Vt(v,f.option),s.series.push(v));var g=f.coordinateSystem;if(g&&g.type==="cartesian2d"&&(i==="line"||i==="bar")){var y=g.getAxesByScale("ordinal")[0];if(y){var x=y.dim,b=x+"Axis",T=f.getReferringComponents(b,di).models[0],M=T.componentIndex;s[b]=s[b]||[];for(var C=0;C<=M;C++)s[b][M]=s[b][M]||{};s[b][M].boundaryGap=i==="bar"}}};J(NBe,function(f){on(f,i)>=0&&J(f,function(h){a.setIconStatus(h,"normal")})}),a.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=i;i==="stack"&&(u=sn({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},e})(Zl),jY={line:function(n,e,t,r){if(n==="bar")return sn({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,e,t,r){if(n==="line")return sn({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,e,t,r){var i=t.get("stack")===HY;if(n==="line"||n==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),sn({id:e,stack:i?"":HY},r.get(["option","stack"])||{},!0)}};ic({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});var zN=new Array(60).join("-"),Yx="	";function LBe(n){var e={},t=[],r=[];return n.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;e[s]||(e[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),e[s].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function IBe(n){var e=[];return J(n,function(t,r){var i=t.categoryAxis,a=t.valueAxis,o=a.dim,s=[" "].concat($e(t.series,function(d){return d.name})),l=[i.model.getCategories()];J(t.series,function(d){var v=d.getRawData();l.push(d.getRawData().mapArray(v.mapDimension(o),function(g){return g}))});for(var u=[s.join(Yx)],c=0;c<l[0].length;c++){for(var f=[],h=0;h<l.length;h++)f.push(l[h][c]);u.push(f.join(Yx))}e.push(u.join(`
`))}),e.join(`

`+zN+`

`)}function OBe(n){return $e(n,function(e){var t=e.getRawData(),r=[e.name],i=[];return t.each(t.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=t.getName(o),l=0;l<a-1;l++)i[l]=arguments[l];r.push((s?s+Yx:"")+i.join(Yx))}),r.join(`
`)}).join(`

`+zN+`

`)}function PBe(n){var e=LBe(n);return{value:Zn([IBe(e.seriesGroupByCategoryAxis),OBe(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+zN+`

`),meta:e.meta}}function q3(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function zBe(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(Yx)>=0)return!0}var W4=new RegExp("["+Yx+"]+","g");function kBe(n){for(var e=n.split(/\n+/g),t=q3(e.shift()).split(W4),r=[],i=$e(t,function(l){return{name:l,data:[]}}),a=0;a<e.length;a++){var o=q3(e[a]).split(W4);r.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:r}}function BBe(n){for(var e=n.split(/\n+/g),t=q3(e.shift()),r=[],i=0;i<e.length;i++){var a=q3(e[i]);if(a){var o=a.split(W4),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[i]={name:s,value:[]},l=r[i].value):l=r[i]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?r[i].value=l[0]:r[i]=l[0])}}return{name:t,data:r}}function UBe(n,e){var t=n.split(new RegExp(`
*`+zN+`
*`,"g")),r={series:[]};return J(t,function(i,a){if(zBe(i)){var o=kBe(i),s=e[a],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=BBe(i);r.series.push(o)}}),r}var VBe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||De.color.neutral00;var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),h=a.get("contentToOption"),d=PBe(t);if(Nt(f)){var v=f(r.getOption());vt(v)?u.innerHTML=v:pm(v)&&u.appendChild(v)}else{c.readOnly=a.get("readOnly");var g=c.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=a.get("textColor"),g.borderColor=a.get("textareaBorderColor"),g.backgroundColor=a.get("textareaColor"),c.value=d.value,u.appendChild(c)}var y=d.meta,x=document.createElement("div");x.style.cssText="position:absolute;bottom:5px;left:0;right:0";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",T=document.createElement("div"),M=document.createElement("div");b+=";background-color:"+a.get("buttonColor"),b+=";color:"+a.get("buttonTextColor");var C=this;function D(){i.removeChild(o),C._dom=null}tP(T,"click",D),tP(M,"click",function(){if(h==null&&f!=null||h!=null&&f==null){D();return}var R;try{Nt(h)?R=h(u,r.getOption()):R=UBe(c.value,y)}catch(I){throw D(),new Error("Data view format error "+I)}R&&r.dispatchAction({type:"changeDataView",newOption:R}),D()}),T.innerHTML=l[1],M.innerHTML=l[2],M.style.cssText=T.style.cssText=b,!a.get("readOnly")&&x.appendChild(M),x.appendChild(T),o.appendChild(s),o.appendChild(u),o.appendChild(x),u.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:De.color.background,textColor:De.color.primary,textareaColor:De.color.background,textareaBorderColor:De.color.border,buttonColor:De.color.accent50,buttonTextColor:De.color.neutral00};return r},e})(Zl);function FBe(n,e){return $e(n,function(t,r){var i=e&&e[r];if(Ft(i)&&!Ke(i)){var a=Ft(t)&&!Ke(t);a||(t={value:t});var o=i.name!=null&&t.name==null;return t=Vt(t,i),o&&delete t.name,t}else return t})}ic({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];J(n.newOption.series,function(r){var i=e.getSeriesByName(r.name)[0];if(!i)t.push(je({type:"scatter"},r));else{var a=i.get("data");t.push({name:r.name,data:FBe(r.data,a)})}}),e.mergeOption(Vt({series:t},n.newOption))});var tae=J,nae=Sn();function GBe(n,e){var t=zU(n);tae(e,function(r,i){for(var a=t.length-1;a>=0;a--){var o=t[a];if(o[i])break}if(a<0){var s=n.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();t[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),t.push(e)}function HBe(n){var e=zU(n),t=e[e.length-1];e.length>1&&e.pop();var r={};return tae(t,function(i,a){for(var o=e.length-1;o>=0;o--)if(i=e[o][a],i){r[a]=i;break}}),r}function jBe(n){nae(n).snapshots=null}function WBe(n){return zU(n).length}function zU(n){var e=nae(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var YBe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){jBe(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return r},e})(Zl);ic({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});var XBe=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],kU=(function(){function n(e,t,r){var i=this;this._targetInfoList=[];var a=WY(t,e);J(qBe,function(o,s){(!r||!r.include||on(r.include,s)>=0)&&o(a,i._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,i,a){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var o=$O[r.brushType](0,a,i);r.__rangeOffset={offset:ZY[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,r){J(e,function(i){var a=this.findTargetInfo(i,t);a&&a!==!0&&J(a.coordSyses,function(o){var s=$O[i.brushType](1,o,i.range,!0);r(i,s.values,o,t)})},this)},n.prototype.setInputRanges=function(e,t){J(e,function(r){var i=this.findTargetInfo(r,t);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var a=$O[r.brushType](0,i.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?ZY[r.brushType](a.values,o.offset,ZBe(a.xyMinMax,o.xyMinMax)):a.values}},this)},n.prototype.makePanelOpts=function(e,t){return $e(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:sie(i),isTargetByCursor:uie(i,e,r.coordSysModel),getLinearBrushOtherExtent:lie(i)}})},n.prototype.controlSeries=function(e,t,r){var i=this.findTargetInfo(e,r);return i===!0||i&&on(i.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,i=WY(t,e),a=0;a<r.length;a++){var o=r[a],s=e.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<YY.length;l++)if(YY[l](i,o))return o}return!0},n})();function Y4(n){return n[0]>n[1]&&n.reverse(),n}function WY(n,e){return fx(n,e,{includeMainTypes:XBe})}var qBe={grid:function(n,e){var t=n.xAxisModels,r=n.yAxisModels,i=n.gridModels,a=Tt(),o={},s={};!t&&!r&&!i||(J(t,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),J(r,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),J(i,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];J(u.getCartesians(),function(f,h){(on(t,f.getAxis("x").model)>=0||on(r,f.getAxis("y").model)>=0)&&c.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:XY.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,e){J(n.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:XY.geo})})}},YY=[function(n,e){var t=n.xAxisModel,r=n.yAxisModel,i=n.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],XY={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(wp(n)),e}},$O={lineX:tn(qY,0),lineY:tn(qY,1),rect:function(n,e,t,r){var i=n?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),a=n?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),o=[Y4([i[0],a[0]]),Y4([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(n,e,t,r){var i=[[1/0,-1/0],[1/0,-1/0]],a=$e(t,function(o){var s=n?e.pointToData(o,r):e.dataToPoint(o,r);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function qY(n,e,t,r){var i=t.getAxis(["x","y"][n]),a=Y4($e([0,1],function(s){return e?i.coordToData(i.toLocalCoord(r[s]),!0):i.toGlobalCoord(i.dataToCoord(r[s]))})),o=[];return o[n]=a,o[1-n]=[NaN,NaN],{values:a,xyMinMax:o}}var ZY={lineX:tn(KY,0),lineY:tn(KY,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return $e(n,function(r,i){return[r[0]-t[0]*e[i][0],r[1]-t[1]*e[i][1]]})}};function KY(n,e,t,r){return[e[0]-r[n]*t[0],e[1]-r[n]*t[1]]}function ZBe(n,e){var t=JY(n),r=JY(e),i=[t[0]/r[0],t[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function JY(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var X4=J,KBe=Rwe("toolbox-dataZoom_"),JBe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,a){this._brushController||(this._brushController=new lU(i.getZr()),this._brushController.on("brush",mt(this._onBrush,this)).mount()),eUe(t,r,this,a,i),$Be(t,r)},e.prototype.onclick=function(t,r,i){QBe[i].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new kU(BU(this.model),a,{include:["grid"]});o.matchOutputRanges(r,a,function(u,c,f){if(f.type==="cartesian2d"){var h=u.brushType;h==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[h],f,c)}}),GBe(a,i),this._dispatchZoomAction(i);function s(u,c,f){var h=c.getAxis(u),d=h.model,v=l(u,d,a),g=v.findRepresentativeAxisProxy(d).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(f=Pp(0,f.slice(),h.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),v&&(i[v.id]={dataZoomId:v.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var h;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var v=d.getAxisModel(u,c.componentIndex);v&&(h=d)}),h}},e.prototype._dispatchZoomAction=function(t){var r=[];X4(t,function(i,a){r.push(Pt(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:De.color.backgroundTint}};return r},e})(Zl),QBe={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(HBe(this.ecModel))}};function BU(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function $Be(n,e){n.setIconStatus("back",WBe(e)>1?"emphasis":"normal")}function eUe(n,e,t,r,i){var a=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(a=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=a,n.setIconStatus("zoom",a?"emphasis":"normal");var o=new kU(BU(n),e,{include:["grid"]}),s=o.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}hAe("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),i=[],a=BU(r),o=fx(n,a);X4(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),X4(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:KBe+u+f};h[c]=f,i.push(h)}return i});function tUe(n){n.registerComponentModel(ABe),n.registerComponentView(CBe),qy("saveAsImage",DBe),qy("magicType",RBe),qy("dataView",VBe),qy("dataZoom",JBe),qy("restore",YBe),fn(MBe)}var nUe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,displayTransition:!0,enterable:!1,backgroundColor:De.color.neutral00,shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,defaultBorderColor:De.color.border,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:De.color.borderShade,width:1,type:"dashed",textStyle:{}}},textStyle:{color:De.color.tertiary,fontSize:14}},e})(bn);function rae(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function iae(n){if(Dn.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var aae=iae(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rUe=iae(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function oae(n,e){if(!n)return e;e=aB(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function iUe(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?t[e]:null}var aUe=oae(rUe,"transition"),UU=oae(aae,"transform"),oUe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Dn.transform3dSupported?"will-change:transform;":"");function sUe(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function lUe(n,e,t){if(!vt(t)||t==="inside")return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");e=bm(e);var a=sUe(t),o=Math.max(Math.round(i)*1.5,6),s="",l=UU+":",u;on(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+i,h=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),d=Math.round(((h-Math.SQRT2*i)/2+Math.SQRT2*i-(h-f)/2)*100)/100;s+=";"+a+":-"+d+"px";var v=e+" solid "+i+"px;",g=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+r+";"];return'<div style="'+g.join("")+'"></div>'}function uUe(n,e,t){var r="cubic-bezier(0.23,1,0.32,1)",i="",a="";return t&&(i=" "+n/2+"s "+r,a="opacity"+i+",visibility"+i),e||(i=" "+n+"s "+r,a+=(a.length?",":"")+(Dn.transformSupported?""+UU+i:",left"+i+",top"+i)),aUe+":"+a}function QY(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Dn.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=Dn.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+UU+":"+o+";":[["top",0],["left",0],[aae,o]]}function cUe(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont());var i=At(n.get("lineHeight"),Math.round(t*3/2));t&&e.push("line-height:"+i+"px");var a=n.get("textShadowColor"),o=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,l=n.get("textShadowOffsetY")||0;return a&&o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+a),J(["decoration","align"],function(u){var c=n.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function fUe(n,e,t,r){var i=[],a=n.get("transitionDuration"),o=n.get("backgroundColor"),s=n.get("shadowBlur"),l=n.get("shadowColor"),u=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),f=n.getModel("textStyle"),h=qee(n,"html"),d=u+"px "+c+"px "+s+"px "+l;return i.push("box-shadow:"+d),e&&a>0&&i.push(uUe(a,t,r)),o&&i.push("background-color:"+o),J(["width","color","radius"],function(v){var g="border-"+v,y=aB(g),x=n.get(y);x!=null&&i.push(g+":"+x+(v==="color"?"":"px"))}),i.push(cUe(f)),h!=null&&i.push("padding:"+v_(h).join("px ")+"px"),i.join(";")+";"}function $Y(n,e,t,r,i){var a=e&&e.painter;if(t){var o=a&&a.getViewportRoot();o&&KSe(n,o,t,r,i)}else{n[0]=r,n[1]=i;var s=a&&a.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var hUe=(function(){function n(e,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Dn.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),a=t.appendTo,o=a&&(vt(a)?document.querySelector(a):pm(a)?a:Nt(a)&&a(e.getDom()));$Y(this._styleCoord,i,o,e.getWidth()/2,e.getHeight()/2),(o||e.getDom()).appendChild(r),this._api=e,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();Gl(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(e){if(!this._container){var t=this._api.getDom(),r=iUe(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this._enableDisplayTransition=e.get("displayTransition")&&e.get("transitionDuration")>0,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=oUe+fUe(e,!this._firstShow,this._longHide,this._enableDisplayTransition)+QY(a[0],a[1],!0)+("border-color:"+bm(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,a){var o=this.el;if(e==null){o.innerHTML="";return}var s="";if(vt(a)&&r.get("trigger")==="item"&&!rae(r)&&(s=lUe(r,i,a)),vt(e))o.innerHTML=e+s;else if(e){o.innerHTML="",Ke(e)||(e=[e]);for(var l=0;l<e.length;l++)pm(e[l])&&e[l].parentNode!==o&&o.appendChild(e[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},n.prototype.moveTo=function(e,t){if(this.el){var r=this._styleCoord;if($Y(r,this._zr,this._container,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,a=QY(r[0],r[1]);J(a,function(o){i[o[0]]=o[1]})}}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;this._enableDisplayTransition?(t.visibility="hidden",t.opacity="0"):t.display="none",Dn.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(mt(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this._zr;JSe(e&&e.painter&&e.painter.getViewportRoot(),this._container);var t=this.el;if(t){t.onmouseenter=t.onmousemove=t.onmouseleave=null;var r=t.parentNode;r&&r.removeChild(t)}this.el=this._container=null},n})(),dUe=(function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),tX(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,a){var o=this;Ft(e)&&tr(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new On({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:qee(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),J(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),J(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=eX(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;tX(i,this._zr,e,t),e=i[0],t=i[1];var a=r.style,o=np(a.borderWidth||0),s=eX(a);r.x=e+o+s.left,r.y=t+o+s.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(mt(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n})();function np(n){return Math.max(0,n)}function eX(n){var e=np(n.shadowBlur||0),t=np(n.shadowOffsetX||0),r=np(n.shadowOffsetY||0);return{left:np(e-t),right:np(e+t),top:np(e-r),bottom:np(e+r)}}function tX(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var pUe=new mn({shape:{x:-1,y:-1,width:2,height:2}}),vUe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(Dn.node||!r.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=Bwe(i.get("renderMode"));this._tooltipContent=a==="richText"?new dUe(r):new hUe(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(t,r,i){if(!(Dn.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?y_(this,"_updatePosition",50,"fixRate"):D2(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");Fie("itemTooltip",this._api,mt(function(i,a,o){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(t,r,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,a){if(!(a.from===this.uid||Dn.node||!i.getDom())){var o=nX(a,i);this._ticket="";var s=a.dataByCoordSys,l=xUe(a,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=pUe;c.x=a.x,c.y=a.y,c.update(),Xt(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,a))return;var f=Gie(a,r),h=f.point[0],d=f.point[1];h!=null&&d!=null&&this._tryShow({offsetX:h,offsetY:d,target:f.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},e.prototype.manuallyHideTip=function(t,r,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(nX(a,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,a){var o=a.seriesIndex,s=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var c=u.getData(),f=Hb([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(i){var s=Xt(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Kg(i,function(c){if(c.tooltipDisabled)return l=u=null,!0;l||u||(Xt(c).dataIndex!=null?l=c:Xt(c).tooltipConfig!=null&&(u=c))},!0),l?this._showSeriesItemTooltip(t,l,r):u?this._showComponentItemTooltip(t,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=mt(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],s=Hb([r.tooltipOption],a),l=this._renderMode,u=[],c=ea("section",{blocks:[],noHeader:!0}),f=[],h=new OI;J(t,function(b){J(b.dataByAxis,function(T){var M=i.getComponent(T.axisDim+"Axis",T.axisIndex),C=T.value;if(!(!M||C==null)){var D=Bie(C,M.axis,i,T.seriesDataIndices,T.valueLabelOpt),R=ea("section",{header:D,noHeader:!ol(D),sortBlocks:!0,blocks:[]});c.blocks.push(R),J(T.seriesDataIndices,function(I){var L=i.getSeriesByIndex(I.seriesIndex),O=I.dataIndexInside,B=L.getDataParams(O);if(!(B.dataIndex<0)){B.axisDim=T.axisDim,B.axisIndex=T.axisIndex,B.axisType=T.axisType,B.axisId=T.axisId,B.axisValue=M3(M.axis,{value:C}),B.axisValueLabel=D,B.marker=h.makeTooltipMarker("item",bm(B.color),l);var V=y9(L.formatTooltip(O,!0,null)),F=V.frag;if(F){var k=Hb([L],a).get("valueFormatter");R.blocks.push(k?je({valueFormatter:k},F):F)}V.text&&f.push(V.text),u.push(B)}})}})}),c.blocks.reverse(),f.reverse();var d=r.position,v=s.get("order"),g=T9(c,h,l,v,i.get("useUTC"),s.get("textStyle"));g&&f.unshift(g);var y=l==="richText"?`

`:"<br/>",x=f.join(y);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(s,d,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,x,u,Math.random()+"",o[0],o[1],d,null,h)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var a=this._ecModel,o=Xt(r),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,h=u.getData(f),d=this._renderMode,v=t.positionDefault,g=Hb([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),y=g.get("trigger");if(!(y!=null&&y!=="item")){var x=u.getDataParams(c,f),b=new OI;x.marker=b.makeTooltipMarker("item",bm(x.color),d);var T=y9(u.formatTooltip(c,!1,f)),M=g.get("order"),C=g.get("valueFormatter"),D=T.frag,R=D?T9(C?je({valueFormatter:C},D):D,b,d,M,a.get("useUTC"),g.get("textStyle")):T.text,I="item_"+u.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,R,x,I,t.offsetX,t.offsetY,t.position,t.target,b)}),i({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var a=this._renderMode==="html",o=Xt(r),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(vt(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=Pt(l),l.content=Oo(l.content));var f=[l],h=this._ecModel.getComponent(o.componentMainType,o.componentIndex);h&&f.push(h),f.push({formatter:l.content});var d=t.positionDefault,v=Hb(f,this._tooltipModel,d?{position:d}:null),g=v.get("content"),y=Math.random()+"",x=new OI;this._showOrMove(v,function(){var b=Pt(v.get("formatterParams")||{});this._showTooltipContent(v,g,b,y,t.offsetX,t.offsetY,t.position,r,x)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,a,o,s,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var f=this._tooltipContent;f.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var d=r,v=this._getNearestPoint([o,s],i,t.get("trigger"),t.get("borderColor"),t.get("defaultBorderColor",!0)),g=v.color;if(h)if(vt(h)){var y=t.ecModel.get("useUTC"),x=Ke(i)?i[0]:i,b=x&&x.axisType&&x.axisType.indexOf("time")>=0;d=h,b&&(d=Tw(x.axisValue,d,y)),d=oB(d,i,!0)}else if(Nt(h)){var T=mt(function(M,C){M===this._ticket&&(f.setContent(C,c,t,g,l),this._updatePosition(t,l,o,s,f,i,u))},this);this._ticket=a,d=h(i,a,T)}else d=h;f.setContent(d,c,t,g,l),f.show(t,g),this._updatePosition(t,l,o,s,f,i,u)}},e.prototype._getNearestPoint=function(t,r,i,a,o){if(i==="axis"||Ke(r))return{color:a||o};if(!Ke(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||t.get("position");var f=o.getSize(),h=t.get("align"),d=t.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),Nt(r)&&(r=r([i,a],s,o.el,v,{viewSize:[u,c],contentSize:f.slice()})),Ke(r))i=pt(r[0],u),a=pt(r[1],c);else if(Ft(r)){var g=r;g.width=f[0],g.height=f[1];var y=Kr(g,{width:u,height:c});i=y.x,a=y.y,h=null,d=null}else if(vt(r)&&l){var x=yUe(r,v,f,t.get("borderWidth"));i=x[0],a=x[1]}else{var x=gUe(i,a,o,u,c,h?null:20,d?null:20);i=x[0],a=x[1]}if(h&&(i-=rX(h)?f[0]/2:h==="right"?f[0]:0),d&&(a-=rX(d)?f[1]/2:d==="bottom"?f[1]:0),rae(t)){var x=mUe(i,a,o,u,c);i=x[0],a=x[1]}o.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===t.length;return o&&J(i,function(s,l){var u=s.dataByAxis||[],c=t[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&J(u,function(h,d){var v=f[d]||{},g=h.seriesDataIndices||[],y=v.seriesDataIndices||[];o=o&&h.value===v.value&&h.axisType===v.axisType&&h.axisId===v.axisId&&g.length===y.length,o&&J(g,function(x,b){var T=y[b];o=o&&x.seriesIndex===T.seriesIndex&&x.dataIndex===T.dataIndex}),a&&J(h.seriesDataIndices,function(x){var b=x.seriesIndex,T=r[b],M=a[b];T&&M&&M.data!==T.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!o},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){Dn.node||!r.getDom()||(D2(this,"_updatePosition"),this._tooltipContent.dispose(),U4("itemTooltip",r))},e.type="tooltip",e})(Rr);function Hb(n,e,t){var r=e.ecModel,i;t?(i=new Tn(t,r,r),i=new Tn(e.option,i,r)):i=e;for(var a=n.length-1;a>=0;a--){var o=n[a];o&&(o instanceof Tn&&(o=o.get("tooltip",!0)),vt(o)&&(o={formatter:o}),o&&(i=new Tn(o,i,r)))}return i}function nX(n,e){return n.dispatchAction||mt(e.dispatchAction,e)}function gUe(n,e,t,r,i,a,o){var s=t.getSize(),l=s[0],u=s[1];return a!=null&&(n+l+a+2>r?n-=l+a:n+=a),o!=null&&(e+u+o>i?e-=u+o:e+=o),[n,e]}function mUe(n,e,t,r,i){var a=t.getSize(),o=a[0],s=a[1];return n=Math.min(n+o,r)-o,e=Math.min(e+s,i)-s,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function yUe(n,e,t,r){var i=t[0],a=t[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,c=e.height;switch(n){case"inside":s=e.x+u/2-i/2,l=e.y+c/2-a/2;break;case"top":s=e.x+u/2-i/2,l=e.y-a-o;break;case"bottom":s=e.x+u/2-i/2,l=e.y+c+o;break;case"left":s=e.x-i-o,l=e.y+c/2-a/2;break;case"right":s=e.x+u+o,l=e.y+c/2-a/2}return[s,l]}function rX(n){return n==="center"||n==="middle"}function xUe(n,e,t){var r=Ek(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=s_(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=t.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=Xt(u).tooltipConfig;if(c&&c.name===n.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function _Ue(n){fn(Iw),n.registerComponentModel(nUe),n.registerComponentView(vUe),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Mi),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Mi)}var bUe=["rect","polygon","keep","clear"];function SUe(n,e){var t=Nr(n?n.brush:[]);if(t.length){var r=[];J(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var i=n&&n.toolbox;Ke(i)&&(i=i[0]),i||(i={feature:{}},n.toolbox=[i]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),wUe(s),e&&!s.length&&s.push.apply(s,bUe)}}function wUe(n){var e={};J(n,function(t){e[t]=1}),n.length=0,J(e,function(t,r){n.push(r)})}var iX=J;function aX(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function q4(n,e,t){var r={};return iX(e,function(a){var o=r[a]=i();iX(n[a],function(s,l){if(Aa.isValidType(l)){var u={type:l,visual:s};t&&t(u,a),o[l]=new Aa(u),l==="opacity"&&(u=Pt(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new Aa(u))}})}),r;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function sae(n,e,t){var r;J(t,function(i){e.hasOwnProperty(i)&&aX(e[i])&&(r=!0)}),r&&J(t,function(i){e.hasOwnProperty(i)&&aX(e[i])?n[i]=Pt(e[i]):delete n[i]})}function TUe(n,e,t,r,i,a){var o={};J(n,function(f){var h=Aa.prepareVisualTypes(e[f]);o[f]=h});var s;function l(f){return gB(t,s,f)}function u(f,h){ite(t,s,f,h)}t.each(c);function c(f,h){s=f;var d=t.getRawDataItem(s);if(!(d&&d.visualMap===!1))for(var v=r.call(i,f),g=e[v],y=o[v],x=0,b=y.length;x<b;x++){var T=y[x];g[T]&&g[T].applyVisual(f,l,u)}}}function MUe(n,e,t,r){var i={};return J(n,function(a){var o=Aa.prepareVisualTypes(e[a]);i[a]=o}),{progress:function(o,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(C){return gB(s,f,C)}function c(C,D){ite(s,f,C,D)}for(var f,h=s.getStore();(f=o.next())!=null;){var d=s.getRawDataItem(f);if(!(d&&d.visualMap===!1))for(var v=r!=null?h.get(l,f):f,g=t(v),y=e[g],x=i[g],b=0,T=x.length;b<T;b++){var M=x[b];y[M]&&y[M].applyVisual(v,u,c)}}}}}function AUe(n){var e=n.brushType,t={point:function(r){return oX[e].point(r,t,n)},rect:function(r){return oX[e].rect(r,t,n)}};return t}var oX={lineX:sX(0),lineY:sX(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&Bg(t.range,n[0],n[1])},rect:function(n,e,t){var r=t.range;if(!n||r.length<=1)return!1;var i=n.x,a=n.y,o=n.width,s=n.height,l=r[0];if(Bg(r,i,a)||Bg(r,i+o,a)||Bg(r,i,a+s)||Bg(r,i+o,a+s)||Wt.create(n).contain(l[0],l[1])||iS(i,a,i+o,a,r)||iS(i,a,i,a+s,r)||iS(i+o,a,i+o,a+s,r)||iS(i,a+s,i+o,a+s,r))return!0}}};function sX(n){var e=["x","y"],t=["width","height"];return{point:function(r,i,a){if(r){var o=a.range,s=r[n];return jb(s,o)}},rect:function(r,i,a){if(r){var o=a.range,s=[r[e[n]],r[e[n]]+r[t[n]]];return s[1]<s[0]&&s.reverse(),jb(s[0],o)||jb(s[1],o)||jb(o[0],s)||jb(o[1],s)}}}}function jb(n,e){return e[0]<=n&&n<=e[1]}var lX=["inBrush","outOfBrush"],e5="__ecBrushSelect",Z4="__ecInBrushSelectEvent";function lae(n){n.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new kU(e.option,n);t.setInputRanges(e.areas,n)})}function CUe(n,e,t){var r=[],i,a;n.eachComponent({mainType:"brush"},function(o){t&&t.type==="takeGlobalCursor"&&o.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),lae(n),n.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:Pt(o.areas),selected:[]};r.push(l);var u=o.option,c=u.brushLink,f=[],h=[],d=[],v=!1;s||(i=u.throttleType,a=u.throttleDelay);var g=$e(o.areas,function(C){var D=RUe[C.brushType],R=Vt({boundingRect:D?D(C):void 0},C);return R.selectors=AUe(R),R}),y=q4(o.option,lX,function(C){C.mappingMethod="fixed"});Ke(c)&&J(c,function(C){f[C]=1});function x(C){return c==="all"||!!f[C]}function b(C){return!!C.length}n.eachSeries(function(C,D){var R=d[D]=[];C.subType==="parallel"?T(C,D):M(C,D,R)});function T(C,D){var R=C.coordinateSystem;v=v||R.hasAxisBrushed(),x(D)&&R.eachActiveState(C.getData(),function(I,L){I==="active"&&(h[L]=1)})}function M(C,D,R){if(!(!C.brushSelector||NUe(o,D))&&(J(g,function(L){o.brushTargetManager.controlSeries(L,C,n)&&R.push(L),v=v||b(R)}),x(D)&&b(R))){var I=C.getData();I.each(function(L){uX(C,R,I,L)&&(h[L]=1)})}}n.eachSeries(function(C,D){var R={seriesId:C.id,seriesIndex:D,seriesName:C.name,dataIndex:[]};l.selected.push(R);var I=d[D],L=C.getData(),O=x(D)?function(B){return h[B]?(R.dataIndex.push(L.getRawIndex(B)),"inBrush"):"outOfBrush"}:function(B){return uX(C,I,L,B)?(R.dataIndex.push(L.getRawIndex(B)),"inBrush"):"outOfBrush"};(x(D)?v:b(I))&&TUe(lX,y,L,O)})}),EUe(e,i,a,r,t)}function EUe(n,e,t,r,i){if(i){var a=n.getZr();if(!a[Z4]){a[e5]||(a[e5]=DUe);var o=y_(a,e5,t,e);o(n,r)}}}function DUe(n,e){if(!n.isDisposed()){var t=n.getZr();t[Z4]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[Z4]=!1}}function uX(n,e,t,r){for(var i=0,a=e.length;i<a;i++){var o=e[i];if(n.brushSelector(r,t,o.selectors,o))return!0}}function NUe(n,e){var t=n.option.seriesIndex;return t!=null&&t!=="all"&&(Ke(t)?on(t,e)<0:e!==t)}var RUe={rect:function(n){return cX(n.range)},polygon:function(n){for(var e,t=n.range,r=0,i=t.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=t[r];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&cX(e)}};function cX(n){return new Wt(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var LUe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r,this.model,(this._brushController=new lU(r.getZr())).on("brush",mt(this._onBrush,this)).mount()},e.prototype.render=function(t,r,i,a){this.model=t,this._updateController(t,r,i,a)},e.prototype.updateTransform=function(t,r,i,a){lae(r),this._updateController(t,r,i,a)},e.prototype.updateVisual=function(t,r,i,a){this.updateTransform(t,r,i,a)},e.prototype.updateView=function(t,r,i,a){this._updateController(t,r,i,a)},e.prototype._updateController=function(t,r,i,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:Pt(i),$from:r}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:Pt(i),$from:r})},e.type="brush",e})(Rr),IUe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&sae(i,t,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:this.option.defaultOutOfBrushColor},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=$e(t,function(r){return fX(this.option,r)},this))},e.prototype.setBrushOption=function(t){this.brushOption=fX(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:De.color.backgroundTint,borderColor:De.color.borderTint},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4,defaultOutOfBrushColor:De.color.disabled},e})(bn);function fX(n,e){return sn({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Tn(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}var OUe=["rect","polygon","lineX","lineY","keep","clear"],PUe=(function(n){Oe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i){var a,o,s;r.eachComponent({mainType:"brush"},function(l){a=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=o,J(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===a)?"emphasis":"normal")})},e.prototype.updateView=function(t,r,i){this.render(t,r,i)},e.prototype.getIcons=function(){var t=this.model,r=t.get("icon",!0),i={};return J(t.get("type",!0),function(a){r[a]&&(i[a]=r[a])}),i},e.prototype.onclick=function(t,r,i){var a=this._brushType,o=this._brushMode;i==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?o==="multiple"?"single":"multiple":o}})},e.getDefaultOption=function(t){var r={show:!0,type:OUe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return r},e})(Zl);function zUe(n){n.registerComponentView(LUe),n.registerComponentModel(IUe),n.registerPreprocessor(SUe),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,CUe),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Mi),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Mi),qy("brush",PUe)}var kUe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:"center",top:De.size.m,backgroundColor:De.color.transparent,borderColor:De.color.primary,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:De.color.primary},subtextStyle:{fontSize:12,color:De.color.quaternary}},e})(bn),BUe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),u=At(t.get("textBaseline"),t.get("textVerticalAlign")),c=new On({style:Dr(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),h=t.get("subtext"),d=new On({style:Dr(s,{text:h,fill:s.getTextColor(),y:f.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=t.get("link"),g=t.get("sublink"),y=t.get("triggerEvent",!0);c.silent=!v&&!y,d.silent=!g&&!y,v&&c.on("click",function(){p3(v,"_"+t.get("target"))}),g&&d.on("click",function(){p3(g,"_"+t.get("subtarget"))}),Xt(c).eventData=Xt(d).eventData=y?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(c),h&&a.add(d);var x=a.getBoundingRect(),b=t.getBoxLayoutParams();b.width=x.width,b.height=x.height;var T=ha(t,i),M=Kr(b,T.refContainer,t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?M.x+=M.width:l==="center"&&(M.x+=M.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?M.y+=M.height:u==="middle"&&(M.y+=M.height/2),u=u||"top"),a.x=M.x,a.y=M.y,a.markRedraw();var C={align:l,verticalAlign:u};c.setStyle(C),d.setStyle(C),x=a.getBoundingRect();var D=M.margin,R=t.getItemStyle(["color","opacity"]);R.fill=t.get("backgroundColor");var I=new mn({shape:{x:x.x-D[3],y:x.y-D[0],width:x.width+D[1]+D[3],height:x.height+D[0]+D[2],r:t.get("borderRadius")},style:R,subPixelOptimize:!0,silent:!0});a.add(I)}},e.type="title",e})(Rr);function UUe(n){n.registerComponentModel(kUe),n.registerComponentView(BUe)}var hX=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],i=t.axisType,a=this._names=[],o;i==="category"?(o=[],J(r,function(u,c){var f=ua(o_(u),""),h;Ft(u)?(h=Pt(u),h.value=c):h=c,o.push(h),a.push(f)})):o=r;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Uo([{name:"value",type:s}],this);l.initData(o,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:De.size.m,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:De.color.secondary},data:[]},e})(bn),uae=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Yp(hX.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:De.color.border,borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:De.color.accent10},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:De.color.tertiary},itemStyle:{color:De.color.accent20,borderWidth:0},checkpointStyle:{symbol:"circle",symbolSize:15,color:De.color.accent50,borderColor:De.color.accent50,borderWidth:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10.6699C11.5 9.90014 12.3333 9.41887 13 9.80371L20.5 14.1338C21.1667 14.5187 21.1667 15.4813 20.5 15.8662L13 20.1963C12.3333 20.5811 11.5 20.0999 11.5 19.3301V10.6699Z",stopIcon:"path://M15 0C23.2843 0 30 6.71573 30 15C30 23.2843 23.2843 30 15 30C6.71573 30 0 23.2843 0 15C0 6.71573 6.71573 0 15 0ZM15 3C8.37258 3 3 8.37258 3 15C3 21.6274 8.37258 27 15 27C21.6274 27 27 21.6274 27 15C27 8.37258 21.6274 3 15 3ZM11.5 10C12.3284 10 13 10.6716 13 11.5V18.5C13 19.3284 12.3284 20 11.5 20C10.6716 20 10 19.3284 10 18.5V11.5C10 10.6716 10.6716 10 11.5 10ZM18.5 10C19.3284 10 20 10.6716 20 11.5V18.5C20 19.3284 19.3284 20 18.5 20C17.6716 20 17 19.3284 17 18.5V11.5C17 10.6716 17.6716 10 18.5 10Z",nextIcon:"path://M0.838834 18.7383C0.253048 18.1525 0.253048 17.2028 0.838834 16.617L7.55635 9.89949L0.838834 3.18198C0.253048 2.59619 0.253048 1.64645 0.838834 1.06066C1.42462 0.474874 2.37437 0.474874 2.96015 1.06066L10.7383 8.83883L10.8412 8.95277C11.2897 9.50267 11.2897 10.2963 10.8412 10.8462L10.7383 10.9602L2.96015 18.7383C2.37437 19.3241 1.42462 19.3241 0.838834 18.7383Z",prevIcon:"path://M10.9602 1.06066C11.5459 1.64645 11.5459 2.59619 10.9602 3.18198L4.24264 9.89949L10.9602 16.617C11.5459 17.2028 11.5459 18.1525 10.9602 18.7383C10.3744 19.3241 9.42462 19.3241 8.83883 18.7383L1.06066 10.9602L0.957771 10.8462C0.509245 10.2963 0.509245 9.50267 0.957771 8.95277L1.06066 8.83883L8.83883 1.06066C9.42462 0.474874 10.3744 0.474874 10.9602 1.06066Z",prevBtnSize:18,nextBtnSize:18,color:De.color.accent50,borderColor:De.color.accent50,borderWidth:0},emphasis:{label:{show:!0,color:De.color.accent60},itemStyle:{color:De.color.accent60,borderColor:De.color.accent60},controlStyle:{color:De.color.accent70,borderColor:De.color.accent70}},progress:{lineStyle:{color:De.color.accent30},itemStyle:{color:De.color.accent40}},data:[]}),e})(hX);Ci(uae,bN.prototype);var VUe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e})(Rr),FUe=(function(n){Oe(e,n);function e(t,r,i,a){var o=n.call(this,t,r,i)||this;return o.type=a||"value",o}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e})(su),t5=Math.PI,dX=Sn(),GUe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,i){if(this.model=t,this.api=i,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,i),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return ea("nameValue",{noName:!0,value:c})},J(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,o,l,t)},this),this._renderAxisLabel(a,s,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var i=t.get(["label","position"]),a=t.get("orient"),o=jUe(t,r),s;i==null||i==="auto"?s=a==="horizontal"?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":vt(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:s=i;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:t5/2},f=a==="vertical"?o.height:o.width,h=t.getModel("controlStyle"),d=h.get("show",!0),v=d?h.get("itemSize"):0,g=d?h.get("itemGap"):0,y=v+g,x=t.get(["label","rotate"])||0;x=x*t5/180;var b,T,M,C=h.get("position",!0),D=d&&h.get("showPlayBtn",!0),R=d&&h.get("showPrevBtn",!0),I=d&&h.get("showNextBtn",!0),L=0,O=f;C==="left"||C==="bottom"?(D&&(b=[0,0],L+=y),R&&(T=[L,0],L+=y),I&&(M=[O-v,0],O-=y)):(D&&(b=[O-v,0],O-=y),R&&(T=[0,0],L+=y),I&&(M=[O-v,0],O-=y));var B=[L,O];return t.get("inverse")&&B.reverse(),{viewRect:o,mainLength:f,orient:a,rotation:c[a],labelRotation:x,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[a],playPosition:b,prevBtnPosition:T,nextBtnPosition:M,axisExtent:B,controlSize:v,controlGap:g}},e.prototype._position=function(t,r){var i=this._mainGroup,a=this._labelGroup,o=t.viewRect;if(t.orient==="vertical"){var s=Ma(),l=o.x,u=o.y+o.height;$u(s,s,[-l,-u]),Zh(s,s,-t5/2),$u(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=b(o),f=b(i.getBoundingRect()),h=b(a.getBoundingRect()),d=[i.x,i.y],v=[a.x,a.y];v[0]=d[0]=c[0][0];var g=t.labelPosOpt;if(g==null||vt(g)){var y=g==="+"?0:1;T(d,f,c,1,y),T(v,h,c,1,1-y)}else{var y=g>=0?0:1;T(d,f,c,1,y),v[1]=d[1]+g}i.setPosition(d),a.setPosition(v),i.rotation=a.rotation=t.rotation,x(i),x(a);function x(M){M.originX=c[0][0]-M.x,M.originY=c[1][0]-M.y}function b(M){return[[M.x,M.x+M.width],[M.y,M.y+M.height]]}function T(M,C,D,R,I){M[R]+=D[R][I]-C[R][I]}},e.prototype._createAxis=function(t,r){var i=r.getData(),a=r.get("axisType"),o=HUe(r,a);o.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new FUe("value",o,t.axisExtent,a);return l.model=r,l},e.prototype._createGroup=function(t){var r=this[t]=new zt;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,i,a){var o=i.getExtent();if(a.get(["lineStyle","show"])){var s=new Bi({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:je({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new Bi({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:Vt({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(t,r,i,a){var o=this,s=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],J(l,function(u){var c=i.dataToCoord(u.value),f=s.getItemModel(u.value),h=f.getModel("itemStyle"),d=f.getModel(["emphasis","itemStyle"]),v=f.getModel(["progress","itemStyle"]),g={x:c,y:0,onclick:mt(o._changeTimeline,o,u.value)},y=pX(f,h,r,g);y.ensureState("emphasis").style=d.getItemStyle(),y.ensureState("progress").style=v.getItemStyle(),Sp(y);var x=Xt(y);f.get("tooltip")?(x.dataIndex=u.value,x.dataModel=a):x.dataIndex=x.dataModel=null,o._tickSymbols.push(y)})},e.prototype._renderAxisLabel=function(t,r,i,a){var o=this,s=i.getLabelModel();if(s.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],J(u,function(c){var f=c.tickValue,h=l.getItemModel(f),d=h.getModel("label"),v=h.getModel(["emphasis","label"]),g=h.getModel(["progress","label"]),y=i.dataToCoord(c.tickValue),x=new On({x:y,y:0,rotation:t.labelRotation-t.rotation,onclick:mt(o._changeTimeline,o,f),silent:!1,style:Dr(d,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});x.ensureState("emphasis").style=Dr(v),x.ensureState("progress").style=Dr(g),r.add(x),Sp(x),dX(x).dataIndex=f,o._tickLabels.push(x)})}},e.prototype._renderControl=function(t,r,i,a){var o=t.controlSize,s=t.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);h(t.nextBtnPosition,"next",mt(this._changeTimeline,this,f?"-":"+")),h(t.prevBtnPosition,"prev",mt(this._changeTimeline,this,f?"+":"-")),h(t.playPosition,c?"stop":"play",mt(this._handlePlayClick,this,!c),!0);function h(d,v,g,y){if(d){var x=ec(At(a.get(["controlStyle",v+"BtnSize"]),o),o),b=[0,-x/2,x,x],T=WUe(a,v+"Icon",b,{x:d[0],y:d[1],originX:o/2,originY:0,rotation:y?-s:0,rectHover:!0,style:l,onclick:g});T.ensureState("emphasis").style=u,r.add(T),Sp(T)}}},e.prototype._renderCurrentPointer=function(t,r,i,a){var o=a.getData(),s=a.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=mt(u._handlePointerDrag,u),f.ondragend=mt(u._handlePointerDragend,u),vX(f,u._progressLine,s,i,a,!0)},onUpdate:function(f){vX(f,u._progressLine,s,i,a)}};this._currentPointer=pX(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var i=this._toAxisCoord(t)[0],a=this._axis,o=sl(a.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return qu(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),i=1/0,a,o=this._axis;return r.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-t);c<i&&(i=c,a=l)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",a<t);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",dX(i[a]).dataIndex<=t)},e.type="timeline.slider",e})(VUe);function HUe(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new Ux({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new LB({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new Xh}}function jUe(n,e){return Kr(n.getBoxLayoutParams(),ha(n,e).refContainer,n.get("padding"))}function WUe(n,e,t,r){var i=r.style,a=h_(n.get(["controlStyle",e]),r||{},new Wt(t[0],t[1],t[2],t[3]));return i&&a.setStyle(i),a}function pX(n,e,t,r,i,a){var o=e.get("color");if(i)i.setColor(o),t.add(i),a&&a.onUpdate(i);else{var s=n.get("symbol");i=Vi(s,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),t.add(i),a&&a.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),r=sn({rectHover:!0,z2:100},r,!0);var u=x_(n.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=Pm(n.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var f=n.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function vX(n,e,t,r,i,a){if(!n.dragging){var o=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",t));if(a||!o.get("animation",!0))n.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}function YUe(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Vt({currentIndex:i.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function XUe(n){var e=n&&n.timeline;Ke(e)||(e=e?[e]:[]),J(e,function(t){t&&qUe(t)})}function qUe(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),gX(n),Fg(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});Fg(r,"position")||(r.position=n.controlPosition),r.position==="none"&&!Fg(r,"show")&&(r.show=!1,delete r.position),delete n.controlPosition}J(n.data||[],function(i){Ft(i)&&!Ke(i)&&(!Fg(i,"value")&&Fg(i,"name")&&(i.value=i.name),gX(i))})}function gX(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=n.label||n.label||{},i=r.normal||(r.normal={}),a={normal:1,emphasis:1};J(r,function(o,s){!a[s]&&!Fg(i,s)&&(i[s]=o)}),t.label&&!Fg(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function Fg(n,e){return n.hasOwnProperty(e)}function ZUe(n){n.registerComponentModel(uae),n.registerComponentView(GUe),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),YUe(n),n.registerPreprocessor(XUe)}function VU(n,e){if(!n)return!1;for(var t=Ke(n)?n:[n],r=0;r<t.length;r++)if(t[r]&&t[r][e])return!0;return!1}function lC(n){vm(n,"label",["show"])}var uC=Sn(),xf=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t.preventAutoZ=!0,t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Dn.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},e.prototype._mergeOption=function(t,r,i,a){var o=this.mainType;i||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=uC(s)[o];if(!l||!l.data){uC(s)[o]=null;return}u?u._mergeOption(l,r,!0):(a&&lC(l),J(l.data,function(c){c instanceof Array?(lC(c[0]),lC(c[1])):lC(c)}),u=this.createMarkerModelFromSeries(l,this,r),je(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),uC(s)[o]=u},this)},e.prototype.formatTooltip=function(t,r,i){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return ea("section",{header:this.name,blocks:[ea("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.prototype.getDataParams=function(t,r){var i=bN.prototype.getDataParams.call(this,t,r),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},e.getMarkerModelFromSeries=function(t,r){return uC(t)[r]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(bn);Ci(xf,bN.prototype);var KUe=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e})(xf);function K4(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function JUe(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function cC(n,e,t,r,i,a,o){var s=[],l=Yh(e,i),u=l?e.getCalculationInfo("stackResultDimension"):i,c=Z3(e,u,n),f=e.hostModel,h=f.indicesOfNearest(t,u,c)[0];s[a]=e.get(r,h),s[o]=e.get(u,h);var d=e.get(i,h),v=Hu(e.get(i,h));return v=Math.min(v,20),v>=0&&(s[o]=+s[o].toFixed(v)),[s,d]}var fC={min:tn(cC,"min"),max:tn(cC,"max"),average:tn(cC,"average"),median:tn(cC,"median")};function W2(n,e){if(e){var t=n.getData(),r=n.coordinateSystem,i=r&&r.dimensions;if(!JUe(e)&&!Ke(e.coord)&&Ke(i)){var a=cae(e,t,r,n);if(e=Pt(e),e.type&&fC[e.type]&&a.baseAxis&&a.valueAxis){var o=on(i,a.baseAxis.dim),s=on(i,a.valueAxis.dim),l=fC[e.type](t,a.valueAxis.dim,a.baseDataDim,a.valueDataDim,o,s);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!Ke(i)){e.coord=[];var u=n.getBaseAxis();if(u&&e.type&&fC[e.type]){var c=r.getOtherAxis(u);c&&(e.value=Z3(t,t.mapDimension(c.dim),e.type))}}else for(var f=e.coord,h=0;h<2;h++)fC[f[h]]&&(f[h]=Z3(t,t.mapDimension(i[h]),f[h]));return e}}function cae(n,e,t,r){var i={};return n.valueIndex!=null||n.valueDim!=null?(i.valueDataDim=n.valueIndex!=null?e.getDimension(n.valueIndex):n.valueDim,i.valueAxis=t.getAxis(QUe(r,i.valueDataDim)),i.baseAxis=t.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=t.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function QUe(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}function Y2(n,e){return n&&n.containData&&e.coord&&!K4(e)?n.containData(e.coord):!0}function $Ue(n,e,t){return n&&n.containZone&&e.coord&&t.coord&&!K4(e)&&!K4(t)?n.containZone(e.coord,t.coord):!0}function fae(n,e){return n?function(t,r,i,a){var o=a<2?t.coord&&t.coord[a]:t.value;return Mp(o,e[a])}:function(t,r,i,a){return Mp(t.value,e[a])}}function Z3(n,e,t){if(t==="average"){var r=0,i=0;return n.each(e,function(a,o){isNaN(a)||(r+=a,i++)}),r/i}else return t==="median"?n.getMedian(e):n.getDataExtent(e)[t==="max"?1:0]}var n5=Sn(),FU=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=Tt()},e.prototype.render=function(t,r,i){var a=this,o=this.markerGroupMap;o.each(function(s){n5(s).keep=!1}),r.eachSeries(function(s){var l=xf.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,r,i)}),o.each(function(s){!n5(s).keep&&a.group.remove(s.group)}),e6e(r,o,this.type)},e.prototype.markKeep=function(t){n5(t).keep=!0},e.prototype.toggleBlurSeries=function(t,r){var i=this;J(t,function(a){var o=xf.getMarkerModelFromSeries(a,i.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(r?A$(l):zk(l))})}})},e.type="marker",e})(Rr);function e6e(n,e,t){n.eachSeries(function(r){var i=xf.getMarkerModelFromSeries(r,t),a=e.get(r.id);if(i&&a&&a.group){var o=_m(i),s=o.z,l=o.zlevel;mN(a.group,s,l)}})}function mX(n,e,t){var r=e.coordinateSystem,i=t.getWidth(),a=t.getHeight(),o=r&&r.getArea&&r.getArea();n.each(function(s){var l=n.getItemModel(s),u=l.get("relativeTo")==="coordinate",c=u?o?o.width:0:i,f=u?o?o.height:0:a,h=u&&o?o.x:0,d=u&&o?o.y:0,v,g=pt(l.get("x"),c)+h,y=pt(l.get("y"),f)+d;if(!isNaN(g)&&!isNaN(y))v=[g,y];else if(e.getMarkerPosition)v=e.getMarkerPosition(n.getValues(n.dimensions,s));else if(r){var x=n.get(r.dimensions[0],s),b=n.get(r.dimensions[1],s);v=r.dataToPoint([x,b])}isNaN(g)||(v[0]=g),isNaN(y)||(v[1]=y),n.setItemLayout(s,v)})}var t6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var o=xf.getMarkerModelFromSeries(a,"markPoint");o&&(mX(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(t,r,i,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new Dw),f=n6e(o,t,r);r.setData(f),mX(r.getData(),t,a),f.each(function(h){var d=f.getItemModel(h),v=d.getShallow("symbol"),g=d.getShallow("symbolSize"),y=d.getShallow("symbolRotate"),x=d.getShallow("symbolOffset"),b=d.getShallow("symbolKeepAspect");if(Nt(v)||Nt(g)||Nt(y)||Nt(x)){var T=r.getRawValue(h),M=r.getDataParams(h);Nt(v)&&(v=v(T,M)),Nt(g)&&(g=g(T,M)),Nt(y)&&(y=y(T,M)),Nt(x)&&(x=x(T,M))}var C=d.getModel("itemStyle").getItemStyle(),D=d.get("z2"),R=Aw(l,"color");C.fill||(C.fill=R),f.setItemVisual(h,{z2:At(D,0),symbol:v,symbolSize:g,symbolRotate:y,symbolOffset:x,symbolKeepAspect:b,style:C})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(h){h.traverse(function(d){Xt(d).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||t.get("silent")},e.type="markPoint",e})(FU);function n6e(n,e,t){var r;n?r=$e(n&&n.dimensions,function(s){var l=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return je(je({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Uo(r,t),a=$e(t.get("data"),tn(W2,e));n&&(a=Zn(a,tn(Y2,n)));var o=fae(!!n,r);return i.initData(a,null,o),i}function r6e(n){n.registerComponentModel(KUe),n.registerComponentView(t6e),n.registerPreprocessor(function(e){VU(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var i6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e})(xf),hC=Sn(),a6e=function(n,e,t,r){var i=n.getData(),a;if(Ke(r))a=r;else{var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=e.getAxis(r.yAxis!=null?"y":"x"),l=Ya(r.yAxis,r.xAxis);else{var u=cae(r,i,e,n);s=u.valueAxis;var c=DB(i,u.valueDataDim);l=Z3(i,c,o)}var f=s.dim==="x"?0:1,h=1-f,d=Pt(r),v={coord:[]};d.type=null,d.coord=[],d.coord[h]=-1/0,v.coord[h]=1/0;var g=t.get("precision");g>=0&&Pn(l)&&(l=+l.toFixed(Math.min(g,20))),d.coord[f]=v.coord[f]=l,a=[d,v,{type:o,valueIndex:r.valueIndex,value:l}]}else a=[]}var y=[W2(n,a[0]),W2(n,a[1]),je({},a[2])];return y[2].type=y[2].type||null,sn(y[2],y[0]),sn(y[2],y[1]),y};function K3(n){return!isNaN(n)&&!isFinite(n)}function yX(n,e,t,r){var i=1-n,a=r.dimensions[n];return K3(e[i])&&K3(t[i])&&e[n]===t[n]&&r.getAxis(a).containData(e[n])}function o6e(n,e){if(n.type==="cartesian2d"){var t=e[0].coord,r=e[1].coord;if(t&&r&&(yX(1,t,r,n)||yX(0,t,r,n)))return!0}return Y2(n,e[0])&&Y2(n,e[1])}function r5(n,e,t,r,i){var a=r.coordinateSystem,o=n.getItemModel(e),s,l=pt(o.get("x"),i.getWidth()),u=pt(o.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(n.getValues(n.dimensions,e));else{var c=a.dimensions,f=n.get(c[0],e),h=n.get(c[1],e);s=a.dataToPoint([f,h])}if(Op(a,"cartesian2d")){var d=a.getAxis("x"),v=a.getAxis("y"),c=a.dimensions;K3(n.get(c[0],e))?s[0]=d.toGlobalCoord(d.getExtent()[t?0:1]):K3(n.get(c[1],e))&&(s[1]=v.toGlobalCoord(v.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}n.setItemLayout(e,s)}var s6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var o=xf.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),l=hC(o).from,u=hC(o).to;l.each(function(c){r5(l,c,!0,a,i),r5(u,c,!1,a,i)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,r,i,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new oU);this.group.add(c.group);var f=l6e(o,t,r),h=f.from,d=f.to,v=f.line;hC(r).from=h,hC(r).to=d,r.setData(v);var g=r.get("symbol"),y=r.get("symbolSize"),x=r.get("symbolRotate"),b=r.get("symbolOffset");Ke(g)||(g=[g,g]),Ke(y)||(y=[y,y]),Ke(x)||(x=[x,x]),Ke(b)||(b=[b,b]),f.from.each(function(M){T(h,M,!0),T(d,M,!1)}),v.each(function(M){var C=v.getItemModel(M),D=C.getModel("lineStyle").getLineStyle();v.setItemLayout(M,[h.getItemLayout(M),d.getItemLayout(M)]);var R=C.get("z2");D.stroke==null&&(D.stroke=h.getItemVisual(M,"style").fill),v.setItemVisual(M,{z2:At(R,0),fromSymbolKeepAspect:h.getItemVisual(M,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(M,"symbolOffset"),fromSymbolRotate:h.getItemVisual(M,"symbolRotate"),fromSymbolSize:h.getItemVisual(M,"symbolSize"),fromSymbol:h.getItemVisual(M,"symbol"),toSymbolKeepAspect:d.getItemVisual(M,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(M,"symbolOffset"),toSymbolRotate:d.getItemVisual(M,"symbolRotate"),toSymbolSize:d.getItemVisual(M,"symbolSize"),toSymbol:d.getItemVisual(M,"symbol"),style:D})}),c.updateData(v),f.line.eachItemGraphicEl(function(M){Xt(M).dataModel=r,M.traverse(function(C){Xt(C).dataModel=r})});function T(M,C,D){var R=M.getItemModel(C);r5(M,C,D,t,a);var I=R.getModel("itemStyle").getItemStyle();I.fill==null&&(I.fill=Aw(l,"color")),M.setItemVisual(C,{symbolKeepAspect:R.get("symbolKeepAspect"),symbolOffset:At(R.get("symbolOffset",!0),b[D?0:1]),symbolRotate:At(R.get("symbolRotate",!0),x[D?0:1]),symbolSize:At(R.get("symbolSize"),y[D?0:1]),symbol:At(R.get("symbol",!0),g[D?0:1]),style:I})}this.markKeep(c),c.group.silent=r.get("silent")||t.get("silent")},e.type="markLine",e})(FU);function l6e(n,e,t){var r;n?r=$e(n&&n.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return je(je({},c),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Uo(r,t),a=new Uo(r,t),o=new Uo([],t),s=$e(t.get("data"),tn(a6e,e,n,t));n&&(s=Zn(s,tn(o6e,n)));var l=fae(!!n,r);return i.initData($e(s,function(u){return u[0]}),null,l),a.initData($e(s,function(u){return u[1]}),null,l),o.initData($e(s,function(u){return u[2]})),o.hasItemOption=!0,{from:i,to:a,line:o}}function u6e(n){n.registerComponentModel(i6e),n.registerComponentView(s6e),n.registerPreprocessor(function(e){VU(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var c6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,r,i){return new e(t,r,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(xf),dC=Sn(),f6e=function(n,e,t,r){var i=r[0],a=r[1];if(!(!i||!a)){var o=W2(n,i),s=W2(n,a),l=o.coord,u=s.coord;l[0]=Ya(l[0],-1/0),l[1]=Ya(l[1],-1/0),u[0]=Ya(u[0],1/0),u[1]=Ya(u[1],1/0);var c=eN([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function J3(n){return!isNaN(n)&&!isFinite(n)}function xX(n,e,t,r){var i=1-n;return J3(e[i])&&J3(t[i])}function h6e(n,e){var t=e.coord[0],r=e.coord[1],i={coord:t,x:e.x0,y:e.y0},a={coord:r,x:e.x1,y:e.y1};return Op(n,"cartesian2d")?t&&r&&(xX(1,t,r)||xX(0,t,r))?!0:$Ue(n,i,a):Y2(n,i)||Y2(n,a)}function _X(n,e,t,r,i){var a=r.coordinateSystem,o=n.getItemModel(e),s,l=pt(o.get(t[0]),i.getWidth()),u=pt(o.get(t[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var c=n.getValues(["x0","y0"],e),f=n.getValues(["x1","y1"],e),h=a.clampData(c),d=a.clampData(f),v=[];t[0]==="x0"?v[0]=h[0]>d[0]?f[0]:c[0]:v[0]=h[0]>d[0]?c[0]:f[0],t[1]==="y0"?v[1]=h[1]>d[1]?f[1]:c[1]:v[1]=h[1]>d[1]?c[1]:f[1],s=r.getMarkerPosition(v,t,!0)}else{var g=n.get(t[0],e),y=n.get(t[1],e),x=[g,y];a.clampData&&a.clampData(x,x),s=a.dataToPoint(x,!0)}if(Op(a,"cartesian2d")){var b=a.getAxis("x"),T=a.getAxis("y"),g=n.get(t[0],e),y=n.get(t[1],e);J3(g)?s[0]=b.toGlobalCoord(b.getExtent()[t[0]==="x0"?0:1]):J3(y)&&(s[1]=T.toGlobalCoord(T.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var bX=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],d6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,r,i){r.eachSeries(function(a){var o=xf.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(l){var u=$e(bX,function(f){return _X(s,l,f,a,i)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,r,i,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new zt});this.group.add(c.group),this.markKeep(c);var f=p6e(o,t,r);r.setData(f),f.each(function(h){var d=$e(bX,function(O){return _X(f,h,O,t,a)}),v=o.getAxis("x").scale,g=o.getAxis("y").scale,y=v.getExtent(),x=g.getExtent(),b=[v.parse(f.get("x0",h)),v.parse(f.get("x1",h))],T=[g.parse(f.get("y0",h)),g.parse(f.get("y1",h))];sl(b),sl(T);var M=!(y[0]>b[1]||y[1]<b[0]||x[0]>T[1]||x[1]<T[0]),C=!M;f.setItemLayout(h,{points:d,allClipped:C});var D=f.getItemModel(h),R=D.getModel("itemStyle").getItemStyle(),I=D.get("z2"),L=Aw(l,"color");R.fill||(R.fill=L,vt(R.fill)&&(R.fill=x2(R.fill,.4))),R.stroke||(R.stroke=L),f.setItemVisual(h,"style",R),f.setItemVisual(h,"z2",At(I,0))}),f.diff(dC(c).data).add(function(h){var d=f.getItemLayout(h),v=f.getItemVisual(h,"z2");if(!d.allClipped){var g=new fo({z2:At(v,0),shape:{points:d.points}});f.setItemGraphicEl(h,g),c.group.add(g)}}).update(function(h,d){var v=dC(c).data.getItemGraphicEl(d),g=f.getItemLayout(h),y=f.getItemVisual(h,"z2");g.allClipped?v&&c.group.remove(v):(v?Gn(v,{z2:At(y,0),shape:{points:g.points}},r,h):v=new fo({shape:{points:g.points}}),f.setItemGraphicEl(h,v),c.group.add(v))}).remove(function(h){var d=dC(c).data.getItemGraphicEl(h);c.group.remove(d)}).execute(),f.eachItemGraphicEl(function(h,d){var v=f.getItemModel(d),g=f.getItemVisual(d,"style");h.useStyle(f.getItemVisual(d,"style")),Na(h,fa(v),{labelFetcher:r,labelDataIndex:d,defaultText:f.getName(d)||"",inheritColor:vt(g.fill)?x2(g.fill,1):De.color.neutral99}),ca(h,v),ti(h,null,null,v.get(["emphasis","disabled"])),Xt(h).dataModel=r}),dC(c).data=f,c.group.silent=r.get("silent")||t.get("silent")},e.type="markArea",e})(FU);function p6e(n,e,t){var r,i,a=["x0","y0","x1","y1"];if(n){var o=$e(n&&n.dimensions,function(u){var c=e.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return je(je({},f),{name:u,ordinalMeta:null})});i=$e(a,function(u,c){return{name:u,type:o[c%2].type}}),r=new Uo(i,t)}else i=[{name:"value",type:"float"}],r=new Uo(i,t);var s=$e(t.get("data"),tn(f6e,e,n,t));n&&(s=Zn(s,tn(h6e,n)));var l=n?function(u,c,f,h){var d=u.coord[Math.floor(h/2)][h%2];return Mp(d,i[h])}:function(u,c,f,h){return Mp(u.value,i[h])};return r.initData(s,null,l),r.hasItemOption=!0,r}function v6e(n){n.registerComponentModel(c6e),n.registerComponentView(d6e),n.registerPreprocessor(function(e){VU(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var g6e=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},J4=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),Ke(r)&&J(r,function(a,o){vt(a)&&(a={type:a}),r[o]=sn(a,g6e(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,h=f.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(h)),h.length?r=r.concat(h):c=!0}else c=!0;c&&Ck(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,o=Tt(),s=$e(a,function(l){return(vt(l)||Pn(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new Tn(l,this,this.ecModel))},this);this._data=Zn(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;J(a,function(o){r[o.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;J(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;J(t,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&on(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",bottom:De.size.m,align:"auto",backgroundColor:De.color.transparent,borderColor:De.color.border,borderRadius:0,borderWidth:0,padding:5,itemGap:8,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:De.color.disabled,inactiveBorderColor:De.color.disabled,inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:De.color.disabled,inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:De.color.secondary},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:De.color.tertiary,borderWidth:1,borderColor:De.color.border},emphasis:{selectorLabel:{show:!0,color:De.color.quaternary}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1},triggerEvent:!1},e})(bn),Uy=tn,Q4=J,pC=zt,hae=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new pC),this.group.add(this._selectorGroup=new pC),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||o==="auto")&&(o=t.get("left")==="right"&&s==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,t,r,i,l,s,u);var c=ha(t,i).refContainer,f=t.getBoxLayoutParams(),h=t.get("padding"),d=Kr(f,c,h),v=this.layoutInner(t,o,d,a,l,u),g=Kr(Vt({width:v.width,height:v.height},f),c,h);this.group.x=g.x-v.x,this.group.y=g.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=eae(v,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,a,o,s,l){var u=this.getContentGroup(),c=Tt(),f=r.get("selectedMode"),h=r.get("triggerEvent"),d=[];i.eachRawSeries(function(v){!v.get("legendHoverLink")&&d.push(v.id)}),Q4(r.getData(),function(v,g){var y=this,x=v.get("name");if(!this.newlineDisabled&&(x===""||x===`
`)){var b=new pC;b.newline=!0,u.add(b);return}var T=i.getSeriesByName(x)[0];if(!c.get(x))if(T){var M=T.getData(),C=M.getVisual("legendLineStyle")||{},D=M.getVisual("legendIcon"),R=M.getVisual("style"),I=this._createItem(T,x,g,v,r,t,C,R,D,f,a);I.on("click",Uy(SX,x,null,a,d)).on("mouseover",Uy($4,T.name,null,a,d)).on("mouseout",Uy(ez,T.name,null,a,d)),i.ssr&&I.eachChild(function(L){var O=Xt(L);O.seriesIndex=T.seriesIndex,O.dataIndex=g,O.ssrType="legend"}),h&&I.eachChild(function(L){y.packEventData(L,r,T,g,x)}),c.set(x,!0)}else i.eachRawSeries(function(L){var O=this;if(!c.get(x)&&L.legendVisualProvider){var B=L.legendVisualProvider;if(!B.containName(x))return;var V=B.indexOfName(x),F=B.getItemVisual(V,"style"),k=B.getItemVisual(V,"legendIcon"),Y=Bo(F.fill);Y&&Y[3]===0&&(Y[3]=.2,F=je(je({},F),{fill:Jl(Y,"rgba")}));var H=this._createItem(L,x,g,v,r,t,{},F,k,f,a);H.on("click",Uy(SX,null,x,a,d)).on("mouseover",Uy($4,null,x,a,d)).on("mouseout",Uy(ez,null,x,a,d)),i.ssr&&H.eachChild(function(W){var q=Xt(W);q.seriesIndex=L.seriesIndex,q.dataIndex=g,q.ssrType="legend"}),h&&H.eachChild(function(W){O.packEventData(W,r,L,g,x)}),c.set(x,!0)}},this)},this),o&&this._createSelector(o,r,a,s,l)},e.prototype.packEventData=function(t,r,i,a,o){var s={componentType:"legend",componentIndex:r.componentIndex,dataIndex:a,value:o,seriesIndex:i.seriesIndex};Xt(t).eventData=s},e.prototype._createSelector=function(t,r,i,a,o){var s=this.getSelectorGroup();Q4(t,function(u){var c=u.type,f=new On({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(f);var h=r.getModel("selectorLabel"),d=r.getModel(["emphasis","selectorLabel"]);Na(f,{normal:h,emphasis:d},{defaultText:u.title}),Sp(f)})},e.prototype._createItem=function(t,r,i,a,o,s,l,u,c,f,h){var d=t.visualDrawType,v=o.get("itemWidth"),g=o.get("itemHeight"),y=o.isSelected(r),x=a.get("symbolRotate"),b=a.get("symbolKeepAspect"),T=a.get("icon");c=T||c||"roundRect";var M=m6e(c,a,l,u,d,y,h),C=new pC,D=a.getModel("textStyle");if(Nt(t.getLegendIcon)&&(!T||T==="inherit"))C.add(t.getLegendIcon({itemWidth:v,itemHeight:g,icon:c,iconRotate:x,itemStyle:M.itemStyle,lineStyle:M.lineStyle,symbolKeepAspect:b}));else{var R=T==="inherit"&&t.getData().getVisual("symbol")?x==="inherit"?t.getData().getVisual("symbolRotate"):x:0;C.add(y6e({itemWidth:v,itemHeight:g,icon:c,iconRotate:R,itemStyle:M.itemStyle,symbolKeepAspect:b}))}var I=s==="left"?v+5:-5,L=s,O=o.get("formatter"),B=r;vt(O)&&O?B=O.replace("{name}",r??""):Nt(O)&&(B=O(r));var V=y?D.getTextColor():a.get("inactiveColor");C.add(new On({style:Dr(D,{text:B,x:I,y:g/2,fill:V,align:L,verticalAlign:"middle"},{inheritColor:V})}));var F=new mn({shape:C.getBoundingRect(),style:{fill:"transparent"}}),k=a.getModel("tooltip");return k.get("show")&&Jh({el:F,componentModel:o,itemName:r,itemTooltipOption:k.option}),C.add(F),C.eachChild(function(Y){Y.silent=!0}),F.silent=!f,this.getContentGroup().add(C),Sp(C),C.__legendDataIndex=i,C},e.prototype.layoutInner=function(t,r,i,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();om(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){om("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),d=[-h.x,-h.y],v=t.get("selectorButtonGap",!0),g=t.getOrient().index,y=g===0?"width":"height",x=g===0?"height":"width",b=g===0?"y":"x";s==="end"?d[g]+=c[y]+v:f[g]+=h[y]+v,d[1-g]+=c[x]/2-h[x]/2,u.x=d[0],u.y=d[1],l.x=f[0],l.y=f[1];var T={x:0,y:0};return T[y]=c[y]+v+h[y],T[x]=Math.max(c[x],h[x]),T[b]=Math.min(0,h[b]+d[1-g]),T}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(Rr);function m6e(n,e,t,r,i,a,o){function s(y,x){y.lineWidth==="auto"&&(y.lineWidth=x.lineWidth>0?2:0),Q4(y,function(b,T){y[T]==="inherit"&&(y[T]=x[T])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=n.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:Bx(f,o),u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:t).opacity),s(u,r);var h=e.getModel("lineStyle"),d=h.getLineStyle();if(s(d,t),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),d.stroke==="auto"&&(d.stroke=r.fill),!a){var v=e.get("inactiveBorderWidth"),g=u[c];u.lineWidth=v==="auto"?r.lineWidth>0&&g?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),d.stroke=h.get("inactiveColor"),d.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:d}}function y6e(n){var e=n.icon||"roundRect",t=Vi(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill=De.color.neutral00,t.style.lineWidth=2),t}function SX(n,e,t,r){ez(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),$4(n,e,t,r)}function dae(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function $4(n,e,t,r){dae(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function ez(n,e,t,r){dae(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}function x6e(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function Wb(n,e,t){var r=n==="allSelect"||n==="inverseSelect",i={},a=[];t.eachComponent({mainType:"legend",query:e},function(s){r?s[n]():s[n](e.name),wX(s,i),a.push(s.componentIndex)});var o={};return t.eachComponent("legend",function(s){J(i,function(l,u){s[l?"select":"unSelect"](u)}),wX(s,o)}),r?{selected:o,legendIndex:a}:{name:e.name,selected:o}}function wX(n,e){var t=e||{};return J(n.getData(),function(r){var i=r.get("name");if(!(i===`
`||i==="")){var a=n.isSelected(i);St(t,i)?t[i]=t[i]&&a:t[i]=a}}),t}function _6e(n){n.registerAction("legendToggleSelect","legendselectchanged",tn(Wb,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",tn(Wb,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",tn(Wb,"inverseSelect")),n.registerAction("legendSelect","legendselected",tn(Wb,"select")),n.registerAction("legendUnSelect","legendunselected",tn(Wb,"unSelect"))}function pae(n){n.registerComponentModel(J4),n.registerComponentView(hae),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,x6e),n.registerSubTypeDefaulter("legend",function(){return"plain"}),_6e(n)}var b6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var a=Im(t);n.prototype.init.call(this,t,r,i),TX(this,t,a)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),TX(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Yp(J4.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:De.color.accent50,pageIconInactiveColor:De.color.accent10,pageIconSize:15,pageTextStyle:{color:De.color.tertiary},animationDurationUpdate:800}),e})(J4);function TX(n,e,t){var r=n.getOrient(),i=[1,1];i[r.index]=0,mf(e,t,{type:"box",ignoreSize:!!i})}var MX=zt,i5=["width","height"],a5=["x","y"],S6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new MX),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new MX)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,a,o,s,l){var u=this;n.prototype.renderInner.call(this,t,r,i,a,o,s,l);var c=this._controllerGroup,f=r.get("pageIconSize",!0),h=Ke(f)?f:[f,f];v("pagePrev",0);var d=r.getModel("pageTextStyle");c.add(new On({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(g,y){var x=g+"DataIndex",b=h_(r.get("pageIcons",!0)[r.getOrient().name][y],{onclick:mt(u._pageGo,u,x,r,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});b.name=g,c.add(b)}},e.prototype.layoutInner=function(t,r,i,a,o,s){var l=this.getSelectorGroup(),u=t.getOrient().index,c=i5[u],f=a5[u],h=i5[1-u],d=a5[1-u];o&&om("horizontal",l,t.get("selectorItemGap",!0));var v=t.get("selectorButtonGap",!0),g=l.getBoundingRect(),y=[-g.x,-g.y],x=Pt(i);o&&(x[c]=i[c]-g[c]-v);var b=this._layoutContentAndController(t,a,x,u,c,h,d,f);if(o){if(s==="end")y[u]+=b[c]+v;else{var T=g[c]+v;y[u]-=T,b[f]-=T}b[c]+=g[c]+v,y[1-u]+=b[d]+b[h]/2-g[h]/2,b[h]=Math.max(b[h],g[h]),b[d]=Math.min(b[d],g[d]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return b},e.prototype._layoutContentAndController=function(t,r,i,a,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,h=this._controllerGroup;om(t.get("orient"),c,t.get("itemGap"),a?i.width:null,a?null:i.height),om("horizontal",h,t.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),v=h.getBoundingRect(),g=this._showController=d[o]>i[o],y=[-d.x,-d.y];r||(y[a]=c[u]);var x=[0,0],b=[-v.x,-v.y],T=At(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(g){var M=t.get("pageButtonPosition",!0);M==="end"?b[a]+=i[o]-v[o]:x[a]+=v[o]+T}b[1-a]+=d[s]/2-v[s]/2,c.setPosition(y),f.setPosition(x),h.setPosition(b);var C={x:0,y:0};if(C[o]=g?i[o]:d[o],C[s]=Math.max(d[s],v[s]),C[l]=Math.min(0,v[l]+b[1-a]),f.__rectSize=i[o],g){var D={x:0,y:0};D[o]=Math.max(i[o]-v[o]-T,0),D[s]=C[s],f.setClipPath(new mn({shape:D})),f.__rectSize=D[o]}else h.eachChild(function(I){I.attr({invisible:!0,silent:!0})});var R=this._getPageInfo(t);return R.pageIndex!=null&&Gn(c,{x:R.contentPosition[0],y:R.contentPosition[1]},g?t:null),this._updatePageInfoView(t,R),C},e.prototype._pageGo=function(t,r,i){var a=this._getPageInfo(r)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;J(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",h=r[f]!=null,d=i.childOfName(c);d&&(d.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),d.cursor=h?"pointer":"default")});var a=i.childOfName("pageText"),o=t.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;a&&o&&a.setStyle("text",vt(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=i5[o],l=a5[o],u=this._findTargetItemIndex(r),c=i.children(),f=c[u],h=c.length,d=h?1:0,v={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return v;var g=M(f);v.contentPosition[o]=-g.s;for(var y=u+1,x=g,b=g,T=null;y<=h;++y)T=M(c[y]),(!T&&b.e>x.s+a||T&&!C(T,x.s))&&(b.i>x.i?x=b:x=T,x&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=x.i),++v.pageCount)),b=T;for(var y=u-1,x=g,b=g,T=null;y>=-1;--y)T=M(c[y]),(!T||!C(b,T.s))&&x.i<b.i&&(b=x,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=x.i),++v.pageCount,++v.pageIndex),x=T;return v;function M(D){if(D){var R=D.getBoundingRect(),I=R[l]+D[l];return{s:I,e:I+R[s],i:D.__legendDataIndex}}}function C(D,R){return D.e>=R&&D.s<=R+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===t&&(r=s)}),r??a},e.type="legend.scroll",e})(hae);function w6e(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function T6e(n){fn(pae),n.registerComponentModel(b6e),n.registerComponentView(S6e),w6e(n)}function M6e(n){fn(pae),fn(T6e)}var A6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Yp(j2.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})(j2),GU=Sn();function C6e(n,e,t){GU(n).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function E6e(n,e){for(var t=GU(n).coordSysRecordMap,r=t.keys(),i=0;i<r.length;i++){var a=r[i],o=t.get(a),s=o.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||vae(t,o))}}}function vae(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function D6e(n,e){var t={model:e,containsPoint:tn(R6e,e),dispatchAction:tn(N6e,n),dataZoomInfoMap:null,controller:null},r=t.controller=new km(n.getZr());return J(["pan","zoom","scrollMove"],function(i){r.on(i,function(a){var o=[];t.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&t.dispatchAction(o)})}),t}function N6e(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function R6e(n,e,t,r){return n.coordinateSystem.containPoint([t,r])}function L6e(n,e,t){var r,i="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return n.each(function(s){var l=s.model,u=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;a[i+u]>a[i+r]&&(r=u),o=o&&l.get("preventDefaultMouseMove",!0)}),{controlType:r,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o,api:t,zInfo:{component:e.model},triggerInfo:{roamTrigger:null,isInSelf:e.containsPoint}}}}function I6e(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=GU(t),i=r.coordSysRecordMap||(r.coordSysRecordMap=Tt());i.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=Jie(a);J(o.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,D6e(t,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Tt());c.set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),i.each(function(a){var o=a.controller,s,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){vae(i,a);return}var c=L6e(l,a,t);o.enable(c.controlType,c.opt),y_(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var O6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,i){if(n.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),C6e(i,t,{pan:mt(o5.pan,this),zoom:mt(o5.zoom,this),scrollMove:mt(o5.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){E6e(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(OU),o5={zoom:function(n,e,t,r){var i=this.range,a=i.slice(),o=n.axisModels[0];if(o){var s=s5[e](null,[r.originX,r.originY],o,t,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/r.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Pp(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:AX(function(n,e,t,r,i,a){var o=s5[r]([a.oldX,a.oldY],[a.newX,a.newY],e,i,t);return o.signal*(n[1]-n[0])*o.pixel/o.pixelLength}),scrollMove:AX(function(n,e,t,r,i,a){var o=s5[r]([0,0],[a.scrollDelta,a.scrollDelta],e,i,t);return o.signal*(n[1]-n[0])*a.scrollDelta})};function AX(n){return function(e,t,r,i){var a=this.range,o=a.slice(),s=e.axisModels[0];if(s){var l=n(o,s,e,t,r,i);if(Pp(l,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var s5={grid:function(n,e,t,r,i){var a=t.axis,o={},s=i.model.coordinateSystem.getRect();return n=n||[0,0],a.dim==="x"?(o.pixel=e[0]-n[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-n[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(n,e,t,r,i){var a=t.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],e=s.pointToCoord(e),t.mainType==="radiusAxis"?(o.pixel=e[0]-n[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=e[1]-n[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?-1:1),o},singleAxis:function(n,e,t,r,i){var a=t.axis,o=i.model.coordinateSystem.getRect(),s={};return n=n||[0,0],a.orient==="horizontal"?(s.pixel=e[0]-n[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};function gae(n){PU(n),n.registerComponentModel(A6e),n.registerComponentView(O6e),I6e(n)}var P6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Yp(j2.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:De.color.accent10,borderRadius:0,backgroundColor:De.color.transparent,dataBackground:{lineStyle:{color:De.color.accent30,width:.5},areaStyle:{color:De.color.accent20,opacity:.2}},selectedDataBackground:{lineStyle:{color:De.color.accent40,width:.5},areaStyle:{color:De.color.accent20,opacity:.3}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:De.color.neutral00,borderColor:De.color.accent20},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:De.color.accent40,opacity:.5},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:De.color.tertiary},brushSelect:!0,brushStyle:{color:De.color.accent30,opacity:.3},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:De.color.accent40},moveHandleStyle:{opacity:.8}},defaultLocationEdgeGap:15}),e})(j2),Yb=mn,z6e=1,l5=30,k6e=7,Xb="horizontal",CX="vertical",B6e=5,U6e=["line","bar","candlestick","scatter"],V6e={easing:"cubicOut",duration:100,delay:0},F6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=mt(this._onBrush,this),this._onBrushEnd=mt(this._onBrushEnd,this)},e.prototype.render=function(t,r,i,a){if(n.prototype.render.apply(this,arguments),y_(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){D2(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new zt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,i=t.get("brushSelect"),a=i?k6e:0,o=ha(t,r).refContainer,s=this._findCoordRect(),l=t.get("defaultLocationEdgeGap",!0)||0,u=this._orient===Xb?{right:o.width-s.x-s.width,top:o.height-l5-l-a,width:s.width,height:l5}:{right:l,top:s.y,width:l5,height:s.height},c=Im(t.option);J(["right","top","width","height"],function(h){c[h]==="ph"&&(c[h]=u[h])});var f=Kr(c,o);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===CX&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===Xb&&!o?{scaleY:l?1:-1,scaleX:1}:i===Xb&&o?{scaleY:l?1:-1,scaleX:-1}:i===CX&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([s]);t.x=r.x-u.x,t.y=r.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,a=t.get("brushSelect");i.add(new Yb({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new Yb({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:mt(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,i=this._shadowSize||[],a=t.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&o.getDimensionInfo(s)?a.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var f=o.getDataExtent(t.thisDim),h=o.getDataExtent(l),d=(h[1]-h[0])*.3;h=[h[0]-d,h[1]+d];var v=[0,r[1]],g=[0,r[0]],y=[[r[0],0],[0,0]],x=[],b=g[1]/Math.max(1,o.count()-1),T=r[0]/(f[1]-f[0]),M=t.thisAxis.type==="time",C=-b,D=Math.round(o.count()/r[0]),R;o.each([t.thisDim,l],function(V,F,k){if(D>0&&k%D){M||(C+=b);return}C=M?(+V-f[0])*T:C+b;var Y=F==null||isNaN(F)||F==="",H=Y?0:er(F,h,v,!0);Y&&!R&&k?(y.push([y[y.length-1][0],0]),x.push([x[x.length-1][0],0])):!Y&&R&&(y.push([C,0]),x.push([C,0])),Y||(y.push([C,H]),x.push([C,H])),R=Y}),u=this._shadowPolygonPts=y,c=this._shadowPolylinePts=x}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var I=this.dataZoomModel;function L(V){var F=I.getModel(V?"selectedDataBackground":"dataBackground"),k=new zt,Y=new fo({shape:{points:u},segmentIgnoreThreshold:1,style:F.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),H=new Xa({shape:{points:c},segmentIgnoreThreshold:1,style:F.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return k.add(Y),k.add(H),k}for(var O=0;O<3;O++){var B=L(O===1);this._displayables.sliderGroup.add(B),this._displayables.dataShadowSegs.push(B)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var i,a=this.ecModel;return t.eachTargetAxis(function(o,s){var l=t.getAxisProxy(o,s).getTargetSeriesModels();J(l,function(u){if(!i&&!(r!==!0&&on(U6e,u.get("type"))<0)){var c=a.getComponent(mp(o),s).axis,f=G6e(o),h,d=u.coordinateSystem;f!=null&&d.getOtherAxis&&(h=d.getOtherAxis(c).inverse),f=u.getData().mapDimension(f);var v=u.getData().mapDimension(o);i={thisAxis:c,series:u,thisDim:v,otherDim:f,otherAxisInverse:h}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,i=r.handles=[null,null],a=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),h=r.filler=new Yb({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(h),o.add(new Yb({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:z6e,fill:De.color.transparent}})),J([0,1],function(T){var M=l.get("handleIcon");!m3[M]&&M.indexOf("path://")<0&&M.indexOf("image://")<0&&(M="path://"+M);var C=Vi(M,-1,0,2,2,null,!0);C.attr({cursor:H6e(this._orient),draggable:!0,drift:mt(this._onDragMove,this,T),ondragend:mt(this._onDragEnd,this),onmouseover:mt(this._showDataInfo,this,!0),onmouseout:mt(this._showDataInfo,this,!1),z2:5});var D=C.getBoundingRect(),R=l.get("handleSize");this._handleHeight=pt(R,this._size[1]),this._handleWidth=D.width/D.height*this._handleHeight,C.setStyle(l.getModel("handleStyle").getItemStyle()),C.style.strokeNoScale=!0,C.rectHover=!0,C.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Sp(C);var I=l.get("handleColor");I!=null&&(C.style.fill=I),o.add(i[T]=C);var L=l.getModel("textStyle"),O=l.get("handleLabel")||{},B=O.show||!1;t.add(a[T]=new On({silent:!0,invisible:!B,style:Dr(L,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:L.getTextColor(),font:L.getFont()}),z2:10}))},this);var d=h;if(f){var v=pt(l.get("moveHandleSize"),s[1]),g=r.moveHandle=new mn({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:v}}),y=v*.8,x=r.moveHandleIcon=Vi(l.get("moveHandleIcon"),-y/2,-y/2,y,y,De.color.neutral00,!0);x.silent=!0,x.y=s[1]+v/2-.5,g.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var b=Math.min(s[1]/2,Math.max(v,10));d=r.moveZone=new mn({invisible:!0,shape:{y:s[1]-b,height:v+b}}),d.on("mouseover",function(){u.enterEmphasis(g)}).on("mouseout",function(){u.leaveEmphasis(g)}),o.add(g),o.add(x),o.add(d)}d.attr({draggable:!0,cursor:"default",drift:mt(this._onDragMove,this,"all"),ondragstart:mt(this._showDataInfo,this,!0),ondragend:mt(this._onDragEnd,this),onmouseover:mt(this._showDataInfo,this,!0),onmouseout:mt(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[er(t[0],[0,100],r,!0),er(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Pp(r,a,o,i.get("zoomLock")?"all":t,s.minSpan!=null?er(s.minSpan,l,o,!0):null,s.maxSpan!=null?er(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=sl([er(a[0],o,l,!0),er(a[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var r=this._displayables,i=this._handleEnds,a=sl(i.slice()),o=this._size;J([0,1],function(d){var v=r.handles[d],g=this._handleHeight;v.attr({scaleX:g/2,scaleY:g/2,x:i[d]+(d?-1:1),y:o[1]/2-g/2})},this),r.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,a[0],a[1],o[0]],c=0;c<l.length;c++){var f=l[c],h=f.getClipPath();h||(h=new mn,f.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,i=this._displayables,a=i.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var h=sl(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(v){var g=wp(i.handles[v].parent,this.group),y=gN(v===0?"right":"left",g),x=this._handleWidth/2+B6e,b=qu([h[v]+(v===0?-x:x),this._size[1]/2],g);a[v].setStyle({x:b[0],y:b[1],verticalAlign:o===Xb?"middle":y,align:o===Xb?y:"center",text:s[v]})}},e.prototype._formatLabel=function(t,r){var i=this.dataZoomModel,a=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return Nt(a)?a(t,s):vt(a)?a.replace("{value}",s):s},e.prototype._showDataInfo=function(t){var r=this.dataZoomModel.get("handleLabel")||{},i=r.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),o=a.get("show")||!1,s=t||this._dragging?o:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(t,r,i,a){this._dragging=!0,Gh(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=qu([r,i],o,!0),l=this._updateInterval(t,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,s=this._updateInterval("all",i[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,i=t.offsetY;this._brushStart=new jt(r,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100],l=this._handleEnds=[i.x,i.x+i.width],u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();Pp(0,l,o,0,u.minSpan!=null?er(u.minSpan,s,o,!0):null,u.maxSpan!=null?er(u.maxSpan,s,o,!0):null),this._range=sl([er(l[0],o,s,!0),er(l[1],o,s,!0)]),this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Gh(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var i=this._displayables,a=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new Yb({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,r),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?V6e:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=Jie(this.dataZoomModel).infoList;if(!t&&r.length){var i=r[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var a=this.api.getWidth(),o=this.api.getHeight();t={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return t},e.type="dataZoom.slider",e})(OU);function G6e(n){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[n]}function H6e(n){return n==="vertical"?"ns-resize":"ew-resize"}function mae(n){n.registerComponentModel(P6e),n.registerComponentView(F6e),PU(n)}function j6e(n){fn(gae),fn(mae)}var yae={get:function(n,e,t){var r=Pt((W6e[n]||{})[e]);return t&&Ke(r)?r[r.length-1]:r}},W6e={color:{active:["#006edd","#e0ffff"],inactive:[De.color.transparent]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},EX=Aa.mapVisual,Y6e=Aa.eachVisual,X6e=Ke,DX=J,q6e=sl,Z6e=er,Q3=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&sae(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=mt(t,this),this.controllerVisuals=q4(this.option.controller,r,t),this.targetVisuals=q4(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesId,r=this.option.seriesIndex;r==null&&t==null&&(r="all");var i=s_(this.ecModel,"series",{index:r,id:t},{useDefault:!1,enableAll:!0,enableNone:!1}).models;return $e(i,function(a){return a.componentIndex})},e.prototype.eachTargetSeries=function(t,r){J(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&t.call(r,a)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(i){i===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,i){var a=this.option,o=a.precision,s=this.dataBound,l=a.formatter,u;i=i||["<",">"],Ke(t)&&(t=t.slice(),u=!0);var c=r?t:u?[f(t[0]),f(t[1])]:f(t);if(vt(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Nt(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===s[0]?i[0]+" "+c[1]:t[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(h){return h===s[0]?"min":h===s[1]?"max":(+h).toFixed(Math.min(o,20))}},e.prototype.resetExtent=function(){var t=this.option,r=q6e([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var i=t.dimensions,a=i.length-1;a>=0;a--){var o=i[a],s=t.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),o=r.controller||(r.controller={});sn(a,i),sn(o,i);var s=this.isCategory();l.call(this,a),l.call(this,o),u.call(this,a,"inRange","outOfRange"),c.call(this,o);function l(f){X6e(r.color)&&!f.inRange&&(f.inRange={color:r.color.slice().reverse()}),f.inRange=f.inRange||{color:t.get("gradientColor")}}function u(f,h,d){var v=f[h],g=f[d];v&&!g&&(g=f[d]={},DX(v,function(y,x){if(Aa.isValidType(x)){var b=yae.get(x,"inactive",s);b!=null&&(g[x]=b,x==="color"&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}function c(f){var h=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,d=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),g=this.getItemSymbol(),y=g||"roundRect";DX(this.stateList,function(x){var b=this.itemSize,T=f[x];T||(T=f[x]={color:s?v:[v]}),T.symbol==null&&(T.symbol=h&&Pt(h)||(s?y:[y])),T.symbolSize==null&&(T.symbolSize=d&&Pt(d)||(s?b[0]:[b[0],b[0]])),T.symbol=EX(T.symbol,function(D){return D==="none"?y:D});var M=T.symbolSize;if(M!=null){var C=-1/0;Y6e(M,function(D){D>C&&(C=D)}),T.symbolSize=EX(M,function(D){return Z6e(D,[0,C],[0,b[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:De.color.transparent,borderColor:De.color.borderTint,contentColor:De.color.theme[0],inactiveColor:De.color.disabled,borderWidth:0,padding:De.size.m,textGap:10,precision:0,textStyle:{color:De.color.secondary}},e})(bn),NX=[20,140],K6e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=NX[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=NX[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):Ke(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),J(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=sl((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,i=this.getExtent(),a=At(this.option.unboundedRange,!0);return(a&&r[0]<=i[0]||r[0]<=t)&&(a&&r[1]>=i[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){t[0]<=s&&s<=t[1]&&a.push(l)},this),r.push({seriesId:i.id,dataIndex:a})},this),r},e.prototype.getVisualMeta=function(t){var r=RX(this,"outOfRange",this.getExtent()),i=RX(this,"inRange",this.option.range.slice()),a=[];function o(d,v){a.push({value:d,color:t(d,v)})}for(var s=0,l=0,u=i.length,c=r.length;l<c&&(!i.length||r[l]<=i[0]);l++)r[l]<i[s]&&o(r[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&a.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<r[l])&&(f&&(a.length&&o(a[a.length-1].value,"outOfRange"),f=0),o(r[l],"outOfRange"));var h=a.length;return{stops:a,outerColors:[h?a[0].color:"transparent",h?a[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Yp(Q3.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:De.color.neutral00,borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:De.color.neutral00,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:De.color.shadow}}),e})(Q3);function RX(n,e,t){if(t[0]===t[1])return t.slice();for(var r=200,i=(t[1]-t[0])/r,a=t[0],o=[],s=0;s<=r&&a<t[1];s++)o.push(a),a+=i;return o.push(t[1]),o}var xae=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,i,a){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,i,a)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,i=v_(r.get("padding")||0),a=t.getBoundingRect();t.add(new mn({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,i){i=i||{};var a=i.forceState,o=this.visualMapModel,s={};if(r==="color"){var l=o.get("contentColor");s.color=l}function u(d){return s[d]}function c(d,v){s[d]=v}var f=o.controllerVisuals[a||o.getValueState(t)],h=Aa.prepareVisualTypes(f);return J(h,function(d){var v=f[d];i.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",v=f.__alphaForOpacity),Aa.dependsOn(d,r)&&v&&v.applyVisual(t,u,c)}),s[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,i=this.api,a=ha(r,i).refContainer;xN(t,r.getBoxLayoutParams(),a)},e.prototype.doRender=function(t,r,i,a){},e.type="visualMap",e})(Rr),LX=[["left","right","width"],["top","bottom","height"]];function _ae(n,e,t){var r=n.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var a={width:e.getWidth(),height:e.getHeight()},o=r.orient==="horizontal"?1:0,s=LX[o],l=[0,null,10],u={},c=0;c<3;c++)u[LX[1-o][c]]=l[c],u[s[c]]=c===2?t[0]:r[s[c]];var f=[["x","width",3],["y","height",0]][o],h=Kr(u,a,r.padding);return s[(h.margin[f[2]]||0)+h[f[0]]+h[f[1]]*.5<a[f[1]]*.5?0:1]}function FC(n,e){return J(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var Xc=er,J6e=J,IX=Math.min,u5=Math.max,Q6e=12,$6e=6,e8e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.init=function(t,r){n.prototype.init.call(this,t,r),this._hoverLinkFromSeriesMouseOver=mt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=mt(this._hideIndicator,this)},e.prototype.doRender=function(t,r,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var i=t.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,i){if(r){var a=r[1-i];a=a!=null?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),f=this._applyTransform(i===0?"bottom":"top",u),h=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new On({style:Dr(d,{x:c[0],y:c[1],verticalAlign:d.get("verticalAlign")||(h==="horizontal"?"middle":f),align:d.get("align")||(h==="horizontal"?f:"center"),text:a})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,i=this._shapes,a=r.itemSize,o=this._orient,s=this._useHandle,l=_ae(r,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new zt;u.add(c),c.add(i.outOfRange=OX()),c.add(i.inRange=OX(null,s?zX(this._orient):null,mt(this._dragHandle,this,"all",!1),mt(this._dragHandle,this,"all",!0))),c.setClipPath(new mn({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=r.textStyleModel.getTextRect(""),h=u5(f.width,f.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,u,0,a,h,o),this._createHandle(r,u,1,a,h,o)),this._createIndicator(r,u,a,h,o),t.add(u)},e.prototype._createHandle=function(t,r,i,a,o,s){var l=mt(this._dragHandle,this,i,!1),u=mt(this._dragHandle,this,i,!0),c=ec(t.get("handleSize"),a[0]),f=Vi(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=zX(this._orient);f.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(x){Gh(x.event)}}),f.x=a[0]/2,f.useStyle(t.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),qg(f,!0),r.add(f);var d=this.visualMapModel.textStyleModel,v=new On({cursor:h,draggable:!0,drift:l,onmousemove:function(x){Gh(x.event)},ondragend:u,style:Dr(d,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var g=[c,0],y=this._shapes;y.handleThumbs[i]=f,y.handleLabelPoints[i]=g,y.handleLabels[i]=v},e.prototype._createIndicator=function(t,r,i,a,o){var s=ec(t.get("indicatorSize"),i[0]),l=Vi(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Ra){var c=l.style;l.useStyle(je({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var f=this.visualMapModel.textStyleModel,h=new On({silent:!0,invisible:!0,style:Dr(f,{x:0,y:0,text:""})});this.group.add(h);var d=[(o==="horizontal"?a/2:$6e)+i[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=h,v.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,i,a){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():PX(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),i=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[Xc(r[0],i,a,!0),Xc(r[1],i,a,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];Pp(r,a,o,t,0);var s=i.getExtent();this._dataInterval=[Xc(a[0],o,s,!0),Xc(a[1],o,s,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,i=r.getExtent(),a=this._shapes,o=[0,r.itemSize[1]],s=t?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(t,r,i,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),l=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],u=this._createBarPoints(i,l);return{barColor:new Rm(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var i=100,a=[],o=(t[1]-t[0])/i;a.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var s=1;s<i;s++){var l=t[0]+o*s;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",r),offset:s/i})}return a.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),a},e.prototype._createBarPoints=function(t,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,i=this.visualMapModel.get("inverse");return new zt(r==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);J6e([0,1],function(f){var h=o[f];h.setStyle("fill",r.handlesColor[f]),h.y=t[f];var d=Xc(t[f],[0,l[1]],u,!0),v=this.getControllerVisual(d,"symbolSize");h.scaleX=h.scaleY=v/l[0],h.x=l[0]-v/2;var g=qu(i.handleLabelPoints[f],wp(h,this.group));if(this._orient==="horizontal"){var y=c==="left"||c==="top"?(l[0]-v)/2:(l[0]-v)/-2;g[1]+=y}s[f].setStyle({x:g[0],y:g[1],text:a.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,i,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var h={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",h),v=this.getControllerVisual(t,"symbolSize"),g=Xc(t,s,u,!0),y=l[0]-v/2,x={x:f.x,y:f.y};f.y=g,f.x=y;var b=qu(c.indicatorLabelPoint,wp(f,this.group)),T=c.indicatorLabel;T.attr("invisible",!1);var M=this._applyTransform("left",c.mainGroup),C=this._orient,D=C==="horizontal";T.setStyle({text:(i||"")+o.formatValueText(r),verticalAlign:D?M:"middle",align:D?"center":M});var R={x:y,y:g,style:{fill:d}},I={style:{x:b[0],y:b[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var L={duration:100,easing:"cubicInOut",additive:!0};f.x=x.x,f.y=x.y,f.animateTo(R,L),T.animateTo(I,L)}else f.attr(R),T.attr(I);this._firstShowIndicator=!1;var O=this._shapes.handleLabels;if(O)for(var B=0;B<O.length;B++)this.api.enterBlur(O[B])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,a=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);a[1]=IX(u5(0,a[1]),i[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var o=[0,a[1]],s=i.getExtent();t=IX(u5(o[0],t),o[1]);var l=t8e(i,s,o),u=[t-l,t+l],c=Xc(t,o,s,!0),f=[Xc(u[0],o,s,!0),Xc(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),r&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,d=[];(r||PX(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var v=Owe(h,d);this._dispatchHighDown("downplay",FC(v[0],i)),this._dispatchHighDown("highlight",FC(v[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(Kg(t.target,function(l){var u=Xt(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var o=i.getData(r.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this.api.leaveBlur(r[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",FC(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,i,a){var o=wp(r,a?null:this.group);return Ke(t)?qu(t,o,i):gN(t,o,i)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e})(xae);function OX(n,e,t,r){return new fo({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){Gh(i.event)},ondragend:r})}function t8e(n,e,t){var r=Q6e/2,i=n.get("hoverLinkDataSize");return i&&(r=Xc(i,e,t,!0)/2),r}function PX(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function zX(n){return n==="vertical"?"ns-resize":"ew-resize"}var n8e={type:"selectDataRange",event:"dataRangeSelected",update:"update"},r8e=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},i8e=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(r){var i=n.pipelineContext;!r.isTargetSeries(n)||i&&i.large||t.push(MUe(r.stateList,r.targetVisuals,mt(r.getValueState,r),r.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),r=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(n)){var a=i.getVisualMeta(mt(a8e,null,n,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(t);o>=0&&(a.dimension=o,r.push(a))}}),n.getData().setVisual("visualMeta",r)}}];function a8e(n,e,t,r){for(var i=e.targetVisuals[r],a=Aa.prepareVisualTypes(i),o={color:Aw(n.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,f,h)}return o.color;function f(d){return o[d]}function h(d,v){o[d]=v}}var kX=J;function o8e(n){var e=n&&n.visualMap;Ke(e)||(e=e?[e]:[]),kX(e,function(t){if(t){Vy(t,"splitList")&&!Vy(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&Ke(r)&&kX(r,function(i){Ft(i)&&(Vy(i,"start")&&!Vy(i,"min")&&(i.min=i.start),Vy(i,"end")&&!Vy(i,"max")&&(i.max=i.end))})}})}function Vy(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var BX=!1;function bae(n){BX||(BX=!0,n.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),n.registerAction(n8e,r8e),J(i8e,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(o8e))}function Sae(n){n.registerComponentModel(K6e),n.registerComponentView(e8e),bae(n)}var s8e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],l8e[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var a=this.option.categories;this.resetVisual(function(o,s){i==="categories"?(o.mappingMethod="category",o.categories=Pt(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=$e(this._pieceList,function(l){return l=Pt(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},i=Aa.listVisualTypes(),a=this.isCategory();J(t.pieces,function(s){J(i,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),J(r,function(s,l){var u=!1;J(this.stateList,function(c){u=u||o(t,c,l)||o(t.target,c,l)},this),!u&&J(this.stateList,function(c){(t[c]||(t[c]={}))[l]=yae.get(l,c==="inRange"?"active":"inactive",a)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var i=this.option,a=this._pieceList,o=(r?i:t).selected||{};if(i.selected=o,J(a,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),i.selectedMode==="single"){var s=!1;J(a,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=Pt(t)},e.prototype.getValueState=function(t){var r=Aa.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=Aa.findPieceIndex(l,i);c===t&&o.push(u)},this),r.push({seriesId:a.id,dataIndex:o})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var i=t.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],i=["",""],a=this;function o(c,f){var h=a.getRepresentValue({interval:c});f||(f=a.getValueState(h));var d=t(h,f);c[0]===-1/0?i[0]=d:c[1]===1/0?i[1]=d:r.push({value:c[0],color:d},{value:c[1],color:d})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return J(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:r,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=Yp(Q3.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e})(Q3),l8e={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(t)!==a&&t<5;)t++;e.precision=t,a=+a.toFixed(t),e.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=a,o++){var l=o===i-1?r[1]:s+a;n.push({interval:[s,l],close:[1,1]})}e.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),xP(n),J(n,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var e=this.option;J(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),UX(e,n)},pieces:function(n){var e=this.option;J(e.pieces,function(t,r){Ft(t)||(t={value:t});var i={text:"",index:r};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var a=i.value=t.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],d=0;d<3&&o[f]==null;d++)o[f]=t[h[d]],s[f]=l[d],c[f]=d===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=Aa.retrieveVisuals(t),n.push(i)},this),UX(e,n),xP(n),J(n,function(t){var r=t.close,i=[["<",""][r[1]],[">",""][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function UX(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}var u8e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,i=r.get("textGap"),a=r.textStyleModel,o=this._getItemAlign(),s=r.itemSize,l=this._getViewData(),u=l.endsText,c=Ya(r.get("showLabel",!0),!u),f=!r.get("selectedMode");u&&this._renderEndsText(t,u[0],s,c,o),J(l.viewPieceList,function(h){var d=h.piece,v=new zt;v.onclick=mt(this._onItemClick,this,d),this._enableHoverLink(v,h.indexInModelPieceList);var g=r.getRepresentValue(d);if(this._createItemSymbol(v,g,[0,0,s[0],s[1]],f),c){var y=this.visualMapModel.getValueState(g),x=a.get("align")||o;v.add(new On({style:Dr(a,{x:x==="right"?-i:s[0]+i,y:s[1]/2,text:d.text,verticalAlign:a.get("verticalAlign")||"middle",align:x,opacity:At(a.get("opacity"),y==="outOfRange"?.5:1)}),silent:f}))}t.add(v)},this),u&&this._renderEndsText(t,u[1],s,c,o),om(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var i=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:FC(s.findTargetDataIndices(r),s)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return _ae(t,this.api,t.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,r,i,a,o){if(r){var s=new zt,l=this.visualMapModel.textStyleModel;s.add(new On({style:Dr(l,{x:a?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:r})})),t.add(s)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=$e(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=t.get("text"),a=t.get("orient"),o=t.get("inverse");return(a==="horizontal"?o:!o)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},e.prototype._createItemSymbol=function(t,r,i,a){var o=Vi(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color"));o.silent=a,t.add(o)},e.prototype._onItemClick=function(t){var r=this.visualMapModel,i=r.option,a=i.selectedMode;if(a){var o=Pt(i.selected),s=r.getSelectedMapKey(t);a==="single"||a===!0?(o[s]=!0,J(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},e.type="visualMap.piecewise",e})(xae);function wae(n){n.registerComponentModel(s8e),n.registerComponentView(u8e),bae(n)}function c8e(n){fn(Sae),fn(wae)}var f8e=(function(){function n(e){this._thumbnailModel=e}return n.prototype.reset=function(e){this._renderVersion=e.getMainProcessVersion()},n.prototype.renderContent=function(e){var t=e.api.getViewOfComponentModel(this._thumbnailModel);t&&(e.group.silent=!0,t.renderContent({group:e.group,targetTrans:e.targetTrans,z2Range:X$(e.group),roamType:e.roamType,viewportRect:e.viewportRect,renderVersion:this._renderVersion}))},n.prototype.updateWindow=function(e,t){var r=t.getViewOfComponentModel(this._thumbnailModel);r&&r.updateWindow({targetTrans:e,renderVersion:this._renderVersion})},n})(),h8e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.optionUpdated=function(t,r){this._updateBridge()},e.prototype._updateBridge=function(){var t=this._birdge=this._birdge||new f8e(this);if(this._target=null,this.ecModel.eachSeries(function(i){cW(i,null)}),this.shouldShow()){var r=this.getTarget();cW(r.baseMapProvider,t)}},e.prototype.shouldShow=function(){return this.getShallow("show",!0)},e.prototype.getBridge=function(){return this._birdge},e.prototype.getTarget=function(){if(this._target)return this._target;var t=this.getReferringComponents("series",{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];return t?t.subType!=="graph"&&(t=null):t=this.ecModel.queryComponents({mainType:"series",subType:"graph"})[0],this._target={baseMapProvider:t},this._target},e.type="thumbnail",e.layoutMode="box",e.dependencies=["series","geo"],e.defaultOption={show:!0,right:1,bottom:1,height:"25%",width:"25%",itemStyle:{borderColor:De.color.border,borderWidth:2},windowStyle:{borderWidth:1,color:De.color.neutral30,borderColor:De.color.neutral40,opacity:.3},z:10},e})(bn),d8e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this._api=i,this._model=t,this._coordSys||(this._coordSys=new Bm),!this._isEnabled()){this._clear();return}this._renderVersion=i.getMainProcessVersion();var a=this.group;a.removeAll();var o=t.getModel("itemStyle"),s=o.getItemStyle();s.fill==null&&(s.fill=r.get("backgroundColor")||De.color.neutral00);var l=ha(t,i).refContainer,u=Kr(dee(t,!0),l),c=s.lineWidth||0,f=this._contentRect=xm(u.clone(),c/2,!0,!0),h=new zt;a.add(h),h.setClipPath(new mn({shape:f.plain()}));var d=this._targetGroup=new zt;h.add(d);var v=u.plain();v.r=o.getShallow("borderRadius",!0),a.add(this._bgRect=new mn({style:s,shape:v,silent:!1,cursor:"grab"}));var g=t.getModel("windowStyle"),y=g.getShallow("borderRadius",!0);h.add(this._windowRect=new mn({shape:{x:0,y:0,width:0,height:0,r:y},style:g.getItemStyle(),silent:!1,cursor:"grab"})),this._dealRenderContent(),this._dealUpdateWindow(),FX(t,this)},e.prototype.renderContent=function(t){this._bridgeRendered=t,this._isEnabled()&&(this._dealRenderContent(),this._dealUpdateWindow(),FX(this._model,this))},e.prototype._dealRenderContent=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var r=this._targetGroup,i=this._coordSys,a=this._contentRect;if(r.removeAll(),!!t){var o=t.group,s=o.getBoundingRect();r.add(o),this._bgRect.z2=t.z2Range.min-10,i.setBoundingRect(s.x,s.y,s.width,s.height);var l=Kr({left:"center",top:"center",aspect:s.width/s.height},a);i.setViewRect(l.x,l.y,l.width,l.height),o.attr(i.getTransformInfo().raw),this._windowRect.z2=t.z2Range.max+10,this._resetRoamController(t.roamType)}}},e.prototype.updateWindow=function(t){var r=this._bridgeRendered;r&&r.renderVersion===t.renderVersion&&(r.targetTrans=t.targetTrans),this._isEnabled()&&this._dealUpdateWindow()},e.prototype._dealUpdateWindow=function(){var t=this._bridgeRendered;if(!(!t||t.renderVersion!==this._renderVersion)){var r=tu([],t.targetTrans),i=Yu([],this._coordSys.transform,r);this._transThisToTarget=tu([],i);var a=t.viewportRect;a?a=a.clone():a=new Wt(0,0,this._api.getWidth(),this._api.getHeight()),a.applyTransform(i);var o=this._windowRect,s=o.shape.r;o.setShape(Vt({r:s},a))}},e.prototype._resetRoamController=function(t){var r=this,i=this._api,a=this._roamController;if(a||(a=this._roamController=new km(i.getZr())),!t||!this._isEnabled()){a.disable();return}a.enable(t,{api:i,zInfo:{component:this._model},triggerInfo:{roamTrigger:null,isInSelf:function(o,s,l){return r._contentRect.contain(s,l)}}}),a.off("pan").off("zoom").on("pan",mt(this._onPan,this)).on("zoom",mt(this._onZoom,this))},e.prototype._onPan=function(t){var r=this._transThisToTarget;if(!(!this._isEnabled()||!r)){var i=Ai([],[t.oldX,t.oldY],r),a=Ai([],[t.oldX-t.dx,t.oldY-t.dy],r);this._api.dispatchAction(VX(this._model.getTarget().baseMapProvider,{dx:a[0]-i[0],dy:a[1]-i[1]}))}},e.prototype._onZoom=function(t){var r=this._transThisToTarget;if(!(!this._isEnabled()||!r)){var i=Ai([],[t.originX,t.originY],r);this._api.dispatchAction(VX(this._model.getTarget().baseMapProvider,{zoom:1/t.scale,originX:i[0],originY:i[1]}))}},e.prototype._isEnabled=function(){var t=this._model;if(!t||!t.shouldShow())return!1;var r=t.getTarget().baseMapProvider;return!!r},e.prototype._clear=function(){this.group.removeAll(),this._bridgeRendered=null,this._roamController&&this._roamController.disable()},e.prototype.remove=function(){this._clear()},e.prototype.dispose=function(){this._clear()},e.type="thumbnail",e})(Rr);function VX(n,e){var t=n.mainType==="series"?n.subType+"Roam":n.mainType+"Roam",r={type:t};return r[n.mainType+"Id"]=n.id,je(r,e),r}function FX(n,e){var t=_m(n);mN(e.group,t.z,t.zlevel)}function p8e(n){n.registerComponentModel(h8e),n.registerComponentView(d8e)}var v8e={label:{enabled:!0},decal:{show:!1}},GX=Sn(),g8e={};function m8e(n,e){var t=n.getModel("aria");if(!t.get("enabled"))return;var r=Pt(v8e);sn(r.label,n.getLocaleModel().get("aria"),!1),sn(t.option,r,!1),i(),a();function i(){var u=t.getModel("decal"),c=u.get("show");if(c){var f=Tt();n.eachSeries(function(h){if(!h.isColorBySeries()){var d=f.get(h.type);d||(d={},f.set(h.type,d)),GX(h).scope=d}}),n.eachRawSeries(function(h){if(n.isSeriesFiltered(h))return;if(Nt(h.enableAriaDecal)){h.enableAriaDecal();return}var d=h.getData();if(h.isColorBySeries()){var b=VP(h.ecModel,h.name,g8e,n.getSeriesCount()),T=d.getVisual("decal");d.setVisual("decal",M(T,b))}else{var v=h.getRawData(),g={},y=GX(h).scope;d.each(function(C){var D=d.getRawIndex(C);g[D]=C});var x=v.count();v.each(function(C){var D=g[C],R=v.getName(C)||C+"",I=VP(h.ecModel,R,y,x),L=d.getItemVisual(D,"decal");d.setItemVisual(D,"decal",M(L,I))})}function M(C,D){var R=C?je(je({},D),C):D;return R.dirty=!0,R}})}}function a(){var u=e.getZr().dom;if(u){var c=n.getLocaleModel().get("aria"),f=t.getModel("label");if(f.option=Vt(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var h=n.getSeriesCount(),d=f.get(["data","maxCount"])||10,v=f.get(["series","maxCount"])||10,g=Math.min(h,v),y;if(!(h<1)){var x=s();if(x){var b=f.get(["general","withTitle"]);y=o(b,{title:x})}else y=f.get(["general","withoutTitle"]);var T=[],M=h>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);y+=o(M,{seriesCount:h}),n.eachSeries(function(I,L){if(L<g){var O=void 0,B=I.get("name"),V=B?"withName":"withoutName";O=h>1?f.get(["series","multiple",V]):f.get(["series","single",V]),O=o(O,{seriesId:I.seriesIndex,seriesName:I.get("name"),seriesType:l(I.subType)});var F=I.getData();if(F.count()>d){var k=f.get(["data","partialData"]);O+=o(k,{displayCnt:d})}else O+=f.get(["data","allData"]);for(var Y=f.get(["data","separator","middle"]),H=f.get(["data","separator","end"]),W=f.get(["data","excludeDimensionId"]),q=[],K=0;K<F.count();K++)if(K<d){var re=F.getName(K),j=W?Zn(F.getValues(K),function(ne,se){return on(W,se)===-1}):F.getValues(K),Q=f.get(["data",re?"withName":"withoutName"]);q.push(o(Q,{name:re,value:j.join(Y)}))}O+=q.join(Y)+H,T.push(O)}});var C=f.getModel(["series","multiple","separator"]),D=C.get("middle"),R=C.get("end");y+=T.join(D)+R,u.setAttribute("aria-label",y)}}}}function o(u,c){if(!vt(u))return u;var f=u;return J(c,function(h,d){f=f.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),h)}),f}function s(){var u=n.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=n.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function y8e(n){if(!(!n||!n.aria)){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},J(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function x8e(n){n.registerPreprocessor(y8e),n.registerVisual(n.PRIORITY.VISUAL.ARIA,m8e)}var HX={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},_8e=(function(){function n(e){var t=this._condVal=vt(e)?new RegExp(e):mQ(e)?e:null;if(t==null){var r="";tr(r)}}return n.prototype.evaluate=function(e){var t=typeof e;return vt(t)?this._condVal.test(e):Pn(t)?this._condVal.test(e+""):!1},n})(),b8e=(function(){function n(){}return n.prototype.evaluate=function(){return this.value},n})(),S8e=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n})(),w8e=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n})(),T8e=(function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n})(),M8e=(function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,r=t(this.valueGetterParam),i=e?this.valueParser(r):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?i:r))return!1;return!0},n})();function HU(n,e){if(n===!0||n===!1){var t=new b8e;return t.value=n,t}var r="";return Tae(n)||tr(r),n.and?jX("and",n,e):n.or?jX("or",n,e):n.not?A8e(n,e):C8e(n,e)}function jX(n,e,t){var r=e[n],i="";Ke(r)||tr(i),r.length||tr(i);var a=n==="and"?new S8e:new w8e;return a.children=$e(r,function(o){return HU(o,t)}),a.children.length||tr(i),a}function A8e(n,e){var t=n.not,r="";Tae(t)||tr(r);var i=new T8e;return i.child=HU(t,e),i.child||tr(r),i}function C8e(n,e){for(var t="",r=e.prepareGetValue(n),i=[],a=Rn(n),o=n.parser,s=o?Pee(o):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=St(HX,u)?HX[u]:u,f=n[u],h=s?s(f):f,d=XAe(c,h)||c==="reg"&&new _8e(h);d||tr(t),i.push(d)}}i.length||tr(t);var v=new M8e;return v.valueGetterParam=r,v.valueParser=s,v.getValue=e.getValue,v.subCondList=i,v}function Tae(n){return Ft(n)&&!lo(n)}var E8e=(function(){function n(e,t){this._cond=HU(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n})();function D8e(n,e){return new E8e(n,e)}var N8e={type:"echarts:filter",transform:function(n){for(var e=n.upstream,t,r=D8e(n.config,{valueGetterAttrMap:Tt({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;St(s,"dimension")||tr(l);var c=e.getDimensionInfo(u);return c||tr(l),{dimIdx:c.index}},getValue:function(s){return e.retrieveValueFromItem(t,s.dimIdx)}}),i=[],a=0,o=e.count();a<o;a++)t=e.getRawDataItem(a),r.evaluate()&&i.push(t);return{data:i}}},R8e={type:"echarts:sort",transform:function(n){var e=n.upstream,t=n.config,r="",i=Nr(t);i.length||tr(r);var a=[];J(i,function(c){var f=c.dimension,h=c.order,d=c.parser,v=c.incomparable;if(f==null&&tr(r),h!=="asc"&&h!=="desc"&&tr(r),v&&v!=="min"&&v!=="max"){var g="";tr(g)}if(h!=="asc"&&h!=="desc"){var y="";tr(y)}var x=e.getDimensionInfo(f);x||tr(r);var b=d?Pee(d):null;d&&!b&&tr(r),a.push({dimIdx:x.index,parser:b,comparator:new kee(h,v)})});var o=e.sourceFormat;o!==qa&&o!==gl&&tr(r);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(c,f){for(var h=0;h<a.length;h++){var d=a[h],v=e.retrieveValueFromItem(c,d.dimIdx),g=e.retrieveValueFromItem(f,d.dimIdx);d.parser&&(v=d.parser(v),g=d.parser(g));var y=d.comparator.evaluate(v,g);if(y!==0)return y}return 0}),{data:s}}};function L8e(n){n.registerTransform(N8e),n.registerTransform(R8e)}var I8e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,r,i){n.prototype.init.call(this,t,r,i),this._sourceManager=new Fee(this),S9(this)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),S9(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Zu},e})(bn),O8e=(function(n){Oe(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e})(Rr);function P8e(n){n.registerComponentModel(I8e),n.registerComponentView(O8e)}var Wc=gf.CMD;function ax(n,e){return Math.abs(n-e)<1e-5}function tz(n){var e=n.data,t=n.len(),r=[],i,a=0,o=0,s=0,l=0;function u(F,k){i&&i.length>2&&r.push(i),i=[F,k]}function c(F,k,Y,H){ax(F,Y)&&ax(k,H)||i.push(F,k,Y,H,Y,H)}function f(F,k,Y,H,W,q){var K=Math.abs(k-F),re=Math.tan(K/4)*4/3,j=k<F?-1:1,Q=Math.cos(F),ne=Math.sin(F),se=Math.cos(k),he=Math.sin(k),pe=Q*W+Y,xe=ne*q+H,Te=se*W+Y,Me=he*q+H,Re=W*re*j,Ue=q*re*j;i.push(pe-Re*ne,xe+Ue*Q,Te+Re*he,Me-Ue*se,Te,Me)}for(var h,d,v,g,y=0;y<t;){var x=e[y++],b=y===1;switch(b&&(a=e[y],o=e[y+1],s=a,l=o,(x===Wc.L||x===Wc.C||x===Wc.Q)&&(i=[s,l])),x){case Wc.M:a=s=e[y++],o=l=e[y++],u(s,l);break;case Wc.L:h=e[y++],d=e[y++],c(a,o,h,d),a=h,o=d;break;case Wc.C:i.push(e[y++],e[y++],e[y++],e[y++],a=e[y++],o=e[y++]);break;case Wc.Q:h=e[y++],d=e[y++],v=e[y++],g=e[y++],i.push(a+2/3*(h-a),o+2/3*(d-o),v+2/3*(h-v),g+2/3*(d-g),v,g),a=v,o=g;break;case Wc.A:var T=e[y++],M=e[y++],C=e[y++],D=e[y++],R=e[y++],I=e[y++]+R;y+=1;var L=!e[y++];h=Math.cos(R)*C+T,d=Math.sin(R)*D+M,b?(s=h,l=d,u(s,l)):c(a,o,h,d),a=Math.cos(I)*C+T,o=Math.sin(I)*D+M;for(var O=(L?-1:1)*Math.PI/2,B=R;L?B>I:B<I;B+=O){var V=L?Math.max(B+O,I):Math.min(B+O,I);f(B,V,T,M,C,D)}break;case Wc.R:s=a=e[y++],l=o=e[y++],h=s+e[y++],d=l+e[y++],u(h,l),c(h,l,h,d),c(h,d,s,d),c(s,d,s,l),c(s,l,h,l);break;case Wc.Z:i&&c(a,o,s,l),a=s,o=l;break}}return i&&i.length>2&&r.push(i),r}function nz(n,e,t,r,i,a,o,s,l,u){if(ax(n,t)&&ax(e,r)&&ax(i,o)&&ax(a,s)){l.push(o,s);return}var c=2/u,f=c*c,h=o-n,d=s-e,v=Math.sqrt(h*h+d*d);h/=v,d/=v;var g=t-n,y=r-e,x=i-o,b=a-s,T=g*g+y*y,M=x*x+b*b;if(T<f&&M<f){l.push(o,s);return}var C=h*g+d*y,D=-h*x-d*b,R=T-C*C,I=M-D*D;if(R<f&&C>=0&&I<f&&D>=0){l.push(o,s);return}var L=[],O=[];Lp(n,t,i,o,.5,L),Lp(e,r,a,s,.5,O),nz(L[0],O[0],L[1],O[1],L[2],O[2],L[3],O[3],l,u),nz(L[4],O[4],L[5],O[5],L[6],O[6],L[7],O[7],l,u)}function z8e(n,e){var t=tz(n),r=[];e=e||1;for(var i=0;i<t.length;i++){var a=t[i],o=[],s=a[0],l=a[1];o.push(s,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],h=a[u++],d=a[u++],v=a[u++],g=a[u++];nz(s,l,c,f,h,d,v,g,o,e),s=v,l=g}r.push(o)}return r}function Mae(n,e,t){var r=n[e],i=n[1-e],a=Math.abs(r/i),o=Math.ceil(Math.sqrt(a*t)),s=Math.floor(t/o);s===0&&(s=1,o=t);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=t-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function WX(n,e,t){for(var r=n.r0,i=n.r,a=n.startAngle,o=n.endAngle,s=Math.abs(o-a),l=s*i,u=i-r,c=l>Math.abs(u),f=Mae([l,u],c?0:1,e),h=(c?s:u)/f.length,d=0;d<f.length;d++)for(var v=(c?u:s)/f[d],g=0;g<f[d];g++){var y={};c?(y.startAngle=a+h*d,y.endAngle=a+h*(d+1),y.r0=r+v*g,y.r=r+v*(g+1)):(y.startAngle=a+v*g,y.endAngle=a+v*(g+1),y.r0=r+h*d,y.r=r+h*(d+1)),y.clockwise=n.clockwise,y.cx=n.cx,y.cy=n.cy,t.push(y)}}function k8e(n,e,t){for(var r=n.width,i=n.height,a=r>i,o=Mae([r,i],a?0:1,e),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=n[s]/o.length,h=0;h<o.length;h++)for(var d=n[l]/o[h],v=0;v<o[h];v++){var g={};g[u]=h*f,g[c]=v*d,g[s]=f,g[l]=d,g.x+=n.x,g.y+=n.y,t.push(g)}}function YX(n,e,t,r){return n*r-t*e}function B8e(n,e,t,r,i,a,o,s){var l=t-n,u=r-e,c=o-i,f=s-a,h=YX(c,f,l,u);if(Math.abs(h)<1e-6)return null;var d=n-i,v=e-a,g=YX(d,v,c,f)/h;return g<0||g>1?null:new jt(g*l+n,g*u+e)}function U8e(n,e,t){var r=new jt;jt.sub(r,t,e),r.normalize();var i=new jt;jt.sub(i,n,e);var a=i.dot(r);return a}function Fy(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function V8e(n,e,t){for(var r=n.length,i=[],a=0;a<r;a++){var o=n[a],s=n[(a+1)%r],l=B8e(o[0],o[1],s[0],s[1],e.x,e.y,t.x,t.y);l&&i.push({projPt:U8e(l,e,t),pt:l,idx:a})}if(i.length<2)return[{points:n},{points:n}];i.sort(function(y,x){return y.projPt-x.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var h=[u.pt.x,u.pt.y],d=[c.pt.x,c.pt.y],v=[h],g=[d],a=u.idx+1;a<=c.idx;a++)Fy(v,n[a].slice());Fy(v,d),Fy(v,h);for(var a=c.idx+1;a<=u.idx+r;a++)Fy(g,n[a%r].slice());return Fy(g,h),Fy(g,d),[{points:v},{points:g}]}function XX(n){var e=n.points,t=[],r=[];fN(e,t,r);var i=new Wt(t[0],t[1],r[0]-t[0],r[1]-t[1]),a=i.width,o=i.height,s=i.x,l=i.y,u=new jt,c=new jt;return a>o?(u.x=c.x=s+a/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+a),V8e(e,u,c)}function $3(n,e,t,r){if(t===1)r.push(e);else{var i=Math.floor(t/2),a=n(e);$3(n,a[0],i,r),$3(n,a[1],t-i,r)}return r}function F8e(n,e){for(var t=[],r=0;r<e;r++)t.push(Bk(n));return t}function G8e(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function H8e(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}function j8e(n,e){var t=[],r=n.shape,i;switch(n.type){case"rect":k8e(r,e,t),i=mn;break;case"sector":WX(r,e,t),i=co;break;case"circle":WX({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,t),i=co;break;default:var a=n.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=$e(z8e(n.getUpdatedPathProxy(),o),function(x){return H8e(x)}),l=s.length;if(l===0)$3(XX,{points:s[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:s[u]});else{var c=0,f=$e(s,function(x){var b=[],T=[];fN(x,b,T);var M=(T[1]-b[1])*(T[0]-b[0]);return c+=M,{poly:x,area:M}});f.sort(function(x,b){return b.area-x.area});for(var h=e,u=0;u<l;u++){var d=f[u];if(h<=0)break;var v=u===l-1?h:Math.ceil(d.area/c*e);v<0||($3(XX,{points:d.poly},v,t),h-=v)}}i=fo;break}if(!i)return F8e(n,e);for(var g=[],u=0;u<t.length;u++){var y=new i;y.setShape(t[u]),G8e(n,y),g.push(y)}return g}function W8e(n,e){var t=n.length,r=e.length;if(t===r)return[n,e];for(var i=[],a=[],o=t<r?n:e,s=Math.min(t,r),l=Math.abs(r-t)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],h=l,d=2;d<s;){var v=o[d-2],g=o[d-1],y=o[d++],x=o[d++],b=o[d++],T=o[d++],M=o[d++],C=o[d++];if(h<=0){f.push(y,x,b,T,M,C);continue}for(var D=Math.min(h,c-1)+1,R=1;R<=D;R++){var I=R/D;Lp(v,y,b,M,I,i),Lp(g,x,T,C,I,a),v=i[3],g=a[3],f.push(i[1],a[1],i[2],a[2],v,g),y=i[5],x=a[5],b=i[6],T=a[6]}h-=D-1}return o===n?[f,e]:[n,f]}function qX(n,e){for(var t=n.length,r=n[t-2],i=n[t-1],a=[],o=0;o<e.length;)a[o++]=r,a[o++]=i;return a}function Y8e(n,e){for(var t,r,i,a=[],o=[],s=0;s<Math.max(n.length,e.length);s++){var l=n[s],u=e[s],c=void 0,f=void 0;l?u?(t=W8e(l,u),c=t[0],f=t[1],r=c,i=f):(f=qX(i||l,l),c=l):(c=qX(r||u,u),f=u),a.push(c),o.push(f)}return[a,o]}function ZX(n){for(var e=0,t=0,r=0,i=n.length,a=0,o=i-2;a<i;o=a,a+=2){var s=n[o],l=n[o+1],u=n[a],c=n[a+1],f=s*c-u*l;e+=f,t+=(s+u)*f,r+=(l+c)*f}return e===0?[n[0]||0,n[1]||0]:[t/e/3,r/e/3,e]}function X8e(n,e,t,r){for(var i=(n.length-2)/6,a=1/0,o=0,s=n.length,l=s-2,u=0;u<i;u++){for(var c=u*6,f=0,h=0;h<s;h+=2){var d=h===0?c:(c+h-2)%l+2,v=n[d]-t[0],g=n[d+1]-t[1],y=e[h]-r[0],x=e[h+1]-r[1],b=y-v,T=x-g;f+=b*b+T*T}f<a&&(a=f,o=u)}return o}function q8e(n){for(var e=[],t=n.length,r=0;r<t;r+=2)e[r]=n[t-r-2],e[r+1]=n[t-r-1];return e}function Z8e(n,e,t,r){for(var i=[],a,o=0;o<n.length;o++){var s=n[o],l=e[o],u=ZX(s),c=ZX(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],h=[],d=0,v=1/0,g=[],y=s.length;a&&(s=q8e(s));for(var x=X8e(s,l,u,c)*6,b=y-2,T=0;T<b;T+=2){var M=(x+T)%b+2;f[T+2]=s[M]-u[0],f[T+3]=s[M+1]-u[1]}f[0]=s[x]-u[0],f[1]=s[x+1]-u[1];for(var C=r/t,D=-r/2;D<=r/2;D+=C){for(var R=Math.sin(D),I=Math.cos(D),L=0,T=0;T<s.length;T+=2){var O=f[T],B=f[T+1],V=l[T]-c[0],F=l[T+1]-c[1],k=V*I-F*R,Y=V*R+F*I;g[T]=k,g[T+1]=Y;var H=k-O,W=Y-B;L+=H*H+W*W}if(L<v){v=L,d=D;for(var q=0;q<g.length;q++)h[q]=g[q]}}i.push({from:f,to:h,fromCp:u,toCp:c,rotation:-d})}return i}function eD(n){return n.__isCombineMorphing}var Aae="__mOriginal_";function tD(n,e,t){var r=Aae+e,i=n[r]||n[e];n[r]||(n[r]=n[e]);var a=t.replace,o=t.after,s=t.before;n[e]=function(){var l=arguments,u;return s&&s.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),o&&o.apply(this,l),u}}function HS(n,e){var t=Aae+e;n[t]&&(n[e]=n[t],n[t]=null)}function KX(n,e){for(var t=0;t<n.length;t++)for(var r=n[t],i=0;i<r.length;){var a=r[i],o=r[i+1];r[i++]=e[0]*a+e[2]*o+e[4],r[i++]=e[1]*a+e[3]*o+e[5]}}function Cae(n,e){var t=n.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=Y8e(tz(t),tz(r)),a=i[0],o=i[1],s=n.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&KX(a,s),l&&KX(o,l),tD(e,"updateTransform",{replace:u}),e.transform=null;var c=Z8e(a,o,10,Math.PI),f=[];tD(e,"buildPath",{replace:function(h){for(var d=e.__morphT,v=1-d,g=[],y=0;y<c.length;y++){var x=c[y],b=x.from,T=x.to,M=x.rotation*d,C=x.fromCp,D=x.toCp,R=Math.sin(M),I=Math.cos(M);RS(g,C,D,d);for(var L=0;L<b.length;L+=2){var O=b[L],B=b[L+1],V=T[L],F=T[L+1],k=O*v+V*d,Y=B*v+F*d;f[L]=k*I-Y*R+g[0],f[L+1]=k*R+Y*I+g[1]}var H=f[0],W=f[1];h.moveTo(H,W);for(var L=2;L<b.length;){var V=f[L++],F=f[L++],q=f[L++],K=f[L++],re=f[L++],j=f[L++];H===V&&W===F&&q===re&&K===j?h.lineTo(re,j):h.bezierCurveTo(V,F,q,K,re,j),H=re,W=j}}}})}function jU(n,e,t){if(!n||!e)return e;var r=t.done,i=t.during;Cae(n,e),e.__morphT=0;function a(){HS(e,"buildPath"),HS(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Vt({during:function(o){e.dirtyShape(),i&&i(o)},done:function(){a(),r&&r()}},t)),e}function K8e(n,e,t,r,i,a){var o=16;n=i===t?0:Math.round(32767*(n-t)/(i-t)),e=a===r?0:Math.round(32767*(e-r)/(a-r));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(n&u)>0&&(c=1),(e&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(n=u-1-n,e=u-1-e),l=n,n=e,e=l)}return s}function nD(n){var e=1/0,t=1/0,r=-1/0,i=-1/0,a=$e(n,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(f,t),r=Math.max(c,r),i=Math.max(f,i),[c,f]}),o=$e(a,function(s,l){return{cp:s,z:K8e(s[0],s[1],e,t,r,i),path:n[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function Eae(n){return j8e(n.path,n.count)}function rz(){return{fromIndividuals:[],toIndividuals:[],count:0}}function J8e(n,e,t){var r=[];function i(C){for(var D=0;D<C.length;D++){var R=C[D];eD(R)?i(R.childrenRef()):R instanceof Mn&&r.push(R)}}i(n);var a=r.length;if(!a)return rz();var o=t.dividePath||Eae,s=o({path:e,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),rz();r=nD(r),s=nD(s);for(var l=t.done,u=t.during,c=t.individualDelay,f=new Eh,h=0;h<a;h++){var d=r[h],v=s[h];v.parent=e,v.copyTransform(f),c||Cae(d,v)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function g(C){for(var D=0;D<s.length;D++)s[D].addSelfToZr(C)}tD(e,"addSelfToZr",{after:function(C){g(C)}}),tD(e,"removeSelfFromZr",{after:function(C){for(var D=0;D<s.length;D++)s[D].removeSelfFromZr(C)}});function y(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,HS(e,"addSelfToZr"),HS(e,"removeSelfFromZr")}var x=s.length;if(c)for(var b=x,T=function(){b--,b===0&&(y(),l&&l())},h=0;h<x;h++){var M=c?Vt({delay:(t.delay||0)+c(h,x,r[h],s[h]),done:T},t):t;jU(r[h],s[h],M)}else e.__morphT=0,e.animateTo({__morphT:1},Vt({during:function(C){for(var D=0;D<x;D++){var R=s[D];R.__morphT=e.__morphT,R.dirtyShape()}u&&u(C)},done:function(){y();for(var C=0;C<n.length;C++)HS(n[C],"updateTransform");l&&l()}},t));return e.__zr&&g(e.__zr),{fromIndividuals:r,toIndividuals:s,count:x}}function Q8e(n,e,t){var r=e.length,i=[],a=t.dividePath||Eae;function o(d){for(var v=0;v<d.length;v++){var g=d[v];eD(g)?o(g.childrenRef()):g instanceof Mn&&i.push(g)}}if(eD(n)){o(n.childrenRef());var s=i.length;if(s<r)for(var l=0,u=s;u<r;u++)i.push(Bk(i[l++%s]));i.length=r}else{i=a({path:n,count:r});for(var c=n.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),rz()}i=nD(i),e=nD(e);for(var f=t.individualDelay,u=0;u<r;u++){var h=f?Vt({delay:(t.delay||0)+f(u,r,i[u],e[u])},t):t;jU(i[u],e[u],h)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function JX(n){return Ke(n[0])}function QX(n,e){for(var t=[],r=n.length,i=0;i<r;i++)t.push({one:n[i],many:[]});for(var i=0;i<e.length;i++){var a=e[i].length,o=void 0;for(o=0;o<a;o++)t[o%r].many.push(e[i][o])}for(var s=0,i=r-1;i>=0;i--)if(!t[i].many.length){var l=t[s].many;if(l.length<=1)if(s)s=0;else return t;var a=l.length,u=Math.ceil(a/2);t[i].many=l.slice(u,a),t[s].many=l.slice(0,u),s++}return t}var $8e={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),r=0;r<n.count;r++){var i=Bk(n.path);i.setStyle("opacity",t),e.push(i)}return e},split:null};function c5(n,e,t,r,i,a){if(!n.length||!e.length)return;var o=f_("update",r,i);if(!(o&&o.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;JX(n)&&(u=n,c=e),JX(e)&&(u=e,c=n);function f(x,b,T,M,C){var D=x.many,R=x.one;if(D.length===1&&!C){var I=b?D[0]:R,L=b?R:D[0];if(eD(I))f({many:[I],one:L},!0,T,M,!0);else{var O=s?Vt({delay:s(T,M)},l):l;jU(I,L,O),a(I,L,I,L,O)}}else for(var B=Vt({dividePath:$8e[t],individualDelay:s&&function(W,q,K,re){return s(W+T,M)}},l),V=b?J8e(D,R,B):Q8e(R,D,B),F=V.fromIndividuals,k=V.toIndividuals,Y=F.length,H=0;H<Y;H++){var O=s?Vt({delay:s(H,Y)},l):l;a(F[H],k[H],b?D[H]:x.one,b?x.one:D[H],O)}}for(var h=u?u===n:n.length>e.length,d=u?QX(c,u):QX(h?e:n,[h?n:e]),v=0,g=0;g<d.length;g++)v+=d[g].many.length;for(var y=0,g=0;g<d.length;g++)f(d[g],h,y,v),y+=d[g].many.length}function zg(n){if(!n)return[];if(Ke(n)){for(var e=[],t=0;t<n.length;t++)e.push(zg(n[t]));return e}var r=[];return n.traverse(function(i){i instanceof Mn&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var Dae=1e4,eVe=0,$X=1,eq=2,tVe=Sn();function nVe(n,e){for(var t=n.dimensions,r=0;r<t.length;r++){var i=n.getDimensionInfo(t[r]);if(i&&i.otherDims[e]===0)return t[r]}}function rVe(n,e,t){var r=n.getDimensionInfo(t),i=r&&r.ordinalMeta;if(r){var a=n.get(r.name,e);return i&&i.categories[a]||a+""}}function tq(n,e,t,r){var i=r?"itemChildGroupId":"itemGroupId",a=nVe(n,i);if(a){var o=rVe(n,e,a);return o}var s=n.getRawDataItem(e),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return t||n.getId(e)}function nq(n){var e=[];return J(n,function(t){var r=t.data,i=t.dataGroupId;if(!(r.count()>Dae))for(var a=r.getIndices(),o=0;o<a.length;o++)e.push({data:r,groupId:tq(r,o,i,!1),childGroupId:tq(r,o,i,!0),divide:t.divide,dataIndex:o})}),e}function f5(n,e,t){n.traverse(function(r){r instanceof Mn&&Gr(r,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function h5(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function Gy(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function iVe(n,e,t){var r=f_("update",t,e);r&&n.traverse(function(i){if(i instanceof nu){var a=bMe(i);a&&i.animateFrom({style:a},r)}})}function aVe(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++){var i=n[r],a=e[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Nae(n,e,t){var r=nq(n),i=nq(e);function a(T,M,C,D,R){(C||T)&&M.animateFrom({style:C&&C!==T?je(je({},C.style),T.style):T.style},R)}var o=!1,s=eVe,l=Tt(),u=Tt();r.forEach(function(T){T.groupId&&l.set(T.groupId,!0),T.childGroupId&&u.set(T.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){s=$X;break}var h=i[c].childGroupId;if(h&&l.get(h)){s=eq;break}}function d(T,M){return function(C){var D=C.data,R=C.dataIndex;return M?D.getId(R):T?s===$X?C.childGroupId:C.groupId:s===eq?C.childGroupId:C.groupId}}var v=aVe(r,i),g={};if(!v)for(var c=0;c<i.length;c++){var y=i[c],x=y.data.getItemGraphicEl(y.dataIndex);x&&(g[x.id]=!0)}function b(T,M){var C=r[M],D=i[T],R=D.data.hostModel,I=C.data.getItemGraphicEl(C.dataIndex),L=D.data.getItemGraphicEl(D.dataIndex);if(I===L){L&&iVe(L,D.dataIndex,R);return}I&&g[I.id]||L&&(Gy(L),I?(Gy(I),h5(I),o=!0,c5(zg(I),zg(L),D.divide,R,T,a)):f5(L,R,T))}new Wh(r,i,d(!0,v),d(!1,v),null,"multiple").update(b).updateManyToOne(function(T,M){var C=i[T],D=C.data,R=D.hostModel,I=D.getItemGraphicEl(C.dataIndex),L=Zn($e(M,function(O){return r[O].data.getItemGraphicEl(r[O].dataIndex)}),function(O){return O&&O!==I&&!g[O.id]});I&&(Gy(I),L.length?(J(L,function(O){Gy(O),h5(O)}),o=!0,c5(zg(L),zg(I),C.divide,R,T,a)):f5(I,R,C.dataIndex))}).updateOneToMany(function(T,M){var C=r[M],D=C.data.getItemGraphicEl(C.dataIndex);if(!(D&&g[D.id])){var R=Zn($e(T,function(L){return i[L].data.getItemGraphicEl(i[L].dataIndex)}),function(L){return L&&L!==D}),I=i[T[0]].data.hostModel;R.length&&(J(R,function(L){return Gy(L)}),D?(Gy(D),h5(D),o=!0,c5(zg(D),zg(R),C.divide,I,T[0],a)):J(R,function(L){return f5(L,I,T[0])}))}}).updateManyToMany(function(T,M){new Wh(M,T,function(C){return r[C].data.getId(r[C].dataIndex)},function(C){return i[C].data.getId(i[C].dataIndex)}).update(function(C,D){b(T[C],M[D])}).execute()}).execute(),o&&J(e,function(T){var M=T.data,C=M.hostModel,D=C&&t.getViewOfSeriesModel(C),R=f_("update",C,0);D&&C.isAnimationEnabled()&&R&&R.duration>0&&D.group.traverse(function(I){I instanceof Mn&&!I.animators.length&&I.animateFrom({style:{opacity:0}},R)})})}function rq(n){var e=n.getModel("universalTransition").get("seriesKey");return e||n.id}function iq(n){return Ke(n)?n.sort().join(","):n}function ap(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function oVe(n,e){var t=Tt(),r=Tt(),i=Tt();return J(n.oldSeries,function(a,o){var s=n.oldDataGroupIds[o],l=n.oldData[o],u=rq(a),c=iq(u);r.set(c,{dataGroupId:s,data:l}),Ke(u)&&J(u,function(f){i.set(f,{key:c,dataGroupId:s,data:l})})}),J(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),l=rq(a),u=iq(l),c=r.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:ap(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:ap(s),data:s}]});else if(Ke(l)){var f=[];J(l,function(v){var g=r.get(v);g.data&&f.push({dataGroupId:g.dataGroupId,divide:ap(g.data),data:g.data})}),f.length&&t.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:ap(s)}]})}else{var h=i.get(l);if(h){var d=t.get(h.key);d||(d={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:ap(h.data)}],newSeries:[]},t.set(h.key,d)),d.newSeries.push({dataGroupId:o,data:s,divide:ap(s)})}}}}),t}function aq(n,e){for(var t=0;t<n.length;t++){var r=e.seriesIndex!=null&&e.seriesIndex===n[t].seriesIndex||e.seriesId!=null&&e.seriesId===n[t].id;if(r)return t}}function sVe(n,e,t,r){var i=[],a=[];J(Nr(n.from),function(o){var s=aq(e.oldSeries,o);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:ap(e.oldData[s]),groupIdDim:o.dimension})}),J(Nr(n.to),function(o){var s=aq(t.updatedSeries,o);if(s>=0){var l=t.updatedSeries[s].getData();a.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:ap(l),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&Nae(i,a,r)}function lVe(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){J(Nr(r.seriesTransition),function(i){J(Nr(i.to),function(a){for(var o=r.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][OC]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,r){var i=tVe(t);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)J(Nr(a),function(d){sVe(d,i,r,t)});else{var o=oVe(i,r);J(o.keys(),function(d){var v=o.get(d);Nae(v.oldSeries,v.newSeries,t)})}J(r.updatedSeries,function(d){d[OC]&&(d[OC]=!1)})}for(var s=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<s.length;f++){var h=s[f].getData();h.count()<Dae&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(h))}})}var uVe=(function(){function n(){this.breaks=[],this._elapsedExtent=[1/0,-1/0]}return n.prototype.setBreaks=function(e){this.breaks=e.breaks},n.prototype.update=function(e){fVe(this,e);var t=this._elapsedExtent;t[0]=this.elapse(e[0]),t[1]=this.elapse(e[1])},n.prototype.hasBreaks=function(){return!!this.breaks.length},n.prototype.calcNiceTickMultiple=function(e,t){for(var r=0;r<this.breaks.length;r++){var i=this.breaks[r];if(i.vmin<e&&e<i.vmax){var a=t(e,i.vmax);return a}}return 0},n.prototype.getExtentSpan=function(){return this._elapsedExtent[1]-this._elapsedExtent[0]},n.prototype.normalize=function(e){var t=this._elapsedExtent[1]-this._elapsedExtent[0];return t===0?.5:(this.elapse(e)-this._elapsedExtent[0])/t},n.prototype.scale=function(e){return this.unelapse(e*(this._elapsedExtent[1]-this._elapsedExtent[0])+this._elapsedExtent[0])},n.prototype.elapse=function(e){for(var t=oq,r=sq,i=!0,a=0;a<this.breaks.length;a++){var o=this.breaks[a];if(e<=o.vmax){e>o.vmin?t+=o.vmin-r+(e-o.vmin)/(o.vmax-o.vmin)*o.gapReal:t+=e-r,r=o.vmax,i=!1;break}t+=o.vmin-r+o.gapReal,r=o.vmax}return i&&(t+=e-r),t},n.prototype.unelapse=function(e){for(var t=oq,r=sq,i=!0,a=0,o=0;o<this.breaks.length;o++){var s=this.breaks[o],l=t+s.vmin-r,u=l+s.gapReal;if(e<=u){e>l?a=s.vmin+(e-l)/(u-l)*(s.vmax-s.vmin):a=r+e-t,r=s.vmax,i=!1;break}t=u,r=s.vmax}return i&&(a=r+e-t),a},n})();function cVe(){return new uVe}var oq=0,sq=0;function fVe(n,e){var t=0,r={tpAbs:{span:0,val:0},tpPrct:{span:0,val:0}},i=function(){return{has:!1,span:NaN,inExtFrac:NaN,val:NaN}},a={S:{tpAbs:i(),tpPrct:i()},E:{tpAbs:i(),tpPrct:i()}};J(n.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(t+=l.val);var u=WU(s,e);if(u){var c=u.vmin!==s.vmin,f=u.vmax!==s.vmax,h=u.vmax-u.vmin;if(!(c&&f))if(c||f){var d=c?"S":"E";a[d][l.type].has=!0,a[d][l.type].span=h,a[d][l.type].inExtFrac=h/(s.vmax-s.vmin),a[d][l.type].val=l.val}else r[l.type].span+=h,r[l.type].val+=l.val}});var o=t*(0+(e[1]-e[0])+(r.tpAbs.val-r.tpAbs.span)+(a.S.tpAbs.has?(a.S.tpAbs.val-a.S.tpAbs.span)*a.S.tpAbs.inExtFrac:0)+(a.E.tpAbs.has?(a.E.tpAbs.val-a.E.tpAbs.span)*a.E.tpAbs.inExtFrac:0)-r.tpPrct.span-(a.S.tpPrct.has?a.S.tpPrct.span*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.span*a.E.tpPrct.inExtFrac:0))/(1-r.tpPrct.val-(a.S.tpPrct.has?a.S.tpPrct.val*a.S.tpPrct.inExtFrac:0)-(a.E.tpPrct.has?a.E.tpPrct.val*a.E.tpPrct.inExtFrac:0));J(n.breaks,function(s){var l=s.gapParsed;l.type==="tpPrct"&&(s.gapReal=t!==0?Math.max(o,0)*l.val/t:0),l.type==="tpAbs"&&(s.gapReal=l.val),s.gapReal==null&&(s.gapReal=0)})}function hVe(n,e,t,r,i,a){n!=="no"&&J(t,function(o){var s=WU(o,a);if(s)for(var l=e.length-1;l>=0;l--){var u=e[l],c=r(u),f=i*3/4;c>s.vmin-f&&c<s.vmax+f&&(n!=="preserve_extent_bound"||c!==a[0]&&c!==a[1])&&e.splice(l,1)}})}function dVe(n,e,t,r){J(e,function(i){var a=WU(i,t);a&&(n.push({value:a.vmin,break:{type:"vmin",parsedBreak:a},time:r?r(a):void 0}),n.push({value:a.vmax,break:{type:"vmax",parsedBreak:a},time:r?r(a):void 0}))}),e.length&&n.sort(function(i,a){return i.value-a.value})}function WU(n,e){var t=Math.max(n.vmin,e[0]),r=Math.min(n.vmax,e[1]);return t<r||t===r&&t>e[0]&&t<e[1]?{vmin:t,vmax:r,breakOption:n.breakOption,gapParsed:n.gapParsed,gapReal:n.gapReal}:null}function iz(n,e,t){var r=[];if(!n)return{breaks:r};function i(o,s){return o>=0&&o<1-1e-5}J(n,function(o){if(!(!o||o.start==null||o.end==null)&&!o.isExpanded){var s={breakOption:Pt(o),vmin:e(o.start),vmax:e(o.end),gapParsed:{type:"tpAbs",val:0},gapReal:null};if(o.gap!=null){var l=!1;if(vt(o.gap)){var u=ol(o.gap);if(u.match(/%$/)){var c=parseFloat(u)/100;i(c)||(c=0),s.gapParsed.type="tpPrct",s.gapParsed.val=c,l=!0}}if(!l){var f=e(o.gap);(!isFinite(f)||f<0)&&(f=0),s.gapParsed.type="tpAbs",s.gapParsed.val=f}}if(s.vmin===s.vmax&&(s.gapParsed.type="tpAbs",s.gapParsed.val=0),t&&t.noNegative&&J(["vmin","vmax"],function(d){s[d]<0&&(s[d]=0)}),s.vmin>s.vmax){var h=s.vmax;s.vmax=s.vmin,s.vmin=h}r.push(s)}}),r.sort(function(o,s){return o.vmin-s.vmin});var a=-1/0;return J(r,function(o,s){a>o.vmin&&(r[s]=null),a=o.vmax}),{breaks:r.filter(function(o){return!!o})}}function YU(n,e){return az(e)===az(n)}function az(n){return n.start+"_\0_"+n.end}function pVe(n,e,t){var r=[];J(n,function(a,o){var s=e(a);s&&s.type==="vmin"&&r.push([o])}),J(n,function(a,o){var s=e(a);if(s&&s.type==="vmax"){var l=Hp(r,function(u){return YU(e(n[u[0]]).parsedBreak.breakOption,s.parsedBreak.breakOption)});l&&l.push(o)}});var i=[];return J(r,function(a){a.length===2&&i.push(t?a:[n[a[0]],n[a[1]]])}),i}function vVe(n,e,t,r){var i,a;if(n.break){var o=n.break.parsedBreak,s=Hp(t,function(f){return YU(f.breakOption,n.break.parsedBreak.breakOption)}),l=r(Math.pow(e,o.vmin),s.vmin),u=r(Math.pow(e,o.vmax),s.vmax),c={type:o.gapParsed.type,val:o.gapParsed.type==="tpAbs"?ki(Math.pow(e,o.vmin+o.gapParsed.val))-l:o.gapParsed.val};i={type:n.break.type,parsedBreak:{breakOption:o.breakOption,vmin:l,vmax:u,gapParsed:c,gapReal:o.gapReal}},a=s[n.break.type]}return{brkRoundingCriterion:a,vBreak:i}}function gVe(n,e,t){var r={noNegative:!0},i=iz(n,t,r),a=iz(n,t,r),o=Math.log(e);return a.breaks=$e(a.breaks,function(s){var l=Math.log(s.vmin)/o,u=Math.log(s.vmax)/o,c={type:s.gapParsed.type,val:s.gapParsed.type==="tpAbs"?Math.log(s.vmin+s.gapParsed.val)/o-l:s.gapParsed.val};return{vmin:l,vmax:u,gapParsed:c,gapReal:s.gapReal,breakOption:s.breakOption}}),{parsedOriginal:i,parsedLogged:a}}var mVe={vmin:"start",vmax:"end"};function yVe(n,e){return e&&(n=n||{},n.break={type:mVe[e.type],start:e.parsedBreak.vmin,end:e.parsedBreak.vmax}),n}function xVe(){FMe({createScaleBreakContext:cVe,pruneTicksByBreak:hVe,addBreaksToTicks:dVe,parseAxisBreakOption:iz,identifyAxisBreak:YU,serializeAxisBreakIdentifier:az,retrieveAxisBreakPairs:pVe,getTicksLogTransformBreak:vVe,logarithmicParseBreaksFromOption:gVe,makeAxisLabelFormatterParamBreak:yVe})}var lq=Sn();function _Ve(n,e){var t=Hp(n,function(r){return Qi().identifyAxisBreak(r.parsedBreak.breakOption,e.breakOption)});return t||n.push(t={zigzagRandomList:[],parsedBreak:e,shouldRemove:!1}),t}function bVe(n){J(n,function(e){return e.shouldRemove=!0})}function SVe(n){for(var e=n.length-1;e>=0;e--)n[e].shouldRemove&&n.splice(e,1)}function wVe(n,e,t,r,i){var a=t.axis;if(a.scale.isBlank()||!Qi())return;var o=Qi().retrieveAxisBreakPairs(a.scale.getTicks({breakTicks:"only_break"}),function(L){return L.break},!1);if(!o.length)return;var s=t.getModel("breakArea"),l=s.get("zigzagAmplitude"),u=s.get("zigzagMinSpan"),c=s.get("zigzagMaxSpan");u=Math.max(2,u||0),c=Math.max(u,c||0);var f=s.get("expandOnClick"),h=s.get("zigzagZ"),d=s.getModel("itemStyle"),v=d.getItemStyle(),g=v.stroke,y=v.lineWidth,x=v.lineDash,b=v.fill,T=new zt({ignoreModelZ:!0}),M=a.isHorizontal(),C=lq(e).visualList||(lq(e).visualList=[]);bVe(C);for(var D=function(L){var O=o[L][0].break.parsedBreak,B=[];B[0]=a.toGlobalCoord(a.dataToCoord(O.vmin,!0)),B[1]=a.toGlobalCoord(a.dataToCoord(O.vmax,!0)),B[1]<B[0]&&B.reverse();var V=_Ve(C,O);V.shouldRemove=!1;var F=new zt;I(V.zigzagRandomList,F,B[0],B[1],M,O),f&&F.on("click",function(){var k={type:EN,breaks:[{start:O.breakOption.start,end:O.breakOption.end}]};k[a.dim+"AxisIndex"]=t.componentIndex,i.dispatchAction(k)}),F.silent=!f,T.add(F)},R=0;R<o.length;R++)D(R);n.add(T),SVe(C);function I(L,O,B,V,F,k){var Y={stroke:g,lineWidth:y,lineDash:x,fill:"none"},H=F?0:1,W=1-H,q=r[Qt[W]]+r[$i[W]];function K(ct){var X=[],te=[];X[H]=te[H]=ct,X[W]=r[Qt[W]],te[W]=q;var ve={x1:X[0],y1:X[1],x2:te[0],y2:te[1]};return dN(ve,ve,{lineWidth:1}),X[0]=ve.x1,X[1]=ve.y1,X[H]}B=K(B),V=K(V);for(var re=[],j=[],Q=!0,ne=r[Qt[W]],se=0;;se++){var he=ne===r[Qt[W]],pe=ne>=q;pe&&(ne=q);var xe=[],Te=[];xe[H]=B,Te[H]=V,!he&&!pe&&(xe[H]+=Q?-l:l,Te[H]-=Q?l:-l),xe[W]=ne,Te[W]=ne,re.push(xe),j.push(Te);var Me=void 0;if(se<L.length?Me=L[se]:(Me=Math.random(),L.push(Me)),ne+=Me*(c-u)+u,Q=!Q,pe)break}var Re=Qi().serializeAxisBreakIdentifier(k.breakOption);if(O.add(new Xa({anid:"break_a_"+Re,shape:{points:re},style:Y,z:h})),k.gapReal!==0){O.add(new Xa({anid:"break_b_"+Re,shape:{points:j},style:Y,z:h}));var Ue=j.slice();Ue.reverse();var et=re.concat(Ue);O.add(new fo({anid:"break_c_"+Re,shape:{points:et},style:{fill:b,opacity:v.opacity},z:h}))}}}function TVe(n,e,t,r){var i=n.axis,a=t.transform;uo(r.style);var o=i.getExtent();i.inverse&&(o=o.slice(),o.reverse());var s=Qi().retrieveAxisBreakPairs(i.scale.getTicks({breakTicks:"only_break"}),function(y){return y.break},!1),l=$e(s,function(y){var x=y[0].break.parsedBreak,b=[i.dataToCoord(x.vmin,!0),i.dataToCoord(x.vmax,!0)];return b[0]>b[1]&&b.reverse(),{coordPair:b,brkId:Qi().serializeAxisBreakIdentifier(x.breakOption)}});l.sort(function(y,x){return y.coordPair[0]-x.coordPair[0]});for(var u=o[0],c=null,f=0;f<l.length;f++){var h=l[f],d=Math.max(h.coordPair[0],o[0]),v=Math.min(h.coordPair[1],o[1]);u<=d&&g(u,d,c,h),u=v,c=h}u<=o[1]&&g(u,o[1],c,null);function g(y,x,b,T){function M(B,V){a&&(Ai(B,B,a),Ai(V,V,a))}function C(B,V){var F={x1:B[0],y1:B[1],x2:V[0],y2:V[1]};dN(F,F,r.style),B[0]=F.x1,B[1]=F.y1,V[0]=F.x2,V[1]=F.y2}var D=[y,0],R=[x,0],I=[y,5],L=[x,5];M(D,I),C(D,I),M(R,L),C(R,L),C(D,R);var O=new Bi(je({shape:{x1:D[0],y1:D[1],x2:R[0],y2:R[1]}},r));e.add(O),O.anid="breakLine_"+(b?b.brkId:"\0")+"_\0_"+(T?T.brkId:"\0")}}function MVe(n,e,t){if(Hp(t,function(b){return!b}))return;var r=new jt;if(!AN(t[0],t[1],r,{direction:-(n?e+Math.PI:e),touchThreshold:0,bidirectional:!1}))return;var i=Ma();Zh(i,i,-e);var a=$e(t,function(b){return b.transform?Yu(Ma(),i,b.transform):i});function o(b){var T=t[0].localRect,M=new jt(T[$i[b]]*a[0][0],T[$i[b]]*a[0][1]);return Math.abs(M.y)<1e-5}var s=.5;if(o(0)||o(1)){var l=$e(t,function(b,T){var M=b.localRect.clone();return M.applyTransform(a[T]),M}),u=new jt;u.copy(t[0].label).add(t[1].label).scale(.5),u.transform(i);var c=r.clone().transform(i),f=l[0].x+l[1].x+(c.x>=0?l[0].width:l[1].width),h=(f+c.x)/2-u.x,d=Math.min(h,h-c.x),v=Math.max(h,h-c.x),g=v<0?v:d>0?d:0;s=(h-g)/c.x}var y=new jt,x=new jt;jt.scale(y,r,-s),jt.scale(x,r,1-s),o4(t[0],y),o4(t[1],x)}function AVe(n,e){var t={breaks:[]};return J(e.breaks,function(r){if(r){var i=Hp(n.get("breaks",!0),function(s){return Qi().identifyAxisBreak(s,r)});if(i){var a=e.type,o={isExpanded:!!i.isExpanded};i.isExpanded=a===EN?!0:a===Jne?!1:a===Qne?!i.isExpanded:i.isExpanded,t.breaks.push({start:i.start,end:i.end,isExpanded:!!i.isExpanded,old:o})}}}),t}function CVe(){SRe({adjustBreakLabelPair:MVe,buildAxisBreakLine:TVe,rectCoordBuildBreakAxis:wVe,updateModelAxisBreak:AVe})}function EVe(n){ERe(n),xVe(),CVe()}function DVe(){ZRe(NVe)}function NVe(n,e){J(n,function(t){if(!t.model.get(["axisLabel","inside"])){var r=RVe(t);if(r){var i=t.isHorizontal()?"height":"width",a=t.model.get(["axisLabel","margin"]);e[i]-=r[i]+a,t.position==="top"?e.y+=r.height+a:t.position==="left"&&(e.x+=r.width+a)}}})}function RVe(n){var e=n.model,t=n.scale;if(!e.get(["axisLabel","show"])||t.isBlank())return;var r,i,a=t.getExtent();t instanceof Ux?i=t.count():(r=t.getTicks(),i=r.length);var o=n.getLabelModel(),s=b_(n),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=r?r[c]:{value:a[0]+c},h=s(f,c),d=o.getTextRect(h),v=g(d,o.get("rotate")||0);l?l.union(v):l=v}return l;function g(y,x){var b=x*Math.PI/180,T=y.width,M=y.height,C=T*Math.abs(Math.cos(b))+Math.abs(M*Math.sin(b)),D=T*Math.abs(Math.sin(b))+Math.abs(M*Math.cos(b)),R=new Wt(y.x,y.y,C,D);return R}}fn([_Ne]);fn([vNe]);fn([VNe,tRe,fRe,pLe,MLe,pIe,FIe,TOe,WOe,QOe,i5e,h5e,aPe,DPe,VPe,n4e,o4e,g4e,w4e,O4e,V4e,K4e,Oze]);fn($ze);fn(Tke);fn(Tre);fn(zke);fn(cie);fn(Vke);fn(oBe);fn(vBe);fn(tUe);fn(_Ue);fn(Iw);fn(zUe);fn(UUe);fn(ZUe);fn(r6e);fn(u6e);fn(v6e);fn(M6e);fn(j6e);fn(gae);fn(mae);fn(c8e);fn(Sae);fn(wae);fn(p8e);fn(x8e);fn(L8e);fn(P8e);fn(lVe);fn(PDe);fn(EVe);fn(DVe);fn(vLe);const LVe=Object.freeze(Object.defineProperty({__proto__:null,Axis:su,ChartView:vr,ComponentModel:bn,ComponentView:Rr,List:Uo,Model:Tn,PRIORITY:yte,SeriesModel:_r,color:I2e,connect:BEe,dataTool:YEe,dependencies:_Ee,disConnect:UEe,disconnect:Ate,dispose:VEe,env:Dn,extendChartView:_De,extendComponentModel:mDe,extendComponentView:yDe,extendSeriesModel:xDe,format:nDe,getCoordinateSystemDimensions:GEe,getInstanceByDom:SB,getInstanceById:FEe,getMap:WEe,graphic:tDe,helper:X3e,init:kEe,innerDrawElementOnCanvas:yB,matrix:l2e,number:$3e,parseGeoJSON:i4,parseGeoJson:i4,registerAction:ic,registerCoordinateSystem:Dte,registerCustomSeries:HEe,registerLayout:Nte,registerLoading:CB,registerLocale:Zk,registerMap:Rte,registerPostInit:Cte,registerPostUpdate:Ete,registerPreprocessor:TB,registerProcessor:MB,registerTheme:wB,registerTransform:Lte,registerUpdateLifecycle:MN,registerVisual:Xp,setCanvasCreator:jEe,setPlatformAPI:dQ,throttle:wN,time:eDe,use:fn,util:rDe,vector:XSe,version:xEe,zrUtil:VSe,zrender:vwe},Symbol.toStringTag,{value:"Module"}));var vh={},gh={},d5={},uq;function IVe(){return uq||(uq=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=1,t=function(){return"".concat(e++)};n.default=t})(d5)),d5}var qb={},Zb={},p5={},cq;function Rae(){return cq||(cq=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,a=null;return function(){for(var o=this,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];clearTimeout(a),a=setTimeout(function(){r.apply(o,l)},i)}};n.default=e})(p5)),p5}var mh={},fq;function XU(){if(fq)return mh;fq=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.SizeSensorId=mh.SensorTabIndex=mh.SensorClassName=void 0;var n="size-sensor-id";mh.SizeSensorId=n;var e="size-sensor-object";mh.SensorClassName=e;var t="-1";return mh.SensorTabIndex=t,mh}var hq;function OVe(){if(hq)return Zb;hq=1,Object.defineProperty(Zb,"__esModule",{value:!0}),Zb.createSensor=void 0;var n=t(Rae()),e=XU();function t(i){return i&&i.__esModule?i:{default:i}}var r=function(a,o){var s=void 0,l=[],u=function(){getComputedStyle(a).position==="static"&&(a.style.position="relative");var g=document.createElement("object");return g.onload=function(){g.contentDocument.defaultView.addEventListener("resize",c),c()},g.style.display="block",g.style.position="absolute",g.style.top="0",g.style.left="0",g.style.height="100%",g.style.width="100%",g.style.overflow="hidden",g.style.pointerEvents="none",g.style.zIndex="-1",g.style.opacity="0",g.setAttribute("class",e.SensorClassName),g.setAttribute("tabindex",e.SensorTabIndex),g.type="text/html",a.appendChild(g),g.data="about:blank",g},c=(0,n.default)(function(){l.forEach(function(v){v(a)})}),f=function(g){s||(s=u()),l.indexOf(g)===-1&&l.push(g)},h=function(){s&&s.parentNode&&(s.contentDocument&&s.contentDocument.defaultView.removeEventListener("resize",c),s.parentNode.removeChild(s),a.removeAttribute(e.SizeSensorId),s=void 0,l=[],o&&o())},d=function(g){var y=l.indexOf(g);y!==-1&&l.splice(y,1),l.length===0&&s&&h()};return{element:a,bind:f,destroy:h,unbind:d}};return Zb.createSensor=r,Zb}var Kb={},dq;function PVe(){if(dq)return Kb;dq=1,Object.defineProperty(Kb,"__esModule",{value:!0}),Kb.createSensor=void 0;var n=XU(),e=t(Rae());function t(i){return i&&i.__esModule?i:{default:i}}var r=function(a,o){var s=void 0,l=[],u=(0,e.default)(function(){l.forEach(function(v){v(a)})}),c=function(){var g=new ResizeObserver(u);return g.observe(a),u(),g},f=function(g){s||(s=c()),l.indexOf(g)===-1&&l.push(g)},h=function(){s.disconnect(),l=[],s=void 0,a.removeAttribute(n.SizeSensorId),o&&o()},d=function(g){var y=l.indexOf(g);y!==-1&&l.splice(y,1),l.length===0&&s&&h()};return{element:a,bind:f,destroy:h,unbind:d}};return Kb.createSensor=r,Kb}var pq;function zVe(){if(pq)return qb;pq=1,Object.defineProperty(qb,"__esModule",{value:!0}),qb.createSensor=void 0;var n=OVe(),e=PVe(),t=typeof ResizeObserver<"u"?e.createSensor:n.createSensor;return qb.createSensor=t,qb}var vq;function kVe(){if(vq)return gh;vq=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.removeSensor=gh.getSensor=gh.Sensors=void 0;var n=r(IVe()),e=zVe(),t=XU();function r(l){return l&&l.__esModule?l:{default:l}}var i={};gh.Sensors=i;function a(l){l&&i[l]&&delete i[l]}var o=function(u){var c=u.getAttribute(t.SizeSensorId);if(c&&i[c])return i[c];var f=(0,n.default)();u.setAttribute(t.SizeSensorId,f);var h=(0,e.createSensor)(u,function(){return a(f)});return i[f]=h,h};gh.getSensor=o;var s=function(u){var c=u.element.getAttribute(t.SizeSensorId);u.destroy(),a(c)};return gh.removeSensor=s,gh}var gq;function BVe(){if(gq)return vh;gq=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.ver=vh.clear=vh.bind=void 0;var n=kVe(),e=function(a,o){var s=(0,n.getSensor)(a);return s.bind(o),function(){s.unbind(o)}};vh.bind=e;var t=function(a){var o=(0,n.getSensor)(a);(0,n.removeSensor)(o)};vh.clear=t;var r="1.0.2";return vh.ver=r,vh}var mq=BVe();function yq(n,e){var t={};return e.forEach(function(r){t[r]=n[r]}),t}function v5(n){return typeof n=="function"}function xq(n){return typeof n=="string"}var g5,_q;function UVe(){return _q||(_q=1,g5=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),g5}var VVe=UVe();const Hy=Xx(VVe);var FVe=(function(n){fQ(e,n);function e(t){var r=n.call(this,t)||this;return r.echarts=t.echarts,r.ele=null,r.isInitialResize=!0,r}return e.prototype.componentDidMount=function(){this.renderNewEcharts()},e.prototype.componentDidUpdate=function(t){var r=this.props.shouldSetOption;if(!(v5(r)&&!r(t,this.props))){if(!Hy(t.theme,this.props.theme)||!Hy(t.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var i=this.getEchartsInstance();Hy(t.onEvents,this.props.onEvents)||(this.offEvents(i,t.onEvents),this.bindEvents(i,this.props.onEvents));var a=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];Hy(yq(this.props,a),yq(t,a))||this.updateEChartsOption(),(!Hy(t.style,this.props.style)||!Hy(t.className,this.props.className))&&this.resize()}},e.prototype.componentWillUnmount=function(){this.dispose()},e.prototype.initEchartsInstance=function(){return LG(this,void 0,void 0,function(){var t=this;return IG(this,function(r){return[2,new Promise(function(i){t.echarts.init(t.ele,t.props.theme,t.props.opts);var a=t.getEchartsInstance();a.on("finished",function(){var o=t.ele.clientWidth,s=t.ele.clientHeight;t.echarts.dispose(t.ele);var l=ES({width:o,height:s},t.props.opts);i(t.echarts.init(t.ele,t.props.theme,l))})})]})})},e.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},e.prototype.dispose=function(){if(this.ele){try{mq.clear(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},e.prototype.renderNewEcharts=function(){return LG(this,void 0,void 0,function(){var t,r,i,a,o,s,l=this;return IG(this,function(u){switch(u.label){case 0:return t=this.props,r=t.onEvents,i=t.onChartReady,a=t.autoResize,o=a===void 0?!0:a,[4,this.initEchartsInstance()];case 1:return u.sent(),s=this.updateEChartsOption(),this.bindEvents(s,r||{}),v5(i)&&i(s),this.ele&&o&&mq.bind(this.ele,function(){l.resize()}),[2]}})})},e.prototype.bindEvents=function(t,r){function i(o,s){xq(o)&&v5(s)&&t.on(o,function(l){s(l,t)})}for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&i(a,r[a])},e.prototype.offEvents=function(t,r){if(r)for(var i in r)xq(i)&&t.off(i,r[i])},e.prototype.updateEChartsOption=function(){var t=this.props,r=t.option,i=t.notMerge,a=i===void 0?!1:i,o=t.replaceMerge,s=o===void 0?null:o,l=t.lazyUpdate,u=l===void 0?!1:l,c=t.showLoading,f=t.loadingOption,h=f===void 0?null:f,d=this.getEchartsInstance();return d.setOption(r,{notMerge:a,replaceMerge:s,lazyUpdate:u}),c?d.showLoading(h):d.hideLoading(),d},e.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize({width:"auto",height:"auto"})}catch(r){console.warn(r)}this.isInitialResize=!1},e.prototype.render=function(){var t=this,r=this.props,i=r.style,a=r.className,o=a===void 0?"":a;r.echarts,r.option,r.theme,r.notMerge,r.replaceMerge,r.lazyUpdate,r.showLoading,r.loadingOption,r.opts,r.onChartReady,r.onEvents,r.shouldSetOption,r.autoResize;var s=SSe(r,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),l=ES({height:300},i);return Xr.createElement("div",ES({ref:function(u){t.ele=u},style:l,className:"echarts-for-react ".concat(o)},s))},e})(fe.PureComponent),GVe=(function(n){fQ(e,n);function e(t){var r=n.call(this,t)||this;return r.echarts=LVe,r}return e})(FVe);const HVe=({title:n,type:e,data:t,isEmpty:r,onConnect:i})=>{if(r)return E.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-dashed border-gray-300 shadow-sm flex flex-col items-center justify-center h-full min-h-[300px] hover:bg-gray-50 transition-colors cursor-pointer group",onClick:i,children:[E.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-blue-100 transition-colors",children:E.jsx(ose,{size:24,className:"text-gray-400 group-hover:text-blue-500"})}),E.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-blue-600",children:"Connect Data Source"})]});const a=()=>{const s=t||{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],values:[120,200,150,80,70,110,130]},l={title:{text:n,left:"center",textStyle:{fontSize:14,fontWeight:"normal",color:"#6b7280"}},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:s.categories,axisLine:{lineStyle:{color:"#e5e7eb"}},axisLabel:{color:"#6b7280"}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#f3f4f6"}},axisLabel:{color:"#6b7280"}},series:[{data:s.values,type:e,smooth:!0,itemStyle:{color:"#3b82f6"},areaStyle:e==="line"?{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(59, 130, 246, 0.3)"},{offset:1,color:"rgba(59, 130, 246, 0)"}]}}:void 0}]};return e==="pie"?{...l,tooltip:{trigger:"item"},xAxis:void 0,yAxis:void 0,grid:void 0,series:[{name:n,type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"}},data:s.values.map((u,c)=>({value:u,name:s.categories[c]}))}]}:l};return E.jsx("div",{className:"bg-white p-4 rounded-2xl border border-gray-200 shadow-sm h-full min-h-[300px]",children:E.jsx(GVe,{option:a(),style:{height:"100%",width:"100%"}})})},jVe=({activePage:n,allPageWidgets:e,widgets:t=[],onDeleteWidget:r,onUpdateWidget:i})=>{var T,M,C,D,R;const[a,o]=fe.useState(null),[s,l]=fe.useState("select-table"),[u,c]=fe.useState(null),[f,h]=fe.useState({}),d=()=>{if(n.includes("/analytics")){const I=n.replace("/analytics","/data");return(e[I]||[]).filter(O=>O.type==="custom-table")}return[]},v=I=>{o(I),l("select-table"),c(null),h({})},g=I=>{c(I),l("configure");const L=d().find(O=>O.id===I);if(L){const O=L.columns.find(V=>V.type==="text"),B=L.columns.find(V=>V.type==="number");h({xAxisColumn:(O==null?void 0:O.id)||"",yAxisColumn:(B==null?void 0:B.id)||"",aggregation:"count"})}},y=()=>{if(a&&u){const I=d().find(L=>L.id===u);i&&i(a,{sourceTableId:u,title:(I==null?void 0:I.title)||"Connected Widget",config:f,subtext:f.aggregation==="sum"?"Total Value":"Count of records",trend:{value:"+12.5%",direction:"up"}})}o(null)},x=()=>d().find(I=>I.id===u),b=()=>t.find(I=>I.id===a);return E.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50/50 overflow-y-auto relative",children:[a&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200 flex flex-col max-h-[80vh]",children:[E.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[E.jsx("h3",{className:"font-semibold text-gray-800",children:s==="select-table"?"Select Data Source":"Configure Data"}),E.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:E.jsx(dS,{size:18,className:"rotate-45"})})]}),E.jsx("div",{className:"p-0 overflow-y-auto flex-1",children:s==="select-table"?E.jsx("div",{className:"p-2",children:d().length===0?E.jsxs("div",{className:"p-8 text-center flex flex-col items-center text-gray-500",children:[E.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:E.jsx(TR,{size:24,className:"text-gray-400"})}),E.jsx("p",{className:"font-medium",children:"No tables found"}),E.jsx("p",{className:"text-sm mt-1",children:"Create a table in the Data section first."})]}):E.jsx("div",{className:"space-y-1",children:d().map(I=>{var L;return E.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-blue-50 rounded-lg group transition-colors flex items-center justify-between border border-transparent hover:border-blue-100",onClick:()=>g(I.id),children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center mr-3 group-hover:bg-blue-200 transition-colors",children:E.jsx(Uq,{size:16})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:I.title||"Untitled Table"}),E.jsxs("div",{className:"text-xs text-gray-500",children:[((L=I.rows)==null?void 0:L.length)||0," records"]})]})]}),E.jsx("div",{className:"opacity-0 group-hover:opacity-100 text-blue-600 transition-opacity",children:E.jsx(jS,{size:16})})]},I.id)})})}):E.jsxs("div",{className:"p-6 space-y-6",children:[((T=b())==null?void 0:T.type)==="chart"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X Axis (Category)"}),E.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.xAxisColumn,onChange:I=>h({...f,xAxisColumn:I.target.value}),children:[E.jsx("option",{value:"",children:"Select Column..."}),(M=x())==null?void 0:M.columns.map(I=>E.jsx("option",{value:I.id,children:I.name},I.id))]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y Axis (Value)"}),E.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.yAxisColumn,onChange:I=>h({...f,yAxisColumn:I.target.value}),children:[E.jsx("option",{value:"",children:"Select Column..."}),(C=x())==null?void 0:C.columns.map(I=>E.jsx("option",{value:I.id,children:I.name},I.id))]})]})]}),((D=b())==null?void 0:D.type)==="kpi-card"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metric"}),E.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.aggregation,onChange:I=>h({...f,aggregation:I.target.value}),children:[E.jsx("option",{value:"count",children:"Count of Records"}),E.jsx("option",{value:"sum",children:"Sum of Column"}),E.jsx("option",{value:"avg",children:"Average of Column"})]})]}),f.aggregation!=="count"&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Column"}),E.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:f.yAxisColumn,onChange:I=>h({...f,yAxisColumn:I.target.value}),children:[E.jsx("option",{value:"",children:"Select Column..."}),(R=x())==null?void 0:R.columns.filter(I=>I.type==="number").map(I=>E.jsx("option",{value:I.id,children:I.name},I.id))]})]})]})]})}),E.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 text-xs text-gray-500 flex justify-between items-center",children:s==="select-table"?E.jsxs(E.Fragment,{children:[E.jsx("span",{children:"Select a table to link."}),E.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>o(null),children:"Cancel"})]}):E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"text-gray-600 hover:text-gray-900 font-medium",onClick:()=>l("select-table"),children:"Back"}),E.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",onClick:y,children:"Finish"})]})})]})}),E.jsxs("div",{className:"p-8 w-full",children:[E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-start",children:t.map(I=>{if(I.type==="custom-table")return E.jsx("div",{className:"col-span-full",children:E.jsx(_Se,{...I,onDelete:()=>r&&r(I.id),onRenameTable:L=>i&&i(I.id,{title:L}),onRenameColumn:(L,O)=>{const B=I.columns.map(V=>V.id===L?{...V,name:O}:V);i&&i(I.id,{columns:B})},onAddColumn:()=>{const L={id:Math.random().toString(36).substr(2,9),name:"New Column",type:"text",width:150};i&&i(I.id,{columns:[...I.columns,L]})},onUpdateColumnType:(L,O)=>{const B=I.columns.map(V=>V.id===L?{...V,type:O}:V);i&&i(I.id,{columns:B})},onDeleteColumn:L=>{const O=I.columns.filter(B=>B.id!==L);i&&i(I.id,{columns:O})},onUpdateColumnColor:(L,O)=>{const B=I.columns.map(V=>V.id===L?{...V,color:O}:V);i&&i(I.id,{columns:B})},onUpdateRow:(L,O)=>{const B=I.rows||[],V=B.some(k=>k.id===L);let F;V?F=B.map(k=>k.id===L?{...k,data:O}:k):F=[...B,{id:L,data:O}],i&&i(I.id,{rows:F})}})},I.id);if(I.type==="kpi-card"){const O={DollarSign:Eq,Users:jC,ShoppingBag:kq,Activity:TR}[I.icon]||TR;let B=I.value;if(I.sourceTableId){const V=n.replace("/analytics","/data"),k=(e[V]||[]).find(Y=>Y.id===I.sourceTableId);if(k){const Y=I.config||{aggregation:"count"};if(Y.aggregation==="count")B=(k.rows||[]).length.toString();else if(Y.aggregation==="sum"&&Y.yAxisColumn)B=(k.rows||[]).reduce((W,q)=>{const K=parseFloat(q.data[Y.yAxisColumn])||0;return W+K},0).toLocaleString();else if(Y.aggregation==="avg"&&Y.yAxisColumn){const H=k.rows||[];H.length>0?B=(H.reduce((q,K)=>{const re=parseFloat(K.data[Y.yAxisColumn])||0;return q+re},0)/H.length).toFixed(1):B="0"}else B=(k.rows||[]).length.toString()}}return E.jsxs("div",{className:"relative group w-full",children:[E.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:E.jsx("button",{onClick:()=>r&&r(I.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:E.jsx(dS,{size:12})})}),E.jsx(bSe,{title:I.title,value:B,icon:O,trend:I.trend,subtext:I.subtext,isEmpty:!I.value&&!I.sourceTableId,onConnect:()=>v(I.id)})]},I.id)}if(I.type==="chart"){let L=null;if(I.sourceTableId){const O=n.replace("/analytics","/data"),V=(e[O]||[]).find(F=>F.id===I.sourceTableId);if(V&&V.rows&&V.rows.length>0){const F=I.config||{},k=F.xAxisColumn,Y=F.yAxisColumn,H=V.columns||[],W=k?H.find(K=>K.id===k):H.find(K=>K.type==="text"),q=Y?H.find(K=>K.id===Y):H.find(K=>K.type==="number");if(W){const K=V.rows.map(j=>j.data[W.id]||"Unknown");let re;q?re=V.rows.map(j=>parseFloat(j.data[q.id])||0):re=V.rows.map(()=>1),L={categories:K,values:re}}}}return E.jsxs("div",{className:"col-span-2 h-[320px] relative group",children:[E.jsx("div",{className:"absolute -right-2 -top-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:E.jsx("button",{onClick:()=>r&&r(I.id),className:"bg-red-500 text-white p-1 rounded-full shadow-sm hover:bg-red-600",children:E.jsx(dS,{size:12})})}),E.jsx(HVe,{title:I.title,type:I.chartType||"bar",data:L,isEmpty:!I.sourceTableId,onConnect:()=>v(I.id)})]},I.id)}return null})}),t.length===0&&E.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[E.jsx("div",{className:"bg-indigo-50 p-6 rounded-full mb-6",children:E.jsx(Mue,{className:"text-indigo-600",size:48})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Maintenance Operations"}),E.jsx("p",{className:"text-gray-500 max-w-md mb-8",children:'Manage equipment maintenance schedules, work orders, and repair logs here. Use the "Insert" menu to add custom tables and charts.'}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:[{label:"Active Work Orders",value:"12",icon:rD,color:"text-amber-600"},{label:"Completed Today",value:"8",icon:jS,color:"text-green-600"},{label:"Avg Response Time",value:"45m",icon:iD,color:"text-blue-600"}].map((I,L)=>E.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("span",{className:"text-gray-500 text-sm font-medium",children:I.label}),E.jsx(I.icon,{className:I.color,size:20})]}),E.jsx("div",{className:"text-3xl font-bold text-gray-900",children:I.value})]},L))})]})]})]})},WVe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(GC,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Operations / Production"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),YVe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(GC,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Operations / Quality"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),XVe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(oz,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Business / Sales"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),qVe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(oz,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Business / Finance"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),ZVe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(aD,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Business Support / IT"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),KVe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(aD,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Business Support / HR"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),JVe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(aD,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Business Support / Marketing"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),QVe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(Bq,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Supply Chain / Procurement"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),$Ve=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(Gq,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Supply Chain / Warehouse"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),eFe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(zq,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Supply Chain / Shipping"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),tFe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(Bp,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Supply Chain / Planning"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),nFe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(Tq,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Supply Chain / Fleet"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),rFe=()=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:E.jsx(y5,{size:64})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Supply Chain / Vendors"}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:"This module is currently being built."})]}),iFe=({icon:n,title:e,description:t})=>E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[E.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:Xr.isValidElement(n)?Xr.cloneElement(n,{size:64}):n}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),E.jsx("p",{className:"text-gray-500 max-w-md text-center",children:t})]}),aFe=()=>{const[n,e]=fe.useState(null),[t,r]=fe.useState("landing"),{activePage:i,setActivePage:a,currentView:o,setCurrentView:s,getPageTitle:l,isImmersive:u}=Z2(),{isAddCardsOpen:c,setAddCardsOpen:f,isBrainOpen:h,setBrainOpen:d,isTableBuilderOpen:v,setTableBuilderOpen:g}=dz(),{tasks:y,isLoading:x,handleStatusChange:b,handleUpdateTask:T,handleReorder:M,handleQuickCreate:C}=tpe(t,i),{homeCards:D,handleAddHomeCard:R,handleUpdateHomeCard:I,handleRemoveHomeCard:L,handleRemoveHomeCardByType:O}=npe(),{pageWidgets:B,setPageWidgets:V,onUpdateWidget:F}=rpe(t),{showToast:k}=pl();fe.useEffect(()=>{const K=T5.getCurrentUser();K&&(e(K),r("app"))},[]);const Y=fe.useMemo(()=>{switch(i){case"inbox":case"home":return[];case"backend":return y.filter(K=>K.tags.includes("Backend")||K.tags.includes("API")||K.tags.includes("Auth"));case"sprints":return y.filter(K=>K.tags.includes("Feature")||K.tags.includes("Bug"));case"frontend":default:return y}},[y,i]);if(t==="landing")return E.jsx(Qde,{onLoginClick:()=>r("login")});const H=K=>{e(K),r("app"),k(`Welcome back, ${K.name}!`,"success")},W=()=>{T5.logout(),e(null),r("landing"),k("Logged out successfully","info")},q=()=>{k("Account activated successfully!","success")};return t==="login"?E.jsx(epe,{onLoginSuccess:H,onBack:()=>r("landing")}):E.jsxs("div",{className:"flex flex-col h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900",children:[E.jsx(Kue,{user:n,onLogout:W,onActivate:q}),E.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[E.jsx(Wue,{onLogout:W}),E.jsxs("div",{className:"flex flex-col flex-1 min-w-0 bg-white relative",children:[!u&&i!=="inbox"&&i!=="mind-map"&&i!=="marketplace/local"&&E.jsx(E.Fragment,{children:i.startsWith("operations/")||i.startsWith("business/")||i.startsWith("support/")||i.startsWith("supply-chain/")?E.jsx(que,{onInsert:K=>{if(K==="custom-table"&&g(!0),K==="kpi-card"){const re={type:"kpi-card",id:Date.now().toString(),title:"New KPI",value:null,icon:"Activity",trend:null,subtext:"Connect to data source"},j=B[i]||[];F(i,[...j,re])}if(K==="chart"){const re={type:"chart",id:Date.now().toString(),title:"New Chart",chartType:"bar",data:null,sourceTableId:null},j=B[i]||[];F(i,[...j,re])}}}):E.jsx(Xue,{})}),E.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[i==="inbox"&&E.jsx(ppe,{}),i==="marketplace/local"&&E.jsx(ySe,{}),i==="home"&&E.jsx(fpe,{cards:D,onUpdateCard:I,onRemoveCard:L,onOpenCustomize:()=>f(!0)}),i==="overview"&&E.jsx(pSe,{}),i==="goals"&&E.jsx(dSe,{}),i==="mind-map"&&E.jsx(fSe,{}),i==="space"&&E.jsx(lSe,{}),i==="ocean"&&E.jsx(DG,{}),i==="ocean"&&E.jsx(DG,{}),i.startsWith("operations/maintenance")&&E.jsx(jVe,{activePage:i,allPageWidgets:B,widgets:B[i]||[],onDeleteWidget:K=>{V(re=>({...re,[i]:(re[i]||[]).filter(j=>j.id!==K)}))},onUpdateWidget:(K,re)=>{const j=(B[i]||[]).map(Q=>Q.id===K?{...Q,...re}:Q);F(i,j)}}),i.startsWith("operations/production")&&E.jsx(WVe,{}),i.startsWith("operations/quality")&&E.jsx(YVe,{}),i.startsWith("business/sales")&&E.jsx(XVe,{}),i.startsWith("business/finance")&&E.jsx(qVe,{}),i.startsWith("support/it")&&E.jsx(ZVe,{}),i.startsWith("support/hr")&&E.jsx(KVe,{}),i.startsWith("support/marketing")&&E.jsx(JVe,{}),i.startsWith("supply-chain/procurement")&&E.jsx(QVe,{}),i.startsWith("supply-chain/warehouse")&&E.jsx($Ve,{}),i.startsWith("supply-chain/shipping")&&E.jsx(eFe,{}),i.startsWith("supply-chain/planning")&&E.jsx(tFe,{}),i.startsWith("supply-chain/fleet")&&E.jsx(nFe,{}),i.startsWith("supply-chain/vendors")&&E.jsx(rFe,{}),(i.startsWith("operations/")||i.startsWith("business/")||i.startsWith("support/")||i.startsWith("supply-chain/"))&&!["operations/maintenance","operations/production","operations/quality","business/sales","business/finance","support/it","support/hr","support/marketing","supply-chain/procurement","supply-chain/warehouse","supply-chain/shipping","supply-chain/planning","supply-chain/fleet","supply-chain/vendors"].some(K=>i.startsWith(K))&&E.jsx(iFe,{icon:E.jsx(YS,{}),title:l(),description:"This module is currently being built."}),!["overview","goals","inbox","home","mind-map","space","ocean"].includes(i)&&!i.startsWith("operations/")&&!i.startsWith("business/")&&!i.startsWith("support/")&&!i.startsWith("supply-chain/")&&!i.startsWith("marketplace/")&&E.jsxs(E.Fragment,{children:[o==="list"&&E.jsx(Nhe,{tasks:Y,isLoading:x,onStatusChange:b,onAddTask:C,onReorder:M,onUpdateTask:T}),o==="board"&&E.jsx(Ihe,{tasks:Y,isLoading:x,onAddTask:C,onStatusChange:b}),o==="calendar"&&E.jsx(Yde,{tasks:Y,isLoading:x,onAddTask:C})]}),c&&E.jsx(Jde,{isOpen:c,onClose:()=>f(!1),onAddCard:R,onRemoveCard:O,addedCardTypes:D.map(K=>K.typeId)})]})]})]}),E.jsx(Zde,{isOpen:h,onClose:()=>d(!1),tasks:y}),E.jsx(Zue,{isOpen:v,onClose:()=>g(!1),onAdd:K=>{const re={type:"custom-table",id:Date.now().toString(),...K},j=B[i]||[];F(i,[...j,re])}})]})},oFe=()=>E.jsx(Due,{children:E.jsx(jue,{children:E.jsx(Yue,{children:E.jsx(aFe,{})})})}),Lae=document.getElementById("root");if(!Lae)throw new Error("Could not find root element to mount to");const sFe=Loe.createRoot(Lae);sFe.render(E.jsx(Xr.StrictMode,{children:E.jsx(oFe,{})}));
