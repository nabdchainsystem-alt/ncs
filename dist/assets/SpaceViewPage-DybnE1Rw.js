import{c as I,r as n,j as e,P as R,E as se,X,T as te,ad as de,ae as H,af as ce,ag as xe,ah as me,ai as he,aj as ge,G as ue,ak as pe,O as Y,K as be,k as ye,al as fe,am as ve,an as we,Z as je,ao as K,ap as Ne,aq as ke,ar as J,C as Se,Q as Z,N as Me,as as Ce,at as q,J as ze,U as Te,au as De,M as $e,av as Ae}from"./index-DobLoqOc.js";import{u as Ee,S as Q,a as Pe,P as Ie,T as Le}from"./TaskBoard-CWi6MyT9.js";import{u as Oe,a as Ve,P as _e,D as Re,c as Fe,b as Be,e as He,C as Ue}from"./core.esm-CY1cIflh.js";import{S as We,v as Ge,u as Xe}from"./sortable.esm-DBCsBQY9.js";import{c as Ye}from"./clsx-B-dksMZM.js";import{G as Ke,L as Je}from"./ColumnMenu-D526_2dW.js";import{A as Ze}from"./arrow-up-right-BertEdzA.js";import{T as qe}from"./type-Bs27VvCu.js";import{M as Qe}from"./minus-cQzNlOXq.js";import{S as es}from"./star-DXOK4uR0.js";import{S as ss}from"./save-C6pg2XvW.js";import{A as ts}from"./arrow-up-down-ZMkX5a8N.js";import{L as as}from"./list-BxeDKDQf.js";import"./index-Ca_DMGSD.js";import"./copy-BZuiKg8b.js";import"./remindersService-2txqcUiP.js";import"./goalsService-D7mpTUbz.js";import"./square-check-big-B-Y2pHa6.js";import"./list-ordered-CuFfQrKd.js";import"./flag-Du8r-ELt.js";import"./phone-DCoHa9lv.js";import"./tag-DTYbNKBh.js";import"./archive-BMXnWaPk.js";import"./smile-DYChvfbw.js";import"./paperclip-IdfvdMgZ.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],is=I("chevron-up",rs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ns=I("copy-plus",os);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],ds=I("hand",ls);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xs=I("image",cs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],hs=I("kanban",ms);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],us=I("map",gs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],bs=I("move",ps);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ae=I("pencil",ys);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],vs=I("rectangle-ellipsis",fs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],js=I("redo-2",ws);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],ks=I("undo-2",Ns),Ss=({status:r,tasks:o,color:g})=>{const{setNodeRef:v}=He({id:r});return e.jsxs("div",{className:"flex flex-col w-80 min-w-[320px] h-full bg-gray-50/50 rounded-xl border border-gray-200/60 flex-shrink-0",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-gray-50/50 backdrop-blur-sm z-10 rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${g.split(" ")[0].replace("bg-","bg-")}`}),e.jsx("h3",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:r||"No Status"}),e.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full font-medium",children:o.length})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(se,{size:16})})]}),e.jsxs("div",{ref:v,className:"flex-1 p-3 overflow-y-auto custom-scroll space-y-3",children:[e.jsx(We,{items:o.map(x=>x.id),strategy:Ge,children:o.map(x=>e.jsx(Ms,{task:x},x.id))}),o.length===0&&e.jsx("div",{className:"h-24 border-2 border-dashed border-gray-200 rounded-lg flex items-center justify-center text-gray-400 text-sm",children:"Drop items here"})]})]})},Ms=({task:r})=>{const{attributes:o,listeners:g,setNodeRef:v,transform:x,transition:w,isDragging:z}=Xe({id:r.id}),$={transform:Ue.Transform.toString(x),transition:w,opacity:z?.3:1};return e.jsxs("div",{ref:v,style:$,...o,...g,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow cursor-grab active:cursor-grabbing group relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 line-clamp-2 leading-snug",children:r.name}),e.jsx("button",{className:"text-gray-300 hover:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(se,{size:14})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:r.personId?e.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-[10px] font-bold border border-white shadow-sm",children:"ID"}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center border border-dashed border-gray-300",children:e.jsx(R,{size:12})})}),r.priority&&e.jsx("div",{className:`text-[10px] px-2 py-0.5 rounded border ${r.priority==="High"?"bg-red-50 text-red-600 border-red-100":r.priority==="Medium"?"bg-amber-50 text-amber-600 border-amber-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:r.priority})]})]})},Cs=({storageKey:r})=>{const{board:o,updateTask:g}=Ee(r),[v,x]=n.useState(null),w=Oe(Ve(_e,{activationConstraint:{distance:5}})),z=o.groups.flatMap(l=>l.tasks),$=v?z.find(l=>l.id===v):null,m=l=>{x(l.active.id)},A=l=>{const{active:b,over:N}=l;if(x(null),!N)return;const T=b.id,D=N.id;let L,S;for(const a of o.groups){const d=a.tasks.find(f=>f.id===T);if(d){L=a,S=d;break}}if(!(!L||!S)&&Object.values(Q).includes(D)){const a=D;S.status!==a&&g(L.id,T,{status:a})}};return e.jsxs("div",{className:"h-full flex flex-col bg-white overflow-hidden",children:[e.jsxs("div",{className:"h-14 border-b border-gray-200 flex items-center px-6 justify-between flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Board"}),e.jsx("div",{className:"h-4 w-px bg-gray-300"}),e.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 hover:text-[#7B61FF] transition-colors",children:[e.jsx("span",{className:"text-[#7B61FF]",children:"Group by:"})," Status"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{className:"px-3 py-1.5 bg-[#7B61FF] text-white rounded-md text-sm font-medium hover:bg-[#6a51e6] transition-colors flex items-center gap-2 shadow-sm shadow-indigo-200",children:[e.jsx(R,{size:16})," New Task"]})})]}),e.jsxs(Re,{sensors:w,collisionDetection:Fe,onDragStart:m,onDragEnd:A,children:[e.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6",children:e.jsx("div",{className:"flex h-full gap-6",children:Object.values(Q).map(l=>{const b=o.groups.flatMap(N=>N.tasks).filter(N=>N.status===l);return e.jsx(Ss,{status:l,tasks:b,color:Pe[l]},l)})})}),e.jsx(Be,{children:$?e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-[#7B61FF] rotate-2 cursor-grabbing w-[300px]",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:$.name})}):null})]})]})},U=120,ee=[{id:"ai-brain",title:"AI Brain",description:"Generate ideas and content with a custom prompt",color:"#f1f0ff",size:"md",x:0,y:0},{id:"task-list",title:"Task List",description:"Create a List view using tasks from any location",color:"#f8f1ff",size:"md",x:1,y:0},{id:"workload-status",title:"Workload by Status",description:"Display a pie chart of your statuses usage",color:"#eaf7f5",size:"md",x:2,y:0},{id:"calc",title:"Calculation",description:"Calculate sums, averages, and more",color:"#fef8ef",size:"md",x:0,y:1},{id:"portfolio",title:"Portfolio",description:"Track progress across lists & folders",color:"#eef5ff",size:"md",x:1,y:1},{id:"assignee",title:"Tasks by Assignee",description:"Pie chart of tasks grouped by assignee",color:"#eef4ff",size:"md",x:2,y:1},{id:"notes",title:"Notes",description:"Add rich text, images, and links",color:"#fff7e6",size:"md",x:0,y:2},{id:"discussion",title:"Discussion",description:"Collaborate and chat with members",color:"#fff0f4",size:"md",x:1,y:2},{id:"bookmarks",title:"Bookmarks",description:"Quickly access important items",color:"#f0f6ff",size:"md",x:2,y:2}],zs=({storageKey:r})=>{const[o,g]=n.useState([]),[v,x]=n.useState(null),[w,z]=n.useState({dx:0,dy:0}),[$,m]=n.useState(!1),A=n.useMemo(()=>{try{const a=localStorage.getItem(r);if(a){const d=JSON.parse(a);if(Array.isArray(d))return d}}catch(a){console.warn("Failed to load overview",a)}return ee.slice(0,3)},[r]);n.useEffect(()=>{g(A)},[A]),n.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(o))}catch(a){console.warn("Failed to save overview",a)}},[o,r]);const l=(a,d)=>{const f=a.currentTarget.getBoundingClientRect();x(d),z({dx:a.clientX-f.left,dy:a.clientY-f.top}),window.addEventListener("mousemove",b),window.addEventListener("mouseup",N)},b=n.useCallback(a=>{if(!v)return;const d=Math.max(0,Math.round((a.clientX-w.dx)/U)),f=Math.max(0,Math.round((a.clientY-w.dy-120)/U));g(E=>E.map(O=>O.id===v?{...O,x:d,y:f}:O))},[v,w.dx,w.dy]),N=n.useCallback(()=>{x(null),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)},[b]);n.useEffect(()=>()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",N)},[b,N]);const T=a=>{g(d=>d.filter(f=>f.id!==a))},D=a=>{g(d=>d.map(f=>f.id!==a?f:{...f,size:{sm:"md",md:"lg",lg:"sm"}[f.size]}))},L=a=>{o.find(d=>d.id===a.id)||(g(d=>[...d,{...a,x:d.length%3,y:Math.floor(d.length/3)}]),m(!1))},S=a=>{switch(a){case"lg":return"w-[360px] h-[220px]";case"md":return"w-[280px] h-[200px]";default:return"w-[220px] h-[180px]"}};return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Overview"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Drag, drop, and resize cards to build your dashboard."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-2 rounded-md border border-gray-200 bg-white hover:border-gray-300 text-sm text-gray-700",onClick:()=>g([]),children:"Clear"}),e.jsx("button",{className:"px-4 py-2 rounded-md bg-clickup-purple text-white text-sm font-medium hover:bg-indigo-700 shadow-sm",onClick:()=>m(!0),children:"Add Card"})]})]}),e.jsx("div",{className:"flex-1 relative overflow-auto bg-gray-50",children:e.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-4",children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${U}px, 1fr))`,gap:16},children:o.map(a=>e.jsxs("div",{style:{gridColumnStart:a.x+1,gridRowStart:a.y+1},className:Ye("relative rounded-xl shadow-sm border border-gray-200 bg-white cursor-move select-none",S(a.size)),onMouseDown:d=>l(d,a.id),children:[e.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none",style:{background:a.color}}),e.jsxs("div",{className:"relative h-full flex flex-col p-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Ke,{size:14}),e.jsx("span",{className:"text-[11px] uppercase font-semibold text-gray-400",children:"Card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:d=>{d.stopPropagation(),D(a.id)},title:"Resize",children:e.jsx(bs,{size:14})}),e.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:d=>{d.stopPropagation(),T(a.id)},children:e.jsx(X,{size:14})})]})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:a.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.description})]})]})]},a.id))})})}),$&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white w-[90vw] max-w-5xl h-[80vh] rounded-2xl shadow-2xl overflow-hidden flex",children:[e.jsxs("div",{className:"w-64 border-r border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"p-4 flex items-center gap-2 text-sm font-semibold text-gray-700",children:[e.jsx(R,{size:14})," Add Card"]}),e.jsx("div",{className:"space-y-1 px-2",children:["Featured","Overview","AI Cards","Custom","Sprints","Statuses","Tags","Assignees","Priorities","Time Tracking","Tables","Embeds and Apps"].map(a=>e.jsx("div",{className:"px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-white font-medium",children:a},a))}),e.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4 px-3 space-y-2 text-sm text-gray-500",children:[e.jsx("div",{children:"Help Docs"}),e.jsx("div",{children:"Dashboard Webinar"}),e.jsx("div",{children:"Dashboard Guide"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Featured"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 border border-gray-200 rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-clickup-purple/40"}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>m(!1),children:e.jsx(X,{size:16})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(a=>e.jsxs("button",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition flex flex-col text-left overflow-hidden",onClick:()=>L(a),children:[e.jsx("div",{className:"h-32",style:{background:a.color}}),e.jsxs("div",{className:"p-3 space-y-1",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:a.title}),e.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id))})})]})]})})]})},P=({active:r,onClick:o,label:g,shortcut:v,children:x})=>e.jsxs("div",{className:"flex flex-col items-center gap-1 group relative",children:[v&&e.jsx("span",{className:`text-[10px] font-medium ${r?"text-blue-600":"text-gray-400"}`,children:v}),e.jsx("button",{onClick:o,className:`
                relative flex items-center justify-center
                w-10 h-10 rounded-lg transition-all duration-200
                ${r?"bg-blue-100 ring-2 ring-blue-500 shadow-sm transform scale-105":"hover:bg-gray-100 hover:scale-110"}
            `,title:g,children:x})]}),Ts=()=>e.jsxs("div",{className:"w-8 h-8 bg-white rounded border border-gray-200 shadow-sm flex flex-col p-1 gap-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-400"}),e.jsx("div",{className:"h-1 w-8 bg-gray-200 rounded"})]}),e.jsx("div",{className:"h-1 w-full bg-gray-100 rounded mt-auto"}),e.jsx("div",{className:"h-1.5 w-6 bg-blue-500 rounded-full"})]}),Ds=()=>e.jsx("div",{className:"w-7 h-7 bg-[#fcd34d] rounded-sm shadow-sm border-b-2 border-r-2 border-[#d97706]/20 relative overflow-hidden",children:e.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-[#fbbf24] shadow-sm transform -translate-x-1/2 -translate-y-1/2 rotate-45"})}),$s=()=>e.jsx("div",{className:"w-7 h-7 bg-slate-700 rounded-sm shadow-sm"}),As=()=>e.jsx("div",{className:"w-7 h-7 border-2 border-dashed border-gray-400 rounded bg-gray-50/50 flex items-start p-0.5",children:e.jsx("div",{className:"w-2 h-1 bg-gray-300 rounded-full"})}),Es=()=>e.jsxs("div",{className:"w-7 h-7 bg-white border border-gray-200 rounded shadow-sm overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-100 to-purple-50"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-blue-300/50 rounded-t-lg transform translate-y-1"}),e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-yellow-200 rounded-full"})]}),Ps=()=>e.jsxs("div",{className:"w-8 h-8 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-0 transform rotate-6"}),e.jsx("div",{className:"absolute top-1 right-1 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-10",children:e.jsxs("div",{className:"flex items-center justify-center h-full gap-0.5",children:[e.jsx("div",{className:"w-1 h-1 bg-purple-400 rounded-full"}),e.jsx("div",{className:"w-2 h-px bg-gray-300"}),e.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full"})]})})]}),Is=()=>{const[r,o]=n.useState("select"),[g,v]=n.useState(100),[x,w]=n.useState([]),[z,$]=n.useState([[]]),[m,A]=n.useState(0),[l,b]=n.useState(!1),[N,T]=n.useState(!1),[D,L]=n.useState({x:0,y:0}),[S,a]=n.useState({x:0,y:0}),[d,f]=n.useState([]),[E,O]=n.useState(null),[F,t]=n.useState({x:0,y:0}),[i,u]=n.useState(null),y=n.useRef(null),p=s=>{const c=z.slice(0,m+1);c.push(s),$(c),A(c.length-1),w(s)},V=()=>{m>0&&(A(s=>s-1),w(z[m-1]))},_=()=>{m<z.length-1&&(A(s=>s+1),w(z[m+1]))},B=s=>{if(!y.current)return{x:0,y:0};const c=y.current.getBoundingClientRect(),h=s.clientX-c.left,M=s.clientY-c.top,k=(h-D.x)/(g/100),j=(M-D.y)/(g/100);return{x:k,y:j,rawX:h,rawY:M}},re=s=>{const{x:c,y:h,rawX:M,rawY:k}=B(s);if(r==="hand"||s.button===1){T(!0),a({x:M,y:k});return}if(r==="draw"){b(!0),f([{x:c,y:h}]);return}if(["arrow","shape","section"].includes(r)){b(!0),a({x:c,y:h}),u({type:r,x:c,y:h,width:0,height:0});return}if(["note","text","task","image"].includes(r)){let C={id:H(),type:r,x:c,y:h,width:200,height:200};r==="note"?C={...C,content:"New Note",color:"#fef3c7",width:200,height:200}:r==="text"?C={...C,content:"Type something...",width:200,height:50}:r==="task"?C={...C,content:"New Task",width:300,height:140}:r==="image"&&(C={...C,width:300,height:200}),p([...x,C]),o("select");return}r==="select"&&O(null)},ie=s=>{const{x:c,y:h,rawX:M,rawY:k}=B(s);if(N){const j=M-S.x,C=k-S.y;L(G=>({x:G.x+j,y:G.y+C})),a({x:M,y:k});return}l&&(r==="draw"?f(j=>[...j,{x:c,y:h}]):["arrow","shape","section"].includes(r)&&i?u(j=>({...j,width:c-((j==null?void 0:j.x)||0),height:h-((j==null?void 0:j.y)||0)})):E&&r==="select"&&w(j=>j.map(C=>C.id===E?{...C,x:c-F.x,y:h-F.y}:C)))},W=()=>{if(N){T(!1);return}if(l)if(b(!1),r==="draw"&&d.length>1){const s={id:H(),type:"draw",x:0,y:0,points:d,color:"#1e293b"};p([...x,s]),f([])}else if(i){const s={id:H(),type:r,x:i.x,y:i.y,width:i.width||100,height:i.height||100,color:r==="shape"?"#334155":void 0};p([...x,s]),u(null),o("select")}else E&&p(x)},oe=(s,c)=>{if(r==="select"){s.stopPropagation();const{x:h,y:M}=B(s),k=x.find(j=>j.id===c);k&&(O(c),b(!0),t({x:h-k.x,y:M-k.y}))}},ne=s=>{const c=x.filter(h=>h.id!==s);p(c),O(null)},le=s=>{const h=E===s.id?"ring-2 ring-blue-500":"";switch(s.type){case"note":return e.jsx("div",{className:`shadow-md flex items-center justify-center text-center font-handwriting text-lg leading-tight p-4 ${h}`,style:{backgroundColor:s.color,width:s.width,height:s.height},children:s.content});case"text":return e.jsx("div",{className:`p-2 text-gray-800 font-medium text-xl bg-transparent border border-transparent hover:border-blue-200 rounded whitespace-nowrap ${h}`,children:s.content});case"task":return e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col ${h}`,style:{width:s.width,height:s.height},children:[e.jsx("div",{className:"h-1.5 bg-blue-500 w-full"}),e.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"text-[10px] font-medium text-gray-500 px-1.5 py-0.5 bg-gray-100 rounded",children:"TASK-123"}),e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200"})]}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-auto",children:s.content}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsx("span",{className:"w-full h-1.5 rounded-full bg-gray-100 overflow-hidden",children:e.jsx("div",{className:"w-1/2 h-full bg-green-500"})})})]})]});case"shape":return e.jsx("div",{className:`rounded-lg flex items-center justify-center ${h}`,style:{backgroundColor:s.color,width:Math.abs(s.width||100),height:Math.abs(s.height||100)}});case"section":return e.jsx("div",{className:`border-2 border-dashed border-gray-300 rounded-lg bg-gray-50/30 flex items-start p-2 ${h}`,style:{width:Math.abs(s.width||200),height:Math.abs(s.height||200)},children:e.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Section"})});case"image":return e.jsxs("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative ${h}`,style:{width:Math.abs(s.width||300),height:Math.abs(s.height||200)},children:[e.jsx(xs,{size:48,className:"text-gray-300"}),e.jsx("span",{className:"absolute bottom-4 text-xs text-gray-400",children:"Image Placeholder"})]});case"arrow":const M=s.width||0,k=s.height||0;return e.jsxs("svg",{width:Math.abs(M)+20,height:Math.abs(k)+20,className:`overflow-visible pointer-events-none ${h}`,children:[e.jsx("defs",{children:e.jsx("marker",{id:`arrowhead-${s.id}`,markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#334155"})})}),e.jsx("line",{x1:M>0?0:Math.abs(M),y1:k>0?0:Math.abs(k),x2:M>0?Math.abs(M):0,y2:k>0?Math.abs(k):0,stroke:"#334155",strokeWidth:"2",markerEnd:`url(#arrowhead-${s.id})`})]});default:return null}};return e.jsxs("div",{className:"relative w-full h-full bg-[#f8fafc] overflow-hidden select-none",ref:y,onMouseDown:re,onMouseMove:ie,onMouseUp:W,onMouseLeave:W,onContextMenu:s=>s.preventDefault(),children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${20*(g/100)}px ${20*(g/100)}px`,backgroundPosition:`${D.x}px ${D.y}px`,opacity:.6}}),e.jsxs("div",{className:"absolute inset-0 transform-origin-top-left",style:{transform:`translate(${D.x}px, ${D.y}px) scale(${g/100})`},children:[e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",children:[x.filter(s=>s.type==="draw").map(s=>{var c;return e.jsx("path",{d:`M ${(c=s.points)==null?void 0:c.map(h=>`${h.x} ${h.y}`).join(" L ")}`,stroke:s.color,strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},s.id)}),l&&r==="draw"&&e.jsx("path",{d:`M ${d.map(s=>`${s.x} ${s.y}`).join(" L ")}`,stroke:"#1e293b",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),x.map(s=>s.type==="draw"?null:e.jsxs("div",{className:`absolute group ${r==="select"?"cursor-move":""}`,style:{left:s.x,top:s.y,width:s.width,height:s.height,zIndex:E===s.id?10:1},onMouseDown:c=>oe(c,s.id),children:[r==="select"&&e.jsx("button",{className:"absolute -top-3 -right-3 p-1.5 bg-white rounded-full shadow-sm border border-gray-200 opacity-0 group-hover:opacity-100 transition-opacity z-50 hover:bg-red-50 text-red-500",onClick:c=>{c.stopPropagation(),ne(s.id)},children:e.jsx(te,{size:14})}),le(s)]},s.id)),i&&e.jsx("div",{className:"absolute border-2 border-blue-400 border-dashed opacity-50 pointer-events-none",style:{left:Math.min(i.x,i.x+(i.width||0)),top:Math.min(i.y,i.y+(i.height||0)),width:Math.abs(i.width||0),height:Math.abs(i.height||0)}})]}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center gap-2 z-50",children:[e.jsxs("div",{className:"flex items-center gap-1 px-1",children:[e.jsx(P,{active:r==="select",onClick:()=>o("select"),label:"Select",shortcut:"V",children:e.jsx(de,{size:20,className:r==="select"?"text-blue-600":"text-gray-600"})}),e.jsx(P,{active:r==="hand",onClick:()=>o("hand"),label:"Hand",shortcut:"H",children:e.jsx(ds,{size:20,className:r==="hand"?"text-blue-600":"text-gray-600"})})]}),e.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(P,{active:r==="task",onClick:()=>o("task"),label:"Task",shortcut:"T",children:e.jsx(Ts,{})}),e.jsx(P,{active:r==="draw",onClick:()=>o("draw"),label:"Draw",shortcut:"D",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{size:24,className:"text-gray-700"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-black rounded-full"})]})}),e.jsx(P,{active:r==="shape",onClick:()=>o("shape"),label:"Shape",shortcut:"R",children:e.jsx($s,{})}),e.jsx(P,{active:r==="arrow",onClick:()=>o("arrow"),label:"Arrow",shortcut:"A",children:e.jsx(Ze,{size:26,className:"text-gray-700"})}),e.jsx(P,{active:r==="note",onClick:()=>o("note"),label:"Note",shortcut:"N",children:e.jsx(Ds,{})}),e.jsx(P,{active:r==="text",onClick:()=>o("text"),label:"Text",shortcut:"T",children:e.jsx("div",{className:"w-8 h-8 bg-white border border-gray-200 rounded shadow-sm flex items-center justify-center",children:e.jsx(qe,{size:20,className:"text-gray-800"})})}),e.jsx(P,{active:r==="section",onClick:()=>o("section"),label:"Section",shortcut:"F",children:e.jsx(As,{})}),e.jsx(P,{active:r==="image",onClick:()=>o("image"),label:"Image",children:e.jsx(Es,{})}),e.jsx(P,{active:r==="template",onClick:()=>{},label:"Templates",children:e.jsx(Ps,{})})]}),e.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),e.jsxs("div",{className:"flex items-center gap-1 px-1",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:V,disabled:m<=0,title:"Undo",children:e.jsx(ks,{size:20})}),e.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:_,disabled:m>=z.length-1,title:"Redo",children:e.jsx(js,{size:20})})]})]}),e.jsxs("div",{className:"absolute bottom-8 left-8 bg-white rounded-xl shadow-lg border border-gray-100 flex items-center p-1.5 z-50",children:[e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",children:e.jsx(is,{size:16})}),e.jsx("div",{className:"w-px h-4 bg-gray-200 mx-1"}),e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>v(Math.max(10,g-10)),children:e.jsx(Qe,{size:16})}),e.jsxs("span",{className:"px-3 text-xs font-semibold text-gray-600 min-w-[3.5rem] text-center",children:[Math.round(g),"%"]}),e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>v(Math.min(200,g+10)),children:e.jsx(R,{size:16})})]})]})},nt=({spaceName:r,spaceId:o})=>{const{tasks:g,updateTask:v}=ce(),x=n.useMemo(()=>`space-views-${o}`,[o]),w=[{id:"overview",type:"overview",name:"Overview",description:"Drag, resize, and track cards",icon:e.jsx(J,{className:"text-indigo-500"}),category:"popular"},{id:"list",type:"list",name:"Tasks",description:"Track tasks, bugs, people & more",icon:e.jsx(as,{className:"text-blue-500"}),category:"popular"},{id:"board",type:"board",name:"Kanban",description:"Move tasks between columns",icon:e.jsx(hs,{className:"text-purple-500"}),category:"popular"},{id:"calendar",type:"calendar",name:"Calendar",description:"Plan, schedule, & delegate",icon:e.jsx(Se,{className:"text-green-500"}),category:"popular"},{id:"gantt",type:"placeholder",name:"Gantt",description:"Plan dependencies & time",icon:e.jsx(Z,{className:"text-orange-500"}),category:"popular"},{id:"doc",type:"placeholder",name:"Doc",description:"Collaborate & document anything",icon:e.jsx(Me,{className:"text-pink-500"}),category:"popular"},{id:"form",type:"placeholder",name:"Form",description:"Collect, track, & report data",icon:e.jsx(vs,{className:"text-teal-500"}),category:"popular"},{id:"table",type:"placeholder",name:"Table",description:"Structured table format",icon:e.jsx(Ce,{className:"text-cyan-500"}),category:"more"},{id:"dashboard",type:"placeholder",name:"Dashboard",description:"Track metrics & insights",icon:e.jsx(q,{className:"text-red-500"}),category:"more"},{id:"timeline",type:"placeholder",name:"Timeline",description:"See tasks by start & due date",icon:e.jsx(ze,{className:"text-yellow-500"}),category:"more"},{id:"activity",type:"placeholder",name:"Activity",description:"Real-time activity feed",icon:e.jsx(Z,{className:"text-indigo-400"}),category:"more"},{id:"workload",type:"placeholder",name:"Workload",description:"Visualize team capacity",icon:e.jsx(q,{className:"text-emerald-500"}),category:"more"},{id:"whiteboard",type:"whiteboard",name:"Whiteboard",description:"Visualize & brainstorm ideas",icon:e.jsx(J,{className:"text-violet-500"}),category:"more"},{id:"team",type:"placeholder",name:"Team",description:"Monitor work being done",icon:e.jsx(Te,{className:"text-blue-400"}),category:"more"},{id:"mindmap",type:"placeholder",name:"Mind Map",description:"Visual brainstorming of ideas",icon:e.jsx(De,{className:"text-fuchsia-500"}),category:"more"},{id:"map",type:"placeholder",name:"Map",description:"Tasks visualized by address",icon:e.jsx(us,{className:"text-rose-500"}),category:"more"},{id:"chat",type:"placeholder",name:"Chat",description:"Communicate with your team",icon:e.jsx($e,{className:"text-sky-500"}),category:"more"}],z=()=>{try{const t=localStorage.getItem(x);if(t){const i=JSON.parse(t);if(i!=null&&i.views){const u=i.views.map(y=>{const p=w.find(V=>V.id===y.id);return p?{...y,name:p.name,description:p.description,icon:p.icon}:y.type==="list"&&y.name==="List"?{...y,name:"Tasks"}:y});return{...i,views:u}}}}catch(t){console.warn("Failed to load saved views",t)}return{views:[],activeViewId:null}},$=n.useMemo(()=>z(),[x]),[m,A]=n.useState(()=>{const t=$.views||[];return t.some(u=>u.id==="overview")?t:[w[0],...t]}),[l,b]=n.useState(()=>$.activeViewId||"overview"),[N,T]=n.useState(!1),[D,L]=n.useState(r),[S,a]=n.useState(null);n.useEffect(()=>{(async()=>{try{const u=(await Ae.getSpaces()).find(y=>y.id===o);u&&L(u.name)}catch(i){console.error("Failed to load space name:",i)}})()},[o]);const d=(t,i)=>{try{const u=t.map(({icon:y,...p})=>p);localStorage.setItem(x,JSON.stringify({views:u,activeViewId:i}))}catch(u){console.warn("Failed to save views",u)}};n.useEffect(()=>{!l&&m.length>0&&b(m[0].id)},[l,m]),n.useEffect(()=>{d(m,l||null)},[m,l]);const f=(t,i)=>{t.preventDefault(),T(!1);const u=300,y=420,p=Math.min(Math.max(8,t.clientX),window.innerWidth-u-8),V=Math.min(Math.max(8,t.clientY),window.innerHeight-y-8);a({viewId:i,x:p,y:V})},E=t=>{const i=m.find(y=>y.id===t.id);if(i){b(i.id),T(!1);return}const u=[...m,t];A(u),b(t.id),T(!1)};m.find(t=>t.id===l);const O=S?m.find(t=>t.id===S.viewId):null,F=t=>{var y;const i=m.find(p=>p.id===t),u=m.filter(p=>p.id!==t);if(i){const p=["list","board","calendar"];p.includes(i.type)&&(u.some(_=>p.includes(_.type))||localStorage.removeItem(`taskboard-${o}`)),i.type==="overview"&&(u.some(_=>_.type==="overview")||localStorage.removeItem(`overview-${o}`))}A(u),l===t&&b(((y=u[0])==null?void 0:y.id)||null),a(null)};return e.jsxs("div",{className:"flex flex-col flex-1 bg-white",children:[S&&O&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>a(null),onContextMenu:t=>{t.preventDefault(),a(null)}}),e.jsxs("div",{className:"fixed z-40 w-[320px] bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",style:{top:S.y,left:S.x},children:[e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(ae,{size:16,className:"text-gray-500"}),"Rename"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(Je,{size:16,className:"text-gray-500"}),"Copy link to view"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(es,{size:16,className:"text-gray-500"}),"Add to favorites"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(xe,{size:16,className:"text-gray-500"}),"Customize view"]})]}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsx("div",{className:"py-1",children:[{icon:Ie,label:"Pin view"},{icon:me,label:"Private view"},{icon:he,label:"Protect view"},{icon:ss,label:"Autosave for me"},{icon:ge,label:"Set as default view"}].map(t=>e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(t.icon,{size:16,className:"text-gray-500"}),e.jsx("span",{className:"flex-1 text-left",children:t.label}),e.jsx("span",{className:"relative inline-flex h-5 w-9 items-center rounded-full bg-gray-200",children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white shadow translate-x-[2px]"})})]},t.label))}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(ue,{size:16,className:"text-gray-500"}),"Templates"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(ns,{size:16,className:"text-gray-500"}),"Duplicate view"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>F(S.viewId),children:[e.jsx(te,{size:16,className:"text-red-500"}),"Delete view"]})]}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-3 px-4 py-3 text-sm font-medium text-white bg-clickup-purple hover:bg-indigo-700",disabled:!0,children:[e.jsx(pe,{size:16}),"Sharing & Permissions"]})]})]}),e.jsx("header",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{children:"Private Rooms"}),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),e.jsx("span",{className:"font-medium text-gray-800",children:D})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[m.map(t=>e.jsxs("button",{className:`px-3 py-1.5 text-sm font-medium rounded transition-colors border-b-2 flex items-center gap-2 ${l===t.id?"text-gray-900 border-clickup-purple":"text-gray-500 border-transparent hover:text-gray-800"}`,onClick:()=>{b(t.id),a(null)},onContextMenu:i=>f(i,t.id),children:[t.icon&&e.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:Y.isValidElement(t.icon)?Y.cloneElement(t.icon,{size:16}):t.icon}),t.name]},t.id)),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-clickup-purple hover:bg-purple-50 rounded transition-colors",onClick:()=>T(!N),children:[e.jsx(R,{size:14}),e.jsx("span",{children:"Add"})]}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>T(!1)}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-[520px] bg-white rounded-lg shadow-2xl border border-gray-200 p-4 z-20 max-h-[600px] overflow-y-auto",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Popular"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:w.filter(t=>t.category==="popular").map(t=>e.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>E(t),children:[e.jsx("span",{className:"mr-3",children:t.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.description})]})]},t.id))}),e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3 pt-2 border-t",children:"More views"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.filter(t=>t.category==="more").map(t=>e.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>E(t),children:[e.jsx("span",{className:"mr-3",children:t.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.description})]})]},t.id))})]})]})]})]})]})}),e.jsxs("div",{className:"h-12 border-b border-gray-200 flex items-center px-4 gap-2 text-sm text-gray-600 bg-white",children:[e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(be,{size:14,className:"text-gray-500"})," Search"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(ye,{size:14,className:"text-gray-500"})," Person"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(fe,{size:14,className:"text-gray-500"})," Filter"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(ts,{size:14,className:"text-gray-500"})," Sort"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(ve,{size:14,className:"text-gray-500"})," Hide"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(we,{size:14,className:"text-gray-500"})," Group by"]}),e.jsx("div",{className:"h-4 w-px bg-gray-200 mx-2"}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(je,{size:14,className:"text-gray-500"})," Automation"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(K,{size:14,className:"text-gray-500"})," Dashboard"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(Ne,{size:14,className:"text-gray-500"})," Export"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded-md border border-gray-200 text-gray-600 hover:border-gray-300 bg-white text-xs font-medium",children:"Save view"}),e.jsx("button",{className:"px-3 py-1 rounded-md border border-gray-200 text-gray-600 hover:border-gray-300 bg-white text-xs font-medium",children:"Share"})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden bg-gray-50",children:[l==="list"&&e.jsx(Le,{tasks:g,onTaskUpdate:(t,i)=>v(t,i)}),l==="board"&&e.jsx(Cs,{storageKey:`kanban-${o}`}),l==="calendar"&&e.jsx(ke,{refreshTrigger:l}),l==="overview"&&e.jsx(zs,{storageKey:`overview-${o}`}),l==="whiteboard"&&e.jsx(Is,{}),!["list","board","calendar","overview","whiteboard"].includes(l||"")&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(K,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-lg font-medium",children:"View not implemented yet"})]})]})]})};export{nt as default};
