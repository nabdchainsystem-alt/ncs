import{c as $,r as l,j as e,P as V,E as se,X as G,T as te,ae as H,af as ce,ag as xe,ah as me,ai as he,aj as ge,y as ue,ak as pe,R as Y,O as be,U as ye,al as fe,am as ve,an as we,Z as je,ao as K,ap as Ne,aq as ke,ar as J,C as Se,V as Z,Q as Me,as as ze,at as q,A as Ce,F as Te,au as De,M as $e,av as Ae}from"./index-BpRJKc9c.js";import{u as Ee,S as Q,a as Pe,P as Ie,T as Le}from"./TaskBoard-BobWm8Uu.js";import{u as Oe,a as _e,P as Re,D as Ve,c as Fe,b as Be,e as He,C as Ue}from"./core.esm-BGfjp1tN.js";import{S as We,v as Xe,u as Ge}from"./sortable.esm-B04wfrKp.js";import{G as Ye,L as Ke}from"./ColumnMenu-BTAPBaGR.js";import{A as Je}from"./arrow-up-right-Xhi2x35u.js";import{T as Ze}from"./type-17Qk3IQy.js";import{M as qe}from"./minus-gz4q9NRW.js";import{S as Qe}from"./star-D9OJk-4y.js";import{S as es}from"./save-DNkjmYdB.js";import{A as ss}from"./arrow-up-down-DzFcBMqh.js";import{L as ts}from"./list-BN9YoTp-.js";import"./index-Ca_DMGSD.js";import"./copy-ydXfD1Vd.js";import"./remindersService-s57-ri9n.js";import"./goalsService-BJ0xz_up.js";import"./square-check-big-CZPqmhHV.js";import"./list-ordered-RtO8Oq28.js";import"./flag-LNK8jHd9.js";import"./phone-BhicSecl.js";import"./tag-Il3AVsOh.js";import"./archive-DYJCM-7n.js";import"./smile-CjvPSO5J.js";import"./paperclip-DfuKIxIM.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rs=$("chevron-up",as);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],os=$("copy-plus",is);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],ls=$("hand",ns);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],cs=$("image",ds);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],ms=$("kanban",xs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],gs=$("map",hs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],ps=$("mouse-pointer-2",us);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],ys=$("move",bs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ae=$("pencil",fs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],ws=$("rectangle-ellipsis",vs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Ns=$("redo-2",js);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Ss=$("undo-2",ks),Ms=({status:s,tasks:i,color:n})=>{const{setNodeRef:c}=He({id:s});return e.jsxs("div",{className:"flex flex-col w-80 min-w-[320px] h-full bg-gray-50/50 rounded-xl border border-gray-200/60 flex-shrink-0",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-gray-50/50 backdrop-blur-sm z-10 rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${n.split(" ")[0].replace("bg-","bg-")}`}),e.jsx("h3",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:s||"No Status"}),e.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full font-medium",children:i.length})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(se,{size:16})})]}),e.jsxs("div",{ref:c,className:"flex-1 p-3 overflow-y-auto custom-scroll space-y-3",children:[e.jsx(We,{items:i.map(x=>x.id),strategy:Xe,children:i.map(x=>e.jsx(zs,{task:x},x.id))}),i.length===0&&e.jsx("div",{className:"h-24 border-2 border-dashed border-gray-200 rounded-lg flex items-center justify-center text-gray-400 text-sm",children:"Drop items here"})]})]})},zs=({task:s})=>{const{attributes:i,listeners:n,setNodeRef:c,transform:x,transition:w,isDragging:C}=Ge({id:s.id}),A={transform:Ue.Transform.toString(x),transition:w,opacity:C?.3:1};return e.jsxs("div",{ref:c,style:A,...i,...n,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow cursor-grab active:cursor-grabbing group relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 line-clamp-2 leading-snug",children:s.name}),e.jsx("button",{className:"text-gray-300 hover:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(se,{size:14})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:s.personId?e.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-[10px] font-bold border border-white shadow-sm",children:"ID"}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center border border-dashed border-gray-300",children:e.jsx(V,{size:12})})}),s.priority&&e.jsx("div",{className:`text-[10px] px-2 py-0.5 rounded border ${s.priority==="High"?"bg-red-50 text-red-600 border-red-100":s.priority==="Medium"?"bg-amber-50 text-amber-600 border-amber-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:s.priority})]})]})},Cs=({storageKey:s})=>{const{board:i,updateTask:n}=Ee(s),[c,x]=l.useState(null),w=Oe(_e(Re,{activationConstraint:{distance:5}})),C=i.groups.flatMap(d=>d.tasks),A=c?C.find(d=>d.id===c):null,g=d=>{x(d.active.id)},E=d=>{const{active:y,over:N}=d;if(x(null),!N)return;const T=y.id,D=N.id;let L,S;for(const r of i.groups){const m=r.tasks.find(v=>v.id===T);if(m){L=r,S=m;break}}if(!(!L||!S)&&Object.values(Q).includes(D)){const r=D;S.status!==r&&n(L.id,T,{status:r})}};return e.jsxs("div",{className:"h-full flex flex-col bg-white overflow-hidden",children:[e.jsxs("div",{className:"h-14 border-b border-gray-200 flex items-center px-6 justify-between flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Board"}),e.jsx("div",{className:"h-4 w-px bg-gray-300"}),e.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 hover:text-[#7B61FF] transition-colors",children:[e.jsx("span",{className:"text-[#7B61FF]",children:"Group by:"})," Status"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{className:"px-3 py-1.5 bg-[#7B61FF] text-white rounded-md text-sm font-medium hover:bg-[#6a51e6] transition-colors flex items-center gap-2 shadow-sm shadow-indigo-200",children:[e.jsx(V,{size:16})," New Task"]})})]}),e.jsxs(Ve,{sensors:w,collisionDetection:Fe,onDragStart:g,onDragEnd:E,children:[e.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6",children:e.jsx("div",{className:"flex h-full gap-6",children:Object.values(Q).map(d=>{const y=i.groups.flatMap(N=>N.tasks).filter(N=>N.status===d);return e.jsx(Ms,{status:d,tasks:y,color:Pe[d]},d)})})}),e.jsx(Be,{children:A?e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-[#7B61FF] rotate-2 cursor-grabbing w-[300px]",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:A.name})}):null})]})]})};function re(s){var i,n,c="";if(typeof s=="string"||typeof s=="number")c+=s;else if(typeof s=="object")if(Array.isArray(s)){var x=s.length;for(i=0;i<x;i++)s[i]&&(n=re(s[i]))&&(c&&(c+=" "),c+=n)}else for(n in s)s[n]&&(c&&(c+=" "),c+=n);return c}function Ts(){for(var s,i,n=0,c="",x=arguments.length;n<x;n++)(s=arguments[n])&&(i=re(s))&&(c&&(c+=" "),c+=i);return c}const U=120,ee=[{id:"ai-brain",title:"AI Brain",description:"Generate ideas and content with a custom prompt",color:"#f1f0ff",size:"md",x:0,y:0},{id:"task-list",title:"Task List",description:"Create a List view using tasks from any location",color:"#f8f1ff",size:"md",x:1,y:0},{id:"workload-status",title:"Workload by Status",description:"Display a pie chart of your statuses usage",color:"#eaf7f5",size:"md",x:2,y:0},{id:"calc",title:"Calculation",description:"Calculate sums, averages, and more",color:"#fef8ef",size:"md",x:0,y:1},{id:"portfolio",title:"Portfolio",description:"Track progress across lists & folders",color:"#eef5ff",size:"md",x:1,y:1},{id:"assignee",title:"Tasks by Assignee",description:"Pie chart of tasks grouped by assignee",color:"#eef4ff",size:"md",x:2,y:1},{id:"notes",title:"Notes",description:"Add rich text, images, and links",color:"#fff7e6",size:"md",x:0,y:2},{id:"discussion",title:"Discussion",description:"Collaborate and chat with members",color:"#fff0f4",size:"md",x:1,y:2},{id:"bookmarks",title:"Bookmarks",description:"Quickly access important items",color:"#f0f6ff",size:"md",x:2,y:2}],Ds=({storageKey:s})=>{const[i,n]=l.useState([]),[c,x]=l.useState(null),[w,C]=l.useState({dx:0,dy:0}),[A,g]=l.useState(!1),E=l.useMemo(()=>{try{const r=localStorage.getItem(s);if(r){const m=JSON.parse(r);if(Array.isArray(m))return m}}catch(r){console.warn("Failed to load overview",r)}return ee.slice(0,3)},[s]);l.useEffect(()=>{n(E)},[E]),l.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(i))}catch(r){console.warn("Failed to save overview",r)}},[i,s]);const d=(r,m)=>{const v=r.currentTarget.getBoundingClientRect();x(m),C({dx:r.clientX-v.left,dy:r.clientY-v.top}),window.addEventListener("mousemove",y),window.addEventListener("mouseup",N)},y=l.useCallback(r=>{if(!c)return;const m=Math.max(0,Math.round((r.clientX-w.dx)/U)),v=Math.max(0,Math.round((r.clientY-w.dy-120)/U));n(P=>P.map(O=>O.id===c?{...O,x:m,y:v}:O))},[c,w.dx,w.dy]),N=l.useCallback(()=>{x(null),window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",N)},[y]);l.useEffect(()=>()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",N)},[y,N]);const T=r=>{n(m=>m.filter(v=>v.id!==r))},D=r=>{n(m=>m.map(v=>v.id!==r?v:{...v,size:{sm:"md",md:"lg",lg:"sm"}[v.size]}))},L=r=>{i.find(m=>m.id===r.id)||(n(m=>[...m,{...r,x:m.length%3,y:Math.floor(m.length/3)}]),g(!1))},S=r=>{switch(r){case"lg":return"w-[360px] h-[220px]";case"md":return"w-[280px] h-[200px]";default:return"w-[220px] h-[180px]"}};return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Overview"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Drag, drop, and resize cards to build your dashboard."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-2 rounded-md border border-gray-200 bg-white hover:border-gray-300 text-sm text-gray-700",onClick:()=>n([]),children:"Clear"}),e.jsx("button",{className:"px-4 py-2 rounded-md bg-clickup-purple text-white text-sm font-medium hover:bg-indigo-700 shadow-sm",onClick:()=>g(!0),children:"Add Card"})]})]}),e.jsx("div",{className:"flex-1 relative overflow-auto bg-gray-50",children:e.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-4",children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${U}px, 1fr))`,gap:16},children:i.map(r=>e.jsxs("div",{style:{gridColumnStart:r.x+1,gridRowStart:r.y+1},className:Ts("relative rounded-xl shadow-sm border border-gray-200 bg-white cursor-move select-none",S(r.size)),onMouseDown:m=>d(m,r.id),children:[e.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none",style:{background:r.color}}),e.jsxs("div",{className:"relative h-full flex flex-col p-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Ye,{size:14}),e.jsx("span",{className:"text-[11px] uppercase font-semibold text-gray-400",children:"Card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:m=>{m.stopPropagation(),D(r.id)},title:"Resize",children:e.jsx(ys,{size:14})}),e.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:m=>{m.stopPropagation(),T(r.id)},children:e.jsx(G,{size:14})})]})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:r.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:r.description})]})]})]},r.id))})})}),A&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white w-[90vw] max-w-5xl h-[80vh] rounded-2xl shadow-2xl overflow-hidden flex",children:[e.jsxs("div",{className:"w-64 border-r border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"p-4 flex items-center gap-2 text-sm font-semibold text-gray-700",children:[e.jsx(V,{size:14})," Add Card"]}),e.jsx("div",{className:"space-y-1 px-2",children:["Featured","Overview","AI Cards","Custom","Sprints","Statuses","Tags","Assignees","Priorities","Time Tracking","Tables","Embeds and Apps"].map(r=>e.jsx("div",{className:"px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-white font-medium",children:r},r))}),e.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4 px-3 space-y-2 text-sm text-gray-500",children:[e.jsx("div",{children:"Help Docs"}),e.jsx("div",{children:"Dashboard Webinar"}),e.jsx("div",{children:"Dashboard Guide"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Featured"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 border border-gray-200 rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-clickup-purple/40"}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>g(!1),children:e.jsx(G,{size:16})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(r=>e.jsxs("button",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition flex flex-col text-left overflow-hidden",onClick:()=>L(r),children:[e.jsx("div",{className:"h-32",style:{background:r.color}}),e.jsxs("div",{className:"p-3 space-y-1",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:r.title}),e.jsx("div",{className:"text-xs text-gray-500",children:r.description})]})]},r.id))})})]})]})})]})},I=({active:s,onClick:i,label:n,shortcut:c,children:x})=>e.jsxs("div",{className:"flex flex-col items-center gap-1 group relative",children:[c&&e.jsx("span",{className:`text-[10px] font-medium ${s?"text-blue-600":"text-gray-400"}`,children:c}),e.jsx("button",{onClick:i,className:`
                relative flex items-center justify-center
                w-10 h-10 rounded-lg transition-all duration-200
                ${s?"bg-blue-100 ring-2 ring-blue-500 shadow-sm transform scale-105":"hover:bg-gray-100 hover:scale-110"}
            `,title:n,children:x})]}),$s=()=>e.jsxs("div",{className:"w-8 h-8 bg-white rounded border border-gray-200 shadow-sm flex flex-col p-1 gap-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-400"}),e.jsx("div",{className:"h-1 w-8 bg-gray-200 rounded"})]}),e.jsx("div",{className:"h-1 w-full bg-gray-100 rounded mt-auto"}),e.jsx("div",{className:"h-1.5 w-6 bg-blue-500 rounded-full"})]}),As=()=>e.jsx("div",{className:"w-7 h-7 bg-[#fcd34d] rounded-sm shadow-sm border-b-2 border-r-2 border-[#d97706]/20 relative overflow-hidden",children:e.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-[#fbbf24] shadow-sm transform -translate-x-1/2 -translate-y-1/2 rotate-45"})}),Es=()=>e.jsx("div",{className:"w-7 h-7 bg-slate-700 rounded-sm shadow-sm"}),Ps=()=>e.jsx("div",{className:"w-7 h-7 border-2 border-dashed border-gray-400 rounded bg-gray-50/50 flex items-start p-0.5",children:e.jsx("div",{className:"w-2 h-1 bg-gray-300 rounded-full"})}),Is=()=>e.jsxs("div",{className:"w-7 h-7 bg-white border border-gray-200 rounded shadow-sm overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-100 to-purple-50"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-blue-300/50 rounded-t-lg transform translate-y-1"}),e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-yellow-200 rounded-full"})]}),Ls=()=>e.jsxs("div",{className:"w-8 h-8 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-0 transform rotate-6"}),e.jsx("div",{className:"absolute top-1 right-1 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-10",children:e.jsxs("div",{className:"flex items-center justify-center h-full gap-0.5",children:[e.jsx("div",{className:"w-1 h-1 bg-purple-400 rounded-full"}),e.jsx("div",{className:"w-2 h-px bg-gray-300"}),e.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full"})]})})]}),Os=()=>{const[s,i]=l.useState("select"),[n,c]=l.useState(100),[x,w]=l.useState([]),[C,A]=l.useState([[]]),[g,E]=l.useState(0),[d,y]=l.useState(!1),[N,T]=l.useState(!1),[D,L]=l.useState({x:0,y:0}),[S,r]=l.useState({x:0,y:0}),[m,v]=l.useState([]),[P,O]=l.useState(null),[F,a]=l.useState({x:0,y:0}),[o,p]=l.useState(null),f=l.useRef(null),b=t=>{const h=C.slice(0,g+1);h.push(t),A(h),E(h.length-1),w(t)},_=()=>{g>0&&(E(t=>t-1),w(C[g-1]))},R=()=>{g<C.length-1&&(E(t=>t+1),w(C[g+1]))},B=t=>{if(!f.current)return{x:0,y:0};const h=f.current.getBoundingClientRect(),u=t.clientX-h.left,M=t.clientY-h.top,k=(u-D.x)/(n/100),j=(M-D.y)/(n/100);return{x:k,y:j,rawX:u,rawY:M}},ie=t=>{const{x:h,y:u,rawX:M,rawY:k}=B(t);if(s==="hand"||t.button===1){T(!0),r({x:M,y:k});return}if(s==="draw"){y(!0),v([{x:h,y:u}]);return}if(["arrow","shape","section"].includes(s)){y(!0),r({x:h,y:u}),p({type:s,x:h,y:u,width:0,height:0});return}if(["note","text","task","image"].includes(s)){let z={id:H(),type:s,x:h,y:u,width:200,height:200};s==="note"?z={...z,content:"New Note",color:"#fef3c7",width:200,height:200}:s==="text"?z={...z,content:"Type something...",width:200,height:50}:s==="task"?z={...z,content:"New Task",width:300,height:140}:s==="image"&&(z={...z,width:300,height:200}),b([...x,z]),i("select");return}s==="select"&&O(null)},oe=t=>{const{x:h,y:u,rawX:M,rawY:k}=B(t);if(N){const j=M-S.x,z=k-S.y;L(X=>({x:X.x+j,y:X.y+z})),r({x:M,y:k});return}d&&(s==="draw"?v(j=>[...j,{x:h,y:u}]):["arrow","shape","section"].includes(s)&&o?p(j=>({...j,width:h-((j==null?void 0:j.x)||0),height:u-((j==null?void 0:j.y)||0)})):P&&s==="select"&&w(j=>j.map(z=>z.id===P?{...z,x:h-F.x,y:u-F.y}:z)))},W=()=>{if(N){T(!1);return}if(d)if(y(!1),s==="draw"&&m.length>1){const t={id:H(),type:"draw",x:0,y:0,points:m,color:"#1e293b"};b([...x,t]),v([])}else if(o){const t={id:H(),type:s,x:o.x,y:o.y,width:o.width||100,height:o.height||100,color:s==="shape"?"#334155":void 0};b([...x,t]),p(null),i("select")}else P&&b(x)},ne=(t,h)=>{if(s==="select"){t.stopPropagation();const{x:u,y:M}=B(t),k=x.find(j=>j.id===h);k&&(O(h),y(!0),a({x:u-k.x,y:M-k.y}))}},le=t=>{const h=x.filter(u=>u.id!==t);b(h),O(null)},de=t=>{const u=P===t.id?"ring-2 ring-blue-500":"";switch(t.type){case"note":return e.jsx("div",{className:`shadow-md flex items-center justify-center text-center font-handwriting text-lg leading-tight p-4 ${u}`,style:{backgroundColor:t.color,width:t.width,height:t.height},children:t.content});case"text":return e.jsx("div",{className:`p-2 text-gray-800 font-medium text-xl bg-transparent border border-transparent hover:border-blue-200 rounded whitespace-nowrap ${u}`,children:t.content});case"task":return e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col ${u}`,style:{width:t.width,height:t.height},children:[e.jsx("div",{className:"h-1.5 bg-blue-500 w-full"}),e.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"text-[10px] font-medium text-gray-500 px-1.5 py-0.5 bg-gray-100 rounded",children:"TASK-123"}),e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200"})]}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-auto",children:t.content}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsx("span",{className:"w-full h-1.5 rounded-full bg-gray-100 overflow-hidden",children:e.jsx("div",{className:"w-1/2 h-full bg-green-500"})})})]})]});case"shape":return e.jsx("div",{className:`rounded-lg flex items-center justify-center ${u}`,style:{backgroundColor:t.color,width:Math.abs(t.width||100),height:Math.abs(t.height||100)}});case"section":return e.jsx("div",{className:`border-2 border-dashed border-gray-300 rounded-lg bg-gray-50/30 flex items-start p-2 ${u}`,style:{width:Math.abs(t.width||200),height:Math.abs(t.height||200)},children:e.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Section"})});case"image":return e.jsxs("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative ${u}`,style:{width:Math.abs(t.width||300),height:Math.abs(t.height||200)},children:[e.jsx(cs,{size:48,className:"text-gray-300"}),e.jsx("span",{className:"absolute bottom-4 text-xs text-gray-400",children:"Image Placeholder"})]});case"arrow":const M=t.width||0,k=t.height||0;return e.jsxs("svg",{width:Math.abs(M)+20,height:Math.abs(k)+20,className:`overflow-visible pointer-events-none ${u}`,children:[e.jsx("defs",{children:e.jsx("marker",{id:`arrowhead-${t.id}`,markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#334155"})})}),e.jsx("line",{x1:M>0?0:Math.abs(M),y1:k>0?0:Math.abs(k),x2:M>0?Math.abs(M):0,y2:k>0?Math.abs(k):0,stroke:"#334155",strokeWidth:"2",markerEnd:`url(#arrowhead-${t.id})`})]});default:return null}};return e.jsxs("div",{className:"relative w-full h-full bg-[#f8fafc] overflow-hidden select-none",ref:f,onMouseDown:ie,onMouseMove:oe,onMouseUp:W,onMouseLeave:W,onContextMenu:t=>t.preventDefault(),children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${20*(n/100)}px ${20*(n/100)}px`,backgroundPosition:`${D.x}px ${D.y}px`,opacity:.6}}),e.jsxs("div",{className:"absolute inset-0 transform-origin-top-left",style:{transform:`translate(${D.x}px, ${D.y}px) scale(${n/100})`},children:[e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",children:[x.filter(t=>t.type==="draw").map(t=>{var h;return e.jsx("path",{d:`M ${(h=t.points)==null?void 0:h.map(u=>`${u.x} ${u.y}`).join(" L ")}`,stroke:t.color,strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},t.id)}),d&&s==="draw"&&e.jsx("path",{d:`M ${m.map(t=>`${t.x} ${t.y}`).join(" L ")}`,stroke:"#1e293b",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),x.map(t=>t.type==="draw"?null:e.jsxs("div",{className:`absolute group ${s==="select"?"cursor-move":""}`,style:{left:t.x,top:t.y,width:t.width,height:t.height,zIndex:P===t.id?10:1},onMouseDown:h=>ne(h,t.id),children:[s==="select"&&e.jsx("button",{className:"absolute -top-3 -right-3 p-1.5 bg-white rounded-full shadow-sm border border-gray-200 opacity-0 group-hover:opacity-100 transition-opacity z-50 hover:bg-red-50 text-red-500",onClick:h=>{h.stopPropagation(),le(t.id)},children:e.jsx(te,{size:14})}),de(t)]},t.id)),o&&e.jsx("div",{className:"absolute border-2 border-blue-400 border-dashed opacity-50 pointer-events-none",style:{left:Math.min(o.x,o.x+(o.width||0)),top:Math.min(o.y,o.y+(o.height||0)),width:Math.abs(o.width||0),height:Math.abs(o.height||0)}})]}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center gap-2 z-50",children:[e.jsxs("div",{className:"flex items-center gap-1 px-1",children:[e.jsx(I,{active:s==="select",onClick:()=>i("select"),label:"Select",shortcut:"V",children:e.jsx(ps,{size:20,className:s==="select"?"text-blue-600":"text-gray-600"})}),e.jsx(I,{active:s==="hand",onClick:()=>i("hand"),label:"Hand",shortcut:"H",children:e.jsx(ls,{size:20,className:s==="hand"?"text-blue-600":"text-gray-600"})})]}),e.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(I,{active:s==="task",onClick:()=>i("task"),label:"Task",shortcut:"T",children:e.jsx($s,{})}),e.jsx(I,{active:s==="draw",onClick:()=>i("draw"),label:"Draw",shortcut:"D",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{size:24,className:"text-gray-700"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-black rounded-full"})]})}),e.jsx(I,{active:s==="shape",onClick:()=>i("shape"),label:"Shape",shortcut:"R",children:e.jsx(Es,{})}),e.jsx(I,{active:s==="arrow",onClick:()=>i("arrow"),label:"Arrow",shortcut:"A",children:e.jsx(Je,{size:26,className:"text-gray-700"})}),e.jsx(I,{active:s==="note",onClick:()=>i("note"),label:"Note",shortcut:"N",children:e.jsx(As,{})}),e.jsx(I,{active:s==="text",onClick:()=>i("text"),label:"Text",shortcut:"T",children:e.jsx("div",{className:"w-8 h-8 bg-white border border-gray-200 rounded shadow-sm flex items-center justify-center",children:e.jsx(Ze,{size:20,className:"text-gray-800"})})}),e.jsx(I,{active:s==="section",onClick:()=>i("section"),label:"Section",shortcut:"F",children:e.jsx(Ps,{})}),e.jsx(I,{active:s==="image",onClick:()=>i("image"),label:"Image",children:e.jsx(Is,{})}),e.jsx(I,{active:s==="template",onClick:()=>{},label:"Templates",children:e.jsx(Ls,{})})]}),e.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),e.jsxs("div",{className:"flex items-center gap-1 px-1",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:_,disabled:g<=0,title:"Undo",children:e.jsx(Ss,{size:20})}),e.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:R,disabled:g>=C.length-1,title:"Redo",children:e.jsx(Ns,{size:20})})]})]}),e.jsxs("div",{className:"absolute bottom-8 left-8 bg-white rounded-xl shadow-lg border border-gray-100 flex items-center p-1.5 z-50",children:[e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",children:e.jsx(rs,{size:16})}),e.jsx("div",{className:"w-px h-4 bg-gray-200 mx-1"}),e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>c(Math.max(10,n-10)),children:e.jsx(qe,{size:16})}),e.jsxs("span",{className:"px-3 text-xs font-semibold text-gray-600 min-w-[3.5rem] text-center",children:[Math.round(n),"%"]}),e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>c(Math.min(200,n+10)),children:e.jsx(V,{size:16})})]})]})},lt=({spaceName:s,spaceId:i})=>{const{tasks:n,updateTask:c}=ce(),x=l.useMemo(()=>`space-views-${i}`,[i]),w=[{id:"overview",type:"overview",name:"Overview",description:"Drag, resize, and track cards",icon:e.jsx(J,{className:"text-indigo-500"}),category:"popular"},{id:"list",type:"list",name:"Tasks",description:"Track tasks, bugs, people & more",icon:e.jsx(ts,{className:"text-blue-500"}),category:"popular"},{id:"board",type:"board",name:"Kanban",description:"Move tasks between columns",icon:e.jsx(ms,{className:"text-purple-500"}),category:"popular"},{id:"calendar",type:"calendar",name:"Calendar",description:"Plan, schedule, & delegate",icon:e.jsx(Se,{className:"text-green-500"}),category:"popular"},{id:"gantt",type:"placeholder",name:"Gantt",description:"Plan dependencies & time",icon:e.jsx(Z,{className:"text-orange-500"}),category:"popular"},{id:"doc",type:"placeholder",name:"Doc",description:"Collaborate & document anything",icon:e.jsx(Me,{className:"text-pink-500"}),category:"popular"},{id:"form",type:"placeholder",name:"Form",description:"Collect, track, & report data",icon:e.jsx(ws,{className:"text-teal-500"}),category:"popular"},{id:"table",type:"placeholder",name:"Table",description:"Structured table format",icon:e.jsx(ze,{className:"text-cyan-500"}),category:"more"},{id:"dashboard",type:"placeholder",name:"Dashboard",description:"Track metrics & insights",icon:e.jsx(q,{className:"text-red-500"}),category:"more"},{id:"timeline",type:"placeholder",name:"Timeline",description:"See tasks by start & due date",icon:e.jsx(Ce,{className:"text-yellow-500"}),category:"more"},{id:"activity",type:"placeholder",name:"Activity",description:"Real-time activity feed",icon:e.jsx(Z,{className:"text-indigo-400"}),category:"more"},{id:"workload",type:"placeholder",name:"Workload",description:"Visualize team capacity",icon:e.jsx(q,{className:"text-emerald-500"}),category:"more"},{id:"whiteboard",type:"whiteboard",name:"Whiteboard",description:"Visualize & brainstorm ideas",icon:e.jsx(J,{className:"text-violet-500"}),category:"more"},{id:"team",type:"placeholder",name:"Team",description:"Monitor work being done",icon:e.jsx(Te,{className:"text-blue-400"}),category:"more"},{id:"mindmap",type:"placeholder",name:"Mind Map",description:"Visual brainstorming of ideas",icon:e.jsx(De,{className:"text-fuchsia-500"}),category:"more"},{id:"map",type:"placeholder",name:"Map",description:"Tasks visualized by address",icon:e.jsx(gs,{className:"text-rose-500"}),category:"more"},{id:"chat",type:"placeholder",name:"Chat",description:"Communicate with your team",icon:e.jsx($e,{className:"text-sky-500"}),category:"more"}],C=()=>{try{const a=localStorage.getItem(x);if(a){const o=JSON.parse(a);if(o!=null&&o.views){const p=o.views.map(f=>{const b=w.find(_=>_.id===f.id);return b?{...f,name:b.name,description:b.description,icon:b.icon}:f.type==="list"&&f.name==="List"?{...f,name:"Tasks"}:f});return{...o,views:p}}}}catch(a){console.warn("Failed to load saved views",a)}return{views:[],activeViewId:null}},A=l.useMemo(()=>C(),[x]),[g,E]=l.useState(()=>{const a=A.views||[];return a.some(p=>p.id==="overview")?a:[w[0],...a]}),[d,y]=l.useState(()=>A.activeViewId||"overview"),[N,T]=l.useState(!1),[D,L]=l.useState(s),[S,r]=l.useState(null);l.useEffect(()=>{(async()=>{try{const p=(await Ae.getSpaces()).find(f=>f.id===i);p&&L(p.name)}catch(o){console.error("Failed to load space name:",o)}})()},[i]);const m=(a,o)=>{try{const p=a.map(({icon:f,...b})=>b);localStorage.setItem(x,JSON.stringify({views:p,activeViewId:o}))}catch(p){console.warn("Failed to save views",p)}};l.useEffect(()=>{!d&&g.length>0&&y(g[0].id)},[d,g]),l.useEffect(()=>{m(g,d||null)},[g,d]);const v=(a,o)=>{a.preventDefault(),T(!1);const p=300,f=420,b=Math.min(Math.max(8,a.clientX),window.innerWidth-p-8),_=Math.min(Math.max(8,a.clientY),window.innerHeight-f-8);r({viewId:o,x:b,y:_})},P=a=>{const o=g.find(f=>f.id===a.id);if(o){y(o.id),T(!1);return}const p=[...g,a];E(p),y(a.id),T(!1)};g.find(a=>a.id===d);const O=S?g.find(a=>a.id===S.viewId):null,F=a=>{var f;const o=g.find(b=>b.id===a),p=g.filter(b=>b.id!==a);if(o){const b=["list","board","calendar"];b.includes(o.type)&&(p.some(R=>b.includes(R.type))||localStorage.removeItem(`taskboard-${i}`)),o.type==="overview"&&(p.some(R=>R.type==="overview")||localStorage.removeItem(`overview-${i}`))}E(p),d===a&&y(((f=p[0])==null?void 0:f.id)||null),r(null)};return e.jsxs("div",{className:"flex flex-col flex-1 bg-white",children:[S&&O&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>r(null),onContextMenu:a=>{a.preventDefault(),r(null)}}),e.jsxs("div",{className:"fixed z-40 w-[320px] bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",style:{top:S.y,left:S.x},children:[e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(ae,{size:16,className:"text-gray-500"}),"Rename"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(Ke,{size:16,className:"text-gray-500"}),"Copy link to view"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(Qe,{size:16,className:"text-gray-500"}),"Add to favorites"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(xe,{size:16,className:"text-gray-500"}),"Customize view"]})]}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsx("div",{className:"py-1",children:[{icon:Ie,label:"Pin view"},{icon:me,label:"Private view"},{icon:he,label:"Protect view"},{icon:es,label:"Autosave for me"},{icon:ge,label:"Set as default view"}].map(a=>e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(a.icon,{size:16,className:"text-gray-500"}),e.jsx("span",{className:"flex-1 text-left",children:a.label}),e.jsx("span",{className:"relative inline-flex h-5 w-9 items-center rounded-full bg-gray-200",children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white shadow translate-x-[2px]"})})]},a.label))}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(ue,{size:16,className:"text-gray-500"}),"Templates"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(os,{size:16,className:"text-gray-500"}),"Duplicate view"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>F(S.viewId),children:[e.jsx(te,{size:16,className:"text-red-500"}),"Delete view"]})]}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-3 px-4 py-3 text-sm font-medium text-white bg-clickup-purple hover:bg-indigo-700",disabled:!0,children:[e.jsx(pe,{size:16}),"Sharing & Permissions"]})]})]}),e.jsx("header",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{children:"Private Rooms"}),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),e.jsx("span",{className:"font-medium text-gray-800",children:D})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[g.map(a=>e.jsxs("button",{className:`px-3 py-1.5 text-sm font-medium rounded transition-colors border-b-2 flex items-center gap-2 ${d===a.id?"text-gray-900 border-clickup-purple":"text-gray-500 border-transparent hover:text-gray-800"}`,onClick:()=>{y(a.id),r(null)},onContextMenu:o=>v(o,a.id),children:[a.icon&&e.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:Y.isValidElement(a.icon)?Y.cloneElement(a.icon,{size:16}):a.icon}),a.name]},a.id)),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-clickup-purple hover:bg-purple-50 rounded transition-colors",onClick:()=>T(!N),children:[e.jsx(V,{size:14}),e.jsx("span",{children:"Add"})]}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>T(!1)}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-[520px] bg-white rounded-lg shadow-2xl border border-gray-200 p-4 z-20 max-h-[600px] overflow-y-auto",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Popular"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:w.filter(a=>a.category==="popular").map(a=>e.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>P(a),children:[e.jsx("span",{className:"mr-3",children:a.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id))}),e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3 pt-2 border-t",children:"More views"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.filter(a=>a.category==="more").map(a=>e.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>P(a),children:[e.jsx("span",{className:"mr-3",children:a.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id))})]})]})]})]})]})}),e.jsxs("div",{className:"h-12 border-b border-gray-200 flex items-center px-4 gap-2 text-sm text-gray-600 bg-white",children:[e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(be,{size:14,className:"text-gray-500"})," Search"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(ye,{size:14,className:"text-gray-500"})," Person"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(fe,{size:14,className:"text-gray-500"})," Filter"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(ss,{size:14,className:"text-gray-500"})," Sort"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(ve,{size:14,className:"text-gray-500"})," Hide"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(we,{size:14,className:"text-gray-500"})," Group by"]}),e.jsx("div",{className:"h-4 w-px bg-gray-200 mx-2"}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(je,{size:14,className:"text-gray-500"})," Automation"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(K,{size:14,className:"text-gray-500"})," Dashboard"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(Ne,{size:14,className:"text-gray-500"})," Export"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded-md border border-gray-200 text-gray-600 hover:border-gray-300 bg-white text-xs font-medium",children:"Save view"}),e.jsx("button",{className:"px-3 py-1 rounded-md border border-gray-200 text-gray-600 hover:border-gray-300 bg-white text-xs font-medium",children:"Share"})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden bg-gray-50",children:[d==="list"&&e.jsx(Le,{tasks:n,onTaskUpdate:(a,o)=>c(a,o)}),d==="board"&&e.jsx(Cs,{storageKey:`kanban-${i}`}),d==="calendar"&&e.jsx(ke,{refreshTrigger:d}),d==="overview"&&e.jsx(Ds,{storageKey:`overview-${i}`}),d==="whiteboard"&&e.jsx(Os,{}),!["list","board","calendar","overview","whiteboard"].includes(d||"")&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(K,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-lg font-medium",children:"View not implemented yet"})]})]})]})};export{lt as default};
