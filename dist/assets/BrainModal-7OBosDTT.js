import{r as a,j as e,bh as h,X as b,a1 as y,G as f}from"./index-B2SFjcJL.js";import"./index-Ca_DMGSD.js";import{S as j}from"./send-D_PIlEmP.js";const k=async o=>"API Key is missing. Please check your configuration.",v=async(o,p)=>"API Key is missing.",z=({isOpen:o,onClose:p,tasks:w})=>{const[i,c]=a.useState(""),[d,n]=a.useState([{role:"ai",text:"Hi! I'm ClickUp Brain. I can help you summarize tasks, suggest priorities, or answer questions about your workspace."}]),[m,l]=a.useState(!1),x=a.useRef(null);a.useEffect(()=>{x.current&&x.current.scrollIntoView({behavior:"smooth"})},[d]);const u=async()=>{if(!i.trim())return;const s=i;c(""),n(t=>[...t,{role:"user",text:s}]),l(!0);const r=await v();n(t=>[...t,{role:"ai",text:r}]),l(!1)},g=async s=>{l(!0),n(r=>[...r,{role:"user",text:"Generate a summary of my tasks."}]);{const r=await k();n(t=>[...t,{role:"ai",text:r}])}l(!1)};return o?e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[1px] z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl h-[600px] flex flex-col border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gradient-to-r from-white to-purple-50/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"bg-clickup-purple/10 p-1.5 rounded-lg",children:e.jsx(h,{className:"text-clickup-purple",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-800",children:"ClickUp Brain"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Powered by Gemini 2.5 Flash"})]})]}),e.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(b,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#fdfdfd]",children:[d.map((s,r)=>e.jsx("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"} `,children:e.jsx("div",{className:`max - w - [80 %] rounded - 2xl px - 4 py - 3 text - sm leading - relaxed shadow - sm ${s.role==="user"?"bg-clickup-purple text-white rounded-br-none":"bg-white border border-gray-200 text-gray-700 rounded-bl-none"} `,children:s.text})},r)),m&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl rounded-bl-none px-4 py-3 flex items-center space-x-2 shadow-sm",children:[e.jsx(y,{size:16,className:"animate-spin text-clickup-purple"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Brain is thinking..."})]})}),e.jsx("div",{ref:x})]}),d.length===1&&e.jsxs("div",{className:"px-4 pb-2 flex gap-2 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>g(),className:"flex items-center space-x-1.5 px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg text-xs font-medium transition-colors border border-purple-200/50",children:[e.jsx(f,{size:14}),e.jsx("span",{children:"Summarize Tasks"})]}),e.jsx("button",{onClick:()=>{c("What tasks are high priority?"),u()},className:"flex items-center space-x-1.5 px-3 py-2 bg-gray-50 hover:bg-gray-100 text-gray-600 rounded-lg text-xs font-medium transition-colors border border-gray-200/50",children:e.jsx("span",{children:"High Priority Items?"})})]}),e.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{type:"text",value:i,onChange:s=>c(s.target.value),onKeyDown:s=>s.key==="Enter"&&u(),placeholder:"Ask AI anything about your tasks...",className:"w-full pl-4 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple transition-all text-sm"}),e.jsx("button",{onClick:u,disabled:!i.trim()||m,className:"absolute right-2 p-1.5 bg-clickup-purple text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:e.jsx(j,{size:16})})]}),e.jsx("div",{className:"mt-2 text-center",children:e.jsx("p",{className:"text-[10px] text-gray-400",children:"AI can make mistakes. Please review generated responses."})})]})]})}):null};export{z as default};
