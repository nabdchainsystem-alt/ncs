import{c as I,r as o,j as e,P as U,E as se,X as K,T as te,ad as le,N as W,ae as de,af as ce,O as xe,ag as me,ah as he,G as ue,ai as ge,V as J,aj as pe,ak as fe,a2 as be,al as q,C as ye,ab as Z,a4 as ve,am as we,an as Q,J as je,U as Ne,W as ke,M as Se,_ as Ce,ao as Me}from"./index-BFP11Qd5.js";import{u as ze,S as ee,a as Te,P as $e,T as De}from"./TaskBoard-2LKVB-Vm.js";import{u as Ae,a as Pe,P as Ee,D as Re,c as Ie,b as Le,e as Ve,C as Oe}from"./core.esm-DIOfIYht.js";import{S as _e,v as Fe,u as Be,G as He,L as Ue}from"./sortable.esm-BHJ1DlLa.js";import{A as We}from"./arrow-up-right-BL3lS7n0.js";import{T as Xe}from"./type-B7tG-NZK.js";import{M as Ge}from"./minus-Hbm8BIDe.js";import{S as Ye}from"./star-7jSvfw5A.js";import{S as Ke}from"./save-CVOJTFNJ.js";import{L as Je}from"./list-CaljzULn.js";import"./index-Ca_DMGSD.js";import"./copy-CsRZNbhr.js";import"./remindersService-oc5BgMd5.js";import"./goalsService-UyxD11kV.js";import"./square-check-big-UPLgdiWM.js";import"./list-ordered-CEaJOj9J.js";import"./flag-CBeuiiu3.js";import"./phone-CvlXaMmO.js";import"./tag-COzY5Ivw.js";import"./smile-7gJkJ9kY.js";import"./paperclip-DkDe76ER.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ze=I("chevron-up",qe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["line",{x1:"15",x2:"15",y1:"12",y2:"18",key:"1p7wdc"}],["line",{x1:"12",x2:"18",y1:"15",y2:"15",key:"1nscbv"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],es=I("copy-plus",Qe);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],ts=I("hand",ss);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],rs=I("image",as);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],os=I("kanban",is);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ls=I("map",ns);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],cs=I("move",ds);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ae=I("pencil",xs);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],hs=I("rectangle-ellipsis",ms);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],gs=I("redo-2",us);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],fs=I("undo-2",ps),bs=({status:s,tasks:i,color:n})=>{const{setNodeRef:d}=Ve({id:s});return e.jsxs("div",{className:"flex flex-col w-80 min-w-[320px] h-full bg-gray-50/50 rounded-xl border border-gray-200/60 flex-shrink-0",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-gray-50/50 backdrop-blur-sm z-10 rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${n.split(" ")[0].replace("bg-","bg-")}`}),e.jsx("h3",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:s||"No Status"}),e.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full font-medium",children:i.length})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(se,{size:16})})]}),e.jsxs("div",{ref:d,className:"flex-1 p-3 overflow-y-auto custom-scroll space-y-3",children:[e.jsx(_e,{items:i.map(c=>c.id),strategy:Fe,children:i.map(c=>e.jsx(ys,{task:c},c.id))}),i.length===0&&e.jsx("div",{className:"h-24 border-2 border-dashed border-gray-200 rounded-lg flex items-center justify-center text-gray-400 text-sm",children:"Drop items here"})]})]})},ys=({task:s})=>{const{attributes:i,listeners:n,setNodeRef:d,transform:c,transition:w,isDragging:T}=Be({id:s.id}),A={transform:Oe.Transform.toString(c),transition:w,opacity:T?.3:1};return e.jsxs("div",{ref:d,style:A,...i,...n,className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow cursor-grab active:cursor-grabbing group relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 line-clamp-2 leading-snug",children:s.name}),e.jsx("button",{className:"text-gray-300 hover:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(se,{size:14})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:s.personId?e.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-[10px] font-bold border border-white shadow-sm",children:"ID"}):e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center border border-dashed border-gray-300",children:e.jsx(U,{size:12})})}),s.priority&&e.jsx("div",{className:`text-[10px] px-2 py-0.5 rounded border ${s.priority==="High"?"bg-red-50 text-red-600 border-red-100":s.priority==="Medium"?"bg-amber-50 text-amber-600 border-amber-100":"bg-blue-50 text-blue-600 border-blue-100"}`,children:s.priority})]})]})},vs=({storageKey:s})=>{const{board:i,updateTask:n}=ze(s),[d,c]=o.useState(null),w=Ae(Pe(Ee,{activationConstraint:{distance:5}})),T=i.groups.flatMap(l=>l.tasks),A=d?T.find(l=>l.id===d):null,u=l=>{c(l.active.id)},P=l=>{const{active:f,over:N}=l;if(c(null),!N)return;const $=f.id,D=N.id;let L,C;for(const r of i.groups){const x=r.tasks.find(b=>b.id===$);if(x){L=r,C=x;break}}if(!(!L||!C)&&Object.values(ee).includes(D)){const r=D;C.status!==r&&n(L.id,$,{status:r})}};return e.jsxs("div",{className:"h-full flex flex-col bg-white overflow-hidden",children:[e.jsxs("div",{className:"h-14 border-b border-gray-200 flex items-center px-6 justify-between flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Board"}),e.jsx("div",{className:"h-4 w-px bg-gray-300"}),e.jsxs("button",{className:"flex items-center gap-2 text-sm text-gray-600 hover:text-[#7B61FF] transition-colors",children:[e.jsx("span",{className:"text-[#7B61FF]",children:"Group by:"})," Status"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{className:"px-3 py-1.5 bg-[#7B61FF] text-white rounded-md text-sm font-medium hover:bg-[#6a51e6] transition-colors flex items-center gap-2 shadow-sm shadow-indigo-200",children:[e.jsx(U,{size:16})," New Task"]})})]}),e.jsxs(Re,{sensors:w,collisionDetection:Ie,onDragStart:u,onDragEnd:P,children:[e.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden p-6",children:e.jsx("div",{className:"flex h-full gap-6",children:Object.values(ee).map(l=>{const f=i.groups.flatMap(N=>N.tasks).filter(N=>N.status===l);return e.jsx(bs,{status:l,tasks:f,color:Te[l]},l)})})}),e.jsx(Le,{children:A?e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-xl border border-[#7B61FF] rotate-2 cursor-grabbing w-[300px]",children:e.jsx("div",{className:"text-sm font-medium text-gray-800",children:A.name})}):null})]})]})};function re(s){var i,n,d="";if(typeof s=="string"||typeof s=="number")d+=s;else if(typeof s=="object")if(Array.isArray(s)){var c=s.length;for(i=0;i<c;i++)s[i]&&(n=re(s[i]))&&(d&&(d+=" "),d+=n)}else for(n in s)s[n]&&(d&&(d+=" "),d+=n);return d}function ws(){for(var s,i,n=0,d="",c=arguments.length;n<c;n++)(s=arguments[n])&&(i=re(s))&&(d&&(d+=" "),d+=i);return d}const X=120,js=[{id:"ai-brain",title:"AI Brain",description:"Generate ideas and content with a custom prompt",color:"#f1f0ff",size:"md",x:0,y:0},{id:"task-list",title:"Task List",description:"Create a List view using tasks from any location",color:"#f8f1ff",size:"md",x:1,y:0},{id:"workload-status",title:"Workload by Status",description:"Display a pie chart of your statuses usage",color:"#eaf7f5",size:"md",x:2,y:0},{id:"calc",title:"Calculation",description:"Calculate sums, averages, and more",color:"#fef8ef",size:"md",x:0,y:1},{id:"portfolio",title:"Portfolio",description:"Track progress across lists & folders",color:"#eef5ff",size:"md",x:1,y:1},{id:"assignee",title:"Tasks by Assignee",description:"Pie chart of tasks grouped by assignee",color:"#eef4ff",size:"md",x:2,y:1},{id:"notes",title:"Notes",description:"Add rich text, images, and links",color:"#fff7e6",size:"md",x:0,y:2},{id:"discussion",title:"Discussion",description:"Collaborate and chat with members",color:"#fff0f4",size:"md",x:1,y:2},{id:"bookmarks",title:"Bookmarks",description:"Quickly access important items",color:"#f0f6ff",size:"md",x:2,y:2}],Ns=({storageKey:s})=>{const[i,n]=o.useState([]),[d,c]=o.useState(null),[w,T]=o.useState({dx:0,dy:0}),[A,u]=o.useState(!1),P=o.useMemo(()=>{try{const r=localStorage.getItem(s);if(r){const x=JSON.parse(r);if(Array.isArray(x))return x}}catch(r){console.warn("Failed to load overview",r)}return[]},[s]);o.useEffect(()=>{n(P)},[P]),o.useEffect(()=>{try{localStorage.setItem(s,JSON.stringify(i))}catch(r){console.warn("Failed to save overview",r)}},[i,s]);const l=(r,x)=>{const b=r.currentTarget.getBoundingClientRect();c(x),T({dx:r.clientX-b.left,dy:r.clientY-b.top}),window.addEventListener("mousemove",f),window.addEventListener("mouseup",N)},f=o.useCallback(r=>{if(!d)return;const x=Math.max(0,Math.round((r.clientX-w.dx)/X)),b=Math.max(0,Math.round((r.clientY-w.dy-120)/X));n(E=>E.map(V=>V.id===d?{...V,x,y:b}:V))},[d,w.dx,w.dy]),N=o.useCallback(()=>{c(null),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",N)},[f]);o.useEffect(()=>()=>{window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",N)},[f,N]);const $=r=>{n(x=>x.filter(b=>b.id!==r))},D=r=>{n(x=>x.map(b=>b.id!==r?b:{...b,size:{sm:"md",md:"lg",lg:"sm"}[b.size]}))},L=r=>{i.find(x=>x.id===r.id)||(n(x=>[...x,{...r,x:x.length%3,y:Math.floor(x.length/3)}]),u(!1))},C=r=>{switch(r){case"lg":return"w-[360px] h-[220px]";case"md":return"w-[280px] h-[200px]";default:return"w-[220px] h-[180px]"}};return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Overview"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Drag, drop, and resize cards to build your dashboard."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-2 rounded-md border border-gray-200 bg-white hover:border-gray-300 text-sm text-gray-700",onClick:()=>n([]),children:"Clear"}),e.jsx("button",{className:"px-4 py-2 rounded-md bg-clickup-purple text-white text-sm font-medium hover:bg-indigo-700 shadow-sm",onClick:()=>u(!0),children:"Add Card"})]})]}),e.jsx("div",{className:"flex-1 relative overflow-auto bg-gray-50",children:e.jsx("div",{className:"absolute top-4 left-4 right-4 bottom-4",children:e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${X}px, 1fr))`,gap:16},children:i.map(r=>e.jsxs("div",{style:{gridColumnStart:r.x+1,gridRowStart:r.y+1},className:ws("relative rounded-xl shadow-sm border border-gray-200 bg-white cursor-move select-none",C(r.size)),onMouseDown:x=>l(x,r.id),children:[e.jsx("div",{className:"absolute inset-0 rounded-xl pointer-events-none",style:{background:r.color}}),e.jsxs("div",{className:"relative h-full flex flex-col p-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(He,{size:14}),e.jsx("span",{className:"text-[11px] uppercase font-semibold text-gray-400",children:"Card"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:x=>{x.stopPropagation(),D(r.id)},title:"Resize",children:e.jsx(cs,{size:14})}),e.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:x=>{x.stopPropagation(),$(r.id)},children:e.jsx(K,{size:14})})]})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:r.title}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:r.description})]})]})]},r.id))})})}),A&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:e.jsxs("div",{className:"bg-white w-[90vw] max-w-5xl h-[80vh] rounded-2xl shadow-2xl overflow-hidden flex",children:[e.jsxs("div",{className:"w-64 border-r border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"p-4 flex items-center gap-2 text-sm font-semibold text-gray-700",children:[e.jsx(U,{size:14})," Add Card"]}),e.jsx("div",{className:"space-y-1 px-2",children:["Featured","Overview","AI Cards","Custom","Sprints","Statuses","Tags","Assignees","Priorities","Time Tracking","Tables","Embeds and Apps"].map(r=>e.jsx("div",{className:"px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-white font-medium",children:r},r))}),e.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4 px-3 space-y-2 text-sm text-gray-500",children:[e.jsx("div",{children:"Help Docs"}),e.jsx("div",{children:"Dashboard Webinar"}),e.jsx("div",{children:"Dashboard Guide"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800",children:"Featured"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",placeholder:"Search...",className:"w-64 border border-gray-200 rounded-md px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-clickup-purple/40"}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:()=>u(!1),children:e.jsx(K,{size:16})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:js.map(r=>e.jsxs("button",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition flex flex-col text-left overflow-hidden",onClick:()=>L(r),children:[e.jsx("div",{className:"h-32",style:{background:r.color}}),e.jsxs("div",{className:"p-3 space-y-1",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:r.title}),e.jsx("div",{className:"text-xs text-gray-500",children:r.description})]})]},r.id))})})]})]})})]})},R=({active:s,onClick:i,label:n,shortcut:d,children:c})=>e.jsxs("div",{className:"flex flex-col items-center gap-1 group relative",children:[d&&e.jsx("span",{className:`text-[10px] font-medium ${s?"text-blue-600":"text-gray-400"}`,children:d}),e.jsx("button",{onClick:i,className:`
                relative flex items-center justify-center
                w-10 h-10 rounded-lg transition-all duration-200
                ${s?"bg-blue-100 ring-2 ring-blue-500 shadow-sm transform scale-105":"hover:bg-gray-100 hover:scale-110"}
            `,title:n,children:c})]}),ks=()=>e.jsxs("div",{className:"w-8 h-8 bg-white rounded border border-gray-200 shadow-sm flex flex-col p-1 gap-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full border border-gray-400"}),e.jsx("div",{className:"h-1 w-8 bg-gray-200 rounded"})]}),e.jsx("div",{className:"h-1 w-full bg-gray-100 rounded mt-auto"}),e.jsx("div",{className:"h-1.5 w-6 bg-blue-500 rounded-full"})]}),Ss=()=>e.jsx("div",{className:"w-7 h-7 bg-[#fcd34d] rounded-sm shadow-sm border-b-2 border-r-2 border-[#d97706]/20 relative overflow-hidden",children:e.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-[#fbbf24] shadow-sm transform -translate-x-1/2 -translate-y-1/2 rotate-45"})}),Cs=()=>e.jsx("div",{className:"w-7 h-7 bg-slate-700 rounded-sm shadow-sm"}),Ms=()=>e.jsx("div",{className:"w-7 h-7 border-2 border-dashed border-gray-400 rounded bg-gray-50/50 flex items-start p-0.5",children:e.jsx("div",{className:"w-2 h-1 bg-gray-300 rounded-full"})}),zs=()=>e.jsxs("div",{className:"w-7 h-7 bg-white border border-gray-200 rounded shadow-sm overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-100 to-purple-50"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-blue-300/50 rounded-t-lg transform translate-y-1"}),e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-yellow-200 rounded-full"})]}),Ts=()=>e.jsxs("div",{className:"w-8 h-8 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-0 transform rotate-6"}),e.jsx("div",{className:"absolute top-1 right-1 w-6 h-5 bg-white border border-gray-200 rounded shadow-sm z-10",children:e.jsxs("div",{className:"flex items-center justify-center h-full gap-0.5",children:[e.jsx("div",{className:"w-1 h-1 bg-purple-400 rounded-full"}),e.jsx("div",{className:"w-2 h-px bg-gray-300"}),e.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full"})]})})]}),$s=()=>{const[s,i]=o.useState("select"),[n,d]=o.useState(100),[c,w]=o.useState([]),[T,A]=o.useState([[]]),[u,P]=o.useState(0),[l,f]=o.useState(!1),[N,$]=o.useState(!1),[D,L]=o.useState({x:0,y:0}),[C,r]=o.useState({x:0,y:0}),[x,b]=o.useState([]),[E,V]=o.useState(null),[_,F]=o.useState({x:0,y:0}),[k,B]=o.useState(null),a=o.useRef(null),m=t=>{const h=T.slice(0,u+1);h.push(t),A(h),P(h.length-1),w(t)},y=()=>{u>0&&(P(t=>t-1),w(T[u-1]))},v=()=>{u<T.length-1&&(P(t=>t+1),w(T[u+1]))},p=t=>{if(!a.current)return{x:0,y:0};const h=a.current.getBoundingClientRect(),g=t.clientX-h.left,M=t.clientY-h.top,S=(g-D.x)/(n/100),j=(M-D.y)/(n/100);return{x:S,y:j,rawX:g,rawY:M}},O=t=>{const{x:h,y:g,rawX:M,rawY:S}=p(t);if(s==="hand"||t.button===1){$(!0),r({x:M,y:S});return}if(s==="draw"){f(!0),b([{x:h,y:g}]);return}if(["arrow","shape","section"].includes(s)){f(!0),r({x:h,y:g}),B({type:s,x:h,y:g,width:0,height:0});return}if(["note","text","task","image"].includes(s)){let z={id:W(),type:s,x:h,y:g,width:200,height:200};s==="note"?z={...z,content:"New Note",color:"#fef3c7",width:200,height:200}:s==="text"?z={...z,content:"Type something...",width:200,height:50}:s==="task"?z={...z,content:"New Task",width:300,height:140}:s==="image"&&(z={...z,width:300,height:200}),m([...c,z]),i("select");return}s==="select"&&V(null)},H=t=>{const{x:h,y:g,rawX:M,rawY:S}=p(t);if(N){const j=M-C.x,z=S-C.y;L(Y=>({x:Y.x+j,y:Y.y+z})),r({x:M,y:S});return}l&&(s==="draw"?b(j=>[...j,{x:h,y:g}]):["arrow","shape","section"].includes(s)&&k?B(j=>({...j,width:h-((j==null?void 0:j.x)||0),height:g-((j==null?void 0:j.y)||0)})):E&&s==="select"&&w(j=>j.map(z=>z.id===E?{...z,x:h-_.x,y:g-_.y}:z)))},G=()=>{if(N){$(!1);return}if(l)if(f(!1),s==="draw"&&x.length>1){const t={id:W(),type:"draw",x:0,y:0,points:x,color:"#1e293b"};m([...c,t]),b([])}else if(k){const t={id:W(),type:s,x:k.x,y:k.y,width:k.width||100,height:k.height||100,color:s==="shape"?"#334155":void 0};m([...c,t]),B(null),i("select")}else E&&m(c)},ie=(t,h)=>{if(s==="select"){t.stopPropagation();const{x:g,y:M}=p(t),S=c.find(j=>j.id===h);S&&(V(h),f(!0),F({x:g-S.x,y:M-S.y}))}},oe=t=>{const h=c.filter(g=>g.id!==t);m(h),V(null)},ne=t=>{const g=E===t.id?"ring-2 ring-blue-500":"";switch(t.type){case"note":return e.jsx("div",{className:`shadow-md flex items-center justify-center text-center font-handwriting text-lg leading-tight p-4 ${g}`,style:{backgroundColor:t.color,width:t.width,height:t.height},children:t.content});case"text":return e.jsx("div",{className:`p-2 text-gray-800 font-medium text-xl bg-transparent border border-transparent hover:border-blue-200 rounded whitespace-nowrap ${g}`,children:t.content});case"task":return e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col ${g}`,style:{width:t.width,height:t.height},children:[e.jsx("div",{className:"h-1.5 bg-blue-500 w-full"}),e.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("span",{className:"text-[10px] font-medium text-gray-500 px-1.5 py-0.5 bg-gray-100 rounded",children:"TASK-123"}),e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200"})]}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-auto",children:t.content}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsx("span",{className:"w-full h-1.5 rounded-full bg-gray-100 overflow-hidden",children:e.jsx("div",{className:"w-1/2 h-full bg-green-500"})})})]})]});case"shape":return e.jsx("div",{className:`rounded-lg flex items-center justify-center ${g}`,style:{backgroundColor:t.color,width:Math.abs(t.width||100),height:Math.abs(t.height||100)}});case"section":return e.jsx("div",{className:`border-2 border-dashed border-gray-300 rounded-lg bg-gray-50/30 flex items-start p-2 ${g}`,style:{width:Math.abs(t.width||200),height:Math.abs(t.height||200)},children:e.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Section"})});case"image":return e.jsxs("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative ${g}`,style:{width:Math.abs(t.width||300),height:Math.abs(t.height||200)},children:[e.jsx(rs,{size:48,className:"text-gray-300"}),e.jsx("span",{className:"absolute bottom-4 text-xs text-gray-400",children:"Image Placeholder"})]});case"arrow":const M=t.width||0,S=t.height||0;return e.jsxs("svg",{width:Math.abs(M)+20,height:Math.abs(S)+20,className:`overflow-visible pointer-events-none ${g}`,children:[e.jsx("defs",{children:e.jsx("marker",{id:`arrowhead-${t.id}`,markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#334155"})})}),e.jsx("line",{x1:M>0?0:Math.abs(M),y1:S>0?0:Math.abs(S),x2:M>0?Math.abs(M):0,y2:S>0?Math.abs(S):0,stroke:"#334155",strokeWidth:"2",markerEnd:`url(#arrowhead-${t.id})`})]});default:return null}};return e.jsxs("div",{className:"relative w-full h-full bg-[#f8fafc] overflow-hidden select-none",ref:a,onMouseDown:O,onMouseMove:H,onMouseUp:G,onMouseLeave:G,onContextMenu:t=>t.preventDefault(),children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${20*(n/100)}px ${20*(n/100)}px`,backgroundPosition:`${D.x}px ${D.y}px`,opacity:.6}}),e.jsxs("div",{className:"absolute inset-0 transform-origin-top-left",style:{transform:`translate(${D.x}px, ${D.y}px) scale(${n/100})`},children:[e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible",children:[c.filter(t=>t.type==="draw").map(t=>{var h;return e.jsx("path",{d:`M ${(h=t.points)==null?void 0:h.map(g=>`${g.x} ${g.y}`).join(" L ")}`,stroke:t.color,strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},t.id)}),l&&s==="draw"&&e.jsx("path",{d:`M ${x.map(t=>`${t.x} ${t.y}`).join(" L ")}`,stroke:"#1e293b",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),c.map(t=>t.type==="draw"?null:e.jsxs("div",{className:`absolute group ${s==="select"?"cursor-move":""}`,style:{left:t.x,top:t.y,width:t.width,height:t.height,zIndex:E===t.id?10:1},onMouseDown:h=>ie(h,t.id),children:[s==="select"&&e.jsx("button",{className:"absolute -top-3 -right-3 p-1.5 bg-white rounded-full shadow-sm border border-gray-200 opacity-0 group-hover:opacity-100 transition-opacity z-50 hover:bg-red-50 text-red-500",onClick:h=>{h.stopPropagation(),oe(t.id)},children:e.jsx(te,{size:14})}),ne(t)]},t.id)),k&&e.jsx("div",{className:"absolute border-2 border-blue-400 border-dashed opacity-50 pointer-events-none",style:{left:Math.min(k.x,k.x+(k.width||0)),top:Math.min(k.y,k.y+(k.height||0)),width:Math.abs(k.width||0),height:Math.abs(k.height||0)}})]}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center gap-2 z-50",children:[e.jsxs("div",{className:"flex items-center gap-1 px-1",children:[e.jsx(R,{active:s==="select",onClick:()=>i("select"),label:"Select",shortcut:"V",children:e.jsx(le,{size:20,className:s==="select"?"text-blue-600":"text-gray-600"})}),e.jsx(R,{active:s==="hand",onClick:()=>i("hand"),label:"Hand",shortcut:"H",children:e.jsx(ts,{size:20,className:s==="hand"?"text-blue-600":"text-gray-600"})})]}),e.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),e.jsxs("div",{className:"flex items-center gap-2 px-1",children:[e.jsx(R,{active:s==="task",onClick:()=>i("task"),label:"Task",shortcut:"T",children:e.jsx(ks,{})}),e.jsx(R,{active:s==="draw",onClick:()=>i("draw"),label:"Draw",shortcut:"D",children:e.jsxs("div",{className:"relative",children:[e.jsx(ae,{size:24,className:"text-gray-700"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 bg-black rounded-full"})]})}),e.jsx(R,{active:s==="shape",onClick:()=>i("shape"),label:"Shape",shortcut:"R",children:e.jsx(Cs,{})}),e.jsx(R,{active:s==="arrow",onClick:()=>i("arrow"),label:"Arrow",shortcut:"A",children:e.jsx(We,{size:26,className:"text-gray-700"})}),e.jsx(R,{active:s==="note",onClick:()=>i("note"),label:"Note",shortcut:"N",children:e.jsx(Ss,{})}),e.jsx(R,{active:s==="text",onClick:()=>i("text"),label:"Text",shortcut:"T",children:e.jsx("div",{className:"w-8 h-8 bg-white border border-gray-200 rounded shadow-sm flex items-center justify-center",children:e.jsx(Xe,{size:20,className:"text-gray-800"})})}),e.jsx(R,{active:s==="section",onClick:()=>i("section"),label:"Section",shortcut:"F",children:e.jsx(Ms,{})}),e.jsx(R,{active:s==="image",onClick:()=>i("image"),label:"Image",children:e.jsx(zs,{})}),e.jsx(R,{active:s==="template",onClick:()=>{},label:"Templates",children:e.jsx(Ts,{})})]}),e.jsx("div",{className:"w-px h-8 bg-gray-200 mx-1"}),e.jsxs("div",{className:"flex items-center gap-1 px-1",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:y,disabled:u<=0,title:"Undo",children:e.jsx(fs,{size:20})}),e.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg disabled:opacity-30",onClick:v,disabled:u>=T.length-1,title:"Redo",children:e.jsx(gs,{size:20})})]})]}),e.jsxs("div",{className:"absolute bottom-8 left-8 bg-white rounded-xl shadow-lg border border-gray-100 flex items-center p-1.5 z-50",children:[e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",children:e.jsx(Ze,{size:16})}),e.jsx("div",{className:"w-px h-4 bg-gray-200 mx-1"}),e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>d(Math.max(10,n-10)),children:e.jsx(Ge,{size:16})}),e.jsxs("span",{className:"px-3 text-xs font-semibold text-gray-600 min-w-[3.5rem] text-center",children:[Math.round(n),"%"]}),e.jsx("button",{className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>d(Math.min(200,n+10)),children:e.jsx(U,{size:16})})]})]})},Zs=({roomName:s,roomId:i})=>{const{tasks:n,updateTask:d}=de(),c=o.useMemo(()=>`room-views-${i}`,[i]),w=[{id:"overview",type:"overview",name:"Overview",description:"Drag, resize, and track cards",icon:e.jsx(q,{className:"text-indigo-500"}),category:"popular"},{id:"list",type:"list",name:"Tasks",description:"Track tasks, bugs, people & more",icon:e.jsx(Je,{className:"text-blue-500"}),category:"popular"},{id:"board",type:"board",name:"Kanban",description:"Move tasks between columns",icon:e.jsx(os,{className:"text-purple-500"}),category:"popular"},{id:"calendar",type:"calendar",name:"Calendar",description:"Plan, schedule, & delegate",icon:e.jsx(ye,{className:"text-green-500"}),category:"popular"},{id:"gantt",type:"placeholder",name:"Gantt",description:"Plan dependencies & time",icon:e.jsx(Z,{className:"text-orange-500"}),category:"popular"},{id:"doc",type:"placeholder",name:"Doc",description:"Collaborate & document anything",icon:e.jsx(ve,{className:"text-pink-500"}),category:"popular"},{id:"form",type:"placeholder",name:"Form",description:"Collect, track, & report data",icon:e.jsx(hs,{className:"text-teal-500"}),category:"popular"},{id:"table",type:"placeholder",name:"Table",description:"Structured table format",icon:e.jsx(we,{className:"text-cyan-500"}),category:"more"},{id:"dashboard",type:"placeholder",name:"Dashboard",description:"Track metrics & insights",icon:e.jsx(Q,{className:"text-red-500"}),category:"more"},{id:"timeline",type:"placeholder",name:"Timeline",description:"See tasks by start & due date",icon:e.jsx(je,{className:"text-yellow-500"}),category:"more"},{id:"activity",type:"placeholder",name:"Activity",description:"Real-time activity feed",icon:e.jsx(Z,{className:"text-indigo-400"}),category:"more"},{id:"workload",type:"placeholder",name:"Workload",description:"Visualize team capacity",icon:e.jsx(Q,{className:"text-emerald-500"}),category:"more"},{id:"whiteboard",type:"whiteboard",name:"Whiteboard",description:"Visualize & brainstorm ideas",icon:e.jsx(q,{className:"text-violet-500"}),category:"more"},{id:"team",type:"placeholder",name:"Team",description:"Monitor work being done",icon:e.jsx(Ne,{className:"text-blue-400"}),category:"more"},{id:"mindmap",type:"placeholder",name:"Mind Map",description:"Visual brainstorming of ideas",icon:e.jsx(ke,{className:"text-fuchsia-500"}),category:"more"},{id:"map",type:"placeholder",name:"Map",description:"Tasks visualized by address",icon:e.jsx(ls,{className:"text-rose-500"}),category:"more"},{id:"chat",type:"placeholder",name:"Chat",description:"Communicate with your team",icon:e.jsx(Se,{className:"text-sky-500"}),category:"more"}],T=()=>{try{const a=localStorage.getItem(c);if(a){const m=JSON.parse(a);if(m!=null&&m.views){const y=m.views.map(v=>{const p=w.find(O=>O.id===v.id);return p?{...v,name:p.name,description:p.description,icon:p.icon}:v.type==="list"&&v.name==="List"?{...v,name:"Tasks"}:v});return{...m,views:y}}}}catch(a){console.warn("Failed to load saved views",a)}return{views:[],activeViewId:null}},A=o.useMemo(()=>T(),[c]),[u,P]=o.useState(()=>{const a=A.views||[];return a.some(y=>y.id==="overview")?a:[w[0],...a]}),[l,f]=o.useState(()=>A.activeViewId||"overview"),[N,$]=o.useState(!1),[D,L]=o.useState(s),[C,r]=o.useState(null);o.useEffect(()=>{(async()=>{try{const m=Ce.getCurrentUser();if(m){const v=(await Me.getRooms(m.id)).find(p=>p.id===i);v&&L(v.name)}}catch(m){console.error("Failed to load room name:",m)}})()},[i]);const x=(a,m)=>{try{const y=a.map(({icon:v,...p})=>p);localStorage.setItem(c,JSON.stringify({views:y,activeViewId:m}))}catch(y){console.warn("Failed to save views",y)}};o.useEffect(()=>{!l&&u.length>0&&f(u[0].id)},[l,u]),o.useEffect(()=>{x(u,l||null)},[u,l]);const b=(a,m)=>{a.preventDefault(),$(!1);const y=300,v=420,p=Math.min(Math.max(8,a.clientX),window.innerWidth-y-8),O=Math.min(Math.max(8,a.clientY),window.innerHeight-v-8);r({viewId:m,x:p,y:O})},E=a=>{const m=u.find(v=>v.id===a.id);if(m){f(m.id),$(!1);return}const y=[...u,a];P(y),f(a.id),$(!1)};u.find(a=>a.id===l);const V=C?u.find(a=>a.id===C.viewId):null,[_,F]=o.useState(null),k=a=>{F(a),r(null)},B=()=>{var v;if(!_)return;const a=_,m=u.find(p=>p.id===a),y=u.filter(p=>p.id!==a);if(m){const p=["list","board","calendar"];p.includes(m.type)&&(y.some(H=>p.includes(H.type))||localStorage.removeItem(`taskboard-${i}`)),m.type==="overview"&&(y.some(H=>H.type==="overview")||localStorage.removeItem(`overview-${i}`))}P(y),l===a&&f(((v=y[0])==null?void 0:v.id)||null),F(null)};return e.jsxs("div",{className:"flex flex-col flex-1 bg-white",children:[C&&V&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>r(null),onContextMenu:a=>{a.preventDefault(),r(null)}}),e.jsxs("div",{className:"fixed z-40 w-[320px] bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",style:{top:C.y,left:C.x},children:[e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(ae,{size:16,className:"text-gray-500"}),"Rename"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(Ue,{size:16,className:"text-gray-500"}),"Copy link to view"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(Ye,{size:16,className:"text-gray-500"}),"Add to favorites"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(ce,{size:16,className:"text-gray-500"}),"Customize view"]})]}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsx("div",{className:"py-1",children:[{icon:$e,label:"Pin view"},{icon:xe,label:"Private view"},{icon:me,label:"Protect view"},{icon:Ke,label:"Autosave for me"},{icon:he,label:"Set as default view"}].map(a=>e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(a.icon,{size:16,className:"text-gray-500"}),e.jsx("span",{className:"flex-1 text-left",children:a.label}),e.jsx("span",{className:"relative inline-flex h-5 w-9 items-center rounded-full bg-gray-200",children:e.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white shadow translate-x-[2px]"})})]},a.label))}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(ue,{size:16,className:"text-gray-500"}),"Templates"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-800 hover:bg-gray-50 disabled:text-gray-400 disabled:hover:bg-white disabled:cursor-not-allowed",disabled:!0,children:[e.jsx(es,{size:16,className:"text-gray-500"}),"Duplicate view"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:()=>k(C.viewId),children:[e.jsx(te,{size:16,className:"text-red-500"}),"Delete view"]})]}),e.jsx("div",{className:"border-t border-gray-200 my-1"}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-3 px-4 py-3 text-sm font-medium text-white bg-clickup-purple hover:bg-indigo-700",disabled:!0,children:[e.jsx(ge,{size:16}),"Sharing & Permissions"]})]})]}),e.jsx("header",{className:"h-12 bg-white border-b border-gray-200 flex items-center justify-between px-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{children:"Private Rooms"}),e.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),e.jsx("span",{className:"font-medium text-gray-800",children:D})]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[u.map(a=>e.jsxs("button",{className:`px-3 py-1.5 text-sm font-medium rounded transition-colors border-b-2 flex items-center gap-2 ${l===a.id?"text-gray-900 border-clickup-purple":"text-gray-500 border-transparent hover:text-gray-800"}`,onClick:()=>{f(a.id),r(null)},onContextMenu:m=>b(m,a.id),children:[a.icon&&e.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:J.isValidElement(a.icon)?J.cloneElement(a.icon,{size:16}):a.icon}),a.name]},a.id)),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{className:"flex items-center space-x-1 px-3 py-1.5 text-sm font-medium text-clickup-purple hover:bg-purple-50 rounded transition-colors",onClick:()=>$(!N),children:[e.jsx(U,{size:14}),e.jsx("span",{children:"Add"})]}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>$(!1)}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-[520px] bg-white rounded-lg shadow-2xl border border-gray-200 p-4 z-20 max-h-[600px] overflow-y-auto",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3",children:"Popular"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:w.filter(a=>a.category==="popular").map(a=>e.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>E(a),children:[e.jsx("span",{className:"mr-3",children:a.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id))}),e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-3 pt-2 border-t",children:"More views"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.filter(a=>a.category==="more").map(a=>e.jsxs("button",{className:"flex items-start p-3 hover:bg-gray-50 rounded-lg transition-colors text-left",onClick:()=>E(a),children:[e.jsx("span",{className:"mr-3",children:a.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500",children:a.description})]})]},a.id))})]})]})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-hidden bg-gray-50",children:[l==="list"&&e.jsx(De,{storageKey:`taskboard-${i}-${l}`},`list-${i}`),l==="board"&&e.jsx(vs,{storageKey:`kanban-${i}`},`board-${i}`),l==="calendar"&&e.jsx(pe,{refreshTrigger:l},`calendar-${i}`),l==="overview"&&e.jsx(Ns,{storageKey:`overview-${i}`},`overview-${i}`),l==="whiteboard"&&e.jsx($s,{},`whiteboard-${i}`),!["list","board","calendar","overview","whiteboard"].includes(l||"")&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(fe,{size:48,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-lg font-medium",children:"View not implemented yet"})]})]}),e.jsx(be,{isOpen:!!_,onClose:()=>F(null),onConfirm:B,title:"Delete View",message:"Are you sure you want to delete this view? This action cannot be undone.",confirmText:"Delete",variant:"danger"})]})};export{Zs as default};
