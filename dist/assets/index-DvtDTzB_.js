(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gb={exports:{}},gm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function YN(){if(I2)return gm;I2=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:i,type:n,key:c,ref:s!==void 0?s:null,props:o}}return gm.Fragment=e,gm.jsx=t,gm.jsxs=t,gm}var L2;function XN(){return L2||(L2=1,Gb.exports=YN()),Gb.exports}var A=XN(),Yb={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2;function qN(){if(z2)return $t;z2=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=b&&G[b]||G["@@iterator"],typeof G=="function"?G:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function _(G,$,se){this.props=G,this.context=$,this.refs=M,this.updater=se||S}_.prototype.isReactComponent={},_.prototype.setState=function(G,$){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,$,"setState")},_.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function C(){}C.prototype=_.prototype;function R(G,$,se){this.props=G,this.context=$,this.refs=M,this.updater=se||S}var O=R.prototype=new C;O.constructor=R,E(O,_.prototype),O.isPureReactComponent=!0;var U=Array.isArray;function I(){}var F={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function B(G,$,se){var de=se.ref;return{$$typeof:i,type:G,key:$,ref:de!==void 0?de:null,props:se}}function k(G,$){return B(G.type,$,G.props)}function J(G){return typeof G=="object"&&G!==null&&G.$$typeof===i}function Y(G){var $={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(se){return $[se]})}var Z=/\/+/g;function L(G,$){return typeof G=="object"&&G!==null&&G.key!=null?Y(""+G.key):$.toString(36)}function re(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(I,I):(G.status="pending",G.then(function($){G.status==="pending"&&(G.status="fulfilled",G.value=$)},function($){G.status==="pending"&&(G.status="rejected",G.reason=$)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function q(G,$,se,de,xe){var ge=typeof G;(ge==="undefined"||ge==="boolean")&&(G=null);var _e=!1;if(G===null)_e=!0;else switch(ge){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(G.$$typeof){case i:case e:_e=!0;break;case x:return _e=G._init,q(_e(G._payload),$,se,de,xe)}}if(_e)return xe=xe(G),_e=de===""?"."+L(G,0):de,U(xe)?(se="",_e!=null&&(se=_e.replace(Z,"$&/")+"/"),q(xe,$,se,"",function(qe){return qe})):xe!=null&&(J(xe)&&(xe=k(xe,se+(xe.key==null||G&&G.key===xe.key?"":(""+xe.key).replace(Z,"$&/")+"/")+_e)),$.push(xe)),1;_e=0;var Le=de===""?".":de+":";if(U(G))for(var Ye=0;Ye<G.length;Ye++)de=G[Ye],ge=Le+L(de,Ye),_e+=q(de,$,se,ge,xe);else if(Ye=y(G),typeof Ye=="function")for(G=Ye.call(G),Ye=0;!(de=G.next()).done;)de=de.value,ge=Le+L(de,Ye++),_e+=q(de,$,se,ge,xe);else if(ge==="object"){if(typeof G.then=="function")return q(re(G),$,se,de,xe);throw $=String(G),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _e}function W(G,$,se){if(G==null)return G;var de=[],xe=0;return q(G,de,"","",function(ge){return $.call(se,ge,xe++)}),de}function te(G){if(G._status===-1){var $=G._result;$=$(),$.then(function(se){(G._status===0||G._status===-1)&&(G._status=1,G._result=se)},function(se){(G._status===0||G._status===-1)&&(G._status=2,G._result=se)}),G._status===-1&&(G._status=0,G._result=$)}if(G._status===1)return G._result.default;throw G._result}var oe=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Se={map:W,forEach:function(G,$,se){W(G,function(){$.apply(this,arguments)},se)},count:function(G){var $=0;return W(G,function(){$++}),$},toArray:function(G){return W(G,function($){return $})||[]},only:function(G){if(!J(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return $t.Activity=v,$t.Children=Se,$t.Component=_,$t.Fragment=t,$t.Profiler=s,$t.PureComponent=R,$t.StrictMode=n,$t.Suspense=h,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,$t.__COMPILER_RUNTIME={__proto__:null,c:function(G){return F.H.useMemoCache(G)}},$t.cache=function(G){return function(){return G.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(G,$,se){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var de=E({},G.props),xe=G.key;if($!=null)for(ge in $.key!==void 0&&(xe=""+$.key),$)!j.call($,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&$.ref===void 0||(de[ge]=$[ge]);var ge=arguments.length-2;if(ge===1)de.children=se;else if(1<ge){for(var _e=Array(ge),Le=0;Le<ge;Le++)_e[Le]=arguments[Le+2];de.children=_e}return B(G.type,xe,de)},$t.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},$t.createElement=function(G,$,se){var de,xe={},ge=null;if($!=null)for(de in $.key!==void 0&&(ge=""+$.key),$)j.call($,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(xe[de]=$[de]);var _e=arguments.length-2;if(_e===1)xe.children=se;else if(1<_e){for(var Le=Array(_e),Ye=0;Ye<_e;Ye++)Le[Ye]=arguments[Ye+2];xe.children=Le}if(G&&G.defaultProps)for(de in _e=G.defaultProps,_e)xe[de]===void 0&&(xe[de]=_e[de]);return B(G,ge,xe)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(G){return{$$typeof:u,render:G}},$t.isValidElement=J,$t.lazy=function(G){return{$$typeof:x,_payload:{_status:-1,_result:G},_init:te}},$t.memo=function(G,$){return{$$typeof:p,type:G,compare:$===void 0?null:$}},$t.startTransition=function(G){var $=F.T,se={};F.T=se;try{var de=G(),xe=F.S;xe!==null&&xe(se,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(I,oe)}catch(ge){oe(ge)}finally{$!==null&&se.types!==null&&($.types=se.types),F.T=$}},$t.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},$t.use=function(G){return F.H.use(G)},$t.useActionState=function(G,$,se){return F.H.useActionState(G,$,se)},$t.useCallback=function(G,$){return F.H.useCallback(G,$)},$t.useContext=function(G){return F.H.useContext(G)},$t.useDebugValue=function(){},$t.useDeferredValue=function(G,$){return F.H.useDeferredValue(G,$)},$t.useEffect=function(G,$){return F.H.useEffect(G,$)},$t.useEffectEvent=function(G){return F.H.useEffectEvent(G)},$t.useId=function(){return F.H.useId()},$t.useImperativeHandle=function(G,$,se){return F.H.useImperativeHandle(G,$,se)},$t.useInsertionEffect=function(G,$){return F.H.useInsertionEffect(G,$)},$t.useLayoutEffect=function(G,$){return F.H.useLayoutEffect(G,$)},$t.useMemo=function(G,$){return F.H.useMemo(G,$)},$t.useOptimistic=function(G,$){return F.H.useOptimistic(G,$)},$t.useReducer=function(G,$,se){return F.H.useReducer(G,$,se)},$t.useRef=function(G){return F.H.useRef(G)},$t.useState=function(G){return F.H.useState(G)},$t.useSyncExternalStore=function(G,$,se){return F.H.useSyncExternalStore(G,$,se)},$t.useTransition=function(){return F.H.useTransition()},$t.version="19.2.0",$t}var B2;function Uh(){return B2||(B2=1,Yb.exports=qN()),Yb.exports}var ce=Uh();const si=_0(ce);var Xb={exports:{}},xm={},qb={exports:{}},Wb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2;function WN(){return P2||(P2=1,(function(i){function e(q,W){var te=q.length;q.push(W);e:for(;0<te;){var oe=te-1>>>1,Se=q[oe];if(0<s(Se,W))q[oe]=W,q[te]=Se,te=oe;else break e}}function t(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var W=q[0],te=q.pop();if(te!==W){q[0]=te;e:for(var oe=0,Se=q.length,G=Se>>>1;oe<G;){var $=2*(oe+1)-1,se=q[$],de=$+1,xe=q[de];if(0>s(se,te))de<Se&&0>s(xe,se)?(q[oe]=xe,q[de]=te,oe=de):(q[oe]=se,q[$]=te,oe=$);else if(de<Se&&0>s(xe,te))q[oe]=xe,q[de]=te,oe=de;else break e}}return W}function s(q,W){var te=q.sortIndex-W.sortIndex;return te!==0?te:q.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();i.unstable_now=function(){return c.now()-u}}var h=[],p=[],x=1,v=null,b=3,y=!1,S=!1,E=!1,M=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(q){for(var W=t(p);W!==null;){if(W.callback===null)n(p);else if(W.startTime<=q)n(p),W.sortIndex=W.expirationTime,e(h,W);else break;W=t(p)}}function U(q){if(E=!1,O(q),!S)if(t(h)!==null)S=!0,I||(I=!0,Y());else{var W=t(p);W!==null&&re(U,W.startTime-q)}}var I=!1,F=-1,j=5,B=-1;function k(){return M?!0:!(i.unstable_now()-B<j)}function J(){if(M=!1,I){var q=i.unstable_now();B=q;var W=!0;try{e:{S=!1,E&&(E=!1,C(F),F=-1),y=!0;var te=b;try{t:{for(O(q),v=t(h);v!==null&&!(v.expirationTime>q&&k());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,b=v.priorityLevel;var Se=oe(v.expirationTime<=q);if(q=i.unstable_now(),typeof Se=="function"){v.callback=Se,O(q),W=!0;break t}v===t(h)&&n(h),O(q)}else n(h);v=t(h)}if(v!==null)W=!0;else{var G=t(p);G!==null&&re(U,G.startTime-q),W=!1}}break e}finally{v=null,b=te,y=!1}W=void 0}}finally{W?Y():I=!1}}}var Y;if(typeof R=="function")Y=function(){R(J)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,L=Z.port2;Z.port1.onmessage=J,Y=function(){L.postMessage(null)}}else Y=function(){_(J,0)};function re(q,W){F=_(function(){q(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(q){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var te=b;b=W;try{return q()}finally{b=te}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=b;b=q;try{return W()}finally{b=te}},i.unstable_scheduleCallback=function(q,W,te){var oe=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?oe+te:oe):te=oe,q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=te+Se,q={id:x++,callback:W,priorityLevel:q,startTime:te,expirationTime:Se,sortIndex:-1},te>oe?(q.sortIndex=te,e(p,q),t(h)===null&&q===t(p)&&(E?(C(F),F=-1):E=!0,re(U,te-oe))):(q.sortIndex=Se,e(h,q),S||y||(S=!0,I||(I=!0,Y()))),q},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(q){var W=b;return function(){var te=b;b=W;try{return q.apply(this,arguments)}finally{b=te}}}})(Wb)),Wb}var k2;function ZN(){return k2||(k2=1,qb.exports=WN()),qb.exports}var Zb={exports:{}},Ga={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function KN(){if(F2)return Ga;F2=1;var i=Uh();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,p,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:p,implementation:x}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ga.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ga.createPortal=function(h,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(h,p,null,x)},Ga.flushSync=function(h){var p=c.T,x=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=p,n.p=x,n.d.f()}},Ga.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(h,p))},Ga.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Ga.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var x=p.as,v=u(x,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,y=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?n.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:y}):x==="script"&&n.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:y,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ga.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=u(p.as,p.crossOrigin);n.d.M(h,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(h)},Ga.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,v=u(x,p.crossOrigin);n.d.L(h,x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ga.preloadModule=function(h,p){if(typeof h=="string")if(p){var x=u(p.as,p.crossOrigin);n.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(h)},Ga.requestFormReset=function(h){n.d.r(h)},Ga.unstable_batchedUpdates=function(h,p){return h(p)},Ga.useFormState=function(h,p,x){return c.H.useFormState(h,p,x)},Ga.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ga.version="19.2.0",Ga}var H2;function w3(){if(H2)return Zb.exports;H2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Zb.exports=KN(),Zb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function JN(){if(j2)return xm;j2=1;var i=ZN(),e=Uh(),t=w3();function n(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)r+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var r=a,f=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(f=r.return),a=r.return;while(a)}return r.tag===3?f:null}function c(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function u(a){if(a.tag===31){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(n(188))}function p(a){var r=a.alternate;if(!r){if(r=o(a),r===null)throw Error(n(188));return r!==a?null:a}for(var f=a,m=r;;){var T=f.return;if(T===null)break;var N=T.alternate;if(N===null){if(m=T.return,m!==null){f=m;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===f)return h(T),a;if(N===m)return h(T),r;N=N.sibling}throw Error(n(188))}if(f.return!==m.return)f=T,m=N;else{for(var H=!1,ie=T.child;ie;){if(ie===f){H=!0,f=T,m=N;break}if(ie===m){H=!0,m=T,f=N;break}ie=ie.sibling}if(!H){for(ie=N.child;ie;){if(ie===f){H=!0,f=N,m=T;break}if(ie===m){H=!0,m=N,f=T;break}ie=ie.sibling}if(!H)throw Error(n(189))}}if(f.alternate!==m)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?a:r}function x(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=x(a),r!==null)return r;a=a.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function Y(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var Z=Symbol.for("react.client.reference");function L(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Z?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case _:return"Profiler";case M:return"StrictMode";case U:return"Suspense";case I:return"SuspenseList";case B:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case R:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case O:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case F:return r=a.displayName||null,r!==null?r:L(a.type)||"Memo";case j:r=a._payload,a=a._init;try{return L(a(r))}catch{}}return null}var re=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},oe=[],Se=-1;function G(a){return{current:a}}function $(a){0>Se||(a.current=oe[Se],oe[Se]=null,Se--)}function se(a,r){Se++,oe[Se]=a.current,a.current=r}var de=G(null),xe=G(null),ge=G(null),_e=G(null);function Le(a,r){switch(se(ge,r),se(xe,a),se(de,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?i2(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=i2(r),a=a2(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}$(de),se(de,a)}function Ye(){$(de),$(xe),$(ge)}function qe(a){a.memoizedState!==null&&se(_e,a);var r=de.current,f=a2(r,a.type);r!==f&&(se(xe,a),se(de,f))}function ut(a){xe.current===a&&($(de),$(xe)),_e.current===a&&($(_e),fm._currentValue=te)}var St,mt;function P(a){if(St===void 0)try{throw Error()}catch(f){var r=f.stack.trim().match(/\n( *(at )?)/);St=r&&r[1]||"",mt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+a+mt}var X=!1;function he(a,r){if(!a||X)return"";X=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Ge){var Fe=Ge}Reflect.construct(a,[],et)}else{try{et.call()}catch(Ge){Fe=Ge}a.call(et.prototype)}}else{try{throw Error()}catch(Ge){Fe=Ge}(et=a())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Ge){if(Ge&&Fe&&typeof Ge.stack=="string")return[Ge.stack,Fe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),H=N[0],ie=N[1];if(H&&ie){var be=H.split(`
`),Be=ie.split(`
`);for(T=m=0;m<be.length&&!be[m].includes("DetermineComponentFrameRoot");)m++;for(;T<Be.length&&!Be[T].includes("DetermineComponentFrameRoot");)T++;if(m===be.length||T===Be.length)for(m=be.length-1,T=Be.length-1;1<=m&&0<=T&&be[m]!==Be[T];)T--;for(;1<=m&&0<=T;m--,T--)if(be[m]!==Be[T]){if(m!==1||T!==1)do if(m--,T--,0>T||be[m]!==Be[T]){var We=`
`+be[m].replace(" at new "," at ");return a.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",a.displayName)),We}while(1<=m&&0<=T);break}}}finally{X=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?P(f):""}function ee(a,r){switch(a.tag){case 26:case 27:case 5:return P(a.type);case 16:return P("Lazy");case 13:return a.child!==r&&r!==null?P("Suspense Fallback"):P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return he(a.type,!1);case 11:return he(a.type.render,!1);case 1:return he(a.type,!0);case 31:return P("Activity");default:return""}}function Q(a){try{var r="",f=null;do r+=ee(a,f),f=a,a=a.return;while(a);return r}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var le=Object.prototype.hasOwnProperty,Te=i.unstable_scheduleCallback,Me=i.unstable_cancelCallback,ve=i.unstable_shouldYield,K=i.unstable_requestPaint,V=i.unstable_now,fe=i.unstable_getCurrentPriorityLevel,we=i.unstable_ImmediatePriority,He=i.unstable_UserBlockingPriority,Ce=i.unstable_NormalPriority,ft=i.unstable_LowPriority,rt=i.unstable_IdlePriority,ht=i.log,gt=i.unstable_setDisableYieldValue,Ve=null,tt=null;function _t(a){if(typeof ht=="function"&&gt(a),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(Ve,a)}catch{}}var pe=Math.clz32?Math.clz32:me,Ie=Math.log,nt=Math.LN2;function me(a){return a>>>=0,a===0?32:31-(Ie(a)/nt|0)|0}var it=256,at=262144,Je=4194304;function Ze(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Xe(a,r,f){var m=a.pendingLanes;if(m===0)return 0;var T=0,N=a.suspendedLanes,H=a.pingedLanes;a=a.warmLanes;var ie=m&134217727;return ie!==0?(m=ie&~N,m!==0?T=Ze(m):(H&=ie,H!==0?T=Ze(H):f||(f=ie&~a,f!==0&&(T=Ze(f))))):(ie=m&~N,ie!==0?T=Ze(ie):H!==0?T=Ze(H):f||(f=m&~a,f!==0&&(T=Ze(f)))),T===0?0:r!==0&&r!==T&&(r&N)===0&&(N=T&-T,f=r&-r,N>=f||N===32&&(f&4194048)!==0)?r:T}function ct(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function Et(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kt(){var a=Je;return Je<<=1,(Je&62914560)===0&&(Je=4194304),a}function Ft(a){for(var r=[],f=0;31>f;f++)r.push(a);return r}function In(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function dn(a,r,f,m,T,N){var H=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var ie=a.entanglements,be=a.expirationTimes,Be=a.hiddenUpdates;for(f=H&~f;0<f;){var We=31-pe(f),et=1<<We;ie[We]=0,be[We]=-1;var Fe=Be[We];if(Fe!==null)for(Be[We]=null,We=0;We<Fe.length;We++){var Ge=Fe[We];Ge!==null&&(Ge.lane&=-536870913)}f&=~et}m!==0&&Da(a,m,0),N!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=N&~(H&~r))}function Da(a,r,f){a.pendingLanes|=r,a.suspendedLanes&=~r;var m=31-pe(r);a.entangledLanes|=r,a.entanglements[m]=a.entanglements[m]|1073741824|f&261930}function Vi(a,r){var f=a.entangledLanes|=r;for(a=a.entanglements;f;){var m=31-pe(f),T=1<<m;T&r|a[m]&r&&(a[m]|=r),f&=~T}}function Ki(a,r){var f=r&-r;return f=(f&42)!==0?1:ri(f),(f&(a.suspendedLanes|r))!==0?0:f}function ri(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Oa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function gi(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:A2(a.type))}function Ui(a,r){var f=W.p;try{return W.p=a,r()}finally{W.p=f}}var wi=Math.random().toString(36).slice(2),sn="__reactFiber$"+wi,xi="__reactProps$"+wi,ks="__reactContainer$"+wi,al="__reactEvents$"+wi,zd="__reactListeners$"+wi,Yh="__reactHandles$"+wi,Ql="__reactResources$"+wi,Nr="__reactMarker$"+wi;function sl(a){delete a[sn],delete a[xi],delete a[al],delete a[zd],delete a[Yh]}function vi(a){var r=a[sn];if(r)return r;for(var f=a.parentNode;f;){if(r=f[ks]||f[sn]){if(f=r.alternate,r.child!==null||f!==null&&f.child!==null)for(a=d2(a);a!==null;){if(f=a[sn])return f;a=d2(a)}return r}a=f,f=a.parentNode}return null}function ne(a){if(a=a[sn]||a[ks]){var r=a.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return a}return null}function Ae(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(n(33))}function ke(a){var r=a[Ql];return r||(r=a[Ql]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ue(a){a[Nr]=!0}var Ne=new Set,ot={};function pt(a,r){Tt(a,r),Tt(a+"Capture",r)}function Tt(a,r){for(ot[a]=r,a=0;a<r.length;a++)Ne.add(r[a])}var wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bt={},Ht={};function Ut(a){return le.call(Ht,a)?!0:le.call(Bt,a)?!1:wt.test(a)?Ht[a]=!0:(Bt[a]=!0,!1)}function Qt(a,r,f){if(Ut(r))if(f===null)a.removeAttribute(r);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var m=r.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+f)}}function yn(a,r,f){if(f===null)a.removeAttribute(r);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+f)}}function bn(a,r,f,m){if(m===null)a.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(r,f,""+m)}}function hn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ln(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zt(a,r,f){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,r);if(!a.hasOwnProperty(r)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,N=m.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return T.call(this)},set:function(H){f=""+H,N.call(this,H)}}),Object.defineProperty(a,r,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(H){f=""+H},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function jn(a){if(!a._valueTracker){var r=Ln(a)?"checked":"value";a._valueTracker=zt(a,r,""+a[r])}}function pn(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var f=r.getValue(),m="";return a&&(m=Ln(a)?a.checked?"true":"false":a.value),a=m,a!==f?(r.setValue(a),!0):!1}function Ai(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Rr=/[\n"\\]/g;function Yn(a){return a.replace(Rr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ar(a,r,f,m,T,N,H,ie){a.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.type=H:a.removeAttribute("type"),r!=null?H==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+hn(r)):a.value!==""+hn(r)&&(a.value=""+hn(r)):H!=="submit"&&H!=="reset"||a.removeAttribute("value"),r!=null?Ii(a,H,hn(r)):f!=null?Ii(a,H,hn(f)):m!=null&&a.removeAttribute("value"),T==null&&N!=null&&(a.defaultChecked=!!N),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?a.name=""+hn(ie):a.removeAttribute("name")}function Xn(a,r,f,m,T,N,H,ie){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.type=N),r!=null||f!=null){if(!(N!=="submit"&&N!=="reset"||r!=null)){jn(a);return}f=f!=null?""+hn(f):"",r=r!=null?""+hn(r):f,ie||r===a.value||(a.value=r),a.defaultValue=r}m=m??T,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=ie?a.checked:!!m,a.defaultChecked=!!m,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(a.name=H),jn(a)}function Ii(a,r,f){r==="number"&&Ai(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function Li(a,r,f,m){if(a=a.options,r){r={};for(var T=0;T<f.length;T++)r["$"+f[T]]=!0;for(f=0;f<a.length;f++)T=r.hasOwnProperty("$"+a[f].value),a[f].selected!==T&&(a[f].selected=T),T&&m&&(a[f].defaultSelected=!0)}else{for(f=""+hn(f),r=null,T=0;T<a.length;T++){if(a[T].value===f){a[T].selected=!0,m&&(a[T].defaultSelected=!0);return}r!==null||a[T].disabled||(r=a[T])}r!==null&&(r.selected=!0)}}function zi(a,r,f){if(r!=null&&(r=""+hn(r),r!==a.value&&(a.value=r),f==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=f!=null?""+hn(f):""}function ci(a,r,f,m){if(r==null){if(m!=null){if(f!=null)throw Error(n(92));if(re(m)){if(1<m.length)throw Error(n(93));m=m[0]}f=m}f==null&&(f=""),r=f}f=hn(r),a.defaultValue=f,m=a.textContent,m===f&&m!==""&&m!==null&&(a.value=m),jn(a)}function Fs(a,r){if(r){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=r;return}}a.textContent=r}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(a,r,f){var m=r.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":m?a.setProperty(r,f):typeof f!="number"||f===0||Es.has(r)?r==="float"?a.cssFloat=f:a[r]=(""+f).trim():a[r]=f+"px"}function Xh(a,r,f){if(r!=null&&typeof r!="object")throw Error(n(62));if(a=a.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||r!=null&&r.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var T in r)m=r[T],r.hasOwnProperty(T)&&f[T]!==m&&cu(a,T,m)}else for(var N in r)r.hasOwnProperty(N)&&cu(a,N,r[N])}function uu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function du(a){return F0.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function sr(){}var fu=null;function Bd(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var rl=null,ho=null;function qh(a){var r=ne(a);if(r&&(a=r.stateNode)){var f=a[xi]||null;e:switch(a=r.stateNode,r.type){case"input":if(ar(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),r=f.name,f.type==="radio"&&r!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Yn(""+r)+'"][type="radio"]'),r=0;r<f.length;r++){var m=f[r];if(m!==a&&m.form===a.form){var T=m[xi]||null;if(!T)throw Error(n(90));ar(m,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(r=0;r<f.length;r++)m=f[r],m.form===a.form&&pn(m)}break e;case"textarea":zi(a,f.value,f.defaultValue);break e;case"select":r=f.value,r!=null&&Li(a,!!f.multiple,r,!1)}}}var Pd=!1;function Wh(a,r,f){if(Pd)return a(r,f);Pd=!0;try{var m=a(r);return m}finally{if(Pd=!1,(rl!==null||ho!==null)&&(ae(),rl&&(r=rl,a=ho,ho=rl=null,qh(r),a)))for(r=0;r<a.length;r++)qh(a[r])}}function ol(a,r){var f=a.stateNode;if(f===null)return null;var m=f[xi]||null;if(m===null)return null;f=m[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(n(231,r,typeof f));return f}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kd=!1;if(rr)try{var hu={};Object.defineProperty(hu,"passive",{get:function(){kd=!0}}),window.addEventListener("test",hu,hu),window.removeEventListener("test",hu,hu)}catch{kd=!1}var po=null,Fd=null,mo=null;function Hd(){if(mo)return mo;var a,r=Fd,f=r.length,m,T="value"in po?po.value:po.textContent,N=T.length;for(a=0;a<f&&r[a]===T[a];a++);var H=f-a;for(m=1;m<=H&&r[f-m]===T[N-m];m++);return mo=T.slice(a,1<m?1-m:void 0)}function ll(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function pu(){return!0}function Zh(){return!1}function ua(a){function r(f,m,T,N,H){this._reactName=f,this._targetInst=T,this.type=m,this.nativeEvent=N,this.target=H,this.currentTarget=null;for(var ie in a)a.hasOwnProperty(ie)&&(f=a[ie],this[ie]=f?f(N):N[ie]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?pu:Zh,this.isPropagationStopped=Zh,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),r}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=ua(go),Hs=v({},go,{view:0,detail:0}),jd=ua(Hs),Vd,gu,$l,xu=v({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$l&&($l&&a.type==="mousemove"?(Vd=a.screenX-$l.screenX,gu=a.screenY-$l.screenY):gu=Vd=0,$l=a),Vd)},movementY:function(a){return"movementY"in a?a.movementY:gu}}),H0=ua(xu),Ji=v({},xu,{dataTransfer:0}),j0=ua(Ji),V0=v({},Hs,{relatedTarget:0}),Gd=ua(V0),G0=v({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=ua(G0),vu=v({},go,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Kh=ua(vu),X0=v({},go,{data:0}),Jh=ua(X0),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=$h[a])?!!r[a]:!1}function yu(){return W0}var ep=v({},Hs,{key:function(a){if(a.key){var r=q0[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=ll(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Qh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(a){return a.type==="keypress"?ll(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ll(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tp=ua(ep),Z0=v({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=ua(Z0),K0=v({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),Dr=ua(K0),np=v({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),cb=ua(np),J0=v({},xu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),xo=ua(J0),Or=v({},go,{newState:0,oldState:0}),ip=ua(Or),ap=[9,13,27,32],cl=rr&&"CompositionEvent"in window,vo=null;rr&&"documentMode"in document&&(vo=document.documentMode);var ul=rr&&"TextEvent"in window&&!vo,Qi=rr&&(!cl||vo&&8<vo&&11>=vo),bu=" ",sp=!1;function Xd(a,r){switch(a){case"keyup":return ap.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ec(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var yo=!1;function qd(a,r){switch(a){case"compositionend":return ec(r);case"keypress":return r.which!==32?null:(sp=!0,bu);case"textInput":return a=r.data,a===bu&&sp?null:a;default:return null}}function Q0(a,r){if(yo)return a==="compositionend"||!cl&&Xd(a,r)?(a=Hd(),mo=Fd=po=null,yo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Qi&&r.locale!=="ko"?null:r.data;default:return null}}var $a={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!$a[a.type]:r==="textarea"}function Wd(a,r,f,m){rl?ho?ho.push(m):ho=[m]:rl=m,r=Vg(r,"onChange"),0<r.length&&(f=new mu("onChange","change",null,f,m),a.push({event:f,listeners:r}))}var tc=null,nc=null;function op(a){JS(a,0)}function ic(a){var r=Ae(a);if(pn(r))return a}function lp(a,r){if(a==="change")return r}var _u=!1;if(rr){var dl;if(rr){var ti="oninput"in document;if(!ti){var $0=document.createElement("div");$0.setAttribute("oninput","return;"),ti=typeof $0.oninput=="function"}dl=ti}else dl=!1;_u=dl&&(!document.documentMode||9<document.documentMode)}function eg(){tc&&(tc.detachEvent("onpropertychange",cp),nc=tc=null)}function cp(a){if(a.propertyName==="value"&&ic(nc)){var r=[];Wd(r,nc,a,Bd(a)),Wh(op,r)}}function Su(a,r,f){a==="focusin"?(eg(),tc=r,nc=f,tc.attachEvent("onpropertychange",cp)):a==="focusout"&&eg()}function bo(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ic(nc)}function tg(a,r){if(a==="click")return ic(r)}function ng(a,r){if(a==="input"||a==="change")return ic(r)}function fl(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var ni=typeof Object.is=="function"?Object.is:fl;function ac(a,r){if(ni(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var f=Object.keys(a),m=Object.keys(r);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var T=f[m];if(!le.call(r,T)||!ni(a[T],r[T]))return!1}return!0}function up(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function dp(a,r){var f=up(a);a=0;for(var m;f;){if(f.nodeType===3){if(m=a+f.textContent.length,a<=r&&m>=r)return{node:f,offset:r-a};a=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=up(f)}}function Zd(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?Zd(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function Kd(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=Ai(a.document);r instanceof a.HTMLIFrameElement;){try{var f=typeof r.contentWindow.location.href=="string"}catch{f=!1}if(f)a=r.contentWindow;else break;r=Ai(a.document)}return r}function sc(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var ig=rr&&"documentMode"in document&&11>=document.documentMode,rc=null,Jd=null,oc=null,es=!1;function Qd(a,r,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;es||rc==null||rc!==Ai(m)||(m=rc,"selectionStart"in m&&sc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),oc&&ac(oc,m)||(oc=m,m=Vg(Jd,"onSelect"),0<m.length&&(r=new mu("onSelect","select",null,r,f),a.push({event:r,listeners:m}),r.target=rc)))}function _o(a,r){var f={};return f[a.toLowerCase()]=r.toLowerCase(),f["Webkit"+a]="webkit"+r,f["Moz"+a]="moz"+r,f}var lc={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionrun:_o("Transition","TransitionRun"),transitionstart:_o("Transition","TransitionStart"),transitioncancel:_o("Transition","TransitionCancel"),transitionend:_o("Transition","TransitionEnd")},Eu={},_a={};rr&&(_a=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function So(a){if(Eu[a])return Eu[a];if(!lc[a])return a;var r=lc[a],f;for(f in r)if(r.hasOwnProperty(f)&&f in _a)return Eu[a]=r[f];return a}var Ua=So("animationend"),fp=So("animationiteration"),or=So("animationstart"),cc=So("transitionrun"),Eo=So("transitionstart"),hp=So("transitioncancel"),$d=So("transitionend"),Ur=new Map,ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ef.push("scrollEnd");function da(a,r){Ur.set(a,r),pt(r,[a])}var Mo=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Gi=[],hl=0,tf=0;function To(){for(var a=hl,r=tf=hl=0;r<a;){var f=Gi[r];Gi[r++]=null;var m=Gi[r];Gi[r++]=null;var T=Gi[r];Gi[r++]=null;var N=Gi[r];if(Gi[r++]=null,m!==null&&T!==null){var H=m.pending;H===null?T.next=T:(T.next=H.next,H.next=T),m.pending=T}N!==0&&nf(f,T,N)}}function Mu(a,r,f,m){Gi[hl++]=a,Gi[hl++]=r,Gi[hl++]=f,Gi[hl++]=m,tf|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function uc(a,r,f,m){return Mu(a,r,f,m),dc(a)}function wo(a,r){return Mu(a,null,null,r),dc(a)}function nf(a,r,f){a.lanes|=f;var m=a.alternate;m!==null&&(m.lanes|=f);for(var T=!1,N=a.return;N!==null;)N.childLanes|=f,m=N.alternate,m!==null&&(m.childLanes|=f),N.tag===22&&(a=N.stateNode,a===null||a._visibility&1||(T=!0)),a=N,N=N.return;return a.tag===3?(N=a.stateNode,T&&r!==null&&(T=31-pe(f),a=N.hiddenUpdates,m=a[T],m===null?a[T]=[r]:m.push(r),r.lane=f|536870912),N):null}function dc(a){if(50<Rl)throw Rl=0,Dl=null,Error(n(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var Ao={};function ag(a,r,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(a,r,f,m){return new ag(a,r,f,m)}function Ea(a){return a=a.prototype,!(!a||!a.isReactComponent)}function lr(a,r){var f=a.alternate;return f===null?(f=Sa(a.tag,r,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=r,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,r=a.dependencies,f.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function fa(a,r){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,r=f.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function Tu(a,r,f,m,T,N){var H=0;if(m=a,typeof a=="function")Ea(a)&&(H=1);else if(typeof a=="string")H=UN(a,f,de.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case B:return a=Sa(31,f,r,T),a.elementType=B,a.lanes=N,a;case E:return Ir(f.children,T,N,r);case M:H=8,T|=24;break;case _:return a=Sa(12,f,r,T|2),a.elementType=_,a.lanes=N,a;case U:return a=Sa(13,f,r,T),a.elementType=U,a.lanes=N,a;case I:return a=Sa(19,f,r,T),a.elementType=I,a.lanes=N,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:H=10;break e;case C:H=9;break e;case O:H=11;break e;case F:H=14;break e;case j:H=16,m=null;break e}H=29,f=Error(n(130,a===null?"null":typeof a,"")),m=null}return r=Sa(H,f,r,T),r.elementType=a,r.type=m,r.lanes=N,r}function Ir(a,r,f,m){return a=Sa(7,a,m,r),a.lanes=f,a}function af(a,r,f){return a=Sa(6,a,null,r),a.lanes=f,a}function sg(a){var r=Sa(18,null,null,0);return r.stateNode=a,r}function js(a,r,f){return r=Sa(4,a.children!==null?a.children:[],a.key,r),r.lanes=f,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var pp=new WeakMap;function Ia(a,r){if(typeof a=="object"&&a!==null){var f=pp.get(a);return f!==void 0?f:(r={value:a,source:r,stack:Q(r)},pp.set(a,r),r)}return{value:a,source:r,stack:Q(r)}}var Vs=[],pl=0,wu=null,fc=0,ts=[],La=0,cr=null,ur=1,dr="";function Lr(a,r){Vs[pl++]=fc,Vs[pl++]=wu,wu=a,fc=r}function mp(a,r,f){ts[La++]=ur,ts[La++]=dr,ts[La++]=cr,cr=a;var m=ur;a=dr;var T=32-pe(m)-1;m&=~(1<<T),f+=1;var N=32-pe(r)+T;if(30<N){var H=T-T%5;N=(m&(1<<H)-1).toString(32),m>>=H,T-=H,ur=1<<32-pe(r)+T|f<<T|m,dr=N+a}else ur=1<<N|f<<T|m,dr=a}function sf(a){a.return!==null&&(Lr(a,1),mp(a,1,0))}function Co(a){for(;a===wu;)wu=Vs[--pl],Vs[pl]=null,fc=Vs[--pl],Vs[pl]=null;for(;a===cr;)cr=ts[--La],ts[La]=null,dr=ts[--La],ts[La]=null,ur=ts[--La],ts[La]=null}function Au(a,r){ts[La++]=ur,ts[La++]=dr,ts[La++]=cr,ur=r.id,dr=r.overflow,cr=a}var Yi=null,Kn=null,xn=!1,zr=null,Xi=!1,rf=Error(n(519));function mn(a){var r=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cu(Ia(r,a)),rf}function of(a){var r=a.stateNode,f=a.type,m=a.memoizedProps;switch(r[sn]=a,r[xi]=m,f){case"dialog":vn("cancel",r),vn("close",r);break;case"iframe":case"object":case"embed":vn("load",r);break;case"video":case"audio":for(f=0;f<om.length;f++)vn(om[f],r);break;case"source":vn("error",r);break;case"img":case"image":case"link":vn("error",r),vn("load",r);break;case"details":vn("toggle",r);break;case"input":vn("invalid",r),Xn(r,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":vn("invalid",r);break;case"textarea":vn("invalid",r),ci(r,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||r.textContent===""+f||m.suppressHydrationWarning===!0||t2(r.textContent,f)?(m.popover!=null&&(vn("beforetoggle",r),vn("toggle",r)),m.onScroll!=null&&vn("scroll",r),m.onScrollEnd!=null&&vn("scrollend",r),m.onClick!=null&&(r.onclick=sr),r=!0):r=!1,r||mn(a,!0)}function rg(a){for(Yi=a.return;Yi;)switch(Yi.tag){case 5:case 31:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:Yi=Yi.return}}function ml(a){if(a!==Yi)return!1;if(!xn)return rg(a),xn=!0,!1;var r=a.tag,f;if((f=r!==3&&r!==27)&&((f=r===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||Nb(a.type,a.memoizedProps)),f=!f),f&&Kn&&mn(a),rg(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Kn=u2(a)}else if(r===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Kn=u2(a)}else r===27?(r=Kn,Dc(a.type)?(a=Ib,Ib=null,Kn=a):Kn=r):Kn=Yi?Sr(a.stateNode.nextSibling):null;return!0}function gl(){Kn=Yi=null,xn=!1}function gp(){var a=zr;return a!==null&&(va===null?va=a:va.push.apply(va,a),zr=null),a}function Cu(a){zr===null?zr=[a]:zr.push(a)}var xp=G(null),Br=null,ha=null;function Pr(a,r,f){se(xp,r._currentValue),r._currentValue=f}function Ms(a){a._currentValue=xp.current,$(xp)}function kr(a,r,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,m!==null&&(m.childLanes|=r)):m!==null&&(m.childLanes&r)!==r&&(m.childLanes|=r),a===f)break;a=a.return}}function lf(a,r,f,m){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var N=T.dependencies;if(N!==null){var H=T.child;N=N.firstContext;e:for(;N!==null;){var ie=N;N=T;for(var be=0;be<r.length;be++)if(ie.context===r[be]){N.lanes|=f,ie=N.alternate,ie!==null&&(ie.lanes|=f),kr(N.return,f,a),m||(H=null);break e}N=ie.next}}else if(T.tag===18){if(H=T.return,H===null)throw Error(n(341));H.lanes|=f,N=H.alternate,N!==null&&(N.lanes|=f),kr(H,f,a),H=null}else H=T.child;if(H!==null)H.return=T;else for(H=T;H!==null;){if(H===a){H=null;break}if(T=H.sibling,T!==null){T.return=H.return,H=T;break}H=H.return}T=H}}function No(a,r,f,m){a=null;for(var T=r,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var H=T.alternate;if(H===null)throw Error(n(387));if(H=H.memoizedProps,H!==null){var ie=T.type;ni(T.pendingProps.value,H.value)||(a!==null?a.push(ie):a=[ie])}}else if(T===_e.current){if(H=T.alternate,H===null)throw Error(n(387));H.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(fm):a=[fm])}T=T.return}a!==null&&lf(r,a,f,m),r.flags|=262144}function hc(a){for(a=a.firstContext;a!==null;){if(!ni(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function xl(a){Br=a,ha=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function qi(a){return vp(Br,a)}function Nu(a,r){return Br===null&&xl(a),vp(a,r)}function vp(a,r){var f=r._currentValue;if(r={context:r,memoizedValue:f,next:null},ha===null){if(a===null)throw Error(n(308));ha=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else ha=ha.next=r;return f}var og=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(f,m){a.push(m)}};this.abort=function(){r.aborted=!0,a.forEach(function(f){return f()})}},lg=i.unstable_scheduleCallback,yp=i.unstable_NormalPriority,It={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bp(){return{controller:new og,data:new Map,refCount:0}}function $i(a){a.refCount--,a.refCount===0&&lg(yp,function(){a.controller.abort()})}var vl=null,_p=0,Fr=0,Gs=null;function pc(a,r){if(vl===null){var f=vl=[];_p=0,Fr=bb(),Gs={status:"pending",value:void 0,then:function(m){f.push(m)}}}return _p++,r.then(Sp,Sp),r}function Sp(){if(--_p===0&&vl!==null){Gs!==null&&(Gs.status="fulfilled");var a=vl;vl=null,Fr=0,Gs=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function Ep(a,r){var f=[],m={status:"pending",value:null,reason:null,then:function(T){f.push(T)}};return a.then(function(){m.status="fulfilled",m.value=r;for(var T=0;T<f.length;T++)(0,f[T])(r)},function(T){for(m.status="rejected",m.reason=T,T=0;T<f.length;T++)(0,f[T])(void 0)}),m}var cg=q.S;q.S=function(a,r){Cc=V(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&pc(a,r),cg!==null&&cg(a,r)};var Ro=G(null);function fr(){var a=Ro.current;return a!==null?a:Bn.pooledCache}function mc(a,r){r===null?se(Ro,Ro.current):se(Ro,r.pool)}function cf(){var a=fr();return a===null?null:{parent:It._currentValue,pool:a}}var Do=Error(n(460)),Ru=Error(n(474)),Ys=Error(n(542)),Du={then:function(){}};function ug(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Mp(a,r,f){switch(f=a[f],f===void 0?a.push(r):f!==r&&(r.then(sr,sr),r=f),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,Tp(a),a;default:if(typeof r.status=="string")r.then(sr,sr);else{if(a=Bn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=r,a.status="pending",a.then(function(m){if(r.status==="pending"){var T=r;T.status="fulfilled",T.value=m}},function(m){if(r.status==="pending"){var T=r;T.status="rejected",T.reason=m}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,Tp(a),a}throw jt=r,Do}}function yl(a){try{var r=a._init;return r(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(jt=f,Do):f}}var jt=null;function uf(){if(jt===null)throw Error(n(459));var a=jt;return jt=null,a}function Tp(a){if(a===Do||a===Ys)throw Error(n(483))}var Oo=null,Uo=0;function df(a){var r=Uo;return Uo+=1,Oo===null&&(Oo=[]),Mp(Oo,a,r)}function Ou(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function Uu(a,r){throw r.$$typeof===b?Error(n(525)):(a=Object.prototype.toString.call(r),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function gc(a){function r(De,Ee){if(a){var ze=De.deletions;ze===null?(De.deletions=[Ee],De.flags|=16):ze.push(Ee)}}function f(De,Ee){if(!a)return null;for(;Ee!==null;)r(De,Ee),Ee=Ee.sibling;return null}function m(De){for(var Ee=new Map;De!==null;)De.key!==null?Ee.set(De.key,De):Ee.set(De.index,De),De=De.sibling;return Ee}function T(De,Ee){return De=lr(De,Ee),De.index=0,De.sibling=null,De}function N(De,Ee,ze){return De.index=ze,a?(ze=De.alternate,ze!==null?(ze=ze.index,ze<Ee?(De.flags|=67108866,Ee):ze):(De.flags|=67108866,Ee)):(De.flags|=1048576,Ee)}function H(De){return a&&De.alternate===null&&(De.flags|=67108866),De}function ie(De,Ee,ze,Qe){return Ee===null||Ee.tag!==6?(Ee=af(ze,De.mode,Qe),Ee.return=De,Ee):(Ee=T(Ee,ze),Ee.return=De,Ee)}function be(De,Ee,ze,Qe){var Pt=ze.type;return Pt===E?We(De,Ee,ze.props.children,Qe,ze.key):Ee!==null&&(Ee.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===j&&yl(Pt)===Ee.type)?(Ee=T(Ee,ze.props),Ou(Ee,ze),Ee.return=De,Ee):(Ee=Tu(ze.type,ze.key,ze.props,null,De.mode,Qe),Ou(Ee,ze),Ee.return=De,Ee)}function Be(De,Ee,ze,Qe){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==ze.containerInfo||Ee.stateNode.implementation!==ze.implementation?(Ee=js(ze,De.mode,Qe),Ee.return=De,Ee):(Ee=T(Ee,ze.children||[]),Ee.return=De,Ee)}function We(De,Ee,ze,Qe,Pt){return Ee===null||Ee.tag!==7?(Ee=Ir(ze,De.mode,Qe,Pt),Ee.return=De,Ee):(Ee=T(Ee,ze),Ee.return=De,Ee)}function et(De,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return Ee=af(""+Ee,De.mode,ze),Ee.return=De,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case y:return ze=Tu(Ee.type,Ee.key,Ee.props,null,De.mode,ze),Ou(ze,Ee),ze.return=De,ze;case S:return Ee=js(Ee,De.mode,ze),Ee.return=De,Ee;case j:return Ee=yl(Ee),et(De,Ee,ze)}if(re(Ee)||Y(Ee))return Ee=Ir(Ee,De.mode,ze,null),Ee.return=De,Ee;if(typeof Ee.then=="function")return et(De,df(Ee),ze);if(Ee.$$typeof===R)return et(De,Nu(De,Ee),ze);Uu(De,Ee)}return null}function Fe(De,Ee,ze,Qe){var Pt=Ee!==null?Ee.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Pt!==null?null:ie(De,Ee,""+ze,Qe);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case y:return ze.key===Pt?be(De,Ee,ze,Qe):null;case S:return ze.key===Pt?Be(De,Ee,ze,Qe):null;case j:return ze=yl(ze),Fe(De,Ee,ze,Qe)}if(re(ze)||Y(ze))return Pt!==null?null:We(De,Ee,ze,Qe,null);if(typeof ze.then=="function")return Fe(De,Ee,df(ze),Qe);if(ze.$$typeof===R)return Fe(De,Ee,Nu(De,ze),Qe);Uu(De,ze)}return null}function Ge(De,Ee,ze,Qe,Pt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return De=De.get(ze)||null,ie(Ee,De,""+Qe,Pt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case y:return De=De.get(Qe.key===null?ze:Qe.key)||null,be(Ee,De,Qe,Pt);case S:return De=De.get(Qe.key===null?ze:Qe.key)||null,Be(Ee,De,Qe,Pt);case j:return Qe=yl(Qe),Ge(De,Ee,ze,Qe,Pt)}if(re(Qe)||Y(Qe))return De=De.get(ze)||null,We(Ee,De,Qe,Pt,null);if(typeof Qe.then=="function")return Ge(De,Ee,ze,df(Qe),Pt);if(Qe.$$typeof===R)return Ge(De,Ee,ze,Nu(Ee,Qe),Pt);Uu(Ee,Qe)}return null}function At(De,Ee,ze,Qe){for(var Pt=null,kn=null,Dt=Ee,ln=Ee=0,En=null;Dt!==null&&ln<ze.length;ln++){Dt.index>ln?(En=Dt,Dt=null):En=Dt.sibling;var Fn=Fe(De,Dt,ze[ln],Qe);if(Fn===null){Dt===null&&(Dt=En);break}a&&Dt&&Fn.alternate===null&&r(De,Dt),Ee=N(Fn,Ee,ln),kn===null?Pt=Fn:kn.sibling=Fn,kn=Fn,Dt=En}if(ln===ze.length)return f(De,Dt),xn&&Lr(De,ln),Pt;if(Dt===null){for(;ln<ze.length;ln++)Dt=et(De,ze[ln],Qe),Dt!==null&&(Ee=N(Dt,Ee,ln),kn===null?Pt=Dt:kn.sibling=Dt,kn=Dt);return xn&&Lr(De,ln),Pt}for(Dt=m(Dt);ln<ze.length;ln++)En=Ge(Dt,De,ln,ze[ln],Qe),En!==null&&(a&&En.alternate!==null&&Dt.delete(En.key===null?ln:En.key),Ee=N(En,Ee,ln),kn===null?Pt=En:kn.sibling=En,kn=En);return a&&Dt.forEach(function(zc){return r(De,zc)}),xn&&Lr(De,ln),Pt}function Gt(De,Ee,ze,Qe){if(ze==null)throw Error(n(151));for(var Pt=null,kn=null,Dt=Ee,ln=Ee=0,En=null,Fn=ze.next();Dt!==null&&!Fn.done;ln++,Fn=ze.next()){Dt.index>ln?(En=Dt,Dt=null):En=Dt.sibling;var zc=Fe(De,Dt,Fn.value,Qe);if(zc===null){Dt===null&&(Dt=En);break}a&&Dt&&zc.alternate===null&&r(De,Dt),Ee=N(zc,Ee,ln),kn===null?Pt=zc:kn.sibling=zc,kn=zc,Dt=En}if(Fn.done)return f(De,Dt),xn&&Lr(De,ln),Pt;if(Dt===null){for(;!Fn.done;ln++,Fn=ze.next())Fn=et(De,Fn.value,Qe),Fn!==null&&(Ee=N(Fn,Ee,ln),kn===null?Pt=Fn:kn.sibling=Fn,kn=Fn);return xn&&Lr(De,ln),Pt}for(Dt=m(Dt);!Fn.done;ln++,Fn=ze.next())Fn=Ge(Dt,De,ln,Fn.value,Qe),Fn!==null&&(a&&Fn.alternate!==null&&Dt.delete(Fn.key===null?ln:Fn.key),Ee=N(Fn,Ee,ln),kn===null?Pt=Fn:kn.sibling=Fn,kn=Fn);return a&&Dt.forEach(function(GN){return r(De,GN)}),xn&&Lr(De,ln),Pt}function $n(De,Ee,ze,Qe){if(typeof ze=="object"&&ze!==null&&ze.type===E&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case y:e:{for(var Pt=ze.key;Ee!==null;){if(Ee.key===Pt){if(Pt=ze.type,Pt===E){if(Ee.tag===7){f(De,Ee.sibling),Qe=T(Ee,ze.props.children),Qe.return=De,De=Qe;break e}}else if(Ee.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===j&&yl(Pt)===Ee.type){f(De,Ee.sibling),Qe=T(Ee,ze.props),Ou(Qe,ze),Qe.return=De,De=Qe;break e}f(De,Ee);break}else r(De,Ee);Ee=Ee.sibling}ze.type===E?(Qe=Ir(ze.props.children,De.mode,Qe,ze.key),Qe.return=De,De=Qe):(Qe=Tu(ze.type,ze.key,ze.props,null,De.mode,Qe),Ou(Qe,ze),Qe.return=De,De=Qe)}return H(De);case S:e:{for(Pt=ze.key;Ee!==null;){if(Ee.key===Pt)if(Ee.tag===4&&Ee.stateNode.containerInfo===ze.containerInfo&&Ee.stateNode.implementation===ze.implementation){f(De,Ee.sibling),Qe=T(Ee,ze.children||[]),Qe.return=De,De=Qe;break e}else{f(De,Ee);break}else r(De,Ee);Ee=Ee.sibling}Qe=js(ze,De.mode,Qe),Qe.return=De,De=Qe}return H(De);case j:return ze=yl(ze),$n(De,Ee,ze,Qe)}if(re(ze))return At(De,Ee,ze,Qe);if(Y(ze)){if(Pt=Y(ze),typeof Pt!="function")throw Error(n(150));return ze=Pt.call(ze),Gt(De,Ee,ze,Qe)}if(typeof ze.then=="function")return $n(De,Ee,df(ze),Qe);if(ze.$$typeof===R)return $n(De,Ee,Nu(De,ze),Qe);Uu(De,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,Ee!==null&&Ee.tag===6?(f(De,Ee.sibling),Qe=T(Ee,ze),Qe.return=De,De=Qe):(f(De,Ee),Qe=af(ze,De.mode,Qe),Qe.return=De,De=Qe),H(De)):f(De,Ee)}return function(De,Ee,ze,Qe){try{Uo=0;var Pt=$n(De,Ee,ze,Qe);return Oo=null,Pt}catch(Dt){if(Dt===Do||Dt===Ys)throw Dt;var kn=Sa(29,Dt,null,De.mode);return kn.lanes=Qe,kn.return=De,kn}finally{}}}var bl=gc(!0),dg=gc(!1),Io=!1;function wp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function hr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Hr(a,r,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(_n&2)!==0){var T=m.pending;return T===null?r.next=r:(r.next=T.next,T.next=r),m.pending=r,r=dc(a),nf(a,null,f),r}return Mu(a,m,r,f),dc(a)}function Lo(a,r,f){if(r=r.updateQueue,r!==null&&(r=r.shared,(f&4194048)!==0)){var m=r.lanes;m&=a.pendingLanes,f|=m,r.lanes=f,Vi(a,f)}}function ff(a,r){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var T=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var H={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};N===null?T=N=H:N=N.next=H,f=f.next}while(f!==null);N===null?T=N=r:N=N.next=r}else T=N=r;f={baseState:m.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=r:a.next=r,f.lastBaseUpdate=r}var Cp=!1;function Iu(){if(Cp){var a=Gs;if(a!==null)throw a}}function _l(a,r,f,m){Cp=!1;var T=a.updateQueue;Io=!1;var N=T.firstBaseUpdate,H=T.lastBaseUpdate,ie=T.shared.pending;if(ie!==null){T.shared.pending=null;var be=ie,Be=be.next;be.next=null,H===null?N=Be:H.next=Be,H=be;var We=a.alternate;We!==null&&(We=We.updateQueue,ie=We.lastBaseUpdate,ie!==H&&(ie===null?We.firstBaseUpdate=Be:ie.next=Be,We.lastBaseUpdate=be))}if(N!==null){var et=T.baseState;H=0,We=Be=be=null,ie=N;do{var Fe=ie.lane&-536870913,Ge=Fe!==ie.lane;if(Ge?(gn&Fe)===Fe:(m&Fe)===Fe){Fe!==0&&Fe===Fr&&(Cp=!0),We!==null&&(We=We.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var At=a,Gt=ie;Fe=r;var $n=f;switch(Gt.tag){case 1:if(At=Gt.payload,typeof At=="function"){et=At.call($n,et,Fe);break e}et=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Gt.payload,Fe=typeof At=="function"?At.call($n,et,Fe):At,Fe==null)break e;et=v({},et,Fe);break e;case 2:Io=!0}}Fe=ie.callback,Fe!==null&&(a.flags|=64,Ge&&(a.flags|=8192),Ge=T.callbacks,Ge===null?T.callbacks=[Fe]:Ge.push(Fe))}else Ge={lane:Fe,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},We===null?(Be=We=Ge,be=et):We=We.next=Ge,H|=Fe;if(ie=ie.next,ie===null){if(ie=T.shared.pending,ie===null)break;Ge=ie,ie=Ge.next,Ge.next=null,T.lastBaseUpdate=Ge,T.shared.pending=null}}while(!0);We===null&&(be=et),T.baseState=be,T.firstBaseUpdate=Be,T.lastBaseUpdate=We,N===null&&(T.shared.lanes=0),fs|=H,a.lanes=H,a.memoizedState=et}}function pr(a,r){if(typeof a!="function")throw Error(n(191,a));a.call(r)}function ea(a,r){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)pr(f[a],r)}var ns=G(null),Ma=G(0);function Np(a,r){a=Ei,se(Ma,a),se(ns,r),Ei=a|r.baseLanes}function Rp(){se(Ma,Ei),se(ns,ns.current)}function pa(){Ei=Ma.current,$(ns),$(Ma)}var Bi=G(null),Ts=null;function zo(a){var r=a.alternate;se(ui,ui.current&1),se(Bi,a),Ts===null&&(r===null||ns.current!==null||r.memoizedState!==null)&&(Ts=a)}function Dp(a){se(ui,ui.current),se(Bi,a),Ts===null&&(Ts=a)}function fg(a){a.tag===22?(se(ui,ui.current),se(Bi,a),Ts===null&&(Ts=a)):jr()}function jr(){se(ui,ui.current),se(Bi,Bi.current)}function is(a){$(Bi),Ts===a&&(Ts=null),$(ui)}var ui=G(0);function hf(a){for(var r=a;r!==null;){if(r.tag===13){var f=r.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Ob(f)||Ub(f)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var za=0,Yt=null,Vn=null,Ci=null,pf=!1,mr=!1,Sl=!1,mf=0,Lu=0,gr=null,ub=0;function di(){throw Error(n(321))}function Op(a,r){if(r===null)return!1;for(var f=0;f<r.length&&f<a.length;f++)if(!ni(a[f],r[f]))return!1;return!0}function Up(a,r,f,m,T,N){return za=N,Yt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=a===null||a.memoizedState===null?Og:yc,Sl=!1,N=f(m,T),Sl=!1,mr&&(N=pg(r,f,m,T)),hg(a),N}function hg(a){q.H=Fu;var r=Vn!==null&&Vn.next!==null;if(za=0,Ci=Vn=Yt=null,pf=!1,Lu=0,gr=null,r)throw Error(n(300));a===null||ii||(a=a.dependencies,a!==null&&hc(a)&&(ii=!0))}function pg(a,r,f,m){Yt=a;var T=0;do{if(mr&&(gr=null),Lu=0,mr=!1,25<=T)throw Error(n(301));if(T+=1,Ci=Vn=null,a.updateQueue!=null){var N=a.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}q.H=Hu,N=r(f,m)}while(mr);return N}function db(){var a=q.H,r=a.useState()[0];return r=typeof r.then=="function"?Bu(r):r,a=a.useState()[0],(Vn!==null?Vn.memoizedState:null)!==a&&(Yt.flags|=1024),r}function Ip(){var a=mf!==0;return mf=0,a}function Lp(a,r,f){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~f}function zp(a){if(pf){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}pf=!1}za=0,Ci=Vn=Yt=null,mr=!1,Lu=mf=0,gr=null}function Ta(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ci===null?Yt.memoizedState=Ci=a:Ci=Ci.next=a,Ci}function yi(){if(Vn===null){var a=Yt.alternate;a=a!==null?a.memoizedState:null}else a=Vn.next;var r=Ci===null?Yt.memoizedState:Ci.next;if(r!==null)Ci=r,Vn=a;else{if(a===null)throw Yt.alternate===null?Error(n(467)):Error(n(310));Vn=a,a={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Ci===null?Yt.memoizedState=Ci=a:Ci=Ci.next=a}return Ci}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(a){var r=Lu;return Lu+=1,gr===null&&(gr=[]),a=Mp(gr,a,r),r=Yt,(Ci===null?r.memoizedState:Ci.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?Og:yc),a}function gf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Bu(a);if(a.$$typeof===R)return qi(a)}throw Error(n(438,String(a)))}function Bp(a){var r=null,f=Yt.updateQueue;if(f!==null&&(r=f.memoCache),r==null){var m=Yt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(r={data:m.data.map(function(T){return T.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),f===null&&(f=zu(),Yt.updateQueue=f),f.memoCache=r,f=r.data[r.index],f===void 0)for(f=r.data[r.index]=Array(a),m=0;m<a;m++)f[m]=k;return r.index++,f}function Vr(a,r){return typeof r=="function"?r(a):r}function xf(a){var r=yi();return Pp(r,Vn,a)}function Pp(a,r,f){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=f;var T=a.baseQueue,N=m.pending;if(N!==null){if(T!==null){var H=T.next;T.next=N.next,N.next=H}r.baseQueue=T=N,m.pending=null}if(N=a.baseState,T===null)a.memoizedState=N;else{r=T.next;var ie=H=null,be=null,Be=r,We=!1;do{var et=Be.lane&-536870913;if(et!==Be.lane?(gn&et)===et:(za&et)===et){var Fe=Be.revertLane;if(Fe===0)be!==null&&(be=be.next={lane:0,revertLane:0,gesture:null,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),et===Fr&&(We=!0);else if((za&Fe)===Fe){Be=Be.next,Fe===Fr&&(We=!0);continue}else et={lane:0,revertLane:Be.revertLane,gesture:null,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},be===null?(ie=be=et,H=N):be=be.next=et,Yt.lanes|=Fe,fs|=Fe;et=Be.action,Sl&&f(N,et),N=Be.hasEagerState?Be.eagerState:f(N,et)}else Fe={lane:et,revertLane:Be.revertLane,gesture:Be.gesture,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},be===null?(ie=be=Fe,H=N):be=be.next=Fe,Yt.lanes|=et,fs|=et;Be=Be.next}while(Be!==null&&Be!==r);if(be===null?H=N:be.next=ie,!ni(N,a.memoizedState)&&(ii=!0,We&&(f=Gs,f!==null)))throw f;a.memoizedState=N,a.baseState=H,a.baseQueue=be,m.lastRenderedState=N}return T===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function vf(a){var r=yi(),f=r.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=a;var m=f.dispatch,T=f.pending,N=r.memoizedState;if(T!==null){f.pending=null;var H=T=T.next;do N=a(N,H.action),H=H.next;while(H!==T);ni(N,r.memoizedState)||(ii=!0),r.memoizedState=N,r.baseQueue===null&&(r.baseState=N),f.lastRenderedState=N}return[N,m]}function kp(a,r,f){var m=Yt,T=yi(),N=xn;if(N){if(f===void 0)throw Error(n(407));f=f()}else f=r();var H=!ni((Vn||T).memoizedState,f);if(H&&(T.memoizedState=f,ii=!0),T=T.queue,Gp(Hp.bind(null,m,T,a),[a]),T.getSnapshot!==r||H||Ci!==null&&Ci.memoizedState.tag&1){if(m.flags|=2048,xc(9,{destroy:void 0},Fp.bind(null,m,T,f,r),null),Bn===null)throw Error(n(349));N||(za&127)!==0||mg(m,r,f)}return f}function mg(a,r,f){a.flags|=16384,a={getSnapshot:r,value:f},r=Yt.updateQueue,r===null?(r=zu(),Yt.updateQueue=r,r.stores=[a]):(f=r.stores,f===null?r.stores=[a]:f.push(a))}function Fp(a,r,f,m){r.value=f,r.getSnapshot=m,jp(r)&&yf(a)}function Hp(a,r,f){return f(function(){jp(r)&&yf(a)})}function jp(a){var r=a.getSnapshot;a=a.value;try{var f=r();return!ni(a,f)}catch{return!0}}function yf(a){var r=wo(a,2);r!==null&&d(r,a,2)}function Pu(a){var r=Ta();if(typeof a=="function"){var f=a;if(a=f(),Sl){_t(!0);try{f()}finally{_t(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:a},r}function gg(a,r,f,m){return a.baseState=f,Pp(a,Vn,typeof m=="function"?m:Vr)}function fb(a,r,f,m,T){if(Gr(a))throw Error(n(485));if(a=r.action,a!==null){var N={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){N.listeners.push(H)}};q.T!==null?f(!0):N.isTransition=!1,m(N),f=r.pending,f===null?(N.next=r.pending=N,xg(r,N)):(N.next=f.next,r.pending=f.next=N)}}function xg(a,r){var f=r.action,m=r.payload,T=a.state;if(r.isTransition){var N=q.T,H={};q.T=H;try{var ie=f(T,m),be=q.S;be!==null&&be(H,ie),vg(a,r,ie)}catch(Be){bf(a,r,Be)}finally{N!==null&&H.types!==null&&(N.types=H.types),q.T=N}}else try{N=f(T,m),vg(a,r,N)}catch(Be){bf(a,r,Be)}}function vg(a,r,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){Vp(a,r,m)},function(m){return bf(a,r,m)}):Vp(a,r,f)}function Vp(a,r,f){r.status="fulfilled",r.value=f,yg(r),a.state=f,r=a.pending,r!==null&&(f=r.next,f===r?a.pending=null:(f=f.next,r.next=f,xg(a,f)))}function bf(a,r,f){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do r.status="rejected",r.reason=f,yg(r),r=r.next;while(r!==m)}a.action=null}function yg(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function bg(a,r){return r}function _g(a,r){if(xn){var f=Bn.formState;if(f!==null){e:{var m=Yt;if(xn){if(Kn){t:{for(var T=Kn,N=Xi;T.nodeType!==8;){if(!N){T=null;break t}if(T=Sr(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){Kn=Sr(T.nextSibling),m=T.data==="F!";break e}}mn(m)}m=!1}m&&(r=f[0])}}return f=Ta(),f.memoizedState=f.baseState=r,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:r},f.queue=m,f=Dg.bind(null,Yt,m),m.dispatch=f,m=Pu(!1),N=ku.bind(null,Yt,!1,m.queue),m=Ta(),T={state:r,dispatch:null,action:a,pending:null},m.queue=T,f=fb.bind(null,Yt,T,N,f),T.dispatch=f,m.memoizedState=a,[r,f,!1]}function Sg(a){var r=yi();return Eg(r,Vn,a)}function Eg(a,r,f){if(r=Pp(a,r,bg)[0],a=xf(Vr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var m=Bu(r)}catch(H){throw H===Do?Ys:H}else m=r;r=yi();var T=r.queue,N=T.dispatch;return f!==r.memoizedState&&(Yt.flags|=2048,xc(9,{destroy:void 0},hb.bind(null,T,f),null)),[m,N,a]}function hb(a,r){a.action=r}function Mg(a){var r=yi(),f=Vn;if(f!==null)return Eg(r,f,a);yi(),r=r.memoizedState,f=yi();var m=f.queue.dispatch;return f.memoizedState=a,[r,m,!1]}function xc(a,r,f,m){return a={tag:a,create:f,deps:m,inst:r,next:null},r=Yt.updateQueue,r===null&&(r=zu(),Yt.updateQueue=r),f=r.lastEffect,f===null?r.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,r.lastEffect=a),a}function Tg(){return yi().memoizedState}function _f(a,r,f,m){var T=Ta();Yt.flags|=a,T.memoizedState=xc(1|r,{destroy:void 0},f,m===void 0?null:m)}function Sf(a,r,f,m){var T=yi();m=m===void 0?null:m;var N=T.memoizedState.inst;Vn!==null&&m!==null&&Op(m,Vn.memoizedState.deps)?T.memoizedState=xc(r,N,f,m):(Yt.flags|=a,T.memoizedState=xc(1|r,N,f,m))}function wg(a,r){_f(8390656,8,a,r)}function Gp(a,r){Sf(2048,8,a,r)}function Ag(a){Yt.flags|=4;var r=Yt.updateQueue;if(r===null)r=zu(),Yt.updateQueue=r,r.events=[a];else{var f=r.events;f===null?r.events=[a]:f.push(a)}}function Cg(a){var r=yi().memoizedState;return Ag({ref:r,nextImpl:a}),function(){if((_n&2)!==0)throw Error(n(440));return r.impl.apply(void 0,arguments)}}function Ng(a,r){return Sf(4,2,a,r)}function as(a,r){return Sf(4,4,a,r)}function Yp(a,r){if(typeof r=="function"){a=a();var f=r(a);return function(){typeof f=="function"?f():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function Ef(a,r,f){f=f!=null?f.concat([a]):null,Sf(4,4,Yp.bind(null,r,a),f)}function Mf(){}function Xp(a,r){var f=yi();r=r===void 0?null:r;var m=f.memoizedState;return r!==null&&Op(r,m[1])?m[0]:(f.memoizedState=[a,r],a)}function qp(a,r){var f=yi();r=r===void 0?null:r;var m=f.memoizedState;if(r!==null&&Op(r,m[1]))return m[0];if(m=a(),Sl){_t(!0);try{a()}finally{_t(!1)}}return f.memoizedState=[m,r],m}function Wp(a,r,f){return f===void 0||(za&1073741824)!==0&&(gn&261930)===0?a.memoizedState=r:(a.memoizedState=f,a=l(),Yt.lanes|=a,fs|=a,f)}function Zp(a,r,f,m){return ni(f,r)?f:ns.current!==null?(a=Wp(a,f,m),ni(a,r)||(ii=!0),a):(za&42)===0||(za&1073741824)!==0&&(gn&261930)===0?(ii=!0,a.memoizedState=f):(a=l(),Yt.lanes|=a,fs|=a,r)}function Kp(a,r,f,m,T){var N=W.p;W.p=N!==0&&8>N?N:8;var H=q.T,ie={};q.T=ie,ku(a,!1,r,f);try{var be=T(),Be=q.S;if(Be!==null&&Be(ie,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var We=Ep(be,m);vc(a,r,We,Aa(a))}else vc(a,r,m,Aa(a))}catch(et){vc(a,r,{then:function(){},status:"rejected",reason:et},Aa())}finally{W.p=N,H!==null&&ie.types!==null&&(H.types=ie.types),q.T=H}}function pb(){}function Jp(a,r,f,m){if(a.tag!==5)throw Error(n(476));var T=Rg(a).queue;Kp(a,T,r,te,f===null?pb:function(){return Qp(a),f(m)})}function Rg(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:te},next:null};var f={};return r.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:f},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function Qp(a){var r=Rg(a);r.next===null&&(r=a.alternate.memoizedState),vc(a,r.next.queue,{},Aa())}function $p(){return qi(fm)}function ta(){return yi().memoizedState}function em(){return yi().memoizedState}function mb(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var f=Aa();a=hr(f);var m=Hr(r,a,f);m!==null&&(d(m,r,f),Lo(m,r,f)),r={cache:bp()},a.payload=r;return}r=r.return}}function gb(a,r,f){var m=Aa();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Gr(a)?El(r,f):(f=uc(a,r,f,m),f!==null&&(d(f,a,m),Ba(f,r,m)))}function Dg(a,r,f){var m=Aa();vc(a,r,f,m)}function vc(a,r,f,m){var T={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Gr(a))El(r,T);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=r.lastRenderedReducer,N!==null))try{var H=r.lastRenderedState,ie=N(H,f);if(T.hasEagerState=!0,T.eagerState=ie,ni(ie,H))return Mu(a,r,T,0),Bn===null&&To(),!1}catch{}finally{}if(f=uc(a,r,T,m),f!==null)return d(f,a,m),Ba(f,r,m),!0}return!1}function ku(a,r,f,m){if(m={lane:2,revertLane:bb(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Gr(a)){if(r)throw Error(n(479))}else r=uc(a,f,m,2),r!==null&&d(r,a,2)}function Gr(a){var r=a.alternate;return a===Yt||r!==null&&r===Yt}function El(a,r){mr=pf=!0;var f=a.pending;f===null?r.next=r:(r.next=f.next,f.next=r),a.pending=r}function Ba(a,r,f){if((f&4194048)!==0){var m=r.lanes;m&=a.pendingLanes,f|=m,r.lanes=f,Vi(a,f)}}var Fu={readContext:qi,use:gf,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useLayoutEffect:di,useInsertionEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useSyncExternalStore:di,useId:di,useHostTransitionStatus:di,useFormState:di,useActionState:di,useOptimistic:di,useMemoCache:di,useCacheRefresh:di};Fu.useEffectEvent=di;var Og={readContext:qi,use:gf,useCallback:function(a,r){return Ta().memoizedState=[a,r===void 0?null:r],a},useContext:qi,useEffect:wg,useImperativeHandle:function(a,r,f){f=f!=null?f.concat([a]):null,_f(4194308,4,Yp.bind(null,r,a),f)},useLayoutEffect:function(a,r){return _f(4194308,4,a,r)},useInsertionEffect:function(a,r){_f(4,2,a,r)},useMemo:function(a,r){var f=Ta();r=r===void 0?null:r;var m=a();if(Sl){_t(!0);try{a()}finally{_t(!1)}}return f.memoizedState=[m,r],m},useReducer:function(a,r,f){var m=Ta();if(f!==void 0){var T=f(r);if(Sl){_t(!0);try{f(r)}finally{_t(!1)}}}else T=r;return m.memoizedState=m.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},m.queue=a,a=a.dispatch=gb.bind(null,Yt,a),[m.memoizedState,a]},useRef:function(a){var r=Ta();return a={current:a},r.memoizedState=a},useState:function(a){a=Pu(a);var r=a.queue,f=Dg.bind(null,Yt,r);return r.dispatch=f,[a.memoizedState,f]},useDebugValue:Mf,useDeferredValue:function(a,r){var f=Ta();return Wp(f,a,r)},useTransition:function(){var a=Pu(!1);return a=Kp.bind(null,Yt,a.queue,!0,!1),Ta().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,f){var m=Yt,T=Ta();if(xn){if(f===void 0)throw Error(n(407));f=f()}else{if(f=r(),Bn===null)throw Error(n(349));(gn&127)!==0||mg(m,r,f)}T.memoizedState=f;var N={value:f,getSnapshot:r};return T.queue=N,wg(Hp.bind(null,m,N,a),[a]),m.flags|=2048,xc(9,{destroy:void 0},Fp.bind(null,m,N,f,r),null),f},useId:function(){var a=Ta(),r=Bn.identifierPrefix;if(xn){var f=dr,m=ur;f=(m&~(1<<32-pe(m)-1)).toString(32)+f,r="_"+r+"R_"+f,f=mf++,0<f&&(r+="H"+f.toString(32)),r+="_"}else f=ub++,r="_"+r+"r_"+f.toString(32)+"_";return a.memoizedState=r},useHostTransitionStatus:$p,useFormState:_g,useActionState:_g,useOptimistic:function(a){var r=Ta();r.memoizedState=r.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=f,r=ku.bind(null,Yt,!0,f),f.dispatch=r,[a,r]},useMemoCache:Bp,useCacheRefresh:function(){return Ta().memoizedState=mb.bind(null,Yt)},useEffectEvent:function(a){var r=Ta(),f={impl:a};return r.memoizedState=f,function(){if((_n&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},yc={readContext:qi,use:gf,useCallback:Xp,useContext:qi,useEffect:Gp,useImperativeHandle:Ef,useInsertionEffect:Ng,useLayoutEffect:as,useMemo:qp,useReducer:xf,useRef:Tg,useState:function(){return xf(Vr)},useDebugValue:Mf,useDeferredValue:function(a,r){var f=yi();return Zp(f,Vn.memoizedState,a,r)},useTransition:function(){var a=xf(Vr)[0],r=yi().memoizedState;return[typeof a=="boolean"?a:Bu(a),r]},useSyncExternalStore:kp,useId:ta,useHostTransitionStatus:$p,useFormState:Sg,useActionState:Sg,useOptimistic:function(a,r){var f=yi();return gg(f,Vn,a,r)},useMemoCache:Bp,useCacheRefresh:em};yc.useEffectEvent=Cg;var Hu={readContext:qi,use:gf,useCallback:Xp,useContext:qi,useEffect:Gp,useImperativeHandle:Ef,useInsertionEffect:Ng,useLayoutEffect:as,useMemo:qp,useReducer:vf,useRef:Tg,useState:function(){return vf(Vr)},useDebugValue:Mf,useDeferredValue:function(a,r){var f=yi();return Vn===null?Wp(f,a,r):Zp(f,Vn.memoizedState,a,r)},useTransition:function(){var a=vf(Vr)[0],r=yi().memoizedState;return[typeof a=="boolean"?a:Bu(a),r]},useSyncExternalStore:kp,useId:ta,useHostTransitionStatus:$p,useFormState:Mg,useActionState:Mg,useOptimistic:function(a,r){var f=yi();return Vn!==null?gg(f,Vn,a,r):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:Bp,useCacheRefresh:em};Hu.useEffectEvent=Cg;function bc(a,r,f,m){r=a.memoizedState,f=f(m,r),f=f==null?r:v({},r,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var ju={enqueueSetState:function(a,r,f){a=a._reactInternals;var m=Aa(),T=hr(m);T.payload=r,f!=null&&(T.callback=f),r=Hr(a,T,m),r!==null&&(d(r,a,m),Lo(r,a,m))},enqueueReplaceState:function(a,r,f){a=a._reactInternals;var m=Aa(),T=hr(m);T.tag=1,T.payload=r,f!=null&&(T.callback=f),r=Hr(a,T,m),r!==null&&(d(r,a,m),Lo(r,a,m))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var f=Aa(),m=hr(f);m.tag=2,r!=null&&(m.callback=r),r=Hr(a,m,f),r!==null&&(d(r,a,f),Lo(r,a,f))}};function Ug(a,r,f,m,T,N,H){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,N,H):r.prototype&&r.prototype.isPureReactComponent?!ac(f,m)||!ac(T,N):!0}function Ig(a,r,f,m){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(f,m),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(f,m),r.state!==a&&ju.enqueueReplaceState(r,r.state,null)}function na(a,r){var f=r;if("ref"in r){f={};for(var m in r)m!=="ref"&&(f[m]=r[m])}if(a=a.defaultProps){f===r&&(f=v({},f));for(var T in a)f[T]===void 0&&(f[T]=a[T])}return f}function tm(a){Mo(a)}function Lg(a){console.error(a)}function Tf(a){Mo(a)}function wf(a,r){try{var f=a.onUncaughtError;f(r.value,{componentStack:r.stack})}catch(m){setTimeout(function(){throw m})}}function zg(a,r,f){try{var m=a.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function nm(a,r,f){return f=hr(f),f.tag=3,f.payload={element:null},f.callback=function(){wf(a,r)},f}function _c(a){return a=hr(a),a.tag=3,a}function Pa(a,r,f,m){var T=f.type.getDerivedStateFromError;if(typeof T=="function"){var N=m.value;a.payload=function(){return T(N)},a.callback=function(){zg(r,f,m)}}var H=f.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(a.callback=function(){zg(r,f,m),typeof T!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var ie=m.stack;this.componentDidCatch(m.value,{componentStack:ie!==null?ie:""})})}function ss(a,r,f,m,T){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(r=f.alternate,r!==null&&No(r,f,T,!0),f=Bi.current,f!==null){switch(f.tag){case 31:case 13:return Ts===null?Zt():f.alternate===null&&Pn===0&&(Pn=3),f.flags&=-257,f.flags|=65536,f.lanes=T,m===Du?f.flags|=16384:(r=f.updateQueue,r===null?f.updateQueue=new Set([m]):r.add(m),xb(a,m,T)),!1;case 22:return f.flags|=65536,m===Du?f.flags|=16384:(r=f.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=r):(f=r.retryQueue,f===null?r.retryQueue=new Set([m]):f.add(m)),xb(a,m,T)),!1}throw Error(n(435,f.tag))}return xb(a,m,T),Zt(),!1}if(xn)return r=Bi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=T,m!==rf&&(a=Error(n(422),{cause:m}),Cu(Ia(a,f)))):(m!==rf&&(r=Error(n(423),{cause:m}),Cu(Ia(r,f))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,m=Ia(m,f),T=nm(a.stateNode,m,T),ff(a,T),Pn!==4&&(Pn=2)),!1;var N=Error(n(520),{cause:m});if(N=Ia(N,f),Ks===null?Ks=[N]:Ks.push(N),Pn!==4&&(Pn=2),r===null)return!0;m=Ia(m,f),f=r;do{switch(f.tag){case 3:return f.flags|=65536,a=T&-T,f.lanes|=a,a=nm(f.stateNode,m,a),ff(f,a),!1;case 1:if(r=f.type,N=f.stateNode,(f.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(_r===null||!_r.has(N))))return f.flags|=65536,T&=-T,f.lanes|=T,T=_c(T),Pa(T,a,f,m),ff(f,T),!1}f=f.return}while(f!==null);return!1}var Af=Error(n(461)),ii=!1;function fi(a,r,f,m){r.child=a===null?dg(r,null,f,m):bl(r,a.child,f,m)}function Vu(a,r,f,m,T){f=f.render;var N=r.ref;if("ref"in m){var H={};for(var ie in m)ie!=="ref"&&(H[ie]=m[ie])}else H=m;return xl(r),m=Up(a,r,f,H,N,T),ie=Ip(),a!==null&&!ii?(Lp(a,r,T),Ws(a,r,T)):(xn&&ie&&sf(r),r.flags|=1,fi(a,r,m,T),r.child)}function Gu(a,r,f,m,T){if(a===null){var N=f.type;return typeof N=="function"&&!Ea(N)&&N.defaultProps===void 0&&f.compare===null?(r.tag=15,r.type=N,rs(a,r,N,m,T)):(a=Tu(f.type,null,m,r,r.mode,T),a.ref=r.ref,a.return=r,r.child=a)}if(N=a.child,!Po(a,T)){var H=N.memoizedProps;if(f=f.compare,f=f!==null?f:ac,f(H,m)&&a.ref===r.ref)return Ws(a,r,T)}return r.flags|=1,a=lr(N,m),a.ref=r.ref,a.return=r,r.child=a}function rs(a,r,f,m,T){if(a!==null){var N=a.memoizedProps;if(ac(N,m)&&a.ref===r.ref)if(ii=!1,r.pendingProps=m=N,Po(a,T))(a.flags&131072)!==0&&(ii=!0);else return r.lanes=a.lanes,Ws(a,r,T)}return Sc(a,r,f,m,T)}function os(a,r,f,m){var T=m.children,N=a!==null?a.memoizedState:null;if(a===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((r.flags&128)!==0){if(N=N!==null?N.baseLanes|f:f,a!==null){for(m=r.child=a.child,T=0;m!==null;)T=T|m.lanes|m.childLanes,m=m.sibling;m=T&~N}else m=0,r.child=null;return xr(a,r,N,f,m)}if((f&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&mc(r,N!==null?N.cachePool:null),N!==null?Np(r,N):Rp(),fg(r);else return m=r.lanes=536870912,xr(a,r,N!==null?N.baseLanes|f:f,f,m)}else N!==null?(mc(r,N.cachePool),Np(r,N),jr(),r.memoizedState=null):(a!==null&&mc(r,null),Rp(),jr());return fi(a,r,T,f),r.child}function Xs(a,r){return a!==null&&a.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function xr(a,r,f,m,T){var N=fr();return N=N===null?null:{parent:It._currentValue,pool:N},r.memoizedState={baseLanes:f,cachePool:N},a!==null&&mc(r,null),Rp(),fg(r),a!==null&&No(a,r,m,!0),r.childLanes=T,null}function ws(a,r){return r=Ec({mode:r.mode,children:r.children},a.mode),r.ref=a.ref,a.child=r,r.return=a,r}function Wi(a,r,f){return bl(r,a.child,null,f),a=ws(r,r.pendingProps),a.flags|=2,is(r),r.memoizedState=null,a}function Yu(a,r,f){var m=r.pendingProps,T=(r.flags&128)!==0;if(r.flags&=-129,a===null){if(xn){if(m.mode==="hidden")return a=ws(r,m),r.lanes=536870912,Xs(null,a);if(Dp(r),(a=Kn)?(a=c2(a,Xi),a=a!==null&&a.data==="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:cr!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},f=sg(a),f.return=r,r.child=f,Yi=r,Kn=null)):a=null,a===null)throw mn(r);return r.lanes=536870912,null}return ws(r,m)}var N=a.memoizedState;if(N!==null){var H=N.dehydrated;if(Dp(r),T)if(r.flags&256)r.flags&=-257,r=Wi(a,r,f);else if(r.memoizedState!==null)r.child=a.child,r.flags|=128,r=null;else throw Error(n(558));else if(ii||No(a,r,f,!1),T=(f&a.childLanes)!==0,ii||T){if(m=Bn,m!==null&&(H=Ki(m,f),H!==0&&H!==N.retryLane))throw N.retryLane=H,wo(a,H),d(m,a,H),Af;Zt(),r=Wi(a,r,f)}else a=N.treeContext,Kn=Sr(H.nextSibling),Yi=r,xn=!0,zr=null,Xi=!1,a!==null&&Au(r,a),r=ws(r,m),r.flags|=4096;return r}return a=lr(a.child,{mode:m.mode,children:m.children}),a.ref=r.ref,r.child=a,a.return=r,a}function qs(a,r){var f=r.ref;if(f===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(a===null||a.ref!==f)&&(r.flags|=4194816)}}function Sc(a,r,f,m,T){return xl(r),f=Up(a,r,f,m,void 0,T),m=Ip(),a!==null&&!ii?(Lp(a,r,T),Ws(a,r,T)):(xn&&m&&sf(r),r.flags|=1,fi(a,r,f,T),r.child)}function ma(a,r,f,m,T,N){return xl(r),r.updateQueue=null,f=pg(r,m,f,T),hg(a),m=Ip(),a!==null&&!ii?(Lp(a,r,N),Ws(a,r,N)):(xn&&m&&sf(r),r.flags|=1,fi(a,r,f,N),r.child)}function ia(a,r,f,m,T){if(xl(r),r.stateNode===null){var N=Ao,H=f.contextType;typeof H=="object"&&H!==null&&(N=qi(H)),N=new f(m,N),r.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=ju,r.stateNode=N,N._reactInternals=r,N=r.stateNode,N.props=m,N.state=r.memoizedState,N.refs={},wp(r),H=f.contextType,N.context=typeof H=="object"&&H!==null?qi(H):Ao,N.state=r.memoizedState,H=f.getDerivedStateFromProps,typeof H=="function"&&(bc(r,f,H,m),N.state=r.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(H=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),H!==N.state&&ju.enqueueReplaceState(N,N.state,null),_l(r,m,N,T),Iu(),N.state=r.memoizedState),typeof N.componentDidMount=="function"&&(r.flags|=4194308),m=!0}else if(a===null){N=r.stateNode;var ie=r.memoizedProps,be=na(f,ie);N.props=be;var Be=N.context,We=f.contextType;H=Ao,typeof We=="object"&&We!==null&&(H=qi(We));var et=f.getDerivedStateFromProps;We=typeof et=="function"||typeof N.getSnapshotBeforeUpdate=="function",ie=r.pendingProps!==ie,We||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ie||Be!==H)&&Ig(r,N,m,H),Io=!1;var Fe=r.memoizedState;N.state=Fe,_l(r,m,N,T),Iu(),Be=r.memoizedState,ie||Fe!==Be||Io?(typeof et=="function"&&(bc(r,f,et,m),Be=r.memoizedState),(be=Io||Ug(r,f,be,m,Fe,Be,H))?(We||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(r.flags|=4194308)):(typeof N.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=m,r.memoizedState=Be),N.props=m,N.state=Be,N.context=H,m=be):(typeof N.componentDidMount=="function"&&(r.flags|=4194308),m=!1)}else{N=r.stateNode,Ap(a,r),H=r.memoizedProps,We=na(f,H),N.props=We,et=r.pendingProps,Fe=N.context,Be=f.contextType,be=Ao,typeof Be=="object"&&Be!==null&&(be=qi(Be)),ie=f.getDerivedStateFromProps,(Be=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(H!==et||Fe!==be)&&Ig(r,N,m,be),Io=!1,Fe=r.memoizedState,N.state=Fe,_l(r,m,N,T),Iu();var Ge=r.memoizedState;H!==et||Fe!==Ge||Io||a!==null&&a.dependencies!==null&&hc(a.dependencies)?(typeof ie=="function"&&(bc(r,f,ie,m),Ge=r.memoizedState),(We=Io||Ug(r,f,We,m,Fe,Ge,be)||a!==null&&a.dependencies!==null&&hc(a.dependencies))?(Be||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,Ge,be),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,Ge,be)),typeof N.componentDidUpdate=="function"&&(r.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof N.componentDidUpdate!="function"||H===a.memoizedProps&&Fe===a.memoizedState||(r.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&Fe===a.memoizedState||(r.flags|=1024),r.memoizedProps=m,r.memoizedState=Ge),N.props=m,N.state=Ge,N.context=be,m=We):(typeof N.componentDidUpdate!="function"||H===a.memoizedProps&&Fe===a.memoizedState||(r.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||H===a.memoizedProps&&Fe===a.memoizedState||(r.flags|=1024),m=!1)}return N=m,qs(a,r),m=(r.flags&128)!==0,N||m?(N=r.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:N.render(),r.flags|=1,a!==null&&m?(r.child=bl(r,a.child,null,T),r.child=bl(r,null,f,T)):fi(a,r,f,T),r.memoizedState=N.state,a=r.child):a=Ws(a,r,T),a}function Mn(a,r,f,m){return gl(),r.flags|=256,fi(a,r,f,m),r.child}var ls={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function As(a){return{baseLanes:a,cachePool:cf()}}function Xu(a,r,f){return a=a!==null?a.childLanes&~f:0,r&&(a|=Sn),a}function cs(a,r,f){var m=r.pendingProps,T=!1,N=(r.flags&128)!==0,H;if((H=N)||(H=a!==null&&a.memoizedState===null?!1:(ui.current&2)!==0),H&&(T=!0,r.flags&=-129),H=(r.flags&32)!==0,r.flags&=-33,a===null){if(xn){if(T?zo(r):jr(),(a=Kn)?(a=c2(a,Xi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:cr!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},f=sg(a),f.return=r,r.child=f,Yi=r,Kn=null)):a=null,a===null)throw mn(r);return Ub(a)?r.lanes=32:r.lanes=536870912,null}var ie=m.children;return m=m.fallback,T?(jr(),T=r.mode,ie=Ec({mode:"hidden",children:ie},T),m=Ir(m,T,f,null),ie.return=r,m.return=r,ie.sibling=m,r.child=ie,m=r.child,m.memoizedState=As(f),m.childLanes=Xu(a,H,f),r.memoizedState=ls,Xs(null,m)):(zo(r),Bo(r,ie))}var be=a.memoizedState;if(be!==null&&(ie=be.dehydrated,ie!==null)){if(N)r.flags&256?(zo(r),r.flags&=-257,r=Mc(a,r,f)):r.memoizedState!==null?(jr(),r.child=a.child,r.flags|=128,r=null):(jr(),ie=m.fallback,T=r.mode,m=Ec({mode:"visible",children:m.children},T),ie=Ir(ie,T,f,null),ie.flags|=2,m.return=r,ie.return=r,m.sibling=ie,r.child=m,bl(r,a.child,null,f),m=r.child,m.memoizedState=As(f),m.childLanes=Xu(a,H,f),r.memoizedState=ls,r=Xs(null,m));else if(zo(r),Ub(ie)){if(H=ie.nextSibling&&ie.nextSibling.dataset,H)var Be=H.dgst;H=Be,m=Error(n(419)),m.stack="",m.digest=H,Cu({value:m,source:null,stack:null}),r=Mc(a,r,f)}else if(ii||No(a,r,f,!1),H=(f&a.childLanes)!==0,ii||H){if(H=Bn,H!==null&&(m=Ki(H,f),m!==0&&m!==be.retryLane))throw be.retryLane=m,wo(a,m),d(H,a,m),Af;Ob(ie)||Zt(),r=Mc(a,r,f)}else Ob(ie)?(r.flags|=192,r.child=a.child,r=null):(a=be.treeContext,Kn=Sr(ie.nextSibling),Yi=r,xn=!0,zr=null,Xi=!1,a!==null&&Au(r,a),r=Bo(r,m.children),r.flags|=4096);return r}return T?(jr(),ie=m.fallback,T=r.mode,be=a.child,Be=be.sibling,m=lr(be,{mode:"hidden",children:m.children}),m.subtreeFlags=be.subtreeFlags&65011712,Be!==null?ie=lr(Be,ie):(ie=Ir(ie,T,f,null),ie.flags|=2),ie.return=r,m.return=r,m.sibling=ie,r.child=m,Xs(null,m),m=r.child,ie=a.child.memoizedState,ie===null?ie=As(f):(T=ie.cachePool,T!==null?(be=It._currentValue,T=T.parent!==be?{parent:be,pool:be}:T):T=cf(),ie={baseLanes:ie.baseLanes|f,cachePool:T}),m.memoizedState=ie,m.childLanes=Xu(a,H,f),r.memoizedState=ls,Xs(a.child,m)):(zo(r),f=a.child,a=f.sibling,f=lr(f,{mode:"visible",children:m.children}),f.return=r,f.sibling=null,a!==null&&(H=r.deletions,H===null?(r.deletions=[a],r.flags|=16):H.push(a)),r.child=f,r.memoizedState=null,f)}function Bo(a,r){return r=Ec({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function Ec(a,r){return a=Sa(22,a,null,r),a.lanes=0,a}function Mc(a,r,f){return bl(r,a.child,null,f),a=Bo(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function Ml(a,r,f){a.lanes|=r;var m=a.alternate;m!==null&&(m.lanes|=r),kr(a.return,r,f)}function qu(a,r,f,m,T,N){var H=a.memoizedState;H===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:T,treeForkCount:N}:(H.isBackwards=r,H.rendering=null,H.renderingStartTime=0,H.last=m,H.tail=f,H.tailMode=T,H.treeForkCount=N)}function Wu(a,r,f){var m=r.pendingProps,T=m.revealOrder,N=m.tail;m=m.children;var H=ui.current,ie=(H&2)!==0;if(ie?(H=H&1|2,r.flags|=128):H&=1,se(ui,H),fi(a,r,m,f),m=xn?fc:0,!ie&&a!==null&&(a.flags&128)!==0)e:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ml(a,f,r);else if(a.tag===19)Ml(a,f,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(T){case"forwards":for(f=r.child,T=null;f!==null;)a=f.alternate,a!==null&&hf(a)===null&&(T=f),f=f.sibling;f=T,f===null?(T=r.child,r.child=null):(T=f.sibling,f.sibling=null),qu(r,!1,T,f,N,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,T=r.child,r.child=null;T!==null;){if(a=T.alternate,a!==null&&hf(a)===null){r.child=T;break}a=T.sibling,T.sibling=f,f=T,T=a}qu(r,!0,f,null,N,m);break;case"together":qu(r,!1,null,null,void 0,m);break;default:r.memoizedState=null}return r.child}function Ws(a,r,f){if(a!==null&&(r.dependencies=a.dependencies),fs|=r.lanes,(f&r.childLanes)===0)if(a!==null){if(No(a,r,f,!1),(f&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(n(153));if(r.child!==null){for(a=r.child,f=lr(a,a.pendingProps),r.child=f,f.return=r;a.sibling!==null;)a=a.sibling,f=f.sibling=lr(a,a.pendingProps),f.return=r;f.sibling=null}return r.child}function Po(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&hc(a)))}function Zu(a,r,f){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),Pr(r,It,a.memoizedState.cache),gl();break;case 27:case 5:qe(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Dp(r),null;break;case 13:var m=r.memoizedState;if(m!==null)return m.dehydrated!==null?(zo(r),r.flags|=128,null):(f&r.child.childLanes)!==0?cs(a,r,f):(zo(r),a=Ws(a,r,f),a!==null?a.sibling:null);zo(r);break;case 19:var T=(a.flags&128)!==0;if(m=(f&r.childLanes)!==0,m||(No(a,r,f,!1),m=(f&r.childLanes)!==0),T){if(m)return Wu(a,r,f);r.flags|=128}if(T=r.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),se(ui,ui.current),m)break;return null;case 22:return r.lanes=0,os(a,r,f,r.pendingProps);case 24:Pr(r,It,a.memoizedState.cache)}return Ws(a,r,f)}function Cf(a,r,f){if(a!==null)if(a.memoizedProps!==r.pendingProps)ii=!0;else{if(!Po(a,f)&&(r.flags&128)===0)return ii=!1,Zu(a,r,f);ii=(a.flags&131072)!==0}else ii=!1,xn&&(r.flags&1048576)!==0&&mp(r,fc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var m=r.pendingProps;if(a=yl(r.elementType),r.type=a,typeof a=="function")Ea(a)?(m=na(a,m),r.tag=1,r=ia(null,r,a,m,f)):(r.tag=0,r=Sc(null,r,a,m,f));else{if(a!=null){var T=a.$$typeof;if(T===O){r.tag=11,r=Vu(null,r,a,m,f);break e}else if(T===F){r.tag=14,r=Gu(null,r,a,m,f);break e}}throw r=L(a)||a,Error(n(306,r,""))}}return r;case 0:return Sc(a,r,r.type,r.pendingProps,f);case 1:return m=r.type,T=na(m,r.pendingProps),ia(a,r,m,T,f);case 3:e:{if(Le(r,r.stateNode.containerInfo),a===null)throw Error(n(387));m=r.pendingProps;var N=r.memoizedState;T=N.element,Ap(a,r),_l(r,m,null,f);var H=r.memoizedState;if(m=H.cache,Pr(r,It,m),m!==N.cache&&lf(r,[It],f,!0),Iu(),m=H.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:H.cache},r.updateQueue.baseState=N,r.memoizedState=N,r.flags&256){r=Mn(a,r,m,f);break e}else if(m!==T){T=Ia(Error(n(424)),r),Cu(T),r=Mn(a,r,m,f);break e}else{switch(a=r.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Kn=Sr(a.firstChild),Yi=r,xn=!0,zr=null,Xi=!0,f=dg(r,null,m,f),r.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(gl(),m===T){r=Ws(a,r,f);break e}fi(a,r,m,f)}r=r.child}return r;case 26:return qs(a,r),a===null?(f=m2(r.type,null,r.pendingProps,null))?r.memoizedState=f:xn||(f=r.type,a=r.pendingProps,m=Gg(ge.current).createElement(f),m[sn]=r,m[xi]=a,Ca(m,f,a),Ue(m),r.stateNode=m):r.memoizedState=m2(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return qe(r),a===null&&xn&&(m=r.stateNode=f2(r.type,r.pendingProps,ge.current),Yi=r,Xi=!0,T=Kn,Dc(r.type)?(Ib=T,Kn=Sr(m.firstChild)):Kn=T),fi(a,r,r.pendingProps.children,f),qs(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&xn&&((T=m=Kn)&&(m=bN(m,r.type,r.pendingProps,Xi),m!==null?(r.stateNode=m,Yi=r,Kn=Sr(m.firstChild),Xi=!1,T=!0):T=!1),T||mn(r)),qe(r),T=r.type,N=r.pendingProps,H=a!==null?a.memoizedProps:null,m=N.children,Nb(T,N)?m=null:H!==null&&Nb(T,H)&&(r.flags|=32),r.memoizedState!==null&&(T=Up(a,r,db,null,null,f),fm._currentValue=T),qs(a,r),fi(a,r,m,f),r.child;case 6:return a===null&&xn&&((a=f=Kn)&&(f=_N(f,r.pendingProps,Xi),f!==null?(r.stateNode=f,Yi=r,Kn=null,a=!0):a=!1),a||mn(r)),null;case 13:return cs(a,r,f);case 4:return Le(r,r.stateNode.containerInfo),m=r.pendingProps,a===null?r.child=bl(r,null,m,f):fi(a,r,m,f),r.child;case 11:return Vu(a,r,r.type,r.pendingProps,f);case 7:return fi(a,r,r.pendingProps,f),r.child;case 8:return fi(a,r,r.pendingProps.children,f),r.child;case 12:return fi(a,r,r.pendingProps.children,f),r.child;case 10:return m=r.pendingProps,Pr(r,r.type,m.value),fi(a,r,m.children,f),r.child;case 9:return T=r.type._context,m=r.pendingProps.children,xl(r),T=qi(T),m=m(T),r.flags|=1,fi(a,r,m,f),r.child;case 14:return Gu(a,r,r.type,r.pendingProps,f);case 15:return rs(a,r,r.type,r.pendingProps,f);case 19:return Wu(a,r,f);case 31:return Yu(a,r,f);case 22:return os(a,r,f,r.pendingProps);case 24:return xl(r),m=qi(It),a===null?(T=fr(),T===null&&(T=Bn,N=bp(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=f),T=N),r.memoizedState={parent:m,cache:T},wp(r),Pr(r,It,T)):((a.lanes&f)!==0&&(Ap(a,r),_l(r,null,null,f),Iu()),T=a.memoizedState,N=r.memoizedState,T.parent!==m?(T={parent:m,cache:m},r.memoizedState=T,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=T),Pr(r,It,m)):(m=N.cache,Pr(r,It,m),m!==T.cache&&lf(r,[It],f,!0))),fi(a,r,r.pendingProps.children,f),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function ka(a){a.flags|=4}function ko(a,r,f,m,T){if((r=(a.mode&32)!==0)&&(r=!1),r){if(a.flags|=16777216,(T&335544128)===T)if(a.stateNode.complete)a.flags|=8192;else if(lt())a.flags|=8192;else throw jt=Du,Ru}else a.flags&=-16777217}function Yr(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!b2(r))if(lt())a.flags|=8192;else throw jt=Du,Ru}function Tc(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?kt():536870912,a.lanes|=r,hs|=r)}function Ku(a,r){if(!xn)switch(a.tailMode){case"hidden":r=a.tail;for(var f=null;r!==null;)r.alternate!==null&&(f=r),r=r.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Hn(a){var r=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(r)for(var T=a.child;T!==null;)f|=T.lanes|T.childLanes,m|=T.subtreeFlags&65011712,m|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)f|=T.lanes|T.childLanes,m|=T.subtreeFlags,m|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=m,a.childLanes=f,r}function im(a,r,f){var m=r.pendingProps;switch(Co(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(r),null;case 1:return Hn(r),null;case 3:return f=r.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),r.memoizedState.cache!==m&&(r.flags|=2048),Ms(It),Ye(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(ml(r)?ka(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gp())),Hn(r),null;case 26:var T=r.type,N=r.memoizedState;return a===null?(ka(r),N!==null?(Hn(r),Yr(r,N)):(Hn(r),ko(r,T,null,m,f))):N?N!==a.memoizedState?(ka(r),Hn(r),Yr(r,N)):(Hn(r),r.flags&=-16777217):(a=a.memoizedProps,a!==m&&ka(r),Hn(r),ko(r,T,a,m,f)),null;case 27:if(ut(r),f=ge.current,T=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==m&&ka(r);else{if(!m){if(r.stateNode===null)throw Error(n(166));return Hn(r),null}a=de.current,ml(r)?of(r):(a=f2(T,m,f),r.stateNode=a,ka(r))}return Hn(r),null;case 5:if(ut(r),T=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==m&&ka(r);else{if(!m){if(r.stateNode===null)throw Error(n(166));return Hn(r),null}if(N=de.current,ml(r))of(r);else{var H=Gg(ge.current);switch(N){case 1:N=H.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=H.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=H.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=H.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=H.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof m.is=="string"?H.createElement("select",{is:m.is}):H.createElement("select"),m.multiple?N.multiple=!0:m.size&&(N.size=m.size);break;default:N=typeof m.is=="string"?H.createElement(T,{is:m.is}):H.createElement(T)}}N[sn]=r,N[xi]=m;e:for(H=r.child;H!==null;){if(H.tag===5||H.tag===6)N.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===r)break e;for(;H.sibling===null;){if(H.return===null||H.return===r)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}r.stateNode=N;e:switch(Ca(N,T,m),T){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ka(r)}}return Hn(r),ko(r,r.type,a===null?null:a.memoizedProps,r.pendingProps,f),null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==m&&ka(r);else{if(typeof m!="string"&&r.stateNode===null)throw Error(n(166));if(a=ge.current,ml(r)){if(a=r.stateNode,f=r.memoizedProps,m=null,T=Yi,T!==null)switch(T.tag){case 27:case 5:m=T.memoizedProps}a[sn]=r,a=!!(a.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||t2(a.nodeValue,f)),a||mn(r,!0)}else a=Gg(a).createTextNode(m),a[sn]=r,r.stateNode=a}return Hn(r),null;case 31:if(f=r.memoizedState,a===null||a.memoizedState!==null){if(m=ml(r),f!==null){if(a===null){if(!m)throw Error(n(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[sn]=r}else gl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Hn(r),a=!1}else f=gp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return r.flags&256?(is(r),r):(is(r),null);if((r.flags&128)!==0)throw Error(n(558))}return Hn(r),null;case 13:if(m=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=ml(r),m!==null&&m.dehydrated!==null){if(a===null){if(!T)throw Error(n(318));if(T=r.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[sn]=r}else gl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Hn(r),T=!1}else T=gp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return r.flags&256?(is(r),r):(is(r),null)}return is(r),(r.flags&128)!==0?(r.lanes=f,r):(f=m!==null,a=a!==null&&a.memoizedState!==null,f&&(m=r.child,T=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(T=m.alternate.memoizedState.cachePool.pool),N=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==T&&(m.flags|=2048)),f!==a&&f&&(r.child.flags|=8192),Tc(r,r.updateQueue),Hn(r),null);case 4:return Ye(),a===null&&Mb(r.stateNode.containerInfo),Hn(r),null;case 10:return Ms(r.type),Hn(r),null;case 19:if($(ui),m=r.memoizedState,m===null)return Hn(r),null;if(T=(r.flags&128)!==0,N=m.rendering,N===null)if(T)Ku(m,!1);else{if(Pn!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(N=hf(a),N!==null){for(r.flags|=128,Ku(m,!1),a=N.updateQueue,r.updateQueue=a,Tc(r,a),r.subtreeFlags=0,a=f,f=r.child;f!==null;)fa(f,a),f=f.sibling;return se(ui,ui.current&1|2),xn&&Lr(r,m.treeForkCount),r.child}a=a.sibling}m.tail!==null&&V()>ps&&(r.flags|=128,T=!0,Ku(m,!1),r.lanes=4194304)}else{if(!T)if(a=hf(N),a!==null){if(r.flags|=128,T=!0,a=a.updateQueue,r.updateQueue=a,Tc(r,a),Ku(m,!0),m.tail===null&&m.tailMode==="hidden"&&!N.alternate&&!xn)return Hn(r),null}else 2*V()-m.renderingStartTime>ps&&f!==536870912&&(r.flags|=128,T=!0,Ku(m,!1),r.lanes=4194304);m.isBackwards?(N.sibling=r.child,r.child=N):(a=m.last,a!==null?a.sibling=N:r.child=N,m.last=N)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=V(),a.sibling=null,f=ui.current,se(ui,T?f&1|2:f&1),xn&&Lr(r,m.treeForkCount),a):(Hn(r),null);case 22:case 23:return is(r),pa(),m=r.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(r.flags|=8192):m&&(r.flags|=8192),m?(f&536870912)!==0&&(r.flags&128)===0&&(Hn(r),r.subtreeFlags&6&&(r.flags|=8192)):Hn(r),f=r.updateQueue,f!==null&&Tc(r,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),m=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==f&&(r.flags|=2048),a!==null&&$(Ro),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),Ms(It),Hn(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function Nf(a,r){switch(Co(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return Ms(It),Ye(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return ut(r),null;case 31:if(r.memoizedState!==null){if(is(r),r.alternate===null)throw Error(n(340));gl()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 13:if(is(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(n(340));gl()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return $(ui),null;case 4:return Ye(),null;case 10:return Ms(r.type),null;case 22:case 23:return is(r),pa(),a!==null&&$(Ro),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return Ms(It),null;case 25:return null;default:return null}}function Tl(a,r){switch(Co(r),r.tag){case 3:Ms(It),Ye();break;case 26:case 27:case 5:ut(r);break;case 4:Ye();break;case 31:r.memoizedState!==null&&is(r);break;case 13:is(r);break;case 19:$(ui);break;case 10:Ms(r.type);break;case 22:case 23:is(r),pa(),a!==null&&$(Ro);break;case 24:Ms(It)}}function vr(a,r){try{var f=r.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var T=m.next;f=T;do{if((f.tag&a)===a){m=void 0;var N=f.create,H=f.inst;m=N(),H.destroy=m}f=f.next}while(f!==T)}}catch(ie){qn(r,r.return,ie)}}function Cs(a,r,f){try{var m=r.updateQueue,T=m!==null?m.lastEffect:null;if(T!==null){var N=T.next;m=N;do{if((m.tag&a)===a){var H=m.inst,ie=H.destroy;if(ie!==void 0){H.destroy=void 0,T=r;var be=f,Be=ie;try{Be()}catch(We){qn(T,be,We)}}}m=m.next}while(m!==N)}}catch(We){qn(r,r.return,We)}}function Fo(a){var r=a.updateQueue;if(r!==null){var f=a.stateNode;try{ea(r,f)}catch(m){qn(a,a.return,m)}}}function am(a,r,f){f.props=na(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(m){qn(a,r,m)}}function yr(a,r){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof f=="function"?a.refCleanup=f(m):f.current=m}}catch(T){qn(a,r,T)}}function us(a,r){var f=a.ref,m=a.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(T){qn(a,r,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(T){qn(a,r,T)}else f.current=null}function ds(a){var r=a.type,f=a.memoizedProps,m=a.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(T){qn(a,a.return,T)}}function Ns(a,r,f){try{var m=a.stateNode;pN(m,a.type,f,r),m[xi]=r}catch(T){qn(a,a.return,T)}}function Ni(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Dc(a.type)||a.tag===4}function br(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ni(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Dc(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function en(a,r,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,r?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,r):(r=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,r.appendChild(a),f=f._reactRootContainer,f!=null||r.onclick!==null||(r.onclick=sr));else if(m!==4&&(m===27&&Dc(a.type)&&(f=a.stateNode,r=null),a=a.child,a!==null))for(en(a,r,f),a=a.sibling;a!==null;)en(a,r,f),a=a.sibling}function Dn(a,r,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,r?f.insertBefore(a,r):f.appendChild(a);else if(m!==4&&(m===27&&Dc(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(Dn(a,r,f),a=a.sibling;a!==null;)Dn(a,r,f),a=a.sibling}function bi(a){var r=a.stateNode,f=a.memoizedProps;try{for(var m=a.type,T=r.attributes;T.length;)r.removeAttributeNode(T[0]);Ca(r,m,f),r[sn]=a,r[xi]=f}catch(N){qn(a,a.return,N)}}var Rs=!1,ai=!1,Xr=!1,Ju=typeof WeakSet=="function"?WeakSet:Set,hi=null;function wc(a,r){if(a=a.containerInfo,Ab=Jg,a=Kd(a),sc(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var T=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var H=0,ie=-1,be=-1,Be=0,We=0,et=a,Fe=null;t:for(;;){for(var Ge;et!==f||T!==0&&et.nodeType!==3||(ie=H+T),et!==N||m!==0&&et.nodeType!==3||(be=H+m),et.nodeType===3&&(H+=et.nodeValue.length),(Ge=et.firstChild)!==null;)Fe=et,et=Ge;for(;;){if(et===a)break t;if(Fe===f&&++Be===T&&(ie=H),Fe===N&&++We===m&&(be=H),(Ge=et.nextSibling)!==null)break;et=Fe,Fe=et.parentNode}et=Ge}f=ie===-1||be===-1?null:{start:ie,end:be}}else f=null}f=f||{start:0,end:0}}else f=null;for(Cb={focusedElem:a,selectionRange:f},Jg=!1,hi=r;hi!==null;)if(r=hi,a=r.child,(r.subtreeFlags&1028)!==0&&a!==null)a.return=r,hi=a;else for(;hi!==null;){switch(r=hi,N=r.alternate,a=r.flags,r.tag){case 0:if((a&4)!==0&&(a=r.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)T=a[f],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&N!==null){a=void 0,f=r,T=N.memoizedProps,N=N.memoizedState,m=f.stateNode;try{var At=na(f.type,T);a=m.getSnapshotBeforeUpdate(At,N),m.__reactInternalSnapshotBeforeUpdate=a}catch(Gt){qn(f,f.return,Gt)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,f=a.nodeType,f===9)Db(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Db(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=r.sibling,a!==null){a.return=r.return,hi=a;break}hi=r.return}}function Bg(a,r,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:qr(a,f),m&4&&vr(5,f);break;case 1:if(qr(a,f),m&4)if(a=f.stateNode,r===null)try{a.componentDidMount()}catch(H){qn(f,f.return,H)}else{var T=na(f.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(T,r,a.__reactInternalSnapshotBeforeUpdate)}catch(H){qn(f,f.return,H)}}m&64&&Fo(f),m&512&&yr(f,f.return);break;case 3:if(qr(a,f),m&64&&(a=f.updateQueue,a!==null)){if(r=null,f.child!==null)switch(f.child.tag){case 27:case 5:r=f.child.stateNode;break;case 1:r=f.child.stateNode}try{ea(a,r)}catch(H){qn(f,f.return,H)}}break;case 27:r===null&&m&4&&bi(f);case 26:case 5:qr(a,f),r===null&&m&4&&ds(f),m&512&&yr(f,f.return);break;case 12:qr(a,f);break;case 31:qr(a,f),m&4&&Df(a,f);break;case 13:qr(a,f),m&4&&sm(a,f),m&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=nN.bind(null,f),SN(a,f))));break;case 22:if(m=f.memoizedState!==null||Rs,!m){r=r!==null&&r.memoizedState!==null||ai,T=Rs;var N=ai;Rs=m,(ai=r)&&!N?zn(a,f,(f.subtreeFlags&8772)!==0):qr(a,f),Rs=T,ai=N}break;case 30:break;default:qr(a,f)}}function Rf(a){var r=a.alternate;r!==null&&(a.alternate=null,Rf(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&sl(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Tn=null,Ri=!1;function ga(a,r,f){for(f=f.child;f!==null;)Ho(a,r,f),f=f.sibling}function Ho(a,r,f){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ve,f)}catch{}switch(f.tag){case 26:ai||us(f,r),ga(a,r,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:ai||us(f,r);var m=Tn,T=Ri;Dc(f.type)&&(Tn=f.stateNode,Ri=!1),ga(a,r,f),cm(f.stateNode),Tn=m,Ri=T;break;case 5:ai||us(f,r);case 6:if(m=Tn,T=Ri,Tn=null,ga(a,r,f),Tn=m,Ri=T,Tn!==null)if(Ri)try{(Tn.nodeType===9?Tn.body:Tn.nodeName==="HTML"?Tn.ownerDocument.body:Tn).removeChild(f.stateNode)}catch(N){qn(f,r,N)}else try{Tn.removeChild(f.stateNode)}catch(N){qn(f,r,N)}break;case 18:Tn!==null&&(Ri?(a=Tn,o2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),jf(a)):o2(Tn,f.stateNode));break;case 4:m=Tn,T=Ri,Tn=f.stateNode.containerInfo,Ri=!0,ga(a,r,f),Tn=m,Ri=T;break;case 0:case 11:case 14:case 15:Cs(2,f,r),ai||Cs(4,f,r),ga(a,r,f);break;case 1:ai||(us(f,r),m=f.stateNode,typeof m.componentWillUnmount=="function"&&am(f,r,m)),ga(a,r,f);break;case 21:ga(a,r,f);break;case 22:ai=(m=ai)||f.memoizedState!==null,ga(a,r,f),ai=m;break;default:ga(a,r,f)}}function Df(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{jf(a)}catch(f){qn(r,r.return,f)}}}function sm(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{jf(a)}catch(f){qn(r,r.return,f)}}function Pg(a){switch(a.tag){case 31:case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new Ju),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new Ju),r;default:throw Error(n(435,a.tag))}}function _i(a,r){var f=Pg(a);r.forEach(function(m){if(!f.has(m)){f.add(m);var T=iN.bind(null,a,m);m.then(T,T)}})}function xa(a,r){var f=r.deletions;if(f!==null)for(var m=0;m<f.length;m++){var T=f[m],N=a,H=r,ie=H;e:for(;ie!==null;){switch(ie.tag){case 27:if(Dc(ie.type)){Tn=ie.stateNode,Ri=!1;break e}break;case 5:Tn=ie.stateNode,Ri=!1;break e;case 3:case 4:Tn=ie.stateNode.containerInfo,Ri=!0;break e}ie=ie.return}if(Tn===null)throw Error(n(160));Ho(N,H,T),Tn=null,Ri=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)jo(r,a),r=r.sibling}var Fa=null;function jo(a,r){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:xa(r,a),pi(a),m&4&&(Cs(3,a,a.return),vr(3,a),Cs(5,a,a.return));break;case 1:xa(r,a),pi(a),m&512&&(ai||f===null||us(f,f.return)),m&64&&Rs&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var T=Fa;if(xa(r,a),pi(a),m&512&&(ai||f===null||us(f,f.return)),m&4){var N=f!==null?f.memoizedState:null;if(m=a.memoizedState,f===null)if(m===null)if(a.stateNode===null){e:{m=a.type,f=a.memoizedProps,T=T.ownerDocument||T;t:switch(m){case"title":N=T.getElementsByTagName("title")[0],(!N||N[Nr]||N[sn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(m),T.head.insertBefore(N,T.querySelector("head > title"))),Ca(N,m,f),N[sn]=a,Ue(N),m=N;break e;case"link":var H=v2("link","href",T).get(m+(f.href||""));if(H){for(var ie=0;ie<H.length;ie++)if(N=H[ie],N.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&N.getAttribute("rel")===(f.rel==null?null:f.rel)&&N.getAttribute("title")===(f.title==null?null:f.title)&&N.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){H.splice(ie,1);break t}}N=T.createElement(m),Ca(N,m,f),T.head.appendChild(N);break;case"meta":if(H=v2("meta","content",T).get(m+(f.content||""))){for(ie=0;ie<H.length;ie++)if(N=H[ie],N.getAttribute("content")===(f.content==null?null:""+f.content)&&N.getAttribute("name")===(f.name==null?null:f.name)&&N.getAttribute("property")===(f.property==null?null:f.property)&&N.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&N.getAttribute("charset")===(f.charSet==null?null:f.charSet)){H.splice(ie,1);break t}}N=T.createElement(m),Ca(N,m,f),T.head.appendChild(N);break;default:throw Error(n(468,m))}N[sn]=a,Ue(N),m=N}a.stateNode=m}else y2(T,a.type,a.stateNode);else a.stateNode=x2(T,m,a.memoizedProps);else N!==m?(N===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):N.count--,m===null?y2(T,a.type,a.stateNode):x2(T,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Ns(a,a.memoizedProps,f.memoizedProps)}break;case 27:xa(r,a),pi(a),m&512&&(ai||f===null||us(f,f.return)),f!==null&&m&4&&Ns(a,a.memoizedProps,f.memoizedProps);break;case 5:if(xa(r,a),pi(a),m&512&&(ai||f===null||us(f,f.return)),a.flags&32){T=a.stateNode;try{Fs(T,"")}catch(At){qn(a,a.return,At)}}m&4&&a.stateNode!=null&&(T=a.memoizedProps,Ns(a,T,f!==null?f.memoizedProps:T)),m&1024&&(Xr=!0);break;case 6:if(xa(r,a),pi(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,f=a.stateNode;try{f.nodeValue=m}catch(At){qn(a,a.return,At)}}break;case 3:if(qg=null,T=Fa,Fa=Yg(r.containerInfo),xa(r,a),Fa=T,pi(a),m&4&&f!==null&&f.memoizedState.isDehydrated)try{jf(r.containerInfo)}catch(At){qn(a,a.return,At)}Xr&&(Xr=!1,kg(a));break;case 4:m=Fa,Fa=Yg(a.stateNode.containerInfo),xa(r,a),pi(a),Fa=m;break;case 12:xa(r,a),pi(a);break;case 31:xa(r,a),pi(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,_i(a,m)));break;case 13:xa(r,a),pi(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Kr=V()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,_i(a,m)));break;case 22:T=a.memoizedState!==null;var be=f!==null&&f.memoizedState!==null,Be=Rs,We=ai;if(Rs=Be||T,ai=We||be,xa(r,a),ai=We,Rs=Be,pi(a),m&8192)e:for(r=a.stateNode,r._visibility=T?r._visibility&-2:r._visibility|1,T&&(f===null||be||Rs||ai||wl(a)),f=null,r=a;;){if(r.tag===5||r.tag===26){if(f===null){be=f=r;try{if(N=be.stateNode,T)H=N.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{ie=be.stateNode;var et=be.memoizedProps.style,Fe=et!=null&&et.hasOwnProperty("display")?et.display:null;ie.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(At){qn(be,be.return,At)}}}else if(r.tag===6){if(f===null){be=r;try{be.stateNode.nodeValue=T?"":be.memoizedProps}catch(At){qn(be,be.return,At)}}}else if(r.tag===18){if(f===null){be=r;try{var Ge=be.stateNode;T?l2(Ge,!0):l2(be.stateNode,!1)}catch(At){qn(be,be.return,At)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;f===r&&(f=null),r=r.return}f===r&&(f=null),r.sibling.return=r.return,r=r.sibling}m&4&&(m=a.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,_i(a,f))));break;case 19:xa(r,a),pi(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,_i(a,m)));break;case 30:break;case 21:break;default:xa(r,a),pi(a)}}function pi(a){var r=a.flags;if(r&2){try{for(var f,m=a.return;m!==null;){if(Ni(m)){f=m;break}m=m.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var T=f.stateNode,N=br(a);Dn(a,N,T);break;case 5:var H=f.stateNode;f.flags&32&&(Fs(H,""),f.flags&=-33);var ie=br(a);Dn(a,ie,H);break;case 3:case 4:var be=f.stateNode.containerInfo,Be=br(a);en(a,Be,be);break;default:throw Error(n(161))}}catch(We){qn(a,a.return,We)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function kg(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;kg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function qr(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Bg(a,r.alternate,r),r=r.sibling}function wl(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:Cs(4,r,r.return),wl(r);break;case 1:us(r,r.return);var f=r.stateNode;typeof f.componentWillUnmount=="function"&&am(r,r.return,f),wl(r);break;case 27:cm(r.stateNode);case 26:case 5:us(r,r.return),wl(r);break;case 22:r.memoizedState===null&&wl(r);break;case 30:wl(r);break;default:wl(r)}a=a.sibling}}function zn(a,r,f){for(f=f&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var m=r.alternate,T=a,N=r,H=N.flags;switch(N.tag){case 0:case 11:case 15:zn(T,N,f),vr(4,N);break;case 1:if(zn(T,N,f),m=N,T=m.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Be){qn(m,m.return,Be)}if(m=N,T=m.updateQueue,T!==null){var ie=m.stateNode;try{var be=T.shared.hiddenCallbacks;if(be!==null)for(T.shared.hiddenCallbacks=null,T=0;T<be.length;T++)pr(be[T],ie)}catch(Be){qn(m,m.return,Be)}}f&&H&64&&Fo(N),yr(N,N.return);break;case 27:bi(N);case 26:case 5:zn(T,N,f),f&&m===null&&H&4&&ds(N),yr(N,N.return);break;case 12:zn(T,N,f);break;case 31:zn(T,N,f),f&&H&4&&Df(T,N);break;case 13:zn(T,N,f),f&&H&4&&sm(T,N);break;case 22:N.memoizedState===null&&zn(T,N,f),yr(N,N.return);break;case 30:break;default:zn(T,N,f)}r=r.sibling}}function Of(a,r){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&$i(f))}function Wr(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&$i(a))}function Pi(a,r,f,m){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)oi(a,r,f,m),r=r.sibling}function oi(a,r,f,m){var T=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(a,r,f,m),T&2048&&vr(9,r);break;case 1:Pi(a,r,f,m);break;case 3:Pi(a,r,f,m),T&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&$i(a)));break;case 12:if(T&2048){Pi(a,r,f,m),a=r.stateNode;try{var N=r.memoizedProps,H=N.id,ie=N.onPostCommit;typeof ie=="function"&&ie(H,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(be){qn(r,r.return,be)}}else Pi(a,r,f,m);break;case 31:Pi(a,r,f,m);break;case 13:Pi(a,r,f,m);break;case 23:break;case 22:N=r.stateNode,H=r.alternate,r.memoizedState!==null?N._visibility&2?Pi(a,r,f,m):Ac(a,r):N._visibility&2?Pi(a,r,f,m):(N._visibility|=2,Vo(a,r,f,m,(r.subtreeFlags&10256)!==0||!1)),T&2048&&Of(H,r);break;case 24:Pi(a,r,f,m),T&2048&&Wr(r.alternate,r);break;default:Pi(a,r,f,m)}}function Vo(a,r,f,m,T){for(T=T&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var N=a,H=r,ie=f,be=m,Be=H.flags;switch(H.tag){case 0:case 11:case 15:Vo(N,H,ie,be,T),vr(8,H);break;case 23:break;case 22:var We=H.stateNode;H.memoizedState!==null?We._visibility&2?Vo(N,H,ie,be,T):Ac(N,H):(We._visibility|=2,Vo(N,H,ie,be,T)),T&&Be&2048&&Of(H.alternate,H);break;case 24:Vo(N,H,ie,be,T),T&&Be&2048&&Wr(H.alternate,H);break;default:Vo(N,H,ie,be,T)}r=r.sibling}}function Ac(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var f=a,m=r,T=m.flags;switch(m.tag){case 22:Ac(f,m),T&2048&&Of(m.alternate,m);break;case 24:Ac(f,m),T&2048&&Wr(m.alternate,m);break;default:Ac(f,m)}r=r.sibling}}var mi=8192;function Al(a,r,f){if(a.subtreeFlags&mi)for(a=a.child;a!==null;)Si(a,r,f),a=a.sibling}function Si(a,r,f){switch(a.tag){case 26:Al(a,r,f),a.flags&mi&&a.memoizedState!==null&&IN(f,Fa,a.memoizedState,a.memoizedProps);break;case 5:Al(a,r,f);break;case 3:case 4:var m=Fa;Fa=Yg(a.stateNode.containerInfo),Al(a,r,f),Fa=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=mi,mi=16777216,Al(a,r,f),mi=m):Al(a,r,f));break;default:Al(a,r,f)}}function Ha(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function wa(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var f=0;f<r.length;f++){var m=r[f];hi=m,Qu(m,a)}Ha(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cl(a),a=a.sibling}function Cl(a){switch(a.tag){case 0:case 11:case 15:wa(a),a.flags&2048&&Cs(9,a,a.return);break;case 3:wa(a);break;case 12:wa(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,Uf(a)):wa(a);break;default:wa(a)}}function Uf(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var f=0;f<r.length;f++){var m=r[f];hi=m,Qu(m,a)}Ha(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:Cs(8,r,r.return),Uf(r);break;case 22:f=r.stateNode,f._visibility&2&&(f._visibility&=-3,Uf(r));break;default:Uf(r)}a=a.sibling}}function Qu(a,r){for(;hi!==null;){var f=hi;switch(f.tag){case 0:case 11:case 15:Cs(8,f,r);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:$i(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,hi=m;else e:for(f=a;hi!==null;){m=hi;var T=m.sibling,N=m.return;if(Rf(m),m===f){hi=null;break e}if(T!==null){T.return=N,hi=T;break e}hi=N}}}var If={getCacheForType:function(a){var r=qi(It),f=r.data.get(a);return f===void 0&&(f=a(),r.data.set(a,f)),f},cacheSignal:function(){return qi(It).controller.signal}},Lf=typeof WeakMap=="function"?WeakMap:Map,_n=0,Bn=null,tn=null,gn=0,Lt=0,un=null,Jt=!1,on=!1,Gn=!1,Ei=0,Pn=0,fs=0,Zr=0,Zs=0,Sn=0,hs=0,Ks=null,va=null,ja=!1,Kr=0,Cc=0,ps=1/0,Nc=null,_r=null,li=0,Js=null,ms=null,Ds=0,Jr=0,Nl=null,zf=null,Rl=0,Dl=null;function Aa(){return(_n&2)!==0&&gn!==0?gn&-gn:q.T!==null?bb():gi()}function l(){if(Sn===0)if((gn&536870912)===0||xn){var a=at;at<<=1,(at&3932160)===0&&(at=262144),Sn=a}else Sn=536870912;return a=Bi.current,a!==null&&(a.flags|=32),Sn}function d(a,r,f){(a===Bn&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)&&(Oe(a,0),z(a,gn,Sn,!1)),In(a,f),((_n&2)===0||a!==Bn)&&(a===Bn&&((_n&2)===0&&(Zr|=f),Pn===4&&z(a,gn,Sn,!1)),Go(a))}function g(a,r,f){if((_n&6)!==0)throw Error(n(327));var m=!f&&(r&127)===0&&(r&a.expiredLanes)===0||ct(a,r),T=m?Ol(a,r):Va(a,r,!0),N=m;do{if(T===0){on&&!m&&z(a,r,0,!1);break}else{if(f=a.current.alternate,N&&!D(f)){T=Va(a,r,!1),N=!1;continue}if(T===2){if(N=r,a.errorRecoveryDisabledLanes&N)var H=0;else H=a.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){r=H;e:{var ie=a;T=Ks;var be=ie.current.memoizedState.isDehydrated;if(be&&(Oe(ie,H).flags|=256),H=Va(ie,H,!1),H!==2){if(Gn&&!be){ie.errorRecoveryDisabledLanes|=N,Zr|=N,T=4;break e}N=va,va=T,N!==null&&(va===null?va=N:va.push.apply(va,N))}T=H}if(N=!1,T!==2)continue}}if(T===1){Oe(a,0),z(a,r,0,!0);break}e:{switch(m=a,N=T,N){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:z(m,r,Sn,!Jt);break e;case 2:va=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(T=Kr+300-V(),10<T)){if(z(m,r,Sn,!Jt),Xe(m,0,!0)!==0)break e;Ds=r,m.timeoutHandle=s2(w.bind(null,m,f,va,Nc,ja,r,Sn,Zr,hs,Jt,N,"Throttled",-0,0),T);break e}w(m,f,va,Nc,ja,r,Sn,Zr,hs,Jt,N,null,-0,0)}}break}while(!0);Go(a)}function w(a,r,f,m,T,N,H,ie,be,Be,We,et,Fe,Ge){if(a.timeoutHandle=-1,et=r.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},Si(r,N,et);var At=(N&62914560)===N?Kr-V():(N&4194048)===N?Cc-V():0;if(At=LN(et,At),At!==null){Ds=N,a.cancelPendingCommit=At(Xt.bind(null,a,r,N,f,m,T,H,ie,be,We,et,null,Fe,Ge)),z(a,N,H,!Be);return}}Xt(a,r,N,f,m,T,H,ie,be)}function D(a){for(var r=a;;){var f=r.tag;if((f===0||f===11||f===15)&&r.flags&16384&&(f=r.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var T=f[m],N=T.getSnapshot;T=T.value;try{if(!ni(N(),T))return!1}catch{return!1}}if(f=r.child,r.subtreeFlags&16384&&f!==null)f.return=r,r=f;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function z(a,r,f,m){r&=~Zs,r&=~Zr,a.suspendedLanes|=r,a.pingedLanes&=~r,m&&(a.warmLanes|=r),m=a.expirationTimes;for(var T=r;0<T;){var N=31-pe(T),H=1<<N;m[N]=-1,T&=~H}f!==0&&Da(a,f,r)}function ae(){return(_n&6)===0?(rm(0),!1):!0}function ye(){if(tn!==null){if(Lt===0)var a=tn.return;else a=tn,ha=Br=null,zp(a),Oo=null,Uo=0,a=tn;for(;a!==null;)Tl(a.alternate,a),a=a.return;tn=null}}function Oe(a,r){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,xN(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Ds=0,ye(),Bn=a,tn=f=lr(a.current,null),gn=r,Lt=0,un=null,Jt=!1,on=ct(a,r),Gn=!1,hs=Sn=Zs=Zr=fs=Pn=0,va=Ks=null,ja=!1,(r&8)!==0&&(r|=r&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=r;0<m;){var T=31-pe(m),N=1<<T;r|=a[T],m&=~N}return Ei=r,To(),f}function Ke(a,r){Yt=null,q.H=Fu,r===Do||r===Ys?(r=uf(),Lt=3):r===Ru?(r=uf(),Lt=4):Lt=r===Af?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,un=r,tn===null&&(Pn=1,wf(a,Ia(r,a.current)))}function lt(){var a=Bi.current;return a===null?!0:(gn&4194048)===gn?Ts===null:(gn&62914560)===gn||(gn&536870912)!==0?a===Ts:!1}function xt(){var a=q.H;return q.H=Fu,a===null?Fu:a}function Mt(){var a=q.A;return q.A=If,a}function Zt(){Pn=4,Jt||(gn&4194048)!==gn&&Bi.current!==null||(on=!0),(fs&134217727)===0&&(Zr&134217727)===0||Bn===null||z(Bn,gn,Sn,!1)}function Va(a,r,f){var m=_n;_n|=2;var T=xt(),N=Mt();(Bn!==a||gn!==r)&&(Nc=null,Oe(a,r)),r=!1;var H=Pn;e:do try{if(Lt!==0&&tn!==null){var ie=tn,be=un;switch(Lt){case 8:ye(),H=6;break e;case 3:case 2:case 9:case 6:Bi.current===null&&(r=!0);var Be=Lt;if(Lt=0,un=null,st(a,ie,be,Be),f&&on){H=0;break e}break;default:Be=Lt,Lt=0,un=null,st(a,ie,be,Be)}}$u(),H=Pn;break}catch(We){Ke(a,We)}while(!0);return r&&a.shellSuspendCounter++,ha=Br=null,_n=m,q.H=T,q.A=N,tn===null&&(Bn=null,gn=0,To()),H}function $u(){for(;tn!==null;)Re(tn)}function Ol(a,r){var f=_n;_n|=2;var m=xt(),T=Mt();Bn!==a||gn!==r?(Nc=null,ps=V()+500,Oe(a,r)):on=ct(a,r);e:do try{if(Lt!==0&&tn!==null){r=tn;var N=un;t:switch(Lt){case 1:Lt=0,un=null,st(a,r,N,1);break;case 2:case 9:if(ug(N)){Lt=0,un=null,je(r);break}r=function(){Lt!==2&&Lt!==9||Bn!==a||(Lt=7),Go(a)},N.then(r,r);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:ug(N)?(Lt=0,un=null,je(r)):(Lt=0,un=null,st(a,r,N,7));break;case 5:var H=null;switch(tn.tag){case 26:H=tn.memoizedState;case 5:case 27:var ie=tn;if(H?b2(H):ie.stateNode.complete){Lt=0,un=null;var be=ie.sibling;if(be!==null)tn=be;else{var Be=ie.return;Be!==null?(tn=Be,Ot(Be)):tn=null}break t}}Lt=0,un=null,st(a,r,N,5);break;case 6:Lt=0,un=null,st(a,r,N,6);break;case 8:ye(),Pn=6;break e;default:throw Error(n(462))}}Pe();break}catch(We){Ke(a,We)}while(!0);return ha=Br=null,q.H=m,q.A=T,_n=f,tn!==null?0:(Bn=null,gn=0,To(),Pn)}function Pe(){for(;tn!==null&&!ve();)Re(tn)}function Re(a){var r=Cf(a.alternate,a,Ei);a.memoizedProps=a.pendingProps,r===null?Ot(a):tn=r}function je(a){var r=a,f=r.alternate;switch(r.tag){case 15:case 0:r=ma(f,r,r.pendingProps,r.type,void 0,gn);break;case 11:r=ma(f,r,r.pendingProps,r.type.render,r.ref,gn);break;case 5:zp(r);default:Tl(f,r),r=tn=fa(r,Ei),r=Cf(f,r,Ei)}a.memoizedProps=a.pendingProps,r===null?Ot(a):tn=r}function st(a,r,f,m){ha=Br=null,zp(r),Oo=null,Uo=0;var T=r.return;try{if(ss(a,T,r,f,gn)){Pn=1,wf(a,Ia(f,a.current)),tn=null;return}}catch(N){if(T!==null)throw tn=T,N;Pn=1,wf(a,Ia(f,a.current)),tn=null;return}r.flags&32768?(xn||m===1?a=!0:on||(gn&536870912)!==0?a=!1:(Jt=a=!0,(m===2||m===9||m===3||m===6)&&(m=Bi.current,m!==null&&m.tag===13&&(m.flags|=16384))),Jn(r,a)):Ot(r)}function Ot(a){var r=a;do{if((r.flags&32768)!==0){Jn(r,Jt);return}a=r.return;var f=im(r.alternate,r,Ei);if(f!==null){tn=f;return}if(r=r.sibling,r!==null){tn=r;return}tn=r=a}while(r!==null);Pn===0&&(Pn=5)}function Jn(a,r){do{var f=Nf(a.alternate,a);if(f!==null){f.flags&=32767,tn=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!r&&(a=a.sibling,a!==null)){tn=a;return}tn=a=f}while(a!==null);Pn=6,tn=null}function Xt(a,r,f,m,T,N,H,ie,be){a.cancelPendingCommit=null;do Bf();while(li!==0);if((_n&6)!==0)throw Error(n(327));if(r!==null){if(r===a.current)throw Error(n(177));if(N=r.lanes|r.childLanes,N|=tf,dn(a,f,N,H,ie,be),a===Bn&&(tn=Bn=null,gn=0),ms=r,Js=a,Ds=f,Jr=N,Nl=T,zf=m,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,aN(Ce,function(){return jS(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||m){m=q.T,q.T=null,T=W.p,W.p=2,H=_n,_n|=4;try{wc(a,r,f)}finally{_n=H,W.p=T,q.T=m}}li=1,wn(),ki(),An()}}function wn(){if(li===1){li=0;var a=Js,r=ms,f=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||f){f=q.T,q.T=null;var m=W.p;W.p=2;var T=_n;_n|=4;try{jo(r,a);var N=Cb,H=Kd(a.containerInfo),ie=N.focusedElem,be=N.selectionRange;if(H!==ie&&ie&&ie.ownerDocument&&Zd(ie.ownerDocument.documentElement,ie)){if(be!==null&&sc(ie)){var Be=be.start,We=be.end;if(We===void 0&&(We=Be),"selectionStart"in ie)ie.selectionStart=Be,ie.selectionEnd=Math.min(We,ie.value.length);else{var et=ie.ownerDocument||document,Fe=et&&et.defaultView||window;if(Fe.getSelection){var Ge=Fe.getSelection(),At=ie.textContent.length,Gt=Math.min(be.start,At),$n=be.end===void 0?Gt:Math.min(be.end,At);!Ge.extend&&Gt>$n&&(H=$n,$n=Gt,Gt=H);var De=dp(ie,Gt),Ee=dp(ie,$n);if(De&&Ee&&(Ge.rangeCount!==1||Ge.anchorNode!==De.node||Ge.anchorOffset!==De.offset||Ge.focusNode!==Ee.node||Ge.focusOffset!==Ee.offset)){var ze=et.createRange();ze.setStart(De.node,De.offset),Ge.removeAllRanges(),Gt>$n?(Ge.addRange(ze),Ge.extend(Ee.node,Ee.offset)):(ze.setEnd(Ee.node,Ee.offset),Ge.addRange(ze))}}}}for(et=[],Ge=ie;Ge=Ge.parentNode;)Ge.nodeType===1&&et.push({element:Ge,left:Ge.scrollLeft,top:Ge.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<et.length;ie++){var Qe=et[ie];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}Jg=!!Ab,Cb=Ab=null}finally{_n=T,W.p=m,q.T=f}}a.current=r,li=2}}function ki(){if(li===2){li=0;var a=Js,r=ms,f=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||f){f=q.T,q.T=null;var m=W.p;W.p=2;var T=_n;_n|=4;try{Bg(a,r.alternate,r)}finally{_n=T,W.p=m,q.T=f}}li=3}}function An(){if(li===4||li===3){li=0,K();var a=Js,r=ms,f=Ds,m=zf;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?li=5:(li=0,ms=Js=null,Qr(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(_r=null),Oa(f),r=r.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ve,r,void 0,(r.current.flags&128)===128)}catch{}if(m!==null){r=q.T,T=W.p,W.p=2,q.T=null;try{for(var N=a.onRecoverableError,H=0;H<m.length;H++){var ie=m[H];N(ie.value,{componentStack:ie.stack})}}finally{q.T=r,W.p=T}}(Ds&3)!==0&&Bf(),Go(a),T=a.pendingLanes,(f&261930)!==0&&(T&42)!==0?a===Dl?Rl++:(Rl=0,Dl=a):Rl=0,rm(0)}}function Qr(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,$i(r)))}function Bf(){return wn(),ki(),An(),jS()}function jS(){if(li!==5)return!1;var a=Js,r=Jr;Jr=0;var f=Oa(Ds),m=q.T,T=W.p;try{W.p=32>f?32:f,q.T=null,f=Nl,Nl=null;var N=Js,H=Ds;if(li=0,ms=Js=null,Ds=0,(_n&6)!==0)throw Error(n(331));var ie=_n;if(_n|=4,Cl(N.current),oi(N,N.current,H,f),_n=ie,rm(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ve,N)}catch{}return!0}finally{W.p=T,q.T=m,Qr(a,r)}}function VS(a,r,f){r=Ia(f,r),r=nm(a.stateNode,r,2),a=Hr(a,r,2),a!==null&&(In(a,2),Go(a))}function qn(a,r,f){if(a.tag===3)VS(a,a,f);else for(;r!==null;){if(r.tag===3){VS(r,a,f);break}else if(r.tag===1){var m=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(_r===null||!_r.has(m))){a=Ia(f,a),f=_c(2),m=Hr(r,f,2),m!==null&&(Pa(f,m,r,a),In(m,2),Go(m));break}}r=r.return}}function xb(a,r,f){var m=a.pingCache;if(m===null){m=a.pingCache=new Lf;var T=new Set;m.set(r,T)}else T=m.get(r),T===void 0&&(T=new Set,m.set(r,T));T.has(f)||(Gn=!0,T.add(f),a=tN.bind(null,a,r,f),r.then(a,a))}function tN(a,r,f){var m=a.pingCache;m!==null&&m.delete(r),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,Bn===a&&(gn&f)===f&&(Pn===4||Pn===3&&(gn&62914560)===gn&&300>V()-Kr?(_n&2)===0&&Oe(a,0):Zs|=f,hs===gn&&(hs=0)),Go(a)}function GS(a,r){r===0&&(r=kt()),a=wo(a,r),a!==null&&(In(a,r),Go(a))}function nN(a){var r=a.memoizedState,f=0;r!==null&&(f=r.retryLane),GS(a,f)}function iN(a,r){var f=0;switch(a.tag){case 31:case 13:var m=a.stateNode,T=a.memoizedState;T!==null&&(f=T.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(r),GS(a,f)}function aN(a,r){return Te(a,r)}var Fg=null,Pf=null,vb=!1,Hg=!1,yb=!1,Rc=0;function Go(a){a!==Pf&&a.next===null&&(Pf===null?Fg=Pf=a:Pf=Pf.next=a),Hg=!0,vb||(vb=!0,rN())}function rm(a,r){if(!yb&&Hg){yb=!0;do for(var f=!1,m=Fg;m!==null;){if(a!==0){var T=m.pendingLanes;if(T===0)var N=0;else{var H=m.suspendedLanes,ie=m.pingedLanes;N=(1<<31-pe(42|a)+1)-1,N&=T&~(H&~ie),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(f=!0,WS(m,N))}else N=gn,N=Xe(m,m===Bn?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||ct(m,N)||(f=!0,WS(m,N));m=m.next}while(f);yb=!1}}function sN(){YS()}function YS(){Hg=vb=!1;var a=0;Rc!==0&&gN()&&(a=Rc);for(var r=V(),f=null,m=Fg;m!==null;){var T=m.next,N=XS(m,r);N===0?(m.next=null,f===null?Fg=T:f.next=T,T===null&&(Pf=f)):(f=m,(a!==0||(N&3)!==0)&&(Hg=!0)),m=T}li!==0&&li!==5||rm(a),Rc!==0&&(Rc=0)}function XS(a,r){for(var f=a.suspendedLanes,m=a.pingedLanes,T=a.expirationTimes,N=a.pendingLanes&-62914561;0<N;){var H=31-pe(N),ie=1<<H,be=T[H];be===-1?((ie&f)===0||(ie&m)!==0)&&(T[H]=Et(ie,r)):be<=r&&(a.expiredLanes|=ie),N&=~ie}if(r=Bn,f=gn,f=Xe(a,a===r?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,f===0||a===r&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Me(m),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||ct(a,f)){if(r=f&-f,r===a.callbackPriority)return r;switch(m!==null&&Me(m),Oa(f)){case 2:case 8:f=He;break;case 32:f=Ce;break;case 268435456:f=rt;break;default:f=Ce}return m=qS.bind(null,a),f=Te(f,m),a.callbackPriority=r,a.callbackNode=f,r}return m!==null&&m!==null&&Me(m),a.callbackPriority=2,a.callbackNode=null,2}function qS(a,r){if(li!==0&&li!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Bf()&&a.callbackNode!==f)return null;var m=gn;return m=Xe(a,a===Bn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(g(a,m,r),XS(a,V()),a.callbackNode!=null&&a.callbackNode===f?qS.bind(null,a):null)}function WS(a,r){if(Bf())return null;g(a,r,!0)}function rN(){vN(function(){(_n&6)!==0?Te(we,sN):YS()})}function bb(){if(Rc===0){var a=Fr;a===0&&(a=it,it<<=1,(it&261888)===0&&(it=256)),Rc=a}return Rc}function ZS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:du(""+a)}function KS(a,r){var f=r.ownerDocument.createElement("input");return f.name=r.name,f.value=r.value,a.id&&f.setAttribute("form",a.id),r.parentNode.insertBefore(f,r),a=new FormData(a),f.parentNode.removeChild(f),a}function oN(a,r,f,m,T){if(r==="submit"&&f&&f.stateNode===T){var N=ZS((T[xi]||null).action),H=m.submitter;H&&(r=(r=H[xi]||null)?ZS(r.formAction):H.getAttribute("formAction"),r!==null&&(N=r,H=null));var ie=new mu("action","action",null,m,T);a.push({event:ie,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Rc!==0){var be=H?KS(T,H):new FormData(T);Jp(f,{pending:!0,data:be,method:T.method,action:N},null,be)}}else typeof N=="function"&&(ie.preventDefault(),be=H?KS(T,H):new FormData(T),Jp(f,{pending:!0,data:be,method:T.method,action:N},N,be))},currentTarget:T}]})}}for(var _b=0;_b<ef.length;_b++){var Sb=ef[_b],lN=Sb.toLowerCase(),cN=Sb[0].toUpperCase()+Sb.slice(1);da(lN,"on"+cN)}da(Ua,"onAnimationEnd"),da(fp,"onAnimationIteration"),da(or,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(cc,"onTransitionRun"),da(Eo,"onTransitionStart"),da(hp,"onTransitionCancel"),da($d,"onTransitionEnd"),Tt("onMouseEnter",["mouseout","mouseover"]),Tt("onMouseLeave",["mouseout","mouseover"]),Tt("onPointerEnter",["pointerout","pointerover"]),Tt("onPointerLeave",["pointerout","pointerover"]),pt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pt("onBeforeInput",["compositionend","keypress","textInput","paste"]),pt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var om="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(om));function JS(a,r){r=(r&4)!==0;for(var f=0;f<a.length;f++){var m=a[f],T=m.event;m=m.listeners;e:{var N=void 0;if(r)for(var H=m.length-1;0<=H;H--){var ie=m[H],be=ie.instance,Be=ie.currentTarget;if(ie=ie.listener,be!==N&&T.isPropagationStopped())break e;N=ie,T.currentTarget=Be;try{N(T)}catch(We){Mo(We)}T.currentTarget=null,N=be}else for(H=0;H<m.length;H++){if(ie=m[H],be=ie.instance,Be=ie.currentTarget,ie=ie.listener,be!==N&&T.isPropagationStopped())break e;N=ie,T.currentTarget=Be;try{N(T)}catch(We){Mo(We)}T.currentTarget=null,N=be}}}}function vn(a,r){var f=r[al];f===void 0&&(f=r[al]=new Set);var m=a+"__bubble";f.has(m)||(QS(r,a,2,!1),f.add(m))}function Eb(a,r,f){var m=0;r&&(m|=4),QS(f,a,m,r)}var jg="_reactListening"+Math.random().toString(36).slice(2);function Mb(a){if(!a[jg]){a[jg]=!0,Ne.forEach(function(f){f!=="selectionchange"&&(uN.has(f)||Eb(f,!1,a),Eb(f,!0,a))});var r=a.nodeType===9?a:a.ownerDocument;r===null||r[jg]||(r[jg]=!0,Eb("selectionchange",!1,r))}}function QS(a,r,f,m){switch(A2(r)){case 2:var T=PN;break;case 8:T=kN;break;default:T=kb}f=T.bind(null,r,f,a),T=void 0,!kd||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(T=!0),m?T!==void 0?a.addEventListener(r,f,{capture:!0,passive:T}):a.addEventListener(r,f,!0):T!==void 0?a.addEventListener(r,f,{passive:T}):a.addEventListener(r,f,!1)}function Tb(a,r,f,m,T){var N=m;if((r&1)===0&&(r&2)===0&&m!==null)e:for(;;){if(m===null)return;var H=m.tag;if(H===3||H===4){var ie=m.stateNode.containerInfo;if(ie===T)break;if(H===4)for(H=m.return;H!==null;){var be=H.tag;if((be===3||be===4)&&H.stateNode.containerInfo===T)return;H=H.return}for(;ie!==null;){if(H=vi(ie),H===null)return;if(be=H.tag,be===5||be===6||be===26||be===27){m=N=H;continue e}ie=ie.parentNode}}m=m.return}Wh(function(){var Be=N,We=Bd(f),et=[];e:{var Fe=Ur.get(a);if(Fe!==void 0){var Ge=mu,At=a;switch(a){case"keypress":if(ll(f)===0)break e;case"keydown":case"keyup":Ge=tp;break;case"focusin":At="focus",Ge=Gd;break;case"focusout":At="blur",Ge=Gd;break;case"beforeblur":case"afterblur":Ge=Gd;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ge=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ge=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ge=Dr;break;case Ua:case fp:case or:Ge=Y0;break;case $d:Ge=cb;break;case"scroll":case"scrollend":Ge=jd;break;case"wheel":Ge=xo;break;case"copy":case"cut":case"paste":Ge=Kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ge=Yd;break;case"toggle":case"beforetoggle":Ge=ip}var Gt=(r&4)!==0,$n=!Gt&&(a==="scroll"||a==="scrollend"),De=Gt?Fe!==null?Fe+"Capture":null:Fe;Gt=[];for(var Ee=Be,ze;Ee!==null;){var Qe=Ee;if(ze=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||ze===null||De===null||(Qe=ol(Ee,De),Qe!=null&&Gt.push(lm(Ee,Qe,ze))),$n)break;Ee=Ee.return}0<Gt.length&&(Fe=new Ge(Fe,At,null,f,We),et.push({event:Fe,listeners:Gt}))}}if((r&7)===0){e:{if(Fe=a==="mouseover"||a==="pointerover",Ge=a==="mouseout"||a==="pointerout",Fe&&f!==fu&&(At=f.relatedTarget||f.fromElement)&&(vi(At)||At[ks]))break e;if((Ge||Fe)&&(Fe=We.window===We?We:(Fe=We.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Ge?(At=f.relatedTarget||f.toElement,Ge=Be,At=At?vi(At):null,At!==null&&($n=o(At),Gt=At.tag,At!==$n||Gt!==5&&Gt!==27&&Gt!==6)&&(At=null)):(Ge=null,At=Be),Ge!==At)){if(Gt=H0,Qe="onMouseLeave",De="onMouseEnter",Ee="mouse",(a==="pointerout"||a==="pointerover")&&(Gt=Yd,Qe="onPointerLeave",De="onPointerEnter",Ee="pointer"),$n=Ge==null?Fe:Ae(Ge),ze=At==null?Fe:Ae(At),Fe=new Gt(Qe,Ee+"leave",Ge,f,We),Fe.target=$n,Fe.relatedTarget=ze,Qe=null,vi(We)===Be&&(Gt=new Gt(De,Ee+"enter",At,f,We),Gt.target=ze,Gt.relatedTarget=$n,Qe=Gt),$n=Qe,Ge&&At)t:{for(Gt=dN,De=Ge,Ee=At,ze=0,Qe=De;Qe;Qe=Gt(Qe))ze++;Qe=0;for(var Pt=Ee;Pt;Pt=Gt(Pt))Qe++;for(;0<ze-Qe;)De=Gt(De),ze--;for(;0<Qe-ze;)Ee=Gt(Ee),Qe--;for(;ze--;){if(De===Ee||Ee!==null&&De===Ee.alternate){Gt=De;break t}De=Gt(De),Ee=Gt(Ee)}Gt=null}else Gt=null;Ge!==null&&$S(et,Fe,Ge,Gt,!1),At!==null&&$n!==null&&$S(et,$n,At,Gt,!0)}}e:{if(Fe=Be?Ae(Be):window,Ge=Fe.nodeName&&Fe.nodeName.toLowerCase(),Ge==="select"||Ge==="input"&&Fe.type==="file")var kn=lp;else if(rp(Fe))if(_u)kn=ng;else{kn=bo;var Dt=Su}else Ge=Fe.nodeName,!Ge||Ge.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Be&&uu(Be.elementType)&&(kn=lp):kn=tg;if(kn&&(kn=kn(a,Be))){Wd(et,kn,f,We);break e}Dt&&Dt(a,Fe,Be),a==="focusout"&&Be&&Fe.type==="number"&&Be.memoizedProps.value!=null&&Ii(Fe,"number",Fe.value)}switch(Dt=Be?Ae(Be):window,a){case"focusin":(rp(Dt)||Dt.contentEditable==="true")&&(rc=Dt,Jd=Be,oc=null);break;case"focusout":oc=Jd=rc=null;break;case"mousedown":es=!0;break;case"contextmenu":case"mouseup":case"dragend":es=!1,Qd(et,f,We);break;case"selectionchange":if(ig)break;case"keydown":case"keyup":Qd(et,f,We)}var ln;if(cl)e:{switch(a){case"compositionstart":var En="onCompositionStart";break e;case"compositionend":En="onCompositionEnd";break e;case"compositionupdate":En="onCompositionUpdate";break e}En=void 0}else yo?Xd(a,f)&&(En="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(En="onCompositionStart");En&&(Qi&&f.locale!=="ko"&&(yo||En!=="onCompositionStart"?En==="onCompositionEnd"&&yo&&(ln=Hd()):(po=We,Fd="value"in po?po.value:po.textContent,yo=!0)),Dt=Vg(Be,En),0<Dt.length&&(En=new Jh(En,a,null,f,We),et.push({event:En,listeners:Dt}),ln?En.data=ln:(ln=ec(f),ln!==null&&(En.data=ln)))),(ln=ul?qd(a,f):Q0(a,f))&&(En=Vg(Be,"onBeforeInput"),0<En.length&&(Dt=new Jh("onBeforeInput","beforeinput",null,f,We),et.push({event:Dt,listeners:En}),Dt.data=ln)),oN(et,a,Be,f,We)}JS(et,r)})}function lm(a,r,f){return{instance:a,listener:r,currentTarget:f}}function Vg(a,r){for(var f=r+"Capture",m=[];a!==null;){var T=a,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=ol(a,f),T!=null&&m.unshift(lm(a,T,N)),T=ol(a,r),T!=null&&m.push(lm(a,T,N))),a.tag===3)return m;a=a.return}return[]}function dN(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function $S(a,r,f,m,T){for(var N=r._reactName,H=[];f!==null&&f!==m;){var ie=f,be=ie.alternate,Be=ie.stateNode;if(ie=ie.tag,be!==null&&be===m)break;ie!==5&&ie!==26&&ie!==27||Be===null||(be=Be,T?(Be=ol(f,N),Be!=null&&H.unshift(lm(f,Be,be))):T||(Be=ol(f,N),Be!=null&&H.push(lm(f,Be,be)))),f=f.return}H.length!==0&&a.push({event:r,listeners:H})}var fN=/\r\n?/g,hN=/\u0000|\uFFFD/g;function e2(a){return(typeof a=="string"?a:""+a).replace(fN,`
`).replace(hN,"")}function t2(a,r){return r=e2(r),e2(a)===r}function Qn(a,r,f,m,T,N){switch(f){case"children":typeof m=="string"?r==="body"||r==="textarea"&&m===""||Fs(a,m):(typeof m=="number"||typeof m=="bigint")&&r!=="body"&&Fs(a,""+m);break;case"className":yn(a,"class",m);break;case"tabIndex":yn(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(a,f,m);break;case"style":Xh(a,m,N);break;case"data":if(r!=="object"){yn(a,"data",m);break}case"src":case"href":if(m===""&&(r!=="a"||f!=="href")){a.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=du(""+m),a.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(f==="formAction"?(r!=="input"&&Qn(a,r,"name",T.name,T,null),Qn(a,r,"formEncType",T.formEncType,T,null),Qn(a,r,"formMethod",T.formMethod,T,null),Qn(a,r,"formTarget",T.formTarget,T,null)):(Qn(a,r,"encType",T.encType,T,null),Qn(a,r,"method",T.method,T,null),Qn(a,r,"target",T.target,T,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=du(""+m),a.setAttribute(f,m);break;case"onClick":m!=null&&(a.onclick=sr);break;case"onScroll":m!=null&&vn("scroll",a);break;case"onScrollEnd":m!=null&&vn("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(f=m.__html,f!=null){if(T.children!=null)throw Error(n(60));a.innerHTML=f}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}f=du(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""+m):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":m===!0?a.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,m):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(f,m):a.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(f):a.setAttribute(f,m);break;case"popover":vn("beforetoggle",a),vn("toggle",a),Qt(a,"popover",m);break;case"xlinkActuate":bn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":bn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":bn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":bn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":bn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":bn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":bn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":bn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":bn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Qt(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=k0.get(f)||f,Qt(a,f,m))}}function wb(a,r,f,m,T,N){switch(f){case"style":Xh(a,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(f=m.__html,f!=null){if(T.children!=null)throw Error(n(60));a.innerHTML=f}}break;case"children":typeof m=="string"?Fs(a,m):(typeof m=="number"||typeof m=="bigint")&&Fs(a,""+m);break;case"onScroll":m!=null&&vn("scroll",a);break;case"onScrollEnd":m!=null&&vn("scrollend",a);break;case"onClick":m!=null&&(a.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ot.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(T=f.endsWith("Capture"),r=f.slice(2,T?f.length-7:void 0),N=a[xi]||null,N=N!=null?N[f]:null,typeof N=="function"&&a.removeEventListener(r,N,T),typeof m=="function")){typeof N!="function"&&N!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(r,m,T);break e}f in a?a[f]=m:m===!0?a.setAttribute(f,""):Qt(a,f,m)}}}function Ca(a,r,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",a),vn("load",a);var m=!1,T=!1,N;for(N in f)if(f.hasOwnProperty(N)){var H=f[N];if(H!=null)switch(N){case"src":m=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:Qn(a,r,N,H,f,null)}}T&&Qn(a,r,"srcSet",f.srcSet,f,null),m&&Qn(a,r,"src",f.src,f,null);return;case"input":vn("invalid",a);var ie=N=H=T=null,be=null,Be=null;for(m in f)if(f.hasOwnProperty(m)){var We=f[m];if(We!=null)switch(m){case"name":T=We;break;case"type":H=We;break;case"checked":be=We;break;case"defaultChecked":Be=We;break;case"value":N=We;break;case"defaultValue":ie=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,r));break;default:Qn(a,r,m,We,f,null)}}Xn(a,N,ie,be,Be,H,T,!1);return;case"select":vn("invalid",a),m=H=N=null;for(T in f)if(f.hasOwnProperty(T)&&(ie=f[T],ie!=null))switch(T){case"value":N=ie;break;case"defaultValue":H=ie;break;case"multiple":m=ie;default:Qn(a,r,T,ie,f,null)}r=N,f=H,a.multiple=!!m,r!=null?Li(a,!!m,r,!1):f!=null&&Li(a,!!m,f,!0);return;case"textarea":vn("invalid",a),N=T=m=null;for(H in f)if(f.hasOwnProperty(H)&&(ie=f[H],ie!=null))switch(H){case"value":m=ie;break;case"defaultValue":T=ie;break;case"children":N=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(91));break;default:Qn(a,r,H,ie,f,null)}ci(a,m,T,N);return;case"option":for(be in f)if(f.hasOwnProperty(be)&&(m=f[be],m!=null))switch(be){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Qn(a,r,be,m,f,null)}return;case"dialog":vn("beforetoggle",a),vn("toggle",a),vn("cancel",a),vn("close",a);break;case"iframe":case"object":vn("load",a);break;case"video":case"audio":for(m=0;m<om.length;m++)vn(om[m],a);break;case"image":vn("error",a),vn("load",a);break;case"details":vn("toggle",a);break;case"embed":case"source":case"link":vn("error",a),vn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in f)if(f.hasOwnProperty(Be)&&(m=f[Be],m!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:Qn(a,r,Be,m,f,null)}return;default:if(uu(r)){for(We in f)f.hasOwnProperty(We)&&(m=f[We],m!==void 0&&wb(a,r,We,m,f,void 0));return}}for(ie in f)f.hasOwnProperty(ie)&&(m=f[ie],m!=null&&Qn(a,r,ie,m,f,null))}function pN(a,r,f,m){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,H=null,ie=null,be=null,Be=null,We=null;for(Ge in f){var et=f[Ge];if(f.hasOwnProperty(Ge)&&et!=null)switch(Ge){case"checked":break;case"value":break;case"defaultValue":be=et;default:m.hasOwnProperty(Ge)||Qn(a,r,Ge,null,m,et)}}for(var Fe in m){var Ge=m[Fe];if(et=f[Fe],m.hasOwnProperty(Fe)&&(Ge!=null||et!=null))switch(Fe){case"type":N=Ge;break;case"name":T=Ge;break;case"checked":Be=Ge;break;case"defaultChecked":We=Ge;break;case"value":H=Ge;break;case"defaultValue":ie=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(n(137,r));break;default:Ge!==et&&Qn(a,r,Fe,Ge,m,et)}}ar(a,H,ie,be,Be,We,N,T);return;case"select":Ge=H=ie=Fe=null;for(N in f)if(be=f[N],f.hasOwnProperty(N)&&be!=null)switch(N){case"value":break;case"multiple":Ge=be;default:m.hasOwnProperty(N)||Qn(a,r,N,null,m,be)}for(T in m)if(N=m[T],be=f[T],m.hasOwnProperty(T)&&(N!=null||be!=null))switch(T){case"value":Fe=N;break;case"defaultValue":ie=N;break;case"multiple":H=N;default:N!==be&&Qn(a,r,T,N,m,be)}r=ie,f=H,m=Ge,Fe!=null?Li(a,!!f,Fe,!1):!!m!=!!f&&(r!=null?Li(a,!!f,r,!0):Li(a,!!f,f?[]:"",!1));return;case"textarea":Ge=Fe=null;for(ie in f)if(T=f[ie],f.hasOwnProperty(ie)&&T!=null&&!m.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:Qn(a,r,ie,null,m,T)}for(H in m)if(T=m[H],N=f[H],m.hasOwnProperty(H)&&(T!=null||N!=null))switch(H){case"value":Fe=T;break;case"defaultValue":Ge=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==N&&Qn(a,r,H,T,m,N)}zi(a,Fe,Ge);return;case"option":for(var At in f)if(Fe=f[At],f.hasOwnProperty(At)&&Fe!=null&&!m.hasOwnProperty(At))switch(At){case"selected":a.selected=!1;break;default:Qn(a,r,At,null,m,Fe)}for(be in m)if(Fe=m[be],Ge=f[be],m.hasOwnProperty(be)&&Fe!==Ge&&(Fe!=null||Ge!=null))switch(be){case"selected":a.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:Qn(a,r,be,Fe,m,Ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in f)Fe=f[Gt],f.hasOwnProperty(Gt)&&Fe!=null&&!m.hasOwnProperty(Gt)&&Qn(a,r,Gt,null,m,Fe);for(Be in m)if(Fe=m[Be],Ge=f[Be],m.hasOwnProperty(Be)&&Fe!==Ge&&(Fe!=null||Ge!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(n(137,r));break;default:Qn(a,r,Be,Fe,m,Ge)}return;default:if(uu(r)){for(var $n in f)Fe=f[$n],f.hasOwnProperty($n)&&Fe!==void 0&&!m.hasOwnProperty($n)&&wb(a,r,$n,void 0,m,Fe);for(We in m)Fe=m[We],Ge=f[We],!m.hasOwnProperty(We)||Fe===Ge||Fe===void 0&&Ge===void 0||wb(a,r,We,Fe,m,Ge);return}}for(var De in f)Fe=f[De],f.hasOwnProperty(De)&&Fe!=null&&!m.hasOwnProperty(De)&&Qn(a,r,De,null,m,Fe);for(et in m)Fe=m[et],Ge=f[et],!m.hasOwnProperty(et)||Fe===Ge||Fe==null&&Ge==null||Qn(a,r,et,Fe,m,Ge)}function n2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mN(){if(typeof performance.getEntriesByType=="function"){for(var a=0,r=0,f=performance.getEntriesByType("resource"),m=0;m<f.length;m++){var T=f[m],N=T.transferSize,H=T.initiatorType,ie=T.duration;if(N&&ie&&n2(H)){for(H=0,ie=T.responseEnd,m+=1;m<f.length;m++){var be=f[m],Be=be.startTime;if(Be>ie)break;var We=be.transferSize,et=be.initiatorType;We&&n2(et)&&(be=be.responseEnd,H+=We*(be<ie?1:(ie-Be)/(be-Be)))}if(--m,r+=8*(N+H)/(T.duration/1e3),a++,10<a)break}}if(0<a)return r/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ab=null,Cb=null;function Gg(a){return a.nodeType===9?a:a.ownerDocument}function i2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a2(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function Nb(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Rb=null;function gN(){var a=window.event;return a&&a.type==="popstate"?a===Rb?!1:(Rb=a,!0):(Rb=null,!1)}var s2=typeof setTimeout=="function"?setTimeout:void 0,xN=typeof clearTimeout=="function"?clearTimeout:void 0,r2=typeof Promise=="function"?Promise:void 0,vN=typeof queueMicrotask=="function"?queueMicrotask:typeof r2<"u"?function(a){return r2.resolve(null).then(a).catch(yN)}:s2;function yN(a){setTimeout(function(){throw a})}function Dc(a){return a==="head"}function o2(a,r){var f=r,m=0;do{var T=f.nextSibling;if(a.removeChild(f),T&&T.nodeType===8)if(f=T.data,f==="/$"||f==="/&"){if(m===0){a.removeChild(T),jf(r);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")m++;else if(f==="html")cm(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,cm(f);for(var N=f.firstChild;N;){var H=N.nextSibling,ie=N.nodeName;N[Nr]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=H}}else f==="body"&&cm(a.ownerDocument.body);f=T}while(f);jf(r)}function l2(a,r){var f=a;a=0;do{var m=f.nextSibling;if(f.nodeType===1?r?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(r?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&&m.nodeType===8)if(f=m.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=m}while(f)}function Db(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var f=r;switch(r=r.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Db(f),sl(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function bN(a,r,f,m){for(;a.nodeType===1;){var T=f;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Nr])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(N=a.getAttribute("rel"),N==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(N!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(N=a.getAttribute("src"),(N!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===N)return a}else return a;if(a=Sr(a.nextSibling),a===null)break}return null}function _N(a,r,f){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=Sr(a.nextSibling),a===null))return null;return a}function c2(a,r){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!r||(a=Sr(a.nextSibling),a===null))return null;return a}function Ob(a){return a.data==="$?"||a.data==="$~"}function Ub(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function SN(a,r){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=r;else if(a.data!=="$?"||f.readyState!=="loading")r();else{var m=function(){r(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Sr(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return a}var Ib=null;function u2(a){a=a.nextSibling;for(var r=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(r===0)return Sr(a.nextSibling);r--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||r++}a=a.nextSibling}return null}function d2(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(r===0)return a;r--}else f!=="/$"&&f!=="/&"||r++}a=a.previousSibling}return null}function f2(a,r,f){switch(r=Gg(f),a){case"html":if(a=r.documentElement,!a)throw Error(n(452));return a;case"head":if(a=r.head,!a)throw Error(n(453));return a;case"body":if(a=r.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function cm(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);sl(a)}var Er=new Map,h2=new Set;function Yg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ul=W.d;W.d={f:EN,r:MN,D:TN,C:wN,L:AN,m:CN,X:RN,S:NN,M:DN};function EN(){var a=Ul.f(),r=ae();return a||r}function MN(a){var r=ne(a);r!==null&&r.tag===5&&r.type==="form"?Qp(r):Ul.r(a)}var kf=typeof document>"u"?null:document;function p2(a,r,f){var m=kf;if(m&&typeof r=="string"&&r){var T=Yn(r);T='link[rel="'+a+'"][href="'+T+'"]',typeof f=="string"&&(T+='[crossorigin="'+f+'"]'),h2.has(T)||(h2.add(T),a={rel:a,crossOrigin:f,href:r},m.querySelector(T)===null&&(r=m.createElement("link"),Ca(r,"link",a),Ue(r),m.head.appendChild(r)))}}function TN(a){Ul.D(a),p2("dns-prefetch",a,null)}function wN(a,r){Ul.C(a,r),p2("preconnect",a,r)}function AN(a,r,f){Ul.L(a,r,f);var m=kf;if(m&&a&&r){var T='link[rel="preload"][as="'+Yn(r)+'"]';r==="image"&&f&&f.imageSrcSet?(T+='[imagesrcset="'+Yn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(T+='[imagesizes="'+Yn(f.imageSizes)+'"]')):T+='[href="'+Yn(a)+'"]';var N=T;switch(r){case"style":N=Ff(a);break;case"script":N=Hf(a)}Er.has(N)||(a=v({rel:"preload",href:r==="image"&&f&&f.imageSrcSet?void 0:a,as:r},f),Er.set(N,a),m.querySelector(T)!==null||r==="style"&&m.querySelector(um(N))||r==="script"&&m.querySelector(dm(N))||(r=m.createElement("link"),Ca(r,"link",a),Ue(r),m.head.appendChild(r)))}}function CN(a,r){Ul.m(a,r);var f=kf;if(f&&a){var m=r&&typeof r.as=="string"?r.as:"script",T='link[rel="modulepreload"][as="'+Yn(m)+'"][href="'+Yn(a)+'"]',N=T;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Hf(a)}if(!Er.has(N)&&(a=v({rel:"modulepreload",href:a},r),Er.set(N,a),f.querySelector(T)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(dm(N)))return}m=f.createElement("link"),Ca(m,"link",a),Ue(m),f.head.appendChild(m)}}}function NN(a,r,f){Ul.S(a,r,f);var m=kf;if(m&&a){var T=ke(m).hoistableStyles,N=Ff(a);r=r||"default";var H=T.get(N);if(!H){var ie={loading:0,preload:null};if(H=m.querySelector(um(N)))ie.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":r},f),(f=Er.get(N))&&Lb(a,f);var be=H=m.createElement("link");Ue(be),Ca(be,"link",a),be._p=new Promise(function(Be,We){be.onload=Be,be.onerror=We}),be.addEventListener("load",function(){ie.loading|=1}),be.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,Xg(H,r,m)}H={type:"stylesheet",instance:H,count:1,state:ie},T.set(N,H)}}}function RN(a,r){Ul.X(a,r);var f=kf;if(f&&a){var m=ke(f).hoistableScripts,T=Hf(a),N=m.get(T);N||(N=f.querySelector(dm(T)),N||(a=v({src:a,async:!0},r),(r=Er.get(T))&&zb(a,r),N=f.createElement("script"),Ue(N),Ca(N,"link",a),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(T,N))}}function DN(a,r){Ul.M(a,r);var f=kf;if(f&&a){var m=ke(f).hoistableScripts,T=Hf(a),N=m.get(T);N||(N=f.querySelector(dm(T)),N||(a=v({src:a,async:!0,type:"module"},r),(r=Er.get(T))&&zb(a,r),N=f.createElement("script"),Ue(N),Ca(N,"link",a),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(T,N))}}function m2(a,r,f,m){var T=(T=ge.current)?Yg(T):null;if(!T)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(r=Ff(f.href),f=ke(T).hoistableStyles,m=f.get(r),m||(m={type:"style",instance:null,count:0,state:null},f.set(r,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=Ff(f.href);var N=ke(T).hoistableStyles,H=N.get(a);if(H||(T=T.ownerDocument||T,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(a,H),(N=T.querySelector(um(a)))&&!N._p&&(H.instance=N,H.state.loading=5),Er.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Er.set(a,f),N||ON(T,a,f,H.state))),r&&m===null)throw Error(n(528,""));return H}if(r&&m!==null)throw Error(n(529,""));return null;case"script":return r=f.async,f=f.src,typeof f=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Hf(f),f=ke(T).hoistableScripts,m=f.get(r),m||(m={type:"script",instance:null,count:0,state:null},f.set(r,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Ff(a){return'href="'+Yn(a)+'"'}function um(a){return'link[rel="stylesheet"]['+a+"]"}function g2(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function ON(a,r,f,m){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?m.loading=1:(r=a.createElement("link"),m.preload=r,r.addEventListener("load",function(){return m.loading|=1}),r.addEventListener("error",function(){return m.loading|=2}),Ca(r,"link",f),Ue(r),a.head.appendChild(r))}function Hf(a){return'[src="'+Yn(a)+'"]'}function dm(a){return"script[async]"+a}function x2(a,r,f){if(r.count++,r.instance===null)switch(r.type){case"style":var m=a.querySelector('style[data-href~="'+Yn(f.href)+'"]');if(m)return r.instance=m,Ue(m),m;var T=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Ue(m),Ca(m,"style",T),Xg(m,f.precedence,a),r.instance=m;case"stylesheet":T=Ff(f.href);var N=a.querySelector(um(T));if(N)return r.state.loading|=4,r.instance=N,Ue(N),N;m=g2(f),(T=Er.get(T))&&Lb(m,T),N=(a.ownerDocument||a).createElement("link"),Ue(N);var H=N;return H._p=new Promise(function(ie,be){H.onload=ie,H.onerror=be}),Ca(N,"link",m),r.state.loading|=4,Xg(N,f.precedence,a),r.instance=N;case"script":return N=Hf(f.src),(T=a.querySelector(dm(N)))?(r.instance=T,Ue(T),T):(m=f,(T=Er.get(N))&&(m=v({},f),zb(m,T)),a=a.ownerDocument||a,T=a.createElement("script"),Ue(T),Ca(T,"link",m),a.head.appendChild(T),r.instance=T);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(m=r.instance,r.state.loading|=4,Xg(m,f.precedence,a));return r.instance}function Xg(a,r,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=m.length?m[m.length-1]:null,N=T,H=0;H<m.length;H++){var ie=m[H];if(ie.dataset.precedence===r)N=ie;else if(N!==T)break}N?N.parentNode.insertBefore(a,N.nextSibling):(r=f.nodeType===9?f.head:f,r.insertBefore(a,r.firstChild))}function Lb(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function zb(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var qg=null;function v2(a,r,f){if(qg===null){var m=new Map,T=qg=new Map;T.set(f,m)}else T=qg,m=T.get(f),m||(m=new Map,T.set(f,m));if(m.has(a))return m;for(m.set(a,null),f=f.getElementsByTagName(a),T=0;T<f.length;T++){var N=f[T];if(!(N[Nr]||N[sn]||a==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var H=N.getAttribute(r)||"";H=a+H;var ie=m.get(H);ie?ie.push(N):m.set(H,[N])}}return m}function y2(a,r,f){a=a.ownerDocument||a,a.head.insertBefore(f,r==="title"?a.querySelector("head > title"):null)}function UN(a,r,f){if(f===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return a=r.disabled,typeof r.precedence=="string"&&a==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function b2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function IN(a,r,f,m){if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var T=Ff(m.href),N=r.querySelector(um(T));if(N){r=N._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(a.count++,a=Wg.bind(a),r.then(a,a)),f.state.loading|=4,f.instance=N,Ue(N);return}N=r.ownerDocument||r,m=g2(m),(T=Er.get(T))&&Lb(m,T),N=N.createElement("link"),Ue(N);var H=N;H._p=new Promise(function(ie,be){H.onload=ie,H.onerror=be}),Ca(N,"link",m),f.instance=N}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,r),(r=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=Wg.bind(a),r.addEventListener("load",f),r.addEventListener("error",f))}}var Bb=0;function LN(a,r){return a.stylesheets&&a.count===0&&Kg(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var m=setTimeout(function(){if(a.stylesheets&&Kg(a,a.stylesheets),a.unsuspend){var N=a.unsuspend;a.unsuspend=null,N()}},6e4+r);0<a.imgBytes&&Bb===0&&(Bb=62500*mN());var T=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Kg(a,a.stylesheets),a.unsuspend)){var N=a.unsuspend;a.unsuspend=null,N()}},(a.imgBytes>Bb?50:800)+r);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(T)}}:null}function Wg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Zg=null;function Kg(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Zg=new Map,r.forEach(zN,a),Zg=null,Wg.call(a))}function zN(a,r){if(!(r.state.loading&4)){var f=Zg.get(a);if(f)var m=f.get(null);else{f=new Map,Zg.set(a,f);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var H=T[N];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(f.set(H.dataset.precedence,H),m=H)}m&&f.set(null,m)}T=r.instance,H=T.getAttribute("data-precedence"),N=f.get(H)||m,N===m&&f.set(null,T),f.set(H,T),this.count++,m=Wg.bind(this),T.addEventListener("load",m),T.addEventListener("error",m),N?N.parentNode.insertBefore(T,N.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),r.state.loading|=4}}var fm={$$typeof:R,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function BN(a,r,f,m,T,N,H,ie,be){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.hiddenUpdates=Ft(null),this.identifierPrefix=m,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function _2(a,r,f,m,T,N,H,ie,be,Be,We,et){return a=new BN(a,r,f,H,be,Be,We,et,ie),r=1,N===!0&&(r|=24),N=Sa(3,null,null,r),a.current=N,N.stateNode=a,r=bp(),r.refCount++,a.pooledCache=r,r.refCount++,N.memoizedState={element:m,isDehydrated:f,cache:r},wp(N),a}function S2(a){return a?(a=Ao,a):Ao}function E2(a,r,f,m,T,N){T=S2(T),m.context===null?m.context=T:m.pendingContext=T,m=hr(r),m.payload={element:f},N=N===void 0?null:N,N!==null&&(m.callback=N),f=Hr(a,m,r),f!==null&&(d(f,a,r),Lo(f,a,r))}function M2(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<r?f:r}}function Pb(a,r){M2(a,r),(a=a.alternate)&&M2(a,r)}function T2(a){if(a.tag===13||a.tag===31){var r=wo(a,67108864);r!==null&&d(r,a,67108864),Pb(a,67108864)}}function w2(a){if(a.tag===13||a.tag===31){var r=Aa();r=ri(r);var f=wo(a,r);f!==null&&d(f,a,r),Pb(a,r)}}var Jg=!0;function PN(a,r,f,m){var T=q.T;q.T=null;var N=W.p;try{W.p=2,kb(a,r,f,m)}finally{W.p=N,q.T=T}}function kN(a,r,f,m){var T=q.T;q.T=null;var N=W.p;try{W.p=8,kb(a,r,f,m)}finally{W.p=N,q.T=T}}function kb(a,r,f,m){if(Jg){var T=Fb(m);if(T===null)Tb(a,r,m,Qg,f),C2(a,m);else if(HN(T,a,r,f,m))m.stopPropagation();else if(C2(a,m),r&4&&-1<FN.indexOf(a)){for(;T!==null;){var N=ne(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var H=Ze(N.pendingLanes);if(H!==0){var ie=N;for(ie.pendingLanes|=2,ie.entangledLanes|=2;H;){var be=1<<31-pe(H);ie.entanglements[1]|=be,H&=~be}Go(N),(_n&6)===0&&(ps=V()+500,rm(0))}}break;case 31:case 13:ie=wo(N,2),ie!==null&&d(ie,N,2),ae(),Pb(N,2)}if(N=Fb(m),N===null&&Tb(a,r,m,Qg,f),N===T)break;T=N}T!==null&&m.stopPropagation()}else Tb(a,r,m,null,f)}}function Fb(a){return a=Bd(a),Hb(a)}var Qg=null;function Hb(a){if(Qg=null,a=vi(a),a!==null){var r=o(a);if(r===null)a=null;else{var f=r.tag;if(f===13){if(a=c(r),a!==null)return a;a=null}else if(f===31){if(a=u(r),a!==null)return a;a=null}else if(f===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return Qg=a,null}function A2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case we:return 2;case He:return 8;case Ce:case ft:return 32;case rt:return 268435456;default:return 32}default:return 32}}var jb=!1,Oc=null,Uc=null,Ic=null,hm=new Map,pm=new Map,Lc=[],FN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C2(a,r){switch(a){case"focusin":case"focusout":Oc=null;break;case"dragenter":case"dragleave":Uc=null;break;case"mouseover":case"mouseout":Ic=null;break;case"pointerover":case"pointerout":hm.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pm.delete(r.pointerId)}}function mm(a,r,f,m,T,N){return a===null||a.nativeEvent!==N?(a={blockedOn:r,domEventName:f,eventSystemFlags:m,nativeEvent:N,targetContainers:[T]},r!==null&&(r=ne(r),r!==null&&T2(r)),a):(a.eventSystemFlags|=m,r=a.targetContainers,T!==null&&r.indexOf(T)===-1&&r.push(T),a)}function HN(a,r,f,m,T){switch(r){case"focusin":return Oc=mm(Oc,a,r,f,m,T),!0;case"dragenter":return Uc=mm(Uc,a,r,f,m,T),!0;case"mouseover":return Ic=mm(Ic,a,r,f,m,T),!0;case"pointerover":var N=T.pointerId;return hm.set(N,mm(hm.get(N)||null,a,r,f,m,T)),!0;case"gotpointercapture":return N=T.pointerId,pm.set(N,mm(pm.get(N)||null,a,r,f,m,T)),!0}return!1}function N2(a){var r=vi(a.target);if(r!==null){var f=o(r);if(f!==null){if(r=f.tag,r===13){if(r=c(f),r!==null){a.blockedOn=r,Ui(a.priority,function(){w2(f)});return}}else if(r===31){if(r=u(f),r!==null){a.blockedOn=r,Ui(a.priority,function(){w2(f)});return}}else if(r===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $g(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var f=Fb(a.nativeEvent);if(f===null){f=a.nativeEvent;var m=new f.constructor(f.type,f);fu=m,f.target.dispatchEvent(m),fu=null}else return r=ne(f),r!==null&&T2(r),a.blockedOn=f,!1;r.shift()}return!0}function R2(a,r,f){$g(a)&&f.delete(r)}function jN(){jb=!1,Oc!==null&&$g(Oc)&&(Oc=null),Uc!==null&&$g(Uc)&&(Uc=null),Ic!==null&&$g(Ic)&&(Ic=null),hm.forEach(R2),pm.forEach(R2)}function ex(a,r){a.blockedOn===r&&(a.blockedOn=null,jb||(jb=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jN)))}var tx=null;function D2(a){tx!==a&&(tx=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){tx===a&&(tx=null);for(var r=0;r<a.length;r+=3){var f=a[r],m=a[r+1],T=a[r+2];if(typeof m!="function"){if(Hb(m||f)===null)continue;break}var N=ne(f);N!==null&&(a.splice(r,3),r-=3,Jp(N,{pending:!0,data:T,method:f.method,action:m},m,T))}}))}function jf(a){function r(be){return ex(be,a)}Oc!==null&&ex(Oc,a),Uc!==null&&ex(Uc,a),Ic!==null&&ex(Ic,a),hm.forEach(r),pm.forEach(r);for(var f=0;f<Lc.length;f++){var m=Lc[f];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Lc.length&&(f=Lc[0],f.blockedOn===null);)N2(f),f.blockedOn===null&&Lc.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var T=f[m],N=f[m+1],H=T[xi]||null;if(typeof N=="function")H||D2(f);else if(H){var ie=null;if(N&&N.hasAttribute("formAction")){if(T=N,H=N[xi]||null)ie=H.formAction;else if(Hb(T)!==null)continue}else ie=H.action;typeof ie=="function"?f[m+1]=ie:(f.splice(m,3),m-=3),D2(f)}}}function O2(){function a(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(H){return T=H})},focusReset:"manual",scroll:"manual"})}function r(){T!==null&&(T(),T=null),m||setTimeout(f,20)}function f(){if(!m&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,T=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),T!==null&&(T(),T=null)}}}function Vb(a){this._internalRoot=a}nx.prototype.render=Vb.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(n(409));var f=r.current,m=Aa();E2(f,m,a,r,null,null)},nx.prototype.unmount=Vb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;E2(a.current,2,null,a,null,null),ae(),r[ks]=null}};function nx(a){this._internalRoot=a}nx.prototype.unstable_scheduleHydration=function(a){if(a){var r=gi();a={blockedOn:null,target:a,priority:r};for(var f=0;f<Lc.length&&r!==0&&r<Lc[f].priority;f++);Lc.splice(f,0,a),f===0&&N2(a)}};var U2=e.version;if(U2!=="19.2.0")throw Error(n(527,U2,"19.2.0"));W.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=p(r),a=a!==null?x(a):null,a=a===null?null:a.stateNode,a};var VN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ix=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ix.isDisabled&&ix.supportsFiber)try{Ve=ix.inject(VN),tt=ix}catch{}}return xm.createRoot=function(a,r){if(!s(a))throw Error(n(299));var f=!1,m="",T=tm,N=Lg,H=Tf;return r!=null&&(r.unstable_strictMode===!0&&(f=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(T=r.onUncaughtError),r.onCaughtError!==void 0&&(N=r.onCaughtError),r.onRecoverableError!==void 0&&(H=r.onRecoverableError)),r=_2(a,1,!1,null,null,f,m,null,T,N,H,O2),a[ks]=r.current,Mb(a),new Vb(r)},xm.hydrateRoot=function(a,r,f){if(!s(a))throw Error(n(299));var m=!1,T="",N=tm,H=Lg,ie=Tf,be=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onUncaughtError!==void 0&&(N=f.onUncaughtError),f.onCaughtError!==void 0&&(H=f.onCaughtError),f.onRecoverableError!==void 0&&(ie=f.onRecoverableError),f.formState!==void 0&&(be=f.formState)),r=_2(a,1,!0,r,f??null,m,T,be,N,H,ie,O2),r.context=S2(null),f=r.current,m=Aa(),m=ri(m),T=hr(m),T.callback=null,Hr(f,T,m),f=m,r.current.lanes=f,In(r,f),Go(r),a[ks]=r.current,Mb(a),new nx(r)},xm.version="19.2.0",xm}var V2;function QN(){if(V2)return Xb.exports;V2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xb.exports=JN(),Xb.exports}var $N=QN();const eR=_0($N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nR=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),G2=i=>{const e=nR(i);return e.charAt(0).toUpperCase()+e.slice(1)},A3=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),iR=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=ce.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:c,...u},h)=>ce.createElement("svg",{ref:h,...aR,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:A3("lucide",s),...!o&&!iR(u)&&{"aria-hidden":"true"},...u},[...c.map(([p,x])=>ce.createElement(p,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(i,e)=>{const t=ce.forwardRef(({className:n,...s},o)=>ce.createElement(sR,{ref:o,iconNode:e,className:A3(`lucide-${tR(G2(i))}`,`lucide-${i}`,n),...s}));return t.displayName=G2(i),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],oR=dt("archive",rR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],cR=dt("arrow-down-up",lR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],dR=dt("arrow-left",uR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hR=dt("arrow-right",fR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],mR=dt("arrow-up-right",pR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xR=dt("bell",gR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],yR=dt("bot",vR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],C3=dt("brain-circuit",bR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],SR=dt("briefcase",_R);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],MR=dt("building-2",ER);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ih=dt("calendar",TR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],AR=dt("car",wR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kc=dt("chevron-down",CR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],RR=dt("chevron-left",NR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iv=dt("chevron-right",DR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],UR=dt("chevrons-left",OR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],LR=dt("chevrons-right",IR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],N3=dt("circle-alert",zR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PR=dt("circle-check-big",BR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k1=dt("circle-check",kR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HR=dt("circle-play",FR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],VR=dt("circle-plus",jR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YR=dt("circle",GR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],R3=dt("clipboard-list",XR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F1=dt("clock",qR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ZR=dt("code",WR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],JR=dt("command",KR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],$R=dt("credit-card",QR);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],tD=dt("diamond",eD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],iD=dt("download",nD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],sD=dt("ellipsis-vertical",aD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],dv=dt("ellipsis",rD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],D3=dt("flag",oD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],O3=dt("funnel",lD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],U3=dt("grip-vertical",cD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],I3=dt("history",uD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],fD=dt("house",dD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],d1=dt("inbox",hD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mD=dt("info",pD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],xD=dt("kanban",gD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],yD=dt("layout-dashboard",vD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],H1=dt("layout-grid",bD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],SD=dt("life-buoy",_D);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],L3=dt("list-ordered",ED);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Qm=dt("list-todo",MD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],wD=dt("list",TD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],j1=dt("loader-circle",AD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ND=dt("log-out",CD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],V1=dt("map-pin",RD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],z3=dt("message-square",DD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M5 12h14",key:"1ays0h"}]],UD=dt("minus",OD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],fv=dt("panels-top-left",ID);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],zD=dt("pen",LD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ra=dt("plus",BD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],kD=dt("redo",PD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],HD=dt("reply",FD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],VD=dt("rocket",jD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gy=dt("search",GD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],B3=dt("send",YD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y2=dt("settings",XD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],WD=dt("share-2",qD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],KD=dt("shield",ZD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],QD=dt("ship",JD);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],eO=dt("shopping-cart",$D);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qo=dt("sparkles",tO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],iO=dt("square-kanban",nO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],sO=dt("square",aO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],X2=dt("star",rO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],lO=dt("sticky-note",oO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],q2=dt("store",cO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],P3=dt("target",uO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],G1=dt("trash-2",dO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hO=dt("trending-up",fO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],mO=dt("trophy",pO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],xO=dt("truck",gO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],yO=dt("type",vO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],_O=dt("undo",bO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],EO=dt("user",SO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],W2=dt("users",MO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Z2=dt("video",TO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],AO=dt("warehouse",wO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],NO=dt("waves",CO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Kb=dt("wind",RO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xy=dt("x",DO);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],av=dt("zap",OO),k3=ce.createContext(void 0),uo=()=>{const i=ce.useContext(k3);return i||{showToast:e=>console.log("Toast:",e)}},UO=({id:i,message:e,type:t,onClose:n})=>{const s={info:"bg-gray-900 text-white border-gray-800",success:"bg-emerald-600 text-white border-emerald-700",error:"bg-red-600 text-white border-red-700"},o={info:A.jsx(mD,{size:18}),success:A.jsx(PR,{size:18}),error:A.jsx(N3,{size:18})};return A.jsxs("div",{className:`${s[t]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border`,children:[A.jsx("div",{className:"flex-shrink-0",children:o[t]}),A.jsx("span",{className:"text-sm font-medium flex-1",children:e}),A.jsx("button",{onClick:()=>n(i),className:"opacity-70 hover:opacity-100 transition-opacity",children:A.jsx(xy,{size:16})})]})},IO=({children:i})=>{const[e,t]=ce.useState([]),n=ce.useCallback((o,c="info")=>{const u=Date.now();t(h=>[...h,{id:u,message:o,type:c}]),setTimeout(()=>{t(h=>h.filter(p=>p.id!==u))},3e3)},[]),s=o=>{t(c=>c.filter(u=>u.id!==o))};return A.jsxs(k3.Provider,{value:{showToast:n},children:[i,A.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto",children:e.map(o=>A.jsx(UO,{...o,onClose:s},o.id))})]})},no="clickup_clone_db_v2",yd="clickup_clone_msgs_v2",Vl="clickup_clone_spaces_v1",Yo=400,Xo=i=>new Promise(e=>setTimeout(e,i)),LO=()=>{if(typeof window>"u")return;localStorage.getItem(no)||localStorage.setItem(no,JSON.stringify([])),localStorage.getItem(yd)||localStorage.setItem(yd,JSON.stringify([])),localStorage.getItem(Vl)||localStorage.setItem(Vl,JSON.stringify([]))};LO();const wr={getSpaces:async()=>{await Xo(Yo);const i=localStorage.getItem(Vl);return i?JSON.parse(i):[]},createSpace:async i=>{await Xo(Yo);const e=localStorage.getItem(Vl),t=e?JSON.parse(e):[],n={id:`SPACE-${Date.now()}`,name:i,color:"#"+Math.floor(Math.random()*16777215).toString(16)};return t.push(n),localStorage.setItem(Vl,JSON.stringify(t)),n},updateSpace:async(i,e)=>{await Xo(Yo);const t=localStorage.getItem(Vl),n=t?JSON.parse(t):[],s=n.findIndex(o=>o.id===i);s!==-1&&(n[s]={...n[s],...e},localStorage.setItem(Vl,JSON.stringify(n)))},deleteSpace:async i=>{await Xo(Yo);const e=localStorage.getItem(Vl);let t=e?JSON.parse(e):[];t=t.filter(o=>o.id!==i),localStorage.setItem(Vl,JSON.stringify(t));const n=localStorage.getItem(no);let s=n?JSON.parse(n):[];s=s.filter(o=>o.spaceId!==i),localStorage.setItem(no,JSON.stringify(s))},getTasks:async()=>{await Xo(Yo);const i=localStorage.getItem(no);return i?JSON.parse(i):[]},updateTask:async(i,e)=>{await Xo(Yo/2);const t=localStorage.getItem(no),n=t?JSON.parse(t):[],s=n.findIndex(c=>c.id===i);if(s===-1)throw new Error("Task not found");const o={...n[s],...e};return n[s]=o,localStorage.setItem(no,JSON.stringify(n)),o},createTask:async i=>{await Xo(Yo);const e=localStorage.getItem(no),t=e?JSON.parse(e):[],n=`TASK-${Math.floor(1e3+Math.random()*9e3)}`,s={...i,id:n};return t.push(s),localStorage.setItem(no,JSON.stringify(t)),s},deleteTask:async i=>{await Xo(Yo);const e=localStorage.getItem(no);let t=e?JSON.parse(e):[];t=t.filter(n=>n.id!==i),localStorage.setItem(no,JSON.stringify(t))},getMessages:async()=>{await Xo(Yo);const i=localStorage.getItem(yd);return i?JSON.parse(i):[]},markMessageRead:async i=>{const e=localStorage.getItem(yd),t=e?JSON.parse(e):[],n=t.findIndex(s=>s.id===i);n!==-1&&(t[n].isRead=!0,localStorage.setItem(yd,JSON.stringify(t)))},sendMessage:async(i,e)=>{await Xo(Yo);const t=localStorage.getItem(yd),n=t?JSON.parse(t):[],s={id:`MSG-${Date.now()}`,senderId:"me",subject:i,preview:e.substring(0,50)+"...",content:e,timestamp:new Date().toISOString(),isRead:!0,tags:["sent"]};return n.unshift(s),localStorage.setItem(yd,JSON.stringify(n)),s}};function sx(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jb={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var K2;function zO(){return K2||(K2=1,(function(i,e){(function(t){i.exports=t()})(function(){return(function t(n,s,o){function c(p,x){if(!s[p]){if(!n[p]){var v=typeof sx=="function"&&sx;if(!x&&v)return v(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var y=s[p]={exports:{}};n[p][0].call(y.exports,function(S){var E=n[p][1][S];return c(E||S)},y,y.exports,t,n,s,o)}return s[p].exports}for(var u=typeof sx=="function"&&sx,h=0;h<o.length;h++)c(o[h]);return c})({1:[function(t,n,s){var o=t("./utils"),c=t("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(h){for(var p,x,v,b,y,S,E,M=[],_=0,C=h.length,R=C,O=o.getTypeOf(h)!=="string";_<h.length;)R=C-_,v=O?(p=h[_++],x=_<C?h[_++]:0,_<C?h[_++]:0):(p=h.charCodeAt(_++),x=_<C?h.charCodeAt(_++):0,_<C?h.charCodeAt(_++):0),b=p>>2,y=(3&p)<<4|x>>4,S=1<R?(15&x)<<2|v>>6:64,E=2<R?63&v:64,M.push(u.charAt(b)+u.charAt(y)+u.charAt(S)+u.charAt(E));return M.join("")},s.decode=function(h){var p,x,v,b,y,S,E=0,M=0,_="data:";if(h.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var C,R=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===u.charAt(64)&&R--,h.charAt(h.length-2)===u.charAt(64)&&R--,R%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=c.uint8array?new Uint8Array(0|R):new Array(0|R);E<h.length;)p=u.indexOf(h.charAt(E++))<<2|(b=u.indexOf(h.charAt(E++)))>>4,x=(15&b)<<4|(y=u.indexOf(h.charAt(E++)))>>2,v=(3&y)<<6|(S=u.indexOf(h.charAt(E++))),C[M++]=p,y!==64&&(C[M++]=x),S!==64&&(C[M++]=v);return C}},{"./support":30,"./utils":32}],2:[function(t,n,s){var o=t("./external"),c=t("./stream/DataWorker"),u=t("./stream/Crc32Probe"),h=t("./stream/DataLengthProbe");function p(x,v,b,y,S){this.compressedSize=x,this.uncompressedSize=v,this.crc32=b,this.compression=y,this.compressedContent=S}p.prototype={getContentWorker:function(){var x=new c(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),v=this;return x.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new c(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(x,v,b){return x.pipe(new u).pipe(new h("uncompressedSize")).pipe(v.compressWorker(b)).pipe(new h("compressedSize")).withStreamInfo("compression",v)},n.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,s){var o=t("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,s){var o=t("./utils"),c=(function(){for(var u,h=[],p=0;p<256;p++){u=p;for(var x=0;x<8;x++)u=1&u?3988292384^u>>>1:u>>>1;h[p]=u}return h})();n.exports=function(u,h){return u!==void 0&&u.length?o.getTypeOf(u)!=="string"?(function(p,x,v,b){var y=c,S=b+v;p^=-1;for(var E=b;E<S;E++)p=p>>>8^y[255&(p^x[E])];return-1^p})(0|h,u,u.length,0):(function(p,x,v,b){var y=c,S=b+v;p^=-1;for(var E=b;E<S;E++)p=p>>>8^y[255&(p^x.charCodeAt(E))];return-1^p})(0|h,u,u.length,0):0}},{"./utils":32}],5:[function(t,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(t,n,s){var o=null;o=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:o}},{lie:37}],7:[function(t,n,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=t("pako"),u=t("./utils"),h=t("./stream/GenericWorker"),p=o?"uint8array":"array";function x(v,b){h.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=b,this.meta={}}s.magic="\b\0",u.inherits(x,h),x.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,v.data),!1)},x.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(b){v.push({data:b,meta:v.meta})}},s.compressWorker=function(v){return new x("Deflate",v)},s.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,s){function o(y,S){var E,M="";for(E=0;E<S;E++)M+=String.fromCharCode(255&y),y>>>=8;return M}function c(y,S,E,M,_,C){var R,O,U=y.file,I=y.compression,F=C!==p.utf8encode,j=u.transformTo("string",C(U.name)),B=u.transformTo("string",p.utf8encode(U.name)),k=U.comment,J=u.transformTo("string",C(k)),Y=u.transformTo("string",p.utf8encode(k)),Z=B.length!==U.name.length,L=Y.length!==k.length,re="",q="",W="",te=U.dir,oe=U.date,Se={crc32:0,compressedSize:0,uncompressedSize:0};S&&!E||(Se.crc32=y.crc32,Se.compressedSize=y.compressedSize,Se.uncompressedSize=y.uncompressedSize);var G=0;S&&(G|=8),F||!Z&&!L||(G|=2048);var $=0,se=0;te&&($|=16),_==="UNIX"?(se=798,$|=(function(xe,ge){var _e=xe;return xe||(_e=ge?16893:33204),(65535&_e)<<16})(U.unixPermissions,te)):(se=20,$|=(function(xe){return 63&(xe||0)})(U.dosPermissions)),R=oe.getUTCHours(),R<<=6,R|=oe.getUTCMinutes(),R<<=5,R|=oe.getUTCSeconds()/2,O=oe.getUTCFullYear()-1980,O<<=4,O|=oe.getUTCMonth()+1,O<<=5,O|=oe.getUTCDate(),Z&&(q=o(1,1)+o(x(j),4)+B,re+="up"+o(q.length,2)+q),L&&(W=o(1,1)+o(x(J),4)+Y,re+="uc"+o(W.length,2)+W);var de="";return de+=`
\0`,de+=o(G,2),de+=I.magic,de+=o(R,2),de+=o(O,2),de+=o(Se.crc32,4),de+=o(Se.compressedSize,4),de+=o(Se.uncompressedSize,4),de+=o(j.length,2),de+=o(re.length,2),{fileRecord:v.LOCAL_FILE_HEADER+de+j+re,dirRecord:v.CENTRAL_FILE_HEADER+o(se,2)+de+o(J.length,2)+"\0\0\0\0"+o($,4)+o(M,4)+j+re+J}}var u=t("../utils"),h=t("../stream/GenericWorker"),p=t("../utf8"),x=t("../crc32"),v=t("../signature");function b(y,S,E,M){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=E,this.encodeFileName=M,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,h),b.prototype.push=function(y){var S=y.meta.percent||0,E=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,h.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:E?(S+100*(E-M-1))/E:100}}))},b.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var S=this.streamFiles&&!y.file.dir;if(S){var E=c(y,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(y){this.accumulate=!1;var S=this.streamFiles&&!y.file.dir,E=c(y,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),S)this.push({data:(function(M){return v.DATA_DESCRIPTOR+o(M.crc32,4)+o(M.compressedSize,4)+o(M.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var y=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var E=this.bytesWritten-y,M=(function(_,C,R,O,U){var I=u.transformTo("string",U(O));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(_,2)+o(_,2)+o(C,4)+o(R,4)+o(I.length,2)+I})(this.dirRecords.length,E,y,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(y){this._sources.push(y);var S=this;return y.on("data",function(E){S.processChunk(E)}),y.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),y.on("error",function(E){S.error(E)}),this},b.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(y){var S=this._sources;if(!h.prototype.error.call(this,y))return!1;for(var E=0;E<S.length;E++)try{S[E].error(y)}catch{}return!0},b.prototype.lock=function(){h.prototype.lock.call(this);for(var y=this._sources,S=0;S<y.length;S++)y[S].lock()},n.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,s){var o=t("../compressions"),c=t("./ZipFileWorker");s.generateWorker=function(u,h,p){var x=new c(h.streamFiles,p,h.platform,h.encodeFileName),v=0;try{u.forEach(function(b,y){v++;var S=(function(C,R){var O=C||R,U=o[O];if(!U)throw new Error(O+" is not a valid compression method !");return U})(y.options.compression,h.compression),E=y.options.compressionOptions||h.compressionOptions||{},M=y.dir,_=y.date;y._compressWorker(S,E).withStreamInfo("file",{name:b,dir:M,date:_,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(x)}),x.entriesCount=v}catch(b){x.error(b)}return x}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new o;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(c,u){return new o().loadAsync(c,u)},o.external=t("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,s){var o=t("./utils"),c=t("./external"),u=t("./utf8"),h=t("./zipEntries"),p=t("./stream/Crc32Probe"),x=t("./nodejsUtils");function v(b){return new c.Promise(function(y,S){var E=b.decompressed.getContentWorker().pipe(new p);E.on("error",function(M){S(M)}).on("end",function(){E.streamInfo.crc32!==b.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(b,y){var S=this;return y=o.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),x.isNode&&x.isStream(b)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",b,!0,y.optimizedBinaryString,y.base64).then(function(E){var M=new h(y);return M.load(E),M}).then(function(E){var M=[c.Promise.resolve(E)],_=E.files;if(y.checkCRC32)for(var C=0;C<_.length;C++)M.push(v(_[C]));return c.Promise.all(M)}).then(function(E){for(var M=E.shift(),_=M.files,C=0;C<_.length;C++){var R=_[C],O=R.fileNameStr,U=o.resolve(R.fileNameStr);S.file(U,R.decompressed,{binary:!0,optimizedBinaryString:!0,date:R.date,dir:R.dir,comment:R.fileCommentStr.length?R.fileCommentStr:null,unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions,createFolders:y.createFolders}),R.dir||(S.file(U).unsafeOriginalName=O)}return M.zipComment.length&&(S.comment=M.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,s){var o=t("../utils"),c=t("../stream/GenericWorker");function u(h,p){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(p)}o.inherits(u,c),u.prototype._bindStream=function(h){var p=this;(this._stream=h).pause(),h.on("data",function(x){p.push({data:x,meta:{percent:0}})}).on("error",function(x){p.isPaused?this.generatedError=x:p.error(x)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,s){var o=t("readable-stream").Readable;function c(u,h,p){o.call(this,h),this._helper=u;var x=this;u.on("data",function(v,b){x.push(v)||x._helper.pause(),p&&p(b)}).on("error",function(v){x.emit("error",v)}).on("end",function(){x.push(null)})}t("../utils").inherits(c,o),c.prototype._read=function(){this._helper.resume()},n.exports=c},{"../utils":32,"readable-stream":16}],14:[function(t,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,c);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,c)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var c=new Buffer(o);return c.fill(0),c},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,n,s){function o(U,I,F){var j,B=u.getTypeOf(I),k=u.extend(F||{},x);k.date=k.date||new Date,k.compression!==null&&(k.compression=k.compression.toUpperCase()),typeof k.unixPermissions=="string"&&(k.unixPermissions=parseInt(k.unixPermissions,8)),k.unixPermissions&&16384&k.unixPermissions&&(k.dir=!0),k.dosPermissions&&16&k.dosPermissions&&(k.dir=!0),k.dir&&(U=_(U)),k.createFolders&&(j=M(U))&&C.call(this,j,!0);var J=B==="string"&&k.binary===!1&&k.base64===!1;F&&F.binary!==void 0||(k.binary=!J),(I instanceof v&&I.uncompressedSize===0||k.dir||!I||I.length===0)&&(k.base64=!1,k.binary=!0,I="",k.compression="STORE",B="string");var Y=null;Y=I instanceof v||I instanceof h?I:S.isNode&&S.isStream(I)?new E(U,I):u.prepareContent(U,I,k.binary,k.optimizedBinaryString,k.base64);var Z=new b(U,Y,k);this.files[U]=Z}var c=t("./utf8"),u=t("./utils"),h=t("./stream/GenericWorker"),p=t("./stream/StreamHelper"),x=t("./defaults"),v=t("./compressedObject"),b=t("./zipObject"),y=t("./generate"),S=t("./nodejsUtils"),E=t("./nodejs/NodejsStreamInputAdapter"),M=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var I=U.lastIndexOf("/");return 0<I?U.substring(0,I):""},_=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},C=function(U,I){return I=I!==void 0?I:x.createFolders,U=_(U),this.files[U]||o.call(this,U,null,{dir:!0,createFolders:I}),this.files[U]};function R(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var I,F,j;for(I in this.files)j=this.files[I],(F=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&U(F,j)},filter:function(U){var I=[];return this.forEach(function(F,j){U(F,j)&&I.push(j)}),I},file:function(U,I,F){if(arguments.length!==1)return U=this.root+U,o.call(this,U,I,F),this;if(R(U)){var j=U;return this.filter(function(k,J){return!J.dir&&j.test(k)})}var B=this.files[this.root+U];return B&&!B.dir?B:null},folder:function(U){if(!U)return this;if(R(U))return this.filter(function(B,k){return k.dir&&U.test(B)});var I=this.root+U,F=C.call(this,I),j=this.clone();return j.root=F.name,j},remove:function(U){U=this.root+U;var I=this.files[U];if(I||(U.slice(-1)!=="/"&&(U+="/"),I=this.files[U]),I&&!I.dir)delete this.files[U];else for(var F=this.filter(function(B,k){return k.name.slice(0,U.length)===U}),j=0;j<F.length;j++)delete this.files[F[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var I,F={};try{if((F=u.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");u.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var j=F.comment||this.comment||"";I=y.generateWorker(this,F,j)}catch(B){(I=new h("error")).error(B)}return new p(I,F.type||"string",F.mimeType)},generateAsync:function(U,I){return this.generateInternalStream(U).accumulate(I)},generateNodeStream:function(U,I){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(I)}};n.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,s){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,s){var o=t("./DataReader");function c(u){o.call(this,u);for(var h=0;h<this.data.length;h++)u[h]=255&u[h]}t("../utils").inherits(c,o),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var h=u.charCodeAt(0),p=u.charCodeAt(1),x=u.charCodeAt(2),v=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===h&&this.data[b+1]===p&&this.data[b+2]===x&&this.data[b+3]===v)return b-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var h=u.charCodeAt(0),p=u.charCodeAt(1),x=u.charCodeAt(2),v=u.charCodeAt(3),b=this.readData(4);return h===b[0]&&p===b[1]&&x===b[2]&&v===b[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},n.exports=c},{"../utils":32,"./DataReader":18}],18:[function(t,n,s){var o=t("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var h,p=0;for(this.checkOffset(u),h=this.index+u-1;h>=this.index;h--)p=(p<<8)+this.byteAt(h);return this.index+=u,p},readString:function(u){return o.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},n.exports=c},{"../utils":32}],19:[function(t,n,s){var o=t("./Uint8ArrayReader");function c(u){o.call(this,u)}t("../utils").inherits(c,o),c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},n.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,s){var o=t("./DataReader");function c(u){o.call(this,u)}t("../utils").inherits(c,o),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},n.exports=c},{"../utils":32,"./DataReader":18}],21:[function(t,n,s){var o=t("./ArrayReader");function c(u){o.call(this,u)}t("../utils").inherits(c,o),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},n.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,s){var o=t("../utils"),c=t("../support"),u=t("./ArrayReader"),h=t("./StringReader"),p=t("./NodeBufferReader"),x=t("./Uint8ArrayReader");n.exports=function(v){var b=o.getTypeOf(v);return o.checkSupport(b),b!=="string"||c.uint8array?b==="nodebuffer"?new p(v):c.uint8array?new x(o.transformTo("uint8array",v)):new u(o.transformTo("array",v)):new h(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,s){var o=t("./GenericWorker"),c=t("../utils");function u(h){o.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(u,o),u.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},n.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,s){var o=t("./GenericWorker"),c=t("../crc32");function u(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(u,o),u.prototype.processChunk=function(h){this.streamInfo.crc32=c(h.data,this.streamInfo.crc32||0),this.push(h)},n.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,s){var o=t("../utils"),c=t("./GenericWorker");function u(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}o.inherits(u,c),u.prototype.processChunk=function(h){if(h){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+h.data.length}c.prototype.processChunk.call(this,h)},n.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,s){var o=t("../utils"),c=t("./GenericWorker");function u(h){c.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(x){p.dataIsReady=!0,p.data=x,p.max=x&&x.length||0,p.type=o.getTypeOf(x),p.isPaused||p._tickAndRepeat()},function(x){p.error(x)})}o.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,p);break;case"uint8array":h=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":h=this.data.slice(this.index,p)}return this.index=p,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,s){function o(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(h){u.processChunk(h)}),c.on("end",function(){u.end()}),c.on("error",function(h){u.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},n.exports=o},{}],29:[function(t,n,s){var o=t("../utils"),c=t("./ConvertWorker"),u=t("./GenericWorker"),h=t("../base64"),p=t("../support"),x=t("../external"),v=null;if(p.nodestream)try{v=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(S,E){return new x.Promise(function(M,_){var C=[],R=S._internalType,O=S._outputType,U=S._mimeType;S.on("data",function(I,F){C.push(I),E&&E(F)}).on("error",function(I){C=[],_(I)}).on("end",function(){try{var I=(function(F,j,B){switch(F){case"blob":return o.newBlob(o.transformTo("arraybuffer",j),B);case"base64":return h.encode(j);default:return o.transformTo(F,j)}})(O,(function(F,j){var B,k=0,J=null,Y=0;for(B=0;B<j.length;B++)Y+=j[B].length;switch(F){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(J=new Uint8Array(Y),B=0;B<j.length;B++)J.set(j[B],k),k+=j[B].length;return J;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+F+"'")}})(R,C),U);M(I)}catch(F){_(F)}C=[]}).resume()})}function y(S,E,M){var _=E;switch(E){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=E,this._mimeType=M,o.checkSupport(_),this._worker=S.pipe(new c(_)),S.lock()}catch(C){this._worker=new u("error"),this._worker.error(C)}}y.prototype={accumulate:function(S){return b(this,S)},on:function(S,E){var M=this;return S==="data"?this._worker.on(S,function(_){E.call(M,_.data,_.meta)}):this._worker.on(S,function(){o.delay(E,arguments,M)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},S)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(o),s.blob=c.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!t("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,s){for(var o=t("./utils"),c=t("./support"),u=t("./nodejsUtils"),h=t("./stream/GenericWorker"),p=new Array(256),x=0;x<256;x++)p[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;p[254]=p[254]=1;function v(){h.call(this,"utf-8 decode"),this.leftOver=null}function b(){h.call(this,"utf-8 encode")}s.utf8encode=function(y){return c.nodebuffer?u.newBufferFrom(y,"utf-8"):(function(S){var E,M,_,C,R,O=S.length,U=0;for(C=0;C<O;C++)(64512&(M=S.charCodeAt(C)))==55296&&C+1<O&&(64512&(_=S.charCodeAt(C+1)))==56320&&(M=65536+(M-55296<<10)+(_-56320),C++),U+=M<128?1:M<2048?2:M<65536?3:4;for(E=c.uint8array?new Uint8Array(U):new Array(U),C=R=0;R<U;C++)(64512&(M=S.charCodeAt(C)))==55296&&C+1<O&&(64512&(_=S.charCodeAt(C+1)))==56320&&(M=65536+(M-55296<<10)+(_-56320),C++),M<128?E[R++]=M:(M<2048?E[R++]=192|M>>>6:(M<65536?E[R++]=224|M>>>12:(E[R++]=240|M>>>18,E[R++]=128|M>>>12&63),E[R++]=128|M>>>6&63),E[R++]=128|63&M);return E})(y)},s.utf8decode=function(y){return c.nodebuffer?o.transformTo("nodebuffer",y).toString("utf-8"):(function(S){var E,M,_,C,R=S.length,O=new Array(2*R);for(E=M=0;E<R;)if((_=S[E++])<128)O[M++]=_;else if(4<(C=p[_]))O[M++]=65533,E+=C-1;else{for(_&=C===2?31:C===3?15:7;1<C&&E<R;)_=_<<6|63&S[E++],C--;1<C?O[M++]=65533:_<65536?O[M++]=_:(_-=65536,O[M++]=55296|_>>10&1023,O[M++]=56320|1023&_)}return O.length!==M&&(O.subarray?O=O.subarray(0,M):O.length=M),o.applyFromCharCode(O)})(y=o.transformTo(c.uint8array?"uint8array":"array",y))},o.inherits(v,h),v.prototype.processChunk=function(y){var S=o.transformTo(c.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var E=S;(S=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),S.set(E,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var M=(function(C,R){var O;for((R=R||C.length)>C.length&&(R=C.length),O=R-1;0<=O&&(192&C[O])==128;)O--;return O<0||O===0?R:O+p[C[O]]>R?O:R})(S),_=S;M!==S.length&&(c.uint8array?(_=S.subarray(0,M),this.leftOver=S.subarray(M,S.length)):(_=S.slice(0,M),this.leftOver=S.slice(M,S.length))),this.push({data:s.utf8decode(_),meta:y.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=v,o.inherits(b,h),b.prototype.processChunk=function(y){this.push({data:s.utf8encode(y.data),meta:y.meta})},s.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,s){var o=t("./support"),c=t("./base64"),u=t("./nodejsUtils"),h=t("./external");function p(E){return E}function x(E,M){for(var _=0;_<E.length;++_)M[_]=255&E.charCodeAt(_);return M}t("setimmediate"),s.newBlob=function(E,M){s.checkSupport("blob");try{return new Blob([E],{type:M})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(E),_.getBlob(M)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(E,M,_){var C=[],R=0,O=E.length;if(O<=_)return String.fromCharCode.apply(null,E);for(;R<O;)M==="array"||M==="nodebuffer"?C.push(String.fromCharCode.apply(null,E.slice(R,Math.min(R+_,O)))):C.push(String.fromCharCode.apply(null,E.subarray(R,Math.min(R+_,O)))),R+=_;return C.join("")},stringifyByChar:function(E){for(var M="",_=0;_<E.length;_++)M+=String.fromCharCode(E[_]);return M},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}})()}};function b(E){var M=65536,_=s.getTypeOf(E),C=!0;if(_==="uint8array"?C=v.applyCanBeUsed.uint8array:_==="nodebuffer"&&(C=v.applyCanBeUsed.nodebuffer),C)for(;1<M;)try{return v.stringifyByChunk(E,_,M)}catch{M=Math.floor(M/2)}return v.stringifyByChar(E)}function y(E,M){for(var _=0;_<E.length;_++)M[_]=E[_];return M}s.applyFromCharCode=b;var S={};S.string={string:p,array:function(E){return x(E,new Array(E.length))},arraybuffer:function(E){return S.string.uint8array(E).buffer},uint8array:function(E){return x(E,new Uint8Array(E.length))},nodebuffer:function(E){return x(E,u.allocBuffer(E.length))}},S.array={string:b,array:p,arraybuffer:function(E){return new Uint8Array(E).buffer},uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return u.newBufferFrom(E)}},S.arraybuffer={string:function(E){return b(new Uint8Array(E))},array:function(E){return y(new Uint8Array(E),new Array(E.byteLength))},arraybuffer:p,uint8array:function(E){return new Uint8Array(E)},nodebuffer:function(E){return u.newBufferFrom(new Uint8Array(E))}},S.uint8array={string:b,array:function(E){return y(E,new Array(E.length))},arraybuffer:function(E){return E.buffer},uint8array:p,nodebuffer:function(E){return u.newBufferFrom(E)}},S.nodebuffer={string:b,array:function(E){return y(E,new Array(E.length))},arraybuffer:function(E){return S.nodebuffer.uint8array(E).buffer},uint8array:function(E){return y(E,new Uint8Array(E.length))},nodebuffer:p},s.transformTo=function(E,M){if(M=M||"",!E)return M;s.checkSupport(E);var _=s.getTypeOf(M);return S[_][E](M)},s.resolve=function(E){for(var M=E.split("/"),_=[],C=0;C<M.length;C++){var R=M[C];R==="."||R===""&&C!==0&&C!==M.length-1||(R===".."?_.pop():_.push(R))}return _.join("/")},s.getTypeOf=function(E){return typeof E=="string"?"string":Object.prototype.toString.call(E)==="[object Array]"?"array":o.nodebuffer&&u.isBuffer(E)?"nodebuffer":o.uint8array&&E instanceof Uint8Array?"uint8array":o.arraybuffer&&E instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(E){if(!o[E.toLowerCase()])throw new Error(E+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(E){var M,_,C="";for(_=0;_<(E||"").length;_++)C+="\\x"+((M=E.charCodeAt(_))<16?"0":"")+M.toString(16).toUpperCase();return C},s.delay=function(E,M,_){setImmediate(function(){E.apply(_||null,M||[])})},s.inherits=function(E,M){function _(){}_.prototype=M.prototype,E.prototype=new _},s.extend=function(){var E,M,_={};for(E=0;E<arguments.length;E++)for(M in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],M)&&_[M]===void 0&&(_[M]=arguments[E][M]);return _},s.prepareContent=function(E,M,_,C,R){return h.Promise.resolve(M).then(function(O){return o.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new h.Promise(function(U,I){var F=new FileReader;F.onload=function(j){U(j.target.result)},F.onerror=function(j){I(j.target.error)},F.readAsArrayBuffer(O)}):O}).then(function(O){var U=s.getTypeOf(O);return U?(U==="arraybuffer"?O=s.transformTo("uint8array",O):U==="string"&&(R?O=c.decode(O):_&&C!==!0&&(O=(function(I){return x(I,o.uint8array?new Uint8Array(I.length):new Array(I.length))})(O))),O):h.Promise.reject(new Error("Can't read the data of '"+E+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,s){var o=t("./reader/readerFor"),c=t("./utils"),u=t("./signature"),h=t("./zipEntry"),p=t("./support");function x(v){this.files=[],this.loadOptions=v}x.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(b)+", expected "+c.pretty(v)+")")}},isSignature:function(v,b){var y=this.reader.index;this.reader.setIndex(v);var S=this.reader.readString(4)===b;return this.reader.setIndex(y),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",y=c.transformTo(b,v);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,b,y,S=this.zip64EndOfCentralSize-44;0<S;)v=this.reader.readInt(2),b=this.reader.readInt(4),y=this.reader.readData(b),this.zip64ExtensibleData[v]={id:v,length:b,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,b;for(v=0;v<this.files.length;v++)b=this.files[v],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(v=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var b=v;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var S=b-y;if(0<S)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(v){this.reader=o(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,s){var o=t("./reader/readerFor"),c=t("./utils"),u=t("./compressedObject"),h=t("./crc32"),p=t("./utf8"),x=t("./compressions"),v=t("./support");function b(y,S){this.options=y,this.loadOptions=S}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var S,E;if(y.skip(22),this.fileNameLength=y.readInt(2),E=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=(function(M){for(var _ in x)if(Object.prototype.hasOwnProperty.call(x,_)&&x[_].magic===M)return x[_];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,S,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var S=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(S),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=o(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var S,E,M,_=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<_;)S=y.readInt(2),E=y.readInt(2),M=y.readData(E),this.extraFields[S]={id:S,length:E,value:M};y.setIndex(_)},handleUTF8:function(){var y=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var E=c.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var M=this.findExtraFieldUnicodeComment();if(M!==null)this.fileCommentStr=M;else{var _=c.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var S=o(y.value);return S.readInt(1)!==1||h(this.fileName)!==S.readInt(4)?null:p.utf8decode(S.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var S=o(y.value);return S.readInt(1)!==1||h(this.fileComment)!==S.readInt(4)?null:p.utf8decode(S.readData(y.length-5))}return null}},n.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,s){function o(S,E,M){this.name=S,this.dir=M.dir,this.date=M.date,this.comment=M.comment,this.unixPermissions=M.unixPermissions,this.dosPermissions=M.dosPermissions,this._data=E,this._dataBinary=M.binary,this.options={compression:M.compression,compressionOptions:M.compressionOptions}}var c=t("./stream/StreamHelper"),u=t("./stream/DataWorker"),h=t("./utf8"),p=t("./compressedObject"),x=t("./stream/GenericWorker");o.prototype={internalStream:function(S){var E=null,M="string";try{if(!S)throw new Error("No output type specified.");var _=(M=S.toLowerCase())==="string"||M==="text";M!=="binarystring"&&M!=="text"||(M="string"),E=this._decompressWorker();var C=!this._dataBinary;C&&!_&&(E=E.pipe(new h.Utf8EncodeWorker)),!C&&_&&(E=E.pipe(new h.Utf8DecodeWorker))}catch(R){(E=new x("error")).error(R)}return new c(E,M,"")},async:function(S,E){return this.internalStream(S).accumulate(E)},nodeStream:function(S,E){return this.internalStream(S||"nodebuffer").toNodejsStream(E)},_compressWorker:function(S,E){if(this._data instanceof p&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var M=this._decompressWorker();return this._dataBinary||(M=M.pipe(new h.Utf8EncodeWorker)),p.createWorkerFrom(M,S,E)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof x?this._data:new u(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<v.length;y++)o.prototype[v[y]]=b;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,s){(function(o){var c,u,h=o.MutationObserver||o.WebKitMutationObserver;if(h){var p=0,x=new h(S),v=o.document.createTextNode("");x.observe(v,{characterData:!0}),c=function(){v.data=p=++p%2}}else if(o.setImmediate||o.MessageChannel===void 0)c="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var E=o.document.createElement("script");E.onreadystatechange=function(){S(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},o.document.documentElement.appendChild(E)}:function(){setTimeout(S,0)};else{var b=new o.MessageChannel;b.port1.onmessage=S,c=function(){b.port2.postMessage(0)}}var y=[];function S(){var E,M;u=!0;for(var _=y.length;_;){for(M=y,y=[],E=-1;++E<_;)M[E]();_=y.length}u=!1}n.exports=function(E){y.push(E)!==1||u||c()}}).call(this,typeof ax<"u"?ax:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,s){var o=t("immediate");function c(){}var u={},h=["REJECTED"],p=["FULFILLED"],x=["PENDING"];function v(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,_!==c&&E(this,_)}function b(_,C,R){this.promise=_,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}function y(_,C,R){o(function(){var O;try{O=C(R)}catch(U){return u.reject(_,U)}O===_?u.reject(_,new TypeError("Cannot resolve promise with itself")):u.resolve(_,O)})}function S(_){var C=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof C=="function")return function(){C.apply(_,arguments)}}function E(_,C){var R=!1;function O(F){R||(R=!0,u.reject(_,F))}function U(F){R||(R=!0,u.resolve(_,F))}var I=M(function(){C(U,O)});I.status==="error"&&O(I.value)}function M(_,C){var R={};try{R.value=_(C),R.status="success"}catch(O){R.status="error",R.value=O}return R}(n.exports=v).prototype.finally=function(_){if(typeof _!="function")return this;var C=this.constructor;return this.then(function(R){return C.resolve(_()).then(function(){return R})},function(R){return C.resolve(_()).then(function(){throw R})})},v.prototype.catch=function(_){return this.then(null,_)},v.prototype.then=function(_,C){if(typeof _!="function"&&this.state===p||typeof C!="function"&&this.state===h)return this;var R=new this.constructor(c);return this.state!==x?y(R,this.state===p?_:C,this.outcome):this.queue.push(new b(R,_,C)),R},b.prototype.callFulfilled=function(_){u.resolve(this.promise,_)},b.prototype.otherCallFulfilled=function(_){y(this.promise,this.onFulfilled,_)},b.prototype.callRejected=function(_){u.reject(this.promise,_)},b.prototype.otherCallRejected=function(_){y(this.promise,this.onRejected,_)},u.resolve=function(_,C){var R=M(S,C);if(R.status==="error")return u.reject(_,R.value);var O=R.value;if(O)E(_,O);else{_.state=p,_.outcome=C;for(var U=-1,I=_.queue.length;++U<I;)_.queue[U].callFulfilled(C)}return _},u.reject=function(_,C){_.state=h,_.outcome=C;for(var R=-1,O=_.queue.length;++R<O;)_.queue[R].callRejected(C);return _},v.resolve=function(_){return _ instanceof this?_:u.resolve(new this(c),_)},v.reject=function(_){var C=new this(c);return u.reject(C,_)},v.all=function(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=_.length,O=!1;if(!R)return this.resolve([]);for(var U=new Array(R),I=0,F=-1,j=new this(c);++F<R;)B(_[F],F);return j;function B(k,J){C.resolve(k).then(function(Y){U[J]=Y,++I!==R||O||(O=!0,u.resolve(j,U))},function(Y){O||(O=!0,u.reject(j,Y))})}},v.race=function(_){var C=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=_.length,O=!1;if(!R)return this.resolve([]);for(var U=-1,I=new this(c);++U<R;)F=_[U],C.resolve(F).then(function(j){O||(O=!0,u.resolve(I,j))},function(j){O||(O=!0,u.reject(I,j))});var F;return I}},{immediate:36}],38:[function(t,n,s){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,s){var o=t("./zlib/deflate"),c=t("./utils/common"),u=t("./utils/strings"),h=t("./zlib/messages"),p=t("./zlib/zstream"),x=Object.prototype.toString,v=0,b=-1,y=0,S=8;function E(_){if(!(this instanceof E))return new E(_);this.options=c.assign({level:b,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},_||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var R=o.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(R!==v)throw new Error(h[R]);if(C.header&&o.deflateSetHeader(this.strm,C.header),C.dictionary){var O;if(O=typeof C.dictionary=="string"?u.string2buf(C.dictionary):x.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(R=o.deflateSetDictionary(this.strm,O))!==v)throw new Error(h[R]);this._dict_set=!0}}function M(_,C){var R=new E(C);if(R.push(_,!0),R.err)throw R.msg||h[R.err];return R.result}E.prototype.push=function(_,C){var R,O,U=this.strm,I=this.options.chunkSize;if(this.ended)return!1;O=C===~~C?C:C===!0?4:0,typeof _=="string"?U.input=u.string2buf(_):x.call(_)==="[object ArrayBuffer]"?U.input=new Uint8Array(_):U.input=_,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new c.Buf8(I),U.next_out=0,U.avail_out=I),(R=o.deflate(U,O))!==1&&R!==v)return this.onEnd(R),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(U.output,U.next_out))):this.onData(c.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&R!==1);return O===4?(R=o.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===v):O!==2||(this.onEnd(v),!(U.avail_out=0))},E.prototype.onData=function(_){this.chunks.push(_)},E.prototype.onEnd=function(_){_===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},s.Deflate=E,s.deflate=M,s.deflateRaw=function(_,C){return(C=C||{}).raw=!0,M(_,C)},s.gzip=function(_,C){return(C=C||{}).gzip=!0,M(_,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,s){var o=t("./zlib/inflate"),c=t("./utils/common"),u=t("./utils/strings"),h=t("./zlib/constants"),p=t("./zlib/messages"),x=t("./zlib/zstream"),v=t("./zlib/gzheader"),b=Object.prototype.toString;function y(E){if(!(this instanceof y))return new y(E);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},E||{});var M=this.options;M.raw&&0<=M.windowBits&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(0<=M.windowBits&&M.windowBits<16)||E&&E.windowBits||(M.windowBits+=32),15<M.windowBits&&M.windowBits<48&&(15&M.windowBits)==0&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var _=o.inflateInit2(this.strm,M.windowBits);if(_!==h.Z_OK)throw new Error(p[_]);this.header=new v,o.inflateGetHeader(this.strm,this.header)}function S(E,M){var _=new y(M);if(_.push(E,!0),_.err)throw _.msg||p[_.err];return _.result}y.prototype.push=function(E,M){var _,C,R,O,U,I,F=this.strm,j=this.options.chunkSize,B=this.options.dictionary,k=!1;if(this.ended)return!1;C=M===~~M?M:M===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof E=="string"?F.input=u.binstring2buf(E):b.call(E)==="[object ArrayBuffer]"?F.input=new Uint8Array(E):F.input=E,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new c.Buf8(j),F.next_out=0,F.avail_out=j),(_=o.inflate(F,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&B&&(I=typeof B=="string"?u.string2buf(B):b.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,_=o.inflateSetDictionary(this.strm,I)),_===h.Z_BUF_ERROR&&k===!0&&(_=h.Z_OK,k=!1),_!==h.Z_STREAM_END&&_!==h.Z_OK)return this.onEnd(_),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&_!==h.Z_STREAM_END&&(F.avail_in!==0||C!==h.Z_FINISH&&C!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(R=u.utf8border(F.output,F.next_out),O=F.next_out-R,U=u.buf2string(F.output,R),F.next_out=O,F.avail_out=j-O,O&&c.arraySet(F.output,F.output,R,O,0),this.onData(U)):this.onData(c.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(k=!0)}while((0<F.avail_in||F.avail_out===0)&&_!==h.Z_STREAM_END);return _===h.Z_STREAM_END&&(C=h.Z_FINISH),C===h.Z_FINISH?(_=o.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===h.Z_OK):C!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(F.avail_out=0))},y.prototype.onData=function(E){this.chunks.push(E)},y.prototype.onEnd=function(E){E===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},s.Inflate=y,s.inflate=S,s.inflateRaw=function(E,M){return(M=M||{}).raw=!0,S(E,M)},s.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(h){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var x=p.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(var v in x)x.hasOwnProperty(v)&&(h[v]=x[v])}}return h},s.shrinkBuf=function(h,p){return h.length===p?h:h.subarray?h.subarray(0,p):(h.length=p,h)};var c={arraySet:function(h,p,x,v,b){if(p.subarray&&h.subarray)h.set(p.subarray(x,x+v),b);else for(var y=0;y<v;y++)h[b+y]=p[x+y]},flattenChunks:function(h){var p,x,v,b,y,S;for(p=v=0,x=h.length;p<x;p++)v+=h[p].length;for(S=new Uint8Array(v),p=b=0,x=h.length;p<x;p++)y=h[p],S.set(y,b),b+=y.length;return S}},u={arraySet:function(h,p,x,v,b){for(var y=0;y<v;y++)h[b+y]=p[x+y]},flattenChunks:function(h){return[].concat.apply([],h)}};s.setTyped=function(h){h?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,c)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,u))},s.setTyped(o)},{}],42:[function(t,n,s){var o=t("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var h=new o.Buf8(256),p=0;p<256;p++)h[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function x(v,b){if(b<65537&&(v.subarray&&u||!v.subarray&&c))return String.fromCharCode.apply(null,o.shrinkBuf(v,b));for(var y="",S=0;S<b;S++)y+=String.fromCharCode(v[S]);return y}h[254]=h[254]=1,s.string2buf=function(v){var b,y,S,E,M,_=v.length,C=0;for(E=0;E<_;E++)(64512&(y=v.charCodeAt(E)))==55296&&E+1<_&&(64512&(S=v.charCodeAt(E+1)))==56320&&(y=65536+(y-55296<<10)+(S-56320),E++),C+=y<128?1:y<2048?2:y<65536?3:4;for(b=new o.Buf8(C),E=M=0;M<C;E++)(64512&(y=v.charCodeAt(E)))==55296&&E+1<_&&(64512&(S=v.charCodeAt(E+1)))==56320&&(y=65536+(y-55296<<10)+(S-56320),E++),y<128?b[M++]=y:(y<2048?b[M++]=192|y>>>6:(y<65536?b[M++]=224|y>>>12:(b[M++]=240|y>>>18,b[M++]=128|y>>>12&63),b[M++]=128|y>>>6&63),b[M++]=128|63&y);return b},s.buf2binstring=function(v){return x(v,v.length)},s.binstring2buf=function(v){for(var b=new o.Buf8(v.length),y=0,S=b.length;y<S;y++)b[y]=v.charCodeAt(y);return b},s.buf2string=function(v,b){var y,S,E,M,_=b||v.length,C=new Array(2*_);for(y=S=0;y<_;)if((E=v[y++])<128)C[S++]=E;else if(4<(M=h[E]))C[S++]=65533,y+=M-1;else{for(E&=M===2?31:M===3?15:7;1<M&&y<_;)E=E<<6|63&v[y++],M--;1<M?C[S++]=65533:E<65536?C[S++]=E:(E-=65536,C[S++]=55296|E>>10&1023,C[S++]=56320|1023&E)}return x(C,S)},s.utf8border=function(v,b){var y;for((b=b||v.length)>v.length&&(b=v.length),y=b-1;0<=y&&(192&v[y])==128;)y--;return y<0||y===0?b:y+h[v[y]]>b?y:b}},{"./common":41}],43:[function(t,n,s){n.exports=function(o,c,u,h){for(var p=65535&o|0,x=o>>>16&65535|0,v=0;u!==0;){for(u-=v=2e3<u?2e3:u;x=x+(p=p+c[h++]|0)|0,--v;);p%=65521,x%=65521}return p|x<<16|0}},{}],44:[function(t,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,s){var o=(function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var p=0;p<8;p++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u})();n.exports=function(c,u,h,p){var x=o,v=p+h;c^=-1;for(var b=p;b<v;b++)c=c>>>8^x[255&(c^u[b])];return-1^c}},{}],46:[function(t,n,s){var o,c=t("../utils/common"),u=t("./trees"),h=t("./adler32"),p=t("./crc32"),x=t("./messages"),v=0,b=4,y=0,S=-2,E=-1,M=4,_=2,C=8,R=9,O=286,U=30,I=19,F=2*O+1,j=15,B=3,k=258,J=k+B+1,Y=42,Z=113,L=1,re=2,q=3,W=4;function te(P,X){return P.msg=x[X],X}function oe(P){return(P<<1)-(4<P?9:0)}function Se(P){for(var X=P.length;0<=--X;)P[X]=0}function G(P){var X=P.state,he=X.pending;he>P.avail_out&&(he=P.avail_out),he!==0&&(c.arraySet(P.output,X.pending_buf,X.pending_out,he,P.next_out),P.next_out+=he,X.pending_out+=he,P.total_out+=he,P.avail_out-=he,X.pending-=he,X.pending===0&&(X.pending_out=0))}function $(P,X){u._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,X),P.block_start=P.strstart,G(P.strm)}function se(P,X){P.pending_buf[P.pending++]=X}function de(P,X){P.pending_buf[P.pending++]=X>>>8&255,P.pending_buf[P.pending++]=255&X}function xe(P,X){var he,ee,Q=P.max_chain_length,le=P.strstart,Te=P.prev_length,Me=P.nice_match,ve=P.strstart>P.w_size-J?P.strstart-(P.w_size-J):0,K=P.window,V=P.w_mask,fe=P.prev,we=P.strstart+k,He=K[le+Te-1],Ce=K[le+Te];P.prev_length>=P.good_match&&(Q>>=2),Me>P.lookahead&&(Me=P.lookahead);do if(K[(he=X)+Te]===Ce&&K[he+Te-1]===He&&K[he]===K[le]&&K[++he]===K[le+1]){le+=2,he++;do;while(K[++le]===K[++he]&&K[++le]===K[++he]&&K[++le]===K[++he]&&K[++le]===K[++he]&&K[++le]===K[++he]&&K[++le]===K[++he]&&K[++le]===K[++he]&&K[++le]===K[++he]&&le<we);if(ee=k-(we-le),le=we-k,Te<ee){if(P.match_start=X,Me<=(Te=ee))break;He=K[le+Te-1],Ce=K[le+Te]}}while((X=fe[X&V])>ve&&--Q!=0);return Te<=P.lookahead?Te:P.lookahead}function ge(P){var X,he,ee,Q,le,Te,Me,ve,K,V,fe=P.w_size;do{if(Q=P.window_size-P.lookahead-P.strstart,P.strstart>=fe+(fe-J)){for(c.arraySet(P.window,P.window,fe,fe,0),P.match_start-=fe,P.strstart-=fe,P.block_start-=fe,X=he=P.hash_size;ee=P.head[--X],P.head[X]=fe<=ee?ee-fe:0,--he;);for(X=he=fe;ee=P.prev[--X],P.prev[X]=fe<=ee?ee-fe:0,--he;);Q+=fe}if(P.strm.avail_in===0)break;if(Te=P.strm,Me=P.window,ve=P.strstart+P.lookahead,K=Q,V=void 0,V=Te.avail_in,K<V&&(V=K),he=V===0?0:(Te.avail_in-=V,c.arraySet(Me,Te.input,Te.next_in,V,ve),Te.state.wrap===1?Te.adler=h(Te.adler,Me,V,ve):Te.state.wrap===2&&(Te.adler=p(Te.adler,Me,V,ve)),Te.next_in+=V,Te.total_in+=V,V),P.lookahead+=he,P.lookahead+P.insert>=B)for(le=P.strstart-P.insert,P.ins_h=P.window[le],P.ins_h=(P.ins_h<<P.hash_shift^P.window[le+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[le+B-1])&P.hash_mask,P.prev[le&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=le,le++,P.insert--,!(P.lookahead+P.insert<B)););}while(P.lookahead<J&&P.strm.avail_in!==0)}function _e(P,X){for(var he,ee;;){if(P.lookahead<J){if(ge(P),P.lookahead<J&&X===v)return L;if(P.lookahead===0)break}if(he=0,P.lookahead>=B&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+B-1])&P.hash_mask,he=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),he!==0&&P.strstart-he<=P.w_size-J&&(P.match_length=xe(P,he)),P.match_length>=B)if(ee=u._tr_tally(P,P.strstart-P.match_start,P.match_length-B),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=B){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+B-1])&P.hash_mask,he=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else ee=u._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(ee&&($(P,!1),P.strm.avail_out===0))return L}return P.insert=P.strstart<B-1?P.strstart:B-1,X===b?($(P,!0),P.strm.avail_out===0?q:W):P.last_lit&&($(P,!1),P.strm.avail_out===0)?L:re}function Le(P,X){for(var he,ee,Q;;){if(P.lookahead<J){if(ge(P),P.lookahead<J&&X===v)return L;if(P.lookahead===0)break}if(he=0,P.lookahead>=B&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+B-1])&P.hash_mask,he=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=B-1,he!==0&&P.prev_length<P.max_lazy_match&&P.strstart-he<=P.w_size-J&&(P.match_length=xe(P,he),P.match_length<=5&&(P.strategy===1||P.match_length===B&&4096<P.strstart-P.match_start)&&(P.match_length=B-1)),P.prev_length>=B&&P.match_length<=P.prev_length){for(Q=P.strstart+P.lookahead-B,ee=u._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-B),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=Q&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+B-1])&P.hash_mask,he=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=B-1,P.strstart++,ee&&($(P,!1),P.strm.avail_out===0))return L}else if(P.match_available){if((ee=u._tr_tally(P,0,P.window[P.strstart-1]))&&$(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return L}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(ee=u._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<B-1?P.strstart:B-1,X===b?($(P,!0),P.strm.avail_out===0?q:W):P.last_lit&&($(P,!1),P.strm.avail_out===0)?L:re}function Ye(P,X,he,ee,Q){this.good_length=P,this.max_lazy=X,this.nice_length=he,this.max_chain=ee,this.func=Q}function qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*F),this.dyn_dtree=new c.Buf16(2*(2*U+1)),this.bl_tree=new c.Buf16(2*(2*I+1)),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(j+1),this.heap=new c.Buf16(2*O+1),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*O+1),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ut(P){var X;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=_,(X=P.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?Y:Z,P.adler=X.wrap===2?0:1,X.last_flush=v,u._tr_init(X),y):te(P,S)}function St(P){var X=ut(P);return X===y&&(function(he){he.window_size=2*he.w_size,Se(he.head),he.max_lazy_match=o[he.level].max_lazy,he.good_match=o[he.level].good_length,he.nice_match=o[he.level].nice_length,he.max_chain_length=o[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=B-1,he.match_available=0,he.ins_h=0})(P.state),X}function mt(P,X,he,ee,Q,le){if(!P)return S;var Te=1;if(X===E&&(X=6),ee<0?(Te=0,ee=-ee):15<ee&&(Te=2,ee-=16),Q<1||R<Q||he!==C||ee<8||15<ee||X<0||9<X||le<0||M<le)return te(P,S);ee===8&&(ee=9);var Me=new qe;return(P.state=Me).strm=P,Me.wrap=Te,Me.gzhead=null,Me.w_bits=ee,Me.w_size=1<<Me.w_bits,Me.w_mask=Me.w_size-1,Me.hash_bits=Q+7,Me.hash_size=1<<Me.hash_bits,Me.hash_mask=Me.hash_size-1,Me.hash_shift=~~((Me.hash_bits+B-1)/B),Me.window=new c.Buf8(2*Me.w_size),Me.head=new c.Buf16(Me.hash_size),Me.prev=new c.Buf16(Me.w_size),Me.lit_bufsize=1<<Q+6,Me.pending_buf_size=4*Me.lit_bufsize,Me.pending_buf=new c.Buf8(Me.pending_buf_size),Me.d_buf=1*Me.lit_bufsize,Me.l_buf=3*Me.lit_bufsize,Me.level=X,Me.strategy=le,Me.method=he,St(P)}o=[new Ye(0,0,0,0,function(P,X){var he=65535;for(he>P.pending_buf_size-5&&(he=P.pending_buf_size-5);;){if(P.lookahead<=1){if(ge(P),P.lookahead===0&&X===v)return L;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var ee=P.block_start+he;if((P.strstart===0||P.strstart>=ee)&&(P.lookahead=P.strstart-ee,P.strstart=ee,$(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-J&&($(P,!1),P.strm.avail_out===0))return L}return P.insert=0,X===b?($(P,!0),P.strm.avail_out===0?q:W):(P.strstart>P.block_start&&($(P,!1),P.strm.avail_out),L)}),new Ye(4,4,8,4,_e),new Ye(4,5,16,8,_e),new Ye(4,6,32,32,_e),new Ye(4,4,16,16,Le),new Ye(8,16,32,32,Le),new Ye(8,16,128,128,Le),new Ye(8,32,128,256,Le),new Ye(32,128,258,1024,Le),new Ye(32,258,258,4096,Le)],s.deflateInit=function(P,X){return mt(P,X,C,15,8,0)},s.deflateInit2=mt,s.deflateReset=St,s.deflateResetKeep=ut,s.deflateSetHeader=function(P,X){return P&&P.state?P.state.wrap!==2?S:(P.state.gzhead=X,y):S},s.deflate=function(P,X){var he,ee,Q,le;if(!P||!P.state||5<X||X<0)return P?te(P,S):S;if(ee=P.state,!P.output||!P.input&&P.avail_in!==0||ee.status===666&&X!==b)return te(P,P.avail_out===0?-5:S);if(ee.strm=P,he=ee.last_flush,ee.last_flush=X,ee.status===Y)if(ee.wrap===2)P.adler=0,se(ee,31),se(ee,139),se(ee,8),ee.gzhead?(se(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),se(ee,255&ee.gzhead.time),se(ee,ee.gzhead.time>>8&255),se(ee,ee.gzhead.time>>16&255),se(ee,ee.gzhead.time>>24&255),se(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),se(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(se(ee,255&ee.gzhead.extra.length),se(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(P.adler=p(P.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=69):(se(ee,0),se(ee,0),se(ee,0),se(ee,0),se(ee,0),se(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),se(ee,3),ee.status=Z);else{var Te=C+(ee.w_bits-8<<4)<<8;Te|=(2<=ee.strategy||ee.level<2?0:ee.level<6?1:ee.level===6?2:3)<<6,ee.strstart!==0&&(Te|=32),Te+=31-Te%31,ee.status=Z,de(ee,Te),ee.strstart!==0&&(de(ee,P.adler>>>16),de(ee,65535&P.adler)),P.adler=1}if(ee.status===69)if(ee.gzhead.extra){for(Q=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=p(P.adler,ee.pending_buf,ee.pending-Q,Q)),G(P),Q=ee.pending,ee.pending!==ee.pending_buf_size));)se(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=p(P.adler,ee.pending_buf,ee.pending-Q,Q)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=73)}else ee.status=73;if(ee.status===73)if(ee.gzhead.name){Q=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=p(P.adler,ee.pending_buf,ee.pending-Q,Q)),G(P),Q=ee.pending,ee.pending===ee.pending_buf_size)){le=1;break}le=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,se(ee,le)}while(le!==0);ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=p(P.adler,ee.pending_buf,ee.pending-Q,Q)),le===0&&(ee.gzindex=0,ee.status=91)}else ee.status=91;if(ee.status===91)if(ee.gzhead.comment){Q=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=p(P.adler,ee.pending_buf,ee.pending-Q,Q)),G(P),Q=ee.pending,ee.pending===ee.pending_buf_size)){le=1;break}le=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,se(ee,le)}while(le!==0);ee.gzhead.hcrc&&ee.pending>Q&&(P.adler=p(P.adler,ee.pending_buf,ee.pending-Q,Q)),le===0&&(ee.status=103)}else ee.status=103;if(ee.status===103&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&G(P),ee.pending+2<=ee.pending_buf_size&&(se(ee,255&P.adler),se(ee,P.adler>>8&255),P.adler=0,ee.status=Z)):ee.status=Z),ee.pending!==0){if(G(P),P.avail_out===0)return ee.last_flush=-1,y}else if(P.avail_in===0&&oe(X)<=oe(he)&&X!==b)return te(P,-5);if(ee.status===666&&P.avail_in!==0)return te(P,-5);if(P.avail_in!==0||ee.lookahead!==0||X!==v&&ee.status!==666){var Me=ee.strategy===2?(function(ve,K){for(var V;;){if(ve.lookahead===0&&(ge(ve),ve.lookahead===0)){if(K===v)return L;break}if(ve.match_length=0,V=u._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++,V&&($(ve,!1),ve.strm.avail_out===0))return L}return ve.insert=0,K===b?($(ve,!0),ve.strm.avail_out===0?q:W):ve.last_lit&&($(ve,!1),ve.strm.avail_out===0)?L:re})(ee,X):ee.strategy===3?(function(ve,K){for(var V,fe,we,He,Ce=ve.window;;){if(ve.lookahead<=k){if(ge(ve),ve.lookahead<=k&&K===v)return L;if(ve.lookahead===0)break}if(ve.match_length=0,ve.lookahead>=B&&0<ve.strstart&&(fe=Ce[we=ve.strstart-1])===Ce[++we]&&fe===Ce[++we]&&fe===Ce[++we]){He=ve.strstart+k;do;while(fe===Ce[++we]&&fe===Ce[++we]&&fe===Ce[++we]&&fe===Ce[++we]&&fe===Ce[++we]&&fe===Ce[++we]&&fe===Ce[++we]&&fe===Ce[++we]&&we<He);ve.match_length=k-(He-we),ve.match_length>ve.lookahead&&(ve.match_length=ve.lookahead)}if(ve.match_length>=B?(V=u._tr_tally(ve,1,ve.match_length-B),ve.lookahead-=ve.match_length,ve.strstart+=ve.match_length,ve.match_length=0):(V=u._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++),V&&($(ve,!1),ve.strm.avail_out===0))return L}return ve.insert=0,K===b?($(ve,!0),ve.strm.avail_out===0?q:W):ve.last_lit&&($(ve,!1),ve.strm.avail_out===0)?L:re})(ee,X):o[ee.level].func(ee,X);if(Me!==q&&Me!==W||(ee.status=666),Me===L||Me===q)return P.avail_out===0&&(ee.last_flush=-1),y;if(Me===re&&(X===1?u._tr_align(ee):X!==5&&(u._tr_stored_block(ee,0,0,!1),X===3&&(Se(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),G(P),P.avail_out===0))return ee.last_flush=-1,y}return X!==b?y:ee.wrap<=0?1:(ee.wrap===2?(se(ee,255&P.adler),se(ee,P.adler>>8&255),se(ee,P.adler>>16&255),se(ee,P.adler>>24&255),se(ee,255&P.total_in),se(ee,P.total_in>>8&255),se(ee,P.total_in>>16&255),se(ee,P.total_in>>24&255)):(de(ee,P.adler>>>16),de(ee,65535&P.adler)),G(P),0<ee.wrap&&(ee.wrap=-ee.wrap),ee.pending!==0?y:1)},s.deflateEnd=function(P){var X;return P&&P.state?(X=P.state.status)!==Y&&X!==69&&X!==73&&X!==91&&X!==103&&X!==Z&&X!==666?te(P,S):(P.state=null,X===Z?te(P,-3):y):S},s.deflateSetDictionary=function(P,X){var he,ee,Q,le,Te,Me,ve,K,V=X.length;if(!P||!P.state||(le=(he=P.state).wrap)===2||le===1&&he.status!==Y||he.lookahead)return S;for(le===1&&(P.adler=h(P.adler,X,V,0)),he.wrap=0,V>=he.w_size&&(le===0&&(Se(he.head),he.strstart=0,he.block_start=0,he.insert=0),K=new c.Buf8(he.w_size),c.arraySet(K,X,V-he.w_size,he.w_size,0),X=K,V=he.w_size),Te=P.avail_in,Me=P.next_in,ve=P.input,P.avail_in=V,P.next_in=0,P.input=X,ge(he);he.lookahead>=B;){for(ee=he.strstart,Q=he.lookahead-(B-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[ee+B-1])&he.hash_mask,he.prev[ee&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=ee,ee++,--Q;);he.strstart=ee,he.lookahead=B-1,ge(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=B-1,he.match_available=0,P.next_in=Me,P.input=ve,P.avail_in=Te,he.wrap=le,y},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,s){n.exports=function(o,c){var u,h,p,x,v,b,y,S,E,M,_,C,R,O,U,I,F,j,B,k,J,Y,Z,L,re;u=o.state,h=o.next_in,L=o.input,p=h+(o.avail_in-5),x=o.next_out,re=o.output,v=x-(c-o.avail_out),b=x+(o.avail_out-257),y=u.dmax,S=u.wsize,E=u.whave,M=u.wnext,_=u.window,C=u.hold,R=u.bits,O=u.lencode,U=u.distcode,I=(1<<u.lenbits)-1,F=(1<<u.distbits)-1;e:do{R<15&&(C+=L[h++]<<R,R+=8,C+=L[h++]<<R,R+=8),j=O[C&I];t:for(;;){if(C>>>=B=j>>>24,R-=B,(B=j>>>16&255)===0)re[x++]=65535&j;else{if(!(16&B)){if((64&B)==0){j=O[(65535&j)+(C&(1<<B)-1)];continue t}if(32&B){u.mode=12;break e}o.msg="invalid literal/length code",u.mode=30;break e}k=65535&j,(B&=15)&&(R<B&&(C+=L[h++]<<R,R+=8),k+=C&(1<<B)-1,C>>>=B,R-=B),R<15&&(C+=L[h++]<<R,R+=8,C+=L[h++]<<R,R+=8),j=U[C&F];n:for(;;){if(C>>>=B=j>>>24,R-=B,!(16&(B=j>>>16&255))){if((64&B)==0){j=U[(65535&j)+(C&(1<<B)-1)];continue n}o.msg="invalid distance code",u.mode=30;break e}if(J=65535&j,R<(B&=15)&&(C+=L[h++]<<R,(R+=8)<B&&(C+=L[h++]<<R,R+=8)),y<(J+=C&(1<<B)-1)){o.msg="invalid distance too far back",u.mode=30;break e}if(C>>>=B,R-=B,(B=x-v)<J){if(E<(B=J-B)&&u.sane){o.msg="invalid distance too far back",u.mode=30;break e}if(Z=_,(Y=0)===M){if(Y+=S-B,B<k){for(k-=B;re[x++]=_[Y++],--B;);Y=x-J,Z=re}}else if(M<B){if(Y+=S+M-B,(B-=M)<k){for(k-=B;re[x++]=_[Y++],--B;);if(Y=0,M<k){for(k-=B=M;re[x++]=_[Y++],--B;);Y=x-J,Z=re}}}else if(Y+=M-B,B<k){for(k-=B;re[x++]=_[Y++],--B;);Y=x-J,Z=re}for(;2<k;)re[x++]=Z[Y++],re[x++]=Z[Y++],re[x++]=Z[Y++],k-=3;k&&(re[x++]=Z[Y++],1<k&&(re[x++]=Z[Y++]))}else{for(Y=x-J;re[x++]=re[Y++],re[x++]=re[Y++],re[x++]=re[Y++],2<(k-=3););k&&(re[x++]=re[Y++],1<k&&(re[x++]=re[Y++]))}break}}break}}while(h<p&&x<b);h-=k=R>>3,C&=(1<<(R-=k<<3))-1,o.next_in=h,o.next_out=x,o.avail_in=h<p?p-h+5:5-(h-p),o.avail_out=x<b?b-x+257:257-(x-b),u.hold=C,u.bits=R}},{}],49:[function(t,n,s){var o=t("../utils/common"),c=t("./adler32"),u=t("./crc32"),h=t("./inffast"),p=t("./inftrees"),x=1,v=2,b=0,y=-2,S=1,E=852,M=592;function _(Y){return(Y>>>24&255)+(Y>>>8&65280)+((65280&Y)<<8)+((255&Y)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(Y){var Z;return Y&&Y.state?(Z=Y.state,Y.total_in=Y.total_out=Z.total=0,Y.msg="",Z.wrap&&(Y.adler=1&Z.wrap),Z.mode=S,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new o.Buf32(E),Z.distcode=Z.distdyn=new o.Buf32(M),Z.sane=1,Z.back=-1,b):y}function O(Y){var Z;return Y&&Y.state?((Z=Y.state).wsize=0,Z.whave=0,Z.wnext=0,R(Y)):y}function U(Y,Z){var L,re;return Y&&Y.state?(re=Y.state,Z<0?(L=0,Z=-Z):(L=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?y:(re.window!==null&&re.wbits!==Z&&(re.window=null),re.wrap=L,re.wbits=Z,O(Y))):y}function I(Y,Z){var L,re;return Y?(re=new C,(Y.state=re).window=null,(L=U(Y,Z))!==b&&(Y.state=null),L):y}var F,j,B=!0;function k(Y){if(B){var Z;for(F=new o.Buf32(512),j=new o.Buf32(32),Z=0;Z<144;)Y.lens[Z++]=8;for(;Z<256;)Y.lens[Z++]=9;for(;Z<280;)Y.lens[Z++]=7;for(;Z<288;)Y.lens[Z++]=8;for(p(x,Y.lens,0,288,F,0,Y.work,{bits:9}),Z=0;Z<32;)Y.lens[Z++]=5;p(v,Y.lens,0,32,j,0,Y.work,{bits:5}),B=!1}Y.lencode=F,Y.lenbits=9,Y.distcode=j,Y.distbits=5}function J(Y,Z,L,re){var q,W=Y.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new o.Buf8(W.wsize)),re>=W.wsize?(o.arraySet(W.window,Z,L-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(re<(q=W.wsize-W.wnext)&&(q=re),o.arraySet(W.window,Z,L-re,q,W.wnext),(re-=q)?(o.arraySet(W.window,Z,L-re,re,0),W.wnext=re,W.whave=W.wsize):(W.wnext+=q,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=q))),0}s.inflateReset=O,s.inflateReset2=U,s.inflateResetKeep=R,s.inflateInit=function(Y){return I(Y,15)},s.inflateInit2=I,s.inflate=function(Y,Z){var L,re,q,W,te,oe,Se,G,$,se,de,xe,ge,_e,Le,Ye,qe,ut,St,mt,P,X,he,ee,Q=0,le=new o.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&Y.avail_in!==0)return y;(L=Y.state).mode===12&&(L.mode=13),te=Y.next_out,q=Y.output,Se=Y.avail_out,W=Y.next_in,re=Y.input,oe=Y.avail_in,G=L.hold,$=L.bits,se=oe,de=Se,X=b;e:for(;;)switch(L.mode){case S:if(L.wrap===0){L.mode=13;break}for(;$<16;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if(2&L.wrap&&G===35615){le[L.check=0]=255&G,le[1]=G>>>8&255,L.check=u(L.check,le,2,0),$=G=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&G)<<8)+(G>>8))%31){Y.msg="incorrect header check",L.mode=30;break}if((15&G)!=8){Y.msg="unknown compression method",L.mode=30;break}if($-=4,P=8+(15&(G>>>=4)),L.wbits===0)L.wbits=P;else if(P>L.wbits){Y.msg="invalid window size",L.mode=30;break}L.dmax=1<<P,Y.adler=L.check=1,L.mode=512&G?10:12,$=G=0;break;case 2:for(;$<16;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if(L.flags=G,(255&L.flags)!=8){Y.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){Y.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=G>>8&1),512&L.flags&&(le[0]=255&G,le[1]=G>>>8&255,L.check=u(L.check,le,2,0)),$=G=0,L.mode=3;case 3:for(;$<32;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}L.head&&(L.head.time=G),512&L.flags&&(le[0]=255&G,le[1]=G>>>8&255,le[2]=G>>>16&255,le[3]=G>>>24&255,L.check=u(L.check,le,4,0)),$=G=0,L.mode=4;case 4:for(;$<16;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}L.head&&(L.head.xflags=255&G,L.head.os=G>>8),512&L.flags&&(le[0]=255&G,le[1]=G>>>8&255,L.check=u(L.check,le,2,0)),$=G=0,L.mode=5;case 5:if(1024&L.flags){for(;$<16;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}L.length=G,L.head&&(L.head.extra_len=G),512&L.flags&&(le[0]=255&G,le[1]=G>>>8&255,L.check=u(L.check,le,2,0)),$=G=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(oe<(xe=L.length)&&(xe=oe),xe&&(L.head&&(P=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),o.arraySet(L.head.extra,re,W,xe,P)),512&L.flags&&(L.check=u(L.check,re,xe,W)),oe-=xe,W+=xe,L.length-=xe),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(oe===0)break e;for(xe=0;P=re[W+xe++],L.head&&P&&L.length<65536&&(L.head.name+=String.fromCharCode(P)),P&&xe<oe;);if(512&L.flags&&(L.check=u(L.check,re,xe,W)),oe-=xe,W+=xe,P)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(oe===0)break e;for(xe=0;P=re[W+xe++],L.head&&P&&L.length<65536&&(L.head.comment+=String.fromCharCode(P)),P&&xe<oe;);if(512&L.flags&&(L.check=u(L.check,re,xe,W)),oe-=xe,W+=xe,P)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;$<16;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if(G!==(65535&L.check)){Y.msg="header crc mismatch",L.mode=30;break}$=G=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),Y.adler=L.check=0,L.mode=12;break;case 10:for(;$<32;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}Y.adler=L.check=_(G),$=G=0,L.mode=11;case 11:if(L.havedict===0)return Y.next_out=te,Y.avail_out=Se,Y.next_in=W,Y.avail_in=oe,L.hold=G,L.bits=$,2;Y.adler=L.check=1,L.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(L.last){G>>>=7&$,$-=7&$,L.mode=27;break}for(;$<3;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}switch(L.last=1&G,$-=1,3&(G>>>=1)){case 0:L.mode=14;break;case 1:if(k(L),L.mode=20,Z!==6)break;G>>>=2,$-=2;break e;case 2:L.mode=17;break;case 3:Y.msg="invalid block type",L.mode=30}G>>>=2,$-=2;break;case 14:for(G>>>=7&$,$-=7&$;$<32;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if((65535&G)!=(G>>>16^65535)){Y.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&G,$=G=0,L.mode=15,Z===6)break e;case 15:L.mode=16;case 16:if(xe=L.length){if(oe<xe&&(xe=oe),Se<xe&&(xe=Se),xe===0)break e;o.arraySet(q,re,W,xe,te),oe-=xe,W+=xe,Se-=xe,te+=xe,L.length-=xe;break}L.mode=12;break;case 17:for(;$<14;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if(L.nlen=257+(31&G),G>>>=5,$-=5,L.ndist=1+(31&G),G>>>=5,$-=5,L.ncode=4+(15&G),G>>>=4,$-=4,286<L.nlen||30<L.ndist){Y.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;$<3;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}L.lens[Te[L.have++]]=7&G,G>>>=3,$-=3}for(;L.have<19;)L.lens[Te[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,he={bits:L.lenbits},X=p(0,L.lens,0,19,L.lencode,0,L.work,he),L.lenbits=he.bits,X){Y.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;Ye=(Q=L.lencode[G&(1<<L.lenbits)-1])>>>16&255,qe=65535&Q,!((Le=Q>>>24)<=$);){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if(qe<16)G>>>=Le,$-=Le,L.lens[L.have++]=qe;else{if(qe===16){for(ee=Le+2;$<ee;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if(G>>>=Le,$-=Le,L.have===0){Y.msg="invalid bit length repeat",L.mode=30;break}P=L.lens[L.have-1],xe=3+(3&G),G>>>=2,$-=2}else if(qe===17){for(ee=Le+3;$<ee;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}$-=Le,P=0,xe=3+(7&(G>>>=Le)),G>>>=3,$-=3}else{for(ee=Le+7;$<ee;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}$-=Le,P=0,xe=11+(127&(G>>>=Le)),G>>>=7,$-=7}if(L.have+xe>L.nlen+L.ndist){Y.msg="invalid bit length repeat",L.mode=30;break}for(;xe--;)L.lens[L.have++]=P}}if(L.mode===30)break;if(L.lens[256]===0){Y.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,he={bits:L.lenbits},X=p(x,L.lens,0,L.nlen,L.lencode,0,L.work,he),L.lenbits=he.bits,X){Y.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,he={bits:L.distbits},X=p(v,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,he),L.distbits=he.bits,X){Y.msg="invalid distances set",L.mode=30;break}if(L.mode=20,Z===6)break e;case 20:L.mode=21;case 21:if(6<=oe&&258<=Se){Y.next_out=te,Y.avail_out=Se,Y.next_in=W,Y.avail_in=oe,L.hold=G,L.bits=$,h(Y,de),te=Y.next_out,q=Y.output,Se=Y.avail_out,W=Y.next_in,re=Y.input,oe=Y.avail_in,G=L.hold,$=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;Ye=(Q=L.lencode[G&(1<<L.lenbits)-1])>>>16&255,qe=65535&Q,!((Le=Q>>>24)<=$);){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if(Ye&&(240&Ye)==0){for(ut=Le,St=Ye,mt=qe;Ye=(Q=L.lencode[mt+((G&(1<<ut+St)-1)>>ut)])>>>16&255,qe=65535&Q,!(ut+(Le=Q>>>24)<=$);){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}G>>>=ut,$-=ut,L.back+=ut}if(G>>>=Le,$-=Le,L.back+=Le,L.length=qe,Ye===0){L.mode=26;break}if(32&Ye){L.back=-1,L.mode=12;break}if(64&Ye){Y.msg="invalid literal/length code",L.mode=30;break}L.extra=15&Ye,L.mode=22;case 22:if(L.extra){for(ee=L.extra;$<ee;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}L.length+=G&(1<<L.extra)-1,G>>>=L.extra,$-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;Ye=(Q=L.distcode[G&(1<<L.distbits)-1])>>>16&255,qe=65535&Q,!((Le=Q>>>24)<=$);){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if((240&Ye)==0){for(ut=Le,St=Ye,mt=qe;Ye=(Q=L.distcode[mt+((G&(1<<ut+St)-1)>>ut)])>>>16&255,qe=65535&Q,!(ut+(Le=Q>>>24)<=$);){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}G>>>=ut,$-=ut,L.back+=ut}if(G>>>=Le,$-=Le,L.back+=Le,64&Ye){Y.msg="invalid distance code",L.mode=30;break}L.offset=qe,L.extra=15&Ye,L.mode=24;case 24:if(L.extra){for(ee=L.extra;$<ee;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}L.offset+=G&(1<<L.extra)-1,G>>>=L.extra,$-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){Y.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(Se===0)break e;if(xe=de-Se,L.offset>xe){if((xe=L.offset-xe)>L.whave&&L.sane){Y.msg="invalid distance too far back",L.mode=30;break}ge=xe>L.wnext?(xe-=L.wnext,L.wsize-xe):L.wnext-xe,xe>L.length&&(xe=L.length),_e=L.window}else _e=q,ge=te-L.offset,xe=L.length;for(Se<xe&&(xe=Se),Se-=xe,L.length-=xe;q[te++]=_e[ge++],--xe;);L.length===0&&(L.mode=21);break;case 26:if(Se===0)break e;q[te++]=L.length,Se--,L.mode=21;break;case 27:if(L.wrap){for(;$<32;){if(oe===0)break e;oe--,G|=re[W++]<<$,$+=8}if(de-=Se,Y.total_out+=de,L.total+=de,de&&(Y.adler=L.check=L.flags?u(L.check,q,de,te-de):c(L.check,q,de,te-de)),de=Se,(L.flags?G:_(G))!==L.check){Y.msg="incorrect data check",L.mode=30;break}$=G=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;$<32;){if(oe===0)break e;oe--,G+=re[W++]<<$,$+=8}if(G!==(4294967295&L.total)){Y.msg="incorrect length check",L.mode=30;break}$=G=0}L.mode=29;case 29:X=1;break e;case 30:X=-3;break e;case 31:return-4;case 32:default:return y}return Y.next_out=te,Y.avail_out=Se,Y.next_in=W,Y.avail_in=oe,L.hold=G,L.bits=$,(L.wsize||de!==Y.avail_out&&L.mode<30&&(L.mode<27||Z!==4))&&J(Y,Y.output,Y.next_out,de-Y.avail_out)?(L.mode=31,-4):(se-=Y.avail_in,de-=Y.avail_out,Y.total_in+=se,Y.total_out+=de,L.total+=de,L.wrap&&de&&(Y.adler=L.check=L.flags?u(L.check,q,de,Y.next_out-de):c(L.check,q,de,Y.next_out-de)),Y.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(se==0&&de===0||Z===4)&&X===b&&(X=-5),X)},s.inflateEnd=function(Y){if(!Y||!Y.state)return y;var Z=Y.state;return Z.window&&(Z.window=null),Y.state=null,b},s.inflateGetHeader=function(Y,Z){var L;return Y&&Y.state?(2&(L=Y.state).wrap)==0?y:((L.head=Z).done=!1,b):y},s.inflateSetDictionary=function(Y,Z){var L,re=Z.length;return Y&&Y.state?(L=Y.state).wrap!==0&&L.mode!==11?y:L.mode===11&&c(1,Z,re,0)!==L.check?-3:J(Y,Z,re,re)?(L.mode=31,-4):(L.havedict=1,b):y},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,s){var o=t("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(x,v,b,y,S,E,M,_){var C,R,O,U,I,F,j,B,k,J=_.bits,Y=0,Z=0,L=0,re=0,q=0,W=0,te=0,oe=0,Se=0,G=0,$=null,se=0,de=new o.Buf16(16),xe=new o.Buf16(16),ge=null,_e=0;for(Y=0;Y<=15;Y++)de[Y]=0;for(Z=0;Z<y;Z++)de[v[b+Z]]++;for(q=J,re=15;1<=re&&de[re]===0;re--);if(re<q&&(q=re),re===0)return S[E++]=20971520,S[E++]=20971520,_.bits=1,0;for(L=1;L<re&&de[L]===0;L++);for(q<L&&(q=L),Y=oe=1;Y<=15;Y++)if(oe<<=1,(oe-=de[Y])<0)return-1;if(0<oe&&(x===0||re!==1))return-1;for(xe[1]=0,Y=1;Y<15;Y++)xe[Y+1]=xe[Y]+de[Y];for(Z=0;Z<y;Z++)v[b+Z]!==0&&(M[xe[v[b+Z]]++]=Z);if(F=x===0?($=ge=M,19):x===1?($=c,se-=257,ge=u,_e-=257,256):($=h,ge=p,-1),Y=L,I=E,te=Z=G=0,O=-1,U=(Se=1<<(W=q))-1,x===1&&852<Se||x===2&&592<Se)return 1;for(;;){for(j=Y-te,k=M[Z]<F?(B=0,M[Z]):M[Z]>F?(B=ge[_e+M[Z]],$[se+M[Z]]):(B=96,0),C=1<<Y-te,L=R=1<<W;S[I+(G>>te)+(R-=C)]=j<<24|B<<16|k|0,R!==0;);for(C=1<<Y-1;G&C;)C>>=1;if(C!==0?(G&=C-1,G+=C):G=0,Z++,--de[Y]==0){if(Y===re)break;Y=v[b+M[Z]]}if(q<Y&&(G&U)!==O){for(te===0&&(te=q),I+=L,oe=1<<(W=Y-te);W+te<re&&!((oe-=de[W+te])<=0);)W++,oe<<=1;if(Se+=1<<W,x===1&&852<Se||x===2&&592<Se)return 1;S[O=G&U]=q<<24|W<<16|I-E|0}}return G!==0&&(S[I+G]=Y-te<<24|64<<16|0),_.bits=q,0}},{"../utils/common":41}],51:[function(t,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,s){var o=t("../utils/common"),c=0,u=1;function h(Q){for(var le=Q.length;0<=--le;)Q[le]=0}var p=0,x=29,v=256,b=v+1+x,y=30,S=19,E=2*b+1,M=15,_=16,C=7,R=256,O=16,U=17,I=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(b+2));h(J);var Y=new Array(2*y);h(Y);var Z=new Array(512);h(Z);var L=new Array(256);h(L);var re=new Array(x);h(re);var q,W,te,oe=new Array(y);function Se(Q,le,Te,Me,ve){this.static_tree=Q,this.extra_bits=le,this.extra_base=Te,this.elems=Me,this.max_length=ve,this.has_stree=Q&&Q.length}function G(Q,le){this.dyn_tree=Q,this.max_code=0,this.stat_desc=le}function $(Q){return Q<256?Z[Q]:Z[256+(Q>>>7)]}function se(Q,le){Q.pending_buf[Q.pending++]=255&le,Q.pending_buf[Q.pending++]=le>>>8&255}function de(Q,le,Te){Q.bi_valid>_-Te?(Q.bi_buf|=le<<Q.bi_valid&65535,se(Q,Q.bi_buf),Q.bi_buf=le>>_-Q.bi_valid,Q.bi_valid+=Te-_):(Q.bi_buf|=le<<Q.bi_valid&65535,Q.bi_valid+=Te)}function xe(Q,le,Te){de(Q,Te[2*le],Te[2*le+1])}function ge(Q,le){for(var Te=0;Te|=1&Q,Q>>>=1,Te<<=1,0<--le;);return Te>>>1}function _e(Q,le,Te){var Me,ve,K=new Array(M+1),V=0;for(Me=1;Me<=M;Me++)K[Me]=V=V+Te[Me-1]<<1;for(ve=0;ve<=le;ve++){var fe=Q[2*ve+1];fe!==0&&(Q[2*ve]=ge(K[fe]++,fe))}}function Le(Q){var le;for(le=0;le<b;le++)Q.dyn_ltree[2*le]=0;for(le=0;le<y;le++)Q.dyn_dtree[2*le]=0;for(le=0;le<S;le++)Q.bl_tree[2*le]=0;Q.dyn_ltree[2*R]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function Ye(Q){8<Q.bi_valid?se(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function qe(Q,le,Te,Me){var ve=2*le,K=2*Te;return Q[ve]<Q[K]||Q[ve]===Q[K]&&Me[le]<=Me[Te]}function ut(Q,le,Te){for(var Me=Q.heap[Te],ve=Te<<1;ve<=Q.heap_len&&(ve<Q.heap_len&&qe(le,Q.heap[ve+1],Q.heap[ve],Q.depth)&&ve++,!qe(le,Me,Q.heap[ve],Q.depth));)Q.heap[Te]=Q.heap[ve],Te=ve,ve<<=1;Q.heap[Te]=Me}function St(Q,le,Te){var Me,ve,K,V,fe=0;if(Q.last_lit!==0)for(;Me=Q.pending_buf[Q.d_buf+2*fe]<<8|Q.pending_buf[Q.d_buf+2*fe+1],ve=Q.pending_buf[Q.l_buf+fe],fe++,Me===0?xe(Q,ve,le):(xe(Q,(K=L[ve])+v+1,le),(V=F[K])!==0&&de(Q,ve-=re[K],V),xe(Q,K=$(--Me),Te),(V=j[K])!==0&&de(Q,Me-=oe[K],V)),fe<Q.last_lit;);xe(Q,R,le)}function mt(Q,le){var Te,Me,ve,K=le.dyn_tree,V=le.stat_desc.static_tree,fe=le.stat_desc.has_stree,we=le.stat_desc.elems,He=-1;for(Q.heap_len=0,Q.heap_max=E,Te=0;Te<we;Te++)K[2*Te]!==0?(Q.heap[++Q.heap_len]=He=Te,Q.depth[Te]=0):K[2*Te+1]=0;for(;Q.heap_len<2;)K[2*(ve=Q.heap[++Q.heap_len]=He<2?++He:0)]=1,Q.depth[ve]=0,Q.opt_len--,fe&&(Q.static_len-=V[2*ve+1]);for(le.max_code=He,Te=Q.heap_len>>1;1<=Te;Te--)ut(Q,K,Te);for(ve=we;Te=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],ut(Q,K,1),Me=Q.heap[1],Q.heap[--Q.heap_max]=Te,Q.heap[--Q.heap_max]=Me,K[2*ve]=K[2*Te]+K[2*Me],Q.depth[ve]=(Q.depth[Te]>=Q.depth[Me]?Q.depth[Te]:Q.depth[Me])+1,K[2*Te+1]=K[2*Me+1]=ve,Q.heap[1]=ve++,ut(Q,K,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],(function(Ce,ft){var rt,ht,gt,Ve,tt,_t,pe=ft.dyn_tree,Ie=ft.max_code,nt=ft.stat_desc.static_tree,me=ft.stat_desc.has_stree,it=ft.stat_desc.extra_bits,at=ft.stat_desc.extra_base,Je=ft.stat_desc.max_length,Ze=0;for(Ve=0;Ve<=M;Ve++)Ce.bl_count[Ve]=0;for(pe[2*Ce.heap[Ce.heap_max]+1]=0,rt=Ce.heap_max+1;rt<E;rt++)Je<(Ve=pe[2*pe[2*(ht=Ce.heap[rt])+1]+1]+1)&&(Ve=Je,Ze++),pe[2*ht+1]=Ve,Ie<ht||(Ce.bl_count[Ve]++,tt=0,at<=ht&&(tt=it[ht-at]),_t=pe[2*ht],Ce.opt_len+=_t*(Ve+tt),me&&(Ce.static_len+=_t*(nt[2*ht+1]+tt)));if(Ze!==0){do{for(Ve=Je-1;Ce.bl_count[Ve]===0;)Ve--;Ce.bl_count[Ve]--,Ce.bl_count[Ve+1]+=2,Ce.bl_count[Je]--,Ze-=2}while(0<Ze);for(Ve=Je;Ve!==0;Ve--)for(ht=Ce.bl_count[Ve];ht!==0;)Ie<(gt=Ce.heap[--rt])||(pe[2*gt+1]!==Ve&&(Ce.opt_len+=(Ve-pe[2*gt+1])*pe[2*gt],pe[2*gt+1]=Ve),ht--)}})(Q,le),_e(K,He,Q.bl_count)}function P(Q,le,Te){var Me,ve,K=-1,V=le[1],fe=0,we=7,He=4;for(V===0&&(we=138,He=3),le[2*(Te+1)+1]=65535,Me=0;Me<=Te;Me++)ve=V,V=le[2*(Me+1)+1],++fe<we&&ve===V||(fe<He?Q.bl_tree[2*ve]+=fe:ve!==0?(ve!==K&&Q.bl_tree[2*ve]++,Q.bl_tree[2*O]++):fe<=10?Q.bl_tree[2*U]++:Q.bl_tree[2*I]++,K=ve,He=(fe=0)===V?(we=138,3):ve===V?(we=6,3):(we=7,4))}function X(Q,le,Te){var Me,ve,K=-1,V=le[1],fe=0,we=7,He=4;for(V===0&&(we=138,He=3),Me=0;Me<=Te;Me++)if(ve=V,V=le[2*(Me+1)+1],!(++fe<we&&ve===V)){if(fe<He)for(;xe(Q,ve,Q.bl_tree),--fe!=0;);else ve!==0?(ve!==K&&(xe(Q,ve,Q.bl_tree),fe--),xe(Q,O,Q.bl_tree),de(Q,fe-3,2)):fe<=10?(xe(Q,U,Q.bl_tree),de(Q,fe-3,3)):(xe(Q,I,Q.bl_tree),de(Q,fe-11,7));K=ve,He=(fe=0)===V?(we=138,3):ve===V?(we=6,3):(we=7,4)}}h(oe);var he=!1;function ee(Q,le,Te,Me){de(Q,(p<<1)+(Me?1:0),3),(function(ve,K,V,fe){Ye(ve),se(ve,V),se(ve,~V),o.arraySet(ve.pending_buf,ve.window,K,V,ve.pending),ve.pending+=V})(Q,le,Te)}s._tr_init=function(Q){he||((function(){var le,Te,Me,ve,K,V=new Array(M+1);for(ve=Me=0;ve<x-1;ve++)for(re[ve]=Me,le=0;le<1<<F[ve];le++)L[Me++]=ve;for(L[Me-1]=ve,ve=K=0;ve<16;ve++)for(oe[ve]=K,le=0;le<1<<j[ve];le++)Z[K++]=ve;for(K>>=7;ve<y;ve++)for(oe[ve]=K<<7,le=0;le<1<<j[ve]-7;le++)Z[256+K++]=ve;for(Te=0;Te<=M;Te++)V[Te]=0;for(le=0;le<=143;)J[2*le+1]=8,le++,V[8]++;for(;le<=255;)J[2*le+1]=9,le++,V[9]++;for(;le<=279;)J[2*le+1]=7,le++,V[7]++;for(;le<=287;)J[2*le+1]=8,le++,V[8]++;for(_e(J,b+1,V),le=0;le<y;le++)Y[2*le+1]=5,Y[2*le]=ge(le,5);q=new Se(J,F,v+1,b,M),W=new Se(Y,j,0,y,M),te=new Se(new Array(0),B,0,S,C)})(),he=!0),Q.l_desc=new G(Q.dyn_ltree,q),Q.d_desc=new G(Q.dyn_dtree,W),Q.bl_desc=new G(Q.bl_tree,te),Q.bi_buf=0,Q.bi_valid=0,Le(Q)},s._tr_stored_block=ee,s._tr_flush_block=function(Q,le,Te,Me){var ve,K,V=0;0<Q.level?(Q.strm.data_type===2&&(Q.strm.data_type=(function(fe){var we,He=4093624447;for(we=0;we<=31;we++,He>>>=1)if(1&He&&fe.dyn_ltree[2*we]!==0)return c;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return u;for(we=32;we<v;we++)if(fe.dyn_ltree[2*we]!==0)return u;return c})(Q)),mt(Q,Q.l_desc),mt(Q,Q.d_desc),V=(function(fe){var we;for(P(fe,fe.dyn_ltree,fe.l_desc.max_code),P(fe,fe.dyn_dtree,fe.d_desc.max_code),mt(fe,fe.bl_desc),we=S-1;3<=we&&fe.bl_tree[2*k[we]+1]===0;we--);return fe.opt_len+=3*(we+1)+5+5+4,we})(Q),ve=Q.opt_len+3+7>>>3,(K=Q.static_len+3+7>>>3)<=ve&&(ve=K)):ve=K=Te+5,Te+4<=ve&&le!==-1?ee(Q,le,Te,Me):Q.strategy===4||K===ve?(de(Q,2+(Me?1:0),3),St(Q,J,Y)):(de(Q,4+(Me?1:0),3),(function(fe,we,He,Ce){var ft;for(de(fe,we-257,5),de(fe,He-1,5),de(fe,Ce-4,4),ft=0;ft<Ce;ft++)de(fe,fe.bl_tree[2*k[ft]+1],3);X(fe,fe.dyn_ltree,we-1),X(fe,fe.dyn_dtree,He-1)})(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,V+1),St(Q,Q.dyn_ltree,Q.dyn_dtree)),Le(Q),Me&&Ye(Q)},s._tr_tally=function(Q,le,Te){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=le>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&le,Q.pending_buf[Q.l_buf+Q.last_lit]=255&Te,Q.last_lit++,le===0?Q.dyn_ltree[2*Te]++:(Q.matches++,le--,Q.dyn_ltree[2*(L[Te]+v+1)]++,Q.dyn_dtree[2*$(le)]++),Q.last_lit===Q.lit_bufsize-1},s._tr_align=function(Q){de(Q,2,3),xe(Q,R,J),(function(le){le.bi_valid===16?(se(le,le.bi_buf),le.bi_buf=0,le.bi_valid=0):8<=le.bi_valid&&(le.pending_buf[le.pending++]=255&le.bi_buf,le.bi_buf>>=8,le.bi_valid-=8)})(Q)}},{"../utils/common":41}],53:[function(t,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,s){(function(o){(function(c,u){if(!c.setImmediate){var h,p,x,v,b=1,y={},S=!1,E=c.document,M=Object.getPrototypeOf&&Object.getPrototypeOf(c);M=M&&M.setTimeout?M:c,h={}.toString.call(c.process)==="[object process]"?function(O){process.nextTick(function(){C(O)})}:(function(){if(c.postMessage&&!c.importScripts){var O=!0,U=c.onmessage;return c.onmessage=function(){O=!1},c.postMessage("","*"),c.onmessage=U,O}})()?(v="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",R,!1):c.attachEvent("onmessage",R),function(O){c.postMessage(v+O,"*")}):c.MessageChannel?((x=new MessageChannel).port1.onmessage=function(O){C(O.data)},function(O){x.port2.postMessage(O)}):E&&"onreadystatechange"in E.createElement("script")?(p=E.documentElement,function(O){var U=E.createElement("script");U.onreadystatechange=function(){C(O),U.onreadystatechange=null,p.removeChild(U),U=null},p.appendChild(U)}):function(O){setTimeout(C,0,O)},M.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var U=new Array(arguments.length-1),I=0;I<U.length;I++)U[I]=arguments[I+1];var F={callback:O,args:U};return y[b]=F,h(b),b++},M.clearImmediate=_}function _(O){delete y[O]}function C(O){if(S)setTimeout(C,0,O);else{var U=y[O];if(U){S=!0;try{(function(I){var F=I.callback,j=I.args;switch(j.length){case 0:F();break;case 1:F(j[0]);break;case 2:F(j[0],j[1]);break;case 3:F(j[0],j[1],j[2]);break;default:F.apply(u,j)}})(U)}finally{_(O),S=!1}}}}function R(O){O.source===c&&typeof O.data=="string"&&O.data.indexOf(v)===0&&C(+O.data.slice(v.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof ax<"u"?ax:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Jb)),Jb.exports}var BO=zO();const PO=_0(BO),kO=`{
  "name": "clickup-clone-gemini",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "license": "MIT",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "preview": "vite preview"
  },
  "dependencies": {
    "@google/genai": "^1.30.0",
    "lucide-react": "^0.344.0",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "jszip": "^3.10.1"
  },
  "devDependencies": {
    "@types/react": "^19.2.0",
    "@types/react-dom": "^19.2.0",
    "@vitejs/plugin-react": "^4.2.1",
    "autoprefixer": "^10.4.18",
    "postcss": "^8.4.35",
    "tailwindcss": "^3.4.1",
    "typescript": "^5.2.2",
    "vite": "^5.1.4"
  }
}`,FO=`MIT License

Copyright (c) 2024 ClickUp Clone Generator

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.`,HO=`{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["src"],
  "references": [{ "path": "./tsconfig.node.json" }]
}`,jO=`{
  "compilerOptions": {
    "composite": true,
    "skipLibCheck": true,
    "module": "ESNext",
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true
  },
  "include": ["vite.config.ts"]
}`,VO=`import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
})`,GO=`/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        clickup: {
          purple: '#7b68ee',
          dark: '#292d34',
          light: '#f7f8f9',
          sidebar: '#1e2126',
          hover: '#363a43',
          border: '#e9ebf0',
          text: '#292d34',
          textLight: '#87909e',
        },
        priority: {
          urgent: '#e44356',
          high: '#ffcc00',
          normal: '#6fddff',
          low: '#87909e',
        }
      },
      fontFamily: {
        sans: ['Inter', 'Segoe UI', 'Helvetica', 'Arial', 'sans-serif'],
      }
    },
  },
  plugins: [],
}`,YO=`export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}`,XO=`<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ClickUp Clone</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/index.tsx"><\/script>
  </body>
</html>`,qO=`# ClickUp Clone with Gemini AI

This is a high-fidelity clone of the ClickUp UI featuring List and Board views, task management, and an integrated AI Brain powered by Google Gemini.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Getting Started

1.  Install dependencies:
    \`\`\`bash
    npm install
    \`\`\`

2.  Create a \`.env.local\` file in the root directory and add your Gemini API key:
    \`\`\`
    VITE_GEMINI_API_KEY=your_api_key_here
    \`\`\`
    *(Note: You may need to update \`geminiService.ts\` to use \`import.meta.env.VITE_GEMINI_API_KEY\` instead of \`process.env.API_KEY\` for Vite compatibility).*

3.  Run the development server:
    \`\`\`bash
    npm run dev
    \`\`\`

## Features

*   **Task Management**: List and Kanban Board views.
*   **AI Brain**: Integrated Gemini AI for task summarization and Q&A.
*   **Mock Backend**: LocalStorage persistence with simulated latency.
*   **Responsive Design**: Tailwind CSS styling matching ClickUp's aesthetic.
`,WO=`@tailwind base;
@tailwind components;
@tailwind utilities;

body { font-family: 'Inter', sans-serif; }

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}`,ZO=async()=>{const i=new PO;i.file("package.json",kO),i.file("LICENSE",FO),i.file("tsconfig.json",HO),i.file("tsconfig.node.json",jO),i.file("vite.config.ts",VO),i.file("tailwind.config.js",GO),i.file("postcss.config.js",YO),i.file("index.html",XO),i.file("README.md",qO);const e=i.folder("src");if(!e)return;e.file("index.css",WO),e.file("App.tsx",`import React, { useState, useEffect, useMemo } from 'react';
import Sidebar from './components/Sidebar';
import Header from './components/Header';
import TaskListView from './components/TaskListView';
import TaskBoardView from './components/TaskBoardView';
import BrainModal from './components/BrainModal';
import { ViewType, Task, Status } from './types';
import { ToastProvider, useToast } from './components/Toast';
import { api } from './services/api';
import { Target, Layout } from 'lucide-react';

const PlaceholderView: React.FC<{ icon: React.ReactNode; title: string; description: string }> = ({ icon, title, description }) => (
  <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50">
    <div className="mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple">
      {React.isValidElement(icon) ? React.cloneElement(icon as React.ReactElement<any>, { size: 64 }) : icon}
    </div>
    <h3 className="text-xl font-bold text-gray-800 mb-2">{title}</h3>
    <p className="text-gray-500 max-w-md text-center">{description}</p>
  </div>
);

const AppContent: React.FC = () => {
  const [currentView, setCurrentView] = useState<ViewType>('list');
  const [activePage, setActivePage] = useState('frontend');
  const [tasks, setTasks] = useState<Task[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isBrainOpen, setIsBrainOpen] = useState(false);
  const { showToast } = useToast();

  useEffect(() => {
    fetchTasks();
  }, []);

  const fetchTasks = async () => {
    try {
      setIsLoading(true);
      const data = await api.getTasks();
      setTasks(data);
    } catch (error) {
      showToast('Failed to load tasks from backend', 'error');
    } finally {
      setIsLoading(false);
    }
  };

  const handleStatusChange = async (taskId: string, newStatus: Status) => {
    const previousTasks = [...tasks];
    setTasks(prev => prev.map(t => 
      t.id === taskId ? { ...t, status: newStatus } : t
    ));

    try {
      await api.updateTask(taskId, { status: newStatus });
    } catch (error) {
      setTasks(previousTasks);
      showToast('Failed to update task status', 'error');
    }
  };

  const handleQuickCreate = async () => {
    const title = prompt("Enter task title:");
    if (!title) return;

    showToast('Creating task...', 'info');
    try {
      const newTask = await api.createTask({
        title,
        status: Status.Todo,
        priority: 'None' as any,
        assignees: [],
        tags: activePage === 'backend' ? ['Backend'] : [],
        description: ''
      });
      setTasks(prev => [...prev, newTask]);
      showToast('Task created successfully', 'success');
    } catch (e) {
      showToast('Failed to create task', 'error');
    }
  };

  const filteredTasks = useMemo(() => {
    switch (activePage) {
      case 'inbox':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.assignees.length === 0);
      case 'home':
        return tasks.filter(t => t.assignees.some(u => u.id === '1') || t.priority === 'Urgent');
      case 'backend':
        return tasks.filter(t => t.tags.includes('Backend') || t.tags.includes('API') || t.tags.includes('Auth'));
      case 'sprints':
        return tasks.filter(t => t.tags.includes('Feature') || t.tags.includes('Bug'));
      case 'frontend':
      default:
        return tasks;
    }
  }, [tasks, activePage]);

  const getPageTitle = () => {
    const map: Record<string, string> = {
      home: 'Home',
      inbox: 'Inbox',
      sprints: 'Engineering / Sprints',
      frontend: 'Engineering / Frontend App',
      backend: 'Engineering / Backend API',
      overview: 'Dashboards / Overview',
      goals: 'Dashboards / Goals'
    };
    return map[activePage] || 'Space';
  };

  return (
    <div className="flex h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900">
      <Sidebar 
        activePage={activePage} 
        onNavigate={setActivePage} 
      />
      
      <div className="flex flex-col flex-1 min-w-0 bg-white">
        <Header 
          currentView={currentView} 
          setCurrentView={setCurrentView} 
          onOpenBrain={() => setIsBrainOpen(true)}
          pageTitle={getPageTitle()}
        />

        <div className="flex-1 flex flex-col min-h-0 relative">
          {['overview'].includes(activePage) && (
             <PlaceholderView 
                icon={<Layout />} 
                title="Overview Dashboard" 
                description="Track high-level metrics and project health here. This module is currently being built." 
             />
          )}
          
          {['goals'].includes(activePage) && (
             <PlaceholderView 
                icon={<Target />} 
                title="Goals & OKRs" 
                description="Set, track, and achieve your team's goals. This feature is coming in the next release." 
             />
          )}

          {!['overview', 'goals'].includes(activePage) && (
            <>
              {currentView === 'list' && (
                <TaskListView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onStatusChange={handleStatusChange} 
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'board' && (
                <TaskBoardView 
                  tasks={filteredTasks} 
                  isLoading={isLoading}
                  onAddTask={handleQuickCreate}
                />
              )}
              {currentView === 'calendar' && (
                <div className="flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500">
                    <div className="text-6xl mb-6 bg-gray-50 p-8 rounded-full"></div>
                    <h3 className="text-lg font-semibold text-gray-700 mb-2">Calendar View</h3>
                    <p className="text-sm text-gray-500">This view is currently under construction.</p>
                    <button className="mt-6 px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors">
                      Vote for this feature
                    </button>
                </div>
              )}
            </>
          )}
        </div>
      </div>

      <BrainModal 
        isOpen={isBrainOpen} 
        onClose={() => setIsBrainOpen(false)} 
        tasks={tasks}
      />
    </div>
  );
};

const App: React.FC = () => {
  return (
    <ToastProvider>
      <AppContent />
    </ToastProvider>
  );
};

export default App;`),e.file("index.tsx",`import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);`),e.file("types.ts",`export enum Priority {
  Urgent = 'Urgent',
  High = 'High',
  Normal = 'Normal',
  Low = 'Low',
  None = 'None'
}

export enum Status {
  Todo = 'To do',
  InProgress = 'In Progress',
  Review = 'Review',
  Complete = 'Complete'
}

export interface User {
  id: string;
  name: string;
  avatar: string;
  color: string;
}

export interface Task {
  id: string;
  title: string;
  status: Status;
  priority: Priority;
  assignees: User[];
  dueDate?: string;
  tags: string[];
  description?: string;
}

export type ViewType = 'list' | 'board' | 'calendar';

export const STATUS_COLORS: Record<Status, string> = {
  [Status.Todo]: '#87909e',
  [Status.InProgress]: '#3b82f6',
  [Status.Review]: '#eab308',
  [Status.Complete]: '#22c55e',
};

export const PRIORITY_COLORS: Record<Priority, string> = {
  [Priority.Urgent]: '#e44356',
  [Priority.High]: '#ffcc00',
  [Priority.Normal]: '#6fddff',
  [Priority.Low]: '#87909e',
  [Priority.None]: '#d1d5db',
};`);const t=e.folder("services");t&&(t.file("api.ts",`import { Task, Status, Priority } from '../types';
import { MOCK_TASKS } from '../constants';

const STORAGE_KEY = 'clickup_clone_db_v1';
const DELAY_MS = 600;

const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));

const initDB = () => {
  if (typeof window === 'undefined') return;
  const existing = localStorage.getItem(STORAGE_KEY);
  if (!existing) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(MOCK_TASKS));
  }
};

initDB();

export const api = {
  getTasks: async (): Promise<Task[]> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    return data ? JSON.parse(data) : [];
  },

  updateTask: async (taskId: string, updates: Partial<Task>): Promise<Task> => {
    await delay(DELAY_MS / 2);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const index = tasks.findIndex(t => t.id === taskId);
    if (index === -1) throw new Error('Task not found');

    const updatedTask = { ...tasks[index], ...updates };
    tasks[index] = updatedTask;
    
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return updatedTask;
  },

  createTask: async (task: Omit<Task, 'id'>): Promise<Task> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    const tasks: Task[] = data ? JSON.parse(data) : [];
    
    const newId = \`TASK-\${Math.floor(1000 + Math.random() * 9000)}\`;
    
    const newTask: Task = {
      ...task,
      id: newId,
    };
    
    tasks.push(newTask);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
    return newTask;
  },

  deleteTask: async (taskId: string): Promise<void> => {
    await delay(DELAY_MS);
    const data = localStorage.getItem(STORAGE_KEY);
    let tasks: Task[] = data ? JSON.parse(data) : [];
    
    tasks = tasks.filter(t => t.id !== taskId);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));
  }
};`),t.file("geminiService.ts",`import { GoogleGenAI, GenerateContentResponse } from "@google/genai";
import { Task } from "../types";

// In local dev, utilize import.meta.env for Vite
const apiKey = process.env.API_KEY || ''; 

const ai = apiKey ? new GoogleGenAI({ apiKey }) : null;

export const generateTaskSummary = async (tasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing. Please check your configuration.";

  const taskListString = tasks.map(t => 
    \`- \${t.title} (Status: \${t.status}, Priority: \${t.priority})\`
  ).join('\\n');

  const prompt = \`
    You are an AI project manager assistant called "ClickUp Brain". 
    Analyze the following tasks and provide a concise, professional summary of the current workload.
    Identify potential bottlenecks based on priority and status.
    Keep it under 100 words.

    Tasks:
    \${taskListString}
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "Could not generate summary.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "Sorry, I encountered an error while analyzing your tasks.";
  }
};

export const chatWithBrain = async (message: string, contextTasks: Task[]): Promise<string> => {
  if (!ai) return "API Key is missing.";

  const context = JSON.stringify(contextTasks.map(t => ({ title: t.title, status: t.status })));
  
  const prompt = \`
    Context (Current Tasks): \${context}
    
    User Question: \${message}
    
    Answer as "ClickUp Brain", a helpful productivity assistant. Be concise and helpful.
  \`;

  try {
    const response: GenerateContentResponse = await ai.models.generateContent({
      model: 'gemini-2.5-flash',
      contents: prompt,
    });
    return response.text || "No response generated.";
  } catch (error) {
    console.error("Gemini API Error:", error);
    return "I'm having trouble connecting to the brain right now.";
  }
};`)),e.file("constants.ts",`import { Task, Status, Priority } from './types';

export const MOCK_TASKS: Task[] = [
  {
    id: 'TASK-1023',
    title: 'Implement authentication flow with JWT',
    status: Status.InProgress,
    priority: Priority.High,
    assignees: [
        { id: '1', name: 'Alex', avatar: 'A', color: '#ef4444' },
        { id: '2', name: 'Sam', avatar: 'S', color: '#3b82f6' }
    ],
    dueDate: '2023-11-15',
    tags: ['Backend', 'Auth'],
    description: 'Need to secure the API endpoints.'
  }
];`);const n=e.folder("components");n&&(n.file("Toast.tsx",`import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';
import { CheckCircle, Info, AlertCircle, X } from 'lucide-react';

interface ToastMessage {
  id: number;
  message: string;
  type: 'info' | 'success' | 'error';
}

interface ToastContextType {
  showToast: (message: string, type?: 'info' | 'success' | 'error') => void;
}

const ToastContext = createContext<ToastContextType | undefined>(undefined);

export const useToast = () => {
  const context = useContext(ToastContext);
  if (!context) {
    return { showToast: (msg: string) => console.log('Toast:', msg) };
  }
  return context;
};

const ToastItem: React.FC<ToastMessage & { onClose: (id: number) => void }> = ({ id, message, type, onClose }) => {
  const bgColors = {
    info: 'bg-gray-900 text-white border-gray-800',
    success: 'bg-emerald-600 text-white border-emerald-700',
    error: 'bg-red-600 text-white border-red-700'
  };
  
  const icons = {
    info: <Info size={18} />,
    success: <CheckCircle size={18} />,
    error: <AlertCircle size={18} />
  };

  return (
    <div className={\`\${bgColors[type]} px-4 py-3 rounded-lg shadow-xl flex items-center space-x-3 min-w-[300px] max-w-md animate-in slide-in-from-right-5 fade-in duration-300 border\`}>
      <div className="flex-shrink-0">{icons[type]}</div>
      <span className="text-sm font-medium flex-1">{message}</span>
      <button onClick={() => onClose(id)} className="opacity-70 hover:opacity-100 transition-opacity">
        <X size={16} />
      </button>
    </div>
  );
};

export const ToastProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [toasts, setToasts] = useState<ToastMessage[]>([]);
  
  const showToast = useCallback((message: string, type: 'info' | 'success' | 'error' = 'info') => {
    const id = Date.now();
    setToasts(prev => [...prev, { id, message, type }]);
    setTimeout(() => {
      setToasts(prev => prev.filter(t => t.id !== id));
    }, 3000);
  }, []);

  const removeToast = (id: number) => {
    setToasts(prev => prev.filter(t => t.id !== id));
  };

  return (
    <ToastContext.Provider value={{ showToast }}>
      {children}
      <div className="fixed bottom-6 right-6 z-[100] flex flex-col space-y-3 pointer-events-auto">
        {toasts.map(t => (
          <ToastItem key={t.id} {...t} onClose={removeToast} />
        ))}
      </div>
    </ToastContext.Provider>
  );
};`),n.file("Sidebar.tsx",`import React, { useState, useRef, useEffect } from 'react';
import { 
  Search, Home, Layout, Folder, Hash, MoreHorizontal, 
  ChevronRight, ChevronDown, Plus, Settings, Users, Inbox, Target,
  Download, LogOut, CreditCard, Code
} from 'lucide-react';
import { useToast } from './Toast';
import { api } from '../services/api';
import { downloadProjectSource } from '../utils/projectDownloader';

interface SidebarProps {
  activePage: string;
  onNavigate: (page: string) => void;
}

const Sidebar: React.FC<SidebarProps> = ({ activePage, onNavigate }) => {
  const [spacesExpanded, setSpacesExpanded] = useState(true);
  const [showWorkspaceMenu, setShowWorkspaceMenu] = useState(false);
  const menuRef = useRef<HTMLDivElement>(null);
  const { showToast } = useToast();

  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {
        setShowWorkspaceMenu(false);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, []);

  const handleNavClick = (pageId: string, message: string) => {
    onNavigate(pageId);
  };

  const handleExport = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Preparing JSON export...', 'info');
    
    try {
      const tasks = await api.getTasks();
      const exportData = {
        exportedAt: new Date().toISOString(),
        appName: "ClickUp Clone",
        version: "1.0.0",
        tasks: tasks
      };
      
      const dataStr = JSON.stringify(exportData, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = \`clickup_workspace_export_\${new Date().toISOString().slice(0, 10)}.json\`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      showToast('Workspace data exported successfully!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to export data', 'error');
    }
  };

  const handleDownloadSource = async (e: React.MouseEvent) => {
    e.stopPropagation();
    setShowWorkspaceMenu(false);
    showToast('Generating project ZIP...', 'info');
    try {
      await downloadProjectSource();
      showToast('Source code downloaded!', 'success');
    } catch (error) {
      console.error(error);
      showToast('Failed to generate ZIP', 'error');
    }
  };

  const getItemClass = (id: string) => {
    return activePage === id 
      ? 'bg-clickup-hover text-white font-medium' 
      : 'hover:bg-clickup-hover hover:text-white';
  };

  const getIconClass = (id: string, defaultColor: string = '') => {
    return activePage === id ? 'text-clickup-purple' : (defaultColor || '');
  };

  return (
    <div className="w-64 bg-clickup-sidebar text-gray-400 flex flex-col h-full border-r border-gray-800 flex-shrink-0 select-none relative">
      
      <div className="relative" ref={menuRef}>
        <div 
          className={\`p-3 border-b border-gray-800 flex items-center justify-between cursor-pointer transition-colors group \${showWorkspaceMenu ? 'bg-clickup-hover' : 'hover:bg-clickup-hover'}\`}
          onClick={() => setShowWorkspaceMenu(!showWorkspaceMenu)}
        >
          <div className="flex items-center space-x-2">
            <div className="w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-md flex items-center justify-center text-white font-bold text-sm shadow-md group-hover:shadow-lg transition-shadow">
              G
            </div>
            <div className="flex flex-col">
              <span className="text-gray-200 text-sm font-semibold leading-tight group-hover:text-white transition-colors">Gemini Corp</span>
              <span className="text-[10px] text-gray-500 group-hover:text-gray-400">Free Plan</span>
            </div>
          </div>
          <Settings size={14} className={\`text-gray-500 group-hover:text-gray-300 transition-all duration-300 \${showWorkspaceMenu ? 'rotate-90 text-white' : ''}\`} />
        </div>

        {showWorkspaceMenu && (
          <div className="absolute top-full left-2 right-2 mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden">
            <div className="px-3 py-2 border-b border-gray-700/50 mb-1">
               <p className="text-xs font-semibold text-white">Gemini Corp</p>
               <p className="text-[10px] text-gray-500">owner@example.com</p>
            </div>
            
            <div className="px-1 space-y-0.5">
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Settings size={14} />
                    <span>Settings</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <Users size={14} />
                    <span>Members</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left">
                    <CreditCard size={14} />
                    <span>Billing</span>
                </button>
            </div>

            <div className="h-[1px] bg-gray-700/50 mx-2 my-1.5"></div>

            <div className="px-1 space-y-0.5">
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleExport}
                >
                    <Download size={14} />
                    <span>Export Data (JSON)</span>
                </button>
                <button 
                    className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left"
                    onClick={handleDownloadSource}
                >
                    <Code size={14} />
                    <span>Download Source</span>
                </button>
                <button className="w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left">
                    <LogOut size={14} />
                    <span>Logout</span>
                </button>
            </div>
          </div>
        )}
      </div>

      <div className="px-3 py-2 space-y-0.5">
        <div 
          className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm group transition-colors"
          onClick={() => showToast('Global Search activated', 'info')}
        >
          <Search size={16} className="group-hover:text-white transition-colors" />
          <span className="group-hover:text-white transition-colors">Search</span>
          <span className="ml-auto text-[10px] bg-gray-800 px-1.5 py-0.5 rounded border border-gray-700 text-gray-500 group-hover:border-gray-600">Cmd K</span>
        </div>
        
        <div 
          className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('home')}\`}
          onClick={() => handleNavClick('home', 'Navigated to Home')}
        >
          <Home size={16} className={getIconClass('home')} />
          <span>Home</span>
        </div>
        
        <div 
           className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('inbox')}\`}
           onClick={() => handleNavClick('inbox', 'Navigated to Inbox')}
        >
          <Inbox size={16} className={activePage === 'inbox' ? 'text-blue-400' : ''} />
          <span>Inbox</span>
        </div>
      </div>

      <div className="h-[1px] bg-gray-800 mx-3 my-1 opacity-50"></div>

      <div className="flex-1 overflow-y-auto px-3 py-2 custom-scrollbar">
        <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6">
            <span onClick={() => setSpacesExpanded(!spacesExpanded)}>Spaces</span>
            <div className="flex items-center space-x-1">
               <Plus size={14} className="opacity-0 group-hover:opacity-100 hover:text-white transition-opacity" onClick={(e) => { e.stopPropagation(); showToast('Create new Space', 'info'); }} />
               <div onClick={() => setSpacesExpanded(!spacesExpanded)}>
                {spacesExpanded ? <ChevronDown size={14} /> : <ChevronRight size={14} />}
               </div>
            </div>
          </div>

          {spacesExpanded && (
            <div className="space-y-0.5 animate-in slide-in-from-top-2 duration-200">
              <div className="group">
                <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors">
                  <div className="w-1.5 h-1.5 rounded-full bg-blue-500"></div>
                  <span className="flex-1 truncate font-medium">Engineering</span>
                  <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
                </div>
                <div className="ml-3 pl-3 border-l border-gray-800 mt-0.5 space-y-0.5">
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('sprints')}\`}
                    onClick={() => handleNavClick('sprints', 'Viewing Sprints')}
                  >
                    <Folder size={14} className={activePage === 'sprints' ? 'text-blue-400' : 'text-gray-500'} />
                    <span>Sprints</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('frontend')}\`}
                    onClick={() => handleNavClick('frontend', 'Viewing Frontend App')}
                  >
                    <Hash size={14} className={getIconClass('frontend', 'text-gray-500')} />
                    <span className="truncate">Frontend App</span>
                  </div>
                  <div 
                    className={\`flex items-center space-x-2 p-1.5 rounded cursor-pointer text-sm transition-colors \${getItemClass('backend')}\`}
                    onClick={() => handleNavClick('backend', 'Viewing Backend API')}
                  >
                    <Hash size={14} className={getIconClass('backend', 'text-gray-500')} />
                    <span className="truncate">Backend API</span>
                  </div>
                </div>
              </div>

              <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-green-500"></div>
                <span className="flex-1 truncate font-medium">Design</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>

               <div className="flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm text-gray-300 hover:text-white transition-colors group">
                <div className="w-1.5 h-1.5 rounded-full bg-orange-500"></div>
                <span className="flex-1 truncate font-medium">Marketing</span>
                <MoreHorizontal size={14} className="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-white" onClick={(e) => { e.stopPropagation(); showToast('Space Settings', 'info'); }} />
              </div>
            </div>
          )}
        </div>

         <div className="mb-4">
          <div className="flex items-center justify-between text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group">
             <span>Dashboards</span>
             <Plus size={14} className="cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity" onClick={() => showToast('New Dashboard', 'info')} />
          </div>
          <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('overview')}\`}
            onClick={() => handleNavClick('overview', 'Dashboards Overview')}
          >
             <Layout size={14} />
             <span>Overview</span>
          </div>
           <div 
            className={\`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors \${getItemClass('goals')}\`}
            onClick={() => handleNavClick('goals', 'Goals Dashboard')}
          >
             <Target size={14} />
             <span>Goals</span>
          </div>
        </div>
      </div>

      <div className="p-3 border-t border-gray-800">
         <div 
            className="bg-gradient-to-r from-clickup-purple to-indigo-600 rounded-md p-2 text-white flex items-center justify-center space-x-2 cursor-pointer hover:brightness-110 transition-all active:scale-95"
            onClick={() => showToast('Invite dialog opened', 'info')}
         >
            <Users size={14} />
            <span className="text-sm font-medium">Invite Team</span>
         </div>
      </div>
    </div>
  );
};

export default Sidebar;`),n.file("Header.tsx",`import React from 'react';
import { 
  List, Kanban, Calendar, ChevronDown, Filter, 
  ArrowDownUp, BrainCircuit, Search, Share2
} from 'lucide-react';
import { ViewType } from '../types';
import { useToast } from './Toast';

interface HeaderProps {
  currentView: ViewType;
  setCurrentView: (view: ViewType) => void;
  onOpenBrain: () => void;
  pageTitle: string;
}

const Header: React.FC<HeaderProps> = ({ currentView, setCurrentView, onOpenBrain, pageTitle }) => {
  const { showToast } = useToast();

  return (
    <header className="h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none">
      <div className="flex items-center h-full">
        <div className="flex items-center mr-4 pr-4 border-r border-gray-200 h-6">
          <span 
            className="text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors"
            onClick={() => showToast('Breadcrumb navigation', 'info')}
          >
            {pageTitle} <ChevronDown size={12} className="ml-1 text-gray-400" />
          </span>
        </div>

        <div className="flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg">
          <button 
            onClick={() => setCurrentView('list')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'list' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <List size={14} />
            <span>List</span>
          </button>
          <button 
            onClick={() => setCurrentView('board')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'board' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Kanban size={14} />
            <span>Board</span>
          </button>
           <button 
            onClick={() => setCurrentView('calendar')}
            className={\`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 \${
              currentView === 'calendar' 
                ? 'bg-white text-gray-900 font-medium shadow-sm' 
                : 'text-gray-500 hover:bg-gray-200/50 hover:text-gray-700'
            }\`}
          >
            <Calendar size={14} />
            <span>Calendar</span>
          </button>
          
          <button 
            className="flex items-center space-x-1 px-2 py-1 text-xs text-gray-400 hover:text-gray-700 hover:bg-gray-200/50 rounded transition-colors ml-1"
            onClick={() => showToast('Add View menu', 'info')}
          >
            <ChevronDown size={12} />
            <span>View</span>
          </button>
        </div>
      </div>

      <div className="flex items-center space-x-3">
        <button 
          onClick={onOpenBrain}
          className="group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95"
        >
          <BrainCircuit size={16} className="text-clickup-purple group-hover:rotate-12 transition-transform" />
          <span className="text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent">
            Ask AI
          </span>
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>
        
        <div className="flex items-center space-x-1 text-gray-500">
             <div className="relative group">
                <div 
                    className="flex -space-x-2 cursor-pointer hover:scale-105 transition-transform" 
                    onClick={() => showToast('Manage Assignees', 'info')}
                >
                    <div className="w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">A</div>
                    <div className="w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold">S</div>
                    <div className="w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold">+</div>
                </div>
             </div>
        </div>
        
        <button 
            className="p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors"
            onClick={() => showToast('Share view options', 'info')}
        >
            <Share2 size={16} />
        </button>

        <div className="h-6 w-[1px] bg-gray-200 mx-2"></div>

        <div className="flex items-center space-x-1 text-gray-500">
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Filter menu', 'info')}
            >
                <Filter size={14} />
                <span className="hidden md:inline">Filter</span>
            </button>
            <button 
                className="px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600"
                onClick={() => showToast('Sort menu', 'info')}
            >
                <ArrowDownUp size={14} />
                 <span className="hidden md:inline">Sort</span>
            </button>
        </div>

        <div className="flex items-center border border-gray-200 rounded-md px-2 py-1.5 bg-gray-50 focus-within:bg-white focus-within:border-clickup-purple focus-within:ring-1 focus-within:ring-purple-100 transition-all w-40 md:w-56">
             <Search size={14} className="text-gray-400" />
             <input 
                type="text" 
                placeholder="Search tasks..." 
                className="bg-transparent border-none outline-none text-xs ml-2 w-full text-gray-700 placeholder-gray-400"
                onKeyDown={(e) => e.key === 'Enter' && showToast('Searching tasks...', 'info')}
             />
        </div>
      </div>
    </header>
  );
};

export default Header;`));const s=await i.generateAsync({type:"blob"}),o=URL.createObjectURL(s),c=document.createElement("a");c.href=o,c.download="clickup-clone-source.zip",document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)},KO=({activePage:i,onNavigate:e,onLogout:t,isImmersive:n})=>{const[s,o]=ce.useState([]),[c,u]=ce.useState(!0),[h,p]=ce.useState(!1),[x,v]=ce.useState(!1),[b,y]=ce.useState(!1),[S,E]=ce.useState(!1),[M,_]=ce.useState(!0),C=ce.useRef(null),{showToast:R}=uo();ce.useEffect(()=>{O()},[]);const O=async()=>{try{const Z=await wr.getSpaces();o(Z)}catch(Z){console.error("Failed to load spaces",Z)}finally{_(!1)}},U=async Z=>{Z.stopPropagation();const L=prompt("Enter Space Name:");if(L)try{const re=await wr.createSpace(L);o(q=>[...q,re]),R("Space created!","success"),e(re.id)}catch{R("Failed to create space","error")}},I=async(Z,L)=>{if(Z.stopPropagation(),confirm("Are you sure you want to delete this space and all its tasks?"))try{await wr.deleteSpace(L),o(re=>re.filter(q=>q.id!==L)),i===L&&e("home"),R("Space deleted","success")}catch{R("Failed to delete space","error")}},F=async(Z,L,re)=>{Z.stopPropagation();const q=prompt("Rename Space:",re);if(q&&q!==re)try{await wr.updateSpace(L,{name:q}),o(W=>W.map(te=>te.id===L?{...te,name:q}:te)),R("Space renamed","success")}catch{R("Failed to rename space","error")}};ce.useEffect(()=>{const Z=L=>{C.current&&!C.current.contains(L.target)&&y(!1)};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[]);const j=(Z,L)=>{e(Z)},B=async Z=>{Z.stopPropagation(),y(!1),R("Preparing JSON export...","info");try{const L=await wr.getTasks(),re={exportedAt:new Date().toISOString(),appName:"ClickUp Clone",version:"2.0.0",tasks:L,spaces:s},q=JSON.stringify(re,null,2),W=new Blob([q],{type:"application/json"}),te=URL.createObjectURL(W),oe=document.createElement("a");oe.href=te,oe.download=`clickup_workspace_export_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(te),R("Workspace data exported successfully!","success")}catch(L){console.error(L),R("Failed to export data","error")}},k=async Z=>{Z.stopPropagation(),y(!1),R("Generating project ZIP...","info");try{await ZO(),R("Source code downloaded!","success")}catch(L){console.error(L),R("Failed to generate ZIP","error")}},J=Z=>i===Z?"bg-clickup-hover text-white font-medium":"hover:bg-clickup-hover hover:text-white",Y=(Z,L="")=>i===Z?"text-clickup-purple":L||"";return A.jsxs("div",{className:`${S?"w-16":"w-64"} bg-clickup-sidebar border-gray-800 text-gray-400 flex flex-col h-[calc(100vh-3rem)] border-r flex-shrink-0 select-none relative transition-all duration-300`,children:[A.jsx("button",{onClick:()=>E(!S),className:"absolute -right-3 top-4 bg-clickup-sidebar border border-gray-700 rounded-full p-0.5 text-gray-400 hover:text-white hover:bg-gray-700 z-50 shadow-md transition-colors",children:S?A.jsx(LR,{size:12}):A.jsx(UR,{size:12})}),A.jsxs("div",{className:"relative",ref:C,children:[A.jsxs("div",{className:`p-3 flex items-center ${S?"justify-center":"justify-between"} cursor-pointer transition-colors group ${b?"bg-clickup-hover":"hover:bg-clickup-hover"}`,onClick:()=>y(!b),children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-red-500 rounded flex items-center justify-center text-white font-bold text-xs shadow-sm group-hover:shadow transition-shadow shrink-0",children:"G"}),!S&&A.jsx("div",{className:"flex flex-col min-w-0",children:A.jsx("span",{className:"text-gray-200 text-sm font-medium leading-tight group-hover:text-white transition-colors truncate",children:"Gemini Corp"})})]}),!S&&A.jsx(Kc,{size:14,className:`text-gray-500 group-hover:text-gray-300 transition-all duration-200 ${b?"rotate-180":""}`})]}),b&&A.jsxs("div",{className:`absolute top-full mt-1 bg-[#2a2e35] border border-gray-700 rounded-lg shadow-2xl z-50 py-1 animate-in slide-in-from-top-2 fade-in duration-150 overflow-hidden ${S?"left-14 w-56":"left-2 right-2"}`,children:[A.jsxs("div",{className:"px-3 py-2 border-b border-gray-700/50 mb-1",children:[A.jsx("p",{className:"text-xs font-semibold text-white",children:"Gemini Corp"}),A.jsx("p",{className:"text-[10px] text-gray-500",children:"owner@example.com"})]}),A.jsxs("div",{className:"px-1 space-y-0.5",children:[A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[A.jsx(Y2,{size:14}),A.jsx("span",{children:"Settings"})]}),A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[A.jsx(W2,{size:14}),A.jsx("span",{children:"Members"})]}),A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",children:[A.jsx($R,{size:14}),A.jsx("span",{children:"Billing"})]})]}),A.jsx("div",{className:"h-[1px] bg-gray-700/50 mx-2 my-1.5"}),A.jsxs("div",{className:"px-1 space-y-0.5",children:[A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:B,children:[A.jsx(iD,{size:14}),A.jsx("span",{children:"Export Data (JSON)"})]}),A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-clickup-purple hover:text-white rounded transition-colors text-left",onClick:k,children:[A.jsx(ZR,{size:14}),A.jsx("span",{children:"Download Source"})]}),A.jsxs("button",{className:"w-full flex items-center space-x-2 px-2 py-1.5 text-sm text-gray-300 hover:bg-red-500/20 hover:text-red-400 rounded transition-colors text-left",onClick:()=>{t&&t()},children:[A.jsx(ND,{size:14}),A.jsx("span",{children:"Logout"})]})]})]})]}),A.jsxs("div",{className:"px-2 py-1 space-y-0.5",children:[A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md hover:bg-clickup-hover cursor-pointer text-sm group transition-colors ${S?"justify-center":""}`,onClick:()=>R("Global Search activated","info"),title:S?"Search (Cmd K)":"",children:[A.jsx(gy,{size:16,className:"group-hover:text-white transition-colors shrink-0"}),!S&&A.jsx("span",{className:"group-hover:text-white transition-colors truncate flex-1",children:"Search"})]}),A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${J("home")} ${S?"justify-center":""}`,onClick:()=>j("home"),title:S?"Home":"",children:[A.jsx(fD,{size:16,className:`${Y("home")} shrink-0`}),!S&&A.jsx("span",{children:"Home"})]}),A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${J("inbox")} ${S?"justify-center":""}`,onClick:()=>j("inbox"),title:S?"Inbox":"",children:[A.jsx(d1,{size:16,className:`${i==="inbox"?"text-blue-400":""} shrink-0`}),!S&&A.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[A.jsx("span",{children:"Inbox"}),A.jsx("span",{className:"bg-clickup-dark text-xs px-1.5 py-0.5 rounded text-gray-400 group-hover:text-white transition-colors",children:"4"})]})]}),A.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors group ${["departments","supply-chain","operations","business","support"].some(Z=>i.startsWith(Z))?"bg-clickup-hover text-white":"hover:bg-clickup-hover hover:text-white"} ${S?"justify-center":""}`,onClick:()=>!S&&p(!h),title:S?"Departments":"",children:[A.jsx(MR,{size:16,className:"shrink-0"}),!S&&A.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[A.jsx("span",{children:"Departments"}),h?A.jsx(Kc,{size:14}):A.jsx(iv,{size:14})]})]}),!S&&h&&A.jsxs("div",{className:"ml-4 mt-1 space-y-0.5 border-l border-gray-700 pl-2",children:[A.jsxs("div",{children:[A.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer group ${i.startsWith("supply-chain")?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>v(!x),children:[A.jsx(xO,{size:14,className:"shrink-0"}),A.jsxs("div",{className:"ml-2 flex-1 flex items-center justify-between",children:[A.jsx("span",{className:"text-sm",children:"Supply Chain"}),x?A.jsx(Kc,{size:12}):A.jsx(iv,{size:12})]})]}),x&&A.jsx("div",{className:"ml-4 mt-0.5 space-y-0.5 border-l border-gray-700 pl-2",children:[{id:"procurement",label:"Procurement",icon:eO},{id:"warehouse",label:"Warehouse",icon:AO},{id:"shipping",label:"Shipping",icon:QD},{id:"planning",label:"Planning",icon:Ih},{id:"fleet",label:"Fleet",icon:AR},{id:"vendors",label:"Vendors",icon:q2}].map(Z=>A.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer ${i===`supply-chain/${Z.id}`?"text-blue-400 bg-[#2a2e35]/50":"text-gray-500 hover:text-gray-300"}`,onClick:()=>j(`supply-chain/${Z.id}`,`Opening ${Z.label}...`),children:[A.jsx(Z.icon,{size:12,className:"shrink-0"}),A.jsx("span",{className:"ml-2 text-xs",children:Z.label})]},Z.id))})]}),[{id:"operations",label:"Operations",icon:Y2},{id:"business",label:"Business",icon:SR},{id:"support",label:"Business Support",icon:SD}].map(Z=>A.jsxs("div",{className:`flex items-center px-2 py-1.5 rounded-md cursor-pointer ${i===Z.id?"text-blue-400":"text-gray-400 hover:text-gray-200"}`,onClick:()=>j(Z.id,`Opening ${Z.label}...`),children:[A.jsx(Z.icon,{size:14,className:"shrink-0"}),A.jsx("span",{className:"ml-2 text-sm",children:Z.label})]},Z.id))]})]}),A.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-1 opacity-50"}),A.jsxs("div",{className:"flex-1 overflow-y-auto px-2 py-2 custom-scrollbar overflow-x-hidden",children:[A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:`flex items-center ${S?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 hover:text-gray-300 cursor-pointer group h-6`,children:[!S&&A.jsx("span",{onClick:()=>u(!c),children:"Spaces"}),S&&A.jsx("span",{className:"text-[10px]",children:"SPC"}),!S&&A.jsxs("div",{className:"flex items-center space-x-1",children:[A.jsx("div",{className:"opacity-0 group-hover:opacity-100 hover:text-white transition-opacity cursor-pointer",onClick:U,title:"Create Space",children:A.jsx(ra,{size:14})}),A.jsx("div",{onClick:()=>u(!c),children:c?A.jsx(Kc,{size:14}):A.jsx(iv,{size:14})})]})]}),c&&!M&&A.jsxs("div",{className:"space-y-0.5 animate-in slide-in-from-top-2 duration-200",children:[s.length===0&&!S&&A.jsx("div",{className:"p-3 border border-dashed border-gray-700 rounded text-center text-xs text-gray-500 hover:text-gray-400 hover:border-gray-600 cursor-pointer transition-colors",onClick:U,children:"+ Create your first Space"}),s.map(Z=>A.jsx("div",{className:"group relative",children:A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${J(Z.id)} ${S?"justify-center":""}`,onClick:()=>j(Z.id,`Viewing ${Z.name}`),children:[A.jsx("div",{className:"w-1.5 h-1.5 rounded-full shrink-0",style:{backgroundColor:Z.color}}),!S&&A.jsx("span",{className:"flex-1 truncate font-medium",children:Z.name}),!S&&A.jsxs("div",{className:"hidden group-hover:flex items-center space-x-1",children:[A.jsx(zD,{size:10,className:"text-gray-500 hover:text-white",onClick:L=>F(L,Z.id,Z.name)}),A.jsx(G1,{size:10,className:"text-gray-500 hover:text-red-400",onClick:L=>I(L,Z.id)})]})]})},Z.id))]})]}),A.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:`flex items-center ${S?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!S&&A.jsx("span",{children:"Smart Tools"}),S&&A.jsx("span",{children:"SMT"})]}),A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${J("mind-map")} ${S?"justify-center":""}`,onClick:()=>j("mind-map"),title:S?"Mind Mapping":"",children:[A.jsx(C3,{size:14,className:"shrink-0"}),!S&&A.jsx("span",{children:"Mind Mapping"})]})]}),A.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:`flex items-center ${S?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!S&&A.jsx("span",{children:"Dashboards"}),S&&A.jsx("span",{children:"DBD"}),!S&&A.jsx(ra,{size:14,className:"cursor-pointer hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>R("New Dashboard","info")})]}),A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${J("overview")} ${S?"justify-center":""}`,onClick:()=>j("overview"),title:S?"Dashboards Overview":"",children:[A.jsx(fv,{size:14,className:"shrink-0"}),!S&&A.jsx("span",{children:"Overview"})]}),A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${J("goals")} ${S?"justify-center":""}`,onClick:()=>j("goals"),title:S?"Goals":"",children:[A.jsx(P3,{size:14,className:"shrink-0"}),!S&&A.jsx("span",{children:"Goals"})]})]}),A.jsx("div",{className:"h-[1px] bg-gray-800 mx-3 my-2 opacity-50"}),A.jsxs("div",{className:"mb-4",children:[A.jsxs("div",{className:`flex items-center ${S?"justify-center":"justify-between"} text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 px-2 group`,children:[!S&&A.jsx("span",{children:"Market Place"}),S&&A.jsx("span",{children:"MKT"})]}),A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${J("marketplace/local")} ${S?"justify-center":""}`,onClick:()=>j("marketplace/local"),title:S?"Local Marketplace":"",children:[A.jsx(V1,{size:14,className:"shrink-0"}),!S&&A.jsx("span",{children:"Local Marketplace"})]}),A.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-md cursor-pointer text-sm transition-colors ${J("marketplace/foreign")} ${S?"justify-center":""}`,onClick:()=>j("marketplace/foreign"),title:S?"Foreign Marketplace":"",children:[A.jsx(q2,{size:14,className:"shrink-0"}),!S&&A.jsx("span",{children:"Forigen Marketplace"})]})]})]}),A.jsxs("div",{className:"p-3 border-t border-gray-800",children:[A.jsxs("div",{className:`bg-[#2a2e35] hover:bg-clickup-purple border border-gray-700 rounded-md p-2 text-gray-300 hover:text-white flex items-center ${S?"justify-center":"justify-center space-x-2"} cursor-pointer transition-all active:scale-95 group mb-2`,onClick:()=>R("Invite dialog opened","info"),title:"Invite Team",children:[A.jsx(W2,{size:14,className:"shrink-0"}),!S&&A.jsx("span",{className:"text-sm font-medium",children:"Invite Team"})]}),A.jsxs("div",{className:"flex space-x-2",children:[A.jsxs("div",{className:"flex-1 bg-gradient-to-r from-indigo-900 to-purple-900 hover:from-indigo-800 hover:to-purple-800 border border-indigo-700/50 rounded-md p-2 text-indigo-100 hover:text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-lg shadow-indigo-900/20",onClick:()=>j("space"),title:"Space",children:[A.jsx(VD,{size:14,className:"shrink-0 animate-pulse"}),!S&&A.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Space"})]}),A.jsxs("div",{className:"flex-1 bg-gradient-to-r from-cyan-900 to-blue-900 hover:from-cyan-800 hover:to-blue-800 border border-cyan-700/50 rounded-md p-2 text-cyan-100 hover:text-white flex items-center justify-center cursor-pointer transition-all active:scale-95 group shadow-lg shadow-cyan-900/20",onClick:()=>j("ocean"),title:"Deep Ocean",children:[A.jsx(NO,{size:14,className:"shrink-0 animate-bounce"}),!S&&A.jsx("span",{className:"text-xs font-bold tracking-wide ml-1",children:"Ocean"})]})]})]})]})},JO=({currentView:i,setCurrentView:e,onOpenBrain:t,pageTitle:n,activePage:s,onToggleAddCards:o})=>{const{showToast:c}=uo(),u=s==="home";return A.jsxs("header",{className:"h-14 bg-white border-b border-gray-200 flex items-center px-4 justify-between flex-shrink-0 z-20 select-none",children:[A.jsxs("div",{className:"flex items-center h-full",children:[A.jsx("div",{className:`flex items-center ${u?"":"mr-4 pr-4 border-r border-gray-200"} h-6`,children:A.jsxs("span",{className:"text-sm font-semibold text-gray-700 flex items-center cursor-pointer hover:bg-gray-100 px-2 py-1 rounded transition-colors",onClick:()=>c("Breadcrumb navigation","info"),children:[n," ",!u&&A.jsx(Kc,{size:12,className:"ml-1 text-gray-400"})]})}),!u&&A.jsxs("div",{className:"flex space-x-1 bg-gray-100/50 p-0.5 rounded-lg",children:[A.jsxs("button",{onClick:()=>e("list"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${i==="list"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[A.jsx(wD,{size:14}),A.jsx("span",{children:"List"})]}),A.jsxs("button",{onClick:()=>e("board"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${i==="board"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[A.jsx(xD,{size:14}),A.jsx("span",{children:"Board"})]}),A.jsxs("button",{onClick:()=>e("calendar"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${i==="calendar"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[A.jsx(Ih,{size:14}),A.jsx("span",{children:"Calendar"})]}),A.jsxs("button",{onClick:()=>e("dashboard"),className:`flex items-center space-x-1.5 px-3 py-1.5 rounded-md text-sm transition-all duration-200 ${i==="dashboard"?"bg-white text-gray-900 font-medium shadow-sm":"text-gray-500 hover:bg-gray-200/50 hover:text-gray-700"}`,children:[A.jsx(yD,{size:14}),A.jsx("span",{children:"Dashboard"})]})]})]}),A.jsx("div",{className:"flex items-center space-x-3",children:u?A.jsx(A.Fragment,{children:A.jsx("button",{className:"hover:bg-gray-100 text-gray-600 hover:text-gray-900 px-3 py-1.5 rounded text-xs font-medium transition-colors border border-transparent hover:border-gray-200",onClick:o,children:"Add Cards"})}):A.jsxs(A.Fragment,{children:[A.jsxs("button",{onClick:t,className:"group flex items-center space-x-2 bg-gradient-to-r from-purple-50 to-white border border-purple-100 hover:border-purple-300 px-3 py-1.5 rounded-full transition-all shadow-sm hover:shadow-md active:scale-95",children:[A.jsx(C3,{size:16,className:"text-clickup-purple group-hover:rotate-12 transition-transform"}),A.jsx("span",{className:"text-xs font-semibold text-gray-700 bg-clip-text bg-gradient-to-r from-clickup-purple to-indigo-600 group-hover:text-transparent",children:"Ask AI"})]}),A.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),A.jsx("div",{className:"flex items-center space-x-1 text-gray-500",children:A.jsx("div",{className:"relative group",children:A.jsxs("div",{className:"flex -space-x-2 cursor-pointer hover:scale-105 transition-transform",onClick:()=>c("Manage Assignees","info"),children:[A.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"A"}),A.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center text-[8px] text-white font-bold",children:"S"}),A.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-[8px] text-gray-600 font-bold",children:"+"})]})})}),A.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500 hover:text-gray-700 transition-colors",onClick:()=>c("Share view options","info"),children:A.jsx(WD,{size:16})}),A.jsx("div",{className:"h-6 w-[1px] bg-gray-200 mx-2"}),A.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[A.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>c("Filter menu","info"),children:[A.jsx(O3,{size:14}),A.jsx("span",{className:"hidden md:inline",children:"Filter"})]}),A.jsxs("button",{className:"px-2 py-1.5 hover:bg-gray-100 rounded flex items-center space-x-1.5 text-xs font-medium transition-colors text-gray-600",onClick:()=>c("Sort menu","info"),children:[A.jsx(cR,{size:14}),A.jsx("span",{className:"hidden md:inline",children:"Sort"})]})]})]})})]})},QO=({onOpenBrain:i,user:e,isImmersive:t})=>{const{showToast:n}=uo();return A.jsxs("div",{className:"h-12 bg-brand-dark flex items-center justify-between px-4 flex-shrink-0 z-40 text-gray-300 shadow-md select-none border-b border-white/5",children:[A.jsx("div",{className:"flex items-center w-[280px] shrink-0",children:A.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:opacity-90 transition-opacity group",children:[A.jsx("div",{className:"w-7 h-7 bg-gradient-to-tr from-brand-primary to-indigo-500 rounded-lg flex items-center justify-center shadow-lg shadow-brand-primary/20 group-hover:shadow-brand-primary/40 transition-all",children:A.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M2 17L12 22L22 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),A.jsx("span",{className:"font-bold text-white tracking-tight hidden md:block group-hover:text-brand-accent transition-colors",children:"ClickUp Clone"})]})}),A.jsx("div",{className:"flex-1 flex justify-center px-4 min-w-0",children:A.jsx("div",{className:"w-full max-w-xl relative group",children:A.jsxs("div",{className:"flex items-center bg-[#3E4147] hover:bg-[#4B4E55] transition-colors rounded-lg px-3 py-1.5 cursor-text border border-transparent group-focus-within:border-brand-primary/50 group-focus-within:bg-[#2B2D31] h-8 shadow-inner",children:[A.jsx(gy,{size:14,className:"text-gray-400 group-focus-within:text-brand-primary mr-2 transition-colors"}),A.jsx("input",{type:"text",placeholder:"Search",className:"bg-transparent border-none outline-none text-sm text-gray-200 placeholder-gray-400 w-full group-focus-within:text-white",onKeyDown:s=>s.key==="Enter"&&n("Global Search...","info")}),A.jsx("div",{className:"flex items-center space-x-1 ml-2",children:A.jsxs("div",{className:"hidden md:flex items-center space-x-1 bg-gray-600/50 px-1.5 py-0.5 rounded text-[10px] text-gray-300 border border-gray-500/30 shadow-sm",children:[A.jsx(JR,{size:10}),A.jsx("span",{children:"K"})]})})]})})}),A.jsxs("div",{className:"flex items-center justify-end w-[280px] shrink-0 space-x-1 md:space-x-3",children:[A.jsxs("button",{onClick:i,className:"flex items-center justify-center w-8 h-8 rounded-lg text-white bg-gradient-to-r from-purple-500/20 to-fuchsia-500/20 border border-white/10 hover:border-purple-400/50 hover:bg-purple-500/30 transition-all duration-300 shadow-[0_0_10px_rgba(168,85,247,0.15)] hover:shadow-[0_0_15px_rgba(168,85,247,0.4)] group backdrop-blur-md mr-2 relative overflow-hidden",title:"Ask AI",children:[A.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/30 to-transparent z-0"}),A.jsx(Qo,{size:16,className:"text-fuchsia-400 group-hover:text-white transition-colors z-10"})]}),A.jsxs("button",{className:"flex items-center space-x-1.5 bg-gradient-to-r from-brand-primary to-indigo-600 hover:to-brand-secondary text-white px-3 py-1.5 rounded-md transition-all shadow-glow active:scale-95 group",onClick:()=>n("Create New Item","info"),children:[A.jsx(VR,{size:16,className:"group-hover:rotate-90 transition-transform duration-300"}),A.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"New"})]}),A.jsx("div",{className:"h-5 w-[1px] bg-gray-600/50 mx-2 hidden xl:block"}),A.jsxs("div",{className:"flex items-center space-x-1 text-gray-400",children:[A.jsx("button",{className:"p-2 hover:bg-[#3E4147] rounded-md hover:text-white transition-colors hidden lg:block group relative",title:"My Tasks",children:A.jsx(k1,{size:18})}),A.jsx("button",{className:"p-2 hover:bg-[#3E4147] rounded-md hover:text-white transition-colors hidden xl:block group relative",title:"Track Time",children:A.jsx(F1,{size:18})})]}),A.jsx("div",{className:"h-5 w-[1px] bg-gray-600/50 mx-2 hidden md:block"}),A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsxs("button",{className:"p-2 hover:bg-[#3E4147] rounded-md hover:text-white transition-colors relative",children:[A.jsx(xR,{size:18}),A.jsx("span",{className:"absolute top-1.5 right-2 w-2 h-2 bg-brand-primary rounded-full border border-[#2B2D31]"})]}),e?A.jsx("div",{className:"ml-2 w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white cursor-pointer hover:border-white transition-all shadow-md ring-2 ring-transparent hover:ring-brand-primary/50",style:{backgroundColor:e.color||"#7B61FF"},title:e.name,children:e.avatar}):A.jsx("div",{className:"ml-2 w-8 h-8 rounded-full bg-gray-600 animate-pulse"})]})]})]})};var Pm=(i=>(i.Urgent="Urgent",i.High="High",i.Normal="Normal",i.Low="Low",i.None="None",i))(Pm||{}),S0=(i=>(i.Todo="To do",i.InProgress="In Progress",i.Review="Review",i.Complete="Complete",i))(S0||{});const vy={"To do":"#87909e","In Progress":"#3b82f6",Review:"#eab308",Complete:"#22c55e"},hv={Urgent:"#e44356",High:"#ffcc00",Normal:"#6fddff",Low:"#87909e",None:"#d1d5db"};var Im=w3();function $O(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return ce.useMemo(()=>n=>{e.forEach(s=>s(n))},e)}const yy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lh(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function Y1(i){return"nodeType"in i}function bs(i){var e,t;return i?Lh(i)?i:Y1(i)&&(e=(t=i.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function X1(i){const{Document:e}=bs(i);return i instanceof e}function E0(i){return Lh(i)?!1:i instanceof bs(i).HTMLElement}function F3(i){return i instanceof bs(i).SVGElement}function zh(i){return i?Lh(i)?i.document:Y1(i)?X1(i)?i:E0(i)||F3(i)?i.ownerDocument:document:document:document}const oo=yy?ce.useLayoutEffect:ce.useEffect;function by(i){const e=ce.useRef(i);return oo(()=>{e.current=i}),ce.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function e5(){const i=ce.useRef(null),e=ce.useCallback((n,s)=>{i.current=setInterval(n,s)},[]),t=ce.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,t]}function $m(i,e){e===void 0&&(e=[i]);const t=ce.useRef(i);return oo(()=>{t.current!==i&&(t.current=i)},e),t}function M0(i,e){const t=ce.useRef();return ce.useMemo(()=>{const n=i(t.current);return t.current=n,n},[...e])}function pv(i){const e=by(i),t=ce.useRef(null),n=ce.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,n]}function mv(i){const e=ce.useRef();return ce.useEffect(()=>{e.current=i},[i]),e.current}let Qb={};function T0(i,e){return ce.useMemo(()=>{if(e)return e;const t=Qb[i]==null?0:Qb[i]+1;return Qb[i]=t,i+"-"+t},[i,e])}function H3(i){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return n.reduce((o,c)=>{const u=Object.entries(c);for(const[h,p]of u){const x=o[h];x!=null&&(o[h]=x+i*p)}return o},{...e})}}const vh=H3(1),e0=H3(-1);function t5(i){return"clientX"in i&&"clientY"in i}function _y(i){if(!i)return!1;const{KeyboardEvent:e}=bs(i.target);return e&&i instanceof e}function n5(i){if(!i)return!1;const{TouchEvent:e}=bs(i.target);return e&&i instanceof e}function gv(i){if(n5(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:t}=i.touches[0];return{x:e,y:t}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:t}=i.changedTouches[0];return{x:e,y:t}}}return t5(i)?{x:i.clientX,y:i.clientY}:null}const eu=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:t}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:t}=i;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(i){if(i)return[eu.Translate.toString(i),eu.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:t,easing:n}=i;return e+" "+t+"ms "+n}}}),J2="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function i5(i){return i.matches(J2)?i:i.querySelector(J2)}const a5={display:"none"};function s5(i){let{id:e,value:t}=i;return si.createElement("div",{id:e,style:a5},t)}function r5(i){let{id:e,announcement:t,ariaLiveType:n="assertive"}=i;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return si.createElement("div",{id:e,style:s,role:"status","aria-live":n,"aria-atomic":!0},t)}function o5(){const[i,e]=ce.useState("");return{announce:ce.useCallback(n=>{n!=null&&e(n)},[]),announcement:i}}const j3=ce.createContext(null);function l5(i){const e=ce.useContext(j3);ce.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function c5(){const[i]=ce.useState(()=>new Set),e=ce.useCallback(n=>(i.add(n),()=>i.delete(n)),[i]);return[ce.useCallback(n=>{let{type:s,event:o}=n;i.forEach(c=>{var u;return(u=c[s])==null?void 0:u.call(c,o)})},[i]),e]}const u5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},d5={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function f5(i){let{announcements:e=d5,container:t,hiddenTextDescribedById:n,screenReaderInstructions:s=u5}=i;const{announce:o,announcement:c}=o5(),u=T0("DndLiveRegion"),[h,p]=ce.useState(!1);if(ce.useEffect(()=>{p(!0)},[]),l5(ce.useMemo(()=>({onDragStart(v){let{active:b}=v;o(e.onDragStart({active:b}))},onDragMove(v){let{active:b,over:y}=v;e.onDragMove&&o(e.onDragMove({active:b,over:y}))},onDragOver(v){let{active:b,over:y}=v;o(e.onDragOver({active:b,over:y}))},onDragEnd(v){let{active:b,over:y}=v;o(e.onDragEnd({active:b,over:y}))},onDragCancel(v){let{active:b,over:y}=v;o(e.onDragCancel({active:b,over:y}))}}),[o,e])),!h)return null;const x=si.createElement(si.Fragment,null,si.createElement(s5,{id:n,value:s.draggable}),si.createElement(r5,{id:u,announcement:c}));return t?Im.createPortal(x,t):x}var sa;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(sa||(sa={}));function xv(){}function Q2(i,e){return ce.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function h5(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return ce.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const lo=Object.freeze({x:0,y:0});function p5(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function m5(i,e){const t=gv(i);if(!t)return"0 0";const n={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function g5(i,e){let{data:{value:t}}=i,{data:{value:n}}=e;return t-n}function x5(i,e){let{data:{value:t}}=i,{data:{value:n}}=e;return n-t}function $2(i){let{left:e,top:t,height:n,width:s}=i;return[{x:e,y:t},{x:e+s,y:t},{x:e,y:t+n},{x:e+s,y:t+n}]}function V3(i,e){if(!i||i.length===0)return null;const[t]=i;return t[e]}const G3=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=i;const s=$2(e),o=[];for(const c of n){const{id:u}=c,h=t.get(u);if(h){const p=$2(h),x=s.reduce((b,y,S)=>b+p5(p[S],y),0),v=Number((x/4).toFixed(4));o.push({id:u,data:{droppableContainer:c,value:v}})}}return o.sort(g5)};function v5(i,e){const t=Math.max(e.top,i.top),n=Math.max(e.left,i.left),s=Math.min(e.left+e.width,i.left+i.width),o=Math.min(e.top+e.height,i.top+i.height),c=s-n,u=o-t;if(n<s&&t<o){const h=e.width*e.height,p=i.width*i.height,x=c*u,v=x/(h+p-x);return Number(v.toFixed(4))}return 0}const y5=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=i;const s=[];for(const o of n){const{id:c}=o,u=t.get(c);if(u){const h=v5(u,e);h>0&&s.push({id:c,data:{droppableContainer:o,value:h}})}}return s.sort(x5)};function b5(i,e,t){return{...i,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Y3(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:lo}function _5(i){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((c,u)=>({...c,top:c.top+i*u.y,bottom:c.bottom+i*u.y,left:c.left+i*u.x,right:c.right+i*u.x}),{...t})}}const S5=_5(1);function X3(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function E5(i,e,t){const n=X3(e);if(!n)return i;const{scaleX:s,scaleY:o,x:c,y:u}=n,h=i.left-c-(1-s)*parseFloat(t),p=i.top-u-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),x=s?i.width/s:i.width,v=o?i.height/o:i.height;return{width:x,height:v,top:p,right:h+x,bottom:p+v,left:h}}const M5={ignoreTransform:!1};function Bh(i,e){e===void 0&&(e=M5);let t=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:p,transformOrigin:x}=bs(i).getComputedStyle(i);p&&(t=E5(t,p,x))}const{top:n,left:s,width:o,height:c,bottom:u,right:h}=t;return{top:n,left:s,width:o,height:c,bottom:u,right:h}}function eE(i){return Bh(i,{ignoreTransform:!0})}function T5(i){const e=i.innerWidth,t=i.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function w5(i,e){return e===void 0&&(e=bs(i).getComputedStyle(i)),e.position==="fixed"}function A5(i,e){e===void 0&&(e=bs(i).getComputedStyle(i));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?t.test(o):!1})}function Sy(i,e){const t=[];function n(s){if(e!=null&&t.length>=e||!s)return t;if(X1(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!E0(s)||F3(s)||t.includes(s))return t;const o=bs(i).getComputedStyle(s);return s!==i&&A5(s,o)&&t.push(s),w5(s,o)?t:n(s.parentNode)}return i?n(i):t}function q3(i){const[e]=Sy(i,1);return e??null}function $b(i){return!yy||!i?null:Lh(i)?i:Y1(i)?X1(i)||i===zh(i).scrollingElement?window:E0(i)?i:null:null}function W3(i){return Lh(i)?i.scrollX:i.scrollLeft}function Z3(i){return Lh(i)?i.scrollY:i.scrollTop}function f1(i){return{x:W3(i),y:Z3(i)}}var ba;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(ba||(ba={}));function K3(i){return!yy||!i?!1:i===document.scrollingElement}function J3(i){const e={x:0,y:0},t=K3(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},n={x:i.scrollWidth-t.width,y:i.scrollHeight-t.height},s=i.scrollTop<=e.y,o=i.scrollLeft<=e.x,c=i.scrollTop>=n.y,u=i.scrollLeft>=n.x;return{isTop:s,isLeft:o,isBottom:c,isRight:u,maxScroll:n,minScroll:e}}const C5={x:.2,y:.2};function N5(i,e,t,n,s){let{top:o,left:c,right:u,bottom:h}=t;n===void 0&&(n=10),s===void 0&&(s=C5);const{isTop:p,isBottom:x,isLeft:v,isRight:b}=J3(i),y={x:0,y:0},S={x:0,y:0},E={height:e.height*s.y,width:e.width*s.x};return!p&&o<=e.top+E.height?(y.y=ba.Backward,S.y=n*Math.abs((e.top+E.height-o)/E.height)):!x&&h>=e.bottom-E.height&&(y.y=ba.Forward,S.y=n*Math.abs((e.bottom-E.height-h)/E.height)),!b&&u>=e.right-E.width?(y.x=ba.Forward,S.x=n*Math.abs((e.right-E.width-u)/E.width)):!v&&c<=e.left+E.width&&(y.x=ba.Backward,S.x=n*Math.abs((e.left+E.width-c)/E.width)),{direction:y,speed:S}}function R5(i){if(i===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:e,left:t,right:n,bottom:s}=i.getBoundingClientRect();return{top:e,left:t,right:n,bottom:s,width:i.clientWidth,height:i.clientHeight}}function Q3(i){return i.reduce((e,t)=>vh(e,f1(t)),lo)}function D5(i){return i.reduce((e,t)=>e+W3(t),0)}function O5(i){return i.reduce((e,t)=>e+Z3(t),0)}function $3(i,e){if(e===void 0&&(e=Bh),!i)return;const{top:t,left:n,bottom:s,right:o}=e(i);q3(i)&&(s<=0||o<=0||t>=window.innerHeight||n>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const U5=[["x",["left","right"],D5],["y",["top","bottom"],O5]];class q1{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Sy(t),s=Q3(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,c,u]of U5)for(const h of c)Object.defineProperty(this,h,{get:()=>{const p=u(n),x=s[o]-p;return this.rect[h]+x},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class km{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var s;(s=this.target)==null||s.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function I5(i){const{EventTarget:e}=bs(i);return i instanceof e?i:zh(i)}function e_(i,e){const t=Math.abs(i.x),n=Math.abs(i.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var Tr;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(Tr||(Tr={}));function tE(i){i.preventDefault()}function L5(i){i.stopPropagation()}var Cn;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(Cn||(Cn={}));const ew={start:[Cn.Space,Cn.Enter],cancel:[Cn.Esc],end:[Cn.Space,Cn.Enter,Cn.Tab]},z5=(i,e)=>{let{currentCoordinates:t}=e;switch(i.code){case Cn.Right:return{...t,x:t.x+25};case Cn.Left:return{...t,x:t.x-25};case Cn.Down:return{...t,y:t.y+25};case Cn.Up:return{...t,y:t.y-25}}};class W1{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new km(zh(t)),this.windowListeners=new km(bs(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Tr.Resize,this.handleCancel),this.windowListeners.add(Tr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Tr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&$3(n),t(lo)}handleKeyDown(e){if(_y(e)){const{active:t,context:n,options:s}=this.props,{keyboardCodes:o=ew,coordinateGetter:c=z5,scrollBehavior:u="smooth"}=s,{code:h}=e;if(o.end.includes(h)){this.handleEnd(e);return}if(o.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:p}=n.current,x=p?{x:p.left,y:p.top}:lo;this.referenceCoordinates||(this.referenceCoordinates=x);const v=c(e,{active:t,context:n.current,currentCoordinates:x});if(v){const b=e0(v,x),y={x:0,y:0},{scrollableAncestors:S}=n.current;for(const E of S){const M=e.code,{isTop:_,isRight:C,isLeft:R,isBottom:O,maxScroll:U,minScroll:I}=J3(E),F=R5(E),j={x:Math.min(M===Cn.Right?F.right-F.width/2:F.right,Math.max(M===Cn.Right?F.left:F.left+F.width/2,v.x)),y:Math.min(M===Cn.Down?F.bottom-F.height/2:F.bottom,Math.max(M===Cn.Down?F.top:F.top+F.height/2,v.y))},B=M===Cn.Right&&!C||M===Cn.Left&&!R,k=M===Cn.Down&&!O||M===Cn.Up&&!_;if(B&&j.x!==v.x){const J=E.scrollLeft+b.x,Y=M===Cn.Right&&J<=U.x||M===Cn.Left&&J>=I.x;if(Y&&!b.y){E.scrollTo({left:J,behavior:u});return}Y?y.x=E.scrollLeft-J:y.x=M===Cn.Right?E.scrollLeft-U.x:E.scrollLeft-I.x,y.x&&E.scrollBy({left:-y.x,behavior:u});break}else if(k&&j.y!==v.y){const J=E.scrollTop+b.y,Y=M===Cn.Down&&J<=U.y||M===Cn.Up&&J>=I.y;if(Y&&!b.x){E.scrollTo({top:J,behavior:u});return}Y?y.y=E.scrollTop-J:y.y=M===Cn.Down?E.scrollTop-U.y:E.scrollTop-I.y,y.y&&E.scrollBy({top:-y.y,behavior:u});break}}this.handleMove(e,vh(e0(v,this.referenceCoordinates),y))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}W1.activators=[{eventName:"onKeyDown",handler:(i,e,t)=>{let{keyboardCodes:n=ew,onActivation:s}=e,{active:o}=t;const{code:c}=i.nativeEvent;if(n.start.includes(c)){const u=o.activatorNode.current;return u&&i.target!==u?!1:(i.preventDefault(),s==null||s({event:i.nativeEvent}),!0)}return!1}}];function nE(i){return!!(i&&"distance"in i)}function iE(i){return!!(i&&"delay"in i)}class Z1{constructor(e,t,n){var s;n===void 0&&(n=I5(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:c}=o;this.props=e,this.events=t,this.document=zh(c),this.documentListeners=new km(this.document),this.listeners=new km(n),this.windowListeners=new km(bs(c)),this.initialCoordinates=(s=gv(o))!=null?s:lo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Tr.Resize,this.handleCancel),this.windowListeners.add(Tr.DragStart,tE),this.windowListeners.add(Tr.VisibilityChange,this.handleCancel),this.windowListeners.add(Tr.ContextMenu,tE),this.documentListeners.add(Tr.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iE(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(nE(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Tr.Click,L5,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Tr.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:s,props:o}=this,{onMove:c,options:{activationConstraint:u}}=o;if(!s)return;const h=(t=gv(e))!=null?t:lo,p=e0(s,h);if(!n&&u){if(nE(u)){if(u.tolerance!=null&&e_(p,u.tolerance))return this.handleCancel();if(e_(p,u.distance))return this.handleStart()}if(iE(u)&&e_(p,u.tolerance))return this.handleCancel();this.handlePending(u,p);return}e.cancelable&&e.preventDefault(),c(h)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Cn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const B5={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class K1 extends Z1{constructor(e){const{event:t}=e,n=zh(t.target);super(e,B5,n)}}K1.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n==null||n({event:t}),!0)}}];const P5={move:{name:"mousemove"},end:{name:"mouseup"}};var h1;(function(i){i[i.RightClick=2]="RightClick"})(h1||(h1={}));class k5 extends Z1{constructor(e){super(e,P5,zh(e.event.target))}}k5.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:n}=e;return t.button===h1.RightClick?!1:(n==null||n({event:t}),!0)}}];const t_={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class F5 extends Z1{constructor(e){super(e,t_)}static setup(){return window.addEventListener(t_.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(t_.move.name,e)};function e(){}}}F5.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:n}=e;const{touches:s}=t;return s.length>1?!1:(n==null||n({event:t}),!0)}}];var Fm;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(Fm||(Fm={}));var vv;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(vv||(vv={}));function H5(i){let{acceleration:e,activator:t=Fm.Pointer,canScroll:n,draggingRect:s,enabled:o,interval:c=5,order:u=vv.TreeOrder,pointerCoordinates:h,scrollableAncestors:p,scrollableAncestorRects:x,delta:v,threshold:b}=i;const y=V5({delta:v,disabled:!o}),[S,E]=e5(),M=ce.useRef({x:0,y:0}),_=ce.useRef({x:0,y:0}),C=ce.useMemo(()=>{switch(t){case Fm.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Fm.DraggableRect:return s}},[t,s,h]),R=ce.useRef(null),O=ce.useCallback(()=>{const I=R.current;if(!I)return;const F=M.current.x*_.current.x,j=M.current.y*_.current.y;I.scrollBy(F,j)},[]),U=ce.useMemo(()=>u===vv.TreeOrder?[...p].reverse():p,[u,p]);ce.useEffect(()=>{if(!o||!p.length||!C){E();return}for(const I of U){if((n==null?void 0:n(I))===!1)continue;const F=p.indexOf(I),j=x[F];if(!j)continue;const{direction:B,speed:k}=N5(I,j,C,e,b);for(const J of["x","y"])y[J][B[J]]||(k[J]=0,B[J]=0);if(k.x>0||k.y>0){E(),R.current=I,S(O,c),M.current=k,_.current=B;return}}M.current={x:0,y:0},_.current={x:0,y:0},E()},[e,O,n,E,o,c,JSON.stringify(C),JSON.stringify(y),S,p,U,x,JSON.stringify(b)])}const j5={x:{[ba.Backward]:!1,[ba.Forward]:!1},y:{[ba.Backward]:!1,[ba.Forward]:!1}};function V5(i){let{delta:e,disabled:t}=i;const n=mv(e);return M0(s=>{if(t||!n||!s)return j5;const o={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[ba.Backward]:s.x[ba.Backward]||o.x===-1,[ba.Forward]:s.x[ba.Forward]||o.x===1},y:{[ba.Backward]:s.y[ba.Backward]||o.y===-1,[ba.Forward]:s.y[ba.Forward]||o.y===1}}},[t,e,n])}function G5(i,e){const t=e!=null?i.get(e):void 0,n=t?t.node.current:null;return M0(s=>{var o;return e==null?null:(o=n??s)!=null?o:null},[n,e])}function Y5(i,e){return ce.useMemo(()=>i.reduce((t,n)=>{const{sensor:s}=n,o=s.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,n)}));return[...t,...o]},[]),[i,e])}var t0;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(t0||(t0={}));var p1;(function(i){i.Optimized="optimized"})(p1||(p1={}));const aE=new Map;function X5(i,e){let{dragging:t,dependencies:n,config:s}=e;const[o,c]=ce.useState(null),{frequency:u,measure:h,strategy:p}=s,x=ce.useRef(i),v=M(),b=$m(v),y=ce.useCallback(function(_){_===void 0&&(_=[]),!b.current&&c(C=>C===null?_:C.concat(_.filter(R=>!C.includes(R))))},[b]),S=ce.useRef(null),E=M0(_=>{if(v&&!t)return aE;if(!_||_===aE||x.current!==i||o!=null){const C=new Map;for(let R of i){if(!R)continue;if(o&&o.length>0&&!o.includes(R.id)&&R.rect.current){C.set(R.id,R.rect.current);continue}const O=R.node.current,U=O?new q1(h(O),O):null;R.rect.current=U,U&&C.set(R.id,U)}return C}return _},[i,o,t,v,h]);return ce.useEffect(()=>{x.current=i},[i]),ce.useEffect(()=>{v||y()},[t,v]),ce.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),ce.useEffect(()=>{v||typeof u!="number"||S.current!==null||(S.current=setTimeout(()=>{y(),S.current=null},u))},[u,v,y,...n]),{droppableRects:E,measureDroppableContainers:y,measuringScheduled:o!=null};function M(){switch(p){case t0.Always:return!1;case t0.BeforeDragging:return t;default:return!t}}}function J1(i,e){return M0(t=>i?t||(typeof e=="function"?e(i):i):null,[e,i])}function q5(i,e){return J1(i,e)}function W5(i){let{callback:e,disabled:t}=i;const n=by(e),s=ce.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,t]);return ce.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Ey(i){let{callback:e,disabled:t}=i;const n=by(e),s=ce.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[t]);return ce.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Z5(i){return new q1(Bh(i),i)}function sE(i,e,t){e===void 0&&(e=Z5);const[n,s]=ce.useState(null);function o(){s(h=>{if(!i)return null;if(i.isConnected===!1){var p;return(p=h??t)!=null?p:null}const x=e(i);return JSON.stringify(h)===JSON.stringify(x)?h:x})}const c=W5({callback(h){if(i)for(const p of h){const{type:x,target:v}=p;if(x==="childList"&&v instanceof HTMLElement&&v.contains(i)){o();break}}}}),u=Ey({callback:o});return oo(()=>{o(),i?(u==null||u.observe(i),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),c==null||c.disconnect())},[i]),n}function K5(i){const e=J1(i);return Y3(i,e)}const rE=[];function J5(i){const e=ce.useRef(i),t=M0(n=>i?n&&n!==rE&&i&&e.current&&i.parentNode===e.current.parentNode?n:Sy(i):rE,[i]);return ce.useEffect(()=>{e.current=i},[i]),t}function Q5(i){const[e,t]=ce.useState(null),n=ce.useRef(i),s=ce.useCallback(o=>{const c=$b(o.target);c&&t(u=>u?(u.set(c,f1(c)),new Map(u)):null)},[]);return ce.useEffect(()=>{const o=n.current;if(i!==o){c(o);const u=i.map(h=>{const p=$b(h);return p?(p.addEventListener("scroll",s,{passive:!0}),[p,f1(p)]):null}).filter(h=>h!=null);t(u.length?new Map(u):null),n.current=i}return()=>{c(i),c(o)};function c(u){u.forEach(h=>{const p=$b(h);p==null||p.removeEventListener("scroll",s)})}},[s,i]),ce.useMemo(()=>i.length?e?Array.from(e.values()).reduce((o,c)=>vh(o,c),lo):Q3(i):lo,[i,e])}function oE(i,e){e===void 0&&(e=[]);const t=ce.useRef(null);return ce.useEffect(()=>{t.current=null},e),ce.useEffect(()=>{const n=i!==lo;n&&!t.current&&(t.current=i),!n&&t.current&&(t.current=null)},[i]),t.current?e0(i,t.current):lo}function $5(i){ce.useEffect(()=>{if(!yy)return;const e=i.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t==null||t()}},i.map(e=>{let{sensor:t}=e;return t}))}function e4(i,e){return ce.useMemo(()=>i.reduce((t,n)=>{let{eventName:s,handler:o}=n;return t[s]=c=>{o(c,e)},t},{}),[i,e])}function tw(i){return ce.useMemo(()=>i?T5(i):null,[i])}const lE=[];function t4(i,e){e===void 0&&(e=Bh);const[t]=i,n=tw(t?bs(t):null),[s,o]=ce.useState(lE);function c(){o(()=>i.length?i.map(h=>K3(h)?n:new q1(e(h),h)):lE)}const u=Ey({callback:c});return oo(()=>{u==null||u.disconnect(),c(),i.forEach(h=>u==null?void 0:u.observe(h))},[i]),s}function nw(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return E0(e)?e:i}function n4(i){let{measure:e}=i;const[t,n]=ce.useState(null),s=ce.useCallback(p=>{for(const{target:x}of p)if(E0(x)){n(v=>{const b=e(x);return v?{...v,width:b.width,height:b.height}:b});break}},[e]),o=Ey({callback:s}),c=ce.useCallback(p=>{const x=nw(p);o==null||o.disconnect(),x&&(o==null||o.observe(x)),n(x?e(x):null)},[e,o]),[u,h]=pv(c);return ce.useMemo(()=>({nodeRef:u,rect:t,setRef:h}),[t,u,h])}const i4=[{sensor:K1,options:{}},{sensor:W1,options:{}}],a4={current:{}},sv={draggable:{measure:eE},droppable:{measure:eE,strategy:t0.WhileDragging,frequency:p1.Optimized},dragOverlay:{measure:Bh}};class Hm extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const s4={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hm,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xv},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sv,measureDroppableContainers:xv,windowRect:null,measuringScheduled:!1},iw={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xv,draggableNodes:new Map,over:null,measureDroppableContainers:xv},w0=ce.createContext(iw),aw=ce.createContext(s4);function r4(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hm}}}function o4(i,e){switch(e.type){case sa.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case sa.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case sa.DragEnd:case sa.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case sa.RegisterDroppable:{const{element:t}=e,{id:n}=t,s=new Hm(i.droppable.containers);return s.set(n,t),{...i,droppable:{...i.droppable,containers:s}}}case sa.SetDroppableDisabled:{const{id:t,key:n,disabled:s}=e,o=i.droppable.containers.get(t);if(!o||n!==o.key)return i;const c=new Hm(i.droppable.containers);return c.set(t,{...o,disabled:s}),{...i,droppable:{...i.droppable,containers:c}}}case sa.UnregisterDroppable:{const{id:t,key:n}=e,s=i.droppable.containers.get(t);if(!s||n!==s.key)return i;const o=new Hm(i.droppable.containers);return o.delete(t),{...i,droppable:{...i.droppable,containers:o}}}default:return i}}function l4(i){let{disabled:e}=i;const{active:t,activatorEvent:n,draggableNodes:s}=ce.useContext(w0),o=mv(n),c=mv(t==null?void 0:t.id);return ce.useEffect(()=>{if(!e&&!n&&o&&c!=null){if(!_y(o)||document.activeElement===o.target)return;const u=s.get(c);if(!u)return;const{activatorNode:h,node:p}=u;if(!h.current&&!p.current)return;requestAnimationFrame(()=>{for(const x of[h.current,p.current]){if(!x)continue;const v=i5(x);if(v){v.focus();break}}})}},[n,e,s,c,o]),null}function sw(i,e){let{transform:t,...n}=e;return i!=null&&i.length?i.reduce((s,o)=>o({transform:s,...n}),t):t}function c4(i){return ce.useMemo(()=>({draggable:{...sv.draggable,...i==null?void 0:i.draggable},droppable:{...sv.droppable,...i==null?void 0:i.droppable},dragOverlay:{...sv.dragOverlay,...i==null?void 0:i.dragOverlay}}),[i==null?void 0:i.draggable,i==null?void 0:i.droppable,i==null?void 0:i.dragOverlay])}function u4(i){let{activeNode:e,measure:t,initialRect:n,config:s=!0}=i;const o=ce.useRef(!1),{x:c,y:u}=typeof s=="boolean"?{x:s,y:s}:s;oo(()=>{if(!c&&!u||!e){o.current=!1;return}if(o.current||!n)return;const p=e==null?void 0:e.node.current;if(!p||p.isConnected===!1)return;const x=t(p),v=Y3(x,n);if(c||(v.x=0),u||(v.y=0),o.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=q3(p);b&&b.scrollBy({top:v.y,left:v.x})}},[e,c,u,n,t])}const My=ce.createContext({...lo,scaleX:1,scaleY:1});var qc;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(qc||(qc={}));const d4=ce.memo(function(e){var t,n,s,o;let{id:c,accessibility:u,autoScroll:h=!0,children:p,sensors:x=i4,collisionDetection:v=y5,measuring:b,modifiers:y,...S}=e;const E=ce.useReducer(o4,void 0,r4),[M,_]=E,[C,R]=c5(),[O,U]=ce.useState(qc.Uninitialized),I=O===qc.Initialized,{draggable:{active:F,nodes:j,translate:B},droppable:{containers:k}}=M,J=F!=null?j.get(F):null,Y=ce.useRef({initial:null,translated:null}),Z=ce.useMemo(()=>{var Je;return F!=null?{id:F,data:(Je=J==null?void 0:J.data)!=null?Je:a4,rect:Y}:null},[F,J]),L=ce.useRef(null),[re,q]=ce.useState(null),[W,te]=ce.useState(null),oe=$m(S,Object.values(S)),Se=T0("DndDescribedBy",c),G=ce.useMemo(()=>k.getEnabled(),[k]),$=c4(b),{droppableRects:se,measureDroppableContainers:de,measuringScheduled:xe}=X5(G,{dragging:I,dependencies:[B.x,B.y],config:$.droppable}),ge=G5(j,F),_e=ce.useMemo(()=>W?gv(W):null,[W]),Le=at(),Ye=q5(ge,$.draggable.measure);u4({activeNode:F!=null?j.get(F):null,config:Le.layoutShiftCompensation,initialRect:Ye,measure:$.draggable.measure});const qe=sE(ge,$.draggable.measure,Ye),ut=sE(ge?ge.parentElement:null),St=ce.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),mt=k.getNodeFor((t=St.current.over)==null?void 0:t.id),P=n4({measure:$.dragOverlay.measure}),X=(n=P.nodeRef.current)!=null?n:ge,he=I?(s=P.rect)!=null?s:qe:null,ee=!!(P.nodeRef.current&&P.rect),Q=K5(ee?null:qe),le=tw(X?bs(X):null),Te=J5(I?mt??ge:null),Me=t4(Te),ve=sw(y,{transform:{x:B.x-Q.x,y:B.y-Q.y,scaleX:1,scaleY:1},activatorEvent:W,active:Z,activeNodeRect:qe,containerNodeRect:ut,draggingNodeRect:he,over:St.current.over,overlayNodeRect:P.rect,scrollableAncestors:Te,scrollableAncestorRects:Me,windowRect:le}),K=_e?vh(_e,B):null,V=Q5(Te),fe=oE(V),we=oE(V,[qe]),He=vh(ve,fe),Ce=he?S5(he,ve):null,ft=Z&&Ce?v({active:Z,collisionRect:Ce,droppableRects:se,droppableContainers:G,pointerCoordinates:K}):null,rt=V3(ft,"id"),[ht,gt]=ce.useState(null),Ve=ee?ve:vh(ve,we),tt=b5(Ve,(o=ht==null?void 0:ht.rect)!=null?o:null,qe),_t=ce.useRef(null),pe=ce.useCallback((Je,Ze)=>{let{sensor:Xe,options:ct}=Ze;if(L.current==null)return;const Et=j.get(L.current);if(!Et)return;const kt=Je.nativeEvent,Ft=new Xe({active:L.current,activeNode:Et,event:kt,options:ct,context:St,onAbort(dn){if(!j.get(dn))return;const{onDragAbort:Vi}=oe.current,Ki={id:dn};Vi==null||Vi(Ki),C({type:"onDragAbort",event:Ki})},onPending(dn,Da,Vi,Ki){if(!j.get(dn))return;const{onDragPending:Oa}=oe.current,gi={id:dn,constraint:Da,initialCoordinates:Vi,offset:Ki};Oa==null||Oa(gi),C({type:"onDragPending",event:gi})},onStart(dn){const Da=L.current;if(Da==null)return;const Vi=j.get(Da);if(!Vi)return;const{onDragStart:Ki}=oe.current,ri={activatorEvent:kt,active:{id:Da,data:Vi.data,rect:Y}};Im.unstable_batchedUpdates(()=>{Ki==null||Ki(ri),U(qc.Initializing),_({type:sa.DragStart,initialCoordinates:dn,active:Da}),C({type:"onDragStart",event:ri}),q(_t.current),te(kt)})},onMove(dn){_({type:sa.DragMove,coordinates:dn})},onEnd:In(sa.DragEnd),onCancel:In(sa.DragCancel)});_t.current=Ft;function In(dn){return async function(){const{active:Vi,collisions:Ki,over:ri,scrollAdjustedTranslate:Oa}=St.current;let gi=null;if(Vi&&Oa){const{cancelDrop:Ui}=oe.current;gi={activatorEvent:kt,active:Vi,collisions:Ki,delta:Oa,over:ri},dn===sa.DragEnd&&typeof Ui=="function"&&await Promise.resolve(Ui(gi))&&(dn=sa.DragCancel)}L.current=null,Im.unstable_batchedUpdates(()=>{_({type:dn}),U(qc.Uninitialized),gt(null),q(null),te(null),_t.current=null;const Ui=dn===sa.DragEnd?"onDragEnd":"onDragCancel";if(gi){const wi=oe.current[Ui];wi==null||wi(gi),C({type:Ui,event:gi})}})}}},[j]),Ie=ce.useCallback((Je,Ze)=>(Xe,ct)=>{const Et=Xe.nativeEvent,kt=j.get(ct);if(L.current!==null||!kt||Et.dndKit||Et.defaultPrevented)return;const Ft={active:kt};Je(Xe,Ze.options,Ft)===!0&&(Et.dndKit={capturedBy:Ze.sensor},L.current=ct,pe(Xe,Ze))},[j,pe]),nt=Y5(x,Ie);$5(x),oo(()=>{qe&&O===qc.Initializing&&U(qc.Initialized)},[qe,O]),ce.useEffect(()=>{const{onDragMove:Je}=oe.current,{active:Ze,activatorEvent:Xe,collisions:ct,over:Et}=St.current;if(!Ze||!Xe)return;const kt={active:Ze,activatorEvent:Xe,collisions:ct,delta:{x:He.x,y:He.y},over:Et};Im.unstable_batchedUpdates(()=>{Je==null||Je(kt),C({type:"onDragMove",event:kt})})},[He.x,He.y]),ce.useEffect(()=>{const{active:Je,activatorEvent:Ze,collisions:Xe,droppableContainers:ct,scrollAdjustedTranslate:Et}=St.current;if(!Je||L.current==null||!Ze||!Et)return;const{onDragOver:kt}=oe.current,Ft=ct.get(rt),In=Ft&&Ft.rect.current?{id:Ft.id,rect:Ft.rect.current,data:Ft.data,disabled:Ft.disabled}:null,dn={active:Je,activatorEvent:Ze,collisions:Xe,delta:{x:Et.x,y:Et.y},over:In};Im.unstable_batchedUpdates(()=>{gt(In),kt==null||kt(dn),C({type:"onDragOver",event:dn})})},[rt]),oo(()=>{St.current={activatorEvent:W,active:Z,activeNode:ge,collisionRect:Ce,collisions:ft,droppableRects:se,draggableNodes:j,draggingNode:X,draggingNodeRect:he,droppableContainers:k,over:ht,scrollableAncestors:Te,scrollAdjustedTranslate:He},Y.current={initial:he,translated:Ce}},[Z,ge,ft,Ce,j,X,he,se,k,ht,Te,He]),H5({...Le,delta:B,draggingRect:Ce,pointerCoordinates:K,scrollableAncestors:Te,scrollableAncestorRects:Me});const me=ce.useMemo(()=>({active:Z,activeNode:ge,activeNodeRect:qe,activatorEvent:W,collisions:ft,containerNodeRect:ut,dragOverlay:P,draggableNodes:j,droppableContainers:k,droppableRects:se,over:ht,measureDroppableContainers:de,scrollableAncestors:Te,scrollableAncestorRects:Me,measuringConfiguration:$,measuringScheduled:xe,windowRect:le}),[Z,ge,qe,W,ft,ut,P,j,k,se,ht,de,Te,Me,$,xe,le]),it=ce.useMemo(()=>({activatorEvent:W,activators:nt,active:Z,activeNodeRect:qe,ariaDescribedById:{draggable:Se},dispatch:_,draggableNodes:j,over:ht,measureDroppableContainers:de}),[W,nt,Z,qe,_,Se,j,ht,de]);return si.createElement(j3.Provider,{value:R},si.createElement(w0.Provider,{value:it},si.createElement(aw.Provider,{value:me},si.createElement(My.Provider,{value:tt},p)),si.createElement(l4,{disabled:(u==null?void 0:u.restoreFocus)===!1})),si.createElement(f5,{...u,hiddenTextDescribedById:Se}));function at(){const Je=(re==null?void 0:re.autoScrollEnabled)===!1,Ze=typeof h=="object"?h.enabled===!1:h===!1,Xe=I&&!Je&&!Ze;return typeof h=="object"?{...h,enabled:Xe}:{enabled:Xe}}}),f4=ce.createContext(null),cE="button",h4="Draggable";function p4(i){let{id:e,data:t,disabled:n=!1,attributes:s}=i;const o=T0(h4),{activators:c,activatorEvent:u,active:h,activeNodeRect:p,ariaDescribedById:x,draggableNodes:v,over:b}=ce.useContext(w0),{role:y=cE,roleDescription:S="draggable",tabIndex:E=0}=s??{},M=(h==null?void 0:h.id)===e,_=ce.useContext(M?My:f4),[C,R]=pv(),[O,U]=pv(),I=e4(c,e),F=$m(t);oo(()=>(v.set(e,{id:e,key:o,node:C,activatorNode:O,data:F}),()=>{const B=v.get(e);B&&B.key===o&&v.delete(e)}),[v,e]);const j=ce.useMemo(()=>({role:y,tabIndex:E,"aria-disabled":n,"aria-pressed":M&&y===cE?!0:void 0,"aria-roledescription":S,"aria-describedby":x.draggable}),[n,y,E,M,S,x.draggable]);return{active:h,activatorEvent:u,activeNodeRect:p,attributes:j,isDragging:M,listeners:n?void 0:I,node:C,over:b,setNodeRef:R,setActivatorNodeRef:U,transform:_}}function rw(){return ce.useContext(aw)}const m4="Droppable",g4={timeout:25};function x4(i){let{data:e,disabled:t=!1,id:n,resizeObserverConfig:s}=i;const o=T0(m4),{active:c,dispatch:u,over:h,measureDroppableContainers:p}=ce.useContext(w0),x=ce.useRef({disabled:t}),v=ce.useRef(!1),b=ce.useRef(null),y=ce.useRef(null),{disabled:S,updateMeasurementsFor:E,timeout:M}={...g4,...s},_=$m(E??n),C=ce.useCallback(()=>{if(!v.current){v.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{p(Array.isArray(_.current)?_.current:[_.current]),y.current=null},M)},[M]),R=Ey({callback:C,disabled:S||!c}),O=ce.useCallback((j,B)=>{R&&(B&&(R.unobserve(B),v.current=!1),j&&R.observe(j))},[R]),[U,I]=pv(O),F=$m(e);return ce.useEffect(()=>{!R||!U.current||(R.disconnect(),v.current=!1,R.observe(U.current))},[U,R]),ce.useEffect(()=>(u({type:sa.RegisterDroppable,element:{id:n,key:o,disabled:t,node:U,rect:b,data:F}}),()=>u({type:sa.UnregisterDroppable,key:o,id:n})),[n]),ce.useEffect(()=>{t!==x.current.disabled&&(u({type:sa.SetDroppableDisabled,id:n,key:o,disabled:t}),x.current.disabled=t)},[n,o,t,u]),{active:c,rect:b,isOver:(h==null?void 0:h.id)===n,node:U,over:h,setNodeRef:I}}function v4(i){let{animation:e,children:t}=i;const[n,s]=ce.useState(null),[o,c]=ce.useState(null),u=mv(t);return!t&&!n&&u&&s(u),oo(()=>{if(!o)return;const h=n==null?void 0:n.key,p=n==null?void 0:n.props.id;if(h==null||p==null){s(null);return}Promise.resolve(e(p,o)).then(()=>{s(null)})},[e,n,o]),si.createElement(si.Fragment,null,t,n?ce.cloneElement(n,{ref:c}):null)}const y4={x:0,y:0,scaleX:1,scaleY:1};function b4(i){let{children:e}=i;return si.createElement(w0.Provider,{value:iw},si.createElement(My.Provider,{value:y4},e))}const _4={position:"fixed",touchAction:"none"},S4=i=>_y(i)?"transform 250ms ease":void 0,E4=ce.forwardRef((i,e)=>{let{as:t,activatorEvent:n,adjustScale:s,children:o,className:c,rect:u,style:h,transform:p,transition:x=S4}=i;if(!u)return null;const v=s?p:{...p,scaleX:1,scaleY:1},b={..._4,width:u.width,height:u.height,top:u.top,left:u.left,transform:eu.Transform.toString(v),transformOrigin:s&&n?m5(n,u):void 0,transition:typeof x=="function"?x(n):x,...h};return si.createElement(t,{className:c,style:b,ref:e},o)}),ow=i=>e=>{let{active:t,dragOverlay:n}=e;const s={},{styles:o,className:c}=i;if(o!=null&&o.active)for(const[u,h]of Object.entries(o.active))h!==void 0&&(s[u]=t.node.style.getPropertyValue(u),t.node.style.setProperty(u,h));if(o!=null&&o.dragOverlay)for(const[u,h]of Object.entries(o.dragOverlay))h!==void 0&&n.node.style.setProperty(u,h);return c!=null&&c.active&&t.node.classList.add(c.active),c!=null&&c.dragOverlay&&n.node.classList.add(c.dragOverlay),function(){for(const[h,p]of Object.entries(s))t.node.style.setProperty(h,p);c!=null&&c.active&&t.node.classList.remove(c.active)}},M4=i=>{let{transform:{initial:e,final:t}}=i;return[{transform:eu.Transform.toString(e)},{transform:eu.Transform.toString(t)}]},T4={duration:250,easing:"ease",keyframes:M4,sideEffects:ow({styles:{active:{opacity:"0"}}})};function w4(i){let{config:e,draggableNodes:t,droppableContainers:n,measuringConfiguration:s}=i;return by((o,c)=>{if(e===null)return;const u=t.get(o);if(!u)return;const h=u.node.current;if(!h)return;const p=nw(c);if(!p)return;const{transform:x}=bs(c).getComputedStyle(c),v=X3(x);if(!v)return;const b=typeof e=="function"?e:A4(e);return $3(h,s.draggable.measure),b({active:{id:o,data:u.data,node:h,rect:s.draggable.measure(h)},draggableNodes:t,dragOverlay:{node:c,rect:s.dragOverlay.measure(p)},droppableContainers:n,measuringConfiguration:s,transform:v})})}function A4(i){const{duration:e,easing:t,sideEffects:n,keyframes:s}={...T4,...i};return o=>{let{active:c,dragOverlay:u,transform:h,...p}=o;if(!e)return;const x={x:u.rect.left-c.rect.left,y:u.rect.top-c.rect.top},v={scaleX:h.scaleX!==1?c.rect.width*h.scaleX/u.rect.width:1,scaleY:h.scaleY!==1?c.rect.height*h.scaleY/u.rect.height:1},b={x:h.x-x.x,y:h.y-x.y,...v},y=s({...p,active:c,dragOverlay:u,transform:{initial:h,final:b}}),[S]=y,E=y[y.length-1];if(JSON.stringify(S)===JSON.stringify(E))return;const M=n==null?void 0:n({active:c,dragOverlay:u,...p}),_=u.node.animate(y,{duration:e,easing:t,fill:"forwards"});return new Promise(C=>{_.onfinish=()=>{M==null||M(),C()}})}}let uE=0;function C4(i){return ce.useMemo(()=>{if(i!=null)return uE++,uE},[i])}const N4=si.memo(i=>{let{adjustScale:e=!1,children:t,dropAnimation:n,style:s,transition:o,modifiers:c,wrapperElement:u="div",className:h,zIndex:p=999}=i;const{activatorEvent:x,active:v,activeNodeRect:b,containerNodeRect:y,draggableNodes:S,droppableContainers:E,dragOverlay:M,over:_,measuringConfiguration:C,scrollableAncestors:R,scrollableAncestorRects:O,windowRect:U}=rw(),I=ce.useContext(My),F=C4(v==null?void 0:v.id),j=sw(c,{activatorEvent:x,active:v,activeNodeRect:b,containerNodeRect:y,draggingNodeRect:M.rect,over:_,overlayNodeRect:M.rect,scrollableAncestors:R,scrollableAncestorRects:O,transform:I,windowRect:U}),B=J1(b),k=w4({config:n,draggableNodes:S,droppableContainers:E,measuringConfiguration:C}),J=B?M.setRef:void 0;return si.createElement(b4,null,si.createElement(v4,{animation:k},v&&F?si.createElement(E4,{key:F,id:v.id,ref:J,as:u,activatorEvent:x,adjustScale:e,className:h,transition:o,rect:B,style:{zIndex:p,...s},transform:j},t):null))});function lw(i,e,t){const n=i.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function R4(i,e){return i.reduce((t,n,s)=>{const o=e.get(n);return o&&(t[s]=o),t},Array(i.length))}function rx(i){return i!==null&&i>=0}function D4(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function O4(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const cw=i=>{let{rects:e,activeIndex:t,overIndex:n,index:s}=i;const o=lw(e,n,t),c=e[s],u=o[s];return!u||!c?null:{x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height}},ox={scaleX:1,scaleY:1},U4=i=>{var e;let{activeIndex:t,activeNodeRect:n,index:s,rects:o,overIndex:c}=i;const u=(e=o[t])!=null?e:n;if(!u)return null;if(s===t){const p=o[c];return p?{x:0,y:t<c?p.top+p.height-(u.top+u.height):p.top-u.top,...ox}:null}const h=I4(o,s,t);return s>t&&s<=c?{x:0,y:-u.height-h,...ox}:s<t&&s>=c?{x:0,y:u.height+h,...ox}:{x:0,y:0,...ox}};function I4(i,e,t){const n=i[e],s=i[e-1],o=i[e+1];return n?t<e?s?n.top-(s.top+s.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const uw="Sortable",dw=si.createContext({activeIndex:-1,containerId:uw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cw,disabled:{draggable:!1,droppable:!1}});function L4(i){let{children:e,id:t,items:n,strategy:s=cw,disabled:o=!1}=i;const{active:c,dragOverlay:u,droppableRects:h,over:p,measureDroppableContainers:x}=rw(),v=T0(uw,t),b=u.rect!==null,y=ce.useMemo(()=>n.map(I=>typeof I=="object"&&"id"in I?I.id:I),[n]),S=c!=null,E=c?y.indexOf(c.id):-1,M=p?y.indexOf(p.id):-1,_=ce.useRef(y),C=!D4(y,_.current),R=M!==-1&&E===-1||C,O=O4(o);oo(()=>{C&&S&&x(y)},[C,y,S,x]),ce.useEffect(()=>{_.current=y},[y]);const U=ce.useMemo(()=>({activeIndex:E,containerId:v,disabled:O,disableTransforms:R,items:y,overIndex:M,useDragOverlay:b,sortedRects:R4(y,h),strategy:s}),[E,v,O.draggable,O.droppable,R,y,M,h,b,s]);return si.createElement(dw.Provider,{value:U},e)}const z4=i=>{let{id:e,items:t,activeIndex:n,overIndex:s}=i;return lw(t,n,s).indexOf(e)},B4=i=>{let{containerId:e,isSorting:t,wasDragging:n,index:s,items:o,newIndex:c,previousItems:u,previousContainerId:h,transition:p}=i;return!p||!n||u!==o&&s===c?!1:t?!0:c!==s&&e===h},P4={duration:200,easing:"ease"},fw="transform",k4=eu.Transition.toString({property:fw,duration:0,easing:"linear"}),F4={roleDescription:"sortable"};function H4(i){let{disabled:e,index:t,node:n,rect:s}=i;const[o,c]=ce.useState(null),u=ce.useRef(t);return oo(()=>{if(!e&&t!==u.current&&n.current){const h=s.current;if(h){const p=Bh(n.current,{ignoreTransform:!0}),x={x:h.left-p.left,y:h.top-p.top,scaleX:h.width/p.width,scaleY:h.height/p.height};(x.x||x.y)&&c(x)}}t!==u.current&&(u.current=t)},[e,t,n,s]),ce.useEffect(()=>{o&&c(null)},[o]),o}function j4(i){let{animateLayoutChanges:e=B4,attributes:t,disabled:n,data:s,getNewIndex:o=z4,id:c,strategy:u,resizeObserverConfig:h,transition:p=P4}=i;const{items:x,containerId:v,activeIndex:b,disabled:y,disableTransforms:S,sortedRects:E,overIndex:M,useDragOverlay:_,strategy:C}=ce.useContext(dw),R=V4(n,y),O=x.indexOf(c),U=ce.useMemo(()=>({sortable:{containerId:v,index:O,items:x},...s}),[v,s,O,x]),I=ce.useMemo(()=>x.slice(x.indexOf(c)),[x,c]),{rect:F,node:j,isOver:B,setNodeRef:k}=x4({id:c,data:U,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...h}}),{active:J,activatorEvent:Y,activeNodeRect:Z,attributes:L,setNodeRef:re,listeners:q,isDragging:W,over:te,setActivatorNodeRef:oe,transform:Se}=p4({id:c,data:U,attributes:{...F4,...t},disabled:R.draggable}),G=$O(k,re),$=!!J,se=$&&!S&&rx(b)&&rx(M),de=!_&&W,xe=de&&se?Se:null,_e=se?xe??(u??C)({rects:E,activeNodeRect:Z,activeIndex:b,overIndex:M,index:O}):null,Le=rx(b)&&rx(M)?o({id:c,items:x,activeIndex:b,overIndex:M}):O,Ye=J==null?void 0:J.id,qe=ce.useRef({activeId:Ye,items:x,newIndex:Le,containerId:v}),ut=x!==qe.current.items,St=e({active:J,containerId:v,isDragging:W,isSorting:$,id:c,index:O,items:x,newIndex:qe.current.newIndex,previousItems:qe.current.items,previousContainerId:qe.current.containerId,transition:p,wasDragging:qe.current.activeId!=null}),mt=H4({disabled:!St,index:O,node:j,rect:F});return ce.useEffect(()=>{$&&qe.current.newIndex!==Le&&(qe.current.newIndex=Le),v!==qe.current.containerId&&(qe.current.containerId=v),x!==qe.current.items&&(qe.current.items=x)},[$,Le,v,x]),ce.useEffect(()=>{if(Ye===qe.current.activeId)return;if(Ye!=null&&qe.current.activeId==null){qe.current.activeId=Ye;return}const X=setTimeout(()=>{qe.current.activeId=Ye},50);return()=>clearTimeout(X)},[Ye]),{active:J,activeIndex:b,attributes:L,data:U,rect:F,index:O,newIndex:Le,items:x,isOver:B,isSorting:$,isDragging:W,listeners:q,node:j,overIndex:M,over:te,setNodeRef:G,setActivatorNodeRef:oe,setDroppableNodeRef:k,setDraggableNodeRef:re,transform:mt??_e,transition:P()};function P(){if(mt||ut&&qe.current.newIndex===O)return k4;if(!(de&&!_y(Y)||!p)&&($||St))return eu.Transition.toString({...p,property:fw})}}function V4(i,e){var t,n;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(t=i==null?void 0:i.draggable)!=null?t:e.draggable,droppable:(n=i==null?void 0:i.droppable)!=null?n:e.droppable}}function yv(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const G4=[Cn.Down,Cn.Right,Cn.Up,Cn.Left],Y4=(i,e)=>{let{context:{active:t,collisionRect:n,droppableRects:s,droppableContainers:o,over:c,scrollableAncestors:u}}=e;if(G4.includes(i.code)){if(i.preventDefault(),!t||!n)return;const h=[];o.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const b=s.get(v.id);if(b)switch(i.code){case Cn.Down:n.top<b.top&&h.push(v);break;case Cn.Up:n.top>b.top&&h.push(v);break;case Cn.Left:n.left>b.left&&h.push(v);break;case Cn.Right:n.left<b.left&&h.push(v);break}});const p=G3({collisionRect:n,droppableRects:s,droppableContainers:h});let x=V3(p,"id");if(x===(c==null?void 0:c.id)&&p.length>1&&(x=p[1].id),x!=null){const v=o.get(t.id),b=o.get(x),y=b?s.get(b.id):null,S=b==null?void 0:b.node.current;if(S&&y&&v&&b){const M=Sy(S).some((I,F)=>u[F]!==I),_=hw(v,b),C=X4(v,b),R=M||!_?{x:0,y:0}:{x:C?n.width-y.width:0,y:C?n.height-y.height:0},O={x:y.left,y:y.top};return R.x&&R.y?O:e0(O,R)}}}};function hw(i,e){return!yv(i)||!yv(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function X4(i,e){return!yv(i)||!yv(e)||!hw(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const q4=(i,e)=>{const t=new Array(i.length+e.length);for(let n=0;n<i.length;n++)t[n]=i[n];for(let n=0;n<e.length;n++)t[i.length+n]=e[n];return t},W4=(i,e)=>({classGroupId:i,validator:e}),pw=(i=new Map,e=null,t)=>({nextPart:i,validators:e,classGroupId:t}),bv="-",dE=[],Z4="arbitrary..",K4=i=>{const e=Q4(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=i;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return J4(c);const u=c.split(bv),h=u[0]===""&&u.length>1?1:0;return mw(u,h,e)},getConflictingClassGroupIds:(c,u)=>{if(u){const h=n[c],p=t[c];return h?p?q4(p,h):h:p||dE}return t[c]||dE}}},mw=(i,e,t)=>{if(i.length-e===0)return t.classGroupId;const s=i[e],o=t.nextPart.get(s);if(o){const p=mw(i,e+1,o);if(p)return p}const c=t.validators;if(c===null)return;const u=e===0?i.join(bv):i.slice(e).join(bv),h=c.length;for(let p=0;p<h;p++){const x=c[p];if(x.validator(u))return x.classGroupId}},J4=i=>i.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=i.slice(1,-1),t=e.indexOf(":"),n=e.slice(0,t);return n?Z4+n:void 0})(),Q4=i=>{const{theme:e,classGroups:t}=i;return $4(t,e)},$4=(i,e)=>{const t=pw();for(const n in i){const s=i[n];Q1(s,t,n,e)}return t},Q1=(i,e,t,n)=>{const s=i.length;for(let o=0;o<s;o++){const c=i[o];eU(c,e,t,n)}},eU=(i,e,t,n)=>{if(typeof i=="string"){tU(i,e,t);return}if(typeof i=="function"){nU(i,e,t,n);return}iU(i,e,t,n)},tU=(i,e,t)=>{const n=i===""?e:gw(e,i);n.classGroupId=t},nU=(i,e,t,n)=>{if(aU(i)){Q1(i(n),e,t,n);return}e.validators===null&&(e.validators=[]),e.validators.push(W4(t,i))},iU=(i,e,t,n)=>{const s=Object.entries(i),o=s.length;for(let c=0;c<o;c++){const[u,h]=s[c];Q1(h,gw(e,u),t,n)}},gw=(i,e)=>{let t=i;const n=e.split(bv),s=n.length;for(let o=0;o<s;o++){const c=n[o];let u=t.nextPart.get(c);u||(u=pw(),t.nextPart.set(c,u)),t=u}return t},aU=i=>"isThemeGetter"in i&&i.isThemeGetter===!0,sU=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),n=Object.create(null);const s=(o,c)=>{t[o]=c,e++,e>i&&(e=0,n=t,t=Object.create(null))};return{get(o){let c=t[o];if(c!==void 0)return c;if((c=n[o])!==void 0)return s(o,c),c},set(o,c){o in t?t[o]=c:s(o,c)}}},m1="!",fE=":",rU=[],hE=(i,e,t,n,s)=>({modifiers:i,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:n,isExternal:s}),oU=i=>{const{prefix:e,experimentalParseClassName:t}=i;let n=s=>{const o=[];let c=0,u=0,h=0,p;const x=s.length;for(let E=0;E<x;E++){const M=s[E];if(c===0&&u===0){if(M===fE){o.push(s.slice(h,E)),h=E+1;continue}if(M==="/"){p=E;continue}}M==="["?c++:M==="]"?c--:M==="("?u++:M===")"&&u--}const v=o.length===0?s:s.slice(h);let b=v,y=!1;v.endsWith(m1)?(b=v.slice(0,-1),y=!0):v.startsWith(m1)&&(b=v.slice(1),y=!0);const S=p&&p>h?p-h:void 0;return hE(o,y,b,S)};if(e){const s=e+fE,o=n;n=c=>c.startsWith(s)?o(c.slice(s.length)):hE(rU,!1,c,void 0,!0)}if(t){const s=n;n=o=>t({className:o,parseClassName:s})}return n},lU=i=>{const e=new Map;return i.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{const n=[];let s=[];for(let o=0;o<t.length;o++){const c=t[o],u=c[0]==="[",h=e.has(c);u||h?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(c)):s.push(c)}return s.length>0&&(s.sort(),n.push(...s)),n}},cU=i=>({cache:sU(i.cacheSize),parseClassName:oU(i),sortModifiers:lU(i),...K4(i)}),uU=/\s+/,dU=(i,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=e,c=[],u=i.trim().split(uU);let h="";for(let p=u.length-1;p>=0;p-=1){const x=u[p],{isExternal:v,modifiers:b,hasImportantModifier:y,baseClassName:S,maybePostfixModifierPosition:E}=t(x);if(v){h=x+(h.length>0?" "+h:h);continue}let M=!!E,_=n(M?S.substring(0,E):S);if(!_){if(!M){h=x+(h.length>0?" "+h:h);continue}if(_=n(S),!_){h=x+(h.length>0?" "+h:h);continue}M=!1}const C=b.length===0?"":b.length===1?b[0]:o(b).join(":"),R=y?C+m1:C,O=R+_;if(c.indexOf(O)>-1)continue;c.push(O);const U=s(_,M);for(let I=0;I<U.length;++I){const F=U[I];c.push(R+F)}h=x+(h.length>0?" "+h:h)}return h},fU=(...i)=>{let e=0,t,n,s="";for(;e<i.length;)(t=i[e++])&&(n=xw(t))&&(s&&(s+=" "),s+=n);return s},xw=i=>{if(typeof i=="string")return i;let e,t="";for(let n=0;n<i.length;n++)i[n]&&(e=xw(i[n]))&&(t&&(t+=" "),t+=e);return t},hU=(i,...e)=>{let t,n,s,o;const c=h=>{const p=e.reduce((x,v)=>v(x),i());return t=cU(p),n=t.cache.get,s=t.cache.set,o=u,u(h)},u=h=>{const p=n(h);if(p)return p;const x=dU(h,t);return s(h,x),x};return o=c,(...h)=>o(fU(...h))},pU=[],aa=i=>{const e=t=>t[i]||pU;return e.isThemeGetter=!0,e},vw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mU=/^\d+\/\d+$/,gU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,yU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vf=i=>mU.test(i),fn=i=>!!i&&!Number.isNaN(Number(i)),Bc=i=>!!i&&Number.isInteger(Number(i)),n_=i=>i.endsWith("%")&&fn(i.slice(0,-1)),Il=i=>gU.test(i),_U=()=>!0,SU=i=>xU.test(i)&&!vU.test(i),bw=()=>!1,EU=i=>yU.test(i),MU=i=>bU.test(i),TU=i=>!Ct(i)&&!Nt(i),wU=i=>Ph(i,Ew,bw),Ct=i=>vw.test(i),ed=i=>Ph(i,Mw,SU),i_=i=>Ph(i,DU,fn),pE=i=>Ph(i,_w,bw),AU=i=>Ph(i,Sw,MU),lx=i=>Ph(i,Tw,EU),Nt=i=>yw.test(i),vm=i=>kh(i,Mw),CU=i=>kh(i,OU),mE=i=>kh(i,_w),NU=i=>kh(i,Ew),RU=i=>kh(i,Sw),cx=i=>kh(i,Tw,!0),Ph=(i,e,t)=>{const n=vw.exec(i);return n?n[1]?e(n[1]):t(n[2]):!1},kh=(i,e,t=!1)=>{const n=yw.exec(i);return n?n[1]?e(n[1]):t:!1},_w=i=>i==="position"||i==="percentage",Sw=i=>i==="image"||i==="url",Ew=i=>i==="length"||i==="size"||i==="bg-size",Mw=i=>i==="length",DU=i=>i==="number",OU=i=>i==="family-name",Tw=i=>i==="shadow",UU=()=>{const i=aa("color"),e=aa("font"),t=aa("text"),n=aa("font-weight"),s=aa("tracking"),o=aa("leading"),c=aa("breakpoint"),u=aa("container"),h=aa("spacing"),p=aa("radius"),x=aa("shadow"),v=aa("inset-shadow"),b=aa("text-shadow"),y=aa("drop-shadow"),S=aa("blur"),E=aa("perspective"),M=aa("aspect"),_=aa("ease"),C=aa("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...O(),Nt,Ct],I=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],j=()=>[Nt,Ct,h],B=()=>[Vf,"full","auto",...j()],k=()=>[Bc,"none","subgrid",Nt,Ct],J=()=>["auto",{span:["full",Bc,Nt,Ct]},Bc,Nt,Ct],Y=()=>[Bc,"auto",Nt,Ct],Z=()=>["auto","min","max","fr",Nt,Ct],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...j()],W=()=>[Vf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],te=()=>[i,Nt,Ct],oe=()=>[...O(),mE,pE,{position:[Nt,Ct]}],Se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",NU,wU,{size:[Nt,Ct]}],$=()=>[n_,vm,ed],se=()=>["","none","full",p,Nt,Ct],de=()=>["",fn,vm,ed],xe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_e=()=>[fn,n_,mE,pE],Le=()=>["","none",S,Nt,Ct],Ye=()=>["none",fn,Nt,Ct],qe=()=>["none",fn,Nt,Ct],ut=()=>[fn,Nt,Ct],St=()=>[Vf,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Il],breakpoint:[Il],color:[_U],container:[Il],"drop-shadow":[Il],ease:["in","out","in-out"],font:[TU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Il],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Il],shadow:[Il],spacing:["px",fn],text:[Il],"text-shadow":[Il],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vf,Ct,Nt,M]}],container:["container"],columns:[{columns:[fn,Ct,Nt,u]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[Bc,"auto",Nt,Ct]}],basis:[{basis:[Vf,"full","auto",u,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[fn,Vf,"auto","initial","none",Ct]}],grow:[{grow:["",fn,Nt,Ct]}],shrink:[{shrink:["",fn,Nt,Ct]}],order:[{order:[Bc,"first","last","none",Nt,Ct]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:J()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:J()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[u,"screen",...W()]}],"min-w":[{"min-w":[u,"screen","none",...W()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",t,vm,ed]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Nt,i_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",n_,Ct]}],"font-family":[{font:[CU,Ct,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Nt,Ct]}],"line-clamp":[{"line-clamp":[fn,"none",Nt,i_]}],leading:[{leading:[o,...j()]}],"list-image":[{"list-image":["none",Nt,Ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Nt,Ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[fn,"from-font","auto",Nt,ed]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[fn,"auto",Nt,Ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Nt,Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Nt,Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:Se()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bc,Nt,Ct],radial:["",Nt,Ct],conic:[Bc,Nt,Ct]},RU,AU]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[fn,Nt,Ct]}],"outline-w":[{outline:["",fn,vm,ed]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",x,cx,lx]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",v,cx,lx]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[fn,ed]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",b,cx,lx]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[fn,Nt,Ct]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[fn]}],"mask-image-linear-from-pos":[{"mask-linear-from":_e()}],"mask-image-linear-to-pos":[{"mask-linear-to":_e()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":_e()}],"mask-image-t-to-pos":[{"mask-t-to":_e()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":_e()}],"mask-image-r-to-pos":[{"mask-r-to":_e()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":_e()}],"mask-image-b-to-pos":[{"mask-b-to":_e()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":_e()}],"mask-image-l-to-pos":[{"mask-l-to":_e()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":_e()}],"mask-image-x-to-pos":[{"mask-x-to":_e()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":_e()}],"mask-image-y-to-pos":[{"mask-y-to":_e()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[Nt,Ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":_e()}],"mask-image-radial-to-pos":[{"mask-radial-to":_e()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[fn]}],"mask-image-conic-from-pos":[{"mask-conic-from":_e()}],"mask-image-conic-to-pos":[{"mask-conic-to":_e()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:Se()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Nt,Ct]}],filter:[{filter:["","none",Nt,Ct]}],blur:[{blur:Le()}],brightness:[{brightness:[fn,Nt,Ct]}],contrast:[{contrast:[fn,Nt,Ct]}],"drop-shadow":[{"drop-shadow":["","none",y,cx,lx]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",fn,Nt,Ct]}],"hue-rotate":[{"hue-rotate":[fn,Nt,Ct]}],invert:[{invert:["",fn,Nt,Ct]}],saturate:[{saturate:[fn,Nt,Ct]}],sepia:[{sepia:["",fn,Nt,Ct]}],"backdrop-filter":[{"backdrop-filter":["","none",Nt,Ct]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[fn,Nt,Ct]}],"backdrop-contrast":[{"backdrop-contrast":[fn,Nt,Ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",fn,Nt,Ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[fn,Nt,Ct]}],"backdrop-invert":[{"backdrop-invert":["",fn,Nt,Ct]}],"backdrop-opacity":[{"backdrop-opacity":[fn,Nt,Ct]}],"backdrop-saturate":[{"backdrop-saturate":[fn,Nt,Ct]}],"backdrop-sepia":[{"backdrop-sepia":["",fn,Nt,Ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Nt,Ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[fn,"initial",Nt,Ct]}],ease:[{ease:["linear","initial",_,Nt,Ct]}],delay:[{delay:[fn,Nt,Ct]}],animate:[{animate:["none",C,Nt,Ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Nt,Ct]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:qe()}],"scale-x":[{"scale-x":qe()}],"scale-y":[{"scale-y":qe()}],"scale-z":[{"scale-z":qe()}],"scale-3d":["scale-3d"],skew:[{skew:ut()}],"skew-x":[{"skew-x":ut()}],"skew-y":[{"skew-y":ut()}],transform:[{transform:[Nt,Ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:St()}],"translate-x":[{"translate-x":St()}],"translate-y":[{"translate-y":St()}],"translate-z":[{"translate-z":St()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Nt,Ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Nt,Ct]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[fn,vm,ed,i_]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},IU=hU(UU),LU=()=>A.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-gray-100 animate-pulse",children:[A.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded-sm mr-3"}),A.jsx("div",{className:"flex-1 h-4 bg-gray-200 rounded mr-4"}),A.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),A.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded ml-2"}),A.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded ml-2"}),A.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded ml-2"})]}),zU=({task:i,onStatusChange:e,onUpdateTask:t,showToast:n})=>{const{attributes:s,listeners:o,setNodeRef:c,transform:u,transition:h,isDragging:p}=j4({id:i.id,data:{type:"Task",task:i}}),x={transform:eu.Translate.toString(u),transition:h},[v,b]=ce.useState(!1),[y,S]=ce.useState(i.title),E=()=>{y.trim()!==i.title&&(t==null||t(i.id,{title:y})),b(!1)},M=C=>{C.key==="Enter"?E():C.key==="Escape"&&(S(i.title),b(!1))},_=C=>{C.stopPropagation();const R=Object.values(S0),O=R.indexOf(i.status),U=R[(O+1)%R.length];e(i.id,U),n(`Status changed to ${U}`,"success")};return p?A.jsx("div",{ref:c,style:x,className:"opacity-30 bg-gray-50 border border-dashed border-gray-300 h-10 rounded my-1"}):A.jsxs("div",{ref:c,style:x,className:IU("group flex items-center px-4 py-1.5 border-b border-gray-100 hover:bg-gray-50 transition-colors text-sm bg-white",p&&"z-50 shadow-xl"),children:[A.jsx("div",{...s,...o,className:"mr-2 cursor-grab active:cursor-grabbing text-gray-300 hover:text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity",children:A.jsx(U3,{size:14})}),A.jsxs("div",{className:"flex-1 flex items-center min-w-0 pr-4",children:[A.jsx("div",{className:"mr-3 relative flex-shrink-0",children:A.jsx("div",{className:"w-4 h-4 rounded-sm border border-gray-300 group-hover:border-clickup-purple transition-colors flex items-center justify-center cursor-pointer hover:bg-clickup-purple/10",onClick:C=>{C.stopPropagation(),n(`Marked ${i.id} complete`,"success")},children:A.jsx(k1,{size:12,className:"opacity-0 group-hover:opacity-100 text-clickup-purple"})})}),v?A.jsx("input",{autoFocus:!0,value:y,onChange:C=>S(C.target.value),onBlur:E,onKeyDown:M,className:"flex-1 bg-white border border-clickup-purple rounded px-1 py-0.5 outline-none text-sm text-gray-900",onClick:C=>C.stopPropagation()}):A.jsx("span",{className:"truncate text-gray-700 cursor-text hover:text-clickup-purple font-medium",onClick:C=>{C.stopPropagation(),b(!0)},children:i.title}),A.jsx("div",{className:"ml-2 opacity-0 group-hover:opacity-100 flex items-center space-x-1 transition-opacity",children:A.jsx("button",{className:"p-1 hover:bg-gray-200 rounded text-gray-400 hover:text-green-600 transition-colors",onClick:C=>{C.stopPropagation(),n("Timer started","success")},children:A.jsx(HR,{size:12})})})]}),A.jsx("div",{className:"w-32 flex items-center pl-2 cursor-pointer min-h-[24px]",onClick:()=>n("Assign People","info"),children:i.assignees.length>0?A.jsx("div",{className:"flex -space-x-1 hover:space-x-0.5 transition-all",children:i.assignees.map(C=>A.jsx("div",{className:"w-6 h-6 rounded-full border border-white flex items-center justify-center text-[10px] text-white font-bold shadow-sm",style:{backgroundColor:C.color},title:C.name,children:C.avatar},C.id))}):A.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 border-dashed flex items-center justify-center text-gray-300 opacity-0 group-hover:opacity-100 hover:border-clickup-purple hover:text-clickup-purple transition-all",children:A.jsx(EO,{size:12})})}),A.jsx("div",{className:"w-32 pl-2 text-xs text-gray-400 flex items-center group-hover:text-gray-600 cursor-pointer min-h-[24px]",onClick:()=>n("Open Date Picker","info"),children:i.dueDate?A.jsx("span",{className:new Date(i.dueDate)<new Date?"text-red-500":"",children:new Date(i.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})}):A.jsx(Ih,{size:14,className:"opacity-0 group-hover:opacity-100 text-gray-300 hover:text-clickup-purple transition-colors"})}),A.jsx("div",{className:"w-24 pl-2 cursor-pointer min-h-[24px] flex items-center",onClick:()=>n("Change Priority","info"),children:A.jsxs("div",{className:"flex items-center group/priority",children:[A.jsx(D3,{size:14,fill:i.priority===Pm.None?"none":hv[i.priority],color:i.priority===Pm.None?"#d1d5db":hv[i.priority],className:"transition-colors"}),A.jsx("span",{className:`ml-1.5 text-xs ${i.priority===Pm.None?"text-gray-400 opacity-0 group-hover:opacity-100":"text-gray-500"} transition-opacity`,children:i.priority})]})}),A.jsx("div",{className:"w-32 pl-2",children:A.jsx("button",{className:"px-2 py-0.5 text-[10px] uppercase font-bold text-white rounded-sm truncate max-w-full transition-all hover:scale-105 hover:opacity-90 shadow-sm",style:{backgroundColor:vy[i.status]},onClick:_,children:i.status})})]})},BU=({tasks:i,isLoading:e,onStatusChange:t,onAddTask:n,onReorder:s,onUpdateTask:o})=>{var E;const{showToast:c}=uo(),[u,h]=ce.useState(null),p=h5(Q2(K1,{activationConstraint:{distance:8}}),Q2(W1,{coordinateGetter:Y4})),x=ce.useMemo(()=>Object.values(S0).reduce((_,C)=>(_[C]=i.filter(R=>R.status===C).sort((R,O)=>(R.order||0)-(O.order||0)),_),{}),[i]),v=M=>{h(M.active.id)},b=M=>{const{active:_,over:C}=M;if(!C)return;const R=i.find(U=>U.id===_.id),O=i.find(U=>U.id===C.id);R&&O&&(R.status,O.status)},y=M=>{const{active:_,over:C}=M;if(h(null),!C)return;const R=i.find(U=>U.id===_.id),O=i.find(U=>U.id===C.id);if(R&&O){if(R.status!==O.status)t(R.id,O.status);else if(_.id!==C.id){const U=i.findIndex(B=>B.id===_.id),I=i.findIndex(B=>B.id===C.id),F=[...i],[j]=F.splice(U,1);F.splice(I,0,j),s==null||s(F)}}},S={sideEffects:ow({styles:{active:{opacity:"0.5"}}})};return e?A.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar p-4",children:[1,2,3,4,5].map(M=>A.jsx(LU,{},M))}):i.length===0?A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white text-center p-8 animate-in fade-in duration-500",children:[A.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-200",children:A.jsx(ra,{size:40,className:"text-gray-300"})}),A.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No tasks found"}),A.jsxs("button",{onClick:n,className:"px-6 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[A.jsx(ra,{size:18,className:"mr-2"})," Create Task"]})]}):A.jsxs(d4,{sensors:p,collisionDetection:G3,onDragStart:v,onDragOver:b,onDragEnd:y,children:[A.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar h-full",children:A.jsxs("div",{className:"min-w-[800px] pb-10",children:[A.jsxs("div",{className:"flex items-center px-8 py-2 border-b border-gray-200 text-xs font-semibold text-gray-400 sticky top-0 bg-white z-20 select-none shadow-sm",children:[A.jsx("div",{className:"w-6 mr-2"})," ",A.jsx("div",{className:"flex-1",children:"NAME"}),A.jsx("div",{className:"w-32 pl-2",children:"ASSIGNEE"}),A.jsx("div",{className:"w-32 pl-2",children:"DUE DATE"}),A.jsx("div",{className:"w-24 pl-2",children:"PRIORITY"}),A.jsx("div",{className:"w-32 pl-2",children:"STATUS"})]}),Object.entries(x).map(([M,_])=>A.jsxs("div",{className:"mb-2",children:[A.jsxs("div",{className:"group sticky top-[33px] z-10 bg-white/95 backdrop-blur-sm flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-700 cursor-pointer hover:bg-gray-50 transition-colors",children:[A.jsx(Kc,{size:14,className:"mr-2 text-gray-400 group-hover:text-gray-600"}),A.jsx("span",{className:"px-2 py-0.5 rounded text-white text-xs uppercase font-bold mr-2 shadow-sm",style:{backgroundColor:vy[M]},children:M}),A.jsxs("span",{className:"text-gray-400 text-xs font-normal ml-1",children:[_.length," tasks"]}),A.jsxs("div",{className:"ml-auto opacity-0 group-hover:opacity-100 flex items-center space-x-2 transition-opacity",children:[A.jsx(ra,{size:14,className:"text-gray-400 hover:text-clickup-purple",onClick:C=>{C.stopPropagation(),n()}}),A.jsx(dv,{size:14,className:"text-gray-400 hover:text-gray-600",onClick:C=>{C.stopPropagation(),c("Group Settings","info")}})]})]}),A.jsx(L4,{items:_.map(C=>C.id),strategy:U4,children:A.jsx("div",{className:"flex flex-col",children:_.map(C=>A.jsx(zU,{task:C,onStatusChange:t,onUpdateTask:o,showToast:c},C.id))})}),A.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-transparent hover:bg-gray-50 group cursor-pointer transition-colors ml-8",onClick:n,children:[A.jsx("div",{className:"mr-3 w-4 h-4 flex items-center justify-center",children:A.jsx(ra,{size:14,className:"text-gray-300 group-hover:text-clickup-purple transition-colors"})}),A.jsx("span",{className:"text-sm text-gray-400 group-hover:text-gray-600 italic",children:"+ New Task..."})]})]},M))]})}),A.jsx(N4,{dropAnimation:S,children:u?A.jsx("div",{className:"bg-white shadow-2xl border border-clickup-purple/20 rounded p-2 opacity-90",children:A.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700",children:[A.jsx(U3,{size:14,className:"mr-2 text-clickup-purple"}),(E=i.find(M=>M.id===u))==null?void 0:E.title]})}):null})]})},a_=()=>A.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm h-28 animate-pulse flex flex-col",children:[A.jsx("div",{className:"flex justify-between mb-2",children:A.jsx("div",{className:"h-3 w-12 bg-gray-200 rounded"})}),A.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded mb-2"}),A.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded mb-auto"}),A.jsxs("div",{className:"flex justify-between mt-2",children:[A.jsx("div",{className:"h-3 w-8 bg-gray-200 rounded"}),A.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded-full"})]})]}),PU=({tasks:i,isLoading:e,onAddTask:t})=>{const{showToast:n}=uo(),s=Object.values(S0).reduce((o,c)=>(o[c]=i.filter(u=>u.status===c),o),{});return!e&&i.length===0?A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-clickup-light p-8 animate-in fade-in duration-500",children:[A.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mb-6 border border-dashed border-gray-300 shadow-sm",children:A.jsx(iO,{size:40,className:"text-gray-300"})}),A.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Board is empty"}),A.jsx("p",{className:"text-gray-500 max-w-sm mb-8 text-center",children:"Visualise your workflow here. Start by creating a new task."}),A.jsxs("button",{onClick:t,className:"px-6 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[A.jsx(ra,{size:18,className:"mr-2"}),"Create Task"]})]}):A.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden bg-clickup-light p-6 custom-scrollbar h-full",children:A.jsxs("div",{className:"flex h-full space-x-4",children:[Object.entries(s).map(([o,c])=>A.jsxs("div",{className:"flex-shrink-0 w-72 flex flex-col h-full animate-in fade-in duration-500",children:[A.jsxs("div",{className:"flex items-center justify-between mb-3 px-1 group",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("span",{className:"text-[10px] uppercase font-bold px-1.5 py-0.5 rounded text-white shadow-sm cursor-pointer hover:opacity-90",style:{backgroundColor:vy[o]},onClick:()=>n(`Status: ${o}`,"info"),children:o}),A.jsx("span",{className:"text-xs text-gray-500 font-medium",children:e?"...":c.length})]}),A.jsxs("div",{className:"flex space-x-1 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:[A.jsx(ra,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:t}),A.jsx(dv,{size:14,className:"cursor-pointer hover:text-gray-600",onClick:()=>n("Column Settings","info")})]})]}),A.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2.5 pb-10 custom-scrollbar",children:e?A.jsxs(A.Fragment,{children:[A.jsx(a_,{}),A.jsx(a_,{}),A.jsx(a_,{})]}):A.jsxs(A.Fragment,{children:[c.map(u=>A.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm hover:shadow-md hover:border-gray-300 transition-all cursor-pointer group relative select-none",onClick:()=>n(`Opening ${u.title}`,"info"),children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("div",{className:"text-xs font-medium text-gray-400 hover:underline",children:["#",u.id.substring(5)]}),A.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-100 rounded",onClick:h=>{h.stopPropagation(),n("Task Menu","info")},children:A.jsx(dv,{size:14,className:"text-gray-400"})})]}),A.jsx("h3",{className:"text-sm text-gray-800 font-medium mb-3 leading-snug group-hover:text-clickup-purple transition-colors",children:u.title}),A.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[u.priority!==Pm.None&&A.jsx("div",{className:"p-0.5 rounded hover:bg-gray-100 transition-colors",title:`Priority: ${u.priority}`,children:A.jsx(D3,{size:12,fill:hv[u.priority],color:hv[u.priority]})}),u.dueDate&&A.jsxs("div",{className:`flex items-center text-[10px] px-1.5 py-0.5 bg-gray-50 rounded border border-gray-100 ${new Date(u.dueDate)<new Date?"text-red-500 border-red-100 bg-red-50":"text-gray-400"}`,children:[A.jsx(Ih,{size:10,className:"mr-1"}),new Date(u.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]}),A.jsx("div",{className:"flex -space-x-1",children:u.assignees.map(h=>A.jsx("div",{className:"w-5 h-5 rounded-full border border-white flex items-center justify-center text-[9px] text-white font-bold shadow-sm",style:{backgroundColor:h.color},title:h.name,children:h.avatar},h.id))})]})]},u.id)),A.jsxs("button",{className:"w-full py-2 rounded-md border border-transparent hover:bg-gray-200/50 hover:border-gray-300 text-gray-400 text-sm flex items-center justify-center transition-all group",onClick:t,children:[A.jsx(ra,{size:14,className:"mr-1 group-hover:text-clickup-purple transition-colors"}),A.jsx("span",{className:"group-hover:text-clickup-purple transition-colors",children:"New Task"})]})]})})]},o)),A.jsx("div",{className:"w-8 flex-shrink-0"})," "]})})},kU=[],FU={1:{id:"1",name:"Alex",avatar:"A",color:"#ef4444"},2:{id:"2",name:"Sam",avatar:"S",color:"#3b82f6"},3:{id:"3",name:"Jordan",avatar:"J",color:"#10b981"},me:{id:"me",name:"Me",avatar:"ME",color:"#7b68ee"}},HU=()=>{const[i,e]=ce.useState([]),[t,n]=ce.useState(null),[s,o]=ce.useState(!0),[c,u]=ce.useState(""),[h,p]=ce.useState("inbox"),{showToast:x}=uo();ce.useEffect(()=>{v()},[]);const v=async()=>{o(!0);try{const C=await wr.getMessages();e(C.sort((R,O)=>new Date(O.timestamp).getTime()-new Date(R.timestamp).getTime()))}catch(C){console.error(C)}finally{o(!1)}},b=async C=>{n(C);const R=i.find(O=>O.id===C);R&&!R.isRead&&(e(O=>O.map(U=>U.id===C?{...U,isRead:!0}:U)),await wr.markMessageRead(C))},y=async()=>{if(!c.trim())return;const C=i.find(O=>O.id===t),R=C?`Re: ${C.subject}`:"New Message";x("Sending...","info");try{await wr.sendMessage(R,c),u(""),x("Reply sent!","success"),v()}catch{x("Failed to send","error")}},S=i.find(C=>C.id===t),E=i,M=C=>FU[C]||{name:"Unknown",color:"#999",avatar:"?"},_=C=>{const R=new Date(C),O=new Date;return R.toDateString()===O.toDateString()?R.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):R.toLocaleDateString([],{month:"short",day:"numeric"})};return A.jsxs("div",{className:"flex h-full bg-white overflow-hidden animate-in fade-in duration-300",children:[A.jsxs("div",{className:"w-96 border-r border-gray-200 flex flex-col bg-gray-50/50",children:[A.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between bg-white",children:[A.jsxs("h2",{className:"font-bold text-lg flex items-center text-gray-700",children:[A.jsx(d1,{className:"mr-2 text-clickup-purple",size:20}),"Inbox"]}),A.jsxs("div",{className:"flex space-x-1",children:[A.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",onClick:v,children:A.jsx(j1,{size:16,className:s?"animate-spin":""})}),A.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",children:A.jsx(sD,{size:16})})]})]}),A.jsx("div",{className:"p-3",children:A.jsxs("div",{className:"relative",children:[A.jsx(gy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:14}),A.jsx("input",{type:"text",placeholder:"Search messages...",className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple"})]})}),A.jsxs("div",{className:"flex px-3 border-b border-gray-200 bg-white",children:[A.jsx("button",{onClick:()=>p("inbox"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${h==="inbox"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Primary"}),A.jsx("button",{onClick:()=>p("sent"),className:`flex-1 pb-2 text-sm font-medium border-b-2 transition-colors ${h==="sent"?"border-clickup-purple text-clickup-purple":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Updates"})]}),A.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:s&&i.length===0?A.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"Loading..."}):E.length===0?A.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No messages here."}):E.map(C=>{const R=M(C.senderId);return A.jsxs("div",{onClick:()=>b(C.id),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors group relative ${t===C.id?"bg-purple-50 border-purple-100":"bg-white hover:bg-gray-50"} ${C.isRead?"":"bg-gray-50"}`,children:[!C.isRead&&A.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-clickup-purple rounded-full"}),A.jsxs("div",{className:"flex justify-between items-start mb-1",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white",style:{backgroundColor:R.color},children:R.avatar}),A.jsx("span",{className:`text-sm truncate max-w-[120px] ${C.isRead?"text-gray-600":"font-bold text-gray-900"}`,children:R.name})]}),A.jsx("span",{className:"text-[10px] text-gray-400",children:_(C.timestamp)})]}),A.jsx("div",{className:`text-sm mb-1 truncate ${C.isRead?"text-gray-700":"font-semibold text-gray-800"}`,children:C.subject}),A.jsx("div",{className:"text-xs text-gray-400 truncate",children:C.preview})]},C.id)})})]}),A.jsx("div",{className:"flex-1 flex flex-col bg-white h-full min-w-0",children:S?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"p-6 border-b border-gray-200",children:[A.jsxs("div",{className:"flex items-start justify-between mb-4",children:[A.jsx("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:S.subject}),A.jsxs("div",{className:"flex space-x-2 text-gray-400",children:[A.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full",title:"Archive",children:A.jsx(oR,{size:18})}),A.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full hover:text-red-500",title:"Delete",children:A.jsx(G1,{size:18})})]})]}),A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white shadow-sm",style:{backgroundColor:M(S.senderId).color},children:M(S.senderId).avatar}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-baseline space-x-2",children:[A.jsx("span",{className:"font-bold text-gray-900",children:M(S.senderId).name}),A.jsxs("span",{className:"text-xs text-gray-500",children:["<user@",S.senderId,".com>"]})]}),A.jsxs("div",{className:"text-xs text-gray-400",children:["To: Me  ",new Date(S.timestamp).toLocaleString()]})]})]})]}),A.jsx("div",{className:"flex-1 p-8 overflow-y-auto text-gray-800 leading-relaxed whitespace-pre-wrap font-sans text-sm",children:S.content}),A.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:A.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm focus-within:ring-2 focus-within:ring-purple-100 focus-within:border-clickup-purple transition-all",children:[A.jsxs("div",{className:"p-2 border-b border-gray-100 bg-gray-50/50 flex items-center space-x-2 text-gray-400",children:[A.jsx(HD,{size:14}),A.jsxs("span",{className:"text-xs font-medium",children:["Replying to ",M(S.senderId).name,"..."]})]}),A.jsx("textarea",{className:"w-full p-3 min-h-[80px] focus:outline-none text-sm resize-none",placeholder:"Write your reply...",value:c,onChange:C=>u(C.target.value)}),A.jsxs("div",{className:"flex items-center justify-between p-2",children:[A.jsx("div",{className:"flex space-x-2"}),A.jsxs("button",{onClick:y,disabled:!c.trim(),className:"bg-clickup-purple text-white px-4 py-1.5 rounded text-sm font-medium flex items-center space-x-2 disabled:opacity-50 hover:brightness-110 transition-all",children:[A.jsx("span",{children:"Send"}),A.jsx(B3,{size:14})]})]})]})})]}):A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-300 bg-gray-50/30",children:[A.jsx("div",{className:"bg-gray-100 p-6 rounded-full mb-4",children:A.jsx(d1,{size:48,className:"text-gray-300"})}),A.jsx("p",{className:"text-lg font-medium text-gray-400",children:"Select a message to read"}),A.jsx("p",{className:"text-sm max-w-xs text-center mt-2",children:"Stay on top of your communications directly within your workspace."}),A.jsxs("button",{onClick:()=>x("Compose Window Opened","info"),className:"mt-6 px-6 py-2 bg-clickup-purple text-white rounded-full font-medium shadow-lg shadow-purple-200 hover:shadow-xl hover:scale-105 transition-all flex items-center",children:[A.jsx(ra,{size:16,className:"mr-2"}),"New Message"]})]})})]})},jU=()=>A.jsx("div",{className:"space-y-2 text-sm",children:["Q4 Strategy Doc","Backend Sprint List","Design System Board","Marketing Campaign","User Research 2024","Deployment Scripts"].map((i,e)=>A.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md cursor-pointer transition-colors group border border-transparent hover:border-gray-100",children:[A.jsx("div",{className:"w-8 h-8 bg-blue-50/50 rounded-md text-blue-500 flex items-center justify-center text-[10px] font-bold border border-blue-100 group-hover:bg-blue-100 group-hover:border-blue-200 transition-all",children:i[0]}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:"text-gray-700 font-medium truncate group-hover:text-brand-primary transition-colors",children:i}),A.jsxs("p",{className:"text-xs text-gray-400",children:["Accessed ",e+1," hour",e!==0?"s":""," ago"]})]})]},e))}),VU=()=>A.jsxs("div",{className:"space-y-3",children:[kU.filter(i=>i.priority==="Urgent"||i.priority==="High").slice(0,5).map((i,e)=>A.jsxs("div",{className:"flex items-start space-x-3 group cursor-pointer",children:[A.jsx("div",{className:"mt-1 text-xs font-bold text-gray-300 w-4 text-right",children:e+1}),A.jsxs("div",{className:"flex-1 bg-white border border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md hover:border-brand-primary/30 transition-all",children:[A.jsxs("div",{className:"flex justify-between items-start mb-1",children:[A.jsx("span",{className:"text-xs font-semibold px-1.5 py-0.5 rounded bg-red-50 text-red-500 border border-red-100",children:i.priority}),A.jsx("span",{className:"text-[10px] text-gray-400",children:i.dueDate?new Date(i.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"No Date"})]}),A.jsx("p",{className:"text-sm font-medium text-gray-800 leading-tight group-hover:text-brand-primary transition-colors",children:i.title})]})]},i.id)),A.jsxs("button",{className:"w-full py-2.5 text-xs font-medium text-gray-400 border border-dashed border-gray-200 rounded-lg hover:bg-gray-50 hover:text-brand-primary hover:border-brand-primary/30 transition-colors flex items-center justify-center space-x-1",children:[A.jsx(ra,{size:12}),A.jsx("span",{children:"Add Task to LineUp"})]})]}),GU=()=>A.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4 p-4",children:[A.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-full flex items-center justify-center shadow-inner border border-white",children:A.jsx(Qo,{className:"text-brand-primary",size:28})}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-gray-800",children:"Daily Standup"}),A.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-[200px] mx-auto leading-relaxed",children:"Brain analyzes your activity to generate a smart status report."})]}),A.jsx("button",{className:"bg-gradient-to-r from-brand-primary to-indigo-600 hover:from-brand-secondary hover:to-indigo-700 text-white px-5 py-2 rounded-lg text-sm font-bold transition-all shadow-md shadow-indigo-200 hover:shadow-lg hover:shadow-indigo-300 active:scale-95",children:"Generate with AI"})]}),YU=()=>{const e=[{time:"09:30",end:"10:00",title:"Daily Standup",type:"meeting",color:"bg-blue-50 border-blue-100 text-blue-700",icon:Z2},{time:"11:00",end:"12:30",title:"Design Review: Mobile App",type:"work",color:"bg-purple-50 border-purple-100 text-purple-700",icon:V1},{time:"14:00",end:"15:00",title:"Customer Sync",type:"meeting",color:"bg-green-50 border-green-100 text-green-700",icon:Z2},{time:"16:30",end:"17:00",title:"Wrap up & Planning",type:"task",color:"bg-gray-50 border-gray-100 text-gray-600",icon:Qm}];return A.jsxs("div",{className:"relative h-full flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-100",children:[A.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Today, Oct 24"}),A.jsx("button",{className:"text-[10px] bg-gray-50 border border-gray-200 px-2 py-1 rounded hover:bg-gray-100 text-gray-600 transition-colors",children:"Sync Calendar"})]}),A.jsxs("div",{className:"flex-1 relative overflow-y-auto scrollbar-hide pl-2 pr-2 space-y-4",children:[A.jsx("div",{className:"absolute left-[48px] top-0 bottom-0 w-[1px] bg-gray-200 z-0"}),A.jsxs("div",{className:"absolute left-[42px] w-full flex items-center z-10",style:{top:"45%"},children:[A.jsx("div",{className:"w-3 h-3 bg-brand-urgent rounded-full border-2 border-white shadow-sm"}),A.jsx("div",{className:"flex-1 h-[1px] bg-brand-urgent ml-1 opacity-50"}),A.jsx("span",{className:"text-[10px] text-brand-urgent font-bold bg-white px-1 ml-auto mr-2 shadow-sm rounded border border-red-100",children:"12:45 PM"})]}),e.map((t,n)=>A.jsxs("div",{className:"relative flex z-20 group",children:[A.jsxs("div",{className:"w-12 text-[10px] text-gray-400 text-right pr-3 pt-1 font-mono",children:[A.jsx("div",{children:t.time}),A.jsx("div",{className:"text-gray-300",children:t.end})]}),A.jsxs("div",{className:`flex-1 p-3 rounded-lg border ${t.color} shadow-sm hover:shadow-md transition-all cursor-pointer relative overflow-hidden hover:-translate-y-0.5`,children:[A.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${t.color.replace("bg-","bg-opacity-100 bg-").split(" ")[0].replace("50","500")}`}),A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("div",{className:"font-semibold text-sm mb-1",children:t.title}),A.jsx(t.icon,{size:14,className:"opacity-70"})]}),A.jsx("div",{className:"text-xs opacity-80",children:"Zoom  3 participants"})]})]},n)),A.jsxs("div",{className:"relative flex z-20 opacity-50 hover:opacity-100 transition-opacity cursor-pointer group",children:[A.jsx("div",{className:"w-12 text-[10px] text-gray-300 text-right pr-3 pt-2",children:"13:00"}),A.jsx("div",{className:"flex-1 p-3 rounded-lg border border-dashed border-gray-300 flex items-center justify-center text-xs text-gray-400 group-hover:bg-gray-50 h-16 transition-colors",children:"+ Schedule block"})]})]})]})},XU=({title:i})=>A.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-300 space-y-3",children:[A.jsx("div",{className:"p-4 rounded-full bg-gray-50 border border-gray-100",children:A.jsx(H1,{size:24,className:"opacity-30 text-gray-400"})}),A.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["No items in ",i]}),A.jsx("button",{className:"text-xs text-brand-primary font-semibold hover:underline",children:"Connect Source"})]}),qU=({card:i,allCards:e,onUpdate:t,onRemove:n,containerWidth:s})=>{const[o,c]=ce.useState(!1),[u,h]=ce.useState(!1),p=ce.useRef(null),x=24,v=50,b=ce.useRef({x:0,y:0,initialX:0,initialY:0,initialW:0,initialH:0}),y=(_,C)=>{_.stopPropagation(),t({...i,zIndex:Date.now()}),b.current={x:_.clientX,y:_.clientY,initialX:i.x,initialY:i.y,initialW:i.w,initialH:i.h};const R=p.current;R&&R.setPointerCapture(_.pointerId),C==="drag"&&c(!0),C==="resize"&&h(!0)},S=_=>{if(!o&&!u)return;_.stopPropagation();const C=_.clientX-b.current.x,R=_.clientY-b.current.y;if(o&&p.current){let O=b.current.initialX+C,U=b.current.initialY+R;const I=s;O=Math.max(32,O),U=Math.max(0,U);const F=20;Math.abs(O%F)<v&&(O=Math.round(O/F)*F),Math.abs(U%F)<v&&(U=Math.round(U/F)*F),O=Math.max(32,Math.min(O,I-b.current.initialW)),U=Math.max(0,U),p.current.style.transform=`translate(${O-b.current.initialX}px, ${U-b.current.initialY}px)`,p.current.style.zIndex="100",p.current.style.boxShadow="0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)";const j=p.current.getBoundingClientRect(),B=p.current.offsetParent;if(!B)return;const k=B.getBoundingClientRect(),J=j.left-k.left,Y=j.top-k.left,Z=j.width,L=j.height;e.forEach(re=>{if(re.instanceId!==i.instanceId)if(J<re.x+re.w&&J+Z>re.x&&Y<re.y+re.h&&Y+L>re.y){const q=document.getElementById(`card-${re.instanceId}`);q&&(q.style.transform=`translateY(${L+x}px)`,q.style.transition="transform 0.2s cubic-bezier(0.2, 0, 0, 1)")}else{const q=document.getElementById(`card-${re.instanceId}`);q&&(q.style.transform="")}})}if(u&&p.current){const O=Math.max(300,b.current.initialW+C),U=Math.max(200,b.current.initialH+R);p.current.style.width=`${O}px`,p.current.style.height=`${U}px`}},E=_=>{if(!o&&!u)return;_.stopPropagation();const C=p.current;if(C){C.releasePointerCapture(_.pointerId);const R=C.getBoundingClientRect(),O=C.offsetParent;if(O){const U=O.getBoundingClientRect();let I=R.left-U.left,F=R.top-U.top,j=R.width,B=R.height;if(o){I=Math.round(I/20)*20,F=Math.round(F/20)*20,I=Math.max(32,Math.min(I,s-j)),F=Math.max(0,F);const J=[],Y={x:I,y:F,w:j,h:B};e.filter(L=>L.instanceId!==i.instanceId).sort((L,re)=>L.y-re.y).forEach(L=>{if(Y.x<L.x+L.w&&Y.x+Y.w>L.x&&Y.y<L.y+L.h&&Y.y+Y.h>L.y){const q=Y.y+Y.h+x;J.push({...L,y:q}),L.y=q}const re=document.getElementById(`card-${L.instanceId}`);re&&(re.style.transform="")}),t({...i,x:I,y:F,w:j,h:B},J)}else u&&t({...i,x:I,y:F,w:j,h:B})}}c(!1),h(!1)},M={standup:Qo,recents:I3,agenda:Ih,mywork:Qm,assigned:Qm,personal:R3,comments:z3,lineup:L3,reminders:F1}[i.typeId]||H1;return A.jsxs("div",{id:`card-${i.instanceId}`,ref:p,className:`absolute bg-white rounded-xl flex flex-col overflow-hidden group transition-shadow duration-200 ${o?"shadow-2xl cursor-grabbing z-50 scale-[1.02] ring-2 ring-brand-primary ring-opacity-50":"shadow-card hover:shadow-card-hover z-10 border border-gray-200/60"}`,style:{left:i.x,top:i.y,width:i.w,height:i.h,zIndex:o?9999:i.zIndex,transition:o||u?"none":"box-shadow 0.2s, transform 0.3s ease-out, left 0.3s cubic-bezier(0.2, 0, 0, 1), top 0.3s cubic-bezier(0.2, 0, 0, 1)"},onPointerMove:S,onPointerUp:E,children:[A.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-50/80 cursor-grab active:cursor-grabbing bg-gradient-to-b from-white to-gray-50/50 select-none h-12",onPointerDown:_=>y(_,"drag"),children:[A.jsxs("div",{className:"flex items-center space-x-2.5 pointer-events-none",children:[A.jsx("div",{className:`w-7 h-7 rounded-lg ${i.color} flex items-center justify-center text-white shadow-md shadow-gray-200`,children:A.jsx(M,{size:14})}),A.jsx("span",{className:"text-sm font-bold text-gray-800 tracking-tight",children:i.title})]}),A.jsx("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:A.jsx("button",{onClick:_=>{_.stopPropagation(),n(i.instanceId)},className:"p-1.5 hover:bg-red-50 rounded-md text-gray-400 hover:text-red-500 transition-colors",children:A.jsx(xy,{size:14})})})]}),A.jsxs("div",{className:"flex-1 p-4 overflow-y-auto scrollbar-hide bg-white select-text cursor-auto",onPointerDown:_=>_.stopPropagation(),children:[i.typeId==="recents"&&A.jsx(jU,{}),i.typeId==="lineup"&&A.jsx(VU,{}),i.typeId==="standup"&&A.jsx(GU,{}),i.typeId==="agenda"&&A.jsx(YU,{}),!["recents","lineup","standup","agenda"].includes(i.typeId)&&A.jsx(XU,{title:i.title})]}),A.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-nwse-resize flex items-end justify-end p-1 opacity-0 group-hover:opacity-100 transition-opacity",onPointerDown:_=>y(_,"resize"),children:A.jsx("div",{className:"w-2.5 h-2.5 border-r-2 border-b-2 border-gray-300 rounded-br-[2px] hover:border-brand-primary transition-colors"})})]})},WU=({cards:i=[],onUpdateCard:e=s=>{},onRemoveCard:t=s=>{},onOpenCustomize:n=()=>{}})=>{const{showToast:s}=uo(),o=new Date().getHours(),c=ce.useRef(null),[u,h]=ce.useState(1600);ce.useEffect(()=>{c.current&&h(c.current.clientWidth);const v=()=>{c.current&&h(c.current.clientWidth)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]);let p="Good morning";o>=12&&o<17?p="Good afternoon":o>=17&&(p="Good evening");const x=(v,b=[])=>{e(v),b.forEach(y=>e(y))};return i.length>0?A.jsxs("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-hidden relative",children:[A.jsx("div",{className:"flex-shrink-0 px-8 py-6 z-20 pointer-events-none",children:A.jsxs("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:[p,", Mohamed"]})}),A.jsx("div",{className:"flex-1 relative overflow-auto scrollbar-hide w-full h-full",style:{backgroundImage:"radial-gradient(#E5E7EB 1.5px, transparent 1.5px)",backgroundSize:"32px 32px"},children:A.jsxs("div",{ref:c,className:"w-full h-full min-h-[1000px] relative",children:[i.map(v=>A.jsx(qU,{card:v,allCards:i,onUpdate:x,onRemove:t,containerWidth:u},v.instanceId)),A.jsx("div",{className:"absolute inset-0 z-0",onDoubleClick:n,title:"Double click to add card"})]})})]}):A.jsx("div",{className:"flex-1 bg-brand-surface flex flex-col h-full overflow-y-auto scrollbar-hide animate-in fade-in duration-500",children:A.jsxs("div",{className:"w-full mx-auto p-8 md:p-12 flex flex-col h-full",children:[A.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-8 tracking-tight",children:[p,", Gemini User"]}),A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[400px]",children:[A.jsxs("div",{className:"relative w-80 h-64 mb-12 opacity-90 hover:opacity-100 transition-all duration-500 cursor-pointer group",onClick:n,children:[A.jsxs("div",{className:"absolute top-0 left-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform -rotate-6 z-10 flex flex-col p-4 space-y-3 transition-transform group-hover:-translate-y-3 group-hover:-rotate-12",children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full"}),A.jsx("div",{className:"w-24 h-2.5 bg-gray-100 rounded-full"})]}),A.jsxs("div",{className:"space-y-2 mt-2",children:[A.jsx("div",{className:"w-full h-2 bg-gray-50 rounded-full"}),A.jsx("div",{className:"w-3/4 h-2 bg-gray-50 rounded-full"})]})]}),A.jsxs("div",{className:"absolute top-8 right-6 w-52 h-32 bg-white border border-gray-200 rounded-2xl shadow-card transform rotate-6 z-0 flex flex-col p-4 items-end justify-between transition-transform group-hover:translate-x-3 group-hover:rotate-12",children:[A.jsx("div",{className:"w-10 h-2.5 bg-gray-100 rounded-full mb-2"}),A.jsx("div",{className:"w-full h-14 bg-gray-50 rounded-xl border border-gray-100 border-dashed flex items-center justify-center",children:A.jsx(H1,{size:20,className:"text-gray-200"})})]}),A.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 w-64 h-36 bg-white border border-gray-200 rounded-2xl shadow-2xl shadow-indigo-100 z-20 flex flex-col p-5 transition-transform group-hover:scale-105 ring-1 ring-black/5",children:[A.jsx("div",{className:"flex items-center justify-between mb-4",children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-primary"}),A.jsx("div",{className:"w-28 h-2.5 bg-gray-100 rounded-full"})]})}),A.jsx("div",{className:"flex-1 space-y-3",children:A.jsxs("div",{className:"flex items-center justify-between px-2",children:[A.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),A.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"}),A.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-xl"})]})})]}),A.jsx("div",{className:"absolute -top-4 right-10 w-12 h-12 bg-white border border-gray-100 rounded-2xl shadow-lg flex items-center justify-center z-30 animate-bounce duration-[2000ms]",children:A.jsx(ra,{className:"text-brand-primary",size:24})})]}),A.jsxs("h2",{className:"text-gray-500 text-center max-w-md mb-8 leading-relaxed text-lg font-medium",children:["Customize your workspace with drag-and-drop cards. ",A.jsx("br",{}),A.jsx("span",{className:"text-sm text-gray-400",children:"Build your perfect dashboard in seconds."})]}),A.jsx("button",{className:"bg-gradient-to-r from-brand-primary to-indigo-600 hover:to-brand-secondary text-white px-8 py-3.5 rounded-xl font-bold text-sm transition-all shadow-glow hover:shadow-lg hover:shadow-indigo-500/40 active:scale-95 tracking-wide",onClick:n,children:"Customize Home"})]})]})})},ww=6048e5,ZU=864e5,gE=Symbol.for("constructDateFrom");function co(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&gE in i?i[gE](e):i instanceof Date?new i.constructor(e):new Date(e)}function _s(i,e){return co(e||i,i)}function Aw(i,e,t){const n=_s(i,t==null?void 0:t.in);if(isNaN(e))return co(i,NaN);if(!e)return n;const s=n.getDate(),o=co(i,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return s>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),s),n)}let KU={};function A0(){return KU}function bh(i,e){var u,h,p,x;const t=A0(),n=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((x=(p=t.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??0,s=_s(i,e==null?void 0:e.in),o=s.getDay(),c=(o<n?7:0)+o-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function _v(i,e){return bh(i,{...e,weekStartsOn:1})}function Cw(i,e){const t=_s(i,e==null?void 0:e.in),n=t.getFullYear(),s=co(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=_v(s),c=co(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=_v(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function xE(i){const e=_s(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function Ty(i,...e){const t=co.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Sv(i,e){const t=_s(i,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function JU(i,e,t){const[n,s]=Ty(t==null?void 0:t.in,i,e),o=Sv(n),c=Sv(s),u=+o-xE(o),h=+c-xE(c);return Math.round((u-h)/ZU)}function QU(i,e){const t=Cw(i,e),n=co(i,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),_v(n)}function vE(i,e,t){const[n,s]=Ty(t==null?void 0:t.in,i,e);return+Sv(n)==+Sv(s)}function $U(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function eI(i){return!(!$U(i)&&typeof i!="number"||isNaN(+_s(i)))}function tI(i,e){const t=_s(i,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function nI(i,e){const[t,n]=Ty(i,e.start,e.end);return{start:t,end:n}}function iI(i,e){const{start:t,end:n}=nI(e==null?void 0:e.in,i);let s=+t>+n;const o=s?+t:+n,c=s?n:t;c.setHours(0,0,0,0);let u=1;const h=[];for(;+c<=o;)h.push(co(t,c)),c.setDate(c.getDate()+u),c.setHours(0,0,0,0);return s?h.reverse():h}function aI(i,e){const t=_s(i,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function sI(i,e){const t=_s(i,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function rI(i,e){var u,h;const t=A0(),n=t.weekStartsOn??((h=(u=t.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=_s(i,e==null?void 0:e.in),o=s.getDay(),c=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const oI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lI=(i,e,t)=>{let n;const s=oI[i];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function s_(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const cI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fI={date:s_({formats:cI,defaultWidth:"full"}),time:s_({formats:uI,defaultWidth:"full"}),dateTime:s_({formats:dI,defaultWidth:"full"})},hI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pI=(i,e,t,n)=>hI[i];function ym(i){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let s;if(n==="formatting"&&i.formattingValues){const c=i.defaultFormattingWidth||i.defaultWidth,u=t!=null&&t.width?String(t.width):c;s=i.formattingValues[u]||i.formattingValues[c]}else{const c=i.defaultWidth,u=t!=null&&t.width?String(t.width):i.defaultWidth;s=i.values[u]||i.values[c]}const o=i.argumentCallback?i.argumentCallback(e):e;return s[o]}}const mI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_I=(i,e)=>{const t=Number(i),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},SI={ordinalNumber:_I,era:ym({values:mI,defaultWidth:"wide"}),quarter:ym({values:gI,defaultWidth:"wide",argumentCallback:i=>i-1}),month:ym({values:xI,defaultWidth:"wide"}),day:ym({values:vI,defaultWidth:"wide"}),dayPeriod:ym({values:yI,defaultWidth:"wide",formattingValues:bI,defaultFormattingWidth:"wide"})};function bm(i){return(e,t={})=>{const n=t.width,s=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],u=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],h=Array.isArray(u)?MI(u,v=>v.test(c)):EI(u,v=>v.test(c));let p;p=i.valueCallback?i.valueCallback(h):h,p=t.valueCallback?t.valueCallback(p):p;const x=e.slice(c.length);return{value:p,rest:x}}}function EI(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function MI(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function TI(i){return(e,t={})=>{const n=e.match(i.matchPattern);if(!n)return null;const s=n[0],o=e.match(i.parsePattern);if(!o)return null;let c=i.valueCallback?i.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}const wI=/^(\d+)(th|st|nd|rd)?/i,AI=/\d+/i,CI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},NI={any:[/^b/i,/^(a|c)/i]},RI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DI={any:[/1/i,/2/i,/3/i,/4/i]},OI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},II={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PI={ordinalNumber:TI({matchPattern:wI,parsePattern:AI,valueCallback:i=>parseInt(i,10)}),era:bm({matchPatterns:CI,defaultMatchWidth:"wide",parsePatterns:NI,defaultParseWidth:"any"}),quarter:bm({matchPatterns:RI,defaultMatchWidth:"wide",parsePatterns:DI,defaultParseWidth:"any",valueCallback:i=>i+1}),month:bm({matchPatterns:OI,defaultMatchWidth:"wide",parsePatterns:UI,defaultParseWidth:"any"}),day:bm({matchPatterns:II,defaultMatchWidth:"wide",parsePatterns:LI,defaultParseWidth:"any"}),dayPeriod:bm({matchPatterns:zI,defaultMatchWidth:"any",parsePatterns:BI,defaultParseWidth:"any"})},kI={code:"en-US",formatDistance:lI,formatLong:fI,formatRelative:pI,localize:SI,match:PI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FI(i,e){const t=_s(i,e==null?void 0:e.in);return JU(t,sI(t))+1}function HI(i,e){const t=_s(i,e==null?void 0:e.in),n=+_v(t)-+QU(t);return Math.round(n/ww)+1}function Nw(i,e){var x,v,b,y;const t=_s(i,e==null?void 0:e.in),n=t.getFullYear(),s=A0(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(x=e==null?void 0:e.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(b=s.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??1,c=co((e==null?void 0:e.in)||i,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const u=bh(c,e),h=co((e==null?void 0:e.in)||i,0);h.setFullYear(n,0,o),h.setHours(0,0,0,0);const p=bh(h,e);return+t>=+u?n+1:+t>=+p?n:n-1}function jI(i,e){var u,h,p,x;const t=A0(),n=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((x=(p=t.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??1,s=Nw(i,e),o=co((e==null?void 0:e.in)||i,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),bh(o,e)}function VI(i,e){const t=_s(i,e==null?void 0:e.in),n=+bh(t,e)-+jI(t,e);return Math.round(n/ww)+1}function Zn(i,e){const t=i<0?"-":"",n=Math.abs(i).toString().padStart(e,"0");return t+n}const Pc={y(i,e){const t=i.getFullYear(),n=t>0?t:1-t;return Zn(e==="yy"?n%100:n,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):Zn(t+1,2)},d(i,e){return Zn(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return Zn(i.getHours()%12||12,e.length)},H(i,e){return Zn(i.getHours(),e.length)},m(i,e){return Zn(i.getMinutes(),e.length)},s(i,e){return Zn(i.getSeconds(),e.length)},S(i,e){const t=e.length,n=i.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return Zn(s,e.length)}},Gf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yE={G:function(i,e,t){const n=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const n=i.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return Pc.y(i,e)},Y:function(i,e,t,n){const s=Nw(i,n),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return Zn(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Zn(o,e.length)},R:function(i,e){const t=Cw(i);return Zn(t,e.length)},u:function(i,e){const t=i.getFullYear();return Zn(t,e.length)},Q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Zn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Zn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(i,e,t){const n=i.getMonth();switch(e){case"M":case"MM":return Pc.M(i,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(i,e,t){const n=i.getMonth();switch(e){case"L":return String(n+1);case"LL":return Zn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(i,e,t,n){const s=VI(i,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Zn(s,e.length)},I:function(i,e,t){const n=HI(i);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Zn(n,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):Pc.d(i,e)},D:function(i,e,t){const n=FI(i);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Zn(n,e.length)},E:function(i,e,t){const n=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(i,e,t,n){const s=i.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Zn(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(i,e,t,n){const s=i.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Zn(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(i,e,t){const n=i.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Zn(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(i,e,t){const s=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(i,e,t){const n=i.getHours();let s;switch(n===12?s=Gf.noon:n===0?s=Gf.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(i,e,t){const n=i.getHours();let s;switch(n>=17?s=Gf.evening:n>=12?s=Gf.afternoon:n>=4?s=Gf.morning:s=Gf.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let n=i.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Pc.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):Pc.H(i,e)},K:function(i,e,t){const n=i.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Zn(n,e.length)},k:function(i,e,t){let n=i.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Zn(n,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):Pc.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):Pc.s(i,e)},S:function(i,e){return Pc.S(i,e)},X:function(i,e,t){const n=i.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return _E(n);case"XXXX":case"XX":return md(n);case"XXXXX":case"XXX":default:return md(n,":")}},x:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"x":return _E(n);case"xxxx":case"xx":return md(n);case"xxxxx":case"xxx":default:return md(n,":")}},O:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bE(n,":");case"OOOO":default:return"GMT"+md(n,":")}},z:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bE(n,":");case"zzzz":default:return"GMT"+md(n,":")}},t:function(i,e,t){const n=Math.trunc(+i/1e3);return Zn(n,e.length)},T:function(i,e,t){return Zn(+i,e.length)}};function bE(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),s=Math.trunc(n/60),o=n%60;return o===0?t+String(s):t+String(s)+e+Zn(o,2)}function _E(i,e){return i%60===0?(i>0?"-":"+")+Zn(Math.abs(i)/60,2):md(i,e)}function md(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),s=Zn(Math.trunc(n/60),2),o=Zn(n%60,2);return t+s+e+o}const SE=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Rw=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},GI=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return SE(i,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",SE(n,e)).replace("{{time}}",Rw(s,e))},YI={p:Rw,P:GI},XI=/^D+$/,qI=/^Y+$/,WI=["D","DD","YY","YYYY"];function ZI(i){return XI.test(i)}function KI(i){return qI.test(i)}function JI(i,e,t){const n=QI(i,e,t);if(console.warn(n),WI.includes(i))throw new RangeError(n)}function QI(i,e,t){const n=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $I=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tL=/^'([^]*?)'?$/,nL=/''/g,iL=/[a-zA-Z]/;function EE(i,e,t){var x,v,b,y;const n=A0(),s=n.locale??kI,o=n.firstWeekContainsDate??((v=(x=n.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,c=n.weekStartsOn??((y=(b=n.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,u=_s(i,t==null?void 0:t.in);if(!eI(u))throw new RangeError("Invalid time value");let h=e.match(eL).map(S=>{const E=S[0];if(E==="p"||E==="P"){const M=YI[E];return M(S,s.formatLong)}return S}).join("").match($I).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const E=S[0];if(E==="'")return{isToken:!1,value:aL(S)};if(yE[E])return{isToken:!0,value:S};if(E.match(iL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(h=s.localize.preprocessor(u,h));const p={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return h.map(S=>{if(!S.isToken)return S.value;const E=S.value;(KI(E)||ZI(E))&&JI(E,e,String(i));const M=yE[E[0]];return M(u,E,s.localize,p)}).join("")}function aL(i){const e=i.match(tL);return e?e[1].replace(nL,"'"):i}function sL(i,e,t){const[n,s]=Ty(t==null?void 0:t.in,i,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function rL(i,e,t){return Aw(i,-1,t)}const oL=({tasks:i,isLoading:e,onAddTask:t})=>{const[n,s]=ce.useState(new Date),o=()=>s(Aw(n,1)),c=()=>s(rL(n)),u=()=>s(new Date),h=aI(n),p=tI(h),x=bh(h),v=rI(p),b=iI({start:x,end:v}),y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=E=>i.filter(M=>M.dueDate?vE(new Date(M.dueDate),E):!1);return e?A.jsx("div",{className:"flex-1 flex items-center justify-center",children:"Loading calendar..."}):A.jsxs("div",{className:"flex-1 flex flex-col bg-white overflow-hidden h-full",children:[A.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsx("h2",{className:"text-xl font-bold text-gray-800",children:EE(n,"MMMM yyyy")}),A.jsxs("div",{className:"flex items-center bg-gray-100 rounded-md p-0.5",children:[A.jsx("button",{onClick:c,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:A.jsx(RR,{size:16,className:"text-gray-600"})}),A.jsx("button",{onClick:u,className:"px-3 py-1 text-xs font-medium text-gray-600 hover:bg-white rounded shadow-sm transition-all mx-1",children:"Today"}),A.jsx("button",{onClick:o,className:"p-1 hover:bg-white rounded shadow-sm transition-all",children:A.jsx(iv,{size:16,className:"text-gray-600"})})]})]}),A.jsxs("button",{onClick:t,className:"px-4 py-2 bg-clickup-purple text-white rounded-md text-sm font-medium hover:bg-indigo-600 transition-colors flex items-center",children:[A.jsx(ra,{size:16,className:"mr-2"})," Add Task"]})]}),A.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto",children:[A.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:y.map(E=>A.jsx("div",{className:"py-2 text-center text-xs font-semibold text-gray-400 uppercase",children:E},E))}),A.jsx("div",{className:"grid grid-cols-7 flex-1 auto-rows-fr bg-gray-200 gap-px border-b border-gray-200",children:b.map((E,M)=>{const _=S(E),C=sL(E,h),R=vE(E,new Date);return A.jsxs("div",{className:`bg-white min-h-[100px] p-2 flex flex-col group relative hover:bg-gray-50 transition-colors ${C?"":"bg-gray-50/50 text-gray-400"}`,onClick:()=>{},children:[A.jsxs("div",{className:"flex items-center justify-between mb-1",children:[A.jsx("span",{className:`text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full ${R?"bg-clickup-purple text-white shadow-md":"text-gray-700"}`,children:EE(E,"d")}),A.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 rounded text-gray-400 transition-opacity",children:A.jsx(ra,{size:12})})]}),A.jsx("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto custom-scrollbar",children:_.map(O=>A.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium truncate border-l-2 shadow-sm cursor-pointer hover:opacity-80 transition-opacity bg-white border-gray-200",style:{borderLeftColor:vy[O.status]},children:O.title},O.id))})]},E.toString())})})]})]})},lL=[{id:"1",title:"Q4 Revenue Targets",progress:65,owner:"Max",color:"#7b68ee",dueDate:"2025-12-31"},{id:"2",title:"Launch Mobile App",progress:30,owner:"Team",color:"#e44356",dueDate:"2025-11-30"},{id:"3",title:"Hire 5 Engineers",progress:80,owner:"HR",color:"#22c55e",dueDate:"2025-10-15"}],cL=()=>{const{showToast:i}=uo(),[e,t]=ce.useState(lL),n=()=>{const s=prompt("Goal Name:");if(!s)return;const o={id:Date.now().toString(),title:s,progress:0,owner:"Me",color:"#3b82f6",dueDate:new Date().toISOString()};t([...e,o]),i("Goal created!","success")};return A.jsx("div",{className:"flex-1 flex flex-col bg-gray-50/50 p-8 overflow-y-auto h-full",children:A.jsxs("div",{className:"max-w-5xl mx-auto w-full",children:[A.jsxs("div",{className:"flex items-center justify-between mb-8",children:[A.jsxs("div",{children:[A.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[A.jsx(P3,{className:"mr-3 text-clickup-purple"})," Goals"]}),A.jsx("p",{className:"text-gray-500 mt-1",children:"Track your OKRs and high-level objectives."})]}),A.jsxs("button",{onClick:n,className:"px-4 py-2 bg-clickup-purple text-white rounded-lg font-medium hover:bg-indigo-600 transition-colors shadow-lg shadow-purple-200 flex items-center",children:[A.jsx(ra,{size:18,className:"mr-2"})," New Goal"]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(s=>A.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow group cursor-pointer",children:[A.jsxs("div",{className:"flex items-start justify-between mb-4",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:text-clickup-purple group-hover:bg-purple-50 transition-colors",children:A.jsx(mO,{size:20})}),A.jsx("button",{className:"text-gray-300 hover:text-gray-600",children:A.jsx(dv,{size:16})})]}),A.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 group-hover:text-clickup-purple transition-colors",children:s.title}),A.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-6",children:[A.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600 font-medium mr-2",children:s.owner}),A.jsxs("span",{children:["Due ",new Date(s.dueDate).toLocaleDateString()]})]}),A.jsxs("div",{className:"relative pt-1",children:[A.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[A.jsx("div",{children:A.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-purple-600 bg-purple-200",children:"Progress"})}),A.jsx("div",{className:"text-right",children:A.jsxs("span",{className:"text-xs font-semibold inline-block text-purple-600",children:[s.progress,"%"]})})]}),A.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-purple-100",children:A.jsx("div",{style:{width:`${s.progress}%`,backgroundColor:s.color},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center transition-all duration-1000 ease-out"})})]}),A.jsxs("div",{className:"flex items-center text-xs text-gray-400 mt-2",children:[A.jsx(hO,{size:12,className:"mr-1 text-green-500"})," On Track"]})]},s.id)),A.jsxs("button",{onClick:n,className:"border-2 border-dashed border-gray-200 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 hover:border-clickup-purple hover:text-clickup-purple hover:bg-purple-50/50 transition-all min-h-[200px]",children:[A.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-50 flex items-center justify-center mb-3 group-hover:bg-white",children:A.jsx(ra,{size:24})}),A.jsx("span",{className:"font-medium",children:"Create New Goal"})]})]})]})})},uL=[{name:"White",bg:"bg-white",border:"border-gray-200"},{name:"Blue",bg:"bg-blue-50",border:"border-blue-200"},{name:"Green",bg:"bg-green-50",border:"border-green-200"},{name:"Yellow",bg:"bg-yellow-50",border:"border-yellow-200"},{name:"Purple",bg:"bg-purple-50",border:"border-purple-200"},{name:"Red",bg:"bg-red-50",border:"border-red-200"}],ME=[{name:"Yellow",bg:"bg-yellow-100",border:"border-yellow-200"},{name:"Blue",bg:"bg-blue-100",border:"border-blue-200"},{name:"Green",bg:"bg-green-100",border:"border-green-200"},{name:"Pink",bg:"bg-pink-100",border:"border-pink-200"}],TE=[{id:"1",x:0,y:0,text:"Central Idea",color:"bg-white border-gray-200",width:180,height:60,type:"default"}],dL=()=>{const[i,e]=ce.useState(TE),[t,n]=ce.useState([]),[s,o]=ce.useState(1),[c,u]=ce.useState({x:0,y:0}),[h,p]=ce.useState([{nodes:TE,edges:[]}]),[x,v]=ce.useState(0),b=ce.useRef(i),y=ce.useRef(t);ce.useEffect(()=>{b.current=i},[i]),ce.useEffect(()=>{y.current=t},[t]);const S=ce.useRef({isDraggingCanvas:!1,dragStart:{x:0,y:0},draggingNodeId:null,nodeDragOffset:{x:0,y:0},connectingNodeId:null}),[E,M]=ce.useState(null),[_,C]=ce.useState(null),[R,O]=ce.useState({x:0,y:0}),U=ce.useRef(null),I=ce.useRef(null),F=ce.useRef(!1);ce.useEffect(()=>{if(!F.current&&U.current){const se=U.current.getBoundingClientRect();u({x:se.width/2-90,y:se.height/2-30}),F.current=!0}},[]);const j=ce.useCallback(()=>{const se=b.current,de=y.current,xe={nodes:JSON.parse(JSON.stringify(se)),edges:JSON.parse(JSON.stringify(de))};p(ge=>{const _e=ge.slice(0,x+1);return _e.push(xe),_e}),v(ge=>ge+1)},[x]),B=ce.useRef(j);ce.useEffect(()=>{B.current=j},[j]);const k=()=>{if(x>0){const se=h[x-1];e(se.nodes),n(se.edges),v(x-1)}},J=()=>{if(x<h.length-1){const se=h[x+1];e(se.nodes),n(se.edges),v(x+1)}},Y=ce.useRef({offset:c,scale:s});ce.useEffect(()=>{Y.current={offset:c,scale:s}},[c,s]);const Z=ce.useCallback((se,de)=>{var Le;const xe=I.current||((Le=U.current)==null?void 0:Le.getBoundingClientRect());if(!xe)return{x:0,y:0};const{offset:ge,scale:_e}=Y.current;return{x:(se-xe.left-ge.x)/_e,y:(de-xe.top-ge.y)/_e}},[]);ce.useEffect(()=>{const se=xe=>{const ge=S.current;if(!ge.isDraggingCanvas&&!ge.draggingNodeId&&!ge.connectingNodeId)return;xe.preventDefault();const _e=Z(xe.clientX,xe.clientY);ge.connectingNodeId&&O(_e),ge.isDraggingCanvas?u({x:xe.clientX-ge.dragStart.x,y:xe.clientY-ge.dragStart.y}):ge.draggingNodeId&&e(Le=>Le.map(Ye=>Ye.id===ge.draggingNodeId?{...Ye,x:_e.x-ge.nodeDragOffset.x,y:_e.y-ge.nodeDragOffset.y}:Ye))},de=()=>{const xe=S.current;xe.draggingNodeId&&setTimeout(()=>{B.current()},0),xe.isDraggingCanvas=!1,xe.draggingNodeId=null,xe.connectingNodeId=null,C(null),I.current=null};return window.addEventListener("mousemove",se),window.addEventListener("mouseup",de),()=>{window.removeEventListener("mousemove",se),window.removeEventListener("mouseup",de)}},[Z]);const L=se=>{if(U.current&&(I.current=U.current.getBoundingClientRect()),se.button===1||se.button===0&&se.altKey||se.button===0&&se.shiftKey){S.current.isDraggingCanvas=!0,S.current.dragStart={x:se.clientX-c.x,y:se.clientY-c.y};return}M(null)},re=se=>{if(se.ctrlKey||se.metaKey){se.preventDefault();const de=Math.exp(-se.deltaY*.001),xe=Math.min(Math.max(.1,s*de),5),ge=U.current.getBoundingClientRect(),_e=(se.clientX-ge.left-c.x)/s,Le=(se.clientY-ge.top-c.y)/s,Ye=se.clientX-ge.left-_e*xe,qe=se.clientY-ge.top-Le*xe;o(xe),u({x:Ye,y:qe})}else u(de=>({x:de.x-se.deltaX,y:de.y-se.deltaY}))},q=(se="default")=>{const de=Date.now().toString();if(!U.current)return;const xe=U.current.getBoundingClientRect(),ge={x:(xe.left+xe.width/2-xe.left-c.x)/s,y:(xe.top+xe.height/2-xe.top-c.y)/s};let _e=180,Le=60,Ye="bg-white border-gray-200",qe="New Node";if(se==="circle"&&(_e=120,Le=120),se==="diamond"&&(_e=140,Le=140),se==="sticky"){_e=200,Le=200;const St=ME[Math.floor(Math.random()*ME.length)];Ye=`${St.bg} ${St.border}`,qe=""}se==="text"&&(_e=200,Le=40,Ye="bg-transparent border-transparent",qe="Type something...");const ut={id:de,x:ge.x-_e/2,y:ge.y-Le/2,text:qe,color:Ye,width:_e,height:Le,type:se};e(St=>[...St,ut]),setTimeout(()=>B.current(),0)},W=()=>{E&&(e(se=>se.filter(de=>de.id!==E)),n(se=>se.filter(de=>de.from!==E&&de.to!==E)),M(null),setTimeout(()=>B.current(),0))},te=se=>{E&&(e(de=>de.map(xe=>xe.id===E?{...xe,color:se}:xe)),setTimeout(()=>B.current(),0))},oe=(se,de)=>{se.stopPropagation(),se.preventDefault(),U.current&&(I.current=U.current.getBoundingClientRect()),M(de.id),S.current.draggingNodeId=de.id;const xe=Z(se.clientX,se.clientY);S.current.nodeDragOffset={x:xe.x-de.x,y:xe.y-de.y}},Se=(se,de)=>{se.stopPropagation(),S.current.connectingNodeId=de,C(de)},G=(se,de)=>{se.stopPropagation();const xe=S.current.connectingNodeId;xe&&xe!==de&&(t.some(_e=>_e.from===xe&&_e.to===de||_e.from===de&&_e.to===xe)||(n(_e=>[..._e,{id:`${xe}-${de}`,from:xe,to:de}]),setTimeout(()=>B.current(),0))),S.current.connectingNodeId=null,C(null)},$=se=>{const de=`absolute flex items-center justify-center group cursor-grab active:cursor-grabbing ${se.color} `,xe=E===se.id?"ring-2 ring-brand-primary ring-offset-2 shadow-xl z-30":"shadow-sm hover:shadow-md z-10",ge=se.type==="text"?"":"border";return se.type==="circle"?`${de} ${ge} rounded-full aspect-square ${xe}`:se.type==="diamond"?`${de} ${ge} rotate-45 rounded-xl aspect-square ${xe}`:se.type==="sticky"?`${de} ${ge} shadow-md rounded-sm ${xe} items-start p-4`:se.type==="text"?`${de} ${xe} justify-start px-2`:`${de} ${ge} rounded-xl ${xe}`};return A.jsxs("div",{className:"flex-1 h-full bg-[#f8fafc] relative overflow-hidden flex flex-col font-sans",children:[A.jsxs("div",{ref:U,className:"flex-1 relative overflow-hidden bg-[#f8fafc]",onMouseDown:L,onWheel:re,style:{cursor:S.current.isDraggingCanvas?"grabbing":"default"},children:[A.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-40",style:{backgroundImage:"radial-gradient(#cbd5e1 1.5px, transparent 1.5px)",backgroundSize:`${24*s}px ${24*s}px`,backgroundPosition:`${c.x}px ${c.y}px`}}),A.jsxs("div",{style:{transform:`translate(${c.x}px, ${c.y}px) scale(${s})`,transformOrigin:"0 0",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:[A.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full overflow-visible pointer-events-none z-0",children:[Array.isArray(t)&&t.map(se=>{const de=i.find(Le=>Le.id===se.from),xe=i.find(Le=>Le.id===se.to);if(!de||!xe)return null;const ge={x:de.x+de.width/2,y:de.y+de.height/2},_e={x:xe.x+xe.width/2,y:xe.y+xe.height/2};return A.jsx("path",{d:`M ${ge.x} ${ge.y} C ${ge.x} ${ge.y+50}, ${_e.x} ${_e.y-50}, ${_e.x} ${_e.y}`,stroke:"#94a3b8",strokeWidth:"2",fill:"none"},se.id)}),_&&(()=>{const se=i.find(de=>de.id===_);return se?A.jsx("path",{d:`M ${se.x+se.width/2} ${se.y+se.height/2} L ${R.x} ${R.y}`,stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"5,5",fill:"none"}):null})()]}),Array.isArray(i)&&i.map(se=>A.jsxs("div",{className:$(se),style:{left:se.x,top:se.y,width:se.width,height:se.height},onMouseDown:de=>oe(de,se),onMouseUp:de=>G(de,se.id),children:[A.jsx("div",{className:se.type==="diamond"?"-rotate-45 flex items-center justify-center w-full h-full":"w-full h-full",children:A.jsx("textarea",{value:se.text,onChange:de=>e(xe=>xe.map(ge=>ge.id===se.id?{...ge,text:de.target.value}:ge)),onBlur:()=>B.current(),className:`bg-transparent w-full h-full outline-none resize-none cursor-text text-gray-800 font-medium placeholder-gray-400 ${se.type==="sticky"?"text-left text-lg p-2 leading-relaxed":se.type==="text"?"text-left text-xl":"text-center flex items-center justify-center"}`,style:{border:"none",padding:se.type==="default"?"0 10px":void 0},onClick:de=>de.stopPropagation(),placeholder:se.type==="sticky"?"Type your note...":se.type==="text"?"Type text...":"Label"})}),se.type!=="text"&&A.jsx("div",{className:`absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-crosshair hover:bg-brand-primary hover:text-white hover:border-brand-primary transition-all z-30 transform hover:scale-110 ${se.type==="diamond"?"translate-x-4":""}`,onMouseDown:de=>Se(de,se.id),children:A.jsx(ra,{size:12})})]},se.id))]})]}),A.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 flex items-center space-x-4 z-50 pointer-events-none",children:[A.jsxs("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto",children:[A.jsx("button",{onClick:k,disabled:x<=0,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:A.jsx(_O,{size:18})}),A.jsx("button",{onClick:J,disabled:x>=h.length-1,className:"p-2 hover:bg-gray-50 rounded-lg text-gray-600 disabled:opacity-30 transition-colors",children:A.jsx(kD,{size:18})})]}),E&&A.jsx("div",{className:"bg-white/90 backdrop-blur rounded-xl shadow-sm border border-gray-200 p-1 flex items-center space-x-1 pointer-events-auto animate-in fade-in zoom-in duration-200",children:uL.map(se=>A.jsx("button",{onClick:()=>te(`${se.bg} ${se.border}`),className:`w-6 h-6 rounded-full border border-gray-200 ${se.bg.replace("bg-","bg-")} hover:scale-110 transition-transform`,title:se.name},se.name))})]}),A.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-white rounded-2xl shadow-2xl border border-gray-100 p-2 flex items-center space-x-2 z-50 animate-in slide-in-from-bottom-4 duration-300",children:[A.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[A.jsx("button",{onClick:()=>o(se=>Math.max(.1,se-.1)),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:A.jsx(UD,{size:18})}),A.jsxs("span",{className:"text-xs font-bold w-12 text-center text-gray-700",children:[Math.round(s*100),"%"]}),A.jsx("button",{onClick:()=>o(se=>se+.1),className:"p-2 hover:bg-gray-50 rounded-lg text-gray-500 transition-colors",children:A.jsx(ra,{size:18})})]}),A.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),A.jsxs("div",{className:"flex items-center space-x-1 px-2",children:[A.jsx("button",{onClick:()=>q("default"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Rectangle",children:A.jsx(sO,{size:20})}),A.jsx("button",{onClick:()=>q("circle"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Circle",children:A.jsx(YR,{size:20})}),A.jsx("button",{onClick:()=>q("diamond"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Diamond",children:A.jsx(tD,{size:20})}),A.jsx("button",{onClick:()=>q("sticky"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Sticky Note",children:A.jsx(lO,{size:20})}),A.jsx("button",{onClick:()=>q("text"),className:"p-2.5 hover:bg-blue-50 hover:text-blue-600 rounded-xl text-gray-600 transition-all tooltip group relative",title:"Text",children:A.jsx(yO,{size:20})})]}),A.jsx("div",{className:"w-[1px] h-8 bg-gray-100"}),A.jsx("div",{className:"flex items-center space-x-1 px-2",children:A.jsx("button",{onClick:W,disabled:!E,className:`p-2.5 rounded-xl transition-all group relative ${E?"hover:bg-red-50 text-gray-600 hover:text-red-500":"text-gray-300 cursor-not-allowed"}`,children:A.jsx(G1,{size:20})})})]}),A.jsx("div",{className:"absolute top-4 right-4 bg-white/80 backdrop-blur px-3 py-1.5 rounded-full text-[10px] font-medium text-gray-400 border border-gray-100 shadow-sm pointer-events-none select-none",children:"Hold Shift + Drag to pan"})]})};var r_={exports:{}},Ll={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function fL(){return wE||(wE=1,Ll.ConcurrentRoot=1,Ll.ContinuousEventPriority=8,Ll.DefaultEventPriority=32,Ll.DiscreteEventPriority=2,Ll.IdleEventPriority=268435456,Ll.LegacyRoot=0,Ll.NoEventPriority=0),Ll}var AE;function hL(){return AE||(AE=1,r_.exports=fL()),r_.exports}var rv=hL();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const C0="181",gd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},xd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Dw=0,g1=1,Ow=2,pL=3,Uw=0,wy=1,jm=2,io=3,Wl=0,ys=1,Zo=2,$o=0,Md=1,n0=2,x1=3,v1=4,Iw=5,Wc=100,Lw=101,zw=102,Bw=103,Pw=104,kw=200,Fw=201,Hw=202,jw=203,Ev=204,Mv=205,Vw=206,Gw=207,Yw=208,Xw=209,qw=210,Ww=211,Zw=212,Kw=213,Jw=214,Tv=0,wv=1,Av=2,Ad=3,Cv=4,Nv=5,Rv=6,Dv=7,N0=0,Qw=1,$w=2,el=0,eA=1,tA=2,nA=3,$1=4,iA=5,aA=6,sA=7,y1="attached",rA="detached",Ay=300,Zl=301,tu=302,i0=303,a0=304,Fh=306,s0=1e3,zs=1001,r0=1002,Na=1003,eS=1004,mL=1004,mh=1005,gL=1005,ji=1006,Vm=1007,xL=1007,Ko=1008,vL=1008,Ar=1009,tS=1010,nS=1011,_h=1012,Cy=1013,Kl=1014,Bs=1015,Dd=1016,Ny=1017,Ry=1018,Sh=1020,iS=35902,aS=35899,sS=1021,rS=1022,Za=1023,Eh=1026,Mh=1027,Dy=1028,R0=1029,Oy=1030,Uy=1031,yL=1032,Iy=1033,Gm=33776,Ym=33777,Xm=33778,qm=33779,Ov=35840,Uv=35841,Iv=35842,Lv=35843,zv=36196,Bv=37492,Pv=37496,kv=37808,Fv=37809,Hv=37810,jv=37811,Vv=37812,Gv=37813,Yv=37814,Xv=37815,qv=37816,Wv=37817,Zv=37818,Kv=37819,Jv=37820,Qv=37821,$v=36492,ey=36494,ty=36495,ny=36283,iy=36284,ay=36285,sy=36286,oA=2200,lA=2201,cA=2202,o0=2300,ry=2301,ov=2302,_d=2400,Sd=2401,l0=2402,Ly=2500,oS=2501,bL=0,_L=1,SL=2,uA=3200,dA=3201,EL=3202,ML=3203,su=0,fA=1,Yl="",Wa="srgb",nu="srgb-linear",c0="linear",Wn="srgb",TL=0,vd=7680,wL=7681,AL=7682,CL=7683,NL=34055,RL=34056,DL=5386,OL=512,UL=513,IL=514,LL=515,zL=516,BL=517,PL=518,b1=519,hA=512,pA=513,mA=514,lS=515,gA=516,xA=517,vA=518,yA=519,u0=35044,kL=35048,FL=35040,HL=35045,jL=35049,VL=35041,GL=35046,YL=35050,XL=35042,qL="100",_1="300 es",er=2e3,Th=2001,WL={COMPUTE:"compute",RENDER:"render"},ZL={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},KL={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function bA(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const JL={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function gh(i,e){return new JL[i](e)}function d0(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function _A(){const i=d0("canvas");return i.style.display="block",i}const CE={};let iu=null;function QL(i){iu=i}function $L(){return iu}function f0(...i){const e="THREE."+i.shift();iu?iu("log",e,...i):console.log(e,...i)}function yt(...i){const e="THREE."+i.shift();iu?iu("warn",e,...i):console.warn(e,...i)}function Kt(...i){const e="THREE."+i.shift();iu?iu("error",e,...i):console.error(e,...i)}function wh(...i){const e=i.join(" ");e in CE||(CE[e]=!0,yt(...i))}function ez(i,e,t){return new Promise(function(n,s){function o(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:s();break;case i.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:n()}}setTimeout(o,t)})}let nl=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const s=n[e];if(s!==void 0){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const s=n.slice(0);for(let o=0,c=s.length;o<c;o++)s[o].call(this,e);e.target=null}}};const Ya=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let NE=1234567;const Td=Math.PI/180,Ah=180/Math.PI;function tr(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ya[i&255]+Ya[i>>8&255]+Ya[i>>16&255]+Ya[i>>24&255]+"-"+Ya[e&255]+Ya[e>>8&255]+"-"+Ya[e>>16&15|64]+Ya[e>>24&255]+"-"+Ya[t&63|128]+Ya[t>>8&255]+"-"+Ya[t>>16&255]+Ya[t>>24&255]+Ya[n&255]+Ya[n>>8&255]+Ya[n>>16&255]+Ya[n>>24&255]).toLowerCase()}function qt(i,e,t){return Math.max(e,Math.min(t,i))}function cS(i,e){return(i%e+e)%e}function tz(i,e,t,n,s){return n+(i-e)*(s-n)/(t-e)}function nz(i,e,t){return i!==e?(t-i)/(e-i):0}function Wm(i,e,t){return(1-t)*i+t*e}function iz(i,e,t,n){return Wm(i,e,1-Math.exp(-t*n))}function az(i,e=1){return e-Math.abs(cS(i,e*2)-e)}function sz(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function rz(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function oz(i,e){return i+Math.floor(Math.random()*(e-i+1))}function lz(i,e){return i+Math.random()*(e-i)}function cz(i){return i*(.5-Math.random())}function uz(i){i!==void 0&&(NE=i);let e=NE+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function dz(i){return i*Td}function fz(i){return i*Ah}function hz(i){return(i&i-1)===0&&i!==0}function pz(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function mz(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function gz(i,e,t,n,s){const o=Math.cos,c=Math.sin,u=o(t/2),h=c(t/2),p=o((e+n)/2),x=c((e+n)/2),v=o((e-n)/2),b=c((e-n)/2),y=o((n-e)/2),S=c((n-e)/2);switch(s){case"XYX":i.set(u*x,h*v,h*b,u*p);break;case"YZY":i.set(h*b,u*x,h*v,u*p);break;case"ZXZ":i.set(h*v,h*b,u*x,u*p);break;case"XZX":i.set(u*x,h*S,h*y,u*p);break;case"YXY":i.set(h*y,u*x,h*S,u*p);break;case"ZYZ":i.set(h*S,h*y,u*x,u*p);break;default:yt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function vs(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function rn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const xz={DEG2RAD:Td,RAD2DEG:Ah,generateUUID:tr,clamp:qt,euclideanModulo:cS,mapLinear:tz,inverseLerp:nz,lerp:Wm,damp:iz,pingpong:az,smoothstep:sz,smootherstep:rz,randInt:oz,randFloat:lz,randFloatSpread:cz,seededRandom:uz,degToRad:dz,radToDeg:fz,isPowerOfTwo:hz,ceilPowerOfTwo:pz,floorPowerOfTwo:mz,setQuaternionFromProperEuler:gz,normalize:rn,denormalize:vs};class $e{constructor(e=0,t=0){$e.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6],this.y=s[1]*t+s[4]*n+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=qt(this.x,e.x,t.x),this.y=qt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=qt(this.x,e,t),this.y=qt(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(qt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),s=Math.sin(t),o=this.x-e.x,c=this.y-e.y;return this.x=o*n-c*s+e.x,this.y=o*s+c*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ka{constructor(e=0,t=0,n=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=s}static slerpFlat(e,t,n,s,o,c,u){let h=n[s+0],p=n[s+1],x=n[s+2],v=n[s+3],b=o[c+0],y=o[c+1],S=o[c+2],E=o[c+3];if(u<=0){e[t+0]=h,e[t+1]=p,e[t+2]=x,e[t+3]=v;return}if(u>=1){e[t+0]=b,e[t+1]=y,e[t+2]=S,e[t+3]=E;return}if(v!==E||h!==b||p!==y||x!==S){let M=h*b+p*y+x*S+v*E;M<0&&(b=-b,y=-y,S=-S,E=-E,M=-M);let _=1-u;if(M<.9995){const C=Math.acos(M),R=Math.sin(C);_=Math.sin(_*C)/R,u=Math.sin(u*C)/R,h=h*_+b*u,p=p*_+y*u,x=x*_+S*u,v=v*_+E*u}else{h=h*_+b*u,p=p*_+y*u,x=x*_+S*u,v=v*_+E*u;const C=1/Math.sqrt(h*h+p*p+x*x+v*v);h*=C,p*=C,x*=C,v*=C}}e[t]=h,e[t+1]=p,e[t+2]=x,e[t+3]=v}static multiplyQuaternionsFlat(e,t,n,s,o,c){const u=n[s],h=n[s+1],p=n[s+2],x=n[s+3],v=o[c],b=o[c+1],y=o[c+2],S=o[c+3];return e[t]=u*S+x*v+h*y-p*b,e[t+1]=h*S+x*b+p*v-u*y,e[t+2]=p*S+x*y+u*b-h*v,e[t+3]=x*S-u*v-h*b-p*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,s){return this._x=e,this._y=t,this._z=n,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,s=e._y,o=e._z,c=e._order,u=Math.cos,h=Math.sin,p=u(n/2),x=u(s/2),v=u(o/2),b=h(n/2),y=h(s/2),S=h(o/2);switch(c){case"XYZ":this._x=b*x*v+p*y*S,this._y=p*y*v-b*x*S,this._z=p*x*S+b*y*v,this._w=p*x*v-b*y*S;break;case"YXZ":this._x=b*x*v+p*y*S,this._y=p*y*v-b*x*S,this._z=p*x*S-b*y*v,this._w=p*x*v+b*y*S;break;case"ZXY":this._x=b*x*v-p*y*S,this._y=p*y*v+b*x*S,this._z=p*x*S+b*y*v,this._w=p*x*v-b*y*S;break;case"ZYX":this._x=b*x*v-p*y*S,this._y=p*y*v+b*x*S,this._z=p*x*S-b*y*v,this._w=p*x*v+b*y*S;break;case"YZX":this._x=b*x*v+p*y*S,this._y=p*y*v+b*x*S,this._z=p*x*S-b*y*v,this._w=p*x*v-b*y*S;break;case"XZY":this._x=b*x*v-p*y*S,this._y=p*y*v-b*x*S,this._z=p*x*S+b*y*v,this._w=p*x*v+b*y*S;break;default:yt("Quaternion: .setFromEuler() encountered an unknown order: "+c)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,s=Math.sin(n);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],s=t[4],o=t[8],c=t[1],u=t[5],h=t[9],p=t[2],x=t[6],v=t[10],b=n+u+v;if(b>0){const y=.5/Math.sqrt(b+1);this._w=.25/y,this._x=(x-h)*y,this._y=(o-p)*y,this._z=(c-s)*y}else if(n>u&&n>v){const y=2*Math.sqrt(1+n-u-v);this._w=(x-h)/y,this._x=.25*y,this._y=(s+c)/y,this._z=(o+p)/y}else if(u>v){const y=2*Math.sqrt(1+u-n-v);this._w=(o-p)/y,this._x=(s+c)/y,this._y=.25*y,this._z=(h+x)/y}else{const y=2*Math.sqrt(1+v-n-u);this._w=(c-s)/y,this._x=(o+p)/y,this._y=(h+x)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(qt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const s=Math.min(1,t/n);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,s=e._y,o=e._z,c=e._w,u=t._x,h=t._y,p=t._z,x=t._w;return this._x=n*x+c*u+s*p-o*h,this._y=s*x+c*h+o*u-n*p,this._z=o*x+c*p+n*h-s*u,this._w=c*x-n*u-s*h-o*p,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,s=e._y,o=e._z,c=e._w,u=this.dot(e);u<0&&(n=-n,s=-s,o=-o,c=-c,u=-u);let h=1-t;if(u<.9995){const p=Math.acos(u),x=Math.sin(p);h=Math.sin(h*p)/x,t=Math.sin(t*p)/x,this._x=this._x*h+n*t,this._y=this._y*h+s*t,this._z=this._z*h+o*t,this._w=this._w*h+c*t,this._onChangeCallback()}else this._x=this._x*h+n*t,this._y=this._y*h+s*t,this._z=this._z*h+o*t,this._w=this._w*h+c*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),s=Math.sqrt(1-n),o=Math.sqrt(n);return this.set(s*Math.sin(e),s*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ue{constructor(e=0,t=0,n=0){ue.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(RE.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(RE.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,s=this.z,o=e.elements;return this.x=o[0]*t+o[3]*n+o[6]*s,this.y=o[1]*t+o[4]*n+o[7]*s,this.z=o[2]*t+o[5]*n+o[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,o=e.elements,c=1/(o[3]*t+o[7]*n+o[11]*s+o[15]);return this.x=(o[0]*t+o[4]*n+o[8]*s+o[12])*c,this.y=(o[1]*t+o[5]*n+o[9]*s+o[13])*c,this.z=(o[2]*t+o[6]*n+o[10]*s+o[14])*c,this}applyQuaternion(e){const t=this.x,n=this.y,s=this.z,o=e.x,c=e.y,u=e.z,h=e.w,p=2*(c*s-u*n),x=2*(u*t-o*s),v=2*(o*n-c*t);return this.x=t+h*p+c*v-u*x,this.y=n+h*x+u*p-o*v,this.z=s+h*v+o*x-c*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,s=this.z,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*s,this.y=o[1]*t+o[5]*n+o[9]*s,this.z=o[2]*t+o[6]*n+o[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=qt(this.x,e.x,t.x),this.y=qt(this.y,e.y,t.y),this.z=qt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=qt(this.x,e,t),this.y=qt(this.y,e,t),this.z=qt(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,s=e.y,o=e.z,c=t.x,u=t.y,h=t.z;return this.x=s*h-o*u,this.y=o*c-n*h,this.z=n*u-s*c,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return o_.copy(this).projectOnVector(e),this.sub(o_)}reflect(e){return this.sub(o_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(qt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,s=this.z-e.z;return t*t+n*n+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const s=Math.sin(t)*e;return this.x=s*Math.sin(n),this.y=Math.cos(t)*e,this.z=s*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const o_=new ue,RE=new Ka;class nn{constructor(e,t,n,s,o,c,u,h,p){nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,s,o,c,u,h,p)}set(e,t,n,s,o,c,u,h,p){const x=this.elements;return x[0]=e,x[1]=s,x[2]=u,x[3]=t,x[4]=o,x[5]=h,x[6]=n,x[7]=c,x[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,o=this.elements,c=n[0],u=n[3],h=n[6],p=n[1],x=n[4],v=n[7],b=n[2],y=n[5],S=n[8],E=s[0],M=s[3],_=s[6],C=s[1],R=s[4],O=s[7],U=s[2],I=s[5],F=s[8];return o[0]=c*E+u*C+h*U,o[3]=c*M+u*R+h*I,o[6]=c*_+u*O+h*F,o[1]=p*E+x*C+v*U,o[4]=p*M+x*R+v*I,o[7]=p*_+x*O+v*F,o[2]=b*E+y*C+S*U,o[5]=b*M+y*R+S*I,o[8]=b*_+y*O+S*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],s=e[2],o=e[3],c=e[4],u=e[5],h=e[6],p=e[7],x=e[8];return t*c*x-t*u*p-n*o*x+n*u*h+s*o*p-s*c*h}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],o=e[3],c=e[4],u=e[5],h=e[6],p=e[7],x=e[8],v=x*c-u*p,b=u*h-x*o,y=p*o-c*h,S=t*v+n*b+s*y;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/S;return e[0]=v*E,e[1]=(s*p-x*n)*E,e[2]=(u*n-s*c)*E,e[3]=b*E,e[4]=(x*t-s*h)*E,e[5]=(s*o-u*t)*E,e[6]=y*E,e[7]=(n*h-p*t)*E,e[8]=(c*t-n*o)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,s,o,c,u){const h=Math.cos(o),p=Math.sin(o);return this.set(n*h,n*p,-n*(h*c+p*u)+c+e,-s*p,s*h,-s*(-p*c+h*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(l_.makeScale(e,t)),this}rotate(e){return this.premultiply(l_.makeRotation(-e)),this}translate(e,t){return this.premultiply(l_.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<9;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const l_=new nn,DE=new nn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),OE=new nn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function vz(){const i={enabled:!0,workingColorSpace:nu,spaces:{},convert:function(s,o,c){return this.enabled===!1||o===c||!o||!c||(this.spaces[o].transfer===Wn&&(s.r=ql(s.r),s.g=ql(s.g),s.b=ql(s.b)),this.spaces[o].primaries!==this.spaces[c].primaries&&(s.applyMatrix3(this.spaces[o].toXYZ),s.applyMatrix3(this.spaces[c].fromXYZ)),this.spaces[c].transfer===Wn&&(s.r=yh(s.r),s.g=yh(s.g),s.b=yh(s.b))),s},workingToColorSpace:function(s,o){return this.convert(s,this.workingColorSpace,o)},colorSpaceToWorking:function(s,o){return this.convert(s,o,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Yl?c0:this.spaces[s].transfer},getToneMappingMode:function(s){return this.spaces[s].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(s,o=this.workingColorSpace){return s.fromArray(this.spaces[o].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,o,c){return s.copy(this.spaces[o].toXYZ).multiply(this.spaces[c].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,o){return wh("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(s,o)},toWorkingColorSpace:function(s,o){return wh("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(s,o)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[nu]:{primaries:e,whitePoint:n,transfer:c0,toXYZ:DE,fromXYZ:OE,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Wa},outputColorSpaceConfig:{drawingBufferColorSpace:Wa}},[Wa]:{primaries:e,whitePoint:n,transfer:Wn,toXYZ:DE,fromXYZ:OE,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Wa}}}),i}const Nn=vz();function ql(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function yh(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Yf;class SA{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Yf===void 0&&(Yf=d0("canvas")),Yf.width=e.width,Yf.height=e.height;const s=Yf.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),n=Yf}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=d0("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const s=n.getImageData(0,0,e.width,e.height),o=s.data;for(let c=0;c<o.length;c++)o[c]=ql(o[c]/255)*255;return n.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(ql(t[n]/255)*255):t[n]=ql(t[n]);return{data:t,width:e.width,height:e.height}}else return yt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let yz=0;class Jc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:yz++}),this.uuid=tr(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},s=this.data;if(s!==null){let o;if(Array.isArray(s)){o=[];for(let c=0,u=s.length;c<u;c++)s[c].isDataTexture?o.push(c_(s[c].image)):o.push(c_(s[c]))}else o=c_(s);n.url=o}return t||(e.images[this.uuid]=n),n}}function c_(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?SA.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(yt("Texture: Unable to serialize Texture."),{})}let bz=0;const u_=new ue;class Oi extends nl{constructor(e=Oi.DEFAULT_IMAGE,t=Oi.DEFAULT_MAPPING,n=zs,s=zs,o=ji,c=Ko,u=Za,h=Ar,p=Oi.DEFAULT_ANISOTROPY,x=Yl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:bz++}),this.uuid=tr(),this.name="",this.source=new Jc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=s,this.magFilter=o,this.minFilter=c,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=h,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=x,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(u_).x}get height(){return this.source.getSize(u_).y}get depth(){return this.source.getSize(u_).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){yt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){yt(`Texture.setValues(): property '${t}' does not exist.`);continue}s&&n&&s.isVector2&&n.isVector2||s&&n&&s.isVector3&&n.isVector3||s&&n&&s.isMatrix3&&n.isMatrix3?s.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ay)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case s0:e.x=e.x-Math.floor(e.x);break;case zs:e.x=e.x<0?0:1;break;case r0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case s0:e.y=e.y-Math.floor(e.y);break;case zs:e.y=e.y<0?0:1;break;case r0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Oi.DEFAULT_IMAGE=null;Oi.DEFAULT_MAPPING=Ay;Oi.DEFAULT_ANISOTROPY=1;class Un{constructor(e=0,t=0,n=0,s=1){Un.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,s){return this.x=e,this.y=t,this.z=n,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,o=this.w,c=e.elements;return this.x=c[0]*t+c[4]*n+c[8]*s+c[12]*o,this.y=c[1]*t+c[5]*n+c[9]*s+c[13]*o,this.z=c[2]*t+c[6]*n+c[10]*s+c[14]*o,this.w=c[3]*t+c[7]*n+c[11]*s+c[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,s,o;const h=e.elements,p=h[0],x=h[4],v=h[8],b=h[1],y=h[5],S=h[9],E=h[2],M=h[6],_=h[10];if(Math.abs(x-b)<.01&&Math.abs(v-E)<.01&&Math.abs(S-M)<.01){if(Math.abs(x+b)<.1&&Math.abs(v+E)<.1&&Math.abs(S+M)<.1&&Math.abs(p+y+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const R=(p+1)/2,O=(y+1)/2,U=(_+1)/2,I=(x+b)/4,F=(v+E)/4,j=(S+M)/4;return R>O&&R>U?R<.01?(n=0,s=.707106781,o=.707106781):(n=Math.sqrt(R),s=I/n,o=F/n):O>U?O<.01?(n=.707106781,s=0,o=.707106781):(s=Math.sqrt(O),n=I/s,o=j/s):U<.01?(n=.707106781,s=.707106781,o=0):(o=Math.sqrt(U),n=F/o,s=j/o),this.set(n,s,o,t),this}let C=Math.sqrt((M-S)*(M-S)+(v-E)*(v-E)+(b-x)*(b-x));return Math.abs(C)<.001&&(C=1),this.x=(M-S)/C,this.y=(v-E)/C,this.z=(b-x)/C,this.w=Math.acos((p+y+_-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=qt(this.x,e.x,t.x),this.y=qt(this.y,e.y,t.y),this.z=qt(this.z,e.z,t.z),this.w=qt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=qt(this.x,e,t),this.y=qt(this.y,e,t),this.z=qt(this.z,e,t),this.w=qt(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(qt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class uS extends nl{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ji,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Un(0,0,e,t),this.scissorTest=!1,this.viewport=new Un(0,0,e,t);const s={width:e,height:t,depth:n.depth},o=new Oi(s);this.textures=[];const c=n.count;for(let u=0;u<c;u++)this.textures[u]=o.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:ji,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let s=0,o=this.textures.length;s<o;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=n,this.textures[s].isData3DTexture!==!0&&(this.textures[s].isArrayTexture=this.textures[s].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new Jc(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class tl extends uS{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class zy extends Oi{constructor(e=null,t=1,n=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=Na,this.minFilter=Na,this.wrapR=zs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class _z extends tl{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new zy(null,e,t,n),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class By extends Oi{constructor(e=null,t=1,n=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=Na,this.minFilter=Na,this.wrapR=zs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Sz extends tl{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new By(null,e,t,n),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class Ja{constructor(e=new ue(1/0,1/0,1/0),t=new ue(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint($r.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint($r.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=$r.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const o=n.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let c=0,u=o.count;c<u;c++)e.isMesh===!0?e.getVertexPosition(c,$r):$r.fromBufferAttribute(o,c),$r.applyMatrix4(e.matrixWorld),this.expandByPoint($r);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ux.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),ux.copy(n.boundingBox)),ux.applyMatrix4(e.matrixWorld),this.union(ux)}const s=e.children;for(let o=0,c=s.length;o<c;o++)this.expandByObject(s[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,$r),$r.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_m),dx.subVectors(this.max,_m),Xf.subVectors(e.a,_m),qf.subVectors(e.b,_m),Wf.subVectors(e.c,_m),kc.subVectors(qf,Xf),Fc.subVectors(Wf,qf),td.subVectors(Xf,Wf);let t=[0,-kc.z,kc.y,0,-Fc.z,Fc.y,0,-td.z,td.y,kc.z,0,-kc.x,Fc.z,0,-Fc.x,td.z,0,-td.x,-kc.y,kc.x,0,-Fc.y,Fc.x,0,-td.y,td.x,0];return!d_(t,Xf,qf,Wf,dx)||(t=[1,0,0,0,1,0,0,0,1],!d_(t,Xf,qf,Wf,dx))?!1:(fx.crossVectors(kc,Fc),t=[fx.x,fx.y,fx.z],d_(t,Xf,qf,Wf,dx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,$r).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize($r).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const zl=[new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue],$r=new ue,ux=new Ja,Xf=new ue,qf=new ue,Wf=new ue,kc=new ue,Fc=new ue,td=new ue,_m=new ue,dx=new ue,fx=new ue,nd=new ue;function d_(i,e,t,n,s){for(let o=0,c=i.length-3;o<=c;o+=3){nd.fromArray(i,o);const u=s.x*Math.abs(nd.x)+s.y*Math.abs(nd.y)+s.z*Math.abs(nd.z),h=e.dot(nd),p=t.dot(nd),x=n.dot(nd);if(Math.max(-Math.max(h,p,x),Math.min(h,p,x))>u)return!1}return!0}const Ez=new Ja,Sm=new ue,f_=new ue;class Ra{constructor(e=new ue,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):Ez.setFromPoints(e).getCenter(n);let s=0;for(let o=0,c=e.length;o<c;o++)s=Math.max(s,n.distanceToSquared(e[o]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Sm.subVectors(e,this.center);const t=Sm.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),s=(n-this.radius)*.5;this.center.addScaledVector(Sm,s/n),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(f_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Sm.copy(e.center).add(f_)),this.expandByPoint(Sm.copy(e.center).sub(f_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Bl=new ue,h_=new ue,hx=new ue,Hc=new ue,p_=new ue,px=new ue,m_=new ue;class Od{constructor(e=new ue,t=new ue(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Bl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Bl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Bl.copy(this.origin).addScaledVector(this.direction,t),Bl.distanceToSquared(e))}distanceSqToSegment(e,t,n,s){h_.copy(e).add(t).multiplyScalar(.5),hx.copy(t).sub(e).normalize(),Hc.copy(this.origin).sub(h_);const o=e.distanceTo(t)*.5,c=-this.direction.dot(hx),u=Hc.dot(this.direction),h=-Hc.dot(hx),p=Hc.lengthSq(),x=Math.abs(1-c*c);let v,b,y,S;if(x>0)if(v=c*h-u,b=c*u-h,S=o*x,v>=0)if(b>=-S)if(b<=S){const E=1/x;v*=E,b*=E,y=v*(v+c*b+2*u)+b*(c*v+b+2*h)+p}else b=o,v=Math.max(0,-(c*b+u)),y=-v*v+b*(b+2*h)+p;else b=-o,v=Math.max(0,-(c*b+u)),y=-v*v+b*(b+2*h)+p;else b<=-S?(v=Math.max(0,-(-c*o+u)),b=v>0?-o:Math.min(Math.max(-o,-h),o),y=-v*v+b*(b+2*h)+p):b<=S?(v=0,b=Math.min(Math.max(-o,-h),o),y=b*(b+2*h)+p):(v=Math.max(0,-(c*o+u)),b=v>0?o:Math.min(Math.max(-o,-h),o),y=-v*v+b*(b+2*h)+p);else b=c>0?-o:o,v=Math.max(0,-(c*b+u)),y=-v*v+b*(b+2*h)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,v),s&&s.copy(h_).addScaledVector(hx,b),y}intersectSphere(e,t){Bl.subVectors(e.center,this.origin);const n=Bl.dot(this.direction),s=Bl.dot(Bl)-n*n,o=e.radius*e.radius;if(s>o)return null;const c=Math.sqrt(o-s),u=n-c,h=n+c;return h<0?null:u<0?this.at(h,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,s,o,c,u,h;const p=1/this.direction.x,x=1/this.direction.y,v=1/this.direction.z,b=this.origin;return p>=0?(n=(e.min.x-b.x)*p,s=(e.max.x-b.x)*p):(n=(e.max.x-b.x)*p,s=(e.min.x-b.x)*p),x>=0?(o=(e.min.y-b.y)*x,c=(e.max.y-b.y)*x):(o=(e.max.y-b.y)*x,c=(e.min.y-b.y)*x),n>c||o>s||((o>n||isNaN(n))&&(n=o),(c<s||isNaN(s))&&(s=c),v>=0?(u=(e.min.z-b.z)*v,h=(e.max.z-b.z)*v):(u=(e.max.z-b.z)*v,h=(e.min.z-b.z)*v),n>h||u>s)||((u>n||n!==n)&&(n=u),(h<s||s!==s)&&(s=h),s<0)?null:this.at(n>=0?n:s,t)}intersectsBox(e){return this.intersectBox(e,Bl)!==null}intersectTriangle(e,t,n,s,o){p_.subVectors(t,e),px.subVectors(n,e),m_.crossVectors(p_,px);let c=this.direction.dot(m_),u;if(c>0){if(s)return null;u=1}else if(c<0)u=-1,c=-c;else return null;Hc.subVectors(this.origin,e);const h=u*this.direction.dot(px.crossVectors(Hc,px));if(h<0)return null;const p=u*this.direction.dot(p_.cross(Hc));if(p<0||h+p>c)return null;const x=-u*Hc.dot(m_);return x<0?null:this.at(x/c,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wt{constructor(e,t,n,s,o,c,u,h,p,x,v,b,y,S,E,M){Wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,s,o,c,u,h,p,x,v,b,y,S,E,M)}set(e,t,n,s,o,c,u,h,p,x,v,b,y,S,E,M){const _=this.elements;return _[0]=e,_[4]=t,_[8]=n,_[12]=s,_[1]=o,_[5]=c,_[9]=u,_[13]=h,_[2]=p,_[6]=x,_[10]=v,_[14]=b,_[3]=y,_[7]=S,_[11]=E,_[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,s=1/Zf.setFromMatrixColumn(e,0).length(),o=1/Zf.setFromMatrixColumn(e,1).length(),c=1/Zf.setFromMatrixColumn(e,2).length();return t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s,t[3]=0,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=0,t[8]=n[8]*c,t[9]=n[9]*c,t[10]=n[10]*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,s=e.y,o=e.z,c=Math.cos(n),u=Math.sin(n),h=Math.cos(s),p=Math.sin(s),x=Math.cos(o),v=Math.sin(o);if(e.order==="XYZ"){const b=c*x,y=c*v,S=u*x,E=u*v;t[0]=h*x,t[4]=-h*v,t[8]=p,t[1]=y+S*p,t[5]=b-E*p,t[9]=-u*h,t[2]=E-b*p,t[6]=S+y*p,t[10]=c*h}else if(e.order==="YXZ"){const b=h*x,y=h*v,S=p*x,E=p*v;t[0]=b+E*u,t[4]=S*u-y,t[8]=c*p,t[1]=c*v,t[5]=c*x,t[9]=-u,t[2]=y*u-S,t[6]=E+b*u,t[10]=c*h}else if(e.order==="ZXY"){const b=h*x,y=h*v,S=p*x,E=p*v;t[0]=b-E*u,t[4]=-c*v,t[8]=S+y*u,t[1]=y+S*u,t[5]=c*x,t[9]=E-b*u,t[2]=-c*p,t[6]=u,t[10]=c*h}else if(e.order==="ZYX"){const b=c*x,y=c*v,S=u*x,E=u*v;t[0]=h*x,t[4]=S*p-y,t[8]=b*p+E,t[1]=h*v,t[5]=E*p+b,t[9]=y*p-S,t[2]=-p,t[6]=u*h,t[10]=c*h}else if(e.order==="YZX"){const b=c*h,y=c*p,S=u*h,E=u*p;t[0]=h*x,t[4]=E-b*v,t[8]=S*v+y,t[1]=v,t[5]=c*x,t[9]=-u*x,t[2]=-p*x,t[6]=y*v+S,t[10]=b-E*v}else if(e.order==="XZY"){const b=c*h,y=c*p,S=u*h,E=u*p;t[0]=h*x,t[4]=-v,t[8]=p*x,t[1]=b*v+E,t[5]=c*x,t[9]=y*v-S,t[2]=S*v-y,t[6]=u*x,t[10]=E*v+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Mz,e,Tz)}lookAt(e,t,n){const s=this.elements;return Qs.subVectors(e,t),Qs.lengthSq()===0&&(Qs.z=1),Qs.normalize(),jc.crossVectors(n,Qs),jc.lengthSq()===0&&(Math.abs(n.z)===1?Qs.x+=1e-4:Qs.z+=1e-4,Qs.normalize(),jc.crossVectors(n,Qs)),jc.normalize(),mx.crossVectors(Qs,jc),s[0]=jc.x,s[4]=mx.x,s[8]=Qs.x,s[1]=jc.y,s[5]=mx.y,s[9]=Qs.y,s[2]=jc.z,s[6]=mx.z,s[10]=Qs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,o=this.elements,c=n[0],u=n[4],h=n[8],p=n[12],x=n[1],v=n[5],b=n[9],y=n[13],S=n[2],E=n[6],M=n[10],_=n[14],C=n[3],R=n[7],O=n[11],U=n[15],I=s[0],F=s[4],j=s[8],B=s[12],k=s[1],J=s[5],Y=s[9],Z=s[13],L=s[2],re=s[6],q=s[10],W=s[14],te=s[3],oe=s[7],Se=s[11],G=s[15];return o[0]=c*I+u*k+h*L+p*te,o[4]=c*F+u*J+h*re+p*oe,o[8]=c*j+u*Y+h*q+p*Se,o[12]=c*B+u*Z+h*W+p*G,o[1]=x*I+v*k+b*L+y*te,o[5]=x*F+v*J+b*re+y*oe,o[9]=x*j+v*Y+b*q+y*Se,o[13]=x*B+v*Z+b*W+y*G,o[2]=S*I+E*k+M*L+_*te,o[6]=S*F+E*J+M*re+_*oe,o[10]=S*j+E*Y+M*q+_*Se,o[14]=S*B+E*Z+M*W+_*G,o[3]=C*I+R*k+O*L+U*te,o[7]=C*F+R*J+O*re+U*oe,o[11]=C*j+R*Y+O*q+U*Se,o[15]=C*B+R*Z+O*W+U*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],s=e[8],o=e[12],c=e[1],u=e[5],h=e[9],p=e[13],x=e[2],v=e[6],b=e[10],y=e[14],S=e[3],E=e[7],M=e[11],_=e[15];return S*(+o*h*v-s*p*v-o*u*b+n*p*b+s*u*y-n*h*y)+E*(+t*h*y-t*p*b+o*c*b-s*c*y+s*p*x-o*h*x)+M*(+t*p*v-t*u*y-o*c*v+n*c*y+o*u*x-n*p*x)+_*(-s*u*x-t*h*v+t*u*b+s*c*v-n*c*b+n*h*x)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],o=e[3],c=e[4],u=e[5],h=e[6],p=e[7],x=e[8],v=e[9],b=e[10],y=e[11],S=e[12],E=e[13],M=e[14],_=e[15],C=v*M*p-E*b*p+E*h*y-u*M*y-v*h*_+u*b*_,R=S*b*p-x*M*p-S*h*y+c*M*y+x*h*_-c*b*_,O=x*E*p-S*v*p+S*u*y-c*E*y-x*u*_+c*v*_,U=S*v*h-x*E*h-S*u*b+c*E*b+x*u*M-c*v*M,I=t*C+n*R+s*O+o*U;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/I;return e[0]=C*F,e[1]=(E*b*o-v*M*o-E*s*y+n*M*y+v*s*_-n*b*_)*F,e[2]=(u*M*o-E*h*o+E*s*p-n*M*p-u*s*_+n*h*_)*F,e[3]=(v*h*o-u*b*o-v*s*p+n*b*p+u*s*y-n*h*y)*F,e[4]=R*F,e[5]=(x*M*o-S*b*o+S*s*y-t*M*y-x*s*_+t*b*_)*F,e[6]=(S*h*o-c*M*o-S*s*p+t*M*p+c*s*_-t*h*_)*F,e[7]=(c*b*o-x*h*o+x*s*p-t*b*p-c*s*y+t*h*y)*F,e[8]=O*F,e[9]=(S*v*o-x*E*o-S*n*y+t*E*y+x*n*_-t*v*_)*F,e[10]=(c*E*o-S*u*o+S*n*p-t*E*p-c*n*_+t*u*_)*F,e[11]=(x*u*o-c*v*o-x*n*p+t*v*p+c*n*y-t*u*y)*F,e[12]=U*F,e[13]=(x*E*s-S*v*s+S*n*b-t*E*b-x*n*M+t*v*M)*F,e[14]=(S*u*s-c*E*s-S*n*h+t*E*h+c*n*M-t*u*M)*F,e[15]=(c*v*s-x*u*s+x*n*h-t*v*h-c*n*b+t*u*b)*F,this}scale(e){const t=this.elements,n=e.x,s=e.y,o=e.z;return t[0]*=n,t[4]*=s,t[8]*=o,t[1]*=n,t[5]*=s,t[9]*=o,t[2]*=n,t[6]*=s,t[10]*=o,t[3]*=n,t[7]*=s,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,s))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),s=Math.sin(t),o=1-n,c=e.x,u=e.y,h=e.z,p=o*c,x=o*u;return this.set(p*c+n,p*u-s*h,p*h+s*u,0,p*u+s*h,x*u+n,x*h-s*c,0,p*h-s*u,x*h+s*c,o*h*h+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,s,o,c){return this.set(1,n,o,0,e,1,c,0,t,s,1,0,0,0,0,1),this}compose(e,t,n){const s=this.elements,o=t._x,c=t._y,u=t._z,h=t._w,p=o+o,x=c+c,v=u+u,b=o*p,y=o*x,S=o*v,E=c*x,M=c*v,_=u*v,C=h*p,R=h*x,O=h*v,U=n.x,I=n.y,F=n.z;return s[0]=(1-(E+_))*U,s[1]=(y+O)*U,s[2]=(S-R)*U,s[3]=0,s[4]=(y-O)*I,s[5]=(1-(b+_))*I,s[6]=(M+C)*I,s[7]=0,s[8]=(S+R)*F,s[9]=(M-C)*F,s[10]=(1-(b+E))*F,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,n){const s=this.elements;let o=Zf.set(s[0],s[1],s[2]).length();const c=Zf.set(s[4],s[5],s[6]).length(),u=Zf.set(s[8],s[9],s[10]).length();this.determinant()<0&&(o=-o),e.x=s[12],e.y=s[13],e.z=s[14],eo.copy(this);const p=1/o,x=1/c,v=1/u;return eo.elements[0]*=p,eo.elements[1]*=p,eo.elements[2]*=p,eo.elements[4]*=x,eo.elements[5]*=x,eo.elements[6]*=x,eo.elements[8]*=v,eo.elements[9]*=v,eo.elements[10]*=v,t.setFromRotationMatrix(eo),n.x=o,n.y=c,n.z=u,this}makePerspective(e,t,n,s,o,c,u=er,h=!1){const p=this.elements,x=2*o/(t-e),v=2*o/(n-s),b=(t+e)/(t-e),y=(n+s)/(n-s);let S,E;if(h)S=o/(c-o),E=c*o/(c-o);else if(u===er)S=-(c+o)/(c-o),E=-2*c*o/(c-o);else if(u===Th)S=-c/(c-o),E=-c*o/(c-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return p[0]=x,p[4]=0,p[8]=b,p[12]=0,p[1]=0,p[5]=v,p[9]=y,p[13]=0,p[2]=0,p[6]=0,p[10]=S,p[14]=E,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,n,s,o,c,u=er,h=!1){const p=this.elements,x=2/(t-e),v=2/(n-s),b=-(t+e)/(t-e),y=-(n+s)/(n-s);let S,E;if(h)S=1/(c-o),E=c/(c-o);else if(u===er)S=-2/(c-o),E=-(c+o)/(c-o);else if(u===Th)S=-1/(c-o),E=-o/(c-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return p[0]=x,p[4]=0,p[8]=0,p[12]=b,p[1]=0,p[5]=v,p[9]=0,p[13]=y,p[2]=0,p[6]=0,p[10]=S,p[14]=E,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<16;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Zf=new ue,eo=new Wt,Mz=new ue(0,0,0),Tz=new ue(1,1,1),jc=new ue,mx=new ue,Qs=new ue,UE=new Wt,IE=new Ka;class nr{constructor(e=0,t=0,n=0,s=nr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,s=this._order){return this._x=e,this._y=t,this._z=n,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const s=e.elements,o=s[0],c=s[4],u=s[8],h=s[1],p=s[5],x=s[9],v=s[2],b=s[6],y=s[10];switch(t){case"XYZ":this._y=Math.asin(qt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-x,y),this._z=Math.atan2(-c,o)):(this._x=Math.atan2(b,p),this._z=0);break;case"YXZ":this._x=Math.asin(-qt(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(u,y),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-v,o),this._z=0);break;case"ZXY":this._x=Math.asin(qt(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(-v,y),this._z=Math.atan2(-c,p)):(this._y=0,this._z=Math.atan2(h,o));break;case"ZYX":this._y=Math.asin(-qt(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(b,y),this._z=Math.atan2(h,o)):(this._x=0,this._z=Math.atan2(-c,p));break;case"YZX":this._z=Math.asin(qt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-x,p),this._y=Math.atan2(-v,o)):(this._x=0,this._y=Math.atan2(u,y));break;case"XZY":this._z=Math.asin(-qt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(b,p),this._y=Math.atan2(u,o)):(this._x=Math.atan2(-x,y),this._y=0);break;default:yt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return UE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(UE,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return IE.setFromEuler(this),this.setFromQuaternion(IE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}nr.DEFAULT_ORDER="XYZ";class Ch{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let wz=0;const LE=new ue,Kf=new Ka,Pl=new Wt,gx=new ue,Em=new ue,Az=new ue,Cz=new Ka,zE=new ue(1,0,0),BE=new ue(0,1,0),PE=new ue(0,0,1),kE={type:"added"},Nz={type:"removed"},Jf={type:"childadded",child:null},g_={type:"childremoved",child:null};class Rn extends nl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wz++}),this.uuid=tr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Rn.DEFAULT_UP.clone();const e=new ue,t=new nr,n=new Ka,s=new ue(1,1,1);function o(){n.setFromEuler(t,!1)}function c(){t.setFromQuaternion(n,void 0,!1)}t._onChange(o),n._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Wt},normalMatrix:{value:new nn}}),this.matrix=new Wt,this.matrixWorld=new Wt,this.matrixAutoUpdate=Rn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Rn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ch,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Kf.setFromAxisAngle(e,t),this.quaternion.multiply(Kf),this}rotateOnWorldAxis(e,t){return Kf.setFromAxisAngle(e,t),this.quaternion.premultiply(Kf),this}rotateX(e){return this.rotateOnAxis(zE,e)}rotateY(e){return this.rotateOnAxis(BE,e)}rotateZ(e){return this.rotateOnAxis(PE,e)}translateOnAxis(e,t){return LE.copy(e).applyQuaternion(this.quaternion),this.position.add(LE.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(zE,e)}translateY(e){return this.translateOnAxis(BE,e)}translateZ(e){return this.translateOnAxis(PE,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pl.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?gx.copy(e):gx.set(e,t,n);const s=this.parent;this.updateWorldMatrix(!0,!1),Em.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pl.lookAt(Em,gx,this.up):Pl.lookAt(gx,Em,this.up),this.quaternion.setFromRotationMatrix(Pl),s&&(Pl.extractRotation(s.matrixWorld),Kf.setFromRotationMatrix(Pl),this.quaternion.premultiply(Kf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Kt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(kE),Jf.child=e,this.dispatchEvent(Jf),Jf.child=null):Kt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Nz),g_.child=e,this.dispatchEvent(g_),g_.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Pl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(kE),Jf.child=e,this.dispatchEvent(Jf),Jf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,s=this.children.length;n<s;n++){const c=this.children[n].getObjectByProperty(e,t);if(c!==void 0)return c}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const s=this.children;for(let o=0,c=s.length;o<c;o++)s[o].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Em,e,Az),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Em,Cz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let o=0,c=s.length;o<c;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(u=>({...u})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function o(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let p=0,x=h.length;p<x;p++){const v=h[p];o(e.shapes,v)}else o(e.shapes,h)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,p=this.material.length;h<p;h++)u.push(o(e.materials,this.material[h]));s.material=u}else s.material=o(e.materials,this.material);if(this.children.length>0){s.children=[];for(let u=0;u<this.children.length;u++)s.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];s.animations.push(o(e.animations,h))}}if(t){const u=c(e.geometries),h=c(e.materials),p=c(e.textures),x=c(e.images),v=c(e.shapes),b=c(e.skeletons),y=c(e.animations),S=c(e.nodes);u.length>0&&(n.geometries=u),h.length>0&&(n.materials=h),p.length>0&&(n.textures=p),x.length>0&&(n.images=x),v.length>0&&(n.shapes=v),b.length>0&&(n.skeletons=b),y.length>0&&(n.animations=y),S.length>0&&(n.nodes=S)}return n.object=s,n;function c(u){const h=[];for(const p in u){const x=u[p];delete x.metadata,h.push(x)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const s=e.children[n];this.add(s.clone())}return this}}Rn.DEFAULT_UP=new ue(0,1,0);Rn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Rn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const to=new ue,kl=new ue,x_=new ue,Fl=new ue,Qf=new ue,$f=new ue,FE=new ue,v_=new ue,y_=new ue,b_=new ue,__=new Un,S_=new Un,E_=new Un;class Ls{constructor(e=new ue,t=new ue,n=new ue){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,s){s.subVectors(n,t),to.subVectors(e,t),s.cross(to);const o=s.lengthSq();return o>0?s.multiplyScalar(1/Math.sqrt(o)):s.set(0,0,0)}static getBarycoord(e,t,n,s,o){to.subVectors(s,t),kl.subVectors(n,t),x_.subVectors(e,t);const c=to.dot(to),u=to.dot(kl),h=to.dot(x_),p=kl.dot(kl),x=kl.dot(x_),v=c*p-u*u;if(v===0)return o.set(0,0,0),null;const b=1/v,y=(p*h-u*x)*b,S=(c*x-u*h)*b;return o.set(1-y-S,S,y)}static containsPoint(e,t,n,s){return this.getBarycoord(e,t,n,s,Fl)===null?!1:Fl.x>=0&&Fl.y>=0&&Fl.x+Fl.y<=1}static getInterpolation(e,t,n,s,o,c,u,h){return this.getBarycoord(e,t,n,s,Fl)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(o,Fl.x),h.addScaledVector(c,Fl.y),h.addScaledVector(u,Fl.z),h)}static getInterpolatedAttribute(e,t,n,s,o,c){return __.setScalar(0),S_.setScalar(0),E_.setScalar(0),__.fromBufferAttribute(e,t),S_.fromBufferAttribute(e,n),E_.fromBufferAttribute(e,s),c.setScalar(0),c.addScaledVector(__,o.x),c.addScaledVector(S_,o.y),c.addScaledVector(E_,o.z),c}static isFrontFacing(e,t,n,s){return to.subVectors(n,t),kl.subVectors(e,t),to.cross(kl).dot(s)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,s){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,n,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return to.subVectors(this.c,this.b),kl.subVectors(this.a,this.b),to.cross(kl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ls.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ls.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,s,o){return Ls.getInterpolation(e,this.a,this.b,this.c,t,n,s,o)}containsPoint(e){return Ls.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ls.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,s=this.b,o=this.c;let c,u;Qf.subVectors(s,n),$f.subVectors(o,n),v_.subVectors(e,n);const h=Qf.dot(v_),p=$f.dot(v_);if(h<=0&&p<=0)return t.copy(n);y_.subVectors(e,s);const x=Qf.dot(y_),v=$f.dot(y_);if(x>=0&&v<=x)return t.copy(s);const b=h*v-x*p;if(b<=0&&h>=0&&x<=0)return c=h/(h-x),t.copy(n).addScaledVector(Qf,c);b_.subVectors(e,o);const y=Qf.dot(b_),S=$f.dot(b_);if(S>=0&&y<=S)return t.copy(o);const E=y*p-h*S;if(E<=0&&p>=0&&S<=0)return u=p/(p-S),t.copy(n).addScaledVector($f,u);const M=x*S-y*v;if(M<=0&&v-x>=0&&y-S>=0)return FE.subVectors(o,s),u=(v-x)/(v-x+(y-S)),t.copy(s).addScaledVector(FE,u);const _=1/(M+E+b);return c=E*_,u=b*_,t.copy(n).addScaledVector(Qf,c).addScaledVector($f,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const EA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vc={h:0,s:0,l:0},xx={h:0,s:0,l:0};function M_(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class bt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Wa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Nn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,s=Nn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Nn.colorSpaceToWorking(this,s),this}setHSL(e,t,n,s=Nn.workingColorSpace){if(e=cS(e,1),t=qt(t,0,1),n=qt(n,0,1),t===0)this.r=this.g=this.b=n;else{const o=n<=.5?n*(1+t):n+t-n*t,c=2*n-o;this.r=M_(c,o,e+1/3),this.g=M_(c,o,e),this.b=M_(c,o,e-1/3)}return Nn.colorSpaceToWorking(this,s),this}setStyle(e,t=Wa){function n(o){o!==void 0&&parseFloat(o)<1&&yt("Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const c=s[1],u=s[2];switch(c){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:yt("Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=s[1],c=o.length;if(c===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(c===6)return this.setHex(parseInt(o,16),t);yt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Wa){const n=EA[e.toLowerCase()];return n!==void 0?this.setHex(n,t):yt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ql(e.r),this.g=ql(e.g),this.b=ql(e.b),this}copyLinearToSRGB(e){return this.r=yh(e.r),this.g=yh(e.g),this.b=yh(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Wa){return Nn.workingToColorSpace(Xa.copy(this),e),Math.round(qt(Xa.r*255,0,255))*65536+Math.round(qt(Xa.g*255,0,255))*256+Math.round(qt(Xa.b*255,0,255))}getHexString(e=Wa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Nn.workingColorSpace){Nn.workingToColorSpace(Xa.copy(this),t);const n=Xa.r,s=Xa.g,o=Xa.b,c=Math.max(n,s,o),u=Math.min(n,s,o);let h,p;const x=(u+c)/2;if(u===c)h=0,p=0;else{const v=c-u;switch(p=x<=.5?v/(c+u):v/(2-c-u),c){case n:h=(s-o)/v+(s<o?6:0);break;case s:h=(o-n)/v+2;break;case o:h=(n-s)/v+4;break}h/=6}return e.h=h,e.s=p,e.l=x,e}getRGB(e,t=Nn.workingColorSpace){return Nn.workingToColorSpace(Xa.copy(this),t),e.r=Xa.r,e.g=Xa.g,e.b=Xa.b,e}getStyle(e=Wa){Nn.workingToColorSpace(Xa.copy(this),e);const t=Xa.r,n=Xa.g,s=Xa.b;return e!==Wa?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(s*255)})`}offsetHSL(e,t,n){return this.getHSL(Vc),this.setHSL(Vc.h+e,Vc.s+t,Vc.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Vc),e.getHSL(xx);const n=Wm(Vc.h,xx.h,t),s=Wm(Vc.s,xx.s,t),o=Wm(Vc.l,xx.l,t);return this.setHSL(n,s,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,s=this.b,o=e.elements;return this.r=o[0]*t+o[3]*n+o[6]*s,this.g=o[1]*t+o[4]*n+o[7]*s,this.b=o[2]*t+o[5]*n+o[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Xa=new bt;bt.NAMES=EA;let Rz=0;class Qa extends nl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Rz++}),this.uuid=tr(),this.name="",this.type="Material",this.blending=Md,this.side=Wl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ev,this.blendDst=Mv,this.blendEquation=Wc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new bt(0,0,0),this.blendAlpha=0,this.depthFunc=Ad,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=b1,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=vd,this.stencilZFail=vd,this.stencilZPass=vd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){yt(`Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){yt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(n):s&&s.isVector3&&n&&n.isVector3?s.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Md&&(n.blending=this.blending),this.side!==Wl&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Ev&&(n.blendSrc=this.blendSrc),this.blendDst!==Mv&&(n.blendDst=this.blendDst),this.blendEquation!==Wc&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Ad&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==b1&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==vd&&(n.stencilFail=this.stencilFail),this.stencilZFail!==vd&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==vd&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function s(o){const c=[];for(const u in o){const h=o[u];delete h.metadata,c.push(h)}return c}if(t){const o=s(e.textures),c=s(e.images);o.length>0&&(n.textures=o),c.length>0&&(n.images=c)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const s=t.length;n=new Array(s);for(let o=0;o!==s;++o)n[o]=t[o].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ru extends Qa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new nr,this.combine=N0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Xl=Dz();function Dz(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),s=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(n[h]=0,n[h|256]=32768,s[h]=24,s[h|256]=24):p<-14?(n[h]=1024>>-p-14,n[h|256]=1024>>-p-14|32768,s[h]=-p-1,s[h|256]=-p-1):p<=15?(n[h]=p+15<<10,n[h|256]=p+15<<10|32768,s[h]=13,s[h|256]=13):p<128?(n[h]=31744,n[h|256]=64512,s[h]=24,s[h|256]=24):(n[h]=31744,n[h|256]=64512,s[h]=13,s[h|256]=13)}const o=new Uint32Array(2048),c=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,x=0;for(;(p&8388608)===0;)p<<=1,x-=8388608;p&=-8388609,x+=947912704,o[h]=p|x}for(let h=1024;h<2048;++h)o[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)c[h]=h<<23;c[31]=1199570944,c[32]=2147483648;for(let h=33;h<63;++h)c[h]=2147483648+(h-32<<23);c[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:s,mantissaTable:o,exponentTable:c,offsetTable:u}}function Us(i){Math.abs(i)>65504&&yt("DataUtils.toHalfFloat(): Value out of range."),i=qt(i,-65504,65504),Xl.floatView[0]=i;const e=Xl.uint32View[0],t=e>>23&511;return Xl.baseTable[t]+((e&8388607)>>Xl.shiftTable[t])}function Lm(i){const e=i>>10;return Xl.uint32View[0]=Xl.mantissaTable[Xl.offsetTable[e]+(i&1023)]+Xl.exponentTable[e],Xl.floatView[0]}class Oz{static toHalfFloat(e){return Us(e)}static fromHalfFloat(e){return Lm(e)}}const Zi=new ue,vx=new $e;let Uz=0;class ei{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Uz++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=u0,this.updateRanges=[],this.gpuType=Bs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let s=0,o=this.itemSize;s<o;s++)this.array[e+s]=t.array[n+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)vx.fromBufferAttribute(this,t),vx.applyMatrix3(e),this.setXY(t,vx.x,vx.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.applyMatrix3(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.applyMatrix4(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.applyNormalMatrix(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Zi.fromBufferAttribute(this,t),Zi.transformDirection(e),this.setXYZ(t,Zi.x,Zi.y,Zi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=vs(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=rn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=vs(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=vs(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=vs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=vs(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,s){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),s=rn(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this}setXYZW(e,t,n,s,o){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),s=rn(s,this.array),o=rn(o,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==u0&&(e.usage=this.usage),e}}class Iz extends ei{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Lz extends ei{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class zz extends ei{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Bz extends ei{constructor(e,t,n){super(new Int16Array(e),t,n)}}class dS extends ei{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Pz extends ei{constructor(e,t,n){super(new Int32Array(e),t,n)}}class fS extends ei{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class kz extends ei{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Lm(this.array[e*this.itemSize]);return this.normalized&&(t=vs(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=Us(t),this}getY(e){let t=Lm(this.array[e*this.itemSize+1]);return this.normalized&&(t=vs(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=Us(t),this}getZ(e){let t=Lm(this.array[e*this.itemSize+2]);return this.normalized&&(t=vs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=Us(t),this}getW(e){let t=Lm(this.array[e*this.itemSize+3]);return this.normalized&&(t=vs(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=Us(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array)),this.array[e+0]=Us(t),this.array[e+1]=Us(n),this}setXYZ(e,t,n,s){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),s=rn(s,this.array)),this.array[e+0]=Us(t),this.array[e+1]=Us(n),this.array[e+2]=Us(s),this}setXYZW(e,t,n,s,o){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),s=rn(s,this.array),o=rn(o,this.array)),this.array[e+0]=Us(t),this.array[e+1]=Us(n),this.array[e+2]=Us(s),this.array[e+3]=Us(o),this}}class Rt extends ei{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Fz=0;const Mr=new Wt,T_=new Rn,eh=new ue,$s=new Ja,Mm=new Ja,ya=new ue;class an extends nl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Fz++}),this.uuid=tr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(bA(e)?fS:dS)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const o=new nn().getNormalMatrix(e);n.applyNormalMatrix(o),n.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mr.makeRotationFromQuaternion(e),this.applyMatrix4(Mr),this}rotateX(e){return Mr.makeRotationX(e),this.applyMatrix4(Mr),this}rotateY(e){return Mr.makeRotationY(e),this.applyMatrix4(Mr),this}rotateZ(e){return Mr.makeRotationZ(e),this.applyMatrix4(Mr),this}translate(e,t,n){return Mr.makeTranslation(e,t,n),this.applyMatrix4(Mr),this}scale(e,t,n){return Mr.makeScale(e,t,n),this.applyMatrix4(Mr),this}lookAt(e){return T_.lookAt(e),T_.updateMatrix(),this.applyMatrix4(T_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(eh).negate(),this.translate(eh.x,eh.y,eh.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let s=0,o=e.length;s<o;s++){const c=e[s];n.push(c.x,c.y,c.z||0)}this.setAttribute("position",new Rt(n,3))}else{const n=Math.min(e.length,t.count);for(let s=0;s<n;s++){const o=e[s];t.setXYZ(s,o.x,o.y,o.z||0)}e.length>t.count&&yt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ja);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Kt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ue(-1/0,-1/0,-1/0),new ue(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,s=t.length;n<s;n++){const o=t[n];$s.setFromBufferAttribute(o),this.morphTargetsRelative?(ya.addVectors(this.boundingBox.min,$s.min),this.boundingBox.expandByPoint(ya),ya.addVectors(this.boundingBox.max,$s.max),this.boundingBox.expandByPoint(ya)):(this.boundingBox.expandByPoint($s.min),this.boundingBox.expandByPoint($s.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Kt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ra);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Kt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ue,1/0);return}if(e){const n=this.boundingSphere.center;if($s.setFromBufferAttribute(e),t)for(let o=0,c=t.length;o<c;o++){const u=t[o];Mm.setFromBufferAttribute(u),this.morphTargetsRelative?(ya.addVectors($s.min,Mm.min),$s.expandByPoint(ya),ya.addVectors($s.max,Mm.max),$s.expandByPoint(ya)):($s.expandByPoint(Mm.min),$s.expandByPoint(Mm.max))}$s.getCenter(n);let s=0;for(let o=0,c=e.count;o<c;o++)ya.fromBufferAttribute(e,o),s=Math.max(s,n.distanceToSquared(ya));if(t)for(let o=0,c=t.length;o<c;o++){const u=t[o],h=this.morphTargetsRelative;for(let p=0,x=u.count;p<x;p++)ya.fromBufferAttribute(u,p),h&&(eh.fromBufferAttribute(e,p),ya.add(eh)),s=Math.max(s,n.distanceToSquared(ya))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&Kt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Kt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,s=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ei(new Float32Array(4*n.count),4));const c=this.getAttribute("tangent"),u=[],h=[];for(let j=0;j<n.count;j++)u[j]=new ue,h[j]=new ue;const p=new ue,x=new ue,v=new ue,b=new $e,y=new $e,S=new $e,E=new ue,M=new ue;function _(j,B,k){p.fromBufferAttribute(n,j),x.fromBufferAttribute(n,B),v.fromBufferAttribute(n,k),b.fromBufferAttribute(o,j),y.fromBufferAttribute(o,B),S.fromBufferAttribute(o,k),x.sub(p),v.sub(p),y.sub(b),S.sub(b);const J=1/(y.x*S.y-S.x*y.y);isFinite(J)&&(E.copy(x).multiplyScalar(S.y).addScaledVector(v,-y.y).multiplyScalar(J),M.copy(v).multiplyScalar(y.x).addScaledVector(x,-S.x).multiplyScalar(J),u[j].add(E),u[B].add(E),u[k].add(E),h[j].add(M),h[B].add(M),h[k].add(M))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let j=0,B=C.length;j<B;++j){const k=C[j],J=k.start,Y=k.count;for(let Z=J,L=J+Y;Z<L;Z+=3)_(e.getX(Z+0),e.getX(Z+1),e.getX(Z+2))}const R=new ue,O=new ue,U=new ue,I=new ue;function F(j){U.fromBufferAttribute(s,j),I.copy(U);const B=u[j];R.copy(B),R.sub(U.multiplyScalar(U.dot(B))).normalize(),O.crossVectors(I,B);const J=O.dot(h[j])<0?-1:1;c.setXYZW(j,R.x,R.y,R.z,J)}for(let j=0,B=C.length;j<B;++j){const k=C[j],J=k.start,Y=k.count;for(let Z=J,L=J+Y;Z<L;Z+=3)F(e.getX(Z+0)),F(e.getX(Z+1)),F(e.getX(Z+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new ei(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let b=0,y=n.count;b<y;b++)n.setXYZ(b,0,0,0);const s=new ue,o=new ue,c=new ue,u=new ue,h=new ue,p=new ue,x=new ue,v=new ue;if(e)for(let b=0,y=e.count;b<y;b+=3){const S=e.getX(b+0),E=e.getX(b+1),M=e.getX(b+2);s.fromBufferAttribute(t,S),o.fromBufferAttribute(t,E),c.fromBufferAttribute(t,M),x.subVectors(c,o),v.subVectors(s,o),x.cross(v),u.fromBufferAttribute(n,S),h.fromBufferAttribute(n,E),p.fromBufferAttribute(n,M),u.add(x),h.add(x),p.add(x),n.setXYZ(S,u.x,u.y,u.z),n.setXYZ(E,h.x,h.y,h.z),n.setXYZ(M,p.x,p.y,p.z)}else for(let b=0,y=t.count;b<y;b+=3)s.fromBufferAttribute(t,b+0),o.fromBufferAttribute(t,b+1),c.fromBufferAttribute(t,b+2),x.subVectors(c,o),v.subVectors(s,o),x.cross(v),n.setXYZ(b+0,x.x,x.y,x.z),n.setXYZ(b+1,x.x,x.y,x.z),n.setXYZ(b+2,x.x,x.y,x.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ya.fromBufferAttribute(e,t),ya.normalize(),e.setXYZ(t,ya.x,ya.y,ya.z)}toNonIndexed(){function e(u,h){const p=u.array,x=u.itemSize,v=u.normalized,b=new p.constructor(h.length*x);let y=0,S=0;for(let E=0,M=h.length;E<M;E++){u.isInterleavedBufferAttribute?y=h[E]*u.data.stride+u.offset:y=h[E]*x;for(let _=0;_<x;_++)b[S++]=p[y++]}return new ei(b,x,v)}if(this.index===null)return yt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new an,n=this.index.array,s=this.attributes;for(const u in s){const h=s[u],p=e(h,n);t.setAttribute(u,p)}const o=this.morphAttributes;for(const u in o){const h=[],p=o[u];for(let x=0,v=p.length;x<v;x++){const b=p[x],y=e(b,n);h.push(y)}t.morphAttributes[u]=h}t.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let u=0,h=c.length;u<h;u++){const p=c[u];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(e[p]=h[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const h in n){const p=n[h];e.data.attributes[h]=p.toJSON(e.data)}const s={};let o=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],x=[];for(let v=0,b=p.length;v<b;v++){const y=p[v];x.push(y.toJSON(e.data))}x.length>0&&(s[h]=x,o=!0)}o&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(e.data.groups=JSON.parse(JSON.stringify(c)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const s=e.attributes;for(const p in s){const x=s[p];this.setAttribute(p,x.clone(t))}const o=e.morphAttributes;for(const p in o){const x=[],v=o[p];for(let b=0,y=v.length;b<y;b++)x.push(v[b].clone(t));this.morphAttributes[p]=x}this.morphTargetsRelative=e.morphTargetsRelative;const c=e.groups;for(let p=0,x=c.length;p<x;p++){const v=c[p];this.addGroup(v.start,v.count,v.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const HE=new Wt,id=new Od,yx=new Ra,jE=new ue,bx=new ue,_x=new ue,Sx=new ue,w_=new ue,Ex=new ue,VE=new ue,Mx=new ue;class oa extends Rn{constructor(e=new an,t=new ru){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=s.length;o<c;o++){const u=s[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}getVertexPosition(e,t){const n=this.geometry,s=n.attributes.position,o=n.morphAttributes.position,c=n.morphTargetsRelative;t.fromBufferAttribute(s,e);const u=this.morphTargetInfluences;if(o&&u){Ex.set(0,0,0);for(let h=0,p=o.length;h<p;h++){const x=u[h],v=o[h];x!==0&&(w_.fromBufferAttribute(v,e),c?Ex.addScaledVector(w_,x):Ex.addScaledVector(w_.sub(t),x))}t.add(Ex)}return t}raycast(e,t){const n=this.geometry,s=this.material,o=this.matrixWorld;s!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),yx.copy(n.boundingSphere),yx.applyMatrix4(o),id.copy(e.ray).recast(e.near),!(yx.containsPoint(id.origin)===!1&&(id.intersectSphere(yx,jE)===null||id.origin.distanceToSquared(jE)>(e.far-e.near)**2))&&(HE.copy(o).invert(),id.copy(e.ray).applyMatrix4(HE),!(n.boundingBox!==null&&id.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,id)))}_computeIntersections(e,t,n){let s;const o=this.geometry,c=this.material,u=o.index,h=o.attributes.position,p=o.attributes.uv,x=o.attributes.uv1,v=o.attributes.normal,b=o.groups,y=o.drawRange;if(u!==null)if(Array.isArray(c))for(let S=0,E=b.length;S<E;S++){const M=b[S],_=c[M.materialIndex],C=Math.max(M.start,y.start),R=Math.min(u.count,Math.min(M.start+M.count,y.start+y.count));for(let O=C,U=R;O<U;O+=3){const I=u.getX(O),F=u.getX(O+1),j=u.getX(O+2);s=Tx(this,_,e,n,p,x,v,I,F,j),s&&(s.faceIndex=Math.floor(O/3),s.face.materialIndex=M.materialIndex,t.push(s))}}else{const S=Math.max(0,y.start),E=Math.min(u.count,y.start+y.count);for(let M=S,_=E;M<_;M+=3){const C=u.getX(M),R=u.getX(M+1),O=u.getX(M+2);s=Tx(this,c,e,n,p,x,v,C,R,O),s&&(s.faceIndex=Math.floor(M/3),t.push(s))}}else if(h!==void 0)if(Array.isArray(c))for(let S=0,E=b.length;S<E;S++){const M=b[S],_=c[M.materialIndex],C=Math.max(M.start,y.start),R=Math.min(h.count,Math.min(M.start+M.count,y.start+y.count));for(let O=C,U=R;O<U;O+=3){const I=O,F=O+1,j=O+2;s=Tx(this,_,e,n,p,x,v,I,F,j),s&&(s.faceIndex=Math.floor(O/3),s.face.materialIndex=M.materialIndex,t.push(s))}}else{const S=Math.max(0,y.start),E=Math.min(h.count,y.start+y.count);for(let M=S,_=E;M<_;M+=3){const C=M,R=M+1,O=M+2;s=Tx(this,c,e,n,p,x,v,C,R,O),s&&(s.faceIndex=Math.floor(M/3),t.push(s))}}}}function Hz(i,e,t,n,s,o,c,u){let h;if(e.side===ys?h=n.intersectTriangle(c,o,s,!0,u):h=n.intersectTriangle(s,o,c,e.side===Wl,u),h===null)return null;Mx.copy(u),Mx.applyMatrix4(i.matrixWorld);const p=t.ray.origin.distanceTo(Mx);return p<t.near||p>t.far?null:{distance:p,point:Mx.clone(),object:i}}function Tx(i,e,t,n,s,o,c,u,h,p){i.getVertexPosition(u,bx),i.getVertexPosition(h,_x),i.getVertexPosition(p,Sx);const x=Hz(i,e,t,n,bx,_x,Sx,VE);if(x){const v=new ue;Ls.getBarycoord(VE,bx,_x,Sx,v),s&&(x.uv=Ls.getInterpolatedAttribute(s,u,h,p,v,new $e)),o&&(x.uv1=Ls.getInterpolatedAttribute(o,u,h,p,v,new $e)),c&&(x.normal=Ls.getInterpolatedAttribute(c,u,h,p,v,new ue),x.normal.dot(n.direction)>0&&x.normal.multiplyScalar(-1));const b={a:u,b:h,c:p,normal:new ue,materialIndex:0};Ls.getNormal(bx,_x,Sx,b.normal),x.face=b,x.barycoord=v}return x}class Ud extends an{constructor(e=1,t=1,n=1,s=1,o=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:s,heightSegments:o,depthSegments:c};const u=this;s=Math.floor(s),o=Math.floor(o),c=Math.floor(c);const h=[],p=[],x=[],v=[];let b=0,y=0;S("z","y","x",-1,-1,n,t,e,c,o,0),S("z","y","x",1,-1,n,t,-e,c,o,1),S("x","z","y",1,1,e,n,t,s,c,2),S("x","z","y",1,-1,e,n,-t,s,c,3),S("x","y","z",1,-1,e,t,n,s,o,4),S("x","y","z",-1,-1,e,t,-n,s,o,5),this.setIndex(h),this.setAttribute("position",new Rt(p,3)),this.setAttribute("normal",new Rt(x,3)),this.setAttribute("uv",new Rt(v,2));function S(E,M,_,C,R,O,U,I,F,j,B){const k=O/F,J=U/j,Y=O/2,Z=U/2,L=I/2,re=F+1,q=j+1;let W=0,te=0;const oe=new ue;for(let Se=0;Se<q;Se++){const G=Se*J-Z;for(let $=0;$<re;$++){const se=$*k-Y;oe[E]=se*C,oe[M]=G*R,oe[_]=L,p.push(oe.x,oe.y,oe.z),oe[E]=0,oe[M]=0,oe[_]=I>0?1:-1,x.push(oe.x,oe.y,oe.z),v.push($/F),v.push(1-Se/j),W+=1}}for(let Se=0;Se<j;Se++)for(let G=0;G<F;G++){const $=b+G+re*Se,se=b+G+re*(Se+1),de=b+(G+1)+re*(Se+1),xe=b+(G+1)+re*Se;h.push($,se,xe),h.push(se,de,xe),te+=6}u.addGroup(y,te,B),y+=te,b+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ud(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Nh(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const s=i[t][n];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(yt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=s.clone():Array.isArray(s)?e[t][n]=s.slice():e[t][n]=s}}return e}function xs(i){const e={};for(let t=0;t<i.length;t++){const n=Nh(i[t]);for(const s in n)e[s]=n[s]}return e}function jz(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function MA(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Nn.workingColorSpace}const TA={clone:Nh,merge:xs};var Vz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Gz=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ir extends Qa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Vz,this.fragmentShader=Gz,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nh(e.uniforms),this.uniformsGroups=jz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const c=this.uniforms[s].value;c&&c.isTexture?t.uniforms[s]={type:"t",value:c.toJSON(e).uuid}:c&&c.isColor?t.uniforms[s]={type:"c",value:c.getHex()}:c&&c.isVector2?t.uniforms[s]={type:"v2",value:c.toArray()}:c&&c.isVector3?t.uniforms[s]={type:"v3",value:c.toArray()}:c&&c.isVector4?t.uniforms[s]={type:"v4",value:c.toArray()}:c&&c.isMatrix3?t.uniforms[s]={type:"m3",value:c.toArray()}:c&&c.isMatrix4?t.uniforms[s]={type:"m4",value:c.toArray()}:t.uniforms[s]={value:c}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const s in this.extensions)this.extensions[s]===!0&&(n[s]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Py extends Rn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wt,this.projectionMatrix=new Wt,this.projectionMatrixInverse=new Wt,this.coordinateSystem=er,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Gc=new ue,GE=new $e,YE=new $e;class Hi extends Py{constructor(e=50,t=1,n=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Ah*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Td*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ah*2*Math.atan(Math.tan(Td*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Gc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Gc.x,Gc.y).multiplyScalar(-e/Gc.z),Gc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Gc.x,Gc.y).multiplyScalar(-e/Gc.z)}getViewSize(e,t){return this.getViewBounds(e,GE,YE),t.subVectors(YE,GE)}setViewOffset(e,t,n,s,o,c){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Td*.5*this.fov)/this.zoom,n=2*t,s=this.aspect*n,o=-.5*s;const c=this.view;if(this.view!==null&&this.view.enabled){const h=c.fullWidth,p=c.fullHeight;o+=c.offsetX*s/h,t-=c.offsetY*n/p,s*=c.width/h,n*=c.height/p}const u=this.filmOffset;u!==0&&(o+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+s,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const th=-90,nh=1;class wA extends Rn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Hi(th,nh,e,t);s.layers=this.layers,this.add(s);const o=new Hi(th,nh,e,t);o.layers=this.layers,this.add(o);const c=new Hi(th,nh,e,t);c.layers=this.layers,this.add(c);const u=new Hi(th,nh,e,t);u.layers=this.layers,this.add(u);const h=new Hi(th,nh,e,t);h.layers=this.layers,this.add(h);const p=new Hi(th,nh,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,s,o,c,u,h]=t;for(const p of t)this.remove(p);if(e===er)n.up.set(0,1,0),n.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),c.up.set(0,0,1),c.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===Th)n.up.set(0,-1,0),n.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),c.up.set(0,0,-1),c.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,c,u,h,p,x]=this.children,v=e.getRenderTarget(),b=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const E=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,s),e.render(t,o),e.setRenderTarget(n,1,s),e.render(t,c),e.setRenderTarget(n,2,s),e.render(t,u),e.setRenderTarget(n,3,s),e.render(t,h),e.setRenderTarget(n,4,s),e.render(t,p),n.texture.generateMipmaps=E,e.setRenderTarget(n,5,s),e.render(t,x),e.setRenderTarget(v,b,y),e.xr.enabled=S,n.texture.needsPMREMUpdate=!0}}class D0 extends Oi{constructor(e=[],t=Zl,n,s,o,c,u,h,p,x){super(e,t,n,s,o,c,u,h,p,x),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class AA extends tl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},s=[n,n,n,n,n,n];this.texture=new D0(s),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Ud(5,5,5),o=new ir({name:"CubemapFromEquirect",uniforms:Nh(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ys,blending:$o});o.uniforms.tEquirect.value=t;const c=new oa(s,o),u=t.minFilter;return t.minFilter===Ko&&(t.minFilter=ji),new wA(1,10,this).update(e,c),t.minFilter=u,c.geometry.dispose(),c.material.dispose(),this}clear(e,t=!0,n=!0,s=!0){const o=e.getRenderTarget();for(let c=0;c<6;c++)e.setRenderTarget(this,c),e.clear(t,n,s);e.setRenderTarget(o)}}class xh extends Rn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Yz={type:"move"};class lv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ue,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ue),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ue,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ue),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let s=null,o=null,c=null;const u=this._targetRay,h=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){c=!0;for(const E of e.hand.values()){const M=t.getJointPose(E,n),_=this._getHandJoint(p,E);M!==null&&(_.matrix.fromArray(M.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=M.radius),_.visible=M!==null}const x=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],b=x.position.distanceTo(v.position),y=.02,S=.005;p.inputState.pinching&&b>y+S?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&b<=y-S&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,n),o!==null&&(h.matrix.fromArray(o.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,o.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(o.linearVelocity)):h.hasLinearVelocity=!1,o.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(o.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(s=t.getPose(e.targetRaySpace,n),s===null&&o!==null&&(s=o),s!==null&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(Yz)))}return u!==null&&(u.visible=s!==null),h!==null&&(h.visible=o!==null),p!==null&&(p.visible=c!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new xh;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class ky{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new bt(e),this.density=t}clone(){return new ky(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fy{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new bt(e),this.near=t,this.far=n}clone(){return new Fy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class hS extends Rn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new nr,this.environmentIntensity=1,this.environmentRotation=new nr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Hy{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=u0,this.updateRanges=[],this.version=0,this.uuid=tr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let s=0,o=this.stride;s<o;s++)this.array[e+s]=t.array[n+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=tr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const gs=new ue;class Cd{constructor(e,t,n,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)gs.fromBufferAttribute(this,t),gs.applyMatrix4(e),this.setXYZ(t,gs.x,gs.y,gs.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)gs.fromBufferAttribute(this,t),gs.applyNormalMatrix(e),this.setXYZ(t,gs.x,gs.y,gs.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)gs.fromBufferAttribute(this,t),gs.transformDirection(e),this.setXYZ(t,gs.x,gs.y,gs.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=vs(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=vs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=vs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=vs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=vs(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),s=rn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=s,this}setXYZW(e,t,n,s,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),s=rn(s,this.array),o=rn(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=s,this.data.array[e+3]=o,this}clone(e){if(e===void 0){f0("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[s+o])}return new ei(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){f0("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[s+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class pS extends Qa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ih;const Tm=new ue,ah=new ue,sh=new ue,rh=new $e,wm=new $e,CA=new Wt,wx=new ue,Am=new ue,Ax=new ue,XE=new $e,A_=new $e,qE=new $e;class NA extends Rn{constructor(e=new pS){if(super(),this.isSprite=!0,this.type="Sprite",ih===void 0){ih=new an;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Hy(t,5);ih.setIndex([0,1,2,0,2,3]),ih.setAttribute("position",new Cd(n,3,0,!1)),ih.setAttribute("uv",new Cd(n,2,3,!1))}this.geometry=ih,this.material=e,this.center=new $e(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Kt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ah.setFromMatrixScale(this.matrixWorld),CA.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),sh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ah.multiplyScalar(-sh.z);const n=this.material.rotation;let s,o;n!==0&&(o=Math.cos(n),s=Math.sin(n));const c=this.center;Cx(wx.set(-.5,-.5,0),sh,c,ah,s,o),Cx(Am.set(.5,-.5,0),sh,c,ah,s,o),Cx(Ax.set(.5,.5,0),sh,c,ah,s,o),XE.set(0,0),A_.set(1,0),qE.set(1,1);let u=e.ray.intersectTriangle(wx,Am,Ax,!1,Tm);if(u===null&&(Cx(Am.set(-.5,.5,0),sh,c,ah,s,o),A_.set(0,1),u=e.ray.intersectTriangle(wx,Ax,Am,!1,Tm),u===null))return;const h=e.ray.origin.distanceTo(Tm);h<e.near||h>e.far||t.push({distance:h,point:Tm.clone(),uv:Ls.getInterpolation(Tm,wx,Am,Ax,XE,A_,qE,new $e),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Cx(i,e,t,n,s,o){rh.subVectors(i,t).addScalar(.5).multiply(n),s!==void 0?(wm.x=o*rh.x-s*rh.y,wm.y=s*rh.x+o*rh.y):wm.copy(rh),i.copy(e),i.x+=wm.x,i.y+=wm.y,i.applyMatrix4(CA)}const Nx=new ue,WE=new ue;class RA extends Rn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,s=t.length;n<s;n++){const o=t[n];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const s=this.levels;let o;for(o=0;o<s.length&&!(t<s[o].distance);o++);return s.splice(o,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const s=t.splice(n,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,s;for(n=1,s=t.length;n<s;n++){let o=t[n].distance;if(t[n].object.visible&&(o-=o*t[n].hysteresis),e<o)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Nx.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(Nx);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Nx.setFromMatrixPosition(e.matrixWorld),WE.setFromMatrixPosition(this.matrixWorld);const n=Nx.distanceTo(WE)/e.zoom;t[0].object.visible=!0;let s,o;for(s=1,o=t.length;s<o;s++){let c=t[s].distance;if(t[s].object.visible&&(c-=c*t[s].hysteresis),n>=c)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<o;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let s=0,o=n.length;s<o;s++){const c=n[s];t.object.levels.push({object:c.object.uuid,distance:c.distance,hysteresis:c.hysteresis})}return t}}const ZE=new ue,KE=new Un,JE=new Un,Xz=new ue,QE=new Wt,Rx=new ue,C_=new Ra,$E=new Wt,N_=new Od;class DA extends oa{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=y1,this.bindMatrix=new Wt,this.bindMatrixInverse=new Wt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ja),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Rx),this.boundingBox.expandByPoint(Rx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ra),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Rx),this.boundingSphere.expandByPoint(Rx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,s=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),C_.copy(this.boundingSphere),C_.applyMatrix4(s),e.ray.intersectsSphere(C_)!==!1&&($E.copy(s).invert(),N_.copy(e.ray).applyMatrix4($E),!(this.boundingBox!==null&&N_.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,N_)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Un,t=this.geometry.attributes.skinWeight;for(let n=0,s=t.count;n<s;n++){e.fromBufferAttribute(t,n);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===y1?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===rA?this.bindMatrixInverse.copy(this.bindMatrix).invert():yt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,s=this.geometry;KE.fromBufferAttribute(s.attributes.skinIndex,e),JE.fromBufferAttribute(s.attributes.skinWeight,e),ZE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const c=JE.getComponent(o);if(c!==0){const u=KE.getComponent(o);QE.multiplyMatrices(n.bones[u].matrixWorld,n.boneInverses[u]),t.addScaledVector(Xz.copy(ZE).applyMatrix4(QE),c)}}return t.applyMatrix4(this.bindMatrixInverse)}}class mS extends Rn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ro extends Oi{constructor(e=null,t=1,n=1,s,o,c,u,h,p=Na,x=Na,v,b){super(null,c,u,h,p,x,s,o,v,b),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const eM=new Wt,qz=new Wt;class jy{constructor(e=[],t=[]){this.uuid=tr(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){yt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,s=this.bones.length;n<s;n++)this.boneInverses.push(new Wt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Wt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,s=this.boneTexture;for(let o=0,c=e.length;o<c;o++){const u=e[o]?e[o].matrixWorld:qz;eM.multiplyMatrices(u,t[o]),eM.toArray(n,o*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new jy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new ro(t,e,e,Za,Bs);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,s=e.bones.length;n<s;n++){const o=e.bones[n];let c=t[o];c===void 0&&(yt("Skeleton: No bone found with UUID:",o),c=new mS),this.bones.push(c),this.boneInverses.push(new Wt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let s=0,o=t.length;s<o;s++){const c=t[s];e.bones.push(c.uuid);const u=n[s];e.boneInverses.push(u.toArray())}return e}}class Rh extends ei{constructor(e,t,n,s=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const oh=new Wt,tM=new Wt,Dx=[],nM=new Ja,Wz=new Wt,Cm=new oa,Nm=new Ra;class OA extends oa{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Rh(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<n;s++)this.setMatrixAt(s,Wz)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ja),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,oh),nM.copy(e.boundingBox).applyMatrix4(oh),this.boundingBox.union(nM)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ra),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,oh),Nm.copy(e.boundingSphere).applyMatrix4(oh),this.boundingSphere.union(Nm)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,s=this.morphTexture.source.data.data,o=n.length+1,c=e*o+1;for(let u=0;u<n.length;u++)n[u]=s[c+u]}raycast(e,t){const n=this.matrixWorld,s=this.count;if(Cm.geometry=this.geometry,Cm.material=this.material,Cm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Nm.copy(this.boundingSphere),Nm.applyMatrix4(n),e.ray.intersectsSphere(Nm)!==!1))for(let o=0;o<s;o++){this.getMatrixAt(o,oh),tM.multiplyMatrices(n,oh),Cm.matrixWorld=tM,Cm.raycast(e,Dx);for(let c=0,u=Dx.length;c<u;c++){const h=Dx[c];h.instanceId=o,h.object=this,t.push(h)}Dx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Rh(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,s=n.length+1;this.morphTexture===null&&(this.morphTexture=new ro(new Float32Array(s*this.count),s,this.count,Dy,Bs));const o=this.morphTexture.source.data.data;let c=0;for(let p=0;p<n.length;p++)c+=n[p];const u=this.geometry.morphTargetsRelative?1:1-c,h=s*e;o[h]=u,o.set(n,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const R_=new ue,Zz=new ue,Kz=new nn;class Gl{constructor(e=new ue(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,s){return this.normal.set(e,t,n),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const s=R_.subVectors(n,t).cross(Zz.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(R_),s=this.normal.dot(n);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/s;return o<0||o>1?null:t.copy(e.start).addScaledVector(n,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Kz.getNormalMatrix(e),s=this.coplanarPoint(R_).applyMatrix4(e),o=this.normal.applyMatrix3(n).normalize();return this.constant=-s.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ad=new Ra,Jz=new $e(.5,.5),Ox=new ue;class Hh{constructor(e=new Gl,t=new Gl,n=new Gl,s=new Gl,o=new Gl,c=new Gl){this.planes=[e,t,n,s,o,c]}set(e,t,n,s,o,c){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(n),u[3].copy(s),u[4].copy(o),u[5].copy(c),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=er,n=!1){const s=this.planes,o=e.elements,c=o[0],u=o[1],h=o[2],p=o[3],x=o[4],v=o[5],b=o[6],y=o[7],S=o[8],E=o[9],M=o[10],_=o[11],C=o[12],R=o[13],O=o[14],U=o[15];if(s[0].setComponents(p-c,y-x,_-S,U-C).normalize(),s[1].setComponents(p+c,y+x,_+S,U+C).normalize(),s[2].setComponents(p+u,y+v,_+E,U+R).normalize(),s[3].setComponents(p-u,y-v,_-E,U-R).normalize(),n)s[4].setComponents(h,b,M,O).normalize(),s[5].setComponents(p-h,y-b,_-M,U-O).normalize();else if(s[4].setComponents(p-h,y-b,_-M,U-O).normalize(),t===er)s[5].setComponents(p+h,y+b,_+M,U+O).normalize();else if(t===Th)s[5].setComponents(h,b,M,O).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ad.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),ad.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ad)}intersectsSprite(e){ad.center.set(0,0,0);const t=Jz.distanceTo(e.center);return ad.radius=.7071067811865476+t,ad.applyMatrix4(e.matrixWorld),this.intersectsSphere(ad)}intersectsSphere(e){const t=this.planes,n=e.center,s=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(n)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const s=t[n];if(Ox.x=s.normal.x>0?e.max.x:e.min.x,Ox.y=s.normal.y>0?e.max.y:e.min.y,Ox.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Ox)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const qo=new Wt,Wo=new Hh;class Vy{constructor(){this.coordinateSystem=er}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(qo.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Wo.setFromProjectionMatrix(qo,s.coordinateSystem,s.reversedDepth),Wo.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(qo.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Wo.setFromProjectionMatrix(qo,s.coordinateSystem,s.reversedDepth),Wo.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(qo.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Wo.setFromProjectionMatrix(qo,s.coordinateSystem,s.reversedDepth),Wo.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(qo.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Wo.setFromProjectionMatrix(qo,s.coordinateSystem,s.reversedDepth),Wo.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(qo.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),Wo.setFromProjectionMatrix(qo,s.coordinateSystem,s.reversedDepth),Wo.containsPoint(e))return!0}return!1}clone(){return new Vy}}function D_(i,e){return i-e}function Qz(i,e){return i.z-e.z}function $z(i,e){return e.z-i.z}class e6{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,s){const o=this.pool,c=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const u=o[this.index];c.push(u),this.index++,u.start=e,u.count=t,u.z=n,u.index=s}reset(){this.list.length=0,this.index=0}}const Os=new Wt,t6=new bt(1,1,1),iM=new Hh,n6=new Vy,Ux=new Ja,sd=new Ra,Rm=new ue,aM=new ue,i6=new ue,O_=new e6,qa=new oa,Ix=[];function a6(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const s=i.count;for(let o=0;o<s;o++)for(let c=0;c<n;c++)e.setComponent(o+t,c,i.getComponent(o,c))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function rd(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class UA extends oa{constructor(e,t,n=t*2,s){super(new an,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new ro(t,e,e,Za,Bs);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new ro(t,e,e,R0,Kl);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new ro(t,e,e,Za,Bs);n.colorSpace=Nn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const c=e.getAttribute(o),{array:u,itemSize:h,normalized:p}=c,x=new u.constructor(n*h),v=new ei(x,h,p);t.setAttribute(o,v)}if(e.getIndex()!==null){const o=n>65535?new Uint32Array(s):new Uint16Array(s);t.setIndex(new ei(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const s=e.getAttribute(n),o=t.getAttribute(n);if(s.itemSize!==o.itemSize||s.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ja);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,s=t.length;n<s;n++){if(t[n].active===!1)continue;const o=t[n].geometryIndex;this.getMatrixAt(n,Os),this.getBoundingBoxAt(o,Ux).applyMatrix4(Os),e.union(Ux)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ra);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,s=t.length;n<s;n++){if(t[n].active===!1)continue;const o=t[n].geometryIndex;this.getMatrixAt(n,Os),this.getBoundingSphereAt(o,sd).applyMatrix4(Os),e.union(sd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(D_),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=n):(s=this._instanceInfo.length,this._instanceInfo.push(n));const o=this._matricesTexture;Os.identity().toArray(o.image.data,s*16),o.needsUpdate=!0;const c=this._colorsTexture;return c&&(t6.toArray(c.image.data,s*4),c.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const c=e.getIndex();if(c!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=n===-1?c.count:n),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(D_),h=this._availableGeometryIds.shift(),o[h]=s):(h=this._geometryCount,this._geometryCount++,o.push(s)),this.setGeometryAt(h,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,s=n.getIndex()!==null,o=n.getIndex(),c=t.getIndex(),u=this._geometryInfo[e];if(s&&c.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const x in n.attributes){const v=t.getAttribute(x),b=n.getAttribute(x);a6(v,b,h);const y=v.itemSize;for(let S=v.count,E=p;S<E;S++){const M=h+S;for(let _=0;_<y;_++)b.setComponent(M,_,0)}b.needsUpdate=!0,b.addUpdateRange(h*y,p*y)}if(s){const x=u.indexStart,v=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let b=0;b<c.count;b++)o.setX(x+b,h+c.getX(b));for(let b=c.count,y=v;b<y;b++)o.setX(x+b,h);o.needsUpdate=!0,o.addUpdateRange(x,u.reservedIndexCount)}return u.start=s?u.indexStart:u.vertexStart,u.count=s?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let s=0,o=n.length;s<o;s++)n[s].active&&n[s].geometryIndex===e&&this.deleteInstance(s);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,s=n.map((c,u)=>u).sort((c,u)=>n[c].vertexStart-n[u].vertexStart),o=this.geometry;for(let c=0,u=n.length;c<u;c++){const h=s[c],p=n[h];if(p.active!==!1){if(o.index!==null){if(p.indexStart!==t){const{indexStart:x,vertexStart:v,reservedIndexCount:b}=p,y=o.index,S=y.array,E=e-v;for(let M=x;M<x+b;M++)S[M]=S[M]+E;y.array.copyWithin(t,x,x+b),y.addUpdateRange(t,b),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:x,reservedVertexCount:v}=p,b=o.attributes;for(const y in b){const S=b[y],{array:E,itemSize:M}=S;E.copyWithin(e*M,x*M,(x+v)*M),S.addUpdateRange(e*M,v*M)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=o.index?p.indexStart:p.vertexStart,this._nextIndexStart=o.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const o=new Ja,c=n.index,u=n.attributes.position;for(let h=s.start,p=s.start+s.count;h<p;h++){let x=h;c&&(x=c.getX(x)),o.expandByPoint(Rm.fromBufferAttribute(u,x))}s.boundingBox=o}return t.copy(s.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const o=new Ra;this.getBoundingBoxAt(e,Ux),Ux.getCenter(o.center);const c=n.index,u=n.attributes.position;let h=0;for(let p=s.start,x=s.start+s.count;p<x;p++){let v=p;c&&(v=c.getX(v)),Rm.fromBufferAttribute(u,v),h=Math.max(h,o.center.distanceToSquared(Rm))}o.radius=Math.sqrt(h),s.boundingSphere=o}return t.copy(s.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,s=this._matricesTexture.image.data;return t.toArray(s,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(D_);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),o=new Int32Array(e);rd(this._multiDrawCounts,s),rd(this._multiDrawStarts,o),this._multiDrawCounts=s,this._multiDrawStarts=o,this._maxInstanceCount=e;const c=this._indirectTexture,u=this._matricesTexture,h=this._colorsTexture;c.dispose(),this._initIndirectTexture(),rd(c.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),rd(u.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),rd(h.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...n.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(h=>h.indexStart+h.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new an,this._initializeGeometry(o));const c=this.geometry;o.index&&rd(o.index.array,c.index.array);for(const u in o.attributes)rd(o.attributes[u].array,c.attributes[u].array)}raycast(e,t){const n=this._instanceInfo,s=this._geometryInfo,o=this.matrixWorld,c=this.geometry;qa.material=this.material,qa.geometry.index=c.index,qa.geometry.attributes=c.attributes,qa.geometry.boundingBox===null&&(qa.geometry.boundingBox=new Ja),qa.geometry.boundingSphere===null&&(qa.geometry.boundingSphere=new Ra);for(let u=0,h=n.length;u<h;u++){if(!n[u].visible||!n[u].active)continue;const p=n[u].geometryIndex,x=s[p];qa.geometry.setDrawRange(x.start,x.count),this.getMatrixAt(u,qa.matrixWorld).premultiply(o),this.getBoundingBoxAt(p,qa.geometry.boundingBox),this.getBoundingSphereAt(p,qa.geometry.boundingSphere),qa.raycast(e,Ix);for(let v=0,b=Ix.length;v<b;v++){const y=Ix[v];y.object=this,y.batchId=u,t.push(y)}Ix.length=0}qa.material=null,qa.geometry.index=null,qa.geometry.attributes={},qa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,s,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const c=s.getIndex(),u=c===null?1:c.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,x=this._multiDrawCounts,v=this._geometryInfo,b=this.perObjectFrustumCulled,y=this._indirectTexture,S=y.image.data,E=n.isArrayCamera?n6:iM;b&&!n.isArrayCamera&&(Os.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),iM.setFromProjectionMatrix(Os,n.coordinateSystem,n.reversedDepth));let M=0;if(this.sortObjects){Os.copy(this.matrixWorld).invert(),Rm.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Os),aM.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Os);for(let R=0,O=h.length;R<O;R++)if(h[R].visible&&h[R].active){const U=h[R].geometryIndex;this.getMatrixAt(R,Os),this.getBoundingSphereAt(U,sd).applyMatrix4(Os);let I=!1;if(b&&(I=!E.intersectsSphere(sd,n)),!I){const F=v[U],j=i6.subVectors(sd.center,Rm).dot(aM);O_.push(F.start,F.count,j,R)}}const _=O_.list,C=this.customSort;C===null?_.sort(o.transparent?$z:Qz):C.call(this,_,n);for(let R=0,O=_.length;R<O;R++){const U=_[R];p[M]=U.start*u,x[M]=U.count,S[M]=U.index,M++}O_.reset()}else for(let _=0,C=h.length;_<C;_++)if(h[_].visible&&h[_].active){const R=h[_].geometryIndex;let O=!1;if(b&&(this.getMatrixAt(_,Os),this.getBoundingSphereAt(R,sd).applyMatrix4(Os),O=!E.intersectsSphere(sd,n)),!O){const U=v[R];p[M]=U.start*u,x[M]=U.count,S[M]=_,M++}}y.needsUpdate=!0,this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(e,t,n,s,o,c){this.onBeforeRender(e,null,s,o,c)}}class Ss extends Qa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const oy=new ue,ly=new ue,sM=new Wt,Dm=new Od,Lx=new Ra,U_=new ue,rM=new ue;class au extends Rn{constructor(e=new an,t=new Ss){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let s=1,o=t.count;s<o;s++)oy.fromBufferAttribute(t,s-1),ly.fromBufferAttribute(t,s),n[s]=n[s-1],n[s]+=oy.distanceTo(ly);e.setAttribute("lineDistance",new Rt(n,1))}else yt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,s=this.matrixWorld,o=e.params.Line.threshold,c=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Lx.copy(n.boundingSphere),Lx.applyMatrix4(s),Lx.radius+=o,e.ray.intersectsSphere(Lx)===!1)return;sM.copy(s).invert(),Dm.copy(e.ray).applyMatrix4(sM);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=this.isLineSegments?2:1,x=n.index,b=n.attributes.position;if(x!==null){const y=Math.max(0,c.start),S=Math.min(x.count,c.start+c.count);for(let E=y,M=S-1;E<M;E+=p){const _=x.getX(E),C=x.getX(E+1),R=zx(this,e,Dm,h,_,C,E);R&&t.push(R)}if(this.isLineLoop){const E=x.getX(S-1),M=x.getX(y),_=zx(this,e,Dm,h,E,M,S-1);_&&t.push(_)}}else{const y=Math.max(0,c.start),S=Math.min(b.count,c.start+c.count);for(let E=y,M=S-1;E<M;E+=p){const _=zx(this,e,Dm,h,E,E+1,E);_&&t.push(_)}if(this.isLineLoop){const E=zx(this,e,Dm,h,S-1,y,S-1);E&&t.push(E)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=s.length;o<c;o++){const u=s[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}}function zx(i,e,t,n,s,o,c){const u=i.geometry.attributes.position;if(oy.fromBufferAttribute(u,s),ly.fromBufferAttribute(u,o),t.distanceSqToSegment(oy,ly,U_,rM)>n)return;U_.applyMatrix4(i.matrixWorld);const p=e.ray.origin.distanceTo(U_);if(!(p<e.near||p>e.far))return{distance:p,point:rM.clone().applyMatrix4(i.matrixWorld),index:c,face:null,faceIndex:null,barycoord:null,object:i}}const oM=new ue,lM=new ue;class il extends au{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let s=0,o=t.count;s<o;s+=2)oM.fromBufferAttribute(t,s),lM.fromBufferAttribute(t,s+1),n[s]=s===0?0:n[s-1],n[s+1]=n[s]+oM.distanceTo(lM);e.setAttribute("lineDistance",new Rt(n,1))}else yt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class IA extends au{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class gS extends Qa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const cM=new Wt,S1=new Od,Bx=new Ra,Px=new ue;class LA extends Rn{constructor(e=new an,t=new gS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,s=this.matrixWorld,o=e.params.Points.threshold,c=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Bx.copy(n.boundingSphere),Bx.applyMatrix4(s),Bx.radius+=o,e.ray.intersectsSphere(Bx)===!1)return;cM.copy(s).invert(),S1.copy(e.ray).applyMatrix4(cM);const u=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=n.index,v=n.attributes.position;if(p!==null){const b=Math.max(0,c.start),y=Math.min(p.count,c.start+c.count);for(let S=b,E=y;S<E;S++){const M=p.getX(S);Px.fromBufferAttribute(v,M),uM(Px,M,h,s,e,t,this)}}else{const b=Math.max(0,c.start),y=Math.min(v.count,c.start+c.count);for(let S=b,E=y;S<E;S++)Px.fromBufferAttribute(v,S),uM(Px,S,h,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=s.length;o<c;o++){const u=s[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=o}}}}}function uM(i,e,t,n,s,o,c){const u=S1.distanceSqToPoint(i);if(u<t){const h=new ue;S1.closestPointToPoint(i,h),h.applyMatrix4(n);const p=s.ray.origin.distanceTo(h);if(p<s.near||p>s.far)return;o.push({distance:p,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,faceIndex:null,barycoord:null,object:c})}}class zA extends Oi{constructor(e,t,n,s,o=ji,c=ji,u,h,p){super(e,t,n,s,o,c,u,h,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const x=this;function v(){x.needsUpdate=!0,x._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class s6 extends zA{constructor(e,t,n,s,o,c,u,h){super({},e,t,n,s,o,c,u,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class r6 extends Oi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Na,this.minFilter=Na,this.generateMipmaps=!1,this.needsUpdate=!0}}class Gy extends Oi{constructor(e,t,n,s,o,c,u,h,p,x,v,b){super(null,c,u,h,p,x,s,o,v,b),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class o6 extends Gy{constructor(e,t,n,s,o,c){super(e,t,n,o,c),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=zs,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class l6 extends Gy{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Zl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class c6 extends Oi{constructor(e,t,n,s,o,c,u,h,p){super(e,t,n,s,o,c,u,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class xS extends Oi{constructor(e,t,n=Kl,s,o,c,u=Na,h=Na,p,x=Eh,v=1){if(x!==Eh&&x!==Mh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const b={width:e,height:t,depth:v};super(b,s,o,c,u,h,x,n,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Jc(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class vS extends Oi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Yy extends an{constructor(e=1,t=1,n=4,s=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:s,heightSegments:o},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),s=Math.max(3,Math.floor(s)),o=Math.max(1,Math.floor(o));const c=[],u=[],h=[],p=[],x=t/2,v=Math.PI/2*e,b=t,y=2*v+b,S=n*2+o,E=s+1,M=new ue,_=new ue;for(let C=0;C<=S;C++){let R=0,O=0,U=0,I=0;if(C<=n){const B=C/n,k=B*Math.PI/2;O=-x-e*Math.cos(k),U=e*Math.sin(k),I=-e*Math.cos(k),R=B*v}else if(C<=n+o){const B=(C-n)/o;O=-x+B*t,U=e,I=0,R=v+B*b}else{const B=(C-n-o)/n,k=B*Math.PI/2;O=x+e*Math.sin(k),U=e*Math.cos(k),I=e*Math.sin(k),R=v+b+B*v}const F=Math.max(0,Math.min(1,R/y));let j=0;C===0?j=.5/s:C===S&&(j=-.5/s);for(let B=0;B<=s;B++){const k=B/s,J=k*Math.PI*2,Y=Math.sin(J),Z=Math.cos(J);_.x=-U*Z,_.y=O,_.z=U*Y,u.push(_.x,_.y,_.z),M.set(-U*Z,I,U*Y),M.normalize(),h.push(M.x,M.y,M.z),p.push(k+j,F)}if(C>0){const B=(C-1)*E;for(let k=0;k<s;k++){const J=B+k,Y=B+k+1,Z=C*E+k,L=C*E+k+1;c.push(J,Y,Z),c.push(Y,L,Z)}}}this.setIndex(c),this.setAttribute("position",new Rt(u,3)),this.setAttribute("normal",new Rt(h,3)),this.setAttribute("uv",new Rt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yy(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Xy extends an{constructor(e=1,t=32,n=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:s},t=Math.max(3,t);const o=[],c=[],u=[],h=[],p=new ue,x=new $e;c.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let v=0,b=3;v<=t;v++,b+=3){const y=n+v/t*s;p.x=e*Math.cos(y),p.y=e*Math.sin(y),c.push(p.x,p.y,p.z),u.push(0,0,1),x.x=(c[b]/e+1)/2,x.y=(c[b+1]/e+1)/2,h.push(x.x,x.y)}for(let v=1;v<=t;v++)o.push(v,v+1,0);this.setIndex(o),this.setAttribute("position",new Rt(c,3)),this.setAttribute("normal",new Rt(u,3)),this.setAttribute("uv",new Rt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class O0 extends an{constructor(e=1,t=1,n=1,s=32,o=1,c=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:s,heightSegments:o,openEnded:c,thetaStart:u,thetaLength:h};const p=this;s=Math.floor(s),o=Math.floor(o);const x=[],v=[],b=[],y=[];let S=0;const E=[],M=n/2;let _=0;C(),c===!1&&(e>0&&R(!0),t>0&&R(!1)),this.setIndex(x),this.setAttribute("position",new Rt(v,3)),this.setAttribute("normal",new Rt(b,3)),this.setAttribute("uv",new Rt(y,2));function C(){const O=new ue,U=new ue;let I=0;const F=(t-e)/n;for(let j=0;j<=o;j++){const B=[],k=j/o,J=k*(t-e)+e;for(let Y=0;Y<=s;Y++){const Z=Y/s,L=Z*h+u,re=Math.sin(L),q=Math.cos(L);U.x=J*re,U.y=-k*n+M,U.z=J*q,v.push(U.x,U.y,U.z),O.set(re,F,q).normalize(),b.push(O.x,O.y,O.z),y.push(Z,1-k),B.push(S++)}E.push(B)}for(let j=0;j<s;j++)for(let B=0;B<o;B++){const k=E[B][j],J=E[B+1][j],Y=E[B+1][j+1],Z=E[B][j+1];(e>0||B!==0)&&(x.push(k,J,Z),I+=3),(t>0||B!==o-1)&&(x.push(J,Y,Z),I+=3)}p.addGroup(_,I,0),_+=I}function R(O){const U=S,I=new $e,F=new ue;let j=0;const B=O===!0?e:t,k=O===!0?1:-1;for(let Y=1;Y<=s;Y++)v.push(0,M*k,0),b.push(0,k,0),y.push(.5,.5),S++;const J=S;for(let Y=0;Y<=s;Y++){const L=Y/s*h+u,re=Math.cos(L),q=Math.sin(L);F.x=B*q,F.y=M*k,F.z=B*re,v.push(F.x,F.y,F.z),b.push(0,k,0),I.x=re*.5+.5,I.y=q*.5*k+.5,y.push(I.x,I.y),S++}for(let Y=0;Y<s;Y++){const Z=U+Y,L=J+Y;O===!0?x.push(L,L+1,Z):x.push(L+1,L,Z),j+=3}p.addGroup(_,j,O===!0?1:2),_+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new O0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class U0 extends O0{constructor(e=1,t=1,n=32,s=1,o=!1,c=0,u=Math.PI*2){super(0,e,t,n,s,o,c,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:s,openEnded:o,thetaStart:c,thetaLength:u}}static fromJSON(e){return new U0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ou extends an{constructor(e=[],t=[],n=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:s};const o=[],c=[];u(s),p(n),x(),this.setAttribute("position",new Rt(o,3)),this.setAttribute("normal",new Rt(o.slice(),3)),this.setAttribute("uv",new Rt(c,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function u(C){const R=new ue,O=new ue,U=new ue;for(let I=0;I<t.length;I+=3)y(t[I+0],R),y(t[I+1],O),y(t[I+2],U),h(R,O,U,C)}function h(C,R,O,U){const I=U+1,F=[];for(let j=0;j<=I;j++){F[j]=[];const B=C.clone().lerp(O,j/I),k=R.clone().lerp(O,j/I),J=I-j;for(let Y=0;Y<=J;Y++)Y===0&&j===I?F[j][Y]=B:F[j][Y]=B.clone().lerp(k,Y/J)}for(let j=0;j<I;j++)for(let B=0;B<2*(I-j)-1;B++){const k=Math.floor(B/2);B%2===0?(b(F[j][k+1]),b(F[j+1][k]),b(F[j][k])):(b(F[j][k+1]),b(F[j+1][k+1]),b(F[j+1][k]))}}function p(C){const R=new ue;for(let O=0;O<o.length;O+=3)R.x=o[O+0],R.y=o[O+1],R.z=o[O+2],R.normalize().multiplyScalar(C),o[O+0]=R.x,o[O+1]=R.y,o[O+2]=R.z}function x(){const C=new ue;for(let R=0;R<o.length;R+=3){C.x=o[R+0],C.y=o[R+1],C.z=o[R+2];const O=M(C)/2/Math.PI+.5,U=_(C)/Math.PI+.5;c.push(O,1-U)}S(),v()}function v(){for(let C=0;C<c.length;C+=6){const R=c[C+0],O=c[C+2],U=c[C+4],I=Math.max(R,O,U),F=Math.min(R,O,U);I>.9&&F<.1&&(R<.2&&(c[C+0]+=1),O<.2&&(c[C+2]+=1),U<.2&&(c[C+4]+=1))}}function b(C){o.push(C.x,C.y,C.z)}function y(C,R){const O=C*3;R.x=e[O+0],R.y=e[O+1],R.z=e[O+2]}function S(){const C=new ue,R=new ue,O=new ue,U=new ue,I=new $e,F=new $e,j=new $e;for(let B=0,k=0;B<o.length;B+=9,k+=6){C.set(o[B+0],o[B+1],o[B+2]),R.set(o[B+3],o[B+4],o[B+5]),O.set(o[B+6],o[B+7],o[B+8]),I.set(c[k+0],c[k+1]),F.set(c[k+2],c[k+3]),j.set(c[k+4],c[k+5]),U.copy(C).add(R).add(O).divideScalar(3);const J=M(U);E(I,k+0,C,J),E(F,k+2,R,J),E(j,k+4,O,J)}}function E(C,R,O,U){U<0&&C.x===1&&(c[R]=C.x-1),O.x===0&&O.z===0&&(c[R]=U/2/Math.PI+.5)}function M(C){return Math.atan2(C.z,-C.x)}function _(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ou(e.vertices,e.indices,e.radius,e.details)}}class qy extends ou{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,s=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-n,0,-s,n,0,s,-n,0,s,n,-s,-n,0,-s,n,0,s,-n,0,s,n,0,-n,0,-s,n,0,-s,-n,0,s,n,0,s],c=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,c,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qy(e.radius,e.detail)}}const kx=new ue,Fx=new ue,I_=new ue,Hx=new Ls;class BA extends an{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),o=Math.cos(Td*t),c=e.getIndex(),u=e.getAttribute("position"),h=c?c.count:u.count,p=[0,0,0],x=["a","b","c"],v=new Array(3),b={},y=[];for(let S=0;S<h;S+=3){c?(p[0]=c.getX(S),p[1]=c.getX(S+1),p[2]=c.getX(S+2)):(p[0]=S,p[1]=S+1,p[2]=S+2);const{a:E,b:M,c:_}=Hx;if(E.fromBufferAttribute(u,p[0]),M.fromBufferAttribute(u,p[1]),_.fromBufferAttribute(u,p[2]),Hx.getNormal(I_),v[0]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,v[1]=`${Math.round(M.x*s)},${Math.round(M.y*s)},${Math.round(M.z*s)}`,v[2]=`${Math.round(_.x*s)},${Math.round(_.y*s)},${Math.round(_.z*s)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let C=0;C<3;C++){const R=(C+1)%3,O=v[C],U=v[R],I=Hx[x[C]],F=Hx[x[R]],j=`${O}_${U}`,B=`${U}_${O}`;B in b&&b[B]?(I_.dot(b[B].normal)<=o&&(y.push(I.x,I.y,I.z),y.push(F.x,F.y,F.z)),b[B]=null):j in b||(b[j]={index0:p[C],index1:p[R],normal:I_.clone()})}}for(const S in b)if(b[S]){const{index0:E,index1:M}=b[S];kx.fromBufferAttribute(u,E),Fx.fromBufferAttribute(u,M),y.push(kx.x,kx.y,kx.z),y.push(Fx.x,Fx.y,Fx.z)}this.setAttribute("position",new Rt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class fo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){yt("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,s=this.getPoint(0),o=0;t.push(0);for(let c=1;c<=e;c++)n=this.getPoint(c/e),o+=n.distanceTo(s),t.push(o),s=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let s=0;const o=n.length;let c;t?c=t:c=e*n[o-1];let u=0,h=o-1,p;for(;u<=h;)if(s=Math.floor(u+(h-u)/2),p=n[s]-c,p<0)u=s+1;else if(p>0)h=s-1;else{h=s;break}if(s=h,n[s]===c)return s/(o-1);const x=n[s],b=n[s+1]-x,y=(c-x)/b;return(s+y)/(o-1)}getTangent(e,t){let s=e-1e-4,o=e+1e-4;s<0&&(s=0),o>1&&(o=1);const c=this.getPoint(s),u=this.getPoint(o),h=t||(c.isVector2?new $e:new ue);return h.copy(u).sub(c).normalize(),h}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new ue,s=[],o=[],c=[],u=new ue,h=new Wt;for(let y=0;y<=e;y++){const S=y/e;s[y]=this.getTangentAt(S,new ue)}o[0]=new ue,c[0]=new ue;let p=Number.MAX_VALUE;const x=Math.abs(s[0].x),v=Math.abs(s[0].y),b=Math.abs(s[0].z);x<=p&&(p=x,n.set(1,0,0)),v<=p&&(p=v,n.set(0,1,0)),b<=p&&n.set(0,0,1),u.crossVectors(s[0],n).normalize(),o[0].crossVectors(s[0],u),c[0].crossVectors(s[0],o[0]);for(let y=1;y<=e;y++){if(o[y]=o[y-1].clone(),c[y]=c[y-1].clone(),u.crossVectors(s[y-1],s[y]),u.length()>Number.EPSILON){u.normalize();const S=Math.acos(qt(s[y-1].dot(s[y]),-1,1));o[y].applyMatrix4(h.makeRotationAxis(u,S))}c[y].crossVectors(s[y],o[y])}if(t===!0){let y=Math.acos(qt(o[0].dot(o[e]),-1,1));y/=e,s[0].dot(u.crossVectors(o[0],o[e]))>0&&(y=-y);for(let S=1;S<=e;S++)o[S].applyMatrix4(h.makeRotationAxis(s[S],y*S)),c[S].crossVectors(s[S],o[S])}return{tangents:s,normals:o,binormals:c}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Wy extends fo{constructor(e=0,t=0,n=1,s=1,o=0,c=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=s,this.aStartAngle=o,this.aEndAngle=c,this.aClockwise=u,this.aRotation=h}getPoint(e,t=new $e){const n=t,s=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const c=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=s;for(;o>s;)o-=s;o<Number.EPSILON&&(c?o=0:o=s),this.aClockwise===!0&&!c&&(o===s?o=-s:o=o-s);const u=this.aStartAngle+e*o;let h=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const x=Math.cos(this.aRotation),v=Math.sin(this.aRotation),b=h-this.aX,y=p-this.aY;h=b*x-y*v+this.aX,p=b*v+y*x+this.aY}return n.set(h,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class PA extends Wy{constructor(e,t,n,s,o,c){super(e,t,n,n,s,o,c),this.isArcCurve=!0,this.type="ArcCurve"}}function yS(){let i=0,e=0,t=0,n=0;function s(o,c,u,h){i=o,e=u,t=-3*o+3*c-2*u-h,n=2*o-2*c+u+h}return{initCatmullRom:function(o,c,u,h,p){s(c,u,p*(u-o),p*(h-c))},initNonuniformCatmullRom:function(o,c,u,h,p,x,v){let b=(c-o)/p-(u-o)/(p+x)+(u-c)/x,y=(u-c)/x-(h-c)/(x+v)+(h-u)/v;b*=x,y*=x,s(c,u,b,y)},calc:function(o){const c=o*o,u=c*o;return i+e*o+t*c+n*u}}}const jx=new ue,L_=new yS,z_=new yS,B_=new yS;class kA extends fo{constructor(e=[],t=!1,n="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=s}getPoint(e,t=new ue){const n=t,s=this.points,o=s.length,c=(o-(this.closed?0:1))*e;let u=Math.floor(c),h=c-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:h===0&&u===o-1&&(u=o-2,h=1);let p,x;this.closed||u>0?p=s[(u-1)%o]:(jx.subVectors(s[0],s[1]).add(s[0]),p=jx);const v=s[u%o],b=s[(u+1)%o];if(this.closed||u+2<o?x=s[(u+2)%o]:(jx.subVectors(s[o-1],s[o-2]).add(s[o-1]),x=jx),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let S=Math.pow(p.distanceToSquared(v),y),E=Math.pow(v.distanceToSquared(b),y),M=Math.pow(b.distanceToSquared(x),y);E<1e-4&&(E=1),S<1e-4&&(S=E),M<1e-4&&(M=E),L_.initNonuniformCatmullRom(p.x,v.x,b.x,x.x,S,E,M),z_.initNonuniformCatmullRom(p.y,v.y,b.y,x.y,S,E,M),B_.initNonuniformCatmullRom(p.z,v.z,b.z,x.z,S,E,M)}else this.curveType==="catmullrom"&&(L_.initCatmullRom(p.x,v.x,b.x,x.x,this.tension),z_.initCatmullRom(p.y,v.y,b.y,x.y,this.tension),B_.initCatmullRom(p.z,v.z,b.z,x.z,this.tension));return n.set(L_.calc(h),z_.calc(h),B_.calc(h)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(new ue().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function dM(i,e,t,n,s){const o=(n-e)*.5,c=(s-t)*.5,u=i*i,h=i*u;return(2*t-2*n+o+c)*h+(-3*t+3*n-2*o-c)*u+o*i+t}function u6(i,e){const t=1-i;return t*t*e}function d6(i,e){return 2*(1-i)*i*e}function f6(i,e){return i*i*e}function Zm(i,e,t,n){return u6(i,e)+d6(i,t)+f6(i,n)}function h6(i,e){const t=1-i;return t*t*t*e}function p6(i,e){const t=1-i;return 3*t*t*i*e}function m6(i,e){return 3*(1-i)*i*i*e}function g6(i,e){return i*i*i*e}function Km(i,e,t,n,s){return h6(i,e)+p6(i,t)+m6(i,n)+g6(i,s)}class bS extends fo{constructor(e=new $e,t=new $e,n=new $e,s=new $e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=s}getPoint(e,t=new $e){const n=t,s=this.v0,o=this.v1,c=this.v2,u=this.v3;return n.set(Km(e,s.x,o.x,c.x,u.x),Km(e,s.y,o.y,c.y,u.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class FA extends fo{constructor(e=new ue,t=new ue,n=new ue,s=new ue){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=s}getPoint(e,t=new ue){const n=t,s=this.v0,o=this.v1,c=this.v2,u=this.v3;return n.set(Km(e,s.x,o.x,c.x,u.x),Km(e,s.y,o.y,c.y,u.y),Km(e,s.z,o.z,c.z,u.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _S extends fo{constructor(e=new $e,t=new $e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new $e){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HA extends fo{constructor(e=new ue,t=new ue){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ue){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ue){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SS extends fo{constructor(e=new $e,t=new $e,n=new $e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new $e){const n=t,s=this.v0,o=this.v1,c=this.v2;return n.set(Zm(e,s.x,o.x,c.x),Zm(e,s.y,o.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ES extends fo{constructor(e=new ue,t=new ue,n=new ue){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ue){const n=t,s=this.v0,o=this.v1,c=this.v2;return n.set(Zm(e,s.x,o.x,c.x),Zm(e,s.y,o.y,c.y),Zm(e,s.z,o.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MS extends fo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new $e){const n=t,s=this.points,o=(s.length-1)*e,c=Math.floor(o),u=o-c,h=s[c===0?c:c-1],p=s[c],x=s[c>s.length-2?s.length-1:c+1],v=s[c>s.length-3?s.length-1:c+2];return n.set(dM(u,h.x,p.x,x.x,v.x),dM(u,h.y,p.y,x.y,v.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(new $e().fromArray(s))}return this}}var cy=Object.freeze({__proto__:null,ArcCurve:PA,CatmullRomCurve3:kA,CubicBezierCurve:bS,CubicBezierCurve3:FA,EllipseCurve:Wy,LineCurve:_S,LineCurve3:HA,QuadraticBezierCurve:SS,QuadraticBezierCurve3:ES,SplineCurve:MS});class jA extends fo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new cy[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),s=this.getCurveLengths();let o=0;for(;o<s.length;){if(s[o]>=n){const c=s[o]-n,u=this.curves[o],h=u.getLength(),p=h===0?0:1-c/h;return u.getPointAt(p,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,s=this.curves.length;n<s;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let s=0,o=this.curves;s<o.length;s++){const c=o[s],u=c.isEllipseCurve?e*2:c.isLineCurve||c.isLineCurve3?1:c.isSplineCurve?e*c.points.length:e,h=c.getPoints(u);for(let p=0;p<h.length;p++){const x=h[p];n&&n.equals(x)||(t.push(x),n=x)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const s=e.curves[t];this.curves.push(new cy[s.type]().fromJSON(s))}return this}}class uy extends jA{constructor(e){super(),this.type="Path",this.currentPoint=new $e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new _S(this.currentPoint.clone(),new $e(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,s){const o=new SS(this.currentPoint.clone(),new $e(e,t),new $e(n,s));return this.curves.push(o),this.currentPoint.set(n,s),this}bezierCurveTo(e,t,n,s,o,c){const u=new bS(this.currentPoint.clone(),new $e(e,t),new $e(n,s),new $e(o,c));return this.curves.push(u),this.currentPoint.set(o,c),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new MS(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,s,o,c){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,t+h,n,s,o,c),this}absarc(e,t,n,s,o,c){return this.absellipse(e,t,n,n,s,o,c),this}ellipse(e,t,n,s,o,c,u,h){const p=this.currentPoint.x,x=this.currentPoint.y;return this.absellipse(e+p,t+x,n,s,o,c,u,h),this}absellipse(e,t,n,s,o,c,u,h){const p=new Wy(e,t,n,s,o,c,u,h);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const x=p.getPoint(1);return this.currentPoint.copy(x),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class wd extends uy{constructor(e){super(e),this.uuid=tr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,s=this.holes.length;n<s;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const s=e.holes[t];this.holes.push(new uy().fromJSON(s))}return this}}function x6(i,e,t=2){const n=e&&e.length,s=n?e[0]*t:i.length;let o=VA(i,0,s,t,!0);const c=[];if(!o||o.next===o.prev)return c;let u,h,p;if(n&&(o=S6(i,e,o,t)),i.length>80*t){u=i[0],h=i[1];let x=u,v=h;for(let b=t;b<s;b+=t){const y=i[b],S=i[b+1];y<u&&(u=y),S<h&&(h=S),y>x&&(x=y),S>v&&(v=S)}p=Math.max(x-u,v-h),p=p!==0?32767/p:0}return h0(o,c,t,u,h,p,0),c}function VA(i,e,t,n,s){let o;if(s===U6(i,e,t,n)>0)for(let c=e;c<t;c+=n)o=fM(c/n|0,i[c],i[c+1],o);else for(let c=t-n;c>=e;c-=n)o=fM(c/n|0,i[c],i[c+1],o);return o&&Dh(o,o.next)&&(m0(o),o=o.next),o}function Nd(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(Dh(t,t.next)||Ti(t.prev,t,t.next)===0)){if(m0(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function h0(i,e,t,n,s,o,c){if(!i)return;!c&&o&&A6(i,n,s,o);let u=i;for(;i.prev!==i.next;){const h=i.prev,p=i.next;if(o?y6(i,n,s,o):v6(i)){e.push(h.i,i.i,p.i),m0(i),i=p.next,u=p.next;continue}if(i=p,i===u){c?c===1?(i=b6(Nd(i),e),h0(i,e,t,n,s,o,2)):c===2&&_6(i,e,t,n,s,o):h0(Nd(i),e,t,n,s,o,1);break}}}function v6(i){const e=i.prev,t=i,n=i.next;if(Ti(e,t,n)>=0)return!1;const s=e.x,o=t.x,c=n.x,u=e.y,h=t.y,p=n.y,x=Math.min(s,o,c),v=Math.min(u,h,p),b=Math.max(s,o,c),y=Math.max(u,h,p);let S=n.next;for(;S!==e;){if(S.x>=x&&S.x<=b&&S.y>=v&&S.y<=y&&zm(s,u,o,h,c,p,S.x,S.y)&&Ti(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function y6(i,e,t,n){const s=i.prev,o=i,c=i.next;if(Ti(s,o,c)>=0)return!1;const u=s.x,h=o.x,p=c.x,x=s.y,v=o.y,b=c.y,y=Math.min(u,h,p),S=Math.min(x,v,b),E=Math.max(u,h,p),M=Math.max(x,v,b),_=E1(y,S,e,t,n),C=E1(E,M,e,t,n);let R=i.prevZ,O=i.nextZ;for(;R&&R.z>=_&&O&&O.z<=C;){if(R.x>=y&&R.x<=E&&R.y>=S&&R.y<=M&&R!==s&&R!==c&&zm(u,x,h,v,p,b,R.x,R.y)&&Ti(R.prev,R,R.next)>=0||(R=R.prevZ,O.x>=y&&O.x<=E&&O.y>=S&&O.y<=M&&O!==s&&O!==c&&zm(u,x,h,v,p,b,O.x,O.y)&&Ti(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;R&&R.z>=_;){if(R.x>=y&&R.x<=E&&R.y>=S&&R.y<=M&&R!==s&&R!==c&&zm(u,x,h,v,p,b,R.x,R.y)&&Ti(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;O&&O.z<=C;){if(O.x>=y&&O.x<=E&&O.y>=S&&O.y<=M&&O!==s&&O!==c&&zm(u,x,h,v,p,b,O.x,O.y)&&Ti(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function b6(i,e){let t=i;do{const n=t.prev,s=t.next.next;!Dh(n,s)&&YA(n,t,t.next,s)&&p0(n,s)&&p0(s,n)&&(e.push(n.i,t.i,s.i),m0(t),m0(t.next),t=i=s),t=t.next}while(t!==i);return Nd(t)}function _6(i,e,t,n,s,o){let c=i;do{let u=c.next.next;for(;u!==c.prev;){if(c.i!==u.i&&R6(c,u)){let h=XA(c,u);c=Nd(c,c.next),h=Nd(h,h.next),h0(c,e,t,n,s,o,0),h0(h,e,t,n,s,o,0);return}u=u.next}c=c.next}while(c!==i)}function S6(i,e,t,n){const s=[];for(let o=0,c=e.length;o<c;o++){const u=e[o]*n,h=o<c-1?e[o+1]*n:i.length,p=VA(i,u,h,n,!1);p===p.next&&(p.steiner=!0),s.push(N6(p))}s.sort(E6);for(let o=0;o<s.length;o++)t=M6(s[o],t);return t}function E6(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),s=(e.next.y-e.y)/(e.next.x-e.x);t=n-s}return t}function M6(i,e){const t=T6(i,e);if(!t)return e;const n=XA(t,i);return Nd(n,n.next),Nd(t,t.next)}function T6(i,e){let t=e;const n=i.x,s=i.y;let o=-1/0,c;if(Dh(i,t))return t;do{if(Dh(i,t.next))return t.next;if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const v=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=n&&v>o&&(o=v,c=t.x<t.next.x?t:t.next,v===n))return c}t=t.next}while(t!==e);if(!c)return null;const u=c,h=c.x,p=c.y;let x=1/0;t=c;do{if(n>=t.x&&t.x>=h&&n!==t.x&&GA(s<p?n:o,s,h,p,s<p?o:n,s,t.x,t.y)){const v=Math.abs(s-t.y)/(n-t.x);p0(t,i)&&(v<x||v===x&&(t.x>c.x||t.x===c.x&&w6(c,t)))&&(c=t,x=v)}t=t.next}while(t!==u);return c}function w6(i,e){return Ti(i.prev,i,e.prev)<0&&Ti(e.next,i,i.next)<0}function A6(i,e,t,n){let s=i;do s.z===0&&(s.z=E1(s.x,s.y,e,t,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==i);s.prevZ.nextZ=null,s.prevZ=null,C6(s)}function C6(i){let e,t=1;do{let n=i,s;i=null;let o=null;for(e=0;n;){e++;let c=n,u=0;for(let p=0;p<t&&(u++,c=c.nextZ,!!c);p++);let h=t;for(;u>0||h>0&&c;)u!==0&&(h===0||!c||n.z<=c.z)?(s=n,n=n.nextZ,u--):(s=c,c=c.nextZ,h--),o?o.nextZ=s:i=s,s.prevZ=o,o=s;n=c}o.nextZ=null,t*=2}while(e>1);return i}function E1(i,e,t,n,s){return i=(i-t)*s|0,e=(e-n)*s|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function N6(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function GA(i,e,t,n,s,o,c,u){return(s-c)*(e-u)>=(i-c)*(o-u)&&(i-c)*(n-u)>=(t-c)*(e-u)&&(t-c)*(o-u)>=(s-c)*(n-u)}function zm(i,e,t,n,s,o,c,u){return!(i===c&&e===u)&&GA(i,e,t,n,s,o,c,u)}function R6(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!D6(i,e)&&(p0(i,e)&&p0(e,i)&&O6(i,e)&&(Ti(i.prev,i,e.prev)||Ti(i,e.prev,e))||Dh(i,e)&&Ti(i.prev,i,i.next)>0&&Ti(e.prev,e,e.next)>0)}function Ti(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function Dh(i,e){return i.x===e.x&&i.y===e.y}function YA(i,e,t,n){const s=Gx(Ti(i,e,t)),o=Gx(Ti(i,e,n)),c=Gx(Ti(t,n,i)),u=Gx(Ti(t,n,e));return!!(s!==o&&c!==u||s===0&&Vx(i,t,e)||o===0&&Vx(i,n,e)||c===0&&Vx(t,i,n)||u===0&&Vx(t,e,n))}function Vx(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function Gx(i){return i>0?1:i<0?-1:0}function D6(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&YA(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function p0(i,e){return Ti(i.prev,i,i.next)<0?Ti(i,e,i.next)>=0&&Ti(i,i.prev,e)>=0:Ti(i,e,i.prev)<0||Ti(i,i.next,e)<0}function O6(i,e){let t=i,n=!1;const s=(i.x+e.x)/2,o=(i.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&s<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function XA(i,e){const t=M1(i.i,i.x,i.y),n=M1(e.i,e.x,e.y),s=i.next,o=e.prev;return i.next=e,e.prev=i,t.next=s,s.prev=t,n.next=t,t.prev=n,o.next=n,n.prev=o,n}function fM(i,e,t,n){const s=M1(i,e,t);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function m0(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function M1(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function U6(i,e,t,n){let s=0;for(let o=e,c=t-n;o<t;o+=n)s+=(i[c]-i[o])*(i[o+1]+i[c+1]),c=o;return s}class I6{static triangulate(e,t,n=2){return x6(e,t,n)}}class so{static area(e){const t=e.length;let n=0;for(let s=t-1,o=0;o<t;s=o++)n+=e[s].x*e[o].y-e[o].x*e[s].y;return n*.5}static isClockWise(e){return so.area(e)<0}static triangulateShape(e,t){const n=[],s=[],o=[];hM(e),pM(n,e);let c=e.length;t.forEach(hM);for(let h=0;h<t.length;h++)s.push(c),c+=t[h].length,pM(n,t[h]);const u=I6.triangulate(n,s);for(let h=0;h<u.length;h+=3)o.push(u.slice(h,h+3));return o}}function hM(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function pM(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class Zy extends an{constructor(e=new wd([new $e(.5,.5),new $e(-.5,.5),new $e(-.5,-.5),new $e(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,s=[],o=[];for(let u=0,h=e.length;u<h;u++){const p=e[u];c(p)}this.setAttribute("position",new Rt(s,3)),this.setAttribute("uv",new Rt(o,2)),this.computeVertexNormals();function c(u){const h=[],p=t.curveSegments!==void 0?t.curveSegments:12,x=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:1;let b=t.bevelEnabled!==void 0?t.bevelEnabled:!0,y=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:y-.1,E=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:L6;let R,O=!1,U,I,F,j;_&&(R=_.getSpacedPoints(x),O=!0,b=!1,U=_.computeFrenetFrames(x,!1),I=new ue,F=new ue,j=new ue),b||(M=0,y=0,S=0,E=0);const B=u.extractPoints(p);let k=B.shape;const J=B.holes;if(!so.isClockWise(k)){k=k.reverse();for(let P=0,X=J.length;P<X;P++){const he=J[P];so.isClockWise(he)&&(J[P]=he.reverse())}}function Z(P){const he=10000000000000001e-36;let ee=P[0];for(let Q=1;Q<=P.length;Q++){const le=Q%P.length,Te=P[le],Me=Te.x-ee.x,ve=Te.y-ee.y,K=Me*Me+ve*ve,V=Math.max(Math.abs(Te.x),Math.abs(Te.y),Math.abs(ee.x),Math.abs(ee.y)),fe=he*V*V;if(K<=fe){P.splice(le,1),Q--;continue}ee=Te}}Z(k),J.forEach(Z);const L=J.length,re=k;for(let P=0;P<L;P++){const X=J[P];k=k.concat(X)}function q(P,X,he){return X||Kt("ExtrudeGeometry: vec does not exist"),P.clone().addScaledVector(X,he)}const W=k.length;function te(P,X,he){let ee,Q,le;const Te=P.x-X.x,Me=P.y-X.y,ve=he.x-P.x,K=he.y-P.y,V=Te*Te+Me*Me,fe=Te*K-Me*ve;if(Math.abs(fe)>Number.EPSILON){const we=Math.sqrt(V),He=Math.sqrt(ve*ve+K*K),Ce=X.x-Me/we,ft=X.y+Te/we,rt=he.x-K/He,ht=he.y+ve/He,gt=((rt-Ce)*K-(ht-ft)*ve)/(Te*K-Me*ve);ee=Ce+Te*gt-P.x,Q=ft+Me*gt-P.y;const Ve=ee*ee+Q*Q;if(Ve<=2)return new $e(ee,Q);le=Math.sqrt(Ve/2)}else{let we=!1;Te>Number.EPSILON?ve>Number.EPSILON&&(we=!0):Te<-Number.EPSILON?ve<-Number.EPSILON&&(we=!0):Math.sign(Me)===Math.sign(K)&&(we=!0),we?(ee=-Me,Q=Te,le=Math.sqrt(V)):(ee=Te,Q=Me,le=Math.sqrt(V/2))}return new $e(ee/le,Q/le)}const oe=[];for(let P=0,X=re.length,he=X-1,ee=P+1;P<X;P++,he++,ee++)he===X&&(he=0),ee===X&&(ee=0),oe[P]=te(re[P],re[he],re[ee]);const Se=[];let G,$=oe.concat();for(let P=0,X=L;P<X;P++){const he=J[P];G=[];for(let ee=0,Q=he.length,le=Q-1,Te=ee+1;ee<Q;ee++,le++,Te++)le===Q&&(le=0),Te===Q&&(Te=0),G[ee]=te(he[ee],he[le],he[Te]);Se.push(G),$=$.concat(G)}let se;if(M===0)se=so.triangulateShape(re,J);else{const P=[],X=[];for(let he=0;he<M;he++){const ee=he/M,Q=y*Math.cos(ee*Math.PI/2),le=S*Math.sin(ee*Math.PI/2)+E;for(let Te=0,Me=re.length;Te<Me;Te++){const ve=q(re[Te],oe[Te],le);Ye(ve.x,ve.y,-Q),ee===0&&P.push(ve)}for(let Te=0,Me=L;Te<Me;Te++){const ve=J[Te];G=Se[Te];const K=[];for(let V=0,fe=ve.length;V<fe;V++){const we=q(ve[V],G[V],le);Ye(we.x,we.y,-Q),ee===0&&K.push(we)}ee===0&&X.push(K)}}se=so.triangulateShape(P,X)}const de=se.length,xe=S+E;for(let P=0;P<W;P++){const X=b?q(k[P],$[P],xe):k[P];O?(F.copy(U.normals[0]).multiplyScalar(X.x),I.copy(U.binormals[0]).multiplyScalar(X.y),j.copy(R[0]).add(F).add(I),Ye(j.x,j.y,j.z)):Ye(X.x,X.y,0)}for(let P=1;P<=x;P++)for(let X=0;X<W;X++){const he=b?q(k[X],$[X],xe):k[X];O?(F.copy(U.normals[P]).multiplyScalar(he.x),I.copy(U.binormals[P]).multiplyScalar(he.y),j.copy(R[P]).add(F).add(I),Ye(j.x,j.y,j.z)):Ye(he.x,he.y,v/x*P)}for(let P=M-1;P>=0;P--){const X=P/M,he=y*Math.cos(X*Math.PI/2),ee=S*Math.sin(X*Math.PI/2)+E;for(let Q=0,le=re.length;Q<le;Q++){const Te=q(re[Q],oe[Q],ee);Ye(Te.x,Te.y,v+he)}for(let Q=0,le=J.length;Q<le;Q++){const Te=J[Q];G=Se[Q];for(let Me=0,ve=Te.length;Me<ve;Me++){const K=q(Te[Me],G[Me],ee);O?Ye(K.x,K.y+R[x-1].y,R[x-1].x+he):Ye(K.x,K.y,v+he)}}}ge(),_e();function ge(){const P=s.length/3;if(b){let X=0,he=W*X;for(let ee=0;ee<de;ee++){const Q=se[ee];qe(Q[2]+he,Q[1]+he,Q[0]+he)}X=x+M*2,he=W*X;for(let ee=0;ee<de;ee++){const Q=se[ee];qe(Q[0]+he,Q[1]+he,Q[2]+he)}}else{for(let X=0;X<de;X++){const he=se[X];qe(he[2],he[1],he[0])}for(let X=0;X<de;X++){const he=se[X];qe(he[0]+W*x,he[1]+W*x,he[2]+W*x)}}n.addGroup(P,s.length/3-P,0)}function _e(){const P=s.length/3;let X=0;Le(re,X),X+=re.length;for(let he=0,ee=J.length;he<ee;he++){const Q=J[he];Le(Q,X),X+=Q.length}n.addGroup(P,s.length/3-P,1)}function Le(P,X){let he=P.length;for(;--he>=0;){const ee=he;let Q=he-1;Q<0&&(Q=P.length-1);for(let le=0,Te=x+M*2;le<Te;le++){const Me=W*le,ve=W*(le+1),K=X+ee+Me,V=X+Q+Me,fe=X+Q+ve,we=X+ee+ve;ut(K,V,fe,we)}}}function Ye(P,X,he){h.push(P),h.push(X),h.push(he)}function qe(P,X,he){St(P),St(X),St(he);const ee=s.length/3,Q=C.generateTopUV(n,s,ee-3,ee-2,ee-1);mt(Q[0]),mt(Q[1]),mt(Q[2])}function ut(P,X,he,ee){St(P),St(X),St(ee),St(X),St(he),St(ee);const Q=s.length/3,le=C.generateSideWallUV(n,s,Q-6,Q-3,Q-2,Q-1);mt(le[0]),mt(le[1]),mt(le[3]),mt(le[1]),mt(le[2]),mt(le[3])}function St(P){s.push(h[P*3+0]),s.push(h[P*3+1]),s.push(h[P*3+2])}function mt(P){o.push(P.x),o.push(P.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return z6(t,n,e)}static fromJSON(e,t){const n=[];for(let o=0,c=e.shapes.length;o<c;o++){const u=t[e.shapes[o]];n.push(u)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new cy[s.type]().fromJSON(s)),new Zy(n,e.options)}}const L6={generateTopUV:function(i,e,t,n,s){const o=e[t*3],c=e[t*3+1],u=e[n*3],h=e[n*3+1],p=e[s*3],x=e[s*3+1];return[new $e(o,c),new $e(u,h),new $e(p,x)]},generateSideWallUV:function(i,e,t,n,s,o){const c=e[t*3],u=e[t*3+1],h=e[t*3+2],p=e[n*3],x=e[n*3+1],v=e[n*3+2],b=e[s*3],y=e[s*3+1],S=e[s*3+2],E=e[o*3],M=e[o*3+1],_=e[o*3+2];return Math.abs(u-x)<Math.abs(c-p)?[new $e(c,1-h),new $e(p,1-v),new $e(b,1-S),new $e(E,1-_)]:[new $e(u,1-h),new $e(x,1-v),new $e(y,1-S),new $e(M,1-_)]}};function z6(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,s=i.length;n<s;n++){const o=i[n];t.shapes.push(o.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Ky extends ou{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,s=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ky(e.radius,e.detail)}}class Jy extends an{constructor(e=[new $e(0,-.5),new $e(.5,0),new $e(0,.5)],t=12,n=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:s},t=Math.floor(t),s=qt(s,0,Math.PI*2);const o=[],c=[],u=[],h=[],p=[],x=1/t,v=new ue,b=new $e,y=new ue,S=new ue,E=new ue;let M=0,_=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:M=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,y.x=_*1,y.y=-M,y.z=_*0,E.copy(y),y.normalize(),h.push(y.x,y.y,y.z);break;case e.length-1:h.push(E.x,E.y,E.z);break;default:M=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,y.x=_*1,y.y=-M,y.z=_*0,S.copy(y),y.x+=E.x,y.y+=E.y,y.z+=E.z,y.normalize(),h.push(y.x,y.y,y.z),E.copy(S)}for(let C=0;C<=t;C++){const R=n+C*x*s,O=Math.sin(R),U=Math.cos(R);for(let I=0;I<=e.length-1;I++){v.x=e[I].x*O,v.y=e[I].y,v.z=e[I].x*U,c.push(v.x,v.y,v.z),b.x=C/t,b.y=I/(e.length-1),u.push(b.x,b.y);const F=h[3*I+0]*O,j=h[3*I+1],B=h[3*I+0]*U;p.push(F,j,B)}}for(let C=0;C<t;C++)for(let R=0;R<e.length-1;R++){const O=R+C*e.length,U=O,I=O+e.length,F=O+e.length+1,j=O+1;o.push(U,I,j),o.push(F,j,I)}this.setIndex(o),this.setAttribute("position",new Rt(c,3)),this.setAttribute("uv",new Rt(u,2)),this.setAttribute("normal",new Rt(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jy(e.points,e.segments,e.phiStart,e.phiLength)}}class I0 extends ou{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new I0(e.radius,e.detail)}}class jh extends an{constructor(e=1,t=1,n=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:s};const o=e/2,c=t/2,u=Math.floor(n),h=Math.floor(s),p=u+1,x=h+1,v=e/u,b=t/h,y=[],S=[],E=[],M=[];for(let _=0;_<x;_++){const C=_*b-c;for(let R=0;R<p;R++){const O=R*v-o;S.push(O,-C,0),E.push(0,0,1),M.push(R/u),M.push(1-_/h)}}for(let _=0;_<h;_++)for(let C=0;C<u;C++){const R=C+p*_,O=C+p*(_+1),U=C+1+p*(_+1),I=C+1+p*_;y.push(R,O,I),y.push(O,U,I)}this.setIndex(y),this.setAttribute("position",new Rt(S,3)),this.setAttribute("normal",new Rt(E,3)),this.setAttribute("uv",new Rt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jh(e.width,e.height,e.widthSegments,e.heightSegments)}}class Qy extends an{constructor(e=.5,t=1,n=32,s=1,o=0,c=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:s,thetaStart:o,thetaLength:c},n=Math.max(3,n),s=Math.max(1,s);const u=[],h=[],p=[],x=[];let v=e;const b=(t-e)/s,y=new ue,S=new $e;for(let E=0;E<=s;E++){for(let M=0;M<=n;M++){const _=o+M/n*c;y.x=v*Math.cos(_),y.y=v*Math.sin(_),h.push(y.x,y.y,y.z),p.push(0,0,1),S.x=(y.x/t+1)/2,S.y=(y.y/t+1)/2,x.push(S.x,S.y)}v+=b}for(let E=0;E<s;E++){const M=E*(n+1);for(let _=0;_<n;_++){const C=_+M,R=C,O=C+n+1,U=C+n+2,I=C+1;u.push(R,O,I),u.push(O,U,I)}}this.setIndex(u),this.setAttribute("position",new Rt(h,3)),this.setAttribute("normal",new Rt(p,3)),this.setAttribute("uv",new Rt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qy(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class $y extends an{constructor(e=new wd([new $e(0,.5),new $e(-.5,-.5),new $e(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],s=[],o=[],c=[];let u=0,h=0;if(Array.isArray(e)===!1)p(e);else for(let x=0;x<e.length;x++)p(e[x]),this.addGroup(u,h,x),u+=h,h=0;this.setIndex(n),this.setAttribute("position",new Rt(s,3)),this.setAttribute("normal",new Rt(o,3)),this.setAttribute("uv",new Rt(c,2));function p(x){const v=s.length/3,b=x.extractPoints(t);let y=b.shape;const S=b.holes;so.isClockWise(y)===!1&&(y=y.reverse());for(let M=0,_=S.length;M<_;M++){const C=S[M];so.isClockWise(C)===!0&&(S[M]=C.reverse())}const E=so.triangulateShape(y,S);for(let M=0,_=S.length;M<_;M++){const C=S[M];y=y.concat(C)}for(let M=0,_=y.length;M<_;M++){const C=y[M];s.push(C.x,C.y,0),o.push(0,0,1),c.push(C.x,C.y)}for(let M=0,_=E.length;M<_;M++){const C=E[M],R=C[0]+v,O=C[1]+v,U=C[2]+v;n.push(R,O,U),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return B6(t,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const c=t[e.shapes[s]];n.push(c)}return new $y(n,e.curveSegments)}}function B6(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const s=i[t];e.shapes.push(s.uuid)}else e.shapes.push(i.uuid);return e}class L0 extends an{constructor(e=1,t=32,n=16,s=0,o=Math.PI*2,c=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:s,phiLength:o,thetaStart:c,thetaLength:u},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const h=Math.min(c+u,Math.PI);let p=0;const x=[],v=new ue,b=new ue,y=[],S=[],E=[],M=[];for(let _=0;_<=n;_++){const C=[],R=_/n;let O=0;_===0&&c===0?O=.5/t:_===n&&h===Math.PI&&(O=-.5/t);for(let U=0;U<=t;U++){const I=U/t;v.x=-e*Math.cos(s+I*o)*Math.sin(c+R*u),v.y=e*Math.cos(c+R*u),v.z=e*Math.sin(s+I*o)*Math.sin(c+R*u),S.push(v.x,v.y,v.z),b.copy(v).normalize(),E.push(b.x,b.y,b.z),M.push(I+O,1-R),C.push(p++)}x.push(C)}for(let _=0;_<n;_++)for(let C=0;C<t;C++){const R=x[_][C+1],O=x[_][C],U=x[_+1][C],I=x[_+1][C+1];(_!==0||c>0)&&y.push(R,O,I),(_!==n-1||h<Math.PI)&&y.push(O,U,I)}this.setIndex(y),this.setAttribute("position",new Rt(S,3)),this.setAttribute("normal",new Rt(E,3)),this.setAttribute("uv",new Rt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new L0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class eb extends ou{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new eb(e.radius,e.detail)}}class tb extends an{constructor(e=1,t=.4,n=12,s=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:s,arc:o},n=Math.floor(n),s=Math.floor(s);const c=[],u=[],h=[],p=[],x=new ue,v=new ue,b=new ue;for(let y=0;y<=n;y++)for(let S=0;S<=s;S++){const E=S/s*o,M=y/n*Math.PI*2;v.x=(e+t*Math.cos(M))*Math.cos(E),v.y=(e+t*Math.cos(M))*Math.sin(E),v.z=t*Math.sin(M),u.push(v.x,v.y,v.z),x.x=e*Math.cos(E),x.y=e*Math.sin(E),b.subVectors(v,x).normalize(),h.push(b.x,b.y,b.z),p.push(S/s),p.push(y/n)}for(let y=1;y<=n;y++)for(let S=1;S<=s;S++){const E=(s+1)*y+S-1,M=(s+1)*(y-1)+S-1,_=(s+1)*(y-1)+S,C=(s+1)*y+S;c.push(E,M,C),c.push(M,_,C)}this.setIndex(c),this.setAttribute("position",new Rt(u,3)),this.setAttribute("normal",new Rt(h,3)),this.setAttribute("uv",new Rt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class nb extends an{constructor(e=1,t=.4,n=64,s=8,o=2,c=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:s,p:o,q:c},n=Math.floor(n),s=Math.floor(s);const u=[],h=[],p=[],x=[],v=new ue,b=new ue,y=new ue,S=new ue,E=new ue,M=new ue,_=new ue;for(let R=0;R<=n;++R){const O=R/n*o*Math.PI*2;C(O,o,c,e,y),C(O+.01,o,c,e,S),M.subVectors(S,y),_.addVectors(S,y),E.crossVectors(M,_),_.crossVectors(E,M),E.normalize(),_.normalize();for(let U=0;U<=s;++U){const I=U/s*Math.PI*2,F=-t*Math.cos(I),j=t*Math.sin(I);v.x=y.x+(F*_.x+j*E.x),v.y=y.y+(F*_.y+j*E.y),v.z=y.z+(F*_.z+j*E.z),h.push(v.x,v.y,v.z),b.subVectors(v,y).normalize(),p.push(b.x,b.y,b.z),x.push(R/n),x.push(U/s)}}for(let R=1;R<=n;R++)for(let O=1;O<=s;O++){const U=(s+1)*(R-1)+(O-1),I=(s+1)*R+(O-1),F=(s+1)*R+O,j=(s+1)*(R-1)+O;u.push(U,I,j),u.push(I,F,j)}this.setIndex(u),this.setAttribute("position",new Rt(h,3)),this.setAttribute("normal",new Rt(p,3)),this.setAttribute("uv",new Rt(x,2));function C(R,O,U,I,F){const j=Math.cos(R),B=Math.sin(R),k=U/O*R,J=Math.cos(k);F.x=I*(2+J)*.5*j,F.y=I*(2+J)*B*.5,F.z=I*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ib extends an{constructor(e=new ES(new ue(-1,-1,0),new ue(-1,1,0),new ue(1,1,0)),t=64,n=1,s=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:s,closed:o};const c=e.computeFrenetFrames(t,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;const u=new ue,h=new ue,p=new $e;let x=new ue;const v=[],b=[],y=[],S=[];E(),this.setIndex(S),this.setAttribute("position",new Rt(v,3)),this.setAttribute("normal",new Rt(b,3)),this.setAttribute("uv",new Rt(y,2));function E(){for(let R=0;R<t;R++)M(R);M(o===!1?t:0),C(),_()}function M(R){x=e.getPointAt(R/t,x);const O=c.normals[R],U=c.binormals[R];for(let I=0;I<=s;I++){const F=I/s*Math.PI*2,j=Math.sin(F),B=-Math.cos(F);h.x=B*O.x+j*U.x,h.y=B*O.y+j*U.y,h.z=B*O.z+j*U.z,h.normalize(),b.push(h.x,h.y,h.z),u.x=x.x+n*h.x,u.y=x.y+n*h.y,u.z=x.z+n*h.z,v.push(u.x,u.y,u.z)}}function _(){for(let R=1;R<=t;R++)for(let O=1;O<=s;O++){const U=(s+1)*(R-1)+(O-1),I=(s+1)*R+(O-1),F=(s+1)*R+O,j=(s+1)*(R-1)+O;S.push(U,I,j),S.push(I,F,j)}}function C(){for(let R=0;R<=t;R++)for(let O=0;O<=s;O++)p.x=R/t,p.y=O/s,y.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ib(new cy[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class qA extends an{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,s=new ue,o=new ue;if(e.index!==null){const c=e.attributes.position,u=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,x=h.length;p<x;++p){const v=h[p],b=v.start,y=v.count;for(let S=b,E=b+y;S<E;S+=3)for(let M=0;M<3;M++){const _=u.getX(S+M),C=u.getX(S+(M+1)%3);s.fromBufferAttribute(c,_),o.fromBufferAttribute(c,C),mM(s,o,n)===!0&&(t.push(s.x,s.y,s.z),t.push(o.x,o.y,o.z))}}}else{const c=e.attributes.position;for(let u=0,h=c.count/3;u<h;u++)for(let p=0;p<3;p++){const x=3*u+p,v=3*u+(p+1)%3;s.fromBufferAttribute(c,x),o.fromBufferAttribute(c,v),mM(s,o,n)===!0&&(t.push(s.x,s.y,s.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new Rt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function mM(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(s)===!0?!1:(t.add(n),t.add(s),!0)}var gM=Object.freeze({__proto__:null,BoxGeometry:Ud,CapsuleGeometry:Yy,CircleGeometry:Xy,ConeGeometry:U0,CylinderGeometry:O0,DodecahedronGeometry:qy,EdgesGeometry:BA,ExtrudeGeometry:Zy,IcosahedronGeometry:Ky,LatheGeometry:Jy,OctahedronGeometry:I0,PlaneGeometry:jh,PolyhedronGeometry:ou,RingGeometry:Qy,ShapeGeometry:$y,SphereGeometry:L0,TetrahedronGeometry:eb,TorusGeometry:tb,TorusKnotGeometry:nb,TubeGeometry:ib,WireframeGeometry:qA});class WA extends Qa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ZA extends ir{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class TS extends Qa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new bt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=su,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new nr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KA extends TS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new bt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class JA extends Qa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bt(16777215),this.specular=new bt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=su,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new nr,this.combine=N0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class QA extends Qa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=su,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class $A extends Qa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=su,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class eC extends Qa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=su,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new nr,this.combine=N0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wS extends Qa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=uA,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class AS extends Qa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class tC extends Qa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=su,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nC extends Ss{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ed(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function iC(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function aC(i){function e(s,o){return i[s]-i[o]}const t=i.length,n=new Array(t);for(let s=0;s!==t;++s)n[s]=s;return n.sort(e),n}function T1(i,e,t){const n=i.length,s=new i.constructor(n);for(let o=0,c=0;c!==n;++o){const u=t[o]*e;for(let h=0;h!==e;++h)s[c++]=i[u+h]}return s}function CS(i,e,t,n){let s=1,o=i[0];for(;o!==void 0&&o[n]===void 0;)o=i[s++];if(o===void 0)return;let c=o[n];if(c!==void 0)if(Array.isArray(c))do c=o[n],c!==void 0&&(e.push(o.time),t.push(...c)),o=i[s++];while(o!==void 0);else if(c.toArray!==void 0)do c=o[n],c!==void 0&&(e.push(o.time),c.toArray(t,t.length)),o=i[s++];while(o!==void 0);else do c=o[n],c!==void 0&&(e.push(o.time),t.push(c)),o=i[s++];while(o!==void 0)}function P6(i,e,t,n,s=30){const o=i.clone();o.name=e;const c=[];for(let h=0;h<o.tracks.length;++h){const p=o.tracks[h],x=p.getValueSize(),v=[],b=[];for(let y=0;y<p.times.length;++y){const S=p.times[y]*s;if(!(S<t||S>=n)){v.push(p.times[y]);for(let E=0;E<x;++E)b.push(p.values[y*x+E])}}v.length!==0&&(p.times=Ed(v,p.times.constructor),p.values=Ed(b,p.values.constructor),c.push(p))}o.tracks=c;let u=1/0;for(let h=0;h<o.tracks.length;++h)u>o.tracks[h].times[0]&&(u=o.tracks[h].times[0]);for(let h=0;h<o.tracks.length;++h)o.tracks[h].shift(-1*u);return o.resetDuration(),o}function k6(i,e=0,t=i,n=30){n<=0&&(n=30);const s=t.tracks.length,o=e/n;for(let c=0;c<s;++c){const u=t.tracks[c],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const p=i.tracks.find(function(_){return _.name===u.name&&_.ValueTypeName===h});if(p===void 0)continue;let x=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=v/3);let b=0;const y=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=y/3);const S=u.times.length-1;let E;if(o<=u.times[0]){const _=x,C=v-x;E=u.values.slice(_,C)}else if(o>=u.times[S]){const _=S*v+x,C=_+v-x;E=u.values.slice(_,C)}else{const _=u.createInterpolant(),C=x,R=v-x;_.evaluate(o),E=_.resultBuffer.slice(C,R)}h==="quaternion"&&new Ka().fromArray(E).normalize().conjugate().toArray(E);const M=p.times.length;for(let _=0;_<M;++_){const C=_*y+b;if(h==="quaternion")Ka.multiplyQuaternionsFlat(p.values,C,E,0,p.values,C);else{const R=y-b*2;for(let O=0;O<R;++O)p.values[C+O]-=E[O]}}}return i.blendMode=oS,i}class F6{static convertArray(e,t){return Ed(e,t)}static isTypedArray(e){return iC(e)}static getKeyframeOrder(e){return aC(e)}static sortedArray(e,t,n){return T1(e,t,n)}static flattenJSON(e,t,n,s){CS(e,t,n,s)}static subclip(e,t,n,s,o=30){return P6(e,t,n,s,o)}static makeClipAdditive(e,t=0,n=e,s=30){return k6(e,t,n,s)}}class z0{constructor(e,t,n,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,s=t[n],o=t[n-1];e:{t:{let c;n:{i:if(!(e<s)){for(let u=n+2;;){if(s===void 0){if(e<o)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(o=s,s=t[++n],e<s)break t}c=t.length;break n}if(!(e>=o)){const u=t[1];e<u&&(n=2,o=u);for(let h=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===h)break;if(s=o,o=t[--n-1],e>=o)break t}c=n,n=0;break n}break e}for(;n<c;){const u=n+c>>>1;e<t[u]?c=u:n=u+1}if(s=t[n],o=t[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,s)}return this.interpolate_(n,o,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,s=this.valueSize,o=e*s;for(let c=0;c!==s;++c)t[c]=n[o+c];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class sC extends z0{constructor(e,t,n,s){super(e,t,n,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:_d,endingEnd:_d}}intervalChanged_(e,t,n){const s=this.parameterPositions;let o=e-2,c=e+1,u=s[o],h=s[c];if(u===void 0)switch(this.getSettings_().endingStart){case Sd:o=e,u=2*t-n;break;case l0:o=s.length-2,u=t+s[o]-s[o+1];break;default:o=e,u=n}if(h===void 0)switch(this.getSettings_().endingEnd){case Sd:c=e,h=2*n-t;break;case l0:c=1,h=n+s[1]-s[0];break;default:c=e-1,h=t}const p=(n-t)*.5,x=this.valueSize;this._weightPrev=p/(t-u),this._weightNext=p/(h-n),this._offsetPrev=o*x,this._offsetNext=c*x}interpolate_(e,t,n,s){const o=this.resultBuffer,c=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,x=this._offsetPrev,v=this._offsetNext,b=this._weightPrev,y=this._weightNext,S=(n-t)/(s-t),E=S*S,M=E*S,_=-b*M+2*b*E-b*S,C=(1+b)*M+(-1.5-2*b)*E+(-.5+b)*S+1,R=(-1-y)*M+(1.5+y)*E+.5*S,O=y*M-y*E;for(let U=0;U!==u;++U)o[U]=_*c[x+U]+C*c[p+U]+R*c[h+U]+O*c[v+U];return o}}class NS extends z0{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const o=this.resultBuffer,c=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,x=(n-t)/(s-t),v=1-x;for(let b=0;b!==u;++b)o[b]=c[p+b]*v+c[h+b]*x;return o}}class rC extends z0{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Cr{constructor(e,t,n,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ed(t,this.TimeBufferType),this.values=Ed(n,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Ed(e.times,Array),values:Ed(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(n.interpolation=s)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new rC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new NS(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sC(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case o0:t=this.InterpolantFactoryMethodDiscrete;break;case ry:t=this.InterpolantFactoryMethodLinear;break;case ov:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return yt("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return o0;case this.InterpolantFactoryMethodLinear:return ry;case this.InterpolantFactoryMethodSmooth:return ov}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]*=e}return this}trim(e,t){const n=this.times,s=n.length;let o=0,c=s-1;for(;o!==s&&n[o]<e;)++o;for(;c!==-1&&n[c]>t;)--c;if(++c,o!==0||c!==s){o>=c&&(c=Math.max(c,1),o=c-1);const u=this.getValueSize();this.times=n.slice(o,c),this.values=this.values.slice(o*u,c*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Kt("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,s=this.values,o=n.length;o===0&&(Kt("KeyframeTrack: Track is empty.",this),e=!1);let c=null;for(let u=0;u!==o;u++){const h=n[u];if(typeof h=="number"&&isNaN(h)){Kt("KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(c!==null&&c>h){Kt("KeyframeTrack: Out of order keys.",this,u,h,c),e=!1;break}c=h}if(s!==void 0&&iC(s))for(let u=0,h=s.length;u!==h;++u){const p=s[u];if(isNaN(p)){Kt("KeyframeTrack: Value is not a valid number.",this,u,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),s=this.getInterpolation()===ov,o=e.length-1;let c=1;for(let u=1;u<o;++u){let h=!1;const p=e[u],x=e[u+1];if(p!==x&&(u!==1||p!==e[0]))if(s)h=!0;else{const v=u*n,b=v-n,y=v+n;for(let S=0;S!==n;++S){const E=t[v+S];if(E!==t[b+S]||E!==t[y+S]){h=!0;break}}}if(h){if(u!==c){e[c]=e[u];const v=u*n,b=c*n;for(let y=0;y!==n;++y)t[b+y]=t[v+y]}++c}}if(o>0){e[c]=e[o];for(let u=o*n,h=c*n,p=0;p!==n;++p)t[h+p]=t[u+p];++c}return c!==e.length?(this.times=e.slice(0,c),this.values=t.slice(0,c*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,s=new n(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Cr.prototype.ValueTypeName="";Cr.prototype.TimeBufferType=Float32Array;Cr.prototype.ValueBufferType=Float32Array;Cr.prototype.DefaultInterpolation=ry;class Id extends Cr{constructor(e,t,n){super(e,t,n)}}Id.prototype.ValueTypeName="bool";Id.prototype.ValueBufferType=Array;Id.prototype.DefaultInterpolation=o0;Id.prototype.InterpolantFactoryMethodLinear=void 0;Id.prototype.InterpolantFactoryMethodSmooth=void 0;class RS extends Cr{constructor(e,t,n,s){super(e,t,n,s)}}RS.prototype.ValueTypeName="color";class g0 extends Cr{constructor(e,t,n,s){super(e,t,n,s)}}g0.prototype.ValueTypeName="number";class oC extends z0{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const o=this.resultBuffer,c=this.sampleValues,u=this.valueSize,h=(n-t)/(s-t);let p=e*u;for(let x=p+u;p!==x;p+=4)Ka.slerpFlat(o,0,c,p-u,c,p,h);return o}}class B0 extends Cr{constructor(e,t,n,s){super(e,t,n,s)}InterpolantFactoryMethodLinear(e){return new oC(this.times,this.values,this.getValueSize(),e)}}B0.prototype.ValueTypeName="quaternion";B0.prototype.InterpolantFactoryMethodSmooth=void 0;class Ld extends Cr{constructor(e,t,n){super(e,t,n)}}Ld.prototype.ValueTypeName="string";Ld.prototype.ValueBufferType=Array;Ld.prototype.DefaultInterpolation=o0;Ld.prototype.InterpolantFactoryMethodLinear=void 0;Ld.prototype.InterpolantFactoryMethodSmooth=void 0;class x0 extends Cr{constructor(e,t,n,s){super(e,t,n,s)}}x0.prototype.ValueTypeName="vector";class v0{constructor(e="",t=-1,n=[],s=Ly){this.name=e,this.tracks=n,this.duration=t,this.blendMode=s,this.uuid=tr(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,s=1/(e.fps||1);for(let c=0,u=n.length;c!==u;++c)t.push(j6(n[c]).scale(s));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o.userData=JSON.parse(e.userData||"{}"),o}static toJSON(e){const t=[],n=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let o=0,c=n.length;o!==c;++o)t.push(Cr.toJSON(n[o]));return s}static CreateFromMorphTargetSequence(e,t,n,s){const o=t.length,c=[];for(let u=0;u<o;u++){let h=[],p=[];h.push((u+o-1)%o,u,(u+1)%o),p.push(0,1,0);const x=aC(h);h=T1(h,1,x),p=T1(p,1,x),!s&&h[0]===0&&(h.push(o),p.push(p[0])),c.push(new g0(".morphTargetInfluences["+t[u].name+"]",h,p).scale(1/n))}return new this(e,-1,c)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const s=e;n=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<n.length;s++)if(n[s].name===t)return n[s];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const s={},o=/^([\w-]*?)([\d]+)$/;for(let u=0,h=e.length;u<h;u++){const p=e[u],x=p.name.match(o);if(x&&x.length>1){const v=x[1];let b=s[v];b||(s[v]=b=[]),b.push(p)}}const c=[];for(const u in s)c.push(this.CreateFromMorphTargetSequence(u,s[u],t,n));return c}static parseAnimation(e,t){if(yt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Kt("AnimationClip: No animation in JSONLoader data."),null;const n=function(v,b,y,S,E){if(y.length!==0){const M=[],_=[];CS(y,M,_,S),M.length!==0&&E.push(new v(b,M,_))}},s=[],o=e.name||"default",c=e.fps||30,u=e.blendMode;let h=e.length||-1;const p=e.hierarchy||[];for(let v=0;v<p.length;v++){const b=p[v].keys;if(!(!b||b.length===0))if(b[0].morphTargets){const y={};let S;for(S=0;S<b.length;S++)if(b[S].morphTargets)for(let E=0;E<b[S].morphTargets.length;E++)y[b[S].morphTargets[E]]=-1;for(const E in y){const M=[],_=[];for(let C=0;C!==b[S].morphTargets.length;++C){const R=b[S];M.push(R.time),_.push(R.morphTarget===E?1:0)}s.push(new g0(".morphTargetInfluence["+E+"]",M,_))}h=y.length*c}else{const y=".bones["+t[v].name+"]";n(x0,y+".position",b,"pos",s),n(B0,y+".quaternion",b,"rot",s),n(x0,y+".scale",b,"scl",s)}}return s.length===0?null:new this(o,h,s,u)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,s=e.length;n!==s;++n){const o=this.tracks[n];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function H6(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return g0;case"vector":case"vector2":case"vector3":case"vector4":return x0;case"color":return RS;case"quaternion":return B0;case"bool":case"boolean":return Id;case"string":return Ld}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function j6(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=H6(i.type);if(i.times===void 0){const t=[],n=[];CS(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const Jo={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class DS{constructor(e,t,n){const s=this;let o=!1,c=0,u=0,h;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(x){u++,o===!1&&s.onStart!==void 0&&s.onStart(x,c,u),o=!0},this.itemEnd=function(x){c++,s.onProgress!==void 0&&s.onProgress(x,c,u),c===u&&(o=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(x){s.onError!==void 0&&s.onError(x)},this.resolveURL=function(x){return h?h(x):x},this.setURLModifier=function(x){return h=x,this},this.addHandler=function(x,v){return p.push(x,v),this},this.removeHandler=function(x){const v=p.indexOf(x);return v!==-1&&p.splice(v,2),this},this.getHandler=function(x){for(let v=0,b=p.length;v<b;v+=2){const y=p[v],S=p[v+1];if(y.global&&(y.lastIndex=0),y.test(x))return S}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const lC=new DS;class Ps{constructor(e){this.manager=e!==void 0?e:lC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(s,o){n.load(e,s,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Ps.DEFAULT_MATERIAL_NAME="__DEFAULT";const Hl={};class V6 extends Error{constructor(e,t){super(e),this.response=t}}class Jl extends Ps{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Jo.get(`file:${e}`);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Hl[e]!==void 0){Hl[e].push({onLoad:t,onProgress:n,onError:s});return}Hl[e]=[],Hl[e].push({onLoad:t,onProgress:n,onError:s});const c=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,h=this.responseType;fetch(c).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&yt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const x=Hl[e],v=p.body.getReader(),b=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),y=b?parseInt(b):0,S=y!==0;let E=0;const M=new ReadableStream({start(_){C();function C(){v.read().then(({done:R,value:O})=>{if(R)_.close();else{E+=O.byteLength;const U=new ProgressEvent("progress",{lengthComputable:S,loaded:E,total:y});for(let I=0,F=x.length;I<F;I++){const j=x[I];j.onProgress&&j.onProgress(U)}_.enqueue(O),C()}},R=>{_.error(R)})}}});return new Response(M)}else throw new V6(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(x=>new DOMParser().parseFromString(x,u));case"json":return p.json();default:if(u==="")return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(u),b=v&&v[1]?v[1].toLowerCase():void 0,y=new TextDecoder(b);return p.arrayBuffer().then(S=>y.decode(S))}}}).then(p=>{Jo.add(`file:${e}`,p);const x=Hl[e];delete Hl[e];for(let v=0,b=x.length;v<b;v++){const y=x[v];y.onLoad&&y.onLoad(p)}}).catch(p=>{const x=Hl[e];if(x===void 0)throw this.manager.itemError(e),p;delete Hl[e];for(let v=0,b=x.length;v<b;v++){const y=x[v];y.onError&&y.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class G6 extends Ps{constructor(e){super(e)}load(e,t,n,s){const o=this,c=new Jl(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){try{t(o.parse(JSON.parse(u)))}catch(h){s?s(h):Kt(h),o.manager.itemError(e)}},n,s)}parse(e){const t=[];for(let n=0;n<e.length;n++){const s=v0.parse(e[n]);t.push(s)}return t}}class Y6 extends Ps{constructor(e){super(e)}load(e,t,n,s){const o=this,c=[],u=new Gy,h=new Jl(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(o.withCredentials);let p=0;function x(v){h.load(e[v],function(b){const y=o.parse(b,!0);c[v]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},p+=1,p===6&&(y.mipmapCount===1&&(u.minFilter=ji),u.image=c,u.format=y.format,u.needsUpdate=!0,t&&t(u))},n,s)}if(Array.isArray(e))for(let v=0,b=e.length;v<b;++v)x(v);else h.load(e,function(v){const b=o.parse(v,!0);if(b.isCubemap){const y=b.mipmaps.length/b.mipmapCount;for(let S=0;S<y;S++){c[S]={mipmaps:[]};for(let E=0;E<b.mipmapCount;E++)c[S].mipmaps.push(b.mipmaps[S*b.mipmapCount+E]),c[S].format=b.format,c[S].width=b.width,c[S].height=b.height}u.image=c}else u.image.width=b.width,u.image.height=b.height,u.mipmaps=b.mipmaps;b.mipmapCount===1&&(u.minFilter=ji),u.format=b.format,u.needsUpdate=!0,t&&t(u)},n,s);return u}}const lh=new WeakMap;class y0 extends Ps{constructor(e){super(e)}load(e,t,n,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,c=Jo.get(`image:${e}`);if(c!==void 0){if(c.complete===!0)o.manager.itemStart(e),setTimeout(function(){t&&t(c),o.manager.itemEnd(e)},0);else{let v=lh.get(c);v===void 0&&(v=[],lh.set(c,v)),v.push({onLoad:t,onError:s})}return c}const u=d0("img");function h(){x(),t&&t(this);const v=lh.get(this)||[];for(let b=0;b<v.length;b++){const y=v[b];y.onLoad&&y.onLoad(this)}lh.delete(this),o.manager.itemEnd(e)}function p(v){x(),s&&s(v),Jo.remove(`image:${e}`);const b=lh.get(this)||[];for(let y=0;y<b.length;y++){const S=b[y];S.onError&&S.onError(v)}lh.delete(this),o.manager.itemError(e),o.manager.itemEnd(e)}function x(){u.removeEventListener("load",h,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),Jo.add(`image:${e}`,u),o.manager.itemStart(e),u.src=e,u}}class X6 extends Ps{constructor(e){super(e)}load(e,t,n,s){const o=new D0;o.colorSpace=Wa;const c=new y0(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);let u=0;function h(p){c.load(e[p],function(x){o.images[p]=x,u++,u===6&&(o.needsUpdate=!0,t&&t(o))},void 0,s)}for(let p=0;p<e.length;++p)h(p);return o}}class q6 extends Ps{constructor(e){super(e)}load(e,t,n,s){const o=this,c=new ro,u=new Jl(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(o.withCredentials),u.load(e,function(h){let p;try{p=o.parse(h)}catch(x){if(s!==void 0)s(x);else{x(x);return}}p.image!==void 0?c.image=p.image:p.data!==void 0&&(c.image.width=p.width,c.image.height=p.height,c.image.data=p.data),c.wrapS=p.wrapS!==void 0?p.wrapS:zs,c.wrapT=p.wrapT!==void 0?p.wrapT:zs,c.magFilter=p.magFilter!==void 0?p.magFilter:ji,c.minFilter=p.minFilter!==void 0?p.minFilter:ji,c.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(c.colorSpace=p.colorSpace),p.flipY!==void 0&&(c.flipY=p.flipY),p.format!==void 0&&(c.format=p.format),p.type!==void 0&&(c.type=p.type),p.mipmaps!==void 0&&(c.mipmaps=p.mipmaps,c.minFilter=Ko),p.mipmapCount===1&&(c.minFilter=ji),p.generateMipmaps!==void 0&&(c.generateMipmaps=p.generateMipmaps),c.needsUpdate=!0,t&&t(c,p)},n,s),c}}class W6 extends Ps{constructor(e){super(e)}load(e,t,n,s){const o=new Oi,c=new y0(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(e,function(u){o.image=u,o.needsUpdate=!0,t!==void 0&&t(o)},n,s),o}}class lu extends Rn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new bt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class cC extends lu{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Rn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new bt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const P_=new Wt,xM=new ue,vM=new ue;class OS{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $e(512,512),this.mapType=Ar,this.map=null,this.mapPass=null,this.matrix=new Wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Hh,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new Un(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;xM.setFromMatrixPosition(e.matrixWorld),t.position.copy(xM),vM.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(vM),t.updateMatrixWorld(),P_.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(P_,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(P_)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Z6 extends OS{constructor(){super(new Hi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=Ah*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height*this.aspect,o=e.distance||t.far;(n!==t.fov||s!==t.aspect||o!==t.far)&&(t.fov=n,t.aspect=s,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class uC extends lu{constructor(e,t,n=0,s=Math.PI/3,o=0,c=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Rn.DEFAULT_UP),this.updateMatrix(),this.target=new Rn,this.distance=n,this.angle=s,this.penumbra=o,this.decay=c,this.map=null,this.shadow=new Z6}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const yM=new Wt,Om=new ue,k_=new ue;class K6 extends OS{constructor(){super(new Hi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new Un(2,1,1,1),new Un(0,1,1,1),new Un(3,1,1,1),new Un(1,1,1,1),new Un(3,0,1,1),new Un(1,0,1,1)],this._cubeDirections=[new ue(1,0,0),new ue(-1,0,0),new ue(0,0,1),new ue(0,0,-1),new ue(0,1,0),new ue(0,-1,0)],this._cubeUps=[new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,1,0),new ue(0,0,1),new ue(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,s=this.matrix,o=e.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),Om.setFromMatrixPosition(e.matrixWorld),n.position.copy(Om),k_.copy(n.position),k_.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(k_),n.updateMatrixWorld(),s.makeTranslation(-Om.x,-Om.y,-Om.z),yM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(yM,n.coordinateSystem,n.reversedDepth)}}class dC extends lu{constructor(e,t,n=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=s,this.shadow=new K6}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class $c extends Py{constructor(e=-1,t=1,n=1,s=-1,o=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=s,this.near=o,this.far=c,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,s,o,c){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let o=n-e,c=n+e,u=s+t,h=s-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,x=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,c=o+p*this.view.width,u-=x*this.view.offsetY,h=u-x*this.view.height}this.projectionMatrix.makeOrthographic(o,c,u,h,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class J6 extends OS{constructor(){super(new $c(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class fC extends lu{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Rn.DEFAULT_UP),this.updateMatrix(),this.target=new Rn,this.shadow=new J6}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class hC extends lu{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class pC extends lu{constructor(e,t,n=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class mC{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ue)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,s=e.y,o=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.282095),t.addScaledVector(c[1],.488603*s),t.addScaledVector(c[2],.488603*o),t.addScaledVector(c[3],.488603*n),t.addScaledVector(c[4],1.092548*(n*s)),t.addScaledVector(c[5],1.092548*(s*o)),t.addScaledVector(c[6],.315392*(3*o*o-1)),t.addScaledVector(c[7],1.092548*(n*o)),t.addScaledVector(c[8],.546274*(n*n-s*s)),t}getIrradianceAt(e,t){const n=e.x,s=e.y,o=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.886227),t.addScaledVector(c[1],2*.511664*s),t.addScaledVector(c[2],2*.511664*o),t.addScaledVector(c[3],2*.511664*n),t.addScaledVector(c[4],2*.429043*n*s),t.addScaledVector(c[5],2*.429043*s*o),t.addScaledVector(c[6],.743125*o*o-.247708),t.addScaledVector(c[7],2*.429043*n*o),t.addScaledVector(c[8],.429043*(n*n-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const n=e.x,s=e.y,o=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*o,t[3]=.488603*n,t[4]=1.092548*n*s,t[5]=1.092548*s*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*n*o,t[8]=.546274*(n*n-s*s)}}class gC extends lu{constructor(e=new mC,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class ab extends Ps{constructor(e){super(e),this.textures={}}load(e,t,n,s){const o=this,c=new Jl(o.manager);c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(e,function(u){try{t(o.parse(JSON.parse(u)))}catch(h){s?s(h):Kt(h),o.manager.itemError(e)}},n,s)}parse(e){const t=this.textures;function n(o){return t[o]===void 0&&yt("MaterialLoader: Undefined texture",o),t[o]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new bt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const c=e.uniforms[o];switch(s.uniforms[o]={},c.type){case"t":s.uniforms[o].value=n(c.value);break;case"c":s.uniforms[o].value=new bt().setHex(c.value);break;case"v2":s.uniforms[o].value=new $e().fromArray(c.value);break;case"v3":s.uniforms[o].value=new ue().fromArray(c.value);break;case"v4":s.uniforms[o].value=new Un().fromArray(c.value);break;case"m3":s.uniforms[o].value=new nn().fromArray(c.value);break;case"m4":s.uniforms[o].value=new Wt().fromArray(c.value);break;default:s.uniforms[o].value=c.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)s.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=n(e.map)),e.matcap!==void 0&&(s.matcap=n(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),s.normalScale=new $e().fromArray(o)}return e.displacementMap!==void 0&&(s.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=n(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new $e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=n(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return ab.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:WA,SpriteMaterial:pS,RawShaderMaterial:ZA,ShaderMaterial:ir,PointsMaterial:gS,MeshPhysicalMaterial:KA,MeshStandardMaterial:TS,MeshPhongMaterial:JA,MeshToonMaterial:QA,MeshNormalMaterial:$A,MeshLambertMaterial:eC,MeshDepthMaterial:wS,MeshDistanceMaterial:AS,MeshBasicMaterial:ru,MeshMatcapMaterial:tC,LineDashedMaterial:nC,LineBasicMaterial:Ss,Material:Qa};return new t[e]}}class w1{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class xC extends an{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class vC extends Ps{constructor(e){super(e)}load(e,t,n,s){const o=this,c=new Jl(o.manager);c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(e,function(u){try{t(o.parse(JSON.parse(u)))}catch(h){s?s(h):Kt(h),o.manager.itemError(e)}},n,s)}parse(e){const t={},n={};function s(y,S){if(t[S]!==void 0)return t[S];const M=y.interleavedBuffers[S],_=o(y,M.buffer),C=gh(M.type,_),R=new Hy(C,M.stride);return R.uuid=M.uuid,t[S]=R,R}function o(y,S){if(n[S]!==void 0)return n[S];const M=y.arrayBuffers[S],_=new Uint32Array(M).buffer;return n[S]=_,_}const c=e.isInstancedBufferGeometry?new xC:new an,u=e.data.index;if(u!==void 0){const y=gh(u.type,u.array);c.setIndex(new ei(y,1))}const h=e.data.attributes;for(const y in h){const S=h[y];let E;if(S.isInterleavedBufferAttribute){const M=s(e.data,S.data);E=new Cd(M,S.itemSize,S.offset,S.normalized)}else{const M=gh(S.type,S.array),_=S.isInstancedBufferAttribute?Rh:ei;E=new _(M,S.itemSize,S.normalized)}S.name!==void 0&&(E.name=S.name),S.usage!==void 0&&E.setUsage(S.usage),c.setAttribute(y,E)}const p=e.data.morphAttributes;if(p)for(const y in p){const S=p[y],E=[];for(let M=0,_=S.length;M<_;M++){const C=S[M];let R;if(C.isInterleavedBufferAttribute){const O=s(e.data,C.data);R=new Cd(O,C.itemSize,C.offset,C.normalized)}else{const O=gh(C.type,C.array);R=new ei(O,C.itemSize,C.normalized)}C.name!==void 0&&(R.name=C.name),E.push(R)}c.morphAttributes[y]=E}e.data.morphTargetsRelative&&(c.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let y=0,S=v.length;y!==S;++y){const E=v[y];c.addGroup(E.start,E.count,E.materialIndex)}const b=e.data.boundingSphere;return b!==void 0&&(c.boundingSphere=new Ra().fromJSON(b)),e.name&&(c.name=e.name),e.userData&&(c.userData=e.userData),c}}class Q6 extends Ps{constructor(e){super(e)}load(e,t,n,s){const o=this,c=this.path===""?w1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||c;const u=new Jl(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){let p=null;try{p=JSON.parse(h)}catch(v){s!==void 0&&s(v),v("ObjectLoader: Can't parse "+e+".",v.message);return}const x=p.metadata;if(x===void 0||x.type===void 0||x.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),Kt("ObjectLoader: Can't load "+e);return}o.parse(p,t)},n,s)}async loadAsync(e,t){const n=this,s=this.path===""?w1.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Jl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const c=await o.loadAsync(e,t),u=JSON.parse(c),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(u)}parse(e,t){const n=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,s),c=this.parseImages(e.images,function(){t!==void 0&&t(p)}),u=this.parseTextures(e.textures,c),h=this.parseMaterials(e.materials,u),p=this.parseObject(e.object,o,h,u,n),x=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,x),this.bindLightTargets(p),t!==void 0){let v=!1;for(const b in c)if(c[b].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,n),o=await this.parseImagesAsync(e.images),c=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,c),h=this.parseObject(e.object,s,u,c,t),p=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(e){const t={};if(e!==void 0)for(let n=0,s=e.length;n<s;n++){const o=new wd().fromJSON(e[n]);t[o.uuid]=o}return t}parseSkeletons(e,t){const n={},s={};if(t.traverse(function(o){o.isBone&&(s[o.uuid]=o)}),e!==void 0)for(let o=0,c=e.length;o<c;o++){const u=new jy().fromJSON(e[o],s);n[u.uuid]=u}return n}parseGeometries(e,t){const n={};if(e!==void 0){const s=new vC;for(let o=0,c=e.length;o<c;o++){let u;const h=e[o];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=s.parse(h);break;default:h.type in gM?u=gM[h.type].fromJSON(h,t):yt(`ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),n[h.uuid]=u}}return n}parseMaterials(e,t){const n={},s={};if(e!==void 0){const o=new ab;o.setTextures(t);for(let c=0,u=e.length;c<u;c++){const h=e[c];n[h.uuid]===void 0&&(n[h.uuid]=o.parse(h)),s[h.uuid]=n[h.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const s=e[n],o=v0.parse(s);t[o.uuid]=o}return t}parseImages(e,t){const n=this,s={};let o;function c(h){return n.manager.itemStart(h),o.load(h,function(){n.manager.itemEnd(h)},void 0,function(){n.manager.itemError(h),n.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const p=h,x=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;return c(x)}else return h.data?{data:gh(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new DS(t);o=new y0(h),o.setCrossOrigin(this.crossOrigin);for(let p=0,x=e.length;p<x;p++){const v=e[p],b=v.url;if(Array.isArray(b)){const y=[];for(let S=0,E=b.length;S<E;S++){const M=b[S],_=u(M);_!==null&&(_ instanceof HTMLImageElement?y.push(_):y.push(new ro(_.data,_.width,_.height)))}s[v.uuid]=new Jc(y)}else{const y=u(v.url);s[v.uuid]=new Jc(y)}}}return s}async parseImagesAsync(e){const t=this,n={};let s;async function o(c){if(typeof c=="string"){const u=c,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await s.loadAsync(h)}else return c.data?{data:gh(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){s=new y0(this.manager),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],p=h.url;if(Array.isArray(p)){const x=[];for(let v=0,b=p.length;v<b;v++){const y=p[v],S=await o(y);S!==null&&(S instanceof HTMLImageElement?x.push(S):x.push(new ro(S.data,S.width,S.height)))}n[h.uuid]=new Jc(x)}else{const x=await o(h.url);n[h.uuid]=new Jc(x)}}}return n}parseTextures(e,t){function n(o,c){return typeof o=="number"?o:(yt("ObjectLoader.parseTexture: Constant should be in numeric form.",o),c[o])}const s={};if(e!==void 0)for(let o=0,c=e.length;o<c;o++){const u=e[o];u.image===void 0&&yt('ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&yt("ObjectLoader: Undefined image",u.image);const h=t[u.image],p=h.data;let x;Array.isArray(p)?(x=new D0,p.length===6&&(x.needsUpdate=!0)):(p&&p.data?x=new ro:x=new Oi,p&&(x.needsUpdate=!0)),x.source=h,x.uuid=u.uuid,u.name!==void 0&&(x.name=u.name),u.mapping!==void 0&&(x.mapping=n(u.mapping,$6)),u.channel!==void 0&&(x.channel=u.channel),u.offset!==void 0&&x.offset.fromArray(u.offset),u.repeat!==void 0&&x.repeat.fromArray(u.repeat),u.center!==void 0&&x.center.fromArray(u.center),u.rotation!==void 0&&(x.rotation=u.rotation),u.wrap!==void 0&&(x.wrapS=n(u.wrap[0],bM),x.wrapT=n(u.wrap[1],bM)),u.format!==void 0&&(x.format=u.format),u.internalFormat!==void 0&&(x.internalFormat=u.internalFormat),u.type!==void 0&&(x.type=u.type),u.colorSpace!==void 0&&(x.colorSpace=u.colorSpace),u.minFilter!==void 0&&(x.minFilter=n(u.minFilter,_M)),u.magFilter!==void 0&&(x.magFilter=n(u.magFilter,_M)),u.anisotropy!==void 0&&(x.anisotropy=u.anisotropy),u.flipY!==void 0&&(x.flipY=u.flipY),u.generateMipmaps!==void 0&&(x.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(x.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(x.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(x.compareFunction=u.compareFunction),u.userData!==void 0&&(x.userData=u.userData),s[u.uuid]=x}return s}parseObject(e,t,n,s,o){let c;function u(b){return t[b]===void 0&&yt("ObjectLoader: Undefined geometry",b),t[b]}function h(b){if(b!==void 0){if(Array.isArray(b)){const y=[];for(let S=0,E=b.length;S<E;S++){const M=b[S];n[M]===void 0&&yt("ObjectLoader: Undefined material",M),y.push(n[M])}return y}return n[b]===void 0&&yt("ObjectLoader: Undefined material",b),n[b]}}function p(b){return s[b]===void 0&&yt("ObjectLoader: Undefined texture",b),s[b]}let x,v;switch(e.type){case"Scene":c=new hS,e.background!==void 0&&(Number.isInteger(e.background)?c.background=new bt(e.background):c.background=p(e.background)),e.environment!==void 0&&(c.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?c.fog=new Fy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(c.fog=new ky(e.fog.color,e.fog.density)),e.fog.name!==""&&(c.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(c.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(c.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&c.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(c.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&c.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":c=new Hi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(c.focus=e.focus),e.zoom!==void 0&&(c.zoom=e.zoom),e.filmGauge!==void 0&&(c.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(c.filmOffset=e.filmOffset),e.view!==void 0&&(c.view=Object.assign({},e.view));break;case"OrthographicCamera":c=new $c(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(c.zoom=e.zoom),e.view!==void 0&&(c.view=Object.assign({},e.view));break;case"AmbientLight":c=new hC(e.color,e.intensity);break;case"DirectionalLight":c=new fC(e.color,e.intensity),c.target=e.target||"";break;case"PointLight":c=new dC(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":c=new pC(e.color,e.intensity,e.width,e.height);break;case"SpotLight":c=new uC(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),c.target=e.target||"";break;case"HemisphereLight":c=new cC(e.color,e.groundColor,e.intensity);break;case"LightProbe":c=new gC().fromJSON(e);break;case"SkinnedMesh":x=u(e.geometry),v=h(e.material),c=new DA(x,v),e.bindMode!==void 0&&(c.bindMode=e.bindMode),e.bindMatrix!==void 0&&c.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(c.skeleton=e.skeleton);break;case"Mesh":x=u(e.geometry),v=h(e.material),c=new oa(x,v);break;case"InstancedMesh":x=u(e.geometry),v=h(e.material);const b=e.count,y=e.instanceMatrix,S=e.instanceColor;c=new OA(x,v,b),c.instanceMatrix=new Rh(new Float32Array(y.array),16),S!==void 0&&(c.instanceColor=new Rh(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":x=u(e.geometry),v=h(e.material),c=new UA(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,v),c.geometry=x,c.perObjectFrustumCulled=e.perObjectFrustumCulled,c.sortObjects=e.sortObjects,c._drawRanges=e.drawRanges,c._reservedRanges=e.reservedRanges,c._geometryInfo=e.geometryInfo.map(E=>{let M=null,_=null;return E.boundingBox!==void 0&&(M=new Ja().fromJSON(E.boundingBox)),E.boundingSphere!==void 0&&(_=new Ra().fromJSON(E.boundingSphere)),{...E,boundingBox:M,boundingSphere:_}}),c._instanceInfo=e.instanceInfo,c._availableInstanceIds=e._availableInstanceIds,c._availableGeometryIds=e._availableGeometryIds,c._nextIndexStart=e.nextIndexStart,c._nextVertexStart=e.nextVertexStart,c._geometryCount=e.geometryCount,c._maxInstanceCount=e.maxInstanceCount,c._maxVertexCount=e.maxVertexCount,c._maxIndexCount=e.maxIndexCount,c._geometryInitialized=e.geometryInitialized,c._matricesTexture=p(e.matricesTexture.uuid),c._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(c._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(c.boundingSphere=new Ra().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(c.boundingBox=new Ja().fromJSON(e.boundingBox));break;case"LOD":c=new RA;break;case"Line":c=new au(u(e.geometry),h(e.material));break;case"LineLoop":c=new IA(u(e.geometry),h(e.material));break;case"LineSegments":c=new il(u(e.geometry),h(e.material));break;case"PointCloud":case"Points":c=new LA(u(e.geometry),h(e.material));break;case"Sprite":c=new NA(h(e.material));break;case"Group":c=new xh;break;case"Bone":c=new mS;break;default:c=new Rn}if(c.uuid=e.uuid,e.name!==void 0&&(c.name=e.name),e.matrix!==void 0?(c.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(c.matrixAutoUpdate=e.matrixAutoUpdate),c.matrixAutoUpdate&&c.matrix.decompose(c.position,c.quaternion,c.scale)):(e.position!==void 0&&c.position.fromArray(e.position),e.rotation!==void 0&&c.rotation.fromArray(e.rotation),e.quaternion!==void 0&&c.quaternion.fromArray(e.quaternion),e.scale!==void 0&&c.scale.fromArray(e.scale)),e.up!==void 0&&c.up.fromArray(e.up),e.castShadow!==void 0&&(c.castShadow=e.castShadow),e.receiveShadow!==void 0&&(c.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(c.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(c.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(c.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(c.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&c.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(c.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(c.visible=e.visible),e.frustumCulled!==void 0&&(c.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(c.renderOrder=e.renderOrder),e.userData!==void 0&&(c.userData=e.userData),e.layers!==void 0&&(c.layers.mask=e.layers),e.children!==void 0){const b=e.children;for(let y=0;y<b.length;y++)c.add(this.parseObject(b[y],t,n,s,o))}if(e.animations!==void 0){const b=e.animations;for(let y=0;y<b.length;y++){const S=b[y];c.animations.push(o[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(c.autoUpdate=e.autoUpdate);const b=e.levels;for(let y=0;y<b.length;y++){const S=b[y],E=c.getObjectByProperty("uuid",S.object);E!==void 0&&c.addLevel(E,S.distance,S.hysteresis)}}return c}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const s=t[n.skeleton];s===void 0?yt("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(s,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,s=e.getObjectByProperty("uuid",n);s!==void 0?t.target=s:t.target=new Rn}})}}const $6={UVMapping:Ay,CubeReflectionMapping:Zl,CubeRefractionMapping:tu,EquirectangularReflectionMapping:i0,EquirectangularRefractionMapping:a0,CubeUVReflectionMapping:Fh},bM={RepeatWrapping:s0,ClampToEdgeWrapping:zs,MirroredRepeatWrapping:r0},_M={NearestFilter:Na,NearestMipmapNearestFilter:eS,NearestMipmapLinearFilter:mh,LinearFilter:ji,LinearMipmapNearestFilter:Vm,LinearMipmapLinearFilter:Ko},F_=new WeakMap;class e8 extends Ps{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&yt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&yt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,c=Jo.get(`image-bitmap:${e}`);if(c!==void 0){if(o.manager.itemStart(e),c.then){c.then(p=>{if(F_.has(c)===!0)s&&s(F_.get(c)),o.manager.itemError(e),o.manager.itemEnd(e);else return t&&t(p),o.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(c),o.manager.itemEnd(e)},0),c}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const h=fetch(e,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(p){return Jo.add(`image-bitmap:${e}`,p),t&&t(p),o.manager.itemEnd(e),p}).catch(function(p){s&&s(p),F_.set(h,p),Jo.remove(`image-bitmap:${e}`),o.manager.itemError(e),o.manager.itemEnd(e)});Jo.add(`image-bitmap:${e}`,h),o.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Yx;class US{static getContext(){return Yx===void 0&&(Yx=new(window.AudioContext||window.webkitAudioContext)),Yx}static setContext(e){Yx=e}}class t8 extends Ps{constructor(e){super(e)}load(e,t,n,s){const o=this,c=new Jl(this.manager);c.setResponseType("arraybuffer"),c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(h){try{const p=h.slice(0);US.getContext().decodeAudioData(p,function(v){t(v)}).catch(u)}catch(p){u(p)}},n,s);function u(h){s?s(h):Kt(h),o.manager.itemError(e)}}}const SM=new Wt,EM=new Wt,od=new Wt;class n8{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,od.copy(e.projectionMatrix);const s=t.eyeSep/2,o=s*t.near/t.focus,c=t.near*Math.tan(Td*t.fov*.5)/t.zoom;let u,h;EM.elements[12]=-s,SM.elements[12]=s,u=-c*t.aspect+o,h=c*t.aspect+o,od.elements[0]=2*t.near/(h-u),od.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(od),u=-c*t.aspect-o,h=c*t.aspect-o,od.elements[0]=2*t.near/(h-u),od.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(od)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(EM),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(SM)}}class yC extends Hi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class IS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const ld=new ue,H_=new Ka,i8=new ue,cd=new ue,ud=new ue;class a8 extends Rn{constructor(){super(),this.type="AudioListener",this.context=US.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new IS}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ld,H_,i8),cd.set(0,0,-1).applyQuaternion(H_),ud.set(0,1,0).applyQuaternion(H_),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ld.x,n),t.positionY.linearRampToValueAtTime(ld.y,n),t.positionZ.linearRampToValueAtTime(ld.z,n),t.forwardX.linearRampToValueAtTime(cd.x,n),t.forwardY.linearRampToValueAtTime(cd.y,n),t.forwardZ.linearRampToValueAtTime(cd.z,n),t.upX.linearRampToValueAtTime(ud.x,n),t.upY.linearRampToValueAtTime(ud.y,n),t.upZ.linearRampToValueAtTime(ud.z,n)}else t.setPosition(ld.x,ld.y,ld.z),t.setOrientation(cd.x,cd.y,cd.z,ud.x,ud.y,ud.z)}}class bC extends Rn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){yt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(yt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){yt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(yt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const dd=new ue,MM=new Ka,s8=new ue,fd=new ue;class r8 extends bC{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(dd,MM,s8),fd.set(0,0,1).applyQuaternion(MM);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(dd.x,n),t.positionY.linearRampToValueAtTime(dd.y,n),t.positionZ.linearRampToValueAtTime(dd.z,n),t.orientationX.linearRampToValueAtTime(fd.x,n),t.orientationY.linearRampToValueAtTime(fd.y,n),t.orientationZ.linearRampToValueAtTime(fd.z,n)}else t.setPosition(dd.x,dd.y,dd.z),t.setOrientation(fd.x,fd.y,fd.z)}}class o8{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class _C{constructor(e,t,n){this.binding=e,this.valueSize=n;let s,o,c;switch(t){case"quaternion":s=this._slerp,o=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":s=this._select,o=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:s=this._lerp,o=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=o,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,s=this.valueSize,o=e*s+s;let c=this.cumulativeWeight;if(c===0){for(let u=0;u!==s;++u)n[o+u]=n[u];c=t}else{c+=t;const u=t/c;this._mixBufferRegion(n,o,0,u,s)}this.cumulativeWeight=c}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,s=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,s=e*t+t,o=this.cumulativeWeight,c=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const h=t*this._origIndex;this._mixBufferRegion(n,s,h,1-o,t)}c>0&&this._mixBufferRegionAdditive(n,s,this._addIndex*t,1,t);for(let h=t,p=t+t;h!==p;++h)if(n[h]!==n[h+t]){u.setValue(n,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,s=n*this._origIndex;e.getValue(t,s);for(let o=n,c=s;o!==c;++o)t[o]=t[s+o%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,s,o){if(s>=.5)for(let c=0;c!==o;++c)e[t+c]=e[n+c]}_slerp(e,t,n,s){Ka.slerpFlat(e,t,e,t,e,n,s)}_slerpAdditive(e,t,n,s,o){const c=this._workIndex*o;Ka.multiplyQuaternionsFlat(e,c,e,t,e,n),Ka.slerpFlat(e,t,e,t,e,c,s)}_lerp(e,t,n,s,o){const c=1-s;for(let u=0;u!==o;++u){const h=t+u;e[h]=e[h]*c+e[n+u]*s}}_lerpAdditive(e,t,n,s,o){for(let c=0;c!==o;++c){const u=t+c;e[u]=e[u]+e[n+c]*s}}}const LS="\\[\\]\\.:\\/",l8=new RegExp("["+LS+"]","g"),zS="[^"+LS+"]",c8="[^"+LS.replace("\\.","")+"]",u8=/((?:WC+[\/:])*)/.source.replace("WC",zS),d8=/(WCOD+)?/.source.replace("WCOD",c8),f8=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zS),h8=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zS),p8=new RegExp("^"+u8+d8+f8+h8+"$"),m8=["material","materials","bones","map"];class g8{constructor(e,t,n){const s=n||On.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,s=this._bindings[n];s!==void 0&&s.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let s=this._targetGroup.nCachedObjects_,o=n.length;s!==o;++s)n[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class On{constructor(e,t,n){this.path=t,this.parsedPath=n||On.parseTrackName(t),this.node=On.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new On.Composite(e,t,n):new On(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(l8,"")}static parseTrackName(e){const t=p8.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=n.nodeName&&n.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const o=n.nodeName.substring(s+1);m8.indexOf(o)!==-1&&(n.nodeName=n.nodeName.substring(0,s),n.objectName=o)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(o){for(let c=0;c<o.length;c++){const u=o[c];if(u.name===t||u.uuid===t)return u;const h=n(u.children);if(h)return h}return null},s=n(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)e[t++]=n[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)n[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)n[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)n[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,s=t.propertyName;let o=t.propertyIndex;if(e||(e=On.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){yt("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let p=t.objectIndex;switch(n){case"materials":if(!e.material){Kt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Kt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Kt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let x=0;x<e.length;x++)if(e[x].name===p){p=x;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Kt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Kt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){Kt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(p!==void 0){if(e[p]===void 0){Kt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const c=e[s];if(c===void 0){const p=t.nodeName;Kt("PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(o!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){Kt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Kt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}h=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=o}else c.fromArray!==void 0&&c.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(h=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=s;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}On.Composite=g8;On.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};On.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};On.prototype.GetterByBindingType=[On.prototype._getValue_direct,On.prototype._getValue_array,On.prototype._getValue_arrayElement,On.prototype._getValue_toArray];On.prototype.SetterByBindingTypeAndVersioning=[[On.prototype._setValue_direct,On.prototype._setValue_direct_setNeedsUpdate,On.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[On.prototype._setValue_array,On.prototype._setValue_array_setNeedsUpdate,On.prototype._setValue_array_setMatrixWorldNeedsUpdate],[On.prototype._setValue_arrayElement,On.prototype._setValue_arrayElement_setNeedsUpdate,On.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[On.prototype._setValue_fromArray,On.prototype._setValue_fromArray_setNeedsUpdate,On.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class x8{constructor(){this.isAnimationObjectGroup=!0,this.uuid=tr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,s=arguments.length;n!==s;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,s=this._parsedPaths,o=this._bindings,c=o.length;let u,h=e.length,p=this.nCachedObjects_;for(let x=0,v=arguments.length;x!==v;++x){const b=arguments[x],y=b.uuid;let S=t[y];if(S===void 0){S=h++,t[y]=S,e.push(b);for(let E=0,M=c;E!==M;++E)o[E].push(new On(b,n[E],s[E]))}else if(S<p){u=e[S];const E=--p,M=e[E];t[M.uuid]=S,e[S]=M,t[y]=E,e[E]=b;for(let _=0,C=c;_!==C;++_){const R=o[_],O=R[E];let U=R[S];R[S]=O,U===void 0&&(U=new On(b,n[_],s[_])),R[E]=U}}else e[S]!==u&&Kt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,s=n.length;let o=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const h=arguments[c],p=h.uuid,x=t[p];if(x!==void 0&&x>=o){const v=o++,b=e[v];t[b.uuid]=x,e[x]=b,t[p]=v,e[v]=h;for(let y=0,S=s;y!==S;++y){const E=n[y],M=E[v],_=E[x];E[x]=M,E[v]=_}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,s=n.length;let o=this.nCachedObjects_,c=e.length;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],x=p.uuid,v=t[x];if(v!==void 0)if(delete t[x],v<o){const b=--o,y=e[b],S=--c,E=e[S];t[y.uuid]=v,e[v]=y,t[E.uuid]=b,e[b]=E,e.pop();for(let M=0,_=s;M!==_;++M){const C=n[M],R=C[b],O=C[S];C[v]=R,C[b]=O,C.pop()}}else{const b=--c,y=e[b];b>0&&(t[y.uuid]=v),e[v]=y,e.pop();for(let S=0,E=s;S!==E;++S){const M=n[S];M[v]=M[b],M.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const n=this._bindingsIndicesByPath;let s=n[e];const o=this._bindings;if(s!==void 0)return o[s];const c=this._paths,u=this._parsedPaths,h=this._objects,p=h.length,x=this.nCachedObjects_,v=new Array(p);s=o.length,n[e]=s,c.push(e),u.push(t),o.push(v);for(let b=x,y=h.length;b!==y;++b){const S=h[b];v[b]=new On(S,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const s=this._paths,o=this._parsedPaths,c=this._bindings,u=c.length-1,h=c[u],p=e[u];t[p]=n,c[n]=h,c.pop(),o[n]=o[u],o.pop(),s[n]=s[u],s.pop()}}}class SC{constructor(e,t,n=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=s;const o=t.tracks,c=o.length,u=new Array(c),h={endingStart:_d,endingEnd:_d};for(let p=0;p!==c;++p){const x=o[p].createInterpolant(null);u[p]=x,x.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lA,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const s=this._clip.duration,o=e._clip.duration,c=o/s,u=s/o;e.warp(1,c,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const s=this._mixer,o=s.time,c=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=s._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,p=u.sampleValues;return h[0]=o,h[1]=o+n,p[0]=e/c,p[1]=t/c,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,s){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const h=(e-o)*n;h<0||n===0?t=0:(this._startTime=null,t=n*h)}t*=this._updateTimeScale(e);const c=this._updateTime(t),u=this._updateWeight(e);if(u>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case oS:for(let x=0,v=h.length;x!==v;++x)h[x].evaluate(c),p[x].accumulateAdditive(u);break;case Ly:default:for(let x=0,v=h.length;x!==v;++x)h[x].evaluate(c),p[x].accumulate(s,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const s=n.evaluate(e)[0];t*=s,e>n.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const s=n.evaluate(e)[0];t*=s,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let s=this.time+e,o=this._loopCount;const c=n===cA;if(e===0)return o===-1?s:c&&(o&1)===1?t-s:s;if(n===oA){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,c)):this._setEndings(this.repetitions===0,!0,c)),s>=t||s<0){const u=Math.floor(s/t);s-=t*u,o+=Math.abs(u);const h=this.repetitions-o;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const p=e<0;this._setEndings(p,!p,c)}else this._setEndings(!1,!1,c);this._loopCount=o,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=s;if(c&&(o&1)===1)return t-s}return s}_setEndings(e,t,n){const s=this._interpolantSettings;n?(s.endingStart=Sd,s.endingEnd=Sd):(e?s.endingStart=this.zeroSlopeAtStart?Sd:_d:s.endingStart=l0,t?s.endingEnd=this.zeroSlopeAtEnd?Sd:_d:s.endingEnd=l0)}_scheduleFading(e,t,n){const s=this._mixer,o=s.time;let c=this._weightInterpolant;c===null&&(c=s._lendControlInterpolant(),this._weightInterpolant=c);const u=c.parameterPositions,h=c.sampleValues;return u[0]=o,h[0]=t,u[1]=o+e,h[1]=n,this}}const v8=new Float32Array(1);class y8 extends nl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,s=e._clip.tracks,o=s.length,c=e._propertyBindings,u=e._interpolants,h=n.uuid,p=this._bindingsByRootAndName;let x=p[h];x===void 0&&(x={},p[h]=x);for(let v=0;v!==o;++v){const b=s[v],y=b.name;let S=x[y];if(S!==void 0)++S.referenceCount,c[v]=S;else{if(S=c[v],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,h,y));continue}const E=t&&t._propertyBindings[v].binding.parsedPath;S=new _C(On.create(n,y,E),b.ValueTypeName,b.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,h,y),c[v]=S}u[v].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,s=e._clip.uuid,o=this._actionsByClip[s];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,s,n)}const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const o=t[n];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const o=t[n];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const s=this._actions,o=this._actionsByClip;let c=o[t];if(c===void 0)c={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=c;else{const u=c.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=s.length,s.push(e),c.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],s=e._cacheIndex;n._cacheIndex=s,t[s]=n,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,c=this._actionsByClip,u=c[o],h=u.knownActions,p=h[h.length-1],x=e._byClipCacheIndex;p._byClipCacheIndex=x,h[x]=p,h.pop(),e._byClipCacheIndex=null;const v=u.actionByRoot,b=(e._localRoot||this._root).uuid;delete v[b],h.length===0&&delete c[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const o=t[n];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,s=this._nActiveActions++,o=t[s];e._cacheIndex=s,t[s]=e,o._cacheIndex=n,t[n]=o}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,s=--this._nActiveActions,o=t[s];e._cacheIndex=s,t[s]=e,o._cacheIndex=n,t[n]=o}_addInactiveBinding(e,t,n){const s=this._bindingsByRootAndName,o=this._bindings;let c=s[t];c===void 0&&(c={},s[t]=c),c[n]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,s=n.rootNode.uuid,o=n.path,c=this._bindingsByRootAndName,u=c[s],h=t[t.length-1],p=e._cacheIndex;h._cacheIndex=p,t[p]=h,t.pop(),delete u[o],Object.keys(u).length===0&&delete c[s]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,s=this._nActiveBindings++,o=t[s];e._cacheIndex=s,t[s]=e,o._cacheIndex=n,t[n]=o}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,s=--this._nActiveBindings,o=t[s];e._cacheIndex=s,t[s]=e,o._cacheIndex=n,t[n]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new NS(new Float32Array(2),new Float32Array(2),1,v8),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,s=--this._nActiveControlInterpolants,o=t[s];e.__cacheIndex=s,t[s]=e,o.__cacheIndex=n,t[n]=o}clipAction(e,t,n){const s=t||this._root,o=s.uuid;let c=typeof e=="string"?v0.findByName(s,e):e;const u=c!==null?c.uuid:e,h=this._actionsByClip[u];let p=null;if(n===void 0&&(c!==null?n=c.blendMode:n=Ly),h!==void 0){const v=h.actionByRoot[o];if(v!==void 0&&v.blendMode===n)return v;p=h.knownActions[0],c===null&&(c=p._clip)}if(c===null)return null;const x=new SC(this,c,t,n);return this._bindAction(x,p),this._addInactiveAction(x,u,o),x}existingAction(e,t){const n=t||this._root,s=n.uuid,o=typeof e=="string"?v0.findByName(n,e):e,c=o?o.uuid:e,u=this._actionsByClip[c];return u!==void 0&&u.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,s=this.time+=e,o=Math.sign(e),c=this._accuIndex^=1;for(let p=0;p!==n;++p)t[p]._update(s,e,o,c);const u=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)u[p].apply(c);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,s=this._actionsByClip,o=s[n];if(o!==void 0){const c=o.knownActions;for(let u=0,h=c.length;u!==h;++u){const p=c[u];this._deactivateAction(p);const x=p._cacheIndex,v=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=x,t[x]=v,t.pop(),this._removeInactiveBindingsForAction(p)}delete s[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const c in n){const u=n[c].actionByRoot,h=u[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const s=this._bindingsByRootAndName,o=s[t];if(o!==void 0)for(const c in o){const u=o[c];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class b8 extends uS{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isRenderTarget3D=!0,this.depth=n,this.texture=new By(null,e,t,n),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class BS{constructor(e){this.value=e}clone(){return new BS(this.value.clone===void 0?this.value:this.value.clone())}}let _8=0;class S8 extends nl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_8++}),this.name="",this.usage=u0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,s=t.length;n<s;n++){const o=Array.isArray(t[n])?t[n]:[t[n]];for(let c=0;c<o.length;c++)this.uniforms.push(o[c].clone())}return this}clone(){return new this.constructor().copy(this)}}class E8 extends Hy{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class M8{constructor(e,t,n,s,o,c=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=s,this.count=o,this.normalized=c,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const TM=new Wt;class EC{constructor(e,t,n=0,s=1/0){this.ray=new Od(e,t),this.near=n,this.far=s,this.camera=null,this.layers=new Ch,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Kt("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return TM.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(TM),this}intersectObject(e,t=!0,n=[]){return A1(e,this,n,t),n.sort(wM),n}intersectObjects(e,t=!0,n=[]){for(let s=0,o=e.length;s<o;s++)A1(e[s],this,n,t);return n.sort(wM),n}}function wM(i,e){return i.distance-e.distance}function A1(i,e,t,n){let s=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(s=!1),s===!0&&n===!0){const o=i.children;for(let c=0,u=o.length;c<u;c++)A1(o[c],e,t,!0)}}class T8{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=w8.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function w8(){this._document.hidden===!1&&this.reset()}class dy{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=qt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(qt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class A8{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class PS{constructor(e,t,n,s){PS.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,s){const o=this.elements;return o[0]=e,o[2]=t,o[1]=n,o[3]=s,this}}const AM=new $e;class C8{constructor(e=new $e(1/0,1/0),t=new $e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=AM.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,AM).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const CM=new ue,Xx=new ue,ch=new ue,uh=new ue,j_=new ue,N8=new ue,R8=new ue;class D8{constructor(e=new ue,t=new ue){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){CM.subVectors(e,this.start),Xx.subVectors(this.end,this.start);const n=Xx.dot(Xx);let o=Xx.dot(CM)/n;return t&&(o=qt(o,0,1)),o}closestPointToPoint(e,t,n){const s=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(s).add(this.start)}distanceSqToLine3(e,t=N8,n=R8){const s=10000000000000001e-32;let o,c;const u=this.start,h=e.start,p=this.end,x=e.end;ch.subVectors(p,u),uh.subVectors(x,h),j_.subVectors(u,h);const v=ch.dot(ch),b=uh.dot(uh),y=uh.dot(j_);if(v<=s&&b<=s)return t.copy(u),n.copy(h),t.sub(n),t.dot(t);if(v<=s)o=0,c=y/b,c=qt(c,0,1);else{const S=ch.dot(j_);if(b<=s)c=0,o=qt(-S/v,0,1);else{const E=ch.dot(uh),M=v*b-E*E;M!==0?o=qt((E*y-S*b)/M,0,1):o=0,c=(E*o+y)/b,c<0?(c=0,o=qt(-S/v,0,1)):c>1&&(c=1,o=qt((E-S)/v,0,1))}}return t.copy(u).add(ch.multiplyScalar(o)),n.copy(h).add(uh.multiplyScalar(c)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const NM=new ue;class O8 extends Rn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new an,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,u=1,h=32;c<h;c++,u++){const p=c/h*Math.PI*2,x=u/h*Math.PI*2;s.push(Math.cos(p),Math.sin(p),1,Math.cos(x),Math.sin(x),1)}n.setAttribute("position",new Rt(s,3));const o=new Ss({fog:!1,toneMapped:!1});this.cone=new il(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),NM.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(NM),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Yc=new ue,qx=new Wt,V_=new Wt;class U8 extends il{constructor(e){const t=MC(e),n=new an,s=[],o=[];for(let p=0;p<t.length;p++){const x=t[p];x.parent&&x.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),o.push(0,0,0),o.push(0,0,0))}n.setAttribute("position",new Rt(s,3)),n.setAttribute("color",new Rt(o,3));const c=new Ss({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const u=new bt(255),h=new bt(65280);this.setColors(u,h)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,s=n.getAttribute("position");V_.copy(this.root.matrixWorld).invert();for(let o=0,c=0;o<t.length;o++){const u=t[o];u.parent&&u.parent.isBone&&(qx.multiplyMatrices(V_,u.matrixWorld),Yc.setFromMatrixPosition(qx),s.setXYZ(c,Yc.x,Yc.y,Yc.z),qx.multiplyMatrices(V_,u.parent.matrixWorld),Yc.setFromMatrixPosition(qx),s.setXYZ(c+1,Yc.x,Yc.y,Yc.z),c+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const s=this.geometry.getAttribute("color");for(let o=0;o<s.count;o+=2)s.setXYZ(o,e.r,e.g,e.b),s.setXYZ(o+1,t.r,t.g,t.b);return s.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function MC(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...MC(i.children[t]));return e}class I8 extends oa{constructor(e,t,n){const s=new L0(t,4,2),o=new ru({wireframe:!0,fog:!1,toneMapped:!1});super(s,o),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const L8=new ue,RM=new bt,DM=new bt;class z8 extends Rn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const s=new I0(t);s.rotateY(Math.PI*.5),this.material=new ru({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=s.getAttribute("position"),c=new Float32Array(o.count*3);s.setAttribute("color",new ei(c,3)),this.add(new oa(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");RM.copy(this.light.color),DM.copy(this.light.groundColor);for(let n=0,s=t.count;n<s;n++){const o=n<s/2?RM:DM;t.setXYZ(n,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(L8.setFromMatrixPosition(this.light.matrixWorld).negate())}}class B8 extends il{constructor(e=10,t=10,n=4473924,s=8947848){n=new bt(n),s=new bt(s);const o=t/2,c=e/t,u=e/2,h=[],p=[];for(let b=0,y=0,S=-u;b<=t;b++,S+=c){h.push(-u,0,S,u,0,S),h.push(S,0,-u,S,0,u);const E=b===o?n:s;E.toArray(p,y),y+=3,E.toArray(p,y),y+=3,E.toArray(p,y),y+=3,E.toArray(p,y),y+=3}const x=new an;x.setAttribute("position",new Rt(h,3)),x.setAttribute("color",new Rt(p,3));const v=new Ss({vertexColors:!0,toneMapped:!1});super(x,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class P8 extends il{constructor(e=10,t=16,n=8,s=64,o=4473924,c=8947848){o=new bt(o),c=new bt(c);const u=[],h=[];if(t>1)for(let v=0;v<t;v++){const b=v/t*(Math.PI*2),y=Math.sin(b)*e,S=Math.cos(b)*e;u.push(0,0,0),u.push(y,0,S);const E=v&1?o:c;h.push(E.r,E.g,E.b),h.push(E.r,E.g,E.b)}for(let v=0;v<n;v++){const b=v&1?o:c,y=e-e/n*v;for(let S=0;S<s;S++){let E=S/s*(Math.PI*2),M=Math.sin(E)*y,_=Math.cos(E)*y;u.push(M,0,_),h.push(b.r,b.g,b.b),E=(S+1)/s*(Math.PI*2),M=Math.sin(E)*y,_=Math.cos(E)*y,u.push(M,0,_),h.push(b.r,b.g,b.b)}}const p=new an;p.setAttribute("position",new Rt(u,3)),p.setAttribute("color",new Rt(h,3));const x=new Ss({vertexColors:!0,toneMapped:!1});super(p,x),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const OM=new ue,Wx=new ue,UM=new ue;class k8 extends Rn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new an;s.setAttribute("position",new Rt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new Ss({fog:!1,toneMapped:!1});this.lightPlane=new au(s,o),this.add(this.lightPlane),s=new an,s.setAttribute("position",new Rt([0,0,0,0,0,1],3)),this.targetLine=new au(s,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),OM.setFromMatrixPosition(this.light.matrixWorld),Wx.setFromMatrixPosition(this.light.target.matrixWorld),UM.subVectors(Wx,OM),this.lightPlane.lookAt(Wx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Wx),this.targetLine.scale.z=UM.length()}}const Zx=new ue,Di=new Py;class F8 extends il{constructor(e){const t=new an,n=new Ss({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],o=[],c={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(S,E){h(S),h(E)}function h(S){s.push(0,0,0),o.push(0,0,0),c[S]===void 0&&(c[S]=[]),c[S].push(s.length/3-1)}t.setAttribute("position",new Rt(s,3)),t.setAttribute("color",new Rt(o,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update();const p=new bt(16755200),x=new bt(16711680),v=new bt(43775),b=new bt(16777215),y=new bt(3355443);this.setColors(p,x,v,b,y)}setColors(e,t,n,s,o){const u=this.geometry.getAttribute("color");return u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,n.r,n.g,n.b),u.setXYZ(33,n.r,n.g,n.b),u.setXYZ(34,n.r,n.g,n.b),u.setXYZ(35,n.r,n.g,n.b),u.setXYZ(36,n.r,n.g,n.b),u.setXYZ(37,n.r,n.g,n.b),u.setXYZ(38,s.r,s.g,s.b),u.setXYZ(39,s.r,s.g,s.b),u.setXYZ(40,o.r,o.g,o.b),u.setXYZ(41,o.r,o.g,o.b),u.setXYZ(42,o.r,o.g,o.b),u.setXYZ(43,o.r,o.g,o.b),u.setXYZ(44,o.r,o.g,o.b),u.setXYZ(45,o.r,o.g,o.b),u.setXYZ(46,o.r,o.g,o.b),u.setXYZ(47,o.r,o.g,o.b),u.setXYZ(48,o.r,o.g,o.b),u.setXYZ(49,o.r,o.g,o.b),u.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,s=1;let o,c;if(Di.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)o=1,c=0;else if(this.camera.coordinateSystem===er)o=-1,c=1;else if(this.camera.coordinateSystem===Th)o=0,c=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Fi("c",t,e,Di,0,0,o),Fi("t",t,e,Di,0,0,c),Fi("n1",t,e,Di,-n,-s,o),Fi("n2",t,e,Di,n,-s,o),Fi("n3",t,e,Di,-n,s,o),Fi("n4",t,e,Di,n,s,o),Fi("f1",t,e,Di,-n,-s,c),Fi("f2",t,e,Di,n,-s,c),Fi("f3",t,e,Di,-n,s,c),Fi("f4",t,e,Di,n,s,c),Fi("u1",t,e,Di,n*.7,s*1.1,o),Fi("u2",t,e,Di,-n*.7,s*1.1,o),Fi("u3",t,e,Di,0,s*2,o),Fi("cf1",t,e,Di,-n,0,c),Fi("cf2",t,e,Di,n,0,c),Fi("cf3",t,e,Di,0,-s,c),Fi("cf4",t,e,Di,0,s,c),Fi("cn1",t,e,Di,-n,0,o),Fi("cn2",t,e,Di,n,0,o),Fi("cn3",t,e,Di,0,-s,o),Fi("cn4",t,e,Di,0,s,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fi(i,e,t,n,s,o,c){Zx.set(s,o,c).unproject(n);const u=e[i];if(u!==void 0){const h=t.getAttribute("position");for(let p=0,x=u.length;p<x;p++)h.setXYZ(u[p],Zx.x,Zx.y,Zx.z)}}const Kx=new Ja;class H8 extends il{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(24),o=new an;o.setIndex(new ei(n,1)),o.setAttribute("position",new ei(s,3)),super(o,new Ss({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Kx.setFromObject(this.object),Kx.isEmpty())return;const e=Kx.min,t=Kx.max,n=this.geometry.attributes.position,s=n.array;s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=e.x,s[4]=t.y,s[5]=t.z,s[6]=e.x,s[7]=e.y,s[8]=t.z,s[9]=t.x,s[10]=e.y,s[11]=t.z,s[12]=t.x,s[13]=t.y,s[14]=e.z,s[15]=e.x,s[16]=t.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=t.x,s[22]=e.y,s[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class j8 extends il{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new an;o.setIndex(new ei(n,1)),o.setAttribute("position",new Rt(s,3)),super(o,new Ss({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class V8 extends au{constructor(e,t=1,n=16776960){const s=n,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],c=new an;c.setAttribute("position",new Rt(o,3)),c.computeBoundingSphere(),super(c,new Ss({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new an;h.setAttribute("position",new Rt(u,3)),h.computeBoundingSphere(),this.add(new oa(h,new ru({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const IM=new ue;let Jx,G_;class G8 extends Rn{constructor(e=new ue(0,0,1),t=new ue(0,0,0),n=1,s=16776960,o=n*.2,c=o*.2){super(),this.type="ArrowHelper",Jx===void 0&&(Jx=new an,Jx.setAttribute("position",new Rt([0,0,0,0,1,0],3)),G_=new U0(.5,1,5,1),G_.translate(0,-.5,0)),this.position.copy(t),this.line=new au(Jx,new Ss({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new oa(G_,new ru({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,o,c)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{IM.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(IM,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Y8 extends il{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new an;s.setAttribute("position",new Rt(t,3)),s.setAttribute("color",new Rt(n,3));const o=new Ss({vertexColors:!0,toneMapped:!1});super(s,o),this.type="AxesHelper"}setColors(e,t,n){const s=new bt,o=this.geometry.attributes.color.array;return s.set(e),s.toArray(o,0),s.toArray(o,3),s.set(t),s.toArray(o,6),s.toArray(o,9),s.set(n),s.toArray(o,12),s.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class X8{constructor(){this.type="ShapePath",this.color=new bt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new uy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,s){return this.currentPath.quadraticCurveTo(e,t,n,s),this}bezierCurveTo(e,t,n,s,o,c){return this.currentPath.bezierCurveTo(e,t,n,s,o,c),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const C=[];for(let R=0,O=_.length;R<O;R++){const U=_[R],I=new wd;I.curves=U.curves,C.push(I)}return C}function n(_,C){const R=C.length;let O=!1;for(let U=R-1,I=0;I<R;U=I++){let F=C[U],j=C[I],B=j.x-F.x,k=j.y-F.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(F=C[I],B=-B,j=C[U],k=-k),_.y<F.y||_.y>j.y)continue;if(_.y===F.y){if(_.x===F.x)return!0}else{const J=k*(_.x-F.x)-B*(_.y-F.y);if(J===0)return!0;if(J<0)continue;O=!O}}else{if(_.y!==F.y)continue;if(j.x<=_.x&&_.x<=F.x||F.x<=_.x&&_.x<=j.x)return!0}}return O}const s=so.isClockWise,o=this.subPaths;if(o.length===0)return[];let c,u,h;const p=[];if(o.length===1)return u=o[0],h=new wd,h.curves=u.curves,p.push(h),p;let x=!s(o[0].getPoints());x=e?!x:x;const v=[],b=[];let y=[],S=0,E;b[S]=void 0,y[S]=[];for(let _=0,C=o.length;_<C;_++)u=o[_],E=u.getPoints(),c=s(E),c=e?!c:c,c?(!x&&b[S]&&S++,b[S]={s:new wd,p:E},b[S].s.curves=u.curves,x&&S++,y[S]=[]):y[S].push({h:u,p:E[0]});if(!b[0])return t(o);if(b.length>1){let _=!1,C=0;for(let R=0,O=b.length;R<O;R++)v[R]=[];for(let R=0,O=b.length;R<O;R++){const U=y[R];for(let I=0;I<U.length;I++){const F=U[I];let j=!0;for(let B=0;B<b.length;B++)n(F.p,b[B].p)&&(R!==B&&C++,j?(j=!1,v[B].push(F)):_=!0);j&&v[R].push(F)}}C>0&&_===!1&&(y=v)}let M;for(let _=0,C=b.length;_<C;_++){h=b[_].s,p.push(h),M=y[_];for(let R=0,O=M.length;R<O;R++)h.holes.push(M[R].h)}return p}}class q8 extends nl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){yt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function W8(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function Z8(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function K8(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function C1(i,e,t,n){const s=J8(n);switch(t){case sS:return i*e;case Dy:return i*e/s.components*s.byteLength;case R0:return i*e/s.components*s.byteLength;case Oy:return i*e*2/s.components*s.byteLength;case Uy:return i*e*2/s.components*s.byteLength;case rS:return i*e*3/s.components*s.byteLength;case Za:return i*e*4/s.components*s.byteLength;case Iy:return i*e*4/s.components*s.byteLength;case Gm:case Ym:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Xm:case qm:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Uv:case Lv:return Math.max(i,16)*Math.max(e,8)/4;case Ov:case Iv:return Math.max(i,8)*Math.max(e,8)/2;case zv:case Bv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Pv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case kv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Fv:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case Hv:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case jv:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case Vv:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case Gv:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case Yv:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case Xv:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case qv:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case Wv:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case Zv:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case Kv:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case Jv:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case Qv:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case $v:case ey:case ty:return Math.ceil(i/4)*Math.ceil(e/4)*16;case ny:case iy:return Math.ceil(i/4)*Math.ceil(e/4)*8;case ay:case sy:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function J8(i){switch(i){case Ar:case tS:return{byteLength:1,components:1};case _h:case nS:case Dd:return{byteLength:2,components:1};case Ny:case Ry:return{byteLength:2,components:4};case Kl:case Cy:case Bs:return{byteLength:4,components:1};case iS:case aS:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class Q8{static contain(e,t){return W8(e,t)}static cover(e,t){return Z8(e,t)}static fill(e){return K8(e)}static getByteLength(e,t,n,s){return C1(e,t,n,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:C0}}));typeof window<"u"&&(window.__THREE__?yt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=C0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function TC(){let i=null,e=!1,t=null,n=null;function s(o,c){t(o,c),n=i.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(s),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){i=o}}}function $8(i){const e=new WeakMap;function t(u,h){const p=u.array,x=u.usage,v=p.byteLength,b=i.createBuffer();i.bindBuffer(h,b),i.bufferData(h,p,x),u.onUploadCallback();let y;if(p instanceof Float32Array)y=i.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)y=i.HALF_FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?y=i.HALF_FLOAT:y=i.UNSIGNED_SHORT;else if(p instanceof Int16Array)y=i.SHORT;else if(p instanceof Uint32Array)y=i.UNSIGNED_INT;else if(p instanceof Int32Array)y=i.INT;else if(p instanceof Int8Array)y=i.BYTE;else if(p instanceof Uint8Array)y=i.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)y=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:b,type:y,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:v}}function n(u,h,p){const x=h.array,v=h.updateRanges;if(i.bindBuffer(p,u),v.length===0)i.bufferSubData(p,0,x);else{v.sort((y,S)=>y.start-S.start);let b=0;for(let y=1;y<v.length;y++){const S=v[b],E=v[y];E.start<=S.start+S.count+1?S.count=Math.max(S.count,E.start+E.count-S.start):(++b,v[b]=E)}v.length=b+1;for(let y=0,S=v.length;y<S;y++){const E=v[y];i.bufferSubData(p,E.start*x.BYTES_PER_ELEMENT,x,E.start,E.count)}h.clearUpdateRanges()}h.onUploadCallback()}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function o(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=e.get(u);h&&(i.deleteBuffer(h.buffer),e.delete(u))}function c(u,h){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const x=e.get(u);(!x||x.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=e.get(u);if(p===void 0)e.set(u,t(u,h));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(p.buffer,u,h),p.version=u.version}}return{get:s,remove:o,update:c}}var eB=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,tB=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,nB=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,iB=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aB=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,sB=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,rB=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,oB=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,lB=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,cB=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,uB=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,dB=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fB=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,hB=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,pB=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,mB=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,gB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xB=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vB=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,yB=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,bB=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,_B=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,SB=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,EB=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,MB=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,TB=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,wB=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,AB=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,CB=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,NB=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,RB="gl_FragColor = linearToOutputTexel( gl_FragColor );",DB=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,OB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,UB=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,IB=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,LB=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,zB=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,BB=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,PB=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,kB=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,FB=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,HB=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,jB=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,VB=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,GB=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,YB=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,XB=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,qB=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,WB=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ZB=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,KB=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,JB=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,QB=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$B=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eP=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tP=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,nP=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,iP=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,aP=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,sP=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,rP=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,oP=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lP=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,cP=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uP=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,dP=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,fP=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,hP=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,pP=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,mP=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,gP=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,xP=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,vP=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yP=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bP=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_P=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,SP=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,EP=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,MP=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,TP=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,wP=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,AP=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,CP=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,NP=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,RP=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,DP=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,OP=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,UP=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,IP=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,LP=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,zP=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,BP=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,PP=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,kP=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,FP=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,HP=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,jP=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,VP=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,GP=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,YP=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,XP=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,qP=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,WP=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ZP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,KP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,JP=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,QP=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $P=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ek=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nk=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ik=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ak=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sk=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rk=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,ok=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,lk=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ck=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uk=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dk=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fk=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hk=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,pk=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mk=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gk=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xk=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,vk=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yk=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,bk=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,_k=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sk=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ek=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Mk=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tk=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wk=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ak=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Ck=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Nk=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Rk=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dk=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ok=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,cn={alphahash_fragment:eB,alphahash_pars_fragment:tB,alphamap_fragment:nB,alphamap_pars_fragment:iB,alphatest_fragment:aB,alphatest_pars_fragment:sB,aomap_fragment:rB,aomap_pars_fragment:oB,batching_pars_vertex:lB,batching_vertex:cB,begin_vertex:uB,beginnormal_vertex:dB,bsdfs:fB,iridescence_fragment:hB,bumpmap_pars_fragment:pB,clipping_planes_fragment:mB,clipping_planes_pars_fragment:gB,clipping_planes_pars_vertex:xB,clipping_planes_vertex:vB,color_fragment:yB,color_pars_fragment:bB,color_pars_vertex:_B,color_vertex:SB,common:EB,cube_uv_reflection_fragment:MB,defaultnormal_vertex:TB,displacementmap_pars_vertex:wB,displacementmap_vertex:AB,emissivemap_fragment:CB,emissivemap_pars_fragment:NB,colorspace_fragment:RB,colorspace_pars_fragment:DB,envmap_fragment:OB,envmap_common_pars_fragment:UB,envmap_pars_fragment:IB,envmap_pars_vertex:LB,envmap_physical_pars_fragment:XB,envmap_vertex:zB,fog_vertex:BB,fog_pars_vertex:PB,fog_fragment:kB,fog_pars_fragment:FB,gradientmap_pars_fragment:HB,lightmap_pars_fragment:jB,lights_lambert_fragment:VB,lights_lambert_pars_fragment:GB,lights_pars_begin:YB,lights_toon_fragment:qB,lights_toon_pars_fragment:WB,lights_phong_fragment:ZB,lights_phong_pars_fragment:KB,lights_physical_fragment:JB,lights_physical_pars_fragment:QB,lights_fragment_begin:$B,lights_fragment_maps:eP,lights_fragment_end:tP,logdepthbuf_fragment:nP,logdepthbuf_pars_fragment:iP,logdepthbuf_pars_vertex:aP,logdepthbuf_vertex:sP,map_fragment:rP,map_pars_fragment:oP,map_particle_fragment:lP,map_particle_pars_fragment:cP,metalnessmap_fragment:uP,metalnessmap_pars_fragment:dP,morphinstance_vertex:fP,morphcolor_vertex:hP,morphnormal_vertex:pP,morphtarget_pars_vertex:mP,morphtarget_vertex:gP,normal_fragment_begin:xP,normal_fragment_maps:vP,normal_pars_fragment:yP,normal_pars_vertex:bP,normal_vertex:_P,normalmap_pars_fragment:SP,clearcoat_normal_fragment_begin:EP,clearcoat_normal_fragment_maps:MP,clearcoat_pars_fragment:TP,iridescence_pars_fragment:wP,opaque_fragment:AP,packing:CP,premultiplied_alpha_fragment:NP,project_vertex:RP,dithering_fragment:DP,dithering_pars_fragment:OP,roughnessmap_fragment:UP,roughnessmap_pars_fragment:IP,shadowmap_pars_fragment:LP,shadowmap_pars_vertex:zP,shadowmap_vertex:BP,shadowmask_pars_fragment:PP,skinbase_vertex:kP,skinning_pars_vertex:FP,skinning_vertex:HP,skinnormal_vertex:jP,specularmap_fragment:VP,specularmap_pars_fragment:GP,tonemapping_fragment:YP,tonemapping_pars_fragment:XP,transmission_fragment:qP,transmission_pars_fragment:WP,uv_pars_fragment:ZP,uv_pars_vertex:KP,uv_vertex:JP,worldpos_vertex:QP,background_vert:$P,background_frag:ek,backgroundCube_vert:tk,backgroundCube_frag:nk,cube_vert:ik,cube_frag:ak,depth_vert:sk,depth_frag:rk,distanceRGBA_vert:ok,distanceRGBA_frag:lk,equirect_vert:ck,equirect_frag:uk,linedashed_vert:dk,linedashed_frag:fk,meshbasic_vert:hk,meshbasic_frag:pk,meshlambert_vert:mk,meshlambert_frag:gk,meshmatcap_vert:xk,meshmatcap_frag:vk,meshnormal_vert:yk,meshnormal_frag:bk,meshphong_vert:_k,meshphong_frag:Sk,meshphysical_vert:Ek,meshphysical_frag:Mk,meshtoon_vert:Tk,meshtoon_frag:wk,points_vert:Ak,points_frag:Ck,shadow_vert:Nk,shadow_frag:Rk,sprite_vert:Dk,sprite_frag:Ok},vt={common:{diffuse:{value:new bt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nn}},envmap:{envMap:{value:null},envMapRotation:{value:new nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nn},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0},uvTransform:{value:new nn}},sprite:{diffuse:{value:new bt(16777215)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}}},ao={basic:{uniforms:xs([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.fog]),vertexShader:cn.meshbasic_vert,fragmentShader:cn.meshbasic_frag},lambert:{uniforms:xs([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,vt.lights,{emissive:{value:new bt(0)}}]),vertexShader:cn.meshlambert_vert,fragmentShader:cn.meshlambert_frag},phong:{uniforms:xs([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,vt.lights,{emissive:{value:new bt(0)},specular:{value:new bt(1118481)},shininess:{value:30}}]),vertexShader:cn.meshphong_vert,fragmentShader:cn.meshphong_frag},standard:{uniforms:xs([vt.common,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.roughnessmap,vt.metalnessmap,vt.fog,vt.lights,{emissive:{value:new bt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag},toon:{uniforms:xs([vt.common,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.gradientmap,vt.fog,vt.lights,{emissive:{value:new bt(0)}}]),vertexShader:cn.meshtoon_vert,fragmentShader:cn.meshtoon_frag},matcap:{uniforms:xs([vt.common,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,{matcap:{value:null}}]),vertexShader:cn.meshmatcap_vert,fragmentShader:cn.meshmatcap_frag},points:{uniforms:xs([vt.points,vt.fog]),vertexShader:cn.points_vert,fragmentShader:cn.points_frag},dashed:{uniforms:xs([vt.common,vt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cn.linedashed_vert,fragmentShader:cn.linedashed_frag},depth:{uniforms:xs([vt.common,vt.displacementmap]),vertexShader:cn.depth_vert,fragmentShader:cn.depth_frag},normal:{uniforms:xs([vt.common,vt.bumpmap,vt.normalmap,vt.displacementmap,{opacity:{value:1}}]),vertexShader:cn.meshnormal_vert,fragmentShader:cn.meshnormal_frag},sprite:{uniforms:xs([vt.sprite,vt.fog]),vertexShader:cn.sprite_vert,fragmentShader:cn.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:cn.background_vert,fragmentShader:cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new nn}},vertexShader:cn.backgroundCube_vert,fragmentShader:cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:cn.cube_vert,fragmentShader:cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cn.equirect_vert,fragmentShader:cn.equirect_frag},distanceRGBA:{uniforms:xs([vt.common,vt.displacementmap,{referencePosition:{value:new ue},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cn.distanceRGBA_vert,fragmentShader:cn.distanceRGBA_frag},shadow:{uniforms:xs([vt.lights,vt.fog,{color:{value:new bt(0)},opacity:{value:1}}]),vertexShader:cn.shadow_vert,fragmentShader:cn.shadow_frag}};ao.physical={uniforms:xs([ao.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nn},clearcoatNormalScale:{value:new $e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nn},sheen:{value:0},sheenColor:{value:new bt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new nn},transmissionSamplerSize:{value:new $e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nn},attenuationDistance:{value:0},attenuationColor:{value:new bt(0)},specularColor:{value:new bt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nn},anisotropyVector:{value:new $e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nn}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag};const Qx={r:0,b:0,g:0},hd=new nr,Uk=new Wt;function Ik(i,e,t,n,s,o,c){const u=new bt(0);let h=o===!0?0:1,p,x,v=null,b=0,y=null;function S(R){let O=R.isScene===!0?R.background:null;return O&&O.isTexture&&(O=(R.backgroundBlurriness>0?t:e).get(O)),O}function E(R){let O=!1;const U=S(R);U===null?_(u,h):U&&U.isColor&&(_(U,1),O=!0);const I=i.xr.getEnvironmentBlendMode();I==="additive"?n.buffers.color.setClear(0,0,0,1,c):I==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,c),(i.autoClear||O)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function M(R,O){const U=S(O);U&&(U.isCubeTexture||U.mapping===Fh)?(x===void 0&&(x=new oa(new Ud(1,1,1),new ir({name:"BackgroundCubeMaterial",uniforms:Nh(ao.backgroundCube.uniforms),vertexShader:ao.backgroundCube.vertexShader,fragmentShader:ao.backgroundCube.fragmentShader,side:ys,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),x.geometry.deleteAttribute("normal"),x.geometry.deleteAttribute("uv"),x.onBeforeRender=function(I,F,j){this.matrixWorld.copyPosition(j.matrixWorld)},Object.defineProperty(x.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(x)),hd.copy(O.backgroundRotation),hd.x*=-1,hd.y*=-1,hd.z*=-1,U.isCubeTexture&&U.isRenderTargetTexture===!1&&(hd.y*=-1,hd.z*=-1),x.material.uniforms.envMap.value=U,x.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,x.material.uniforms.backgroundBlurriness.value=O.backgroundBlurriness,x.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,x.material.uniforms.backgroundRotation.value.setFromMatrix4(Uk.makeRotationFromEuler(hd)),x.material.toneMapped=Nn.getTransfer(U.colorSpace)!==Wn,(v!==U||b!==U.version||y!==i.toneMapping)&&(x.material.needsUpdate=!0,v=U,b=U.version,y=i.toneMapping),x.layers.enableAll(),R.unshift(x,x.geometry,x.material,0,0,null)):U&&U.isTexture&&(p===void 0&&(p=new oa(new jh(2,2),new ir({name:"BackgroundMaterial",uniforms:Nh(ao.background.uniforms),vertexShader:ao.background.vertexShader,fragmentShader:ao.background.fragmentShader,side:Wl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(p)),p.material.uniforms.t2D.value=U,p.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,p.material.toneMapped=Nn.getTransfer(U.colorSpace)!==Wn,U.matrixAutoUpdate===!0&&U.updateMatrix(),p.material.uniforms.uvTransform.value.copy(U.matrix),(v!==U||b!==U.version||y!==i.toneMapping)&&(p.material.needsUpdate=!0,v=U,b=U.version,y=i.toneMapping),p.layers.enableAll(),R.unshift(p,p.geometry,p.material,0,0,null))}function _(R,O){R.getRGB(Qx,MA(i)),n.buffers.color.setClear(Qx.r,Qx.g,Qx.b,O,c)}function C(){x!==void 0&&(x.geometry.dispose(),x.material.dispose(),x=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(R,O=1){u.set(R),h=O,_(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(R){h=R,_(u,h)},render:E,addToRenderList:M,dispose:C}}function Lk(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},s=b(null);let o=s,c=!1;function u(k,J,Y,Z,L){let re=!1;const q=v(Z,Y,J);o!==q&&(o=q,p(o.object)),re=y(k,Z,Y,L),re&&S(k,Z,Y,L),L!==null&&e.update(L,i.ELEMENT_ARRAY_BUFFER),(re||c)&&(c=!1,O(k,J,Y,Z),L!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(L).buffer))}function h(){return i.createVertexArray()}function p(k){return i.bindVertexArray(k)}function x(k){return i.deleteVertexArray(k)}function v(k,J,Y){const Z=Y.wireframe===!0;let L=n[k.id];L===void 0&&(L={},n[k.id]=L);let re=L[J.id];re===void 0&&(re={},L[J.id]=re);let q=re[Z];return q===void 0&&(q=b(h()),re[Z]=q),q}function b(k){const J=[],Y=[],Z=[];for(let L=0;L<t;L++)J[L]=0,Y[L]=0,Z[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:Y,attributeDivisors:Z,object:k,attributes:{},index:null}}function y(k,J,Y,Z){const L=o.attributes,re=J.attributes;let q=0;const W=Y.getAttributes();for(const te in W)if(W[te].location>=0){const Se=L[te];let G=re[te];if(G===void 0&&(te==="instanceMatrix"&&k.instanceMatrix&&(G=k.instanceMatrix),te==="instanceColor"&&k.instanceColor&&(G=k.instanceColor)),Se===void 0||Se.attribute!==G||G&&Se.data!==G.data)return!0;q++}return o.attributesNum!==q||o.index!==Z}function S(k,J,Y,Z){const L={},re=J.attributes;let q=0;const W=Y.getAttributes();for(const te in W)if(W[te].location>=0){let Se=re[te];Se===void 0&&(te==="instanceMatrix"&&k.instanceMatrix&&(Se=k.instanceMatrix),te==="instanceColor"&&k.instanceColor&&(Se=k.instanceColor));const G={};G.attribute=Se,Se&&Se.data&&(G.data=Se.data),L[te]=G,q++}o.attributes=L,o.attributesNum=q,o.index=Z}function E(){const k=o.newAttributes;for(let J=0,Y=k.length;J<Y;J++)k[J]=0}function M(k){_(k,0)}function _(k,J){const Y=o.newAttributes,Z=o.enabledAttributes,L=o.attributeDivisors;Y[k]=1,Z[k]===0&&(i.enableVertexAttribArray(k),Z[k]=1),L[k]!==J&&(i.vertexAttribDivisor(k,J),L[k]=J)}function C(){const k=o.newAttributes,J=o.enabledAttributes;for(let Y=0,Z=J.length;Y<Z;Y++)J[Y]!==k[Y]&&(i.disableVertexAttribArray(Y),J[Y]=0)}function R(k,J,Y,Z,L,re,q){q===!0?i.vertexAttribIPointer(k,J,Y,L,re):i.vertexAttribPointer(k,J,Y,Z,L,re)}function O(k,J,Y,Z){E();const L=Z.attributes,re=Y.getAttributes(),q=J.defaultAttributeValues;for(const W in re){const te=re[W];if(te.location>=0){let oe=L[W];if(oe===void 0&&(W==="instanceMatrix"&&k.instanceMatrix&&(oe=k.instanceMatrix),W==="instanceColor"&&k.instanceColor&&(oe=k.instanceColor)),oe!==void 0){const Se=oe.normalized,G=oe.itemSize,$=e.get(oe);if($===void 0)continue;const se=$.buffer,de=$.type,xe=$.bytesPerElement,ge=de===i.INT||de===i.UNSIGNED_INT||oe.gpuType===Cy;if(oe.isInterleavedBufferAttribute){const _e=oe.data,Le=_e.stride,Ye=oe.offset;if(_e.isInstancedInterleavedBuffer){for(let qe=0;qe<te.locationSize;qe++)_(te.location+qe,_e.meshPerAttribute);k.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let qe=0;qe<te.locationSize;qe++)M(te.location+qe);i.bindBuffer(i.ARRAY_BUFFER,se);for(let qe=0;qe<te.locationSize;qe++)R(te.location+qe,G/te.locationSize,de,Se,Le*xe,(Ye+G/te.locationSize*qe)*xe,ge)}else{if(oe.isInstancedBufferAttribute){for(let _e=0;_e<te.locationSize;_e++)_(te.location+_e,oe.meshPerAttribute);k.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let _e=0;_e<te.locationSize;_e++)M(te.location+_e);i.bindBuffer(i.ARRAY_BUFFER,se);for(let _e=0;_e<te.locationSize;_e++)R(te.location+_e,G/te.locationSize,de,Se,G*xe,G/te.locationSize*_e*xe,ge)}}else if(q!==void 0){const Se=q[W];if(Se!==void 0)switch(Se.length){case 2:i.vertexAttrib2fv(te.location,Se);break;case 3:i.vertexAttrib3fv(te.location,Se);break;case 4:i.vertexAttrib4fv(te.location,Se);break;default:i.vertexAttrib1fv(te.location,Se)}}}}C()}function U(){j();for(const k in n){const J=n[k];for(const Y in J){const Z=J[Y];for(const L in Z)x(Z[L].object),delete Z[L];delete J[Y]}delete n[k]}}function I(k){if(n[k.id]===void 0)return;const J=n[k.id];for(const Y in J){const Z=J[Y];for(const L in Z)x(Z[L].object),delete Z[L];delete J[Y]}delete n[k.id]}function F(k){for(const J in n){const Y=n[J];if(Y[k.id]===void 0)continue;const Z=Y[k.id];for(const L in Z)x(Z[L].object),delete Z[L];delete Y[k.id]}}function j(){B(),c=!0,o!==s&&(o=s,p(o.object))}function B(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:u,reset:j,resetDefaultState:B,dispose:U,releaseStatesOfGeometry:I,releaseStatesOfProgram:F,initAttributes:E,enableAttribute:M,disableUnusedAttributes:C}}function zk(i,e,t){let n;function s(p){n=p}function o(p,x){i.drawArrays(n,p,x),t.update(x,n,1)}function c(p,x,v){v!==0&&(i.drawArraysInstanced(n,p,x,v),t.update(x,n,v))}function u(p,x,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,p,0,x,0,v);let y=0;for(let S=0;S<v;S++)y+=x[S];t.update(y,n,1)}function h(p,x,v,b){if(v===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let S=0;S<p.length;S++)c(p[S],x[S],b[S]);else{y.multiDrawArraysInstancedWEBGL(n,p,0,x,0,b,0,v);let S=0;for(let E=0;E<v;E++)S+=x[E]*b[E];t.update(S,n,1)}}this.setMode=s,this.render=o,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function Bk(i,e,t,n){let s;function o(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");s=i.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function c(F){return!(F!==Za&&n.convert(F)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(F){const j=F===Dd&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(F!==Ar&&n.convert(F)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&F!==Bs&&!j)}function h(F){if(F==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const x=h(p);x!==p&&(yt("WebGLRenderer:",p,"not supported, using",x,"instead."),p=x);const v=t.logarithmicDepthBuffer===!0,b=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),y=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=i.getParameter(i.MAX_TEXTURE_SIZE),M=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),_=i.getParameter(i.MAX_VERTEX_ATTRIBS),C=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),R=i.getParameter(i.MAX_VARYING_VECTORS),O=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),U=S>0,I=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:h,textureFormatReadable:c,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:v,reversedDepthBuffer:b,maxTextures:y,maxVertexTextures:S,maxTextureSize:E,maxCubemapSize:M,maxAttributes:_,maxVertexUniforms:C,maxVaryings:R,maxFragmentUniforms:O,vertexTextures:U,maxSamples:I}}function Pk(i){const e=this;let t=null,n=0,s=!1,o=!1;const c=new Gl,u=new nn,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(v,b){const y=v.length!==0||b||n!==0||s;return s=b,n=v.length,y},this.beginShadows=function(){o=!0,x(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(v,b){t=x(v,b,0)},this.setState=function(v,b,y){const S=v.clippingPlanes,E=v.clipIntersection,M=v.clipShadows,_=i.get(v);if(!s||S===null||S.length===0||o&&!M)o?x(null):p();else{const C=o?0:n,R=C*4;let O=_.clippingState||null;h.value=O,O=x(S,b,R,y);for(let U=0;U!==R;++U)O[U]=t[U];_.clippingState=O,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=C}};function p(){h.value!==t&&(h.value=t,h.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function x(v,b,y,S){const E=v!==null?v.length:0;let M=null;if(E!==0){if(M=h.value,S!==!0||M===null){const _=y+E*4,C=b.matrixWorldInverse;u.getNormalMatrix(C),(M===null||M.length<_)&&(M=new Float32Array(_));for(let R=0,O=y;R!==E;++R,O+=4)c.copy(v[R]).applyMatrix4(C,u),c.normal.toArray(M,O),M[O+3]=c.constant}h.value=M,h.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,M}}function kk(i){let e=new WeakMap;function t(c,u){return u===i0?c.mapping=Zl:u===a0&&(c.mapping=tu),c}function n(c){if(c&&c.isTexture){const u=c.mapping;if(u===i0||u===a0)if(e.has(c)){const h=e.get(c).texture;return t(h,c.mapping)}else{const h=c.image;if(h&&h.height>0){const p=new AA(h.height);return p.fromEquirectangularTexture(i,c),e.set(c,p),c.addEventListener("dispose",s),t(p.texture,c.mapping)}else return null}}return c}function s(c){const u=c.target;u.removeEventListener("dispose",s);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function o(){e=new WeakMap}return{get:n,dispose:o}}const Qc=4,LM=[.125,.215,.35,.446,.526,.582],bd=20,Fk=256,Um=new $c,zM=new bt;let Y_=null,X_=0,q_=0,W_=!1;const Hk=new ue;class N1{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,s=100,o={}){const{size:c=256,position:u=Hk}=o;Y_=this._renderer.getRenderTarget(),X_=this._renderer.getActiveCubeFace(),q_=this._renderer.getActiveMipmapLevel(),W_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(c);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(e,n,s,h,u),t>0&&this._blur(h,0,0,t),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=kM(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=PM(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Y_,X_,q_),this._renderer.xr.enabled=W_,e.scissorTest=!1,dh(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Zl||e.mapping===tu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Y_=this._renderer.getRenderTarget(),X_=this._renderer.getActiveCubeFace(),q_=this._renderer.getActiveMipmapLevel(),W_=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ji,minFilter:ji,generateMipmaps:!1,type:Dd,format:Za,colorSpace:nu,depthBuffer:!1},s=BM(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=BM(e,t,n);const{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=jk(o)),this._blurMaterial=Gk(o,e,t),this._ggxMaterial=Vk(o,e,t)}return s}_compileMaterial(e){const t=new oa(new an,e);this._renderer.compile(t,Um)}_sceneToCubeUV(e,t,n,s,o){const h=new Hi(90,1,t,n),p=[1,-1,1,1,1,1],x=[1,1,1,-1,-1,-1],v=this._renderer,b=v.autoClear,y=v.toneMapping;v.getClearColor(zM),v.toneMapping=el,v.autoClear=!1,v.state.buffers.depth.getReversed()&&(v.setRenderTarget(s),v.clearDepth(),v.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new oa(new Ud,new ru({name:"PMREM.Background",side:ys,depthWrite:!1,depthTest:!1})));const E=this._backgroundBox,M=E.material;let _=!1;const C=e.background;C?C.isColor&&(M.color.copy(C),e.background=null,_=!0):(M.color.copy(zM),_=!0);for(let R=0;R<6;R++){const O=R%3;O===0?(h.up.set(0,p[R],0),h.position.set(o.x,o.y,o.z),h.lookAt(o.x+x[R],o.y,o.z)):O===1?(h.up.set(0,0,p[R]),h.position.set(o.x,o.y,o.z),h.lookAt(o.x,o.y+x[R],o.z)):(h.up.set(0,p[R],0),h.position.set(o.x,o.y,o.z),h.lookAt(o.x,o.y,o.z+x[R]));const U=this._cubeSize;dh(s,O*U,R>2?U:0,U,U),v.setRenderTarget(s),_&&v.render(E,h),v.render(e,h)}v.toneMapping=y,v.autoClear=b,e.background=C}_textureToCubeUV(e,t){const n=this._renderer,s=e.mapping===Zl||e.mapping===tu;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=kM()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=PM());const o=s?this._cubemapMaterial:this._equirectMaterial,c=this._lodMeshes[0];c.material=o;const u=o.uniforms;u.envMap.value=e;const h=this._cubeSize;dh(t,0,0,3*h,2*h),n.setRenderTarget(t),n.render(c,Um)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const s=this._lodMeshes.length;for(let o=1;o<s;o++)this._applyGGXFilter(e,o-1,o);t.autoClear=n}_applyGGXFilter(e,t,n){const s=this._renderer,o=this._pingPongRenderTarget,c=this._ggxMaterial,u=this._lodMeshes[n];u.material=c;const h=c.uniforms,p=n/(this._lodMeshes.length-1),x=t/(this._lodMeshes.length-1),v=Math.sqrt(p*p-x*x),b=.05+p*.95,y=v*b,{_lodMax:S}=this,E=this._sizeLods[n],M=3*E*(n>S-Qc?n-S+Qc:0),_=4*(this._cubeSize-E);h.envMap.value=e.texture,h.roughness.value=y,h.mipInt.value=S-t,dh(o,M,_,3*E,2*E),s.setRenderTarget(o),s.render(u,Um),h.envMap.value=o.texture,h.roughness.value=0,h.mipInt.value=S-n,dh(e,M,_,3*E,2*E),s.setRenderTarget(e),s.render(u,Um)}_blur(e,t,n,s,o){const c=this._pingPongRenderTarget;this._halfBlur(e,c,t,n,s,"latitudinal",o),this._halfBlur(c,e,n,n,s,"longitudinal",o)}_halfBlur(e,t,n,s,o,c,u){const h=this._renderer,p=this._blurMaterial;c!=="latitudinal"&&c!=="longitudinal"&&Kt("blur direction must be either latitudinal or longitudinal!");const x=3,v=this._lodMeshes[s];v.material=p;const b=p.uniforms,y=this._sizeLods[n]-1,S=isFinite(o)?Math.PI/(2*y):2*Math.PI/(2*bd-1),E=o/S,M=isFinite(o)?1+Math.floor(x*E):bd;M>bd&&yt(`sigmaRadians, ${o}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${bd}`);const _=[];let C=0;for(let F=0;F<bd;++F){const j=F/E,B=Math.exp(-j*j/2);_.push(B),F===0?C+=B:F<M&&(C+=2*B)}for(let F=0;F<_.length;F++)_[F]=_[F]/C;b.envMap.value=e.texture,b.samples.value=M,b.weights.value=_,b.latitudinal.value=c==="latitudinal",u&&(b.poleAxis.value=u);const{_lodMax:R}=this;b.dTheta.value=S,b.mipInt.value=R-n;const O=this._sizeLods[s],U=3*O*(s>R-Qc?s-R+Qc:0),I=4*(this._cubeSize-O);dh(t,U,I,3*O,2*O),h.setRenderTarget(t),h.render(v,Um)}}function jk(i){const e=[],t=[],n=[];let s=i;const o=i-Qc+1+LM.length;for(let c=0;c<o;c++){const u=Math.pow(2,s);e.push(u);let h=1/u;c>i-Qc?h=LM[c-i+Qc-1]:c===0&&(h=0),t.push(h);const p=1/(u-2),x=-p,v=1+p,b=[x,x,v,x,v,v,x,x,v,v,x,v],y=6,S=6,E=3,M=2,_=1,C=new Float32Array(E*S*y),R=new Float32Array(M*S*y),O=new Float32Array(_*S*y);for(let I=0;I<y;I++){const F=I%3*2/3-1,j=I>2?0:-1,B=[F,j,0,F+2/3,j,0,F+2/3,j+1,0,F,j,0,F+2/3,j+1,0,F,j+1,0];C.set(B,E*S*I),R.set(b,M*S*I);const k=[I,I,I,I,I,I];O.set(k,_*S*I)}const U=new an;U.setAttribute("position",new ei(C,E)),U.setAttribute("uv",new ei(R,M)),U.setAttribute("faceIndex",new ei(O,_)),n.push(new oa(U,null)),s>Qc&&s--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function BM(i,e,t){const n=new tl(i,e,t);return n.texture.mapping=Fh,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function dh(i,e,t,n,s){i.viewport.set(e,t,n,s),i.scissor.set(e,t,n,s)}function Vk(i,e,t){return new ir({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Fk,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:sb(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:$o,depthTest:!1,depthWrite:!1})}function Gk(i,e,t){const n=new Float32Array(bd),s=new ue(0,1,0);return new ir({name:"SphericalGaussianBlur",defines:{n:bd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:sb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:$o,depthTest:!1,depthWrite:!1})}function PM(){return new ir({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:sb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:$o,depthTest:!1,depthWrite:!1})}function kM(){return new ir({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:sb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:$o,depthTest:!1,depthWrite:!1})}function sb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Yk(i){let e=new WeakMap,t=null;function n(u){if(u&&u.isTexture){const h=u.mapping,p=h===i0||h===a0,x=h===Zl||h===tu;if(p||x){let v=e.get(u);const b=v!==void 0?v.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==b)return t===null&&(t=new N1(i)),v=p?t.fromEquirectangular(u,v):t.fromCubemap(u,v),v.texture.pmremVersion=u.pmremVersion,e.set(u,v),v.texture;if(v!==void 0)return v.texture;{const y=u.image;return p&&y&&y.height>0||x&&y&&s(y)?(t===null&&(t=new N1(i)),v=p?t.fromEquirectangular(u):t.fromCubemap(u),v.texture.pmremVersion=u.pmremVersion,e.set(u,v),u.addEventListener("dispose",o),v.texture):null}}}return u}function s(u){let h=0;const p=6;for(let x=0;x<p;x++)u[x]!==void 0&&h++;return h===p}function o(u){const h=u.target;h.removeEventListener("dispose",o);const p=e.get(h);p!==void 0&&(e.delete(h),p.dispose())}function c(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:c}}function Xk(i){const e={};function t(n){if(e[n]!==void 0)return e[n];const s=i.getExtension(n);return e[n]=s,s}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const s=t(n);return s===null&&wh("WebGLRenderer: "+n+" extension not supported."),s}}}function qk(i,e,t,n){const s={},o=new WeakMap;function c(v){const b=v.target;b.index!==null&&e.remove(b.index);for(const S in b.attributes)e.remove(b.attributes[S]);b.removeEventListener("dispose",c),delete s[b.id];const y=o.get(b);y&&(e.remove(y),o.delete(b)),n.releaseStatesOfGeometry(b),b.isInstancedBufferGeometry===!0&&delete b._maxInstanceCount,t.memory.geometries--}function u(v,b){return s[b.id]===!0||(b.addEventListener("dispose",c),s[b.id]=!0,t.memory.geometries++),b}function h(v){const b=v.attributes;for(const y in b)e.update(b[y],i.ARRAY_BUFFER)}function p(v){const b=[],y=v.index,S=v.attributes.position;let E=0;if(y!==null){const C=y.array;E=y.version;for(let R=0,O=C.length;R<O;R+=3){const U=C[R+0],I=C[R+1],F=C[R+2];b.push(U,I,I,F,F,U)}}else if(S!==void 0){const C=S.array;E=S.version;for(let R=0,O=C.length/3-1;R<O;R+=3){const U=R+0,I=R+1,F=R+2;b.push(U,I,I,F,F,U)}}else return;const M=new(bA(b)?fS:dS)(b,1);M.version=E;const _=o.get(v);_&&e.remove(_),o.set(v,M)}function x(v){const b=o.get(v);if(b){const y=v.index;y!==null&&b.version<y.version&&p(v)}else p(v);return o.get(v)}return{get:u,update:h,getWireframeAttribute:x}}function Wk(i,e,t){let n;function s(b){n=b}let o,c;function u(b){o=b.type,c=b.bytesPerElement}function h(b,y){i.drawElements(n,y,o,b*c),t.update(y,n,1)}function p(b,y,S){S!==0&&(i.drawElementsInstanced(n,y,o,b*c,S),t.update(y,n,S))}function x(b,y,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,y,0,o,b,0,S);let M=0;for(let _=0;_<S;_++)M+=y[_];t.update(M,n,1)}function v(b,y,S,E){if(S===0)return;const M=e.get("WEBGL_multi_draw");if(M===null)for(let _=0;_<b.length;_++)p(b[_]/c,y[_],E[_]);else{M.multiDrawElementsInstancedWEBGL(n,y,0,o,b,0,E,0,S);let _=0;for(let C=0;C<S;C++)_+=y[C]*E[C];t.update(_,n,1)}}this.setMode=s,this.setIndex=u,this.render=h,this.renderInstances=p,this.renderMultiDraw=x,this.renderMultiDrawInstances=v}function Zk(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,c,u){switch(t.calls++,c){case i.TRIANGLES:t.triangles+=u*(o/3);break;case i.LINES:t.lines+=u*(o/2);break;case i.LINE_STRIP:t.lines+=u*(o-1);break;case i.LINE_LOOP:t.lines+=u*o;break;case i.POINTS:t.points+=u*o;break;default:Kt("WebGLInfo: Unknown draw mode:",c);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:n}}function Kk(i,e,t){const n=new WeakMap,s=new Un;function o(c,u,h){const p=c.morphTargetInfluences,x=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=x!==void 0?x.length:0;let b=n.get(u);if(b===void 0||b.count!==v){let k=function(){j.dispose(),n.delete(u),u.removeEventListener("dispose",k)};var y=k;b!==void 0&&b.texture.dispose();const S=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,M=u.morphAttributes.color!==void 0,_=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let O=0;S===!0&&(O=1),E===!0&&(O=2),M===!0&&(O=3);let U=u.attributes.position.count*O,I=1;U>e.maxTextureSize&&(I=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const F=new Float32Array(U*I*4*v),j=new zy(F,U,I,v);j.type=Bs,j.needsUpdate=!0;const B=O*4;for(let J=0;J<v;J++){const Y=_[J],Z=C[J],L=R[J],re=U*I*4*J;for(let q=0;q<Y.count;q++){const W=q*B;S===!0&&(s.fromBufferAttribute(Y,q),F[re+W+0]=s.x,F[re+W+1]=s.y,F[re+W+2]=s.z,F[re+W+3]=0),E===!0&&(s.fromBufferAttribute(Z,q),F[re+W+4]=s.x,F[re+W+5]=s.y,F[re+W+6]=s.z,F[re+W+7]=0),M===!0&&(s.fromBufferAttribute(L,q),F[re+W+8]=s.x,F[re+W+9]=s.y,F[re+W+10]=s.z,F[re+W+11]=L.itemSize===4?s.w:1)}}b={count:v,texture:j,size:new $e(U,I)},n.set(u,b),u.addEventListener("dispose",k)}if(c.isInstancedMesh===!0&&c.morphTexture!==null)h.getUniforms().setValue(i,"morphTexture",c.morphTexture,t);else{let S=0;for(let M=0;M<p.length;M++)S+=p[M];const E=u.morphTargetsRelative?1:1-S;h.getUniforms().setValue(i,"morphTargetBaseInfluence",E),h.getUniforms().setValue(i,"morphTargetInfluences",p)}h.getUniforms().setValue(i,"morphTargetsTexture",b.texture,t),h.getUniforms().setValue(i,"morphTargetsTextureSize",b.size)}return{update:o}}function Jk(i,e,t,n){let s=new WeakMap;function o(h){const p=n.render.frame,x=h.geometry,v=e.get(h,x);if(s.get(v)!==p&&(e.update(v),s.set(v,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),s.get(h)!==p&&(t.update(h.instanceMatrix,i.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,i.ARRAY_BUFFER),s.set(h,p))),h.isSkinnedMesh){const b=h.skeleton;s.get(b)!==p&&(b.update(),s.set(b,p))}return v}function c(){s=new WeakMap}function u(h){const p=h.target;p.removeEventListener("dispose",u),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:o,dispose:c}}const wC=new Oi,FM=new xS(1,1),AC=new zy,CC=new By,NC=new D0,HM=[],jM=[],VM=new Float32Array(16),GM=new Float32Array(9),YM=new Float32Array(4);function Vh(i,e,t){const n=i[0];if(n<=0||n>0)return i;const s=e*t;let o=HM[s];if(o===void 0&&(o=new Float32Array(s),HM[s]=o),e!==0){n.toArray(o,0);for(let c=1,u=0;c!==e;++c)u+=t,i[c].toArray(o,u)}return o}function la(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function ca(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function rb(i,e){let t=jM[e];t===void 0&&(t=new Int32Array(e),jM[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function Qk(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function $k(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(la(t,e))return;i.uniform2fv(this.addr,e),ca(t,e)}}function eF(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(la(t,e))return;i.uniform3fv(this.addr,e),ca(t,e)}}function tF(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(la(t,e))return;i.uniform4fv(this.addr,e),ca(t,e)}}function nF(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(la(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),ca(t,e)}else{if(la(t,n))return;YM.set(n),i.uniformMatrix2fv(this.addr,!1,YM),ca(t,n)}}function iF(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(la(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),ca(t,e)}else{if(la(t,n))return;GM.set(n),i.uniformMatrix3fv(this.addr,!1,GM),ca(t,n)}}function aF(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(la(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),ca(t,e)}else{if(la(t,n))return;VM.set(n),i.uniformMatrix4fv(this.addr,!1,VM),ca(t,n)}}function sF(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function rF(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(la(t,e))return;i.uniform2iv(this.addr,e),ca(t,e)}}function oF(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(la(t,e))return;i.uniform3iv(this.addr,e),ca(t,e)}}function lF(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(la(t,e))return;i.uniform4iv(this.addr,e),ca(t,e)}}function cF(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function uF(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(la(t,e))return;i.uniform2uiv(this.addr,e),ca(t,e)}}function dF(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(la(t,e))return;i.uniform3uiv(this.addr,e),ca(t,e)}}function fF(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(la(t,e))return;i.uniform4uiv(this.addr,e),ca(t,e)}}function hF(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s);let o;this.type===i.SAMPLER_2D_SHADOW?(FM.compareFunction=lS,o=FM):o=wC,t.setTexture2D(e||o,s)}function pF(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTexture3D(e||CC,s)}function mF(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTextureCube(e||NC,s)}function gF(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTexture2DArray(e||AC,s)}function xF(i){switch(i){case 5126:return Qk;case 35664:return $k;case 35665:return eF;case 35666:return tF;case 35674:return nF;case 35675:return iF;case 35676:return aF;case 5124:case 35670:return sF;case 35667:case 35671:return rF;case 35668:case 35672:return oF;case 35669:case 35673:return lF;case 5125:return cF;case 36294:return uF;case 36295:return dF;case 36296:return fF;case 35678:case 36198:case 36298:case 36306:case 35682:return hF;case 35679:case 36299:case 36307:return pF;case 35680:case 36300:case 36308:case 36293:return mF;case 36289:case 36303:case 36311:case 36292:return gF}}function vF(i,e){i.uniform1fv(this.addr,e)}function yF(i,e){const t=Vh(e,this.size,2);i.uniform2fv(this.addr,t)}function bF(i,e){const t=Vh(e,this.size,3);i.uniform3fv(this.addr,t)}function _F(i,e){const t=Vh(e,this.size,4);i.uniform4fv(this.addr,t)}function SF(i,e){const t=Vh(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function EF(i,e){const t=Vh(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function MF(i,e){const t=Vh(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function TF(i,e){i.uniform1iv(this.addr,e)}function wF(i,e){i.uniform2iv(this.addr,e)}function AF(i,e){i.uniform3iv(this.addr,e)}function CF(i,e){i.uniform4iv(this.addr,e)}function NF(i,e){i.uniform1uiv(this.addr,e)}function RF(i,e){i.uniform2uiv(this.addr,e)}function DF(i,e){i.uniform3uiv(this.addr,e)}function OF(i,e){i.uniform4uiv(this.addr,e)}function UF(i,e,t){const n=this.cache,s=e.length,o=rb(t,s);la(n,o)||(i.uniform1iv(this.addr,o),ca(n,o));for(let c=0;c!==s;++c)t.setTexture2D(e[c]||wC,o[c])}function IF(i,e,t){const n=this.cache,s=e.length,o=rb(t,s);la(n,o)||(i.uniform1iv(this.addr,o),ca(n,o));for(let c=0;c!==s;++c)t.setTexture3D(e[c]||CC,o[c])}function LF(i,e,t){const n=this.cache,s=e.length,o=rb(t,s);la(n,o)||(i.uniform1iv(this.addr,o),ca(n,o));for(let c=0;c!==s;++c)t.setTextureCube(e[c]||NC,o[c])}function zF(i,e,t){const n=this.cache,s=e.length,o=rb(t,s);la(n,o)||(i.uniform1iv(this.addr,o),ca(n,o));for(let c=0;c!==s;++c)t.setTexture2DArray(e[c]||AC,o[c])}function BF(i){switch(i){case 5126:return vF;case 35664:return yF;case 35665:return bF;case 35666:return _F;case 35674:return SF;case 35675:return EF;case 35676:return MF;case 5124:case 35670:return TF;case 35667:case 35671:return wF;case 35668:case 35672:return AF;case 35669:case 35673:return CF;case 5125:return NF;case 36294:return RF;case 36295:return DF;case 36296:return OF;case 35678:case 36198:case 36298:case 36306:case 35682:return UF;case 35679:case 36299:case 36307:return IF;case 35680:case 36300:case 36308:case 36293:return LF;case 36289:case 36303:case 36311:case 36292:return zF}}class PF{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=xF(t.type)}}class kF{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=BF(t.type)}}class FF{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const s=this.seq;for(let o=0,c=s.length;o!==c;++o){const u=s[o];u.setValue(e,t[u.id],n)}}}const Z_=/(\w+)(\])?(\[|\.)?/g;function XM(i,e){i.seq.push(e),i.map[e.id]=e}function HF(i,e,t){const n=i.name,s=n.length;for(Z_.lastIndex=0;;){const o=Z_.exec(n),c=Z_.lastIndex;let u=o[1];const h=o[2]==="]",p=o[3];if(h&&(u=u|0),p===void 0||p==="["&&c+2===s){XM(t,p===void 0?new PF(u,i,e):new kF(u,i,e));break}else{let v=t.map[u];v===void 0&&(v=new FF(u),XM(t,v)),t=v}}}class cv{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;++s){const o=e.getActiveUniform(t,s),c=e.getUniformLocation(t,o.name);HF(o,c,this)}}setValue(e,t,n,s){const o=this.map[t];o!==void 0&&o.setValue(e,n,s)}setOptional(e,t,n){const s=t[n];s!==void 0&&this.setValue(e,n,s)}static upload(e,t,n,s){for(let o=0,c=t.length;o!==c;++o){const u=t[o],h=n[u.id];h.needsUpdate!==!1&&u.setValue(e,h.value,s)}}static seqWithValue(e,t){const n=[];for(let s=0,o=e.length;s!==o;++s){const c=e[s];c.id in t&&n.push(c)}return n}}function qM(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const jF=37297;let VF=0;function GF(i,e){const t=i.split(`
`),n=[],s=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let c=s;c<o;c++){const u=c+1;n.push(`${u===e?">":" "} ${u}: ${t[c]}`)}return n.join(`
`)}const WM=new nn;function YF(i){Nn._getMatrix(WM,Nn.workingColorSpace,i);const e=`mat3( ${WM.elements.map(t=>t.toFixed(4))} )`;switch(Nn.getTransfer(i)){case c0:return[e,"LinearTransferOETF"];case Wn:return[e,"sRGBTransferOETF"];default:return yt("WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function ZM(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),o=(i.getShaderInfoLog(e)||"").trim();if(n&&o==="")return"";const c=/ERROR: 0:(\d+)/.exec(o);if(c){const u=parseInt(c[1]);return t.toUpperCase()+`

`+o+`

`+GF(i.getShaderSource(e),u)}else return o}function XF(i,e){const t=YF(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function qF(i,e){let t;switch(e){case eA:t="Linear";break;case tA:t="Reinhard";break;case nA:t="Cineon";break;case $1:t="ACESFilmic";break;case aA:t="AgX";break;case sA:t="Neutral";break;case iA:t="Custom";break;default:yt("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const $x=new ue;function WF(){Nn.getLuminanceCoefficients($x);const i=$x.x.toFixed(4),e=$x.y.toFixed(4),t=$x.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function ZF(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Bm).join(`
`)}function KF(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function JF(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const o=i.getActiveAttrib(e,s),c=o.name;let u=1;o.type===i.FLOAT_MAT2&&(u=2),o.type===i.FLOAT_MAT3&&(u=3),o.type===i.FLOAT_MAT4&&(u=4),t[c]={type:o.type,location:i.getAttribLocation(e,c),locationSize:u}}return t}function Bm(i){return i!==""}function KM(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function JM(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const QF=/^[ \t]*#include +<([\w\d./]+)>/gm;function R1(i){return i.replace(QF,e9)}const $F=new Map;function e9(i,e){let t=cn[e];if(t===void 0){const n=$F.get(e);if(n!==void 0)t=cn[n],yt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return R1(t)}const t9=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function QM(i){return i.replace(t9,n9)}function n9(i,e,t,n){let s="";for(let o=parseInt(e);o<parseInt(t);o++)s+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return s}function $M(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function i9(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===wy?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===jm?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===io&&(e="SHADOWMAP_TYPE_VSM"),e}function a9(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Zl:case tu:e="ENVMAP_TYPE_CUBE";break;case Fh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function s9(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case tu:e="ENVMAP_MODE_REFRACTION";break}return e}function r9(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case N0:e="ENVMAP_BLENDING_MULTIPLY";break;case Qw:e="ENVMAP_BLENDING_MIX";break;case $w:e="ENVMAP_BLENDING_ADD";break}return e}function o9(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function l9(i,e,t,n){const s=i.getContext(),o=t.defines;let c=t.vertexShader,u=t.fragmentShader;const h=i9(t),p=a9(t),x=s9(t),v=r9(t),b=o9(t),y=ZF(t),S=KF(o),E=s.createProgram();let M,_,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Bm).join(`
`),M.length>0&&(M+=`
`),_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(Bm).join(`
`),_.length>0&&(_+=`
`)):(M=[$M(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+x:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Bm).join(`
`),_=[$M(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+x:"",t.envMap?"#define "+v:"",b?"#define CUBEUV_TEXEL_WIDTH "+b.texelWidth:"",b?"#define CUBEUV_TEXEL_HEIGHT "+b.texelHeight:"",b?"#define CUBEUV_MAX_MIP "+b.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==el?"#define TONE_MAPPING":"",t.toneMapping!==el?cn.tonemapping_pars_fragment:"",t.toneMapping!==el?qF("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",cn.colorspace_pars_fragment,XF("linearToOutputTexel",t.outputColorSpace),WF(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Bm).join(`
`)),c=R1(c),c=KM(c,t),c=JM(c,t),u=R1(u),u=KM(u,t),u=JM(u,t),c=QM(c),u=QM(u),t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,M=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,_=["#define varying in",t.glslVersion===_1?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===_1?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const R=C+M+c,O=C+_+u,U=qM(s,s.VERTEX_SHADER,R),I=qM(s,s.FRAGMENT_SHADER,O);s.attachShader(E,U),s.attachShader(E,I),t.index0AttributeName!==void 0?s.bindAttribLocation(E,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(E,0,"position"),s.linkProgram(E);function F(J){if(i.debug.checkShaderErrors){const Y=s.getProgramInfoLog(E)||"",Z=s.getShaderInfoLog(U)||"",L=s.getShaderInfoLog(I)||"",re=Y.trim(),q=Z.trim(),W=L.trim();let te=!0,oe=!0;if(s.getProgramParameter(E,s.LINK_STATUS)===!1)if(te=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(s,E,U,I);else{const Se=ZM(s,U,"vertex"),G=ZM(s,I,"fragment");Kt("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(E,s.VALIDATE_STATUS)+`

Material Name: `+J.name+`
Material Type: `+J.type+`

Program Info Log: `+re+`
`+Se+`
`+G)}else re!==""?yt("WebGLProgram: Program Info Log:",re):(q===""||W==="")&&(oe=!1);oe&&(J.diagnostics={runnable:te,programLog:re,vertexShader:{log:q,prefix:M},fragmentShader:{log:W,prefix:_}})}s.deleteShader(U),s.deleteShader(I),j=new cv(s,E),B=JF(s,E)}let j;this.getUniforms=function(){return j===void 0&&F(this),j};let B;this.getAttributes=function(){return B===void 0&&F(this),B};let k=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=s.getProgramParameter(E,jF)),k},this.destroy=function(){n.releaseStatesOfProgram(this),s.deleteProgram(E),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=VF++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=U,this.fragmentShader=I,this}let c9=0;class u9{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,s=this._getShaderStage(t),o=this._getShaderStage(n),c=this._getShaderCacheForMaterial(e);return c.has(s)===!1&&(c.add(s),s.usedTimes++),c.has(o)===!1&&(c.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new d9(e),t.set(e,n)),n}}class d9{constructor(e){this.id=c9++,this.code=e,this.usedTimes=0}}function f9(i,e,t,n,s,o,c){const u=new Ch,h=new u9,p=new Set,x=[],v=s.logarithmicDepthBuffer,b=s.vertexTextures;let y=s.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(B){return p.add(B),B===0?"uv":`uv${B}`}function M(B,k,J,Y,Z){const L=Y.fog,re=Z.geometry,q=B.isMeshStandardMaterial?Y.environment:null,W=(B.isMeshStandardMaterial?t:e).get(B.envMap||q),te=W&&W.mapping===Fh?W.image.height:null,oe=S[B.type];B.precision!==null&&(y=s.getMaxPrecision(B.precision),y!==B.precision&&yt("WebGLProgram.getParameters:",B.precision,"not supported, using",y,"instead."));const Se=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,G=Se!==void 0?Se.length:0;let $=0;re.morphAttributes.position!==void 0&&($=1),re.morphAttributes.normal!==void 0&&($=2),re.morphAttributes.color!==void 0&&($=3);let se,de,xe,ge;if(oe){const Ft=ao[oe];se=Ft.vertexShader,de=Ft.fragmentShader}else se=B.vertexShader,de=B.fragmentShader,h.update(B),xe=h.getVertexShaderID(B),ge=h.getFragmentShaderID(B);const _e=i.getRenderTarget(),Le=i.state.buffers.depth.getReversed(),Ye=Z.isInstancedMesh===!0,qe=Z.isBatchedMesh===!0,ut=!!B.map,St=!!B.matcap,mt=!!W,P=!!B.aoMap,X=!!B.lightMap,he=!!B.bumpMap,ee=!!B.normalMap,Q=!!B.displacementMap,le=!!B.emissiveMap,Te=!!B.metalnessMap,Me=!!B.roughnessMap,ve=B.anisotropy>0,K=B.clearcoat>0,V=B.dispersion>0,fe=B.iridescence>0,we=B.sheen>0,He=B.transmission>0,Ce=ve&&!!B.anisotropyMap,ft=K&&!!B.clearcoatMap,rt=K&&!!B.clearcoatNormalMap,ht=K&&!!B.clearcoatRoughnessMap,gt=fe&&!!B.iridescenceMap,Ve=fe&&!!B.iridescenceThicknessMap,tt=we&&!!B.sheenColorMap,_t=we&&!!B.sheenRoughnessMap,pe=!!B.specularMap,Ie=!!B.specularColorMap,nt=!!B.specularIntensityMap,me=He&&!!B.transmissionMap,it=He&&!!B.thicknessMap,at=!!B.gradientMap,Je=!!B.alphaMap,Ze=B.alphaTest>0,Xe=!!B.alphaHash,ct=!!B.extensions;let Et=el;B.toneMapped&&(_e===null||_e.isXRRenderTarget===!0)&&(Et=i.toneMapping);const kt={shaderID:oe,shaderType:B.type,shaderName:B.name,vertexShader:se,fragmentShader:de,defines:B.defines,customVertexShaderID:xe,customFragmentShaderID:ge,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:y,batching:qe,batchingColor:qe&&Z._colorsTexture!==null,instancing:Ye,instancingColor:Ye&&Z.instanceColor!==null,instancingMorph:Ye&&Z.morphTexture!==null,supportsVertexTextures:b,outputColorSpace:_e===null?i.outputColorSpace:_e.isXRRenderTarget===!0?_e.texture.colorSpace:nu,alphaToCoverage:!!B.alphaToCoverage,map:ut,matcap:St,envMap:mt,envMapMode:mt&&W.mapping,envMapCubeUVHeight:te,aoMap:P,lightMap:X,bumpMap:he,normalMap:ee,displacementMap:b&&Q,emissiveMap:le,normalMapObjectSpace:ee&&B.normalMapType===fA,normalMapTangentSpace:ee&&B.normalMapType===su,metalnessMap:Te,roughnessMap:Me,anisotropy:ve,anisotropyMap:Ce,clearcoat:K,clearcoatMap:ft,clearcoatNormalMap:rt,clearcoatRoughnessMap:ht,dispersion:V,iridescence:fe,iridescenceMap:gt,iridescenceThicknessMap:Ve,sheen:we,sheenColorMap:tt,sheenRoughnessMap:_t,specularMap:pe,specularColorMap:Ie,specularIntensityMap:nt,transmission:He,transmissionMap:me,thicknessMap:it,gradientMap:at,opaque:B.transparent===!1&&B.blending===Md&&B.alphaToCoverage===!1,alphaMap:Je,alphaTest:Ze,alphaHash:Xe,combine:B.combine,mapUv:ut&&E(B.map.channel),aoMapUv:P&&E(B.aoMap.channel),lightMapUv:X&&E(B.lightMap.channel),bumpMapUv:he&&E(B.bumpMap.channel),normalMapUv:ee&&E(B.normalMap.channel),displacementMapUv:Q&&E(B.displacementMap.channel),emissiveMapUv:le&&E(B.emissiveMap.channel),metalnessMapUv:Te&&E(B.metalnessMap.channel),roughnessMapUv:Me&&E(B.roughnessMap.channel),anisotropyMapUv:Ce&&E(B.anisotropyMap.channel),clearcoatMapUv:ft&&E(B.clearcoatMap.channel),clearcoatNormalMapUv:rt&&E(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ht&&E(B.clearcoatRoughnessMap.channel),iridescenceMapUv:gt&&E(B.iridescenceMap.channel),iridescenceThicknessMapUv:Ve&&E(B.iridescenceThicknessMap.channel),sheenColorMapUv:tt&&E(B.sheenColorMap.channel),sheenRoughnessMapUv:_t&&E(B.sheenRoughnessMap.channel),specularMapUv:pe&&E(B.specularMap.channel),specularColorMapUv:Ie&&E(B.specularColorMap.channel),specularIntensityMapUv:nt&&E(B.specularIntensityMap.channel),transmissionMapUv:me&&E(B.transmissionMap.channel),thicknessMapUv:it&&E(B.thicknessMap.channel),alphaMapUv:Je&&E(B.alphaMap.channel),vertexTangents:!!re.attributes.tangent&&(ee||ve),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!re.attributes.color&&re.attributes.color.itemSize===4,pointsUvs:Z.isPoints===!0&&!!re.attributes.uv&&(ut||Je),fog:!!L,useFog:B.fog===!0,fogExp2:!!L&&L.isFogExp2,flatShading:B.flatShading===!0&&B.wireframe===!1,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:Le,skinning:Z.isSkinnedMesh===!0,morphTargets:re.morphAttributes.position!==void 0,morphNormals:re.morphAttributes.normal!==void 0,morphColors:re.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:$,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:B.dithering,shadowMapEnabled:i.shadowMap.enabled&&J.length>0,shadowMapType:i.shadowMap.type,toneMapping:Et,decodeVideoTexture:ut&&B.map.isVideoTexture===!0&&Nn.getTransfer(B.map.colorSpace)===Wn,decodeVideoTextureEmissive:le&&B.emissiveMap.isVideoTexture===!0&&Nn.getTransfer(B.emissiveMap.colorSpace)===Wn,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===Zo,flipSided:B.side===ys,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionClipCullDistance:ct&&B.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ct&&B.extensions.multiDraw===!0||qe)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()};return kt.vertexUv1s=p.has(1),kt.vertexUv2s=p.has(2),kt.vertexUv3s=p.has(3),p.clear(),kt}function _(B){const k=[];if(B.shaderID?k.push(B.shaderID):(k.push(B.customVertexShaderID),k.push(B.customFragmentShaderID)),B.defines!==void 0)for(const J in B.defines)k.push(J),k.push(B.defines[J]);return B.isRawShaderMaterial===!1&&(C(k,B),R(k,B),k.push(i.outputColorSpace)),k.push(B.customProgramCacheKey),k.join()}function C(B,k){B.push(k.precision),B.push(k.outputColorSpace),B.push(k.envMapMode),B.push(k.envMapCubeUVHeight),B.push(k.mapUv),B.push(k.alphaMapUv),B.push(k.lightMapUv),B.push(k.aoMapUv),B.push(k.bumpMapUv),B.push(k.normalMapUv),B.push(k.displacementMapUv),B.push(k.emissiveMapUv),B.push(k.metalnessMapUv),B.push(k.roughnessMapUv),B.push(k.anisotropyMapUv),B.push(k.clearcoatMapUv),B.push(k.clearcoatNormalMapUv),B.push(k.clearcoatRoughnessMapUv),B.push(k.iridescenceMapUv),B.push(k.iridescenceThicknessMapUv),B.push(k.sheenColorMapUv),B.push(k.sheenRoughnessMapUv),B.push(k.specularMapUv),B.push(k.specularColorMapUv),B.push(k.specularIntensityMapUv),B.push(k.transmissionMapUv),B.push(k.thicknessMapUv),B.push(k.combine),B.push(k.fogExp2),B.push(k.sizeAttenuation),B.push(k.morphTargetsCount),B.push(k.morphAttributeCount),B.push(k.numDirLights),B.push(k.numPointLights),B.push(k.numSpotLights),B.push(k.numSpotLightMaps),B.push(k.numHemiLights),B.push(k.numRectAreaLights),B.push(k.numDirLightShadows),B.push(k.numPointLightShadows),B.push(k.numSpotLightShadows),B.push(k.numSpotLightShadowsWithMaps),B.push(k.numLightProbes),B.push(k.shadowMapType),B.push(k.toneMapping),B.push(k.numClippingPlanes),B.push(k.numClipIntersection),B.push(k.depthPacking)}function R(B,k){u.disableAll(),k.supportsVertexTextures&&u.enable(0),k.instancing&&u.enable(1),k.instancingColor&&u.enable(2),k.instancingMorph&&u.enable(3),k.matcap&&u.enable(4),k.envMap&&u.enable(5),k.normalMapObjectSpace&&u.enable(6),k.normalMapTangentSpace&&u.enable(7),k.clearcoat&&u.enable(8),k.iridescence&&u.enable(9),k.alphaTest&&u.enable(10),k.vertexColors&&u.enable(11),k.vertexAlphas&&u.enable(12),k.vertexUv1s&&u.enable(13),k.vertexUv2s&&u.enable(14),k.vertexUv3s&&u.enable(15),k.vertexTangents&&u.enable(16),k.anisotropy&&u.enable(17),k.alphaHash&&u.enable(18),k.batching&&u.enable(19),k.dispersion&&u.enable(20),k.batchingColor&&u.enable(21),k.gradientMap&&u.enable(22),B.push(u.mask),u.disableAll(),k.fog&&u.enable(0),k.useFog&&u.enable(1),k.flatShading&&u.enable(2),k.logarithmicDepthBuffer&&u.enable(3),k.reversedDepthBuffer&&u.enable(4),k.skinning&&u.enable(5),k.morphTargets&&u.enable(6),k.morphNormals&&u.enable(7),k.morphColors&&u.enable(8),k.premultipliedAlpha&&u.enable(9),k.shadowMapEnabled&&u.enable(10),k.doubleSided&&u.enable(11),k.flipSided&&u.enable(12),k.useDepthPacking&&u.enable(13),k.dithering&&u.enable(14),k.transmission&&u.enable(15),k.sheen&&u.enable(16),k.opaque&&u.enable(17),k.pointsUvs&&u.enable(18),k.decodeVideoTexture&&u.enable(19),k.decodeVideoTextureEmissive&&u.enable(20),k.alphaToCoverage&&u.enable(21),B.push(u.mask)}function O(B){const k=S[B.type];let J;if(k){const Y=ao[k];J=TA.clone(Y.uniforms)}else J=B.uniforms;return J}function U(B,k){let J;for(let Y=0,Z=x.length;Y<Z;Y++){const L=x[Y];if(L.cacheKey===k){J=L,++J.usedTimes;break}}return J===void 0&&(J=new l9(i,k,B,o),x.push(J)),J}function I(B){if(--B.usedTimes===0){const k=x.indexOf(B);x[k]=x[x.length-1],x.pop(),B.destroy()}}function F(B){h.remove(B)}function j(){h.dispose()}return{getParameters:M,getProgramCacheKey:_,getUniforms:O,acquireProgram:U,releaseProgram:I,releaseShaderCache:F,programs:x,dispose:j}}function h9(){let i=new WeakMap;function e(c){return i.has(c)}function t(c){let u=i.get(c);return u===void 0&&(u={},i.set(c,u)),u}function n(c){i.delete(c)}function s(c,u,h){i.get(c)[u]=h}function o(){i=new WeakMap}return{has:e,get:t,remove:n,update:s,dispose:o}}function p9(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function eT(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function tT(){const i=[];let e=0;const t=[],n=[],s=[];function o(){e=0,t.length=0,n.length=0,s.length=0}function c(v,b,y,S,E,M){let _=i[e];return _===void 0?(_={id:v.id,object:v,geometry:b,material:y,groupOrder:S,renderOrder:v.renderOrder,z:E,group:M},i[e]=_):(_.id=v.id,_.object=v,_.geometry=b,_.material=y,_.groupOrder=S,_.renderOrder=v.renderOrder,_.z=E,_.group=M),e++,_}function u(v,b,y,S,E,M){const _=c(v,b,y,S,E,M);y.transmission>0?n.push(_):y.transparent===!0?s.push(_):t.push(_)}function h(v,b,y,S,E,M){const _=c(v,b,y,S,E,M);y.transmission>0?n.unshift(_):y.transparent===!0?s.unshift(_):t.unshift(_)}function p(v,b){t.length>1&&t.sort(v||p9),n.length>1&&n.sort(b||eT),s.length>1&&s.sort(b||eT)}function x(){for(let v=e,b=i.length;v<b;v++){const y=i[v];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:t,transmissive:n,transparent:s,init:o,push:u,unshift:h,finish:x,sort:p}}function m9(){let i=new WeakMap;function e(n,s){const o=i.get(n);let c;return o===void 0?(c=new tT,i.set(n,[c])):s>=o.length?(c=new tT,o.push(c)):c=o[s],c}function t(){i=new WeakMap}return{get:e,dispose:t}}function g9(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ue,color:new bt};break;case"SpotLight":t={position:new ue,direction:new ue,color:new bt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ue,color:new bt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ue,skyColor:new bt,groundColor:new bt};break;case"RectAreaLight":t={color:new bt,position:new ue,halfWidth:new ue,halfHeight:new ue};break}return i[e.id]=t,t}}}function x9(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let v9=0;function y9(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function b9(i){const e=new g9,t=x9(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)n.probe.push(new ue);const s=new ue,o=new Wt,c=new Wt;function u(p){let x=0,v=0,b=0;for(let B=0;B<9;B++)n.probe[B].set(0,0,0);let y=0,S=0,E=0,M=0,_=0,C=0,R=0,O=0,U=0,I=0,F=0;p.sort(y9);for(let B=0,k=p.length;B<k;B++){const J=p[B],Y=J.color,Z=J.intensity,L=J.distance,re=J.shadow&&J.shadow.map?J.shadow.map.texture:null;if(J.isAmbientLight)x+=Y.r*Z,v+=Y.g*Z,b+=Y.b*Z;else if(J.isLightProbe){for(let q=0;q<9;q++)n.probe[q].addScaledVector(J.sh.coefficients[q],Z);F++}else if(J.isDirectionalLight){const q=e.get(J);if(q.color.copy(J.color).multiplyScalar(J.intensity),J.castShadow){const W=J.shadow,te=t.get(J);te.shadowIntensity=W.intensity,te.shadowBias=W.bias,te.shadowNormalBias=W.normalBias,te.shadowRadius=W.radius,te.shadowMapSize=W.mapSize,n.directionalShadow[y]=te,n.directionalShadowMap[y]=re,n.directionalShadowMatrix[y]=J.shadow.matrix,C++}n.directional[y]=q,y++}else if(J.isSpotLight){const q=e.get(J);q.position.setFromMatrixPosition(J.matrixWorld),q.color.copy(Y).multiplyScalar(Z),q.distance=L,q.coneCos=Math.cos(J.angle),q.penumbraCos=Math.cos(J.angle*(1-J.penumbra)),q.decay=J.decay,n.spot[E]=q;const W=J.shadow;if(J.map&&(n.spotLightMap[U]=J.map,U++,W.updateMatrices(J),J.castShadow&&I++),n.spotLightMatrix[E]=W.matrix,J.castShadow){const te=t.get(J);te.shadowIntensity=W.intensity,te.shadowBias=W.bias,te.shadowNormalBias=W.normalBias,te.shadowRadius=W.radius,te.shadowMapSize=W.mapSize,n.spotShadow[E]=te,n.spotShadowMap[E]=re,O++}E++}else if(J.isRectAreaLight){const q=e.get(J);q.color.copy(Y).multiplyScalar(Z),q.halfWidth.set(J.width*.5,0,0),q.halfHeight.set(0,J.height*.5,0),n.rectArea[M]=q,M++}else if(J.isPointLight){const q=e.get(J);if(q.color.copy(J.color).multiplyScalar(J.intensity),q.distance=J.distance,q.decay=J.decay,J.castShadow){const W=J.shadow,te=t.get(J);te.shadowIntensity=W.intensity,te.shadowBias=W.bias,te.shadowNormalBias=W.normalBias,te.shadowRadius=W.radius,te.shadowMapSize=W.mapSize,te.shadowCameraNear=W.camera.near,te.shadowCameraFar=W.camera.far,n.pointShadow[S]=te,n.pointShadowMap[S]=re,n.pointShadowMatrix[S]=J.shadow.matrix,R++}n.point[S]=q,S++}else if(J.isHemisphereLight){const q=e.get(J);q.skyColor.copy(J.color).multiplyScalar(Z),q.groundColor.copy(J.groundColor).multiplyScalar(Z),n.hemi[_]=q,_++}}M>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=vt.LTC_FLOAT_1,n.rectAreaLTC2=vt.LTC_FLOAT_2):(n.rectAreaLTC1=vt.LTC_HALF_1,n.rectAreaLTC2=vt.LTC_HALF_2)),n.ambient[0]=x,n.ambient[1]=v,n.ambient[2]=b;const j=n.hash;(j.directionalLength!==y||j.pointLength!==S||j.spotLength!==E||j.rectAreaLength!==M||j.hemiLength!==_||j.numDirectionalShadows!==C||j.numPointShadows!==R||j.numSpotShadows!==O||j.numSpotMaps!==U||j.numLightProbes!==F)&&(n.directional.length=y,n.spot.length=E,n.rectArea.length=M,n.point.length=S,n.hemi.length=_,n.directionalShadow.length=C,n.directionalShadowMap.length=C,n.pointShadow.length=R,n.pointShadowMap.length=R,n.spotShadow.length=O,n.spotShadowMap.length=O,n.directionalShadowMatrix.length=C,n.pointShadowMatrix.length=R,n.spotLightMatrix.length=O+U-I,n.spotLightMap.length=U,n.numSpotLightShadowsWithMaps=I,n.numLightProbes=F,j.directionalLength=y,j.pointLength=S,j.spotLength=E,j.rectAreaLength=M,j.hemiLength=_,j.numDirectionalShadows=C,j.numPointShadows=R,j.numSpotShadows=O,j.numSpotMaps=U,j.numLightProbes=F,n.version=v9++)}function h(p,x){let v=0,b=0,y=0,S=0,E=0;const M=x.matrixWorldInverse;for(let _=0,C=p.length;_<C;_++){const R=p[_];if(R.isDirectionalLight){const O=n.directional[v];O.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),O.direction.sub(s),O.direction.transformDirection(M),v++}else if(R.isSpotLight){const O=n.spot[y];O.position.setFromMatrixPosition(R.matrixWorld),O.position.applyMatrix4(M),O.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),O.direction.sub(s),O.direction.transformDirection(M),y++}else if(R.isRectAreaLight){const O=n.rectArea[S];O.position.setFromMatrixPosition(R.matrixWorld),O.position.applyMatrix4(M),c.identity(),o.copy(R.matrixWorld),o.premultiply(M),c.extractRotation(o),O.halfWidth.set(R.width*.5,0,0),O.halfHeight.set(0,R.height*.5,0),O.halfWidth.applyMatrix4(c),O.halfHeight.applyMatrix4(c),S++}else if(R.isPointLight){const O=n.point[b];O.position.setFromMatrixPosition(R.matrixWorld),O.position.applyMatrix4(M),b++}else if(R.isHemisphereLight){const O=n.hemi[E];O.direction.setFromMatrixPosition(R.matrixWorld),O.direction.transformDirection(M),E++}}}return{setup:u,setupView:h,state:n}}function nT(i){const e=new b9(i),t=[],n=[];function s(x){p.camera=x,t.length=0,n.length=0}function o(x){t.push(x)}function c(x){n.push(x)}function u(){e.setup(t)}function h(x){e.setupView(t,x)}const p={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:p,setupLights:u,setupLightsView:h,pushLight:o,pushShadow:c}}function _9(i){let e=new WeakMap;function t(s,o=0){const c=e.get(s);let u;return c===void 0?(u=new nT(i),e.set(s,[u])):o>=c.length?(u=new nT(i),c.push(u)):u=c[o],u}function n(){e=new WeakMap}return{get:t,dispose:n}}const S9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,E9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function M9(i,e,t){let n=new Hh;const s=new $e,o=new $e,c=new Un,u=new wS({depthPacking:dA}),h=new AS,p={},x=t.maxTextureSize,v={[Wl]:ys,[ys]:Wl,[Zo]:Zo},b=new ir({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4}},vertexShader:S9,fragmentShader:E9}),y=b.clone();y.defines.HORIZONTAL_PASS=1;const S=new an;S.setAttribute("position",new ei(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new oa(S,b),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=wy;let _=this.type;this.render=function(I,F,j){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||I.length===0)return;const B=i.getRenderTarget(),k=i.getActiveCubeFace(),J=i.getActiveMipmapLevel(),Y=i.state;Y.setBlending($o),Y.buffers.depth.getReversed()===!0?Y.buffers.color.setClear(0,0,0,0):Y.buffers.color.setClear(1,1,1,1),Y.buffers.depth.setTest(!0),Y.setScissorTest(!1);const Z=_!==io&&this.type===io,L=_===io&&this.type!==io;for(let re=0,q=I.length;re<q;re++){const W=I[re],te=W.shadow;if(te===void 0){yt("WebGLShadowMap:",W,"has no shadow.");continue}if(te.autoUpdate===!1&&te.needsUpdate===!1)continue;s.copy(te.mapSize);const oe=te.getFrameExtents();if(s.multiply(oe),o.copy(te.mapSize),(s.x>x||s.y>x)&&(s.x>x&&(o.x=Math.floor(x/oe.x),s.x=o.x*oe.x,te.mapSize.x=o.x),s.y>x&&(o.y=Math.floor(x/oe.y),s.y=o.y*oe.y,te.mapSize.y=o.y)),te.map===null||Z===!0||L===!0){const G=this.type!==io?{minFilter:Na,magFilter:Na}:{};te.map!==null&&te.map.dispose(),te.map=new tl(s.x,s.y,G),te.map.texture.name=W.name+".shadowMap",te.camera.updateProjectionMatrix()}i.setRenderTarget(te.map),i.clear();const Se=te.getViewportCount();for(let G=0;G<Se;G++){const $=te.getViewport(G);c.set(o.x*$.x,o.y*$.y,o.x*$.z,o.y*$.w),Y.viewport(c),te.updateMatrices(W,G),n=te.getFrustum(),O(F,j,te.camera,W,this.type)}te.isPointLightShadow!==!0&&this.type===io&&C(te,j),te.needsUpdate=!1}_=this.type,M.needsUpdate=!1,i.setRenderTarget(B,k,J)};function C(I,F){const j=e.update(E);b.defines.VSM_SAMPLES!==I.blurSamples&&(b.defines.VSM_SAMPLES=I.blurSamples,y.defines.VSM_SAMPLES=I.blurSamples,b.needsUpdate=!0,y.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new tl(s.x,s.y)),b.uniforms.shadow_pass.value=I.map.texture,b.uniforms.resolution.value=I.mapSize,b.uniforms.radius.value=I.radius,i.setRenderTarget(I.mapPass),i.clear(),i.renderBufferDirect(F,null,j,b,E,null),y.uniforms.shadow_pass.value=I.mapPass.texture,y.uniforms.resolution.value=I.mapSize,y.uniforms.radius.value=I.radius,i.setRenderTarget(I.map),i.clear(),i.renderBufferDirect(F,null,j,y,E,null)}function R(I,F,j,B){let k=null;const J=j.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(J!==void 0)k=J;else if(k=j.isPointLight===!0?h:u,i.localClippingEnabled&&F.clipShadows===!0&&Array.isArray(F.clippingPlanes)&&F.clippingPlanes.length!==0||F.displacementMap&&F.displacementScale!==0||F.alphaMap&&F.alphaTest>0||F.map&&F.alphaTest>0||F.alphaToCoverage===!0){const Y=k.uuid,Z=F.uuid;let L=p[Y];L===void 0&&(L={},p[Y]=L);let re=L[Z];re===void 0&&(re=k.clone(),L[Z]=re,F.addEventListener("dispose",U)),k=re}if(k.visible=F.visible,k.wireframe=F.wireframe,B===io?k.side=F.shadowSide!==null?F.shadowSide:F.side:k.side=F.shadowSide!==null?F.shadowSide:v[F.side],k.alphaMap=F.alphaMap,k.alphaTest=F.alphaToCoverage===!0?.5:F.alphaTest,k.map=F.map,k.clipShadows=F.clipShadows,k.clippingPlanes=F.clippingPlanes,k.clipIntersection=F.clipIntersection,k.displacementMap=F.displacementMap,k.displacementScale=F.displacementScale,k.displacementBias=F.displacementBias,k.wireframeLinewidth=F.wireframeLinewidth,k.linewidth=F.linewidth,j.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const Y=i.properties.get(k);Y.light=j}return k}function O(I,F,j,B,k){if(I.visible===!1)return;if(I.layers.test(F.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&k===io)&&(!I.frustumCulled||n.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(j.matrixWorldInverse,I.matrixWorld);const Z=e.update(I),L=I.material;if(Array.isArray(L)){const re=Z.groups;for(let q=0,W=re.length;q<W;q++){const te=re[q],oe=L[te.materialIndex];if(oe&&oe.visible){const Se=R(I,oe,B,k);I.onBeforeShadow(i,I,F,j,Z,Se,te),i.renderBufferDirect(j,null,Z,Se,I,te),I.onAfterShadow(i,I,F,j,Z,Se,te)}}}else if(L.visible){const re=R(I,L,B,k);I.onBeforeShadow(i,I,F,j,Z,re,null),i.renderBufferDirect(j,null,Z,re,I,null),I.onAfterShadow(i,I,F,j,Z,re,null)}}const Y=I.children;for(let Z=0,L=Y.length;Z<L;Z++)O(Y[Z],F,j,B,k)}function U(I){I.target.removeEventListener("dispose",U);for(const j in p){const B=p[j],k=I.target.uuid;k in B&&(B[k].dispose(),delete B[k])}}}const T9={[Tv]:wv,[Av]:Rv,[Cv]:Dv,[Ad]:Nv,[wv]:Tv,[Rv]:Av,[Dv]:Cv,[Nv]:Ad};function w9(i,e){function t(){let me=!1;const it=new Un;let at=null;const Je=new Un(0,0,0,0);return{setMask:function(Ze){at!==Ze&&!me&&(i.colorMask(Ze,Ze,Ze,Ze),at=Ze)},setLocked:function(Ze){me=Ze},setClear:function(Ze,Xe,ct,Et,kt){kt===!0&&(Ze*=Et,Xe*=Et,ct*=Et),it.set(Ze,Xe,ct,Et),Je.equals(it)===!1&&(i.clearColor(Ze,Xe,ct,Et),Je.copy(it))},reset:function(){me=!1,at=null,Je.set(-1,0,0,0)}}}function n(){let me=!1,it=!1,at=null,Je=null,Ze=null;return{setReversed:function(Xe){if(it!==Xe){const ct=e.get("EXT_clip_control");Xe?ct.clipControlEXT(ct.LOWER_LEFT_EXT,ct.ZERO_TO_ONE_EXT):ct.clipControlEXT(ct.LOWER_LEFT_EXT,ct.NEGATIVE_ONE_TO_ONE_EXT),it=Xe;const Et=Ze;Ze=null,this.setClear(Et)}},getReversed:function(){return it},setTest:function(Xe){Xe?_e(i.DEPTH_TEST):Le(i.DEPTH_TEST)},setMask:function(Xe){at!==Xe&&!me&&(i.depthMask(Xe),at=Xe)},setFunc:function(Xe){if(it&&(Xe=T9[Xe]),Je!==Xe){switch(Xe){case Tv:i.depthFunc(i.NEVER);break;case wv:i.depthFunc(i.ALWAYS);break;case Av:i.depthFunc(i.LESS);break;case Ad:i.depthFunc(i.LEQUAL);break;case Cv:i.depthFunc(i.EQUAL);break;case Nv:i.depthFunc(i.GEQUAL);break;case Rv:i.depthFunc(i.GREATER);break;case Dv:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}Je=Xe}},setLocked:function(Xe){me=Xe},setClear:function(Xe){Ze!==Xe&&(it&&(Xe=1-Xe),i.clearDepth(Xe),Ze=Xe)},reset:function(){me=!1,at=null,Je=null,Ze=null,it=!1}}}function s(){let me=!1,it=null,at=null,Je=null,Ze=null,Xe=null,ct=null,Et=null,kt=null;return{setTest:function(Ft){me||(Ft?_e(i.STENCIL_TEST):Le(i.STENCIL_TEST))},setMask:function(Ft){it!==Ft&&!me&&(i.stencilMask(Ft),it=Ft)},setFunc:function(Ft,In,dn){(at!==Ft||Je!==In||Ze!==dn)&&(i.stencilFunc(Ft,In,dn),at=Ft,Je=In,Ze=dn)},setOp:function(Ft,In,dn){(Xe!==Ft||ct!==In||Et!==dn)&&(i.stencilOp(Ft,In,dn),Xe=Ft,ct=In,Et=dn)},setLocked:function(Ft){me=Ft},setClear:function(Ft){kt!==Ft&&(i.clearStencil(Ft),kt=Ft)},reset:function(){me=!1,it=null,at=null,Je=null,Ze=null,Xe=null,ct=null,Et=null,kt=null}}}const o=new t,c=new n,u=new s,h=new WeakMap,p=new WeakMap;let x={},v={},b=new WeakMap,y=[],S=null,E=!1,M=null,_=null,C=null,R=null,O=null,U=null,I=null,F=new bt(0,0,0),j=0,B=!1,k=null,J=null,Y=null,Z=null,L=null;const re=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,W=0;const te=i.getParameter(i.VERSION);te.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(te)[1]),q=W>=1):te.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),q=W>=2);let oe=null,Se={};const G=i.getParameter(i.SCISSOR_BOX),$=i.getParameter(i.VIEWPORT),se=new Un().fromArray(G),de=new Un().fromArray($);function xe(me,it,at,Je){const Ze=new Uint8Array(4),Xe=i.createTexture();i.bindTexture(me,Xe),i.texParameteri(me,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(me,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let ct=0;ct<at;ct++)me===i.TEXTURE_3D||me===i.TEXTURE_2D_ARRAY?i.texImage3D(it,0,i.RGBA,1,1,Je,0,i.RGBA,i.UNSIGNED_BYTE,Ze):i.texImage2D(it+ct,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Ze);return Xe}const ge={};ge[i.TEXTURE_2D]=xe(i.TEXTURE_2D,i.TEXTURE_2D,1),ge[i.TEXTURE_CUBE_MAP]=xe(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),ge[i.TEXTURE_2D_ARRAY]=xe(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),ge[i.TEXTURE_3D]=xe(i.TEXTURE_3D,i.TEXTURE_3D,1,1),o.setClear(0,0,0,1),c.setClear(1),u.setClear(0),_e(i.DEPTH_TEST),c.setFunc(Ad),he(!1),ee(g1),_e(i.CULL_FACE),P($o);function _e(me){x[me]!==!0&&(i.enable(me),x[me]=!0)}function Le(me){x[me]!==!1&&(i.disable(me),x[me]=!1)}function Ye(me,it){return v[me]!==it?(i.bindFramebuffer(me,it),v[me]=it,me===i.DRAW_FRAMEBUFFER&&(v[i.FRAMEBUFFER]=it),me===i.FRAMEBUFFER&&(v[i.DRAW_FRAMEBUFFER]=it),!0):!1}function qe(me,it){let at=y,Je=!1;if(me){at=b.get(it),at===void 0&&(at=[],b.set(it,at));const Ze=me.textures;if(at.length!==Ze.length||at[0]!==i.COLOR_ATTACHMENT0){for(let Xe=0,ct=Ze.length;Xe<ct;Xe++)at[Xe]=i.COLOR_ATTACHMENT0+Xe;at.length=Ze.length,Je=!0}}else at[0]!==i.BACK&&(at[0]=i.BACK,Je=!0);Je&&i.drawBuffers(at)}function ut(me){return S!==me?(i.useProgram(me),S=me,!0):!1}const St={[Wc]:i.FUNC_ADD,[Lw]:i.FUNC_SUBTRACT,[zw]:i.FUNC_REVERSE_SUBTRACT};St[Bw]=i.MIN,St[Pw]=i.MAX;const mt={[kw]:i.ZERO,[Fw]:i.ONE,[Hw]:i.SRC_COLOR,[Ev]:i.SRC_ALPHA,[qw]:i.SRC_ALPHA_SATURATE,[Yw]:i.DST_COLOR,[Vw]:i.DST_ALPHA,[jw]:i.ONE_MINUS_SRC_COLOR,[Mv]:i.ONE_MINUS_SRC_ALPHA,[Xw]:i.ONE_MINUS_DST_COLOR,[Gw]:i.ONE_MINUS_DST_ALPHA,[Ww]:i.CONSTANT_COLOR,[Zw]:i.ONE_MINUS_CONSTANT_COLOR,[Kw]:i.CONSTANT_ALPHA,[Jw]:i.ONE_MINUS_CONSTANT_ALPHA};function P(me,it,at,Je,Ze,Xe,ct,Et,kt,Ft){if(me===$o){E===!0&&(Le(i.BLEND),E=!1);return}if(E===!1&&(_e(i.BLEND),E=!0),me!==Iw){if(me!==M||Ft!==B){if((_!==Wc||O!==Wc)&&(i.blendEquation(i.FUNC_ADD),_=Wc,O=Wc),Ft)switch(me){case Md:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case n0:i.blendFunc(i.ONE,i.ONE);break;case x1:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case v1:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:Kt("WebGLState: Invalid blending: ",me);break}else switch(me){case Md:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case n0:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case x1:Kt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case v1:Kt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Kt("WebGLState: Invalid blending: ",me);break}C=null,R=null,U=null,I=null,F.set(0,0,0),j=0,M=me,B=Ft}return}Ze=Ze||it,Xe=Xe||at,ct=ct||Je,(it!==_||Ze!==O)&&(i.blendEquationSeparate(St[it],St[Ze]),_=it,O=Ze),(at!==C||Je!==R||Xe!==U||ct!==I)&&(i.blendFuncSeparate(mt[at],mt[Je],mt[Xe],mt[ct]),C=at,R=Je,U=Xe,I=ct),(Et.equals(F)===!1||kt!==j)&&(i.blendColor(Et.r,Et.g,Et.b,kt),F.copy(Et),j=kt),M=me,B=!1}function X(me,it){me.side===Zo?Le(i.CULL_FACE):_e(i.CULL_FACE);let at=me.side===ys;it&&(at=!at),he(at),me.blending===Md&&me.transparent===!1?P($o):P(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.blendColor,me.blendAlpha,me.premultipliedAlpha),c.setFunc(me.depthFunc),c.setTest(me.depthTest),c.setMask(me.depthWrite),o.setMask(me.colorWrite);const Je=me.stencilWrite;u.setTest(Je),Je&&(u.setMask(me.stencilWriteMask),u.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),u.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),le(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),me.alphaToCoverage===!0?_e(i.SAMPLE_ALPHA_TO_COVERAGE):Le(i.SAMPLE_ALPHA_TO_COVERAGE)}function he(me){k!==me&&(me?i.frontFace(i.CW):i.frontFace(i.CCW),k=me)}function ee(me){me!==Dw?(_e(i.CULL_FACE),me!==J&&(me===g1?i.cullFace(i.BACK):me===Ow?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Le(i.CULL_FACE),J=me}function Q(me){me!==Y&&(q&&i.lineWidth(me),Y=me)}function le(me,it,at){me?(_e(i.POLYGON_OFFSET_FILL),(Z!==it||L!==at)&&(i.polygonOffset(it,at),Z=it,L=at)):Le(i.POLYGON_OFFSET_FILL)}function Te(me){me?_e(i.SCISSOR_TEST):Le(i.SCISSOR_TEST)}function Me(me){me===void 0&&(me=i.TEXTURE0+re-1),oe!==me&&(i.activeTexture(me),oe=me)}function ve(me,it,at){at===void 0&&(oe===null?at=i.TEXTURE0+re-1:at=oe);let Je=Se[at];Je===void 0&&(Je={type:void 0,texture:void 0},Se[at]=Je),(Je.type!==me||Je.texture!==it)&&(oe!==at&&(i.activeTexture(at),oe=at),i.bindTexture(me,it||ge[me]),Je.type=me,Je.texture=it)}function K(){const me=Se[oe];me!==void 0&&me.type!==void 0&&(i.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function V(){try{i.compressedTexImage2D(...arguments)}catch(me){me("WebGLState:",me)}}function fe(){try{i.compressedTexImage3D(...arguments)}catch(me){me("WebGLState:",me)}}function we(){try{i.texSubImage2D(...arguments)}catch(me){me("WebGLState:",me)}}function He(){try{i.texSubImage3D(...arguments)}catch(me){me("WebGLState:",me)}}function Ce(){try{i.compressedTexSubImage2D(...arguments)}catch(me){me("WebGLState:",me)}}function ft(){try{i.compressedTexSubImage3D(...arguments)}catch(me){me("WebGLState:",me)}}function rt(){try{i.texStorage2D(...arguments)}catch(me){me("WebGLState:",me)}}function ht(){try{i.texStorage3D(...arguments)}catch(me){me("WebGLState:",me)}}function gt(){try{i.texImage2D(...arguments)}catch(me){me("WebGLState:",me)}}function Ve(){try{i.texImage3D(...arguments)}catch(me){me("WebGLState:",me)}}function tt(me){se.equals(me)===!1&&(i.scissor(me.x,me.y,me.z,me.w),se.copy(me))}function _t(me){de.equals(me)===!1&&(i.viewport(me.x,me.y,me.z,me.w),de.copy(me))}function pe(me,it){let at=p.get(it);at===void 0&&(at=new WeakMap,p.set(it,at));let Je=at.get(me);Je===void 0&&(Je=i.getUniformBlockIndex(it,me.name),at.set(me,Je))}function Ie(me,it){const Je=p.get(it).get(me);h.get(it)!==Je&&(i.uniformBlockBinding(it,Je,me.__bindingPointIndex),h.set(it,Je))}function nt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),c.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),x={},oe=null,Se={},v={},b=new WeakMap,y=[],S=null,E=!1,M=null,_=null,C=null,R=null,O=null,U=null,I=null,F=new bt(0,0,0),j=0,B=!1,k=null,J=null,Y=null,Z=null,L=null,se.set(0,0,i.canvas.width,i.canvas.height),de.set(0,0,i.canvas.width,i.canvas.height),o.reset(),c.reset(),u.reset()}return{buffers:{color:o,depth:c,stencil:u},enable:_e,disable:Le,bindFramebuffer:Ye,drawBuffers:qe,useProgram:ut,setBlending:P,setMaterial:X,setFlipSided:he,setCullFace:ee,setLineWidth:Q,setPolygonOffset:le,setScissorTest:Te,activeTexture:Me,bindTexture:ve,unbindTexture:K,compressedTexImage2D:V,compressedTexImage3D:fe,texImage2D:gt,texImage3D:Ve,updateUBOMapping:pe,uniformBlockBinding:Ie,texStorage2D:rt,texStorage3D:ht,texSubImage2D:we,texSubImage3D:He,compressedTexSubImage2D:Ce,compressedTexSubImage3D:ft,scissor:tt,viewport:_t,reset:nt}}function A9(i,e,t,n,s,o,c){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new $e,x=new WeakMap;let v;const b=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(K,V){return y?new OffscreenCanvas(K,V):d0("canvas")}function E(K,V,fe){let we=1;const He=ve(K);if((He.width>fe||He.height>fe)&&(we=fe/Math.max(He.width,He.height)),we<1)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap||typeof VideoFrame<"u"&&K instanceof VideoFrame){const Ce=Math.floor(we*He.width),ft=Math.floor(we*He.height);v===void 0&&(v=S(Ce,ft));const rt=V?S(Ce,ft):v;return rt.width=Ce,rt.height=ft,rt.getContext("2d").drawImage(K,0,0,Ce,ft),yt("WebGLRenderer: Texture has been resized from ("+He.width+"x"+He.height+") to ("+Ce+"x"+ft+")."),rt}else return"data"in K&&yt("WebGLRenderer: Image in DataTexture is too big ("+He.width+"x"+He.height+")."),K;return K}function M(K){return K.generateMipmaps}function _(K){i.generateMipmap(K)}function C(K){return K.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:K.isWebGL3DRenderTarget?i.TEXTURE_3D:K.isWebGLArrayRenderTarget||K.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function R(K,V,fe,we,He=!1){if(K!==null){if(i[K]!==void 0)return i[K];yt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let Ce=V;if(V===i.RED&&(fe===i.FLOAT&&(Ce=i.R32F),fe===i.HALF_FLOAT&&(Ce=i.R16F),fe===i.UNSIGNED_BYTE&&(Ce=i.R8)),V===i.RED_INTEGER&&(fe===i.UNSIGNED_BYTE&&(Ce=i.R8UI),fe===i.UNSIGNED_SHORT&&(Ce=i.R16UI),fe===i.UNSIGNED_INT&&(Ce=i.R32UI),fe===i.BYTE&&(Ce=i.R8I),fe===i.SHORT&&(Ce=i.R16I),fe===i.INT&&(Ce=i.R32I)),V===i.RG&&(fe===i.FLOAT&&(Ce=i.RG32F),fe===i.HALF_FLOAT&&(Ce=i.RG16F),fe===i.UNSIGNED_BYTE&&(Ce=i.RG8)),V===i.RG_INTEGER&&(fe===i.UNSIGNED_BYTE&&(Ce=i.RG8UI),fe===i.UNSIGNED_SHORT&&(Ce=i.RG16UI),fe===i.UNSIGNED_INT&&(Ce=i.RG32UI),fe===i.BYTE&&(Ce=i.RG8I),fe===i.SHORT&&(Ce=i.RG16I),fe===i.INT&&(Ce=i.RG32I)),V===i.RGB_INTEGER&&(fe===i.UNSIGNED_BYTE&&(Ce=i.RGB8UI),fe===i.UNSIGNED_SHORT&&(Ce=i.RGB16UI),fe===i.UNSIGNED_INT&&(Ce=i.RGB32UI),fe===i.BYTE&&(Ce=i.RGB8I),fe===i.SHORT&&(Ce=i.RGB16I),fe===i.INT&&(Ce=i.RGB32I)),V===i.RGBA_INTEGER&&(fe===i.UNSIGNED_BYTE&&(Ce=i.RGBA8UI),fe===i.UNSIGNED_SHORT&&(Ce=i.RGBA16UI),fe===i.UNSIGNED_INT&&(Ce=i.RGBA32UI),fe===i.BYTE&&(Ce=i.RGBA8I),fe===i.SHORT&&(Ce=i.RGBA16I),fe===i.INT&&(Ce=i.RGBA32I)),V===i.RGB&&(fe===i.UNSIGNED_INT_5_9_9_9_REV&&(Ce=i.RGB9_E5),fe===i.UNSIGNED_INT_10F_11F_11F_REV&&(Ce=i.R11F_G11F_B10F)),V===i.RGBA){const ft=He?c0:Nn.getTransfer(we);fe===i.FLOAT&&(Ce=i.RGBA32F),fe===i.HALF_FLOAT&&(Ce=i.RGBA16F),fe===i.UNSIGNED_BYTE&&(Ce=ft===Wn?i.SRGB8_ALPHA8:i.RGBA8),fe===i.UNSIGNED_SHORT_4_4_4_4&&(Ce=i.RGBA4),fe===i.UNSIGNED_SHORT_5_5_5_1&&(Ce=i.RGB5_A1)}return(Ce===i.R16F||Ce===i.R32F||Ce===i.RG16F||Ce===i.RG32F||Ce===i.RGBA16F||Ce===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function O(K,V){let fe;return K?V===null||V===Kl||V===Sh?fe=i.DEPTH24_STENCIL8:V===Bs?fe=i.DEPTH32F_STENCIL8:V===_h&&(fe=i.DEPTH24_STENCIL8,yt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===Kl||V===Sh?fe=i.DEPTH_COMPONENT24:V===Bs?fe=i.DEPTH_COMPONENT32F:V===_h&&(fe=i.DEPTH_COMPONENT16),fe}function U(K,V){return M(K)===!0||K.isFramebufferTexture&&K.minFilter!==Na&&K.minFilter!==ji?Math.log2(Math.max(V.width,V.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?V.mipmaps.length:1}function I(K){const V=K.target;V.removeEventListener("dispose",I),j(V),V.isVideoTexture&&x.delete(V)}function F(K){const V=K.target;V.removeEventListener("dispose",F),k(V)}function j(K){const V=n.get(K);if(V.__webglInit===void 0)return;const fe=K.source,we=b.get(fe);if(we){const He=we[V.__cacheKey];He.usedTimes--,He.usedTimes===0&&B(K),Object.keys(we).length===0&&b.delete(fe)}n.remove(K)}function B(K){const V=n.get(K);i.deleteTexture(V.__webglTexture);const fe=K.source,we=b.get(fe);delete we[V.__cacheKey],c.memory.textures--}function k(K){const V=n.get(K);if(K.depthTexture&&(K.depthTexture.dispose(),n.remove(K.depthTexture)),K.isWebGLCubeRenderTarget)for(let we=0;we<6;we++){if(Array.isArray(V.__webglFramebuffer[we]))for(let He=0;He<V.__webglFramebuffer[we].length;He++)i.deleteFramebuffer(V.__webglFramebuffer[we][He]);else i.deleteFramebuffer(V.__webglFramebuffer[we]);V.__webglDepthbuffer&&i.deleteRenderbuffer(V.__webglDepthbuffer[we])}else{if(Array.isArray(V.__webglFramebuffer))for(let we=0;we<V.__webglFramebuffer.length;we++)i.deleteFramebuffer(V.__webglFramebuffer[we]);else i.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&i.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&i.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let we=0;we<V.__webglColorRenderbuffer.length;we++)V.__webglColorRenderbuffer[we]&&i.deleteRenderbuffer(V.__webglColorRenderbuffer[we]);V.__webglDepthRenderbuffer&&i.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const fe=K.textures;for(let we=0,He=fe.length;we<He;we++){const Ce=n.get(fe[we]);Ce.__webglTexture&&(i.deleteTexture(Ce.__webglTexture),c.memory.textures--),n.remove(fe[we])}n.remove(K)}let J=0;function Y(){J=0}function Z(){const K=J;return K>=s.maxTextures&&yt("WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+s.maxTextures),J+=1,K}function L(K){const V=[];return V.push(K.wrapS),V.push(K.wrapT),V.push(K.wrapR||0),V.push(K.magFilter),V.push(K.minFilter),V.push(K.anisotropy),V.push(K.internalFormat),V.push(K.format),V.push(K.type),V.push(K.generateMipmaps),V.push(K.premultiplyAlpha),V.push(K.flipY),V.push(K.unpackAlignment),V.push(K.colorSpace),V.join()}function re(K,V){const fe=n.get(K);if(K.isVideoTexture&&Te(K),K.isRenderTargetTexture===!1&&K.isExternalTexture!==!0&&K.version>0&&fe.__version!==K.version){const we=K.image;if(we===null)yt("WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)yt("WebGLRenderer: Texture marked for update but image is incomplete");else{ge(fe,K,V);return}}else K.isExternalTexture&&(fe.__webglTexture=K.sourceTexture?K.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,fe.__webglTexture,i.TEXTURE0+V)}function q(K,V){const fe=n.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&fe.__version!==K.version){ge(fe,K,V);return}else K.isExternalTexture&&(fe.__webglTexture=K.sourceTexture?K.sourceTexture:null);t.bindTexture(i.TEXTURE_2D_ARRAY,fe.__webglTexture,i.TEXTURE0+V)}function W(K,V){const fe=n.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&fe.__version!==K.version){ge(fe,K,V);return}t.bindTexture(i.TEXTURE_3D,fe.__webglTexture,i.TEXTURE0+V)}function te(K,V){const fe=n.get(K);if(K.version>0&&fe.__version!==K.version){_e(fe,K,V);return}t.bindTexture(i.TEXTURE_CUBE_MAP,fe.__webglTexture,i.TEXTURE0+V)}const oe={[s0]:i.REPEAT,[zs]:i.CLAMP_TO_EDGE,[r0]:i.MIRRORED_REPEAT},Se={[Na]:i.NEAREST,[eS]:i.NEAREST_MIPMAP_NEAREST,[mh]:i.NEAREST_MIPMAP_LINEAR,[ji]:i.LINEAR,[Vm]:i.LINEAR_MIPMAP_NEAREST,[Ko]:i.LINEAR_MIPMAP_LINEAR},G={[hA]:i.NEVER,[yA]:i.ALWAYS,[pA]:i.LESS,[lS]:i.LEQUAL,[mA]:i.EQUAL,[vA]:i.GEQUAL,[gA]:i.GREATER,[xA]:i.NOTEQUAL};function $(K,V){if(V.type===Bs&&e.has("OES_texture_float_linear")===!1&&(V.magFilter===ji||V.magFilter===Vm||V.magFilter===mh||V.magFilter===Ko||V.minFilter===ji||V.minFilter===Vm||V.minFilter===mh||V.minFilter===Ko)&&yt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(K,i.TEXTURE_WRAP_S,oe[V.wrapS]),i.texParameteri(K,i.TEXTURE_WRAP_T,oe[V.wrapT]),(K===i.TEXTURE_3D||K===i.TEXTURE_2D_ARRAY)&&i.texParameteri(K,i.TEXTURE_WRAP_R,oe[V.wrapR]),i.texParameteri(K,i.TEXTURE_MAG_FILTER,Se[V.magFilter]),i.texParameteri(K,i.TEXTURE_MIN_FILTER,Se[V.minFilter]),V.compareFunction&&(i.texParameteri(K,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(K,i.TEXTURE_COMPARE_FUNC,G[V.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===Na||V.minFilter!==mh&&V.minFilter!==Ko||V.type===Bs&&e.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||n.get(V).__currentAnisotropy){const fe=e.get("EXT_texture_filter_anisotropic");i.texParameterf(K,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,s.getMaxAnisotropy())),n.get(V).__currentAnisotropy=V.anisotropy}}}function se(K,V){let fe=!1;K.__webglInit===void 0&&(K.__webglInit=!0,V.addEventListener("dispose",I));const we=V.source;let He=b.get(we);He===void 0&&(He={},b.set(we,He));const Ce=L(V);if(Ce!==K.__cacheKey){He[Ce]===void 0&&(He[Ce]={texture:i.createTexture(),usedTimes:0},c.memory.textures++,fe=!0),He[Ce].usedTimes++;const ft=He[K.__cacheKey];ft!==void 0&&(He[K.__cacheKey].usedTimes--,ft.usedTimes===0&&B(V)),K.__cacheKey=Ce,K.__webglTexture=He[Ce].texture}return fe}function de(K,V,fe){return Math.floor(Math.floor(K/fe)/V)}function xe(K,V,fe,we){const Ce=K.updateRanges;if(Ce.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,V.width,V.height,fe,we,V.data);else{Ce.sort((Ve,tt)=>Ve.start-tt.start);let ft=0;for(let Ve=1;Ve<Ce.length;Ve++){const tt=Ce[ft],_t=Ce[Ve],pe=tt.start+tt.count,Ie=de(_t.start,V.width,4),nt=de(tt.start,V.width,4);_t.start<=pe+1&&Ie===nt&&de(_t.start+_t.count-1,V.width,4)===Ie?tt.count=Math.max(tt.count,_t.start+_t.count-tt.start):(++ft,Ce[ft]=_t)}Ce.length=ft+1;const rt=i.getParameter(i.UNPACK_ROW_LENGTH),ht=i.getParameter(i.UNPACK_SKIP_PIXELS),gt=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,V.width);for(let Ve=0,tt=Ce.length;Ve<tt;Ve++){const _t=Ce[Ve],pe=Math.floor(_t.start/4),Ie=Math.ceil(_t.count/4),nt=pe%V.width,me=Math.floor(pe/V.width),it=Ie,at=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,nt),i.pixelStorei(i.UNPACK_SKIP_ROWS,me),t.texSubImage2D(i.TEXTURE_2D,0,nt,me,it,at,fe,we,V.data)}K.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,rt),i.pixelStorei(i.UNPACK_SKIP_PIXELS,ht),i.pixelStorei(i.UNPACK_SKIP_ROWS,gt)}}function ge(K,V,fe){let we=i.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(we=i.TEXTURE_2D_ARRAY),V.isData3DTexture&&(we=i.TEXTURE_3D);const He=se(K,V),Ce=V.source;t.bindTexture(we,K.__webglTexture,i.TEXTURE0+fe);const ft=n.get(Ce);if(Ce.version!==ft.__version||He===!0){t.activeTexture(i.TEXTURE0+fe);const rt=Nn.getPrimaries(Nn.workingColorSpace),ht=V.colorSpace===Yl?null:Nn.getPrimaries(V.colorSpace),gt=V.colorSpace===Yl||rt===ht?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,V.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,V.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);let Ve=E(V.image,!1,s.maxTextureSize);Ve=Me(V,Ve);const tt=o.convert(V.format,V.colorSpace),_t=o.convert(V.type);let pe=R(V.internalFormat,tt,_t,V.colorSpace,V.isVideoTexture);$(we,V);let Ie;const nt=V.mipmaps,me=V.isVideoTexture!==!0,it=ft.__version===void 0||He===!0,at=Ce.dataReady,Je=U(V,Ve);if(V.isDepthTexture)pe=O(V.format===Mh,V.type),it&&(me?t.texStorage2D(i.TEXTURE_2D,1,pe,Ve.width,Ve.height):t.texImage2D(i.TEXTURE_2D,0,pe,Ve.width,Ve.height,0,tt,_t,null));else if(V.isDataTexture)if(nt.length>0){me&&it&&t.texStorage2D(i.TEXTURE_2D,Je,pe,nt[0].width,nt[0].height);for(let Ze=0,Xe=nt.length;Ze<Xe;Ze++)Ie=nt[Ze],me?at&&t.texSubImage2D(i.TEXTURE_2D,Ze,0,0,Ie.width,Ie.height,tt,_t,Ie.data):t.texImage2D(i.TEXTURE_2D,Ze,pe,Ie.width,Ie.height,0,tt,_t,Ie.data);V.generateMipmaps=!1}else me?(it&&t.texStorage2D(i.TEXTURE_2D,Je,pe,Ve.width,Ve.height),at&&xe(V,Ve,tt,_t)):t.texImage2D(i.TEXTURE_2D,0,pe,Ve.width,Ve.height,0,tt,_t,Ve.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){me&&it&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Je,pe,nt[0].width,nt[0].height,Ve.depth);for(let Ze=0,Xe=nt.length;Ze<Xe;Ze++)if(Ie=nt[Ze],V.format!==Za)if(tt!==null)if(me){if(at)if(V.layerUpdates.size>0){const ct=C1(Ie.width,Ie.height,V.format,V.type);for(const Et of V.layerUpdates){const kt=Ie.data.subarray(Et*ct/Ie.data.BYTES_PER_ELEMENT,(Et+1)*ct/Ie.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Ze,0,0,Et,Ie.width,Ie.height,1,tt,kt)}V.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Ze,0,0,0,Ie.width,Ie.height,Ve.depth,tt,Ie.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Ze,pe,Ie.width,Ie.height,Ve.depth,0,Ie.data,0,0);else yt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else me?at&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,Ze,0,0,0,Ie.width,Ie.height,Ve.depth,tt,_t,Ie.data):t.texImage3D(i.TEXTURE_2D_ARRAY,Ze,pe,Ie.width,Ie.height,Ve.depth,0,tt,_t,Ie.data)}else{me&&it&&t.texStorage2D(i.TEXTURE_2D,Je,pe,nt[0].width,nt[0].height);for(let Ze=0,Xe=nt.length;Ze<Xe;Ze++)Ie=nt[Ze],V.format!==Za?tt!==null?me?at&&t.compressedTexSubImage2D(i.TEXTURE_2D,Ze,0,0,Ie.width,Ie.height,tt,Ie.data):t.compressedTexImage2D(i.TEXTURE_2D,Ze,pe,Ie.width,Ie.height,0,Ie.data):yt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?at&&t.texSubImage2D(i.TEXTURE_2D,Ze,0,0,Ie.width,Ie.height,tt,_t,Ie.data):t.texImage2D(i.TEXTURE_2D,Ze,pe,Ie.width,Ie.height,0,tt,_t,Ie.data)}else if(V.isDataArrayTexture)if(me){if(it&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Je,pe,Ve.width,Ve.height,Ve.depth),at)if(V.layerUpdates.size>0){const Ze=C1(Ve.width,Ve.height,V.format,V.type);for(const Xe of V.layerUpdates){const ct=Ve.data.subarray(Xe*Ze/Ve.data.BYTES_PER_ELEMENT,(Xe+1)*Ze/Ve.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Xe,Ve.width,Ve.height,1,tt,_t,ct)}V.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,tt,_t,Ve.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,pe,Ve.width,Ve.height,Ve.depth,0,tt,_t,Ve.data);else if(V.isData3DTexture)me?(it&&t.texStorage3D(i.TEXTURE_3D,Je,pe,Ve.width,Ve.height,Ve.depth),at&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,tt,_t,Ve.data)):t.texImage3D(i.TEXTURE_3D,0,pe,Ve.width,Ve.height,Ve.depth,0,tt,_t,Ve.data);else if(V.isFramebufferTexture){if(it)if(me)t.texStorage2D(i.TEXTURE_2D,Je,pe,Ve.width,Ve.height);else{let Ze=Ve.width,Xe=Ve.height;for(let ct=0;ct<Je;ct++)t.texImage2D(i.TEXTURE_2D,ct,pe,Ze,Xe,0,tt,_t,null),Ze>>=1,Xe>>=1}}else if(nt.length>0){if(me&&it){const Ze=ve(nt[0]);t.texStorage2D(i.TEXTURE_2D,Je,pe,Ze.width,Ze.height)}for(let Ze=0,Xe=nt.length;Ze<Xe;Ze++)Ie=nt[Ze],me?at&&t.texSubImage2D(i.TEXTURE_2D,Ze,0,0,tt,_t,Ie):t.texImage2D(i.TEXTURE_2D,Ze,pe,tt,_t,Ie);V.generateMipmaps=!1}else if(me){if(it){const Ze=ve(Ve);t.texStorage2D(i.TEXTURE_2D,Je,pe,Ze.width,Ze.height)}at&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,tt,_t,Ve)}else t.texImage2D(i.TEXTURE_2D,0,pe,tt,_t,Ve);M(V)&&_(we),ft.__version=Ce.version,V.onUpdate&&V.onUpdate(V)}K.__version=V.version}function _e(K,V,fe){if(V.image.length!==6)return;const we=se(K,V),He=V.source;t.bindTexture(i.TEXTURE_CUBE_MAP,K.__webglTexture,i.TEXTURE0+fe);const Ce=n.get(He);if(He.version!==Ce.__version||we===!0){t.activeTexture(i.TEXTURE0+fe);const ft=Nn.getPrimaries(Nn.workingColorSpace),rt=V.colorSpace===Yl?null:Nn.getPrimaries(V.colorSpace),ht=V.colorSpace===Yl||ft===rt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,V.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,V.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ht);const gt=V.isCompressedTexture||V.image[0].isCompressedTexture,Ve=V.image[0]&&V.image[0].isDataTexture,tt=[];for(let Xe=0;Xe<6;Xe++)!gt&&!Ve?tt[Xe]=E(V.image[Xe],!0,s.maxCubemapSize):tt[Xe]=Ve?V.image[Xe].image:V.image[Xe],tt[Xe]=Me(V,tt[Xe]);const _t=tt[0],pe=o.convert(V.format,V.colorSpace),Ie=o.convert(V.type),nt=R(V.internalFormat,pe,Ie,V.colorSpace),me=V.isVideoTexture!==!0,it=Ce.__version===void 0||we===!0,at=He.dataReady;let Je=U(V,_t);$(i.TEXTURE_CUBE_MAP,V);let Ze;if(gt){me&&it&&t.texStorage2D(i.TEXTURE_CUBE_MAP,Je,nt,_t.width,_t.height);for(let Xe=0;Xe<6;Xe++){Ze=tt[Xe].mipmaps;for(let ct=0;ct<Ze.length;ct++){const Et=Ze[ct];V.format!==Za?pe!==null?me?at&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,ct,0,0,Et.width,Et.height,pe,Et.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,ct,nt,Et.width,Et.height,0,Et.data):yt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):me?at&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,ct,0,0,Et.width,Et.height,pe,Ie,Et.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,ct,nt,Et.width,Et.height,0,pe,Ie,Et.data)}}}else{if(Ze=V.mipmaps,me&&it){Ze.length>0&&Je++;const Xe=ve(tt[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,Je,nt,Xe.width,Xe.height)}for(let Xe=0;Xe<6;Xe++)if(Ve){me?at&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,0,0,tt[Xe].width,tt[Xe].height,pe,Ie,tt[Xe].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,nt,tt[Xe].width,tt[Xe].height,0,pe,Ie,tt[Xe].data);for(let ct=0;ct<Ze.length;ct++){const kt=Ze[ct].image[Xe].image;me?at&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,ct+1,0,0,kt.width,kt.height,pe,Ie,kt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,ct+1,nt,kt.width,kt.height,0,pe,Ie,kt.data)}}else{me?at&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,0,0,pe,Ie,tt[Xe]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,nt,pe,Ie,tt[Xe]);for(let ct=0;ct<Ze.length;ct++){const Et=Ze[ct];me?at&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,ct+1,0,0,pe,Ie,Et.image[Xe]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,ct+1,nt,pe,Ie,Et.image[Xe])}}}M(V)&&_(i.TEXTURE_CUBE_MAP),Ce.__version=He.version,V.onUpdate&&V.onUpdate(V)}K.__version=V.version}function Le(K,V,fe,we,He,Ce){const ft=o.convert(fe.format,fe.colorSpace),rt=o.convert(fe.type),ht=R(fe.internalFormat,ft,rt,fe.colorSpace),gt=n.get(V),Ve=n.get(fe);if(Ve.__renderTarget=V,!gt.__hasExternalTextures){const tt=Math.max(1,V.width>>Ce),_t=Math.max(1,V.height>>Ce);He===i.TEXTURE_3D||He===i.TEXTURE_2D_ARRAY?t.texImage3D(He,Ce,ht,tt,_t,V.depth,0,ft,rt,null):t.texImage2D(He,Ce,ht,tt,_t,0,ft,rt,null)}t.bindFramebuffer(i.FRAMEBUFFER,K),le(V)?u.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,we,He,Ve.__webglTexture,0,Q(V)):(He===i.TEXTURE_2D||He>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&He<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,we,He,Ve.__webglTexture,Ce),t.bindFramebuffer(i.FRAMEBUFFER,null)}function Ye(K,V,fe){if(i.bindRenderbuffer(i.RENDERBUFFER,K),V.depthBuffer){const we=V.depthTexture,He=we&&we.isDepthTexture?we.type:null,Ce=O(V.stencilBuffer,He),ft=V.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,rt=Q(V);le(V)?u.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,rt,Ce,V.width,V.height):fe?i.renderbufferStorageMultisample(i.RENDERBUFFER,rt,Ce,V.width,V.height):i.renderbufferStorage(i.RENDERBUFFER,Ce,V.width,V.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,ft,i.RENDERBUFFER,K)}else{const we=V.textures;for(let He=0;He<we.length;He++){const Ce=we[He],ft=o.convert(Ce.format,Ce.colorSpace),rt=o.convert(Ce.type),ht=R(Ce.internalFormat,ft,rt,Ce.colorSpace),gt=Q(V);fe&&le(V)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,gt,ht,V.width,V.height):le(V)?u.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,gt,ht,V.width,V.height):i.renderbufferStorage(i.RENDERBUFFER,ht,V.width,V.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function qe(K,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,K),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const we=n.get(V.depthTexture);we.__renderTarget=V,(!we.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),re(V.depthTexture,0);const He=we.__webglTexture,Ce=Q(V);if(V.depthTexture.format===Eh)le(V)?u.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,He,0,Ce):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,He,0);else if(V.depthTexture.format===Mh)le(V)?u.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,He,0,Ce):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,He,0);else throw new Error("Unknown depthTexture format")}function ut(K){const V=n.get(K),fe=K.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==K.depthTexture){const we=K.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),we){const He=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,we.removeEventListener("dispose",He)};we.addEventListener("dispose",He),V.__depthDisposeCallback=He}V.__boundDepthTexture=we}if(K.depthTexture&&!V.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");const we=K.texture.mipmaps;we&&we.length>0?qe(V.__webglFramebuffer[0],K):qe(V.__webglFramebuffer,K)}else if(fe){V.__webglDepthbuffer=[];for(let we=0;we<6;we++)if(t.bindFramebuffer(i.FRAMEBUFFER,V.__webglFramebuffer[we]),V.__webglDepthbuffer[we]===void 0)V.__webglDepthbuffer[we]=i.createRenderbuffer(),Ye(V.__webglDepthbuffer[we],K,!1);else{const He=K.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ce=V.__webglDepthbuffer[we];i.bindRenderbuffer(i.RENDERBUFFER,Ce),i.framebufferRenderbuffer(i.FRAMEBUFFER,He,i.RENDERBUFFER,Ce)}}else{const we=K.texture.mipmaps;if(we&&we.length>0?t.bindFramebuffer(i.FRAMEBUFFER,V.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=i.createRenderbuffer(),Ye(V.__webglDepthbuffer,K,!1);else{const He=K.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ce=V.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Ce),i.framebufferRenderbuffer(i.FRAMEBUFFER,He,i.RENDERBUFFER,Ce)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function St(K,V,fe){const we=n.get(K);V!==void 0&&Le(we.__webglFramebuffer,K,K.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),fe!==void 0&&ut(K)}function mt(K){const V=K.texture,fe=n.get(K),we=n.get(V);K.addEventListener("dispose",F);const He=K.textures,Ce=K.isWebGLCubeRenderTarget===!0,ft=He.length>1;if(ft||(we.__webglTexture===void 0&&(we.__webglTexture=i.createTexture()),we.__version=V.version,c.memory.textures++),Ce){fe.__webglFramebuffer=[];for(let rt=0;rt<6;rt++)if(V.mipmaps&&V.mipmaps.length>0){fe.__webglFramebuffer[rt]=[];for(let ht=0;ht<V.mipmaps.length;ht++)fe.__webglFramebuffer[rt][ht]=i.createFramebuffer()}else fe.__webglFramebuffer[rt]=i.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){fe.__webglFramebuffer=[];for(let rt=0;rt<V.mipmaps.length;rt++)fe.__webglFramebuffer[rt]=i.createFramebuffer()}else fe.__webglFramebuffer=i.createFramebuffer();if(ft)for(let rt=0,ht=He.length;rt<ht;rt++){const gt=n.get(He[rt]);gt.__webglTexture===void 0&&(gt.__webglTexture=i.createTexture(),c.memory.textures++)}if(K.samples>0&&le(K)===!1){fe.__webglMultisampledFramebuffer=i.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let rt=0;rt<He.length;rt++){const ht=He[rt];fe.__webglColorRenderbuffer[rt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,fe.__webglColorRenderbuffer[rt]);const gt=o.convert(ht.format,ht.colorSpace),Ve=o.convert(ht.type),tt=R(ht.internalFormat,gt,Ve,ht.colorSpace,K.isXRRenderTarget===!0),_t=Q(K);i.renderbufferStorageMultisample(i.RENDERBUFFER,_t,tt,K.width,K.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+rt,i.RENDERBUFFER,fe.__webglColorRenderbuffer[rt])}i.bindRenderbuffer(i.RENDERBUFFER,null),K.depthBuffer&&(fe.__webglDepthRenderbuffer=i.createRenderbuffer(),Ye(fe.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Ce){t.bindTexture(i.TEXTURE_CUBE_MAP,we.__webglTexture),$(i.TEXTURE_CUBE_MAP,V);for(let rt=0;rt<6;rt++)if(V.mipmaps&&V.mipmaps.length>0)for(let ht=0;ht<V.mipmaps.length;ht++)Le(fe.__webglFramebuffer[rt][ht],K,V,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,ht);else Le(fe.__webglFramebuffer[rt],K,V,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0);M(V)&&_(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ft){for(let rt=0,ht=He.length;rt<ht;rt++){const gt=He[rt],Ve=n.get(gt);let tt=i.TEXTURE_2D;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(tt=K.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(tt,Ve.__webglTexture),$(tt,gt),Le(fe.__webglFramebuffer,K,gt,i.COLOR_ATTACHMENT0+rt,tt,0),M(gt)&&_(tt)}t.unbindTexture()}else{let rt=i.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(rt=K.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(rt,we.__webglTexture),$(rt,V),V.mipmaps&&V.mipmaps.length>0)for(let ht=0;ht<V.mipmaps.length;ht++)Le(fe.__webglFramebuffer[ht],K,V,i.COLOR_ATTACHMENT0,rt,ht);else Le(fe.__webglFramebuffer,K,V,i.COLOR_ATTACHMENT0,rt,0);M(V)&&_(rt),t.unbindTexture()}K.depthBuffer&&ut(K)}function P(K){const V=K.textures;for(let fe=0,we=V.length;fe<we;fe++){const He=V[fe];if(M(He)){const Ce=C(K),ft=n.get(He).__webglTexture;t.bindTexture(Ce,ft),_(Ce),t.unbindTexture()}}}const X=[],he=[];function ee(K){if(K.samples>0){if(le(K)===!1){const V=K.textures,fe=K.width,we=K.height;let He=i.COLOR_BUFFER_BIT;const Ce=K.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ft=n.get(K),rt=V.length>1;if(rt)for(let gt=0;gt<V.length;gt++)t.bindFramebuffer(i.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+gt,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,ft.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+gt,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,ft.__webglMultisampledFramebuffer);const ht=K.texture.mipmaps;ht&&ht.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ft.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ft.__webglFramebuffer);for(let gt=0;gt<V.length;gt++){if(K.resolveDepthBuffer&&(K.depthBuffer&&(He|=i.DEPTH_BUFFER_BIT),K.stencilBuffer&&K.resolveStencilBuffer&&(He|=i.STENCIL_BUFFER_BIT)),rt){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,ft.__webglColorRenderbuffer[gt]);const Ve=n.get(V[gt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Ve,0)}i.blitFramebuffer(0,0,fe,we,0,0,fe,we,He,i.NEAREST),h===!0&&(X.length=0,he.length=0,X.push(i.COLOR_ATTACHMENT0+gt),K.depthBuffer&&K.resolveDepthBuffer===!1&&(X.push(Ce),he.push(Ce),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,he)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,X))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),rt)for(let gt=0;gt<V.length;gt++){t.bindFramebuffer(i.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+gt,i.RENDERBUFFER,ft.__webglColorRenderbuffer[gt]);const Ve=n.get(V[gt]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,ft.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+gt,i.TEXTURE_2D,Ve,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ft.__webglMultisampledFramebuffer)}else if(K.depthBuffer&&K.resolveDepthBuffer===!1&&h){const V=K.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[V])}}}function Q(K){return Math.min(s.maxSamples,K.samples)}function le(K){const V=n.get(K);return K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Te(K){const V=c.render.frame;x.get(K)!==V&&(x.set(K,V),K.update())}function Me(K,V){const fe=K.colorSpace,we=K.format,He=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||fe!==nu&&fe!==Yl&&(Nn.getTransfer(fe)===Wn?(we!==Za||He!==Ar)&&yt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Kt("WebGLTextures: Unsupported texture color space:",fe)),V}function ve(K){return typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement?(p.width=K.naturalWidth||K.width,p.height=K.naturalHeight||K.height):typeof VideoFrame<"u"&&K instanceof VideoFrame?(p.width=K.displayWidth,p.height=K.displayHeight):(p.width=K.width,p.height=K.height),p}this.allocateTextureUnit=Z,this.resetTextureUnits=Y,this.setTexture2D=re,this.setTexture2DArray=q,this.setTexture3D=W,this.setTextureCube=te,this.rebindTextures=St,this.setupRenderTarget=mt,this.updateRenderTargetMipmap=P,this.updateMultisampleRenderTarget=ee,this.setupDepthRenderbuffer=ut,this.setupFrameBufferTexture=Le,this.useMultisampledRTT=le}function RC(i,e){function t(n,s=Yl){let o;const c=Nn.getTransfer(s);if(n===Ar)return i.UNSIGNED_BYTE;if(n===Ny)return i.UNSIGNED_SHORT_4_4_4_4;if(n===Ry)return i.UNSIGNED_SHORT_5_5_5_1;if(n===iS)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===aS)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===tS)return i.BYTE;if(n===nS)return i.SHORT;if(n===_h)return i.UNSIGNED_SHORT;if(n===Cy)return i.INT;if(n===Kl)return i.UNSIGNED_INT;if(n===Bs)return i.FLOAT;if(n===Dd)return i.HALF_FLOAT;if(n===sS)return i.ALPHA;if(n===rS)return i.RGB;if(n===Za)return i.RGBA;if(n===Eh)return i.DEPTH_COMPONENT;if(n===Mh)return i.DEPTH_STENCIL;if(n===Dy)return i.RED;if(n===R0)return i.RED_INTEGER;if(n===Oy)return i.RG;if(n===Uy)return i.RG_INTEGER;if(n===Iy)return i.RGBA_INTEGER;if(n===Gm||n===Ym||n===Xm||n===qm)if(c===Wn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(n===Gm)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Ym)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Xm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===qm)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(n===Gm)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ym)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Xm)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===qm)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Ov||n===Uv||n===Iv||n===Lv)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(n===Ov)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Uv)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Iv)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Lv)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===zv||n===Bv||n===Pv)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(n===zv||n===Bv)return c===Wn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===Pv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===kv||n===Fv||n===Hv||n===jv||n===Vv||n===Gv||n===Yv||n===Xv||n===qv||n===Wv||n===Zv||n===Kv||n===Jv||n===Qv)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(n===kv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Fv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Hv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===jv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Vv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Gv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Yv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Xv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===qv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Wv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Zv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Kv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Jv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Qv)return c===Wn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===$v||n===ey||n===ty)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(n===$v)return c===Wn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===ey)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===ty)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===ny||n===iy||n===ay||n===sy)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(n===ny)return o.COMPRESSED_RED_RGTC1_EXT;if(n===iy)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===ay)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===sy)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Sh?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const C9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,N9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class R9{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new vS(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new ir({vertexShader:C9,fragmentShader:N9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new oa(new jh(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class D9 extends nl{constructor(e,t){super();const n=this;let s=null,o=1,c=null,u="local-floor",h=1,p=null,x=null,v=null,b=null,y=null,S=null;const E=typeof XRWebGLBinding<"u",M=new R9,_={},C=t.getContextAttributes();let R=null,O=null;const U=[],I=[],F=new $e;let j=null;const B=new Hi;B.viewport=new Un;const k=new Hi;k.viewport=new Un;const J=[B,k],Y=new yC;let Z=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ge){let _e=U[ge];return _e===void 0&&(_e=new lv,U[ge]=_e),_e.getTargetRaySpace()},this.getControllerGrip=function(ge){let _e=U[ge];return _e===void 0&&(_e=new lv,U[ge]=_e),_e.getGripSpace()},this.getHand=function(ge){let _e=U[ge];return _e===void 0&&(_e=new lv,U[ge]=_e),_e.getHandSpace()};function re(ge){const _e=I.indexOf(ge.inputSource);if(_e===-1)return;const Le=U[_e];Le!==void 0&&(Le.update(ge.inputSource,ge.frame,p||c),Le.dispatchEvent({type:ge.type,data:ge.inputSource}))}function q(){s.removeEventListener("select",re),s.removeEventListener("selectstart",re),s.removeEventListener("selectend",re),s.removeEventListener("squeeze",re),s.removeEventListener("squeezestart",re),s.removeEventListener("squeezeend",re),s.removeEventListener("end",q),s.removeEventListener("inputsourceschange",W);for(let ge=0;ge<U.length;ge++){const _e=I[ge];_e!==null&&(I[ge]=null,U[ge].disconnect(_e))}Z=null,L=null,M.reset();for(const ge in _)delete _[ge];e.setRenderTarget(R),y=null,b=null,v=null,s=null,O=null,xe.stop(),n.isPresenting=!1,e.setPixelRatio(j),e.setSize(F.width,F.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ge){o=ge,n.isPresenting===!0&&yt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ge){u=ge,n.isPresenting===!0&&yt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||c},this.setReferenceSpace=function(ge){p=ge},this.getBaseLayer=function(){return b!==null?b:y},this.getBinding=function(){return v===null&&E&&(v=new XRWebGLBinding(s,t)),v},this.getFrame=function(){return S},this.getSession=function(){return s},this.setSession=async function(ge){if(s=ge,s!==null){if(R=e.getRenderTarget(),s.addEventListener("select",re),s.addEventListener("selectstart",re),s.addEventListener("selectend",re),s.addEventListener("squeeze",re),s.addEventListener("squeezestart",re),s.addEventListener("squeezeend",re),s.addEventListener("end",q),s.addEventListener("inputsourceschange",W),C.xrCompatible!==!0&&await t.makeXRCompatible(),j=e.getPixelRatio(),e.getSize(F),E&&"createProjectionLayer"in XRWebGLBinding.prototype){let Le=null,Ye=null,qe=null;C.depth&&(qe=C.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Le=C.stencil?Mh:Eh,Ye=C.stencil?Sh:Kl);const ut={colorFormat:t.RGBA8,depthFormat:qe,scaleFactor:o};v=this.getBinding(),b=v.createProjectionLayer(ut),s.updateRenderState({layers:[b]}),e.setPixelRatio(1),e.setSize(b.textureWidth,b.textureHeight,!1),O=new tl(b.textureWidth,b.textureHeight,{format:Za,type:Ar,depthTexture:new xS(b.textureWidth,b.textureHeight,Ye,void 0,void 0,void 0,void 0,void 0,void 0,Le),stencilBuffer:C.stencil,colorSpace:e.outputColorSpace,samples:C.antialias?4:0,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}else{const Le={antialias:C.antialias,alpha:!0,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:o};y=new XRWebGLLayer(s,t,Le),s.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),O=new tl(y.framebufferWidth,y.framebufferHeight,{format:Za,type:Ar,colorSpace:e.outputColorSpace,stencilBuffer:C.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}O.isXRRenderTarget=!0,this.setFoveation(h),p=null,c=await s.requestReferenceSpace(u),xe.setContext(s),xe.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return M.getDepthTexture()};function W(ge){for(let _e=0;_e<ge.removed.length;_e++){const Le=ge.removed[_e],Ye=I.indexOf(Le);Ye>=0&&(I[Ye]=null,U[Ye].disconnect(Le))}for(let _e=0;_e<ge.added.length;_e++){const Le=ge.added[_e];let Ye=I.indexOf(Le);if(Ye===-1){for(let ut=0;ut<U.length;ut++)if(ut>=I.length){I.push(Le),Ye=ut;break}else if(I[ut]===null){I[ut]=Le,Ye=ut;break}if(Ye===-1)break}const qe=U[Ye];qe&&qe.connect(Le)}}const te=new ue,oe=new ue;function Se(ge,_e,Le){te.setFromMatrixPosition(_e.matrixWorld),oe.setFromMatrixPosition(Le.matrixWorld);const Ye=te.distanceTo(oe),qe=_e.projectionMatrix.elements,ut=Le.projectionMatrix.elements,St=qe[14]/(qe[10]-1),mt=qe[14]/(qe[10]+1),P=(qe[9]+1)/qe[5],X=(qe[9]-1)/qe[5],he=(qe[8]-1)/qe[0],ee=(ut[8]+1)/ut[0],Q=St*he,le=St*ee,Te=Ye/(-he+ee),Me=Te*-he;if(_e.matrixWorld.decompose(ge.position,ge.quaternion,ge.scale),ge.translateX(Me),ge.translateZ(Te),ge.matrixWorld.compose(ge.position,ge.quaternion,ge.scale),ge.matrixWorldInverse.copy(ge.matrixWorld).invert(),qe[10]===-1)ge.projectionMatrix.copy(_e.projectionMatrix),ge.projectionMatrixInverse.copy(_e.projectionMatrixInverse);else{const ve=St+Te,K=mt+Te,V=Q-Me,fe=le+(Ye-Me),we=P*mt/K*ve,He=X*mt/K*ve;ge.projectionMatrix.makePerspective(V,fe,we,He,ve,K),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert()}}function G(ge,_e){_e===null?ge.matrixWorld.copy(ge.matrix):ge.matrixWorld.multiplyMatrices(_e.matrixWorld,ge.matrix),ge.matrixWorldInverse.copy(ge.matrixWorld).invert()}this.updateCamera=function(ge){if(s===null)return;let _e=ge.near,Le=ge.far;M.texture!==null&&(M.depthNear>0&&(_e=M.depthNear),M.depthFar>0&&(Le=M.depthFar)),Y.near=k.near=B.near=_e,Y.far=k.far=B.far=Le,(Z!==Y.near||L!==Y.far)&&(s.updateRenderState({depthNear:Y.near,depthFar:Y.far}),Z=Y.near,L=Y.far),Y.layers.mask=ge.layers.mask|6,B.layers.mask=Y.layers.mask&3,k.layers.mask=Y.layers.mask&5;const Ye=ge.parent,qe=Y.cameras;G(Y,Ye);for(let ut=0;ut<qe.length;ut++)G(qe[ut],Ye);qe.length===2?Se(Y,B,k):Y.projectionMatrix.copy(B.projectionMatrix),$(ge,Y,Ye)};function $(ge,_e,Le){Le===null?ge.matrix.copy(_e.matrixWorld):(ge.matrix.copy(Le.matrixWorld),ge.matrix.invert(),ge.matrix.multiply(_e.matrixWorld)),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.updateMatrixWorld(!0),ge.projectionMatrix.copy(_e.projectionMatrix),ge.projectionMatrixInverse.copy(_e.projectionMatrixInverse),ge.isPerspectiveCamera&&(ge.fov=Ah*2*Math.atan(1/ge.projectionMatrix.elements[5]),ge.zoom=1)}this.getCamera=function(){return Y},this.getFoveation=function(){if(!(b===null&&y===null))return h},this.setFoveation=function(ge){h=ge,b!==null&&(b.fixedFoveation=ge),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=ge)},this.hasDepthSensing=function(){return M.texture!==null},this.getDepthSensingMesh=function(){return M.getMesh(Y)},this.getCameraTexture=function(ge){return _[ge]};let se=null;function de(ge,_e){if(x=_e.getViewerPose(p||c),S=_e,x!==null){const Le=x.views;y!==null&&(e.setRenderTargetFramebuffer(O,y.framebuffer),e.setRenderTarget(O));let Ye=!1;Le.length!==Y.cameras.length&&(Y.cameras.length=0,Ye=!0);for(let mt=0;mt<Le.length;mt++){const P=Le[mt];let X=null;if(y!==null)X=y.getViewport(P);else{const ee=v.getViewSubImage(b,P);X=ee.viewport,mt===0&&(e.setRenderTargetTextures(O,ee.colorTexture,ee.depthStencilTexture),e.setRenderTarget(O))}let he=J[mt];he===void 0&&(he=new Hi,he.layers.enable(mt),he.viewport=new Un,J[mt]=he),he.matrix.fromArray(P.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(P.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(X.x,X.y,X.width,X.height),mt===0&&(Y.matrix.copy(he.matrix),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale)),Ye===!0&&Y.cameras.push(he)}const qe=s.enabledFeatures;if(qe&&qe.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&E){v=n.getBinding();const mt=v.getDepthInformation(Le[0]);mt&&mt.isValid&&mt.texture&&M.init(mt,s.renderState)}if(qe&&qe.includes("camera-access")&&E){e.state.unbindTexture(),v=n.getBinding();for(let mt=0;mt<Le.length;mt++){const P=Le[mt].camera;if(P){let X=_[P];X||(X=new vS,_[P]=X);const he=v.getCameraImage(P);X.sourceTexture=he}}}}for(let Le=0;Le<U.length;Le++){const Ye=I[Le],qe=U[Le];Ye!==null&&qe!==void 0&&qe.update(Ye,_e,p||c)}se&&se(ge,_e),_e.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:_e}),S=null}const xe=new TC;xe.setAnimationLoop(de),this.setAnimationLoop=function(ge){se=ge},this.dispose=function(){}}}const pd=new nr,O9=new Wt;function U9(i,e){function t(M,_){M.matrixAutoUpdate===!0&&M.updateMatrix(),_.value.copy(M.matrix)}function n(M,_){_.color.getRGB(M.fogColor.value,MA(i)),_.isFog?(M.fogNear.value=_.near,M.fogFar.value=_.far):_.isFogExp2&&(M.fogDensity.value=_.density)}function s(M,_,C,R,O){_.isMeshBasicMaterial||_.isMeshLambertMaterial?o(M,_):_.isMeshToonMaterial?(o(M,_),v(M,_)):_.isMeshPhongMaterial?(o(M,_),x(M,_)):_.isMeshStandardMaterial?(o(M,_),b(M,_),_.isMeshPhysicalMaterial&&y(M,_,O)):_.isMeshMatcapMaterial?(o(M,_),S(M,_)):_.isMeshDepthMaterial?o(M,_):_.isMeshDistanceMaterial?(o(M,_),E(M,_)):_.isMeshNormalMaterial?o(M,_):_.isLineBasicMaterial?(c(M,_),_.isLineDashedMaterial&&u(M,_)):_.isPointsMaterial?h(M,_,C,R):_.isSpriteMaterial?p(M,_):_.isShadowMaterial?(M.color.value.copy(_.color),M.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function o(M,_){M.opacity.value=_.opacity,_.color&&M.diffuse.value.copy(_.color),_.emissive&&M.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(M.map.value=_.map,t(_.map,M.mapTransform)),_.alphaMap&&(M.alphaMap.value=_.alphaMap,t(_.alphaMap,M.alphaMapTransform)),_.bumpMap&&(M.bumpMap.value=_.bumpMap,t(_.bumpMap,M.bumpMapTransform),M.bumpScale.value=_.bumpScale,_.side===ys&&(M.bumpScale.value*=-1)),_.normalMap&&(M.normalMap.value=_.normalMap,t(_.normalMap,M.normalMapTransform),M.normalScale.value.copy(_.normalScale),_.side===ys&&M.normalScale.value.negate()),_.displacementMap&&(M.displacementMap.value=_.displacementMap,t(_.displacementMap,M.displacementMapTransform),M.displacementScale.value=_.displacementScale,M.displacementBias.value=_.displacementBias),_.emissiveMap&&(M.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,M.emissiveMapTransform)),_.specularMap&&(M.specularMap.value=_.specularMap,t(_.specularMap,M.specularMapTransform)),_.alphaTest>0&&(M.alphaTest.value=_.alphaTest);const C=e.get(_),R=C.envMap,O=C.envMapRotation;R&&(M.envMap.value=R,pd.copy(O),pd.x*=-1,pd.y*=-1,pd.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(pd.y*=-1,pd.z*=-1),M.envMapRotation.value.setFromMatrix4(O9.makeRotationFromEuler(pd)),M.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=_.reflectivity,M.ior.value=_.ior,M.refractionRatio.value=_.refractionRatio),_.lightMap&&(M.lightMap.value=_.lightMap,M.lightMapIntensity.value=_.lightMapIntensity,t(_.lightMap,M.lightMapTransform)),_.aoMap&&(M.aoMap.value=_.aoMap,M.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,M.aoMapTransform))}function c(M,_){M.diffuse.value.copy(_.color),M.opacity.value=_.opacity,_.map&&(M.map.value=_.map,t(_.map,M.mapTransform))}function u(M,_){M.dashSize.value=_.dashSize,M.totalSize.value=_.dashSize+_.gapSize,M.scale.value=_.scale}function h(M,_,C,R){M.diffuse.value.copy(_.color),M.opacity.value=_.opacity,M.size.value=_.size*C,M.scale.value=R*.5,_.map&&(M.map.value=_.map,t(_.map,M.uvTransform)),_.alphaMap&&(M.alphaMap.value=_.alphaMap,t(_.alphaMap,M.alphaMapTransform)),_.alphaTest>0&&(M.alphaTest.value=_.alphaTest)}function p(M,_){M.diffuse.value.copy(_.color),M.opacity.value=_.opacity,M.rotation.value=_.rotation,_.map&&(M.map.value=_.map,t(_.map,M.mapTransform)),_.alphaMap&&(M.alphaMap.value=_.alphaMap,t(_.alphaMap,M.alphaMapTransform)),_.alphaTest>0&&(M.alphaTest.value=_.alphaTest)}function x(M,_){M.specular.value.copy(_.specular),M.shininess.value=Math.max(_.shininess,1e-4)}function v(M,_){_.gradientMap&&(M.gradientMap.value=_.gradientMap)}function b(M,_){M.metalness.value=_.metalness,_.metalnessMap&&(M.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,M.metalnessMapTransform)),M.roughness.value=_.roughness,_.roughnessMap&&(M.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,M.roughnessMapTransform)),_.envMap&&(M.envMapIntensity.value=_.envMapIntensity)}function y(M,_,C){M.ior.value=_.ior,_.sheen>0&&(M.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),M.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(M.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,M.sheenColorMapTransform)),_.sheenRoughnessMap&&(M.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,M.sheenRoughnessMapTransform))),_.clearcoat>0&&(M.clearcoat.value=_.clearcoat,M.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(M.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,M.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(M.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===ys&&M.clearcoatNormalScale.value.negate())),_.dispersion>0&&(M.dispersion.value=_.dispersion),_.iridescence>0&&(M.iridescence.value=_.iridescence,M.iridescenceIOR.value=_.iridescenceIOR,M.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(M.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,M.iridescenceMapTransform)),_.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),_.transmission>0&&(M.transmission.value=_.transmission,M.transmissionSamplerMap.value=C.texture,M.transmissionSamplerSize.value.set(C.width,C.height),_.transmissionMap&&(M.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,M.transmissionMapTransform)),M.thickness.value=_.thickness,_.thicknessMap&&(M.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=_.attenuationDistance,M.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(M.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(M.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=_.specularIntensity,M.specularColor.value.copy(_.specularColor),_.specularColorMap&&(M.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,M.specularColorMapTransform)),_.specularIntensityMap&&(M.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,M.specularIntensityMapTransform))}function S(M,_){_.matcap&&(M.matcap.value=_.matcap)}function E(M,_){const C=e.get(_).light;M.referencePosition.value.setFromMatrixPosition(C.matrixWorld),M.nearDistance.value=C.shadow.camera.near,M.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:s}}function I9(i,e,t,n){let s={},o={},c=[];const u=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function h(C,R){const O=R.program;n.uniformBlockBinding(C,O)}function p(C,R){let O=s[C.id];O===void 0&&(S(C),O=x(C),s[C.id]=O,C.addEventListener("dispose",M));const U=R.program;n.updateUBOMapping(C,U);const I=e.render.frame;o[C.id]!==I&&(b(C),o[C.id]=I)}function x(C){const R=v();C.__bindingPointIndex=R;const O=i.createBuffer(),U=C.__size,I=C.usage;return i.bindBuffer(i.UNIFORM_BUFFER,O),i.bufferData(i.UNIFORM_BUFFER,U,I),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,R,O),O}function v(){for(let C=0;C<u;C++)if(c.indexOf(C)===-1)return c.push(C),C;return Kt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function b(C){const R=s[C.id],O=C.uniforms,U=C.__cache;i.bindBuffer(i.UNIFORM_BUFFER,R);for(let I=0,F=O.length;I<F;I++){const j=Array.isArray(O[I])?O[I]:[O[I]];for(let B=0,k=j.length;B<k;B++){const J=j[B];if(y(J,I,B,U)===!0){const Y=J.__offset,Z=Array.isArray(J.value)?J.value:[J.value];let L=0;for(let re=0;re<Z.length;re++){const q=Z[re],W=E(q);typeof q=="number"||typeof q=="boolean"?(J.__data[0]=q,i.bufferSubData(i.UNIFORM_BUFFER,Y+L,J.__data)):q.isMatrix3?(J.__data[0]=q.elements[0],J.__data[1]=q.elements[1],J.__data[2]=q.elements[2],J.__data[3]=0,J.__data[4]=q.elements[3],J.__data[5]=q.elements[4],J.__data[6]=q.elements[5],J.__data[7]=0,J.__data[8]=q.elements[6],J.__data[9]=q.elements[7],J.__data[10]=q.elements[8],J.__data[11]=0):(q.toArray(J.__data,L),L+=W.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,Y,J.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function y(C,R,O,U){const I=C.value,F=R+"_"+O;if(U[F]===void 0)return typeof I=="number"||typeof I=="boolean"?U[F]=I:U[F]=I.clone(),!0;{const j=U[F];if(typeof I=="number"||typeof I=="boolean"){if(j!==I)return U[F]=I,!0}else if(j.equals(I)===!1)return j.copy(I),!0}return!1}function S(C){const R=C.uniforms;let O=0;const U=16;for(let F=0,j=R.length;F<j;F++){const B=Array.isArray(R[F])?R[F]:[R[F]];for(let k=0,J=B.length;k<J;k++){const Y=B[k],Z=Array.isArray(Y.value)?Y.value:[Y.value];for(let L=0,re=Z.length;L<re;L++){const q=Z[L],W=E(q),te=O%U,oe=te%W.boundary,Se=te+oe;O+=oe,Se!==0&&U-Se<W.storage&&(O+=U-Se),Y.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),Y.__offset=O,O+=W.storage}}}const I=O%U;return I>0&&(O+=U-I),C.__size=O,C.__cache={},this}function E(C){const R={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(R.boundary=4,R.storage=4):C.isVector2?(R.boundary=8,R.storage=8):C.isVector3||C.isColor?(R.boundary=16,R.storage=12):C.isVector4?(R.boundary=16,R.storage=16):C.isMatrix3?(R.boundary=48,R.storage=48):C.isMatrix4?(R.boundary=64,R.storage=64):C.isTexture?yt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):yt("WebGLRenderer: Unsupported uniform value type.",C),R}function M(C){const R=C.target;R.removeEventListener("dispose",M);const O=c.indexOf(R.__bindingPointIndex);c.splice(O,1),i.deleteBuffer(s[R.id]),delete s[R.id],delete o[R.id]}function _(){for(const C in s)i.deleteBuffer(s[C]);c=[],s={},o={}}return{bind:h,update:p,dispose:_}}const L9=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let jl=null;function z9(){return jl===null&&(jl=new ro(L9,32,32,Oy,Dd),jl.minFilter=ji,jl.magFilter=ji,jl.wrapS=zs,jl.wrapT=zs,jl.generateMipmaps=!1,jl.needsUpdate=!0),jl}class DC{constructor(e={}){const{canvas:t=_A(),context:n=null,depth:s=!0,stencil:o=!1,alpha:c=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:x="default",failIfMajorPerformanceCaveat:v=!1,reversedDepthBuffer:b=!1}=e;this.isWebGLRenderer=!0;let y;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=n.getContextAttributes().alpha}else y=c;const S=new Set([Iy,Uy,R0]),E=new Set([Ar,Kl,_h,Sh,Ny,Ry]),M=new Uint32Array(4),_=new Int32Array(4);let C=null,R=null;const O=[],U=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=el,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const I=this;let F=!1;this._outputColorSpace=Wa;let j=0,B=0,k=null,J=-1,Y=null;const Z=new Un,L=new Un;let re=null;const q=new bt(0);let W=0,te=t.width,oe=t.height,Se=1,G=null,$=null;const se=new Un(0,0,te,oe),de=new Un(0,0,te,oe);let xe=!1;const ge=new Hh;let _e=!1,Le=!1;const Ye=new Wt,qe=new ue,ut=new Un,St={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let mt=!1;function P(){return k===null?Se:1}let X=n;function he(ne,Ae){return t.getContext(ne,Ae)}try{const ne={alpha:!0,depth:s,stencil:o,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:x,failIfMajorPerformanceCaveat:v};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${C0}`),t.addEventListener("webglcontextlost",Ze,!1),t.addEventListener("webglcontextrestored",Xe,!1),t.addEventListener("webglcontextcreationerror",ct,!1),X===null){const Ae="webgl2";if(X=he(Ae,ne),X===null)throw he(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ne){throw ne("WebGLRenderer: "+ne.message),ne}let ee,Q,le,Te,Me,ve,K,V,fe,we,He,Ce,ft,rt,ht,gt,Ve,tt,_t,pe,Ie,nt,me,it;function at(){ee=new Xk(X),ee.init(),nt=new RC(X,ee),Q=new Bk(X,ee,e,nt),le=new w9(X,ee),Q.reversedDepthBuffer&&b&&le.buffers.depth.setReversed(!0),Te=new Zk(X),Me=new h9,ve=new A9(X,ee,le,Me,Q,nt,Te),K=new kk(I),V=new Yk(I),fe=new $8(X),me=new Lk(X,fe),we=new qk(X,fe,Te,me),He=new Jk(X,we,fe,Te),_t=new Kk(X,Q,ve),gt=new Pk(Me),Ce=new f9(I,K,V,ee,Q,me,gt),ft=new U9(I,Me),rt=new m9,ht=new _9(ee),tt=new Ik(I,K,V,le,He,y,h),Ve=new M9(I,He,Q),it=new I9(X,Te,Q,le),pe=new zk(X,ee,Te),Ie=new Wk(X,ee,Te),Te.programs=Ce.programs,I.capabilities=Q,I.extensions=ee,I.properties=Me,I.renderLists=rt,I.shadowMap=Ve,I.state=le,I.info=Te}at();const Je=new D9(I,X);this.xr=Je,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const ne=ee.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=ee.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return Se},this.setPixelRatio=function(ne){ne!==void 0&&(Se=ne,this.setSize(te,oe,!1))},this.getSize=function(ne){return ne.set(te,oe)},this.setSize=function(ne,Ae,ke=!0){if(Je.isPresenting){yt("WebGLRenderer: Can't change size while VR device is presenting.");return}te=ne,oe=Ae,t.width=Math.floor(ne*Se),t.height=Math.floor(Ae*Se),ke===!0&&(t.style.width=ne+"px",t.style.height=Ae+"px"),this.setViewport(0,0,ne,Ae)},this.getDrawingBufferSize=function(ne){return ne.set(te*Se,oe*Se).floor()},this.setDrawingBufferSize=function(ne,Ae,ke){te=ne,oe=Ae,Se=ke,t.width=Math.floor(ne*ke),t.height=Math.floor(Ae*ke),this.setViewport(0,0,ne,Ae)},this.getCurrentViewport=function(ne){return ne.copy(Z)},this.getViewport=function(ne){return ne.copy(se)},this.setViewport=function(ne,Ae,ke,Ue){ne.isVector4?se.set(ne.x,ne.y,ne.z,ne.w):se.set(ne,Ae,ke,Ue),le.viewport(Z.copy(se).multiplyScalar(Se).round())},this.getScissor=function(ne){return ne.copy(de)},this.setScissor=function(ne,Ae,ke,Ue){ne.isVector4?de.set(ne.x,ne.y,ne.z,ne.w):de.set(ne,Ae,ke,Ue),le.scissor(L.copy(de).multiplyScalar(Se).round())},this.getScissorTest=function(){return xe},this.setScissorTest=function(ne){le.setScissorTest(xe=ne)},this.setOpaqueSort=function(ne){G=ne},this.setTransparentSort=function(ne){$=ne},this.getClearColor=function(ne){return ne.copy(tt.getClearColor())},this.setClearColor=function(){tt.setClearColor(...arguments)},this.getClearAlpha=function(){return tt.getClearAlpha()},this.setClearAlpha=function(){tt.setClearAlpha(...arguments)},this.clear=function(ne=!0,Ae=!0,ke=!0){let Ue=0;if(ne){let Ne=!1;if(k!==null){const ot=k.texture.format;Ne=S.has(ot)}if(Ne){const ot=k.texture.type,pt=E.has(ot),Tt=tt.getClearColor(),wt=tt.getClearAlpha(),Bt=Tt.r,Ht=Tt.g,Ut=Tt.b;pt?(M[0]=Bt,M[1]=Ht,M[2]=Ut,M[3]=wt,X.clearBufferuiv(X.COLOR,0,M)):(_[0]=Bt,_[1]=Ht,_[2]=Ut,_[3]=wt,X.clearBufferiv(X.COLOR,0,_))}else Ue|=X.COLOR_BUFFER_BIT}Ae&&(Ue|=X.DEPTH_BUFFER_BIT),ke&&(Ue|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(Ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ze,!1),t.removeEventListener("webglcontextrestored",Xe,!1),t.removeEventListener("webglcontextcreationerror",ct,!1),tt.dispose(),rt.dispose(),ht.dispose(),Me.dispose(),K.dispose(),V.dispose(),He.dispose(),me.dispose(),it.dispose(),Ce.dispose(),Je.dispose(),Je.removeEventListener("sessionstart",Vi),Je.removeEventListener("sessionend",Ki),ri.stop()};function Ze(ne){ne.preventDefault(),f0("WebGLRenderer: Context Lost."),F=!0}function Xe(){f0("WebGLRenderer: Context Restored."),F=!1;const ne=Te.autoReset,Ae=Ve.enabled,ke=Ve.autoUpdate,Ue=Ve.needsUpdate,Ne=Ve.type;at(),Te.autoReset=ne,Ve.enabled=Ae,Ve.autoUpdate=ke,Ve.needsUpdate=Ue,Ve.type=Ne}function ct(ne){Kt("WebGLRenderer: A WebGL context could not be created. Reason: ",ne.statusMessage)}function Et(ne){const Ae=ne.target;Ae.removeEventListener("dispose",Et),kt(Ae)}function kt(ne){Ft(ne),Me.remove(ne)}function Ft(ne){const Ae=Me.get(ne).programs;Ae!==void 0&&(Ae.forEach(function(ke){Ce.releaseProgram(ke)}),ne.isShaderMaterial&&Ce.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,Ae,ke,Ue,Ne,ot){Ae===null&&(Ae=St);const pt=Ne.isMesh&&Ne.matrixWorld.determinant()<0,Tt=zd(ne,Ae,ke,Ue,Ne);le.setMaterial(Ue,pt);let wt=ke.index,Bt=1;if(Ue.wireframe===!0){if(wt=we.getWireframeAttribute(ke),wt===void 0)return;Bt=2}const Ht=ke.drawRange,Ut=ke.attributes.position;let Qt=Ht.start*Bt,yn=(Ht.start+Ht.count)*Bt;ot!==null&&(Qt=Math.max(Qt,ot.start*Bt),yn=Math.min(yn,(ot.start+ot.count)*Bt)),wt!==null?(Qt=Math.max(Qt,0),yn=Math.min(yn,wt.count)):Ut!=null&&(Qt=Math.max(Qt,0),yn=Math.min(yn,Ut.count));const bn=yn-Qt;if(bn<0||bn===1/0)return;me.setup(Ne,Ue,Tt,ke,wt);let hn,Ln=pe;if(wt!==null&&(hn=fe.get(wt),Ln=Ie,Ln.setIndex(hn)),Ne.isMesh)Ue.wireframe===!0?(le.setLineWidth(Ue.wireframeLinewidth*P()),Ln.setMode(X.LINES)):Ln.setMode(X.TRIANGLES);else if(Ne.isLine){let zt=Ue.linewidth;zt===void 0&&(zt=1),le.setLineWidth(zt*P()),Ne.isLineSegments?Ln.setMode(X.LINES):Ne.isLineLoop?Ln.setMode(X.LINE_LOOP):Ln.setMode(X.LINE_STRIP)}else Ne.isPoints?Ln.setMode(X.POINTS):Ne.isSprite&&Ln.setMode(X.TRIANGLES);if(Ne.isBatchedMesh)if(Ne._multiDrawInstances!==null)wh("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ln.renderMultiDrawInstances(Ne._multiDrawStarts,Ne._multiDrawCounts,Ne._multiDrawCount,Ne._multiDrawInstances);else if(ee.get("WEBGL_multi_draw"))Ln.renderMultiDraw(Ne._multiDrawStarts,Ne._multiDrawCounts,Ne._multiDrawCount);else{const zt=Ne._multiDrawStarts,jn=Ne._multiDrawCounts,pn=Ne._multiDrawCount,Ai=wt?fe.get(wt).bytesPerElement:1,Rr=Me.get(Ue).currentProgram.getUniforms();for(let Yn=0;Yn<pn;Yn++)Rr.setValue(X,"_gl_DrawID",Yn),Ln.render(zt[Yn]/Ai,jn[Yn])}else if(Ne.isInstancedMesh)Ln.renderInstances(Qt,bn,Ne.count);else if(ke.isInstancedBufferGeometry){const zt=ke._maxInstanceCount!==void 0?ke._maxInstanceCount:1/0,jn=Math.min(ke.instanceCount,zt);Ln.renderInstances(Qt,bn,jn)}else Ln.render(Qt,bn)};function In(ne,Ae,ke){ne.transparent===!0&&ne.side===Zo&&ne.forceSinglePass===!1?(ne.side=ys,ne.needsUpdate=!0,xi(ne,Ae,ke),ne.side=Wl,ne.needsUpdate=!0,xi(ne,Ae,ke),ne.side=Zo):xi(ne,Ae,ke)}this.compile=function(ne,Ae,ke=null){ke===null&&(ke=ne),R=ht.get(ke),R.init(Ae),U.push(R),ke.traverseVisible(function(Ne){Ne.isLight&&Ne.layers.test(Ae.layers)&&(R.pushLight(Ne),Ne.castShadow&&R.pushShadow(Ne))}),ne!==ke&&ne.traverseVisible(function(Ne){Ne.isLight&&Ne.layers.test(Ae.layers)&&(R.pushLight(Ne),Ne.castShadow&&R.pushShadow(Ne))}),R.setupLights();const Ue=new Set;return ne.traverse(function(Ne){if(!(Ne.isMesh||Ne.isPoints||Ne.isLine||Ne.isSprite))return;const ot=Ne.material;if(ot)if(Array.isArray(ot))for(let pt=0;pt<ot.length;pt++){const Tt=ot[pt];In(Tt,ke,Ne),Ue.add(Tt)}else In(ot,ke,Ne),Ue.add(ot)}),R=U.pop(),Ue},this.compileAsync=function(ne,Ae,ke=null){const Ue=this.compile(ne,Ae,ke);return new Promise(Ne=>{function ot(){if(Ue.forEach(function(pt){Me.get(pt).currentProgram.isReady()&&Ue.delete(pt)}),Ue.size===0){Ne(ne);return}setTimeout(ot,10)}ee.get("KHR_parallel_shader_compile")!==null?ot():setTimeout(ot,10)})};let dn=null;function Da(ne){dn&&dn(ne)}function Vi(){ri.stop()}function Ki(){ri.start()}const ri=new TC;ri.setAnimationLoop(Da),typeof self<"u"&&ri.setContext(self),this.setAnimationLoop=function(ne){dn=ne,Je.setAnimationLoop(ne),ne===null?ri.stop():ri.start()},Je.addEventListener("sessionstart",Vi),Je.addEventListener("sessionend",Ki),this.render=function(ne,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){Kt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(F===!0)return;if(ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),Je.enabled===!0&&Je.isPresenting===!0&&(Je.cameraAutoUpdate===!0&&Je.updateCamera(Ae),Ae=Je.getCamera()),ne.isScene===!0&&ne.onBeforeRender(I,ne,Ae,k),R=ht.get(ne,U.length),R.init(Ae),U.push(R),Ye.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),ge.setFromProjectionMatrix(Ye,er,Ae.reversedDepth),Le=this.localClippingEnabled,_e=gt.init(this.clippingPlanes,Le),C=rt.get(ne,O.length),C.init(),O.push(C),Je.enabled===!0&&Je.isPresenting===!0){const ot=I.xr.getDepthSensingMesh();ot!==null&&Oa(ot,Ae,-1/0,I.sortObjects)}Oa(ne,Ae,0,I.sortObjects),C.finish(),I.sortObjects===!0&&C.sort(G,$),mt=Je.enabled===!1||Je.isPresenting===!1||Je.hasDepthSensing()===!1,mt&&tt.addToRenderList(C,ne),this.info.render.frame++,_e===!0&&gt.beginShadows();const ke=R.state.shadowsArray;Ve.render(ke,ne,Ae),_e===!0&&gt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ue=C.opaque,Ne=C.transmissive;if(R.setupLights(),Ae.isArrayCamera){const ot=Ae.cameras;if(Ne.length>0)for(let pt=0,Tt=ot.length;pt<Tt;pt++){const wt=ot[pt];Ui(Ue,Ne,ne,wt)}mt&&tt.render(ne);for(let pt=0,Tt=ot.length;pt<Tt;pt++){const wt=ot[pt];gi(C,ne,wt,wt.viewport)}}else Ne.length>0&&Ui(Ue,Ne,ne,Ae),mt&&tt.render(ne),gi(C,ne,Ae);k!==null&&B===0&&(ve.updateMultisampleRenderTarget(k),ve.updateRenderTargetMipmap(k)),ne.isScene===!0&&ne.onAfterRender(I,ne,Ae),me.resetDefaultState(),J=-1,Y=null,U.pop(),U.length>0?(R=U[U.length-1],_e===!0&&gt.setGlobalState(I.clippingPlanes,R.state.camera)):R=null,O.pop(),O.length>0?C=O[O.length-1]:C=null};function Oa(ne,Ae,ke,Ue){if(ne.visible===!1)return;if(ne.layers.test(Ae.layers)){if(ne.isGroup)ke=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(Ae);else if(ne.isLight)R.pushLight(ne),ne.castShadow&&R.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||ge.intersectsSprite(ne)){Ue&&ut.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(Ye);const pt=He.update(ne),Tt=ne.material;Tt.visible&&C.push(ne,pt,Tt,ke,ut.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(!ne.frustumCulled||ge.intersectsObject(ne))){const pt=He.update(ne),Tt=ne.material;if(Ue&&(ne.boundingSphere!==void 0?(ne.boundingSphere===null&&ne.computeBoundingSphere(),ut.copy(ne.boundingSphere.center)):(pt.boundingSphere===null&&pt.computeBoundingSphere(),ut.copy(pt.boundingSphere.center)),ut.applyMatrix4(ne.matrixWorld).applyMatrix4(Ye)),Array.isArray(Tt)){const wt=pt.groups;for(let Bt=0,Ht=wt.length;Bt<Ht;Bt++){const Ut=wt[Bt],Qt=Tt[Ut.materialIndex];Qt&&Qt.visible&&C.push(ne,pt,Qt,ke,ut.z,Ut)}}else Tt.visible&&C.push(ne,pt,Tt,ke,ut.z,null)}}const ot=ne.children;for(let pt=0,Tt=ot.length;pt<Tt;pt++)Oa(ot[pt],Ae,ke,Ue)}function gi(ne,Ae,ke,Ue){const{opaque:Ne,transmissive:ot,transparent:pt}=ne;R.setupLightsView(ke),_e===!0&&gt.setGlobalState(I.clippingPlanes,ke),Ue&&le.viewport(Z.copy(Ue)),Ne.length>0&&wi(Ne,Ae,ke),ot.length>0&&wi(ot,Ae,ke),pt.length>0&&wi(pt,Ae,ke),le.buffers.depth.setTest(!0),le.buffers.depth.setMask(!0),le.buffers.color.setMask(!0),le.setPolygonOffset(!1)}function Ui(ne,Ae,ke,Ue){if((ke.isScene===!0?ke.overrideMaterial:null)!==null)return;R.state.transmissionRenderTarget[Ue.id]===void 0&&(R.state.transmissionRenderTarget[Ue.id]=new tl(1,1,{generateMipmaps:!0,type:ee.has("EXT_color_buffer_half_float")||ee.has("EXT_color_buffer_float")?Dd:Ar,minFilter:Ko,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Nn.workingColorSpace}));const ot=R.state.transmissionRenderTarget[Ue.id],pt=Ue.viewport||Z;ot.setSize(pt.z*I.transmissionResolutionScale,pt.w*I.transmissionResolutionScale);const Tt=I.getRenderTarget(),wt=I.getActiveCubeFace(),Bt=I.getActiveMipmapLevel();I.setRenderTarget(ot),I.getClearColor(q),W=I.getClearAlpha(),W<1&&I.setClearColor(16777215,.5),I.clear(),mt&&tt.render(ke);const Ht=I.toneMapping;I.toneMapping=el;const Ut=Ue.viewport;if(Ue.viewport!==void 0&&(Ue.viewport=void 0),R.setupLightsView(Ue),_e===!0&&gt.setGlobalState(I.clippingPlanes,Ue),wi(ne,ke,Ue),ve.updateMultisampleRenderTarget(ot),ve.updateRenderTargetMipmap(ot),ee.has("WEBGL_multisampled_render_to_texture")===!1){let Qt=!1;for(let yn=0,bn=Ae.length;yn<bn;yn++){const hn=Ae[yn],{object:Ln,geometry:zt,material:jn,group:pn}=hn;if(jn.side===Zo&&Ln.layers.test(Ue.layers)){const Ai=jn.side;jn.side=ys,jn.needsUpdate=!0,sn(Ln,ke,Ue,zt,jn,pn),jn.side=Ai,jn.needsUpdate=!0,Qt=!0}}Qt===!0&&(ve.updateMultisampleRenderTarget(ot),ve.updateRenderTargetMipmap(ot))}I.setRenderTarget(Tt,wt,Bt),I.setClearColor(q,W),Ut!==void 0&&(Ue.viewport=Ut),I.toneMapping=Ht}function wi(ne,Ae,ke){const Ue=Ae.isScene===!0?Ae.overrideMaterial:null;for(let Ne=0,ot=ne.length;Ne<ot;Ne++){const pt=ne[Ne],{object:Tt,geometry:wt,group:Bt}=pt;let Ht=pt.material;Ht.allowOverride===!0&&Ue!==null&&(Ht=Ue),Tt.layers.test(ke.layers)&&sn(Tt,Ae,ke,wt,Ht,Bt)}}function sn(ne,Ae,ke,Ue,Ne,ot){ne.onBeforeRender(I,Ae,ke,Ue,Ne,ot),ne.modelViewMatrix.multiplyMatrices(ke.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),Ne.onBeforeRender(I,Ae,ke,Ue,ne,ot),Ne.transparent===!0&&Ne.side===Zo&&Ne.forceSinglePass===!1?(Ne.side=ys,Ne.needsUpdate=!0,I.renderBufferDirect(ke,Ae,Ue,Ne,ne,ot),Ne.side=Wl,Ne.needsUpdate=!0,I.renderBufferDirect(ke,Ae,Ue,Ne,ne,ot),Ne.side=Zo):I.renderBufferDirect(ke,Ae,Ue,Ne,ne,ot),ne.onAfterRender(I,Ae,ke,Ue,Ne,ot)}function xi(ne,Ae,ke){Ae.isScene!==!0&&(Ae=St);const Ue=Me.get(ne),Ne=R.state.lights,ot=R.state.shadowsArray,pt=Ne.state.version,Tt=Ce.getParameters(ne,Ne.state,ot,Ae,ke),wt=Ce.getProgramCacheKey(Tt);let Bt=Ue.programs;Ue.environment=ne.isMeshStandardMaterial?Ae.environment:null,Ue.fog=Ae.fog,Ue.envMap=(ne.isMeshStandardMaterial?V:K).get(ne.envMap||Ue.environment),Ue.envMapRotation=Ue.environment!==null&&ne.envMap===null?Ae.environmentRotation:ne.envMapRotation,Bt===void 0&&(ne.addEventListener("dispose",Et),Bt=new Map,Ue.programs=Bt);let Ht=Bt.get(wt);if(Ht!==void 0){if(Ue.currentProgram===Ht&&Ue.lightsStateVersion===pt)return al(ne,Tt),Ht}else Tt.uniforms=Ce.getUniforms(ne),ne.onBeforeCompile(Tt,I),Ht=Ce.acquireProgram(Tt,wt),Bt.set(wt,Ht),Ue.uniforms=Tt.uniforms;const Ut=Ue.uniforms;return(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(Ut.clippingPlanes=gt.uniform),al(ne,Tt),Ue.needsLights=Ql(ne),Ue.lightsStateVersion=pt,Ue.needsLights&&(Ut.ambientLightColor.value=Ne.state.ambient,Ut.lightProbe.value=Ne.state.probe,Ut.directionalLights.value=Ne.state.directional,Ut.directionalLightShadows.value=Ne.state.directionalShadow,Ut.spotLights.value=Ne.state.spot,Ut.spotLightShadows.value=Ne.state.spotShadow,Ut.rectAreaLights.value=Ne.state.rectArea,Ut.ltc_1.value=Ne.state.rectAreaLTC1,Ut.ltc_2.value=Ne.state.rectAreaLTC2,Ut.pointLights.value=Ne.state.point,Ut.pointLightShadows.value=Ne.state.pointShadow,Ut.hemisphereLights.value=Ne.state.hemi,Ut.directionalShadowMap.value=Ne.state.directionalShadowMap,Ut.directionalShadowMatrix.value=Ne.state.directionalShadowMatrix,Ut.spotShadowMap.value=Ne.state.spotShadowMap,Ut.spotLightMatrix.value=Ne.state.spotLightMatrix,Ut.spotLightMap.value=Ne.state.spotLightMap,Ut.pointShadowMap.value=Ne.state.pointShadowMap,Ut.pointShadowMatrix.value=Ne.state.pointShadowMatrix),Ue.currentProgram=Ht,Ue.uniformsList=null,Ht}function ks(ne){if(ne.uniformsList===null){const Ae=ne.currentProgram.getUniforms();ne.uniformsList=cv.seqWithValue(Ae.seq,ne.uniforms)}return ne.uniformsList}function al(ne,Ae){const ke=Me.get(ne);ke.outputColorSpace=Ae.outputColorSpace,ke.batching=Ae.batching,ke.batchingColor=Ae.batchingColor,ke.instancing=Ae.instancing,ke.instancingColor=Ae.instancingColor,ke.instancingMorph=Ae.instancingMorph,ke.skinning=Ae.skinning,ke.morphTargets=Ae.morphTargets,ke.morphNormals=Ae.morphNormals,ke.morphColors=Ae.morphColors,ke.morphTargetsCount=Ae.morphTargetsCount,ke.numClippingPlanes=Ae.numClippingPlanes,ke.numIntersection=Ae.numClipIntersection,ke.vertexAlphas=Ae.vertexAlphas,ke.vertexTangents=Ae.vertexTangents,ke.toneMapping=Ae.toneMapping}function zd(ne,Ae,ke,Ue,Ne){Ae.isScene!==!0&&(Ae=St),ve.resetTextureUnits();const ot=Ae.fog,pt=Ue.isMeshStandardMaterial?Ae.environment:null,Tt=k===null?I.outputColorSpace:k.isXRRenderTarget===!0?k.texture.colorSpace:nu,wt=(Ue.isMeshStandardMaterial?V:K).get(Ue.envMap||pt),Bt=Ue.vertexColors===!0&&!!ke.attributes.color&&ke.attributes.color.itemSize===4,Ht=!!ke.attributes.tangent&&(!!Ue.normalMap||Ue.anisotropy>0),Ut=!!ke.morphAttributes.position,Qt=!!ke.morphAttributes.normal,yn=!!ke.morphAttributes.color;let bn=el;Ue.toneMapped&&(k===null||k.isXRRenderTarget===!0)&&(bn=I.toneMapping);const hn=ke.morphAttributes.position||ke.morphAttributes.normal||ke.morphAttributes.color,Ln=hn!==void 0?hn.length:0,zt=Me.get(Ue),jn=R.state.lights;if(_e===!0&&(Le===!0||ne!==Y)){const zi=ne===Y&&Ue.id===J;gt.setState(Ue,ne,zi)}let pn=!1;Ue.version===zt.__version?(zt.needsLights&&zt.lightsStateVersion!==jn.state.version||zt.outputColorSpace!==Tt||Ne.isBatchedMesh&&zt.batching===!1||!Ne.isBatchedMesh&&zt.batching===!0||Ne.isBatchedMesh&&zt.batchingColor===!0&&Ne.colorTexture===null||Ne.isBatchedMesh&&zt.batchingColor===!1&&Ne.colorTexture!==null||Ne.isInstancedMesh&&zt.instancing===!1||!Ne.isInstancedMesh&&zt.instancing===!0||Ne.isSkinnedMesh&&zt.skinning===!1||!Ne.isSkinnedMesh&&zt.skinning===!0||Ne.isInstancedMesh&&zt.instancingColor===!0&&Ne.instanceColor===null||Ne.isInstancedMesh&&zt.instancingColor===!1&&Ne.instanceColor!==null||Ne.isInstancedMesh&&zt.instancingMorph===!0&&Ne.morphTexture===null||Ne.isInstancedMesh&&zt.instancingMorph===!1&&Ne.morphTexture!==null||zt.envMap!==wt||Ue.fog===!0&&zt.fog!==ot||zt.numClippingPlanes!==void 0&&(zt.numClippingPlanes!==gt.numPlanes||zt.numIntersection!==gt.numIntersection)||zt.vertexAlphas!==Bt||zt.vertexTangents!==Ht||zt.morphTargets!==Ut||zt.morphNormals!==Qt||zt.morphColors!==yn||zt.toneMapping!==bn||zt.morphTargetsCount!==Ln)&&(pn=!0):(pn=!0,zt.__version=Ue.version);let Ai=zt.currentProgram;pn===!0&&(Ai=xi(Ue,Ae,Ne));let Rr=!1,Yn=!1,ar=!1;const Xn=Ai.getUniforms(),Ii=zt.uniforms;if(le.useProgram(Ai.program)&&(Rr=!0,Yn=!0,ar=!0),Ue.id!==J&&(J=Ue.id,Yn=!0),Rr||Y!==ne){le.buffers.depth.getReversed()&&ne.reversedDepth!==!0&&(ne._reversedDepth=!0,ne.updateProjectionMatrix()),Xn.setValue(X,"projectionMatrix",ne.projectionMatrix),Xn.setValue(X,"viewMatrix",ne.matrixWorldInverse);const ci=Xn.map.cameraPosition;ci!==void 0&&ci.setValue(X,qe.setFromMatrixPosition(ne.matrixWorld)),Q.logarithmicDepthBuffer&&Xn.setValue(X,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),(Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshLambertMaterial||Ue.isMeshBasicMaterial||Ue.isMeshStandardMaterial||Ue.isShaderMaterial)&&Xn.setValue(X,"isOrthographic",ne.isOrthographicCamera===!0),Y!==ne&&(Y=ne,Yn=!0,ar=!0)}if(Ne.isSkinnedMesh){Xn.setOptional(X,Ne,"bindMatrix"),Xn.setOptional(X,Ne,"bindMatrixInverse");const zi=Ne.skeleton;zi&&(zi.boneTexture===null&&zi.computeBoneTexture(),Xn.setValue(X,"boneTexture",zi.boneTexture,ve))}Ne.isBatchedMesh&&(Xn.setOptional(X,Ne,"batchingTexture"),Xn.setValue(X,"batchingTexture",Ne._matricesTexture,ve),Xn.setOptional(X,Ne,"batchingIdTexture"),Xn.setValue(X,"batchingIdTexture",Ne._indirectTexture,ve),Xn.setOptional(X,Ne,"batchingColorTexture"),Ne._colorsTexture!==null&&Xn.setValue(X,"batchingColorTexture",Ne._colorsTexture,ve));const Li=ke.morphAttributes;if((Li.position!==void 0||Li.normal!==void 0||Li.color!==void 0)&&_t.update(Ne,ke,Ai),(Yn||zt.receiveShadow!==Ne.receiveShadow)&&(zt.receiveShadow=Ne.receiveShadow,Xn.setValue(X,"receiveShadow",Ne.receiveShadow)),Ue.isMeshGouraudMaterial&&Ue.envMap!==null&&(Ii.envMap.value=wt,Ii.flipEnvMap.value=wt.isCubeTexture&&wt.isRenderTargetTexture===!1?-1:1),Ue.isMeshStandardMaterial&&Ue.envMap===null&&Ae.environment!==null&&(Ii.envMapIntensity.value=Ae.environmentIntensity),Ii.dfgLUT!==void 0&&(Ii.dfgLUT.value=z9()),Yn&&(Xn.setValue(X,"toneMappingExposure",I.toneMappingExposure),zt.needsLights&&Yh(Ii,ar),ot&&Ue.fog===!0&&ft.refreshFogUniforms(Ii,ot),ft.refreshMaterialUniforms(Ii,Ue,Se,oe,R.state.transmissionRenderTarget[ne.id]),cv.upload(X,ks(zt),Ii,ve)),Ue.isShaderMaterial&&Ue.uniformsNeedUpdate===!0&&(cv.upload(X,ks(zt),Ii,ve),Ue.uniformsNeedUpdate=!1),Ue.isSpriteMaterial&&Xn.setValue(X,"center",Ne.center),Xn.setValue(X,"modelViewMatrix",Ne.modelViewMatrix),Xn.setValue(X,"normalMatrix",Ne.normalMatrix),Xn.setValue(X,"modelMatrix",Ne.matrixWorld),Ue.isShaderMaterial||Ue.isRawShaderMaterial){const zi=Ue.uniformsGroups;for(let ci=0,Fs=zi.length;ci<Fs;ci++){const Es=zi[ci];it.update(Es,Ai),it.bind(Es,Ai)}}return Ai}function Yh(ne,Ae){ne.ambientLightColor.needsUpdate=Ae,ne.lightProbe.needsUpdate=Ae,ne.directionalLights.needsUpdate=Ae,ne.directionalLightShadows.needsUpdate=Ae,ne.pointLights.needsUpdate=Ae,ne.pointLightShadows.needsUpdate=Ae,ne.spotLights.needsUpdate=Ae,ne.spotLightShadows.needsUpdate=Ae,ne.rectAreaLights.needsUpdate=Ae,ne.hemisphereLights.needsUpdate=Ae}function Ql(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return j},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return k},this.setRenderTargetTextures=function(ne,Ae,ke){const Ue=Me.get(ne);Ue.__autoAllocateDepthBuffer=ne.resolveDepthBuffer===!1,Ue.__autoAllocateDepthBuffer===!1&&(Ue.__useRenderToTexture=!1),Me.get(ne.texture).__webglTexture=Ae,Me.get(ne.depthTexture).__webglTexture=Ue.__autoAllocateDepthBuffer?void 0:ke,Ue.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ne,Ae){const ke=Me.get(ne);ke.__webglFramebuffer=Ae,ke.__useDefaultFramebuffer=Ae===void 0};const Nr=X.createFramebuffer();this.setRenderTarget=function(ne,Ae=0,ke=0){k=ne,j=Ae,B=ke;let Ue=!0,Ne=null,ot=!1,pt=!1;if(ne){const wt=Me.get(ne);if(wt.__useDefaultFramebuffer!==void 0)le.bindFramebuffer(X.FRAMEBUFFER,null),Ue=!1;else if(wt.__webglFramebuffer===void 0)ve.setupRenderTarget(ne);else if(wt.__hasExternalTextures)ve.rebindTextures(ne,Me.get(ne.texture).__webglTexture,Me.get(ne.depthTexture).__webglTexture);else if(ne.depthBuffer){const Ut=ne.depthTexture;if(wt.__boundDepthTexture!==Ut){if(Ut!==null&&Me.has(Ut)&&(ne.width!==Ut.image.width||ne.height!==Ut.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ve.setupDepthRenderbuffer(ne)}}const Bt=ne.texture;(Bt.isData3DTexture||Bt.isDataArrayTexture||Bt.isCompressedArrayTexture)&&(pt=!0);const Ht=Me.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Array.isArray(Ht[Ae])?Ne=Ht[Ae][ke]:Ne=Ht[Ae],ot=!0):ne.samples>0&&ve.useMultisampledRTT(ne)===!1?Ne=Me.get(ne).__webglMultisampledFramebuffer:Array.isArray(Ht)?Ne=Ht[ke]:Ne=Ht,Z.copy(ne.viewport),L.copy(ne.scissor),re=ne.scissorTest}else Z.copy(se).multiplyScalar(Se).floor(),L.copy(de).multiplyScalar(Se).floor(),re=xe;if(ke!==0&&(Ne=Nr),le.bindFramebuffer(X.FRAMEBUFFER,Ne)&&Ue&&le.drawBuffers(ne,Ne),le.viewport(Z),le.scissor(L),le.setScissorTest(re),ot){const wt=Me.get(ne.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,wt.__webglTexture,ke)}else if(pt){const wt=Ae;for(let Bt=0;Bt<ne.textures.length;Bt++){const Ht=Me.get(ne.textures[Bt]);X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0+Bt,Ht.__webglTexture,ke,wt)}}else if(ne!==null&&ke!==0){const wt=Me.get(ne.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,wt.__webglTexture,ke)}J=-1},this.readRenderTargetPixels=function(ne,Ae,ke,Ue,Ne,ot,pt,Tt=0){if(!(ne&&ne.isWebGLRenderTarget)){Kt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let wt=Me.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&pt!==void 0&&(wt=wt[pt]),wt){le.bindFramebuffer(X.FRAMEBUFFER,wt);try{const Bt=ne.textures[Tt],Ht=Bt.format,Ut=Bt.type;if(!Q.textureFormatReadable(Ht)){Kt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Q.textureTypeReadable(Ut)){Kt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=ne.width-Ue&&ke>=0&&ke<=ne.height-Ne&&(ne.textures.length>1&&X.readBuffer(X.COLOR_ATTACHMENT0+Tt),X.readPixels(Ae,ke,Ue,Ne,nt.convert(Ht),nt.convert(Ut),ot))}finally{const Bt=k!==null?Me.get(k).__webglFramebuffer:null;le.bindFramebuffer(X.FRAMEBUFFER,Bt)}}},this.readRenderTargetPixelsAsync=async function(ne,Ae,ke,Ue,Ne,ot,pt,Tt=0){if(!(ne&&ne.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let wt=Me.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&pt!==void 0&&(wt=wt[pt]),wt)if(Ae>=0&&Ae<=ne.width-Ue&&ke>=0&&ke<=ne.height-Ne){le.bindFramebuffer(X.FRAMEBUFFER,wt);const Bt=ne.textures[Tt],Ht=Bt.format,Ut=Bt.type;if(!Q.textureFormatReadable(Ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Q.textureTypeReadable(Ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Qt=X.createBuffer();X.bindBuffer(X.PIXEL_PACK_BUFFER,Qt),X.bufferData(X.PIXEL_PACK_BUFFER,ot.byteLength,X.STREAM_READ),ne.textures.length>1&&X.readBuffer(X.COLOR_ATTACHMENT0+Tt),X.readPixels(Ae,ke,Ue,Ne,nt.convert(Ht),nt.convert(Ut),0);const yn=k!==null?Me.get(k).__webglFramebuffer:null;le.bindFramebuffer(X.FRAMEBUFFER,yn);const bn=X.fenceSync(X.SYNC_GPU_COMMANDS_COMPLETE,0);return X.flush(),await ez(X,bn,4),X.bindBuffer(X.PIXEL_PACK_BUFFER,Qt),X.getBufferSubData(X.PIXEL_PACK_BUFFER,0,ot),X.deleteBuffer(Qt),X.deleteSync(bn),ot}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ne,Ae=null,ke=0){const Ue=Math.pow(2,-ke),Ne=Math.floor(ne.image.width*Ue),ot=Math.floor(ne.image.height*Ue),pt=Ae!==null?Ae.x:0,Tt=Ae!==null?Ae.y:0;ve.setTexture2D(ne,0),X.copyTexSubImage2D(X.TEXTURE_2D,ke,0,0,pt,Tt,Ne,ot),le.unbindTexture()};const sl=X.createFramebuffer(),vi=X.createFramebuffer();this.copyTextureToTexture=function(ne,Ae,ke=null,Ue=null,Ne=0,ot=null){ot===null&&(Ne!==0?(wh("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ot=Ne,Ne=0):ot=0);let pt,Tt,wt,Bt,Ht,Ut,Qt,yn,bn;const hn=ne.isCompressedTexture?ne.mipmaps[ot]:ne.image;if(ke!==null)pt=ke.max.x-ke.min.x,Tt=ke.max.y-ke.min.y,wt=ke.isBox3?ke.max.z-ke.min.z:1,Bt=ke.min.x,Ht=ke.min.y,Ut=ke.isBox3?ke.min.z:0;else{const Li=Math.pow(2,-Ne);pt=Math.floor(hn.width*Li),Tt=Math.floor(hn.height*Li),ne.isDataArrayTexture?wt=hn.depth:ne.isData3DTexture?wt=Math.floor(hn.depth*Li):wt=1,Bt=0,Ht=0,Ut=0}Ue!==null?(Qt=Ue.x,yn=Ue.y,bn=Ue.z):(Qt=0,yn=0,bn=0);const Ln=nt.convert(Ae.format),zt=nt.convert(Ae.type);let jn;Ae.isData3DTexture?(ve.setTexture3D(Ae,0),jn=X.TEXTURE_3D):Ae.isDataArrayTexture||Ae.isCompressedArrayTexture?(ve.setTexture2DArray(Ae,0),jn=X.TEXTURE_2D_ARRAY):(ve.setTexture2D(Ae,0),jn=X.TEXTURE_2D),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Ae.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Ae.unpackAlignment);const pn=X.getParameter(X.UNPACK_ROW_LENGTH),Ai=X.getParameter(X.UNPACK_IMAGE_HEIGHT),Rr=X.getParameter(X.UNPACK_SKIP_PIXELS),Yn=X.getParameter(X.UNPACK_SKIP_ROWS),ar=X.getParameter(X.UNPACK_SKIP_IMAGES);X.pixelStorei(X.UNPACK_ROW_LENGTH,hn.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,hn.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Bt),X.pixelStorei(X.UNPACK_SKIP_ROWS,Ht),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Ut);const Xn=ne.isDataArrayTexture||ne.isData3DTexture,Ii=Ae.isDataArrayTexture||Ae.isData3DTexture;if(ne.isDepthTexture){const Li=Me.get(ne),zi=Me.get(Ae),ci=Me.get(Li.__renderTarget),Fs=Me.get(zi.__renderTarget);le.bindFramebuffer(X.READ_FRAMEBUFFER,ci.__webglFramebuffer),le.bindFramebuffer(X.DRAW_FRAMEBUFFER,Fs.__webglFramebuffer);for(let Es=0;Es<wt;Es++)Xn&&(X.framebufferTextureLayer(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,Me.get(ne).__webglTexture,Ne,Ut+Es),X.framebufferTextureLayer(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,Me.get(Ae).__webglTexture,ot,bn+Es)),X.blitFramebuffer(Bt,Ht,pt,Tt,Qt,yn,pt,Tt,X.DEPTH_BUFFER_BIT,X.NEAREST);le.bindFramebuffer(X.READ_FRAMEBUFFER,null),le.bindFramebuffer(X.DRAW_FRAMEBUFFER,null)}else if(Ne!==0||ne.isRenderTargetTexture||Me.has(ne)){const Li=Me.get(ne),zi=Me.get(Ae);le.bindFramebuffer(X.READ_FRAMEBUFFER,sl),le.bindFramebuffer(X.DRAW_FRAMEBUFFER,vi);for(let ci=0;ci<wt;ci++)Xn?X.framebufferTextureLayer(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,Li.__webglTexture,Ne,Ut+ci):X.framebufferTexture2D(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,Li.__webglTexture,Ne),Ii?X.framebufferTextureLayer(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,zi.__webglTexture,ot,bn+ci):X.framebufferTexture2D(X.DRAW_FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_2D,zi.__webglTexture,ot),Ne!==0?X.blitFramebuffer(Bt,Ht,pt,Tt,Qt,yn,pt,Tt,X.COLOR_BUFFER_BIT,X.NEAREST):Ii?X.copyTexSubImage3D(jn,ot,Qt,yn,bn+ci,Bt,Ht,pt,Tt):X.copyTexSubImage2D(jn,ot,Qt,yn,Bt,Ht,pt,Tt);le.bindFramebuffer(X.READ_FRAMEBUFFER,null),le.bindFramebuffer(X.DRAW_FRAMEBUFFER,null)}else Ii?ne.isDataTexture||ne.isData3DTexture?X.texSubImage3D(jn,ot,Qt,yn,bn,pt,Tt,wt,Ln,zt,hn.data):Ae.isCompressedArrayTexture?X.compressedTexSubImage3D(jn,ot,Qt,yn,bn,pt,Tt,wt,Ln,hn.data):X.texSubImage3D(jn,ot,Qt,yn,bn,pt,Tt,wt,Ln,zt,hn):ne.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,ot,Qt,yn,pt,Tt,Ln,zt,hn.data):ne.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,ot,Qt,yn,hn.width,hn.height,Ln,hn.data):X.texSubImage2D(X.TEXTURE_2D,ot,Qt,yn,pt,Tt,Ln,zt,hn);X.pixelStorei(X.UNPACK_ROW_LENGTH,pn),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,Ai),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Rr),X.pixelStorei(X.UNPACK_SKIP_ROWS,Yn),X.pixelStorei(X.UNPACK_SKIP_IMAGES,ar),ot===0&&Ae.generateMipmaps&&X.generateMipmap(jn),le.unbindTexture()},this.initRenderTarget=function(ne){Me.get(ne).__webglFramebuffer===void 0&&ve.setupRenderTarget(ne)},this.initTexture=function(ne){ne.isCubeTexture?ve.setTextureCube(ne,0):ne.isData3DTexture?ve.setTexture3D(ne,0):ne.isDataArrayTexture||ne.isCompressedArrayTexture?ve.setTexture2DArray(ne,0):ve.setTexture2D(ne,0),le.unbindTexture()},this.resetState=function(){j=0,B=0,k=null,le.reset(),me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return er}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Nn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Nn._getUnpackColorSpace()}}const B9=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:$1,AddEquation:Wc,AddOperation:$w,AdditiveAnimationBlendMode:oS,AdditiveBlending:n0,AgXToneMapping:aA,AlphaFormat:sS,AlwaysCompare:yA,AlwaysDepth:wv,AlwaysStencilFunc:b1,AmbientLight:hC,AnimationAction:SC,AnimationClip:v0,AnimationLoader:G6,AnimationMixer:y8,AnimationObjectGroup:x8,AnimationUtils:F6,ArcCurve:PA,ArrayCamera:yC,ArrowHelper:G8,AttachedBindMode:y1,Audio:bC,AudioAnalyser:o8,AudioContext:US,AudioListener:a8,AudioLoader:t8,AxesHelper:Y8,BackSide:ys,BasicDepthPacking:uA,BasicShadowMap:Uw,BatchedMesh:UA,Bone:mS,BooleanKeyframeTrack:Id,Box2:C8,Box3:Ja,Box3Helper:j8,BoxGeometry:Ud,BoxHelper:H8,BufferAttribute:ei,BufferGeometry:an,BufferGeometryLoader:vC,ByteType:tS,Cache:Jo,Camera:Py,CameraHelper:F8,CanvasTexture:c6,CapsuleGeometry:Yy,CatmullRomCurve3:kA,CineonToneMapping:nA,CircleGeometry:Xy,ClampToEdgeWrapping:zs,Clock:IS,Color:bt,ColorKeyframeTrack:RS,ColorManagement:Nn,CompressedArrayTexture:o6,CompressedCubeTexture:l6,CompressedTexture:Gy,CompressedTextureLoader:Y6,ConeGeometry:U0,ConstantAlphaFactor:Kw,ConstantColorFactor:Ww,Controls:q8,CubeCamera:wA,CubeReflectionMapping:Zl,CubeRefractionMapping:tu,CubeTexture:D0,CubeTextureLoader:X6,CubeUVReflectionMapping:Fh,CubicBezierCurve:bS,CubicBezierCurve3:FA,CubicInterpolant:sC,CullFaceBack:g1,CullFaceFront:Ow,CullFaceFrontBack:pL,CullFaceNone:Dw,Curve:fo,CurvePath:jA,CustomBlending:Iw,CustomToneMapping:iA,CylinderGeometry:O0,Cylindrical:A8,Data3DTexture:By,DataArrayTexture:zy,DataTexture:ro,DataTextureLoader:q6,DataUtils:Oz,DecrementStencilOp:CL,DecrementWrapStencilOp:RL,DefaultLoadingManager:lC,DepthFormat:Eh,DepthStencilFormat:Mh,DepthTexture:xS,DetachedBindMode:rA,DirectionalLight:fC,DirectionalLightHelper:k8,DiscreteInterpolant:rC,DodecahedronGeometry:qy,DoubleSide:Zo,DstAlphaFactor:Vw,DstColorFactor:Yw,DynamicCopyUsage:YL,DynamicDrawUsage:kL,DynamicReadUsage:jL,EdgesGeometry:BA,EllipseCurve:Wy,EqualCompare:mA,EqualDepth:Cv,EqualStencilFunc:IL,EquirectangularReflectionMapping:i0,EquirectangularRefractionMapping:a0,Euler:nr,EventDispatcher:nl,ExternalTexture:vS,ExtrudeGeometry:Zy,FileLoader:Jl,Float16BufferAttribute:kz,Float32BufferAttribute:Rt,FloatType:Bs,Fog:Fy,FogExp2:ky,FramebufferTexture:r6,FrontSide:Wl,Frustum:Hh,FrustumArray:Vy,GLBufferAttribute:M8,GLSL1:qL,GLSL3:_1,GreaterCompare:gA,GreaterDepth:Rv,GreaterEqualCompare:vA,GreaterEqualDepth:Nv,GreaterEqualStencilFunc:PL,GreaterStencilFunc:zL,GridHelper:B8,Group:xh,HalfFloatType:Dd,HemisphereLight:cC,HemisphereLightHelper:z8,IcosahedronGeometry:Ky,ImageBitmapLoader:e8,ImageLoader:y0,ImageUtils:SA,IncrementStencilOp:AL,IncrementWrapStencilOp:NL,InstancedBufferAttribute:Rh,InstancedBufferGeometry:xC,InstancedInterleavedBuffer:E8,InstancedMesh:OA,Int16BufferAttribute:Bz,Int32BufferAttribute:Pz,Int8BufferAttribute:Iz,IntType:Cy,InterleavedBuffer:Hy,InterleavedBufferAttribute:Cd,Interpolant:z0,InterpolateDiscrete:o0,InterpolateLinear:ry,InterpolateSmooth:ov,InterpolationSamplingMode:KL,InterpolationSamplingType:ZL,InvertStencilOp:DL,KeepStencilOp:vd,KeyframeTrack:Cr,LOD:RA,LatheGeometry:Jy,Layers:Ch,LessCompare:pA,LessDepth:Av,LessEqualCompare:lS,LessEqualDepth:Ad,LessEqualStencilFunc:LL,LessStencilFunc:UL,Light:lu,LightProbe:gC,Line:au,Line3:D8,LineBasicMaterial:Ss,LineCurve:_S,LineCurve3:HA,LineDashedMaterial:nC,LineLoop:IA,LineSegments:il,LinearFilter:ji,LinearInterpolant:NS,LinearMipMapLinearFilter:vL,LinearMipMapNearestFilter:xL,LinearMipmapLinearFilter:Ko,LinearMipmapNearestFilter:Vm,LinearSRGBColorSpace:nu,LinearToneMapping:eA,LinearTransfer:c0,Loader:Ps,LoaderUtils:w1,LoadingManager:DS,LoopOnce:oA,LoopPingPong:cA,LoopRepeat:lA,MOUSE:gd,Material:Qa,MaterialLoader:ab,MathUtils:xz,Matrix2:PS,Matrix3:nn,Matrix4:Wt,MaxEquation:Pw,Mesh:oa,MeshBasicMaterial:ru,MeshDepthMaterial:wS,MeshDistanceMaterial:AS,MeshLambertMaterial:eC,MeshMatcapMaterial:tC,MeshNormalMaterial:$A,MeshPhongMaterial:JA,MeshPhysicalMaterial:KA,MeshStandardMaterial:TS,MeshToonMaterial:QA,MinEquation:Bw,MirroredRepeatWrapping:r0,MixOperation:Qw,MultiplyBlending:v1,MultiplyOperation:N0,NearestFilter:Na,NearestMipMapLinearFilter:gL,NearestMipMapNearestFilter:mL,NearestMipmapLinearFilter:mh,NearestMipmapNearestFilter:eS,NeutralToneMapping:sA,NeverCompare:hA,NeverDepth:Tv,NeverStencilFunc:OL,NoBlending:$o,NoColorSpace:Yl,NoToneMapping:el,NormalAnimationBlendMode:Ly,NormalBlending:Md,NotEqualCompare:xA,NotEqualDepth:Dv,NotEqualStencilFunc:BL,NumberKeyframeTrack:g0,Object3D:Rn,ObjectLoader:Q6,ObjectSpaceNormalMap:fA,OctahedronGeometry:I0,OneFactor:Fw,OneMinusConstantAlphaFactor:Jw,OneMinusConstantColorFactor:Zw,OneMinusDstAlphaFactor:Gw,OneMinusDstColorFactor:Xw,OneMinusSrcAlphaFactor:Mv,OneMinusSrcColorFactor:jw,OrthographicCamera:$c,PCFShadowMap:wy,PCFSoftShadowMap:jm,PMREMGenerator:N1,Path:uy,PerspectiveCamera:Hi,Plane:Gl,PlaneGeometry:jh,PlaneHelper:V8,PointLight:dC,PointLightHelper:I8,Points:LA,PointsMaterial:gS,PolarGridHelper:P8,PolyhedronGeometry:ou,PositionalAudio:r8,PropertyBinding:On,PropertyMixer:_C,QuadraticBezierCurve:SS,QuadraticBezierCurve3:ES,Quaternion:Ka,QuaternionKeyframeTrack:B0,QuaternionLinearInterpolant:oC,RED_GREEN_RGTC2_Format:ay,RED_RGTC1_Format:ny,REVISION:C0,RGBADepthPacking:dA,RGBAFormat:Za,RGBAIntegerFormat:Iy,RGBA_ASTC_10x10_Format:Kv,RGBA_ASTC_10x5_Format:qv,RGBA_ASTC_10x6_Format:Wv,RGBA_ASTC_10x8_Format:Zv,RGBA_ASTC_12x10_Format:Jv,RGBA_ASTC_12x12_Format:Qv,RGBA_ASTC_4x4_Format:kv,RGBA_ASTC_5x4_Format:Fv,RGBA_ASTC_5x5_Format:Hv,RGBA_ASTC_6x5_Format:jv,RGBA_ASTC_6x6_Format:Vv,RGBA_ASTC_8x5_Format:Gv,RGBA_ASTC_8x6_Format:Yv,RGBA_ASTC_8x8_Format:Xv,RGBA_BPTC_Format:$v,RGBA_ETC2_EAC_Format:Pv,RGBA_PVRTC_2BPPV1_Format:Lv,RGBA_PVRTC_4BPPV1_Format:Iv,RGBA_S3TC_DXT1_Format:Ym,RGBA_S3TC_DXT3_Format:Xm,RGBA_S3TC_DXT5_Format:qm,RGBDepthPacking:EL,RGBFormat:rS,RGBIntegerFormat:yL,RGB_BPTC_SIGNED_Format:ey,RGB_BPTC_UNSIGNED_Format:ty,RGB_ETC1_Format:zv,RGB_ETC2_Format:Bv,RGB_PVRTC_2BPPV1_Format:Uv,RGB_PVRTC_4BPPV1_Format:Ov,RGB_S3TC_DXT1_Format:Gm,RGDepthPacking:ML,RGFormat:Oy,RGIntegerFormat:Uy,RawShaderMaterial:ZA,Ray:Od,Raycaster:EC,RectAreaLight:pC,RedFormat:Dy,RedIntegerFormat:R0,ReinhardToneMapping:tA,RenderTarget:uS,RenderTarget3D:b8,RepeatWrapping:s0,ReplaceStencilOp:wL,ReverseSubtractEquation:zw,RingGeometry:Qy,SIGNED_RED_GREEN_RGTC2_Format:sy,SIGNED_RED_RGTC1_Format:iy,SRGBColorSpace:Wa,SRGBTransfer:Wn,Scene:hS,ShaderChunk:cn,ShaderLib:ao,ShaderMaterial:ir,ShadowMaterial:WA,Shape:wd,ShapeGeometry:$y,ShapePath:X8,ShapeUtils:so,ShortType:nS,Skeleton:jy,SkeletonHelper:U8,SkinnedMesh:DA,Source:Jc,Sphere:Ra,SphereGeometry:L0,Spherical:dy,SphericalHarmonics3:mC,SplineCurve:MS,SpotLight:uC,SpotLightHelper:O8,Sprite:NA,SpriteMaterial:pS,SrcAlphaFactor:Ev,SrcAlphaSaturateFactor:qw,SrcColorFactor:Hw,StaticCopyUsage:GL,StaticDrawUsage:u0,StaticReadUsage:HL,StereoCamera:n8,StreamCopyUsage:XL,StreamDrawUsage:FL,StreamReadUsage:VL,StringKeyframeTrack:Ld,SubtractEquation:Lw,SubtractiveBlending:x1,TOUCH:xd,TangentSpaceNormalMap:su,TetrahedronGeometry:eb,Texture:Oi,TextureLoader:W6,TextureUtils:Q8,Timer:T8,TimestampQuery:WL,TorusGeometry:tb,TorusKnotGeometry:nb,Triangle:Ls,TriangleFanDrawMode:SL,TriangleStripDrawMode:_L,TrianglesDrawMode:bL,TubeGeometry:ib,UVMapping:Ay,Uint16BufferAttribute:dS,Uint32BufferAttribute:fS,Uint8BufferAttribute:Lz,Uint8ClampedBufferAttribute:zz,Uniform:BS,UniformsGroup:S8,UniformsLib:vt,UniformsUtils:TA,UnsignedByteType:Ar,UnsignedInt101111Type:aS,UnsignedInt248Type:Sh,UnsignedInt5999Type:iS,UnsignedIntType:Kl,UnsignedShort4444Type:Ny,UnsignedShort5551Type:Ry,UnsignedShortType:_h,VSMShadowMap:io,Vector2:$e,Vector3:ue,Vector4:Un,VectorKeyframeTrack:x0,VideoFrameTexture:s6,VideoTexture:zA,WebGL3DRenderTarget:Sz,WebGLArrayRenderTarget:_z,WebGLCoordinateSystem:er,WebGLCubeRenderTarget:AA,WebGLRenderTarget:tl,WebGLRenderer:DC,WebGLUtils:RC,WebGPUCoordinateSystem:Th,WebXRController:lv,WireframeGeometry:qA,WrapAroundEnding:l0,ZeroCurvatureEnding:_d,ZeroFactor:kw,ZeroSlopeEnding:Sd,ZeroStencilOp:TL,createCanvasElement:_A,error:Kt,getConsoleFunction:$L,log:f0,setConsoleFunction:QL,warn:yt,warnOnce:wh},Symbol.toStringTag,{value:"Module"}));var K_={exports:{}},J_={},Q_={exports:{}},$_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function P9(){if(iT)return $_;iT=1;var i=Uh();function e(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,s=i.useEffect,o=i.useLayoutEffect,c=i.useDebugValue;function u(v,b){var y=b(),S=n({inst:{value:y,getSnapshot:b}}),E=S[0].inst,M=S[1];return o(function(){E.value=y,E.getSnapshot=b,h(E)&&M({inst:E})},[v,y,b]),s(function(){return h(E)&&M({inst:E}),v(function(){h(E)&&M({inst:E})})},[v]),c(y),y}function h(v){var b=v.getSnapshot;v=v.value;try{var y=b();return!t(v,y)}catch{return!0}}function p(v,b){return b()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return $_.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:x,$_}var aT;function k9(){return aT||(aT=1,Q_.exports=P9()),Q_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function F9(){if(sT)return J_;sT=1;var i=Uh(),e=k9();function t(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var n=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,o=i.useRef,c=i.useEffect,u=i.useMemo,h=i.useDebugValue;return J_.useSyncExternalStoreWithSelector=function(p,x,v,b,y){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function _(I){if(!C){if(C=!0,R=I,I=b(I),y!==void 0&&E.hasValue){var F=E.value;if(y(F,I))return O=F}return O=I}if(F=O,n(R,I))return F;var j=b(I);return y!==void 0&&y(F,j)?(R=I,F):(R=I,O=j)}var C=!1,R,O,U=v===void 0?null:v;return[function(){return _(x())},U===null?void 0:function(){return _(U())}]},[x,v,b,y]);var M=s(p,S[0],S[1]);return c(function(){E.hasValue=!0,E.value=M},[M]),h(M),M},J_}var rT;function H9(){return rT||(rT=1,K_.exports=F9()),K_.exports}var j9=H9();const V9=_0(j9),oT=i=>{let e;const t=new Set,n=(p,x)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const b=e;e=x??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(y=>y(e,b))}},s=()=>e,u={setState:n,getState:s,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=i(n,s,u);return u},G9=(i=>i?oT(i):oT),{useSyncExternalStoreWithSelector:Y9}=V9,X9=i=>i;function q9(i,e=X9,t){const n=Y9(i.subscribe,i.getState,i.getInitialState,e,t);return si.useDebugValue(n),n}const lT=(i,e)=>{const t=G9(i),n=(s,o=e)=>q9(t,s,o);return Object.assign(n,t),n},W9=((i,e)=>i?lT(i,e):lT);var e1={exports:{}},t1={exports:{}},n1={exports:{}},i1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function Z9(){return cT||(cT=1,(function(i){function e(q,W){var te=q.length;q.push(W);e:for(;0<te;){var oe=te-1>>>1,Se=q[oe];if(0<s(Se,W))q[oe]=W,q[te]=Se,te=oe;else break e}}function t(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var W=q[0],te=q.pop();if(te!==W){q[0]=te;e:for(var oe=0,Se=q.length,G=Se>>>1;oe<G;){var $=2*(oe+1)-1,se=q[$],de=$+1,xe=q[de];if(0>s(se,te))de<Se&&0>s(xe,se)?(q[oe]=xe,q[de]=te,oe=de):(q[oe]=se,q[$]=te,oe=$);else if(de<Se&&0>s(xe,te))q[oe]=xe,q[de]=te,oe=de;else break e}}return W}function s(q,W){var te=q.sortIndex-W.sortIndex;return te!==0?te:q.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();i.unstable_now=function(){return c.now()-u}}var h=[],p=[],x=1,v=null,b=3,y=!1,S=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(q){for(var W=t(p);W!==null;){if(W.callback===null)n(p);else if(W.startTime<=q)n(p),W.sortIndex=W.expirationTime,e(h,W);else break;W=t(p)}}function O(q){if(E=!1,R(q),!S)if(t(h)!==null)S=!0,L();else{var W=t(p);W!==null&&re(O,W.startTime-q)}}var U=!1,I=-1,F=5,j=-1;function B(){return!(i.unstable_now()-j<F)}function k(){if(U){var q=i.unstable_now();j=q;var W=!0;try{e:{S=!1,E&&(E=!1,_(I),I=-1),y=!0;var te=b;try{t:{for(R(q),v=t(h);v!==null&&!(v.expirationTime>q&&B());){var oe=v.callback;if(typeof oe=="function"){v.callback=null,b=v.priorityLevel;var Se=oe(v.expirationTime<=q);if(q=i.unstable_now(),typeof Se=="function"){v.callback=Se,R(q),W=!0;break t}v===t(h)&&n(h),R(q)}else n(h);v=t(h)}if(v!==null)W=!0;else{var G=t(p);G!==null&&re(O,G.startTime-q),W=!1}}break e}finally{v=null,b=te,y=!1}W=void 0}}finally{W?J():U=!1}}}var J;if(typeof C=="function")J=function(){C(k)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=k,J=function(){Z.postMessage(null)}}else J=function(){M(k,0)};function L(){U||(U=!0,J())}function re(q,W){I=M(function(){q(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_continueExecution=function(){S||y||(S=!0,L())},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return t(h)},i.unstable_next=function(q){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var te=b;b=W;try{return q()}finally{b=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=b;b=q;try{return W()}finally{b=te}},i.unstable_scheduleCallback=function(q,W,te){var oe=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?oe+te:oe):te=oe,q){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=te+Se,q={id:x++,callback:W,priorityLevel:q,startTime:te,expirationTime:Se,sortIndex:-1},te>oe?(q.sortIndex=te,e(p,q),t(h)===null&&q===t(p)&&(E?(_(I),I=-1):E=!0,re(O,te-oe))):(q.sortIndex=Se,e(h,q),S||y||(S=!0,L())),q},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(q){var W=b;return function(){var te=b;b=W;try{return q.apply(this,arguments)}finally{b=te}}}})(i1)),i1}var uT;function OC(){return uT||(uT=1,n1.exports=Z9()),n1.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function K9(){return dT||(dT=1,(function(i){i.exports=function(e){function t(l,d,g,w){return new xp(l,d,g,w)}function n(){}function s(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return l===null||typeof l!="object"?null:(l=Mp&&l[Mp]||l["@@iterator"],typeof l=="function"?l:null)}function c(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===yl?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case pc:return"Fragment";case Gs:return"Portal";case Ep:return"Profiler";case Sp:return"StrictMode";case cf:return"Suspense";case Do:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case fr:return(l.displayName||"Context")+".Provider";case Ro:return(l._context.displayName||"Context")+".Consumer";case mc:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Ru:return d=l.displayName||null,d!==null?d:c(l.type)||"Memo";case Ys:d=l._payload,l=l._init;try{return c(l(d))}catch{}}return null}function u(l){if(uf===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);uf=d&&d[1]||"",Tp=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uf+l+Tp}function h(l,d){if(!l||Oo)return"";Oo=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(d){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(Zt){var Mt=Zt}Reflect.construct(l,[],xt)}else{try{xt.call()}catch(Zt){Mt=Zt}l.call(xt.prototype)}}else{try{throw Error()}catch(Zt){Mt=Zt}(xt=l())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(Zt){if(Zt&&Mt&&typeof Zt.stack=="string")return[Zt.stack,Mt.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=w.DetermineComponentFrameRoot(),ae=z[0],ye=z[1];if(ae&&ye){var Oe=ae.split(`
`),Ke=ye.split(`
`);for(D=w=0;w<Oe.length&&!Oe[w].includes("DetermineComponentFrameRoot");)w++;for(;D<Ke.length&&!Ke[D].includes("DetermineComponentFrameRoot");)D++;if(w===Oe.length||D===Ke.length)for(w=Oe.length-1,D=Ke.length-1;1<=w&&0<=D&&Oe[w]!==Ke[D];)D--;for(;1<=w&&0<=D;w--,D--)if(Oe[w]!==Ke[D]){if(w!==1||D!==1)do if(w--,D--,0>D||Oe[w]!==Ke[D]){var lt=`
`+Oe[w].replace(" at new "," at ");return l.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",l.displayName)),lt}while(1<=w&&0<=D);break}}}finally{Oo=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?u(g):""}function p(l){switch(l.tag){case 26:case 27:case 5:return u(l.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return l=h(l.type,!1),l;case 11:return l=h(l.type.render,!1),l;case 1:return l=h(l.type,!0),l;default:return""}}function x(l){try{var d="";do d+=p(l),l=l.return;while(l);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function v(l){var d=l,g=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(g=d.return),l=d.return;while(l)}return d.tag===3?g:null}function b(l){if(v(l)!==l)throw Error(s(188))}function y(l){var d=l.alternate;if(!d){if(d=v(l),d===null)throw Error(s(188));return d!==l?null:l}for(var g=l,w=d;;){var D=g.return;if(D===null)break;var z=D.alternate;if(z===null){if(w=D.return,w!==null){g=w;continue}break}if(D.child===z.child){for(z=D.child;z;){if(z===g)return b(D),l;if(z===w)return b(D),d;z=z.sibling}throw Error(s(188))}if(g.return!==w.return)g=D,w=z;else{for(var ae=!1,ye=D.child;ye;){if(ye===g){ae=!0,g=D,w=z;break}if(ye===w){ae=!0,w=D,g=z;break}ye=ye.sibling}if(!ae){for(ye=z.child;ye;){if(ye===g){ae=!0,g=z,w=D;break}if(ye===w){ae=!0,w=z,g=D;break}ye=ye.sibling}if(!ae)throw Error(s(189))}}if(g.alternate!==w)throw Error(s(190))}if(g.tag!==3)throw Error(s(188));return g.stateNode.current===g?l:d}function S(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=S(l),d!==null)return d;l=l.sibling}return null}function E(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(l.tag!==4&&(d=E(l),d!==null))return d;l=l.sibling}return null}function M(l){return{current:l}}function _(l){0>Gr||(l.current=ku[Gr],ku[Gr]=null,Gr--)}function C(l,d){Gr++,ku[Gr]=l.current,l.current=d}function R(l){return l>>>=0,l===0?32:31-(Fu(l)/Og|0)|0}function O(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function U(l,d){var g=l.pendingLanes;if(g===0)return 0;var w=0,D=l.suspendedLanes,z=l.pingedLanes,ae=l.warmLanes;l=l.finishedLanes!==0;var ye=g&134217727;return ye!==0?(g=ye&~D,g!==0?w=O(g):(z&=ye,z!==0?w=O(z):l||(ae=ye&~ae,ae!==0&&(w=O(ae))))):(ye=g&~D,ye!==0?w=O(ye):z!==0?w=O(z):l||(ae=g&~ae,ae!==0&&(w=O(ae)))),w===0?0:d!==0&&d!==w&&(d&D)===0&&(D=w&-w,ae=d&-d,D>=ae||D===32&&(ae&4194176)!==0)?d:w}function I(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function F(l,d){switch(l){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j(){var l=yc;return yc<<=1,(yc&4194176)===0&&(yc=128),l}function B(){var l=Hu;return Hu<<=1,(Hu&62914560)===0&&(Hu=4194304),l}function k(l){for(var d=[],g=0;31>g;g++)d.push(l);return d}function J(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Y(l,d,g,w,D,z){var ae=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var ye=l.entanglements,Oe=l.expirationTimes,Ke=l.hiddenUpdates;for(g=ae&~g;0<g;){var lt=31-Ba(g),xt=1<<lt;ye[lt]=0,Oe[lt]=-1;var Mt=Ke[lt];if(Mt!==null)for(Ke[lt]=null,lt=0;lt<Mt.length;lt++){var Zt=Mt[lt];Zt!==null&&(Zt.lane&=-536870913)}g&=~xt}w!==0&&Z(l,w,0),z!==0&&D===0&&l.tag!==0&&(l.suspendedLanes|=z&~(ae&~d))}function Z(l,d,g){l.pendingLanes|=d,l.suspendedLanes&=~d;var w=31-Ba(d);l.entangledLanes|=d,l.entanglements[w]=l.entanglements[w]|1073741824|g&4194218}function L(l,d){var g=l.entangledLanes|=d;for(l=l.entanglements;g;){var w=31-Ba(g),D=1<<w;D&d|l[w]&d&&(l[w]|=d),g&=~D}}function re(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function q(l){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(_c,l,void 0,(l.current.flags&128)===128)}catch{}}function W(l){if(typeof zg=="function"&&nm(l),Pa&&typeof Pa.setStrictMode=="function")try{Pa.setStrictMode(_c,l)}catch{}}function te(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}function oe(l,d){if(typeof l=="object"&&l!==null){var g=Af.get(l);return g!==void 0?g:(d={value:l,source:d,stack:x(d)},Af.set(l,d),d)}return{value:l,source:d,stack:x(d)}}function Se(l,d){ii[fi++]=Gu,ii[fi++]=Vu,Vu=l,Gu=d}function G(l,d,g){rs[os++]=xr,rs[os++]=ws,rs[os++]=Xs,Xs=l;var w=xr;l=ws;var D=32-Ba(w)-1;w&=~(1<<D),g+=1;var z=32-Ba(d)+D;if(30<z){var ae=D-D%5;z=(w&(1<<ae)-1).toString(32),w>>=ae,D-=ae,xr=1<<32-Ba(d)+D|g<<D|w,ws=z+l}else xr=1<<z|g<<D|w,ws=l}function $(l){l.return!==null&&(Se(l,1),G(l,1,0))}function se(l){for(;l===Vu;)Vu=ii[--fi],ii[fi]=null,Gu=ii[--fi],ii[fi]=null;for(;l===Xs;)Xs=rs[--os],rs[os]=null,ws=rs[--os],rs[os]=null,xr=rs[--os],rs[os]=null}function de(l,d){C(qs,d),C(Yu,l),C(Wi,null),l=bl(d),_(Wi),C(Wi,l)}function xe(){_(Wi),_(Yu),_(qs)}function ge(l){l.memoizedState!==null&&C(Sc,l);var d=Wi.current,g=dg(d,l.type);d!==g&&(C(Yu,l),C(Wi,g))}function _e(l){Yu.current===l&&(_(Wi),_(Yu)),Sc.current===l&&(_(Sc),pr?Yt._currentValue=za:Yt._currentValue2=za)}function Le(l){var d=Error(s(418,""));throw mt(oe(d,l)),Xu}function Ye(l,d){if(!Ma)throw Error(s(175));hb(l.stateNode,l.type,l.memoizedProps,d,l)||Le(l)}function qe(l){for(ma=l.return;ma;)switch(ma.tag){case 3:case 27:As=!0;return;case 5:case 13:As=!1;return;default:ma=ma.return}}function ut(l){if(!Ma||l!==ma)return!1;if(!Mn)return qe(l),Mn=!0,!1;var d=!1;if(ta?l.tag!==3&&l.tag!==27&&(l.tag!==5||Ag(l.type)&&!Lo(l.type,l.memoizedProps))&&(d=!0):l.tag!==3&&(l.tag!==5||Ag(l.type)&&!Lo(l.type,l.memoizedProps))&&(d=!0),d&&ia&&Le(l),qe(l),l.tag===13){if(!Ma)throw Error(s(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));ia=Tg(l)}else ia=ma?Vp(l.stateNode):null;return!0}function St(){Ma&&(ia=ma=null,Mn=!1)}function mt(l){ls===null?ls=[l]:ls.push(l)}function P(){for(var l=Bo,d=Ec=Bo=0;d<l;){var g=cs[d];cs[d++]=null;var w=cs[d];cs[d++]=null;var D=cs[d];cs[d++]=null;var z=cs[d];if(cs[d++]=null,w!==null&&D!==null){var ae=w.pending;ae===null?D.next=D:(D.next=ae.next,ae.next=D),w.pending=D}z!==0&&Q(g,D,z)}}function X(l,d,g,w){cs[Bo++]=l,cs[Bo++]=d,cs[Bo++]=g,cs[Bo++]=w,Ec|=w,l.lanes|=w,l=l.alternate,l!==null&&(l.lanes|=w)}function he(l,d,g,w){return X(l,d,g,w),le(l)}function ee(l,d){return X(l,null,null,d),le(l)}function Q(l,d,g){l.lanes|=g;var w=l.alternate;w!==null&&(w.lanes|=g);for(var D=!1,z=l.return;z!==null;)z.childLanes|=g,w=z.alternate,w!==null&&(w.childLanes|=g),z.tag===22&&(l=z.stateNode,l===null||l._visibility&1||(D=!0)),l=z,z=z.return;D&&d!==null&&l.tag===3&&(z=l.stateNode,D=31-Ba(g),z=z.hiddenUpdates,l=z[D],l===null?z[D]=[d]:l.push(d),d.lane=g|536870912)}function le(l){if(50<Dl)throw Dl=0,Aa=null,Error(s(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}function Te(l){l!==Ml&&l.next===null&&(Ml===null?Mc=Ml=l:Ml=Ml.next=l),Wu=!0,qu||(qu=!0,we(ve))}function Me(l,d){if(!Ws&&Wu){Ws=!0;do for(var g=!1,w=Mc;w!==null;){if(l!==0){var D=w.pendingLanes;if(D===0)var z=0;else{var ae=w.suspendedLanes,ye=w.pingedLanes;z=(1<<31-Ba(42|l)+1)-1,z&=D&~(ae&~ye),z=z&201326677?z&201326677|1:z?z|2:0}z!==0&&(g=!0,fe(w,z))}else z=on,z=U(w,w===un?z:0),(z&3)===0||I(w,z)||(g=!0,fe(w,z));w=w.next}while(g);Ws=!1}}function ve(){Wu=qu=!1;var l=0;Po!==0&&(zo()&&(l=Po),Po=0);for(var d=na(),g=null,w=Mc;w!==null;){var D=w.next,z=K(w,d);z===0?(w.next=null,g===null?Mc=D:g.next=D,D===null&&(Ml=g)):(g=w,(l!==0||(z&3)!==0)&&(Wu=!0)),w=D}Me(l)}function K(l,d){for(var g=l.suspendedLanes,w=l.pingedLanes,D=l.expirationTimes,z=l.pendingLanes&-62914561;0<z;){var ae=31-Ba(z),ye=1<<ae,Oe=D[ae];Oe===-1?((ye&g)===0||(ye&w)!==0)&&(D[ae]=F(ye,d)):Oe<=d&&(l.expiredLanes|=ye),z&=~ye}if(d=un,g=on,g=U(l,l===d?g:0),w=l.callbackNode,g===0||l===d&&Gn===2||l.cancelPendingCommit!==null)return w!==null&&w!==null&&ju(w),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||I(l,g)){if(d=g&-g,d===l.callbackPriority)return d;switch(w!==null&&ju(w),re(g)){case 2:case 8:g=Lg;break;case 32:g=Tf;break;case 268435456:g=wf;break;default:g=Tf}return w=V.bind(null,l),g=bc(g,w),l.callbackPriority=d,l.callbackNode=g,d}return w!==null&&w!==null&&ju(w),l.callbackPriority=2,l.callbackNode=null,2}function V(l,d){var g=l.callbackNode;if(Xi()&&l.callbackNode!==g)return null;var w=on;return w=U(l,l===un?w:0),w===0?null:(Tu(l,w,d),K(l,na()),l.callbackNode!=null&&l.callbackNode===g?V.bind(null,l):null)}function fe(l,d){if(Xi())return null;Tu(l,d,!0)}function we(l){Ci?pf(function(){(Lt&6)!==0?bc(tm,l):l()}):bc(tm,l)}function He(){return Po===0&&(Po=j()),Po}function Ce(l,d){if(Zu===null){var g=Zu=[];Cf=0,ka=He(),ko={status:"pending",value:void 0,then:function(w){g.push(w)}}}return Cf++,d.then(ft,ft),d}function ft(){if(--Cf===0&&Zu!==null){ko!==null&&(ko.status="fulfilled");var l=Zu;Zu=null,ka=0,ko=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function rt(l,d){var g=[],w={status:"pending",value:null,reason:null,then:function(D){g.push(D)}};return l.then(function(){w.status="fulfilled",w.value=d;for(var D=0;D<g.length;D++)(0,g[D])(d)},function(D){for(w.status="rejected",w.reason=D,D=0;D<g.length;D++)(0,g[D])(void 0)}),w}function ht(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gt(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Ve(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function tt(l,d,g){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(Lt&2)!==0){var D=w.pending;return D===null?d.next=d:(d.next=D.next,D.next=d),w.pending=d,d=le(l),Q(l,null,g),d}return X(l,w,d,g),le(l)}function _t(l,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194176)!==0)){var w=d.lanes;w&=l.pendingLanes,g|=w,d.lanes=g,L(l,g)}}function pe(l,d){var g=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var D=null,z=null;if(g=g.firstBaseUpdate,g!==null){do{var ae={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};z===null?D=z=ae:z=z.next=ae,g=g.next}while(g!==null);z===null?D=z=d:z=z.next=d}else D=z=d;g={baseState:w.baseState,firstBaseUpdate:D,lastBaseUpdate:z,shared:w.shared,callbacks:w.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=d}function Ie(){if(Tc){var l=ko;if(l!==null)throw l}}function nt(l,d,g,w){Tc=!1;var D=l.updateQueue;Yr=!1;var z=D.firstBaseUpdate,ae=D.lastBaseUpdate,ye=D.shared.pending;if(ye!==null){D.shared.pending=null;var Oe=ye,Ke=Oe.next;Oe.next=null,ae===null?z=Ke:ae.next=Ke,ae=Oe;var lt=l.alternate;lt!==null&&(lt=lt.updateQueue,ye=lt.lastBaseUpdate,ye!==ae&&(ye===null?lt.firstBaseUpdate=Ke:ye.next=Ke,lt.lastBaseUpdate=Oe))}if(z!==null){var xt=D.baseState;ae=0,lt=Ke=Oe=null,ye=z;do{var Mt=ye.lane&-536870913,Zt=Mt!==ye.lane;if(Zt?(on&Mt)===Mt:(w&Mt)===Mt){Mt!==0&&Mt===ka&&(Tc=!0),lt!==null&&(lt=lt.next={lane:0,tag:ye.tag,payload:ye.payload,callback:null,next:null});e:{var Va=l,$u=ye;Mt=d;var Ol=g;switch($u.tag){case 1:if(Va=$u.payload,typeof Va=="function"){xt=Va.call(Ol,xt,Mt);break e}xt=Va;break e;case 3:Va.flags=Va.flags&-65537|128;case 0:if(Va=$u.payload,Mt=typeof Va=="function"?Va.call(Ol,xt,Mt):Va,Mt==null)break e;xt=vl({},xt,Mt);break e;case 2:Yr=!0}}Mt=ye.callback,Mt!==null&&(l.flags|=64,Zt&&(l.flags|=8192),Zt=D.callbacks,Zt===null?D.callbacks=[Mt]:Zt.push(Mt))}else Zt={lane:Mt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},lt===null?(Ke=lt=Zt,Oe=xt):lt=lt.next=Zt,ae|=Mt;if(ye=ye.next,ye===null){if(ye=D.shared.pending,ye===null)break;Zt=ye,ye=Zt.next,Zt.next=null,D.lastBaseUpdate=Zt,D.shared.pending=null}}while(!0);lt===null&&(Oe=xt),D.baseState=Oe,D.firstBaseUpdate=Ke,D.lastBaseUpdate=lt,z===null&&(D.shared.lanes=0),hs|=ae,l.lanes=ae,l.memoizedState=xt}}function me(l,d){if(typeof l!="function")throw Error(s(191,l));l.call(d)}function it(l,d){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)me(g[l],d)}function at(l,d){if(ss(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var g=Object.keys(l),w=Object.keys(d);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var D=g[w];if(!Ku.call(d,D)||!ss(l[D],d[D]))return!1}return!0}function Je(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Ze(){}function Xe(l,d,g){switch(g=l[g],g===void 0?l.push(d):g!==d&&(d.then(Ze,Ze),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,l===Hn?Error(s(483)):l;default:if(typeof d.status=="string")d.then(Ze,Ze);else{if(l=un,l!==null&&100<l.shellSuspendCounter)throw Error(s(482));l=d,l.status="pending",l.then(function(w){if(d.status==="pending"){var D=d;D.status="fulfilled",D.value=w}},function(w){if(d.status==="pending"){var D=d;D.status="rejected",D.reason=w}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,l===Hn?Error(s(483)):l}throw Tl=d,Hn}}function ct(){if(Tl===null)throw Error(s(459));var l=Tl;return Tl=null,l}function Et(l){var d=Cs;return Cs+=1,vr===null&&(vr=[]),Xe(vr,l,d)}function kt(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function Ft(l,d){throw d.$$typeof===_p?Error(s(525)):(l=Object.prototype.toString.call(d),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function In(l){var d=l._init;return d(l._payload)}function dn(l){function d(Pe,Re){if(l){var je=Pe.deletions;je===null?(Pe.deletions=[Re],Pe.flags|=16):je.push(Re)}}function g(Pe,Re){if(!l)return null;for(;Re!==null;)d(Pe,Re),Re=Re.sibling;return null}function w(Pe){for(var Re=new Map;Pe!==null;)Pe.key!==null?Re.set(Pe.key,Pe):Re.set(Pe.index,Pe),Pe=Pe.sibling;return Re}function D(Pe,Re){return Pe=ha(Pe,Re),Pe.index=0,Pe.sibling=null,Pe}function z(Pe,Re,je){return Pe.index=je,l?(je=Pe.alternate,je!==null?(je=je.index,je<Re?(Pe.flags|=33554434,Re):je):(Pe.flags|=33554434,Re)):(Pe.flags|=1048576,Re)}function ae(Pe){return l&&Pe.alternate===null&&(Pe.flags|=33554434),Pe}function ye(Pe,Re,je,st){return Re===null||Re.tag!==6?(Re=No(je,Pe.mode,st),Re.return=Pe,Re):(Re=D(Re,je),Re.return=Pe,Re)}function Oe(Pe,Re,je,st){var Ot=je.type;return Ot===pc?lt(Pe,Re,je.props.children,st,je.key):Re!==null&&(Re.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ys&&In(Ot)===Re.type)?(Re=D(Re,je.props),kt(Re,je),Re.return=Pe,Re):(Re=Ms(je.type,je.key,je.props,null,Pe.mode,st),kt(Re,je),Re.return=Pe,Re)}function Ke(Pe,Re,je,st){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==je.containerInfo||Re.stateNode.implementation!==je.implementation?(Re=hc(je,Pe.mode,st),Re.return=Pe,Re):(Re=D(Re,je.children||[]),Re.return=Pe,Re)}function lt(Pe,Re,je,st,Ot){return Re===null||Re.tag!==7?(Re=kr(je,Pe.mode,st,Ot),Re.return=Pe,Re):(Re=D(Re,je),Re.return=Pe,Re)}function xt(Pe,Re,je){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=No(""+Re,Pe.mode,je),Re.return=Pe,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Fr:return je=Ms(Re.type,Re.key,Re.props,null,Pe.mode,je),kt(je,Re),je.return=Pe,je;case Gs:return Re=hc(Re,Pe.mode,je),Re.return=Pe,Re;case Ys:var st=Re._init;return Re=st(Re._payload),xt(Pe,Re,je)}if(Uo(Re)||o(Re))return Re=kr(Re,Pe.mode,je,null),Re.return=Pe,Re;if(typeof Re.then=="function")return xt(Pe,Et(Re),je);if(Re.$$typeof===fr)return xt(Pe,bu(Pe,Re),je);Ft(Pe,Re)}return null}function Mt(Pe,Re,je,st){var Ot=Re!==null?Re.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return Ot!==null?null:ye(Pe,Re,""+je,st);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case Fr:return je.key===Ot?Oe(Pe,Re,je,st):null;case Gs:return je.key===Ot?Ke(Pe,Re,je,st):null;case Ys:return Ot=je._init,je=Ot(je._payload),Mt(Pe,Re,je,st)}if(Uo(je)||o(je))return Ot!==null?null:lt(Pe,Re,je,st,null);if(typeof je.then=="function")return Mt(Pe,Re,Et(je),st);if(je.$$typeof===fr)return Mt(Pe,Re,bu(Pe,je),st);Ft(Pe,je)}return null}function Zt(Pe,Re,je,st,Ot){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Pe=Pe.get(je)||null,ye(Re,Pe,""+st,Ot);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case Fr:return Pe=Pe.get(st.key===null?je:st.key)||null,Oe(Re,Pe,st,Ot);case Gs:return Pe=Pe.get(st.key===null?je:st.key)||null,Ke(Re,Pe,st,Ot);case Ys:var Jn=st._init;return st=Jn(st._payload),Zt(Pe,Re,je,st,Ot)}if(Uo(st)||o(st))return Pe=Pe.get(je)||null,lt(Re,Pe,st,Ot,null);if(typeof st.then=="function")return Zt(Pe,Re,je,Et(st),Ot);if(st.$$typeof===fr)return Zt(Pe,Re,je,bu(Re,st),Ot);Ft(Re,st)}return null}function Va(Pe,Re,je,st){for(var Ot=null,Jn=null,Xt=Re,wn=Re=0,ki=null;Xt!==null&&wn<je.length;wn++){Xt.index>wn?(ki=Xt,Xt=null):ki=Xt.sibling;var An=Mt(Pe,Xt,je[wn],st);if(An===null){Xt===null&&(Xt=ki);break}l&&Xt&&An.alternate===null&&d(Pe,Xt),Re=z(An,Re,wn),Jn===null?Ot=An:Jn.sibling=An,Jn=An,Xt=ki}if(wn===je.length)return g(Pe,Xt),Mn&&Se(Pe,wn),Ot;if(Xt===null){for(;wn<je.length;wn++)Xt=xt(Pe,je[wn],st),Xt!==null&&(Re=z(Xt,Re,wn),Jn===null?Ot=Xt:Jn.sibling=Xt,Jn=Xt);return Mn&&Se(Pe,wn),Ot}for(Xt=w(Xt);wn<je.length;wn++)ki=Zt(Xt,Pe,wn,je[wn],st),ki!==null&&(l&&ki.alternate!==null&&Xt.delete(ki.key===null?wn:ki.key),Re=z(ki,Re,wn),Jn===null?Ot=ki:Jn.sibling=ki,Jn=ki);return l&&Xt.forEach(function(Qr){return d(Pe,Qr)}),Mn&&Se(Pe,wn),Ot}function $u(Pe,Re,je,st){if(je==null)throw Error(s(151));for(var Ot=null,Jn=null,Xt=Re,wn=Re=0,ki=null,An=je.next();Xt!==null&&!An.done;wn++,An=je.next()){Xt.index>wn?(ki=Xt,Xt=null):ki=Xt.sibling;var Qr=Mt(Pe,Xt,An.value,st);if(Qr===null){Xt===null&&(Xt=ki);break}l&&Xt&&Qr.alternate===null&&d(Pe,Xt),Re=z(Qr,Re,wn),Jn===null?Ot=Qr:Jn.sibling=Qr,Jn=Qr,Xt=ki}if(An.done)return g(Pe,Xt),Mn&&Se(Pe,wn),Ot;if(Xt===null){for(;!An.done;wn++,An=je.next())An=xt(Pe,An.value,st),An!==null&&(Re=z(An,Re,wn),Jn===null?Ot=An:Jn.sibling=An,Jn=An);return Mn&&Se(Pe,wn),Ot}for(Xt=w(Xt);!An.done;wn++,An=je.next())An=Zt(Xt,Pe,wn,An.value,st),An!==null&&(l&&An.alternate!==null&&Xt.delete(An.key===null?wn:An.key),Re=z(An,Re,wn),Jn===null?Ot=An:Jn.sibling=An,Jn=An);return l&&Xt.forEach(function(Bf){return d(Pe,Bf)}),Mn&&Se(Pe,wn),Ot}function Ol(Pe,Re,je,st){if(typeof je=="object"&&je!==null&&je.type===pc&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case Fr:e:{for(var Ot=je.key;Re!==null;){if(Re.key===Ot){if(Ot=je.type,Ot===pc){if(Re.tag===7){g(Pe,Re.sibling),st=D(Re,je.props.children),st.return=Pe,Pe=st;break e}}else if(Re.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===Ys&&In(Ot)===Re.type){g(Pe,Re.sibling),st=D(Re,je.props),kt(st,je),st.return=Pe,Pe=st;break e}g(Pe,Re);break}else d(Pe,Re);Re=Re.sibling}je.type===pc?(st=kr(je.props.children,Pe.mode,st,je.key),st.return=Pe,Pe=st):(st=Ms(je.type,je.key,je.props,null,Pe.mode,st),kt(st,je),st.return=Pe,Pe=st)}return ae(Pe);case Gs:e:{for(Ot=je.key;Re!==null;){if(Re.key===Ot)if(Re.tag===4&&Re.stateNode.containerInfo===je.containerInfo&&Re.stateNode.implementation===je.implementation){g(Pe,Re.sibling),st=D(Re,je.children||[]),st.return=Pe,Pe=st;break e}else{g(Pe,Re);break}else d(Pe,Re);Re=Re.sibling}st=hc(je,Pe.mode,st),st.return=Pe,Pe=st}return ae(Pe);case Ys:return Ot=je._init,je=Ot(je._payload),Ol(Pe,Re,je,st)}if(Uo(je))return Va(Pe,Re,je,st);if(o(je)){if(Ot=o(je),typeof Ot!="function")throw Error(s(150));return je=Ot.call(je),$u(Pe,Re,je,st)}if(typeof je.then=="function")return Ol(Pe,Re,Et(je),st);if(je.$$typeof===fr)return Ol(Pe,Re,bu(Pe,je),st);Ft(Pe,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,Re!==null&&Re.tag===6?(g(Pe,Re.sibling),st=D(Re,je),st.return=Pe,Pe=st):(g(Pe,Re),st=No(je,Pe.mode,st),st.return=Pe,Pe=st),ae(Pe)):g(Pe,Re)}return function(Pe,Re,je,st){try{Cs=0;var Ot=Ol(Pe,Re,je,st);return vr=null,Ot}catch(Xt){if(Xt===Hn)throw Xt;var Jn=t(29,Xt,null,Pe.mode);return Jn.lanes=st,Jn.return=Pe,Jn}finally{}}}function Da(l,d){l=Zs,C(us,l),C(yr,d),Zs=l|d.baseLanes}function Vi(){C(us,Zs),C(yr,yr.current)}function Ki(){Zs=us.current,_(yr),_(us)}function ri(l){var d=l.alternate;C(Ni,Ni.current&1),C(ds,l),Ns===null&&(d===null||yr.current!==null||d.memoizedState!==null)&&(Ns=l)}function Oa(l){if(l.tag===22){if(C(Ni,Ni.current),C(ds,l),Ns===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(Ns=l)}}else gi()}function gi(){C(Ni,Ni.current),C(ds,ds.current)}function Ui(l){_(ds),Ns===l&&(Ns=null),_(Ni)}function wi(l){for(var d=l;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||yf(g)||Pu(g)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function sn(){throw Error(s(321))}function xi(l,d){if(d===null)return!1;for(var g=0;g<d.length&&g<l.length;g++)if(!ss(l[g],d[g]))return!1;return!0}function ks(l,d,g,w,D,z){return br=z,en=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,jt.H=l===null||l.memoizedState===null?Ri:ga,Xr=!1,z=g(w,D),Xr=!1,ai&&(z=zd(d,g,w,D)),al(l),z}function al(l){jt.H=Tn;var d=Dn!==null&&Dn.next!==null;if(br=0,bi=Dn=en=null,Rs=!1,hi=0,wc=null,d)throw Error(s(300));l===null||_i||(l=l.dependencies,l!==null&&vo(l)&&(_i=!0))}function zd(l,d,g,w){en=l;var D=0;do{if(ai&&(wc=null),hi=0,ai=!1,25<=D)throw Error(s(301));if(D+=1,bi=Dn=null,l.updateQueue!=null){var z=l.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}jt.H=Ho,z=d(g,w)}while(ai);return z}function Yh(){var l=jt.H,d=l.useState()[0];return d=typeof d.then=="function"?Ae(d):d,l=l.useState()[0],(Dn!==null?Dn.memoizedState:null)!==l&&(en.flags|=1024),d}function Ql(){var l=Ju!==0;return Ju=0,l}function Nr(l,d,g){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~g}function sl(l){if(Rs){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Rs=!1}br=0,bi=Dn=en=null,ai=!1,hi=Ju=0,wc=null}function vi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?en.memoizedState=bi=l:bi=bi.next=l,bi}function ne(){if(Dn===null){var l=en.alternate;l=l!==null?l.memoizedState:null}else l=Dn.next;var d=bi===null?en.memoizedState:bi.next;if(d!==null)bi=d,Dn=l;else{if(l===null)throw en.alternate===null?Error(s(467)):Error(s(310));Dn=l,l={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},bi===null?en.memoizedState=bi=l:bi=bi.next=l}return bi}function Ae(l){var d=hi;return hi+=1,wc===null&&(wc=[]),l=Xe(wc,l,d),d=en,(bi===null?d.memoizedState:bi.next)===null&&(d=d.alternate,jt.H=d===null||d.memoizedState===null?Ri:ga),l}function ke(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Ae(l);if(l.$$typeof===fr)return Qi(l)}throw Error(s(438,String(l)))}function Ue(l){var d=null,g=en.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var w=en.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(d={data:w.data.map(function(D){return D.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=Rf(),en.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(l),w=0;w<l;w++)g[w]=ug;return d.index++,g}function Ne(l,d){return typeof d=="function"?d(l):d}function ot(l){var d=ne();return pt(d,Dn,l)}function pt(l,d,g){var w=l.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=g;var D=l.baseQueue,z=w.pending;if(z!==null){if(D!==null){var ae=D.next;D.next=z.next,z.next=ae}d.baseQueue=D=z,w.pending=null}if(z=l.baseState,D===null)l.memoizedState=z;else{d=D.next;var ye=ae=null,Oe=null,Ke=d,lt=!1;do{var xt=Ke.lane&-536870913;if(xt!==Ke.lane?(on&xt)===xt:(br&xt)===xt){var Mt=Ke.revertLane;if(Mt===0)Oe!==null&&(Oe=Oe.next={lane:0,revertLane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),xt===ka&&(lt=!0);else if((br&Mt)===Mt){Ke=Ke.next,Mt===ka&&(lt=!0);continue}else xt={lane:0,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Oe===null?(ye=Oe=xt,ae=z):Oe=Oe.next=xt,en.lanes|=Mt,hs|=Mt;xt=Ke.action,Xr&&g(z,xt),z=Ke.hasEagerState?Ke.eagerState:g(z,xt)}else Mt={lane:xt,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Oe===null?(ye=Oe=Mt,ae=z):Oe=Oe.next=Mt,en.lanes|=xt,hs|=xt;Ke=Ke.next}while(Ke!==null&&Ke!==d);if(Oe===null?ae=z:Oe.next=ye,!ss(z,l.memoizedState)&&(_i=!0,lt&&(g=ko,g!==null)))throw g;l.memoizedState=z,l.baseState=ae,l.baseQueue=Oe,w.lastRenderedState=z}return D===null&&(w.lanes=0),[l.memoizedState,w.dispatch]}function Tt(l){var d=ne(),g=d.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=l;var w=g.dispatch,D=g.pending,z=d.memoizedState;if(D!==null){g.pending=null;var ae=D=D.next;do z=l(z,ae.action),ae=ae.next;while(ae!==D);ss(z,d.memoizedState)||(_i=!0),d.memoizedState=z,d.baseQueue===null&&(d.baseState=z),g.lastRenderedState=z}return[z,w]}function wt(l,d,g){var w=en,D=ne(),z=Mn;if(z){if(g===void 0)throw Error(s(407));g=g()}else g=d();var ae=!ss((Dn||D).memoizedState,g);if(ae&&(D.memoizedState=g,_i=!0),D=D.queue,uu(Ut.bind(null,w,D,l),[l]),D.getSnapshot!==d||ae||bi!==null&&bi.memoizedState.tag&1){if(w.flags|=2048,ci(9,Ht.bind(null,w,D,g,d),{destroy:void 0},null),un===null)throw Error(s(349));z||(br&60)!==0||Bt(w,d,g)}return g}function Bt(l,d,g){l.flags|=16384,l={getSnapshot:d,value:g},d=en.updateQueue,d===null?(d=Rf(),en.updateQueue=d,d.stores=[l]):(g=d.stores,g===null?d.stores=[l]:g.push(l))}function Ht(l,d,g,w){d.value=g,d.getSnapshot=w,Qt(d)&&yn(l)}function Ut(l,d,g){return g(function(){Qt(d)&&yn(l)})}function Qt(l){var d=l.getSnapshot;l=l.value;try{var g=d();return!ss(l,g)}catch{return!0}}function yn(l){var d=ee(l,2);d!==null&&fa(d,l,2)}function bn(l){var d=vi();if(typeof l=="function"){var g=l;if(l=g(),Xr){W(!0);try{g()}finally{W(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ne,lastRenderedState:l},d}function hn(l,d,g,w){return l.baseState=g,pt(l,Dn,typeof w=="function"?w:Ne)}function Ln(l,d,g,w,D){if(ll(l))throw Error(s(485));if(l=d.action,l!==null){var z={payload:D,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ae){z.listeners.push(ae)}};jt.T!==null?g(!0):z.isTransition=!1,w(z),g=d.pending,g===null?(z.next=d.pending=z,zt(d,z)):(z.next=g.next,d.pending=g.next=z)}}function zt(l,d){var g=d.action,w=d.payload,D=l.state;if(d.isTransition){var z=jt.T,ae={};jt.T=ae;try{var ye=g(D,w),Oe=jt.S;Oe!==null&&Oe(ae,ye),jn(l,d,ye)}catch(Ke){Ai(l,d,Ke)}finally{jt.T=z}}else try{z=g(D,w),jn(l,d,z)}catch(Ke){Ai(l,d,Ke)}}function jn(l,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){pn(l,d,w)},function(w){return Ai(l,d,w)}):pn(l,d,g)}function pn(l,d,g){d.status="fulfilled",d.value=g,Rr(d),l.state=g,d=l.pending,d!==null&&(g=d.next,g===d?l.pending=null:(g=g.next,d.next=g,zt(l,g)))}function Ai(l,d,g){var w=l.pending;if(l.pending=null,w!==null){w=w.next;do d.status="rejected",d.reason=g,Rr(d),d=d.next;while(d!==w)}l.action=null}function Rr(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function Yn(l,d){return d}function ar(l,d){if(Mn){var g=un.formState;if(g!==null){e:{var w=en;if(Mn){if(ia){var D=xg(ia,As);if(D){ia=Vp(D),w=vg(D);break e}}Le(w)}w=!1}w&&(d=g[0])}}g=vi(),g.memoizedState=g.baseState=d,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:d},g.queue=w,g=Fd.bind(null,en,w),w.dispatch=g,w=bn(!1);var z=Hd.bind(null,en,!1,w.queue);return w=vi(),D={state:d,dispatch:null,action:l,pending:null},w.queue=D,g=Ln.bind(null,en,D,z,g),D.dispatch=g,w.memoizedState=l,[d,g,!1]}function Xn(l){var d=ne();return Ii(d,Dn,l)}function Ii(l,d,g){d=pt(l,d,Yn)[0],l=ot(Ne)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Ae(d):d;var w=ne(),D=w.queue,z=D.dispatch;return g!==w.memoizedState&&(en.flags|=2048,ci(9,Li.bind(null,D,g),{destroy:void 0},null)),[d,z,l]}function Li(l,d){l.action=d}function zi(l){var d=ne(),g=Dn;if(g!==null)return Ii(d,g,l);ne(),d=d.memoizedState,g=ne();var w=g.queue.dispatch;return g.memoizedState=l,[d,w,!1]}function ci(l,d,g,w){return l={tag:l,create:d,inst:g,deps:w,next:null},d=en.updateQueue,d===null&&(d=Rf(),en.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=l.next=l:(w=g.next,g.next=l,l.next=w,d.lastEffect=l),l}function Fs(){return ne().memoizedState}function Es(l,d,g,w){var D=vi();en.flags|=l,D.memoizedState=ci(1|d,g,{destroy:void 0},w===void 0?null:w)}function cu(l,d,g,w){var D=ne();w=w===void 0?null:w;var z=D.memoizedState.inst;Dn!==null&&w!==null&&xi(w,Dn.memoizedState.deps)?D.memoizedState=ci(d,g,z,w):(en.flags|=l,D.memoizedState=ci(1|d,g,z,w))}function Xh(l,d){Es(8390656,8,l,d)}function uu(l,d){cu(2048,8,l,d)}function k0(l,d){return cu(4,2,l,d)}function F0(l,d){return cu(4,4,l,d)}function du(l,d){if(typeof d=="function"){l=l();var g=d(l);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function sr(l,d,g){g=g!=null?g.concat([l]):null,cu(4,4,du.bind(null,d,l),g)}function fu(){}function Bd(l,d){var g=ne();d=d===void 0?null:d;var w=g.memoizedState;return d!==null&&xi(d,w[1])?w[0]:(g.memoizedState=[l,d],l)}function rl(l,d){var g=ne();d=d===void 0?null:d;var w=g.memoizedState;if(d!==null&&xi(d,w[1]))return w[0];if(w=l(),Xr){W(!0);try{l()}finally{W(!1)}}return g.memoizedState=[w,d],w}function ho(l,d,g){return g===void 0||(br&1073741824)!==0?l.memoizedState=d:(l.memoizedState=g,l=lr(),en.lanes|=l,hs|=l,g)}function qh(l,d,g,w){return ss(g,d)?g:yr.current!==null?(l=ho(l,g,w),ss(l,d)||(_i=!0),l):(br&42)===0?(_i=!0,l.memoizedState=g):(l=lr(),en.lanes|=l,hs|=l,d)}function Pd(l,d,g,w,D){var z=Bi();pa(z!==0&&8>z?z:8);var ae=jt.T,ye={};jt.T=ye,Hd(l,!1,d,g);try{var Oe=D(),Ke=jt.S;if(Ke!==null&&Ke(ye,Oe),Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var lt=rt(Oe,w);mo(l,d,lt,Ea(l))}else mo(l,d,w,Ea(l))}catch(xt){mo(l,d,{then:function(){},status:"rejected",reason:xt},Ea())}finally{pa(z),jt.T=ae}}function Wh(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:za,baseState:za,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ne,lastRenderedState:za},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ne,lastRenderedState:g},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function ol(){return Qi(Yt)}function rr(){return ne().memoizedState}function kd(){return ne().memoizedState}function hu(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var g=Ea();l=Ve(g);var w=tt(d,l,g);w!==null&&(fa(w,d,g),_t(w,d,g)),d={cache:Xd()},l.payload=d;return}d=d.return}}function po(l,d,g){var w=Ea();g={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},ll(l)?pu(d,g):(g=he(l,d,g,w),g!==null&&(fa(g,l,w),Zh(g,d,w)))}function Fd(l,d,g){var w=Ea();mo(l,d,g,w)}function mo(l,d,g,w){var D={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(ll(l))pu(d,D);else{var z=l.alternate;if(l.lanes===0&&(z===null||z.lanes===0)&&(z=d.lastRenderedReducer,z!==null))try{var ae=d.lastRenderedState,ye=z(ae,g);if(D.hasEagerState=!0,D.eagerState=ye,ss(ye,ae))return X(l,d,D,0),un===null&&P(),!1}catch{}finally{}if(g=he(l,d,D,w),g!==null)return fa(g,l,w),Zh(g,d,w),!0}return!1}function Hd(l,d,g,w){if(w={lane:2,revertLane:He(),action:w,hasEagerState:!1,eagerState:null,next:null},ll(l)){if(d)throw Error(s(479))}else d=he(l,g,w,2),d!==null&&fa(d,l,2)}function ll(l){var d=l.alternate;return l===en||d!==null&&d===en}function pu(l,d){ai=Rs=!0;var g=l.pending;g===null?d.next=d:(d.next=g.next,g.next=d),l.pending=d}function Zh(l,d,g){if((g&4194176)!==0){var w=d.lanes;w&=l.pendingLanes,g|=w,d.lanes=g,L(l,g)}}function ua(l,d,g,w){d=l.memoizedState,g=g(w,d),g=g==null?d:vl({},d,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}function go(l,d,g,w,D,z,ae){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,z,ae):d.prototype&&d.prototype.isPureReactComponent?!at(g,w)||!at(D,z):!0}function mu(l,d,g,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,w),d.state!==l&&Df.enqueueReplaceState(d,d.state,null)}function Hs(l,d){var g=d;if("ref"in d){g={};for(var w in d)w!=="ref"&&(g[w]=d[w])}if(l=l.defaultProps){g===d&&(g=vl({},g));for(var D in l)g[D]===void 0&&(g[D]=l[D])}return g}function jd(l,d){try{var g=l.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(w){setTimeout(function(){throw w})}}function Vd(l,d,g){try{var w=l.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function gu(l,d,g){return g=Ve(g),g.tag=3,g.payload={element:null},g.callback=function(){jd(l,d)},g}function $l(l){return l=Ve(l),l.tag=3,l}function xu(l,d,g,w){var D=g.type.getDerivedStateFromError;if(typeof D=="function"){var z=w.value;l.payload=function(){return D(z)},l.callback=function(){Vd(d,g,w)}}var ae=g.stateNode;ae!==null&&typeof ae.componentDidCatch=="function"&&(l.callback=function(){Vd(d,g,w),typeof D!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var ye=w.stack;this.componentDidCatch(w.value,{componentStack:ye!==null?ye:""})})}function H0(l,d,g,w,D){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(d=g.alternate,d!==null&&cl(d,g,D,!0),g=ds.current,g!==null){switch(g.tag){case 13:return Ns===null?La():g.alternate===null&&Sn===0&&(Sn=3),g.flags&=-257,g.flags|=65536,g.lanes=D,w===Nf?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([w]):d.add(w),of(l,w,D)),!1;case 22:return g.flags|=65536,w===Nf?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([w]):g.add(w)),of(l,w,D)),!1}throw Error(s(435,g.tag))}return of(l,w,D),La(),!1}if(Mn)return d=ds.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=D,w!==Xu&&(l=Error(s(422),{cause:w}),mt(oe(l,g)))):(w!==Xu&&(d=Error(s(423),{cause:w}),mt(oe(d,g))),l=l.current.alternate,l.flags|=65536,D&=-D,l.lanes|=D,w=oe(w,g),D=gu(l.stateNode,w,D),pe(l,D),Sn!==4&&(Sn=2)),!1;var z=Error(s(520),{cause:w});if(z=oe(z,g),Cc===null?Cc=[z]:Cc.push(z),Sn!==4&&(Sn=2),d===null)return!0;w=oe(w,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,l=D&-D,g.lanes|=l,l=gu(g.stateNode,w,l),pe(g,l),!1;case 1:if(d=g.type,z=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ms===null||!ms.has(z))))return g.flags|=65536,D&=-D,g.lanes|=D,D=$l(D),xu(D,l,g,w),pe(g,D),!1}g=g.return}while(g!==null);return!1}function Ji(l,d,g,w){d.child=l===null?am(d,null,g,w):Fo(d,l.child,g,w)}function j0(l,d,g,w,D){g=g.render;var z=d.ref;if("ref"in w){var ae={};for(var ye in w)ye!=="ref"&&(ae[ye]=w[ye])}else ae=w;return ul(d),w=ks(l,d,g,ae,z,D),ye=Ql(),l!==null&&!_i?(Nr(l,d,D),Dr(l,d,D)):(Mn&&ye&&$(d),d.flags|=1,Ji(l,d,w,D),d.child)}function V0(l,d,g,w,D){if(l===null){var z=g.type;return typeof z=="function"&&!Br(z)&&z.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=z,Gd(l,d,z,w,D)):(l=Ms(g.type,null,w,d,d.mode,D),l.ref=d.ref,l.return=d,d.child=l)}if(z=l.child,!np(l,D)){var ae=z.memoizedProps;if(g=g.compare,g=g!==null?g:at,g(ae,w)&&l.ref===d.ref)return Dr(l,d,D)}return d.flags|=1,l=ha(z,w),l.ref=d.ref,l.return=d,d.child=l}function Gd(l,d,g,w,D){if(l!==null){var z=l.memoizedProps;if(at(z,w)&&l.ref===d.ref)if(_i=!1,d.pendingProps=w=z,np(l,D))(l.flags&131072)!==0&&(_i=!0);else return d.lanes=l.lanes,Dr(l,d,D)}return Kh(l,d,g,w,D)}function G0(l,d,g){var w=d.pendingProps,D=w.children,z=(d.stateNode._pendingVisibility&2)!==0,ae=l!==null?l.memoizedState:null;if(vu(l,d),w.mode==="hidden"||z){if((d.flags&128)!==0){if(w=ae!==null?ae.baseLanes|g:g,l!==null){for(D=d.child=l.child,z=0;D!==null;)z=z|D.lanes|D.childLanes,D=D.sibling;d.childLanes=z&~w}else d.childLanes=0,d.child=null;return Y0(l,d,w,g)}if((g&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&qd(d,ae!==null?ae.cachePool:null),ae!==null?Da(d,ae):Vi(),Oa(d);else return d.lanes=d.childLanes=536870912,Y0(l,d,ae!==null?ae.baseLanes|g:g,g)}else ae!==null?(qd(d,ae.cachePool),Da(d,ae),gi(),d.memoizedState=null):(l!==null&&qd(d,null),Vi(),gi());return Ji(l,d,D,g),d.child}function Y0(l,d,g,w){var D=yo();return D=D===null?null:{parent:pr?zn._currentValue:zn._currentValue2,pool:D},d.memoizedState={baseLanes:g,cachePool:D},l!==null&&qd(d,null),Vi(),Oa(d),l!==null&&cl(l,d,w,!0),null}function vu(l,d){var g=d.ref;if(g===null)l!==null&&l.ref!==null&&(d.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(s(284));(l===null||l.ref!==g)&&(d.flags|=2097664)}}function Kh(l,d,g,w,D){return ul(d),g=ks(l,d,g,w,void 0,D),w=Ql(),l!==null&&!_i?(Nr(l,d,D),Dr(l,d,D)):(Mn&&w&&$(d),d.flags|=1,Ji(l,d,g,D),d.child)}function X0(l,d,g,w,D,z){return ul(d),d.updateQueue=null,g=zd(d,w,g,D),al(l),w=Ql(),l!==null&&!_i?(Nr(l,d,z),Dr(l,d,z)):(Mn&&w&&$(d),d.flags|=1,Ji(l,d,g,z),d.child)}function Jh(l,d,g,w,D){if(ul(d),d.stateNode===null){var z=El,ae=g.contextType;typeof ae=="object"&&ae!==null&&(z=Qi(ae)),z=new g(w,z),d.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=Df,d.stateNode=z,z._reactInternals=d,z=d.stateNode,z.props=w,z.state=d.memoizedState,z.refs={},ht(d),ae=g.contextType,z.context=typeof ae=="object"&&ae!==null?Qi(ae):El,z.state=d.memoizedState,ae=g.getDerivedStateFromProps,typeof ae=="function"&&(ua(d,g,ae,w),z.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(ae=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),ae!==z.state&&Df.enqueueReplaceState(z,z.state,null),nt(d,w,z,D),Ie(),z.state=d.memoizedState),typeof z.componentDidMount=="function"&&(d.flags|=4194308),w=!0}else if(l===null){z=d.stateNode;var ye=d.memoizedProps,Oe=Hs(g,ye);z.props=Oe;var Ke=z.context,lt=g.contextType;ae=El,typeof lt=="object"&&lt!==null&&(ae=Qi(lt));var xt=g.getDerivedStateFromProps;lt=typeof xt=="function"||typeof z.getSnapshotBeforeUpdate=="function",ye=d.pendingProps!==ye,lt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ye||Ke!==ae)&&mu(d,z,w,ae),Yr=!1;var Mt=d.memoizedState;z.state=Mt,nt(d,w,z,D),Ie(),Ke=d.memoizedState,ye||Mt!==Ke||Yr?(typeof xt=="function"&&(ua(d,g,xt,w),Ke=d.memoizedState),(Oe=Yr||go(d,g,Oe,w,Mt,Ke,ae))?(lt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(d.flags|=4194308)):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=Ke),z.props=w,z.state=Ke,z.context=ae,w=Oe):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{z=d.stateNode,gt(l,d),ae=d.memoizedProps,lt=Hs(g,ae),z.props=lt,xt=d.pendingProps,Mt=z.context,Ke=g.contextType,Oe=El,typeof Ke=="object"&&Ke!==null&&(Oe=Qi(Ke)),ye=g.getDerivedStateFromProps,(Ke=typeof ye=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ae!==xt||Mt!==Oe)&&mu(d,z,w,Oe),Yr=!1,Mt=d.memoizedState,z.state=Mt,nt(d,w,z,D),Ie();var Zt=d.memoizedState;ae!==xt||Mt!==Zt||Yr||l!==null&&l.dependencies!==null&&vo(l.dependencies)?(typeof ye=="function"&&(ua(d,g,ye,w),Zt=d.memoizedState),(lt=Yr||go(d,g,lt,w,Mt,Zt,Oe)||l!==null&&l.dependencies!==null&&vo(l.dependencies))?(Ke||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(w,Zt,Oe),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(w,Zt,Oe)),typeof z.componentDidUpdate=="function"&&(d.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof z.componentDidUpdate!="function"||ae===l.memoizedProps&&Mt===l.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Mt===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=Zt),z.props=w,z.state=Zt,z.context=Oe,w=lt):(typeof z.componentDidUpdate!="function"||ae===l.memoizedProps&&Mt===l.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&Mt===l.memoizedState||(d.flags|=1024),w=!1)}return z=w,vu(l,d),w=(d.flags&128)!==0,z||w?(z=d.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:z.render(),d.flags|=1,l!==null&&w?(d.child=Fo(d,l.child,null,D),d.child=Fo(d,null,g,D)):Ji(l,d,g,D),d.memoizedState=z.state,l=d.child):l=Dr(l,d,D),l}function q0(l,d,g,w){return St(),d.flags|=256,Ji(l,d,g,w),d.child}function Qh(l){return{baseLanes:l,cachePool:Q0()}}function $h(l,d,g){return l=l!==null?l.childLanes&~g:0,d&&(l|=ja),l}function W0(l,d,g){var w=d.pendingProps,D=!1,z=(d.flags&128)!==0,ae;if((ae=z)||(ae=l!==null&&l.memoizedState===null?!1:(Ni.current&2)!==0),ae&&(D=!0,d.flags&=-129),ae=(d.flags&32)!==0,d.flags&=-33,l===null){if(Mn){if(D?ri(d):gi(),Mn){var ye=ia,Oe;(Oe=ye)&&(ye=Eg(ye,As),ye!==null?(d.memoizedState={dehydrated:ye,treeContext:Xs!==null?{id:xr,overflow:ws}:null,retryLane:536870912},Oe=t(18,null,null,0),Oe.stateNode=ye,Oe.return=d,d.child=Oe,ma=d,ia=null,Oe=!0):Oe=!1),Oe||Le(d)}if(ye=d.memoizedState,ye!==null&&(ye=ye.dehydrated,ye!==null))return Pu(ye)?d.lanes=16:d.lanes=536870912,null;Ui(d)}return ye=w.children,w=w.fallback,D?(gi(),D=d.mode,ye=ep({mode:"hidden",children:ye},D),w=kr(w,D,g,null),ye.return=d,w.return=d,ye.sibling=w,d.child=ye,D=d.child,D.memoizedState=Qh(g),D.childLanes=$h(l,ae,g),d.memoizedState=xa,w):(ri(d),yu(d,ye))}if(Oe=l.memoizedState,Oe!==null&&(ye=Oe.dehydrated,ye!==null)){if(z)d.flags&256?(ri(d),d.flags&=-257,d=tp(l,d,g)):d.memoizedState!==null?(gi(),d.child=l.child,d.flags|=128,d=null):(gi(),D=w.fallback,ye=d.mode,w=ep({mode:"visible",children:w.children},ye),D=kr(D,ye,g,null),D.flags|=2,w.return=d,D.return=d,w.sibling=D,d.child=w,Fo(d,l.child,null,g),w=d.child,w.memoizedState=Qh(g),w.childLanes=$h(l,ae,g),d.memoizedState=xa,d=D);else if(ri(d),Pu(ye))ae=gg(ye).digest,w=Error(s(419)),w.stack="",w.digest=ae,mt({value:w,source:null,stack:null}),d=tp(l,d,g);else if(_i||cl(l,d,g,!1),ae=(g&l.childLanes)!==0,_i||ae){if(ae=un,ae!==null){if(w=g&-g,(w&42)!==0)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=(w&(ae.suspendedLanes|g))!==0?0:w,w!==0&&w!==Oe.retryLane)throw Oe.retryLane=w,ee(l,w),fa(ae,l,w),Pg}yf(ye)||La(),d=tp(l,d,g)}else yf(ye)?(d.flags|=128,d.child=l.child,d=gl.bind(null,l),fb(ye,d),d=null):(l=Oe.treeContext,Ma&&(ia=bg(ye),ma=d,Mn=!0,ls=null,As=!1,l!==null&&(rs[os++]=xr,rs[os++]=ws,rs[os++]=Xs,xr=l.id,ws=l.overflow,Xs=d)),d=yu(d,w.children),d.flags|=4096);return d}return D?(gi(),D=w.fallback,ye=d.mode,Oe=l.child,z=Oe.sibling,w=ha(Oe,{mode:"hidden",children:w.children}),w.subtreeFlags=Oe.subtreeFlags&31457280,z!==null?D=ha(z,D):(D=kr(D,ye,g,null),D.flags|=2),D.return=d,w.return=d,w.sibling=D,d.child=w,w=D,D=d.child,ye=l.child.memoizedState,ye===null?ye=Qh(g):(Oe=ye.cachePool,Oe!==null?(z=pr?zn._currentValue:zn._currentValue2,Oe=Oe.parent!==z?{parent:z,pool:z}:Oe):Oe=Q0(),ye={baseLanes:ye.baseLanes|g,cachePool:Oe}),D.memoizedState=ye,D.childLanes=$h(l,ae,g),d.memoizedState=xa,w):(ri(d),g=l.child,l=g.sibling,g=ha(g,{mode:"visible",children:w.children}),g.return=d,g.sibling=null,l!==null&&(ae=d.deletions,ae===null?(d.deletions=[l],d.flags|=16):ae.push(l)),d.child=g,d.memoizedState=null,g)}function yu(l,d){return d=ep({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function ep(l,d){return lf(l,d,0,null)}function tp(l,d,g){return Fo(d,l.child,null,g),l=yu(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function Z0(l,d,g){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),ip(l.return,d,g)}function Yd(l,d,g,w,D){var z=l.memoizedState;z===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:D}:(z.isBackwards=d,z.rendering=null,z.renderingStartTime=0,z.last=w,z.tail=g,z.tailMode=D)}function K0(l,d,g){var w=d.pendingProps,D=w.revealOrder,z=w.tail;if(Ji(l,d,w.children,g),w=Ni.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Z0(l,g,d);else if(l.tag===19)Z0(l,g,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}switch(C(Ni,w),D){case"forwards":for(g=d.child,D=null;g!==null;)l=g.alternate,l!==null&&wi(l)===null&&(D=g),g=g.sibling;g=D,g===null?(D=d.child,d.child=null):(D=g.sibling,g.sibling=null),Yd(d,!1,D,g,z);break;case"backwards":for(g=null,D=d.child,d.child=null;D!==null;){if(l=D.alternate,l!==null&&wi(l)===null){d.child=D;break}l=D.sibling,D.sibling=g,g=D,D=l}Yd(d,!0,g,null,z);break;case"together":Yd(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Dr(l,d,g){if(l!==null&&(d.dependencies=l.dependencies),hs|=d.lanes,(g&d.childLanes)===0)if(l!==null){if(cl(l,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(s(153));if(d.child!==null){for(l=d.child,g=ha(l,l.pendingProps),d.child=g,g.return=d;l.sibling!==null;)l=l.sibling,g=g.sibling=ha(l,l.pendingProps),g.return=d;g.sibling=null}return d.child}function np(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&vo(l)))}function cb(l,d,g){switch(d.tag){case 3:de(d,d.stateNode.containerInfo),xo(d,zn,l.memoizedState.cache),St();break;case 27:case 5:ge(d);break;case 4:de(d,d.stateNode.containerInfo);break;case 10:xo(d,d.type,d.memoizedProps.value);break;case 13:var w=d.memoizedState;if(w!==null)return w.dehydrated!==null?(ri(d),d.flags|=128,null):(g&d.child.childLanes)!==0?W0(l,d,g):(ri(d),l=Dr(l,d,g),l!==null?l.sibling:null);ri(d);break;case 19:var D=(l.flags&128)!==0;if(w=(g&d.childLanes)!==0,w||(cl(l,d,g,!1),w=(g&d.childLanes)!==0),D){if(w)return K0(l,d,g);d.flags|=128}if(D=d.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),C(Ni,Ni.current),w)break;return null;case 22:case 23:return d.lanes=0,G0(l,d,g);case 24:xo(d,zn,l.memoizedState.cache)}return Dr(l,d,g)}function J0(l,d,g){if(l!==null)if(l.memoizedProps!==d.pendingProps)_i=!0;else{if(!np(l,g)&&(d.flags&128)===0)return _i=!1,cb(l,d,g);_i=(l.flags&131072)!==0}else _i=!1,Mn&&(d.flags&1048576)!==0&&G(d,Gu,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var w=d.elementType,D=w._init;if(w=D(w._payload),d.type=w,typeof w=="function")Br(w)?(l=Hs(w,l),d.tag=1,d=Jh(null,d,w,l,g)):(d.tag=0,d=Kh(null,d,w,l,g));else{if(w!=null){if(D=w.$$typeof,D===mc){d.tag=11,d=j0(null,d,w,l,g);break e}else if(D===Ru){d.tag=14,d=V0(null,d,w,l,g);break e}}throw d=c(w)||w,Error(s(306,d,""))}}return d;case 0:return Kh(l,d,d.type,d.pendingProps,g);case 1:return w=d.type,D=Hs(w,d.pendingProps),Jh(l,d,w,D,g);case 3:e:{if(de(d,d.stateNode.containerInfo),l===null)throw Error(s(387));var z=d.pendingProps;D=d.memoizedState,w=D.element,gt(l,d),nt(d,z,null,g);var ae=d.memoizedState;if(z=ae.cache,xo(d,zn,z),z!==D.cache&&ap(d,[zn],g,!0),Ie(),z=ae.element,Ma&&D.isDehydrated)if(D={element:z,isDehydrated:!1,cache:ae.cache},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){d=q0(l,d,z,g);break e}else if(z!==w){w=oe(Error(s(424)),d),mt(w),d=q0(l,d,z,g);break e}else for(Ma&&(ia=yg(d.stateNode.containerInfo),ma=d,Mn=!0,ls=null,As=!0),g=am(d,null,z,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(St(),z===w){d=Dr(l,d,g);break e}Ji(l,d,z,g)}d=d.child}return d;case 26:if(as)return vu(l,d),l===null?(g=Mf(d.type,null,d.pendingProps,null))?d.memoizedState=g:Mn||(d.stateNode=pb(d.type,d.pendingProps,qs.current,d)):d.memoizedState=Mf(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:if(ta)return ge(d),l===null&&ta&&Mn&&(w=d.stateNode=em(d.type,d.pendingProps,qs.current,Wi.current,!1),ma=d,As=!0,ia=bf(w)),w=d.pendingProps.children,l!==null||Mn?Ji(l,d,w,g):d.child=Fo(d,null,w,g),vu(l,d),d.child;case 5:return l===null&&Mn&&(Cg(d.type,d.pendingProps,Wi.current),(D=w=ia)&&(w=_g(w,d.type,d.pendingProps,As),w!==null?(d.stateNode=w,ma=d,ia=bf(w),As=!1,D=!0):D=!1),D||Le(d)),ge(d),D=d.type,z=d.pendingProps,ae=l!==null?l.memoizedProps:null,w=z.children,Lo(D,z)?w=null:ae!==null&&Lo(D,ae)&&(d.flags|=32),d.memoizedState!==null&&(D=ks(l,d,Yh,null,null,g),pr?Yt._currentValue=D:Yt._currentValue2=D),vu(l,d),Ji(l,d,w,g),d.child;case 6:return l===null&&Mn&&(Ng(d.pendingProps,Wi.current),(l=g=ia)&&(g=Sg(g,d.pendingProps,As),g!==null?(d.stateNode=g,ma=d,ia=null,l=!0):l=!1),l||Le(d)),null;case 13:return W0(l,d,g);case 4:return de(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=Fo(d,null,w,g):Ji(l,d,w,g),d.child;case 11:return j0(l,d,d.type,d.pendingProps,g);case 7:return Ji(l,d,d.pendingProps,g),d.child;case 8:return Ji(l,d,d.pendingProps.children,g),d.child;case 12:return Ji(l,d,d.pendingProps.children,g),d.child;case 10:return w=d.pendingProps,xo(d,d.type,w.value),Ji(l,d,w.children,g),d.child;case 9:return D=d.type._context,w=d.pendingProps.children,ul(d),D=Qi(D),w=w(D),d.flags|=1,Ji(l,d,w,g),d.child;case 14:return V0(l,d,d.type,d.pendingProps,g);case 15:return Gd(l,d,d.type,d.pendingProps,g);case 19:return K0(l,d,g);case 22:return G0(l,d,g);case 24:return ul(d),w=Qi(zn),l===null?(D=yo(),D===null&&(D=un,z=Xd(),D.pooledCache=z,z.refCount++,z!==null&&(D.pooledCacheLanes|=g),D=z),d.memoizedState={parent:w,cache:D},ht(d),xo(d,zn,D)):((l.lanes&g)!==0&&(gt(l,d),nt(d,null,null,g),Ie()),D=l.memoizedState,z=d.memoizedState,D.parent!==w?(D={parent:w,cache:w},d.memoizedState=D,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=D),xo(d,zn,w)):(w=z.cache,xo(d,zn,w),w!==D.cache&&ap(d,[zn],g,!0))),Ji(l,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(s(156,d.tag))}function xo(l,d,g){pr?(C(Fa,d._currentValue),d._currentValue=g):(C(Fa,d._currentValue2),d._currentValue2=g)}function Or(l){var d=Fa.current;pr?l._currentValue=d:l._currentValue2=d,_(Fa)}function ip(l,d,g){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===g)break;l=l.return}}function ap(l,d,g,w){var D=l.child;for(D!==null&&(D.return=l);D!==null;){var z=D.dependencies;if(z!==null){var ae=D.child;z=z.firstContext;e:for(;z!==null;){var ye=z;z=D;for(var Oe=0;Oe<d.length;Oe++)if(ye.context===d[Oe]){z.lanes|=g,ye=z.alternate,ye!==null&&(ye.lanes|=g),ip(z.return,g,l),w||(ae=null);break e}z=ye.next}}else if(D.tag===18){if(ae=D.return,ae===null)throw Error(s(341));ae.lanes|=g,z=ae.alternate,z!==null&&(z.lanes|=g),ip(ae,g,l),ae=null}else ae=D.child;if(ae!==null)ae.return=D;else for(ae=D;ae!==null;){if(ae===l){ae=null;break}if(D=ae.sibling,D!==null){D.return=ae.return,ae=D;break}ae=ae.return}D=ae}}function cl(l,d,g,w){l=null;for(var D=d,z=!1;D!==null;){if(!z){if((D.flags&524288)!==0)z=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var ae=D.alternate;if(ae===null)throw Error(s(387));if(ae=ae.memoizedProps,ae!==null){var ye=D.type;ss(D.pendingProps.value,ae.value)||(l!==null?l.push(ye):l=[ye])}}else if(D===Sc.current){if(ae=D.alternate,ae===null)throw Error(s(387));ae.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(l!==null?l.push(Yt):l=[Yt])}D=D.return}l!==null&&ap(d,l,g,w),d.flags|=262144}function vo(l){for(l=l.firstContext;l!==null;){var d=l.context;if(!ss(pr?d._currentValue:d._currentValue2,l.memoizedValue))return!0;l=l.next}return!1}function ul(l){jo=l,pi=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Qi(l){return sp(jo,l)}function bu(l,d){return jo===null&&ul(l),sp(l,d)}function sp(l,d){var g=pr?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:g,next:null},pi===null){if(l===null)throw Error(s(308));pi=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else pi=pi.next=d;return g}function Xd(){return{controller:new kg,data:new Map,refCount:0}}function ec(l){l.refCount--,l.refCount===0&&qr(wl,function(){l.controller.abort()})}function yo(){var l=Wr.current;return l!==null?l:un.pooledCache}function qd(l,d){d===null?C(Wr,Wr.current):C(Wr,d.pool)}function Q0(){var l=yo();return l===null?null:{parent:pr?zn._currentValue:zn._currentValue2,pool:l}}function $a(l){l.flags|=4}function rp(l,d){if(l!==null&&l.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(l=d.child;l!==null;){if((l.flags&13878)!==0||(l.subtreeFlags&13878)!==0)return!0;l=l.sibling}return!1}function Wd(l,d,g,w){if(ea)for(g=d.child;g!==null;){if(g.tag===5||g.tag===6)hr(l,g.stateNode);else if(!(g.tag===4||ta&&g.tag===27)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}else if(ns)for(var D=d.child;D!==null;){if(D.tag===5){var z=D.stateNode;g&&w&&(z=Hp(z,D.type,D.memoizedProps)),hr(l,z)}else if(D.tag===6)z=D.stateNode,g&&w&&(z=jp(z,D.memoizedProps)),hr(l,z);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)z=D.child,z!==null&&(z.return=D),Wd(l,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function tc(l,d,g,w){if(ns)for(var D=d.child;D!==null;){if(D.tag===5){var z=D.stateNode;g&&w&&(z=Hp(z,D.type,D.memoizedProps)),kp(l,z)}else if(D.tag===6)z=D.stateNode,g&&w&&(z=jp(z,D.memoizedProps)),kp(l,z);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)z=D.child,z!==null&&(z.return=D),tc(l,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function nc(l,d){if(ns&&rp(l,d)){l=d.stateNode;var g=l.containerInfo,w=vf();tc(w,d,!1,!1),l.pendingChildren=w,$a(d),mg(g,w)}}function op(l,d,g,w){if(ea)l.memoizedProps!==w&&$a(d);else if(ns){var D=l.stateNode,z=l.memoizedProps;if((l=rp(l,d))||z!==w){var ae=Wi.current;z=Pp(D,g,z,w,!l,null),z===D?d.stateNode=D:(Hr(z,g,w,ae)&&$a(d),d.stateNode=z,l?Wd(z,d,!1,!1):$a(d))}else d.stateNode=D}}function ic(l,d,g){if(fg(d,g)){if(l.flags|=16777216,!jr(d,g))if(wu())l.flags|=8192;else throw Tl=Nf,im}else l.flags&=-16777217}function lp(l,d){if(Rg(d)){if(l.flags|=16777216,!Qp(d))if(wu())l.flags|=8192;else throw Tl=Nf,im}else l.flags&=-16777217}function _u(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?B():536870912,l.lanes|=d,Kr|=d)}function dl(l,d){if(!Mn)switch(l.tailMode){case"hidden":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function ti(l){var d=l.alternate!==null&&l.alternate.child===l.child,g=0,w=0;if(d)for(var D=l.child;D!==null;)g|=D.lanes|D.childLanes,w|=D.subtreeFlags&31457280,w|=D.flags&31457280,D.return=l,D=D.sibling;else for(D=l.child;D!==null;)g|=D.lanes|D.childLanes,w|=D.subtreeFlags,w|=D.flags,D.return=l,D=D.sibling;return l.subtreeFlags|=w,l.childLanes=g,d}function $0(l,d,g){var w=d.pendingProps;switch(se(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(d),null;case 1:return ti(d),null;case 3:return g=d.stateNode,w=null,l!==null&&(w=l.memoizedState.cache),d.memoizedState.cache!==w&&(d.flags|=2048),Or(zn),xe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(ut(d)?$a(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,ls!==null&&(Ir(ls),ls=null))),nc(l,d),ti(d),null;case 26:if(as){g=d.type;var D=d.memoizedState;return l===null?($a(d),D!==null?(ti(d),lp(d,D)):(ti(d),ic(d,g,w))):D?D!==l.memoizedState?($a(d),ti(d),lp(d,D)):(ti(d),d.flags&=-16777217):(ea?l.memoizedProps!==w&&$a(d):op(l,d,g,w),ti(d),ic(d,g,w)),null}case 27:if(ta){if(_e(d),g=qs.current,D=d.type,l!==null&&d.stateNode!=null)ea?l.memoizedProps!==w&&$a(d):op(l,d,D,w);else{if(!w){if(d.stateNode===null)throw Error(s(166));return ti(d),null}l=Wi.current,ut(d)?Ye(d,l):(l=em(D,w,g,l,!0),d.stateNode=l,$a(d))}return ti(d),null}case 5:if(_e(d),g=d.type,l!==null&&d.stateNode!=null)op(l,d,g,w);else{if(!w){if(d.stateNode===null)throw Error(s(166));return ti(d),null}l=Wi.current,ut(d)?Ye(d,l):(D=Ap(g,w,qs.current,l,d),Wd(D,d,!1,!1),d.stateNode=D,Hr(D,g,w,l)&&$a(d))}return ti(d),ic(d,d.type,d.pendingProps),null;case 6:if(l&&d.stateNode!=null)g=l.memoizedProps,ea?g!==w&&$a(d):ns&&(g!==w?(d.stateNode=ff(w,qs.current,Wi.current,d),$a(d)):d.stateNode=l.stateNode);else{if(typeof w!="string"&&d.stateNode===null)throw Error(s(166));if(l=qs.current,g=Wi.current,ut(d)){if(!Ma)throw Error(s(176));if(l=d.stateNode,g=d.memoizedProps,w=null,D=ma,D!==null)switch(D.tag){case 27:case 5:w=D.memoizedProps}Mg(l,g,d,w)||Le(d)}else d.stateNode=ff(w,l,g,d)}return ti(d),null;case 13:if(w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(D=ut(d),w!==null&&w.dehydrated!==null){if(l===null){if(!D)throw Error(s(318));if(!Ma)throw Error(s(344));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(s(317));xc(D,d)}else St(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ti(d),D=!1}else ls!==null&&(Ir(ls),ls=null),D=!0;if(!D)return d.flags&256?(Ui(d),d):(Ui(d),null)}if(Ui(d),(d.flags&128)!==0)return d.lanes=g,d;if(g=w!==null,l=l!==null&&l.memoizedState!==null,g){w=d.child,D=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(D=w.alternate.memoizedState.cachePool.pool);var z=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(z=w.memoizedState.cachePool.pool),z!==D&&(w.flags|=2048)}return g!==l&&g&&(d.child.flags|=8192),_u(d,d.updateQueue),ti(d),null;case 4:return xe(),nc(l,d),l===null&&Rp(d.stateNode.containerInfo),ti(d),null;case 10:return Or(d.type),ti(d),null;case 19:if(_(Ni),D=d.memoizedState,D===null)return ti(d),null;if(w=(d.flags&128)!==0,z=D.rendering,z===null)if(w)dl(D,!1);else{if(Sn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(z=wi(l),z!==null){for(d.flags|=128,dl(D,!1),l=z.updateQueue,d.updateQueue=l,_u(d,l),d.subtreeFlags=0,l=g,g=d.child;g!==null;)Pr(g,l),g=g.sibling;return C(Ni,Ni.current&1|2),d.child}l=l.sibling}D.tail!==null&&na()>li&&(d.flags|=128,w=!0,dl(D,!1),d.lanes=4194304)}else{if(!w)if(l=wi(z),l!==null){if(d.flags|=128,w=!0,l=l.updateQueue,d.updateQueue=l,_u(d,l),dl(D,!0),D.tail===null&&D.tailMode==="hidden"&&!z.alternate&&!Mn)return ti(d),null}else 2*na()-D.renderingStartTime>li&&g!==536870912&&(d.flags|=128,w=!0,dl(D,!1),d.lanes=4194304);D.isBackwards?(z.sibling=d.child,d.child=z):(l=D.last,l!==null?l.sibling=z:d.child=z,D.last=z)}return D.tail!==null?(d=D.tail,D.rendering=d,D.tail=d.sibling,D.renderingStartTime=na(),d.sibling=null,l=Ni.current,C(Ni,w?l&1|2:l&1),d):(ti(d),null);case 22:case 23:return Ui(d),Ki(),w=d.memoizedState!==null,l!==null?l.memoizedState!==null!==w&&(d.flags|=8192):w&&(d.flags|=8192),w?(g&536870912)!==0&&(d.flags&128)===0&&(ti(d),d.subtreeFlags&6&&(d.flags|=8192)):ti(d),g=d.updateQueue,g!==null&&_u(d,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==g&&(d.flags|=2048),l!==null&&_(Wr),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),Or(zn),ti(d),null;case 25:return null}throw Error(s(156,d.tag))}function eg(l,d){switch(se(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Or(zn),xe(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return _e(d),null;case 13:if(Ui(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(s(340));St()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return _(Ni),null;case 4:return xe(),null;case 10:return Or(d.type),null;case 22:case 23:return Ui(d),Ki(),l!==null&&_(Wr),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return Or(zn),null;case 25:return null;default:return null}}function cp(l,d){switch(se(d),d.tag){case 3:Or(zn),xe();break;case 26:case 27:case 5:_e(d);break;case 4:xe();break;case 13:Ui(d);break;case 19:_(Ni);break;case 10:Or(d.type);break;case 22:case 23:Ui(d),Ki(),l!==null&&_(Wr);break;case 24:Or(zn)}}function Su(l,d){try{var g=d.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var D=w.next;g=D;do{if((g.tag&l)===l){w=void 0;var z=g.create,ae=g.inst;w=z(),ae.destroy=w}g=g.next}while(g!==D)}}catch(ye){mn(d,d.return,ye)}}function bo(l,d,g){try{var w=d.updateQueue,D=w!==null?w.lastEffect:null;if(D!==null){var z=D.next;w=z;do{if((w.tag&l)===l){var ae=w.inst,ye=ae.destroy;if(ye!==void 0){ae.destroy=void 0,D=d;var Oe=g;try{ye()}catch(Ke){mn(D,Oe,Ke)}}}w=w.next}while(w!==z)}}catch(Ke){mn(d,d.return,Ke)}}function tg(l){var d=l.updateQueue;if(d!==null){var g=l.stateNode;try{it(d,g)}catch(w){mn(l,l.return,w)}}}function ng(l,d,g){g.props=Hs(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(w){mn(l,d,w)}}function fl(l,d){try{var g=l.ref;if(g!==null){var w=l.stateNode;switch(l.tag){case 26:case 27:case 5:var D=gc(w);break;default:D=w}typeof g=="function"?l.refCleanup=g(D):g.current=D}}catch(z){mn(l,d,z)}}function ni(l,d){var g=l.ref,w=l.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(D){mn(l,d,D)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(D){mn(l,d,D)}else g.current=null}function ac(l){var d=l.type,g=l.memoizedProps,w=l.stateNode;try{db(w,d,g,l)}catch(D){mn(l,l.return,D)}}function up(l,d,g){try{Ip(l.stateNode,l.type,g,d,l)}catch(w){mn(l,l.return,w)}}function dp(l){return l.tag===5||l.tag===3||(as?l.tag===26:!1)||(ta?l.tag===27:!1)||l.tag===4}function Zd(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||dp(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&(!ta||l.tag!==27)&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Kd(l,d,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?zp(g,l,d):hg(g,l);else if(!(w===4||ta&&w===27)&&(l=l.child,l!==null))for(Kd(l,d,g),l=l.sibling;l!==null;)Kd(l,d,g),l=l.sibling}function sc(l,d,g){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?Lp(g,l,d):Up(g,l);else if(!(w===4||ta&&w===27)&&(l=l.child,l!==null))for(sc(l,d,g),l=l.sibling;l!==null;)sc(l,d,g),l=l.sibling}function ig(l,d,g){l=l.containerInfo;try{Fp(l,g)}catch(w){mn(d,d.return,w)}}function rc(l,d){for(Io(l.containerInfo),mi=d;mi!==null;)if(l=mi,d=l.child,(l.subtreeFlags&1028)!==0&&d!==null)d.return=l,mi=d;else for(;mi!==null;){l=mi;var g=l.alternate;switch(d=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&g!==null){d=void 0;var w=l,D=g.memoizedProps;g=g.memoizedState;var z=w.stateNode;try{var ae=Hs(w.type,D,w.elementType===w.type);d=z.getSnapshotBeforeUpdate(ae,g),z.__reactInternalSnapshotBeforeUpdate=d}catch(ye){mn(w,w.return,ye)}}break;case 3:(d&1024)!==0&&ea&&xf(l.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(s(163))}if(d=l.sibling,d!==null){d.return=l.return,mi=d;break}mi=l.return}return ae=Al,Al=!1,ae}function Jd(l,d,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:or(l,g),w&4&&Su(5,g);break;case 1:if(or(l,g),w&4)if(l=g.stateNode,d===null)try{l.componentDidMount()}catch(ye){mn(g,g.return,ye)}else{var D=Hs(g.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(D,d,l.__reactInternalSnapshotBeforeUpdate)}catch(ye){mn(g,g.return,ye)}}w&64&&tg(g),w&512&&fl(g,g.return);break;case 3:if(or(l,g),w&64&&(w=g.updateQueue,w!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=gc(g.child.stateNode);break;case 1:l=g.child.stateNode}try{it(w,l)}catch(ye){mn(g,g.return,ye)}}break;case 26:if(as){or(l,g),w&512&&fl(g,g.return);break}case 27:case 5:or(l,g),d===null&&w&4&&ac(g),w&512&&fl(g,g.return);break;case 12:or(l,g);break;case 13:or(l,g),w&4&&_o(l,g);break;case 22:if(D=g.memoizedState!==null||Pi,!D){d=d!==null&&d.memoizedState!==null||oi;var z=Pi,ae=oi;Pi=D,(oi=d)&&!ae?Eo(l,g,(g.subtreeFlags&8772)!==0):or(l,g),Pi=z,oi=ae}w&512&&(g.memoizedProps.mode==="manual"?fl(g,g.return):ni(g,g.return));break;default:or(l,g)}}function oc(l){var d=l.alternate;d!==null&&(l.alternate=null,oc(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Dp(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function es(l,d,g){for(g=g.child;g!==null;)Qd(l,d,g),g=g.sibling}function Qd(l,d,g){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(_c,g)}catch{}switch(g.tag){case 26:if(as){oi||ni(g,d),es(l,d,g),g.memoizedState?qp(g.memoizedState):g.stateNode&&Kp(g.stateNode);break}case 27:if(ta){oi||ni(g,d);var w=Si,D=Ha;Si=g.stateNode,es(l,d,g),Dg(g.stateNode),Si=w,Ha=D;break}case 5:oi||ni(g,d);case 6:if(ea){if(w=Si,D=Ha,Si=null,es(l,d,g),Si=w,Ha=D,Si!==null)if(Ha)try{yi(Si,g.stateNode)}catch(z){mn(g,d,z)}else try{Ta(Si,g.stateNode)}catch(z){mn(g,d,z)}}else es(l,d,g);break;case 18:ea&&Si!==null&&(Ha?Gp(Si,g.stateNode):wg(Si,g.stateNode));break;case 4:ea?(w=Si,D=Ha,Si=g.stateNode.containerInfo,Ha=!0,es(l,d,g),Si=w,Ha=D):(ns&&ig(g.stateNode,g,vf()),es(l,d,g));break;case 0:case 11:case 14:case 15:oi||bo(2,g,d),oi||bo(4,g,d),es(l,d,g);break;case 1:oi||(ni(g,d),w=g.stateNode,typeof w.componentWillUnmount=="function"&&ng(g,d,w)),es(l,d,g);break;case 21:es(l,d,g);break;case 22:oi||ni(g,d),oi=(w=oi)||g.memoizedState!==null,es(l,d,g),oi=w;break;default:es(l,d,g)}}function _o(l,d){if(Ma&&d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Sf(l)}catch(g){mn(d,d.return,g)}}function lc(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new Ac),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new Ac),d;default:throw Error(s(435,l.tag))}}function Eu(l,d){var g=lc(l);d.forEach(function(w){var D=gp.bind(null,l,w);g.has(w)||(g.add(w),w.then(D,D))})}function _a(l,d){var g=d.deletions;if(g!==null)for(var w=0;w<g.length;w++){var D=g[w],z=l,ae=d;if(ea){var ye=ae;e:for(;ye!==null;){switch(ye.tag){case 27:case 5:Si=ye.stateNode,Ha=!1;break e;case 3:Si=ye.stateNode.containerInfo,Ha=!0;break e;case 4:Si=ye.stateNode.containerInfo,Ha=!0;break e}ye=ye.return}if(Si===null)throw Error(s(160));Qd(z,ae,D),Si=null,Ha=!1}else Qd(z,ae,D);z=D.alternate,z!==null&&(z.return=null),D.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)So(d,l),d=d.sibling}function So(l,d){var g=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:_a(d,l),Ua(l),w&4&&(bo(3,l,l.return),Su(3,l),bo(5,l,l.return));break;case 1:_a(d,l),Ua(l),w&512&&(oi||g===null||ni(g,g.return)),w&64&&Pi&&(l=l.updateQueue,l!==null&&(w=l.callbacks,w!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:if(as){var D=wa;_a(d,l),Ua(l),w&512&&(oi||g===null||ni(g,g.return)),w&4&&(w=g!==null?g.memoizedState:null,d=l.memoizedState,g===null?d===null?l.stateNode===null?l.stateNode=Wp(D,l.type,l.memoizedProps,l):Zp(D,l.type,l.stateNode):l.stateNode=Xp(D,d,l.memoizedProps):w!==d?(w===null?g.stateNode!==null&&Kp(g.stateNode):qp(w),d===null?Zp(D,l.type,l.stateNode):Xp(D,d,l.memoizedProps)):d===null&&l.stateNode!==null&&up(l,l.memoizedProps,g.memoizedProps));break}case 27:if(ta&&w&4&&l.alternate===null){D=l.stateNode;var z=l.memoizedProps;try{mb(D),gb(l.type,z,D,l)}catch(lt){mn(l,l.return,lt)}}case 5:if(_a(d,l),Ua(l),w&512&&(oi||g===null||ni(g,g.return)),ea){if(l.flags&32){d=l.stateNode;try{zu(d)}catch(lt){mn(l,l.return,lt)}}w&4&&l.stateNode!=null&&(d=l.memoizedProps,up(l,d,g!==null?g.memoizedProps:d)),w&1024&&(Vo=!0)}break;case 6:if(_a(d,l),Ua(l),w&4&&ea){if(l.stateNode===null)throw Error(s(162));w=l.memoizedProps,g=g!==null?g.memoizedProps:w,d=l.stateNode;try{pg(d,g,w)}catch(lt){mn(l,l.return,lt)}}break;case 3:if(as?(Jp(),D=wa,wa=Ef(d.containerInfo),_a(d,l),wa=D):_a(d,l),Ua(l),w&4){if(ea&&Ma&&g!==null&&g.memoizedState.isDehydrated)try{_f(d.containerInfo)}catch(lt){mn(l,l.return,lt)}if(ns){w=d.containerInfo,g=d.pendingChildren;try{Fp(w,g)}catch(lt){mn(l,l.return,lt)}}}Vo&&(Vo=!1,fp(l));break;case 4:as?(g=wa,wa=Ef(l.stateNode.containerInfo),_a(d,l),Ua(l),wa=g):(_a(d,l),Ua(l)),w&4&&ns&&ig(l.stateNode,l,l.stateNode.pendingChildren);break;case 12:_a(d,l),Ua(l);break;case 13:_a(d,l),Ua(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(_r=na()),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,Eu(l,w)));break;case 22:w&512&&(oi||g===null||ni(g,g.return)),D=l.memoizedState!==null;var ae=g!==null&&g.memoizedState!==null,ye=Pi,Oe=oi;if(Pi=ye||D,oi=Oe||ae,_a(d,l),oi=Oe,Pi=ye,Ua(l),d=l.stateNode,d._current=l,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,w&8192&&(d._visibility=D?d._visibility&-2:d._visibility|1,D&&(d=Pi||oi,g===null||ae||d||cc(l)),ea&&(l.memoizedProps===null||l.memoizedProps.mode!=="manual"))){e:if(g=null,ea)for(d=l;;){if(d.tag===5||as&&d.tag===26||ta&&d.tag===27){if(g===null){ae=g=d;try{z=ae.stateNode,D?Bu(z):Bp(ae.stateNode,ae.memoizedProps)}catch(lt){mn(ae,ae.return,lt)}}}else if(d.tag===6){if(g===null){ae=d;try{var Ke=ae.stateNode;D?gf(Ke):Vr(Ke,ae.memoizedProps)}catch(lt){mn(ae,ae.return,lt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}}w&4&&(w=l.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,Eu(l,g))));break;case 19:_a(d,l),Ua(l),w&4&&(w=l.updateQueue,w!==null&&(l.updateQueue=null,Eu(l,w)));break;case 21:break;default:_a(d,l),Ua(l)}}function Ua(l){var d=l.flags;if(d&2){try{if(ea&&(!ta||l.tag!==27)){e:{for(var g=l.return;g!==null;){if(dp(g)){var w=g;break e}g=g.return}throw Error(s(160))}switch(w.tag){case 27:if(ta){var D=w.stateNode,z=Zd(l);sc(l,z,D);break}case 5:var ae=w.stateNode;w.flags&32&&(zu(ae),w.flags&=-33);var ye=Zd(l);sc(l,ye,ae);break;case 3:case 4:var Oe=w.stateNode.containerInfo,Ke=Zd(l);Kd(l,Ke,Oe);break;default:throw Error(s(161))}}}catch(lt){mn(l,l.return,lt)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function fp(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;fp(d),d.tag===5&&d.flags&1024&&Vn(d.stateNode),l=l.sibling}}function or(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)Jd(l,d.alternate,d),d=d.sibling}function cc(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:bo(4,d,d.return),cc(d);break;case 1:ni(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&ng(d,d.return,g),cc(d);break;case 26:case 27:case 5:ni(d,d.return),cc(d);break;case 22:ni(d,d.return),d.memoizedState===null&&cc(d);break;default:cc(d)}l=l.sibling}}function Eo(l,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var w=d.alternate,D=l,z=d,ae=z.flags;switch(z.tag){case 0:case 11:case 15:Eo(D,z,g),Su(4,z);break;case 1:if(Eo(D,z,g),w=z,D=w.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(Ke){mn(w,w.return,Ke)}if(w=z,D=w.updateQueue,D!==null){var ye=w.stateNode;try{var Oe=D.shared.hiddenCallbacks;if(Oe!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Oe.length;D++)me(Oe[D],ye)}catch(Ke){mn(w,w.return,Ke)}}g&&ae&64&&tg(z),fl(z,z.return);break;case 26:case 27:case 5:Eo(D,z,g),g&&w===null&&ae&4&&ac(z),fl(z,z.return);break;case 12:Eo(D,z,g);break;case 13:Eo(D,z,g),g&&ae&4&&_o(D,z);break;case 22:z.memoizedState===null&&Eo(D,z,g),fl(z,z.return);break;default:Eo(D,z,g)}d=d.sibling}}function hp(l,d){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&ec(g))}function $d(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&ec(l))}function Ur(l,d,g,w){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)ef(l,d,g,w),d=d.sibling}function ef(l,d,g,w){var D=d.flags;switch(d.tag){case 0:case 11:case 15:Ur(l,d,g,w),D&2048&&Su(9,d);break;case 3:Ur(l,d,g,w),D&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&ec(l)));break;case 12:if(D&2048){Ur(l,d,g,w),l=d.stateNode;try{var z=d.memoizedProps,ae=z.id,ye=z.onPostCommit;typeof ye=="function"&&ye(ae,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Oe){mn(d,d.return,Oe)}}else Ur(l,d,g,w);break;case 23:break;case 22:z=d.stateNode,d.memoizedState!==null?z._visibility&4?Ur(l,d,g,w):Mo(l,d):z._visibility&4?Ur(l,d,g,w):(z._visibility|=4,da(l,d,g,w,(d.subtreeFlags&10256)!==0)),D&2048&&hp(d.alternate,d);break;case 24:Ur(l,d,g,w),D&2048&&$d(d.alternate,d);break;default:Ur(l,d,g,w)}}function da(l,d,g,w,D){for(D=D&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var z=l,ae=d,ye=g,Oe=w,Ke=ae.flags;switch(ae.tag){case 0:case 11:case 15:da(z,ae,ye,Oe,D),Su(8,ae);break;case 23:break;case 22:var lt=ae.stateNode;ae.memoizedState!==null?lt._visibility&4?da(z,ae,ye,Oe,D):Mo(z,ae):(lt._visibility|=4,da(z,ae,ye,Oe,D)),D&&Ke&2048&&hp(ae.alternate,ae);break;case 24:da(z,ae,ye,Oe,D),D&&Ke&2048&&$d(ae.alternate,ae);break;default:da(z,ae,ye,Oe,D)}d=d.sibling}}function Mo(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=l,w=d,D=w.flags;switch(w.tag){case 22:Mo(g,w),D&2048&&hp(w.alternate,w);break;case 24:Mo(g,w),D&2048&&$d(w.alternate,w);break;default:Mo(g,w)}d=d.sibling}}function Gi(l){if(l.subtreeFlags&Cl)for(l=l.child;l!==null;)hl(l),l=l.sibling}function hl(l){switch(l.tag){case 26:Gi(l),l.flags&Cl&&(l.memoizedState!==null?$p(wa,l.memoizedState,l.memoizedProps):ui(l.type,l.memoizedProps));break;case 5:Gi(l),l.flags&Cl&&ui(l.type,l.memoizedProps);break;case 3:case 4:if(as){var d=wa;wa=Ef(l.stateNode.containerInfo),Gi(l),wa=d}else Gi(l);break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Cl,Cl=16777216,Gi(l),Cl=d):Gi(l));break;default:Gi(l)}}function tf(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function To(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var w=d[g];mi=w,wo(w,l)}tf(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Mu(l),l=l.sibling}function Mu(l){switch(l.tag){case 0:case 11:case 15:To(l),l.flags&2048&&bo(9,l,l.return);break;case 3:To(l);break;case 12:To(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&4&&(l.return===null||l.return.tag!==13)?(d._visibility&=-5,uc(l)):To(l);break;default:To(l)}}function uc(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var w=d[g];mi=w,wo(w,l)}tf(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:bo(8,d,d.return),uc(d);break;case 22:g=d.stateNode,g._visibility&4&&(g._visibility&=-5,uc(d));break;default:uc(d)}l=l.sibling}}function wo(l,d){for(;mi!==null;){var g=mi;switch(g.tag){case 0:case 11:case 15:bo(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:ec(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,mi=w;else e:for(g=l;mi!==null;){w=mi;var D=w.sibling,z=w.return;if(oc(w),w===g){mi=null;break e}if(D!==null){D.return=z,mi=D;break e}mi=z}}}function nf(l){var d=Np(l);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(s(364));return d}if(l=Sl(l),l===null)throw Error(s(362));return l.stateNode.current}function dc(l,d){var g=l.tag;switch(d.$$typeof){case Qu:if(l.type===d.value)return!0;break;case If:e:{for(d=d.value,l=[l,0],g=0;g<l.length;){var w=l[g++],D=w.tag,z=l[g++],ae=d[z];if(D!==5&&D!==26&&D!==27||!gr(w)){for(;ae!=null&&dc(w,ae);)z++,ae=d[z];if(z===d.length){d=!0;break e}else for(w=w.child;w!==null;)l.push(w,z),w=w.sibling}}d=!1}return d;case Lf:if((g===5||g===26||g===27)&&ub(l.stateNode,d.value))return!0;break;case Bn:if((g===5||g===6||g===26||g===27)&&(l=Lu(l),l!==null&&0<=l.indexOf(d.value)))return!0;break;case _n:if((g===5||g===26||g===27)&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Ao(l){switch(l.$$typeof){case Qu:return"<"+(c(l.value)||"Unknown")+">";case If:return":has("+(Ao(l)||"")+")";case Lf:return'[role="'+l.value+'"]';case Bn:return'"'+l.value+'"';case _n:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function ag(l,d){var g=[];l=[l,0];for(var w=0;w<l.length;){var D=l[w++],z=D.tag,ae=l[w++],ye=d[ae];if(z!==5&&z!==26&&z!==27||!gr(D)){for(;ye!=null&&dc(D,ye);)ae++,ye=d[ae];if(ae===d.length)g.push(D);else for(D=D.child;D!==null;)l.push(D,ae),D=D.sibling}}return g}function Sa(l,d){if(!mr)throw Error(s(363));l=nf(l),l=ag(l,d),d=[],l=Array.from(l);for(var g=0;g<l.length;){var w=l[g++],D=w.tag;if(D===5||D===26||D===27)gr(w)||d.push(w.stateNode);else for(w=w.child;w!==null;)l.push(w),w=w.sibling}return d}function Ea(){if((Lt&2)!==0&&on!==0)return on&-on;if(jt.T!==null){var l=ka;return l!==0?l:He()}return Ts()}function lr(){ja===0&&(ja=(on&536870912)===0||Mn?j():536870912);var l=ds.current;return l!==null&&(l.flags|=32),ja}function fa(l,d,g){(l===un&&Gn===2||l.cancelPendingCommit!==null)&&(Vs(l,0),js(l,on,ja,!1)),J(l,g),((Lt&2)===0||l!==un)&&(l===un&&((Lt&2)===0&&(Ks|=g),Sn===4&&js(l,on,ja,!1)),Te(l))}function Tu(l,d,g){if((Lt&6)!==0)throw Error(s(327));var w=!g&&(d&60)===0&&(d&l.expiredLanes)===0||I(l,d),D=w?dr(l,d):cr(l,d,!0),z=w;do{if(D===0){fs&&!w&&js(l,d,0,!1);break}else if(D===6)js(l,d,0,!Pn);else{if(g=l.current.alternate,z&&!sg(g)){D=cr(l,d,!1),z=!1;continue}if(D===2){if(z=d,l.errorRecoveryDisabledLanes&z)var ae=0;else ae=l.pendingLanes&-536870913,ae=ae!==0?ae:ae&536870912?536870912:0;if(ae!==0){d=ae;e:{var ye=l;D=Cc;var Oe=Ma&&ye.current.memoizedState.isDehydrated;if(Oe&&(Vs(ye,ae).flags|=256),ae=cr(ye,ae,!1),ae!==2){if(Zr&&!Oe){ye.errorRecoveryDisabledLanes|=z,Ks|=z,D=4;break e}z=ps,ps=D,z!==null&&Ir(z)}D=ae}if(z=!1,D!==2)continue}}if(D===1){Vs(l,0),js(l,d,0,!0);break}e:{switch(w=l,D){case 0:case 1:throw Error(s(345));case 4:if((d&4194176)===d){js(w,d,ja,!Pn);break e}break;case 2:ps=null;break;case 3:case 5:break;default:throw Error(s(329))}if(w.finishedWork=g,w.finishedLanes=d,(d&62914560)===d&&(z=_r+300-na(),10<z)){if(js(w,d,ja,!Pn),U(w,0)!==0)break e;w.timeoutHandle=Cp(af.bind(null,w,g,ps,Js,Nc,d,ja,Ks,Kr,Pn,2,-0,0),z);break e}af(w,g,ps,Js,Nc,d,ja,Ks,Kr,Pn,0,-0,0)}}break}while(!0);Te(l)}function Ir(l){ps===null?ps=l:ps.push.apply(ps,l)}function af(l,d,g,w,D,z,ae,ye,Oe,Ke,lt,xt,Mt){var Zt=d.subtreeFlags;if((Zt&8192||(Zt&16785408)===16785408)&&(is(),hl(d),d=hf(),d!==null)){l.cancelPendingCommit=d(Kn.bind(null,l,g,w,D,ae,ye,Oe,1,xt,Mt)),js(l,z,ae,!Ke);return}Kn(l,g,w,D,ae,ye,Oe,lt,xt,Mt)}function sg(l){for(var d=l;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var D=g[w],z=D.getSnapshot;D=D.value;try{if(!ss(z(),D))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function js(l,d,g,w){d&=~va,d&=~Ks,l.suspendedLanes|=d,l.pingedLanes&=~d,w&&(l.warmLanes|=d),w=l.expirationTimes;for(var D=d;0<D;){var z=31-Ba(D),ae=1<<z;w[z]=-1,D&=~ae}g!==0&&Z(l,g,d)}function pp(){return(Lt&6)===0?(Me(0),!1):!0}function Ia(){if(Jt!==null){if(Gn===0)var l=Jt.return;else l=Jt,pi=jo=null,sl(l),vr=null,Cs=0,l=Jt;for(;l!==null;)cp(l.alternate,l),l=l.return;Jt=null}}function Vs(l,d){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;g!==_l&&(l.timeoutHandle=_l,Iu(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Ia(),un=l,Jt=g=ha(l.current,null),on=d,Gn=0,Ei=null,Pn=!1,fs=I(l,d),Zr=!1,Kr=ja=va=Ks=hs=Sn=0,ps=Cc=null,Nc=!1,(d&8)!==0&&(d|=d&32);var w=l.entangledLanes;if(w!==0)for(l=l.entanglements,w&=d;0<w;){var D=31-Ba(w),z=1<<D;d|=l[D],w&=~z}return Zs=d,P(),g}function pl(l,d){en=null,jt.H=Tn,d===Hn?(d=ct(),Gn=3):d===im?(d=ct(),Gn=4):Gn=d===Pg?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ei=d,Jt===null&&(Sn=1,jd(l,oe(d,l.current)))}function wu(){var l=ds.current;return l===null?!0:(on&4194176)===on?Ns===null:(on&62914560)===on||(on&536870912)!==0?l===Ns:!1}function fc(){var l=jt.H;return jt.H=Tn,l===null?Tn:l}function ts(){var l=jt.A;return jt.A=Uf,l}function La(){Sn=4,Pn||(on&4194176)!==on&&ds.current!==null||(fs=!0),(hs&134217727)===0&&(Ks&134217727)===0||un===null||js(un,on,ja,!1)}function cr(l,d,g){var w=Lt;Lt|=2;var D=fc(),z=ts();(un!==l||on!==d)&&(Js=null,Vs(l,d)),d=!1;var ae=Sn;e:do try{if(Gn!==0&&Jt!==null){var ye=Jt,Oe=Ei;switch(Gn){case 8:Ia(),ae=6;break e;case 3:case 2:case 6:ds.current===null&&(d=!0);var Ke=Gn;if(Gn=0,Ei=null,Co(l,ye,Oe,Ke),g&&fs){ae=0;break e}break;default:Ke=Gn,Gn=0,Ei=null,Co(l,ye,Oe,Ke)}}ur(),ae=Sn;break}catch(lt){pl(l,lt)}while(!0);return d&&l.shellSuspendCounter++,pi=jo=null,Lt=w,jt.H=D,jt.A=z,Jt===null&&(un=null,on=0,P()),ae}function ur(){for(;Jt!==null;)mp(Jt)}function dr(l,d){var g=Lt;Lt|=2;var w=fc(),D=ts();un!==l||on!==d?(Js=null,li=na()+500,Vs(l,d)):fs=I(l,d);e:do try{if(Gn!==0&&Jt!==null){d=Jt;var z=Ei;t:switch(Gn){case 1:Gn=0,Ei=null,Co(l,d,z,1);break;case 2:if(Je(z)){Gn=0,Ei=null,sf(d);break}d=function(){Gn===2&&un===l&&(Gn=7),Te(l)},z.then(d,d);break e;case 3:Gn=7;break e;case 4:Gn=5;break e;case 7:Je(z)?(Gn=0,Ei=null,sf(d)):(Gn=0,Ei=null,Co(l,d,z,7));break;case 5:var ae=null;switch(Jt.tag){case 26:ae=Jt.memoizedState;case 5:case 27:var ye=Jt,Oe=ye.type,Ke=ye.pendingProps;if(ae?Qp(ae):jr(Oe,Ke)){Gn=0,Ei=null;var lt=ye.sibling;if(lt!==null)Jt=lt;else{var xt=ye.return;xt!==null?(Jt=xt,Au(xt)):Jt=null}break t}}Gn=0,Ei=null,Co(l,d,z,5);break;case 6:Gn=0,Ei=null,Co(l,d,z,6);break;case 8:Ia(),Sn=6;break e;default:throw Error(s(462))}}Lr();break}catch(Mt){pl(l,Mt)}while(!0);return pi=jo=null,jt.H=w,jt.A=D,Lt=g,Jt!==null?0:(un=null,on=0,P(),Sn)}function Lr(){for(;Jt!==null&&!Ug();)mp(Jt)}function mp(l){var d=J0(l.alternate,l,Zs);l.memoizedProps=l.pendingProps,d===null?Au(l):Jt=d}function sf(l){var d=l,g=d.alternate;switch(d.tag){case 15:case 0:d=X0(g,d,d.pendingProps,d.type,void 0,on);break;case 11:d=X0(g,d,d.pendingProps,d.type.render,d.ref,on);break;case 5:sl(d);default:cp(g,d),d=Jt=Pr(d,Zs),d=J0(g,d,Zs)}l.memoizedProps=l.pendingProps,d===null?Au(l):Jt=d}function Co(l,d,g,w){pi=jo=null,sl(d),vr=null,Cs=0;var D=d.return;try{if(H0(l,D,d,g,on)){Sn=1,jd(l,oe(g,l.current)),Jt=null;return}}catch(z){if(D!==null)throw Jt=D,z;Sn=1,jd(l,oe(g,l.current)),Jt=null;return}d.flags&32768?(Mn||w===1?l=!0:fs||(on&536870912)!==0?l=!1:(Pn=l=!0,(w===2||w===3||w===6)&&(w=ds.current,w!==null&&w.tag===13&&(w.flags|=16384))),Yi(d,l)):Au(d)}function Au(l){var d=l;do{if((d.flags&32768)!==0){Yi(d,Pn);return}l=d.return;var g=$0(d.alternate,d,Zs);if(g!==null){Jt=g;return}if(d=d.sibling,d!==null){Jt=d;return}Jt=d=l}while(d!==null);Sn===0&&(Sn=5)}function Yi(l,d){do{var g=eg(l.alternate,l);if(g!==null){g.flags&=32767,Jt=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(l=l.sibling,l!==null)){Jt=l;return}Jt=l=g}while(l!==null);Sn=6,Jt=null}function Kn(l,d,g,w,D,z,ae,ye,Oe,Ke){var lt=jt.T,xt=Bi();try{pa(2),jt.T=null,xn(l,d,g,w,xt,D,z,ae,ye,Oe,Ke)}finally{jt.T=lt,pa(xt)}}function xn(l,d,g,w,D,z,ae,ye){do Xi();while(Jr!==null);if((Lt&6)!==0)throw Error(s(327));var Oe=l.finishedWork;if(w=l.finishedLanes,Oe===null)return null;if(l.finishedWork=null,l.finishedLanes=0,Oe===l.current)throw Error(s(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var Ke=Oe.lanes|Oe.childLanes;if(Ke|=Ec,Y(l,w,Ke,z,ae,ye),l===un&&(Jt=un=null,on=0),(Oe.subtreeFlags&10256)===0&&(Oe.flags&10256)===0||Ds||(Ds=!0,zf=Ke,Rl=g,Cu(Tf,function(){return Xi(),null})),g=(Oe.flags&15990)!==0,(Oe.subtreeFlags&15990)!==0||g?(g=jt.T,jt.T=null,z=Bi(),pa(2),ae=Lt,Lt|=4,rc(l,Oe),So(Oe,l),wp(l.containerInfo),l.current=Oe,Jd(l,Oe.alternate,Oe),Ig(),Lt=ae,pa(z),jt.T=g):l.current=Oe,Ds?(Ds=!1,Jr=l,Nl=w):zr(l,Ke),Ke=l.pendingLanes,Ke===0&&(ms=null),q(Oe.stateNode),Te(l),d!==null)for(D=l.onRecoverableError,Oe=0;Oe<d.length;Oe++)Ke=d[Oe],D(Ke.value,{componentStack:Ke.stack});return(Nl&3)!==0&&Xi(),Ke=l.pendingLanes,(w&4194218)!==0&&(Ke&42)!==0?l===Aa?Dl++:(Dl=0,Aa=l):Dl=0,Me(0),null}function zr(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,ec(d)))}function Xi(){if(Jr!==null){var l=Jr,d=zf;zf=0;var g=re(Nl),w=32>g?32:g;g=jt.T;var D=Bi();try{if(pa(w),jt.T=null,Jr===null)var z=!1;else{w=Rl,Rl=null;var ae=Jr,ye=Nl;if(Jr=null,Nl=0,(Lt&6)!==0)throw Error(s(331));var Oe=Lt;if(Lt|=4,Mu(ae.current),ef(ae,ae.current,ye,w),Lt=Oe,Me(0,!1),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(_c,ae)}catch{}z=!0}return z}finally{pa(D),jt.T=g,zr(l,d)}}return!1}function rf(l,d,g){d=oe(g,d),d=gu(l.stateNode,d,2),l=tt(l,d,2),l!==null&&(J(l,2),Te(l))}function mn(l,d,g){if(l.tag===3)rf(l,l,g);else for(;d!==null;){if(d.tag===3){rf(d,l,g);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ms===null||!ms.has(w))){l=oe(g,l),g=$l(2),w=tt(d,g,2),w!==null&&(xu(g,w,d,l),J(w,2),Te(w));break}}d=d.return}}function of(l,d,g){var w=l.pingCache;if(w===null){w=l.pingCache=new gn;var D=new Set;w.set(d,D)}else D=w.get(d),D===void 0&&(D=new Set,w.set(d,D));D.has(g)||(Zr=!0,D.add(g),l=rg.bind(null,l,d,g),d.then(l,l))}function rg(l,d,g){var w=l.pingCache;w!==null&&w.delete(d),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,un===l&&(on&g)===g&&(Sn===4||Sn===3&&(on&62914560)===on&&300>na()-_r?(Lt&2)===0&&Vs(l,0):va|=g,Kr===on&&(Kr=0)),Te(l)}function ml(l,d){d===0&&(d=B()),l=ee(l,d),l!==null&&(J(l,d),Te(l))}function gl(l){var d=l.memoizedState,g=0;d!==null&&(g=d.retryLane),ml(l,g)}function gp(l,d){var g=0;switch(l.tag){case 13:var w=l.stateNode,D=l.memoizedState;D!==null&&(g=D.retryLane);break;case 19:w=l.stateNode;break;case 22:w=l.stateNode._retryCache;break;default:throw Error(s(314))}w!==null&&w.delete(d),ml(l,g)}function Cu(l,d){return bc(l,d)}function xp(l,d,g,w){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ha(l,d){var g=l.alternate;return g===null?(g=t(l.tag,d,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=d,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&31457280,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,d=l.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function Pr(l,d){l.flags&=31457282;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,d=g.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function Ms(l,d,g,w,D,z){var ae=0;if(w=l,typeof l=="function")Br(l)&&(ae=1);else if(typeof l=="string")ae=as&&ta?Yp(l,g,Wi.current)?26:vc(l)?27:5:as?Yp(l,g,Wi.current)?26:5:ta&&vc(l)?27:5;else e:switch(l){case pc:return kr(g.children,D,z,d);case Sp:ae=8,D|=24;break;case Ep:return l=t(12,g,d,D|2),l.elementType=Ep,l.lanes=z,l;case cf:return l=t(13,g,d,D),l.elementType=cf,l.lanes=z,l;case Do:return l=t(19,g,d,D),l.elementType=Do,l.lanes=z,l;case Du:return lf(g,D,z,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case cg:case fr:ae=10;break e;case Ro:ae=9;break e;case mc:ae=11;break e;case Ru:ae=14;break e;case Ys:ae=16,w=null;break e}ae=29,g=Error(s(130,l===null?"null":typeof l,"")),w=null}return d=t(ae,g,d,D),d.elementType=l,d.type=w,d.lanes=z,d}function kr(l,d,g,w){return l=t(7,l,w,d),l.lanes=g,l}function lf(l,d,g,w){l=t(22,l,w,d),l.elementType=Du,l.lanes=g;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var z=D._current;if(z===null)throw Error(s(456));if((D._pendingVisibility&2)===0){var ae=ee(z,2);ae!==null&&(D._pendingVisibility|=2,fa(ae,z,2))}},attach:function(){var z=D._current;if(z===null)throw Error(s(456));if((D._pendingVisibility&2)!==0){var ae=ee(z,2);ae!==null&&(D._pendingVisibility&=-3,fa(ae,z,2))}}};return l.stateNode=D,l}function No(l,d,g){return l=t(6,l,null,d),l.lanes=g,l}function hc(l,d,g){return d=t(4,l.children!==null?l.children:[],l.key,d),d.lanes=g,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function xl(l,d,g,w,D,z,ae,ye){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_l,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=w,this.onUncaughtError=D,this.onCaughtError=z,this.onRecoverableError=ae,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function qi(l,d,g,w,D,z,ae,ye,Oe,Ke,lt,xt){return l=new xl(l,d,g,ae,ye,Oe,Ke,xt),d=1,z===!0&&(d|=24),z=t(3,null,null,d),l.current=z,z.stateNode=l,d=Xd(),d.refCount++,l.pooledCache=d,d.refCount++,z.memoizedState={element:w,isDehydrated:g,cache:d},ht(z),l}function Nu(l){return l?(l=El,l):El}function vp(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=y(d),l=l!==null?S(l):null,l===null?null:gc(l.stateNode)}function og(l,d,g,w,D,z){D=Nu(D),w.context===null?w.context=D:w.pendingContext=D,w=Ve(d),w.payload={element:g},z=z===void 0?null:z,z!==null&&(w.callback=z),g=tt(l,w,d),g!==null&&(fa(g,l,d),_t(g,l,d))}function lg(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<d?g:d}}function yp(l,d){lg(l,d),(l=l.alternate)&&lg(l,d)}var It={},bp=Uh(),$i=OC(),vl=Object.assign,_p=Symbol.for("react.element"),Fr=Symbol.for("react.transitional.element"),Gs=Symbol.for("react.portal"),pc=Symbol.for("react.fragment"),Sp=Symbol.for("react.strict_mode"),Ep=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),Ro=Symbol.for("react.consumer"),fr=Symbol.for("react.context"),mc=Symbol.for("react.forward_ref"),cf=Symbol.for("react.suspense"),Do=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),Du=Symbol.for("react.offscreen"),ug=Symbol.for("react.memo_cache_sentinel"),Mp=Symbol.iterator,yl=Symbol.for("react.client.reference"),jt=bp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,uf,Tp,Oo=!1,Uo=Array.isArray,df=e.rendererVersion,Ou=e.rendererPackageName,Uu=e.extraDevToolsConfig,gc=e.getPublicInstance,bl=e.getRootHostContext,dg=e.getChildHostContext,Io=e.prepareForCommit,wp=e.resetAfterCommit,Ap=e.createInstance,hr=e.appendInitialChild,Hr=e.finalizeInitialChildren,Lo=e.shouldSetTextContent,ff=e.createTextInstance,Cp=e.scheduleTimeout,Iu=e.cancelTimeout,_l=e.noTimeout,pr=e.isPrimaryRenderer;e.warnsIfNotActing;var ea=e.supportsMutation,ns=e.supportsPersistence,Ma=e.supportsHydration,Np=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Rp=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var pa=e.setCurrentUpdatePriority,Bi=e.getCurrentUpdatePriority,Ts=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var zo=e.shouldAttemptEagerTransition,Dp=e.detachDeletedInstance;e.requestPostPaintCallback;var fg=e.maySuspendCommit,jr=e.preloadInstance,is=e.startSuspendingCommit,ui=e.suspendInstance,hf=e.waitForCommitToBeReady,za=e.NotPendingTransition,Yt=e.HostTransitionContext,Vn=e.resetFormInstance;e.bindToConsole;var Ci=e.supportsMicrotasks,pf=e.scheduleMicrotask,mr=e.supportsTestSelectors,Sl=e.findFiberRoot,mf=e.getBoundingRect,Lu=e.getTextContent,gr=e.isHiddenSubtree,ub=e.matchAccessibilityRole,di=e.setFocusIfFocusable,Op=e.setupIntersectionObserver,Up=e.appendChild,hg=e.appendChildToContainer,pg=e.commitTextUpdate,db=e.commitMount,Ip=e.commitUpdate,Lp=e.insertBefore,zp=e.insertInContainerBefore,Ta=e.removeChild,yi=e.removeChildFromContainer,zu=e.resetTextContent,Bu=e.hideInstance,gf=e.hideTextInstance,Bp=e.unhideInstance,Vr=e.unhideTextInstance,xf=e.clearContainer,Pp=e.cloneInstance,vf=e.createContainerChildSet,kp=e.appendChildToContainerChildSet,mg=e.finalizeContainerChildren,Fp=e.replaceContainerChildren,Hp=e.cloneHiddenInstance,jp=e.cloneHiddenTextInstance,yf=e.isSuspenseInstancePending,Pu=e.isSuspenseInstanceFallback,gg=e.getSuspenseInstanceFallbackErrorDetails,fb=e.registerSuspenseInstanceRetry,xg=e.canHydrateFormStateMarker,vg=e.isFormStateMarkerMatching,Vp=e.getNextHydratableSibling,bf=e.getFirstHydratableChild,yg=e.getFirstHydratableChildWithinContainer,bg=e.getFirstHydratableChildWithinSuspenseInstance,_g=e.canHydrateInstance,Sg=e.canHydrateTextInstance,Eg=e.canHydrateSuspenseInstance,hb=e.hydrateInstance,Mg=e.hydrateTextInstance,xc=e.hydrateSuspenseInstance,Tg=e.getNextHydratableInstanceAfterSuspenseInstance,_f=e.commitHydratedContainer,Sf=e.commitHydratedSuspenseInstance,wg=e.clearSuspenseBoundary,Gp=e.clearSuspenseBoundaryFromContainer,Ag=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Cg=e.validateHydratableInstance,Ng=e.validateHydratableTextInstance,as=e.supportsResources,Yp=e.isHostHoistableType,Ef=e.getHoistableRoot,Mf=e.getResource,Xp=e.acquireResource,qp=e.releaseResource,Wp=e.hydrateHoistable,Zp=e.mountHoistable,Kp=e.unmountHoistable,pb=e.createHoistableInstance,Jp=e.prepareToCommitHoistables,Rg=e.mayResourceSuspendCommit,Qp=e.preloadResource,$p=e.suspendResource,ta=e.supportsSingletons,em=e.resolveSingletonInstance,mb=e.clearSingleton,gb=e.acquireSingletonInstance,Dg=e.releaseSingletonInstance,vc=e.isHostSingletonType,ku=[],Gr=-1,El={},Ba=Math.clz32?Math.clz32:R,Fu=Math.log,Og=Math.LN2,yc=128,Hu=4194304,bc=$i.unstable_scheduleCallback,ju=$i.unstable_cancelCallback,Ug=$i.unstable_shouldYield,Ig=$i.unstable_requestPaint,na=$i.unstable_now,tm=$i.unstable_ImmediatePriority,Lg=$i.unstable_UserBlockingPriority,Tf=$i.unstable_NormalPriority,wf=$i.unstable_IdlePriority,zg=$i.log,nm=$i.unstable_setDisableYieldValue,_c=null,Pa=null,ss=typeof Object.is=="function"?Object.is:te,Af=new WeakMap,ii=[],fi=0,Vu=null,Gu=0,rs=[],os=0,Xs=null,xr=1,ws="",Wi=M(null),Yu=M(null),qs=M(null),Sc=M(null),ma=null,ia=null,Mn=!1,ls=null,As=!1,Xu=Error(s(519)),cs=[],Bo=0,Ec=0,Mc=null,Ml=null,qu=!1,Wu=!1,Ws=!1,Po=0,Zu=null,Cf=0,ka=0,ko=null,Yr=!1,Tc=!1,Ku=Object.prototype.hasOwnProperty,Hn=Error(s(460)),im=Error(s(474)),Nf={then:function(){}},Tl=null,vr=null,Cs=0,Fo=dn(!0),am=dn(!1),yr=M(null),us=M(0),ds=M(null),Ns=null,Ni=M(0),br=0,en=null,Dn=null,bi=null,Rs=!1,ai=!1,Xr=!1,Ju=0,hi=0,wc=null,Bg=0,Rf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Tn={readContext:Qi,use:ke,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn};Tn.useCacheRefresh=sn,Tn.useMemoCache=sn,Tn.useHostTransitionStatus=sn,Tn.useFormState=sn,Tn.useActionState=sn,Tn.useOptimistic=sn;var Ri={readContext:Qi,use:ke,useCallback:function(l,d){return vi().memoizedState=[l,d===void 0?null:d],l},useContext:Qi,useEffect:Xh,useImperativeHandle:function(l,d,g){g=g!=null?g.concat([l]):null,Es(4194308,4,du.bind(null,d,l),g)},useLayoutEffect:function(l,d){return Es(4194308,4,l,d)},useInsertionEffect:function(l,d){Es(4,2,l,d)},useMemo:function(l,d){var g=vi();d=d===void 0?null:d;var w=l();if(Xr){W(!0);try{l()}finally{W(!1)}}return g.memoizedState=[w,d],w},useReducer:function(l,d,g){var w=vi();if(g!==void 0){var D=g(d);if(Xr){W(!0);try{g(d)}finally{W(!1)}}}else D=d;return w.memoizedState=w.baseState=D,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:D},w.queue=l,l=l.dispatch=po.bind(null,en,l),[w.memoizedState,l]},useRef:function(l){var d=vi();return l={current:l},d.memoizedState=l},useState:function(l){l=bn(l);var d=l.queue,g=Fd.bind(null,en,d);return d.dispatch=g,[l.memoizedState,g]},useDebugValue:fu,useDeferredValue:function(l,d){var g=vi();return ho(g,l,d)},useTransition:function(){var l=bn(!1);return l=Pd.bind(null,en,l.queue,!0,!1),vi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,g){var w=en,D=vi();if(Mn){if(g===void 0)throw Error(s(407));g=g()}else{if(g=d(),un===null)throw Error(s(349));(on&60)!==0||Bt(w,d,g)}D.memoizedState=g;var z={value:g,getSnapshot:d};return D.queue=z,Xh(Ut.bind(null,w,z,l),[l]),w.flags|=2048,ci(9,Ht.bind(null,w,z,g,d),{destroy:void 0},null),g},useId:function(){var l=vi(),d=un.identifierPrefix;if(Mn){var g=ws,w=xr;g=(w&~(1<<32-Ba(w)-1)).toString(32)+g,d=":"+d+"R"+g,g=Ju++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=Bg++,d=":"+d+"r"+g.toString(32)+":";return l.memoizedState=d},useCacheRefresh:function(){return vi().memoizedState=hu.bind(null,en)}};Ri.useMemoCache=Ue,Ri.useHostTransitionStatus=ol,Ri.useFormState=ar,Ri.useActionState=ar,Ri.useOptimistic=function(l){var d=vi();d.memoizedState=d.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=Hd.bind(null,en,!0,g),g.dispatch=d,[l,d]};var ga={readContext:Qi,use:ke,useCallback:Bd,useContext:Qi,useEffect:uu,useImperativeHandle:sr,useInsertionEffect:k0,useLayoutEffect:F0,useMemo:rl,useReducer:ot,useRef:Fs,useState:function(){return ot(Ne)},useDebugValue:fu,useDeferredValue:function(l,d){var g=ne();return qh(g,Dn.memoizedState,l,d)},useTransition:function(){var l=ot(Ne)[0],d=ne().memoizedState;return[typeof l=="boolean"?l:Ae(l),d]},useSyncExternalStore:wt,useId:rr};ga.useCacheRefresh=kd,ga.useMemoCache=Ue,ga.useHostTransitionStatus=ol,ga.useFormState=Xn,ga.useActionState=Xn,ga.useOptimistic=function(l,d){var g=ne();return hn(g,Dn,l,d)};var Ho={readContext:Qi,use:ke,useCallback:Bd,useContext:Qi,useEffect:uu,useImperativeHandle:sr,useInsertionEffect:k0,useLayoutEffect:F0,useMemo:rl,useReducer:Tt,useRef:Fs,useState:function(){return Tt(Ne)},useDebugValue:fu,useDeferredValue:function(l,d){var g=ne();return Dn===null?ho(g,l,d):qh(g,Dn.memoizedState,l,d)},useTransition:function(){var l=Tt(Ne)[0],d=ne().memoizedState;return[typeof l=="boolean"?l:Ae(l),d]},useSyncExternalStore:wt,useId:rr};Ho.useCacheRefresh=kd,Ho.useMemoCache=Ue,Ho.useHostTransitionStatus=ol,Ho.useFormState=zi,Ho.useActionState=zi,Ho.useOptimistic=function(l,d){var g=ne();return Dn!==null?hn(g,Dn,l,d):(g.baseState=l,[l,g.queue.dispatch])};var Df={isMounted:function(l){return(l=l._reactInternals)?v(l)===l:!1},enqueueSetState:function(l,d,g){l=l._reactInternals;var w=Ea(),D=Ve(w);D.payload=d,g!=null&&(D.callback=g),d=tt(l,D,w),d!==null&&(fa(d,l,w),_t(d,l,w))},enqueueReplaceState:function(l,d,g){l=l._reactInternals;var w=Ea(),D=Ve(w);D.tag=1,D.payload=d,g!=null&&(D.callback=g),d=tt(l,D,w),d!==null&&(fa(d,l,w),_t(d,l,w))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var g=Ea(),w=Ve(g);w.tag=2,d!=null&&(w.callback=d),d=tt(l,w,g),d!==null&&(fa(d,l,g),_t(d,l,g))}},sm=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Pg=Error(s(461)),_i=!1,xa={dehydrated:null,treeContext:null,retryLane:0},Fa=M(null),jo=null,pi=null,kg=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(g,w){l.push(w)}};this.abort=function(){d.aborted=!0,l.forEach(function(g){return g()})}},qr=$i.unstable_scheduleCallback,wl=$i.unstable_NormalPriority,zn={$$typeof:fr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Of=jt.S;jt.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Ce(l,d),Of!==null&&Of(l,d)};var Wr=M(null),Pi=!1,oi=!1,Vo=!1,Ac=typeof WeakSet=="function"?WeakSet:Set,mi=null,Al=!1,Si=null,Ha=!1,wa=null,Cl=8192,Uf={getCacheForType:function(l){var d=Qi(zn),g=d.data.get(l);return g===void 0&&(g=l(),d.data.set(l,g)),g}},Qu=0,If=1,Lf=2,_n=3,Bn=4;if(typeof Symbol=="function"&&Symbol.for){var tn=Symbol.for;Qu=tn("selector.component"),If=tn("selector.has_pseudo_class"),Lf=tn("selector.role"),_n=tn("selector.test_id"),Bn=tn("selector.text")}var gn=typeof WeakMap=="function"?WeakMap:Map,Lt=0,un=null,Jt=null,on=0,Gn=0,Ei=null,Pn=!1,fs=!1,Zr=!1,Zs=0,Sn=0,hs=0,Ks=0,va=0,ja=0,Kr=0,Cc=null,ps=null,Nc=!1,_r=0,li=1/0,Js=null,ms=null,Ds=!1,Jr=null,Nl=0,zf=0,Rl=null,Dl=0,Aa=null;return It.attemptContinuousHydration=function(l){if(l.tag===13){var d=ee(l,67108864);d!==null&&fa(d,l,67108864),yp(l,67108864)}},It.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var d=Ea(),g=ee(l,d);g!==null&&fa(g,l,d),yp(l,d)}},It.attemptSynchronousHydration=function(l){switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var d=O(l.pendingLanes);if(d!==0){for(l.pendingLanes|=2,l.entangledLanes|=2;d;){var g=1<<31-Ba(d);l.entanglements[1]|=g,d&=~g}Te(l),(Lt&6)===0&&(li=na()+500,Me(0))}}break;case 13:d=ee(l,2),d!==null&&fa(d,l,2),pp(),yp(l,2)}},It.batchedUpdates=function(l,d){return l(d)},It.createComponentSelector=function(l){return{$$typeof:Qu,value:l}},It.createContainer=function(l,d,g,w,D,z,ae,ye,Oe,Ke){return qi(l,d,!1,null,g,w,z,ae,ye,Oe,Ke,null)},It.createHasPseudoClassSelector=function(l){return{$$typeof:If,value:l}},It.createHydrationContainer=function(l,d,g,w,D,z,ae,ye,Oe,Ke,lt,xt,Mt){return l=qi(g,w,!0,l,D,z,ye,Oe,Ke,lt,xt,Mt),l.context=Nu(null),g=l.current,w=Ea(),D=Ve(w),D.callback=d??null,tt(g,D,w),l.current.lanes=w,J(l,w),Te(l),l},It.createPortal=function(l,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:w==null?null:""+w,children:l,containerInfo:d,implementation:g}},It.createRoleSelector=function(l){return{$$typeof:Lf,value:l}},It.createTestNameSelector=function(l){return{$$typeof:_n,value:l}},It.createTextSelector=function(l){return{$$typeof:Bn,value:l}},It.defaultOnCaughtError=function(l){console.error(l)},It.defaultOnRecoverableError=function(l){sm(l)},It.defaultOnUncaughtError=function(l){sm(l)},It.deferredUpdates=function(l){var d=jt.T,g=Bi();try{return pa(32),jt.T=null,l()}finally{pa(g),jt.T=d}},It.discreteUpdates=function(l,d,g,w,D){var z=jt.T,ae=Bi();try{return pa(2),jt.T=null,l(d,g,w,D)}finally{pa(ae),jt.T=z,Lt===0&&(li=na()+500)}},It.findAllNodes=Sa,It.findBoundingRects=function(l,d){if(!mr)throw Error(s(363));d=Sa(l,d),l=[];for(var g=0;g<d.length;g++)l.push(mf(d[g]));for(d=l.length-1;0<d;d--){g=l[d];for(var w=g.x,D=w+g.width,z=g.y,ae=z+g.height,ye=d-1;0<=ye;ye--)if(d!==ye){var Oe=l[ye],Ke=Oe.x,lt=Ke+Oe.width,xt=Oe.y,Mt=xt+Oe.height;if(w>=Ke&&z>=xt&&D<=lt&&ae<=Mt){l.splice(d,1);break}else if(w!==Ke||g.width!==Oe.width||Mt<z||xt>ae){if(!(z!==xt||g.height!==Oe.height||lt<w||Ke>D)){Ke>w&&(Oe.width+=Ke-w,Oe.x=w),lt<D&&(Oe.width=D-Ke),l.splice(d,1);break}}else{xt>z&&(Oe.height+=xt-z,Oe.y=z),Mt<ae&&(Oe.height=ae-xt),l.splice(d,1);break}}}return l},It.findHostInstance=vp,It.findHostInstanceWithNoPortals=function(l){return l=y(l),l=l!==null?E(l):null,l===null?null:gc(l.stateNode)},It.findHostInstanceWithWarning=function(l){return vp(l)},It.flushPassiveEffects=Xi,It.flushSyncFromReconciler=function(l){var d=Lt;Lt|=1;var g=jt.T,w=Bi();try{if(pa(2),jt.T=null,l)return l()}finally{pa(w),jt.T=g,Lt=d,(Lt&6)===0&&Me(0)}},It.flushSyncWork=pp,It.focusWithin=function(l,d){if(!mr)throw Error(s(363));for(l=nf(l),d=ag(l,d),d=Array.from(d),l=0;l<d.length;){var g=d[l++],w=g.tag;if(!gr(g)){if((w===5||w===26||w===27)&&di(g.stateNode))return!0;for(g=g.child;g!==null;)d.push(g),g=g.sibling}}return!1},It.getFindAllNodesFailureDescription=function(l,d){if(!mr)throw Error(s(363));var g=0,w=[];l=[nf(l),0];for(var D=0;D<l.length;){var z=l[D++],ae=z.tag,ye=l[D++],Oe=d[ye];if((ae!==5&&ae!==26&&ae!==27||!gr(z))&&(dc(z,Oe)&&(w.push(Ao(Oe)),ye++,ye>g&&(g=ye)),ye<d.length))for(z=z.child;z!==null;)l.push(z,ye),z=z.sibling}if(g<d.length){for(l=[];g<d.length;g++)l.push(Ao(d[g]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},It.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 27:case 5:return gc(l.child.stateNode);default:return l.child.stateNode}},It.injectIntoDevTools=function(){var l={bundleType:0,version:df,rendererPackageName:Ou,currentDispatcherRef:jt,findFiberByHostInstance:Np,reconcilerVersion:"19.0.0"};if(Uu!==null&&(l.rendererConfig=Uu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)l=!0;else{try{_c=d.inject(l),Pa=d}catch{}l=!!d.checkDCE}}return l},It.isAlreadyRendering=function(){return!1},It.observeVisibleRects=function(l,d,g,w){if(!mr)throw Error(s(363));l=Sa(l,d);var D=Op(l,g,w).disconnect;return{disconnect:function(){D()}}},It.shouldError=function(){return null},It.shouldSuspend=function(){return!1},It.startHostTransition=function(l,d,g,w){if(l.tag!==5)throw Error(s(476));var D=Wh(l).queue;Pd(l,D,d,za,g===null?n:function(){var z=Wh(l).next.queue;return mo(l,z,{},Ea()),g(w)})},It.updateContainer=function(l,d,g,w){var D=d.current,z=Ea();return og(D,z,l,d,g,w),z},It.updateContainerSync=function(l,d,g,w){return d.tag===0&&Xi(),og(d.current,2,l,d,g,w),2},It},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(t1)),t1.exports}var fT;function J9(){return fT||(fT=1,e1.exports=K9()),e1.exports}var Q9=J9();const $9=_0(Q9);var hT=OC();function kS(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const s=kS(n,e,t);if(s)return s;n=e?null:n.sibling}}function UC(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const FS=UC(ce.createContext(null));class IC extends ce.Component{render(){return ce.createElement(FS.Provider,{value:this._reactInternals},this.props.children)}}function LC(){const i=ce.useContext(FS);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ce.useId();return ce.useMemo(()=>{for(const t of[i,i==null?void 0:i.alternate]){if(!t)continue;const n=kS(t,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(n)return n}},[i,e])}const eH=Symbol.for("react.context"),tH=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===eH;function nH(){const i=LC(),[e]=ce.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;tH(n)&&n!==FS&&!e.has(n)&&e.set(n,ce.use(UC(n))),t=t.return}return e}function iH(){const i=nH();return ce.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>ce.createElement(e,null,ce.createElement(t.Provider,{...n,value:i.get(t)})),e=>ce.createElement(IC,{...e})),[i])}function zC(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const BC=i=>i&&i.isOrthographicCamera,aH=i=>i&&i.hasOwnProperty("current"),sH=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),P0=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ce.useLayoutEffect:ce.useEffect;function PC(i){const e=ce.useRef(i);return P0(()=>void(e.current=i),[i]),e}function rH(){const i=LC(),e=iH();return ce.useMemo(()=>({children:t})=>{const s=!!kS(i,!0,o=>o.type===ce.StrictMode)?ce.StrictMode:ce.Fragment;return A.jsx(s,{children:A.jsx(e,{children:t})})},[i,e])}function oH({set:i}){return P0(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const lH=(i=>(i=class extends ce.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function kC(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function fh(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const Mi={obj:i=>i===Object(i)&&!Mi.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:s=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Mi.str(i)||Mi.num(i)||Mi.boo(i))return i===e;const o=Mi.obj(i);if(o&&n==="reference")return i===e;const c=Mi.arr(i);if(c&&t==="reference")return i===e;if((c||o)&&i===e)return!0;let u;for(u in i)if(!(u in e))return!1;if(o&&t==="shallow"&&n==="shallow"){for(u in s?e:i)if(!Mi.equ(i[u],e[u],{strict:s,objects:"reference"}))return!1}else for(u in s?e:i)if(i[u]!==e[u])return!1;if(Mi.und(u)){if(c&&i.length===0&&e.length===0||o&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function cH(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const FC=["children","key","ref"];function uH(i){const e={};for(const t in i)FC.includes(t)||(e[t]=i[t]);return e}function fy(i,e,t,n){const s=i;let o=s==null?void 0:s.__r3f;return o||(o={root:e,type:t,parent:null,children:[],props:uH(n),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=o)),o}function b0(i,e){if(!e.includes("-"))return{root:i,key:e,target:i[e]};if(e in i)return{root:i,key:e,target:i[e]};let t=i;const n=e.split("-");for(const s of n){if(typeof t!="object"||t===null){if(t!==void 0){const o=n.slice(n.indexOf(s)).join("-");return{root:t,key:o,target:void 0}}return{root:i,key:e,target:void 0}}e=s,i=t,t=t[e]}return{root:i,key:e,target:t}}const pT=/-\d+$/;function hy(i,e){if(Mi.str(e.props.attach)){if(pT.test(e.props.attach)){const s=e.props.attach.replace(pT,""),{root:o,key:c}=b0(i.object,s);Array.isArray(o[c])||(o[c]=[])}const{root:t,key:n}=b0(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Mi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function py(i,e){if(Mi.str(e.props.attach)){const{root:t,key:n}=b0(i.object,e.props.attach),s=e.previousAttach;s===void 0?delete t[n]:t[n]=s}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const D1=[...FC,"args","dispose","attach","object","onUpdate","dispose"],mT=new Map;function dH(i){let e=mT.get(i.constructor);try{e||(e=new i.constructor,mT.set(i.constructor,e))}catch{}return e}function fH(i,e){const t={};for(const n in e)if(!D1.includes(n)&&!Mi.equ(e[n],i.props[n])){t[n]=e[n];for(const s in e)s.startsWith(`${n}-`)&&(t[s]=e[s])}for(const n in i.props){if(D1.includes(n)||e.hasOwnProperty(n))continue;const{root:s,key:o}=b0(i.object,n);if(s.constructor&&s.constructor.length===0){const c=dH(s);Mi.und(c)||(t[o]=c[o])}else t[o]=0}return t}const hH=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],pH=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Zc(i,e){var t;const n=i.__r3f,s=n&&zC(n).getState(),o=n==null?void 0:n.eventCount;for(const u in e){let h=e[u];if(D1.includes(u))continue;if(n&&pH.test(u)){typeof h=="function"?n.handlers[u]=h:delete n.handlers[u],n.eventCount=Object.keys(n.handlers).length;continue}if(h===void 0)continue;let{root:p,key:x,target:v}=b0(i,u);if(v===void 0&&(typeof p!="object"||p===null))throw Error(`R3F: Cannot set "${u}". Ensure it is an object before setting "${x}".`);if(v instanceof Ch&&h instanceof Ch)v.mask=h.mask;else if(v instanceof bt&&sH(h))v.set(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&h!=null&&h.constructor&&v.constructor===h.constructor)v.copy(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(h))typeof v.fromArray=="function"?v.fromArray(h):v.set(...h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof h=="number")typeof v.setScalar=="function"?v.setScalar(h):v.set(h);else{var c;p[x]=h,s&&!s.linear&&hH.includes(x)&&(c=p[x])!=null&&c.isTexture&&p[x].format===Za&&p[x].type===Ar&&(p[x].colorSpace=Wa)}}if(n!=null&&n.parent&&s!=null&&s.internal&&(t=n.object)!=null&&t.isObject3D&&o!==n.eventCount){const u=n.object,h=s.internal.interaction.indexOf(u);h>-1&&s.internal.interaction.splice(h,1),n.eventCount&&u.raycast!==null&&s.internal.interaction.push(u)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&Gh(n),i}function Gh(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function mH(i,e){i.manual||(BC(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const Is=i=>i==null?void 0:i.isObject3D;function ev(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function HC(i,e,t,n){const s=t.get(e);s&&(t.delete(e),t.size===0&&(i.delete(n),s.target.releasePointerCapture(n)))}function gH(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,s)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(s)}),t.capturedMap.forEach((n,s)=>{HC(t.capturedMap,e,n,s)})}function xH(i){function e(h){const{internal:p}=i.getState(),x=h.offsetX-p.initialClick[0],v=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(x*x+v*v))}function t(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(x=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+x]}))}function n(h,p){const x=i.getState(),v=new Set,b=[],y=p?p(x.internal.interaction):x.internal.interaction;for(let _=0;_<y.length;_++){const C=fh(y[_]);C&&(C.raycaster.camera=void 0)}x.previousRoot||x.events.compute==null||x.events.compute(h,x);function S(_){const C=fh(_);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var R;C.events.compute==null||C.events.compute(h,C,(R=C.previousRoot)==null?void 0:R.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(_,!0):[]}let E=y.flatMap(S).sort((_,C)=>{const R=fh(_.object),O=fh(C.object);return!R||!O?_.distance-C.distance:O.events.priority-R.events.priority||_.distance-C.distance}).filter(_=>{const C=ev(_);return v.has(C)?!1:(v.add(C),!0)});x.events.filter&&(E=x.events.filter(E,x));for(const _ of E){let C=_.object;for(;C;){var M;(M=C.__r3f)!=null&&M.eventCount&&b.push({..._,eventObject:C}),C=C.parent}}if("pointerId"in h&&x.internal.capturedMap.has(h.pointerId))for(let _ of x.internal.capturedMap.get(h.pointerId).values())v.has(ev(_.intersection))||b.push(_.intersection);return b}function s(h,p,x,v){if(h.length){const b={stopped:!1};for(const y of h){let S=fh(y.object);if(S||y.object.traverseAncestors(E=>{const M=fh(E);if(M)return S=M,!1}),S){const{raycaster:E,pointer:M,camera:_,internal:C}=S,R=new ue(M.x,M.y,0).unproject(_),O=B=>{var k,J;return(k=(J=C.capturedMap.get(B))==null?void 0:J.has(y.eventObject))!=null?k:!1},U=B=>{const k={intersection:y,target:p.target};C.capturedMap.has(B)?C.capturedMap.get(B).set(y.eventObject,k):C.capturedMap.set(B,new Map([[y.eventObject,k]])),p.target.setPointerCapture(B)},I=B=>{const k=C.capturedMap.get(B);k&&HC(C.capturedMap,y.eventObject,k,B)};let F={};for(let B in p){let k=p[B];typeof k!="function"&&(F[B]=k)}let j={...y,...F,pointer:M,intersections:h,stopped:b.stopped,delta:x,unprojectedPoint:R,ray:E.ray,camera:_,stopPropagation(){const B="pointerId"in p&&C.capturedMap.get(p.pointerId);if((!B||B.has(y.eventObject))&&(j.stopped=b.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(k=>k.eventObject===y.eventObject))){const k=h.slice(0,h.indexOf(y));o([...k,y])}},target:{hasPointerCapture:O,setPointerCapture:U,releasePointerCapture:I},currentTarget:{hasPointerCapture:O,setPointerCapture:U,releasePointerCapture:I},nativeEvent:p};if(v(j),b.stopped===!0)break}}}return h}function o(h){const{internal:p}=i.getState();for(const x of p.hovered.values())if(!h.length||!h.find(v=>v.object===x.object&&v.index===x.index&&v.instanceId===x.instanceId)){const b=x.eventObject.__r3f;if(p.hovered.delete(ev(x)),b!=null&&b.eventCount){const y=b.handlers,S={...x,intersections:h};y.onPointerOut==null||y.onPointerOut(S),y.onPointerLeave==null||y.onPointerLeave(S)}}}function c(h,p){for(let x=0;x<p.length;x++){const v=p[x].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return p=>{const{internal:x}=i.getState();"pointerId"in p&&x.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{x.capturedMap.has(p.pointerId)&&(x.capturedMap.delete(p.pointerId),o([]))})}}return function(x){const{onPointerMissed:v,internal:b}=i.getState();b.lastEvent.current=x;const y=h==="onPointerMove",S=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",M=n(x,y?t:void 0),_=S?e(x):0;h==="onPointerDown"&&(b.initialClick=[x.offsetX,x.offsetY],b.initialHits=M.map(R=>R.eventObject)),S&&!M.length&&_<=2&&(c(x,b.interaction),v&&v(x)),y&&o(M);function C(R){const O=R.eventObject,U=O.__r3f;if(!(U!=null&&U.eventCount))return;const I=U.handlers;if(y){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const F=ev(R),j=b.hovered.get(F);j?j.stopped&&R.stopPropagation():(b.hovered.set(F,R),I.onPointerOver==null||I.onPointerOver(R),I.onPointerEnter==null||I.onPointerEnter(R))}I.onPointerMove==null||I.onPointerMove(R)}else{const F=I[h];F?(!S||b.initialHits.includes(O))&&(c(x,b.interaction.filter(j=>!b.initialHits.includes(j))),F(R)):S&&b.initialHits.includes(O)&&c(x,b.interaction.filter(j=>!b.initialHits.includes(j)))}}s(M,x,_,C)}}return{handlePointer:u}}const gT=i=>!!(i!=null&&i.render),jC=ce.createContext(null),vH=(i,e)=>{const t=W9((u,h)=>{const p=new ue,x=new ue,v=new ue;function b(_=h().camera,C=x,R=h().size){const{width:O,height:U,top:I,left:F}=R,j=O/U;C.isVector3?v.copy(C):v.set(...C);const B=_.getWorldPosition(p).distanceTo(v);if(BC(_))return{width:O/_.zoom,height:U/_.zoom,top:I,left:F,factor:1,distance:B,aspect:j};{const k=_.fov*Math.PI/180,J=2*Math.tan(k/2)*B,Y=J*(O/U);return{width:Y,height:J,top:I,left:F,factor:O/Y,distance:B,aspect:j}}}let y;const S=_=>u(C=>({performance:{...C.performance,current:_}})),E=new $e;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(_=1)=>i(h(),_),advance:(_,C)=>e(_,C,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new IS,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=h();y&&clearTimeout(y),_.performance.current!==_.performance.min&&S(_.performance.min),y=setTimeout(()=>S(h().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:b},setEvents:_=>u(C=>({...C,events:{...C.events,..._}})),setSize:(_,C,R=0,O=0)=>{const U=h().camera,I={width:_,height:C,top:R,left:O};u(F=>({size:I,viewport:{...F.viewport,...b(U,x,I)}}))},setDpr:_=>u(C=>{const R=kC(_);return{viewport:{...C.viewport,dpr:R,initialDpr:C.viewport.initialDpr||R}}}),setFrameloop:(_="always")=>{const C=h().clock;C.stop(),C.elapsedTime=0,_!=="never"&&(C.start(),C.elapsedTime=0),u(()=>({frameloop:_}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ce.createRef(),active:!1,frames:0,priority:0,subscribe:(_,C,R)=>{const O=h().internal;return O.priority=O.priority+(C>0?1:0),O.subscribers.push({ref:_,priority:C,store:R}),O.subscribers=O.subscribers.sort((U,I)=>U.priority-I.priority),()=>{const U=h().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(C>0?1:0),U.subscribers=U.subscribers.filter(I=>I.ref!==_))}}}}}),n=t.getState();let s=n.size,o=n.viewport.dpr,c=n.camera;return t.subscribe(()=>{const{camera:u,size:h,viewport:p,gl:x,set:v}=t.getState();if(h.width!==s.width||h.height!==s.height||p.dpr!==o){s=h,o=p.dpr,mH(u,h),p.dpr>0&&x.setPixelRatio(p.dpr);const b=typeof HTMLCanvasElement<"u"&&x.domElement instanceof HTMLCanvasElement;x.setSize(h.width,h.height,b)}u!==c&&(c=u,v(b=>({viewport:{...b.viewport,...b.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>i(u)),t};function VC(){const i=ce.useContext(jC);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Xc(i=t=>t,e){return VC()(i,e)}function ob(i,e=0){const t=VC(),n=t.getState().internal.subscribe,s=PC(i);return P0(()=>n(s,e,t),[e,n,t]),null}function yH(i){const e=$9(i);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ce.version}),e}const GC=0,Oh={},bH=/^three(?=[A-Z])/,lb=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let _H=0;const SH=i=>typeof i=="function";function EH(i){if(SH(i)){const e=`${_H++}`;return Oh[e]=i,e}else Object.assign(Oh,i)}function YC(i,e){const t=lb(i),n=Oh[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function MH(i,e,t){var n;return i=lb(i)in Oh?i:i.replace(bH,""),YC(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,fy(e.object,t,i,e)}function TH(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?py(i.parent,i):Is(i.object)&&(i.object.visible=!1),i.isHidden=!0,Gh(i)}}function XC(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?hy(i.parent,i):Is(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,Gh(i)}}function HS(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var s,o;const c=Oh[lb(e.type)];e.object=(s=e.props.object)!=null?s:new c(...(o=e.props.args)!=null?o:[]),e.object.__r3f=e}if(Zc(e.object,e.props),e.props.attach)hy(i,e);else if(Is(e.object)&&Is(i.object)){const c=i.object.children.indexOf(t==null?void 0:t.object);if(t&&c!==-1){const u=i.object.children.indexOf(e.object);if(u!==-1){i.object.children.splice(u,1);const h=u<c?c-1:c;i.object.children.splice(h,0,e.object)}else e.object.parent=i.object,i.object.children.splice(c,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const c of e.children)HS(e,c);Gh(e)}}function a1(i,e){e&&(e.parent=i,i.children.push(e),HS(i,e))}function xT(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),HS(i,e,t)}function qC(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():hT.unstable_scheduleCallback(hT.unstable_IdlePriority,e)}}function O1(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?py(i,e):Is(e.object)&&Is(i.object)&&(i.object.remove(e.object),gH(zC(e),e.object));const s=e.props.dispose!==null&&t!==!1;for(let o=e.children.length-1;o>=0;o--){const c=e.children[o];O1(e,c,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&qC(e.object),t===void 0&&Gh(e)}function wH(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const uv=[];function AH(){for(const[t]of uv){const n=t.parent;if(n){t.props.attach?py(n,t):Is(t.object)&&Is(n.object)&&n.object.remove(t.object);for(const s of t.children)s.props.attach?py(t,s):Is(s.object)&&Is(t.object)&&t.object.remove(s.object)}t.isHidden&&XC(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&qC(t.object)}for(const[t,n,s]of uv){t.props=n;const o=t.parent;if(o){var i,e;const c=Oh[lb(t.type)];t.object=(i=t.props.object)!=null?i:new c(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,wH(s,t.object),Zc(t.object,t.props),t.props.attach?hy(o,t):Is(t.object)&&Is(o.object)&&o.object.add(t.object);for(const u of t.children)u.props.attach?hy(t,u):Is(u.object)&&Is(t.object)&&t.object.add(u.object);Gh(t)}}uv.length=0}const s1=()=>{},vT={};let tv=GC;const CH=0,NH=4,U1=yH({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:MH,removeChild:O1,appendChild:a1,appendInitialChild:a1,insertBefore:xT,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||a1(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||O1(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||xT(n,e,t)},getRootHostContext:()=>vT,getChildHostContext:()=>vT,commitUpdate(i,e,t,n,s){var o,c,u;YC(e,n);let h=!1;if((i.type==="primitive"&&t.object!==n.object||((o=n.args)==null?void 0:o.length)!==((c=t.args)==null?void 0:c.length)||(u=n.args)!=null&&u.some((x,v)=>{var b;return x!==((b=t.args)==null?void 0:b[v])}))&&(h=!0),h)uv.push([i,{...n},s]);else{const x=fH(i,n);Object.keys(x).length&&(Object.assign(i.props,x),Zc(i.object,x))}(s.sibling===null||(s.flags&NH)===CH)&&AH()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i==null?void 0:i.object,prepareForCommit:()=>null,preparePortalMount:i=>fy(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:TH,unhideInstance:XC,createTextInstance:s1,hideTextInstance:s1,unhideTextInstance:s1,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ce.createContext(null),setCurrentUpdatePriority(i){tv=i},getCurrentUpdatePriority(){return tv},resolveUpdatePriority(){var i;if(tv!==GC)return tv;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return rv.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return rv.ContinuousEventPriority;default:return rv.DefaultEventPriority}},resetFormInstance(){}}),Rd=new Map,hh={objects:"shallow",strict:!1};function RH(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:s,left:o}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:s,left:o}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function DH(i){const e=Rd.get(i),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,o=n||vH(z1,bT),c=t||U1.createContainer(o,rv.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||Rd.set(i,{fiber:c,store:o});let u,h,p=!1,x=null;return{async configure(v={}){let b;x=new Promise(G=>b=G);let{gl:y,size:S,scene:E,events:M,onCreated:_,shadows:C=!1,linear:R=!1,flat:O=!1,legacy:U=!1,orthographic:I=!1,frameloop:F="always",dpr:j=[1,2],performance:B,raycaster:k,camera:J,onPointerMissed:Y}=v,Z=o.getState(),L=Z.gl;if(!Z.gl){const G={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},$=typeof y=="function"?await y(G):y;gT($)?L=$:L=new DC({...G,...y}),Z.set({gl:L})}let re=Z.raycaster;re||Z.set({raycaster:re=new EC});const{params:q,...W}=k||{};if(Mi.equ(W,re,hh)||Zc(re,{...W}),Mi.equ(q,re.params,hh)||Zc(re,{params:{...re.params,...q}}),!Z.camera||Z.camera===h&&!Mi.equ(h,J,hh)){h=J;const G=J==null?void 0:J.isCamera,$=G?J:I?new $c(0,0,0,0,.1,1e3):new Hi(75,0,.1,1e3);G||($.position.z=5,J&&(Zc($,J),$.manual||("aspect"in J||"left"in J||"right"in J||"bottom"in J||"top"in J)&&($.manual=!0,$.updateProjectionMatrix())),!Z.camera&&!(J!=null&&J.rotation)&&$.lookAt(0,0,0)),Z.set({camera:$}),re.camera=$}if(!Z.scene){let G;E!=null&&E.isScene?(G=E,fy(G,o,"",{})):(G=new hS,fy(G,o,"",{}),E&&Zc(G,E)),Z.set({scene:G})}M&&!Z.events.handlers&&Z.set({events:M(o)});const te=RH(i,S);if(Mi.equ(te,Z.size,hh)||Z.setSize(te.width,te.height,te.top,te.left),j&&Z.viewport.dpr!==kC(j)&&Z.setDpr(j),Z.frameloop!==F&&Z.setFrameloop(F),Z.onPointerMissed||Z.set({onPointerMissed:Y}),B&&!Mi.equ(B,Z.performance,hh)&&Z.set(G=>({performance:{...G.performance,...B}})),!Z.xr){var oe;const G=(de,xe)=>{const ge=o.getState();ge.frameloop!=="never"&&bT(de,!0,ge,xe)},$=()=>{const de=o.getState();de.gl.xr.enabled=de.gl.xr.isPresenting,de.gl.xr.setAnimationLoop(de.gl.xr.isPresenting?G:null),de.gl.xr.isPresenting||z1(de)},se={connect(){const de=o.getState().gl;de.xr.addEventListener("sessionstart",$),de.xr.addEventListener("sessionend",$)},disconnect(){const de=o.getState().gl;de.xr.removeEventListener("sessionstart",$),de.xr.removeEventListener("sessionend",$)}};typeof((oe=L.xr)==null?void 0:oe.addEventListener)=="function"&&se.connect(),Z.set({xr:se})}if(L.shadowMap){const G=L.shadowMap.enabled,$=L.shadowMap.type;if(L.shadowMap.enabled=!!C,Mi.boo(C))L.shadowMap.type=jm;else if(Mi.str(C)){var Se;const se={basic:Uw,percentage:wy,soft:jm,variance:io};L.shadowMap.type=(Se=se[C])!=null?Se:jm}else Mi.obj(C)&&Object.assign(L.shadowMap,C);(G!==L.shadowMap.enabled||$!==L.shadowMap.type)&&(L.shadowMap.needsUpdate=!0)}return Nn.enabled=!U,p||(L.outputColorSpace=R?nu:Wa,L.toneMapping=O?el:$1),Z.legacy!==U&&Z.set(()=>({legacy:U})),Z.linear!==R&&Z.set(()=>({linear:R})),Z.flat!==O&&Z.set(()=>({flat:O})),y&&!Mi.fun(y)&&!gT(y)&&!Mi.equ(y,L,hh)&&Zc(L,y),u=_,p=!0,b(),this},render(v){return!p&&!x&&this.configure(),x.then(()=>{U1.updateContainer(A.jsx(OH,{store:o,children:v,onCreated:u,rootElement:i}),c,null,()=>{})}),o},unmount(){WC(i)}}}function OH({store:i,children:e,onCreated:t,rootElement:n}){return P0(()=>{const s=i.getState();s.set(o=>({internal:{...o.internal,active:!0}})),t&&t(s),i.getState().events.connected||s.events.connect==null||s.events.connect(n)},[]),A.jsx(jC.Provider,{value:i,children:e})}function WC(i,e){const t=Rd.get(i),n=t==null?void 0:t.fiber;if(n){const s=t==null?void 0:t.store.getState();s&&(s.internal.active=!1),U1.updateContainer(null,n,null,()=>{s&&setTimeout(()=>{try{var o,c,u,h;s.events.disconnect==null||s.events.disconnect(),(o=s.gl)==null||(c=o.renderLists)==null||c.dispose==null||c.dispose(),(u=s.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=s.gl)!=null&&h.xr&&s.xr.disconnect(),cH(s.scene),Rd.delete(i)}catch{}},500)})}}const UH=new Set,IH=new Set,LH=new Set;function r1(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function Jm(i,e){switch(i){case"before":return r1(UH,e);case"after":return r1(IH,e);case"tail":return r1(LH,e)}}let o1,l1;function I1(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),o1=e.internal.subscribers;for(let s=0;s<o1.length;s++)l1=o1[s],l1.ref.current(l1.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let my=!1,L1=!1,c1,yT,ph;function ZC(i){yT=requestAnimationFrame(ZC),my=!0,c1=0,Jm("before",i),L1=!0;for(const t of Rd.values()){var e;ph=t.store.getState(),ph.internal.active&&(ph.frameloop==="always"||ph.internal.frames>0)&&!((e=ph.gl.xr)!=null&&e.isPresenting)&&(c1+=I1(i,ph))}if(L1=!1,Jm("after",i),c1===0)return Jm("tail",i),my=!1,cancelAnimationFrame(yT)}function z1(i,e=1){var t;if(!i)return Rd.forEach(n=>z1(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):L1?i.internal.frames=2:i.internal.frames=1,my||(my=!0,requestAnimationFrame(ZC)))}function bT(i,e=!0,t,n){if(e&&Jm("before",i),t)I1(i,t,n);else for(const s of Rd.values())I1(i,s.store.getState());e&&Jm("after",i)}const u1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function zH(i){const{handlePointer:e}=xH(i);return{priority:1,enabled:!0,compute(t,n,s){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(u1).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:s}=i.getState();(t=s.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(s.lastEvent.current)},connect:t=>{const{set:n,events:s}=i.getState();if(s.disconnect==null||s.disconnect(),n(o=>({events:{...o.events,connected:t}})),s.handlers)for(const o in s.handlers){const c=s.handlers[o],[u,h]=u1[o];t.addEventListener(u,c,{passive:h})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const s in n.handlers){const o=n.handlers[s],[c]=u1[s];n.connected.removeEventListener(c,o)}t(s=>({events:{...s.events,connected:void 0}}))}}}}function _T(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function BH({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,c]=ce.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=ce.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),h=i?typeof i=="number"?i:i.scroll:null,p=i?typeof i=="number"?i:i.resize:null,x=ce.useRef(!1);ce.useEffect(()=>(x.current=!0,()=>void(x.current=!1)));const[v,b,y]=ce.useMemo(()=>{const _=()=>{if(!u.current.element)return;const{left:C,top:R,width:O,height:U,bottom:I,right:F,x:j,y:B}=u.current.element.getBoundingClientRect(),k={left:C,top:R,width:O,height:U,bottom:I,right:F,x:j,y:B};u.current.element instanceof HTMLElement&&n&&(k.height=u.current.element.offsetHeight,k.width=u.current.element.offsetWidth),Object.freeze(k),x.current&&!HH(u.current.lastBounds,k)&&c(u.current.lastBounds=k)};return[_,p?_T(_,p):_,h?_T(_,h):_]},[c,n,h,p]);function S(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function E(){u.current.element&&(u.current.resizeObserver=new s(y),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const M=_=>{!_||_===u.current.element||(S(),u.current.element=_,u.current.scrollContainers=KC(_),E())};return kH(y,!!e),PH(b),ce.useEffect(()=>{S(),E()},[e,y,b]),ce.useEffect(()=>S,[]),[M,o,v]}function PH(i){ce.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function kH(i,e){ce.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function KC(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:s}=window.getComputedStyle(i);return[t,n,s].some(o=>o==="auto"||o==="scroll")&&e.push(i),[...e,...KC(i.parentElement)]}const FH=["x","y","top","bottom","left","right","width","height"],HH=(i,e)=>FH.every(t=>i[t]===e[t]);function jH({ref:i,children:e,fallback:t,resize:n,style:s,gl:o,events:c=zH,eventSource:u,eventPrefix:h,shadows:p,linear:x,flat:v,legacy:b,orthographic:y,frameloop:S,dpr:E,performance:M,raycaster:_,camera:C,scene:R,onPointerMissed:O,onCreated:U,...I}){ce.useMemo(()=>EH(B9),[]);const F=rH(),[j,B]=BH({scroll:!0,debounce:{scroll:50,resize:0},...n}),k=ce.useRef(null),J=ce.useRef(null);ce.useImperativeHandle(i,()=>k.current);const Y=PC(O),[Z,L]=ce.useState(!1),[re,q]=ce.useState(!1);if(Z)throw Z;if(re)throw re;const W=ce.useRef(null);P0(()=>{const oe=k.current;if(B.width>0&&B.height>0&&oe){W.current||(W.current=DH(oe));async function Se(){await W.current.configure({gl:o,scene:R,events:c,shadows:p,linear:x,flat:v,legacy:b,orthographic:y,frameloop:S,dpr:E,performance:M,raycaster:_,camera:C,size:B,onPointerMissed:(...G)=>Y.current==null?void 0:Y.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(u?aH(u)?u.current:u:J.current),h&&G.setEvents({compute:($,se)=>{const de=$[h+"X"],xe=$[h+"Y"];se.pointer.set(de/se.size.width*2-1,-(xe/se.size.height)*2+1),se.raycaster.setFromCamera(se.pointer,se.camera)}}),U==null||U(G)}}),W.current.render(A.jsx(F,{children:A.jsx(lH,{set:q,children:A.jsx(ce.Suspense,{fallback:A.jsx(oH,{set:L}),children:e??null})})}))}Se()}}),ce.useEffect(()=>{const oe=k.current;if(oe)return()=>WC(oe)},[]);const te=u?"none":"auto";return A.jsx("div",{ref:J,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:te,...s},...I,children:A.jsx("div",{ref:j,style:{width:"100%",height:"100%"},children:A.jsx("canvas",{ref:k,style:{display:"block"},children:t})})})}function JC(i){return A.jsx(IC,{children:A.jsx(jH,{...i})})}function B1(){return B1=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},B1.apply(null,arguments)}var VH=Object.defineProperty,GH=(i,e,t)=>e in i?VH(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,YH=(i,e,t)=>(GH(i,e+"",t),t);class XH{constructor(){YH(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const s=n.slice(0);for(let o=0,c=s.length;o<c;o++)s[o].call(this,e);e.target=null}}}var qH=Object.defineProperty,WH=(i,e,t)=>e in i?qH(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Vt=(i,e,t)=>(WH(i,typeof e!="symbol"?e+"":e,t),t);const nv=new Od,ST=new Gl,ZH=Math.cos(70*(Math.PI/180)),ET=(i,e)=>(i%e+e)%e;let KH=class extends XH{constructor(e,t){super(),Vt(this,"object"),Vt(this,"domElement"),Vt(this,"enabled",!0),Vt(this,"target",new ue),Vt(this,"minDistance",0),Vt(this,"maxDistance",1/0),Vt(this,"minZoom",0),Vt(this,"maxZoom",1/0),Vt(this,"minPolarAngle",0),Vt(this,"maxPolarAngle",Math.PI),Vt(this,"minAzimuthAngle",-1/0),Vt(this,"maxAzimuthAngle",1/0),Vt(this,"enableDamping",!1),Vt(this,"dampingFactor",.05),Vt(this,"enableZoom",!0),Vt(this,"zoomSpeed",1),Vt(this,"enableRotate",!0),Vt(this,"rotateSpeed",1),Vt(this,"enablePan",!0),Vt(this,"panSpeed",1),Vt(this,"screenSpacePanning",!0),Vt(this,"keyPanSpeed",7),Vt(this,"zoomToCursor",!1),Vt(this,"autoRotate",!1),Vt(this,"autoRotateSpeed",2),Vt(this,"reverseOrbit",!1),Vt(this,"reverseHorizontalOrbit",!1),Vt(this,"reverseVerticalOrbit",!1),Vt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Vt(this,"mouseButtons",{LEFT:gd.ROTATE,MIDDLE:gd.DOLLY,RIGHT:gd.PAN}),Vt(this,"touches",{ONE:xd.ROTATE,TWO:xd.DOLLY_PAN}),Vt(this,"target0"),Vt(this,"position0"),Vt(this,"zoom0"),Vt(this,"_domElementKeyEvents",null),Vt(this,"getPolarAngle"),Vt(this,"getAzimuthalAngle"),Vt(this,"setPolarAngle"),Vt(this,"setAzimuthalAngle"),Vt(this,"getDistance"),Vt(this,"getZoomScale"),Vt(this,"listenToKeyEvents"),Vt(this,"stopListenToKeyEvents"),Vt(this,"saveState"),Vt(this,"reset"),Vt(this,"update"),Vt(this,"connect"),Vt(this,"dispose"),Vt(this,"dollyIn"),Vt(this,"dollyOut"),Vt(this,"getScale"),Vt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>x.phi,this.getAzimuthalAngle=()=>x.theta,this.setPolarAngle=pe=>{let Ie=ET(pe,2*Math.PI),nt=x.phi;nt<0&&(nt+=2*Math.PI),Ie<0&&(Ie+=2*Math.PI);let me=Math.abs(Ie-nt);2*Math.PI-me<me&&(Ie<nt?Ie+=2*Math.PI:nt+=2*Math.PI),v.phi=Ie-nt,n.update()},this.setAzimuthalAngle=pe=>{let Ie=ET(pe,2*Math.PI),nt=x.theta;nt<0&&(nt+=2*Math.PI),Ie<0&&(Ie+=2*Math.PI);let me=Math.abs(Ie-nt);2*Math.PI-me<me&&(Ie<nt?Ie+=2*Math.PI:nt+=2*Math.PI),v.theta=Ie-nt,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=pe=>{pe.addEventListener("keydown",Ce),this._domElementKeyEvents=pe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ce),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(s),n.update(),h=u.NONE},this.update=(()=>{const pe=new ue,Ie=new ue(0,1,0),nt=new Ka().setFromUnitVectors(e.up,Ie),me=nt.clone().invert(),it=new ue,at=new Ka,Je=2*Math.PI;return function(){const Xe=n.object.position;nt.setFromUnitVectors(e.up,Ie),me.copy(nt).invert(),pe.copy(Xe).sub(n.target),pe.applyQuaternion(nt),x.setFromVector3(pe),n.autoRotate&&h===u.NONE&&L(Y()),n.enableDamping?(x.theta+=v.theta*n.dampingFactor,x.phi+=v.phi*n.dampingFactor):(x.theta+=v.theta,x.phi+=v.phi);let ct=n.minAzimuthAngle,Et=n.maxAzimuthAngle;isFinite(ct)&&isFinite(Et)&&(ct<-Math.PI?ct+=Je:ct>Math.PI&&(ct-=Je),Et<-Math.PI?Et+=Je:Et>Math.PI&&(Et-=Je),ct<=Et?x.theta=Math.max(ct,Math.min(Et,x.theta)):x.theta=x.theta>(ct+Et)/2?Math.max(ct,x.theta):Math.min(Et,x.theta)),x.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,x.phi)),x.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(y,n.dampingFactor):n.target.add(y),n.zoomToCursor&&B||n.object.isOrthographicCamera?x.radius=se(x.radius):x.radius=se(x.radius*b),pe.setFromSpherical(x),pe.applyQuaternion(me),Xe.copy(n.target).add(pe),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(v.theta*=1-n.dampingFactor,v.phi*=1-n.dampingFactor,y.multiplyScalar(1-n.dampingFactor)):(v.set(0,0,0),y.set(0,0,0));let kt=!1;if(n.zoomToCursor&&B){let Ft=null;if(n.object instanceof Hi&&n.object.isPerspectiveCamera){const In=pe.length();Ft=se(In*b);const dn=In-Ft;n.object.position.addScaledVector(F,dn),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const In=new ue(j.x,j.y,0);In.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/b)),n.object.updateProjectionMatrix(),kt=!0;const dn=new ue(j.x,j.y,0);dn.unproject(n.object),n.object.position.sub(dn).add(In),n.object.updateMatrixWorld(),Ft=pe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Ft!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Ft).add(n.object.position):(nv.origin.copy(n.object.position),nv.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(nv.direction))<ZH?e.lookAt(n.target):(ST.setFromNormalAndCoplanarPoint(n.object.up,n.target),nv.intersectPlane(ST,n.target))))}else n.object instanceof $c&&n.object.isOrthographicCamera&&(kt=b!==1,kt&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/b)),n.object.updateProjectionMatrix()));return b=1,B=!1,kt||it.distanceToSquared(n.object.position)>p||8*(1-at.dot(n.object.quaternion))>p?(n.dispatchEvent(s),it.copy(n.object.position),at.copy(n.object.quaternion),kt=!1,!0):!1}})(),this.connect=pe=>{n.domElement=pe,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",ht),n.domElement.addEventListener("pointerdown",ve),n.domElement.addEventListener("pointercancel",V),n.domElement.addEventListener("wheel",He)},this.dispose=()=>{var pe,Ie,nt,me,it,at;n.domElement&&(n.domElement.style.touchAction="auto"),(pe=n.domElement)==null||pe.removeEventListener("contextmenu",ht),(Ie=n.domElement)==null||Ie.removeEventListener("pointerdown",ve),(nt=n.domElement)==null||nt.removeEventListener("pointercancel",V),(me=n.domElement)==null||me.removeEventListener("wheel",He),(it=n.domElement)==null||it.ownerDocument.removeEventListener("pointermove",K),(at=n.domElement)==null||at.ownerDocument.removeEventListener("pointerup",V),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Ce)};const n=this,s={type:"change"},o={type:"start"},c={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=u.NONE;const p=1e-6,x=new dy,v=new dy;let b=1;const y=new ue,S=new $e,E=new $e,M=new $e,_=new $e,C=new $e,R=new $e,O=new $e,U=new $e,I=new $e,F=new ue,j=new $e;let B=!1;const k=[],J={};function Y(){return 2*Math.PI/60/60*n.autoRotateSpeed}function Z(){return Math.pow(.95,n.zoomSpeed)}function L(pe){n.reverseOrbit||n.reverseHorizontalOrbit?v.theta+=pe:v.theta-=pe}function re(pe){n.reverseOrbit||n.reverseVerticalOrbit?v.phi+=pe:v.phi-=pe}const q=(()=>{const pe=new ue;return function(nt,me){pe.setFromMatrixColumn(me,0),pe.multiplyScalar(-nt),y.add(pe)}})(),W=(()=>{const pe=new ue;return function(nt,me){n.screenSpacePanning===!0?pe.setFromMatrixColumn(me,1):(pe.setFromMatrixColumn(me,0),pe.crossVectors(n.object.up,pe)),pe.multiplyScalar(nt),y.add(pe)}})(),te=(()=>{const pe=new ue;return function(nt,me){const it=n.domElement;if(it&&n.object instanceof Hi&&n.object.isPerspectiveCamera){const at=n.object.position;pe.copy(at).sub(n.target);let Je=pe.length();Je*=Math.tan(n.object.fov/2*Math.PI/180),q(2*nt*Je/it.clientHeight,n.object.matrix),W(2*me*Je/it.clientHeight,n.object.matrix)}else it&&n.object instanceof $c&&n.object.isOrthographicCamera?(q(nt*(n.object.right-n.object.left)/n.object.zoom/it.clientWidth,n.object.matrix),W(me*(n.object.top-n.object.bottom)/n.object.zoom/it.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function oe(pe){n.object instanceof Hi&&n.object.isPerspectiveCamera||n.object instanceof $c&&n.object.isOrthographicCamera?b=pe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Se(pe){oe(b/pe)}function G(pe){oe(b*pe)}function $(pe){if(!n.zoomToCursor||!n.domElement)return;B=!0;const Ie=n.domElement.getBoundingClientRect(),nt=pe.clientX-Ie.left,me=pe.clientY-Ie.top,it=Ie.width,at=Ie.height;j.x=nt/it*2-1,j.y=-(me/at)*2+1,F.set(j.x,j.y,1).unproject(n.object).sub(n.object.position).normalize()}function se(pe){return Math.max(n.minDistance,Math.min(n.maxDistance,pe))}function de(pe){S.set(pe.clientX,pe.clientY)}function xe(pe){$(pe),O.set(pe.clientX,pe.clientY)}function ge(pe){_.set(pe.clientX,pe.clientY)}function _e(pe){E.set(pe.clientX,pe.clientY),M.subVectors(E,S).multiplyScalar(n.rotateSpeed);const Ie=n.domElement;Ie&&(L(2*Math.PI*M.x/Ie.clientHeight),re(2*Math.PI*M.y/Ie.clientHeight)),S.copy(E),n.update()}function Le(pe){U.set(pe.clientX,pe.clientY),I.subVectors(U,O),I.y>0?Se(Z()):I.y<0&&G(Z()),O.copy(U),n.update()}function Ye(pe){C.set(pe.clientX,pe.clientY),R.subVectors(C,_).multiplyScalar(n.panSpeed),te(R.x,R.y),_.copy(C),n.update()}function qe(pe){$(pe),pe.deltaY<0?G(Z()):pe.deltaY>0&&Se(Z()),n.update()}function ut(pe){let Ie=!1;switch(pe.code){case n.keys.UP:te(0,n.keyPanSpeed),Ie=!0;break;case n.keys.BOTTOM:te(0,-n.keyPanSpeed),Ie=!0;break;case n.keys.LEFT:te(n.keyPanSpeed,0),Ie=!0;break;case n.keys.RIGHT:te(-n.keyPanSpeed,0),Ie=!0;break}Ie&&(pe.preventDefault(),n.update())}function St(){if(k.length==1)S.set(k[0].pageX,k[0].pageY);else{const pe=.5*(k[0].pageX+k[1].pageX),Ie=.5*(k[0].pageY+k[1].pageY);S.set(pe,Ie)}}function mt(){if(k.length==1)_.set(k[0].pageX,k[0].pageY);else{const pe=.5*(k[0].pageX+k[1].pageX),Ie=.5*(k[0].pageY+k[1].pageY);_.set(pe,Ie)}}function P(){const pe=k[0].pageX-k[1].pageX,Ie=k[0].pageY-k[1].pageY,nt=Math.sqrt(pe*pe+Ie*Ie);O.set(0,nt)}function X(){n.enableZoom&&P(),n.enablePan&&mt()}function he(){n.enableZoom&&P(),n.enableRotate&&St()}function ee(pe){if(k.length==1)E.set(pe.pageX,pe.pageY);else{const nt=_t(pe),me=.5*(pe.pageX+nt.x),it=.5*(pe.pageY+nt.y);E.set(me,it)}M.subVectors(E,S).multiplyScalar(n.rotateSpeed);const Ie=n.domElement;Ie&&(L(2*Math.PI*M.x/Ie.clientHeight),re(2*Math.PI*M.y/Ie.clientHeight)),S.copy(E)}function Q(pe){if(k.length==1)C.set(pe.pageX,pe.pageY);else{const Ie=_t(pe),nt=.5*(pe.pageX+Ie.x),me=.5*(pe.pageY+Ie.y);C.set(nt,me)}R.subVectors(C,_).multiplyScalar(n.panSpeed),te(R.x,R.y),_.copy(C)}function le(pe){const Ie=_t(pe),nt=pe.pageX-Ie.x,me=pe.pageY-Ie.y,it=Math.sqrt(nt*nt+me*me);U.set(0,it),I.set(0,Math.pow(U.y/O.y,n.zoomSpeed)),Se(I.y),O.copy(U)}function Te(pe){n.enableZoom&&le(pe),n.enablePan&&Q(pe)}function Me(pe){n.enableZoom&&le(pe),n.enableRotate&&ee(pe)}function ve(pe){var Ie,nt;n.enabled!==!1&&(k.length===0&&((Ie=n.domElement)==null||Ie.ownerDocument.addEventListener("pointermove",K),(nt=n.domElement)==null||nt.ownerDocument.addEventListener("pointerup",V)),gt(pe),pe.pointerType==="touch"?ft(pe):fe(pe))}function K(pe){n.enabled!==!1&&(pe.pointerType==="touch"?rt(pe):we(pe))}function V(pe){var Ie,nt,me;Ve(pe),k.length===0&&((Ie=n.domElement)==null||Ie.releasePointerCapture(pe.pointerId),(nt=n.domElement)==null||nt.ownerDocument.removeEventListener("pointermove",K),(me=n.domElement)==null||me.ownerDocument.removeEventListener("pointerup",V)),n.dispatchEvent(c),h=u.NONE}function fe(pe){let Ie;switch(pe.button){case 0:Ie=n.mouseButtons.LEFT;break;case 1:Ie=n.mouseButtons.MIDDLE;break;case 2:Ie=n.mouseButtons.RIGHT;break;default:Ie=-1}switch(Ie){case gd.DOLLY:if(n.enableZoom===!1)return;xe(pe),h=u.DOLLY;break;case gd.ROTATE:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(n.enablePan===!1)return;ge(pe),h=u.PAN}else{if(n.enableRotate===!1)return;de(pe),h=u.ROTATE}break;case gd.PAN:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(n.enableRotate===!1)return;de(pe),h=u.ROTATE}else{if(n.enablePan===!1)return;ge(pe),h=u.PAN}break;default:h=u.NONE}h!==u.NONE&&n.dispatchEvent(o)}function we(pe){if(n.enabled!==!1)switch(h){case u.ROTATE:if(n.enableRotate===!1)return;_e(pe);break;case u.DOLLY:if(n.enableZoom===!1)return;Le(pe);break;case u.PAN:if(n.enablePan===!1)return;Ye(pe);break}}function He(pe){n.enabled===!1||n.enableZoom===!1||h!==u.NONE&&h!==u.ROTATE||(pe.preventDefault(),n.dispatchEvent(o),qe(pe),n.dispatchEvent(c))}function Ce(pe){n.enabled===!1||n.enablePan===!1||ut(pe)}function ft(pe){switch(tt(pe),k.length){case 1:switch(n.touches.ONE){case xd.ROTATE:if(n.enableRotate===!1)return;St(),h=u.TOUCH_ROTATE;break;case xd.PAN:if(n.enablePan===!1)return;mt(),h=u.TOUCH_PAN;break;default:h=u.NONE}break;case 2:switch(n.touches.TWO){case xd.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;X(),h=u.TOUCH_DOLLY_PAN;break;case xd.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;he(),h=u.TOUCH_DOLLY_ROTATE;break;default:h=u.NONE}break;default:h=u.NONE}h!==u.NONE&&n.dispatchEvent(o)}function rt(pe){switch(tt(pe),h){case u.TOUCH_ROTATE:if(n.enableRotate===!1)return;ee(pe),n.update();break;case u.TOUCH_PAN:if(n.enablePan===!1)return;Q(pe),n.update();break;case u.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Te(pe),n.update();break;case u.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Me(pe),n.update();break;default:h=u.NONE}}function ht(pe){n.enabled!==!1&&pe.preventDefault()}function gt(pe){k.push(pe)}function Ve(pe){delete J[pe.pointerId];for(let Ie=0;Ie<k.length;Ie++)if(k[Ie].pointerId==pe.pointerId){k.splice(Ie,1);return}}function tt(pe){let Ie=J[pe.pointerId];Ie===void 0&&(Ie=new $e,J[pe.pointerId]=Ie),Ie.set(pe.pageX,pe.pageY)}function _t(pe){const Ie=pe.pointerId===k[0].pointerId?k[1]:k[0];return J[Ie.pointerId]}this.dollyIn=(pe=Z())=>{G(pe),n.update()},this.dollyOut=(pe=Z())=>{Se(pe),n.update()},this.getScale=()=>b,this.setScale=pe=>{oe(pe),n.update()},this.getZoomScale=()=>Z(),t!==void 0&&this.connect(t),this.update()}};const JH=()=>parseInt(C0.replace(/\D+/g,"")),QH=JH(),QC=ce.forwardRef(({makeDefault:i,camera:e,regress:t,domElement:n,enableDamping:s=!0,keyEvents:o=!1,onChange:c,onStart:u,onEnd:h,...p},x)=>{const v=Xc(I=>I.invalidate),b=Xc(I=>I.camera),y=Xc(I=>I.gl),S=Xc(I=>I.events),E=Xc(I=>I.setEvents),M=Xc(I=>I.set),_=Xc(I=>I.get),C=Xc(I=>I.performance),R=e||b,O=n||S.connected||y.domElement,U=ce.useMemo(()=>new KH(R),[R]);return ob(()=>{U.enabled&&U.update()},-1),ce.useEffect(()=>(o&&U.connect(o===!0?O:o),U.connect(O),()=>void U.dispose()),[o,O,t,U,v]),ce.useEffect(()=>{const I=B=>{v(),t&&C.regress(),c&&c(B)},F=B=>{u&&u(B)},j=B=>{h&&h(B)};return U.addEventListener("change",I),U.addEventListener("start",F),U.addEventListener("end",j),()=>{U.removeEventListener("start",F),U.removeEventListener("end",j),U.removeEventListener("change",I)}},[c,u,h,U,v,E]),ce.useEffect(()=>{if(i){const I=_().controls;return M({controls:U}),()=>M({controls:I})}},[i,U]),ce.createElement("primitive",B1({ref:x,object:U,enableDamping:s},p))});class $H extends ir{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${QH>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const e7=i=>new ue().setFromSpherical(new dy(i,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),$C=ce.forwardRef(({radius:i=100,depth:e=50,count:t=5e3,saturation:n=0,factor:s=4,fade:o=!1,speed:c=1},u)=>{const h=ce.useRef(null),[p,x,v]=ce.useMemo(()=>{const y=[],S=[],E=Array.from({length:t},()=>(.5+.5*Math.random())*s),M=new bt;let _=i+e;const C=e/t;for(let R=0;R<t;R++)_-=C*Math.random(),y.push(...e7(_).toArray()),M.setHSL(R/t,n,.9),S.push(M.r,M.g,M.b);return[new Float32Array(y),new Float32Array(S),new Float32Array(E)]},[t,e,s,i,n]);ob(y=>h.current&&(h.current.uniforms.time.value=y.clock.elapsedTime*c));const[b]=ce.useState(()=>new $H);return ce.createElement("points",{ref:u},ce.createElement("bufferGeometry",null,ce.createElement("bufferAttribute",{attach:"attributes-position",args:[p,3]}),ce.createElement("bufferAttribute",{attach:"attributes-color",args:[x,3]}),ce.createElement("bufferAttribute",{attach:"attributes-size",args:[v,1]})),ce.createElement("primitive",{ref:h,object:b,attach:"material",blending:n0,"uniforms-fade-value":o,depthWrite:!1,transparent:!0,vertexColors:!0}))}),t7=`
  attribute float scale;
  attribute vec3 customColor;
  varying vec3 vColor;
  varying float vDistance;
  
  void main() {
    vColor = customColor;
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    
    // Distance from center for some shader tricks
    vDistance = length(position);
    
    gl_PointSize = scale * (600.0 / -mvPosition.z);
    gl_Position = projectionMatrix * mvPosition;
  }
`,n7=`
  varying vec3 vColor;
  varying float vDistance;
  
  void main() {
    // Circular particle
    float r = distance(gl_PointCoord, vec2(0.5));
    if (r > 0.5) discard;
    
    // Glow calculation - sharper core, softer glow
    float strength = 1.0 - (r * 2.0);
    strength = pow(strength, 4.0); // Sharper falloff for less "bloom"
    
    // Add "sparkle" variation
    float sparkle = 1.0;
    
    vec3 finalColor = vColor;
    
    // Boost brightness at the center of the particle
    finalColor += vec3(0.2) * strength;
    
    gl_FragColor = vec4(finalColor, strength * 0.5); // More transparent for darker look
  }
`,i7=()=>{const i=ce.useRef(null),e=ce.useMemo(()=>{const n=new Float32Array(36e4),s=new Float32Array(12e4*3),o=new Float32Array(12e4),c=new bt("#ffffff"),u=new bt("#cccccc"),h=new bt("#666666"),p=new bt("#1a1a1a"),x=new bt("#000000");for(let v=0;v<12e4;v++){const b=v*3,y=Math.random()*30,S=3,E=2.5,M=v%S*(Math.PI*2/S),_=y*E*.2,C=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(y*.3+1),R=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(y*.2+.5),O=Math.pow(Math.random(),3)*(Math.random()<.5?1:-1)*(y*.3+1);n[b]=Math.cos(M+_)*y+C,n[b+1]=R,n[b+2]=Math.sin(M+_)*y+O;const U=c.clone();y<5?U.lerp(u,y/5):y<12?U.copy(u).lerp(h,(y-5)/7):y<20?U.copy(h).lerp(p,(y-12)/8):U.copy(p).lerp(x,(y-20)/10),U.r+=(Math.random()-.5)*.15,U.g+=(Math.random()-.5)*.15,U.b+=(Math.random()-.5)*.15,s[b]=U.r,s[b+1]=U.g,s[b+2]=U.b,o[v]=Math.random()*2,Math.random()<.005&&(o[v]*=4,s[b]+=.5,s[b+1]+=.5,s[b+2]+=.5)}return{positions:n,colors:s,scales:o,count:12e4}},[]);return ob(t=>{i.current&&(i.current.rotation.y=t.clock.getElapsedTime()*.03)}),A.jsxs("points",{ref:i,children:[A.jsxs("bufferGeometry",{children:[A.jsx("bufferAttribute",{attach:"attributes-position",count:e.count,array:e.positions,itemSize:3}),A.jsx("bufferAttribute",{attach:"attributes-customColor",count:e.count,array:e.colors,itemSize:3}),A.jsx("bufferAttribute",{attach:"attributes-scale",count:e.count,array:e.scales,itemSize:1})]}),A.jsx("shaderMaterial",{vertexShader:t7,fragmentShader:n7,transparent:!0,depthWrite:!1,blending:n0})]})},a7=()=>{const[i,e]=ce.useState(0),[t,n]=ce.useState(!1),s=[{title:"Andromeda-X",description:"A rare barred spiral galaxy located in the Deep Field. Known for its vibrant high-energy core and extensive star-forming regions composed of exotic matter.",stats:[{label:"Star Count",value:"~400 Billion",icon:Qo,color:"text-purple-300",bg:"bg-purple-500/20"},{label:"Energy Output",value:"Type III Civilization",icon:av,color:"text-blue-300",bg:"bg-blue-500/20"},{label:"Rotation Speed",value:"220 km/s",icon:Kb,color:"text-pink-300",bg:"bg-pink-500/20"}]},{title:"Milky Way Core",description:"The supermassive black hole Sagittarius A* resides here, surrounded by a dense cluster of ancient stars and high-velocity gas clouds orbiting at relativistic speeds.",stats:[{label:"Mass",value:"4.1 Million Suns",icon:av,color:"text-yellow-300",bg:"bg-yellow-500/20"},{label:"Diameter",value:"100,000 Light Years",icon:Kb,color:"text-green-300",bg:"bg-green-500/20"},{label:"Age",value:"13.6 Billion Years",icon:Qo,color:"text-orange-300",bg:"bg-orange-500/20"}]},{title:"Nebula Cluster",description:"A stellar nursery where new stars are born from collapsing clouds of dust and hydrogen gas. The vibrant colors indicate different ionized elements like oxygen and sulfur.",stats:[{label:"Temperature",value:"10,000 K",icon:av,color:"text-red-300",bg:"bg-red-500/20"},{label:"Span",value:"50 Light Years",icon:Kb,color:"text-cyan-300",bg:"bg-cyan-500/20"},{label:"Composition",value:"Hydrogen / Helium",icon:Qo,color:"text-indigo-300",bg:"bg-indigo-500/20"}]}];ce.useEffect(()=>{const c=setInterval(()=>{n(!0),setTimeout(()=>{e(u=>(u+1)%s.length),n(!1)},500)},8e3);return()=>clearInterval(c)},[]);const o=s[i];return A.jsxs("div",{className:"absolute bottom-0 left-0 w-full pointer-events-none flex justify-center pb-6",children:[A.jsx("div",{className:"w-full max-w-7xl mx-6 pointer-events-auto",children:A.jsxs("div",{className:"bg-black/80 backdrop-blur-2xl border border-white/10 rounded-xl p-4 text-white shadow-2xl relative overflow-hidden group transition-all duration-500 hover:bg-black/90",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-30"}),A.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-white/5 rounded-full blur-3xl group-hover:bg-white/10 transition-colors duration-1000"}),A.jsxs("div",{className:`relative z-10 transition-opacity duration-500 ${t?"opacity-0 translate-y-2":"opacity-100 translate-y-0"}`,children:[A.jsxs("div",{className:"flex flex-row items-center justify-between gap-8",children:[A.jsxs("div",{className:"flex-1 text-left flex items-center gap-6",children:[A.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight shrink-0 min-w-[200px]",children:o.title}),A.jsx("div",{className:"h-8 w-[1px] bg-white/10"}),A.jsx("p",{className:"text-xs text-gray-400 leading-relaxed font-light max-w-2xl line-clamp-2",children:o.description})]}),A.jsx("div",{className:"flex flex-row gap-4 shrink-0",children:o.stats.map((c,u)=>A.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 transition-colors",children:[A.jsx("div",{className:`p-1.5 rounded-md ${c.bg} ${c.color} shadow-inner`,children:A.jsx(c.icon,{size:14,className:"animate-pulse"})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[9px] text-gray-500 uppercase tracking-wider font-bold",children:c.label}),A.jsx("p",{className:"text-xs font-bold text-gray-200",children:c.value})]})]},u))})]}),A.jsx("div",{className:"absolute bottom-0 left-0 h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent w-full opacity-20",children:A.jsx("div",{className:"h-full bg-white/40 w-full origin-left animate-[progress_8s_linear]"},i)})]})]})}),A.jsx("style",{children:`
                @keyframes progress {
                    from { transform: scaleX(0); }
                    to { transform: scaleX(1); }
                }
            `})]})},s7=()=>A.jsxs("div",{className:"w-full h-full bg-[#050508] relative overflow-hidden",children:[A.jsxs(JC,{camera:{position:[0,25,45],fov:40},children:[A.jsx("color",{attach:"background",args:["#020203"]}),A.jsx(QC,{enableDamping:!0,dampingFactor:.05,minDistance:10,maxDistance:100,autoRotate:!1,autoRotateSpeed:.5}),A.jsx($C,{radius:200,depth:50,count:5e3,factor:4,saturation:.8,fade:!0,speed:.5}),A.jsx(i7,{}),A.jsx("ambientLight",{intensity:.1}),A.jsx("pointLight",{position:[0,0,0],intensity:2,distance:30,color:"#ffccaa"})]}),A.jsx(a7,{}),A.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:A.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-white/10 uppercase",children:"Galaxy"})})]}),r7=()=>{const e=ce.useRef(null),t=ce.useMemo(()=>new Rn,[]),n=ce.useMemo(()=>{const s=[];for(let o=0;o<1e3;o++){const c=Math.random()*100,u=20+Math.random()*100,h=.01+Math.random()/200,p=-50+Math.random()*100,x=-50+Math.random()*100,v=-50+Math.random()*100;s.push({t:c,factor:u,speed:h,xFactor:p,yFactor:x,zFactor:v,mx:0,my:0})}return s},[1e3]);return ob(s=>{e.current&&(n.forEach((o,c)=>{let{t:u,factor:h,speed:p,xFactor:x,yFactor:v,zFactor:b}=o;u=o.t+=p/2;const y=Math.cos(u)+Math.sin(u*1)/10,S=Math.sin(u)+Math.cos(u*2)/10,E=Math.cos(u);o.mx+=(s.mouse.x*100-o.mx)*.01,o.my+=(s.mouse.y*100-o.my)*.01,t.position.set(o.mx/10*y+x+Math.cos(u/10*h)+Math.sin(u*1)*h/10,o.my/10*S+v+Math.sin(u/10*h)+Math.cos(u*2)*h/10,o.my/10*S+b+Math.cos(u/10*h)+Math.sin(u*3)*h/10),t.scale.set(E,E,E),t.rotation.set(E*5,E*5,E*5),t.updateMatrix(),e.current.setMatrixAt(c,t.matrix)}),e.current.instanceMatrix.needsUpdate=!0)}),A.jsxs("instancedMesh",{ref:e,args:[void 0,void 0,1e3],children:[A.jsx("sphereGeometry",{args:[.05,8,8]}),A.jsx("meshStandardMaterial",{color:"#88ccff",transparent:!0,opacity:.6,roughness:0,metalness:.1})]})},o7=()=>A.jsxs("div",{className:"w-full h-full bg-[#001e36] relative overflow-hidden",children:[A.jsxs(JC,{camera:{position:[0,0,20],fov:50},children:[A.jsx("color",{attach:"background",args:["#001e36"]}),A.jsx("fog",{attach:"fog",args:["#001e36",5,40]}),A.jsx(QC,{enableDamping:!0,dampingFactor:.05,minDistance:5,maxDistance:30,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3}),A.jsx("ambientLight",{intensity:.4,color:"#004466"}),A.jsx("directionalLight",{position:[0,50,0],intensity:1.5,color:"#ccffff"}),A.jsx("pointLight",{position:[0,10,0],intensity:1,color:"#00ffff",distance:20}),A.jsx(r7,{}),A.jsx($C,{radius:50,depth:50,count:2e3,factor:2,saturation:0,fade:!0,speed:.5})]}),A.jsx("div",{className:"absolute top-8 right-8 text-right pointer-events-none select-none",children:A.jsx("h1",{className:"text-6xl font-thin tracking-[0.2em] text-cyan-100/20 uppercase drop-shadow-lg",children:"Deep Ocean"})})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var MT;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(MT||(MT={}));var TT;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(TT||(TT={}));var wT;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(wT||(wT={}));var AT;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(AT||(AT={}));var CT;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(CT||(CT={}));var NT;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(NT||(NT={}));var RT;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(RT||(RT={}));var DT;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(DT||(DT={}));var OT;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(OT||(OT={}));var UT;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(UT||(UT={}));var IT;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(IT||(IT={}));var LT;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(LT||(LT={}));var zT;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(zT||(zT={}));var BT;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(BT||(BT={}));var PT;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(PT||(PT={}));var kT;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kT||(kT={}));var FT;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(FT||(FT={}));var HT;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(HT||(HT={}));var jT;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jT||(jT={}));var VT;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(VT||(VT={}));var GT;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(GT||(GT={}));var YT;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(YT||(YT={}));var XT;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(XT||(XT={}));var qT;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qT||(qT={}));var WT;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(WT||(WT={}));var ZT;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ZT||(ZT={}));var KT;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(KT||(KT={}));var JT;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(JT||(JT={}));var QT;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(QT||(QT={}));var $T;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($T||($T={}));var e3;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(e3||(e3={}));var t3;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(t3||(t3={}));var n3;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(n3||(n3={}));var i3;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(i3||(i3={}));var a3;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(a3||(a3={}));var s3;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(s3||(s3={}));var r3;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(r3||(r3={}));var o3;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(o3||(o3={}));var l3;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(l3||(l3={}));var c3;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(c3||(c3={}));var u3;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(u3||(u3={}));var d3;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(d3||(d3={}));var f3;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(f3||(f3={}));var h3;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(h3||(h3={}));var p3;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(p3||(p3={}));var m3;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(m3||(m3={}));var g3;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(g3||(g3={}));var x3;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(x3||(x3={}));var v3;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(v3||(v3={}));var y3;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(y3||(y3={}));var b3;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(b3||(b3={}));var _3;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_3||(_3={}));var S3;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(S3||(S3={}));var E3;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(E3||(E3={}));var M3;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(M3||(M3={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var T3;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(T3||(T3={}));const l7=async i=>"API Key is missing. Please check your configuration.",c7=async(i,e)=>"API Key is missing.",u7=({isOpen:i,onClose:e,tasks:t})=>{const[n,s]=ce.useState(""),[o,c]=ce.useState([{role:"ai",text:"Hi! I'm ClickUp Brain. I can help you summarize tasks, suggest priorities, or answer questions about your workspace."}]),[u,h]=ce.useState(!1),p=ce.useRef(null);ce.useEffect(()=>{p.current&&p.current.scrollIntoView({behavior:"smooth"})},[o]);const x=async()=>{if(!n.trim())return;const b=n;s(""),c(S=>[...S,{role:"user",text:b}]),h(!0);const y=await c7();c(S=>[...S,{role:"ai",text:y}]),h(!1)},v=async b=>{h(!0),c(y=>[...y,{role:"user",text:"Generate a summary of my tasks."}]);{const y=await l7();c(S=>[...S,{role:"ai",text:y}])}h(!1)};return i?A.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[1px] z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl h-[600px] flex flex-col border border-gray-200 overflow-hidden",children:[A.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gradient-to-r from-white to-purple-50/30",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("div",{className:"bg-clickup-purple/10 p-1.5 rounded-lg",children:A.jsx(yR,{className:"text-clickup-purple",size:20})}),A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-gray-800",children:"ClickUp Brain"}),A.jsx("p",{className:"text-xs text-gray-500",children:"Powered by Gemini 2.5 Flash"})]})]}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-full transition-colors",children:A.jsx(xy,{size:20})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-[#fdfdfd]",children:[o.map((b,y)=>A.jsx("div",{className:`flex ${b.role==="user"?"justify-end":"justify-start"}`,children:A.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 text-sm leading-relaxed shadow-sm ${b.role==="user"?"bg-clickup-purple text-white rounded-br-none":"bg-white border border-gray-200 text-gray-700 rounded-bl-none"}`,children:b.text})},y)),u&&A.jsx("div",{className:"flex justify-start",children:A.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl rounded-bl-none px-4 py-3 flex items-center space-x-2 shadow-sm",children:[A.jsx(j1,{size:16,className:"animate-spin text-clickup-purple"}),A.jsx("span",{className:"text-xs text-gray-500",children:"Brain is thinking..."})]})}),A.jsx("div",{ref:p})]}),o.length===1&&A.jsxs("div",{className:"px-4 pb-2 flex gap-2 overflow-x-auto",children:[A.jsxs("button",{onClick:()=>v(),className:"flex items-center space-x-1.5 px-3 py-2 bg-purple-50 hover:bg-purple-100 text-purple-700 rounded-lg text-xs font-medium transition-colors border border-purple-200/50",children:[A.jsx(Qo,{size:14}),A.jsx("span",{children:"Summarize Tasks"})]}),A.jsx("button",{onClick:()=>{s("What tasks are high priority?"),x()},className:"flex items-center space-x-1.5 px-3 py-2 bg-gray-50 hover:bg-gray-100 text-gray-600 rounded-lg text-xs font-medium transition-colors border border-gray-200/50",children:A.jsx("span",{children:"High Priority Items?"})})]}),A.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[A.jsxs("div",{className:"relative flex items-center",children:[A.jsx("input",{type:"text",value:n,onChange:b=>s(b.target.value),onKeyDown:b=>b.key==="Enter"&&x(),placeholder:"Ask AI anything about your tasks...",className:"w-full pl-4 pr-12 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-clickup-purple transition-all text-sm"}),A.jsx("button",{onClick:x,disabled:!n.trim()||u,className:"absolute right-2 p-1.5 bg-clickup-purple text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:A.jsx(B3,{size:16})})]}),A.jsx("div",{className:"mt-2 text-center",children:A.jsx("p",{className:"text-[10px] text-gray-400",children:"AI can make mistakes. Please review generated responses."})})]})]})}):null},d7=[{id:"standup",title:"AI StandUp",desc:"AI generated standup.",icon:Qo,color:"bg-gradient-to-br from-indigo-500 to-purple-600",isNew:!0},{id:"recents",title:"Recents",desc:"A list of all the ClickUp objects and locations you've recently viewed.",icon:I3,color:"bg-sky-500"},{id:"agenda",title:"Agenda",desc:"Visualize tasks and events on your different calendars in one place.",icon:Ih,color:"bg-pink-500"},{id:"mywork",title:"My Work",desc:"A list for all of your assigned tasks and reminders.",icon:Qm,color:"bg-blue-500"},{id:"assigned",title:"Assigned to me",desc:"Consolidate your tasks across different lists that you have as an assignee.",icon:Qm,color:"bg-blue-400"},{id:"personal",title:"Personal List",desc:"Keep track of your personal tasks in a list that is only visible to you.",icon:R3,color:"bg-purple-500"},{id:"comments",title:"Assigned Comments",desc:"Resolve and view any comment that has been assigned to you.",icon:z3,color:"bg-teal-500"},{id:"lineup",title:"Priorities (LineUp)",desc:"Prioritize your most important tasks into one concise list.",icon:L3,color:"bg-indigo-500"},{id:"reminders",title:"Reminders",desc:"Organize and keep on top of all your reminders.",icon:F1,color:"bg-orange-500"}],f7=({isOpen:i,onClose:e,onAddCard:t,onRemoveCard:n,addedCardTypes:s})=>{const{showToast:o}=uo();return i?A.jsxs("div",{className:"absolute top-0 right-0 bottom-0 w-96 bg-white border-l border-gray-200 shadow-2xl z-40 flex flex-col animate-in slide-in-from-right duration-300",children:[A.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-100",children:[A.jsx("h2",{className:"text-base font-bold text-gray-800",children:"Add Cards"}),A.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:A.jsx(xy,{size:18})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-4 bg-gray-50/50 custom-scrollbar",children:d7.map(c=>{const u=s.includes(c.id);return A.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all group",children:[A.jsxs("div",{className:"flex justify-between items-start mb-3",children:[A.jsx("div",{className:`w-10 h-10 rounded-lg ${c.color} flex items-center justify-center text-white shadow-md`,children:A.jsx(c.icon,{size:20})}),A.jsx("button",{className:`flex items-center space-x-1.5 border text-[10px] font-bold px-3 py-1.5 rounded-md transition-all active:scale-95 ${u?"bg-green-50 border-green-200 text-green-600 hover:bg-red-50 hover:border-red-200 hover:text-red-600":"bg-white hover:bg-gray-50 border-gray-200 text-gray-600 hover:text-brand-primary hover:border-brand-primary"}`,onClick:()=>{u?(n(c.id),o(`Removed ${c.title} from Home`,"info")):(t({id:c.id,title:c.title,color:c.color}),o(`Added ${c.title} to Home`,"success"))},children:u?A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"group-hover:hidden flex items-center space-x-1",children:A.jsx("span",{children:"ADDED"})}),A.jsx("span",{className:"hidden group-hover:flex items-center space-x-1",children:A.jsx("span",{children:"REMOVE"})})]}):A.jsxs(A.Fragment,{children:[A.jsx(ra,{size:12}),A.jsx("span",{children:"ADD"})]})})]}),A.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[A.jsx("h3",{className:"text-sm font-bold text-gray-800 group-hover:text-brand-primary transition-colors",children:c.title}),c.isNew&&A.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white text-[9px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide shadow-sm",children:"New"})]}),A.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:c.desc})]},c.id)})})]}):null},h7=[{id:"1",name:"TechSolutions Inc.",category:"Electronics",rating:4.8,reviews:1240,description:"Premium supplier of office electronics, monitors, and peripherals.",image:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"1-2 days",minOrder:"$500"},{id:"2",name:"GreenLeaf Office Supplies",category:"Office Supplies",rating:4.5,reviews:856,description:"Eco-friendly paper, pens, and general office consumables.",image:"https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"Same day",minOrder:"$100"},{id:"3",name:"BuildRight Construction",category:"Construction",rating:4.9,reviews:2100,description:"Heavy machinery rentals and construction material supply.",image:"https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"3-5 days",minOrder:"$5000"},{id:"4",name:"CleanMaster Services",category:"Services",rating:4.2,reviews:430,description:"Professional cleaning services for corporate offices.",image:"https://images.unsplash.com/photo-1581578731117-104f8a746956?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Scheduled",minOrder:"Contract"},{id:"5",name:"Global Logistics Co.",category:"Logistics",rating:4.6,reviews:920,description:"International shipping and freight forwarding solutions.",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"Varies",minOrder:"$1000"},{id:"6",name:"SecureGuard Systems",category:"Security",rating:4.7,reviews:650,description:"Security cameras, access control systems, and monitoring.",image:"https://images.unsplash.com/photo-1557597774-9d273605dfa9?auto=format&fit=crop&w=300&q=80",priceRange:"$$$",deliveryTime:"1 week",minOrder:"$2000"},{id:"7",name:"FreshFoods Catering",category:"Food & Beverage",rating:4.4,reviews:320,description:"Corporate catering and pantry stocking services.",image:"https://images.unsplash.com/photo-1555244162-803834f70033?auto=format&fit=crop&w=300&q=80",priceRange:"$$",deliveryTime:"Daily",minOrder:"$200"},{id:"8",name:"PrintPro Solutions",category:"Printing",rating:4.3,reviews:510,description:"High-volume printing, marketing materials, and signage.",image:"https://images.unsplash.com/photo-1562564055-71e051d33c19?auto=format&fit=crop&w=300&q=80",priceRange:"$",deliveryTime:"2-3 days",minOrder:"$50"}],p7=["All","Electronics","Office Supplies","Construction","Services","Logistics","Security","Food & Beverage","Printing"],m7=()=>{const{showToast:i}=uo(),[e,t]=ce.useState("All"),[n,s]=ce.useState(""),[o,c]=ce.useState(h7),u=o.filter(h=>{const p=e==="All"||h.category===e,x=h.name.toLowerCase().includes(n.toLowerCase())||h.description.toLowerCase().includes(n.toLowerCase());return p&&x});return A.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50 overflow-hidden font-sans text-gray-800",children:[A.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shrink-0 z-20 shadow-sm",children:[A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Local Marketplace"}),A.jsx("div",{className:"h-6 w-[1px] bg-gray-200 hidden md:block"}),A.jsxs("div",{className:"hidden md:flex items-center text-gray-500 text-sm hover:text-gray-900 cursor-pointer transition-colors bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-100 hover:border-gray-300",children:[A.jsx(V1,{size:16,className:"mr-2 text-clickup-purple"}),A.jsx("span",{className:"font-medium",children:"Riyadh, SA"}),A.jsx(Kc,{size:14,className:"ml-2 opacity-50"})]})]}),A.jsx("div",{className:"flex items-center space-x-4 flex-1 max-w-xl mx-4 md:mx-8",children:A.jsxs("div",{className:"relative flex-1 group",children:[A.jsx(gy,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-clickup-purple transition-colors"}),A.jsx("input",{type:"text",placeholder:"Search for suppliers, services, or products...",className:"w-full bg-gray-100 border border-transparent focus:bg-white focus:border-clickup-purple/50 focus:ring-4 focus:ring-clickup-purple/10 rounded-xl pl-10 pr-4 py-2.5 text-sm transition-all outline-none placeholder:text-gray-400",value:n,onChange:h=>s(h.target.value)})]})}),A.jsx("div",{className:"flex items-center space-x-3",children:A.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-200 hover:bg-gray-50 hover:border-gray-300 rounded-lg text-sm font-medium text-gray-700 transition-all active:scale-95",children:[A.jsx(O3,{size:16}),A.jsx("span",{className:"hidden md:inline",children:"Filters"})]})})]}),A.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[A.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-6 overflow-y-auto hidden lg:block shrink-0",children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Categories"}),A.jsx("ul",{className:"space-y-1",children:p7.map(h=>A.jsxs("li",{className:`flex items-center justify-between px-3 py-2 rounded-lg cursor-pointer text-sm transition-all ${e===h?"bg-purple-50 text-clickup-purple font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>t(h),children:[A.jsx("span",{children:h}),e===h&&A.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-clickup-purple"})]},h))})]}),A.jsxs("div",{className:"mb-8",children:[A.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Rating"}),A.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(h=>A.jsxs("div",{className:"flex items-center group cursor-pointer px-2 py-1 rounded hover:bg-gray-50",children:[A.jsx("div",{className:"flex text-yellow-400 mr-2",children:[...Array(5)].map((p,x)=>A.jsx(X2,{size:14,fill:x<h?"currentColor":"none",className:x<h?"":"text-gray-200"},x))}),A.jsx("span",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"& Up"})]},h))})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"Price Range"}),A.jsx("div",{className:"flex gap-2",children:["$","$$","$$$"].map(h=>A.jsx("button",{className:"flex-1 px-3 py-1.5 border border-gray-200 rounded-md text-sm text-gray-600 hover:border-clickup-purple hover:text-clickup-purple transition-colors",children:h},h))})]})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 bg-gray-50/50",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:[e==="All"?"All Suppliers":e,A.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-400",children:["(",u.length," results)"]})]}),A.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[A.jsx("span",{children:"Sort by:"}),A.jsxs("button",{className:"font-medium text-gray-800 flex items-center hover:text-clickup-purple",children:["Recommended ",A.jsx(Kc,{size:14,className:"ml-1"})]})]})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:u.map(h=>A.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg hover:border-purple-100 transition-all duration-300 group flex flex-col",children:[A.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[A.jsx("img",{src:h.image,alt:h.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),A.jsx("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-2.5 py-1 text-[10px] font-bold rounded-full text-gray-700 shadow-sm border border-white/50",children:h.deliveryTime}),A.jsx("div",{className:"absolute top-3 left-3 bg-black/50 backdrop-blur-md px-2.5 py-1 text-[10px] font-bold rounded-full text-white shadow-sm",children:h.category})]}),A.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsx("h3",{className:"text-base font-bold text-gray-900 group-hover:text-clickup-purple transition-colors line-clamp-1",children:h.name}),A.jsxs("div",{className:"flex items-center bg-yellow-50 px-1.5 py-0.5 rounded text-yellow-700 border border-yellow-100",children:[A.jsx(X2,{size:10,fill:"currentColor",className:"mr-1"}),A.jsx("span",{className:"text-xs font-bold",children:h.rating})]})]}),A.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2 flex-1 leading-relaxed",children:h.description}),A.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-4 pt-4 border-t border-gray-50",children:[A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Min Order"}),A.jsx("span",{className:"font-medium text-gray-700",children:h.minOrder})]}),A.jsxs("div",{className:"flex flex-col items-end",children:[A.jsx("span",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Reviews"}),A.jsx("span",{className:"font-medium text-gray-700",children:h.reviews})]})]}),A.jsxs("button",{className:"w-full bg-gray-900 hover:bg-clickup-purple text-white py-2.5 rounded-xl text-sm font-medium shadow-sm hover:shadow-md active:scale-[0.98] transition-all flex items-center justify-center group-hover:bg-clickup-purple",onClick:()=>i(`Request sent to ${h.name}`,"success"),children:[A.jsx("span",{children:"Connect Supplier"}),A.jsx(mR,{size:14,className:"ml-2 opacity-70"})]})]})]},h.id))})]})]})]})},g7=({onLoginClick:i})=>A.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white font-sans selection:bg-brand-primary selection:text-white overflow-x-hidden",children:[A.jsxs("nav",{className:"flex items-center justify-between px-6 py-6 max-w-7xl mx-auto relative z-20",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("div",{className:"w-8 h-8 bg-gradient-to-tr from-brand-primary to-indigo-500 rounded-lg flex items-center justify-center shadow-lg shadow-brand-primary/20",children:A.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M2 17L12 22L22 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M2 12L12 17L22 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),A.jsx("span",{className:"text-xl font-bold tracking-tight",children:"ClickUp Clone"})]}),A.jsxs("div",{className:"flex items-center space-x-6",children:[A.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Product"}),A.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Solutions"}),A.jsx("a",{href:"#",className:"text-sm text-gray-400 hover:text-white transition-colors hidden md:block",children:"Pricing"}),A.jsx("button",{onClick:i,className:"bg-white text-black px-5 py-2 rounded-full text-sm font-bold hover:bg-gray-200 transition-colors",children:"Log in"}),A.jsx("button",{className:"bg-gradient-to-r from-brand-primary to-purple-600 px-5 py-2 rounded-full text-sm font-bold hover:opacity-90 transition-opacity shadow-glow",children:"Sign Up"})]})]}),A.jsxs("div",{className:"relative pt-20 pb-32 px-6",children:[A.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[600px] bg-brand-primary/20 blur-[120px] rounded-full pointer-events-none z-0"}),A.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[A.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/5 border border-white/10 rounded-full px-3 py-1 mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[A.jsx(Qo,{size:14,className:"text-brand-accent"}),A.jsx("span",{className:"text-xs font-medium text-brand-accent tracking-wide uppercase",children:"ClickUp Brain 3.0 is here"})]}),A.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight mb-6 leading-tight animate-in fade-in slide-in-from-bottom-6 duration-1000 delay-100",children:["One app to ",A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand-primary via-purple-400 to-brand-accent",children:"replace them all."})]}),A.jsx("p",{className:"text-lg md:text-xl text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-200",children:"All your work in one place: Tasks, Docs, Chat, Goals, & more. Boost productivity with the power of Gemini AI integrated directly into your workflow."}),A.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4 animate-in fade-in slide-in-from-bottom-10 duration-1000 delay-300",children:[A.jsxs("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-gradient-to-r from-brand-primary to-indigo-600 text-white font-bold text-lg hover:shadow-glow transition-all hover:-translate-y-1 flex items-center justify-center",children:["Get Started",A.jsx(hR,{size:18,className:"ml-2"})]}),A.jsx("button",{className:"w-full sm:w-auto h-12 px-8 rounded-xl bg-white/5 border border-white/10 text-white font-bold text-lg hover:bg-white/10 transition-all",children:"See Demo"})]})]}),A.jsxs("div",{className:"mt-20 max-w-6xl mx-auto relative z-10 animate-in fade-in zoom-in duration-1000 delay-500",children:[A.jsxs("div",{className:"rounded-xl border border-white/10 bg-[#1a1b21]/80 backdrop-blur-xl shadow-2xl overflow-hidden",children:[A.jsxs("div",{className:"h-10 border-b border-white/5 flex items-center space-x-2 px-4",children:[A.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/20"}),A.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/20"}),A.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/20"})]}),A.jsxs("div",{className:"aspect-[16/9] relative bg-[#0a0a0a] flex items-center justify-center group",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#1a1b21] to-[#0a0a0a] opacity-50"}),A.jsxs("div",{className:"text-center z-10",children:[A.jsx(fv,{size:64,className:"mx-auto text-brand-primary mb-4 opacity-50"}),A.jsx("p",{className:"text-gray-500 font-medium",children:"Interactive Dashboard Experience"})]}),A.jsx("div",{className:"absolute bottom-0 w-full h-1/2 bg-gradient-to-t from-[#0a0a0a] to-transparent"})]})]}),A.jsx("div",{className:"absolute -right-12 top-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-bounce duration-[3000ms]",children:A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"p-2 bg-green-500/20 rounded text-green-400",children:A.jsx(k1,{size:20})}),A.jsxs("div",{children:[A.jsx("div",{className:"text-sm font-bold text-white",children:"Task Complete"}),A.jsx("div",{className:"text-xs text-gray-400",children:"Launch Website"})]})]})}),A.jsx("div",{className:"absolute -left-8 bottom-20 bg-[#24272e] p-4 rounded-lg border border-gray-700 shadow-2xl animate-pulse duration-[4000ms]",children:A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:"p-2 bg-purple-500/20 rounded text-purple-400",children:A.jsx(Qo,{size:20})}),A.jsxs("div",{children:[A.jsx("div",{className:"text-sm font-bold text-white",children:"AI Summary"}),A.jsx("div",{className:"text-xs text-gray-400",children:"Generated 3 subtasks"})]})]})})]})]}),A.jsx("div",{className:"py-24 bg-[#0f1014] border-t border-white/5",children:A.jsx("div",{className:"max-w-7xl mx-auto px-6",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[A.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:A.jsx(fv,{className:"text-blue-400",size:24})}),A.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Everything View"}),A.jsx("p",{className:"text-gray-400 leading-relaxed",children:"See the big picture. View tasks across all your projects in a single customizable list."})]}),A.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[A.jsx("div",{className:"w-12 h-12 rounded-lg bg-brand-primary/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:A.jsx(av,{className:"text-brand-primary",size:24})}),A.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Automation & AI"}),A.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Save time with custom automations and ClickUp Brain's generative capabilities."})]}),A.jsxs("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 transition-colors group",children:[A.jsx("div",{className:"w-12 h-12 rounded-lg bg-emerald-500/20 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:A.jsx(KD,{className:"text-emerald-400",size:24})}),A.jsx("h3",{className:"text-xl font-bold mb-3 text-white",children:"Enterprise Security"}),A.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Bank-grade security with 2FA, SSO, and strict permission controls for your team."})]})]})})}),A.jsx("footer",{className:"py-12 border-t border-white/10 text-center text-gray-500 text-sm",children:A.jsx("p",{children:" 2024 ClickUp Clone by Gemini. All rights reserved."})})]}),x7=[{email:"max@nabdchain.com",password:"1",user:{id:"u1",name:"Max Nabd",avatar:"MN",color:"#7B61FF"}},{email:"hasan@nabdchain.com",password:"1",user:{id:"u2",name:"Hasan Nabd",avatar:"HN",color:"#00E1D4"}}],P1={login:async(i,e)=>{await new Promise(n=>setTimeout(n,800));const t=x7.find(n=>n.email.toLowerCase()===i.toLowerCase()&&n.password===e);return t?(localStorage.setItem("clickup_user",JSON.stringify(t.user)),t.user):null},logout:()=>{localStorage.removeItem("clickup_user")},getCurrentUser:()=>{const i=localStorage.getItem("clickup_user");return i?JSON.parse(i):null}},v7=({onLoginSuccess:i,onBack:e})=>{const[t,n]=ce.useState(""),[s,o]=ce.useState(""),[c,u]=ce.useState(!1),[h,p]=ce.useState(""),x=async v=>{v.preventDefault(),p(""),u(!0);try{const b=await P1.login(t,s);b?i(b):p("Invalid email or password. Try max@nabdchain.com / 1")}catch{p("Something went wrong. Please try again.")}finally{u(!1)}};return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#f7f8f9] px-4 relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-brand-primary skew-y-3 origin-top-left transform -translate-y-20 z-0"}),A.jsxs("button",{onClick:e,className:"absolute top-6 left-6 flex items-center text-white z-10 hover:opacity-80 transition-opacity font-medium",children:[A.jsx(dR,{size:18,className:"mr-2"}),"Back to Home"]}),A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md z-10 animate-in fade-in zoom-in duration-300",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"w-12 h-12 bg-brand-primary rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-brand-primary/30",children:A.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:A.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome back!"}),A.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Enter your credentials to access your workspace."})]}),A.jsxs("form",{onSubmit:x,className:"space-y-5",children:[h&&A.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-600 p-3 rounded-lg text-sm flex items-start",children:[A.jsx(N3,{size:16,className:"mr-2 mt-0.5 shrink-0"}),h]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Email"}),A.jsx("input",{type:"email",value:t,onChange:v=>n(v.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"name@work-email.com",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-gray-700 uppercase tracking-wide mb-1.5",children:"Password"}),A.jsx("input",{type:"password",value:s,onChange:v=>o(v.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-all text-gray-800",placeholder:"Enter your password",required:!0})]}),A.jsx("button",{type:"submit",disabled:c,className:"w-full bg-brand-primary hover:bg-brand-secondary text-white font-bold py-3.5 rounded-xl shadow-lg shadow-brand-primary/30 hover:shadow-xl hover:-translate-y-0.5 transition-all active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center",children:c?A.jsx(j1,{className:"animate-spin"}):"Login"})]}),A.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:A.jsxs("p",{children:["Use ",A.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"max@nabdchain.com"})," and password ",A.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded text-gray-600",children:"1"})]})})]}),A.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 z-10",children:" 2024 ClickUp Clone. Secure Login."})]})},y7=({icon:i,title:e,description:t})=>A.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col animate-in fade-in duration-500 bg-gray-50/50",children:[A.jsx("div",{className:"mb-6 bg-white p-8 rounded-full shadow-sm border border-gray-100 text-clickup-purple",children:si.isValidElement(i)?si.cloneElement(i,{size:64}):i}),A.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),A.jsx("p",{className:"text-gray-500 max-w-md text-center",children:t})]}),b7=()=>{const[i,e]=ce.useState(null),[t,n]=ce.useState("landing"),[s,o]=ce.useState("list"),[c,u]=ce.useState("home"),[h,p]=ce.useState([]),[x,v]=ce.useState(!0),[b,y]=ce.useState(!1),[S,E]=ce.useState(!1),[M,_]=ce.useState([]),{showToast:C}=uo();ce.useEffect(()=>{const W=P1.getCurrentUser();W&&(e(W),n("app"))},[]),ce.useEffect(()=>{t==="app"&&R()},[t]);const R=async()=>{try{v(!0);const te=(await wr.getTasks()).sort((oe,Se)=>(oe.order||0)-(Se.order||0));p(te)}catch{C("Failed to load tasks from backend","error")}finally{v(!1)}},O=W=>{e(W),n("app"),C(`Welcome back, ${W.name}!`,"success")},U=()=>{P1.logout(),e(null),n("landing"),C("Logged out successfully","info")},I=async(W,te)=>{const oe=[...h];p(Se=>Se.map(G=>G.id===W?{...G,status:te}:G));try{await wr.updateTask(W,{status:te})}catch{p(oe),C("Failed to update task status","error")}},F=async(W,te)=>{const oe=[...h];p(Se=>Se.map(G=>G.id===W?{...G,...te}:G));try{await wr.updateTask(W,te),C("Task updated","success")}catch{p(oe),C("Failed to update task","error")}},j=W=>{p(W)},B=async()=>{const W=prompt("Enter task title:");if(W){C("Creating task...","info");try{const te=await wr.createTask({title:W,status:S0.Todo,priority:"None",assignees:[],tags:c==="backend"?["Backend"]:[],description:"",order:h.length,spaceId:"default"});p(oe=>[...oe,te]),C("Task created successfully","success")}catch{C("Failed to create task","error")}}},k=W=>{let te=400,oe=320;W.id==="agenda"?oe=500:W.id==="lineup"&&(oe=400);const Se=3,G=30,$=32,se=20,xe=M.length%Se,ge=M.filter((ut,St)=>St%Se===xe),_e=ge[ge.length-1],Le=$+xe*(te+G),Ye=_e?_e.y+_e.h+G:se,qe={instanceId:Date.now().toString(),typeId:W.id,title:W.title,color:W.color,x:Le,y:Ye,w:te,h:oe,zIndex:M.length+1};_(ut=>[...ut,qe])},J=W=>{_(te=>te.map(oe=>oe.instanceId===W.instanceId?W:oe))},Y=W=>{_(te=>te.filter(oe=>oe.instanceId!==W))},Z=W=>{_(te=>te.filter(oe=>oe.typeId!==W))},L=ce.useMemo(()=>{switch(c){case"inbox":case"home":return[];case"backend":return h.filter(W=>W.tags.includes("Backend")||W.tags.includes("API")||W.tags.includes("Auth"));case"sprints":return h.filter(W=>W.tags.includes("Feature")||W.tags.includes("Bug"));case"frontend":default:return h}},[h,c]),re=()=>({home:"Home",inbox:"Inbox",sprints:"Engineering / Sprints",frontend:"Engineering / Frontend App",backend:"Engineering / Backend API",overview:"Dashboards / Overview",goals:"Dashboards / Goals",space:"Space",ocean:"Deep Ocean","supply-chain/procurement":"Supply Chain / Procurement","supply-chain/warehouse":"Supply Chain / Warehouse","supply-chain/shipping":"Supply Chain / Shipping","supply-chain/planning":"Supply Chain / Planning","supply-chain/fleet":"Supply Chain / Fleet","supply-chain/vendors":"Supply Chain / Vendors",operations:"Departments / Operations",business:"Departments / Business",support:"Departments / Business Support"})[c]||"Space",q=["space","ocean"].includes(c);return t==="landing"?A.jsx(g7,{onLoginClick:()=>n("login")}):t==="login"?A.jsx(v7,{onLoginSuccess:O,onBack:()=>n("landing")}):A.jsxs("div",{className:"flex flex-col h-screen w-screen bg-white overflow-hidden text-clickup-text font-sans antialiased selection:bg-purple-100 selection:text-purple-900",children:[A.jsx(QO,{onOpenBrain:()=>y(!0),user:i,isImmersive:q}),A.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[A.jsx(KO,{activePage:c,onNavigate:u,onLogout:U,isImmersive:q}),A.jsxs("div",{className:"flex flex-col flex-1 min-w-0 bg-white relative",children:[!q&&c!=="inbox"&&c!=="mind-map"&&A.jsx(JO,{currentView:s,setCurrentView:o,pageTitle:re(),activePage:c,onToggleAddCards:()=>E(W=>!W)}),A.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative",children:[c==="inbox"&&A.jsx(HU,{}),c==="marketplace/local"&&A.jsx(m7,{}),c==="home"&&A.jsx(WU,{cards:M,onUpdateCard:J,onRemoveCard:Y,onOpenCustomize:()=>E(!0)}),["overview"].includes(c)&&A.jsx(y7,{icon:A.jsx(fv,{}),title:"Overview Dashboard",description:"Track high-level metrics and project health here. This module is currently being built."}),c==="goals"&&A.jsx(cL,{}),c==="mind-map"&&A.jsx(dL,{}),c==="space"&&A.jsx(s7,{}),c==="ocean"&&A.jsx(o7,{}),!["overview","goals","inbox","home","mind-map","space","ocean"].includes(c)&&A.jsxs(A.Fragment,{children:[s==="list"&&A.jsx(BU,{tasks:L,isLoading:x,onStatusChange:I,onAddTask:B,onReorder:j,onUpdateTask:F}),s==="board"&&A.jsx(PU,{tasks:L,isLoading:x,onAddTask:B}),s==="calendar"&&A.jsx(oL,{tasks:L,isLoading:x,onAddTask:B})]}),S&&A.jsx(f7,{isOpen:S,onClose:()=>E(!1),onAddCard:k,onRemoveCard:Z,addedCardTypes:M.map(W=>W.typeId)})]})]})]}),A.jsx(u7,{isOpen:b,onClose:()=>y(!1),tasks:h})]})},_7=()=>A.jsx(IO,{children:A.jsx(b7,{})}),eN=document.getElementById("root");if(!eN)throw new Error("Could not find root element to mount to");const S7=eR.createRoot(eN);S7.render(A.jsx(si.StrictMode,{children:A.jsx(_7,{})}));
